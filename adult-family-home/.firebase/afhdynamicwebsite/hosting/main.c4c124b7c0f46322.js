"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(rn,Ze,j)=>{j.d(Ze,{$:()=>Va,A:()=>ae,G:()=>je,K:()=>Ri,L:()=>Ms,N:()=>we,P:()=>_o,R:()=>xu,U:()=>sn,V:()=>Ji,W:()=>li,X:()=>Nr,Y:()=>Ys,Z:()=>Xr,_:()=>Uo,a:()=>Ac,a0:()=>Co,a1:()=>ps,a2:()=>no,a3:()=>ho,a4:()=>$i,a5:()=>Ta,a6:()=>il,a7:()=>Tc,a8:()=>Xo,a9:()=>ja,aA:()=>Ce,aB:()=>et,aC:()=>De,aD:()=>Zf,aE:()=>st,aF:()=>ln,aG:()=>Gh,aH:()=>Fc,aI:()=>$h,aJ:()=>Tr,aN:()=>Pr,aQ:()=>Xs,aa:()=>Fh,ab:()=>jl,ac:()=>nc,ad:()=>sl,ae:()=>wa,af:()=>Bl,ag:()=>ne,ah:()=>Y,ak:()=>jn,al:()=>gi,am:()=>ni,ap:()=>Yo,aq:()=>Ui,as:()=>Aa,at:()=>Zo,au:()=>mn,av:()=>vi,aw:()=>yi,ax:()=>be,ay:()=>fc,az:()=>na,b:()=>zl,c:()=>Ou,d:()=>kc,e:()=>Td,f:()=>uc,g:()=>Vc,h:()=>Lc,i:()=>O,j:()=>Jf,k:()=>qh,l:()=>ea,m:()=>Jl,p:()=>Le,r:()=>bd,s:()=>pa,u:()=>Pu});var a=j(467),de=j(7852),i=j(1076),Ie=j(8041),ge=j(1635),Se=j(1362);const Le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const je=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},It=function ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},wt=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pt=new Ie.Vy("@firebase/auth");function Ge(I,...m){Pt.logLevel<=Ie.$b.ERROR&&Pt.error(`Auth (${de.SDK_VERSION}): ${I}`,...m)}function be(I,...m){throw Mt(I,...m)}function et(I,...m){return Mt(I,...m)}function Ye(I,m,v){const S=Object.assign(Object.assign({},It()),{[m]:v});return new i.FA("auth","Firebase",S).create(m,{appName:I.name})}function it(I){return Ye(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dt(I,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&be(I,"argument-error"),Ye(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mt(I,...m){if("string"!=typeof I){const v=m[0],S=[...m.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(v,...S)}return wt.create(I,...m)}function De(I,m,...v){if(!I)throw Mt(m,...v)}function en(I){const m="INTERNAL ASSERTION FAILED: "+I;throw Ge(m),new Error(m)}function mn(I,m){I||en(m)}function lr(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function xt(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Fe{constructor(m,v){this.shortDelay=m,this.longDelay=v,mn(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,i.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tt(I,m){mn(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Jt{static initialize(m,v,S){this.fetchImpl=m,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void en("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void en("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void en("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new Fe(3e4,6e4);function Ee(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function Ve(I,m,v,S){return rt.apply(this,arguments)}function rt(){return(rt=(0,a.A)(function*(I,m,v,S,X={}){return Qe(I,X,(0,a.A)(function*(){let he={},We={};S&&("GET"===m?We=S:he={body:JSON.stringify(S)});const Tt=(0,i.Am)(Object.assign({key:I.config.apiKey},We)).slice(1),Bt=yield I._getAdditionalHeaders();Bt["Content-Type"]="application/json",I.languageCode&&(Bt["X-Firebase-Locale"]=I.languageCode);const xn=Object.assign({method:m,headers:Bt},he);return(0,i.c1)()||(xn.referrerPolicy="no-referrer"),Jt.fetch()(tn(I,I.config.apiHost,v,Tt),xn)}))})).apply(this,arguments)}function Qe(I,m,v){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,a.A)(function*(I,m,v){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},Be),m);try{const X=new qt(I),he=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const We=yield he.json();if("needConfirmation"in We)throw Hn(I,"account-exists-with-different-credential",We);if(he.ok&&!("errorMessage"in We))return We;{const Tt=he.ok?We.errorMessage:We.error.message,[Bt,xn]=Tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Bt)throw Hn(I,"credential-already-in-use",We);if("EMAIL_EXISTS"===Bt)throw Hn(I,"email-already-in-use",We);if("USER_DISABLED"===Bt)throw Hn(I,"user-disabled",We);const Mn=S[Bt]||Bt.toLowerCase().replace(/[_\s]+/g,"-");if(xn)throw Ye(I,Mn,xn);be(I,Mn)}}catch(X){if(X instanceof i.g)throw X;be(I,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function wn(I,m,v,S){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.A)(function*(I,m,v,S,X={}){const he=yield Ve(I,m,v,S,X);return"mfaPendingCredential"in he&&be(I,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function tn(I,m,v,S){const X=`${m}${v}?${S}`;return I.config.emulator?tt(I.config,X):`${I.config.apiScheme}://${X}`}function Vn(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(et(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(I,m,v){const S={appName:I.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const X=et(I,m,S);return X.customData._tokenResponse=v,X}function Nn(I){return void 0!==I&&void 0!==I.getResponse}function $t(I){return void 0!==I&&void 0!==I.enterprise}class kt{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===m)return Vn(v.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function cn(){return(cn=(0,a.A)(function*(I){return(yield Ve(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mr(I,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,a.A)(function*(I,m){return Ve(I,"GET","/v2/recaptchaConfig",Ee(I,m))})).apply(this,arguments)}function Tn(){return(Tn=(0,a.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function an(){return(an=(0,a.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ur(I,m){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,a.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Zr(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function ys(){return(ys=(0,a.A)(function*(I,m=!1){const v=(0,i.Ku)(I),S=yield v.getIdToken(m),X=ei(S);De(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const he="object"==typeof X.firebase?X.firebase:void 0,We=he?.sign_in_provider;return{claims:X,token:S,authTime:Zr(fn(X.auth_time)),issuedAtTime:Zr(fn(X.iat)),expirationTime:Zr(fn(X.exp)),signInProvider:We||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function fn(I){return 1e3*Number(I)}function ei(I){const[m,v,S]=I.split(".");if(void 0===m||void 0===v||void 0===S)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,i.u)(v);return X?JSON.parse(X):(Ge("Failed to decode base64 JWT payload"),null)}catch(X){return Ge("Caught error parsing JWT payload as JSON",X?.toString()),null}}function tr(I){const m=ei(I);return De(m,"internal-error"),De(typeof m.exp<"u","internal-error"),De(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function Er(I,m){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.A)(function*(I,m,v=!1){if(v)return m;try{return yield m}catch(S){throw S instanceof i.g&&function Pi({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}class nt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(m);this.timerId=setTimeout((0,a.A)(function*(){yield v.iteration()}),S)}iteration(){var m=this;return(0,a.A)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&m.schedule(!0))}m.schedule()})()}}class gt{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ue(I){return Re.apply(this,arguments)}function Re(){return(Re=(0,a.A)(function*(I){var m;const v=I.auth,S=yield I.getIdToken(),X=yield Er(I,Ur(v,{idToken:S}));De(X?.users.length,v,"internal-error");const he=X.users[0];I._notifyReloadListener(he);const We=null!==(m=he.providerUserInfo)&&void 0!==m&&m.length?Fr(he.providerUserInfo):[],Tt=function $n(I,m){return[...I.filter(S=>!m.some(X=>X.providerId===S.providerId)),...m]}(I.providerData,We),Mn=!!I.isAnonymous&&!(I.email&&he.passwordHash||Tt?.length),$r={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:Tt,metadata:new gt(he.createdAt,he.lastLoginAt),isAnonymous:Mn};Object.assign(I,$r)})).apply(this,arguments)}function Gt(){return(Gt=(0,a.A)(function*(I){const m=(0,i.Ku)(I);yield ue(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Fr(I){return I.map(m=>{var{providerId:v}=m,S=(0,ge.Tt)(m,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function wi(){return(wi=(0,a.A)(function*(I,m){const v=yield Qe(I,{},(0,a.A)(function*(){const S=(0,i.Am)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:X,apiKey:he}=I.config,We=tn(I,X,"/v1/token",`key=${he}`),Tt=yield I._getAdditionalHeaders();return Tt["Content-Type"]="application/x-www-form-urlencoded",Jt.fetch()(We,{method:"POST",headers:Tt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $(){return($=(0,a.A)(function*(I,m){return Ve(I,"POST","/v2/accounts:revokeToken",Ee(I,m))})).apply(this,arguments)}class M{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){De(m.idToken,"internal-error"),De(typeof m.idToken<"u","internal-error"),De(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):tr(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}updateFromIdToken(m){De(0!==m.length,"internal-error");const v=tr(m);this.updateTokensAndExpiration(m,null,v)}getToken(m,v=!1){var S=this;return(0,a.A)(function*(){return v||!S.accessToken||S.isExpired?(De(S.refreshToken,m,"user-token-expired"),S.refreshToken?(yield S.refresh(m,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var S=this;return(0,a.A)(function*(){const{accessToken:X,refreshToken:he,expiresIn:We}=yield function br(I,m){return wi.apply(this,arguments)}(m,v);S.updateTokensAndExpiration(X,he,Number(We))})()}updateTokensAndExpiration(m,v,S){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(m,v){const{refreshToken:S,accessToken:X,expirationTime:he}=v,We=new M;return S&&(De("string"==typeof S,"internal-error",{appName:m}),We.refreshToken=S),X&&(De("string"==typeof X,"internal-error",{appName:m}),We.accessToken=X),he&&(De("number"==typeof he,"internal-error",{appName:m}),We.expirationTime=he),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new M,this.toJSON())}_performRefresh(){return en("not implemented")}}function k(I,m){De("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class re{constructor(m){var{uid:v,auth:S,stsTokenManager:X}=m,he=(0,ge.Tt)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new gt(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,a.A)(function*(){const S=yield Er(v,v.stsTokenManager.getToken(v.auth,m));return De(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(m){return function hi(I){return ys.apply(this,arguments)}(this,m)}reload(){return function vt(I){return Gt.apply(this,arguments)}(this)}_assign(m){this!==m&&(De(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new re(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var S=this;return(0,a.A)(function*(){let X=!1;m.idToken&&m.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(m),X=!0),v&&(yield ue(S)),yield S.auth._persistUserIfCurrent(S),X&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var m=this;return(0,a.A)(function*(){if((0,de._isFirebaseServerApp)(m.auth.app))return Promise.reject(it(m.auth));const v=yield m.getIdToken();return yield Er(m,function Ut(I,m){return Tn.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var S,X,he,We,Tt,Bt,xn,Mn;const $r=null!==(S=v.displayName)&&void 0!==S?S:void 0,Ko=null!==(X=v.email)&&void 0!==X?X:void 0,Pa=null!==(he=v.phoneNumber)&&void 0!==he?he:void 0,Zs=null!==(We=v.photoURL)&&void 0!==We?We:void 0,Bd=null!==(Tt=v.tenantId)&&void 0!==Tt?Tt:void 0,$d=null!==(Bt=v._redirectEventId)&&void 0!==Bt?Bt:void 0,Hd=null!==(xn=v.createdAt)&&void 0!==xn?xn:void 0,Mg=null!==(Mn=v.lastLoginAt)&&void 0!==Mn?Mn:void 0,{uid:Jh,emailVerified:ju,isAnonymous:Rg,providerData:Zl,stsTokenManager:Zh}=v;De(Jh&&Zh,m,"internal-error");const Bu=M.fromJSON(this.name,Zh);De("string"==typeof Jh,m,"internal-error"),k($r,m.name),k(Ko,m.name),De("boolean"==typeof ju,m,"internal-error"),De("boolean"==typeof Rg,m,"internal-error"),k(Pa,m.name),k(Zs,m.name),k(Bd,m.name),k($d,m.name),k(Hd,m.name),k(Mg,m.name);const Gd=new re({uid:Jh,auth:m,email:Ko,emailVerified:ju,displayName:$r,isAnonymous:Rg,photoURL:Zs,phoneNumber:Pa,tenantId:Bd,stsTokenManager:Bu,createdAt:Hd,lastLoginAt:Mg});return Zl&&Array.isArray(Zl)&&(Gd.providerData=Zl.map(zd=>Object.assign({},zd))),$d&&(Gd._redirectEventId=$d),Gd}static _fromIdTokenResponse(m,v,S=!1){return(0,a.A)(function*(){const X=new M;X.updateFromServerResponse(v);const he=new re({uid:v.localId,auth:m,stsTokenManager:X,isAnonymous:S});return yield ue(he),he})()}static _fromGetAccountInfoResponse(m,v,S){return(0,a.A)(function*(){const X=v.users[0];De(void 0!==X.localId,"internal-error");const he=void 0!==X.providerUserInfo?Fr(X.providerUserInfo):[],We=!(X.email&&X.passwordHash||he?.length),Tt=new M;Tt.updateFromIdToken(S);const Bt=new re({uid:X.localId,auth:m,stsTokenManager:Tt,isAnonymous:We}),xn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:he,metadata:new gt(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||he?.length)};return Object.assign(Bt,xn),Bt})()}}const _e=new Map;function st(I){mn(I instanceof Function,"Expected a class definition");let m=_e.get(I);return m?(mn(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,_e.set(I,m),m)}const sn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.A)(function*(){return!0})()}_set(v,S){var X=this;return(0,a.A)(function*(){X.storage[v]=S})()}_get(v){var S=this;return(0,a.A)(function*(){const X=S.storage[v];return void 0===X?null:X})()}_remove(v){var S=this;return(0,a.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return I.type="NONE",I})();function ln(I,m,v){return`firebase:${I}:${m}:${v}`}class An{constructor(m,v,S){this.persistence=m,this.auth=v,this.userKey=S;const{config:X,name:he}=this.auth;this.fullUserKey=ln(this.userKey,X.apiKey,he),this.fullPersistenceKey=ln("persistence",X.apiKey,he),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,a.A)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?re._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,a.A)(function*(){if(v.persistence===m)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,S="authUser"){return(0,a.A)(function*(){if(!v.length)return new An(st(sn),m,S);const X=(yield Promise.all(v.map(function(){var xn=(0,a.A)(function*(Mn){if(yield Mn._isAvailable())return Mn});return function(Mn){return xn.apply(this,arguments)}}()))).filter(xn=>xn);let he=X[0]||st(sn);const We=ln(S,m.config.apiKey,m.name);let Tt=null;for(const xn of v)try{const Mn=yield xn._get(We);if(Mn){const $r=re._fromJSON(m,Mn);xn!==he&&(Tt=$r),he=xn;break}}catch{}const Bt=X.filter(xn=>xn._shouldAllowMigration);return he._shouldAllowMigration&&Bt.length?(he=Bt[0],Tt&&(yield he._set(We,Tt.toJSON())),yield Promise.all(v.map(function(){var xn=(0,a.A)(function*(Mn){if(Mn!==he)try{yield Mn._remove(We)}catch{}});return function(Mn){return xn.apply(this,arguments)}}())),new An(he,m,S)):new An(he,m,S)})()}}function pr(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ts(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(on(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(ji(m))return"Blackberry";if(Mi(m))return"Webos";if(Lr(m))return"Safari";if((m.includes("chrome/")||ur(m))&&!m.includes("edge/"))return"Chrome";if(yi(m))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function on(I=(0,i.ZQ)()){return/firefox\//i.test(I)}function Lr(I=(0,i.ZQ)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function ur(I=(0,i.ZQ)()){return/crios\//i.test(I)}function Ts(I=(0,i.ZQ)()){return/iemobile/i.test(I)}function yi(I=(0,i.ZQ)()){return/android/i.test(I)}function ji(I=(0,i.ZQ)()){return/blackberry/i.test(I)}function Mi(I=(0,i.ZQ)()){return/webos/i.test(I)}function vi(I=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Ce(I=(0,i.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function fe(I=(0,i.ZQ)()){return vi(I)||yi(I)||Mi(I)||ji(I)||/windows phone/i.test(I)||Ts(I)}function He(I,m=[]){let v;switch(I){case"Browser":v=pr((0,i.ZQ)());break;case"Worker":v=`${pr((0,i.ZQ)())}-${I}`;break;default:v=I}const S=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${de.SDK_VERSION}/${S}`}class zt{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const S=he=>new Promise((We,Tt)=>{try{We(m(he))}catch(Bt){Tt(Bt)}});S.onAbort=v,this.queue.push(S);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,a.A)(function*(){if(v.auth.currentUser===m)return;const S=[];try{for(const X of v.queue)yield X(m),X.onAbort&&S.push(X.onAbort)}catch(X){S.reverse();for(const he of S)try{he()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function Rn(){return(Rn=(0,a.A)(function*(I,m={}){return Ve(I,"GET","/v2/passwordPolicy",Ee(I,m))})).apply(this,arguments)}class jr{constructor(m){var v,S,X,he;const We=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=We.minPasswordLength)&&void 0!==v?v:6,We.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=We.maxPasswordLength),void 0!==We.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=We.containsLowercaseCharacter),void 0!==We.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=We.containsUppercaseCharacter),void 0!==We.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=We.containsNumericCharacter),void 0!==We.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=We.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(S=m.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(he=m.forceUpgradeOnSignin)&&void 0!==he&&he,this.schemaVersion=m.schemaVersion}validatePassword(m){var v,S,X,he,We,Tt;const Bt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,Bt),this.validatePasswordCharacterOptions(m,Bt),Bt.isValid&&(Bt.isValid=null===(v=Bt.meetsMinPasswordLength)||void 0===v||v),Bt.isValid&&(Bt.isValid=null===(S=Bt.meetsMaxPasswordLength)||void 0===S||S),Bt.isValid&&(Bt.isValid=null===(X=Bt.containsLowercaseLetter)||void 0===X||X),Bt.isValid&&(Bt.isValid=null===(he=Bt.containsUppercaseLetter)||void 0===he||he),Bt.isValid&&(Bt.isValid=null===(We=Bt.containsNumericCharacter)||void 0===We||We),Bt.isValid&&(Bt.isValid=null===(Tt=Bt.containsNonAlphanumericCharacter)||void 0===Tt||Tt),Bt}validatePasswordLengthOptions(m,v){const S=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=m.length>=S),X&&(v.meetsMaxPasswordLength=m.length<=X)}validatePasswordCharacterOptions(m,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<m.length;X++)S=m.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(m,v,S,X,he){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=he))}}class Kr{constructor(m,v,S,X){this.app=m,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qi(this),this.idTokenSubscription=new Qi(this),this.beforeStateQueue=new zt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(m,v){var S=this;return v&&(this._popupRedirectResolver=st(v)),this._initializationPromise=this.queue((0,a.A)(function*(){var X,he;if(!S._deleted&&(S.persistenceManager=yield An.create(S,m),!S._deleted)){if(null!==(X=S._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(he=S.currentUser)||void 0===he?void 0:he.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,a.A)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(m){var v=this;return(0,a.A)(function*(){try{const S=yield Ur(v,{idToken:m}),X=yield re._fromGetAccountInfoResponse(v,S,m);yield v.directlySetCurrentUser(X)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var v=this;return(0,a.A)(function*(){var S;if((0,de._isFirebaseServerApp)(v.app)){const Tt=v.app.settings.authIdToken;return Tt?new Promise(Bt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Tt).then(Bt,Bt))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let he=X,We=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Tt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,Bt=he?._redirectEventId,xn=yield v.tryRedirectSignIn(m);(!Tt||Tt===Bt)&&xn?.user&&(he=xn.user,We=!0)}if(!he)return v.directlySetCurrentUser(null);if(!he._redirectEventId){if(We)try{yield v.beforeStateQueue.runMiddleware(he)}catch(Tt){he=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Tt))}return he?v.reloadAndSetCurrentUserOrClear(he):v.directlySetCurrentUser(null)}return De(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===he._redirectEventId?v.directlySetCurrentUser(he):v.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(m){var v=this;return(0,a.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,a.A)(function*(){try{yield ue(m)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ut(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,a.A)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,a.A)(function*(){if((0,de._isFirebaseServerApp)(v.app))return Promise.reject(it(v));const S=m?(0,i.Ku)(m):null;return S&&De(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(m,v=!1){var S=this;return(0,a.A)(function*(){if(!S._deleted)return m&&De(S.tenantId===m.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(m)),S.queue((0,a.A)(function*(){yield S.directlySetCurrentUser(m),S.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,a.A)(function*(){return(0,de._isFirebaseServerApp)(m.app)?Promise.reject(it(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var v=this;return(0,de._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,a.A)(function*(){yield v.assertedPersistence.setPersistence(st(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var v=this;return(0,a.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,a.A)(function*(){const v=yield function Cn(I){return Rn.apply(this,arguments)}(m),S=new jr(v);null===m.tenantId?m._projectPasswordPolicy=S:m._tenantPasswordPolicies[m.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new i.FA("auth","Firebase",m())}onAuthStateChanged(m,v,S){return this.registerStateListener(this.authStateSubscription,m,v,S)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,S){return this.registerStateListener(this.idTokenSubscription,m,v,S)}authStateReady(){return new Promise((m,v)=>{if(this.currentUser)m();else{const S=this.onAuthStateChanged(()=>{S(),m()},v)}})}revokeAccessToken(m){var v=this;return(0,a.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:S};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function Et(I,m){return $.apply(this,arguments)}(v,X)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var S=this;return(0,a.A)(function*(){const X=yield S.getOrInitRedirectPersistenceManager(v);return null===m?X.removeCurrentUser():X.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,a.A)(function*(){if(!v.redirectPersistenceManager){const S=m&&st(m)||v._popupRedirectResolver;De(S,v,"argument-error"),v.redirectPersistenceManager=yield An.create(v,[st(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,a.A)(function*(){var S,X;return v._isInitialized&&(yield v.queue((0,a.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===m?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,a.A)(function*(){if(m===v.currentUser)return v.queue((0,a.A)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,S,X){if(this._deleted)return()=>{};const he="function"==typeof v?v:v.next.bind(v);let We=!1;const Tt=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(Tt,this,"internal-error"),Tt.then(()=>{We||he(this.currentUser)}),"function"==typeof v){const Bt=m.addObserver(v,S,X);return()=>{We=!0,Bt()}}{const Bt=m.addObserver(v);return()=>{We=!0,Bt()}}}directlySetCurrentUser(m){var v=this;return(0,a.A)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=He(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,a.A)(function*(){var v;const S={"X-Client-Version":m.clientVersion};m.app.options.appId&&(S["X-Firebase-gmpid"]=m.app.options.appId);const X=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(S["X-Firebase-Client"]=X);const he=yield m._getAppCheckToken();return he&&(S["X-Firebase-AppCheck"]=he),S})()}_getAppCheckToken(){var m=this;return(0,a.A)(function*(){var v;const S=yield null===(v=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function hn(I,...m){Pt.logLevel<=Ie.$b.WARN&&Pt.warn(`Auth (${de.SDK_VERSION}): ${I}`,...m)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function Tr(I){return(0,i.Ku)(I)}class Qi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,i.tD)(v=>this.observer=v)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ps={loadJS:()=>(0,a.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fo(I){return Ps.loadJS(I)}function si(I){return`__${I}${Math.floor(1e6*Math.random())}`}class qr{constructor(m){this.type="recaptcha-enterprise",this.auth=Tr(m)}verify(m="verify",v=!1){var S=this;return(0,a.A)(function*(){function he(){return he=(0,a.A)(function*(Tt){if(!v){if(null==Tt.tenantId&&null!=Tt._agentRecaptchaConfig)return Tt._agentRecaptchaConfig.siteKey;if(null!=Tt.tenantId&&void 0!==Tt._tenantRecaptchaConfigs[Tt.tenantId])return Tt._tenantRecaptchaConfigs[Tt.tenantId].siteKey}return new Promise(function(){var Bt=(0,a.A)(function*(xn,Mn){Mr(Tt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($r=>{if(void 0!==$r.recaptchaKey){const Ko=new kt($r);return null==Tt.tenantId?Tt._agentRecaptchaConfig=Ko:Tt._tenantRecaptchaConfigs[Tt.tenantId]=Ko,xn(Ko.siteKey)}Mn(new Error("recaptcha Enterprise site key undefined"))}).catch($r=>{Mn($r)})});return function(xn,Mn){return Bt.apply(this,arguments)}}())}),he.apply(this,arguments)}function We(Tt,Bt,xn){const Mn=window.grecaptcha;$t(Mn)?Mn.enterprise.ready(()=>{Mn.enterprise.execute(Tt,{action:m}).then($r=>{Bt($r)}).catch(()=>{Bt("NO_RECAPTCHA")})}):xn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Tt,Bt)=>{(function X(Tt){return he.apply(this,arguments)})(S.auth).then(xn=>{if(!v&&$t(window.grecaptcha))We(xn,Tt,Bt);else{if(typeof window>"u")return void Bt(new Error("RecaptchaVerifier is only supported in browser"));let Mn=function Gi(){return Ps.recaptchaEnterpriseScript}();0!==Mn.length&&(Mn+=xn),Fo(Mn).then(()=>{We(xn,Tt,Bt)}).catch($r=>{Bt($r)})}}).catch(xn=>{Bt(xn)})})})()}}function Ki(I,m,v){return Li.apply(this,arguments)}function Li(){return(Li=(0,a.A)(function*(I,m,v,S=!1){const X=new qr(I);let he;try{he=yield X.verify(v)}catch{he=yield X.verify(v,!0)}const We=Object.assign({},m);return Object.assign(We,S?{captchaResp:he}:{captchaResponse:he}),Object.assign(We,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(We,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),We})).apply(this,arguments)}function Ir(I,m,v,S){return lo.apply(this,arguments)}function lo(){return lo=(0,a.A)(function*(I,m,v,S){var X;if(null!==(X=I._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const he=yield Ki(I,m,v,"getOobCode"===v);return S(I,he)}return S(I,m).catch(function(){var he=(0,a.A)(function*(We){if("auth/missing-recaptcha-token"===We.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Tt=yield Ki(I,m,v,"getOobCode"===v);return S(I,Tt)}return Promise.reject(We)});return function(We){return he.apply(this,arguments)}}())}),lo.apply(this,arguments)}function Ri(I,m,v){const S=Tr(I);De(S._canInitEmulator,S,"emulator-config-failed"),De(/^https?:\/\//.test(m),S,"invalid-emulator-scheme");const X=!!v?.disableWarnings,he=va(m),{host:We,port:Tt}=function qs(I){const m=va(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(S);if(X){const he=X[1];return{host:he,port:Yr(S.substr(he.length+1))}}{const[he,We]=S.split(":");return{host:he,port:Yr(We)}}}(m);S.config.emulator={url:`${he}//${We}${null===Tt?"":`:${Tt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:We,port:Tt,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function js(){function I(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function va(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function Yr(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class Ms{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return en("not implemented")}_getIdTokenResponse(m){return en("not implemented")}_linkToIdToken(m,v){return en("not implemented")}_getReauthenticationResolver(m){return en("not implemented")}}function bo(I,m){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,a.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:resetPassword",Ee(I,m))})).apply(this,arguments)}function oi(){return(oi=(0,a.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Si(I,m){return Is.apply(this,arguments)}function Is(){return(Is=(0,a.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function os(){return(os=(0,a.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",Ee(I,m))})).apply(this,arguments)}function to(I,m){return as.apply(this,arguments)}function as(){return(as=(0,a.A)(function*(I,m){return wn(I,"POST","/v1/accounts:signInWithPassword",Ee(I,m))})).apply(this,arguments)}function ws(I,m){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,a.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:sendOobCode",Ee(I,m))})).apply(this,arguments)}function pn(){return(pn=(0,a.A)(function*(I,m){return ws(I,m)})).apply(this,arguments)}function Ln(I,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.A)(function*(I,m){return ws(I,m)})).apply(this,arguments)}function ci(I,m){return ti.apply(this,arguments)}function ti(){return(ti=(0,a.A)(function*(I,m){return ws(I,m)})).apply(this,arguments)}function hs(){return(hs=(0,a.A)(function*(I,m){return ws(I,m)})).apply(this,arguments)}function Bi(){return(Bi=(0,a.A)(function*(I,m){return wn(I,"POST","/v1/accounts:signInWithEmailLink",Ee(I,m))})).apply(this,arguments)}function Qn(){return(Qn=(0,a.A)(function*(I,m){return wn(I,"POST","/v1/accounts:signInWithEmailLink",Ee(I,m))})).apply(this,arguments)}class zi extends Ms{constructor(m,v,S,X=null){super("password",S),this._email=m,this._password=v,this._tenantId=X}static _fromEmailAndPassword(m,v){return new zi(m,v,"password")}static _fromEmailAndCode(m,v,S=null){return new zi(m,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,a.A)(function*(){switch(v.signInMethod){case"password":return Ir(m,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",to);case"emailLink":return function Rr(I,m){return Bi.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:be(m,"internal-error")}})()}_linkToIdToken(m,v){var S=this;return(0,a.A)(function*(){switch(S.signInMethod){case"password":return Ir(m,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Si);case"emailLink":return function As(I,m){return Qn.apply(this,arguments)}(m,{idToken:v,email:S._email,oobCode:S._password});default:be(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Os(I,m){return ee.apply(this,arguments)}function ee(){return(ee=(0,a.A)(function*(I,m){return wn(I,"POST","/v1/accounts:signInWithIdp",Ee(I,m))})).apply(this,arguments)}class we extends Ms{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new we(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):be("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X}=v,he=(0,ge.Tt)(v,["providerId","signInMethod"]);if(!S||!X)return null;const We=new we(S,X);return We.idToken=he.idToken||void 0,We.accessToken=he.accessToken||void 0,We.secret=he.secret,We.nonce=he.nonce,We.pendingToken=he.pendingToken||null,We}_getIdTokenResponse(m){return Os(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,Os(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Os(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,i.Am)(v)}return m}}function Je(){return(Je=(0,a.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:sendVerificationCode",Ee(I,m))})).apply(this,arguments)}function Yt(){return(Yt=(0,a.A)(function*(I,m){return wn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ee(I,m))})).apply(this,arguments)}function yn(){return(yn=(0,a.A)(function*(I,m){const v=yield wn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ee(I,m));if(v.temporaryProof)throw Hn(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Jn={USER_NOT_FOUND:"user-not-found"};function Fn(){return(Fn=(0,a.A)(function*(I,m){return wn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ee(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Jn)})).apply(this,arguments)}class Sn extends Ms{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Sn({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Sn({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function mt(I,m){return Yt.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function Dn(I,m){return yn.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function wr(I,m){return Fn.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:S,verificationCode:X}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:S,code:X}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:he}=m;return S||v||X||he?new Sn({verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:he}):null}}class vr{constructor(m){var v,S,X,he,We,Tt;const Bt=(0,i.I9)((0,i.hp)(m)),xn=null!==(v=Bt.apiKey)&&void 0!==v?v:null,Mn=null!==(S=Bt.oobCode)&&void 0!==S?S:null,$r=function Un(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=Bt.mode)&&void 0!==X?X:null);De(xn&&Mn&&$r,"argument-error"),this.apiKey=xn,this.operation=$r,this.code=Mn,this.continueUrl=null!==(he=Bt.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(We=Bt.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(Tt=Bt.tenantId)&&void 0!==Tt?Tt:null}static parseLink(m){const v=function Br(I){const m=(0,i.I9)((0,i.hp)(I)).link,v=m?(0,i.I9)((0,i.hp)(m)).deep_link_id:null,S=(0,i.I9)((0,i.hp)(I)).deep_link_id;return(S?(0,i.I9)((0,i.hp)(S)).link:null)||S||v||m||I}(m);try{return new vr(v)}catch{return null}}}let Ji=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,S){return zi._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const X=vr.parseLink(S);return De(X,"argument-error"),zi._fromEmailAndCode(v,X.code,X.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ni{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Cr extends Ni{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Xr extends Cr{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return De("providerId"in v&&"signInMethod"in v,"argument-error"),we._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return De(m.idToken||m.accessToken,"argument-error"),we._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Xr.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Xr.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:X,pendingToken:he,nonce:We,providerId:Tt}=m;if(!S&&!X&&!v&&!he||!Tt)return null;try{return new Xr(Tt)._credential({idToken:v,accessToken:S,nonce:We,pendingToken:he})}catch{return null}}}let li=(()=>{class I extends Cr{constructor(){super("facebook.com")}static credential(v){return we._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Nr=(()=>{class I extends Cr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return we._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:X}=v;if(!S&&!X)return null;try{return I.credential(S,X)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Ys=(()=>{class I extends Cr{constructor(){super("github.com")}static credential(v){return we._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Xs extends Ms{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Os(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,Os(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Os(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X,pendingToken:he}=v;return S&&X&&he&&S===X?new Xs(S,he):null}static _create(m,v){return new Xs(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Uo extends Ni{constructor(m){De(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Uo.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Uo.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Xs.fromJSON(m);return De(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:S}=m;if(!v||!S)return null;try{return Xs._create(S,v)}catch{return null}}}let Va=(()=>{class I extends Cr{constructor(){super("twitter.com")}static credential(v,S){return we._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:X}=v;if(!S||!X)return null;try{return I.credential(S,X)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function $s(I,m){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,a.A)(function*(I,m){return wn(I,"POST","/v1/accounts:signUp",Ee(I,m))})).apply(this,arguments)}class qi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,S,X=!1){return(0,a.A)(function*(){const he=yield re._fromIdTokenResponse(m,S,X),We=fs(S);return new qi({user:he,providerId:We,_tokenResponse:S,operationType:v})})()}static _forOperation(m,v,S){return(0,a.A)(function*(){yield m._updateTokensIfNecessary(S,!0);const X=fs(S);return new qi({user:m,providerId:X,_tokenResponse:S,operationType:v})})()}}function fs(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Co(I){return ec.apply(this,arguments)}function ec(){return(ec=(0,a.A)(function*(I){var m;if((0,de._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const v=Tr(I);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new qi({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield $s(v,{returnSecureToken:!0}),X=yield qi._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class jo extends i.g{constructor(m,v,S,X){var he;super(v.code,v.message),this.operationType=S,this.user=X,Object.setPrototypeOf(this,jo.prototype),this.customData={appName:m.name,tenantId:null!==(he=m.tenantId)&&void 0!==he?he:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(m,v,S,X){return new jo(m,v,S,X)}}function Ei(I,m,v,S){return("reauthenticate"===m?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?jo._fromErrorAndOperation(I,he,m,S):he})}function To(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function Yo(I,m){return W.apply(this,arguments)}function W(){return W=(0,a.A)(function*(I,m){const v=(0,i.Ku)(I);yield le(!0,v,m);const{providerUserInfo:S}=yield function Gn(I,m){return an.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),X=To(S||[]);return v.providerData=v.providerData.filter(he=>X.has(he.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),W.apply(this,arguments)}function J(I,m){return V.apply(this,arguments)}function V(){return(V=(0,a.A)(function*(I,m,v=!1){const S=yield Er(I,m._linkToIdToken(I.auth,yield I.getIdToken()),v);return qi._forOperation(I,"link",S)})).apply(this,arguments)}function le(I,m,v){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,a.A)(function*(I,m,v){yield ue(m);const X=!1===I?"provider-already-linked":"no-such-provider";De(To(m.providerData).has(v)===I,m.auth,X)})).apply(this,arguments)}function gn(I,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,a.A)(function*(I,m,v=!1){const{auth:S}=I;if((0,de._isFirebaseServerApp)(S.app))return Promise.reject(it(S));const X="reauthenticate";try{const he=yield Er(I,Ei(S,X,m,I),v);De(he.idToken,S,"internal-error");const We=ei(he.idToken);De(We,S,"internal-error");const{sub:Tt}=We;return De(I.uid===Tt,S,"user-mismatch"),qi._forOperation(I,X,he)}catch(he){throw"auth/user-not-found"===he?.code&&be(S,"user-mismatch"),he}})).apply(this,arguments)}function Wi(I,m){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,a.A)(function*(I,m,v=!1){if((0,de._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const S="signIn",X=yield Ei(I,S,m),he=yield qi._fromIdTokenResponse(I,S,X);return v||(yield I._updateCurrentUser(he.user)),he})).apply(this,arguments)}function ps(I,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,a.A)(function*(I,m){return Wi(Tr(I),m)})).apply(this,arguments)}function no(I,m){return es.apply(this,arguments)}function es(){return(es=(0,a.A)(function*(I,m){const v=(0,i.Ku)(I);return yield le(!1,v,m.providerId),J(v,m)})).apply(this,arguments)}function ho(I,m){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,a.A)(function*(I,m){return gn((0,i.Ku)(I),m)})).apply(this,arguments)}function Ea(){return(Ea=(0,a.A)(function*(I,m){return wn(I,"POST","/v1/accounts:signInWithCustomToken",Ee(I,m))})).apply(this,arguments)}function $i(I,m){return rl.apply(this,arguments)}function rl(){return rl=(0,a.A)(function*(I,m){if((0,de._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const v=Tr(I),S=yield function gs(I,m){return Ea.apply(this,arguments)}(v,{token:m,returnSecureToken:!0}),X=yield qi._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(X.user),X}),rl.apply(this,arguments)}class cs{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?ba._fromServerResponse(m,v):"totpInfo"in v?Js._fromServerResponse(m,v):be(m,"internal-error")}}class ba extends cs{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new ba(v)}}class Js extends cs{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new Js(v)}}function Ca(I,m,v){var S;De((null===(S=v.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),De(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(De(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(De(v.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Ss(I){return fa.apply(this,arguments)}function fa(){return(fa=(0,a.A)(function*(I){const m=Tr(I);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function Ta(I,m,v){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,a.A)(function*(I,m,v){const S=Tr(I),X={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};v&&Ca(S,X,v),yield Ir(S,X,"getOobCode",Ln)})).apply(this,arguments)}function il(I,m,v){return gr.apply(this,arguments)}function gr(){return gr=(0,a.A)(function*(I,m,v){yield bo((0,i.Ku)(I),{oobCode:m,newPassword:v}).catch(function(){var S=(0,a.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Ss(I),X});return function(X){return S.apply(this,arguments)}}())}),gr.apply(this,arguments)}function Tc(I,m){return Io.apply(this,arguments)}function Io(){return Io=(0,a.A)(function*(I,m){yield function pi(I,m){return os.apply(this,arguments)}((0,i.Ku)(I),{oobCode:m})}),Io.apply(this,arguments)}function Xo(I,m){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,a.A)(function*(I,m){const v=(0,i.Ku)(I),S=yield bo(v,{oobCode:m}),X=S.requestType;switch(De(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(S.mfaInfo,v,"internal-error");default:De(S.email,v,"internal-error")}let he=null;return S.mfaInfo&&(he=cs._fromServerResponse(Tr(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:he},operation:X}})).apply(this,arguments)}function ja(I,m){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,a.A)(function*(I,m){const{data:v}=yield Xo((0,i.Ku)(I),m);return v.email})).apply(this,arguments)}function Fh(I,m,v){return tc.apply(this,arguments)}function tc(){return(tc=(0,a.A)(function*(I,m,v){if((0,de._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const S=Tr(I),We=yield Ir(S,{returnSecureToken:!0,email:m,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$s).catch(Bt=>{throw"auth/password-does-not-meet-requirements"===Bt.code&&Ss(I),Bt}),Tt=yield qi._fromIdTokenResponse(S,"signIn",We);return yield S._updateCurrentUser(Tt.user),Tt})).apply(this,arguments)}function jl(I,m,v){return(0,de._isFirebaseServerApp)(I.app)?Promise.reject(it(I)):ps((0,i.Ku)(I),Ji.credential(m,v)).catch(function(){var S=(0,a.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Ss(I),X});return function(X){return S.apply(this,arguments)}}())}function nc(I,m,v){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,a.A)(function*(I,m,v){const S=Tr(I),X={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function he(We,Tt){De(Tt.handleCodeInApp,S,"argument-error"),Tt&&Ca(S,We,Tt)})(X,v),yield Ir(S,X,"getOobCode",ci)})).apply(this,arguments)}function sl(I,m){const v=vr.parseLink(m);return"EMAIL_SIGNIN"===v?.operation}function wa(I,m,v){return rc.apply(this,arguments)}function rc(){return(rc=(0,a.A)(function*(I,m,v){if((0,de._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const S=(0,i.Ku)(I),X=Ji.credentialWithLink(m,v||lr());return De(X._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),ps(S,X)})).apply(this,arguments)}function Ba(){return(Ba=(0,a.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:createAuthUri",Ee(I,m))})).apply(this,arguments)}function Bl(I,m){return P.apply(this,arguments)}function P(){return P=(0,a.A)(function*(I,m){const S={identifier:m,continueUri:xt()?lr():"http://localhost"},{signinMethods:X}=yield function ic(I,m){return Ba.apply(this,arguments)}((0,i.Ku)(I),S);return X||[]}),P.apply(this,arguments)}function ne(I,m){return B.apply(this,arguments)}function B(){return B=(0,a.A)(function*(I,m){const v=(0,i.Ku)(I),X={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&Ca(v.auth,X,m);const{email:he}=yield function ai(I,m){return pn.apply(this,arguments)}(v.auth,X);he!==I.email&&(yield I.reload())}),B.apply(this,arguments)}function Y(I,m,v){return Me.apply(this,arguments)}function Me(){return Me=(0,a.A)(function*(I,m,v){const S=(0,i.Ku)(I),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};v&&Ca(S.auth,he,v);const{email:We}=yield function Oi(I,m){return hs.apply(this,arguments)}(S.auth,he);We!==I.email&&(yield I.reload())}),Me.apply(this,arguments)}function Ot(){return(Ot=(0,a.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function jn(I,m){return zr.apply(this,arguments)}function zr(){return zr=(0,a.A)(function*(I,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const S=(0,i.Ku)(I),he={idToken:yield S.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},We=yield Er(S,function Ct(I,m){return Ot.apply(this,arguments)}(S.auth,he));S.displayName=We.displayName||null,S.photoURL=We.photoUrl||null;const Tt=S.providerData.find(({providerId:Bt})=>"password"===Bt);Tt&&(Tt.displayName=S.displayName,Tt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(We)}),zr.apply(this,arguments)}function gi(I,m){const v=(0,i.Ku)(I);return(0,de._isFirebaseServerApp)(v.auth.app)?Promise.reject(it(v.auth)):mr(v,m,null)}function ni(I,m){return mr((0,i.Ku)(I),null,m)}function mr(I,m,v){return ri.apply(this,arguments)}function ri(){return ri=(0,a.A)(function*(I,m,v){const{auth:S}=I,he={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(he.email=m),v&&(he.password=v);const We=yield Er(I,function xr(I,m){return oi.apply(this,arguments)}(S,he));yield I._updateTokensIfNecessary(We,!0)}),ri.apply(this,arguments)}class bi{constructor(m,v,S={}){this.isNewUser=m,this.providerId=v,this.profile=S}}class fo extends bi{constructor(m,v,S,X){super(m,v,S),this.username=X}}class Ns extends bi{constructor(m,v){super(m,"facebook.com",v)}}class $o extends fo{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Hs extends bi{constructor(m,v){super(m,"google.com",v)}}class Qo extends fo{constructor(m,v,S){super(m,"twitter.com",v,S)}}function Ui(I){const{user:m,_tokenResponse:v}=I;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Di(I){var m,v;if(!I)return null;const{providerId:S}=I,X=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},he=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const We=null===(v=null===(m=ei(I.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(We)return new bi(he,"anonymous"!==We&&"custom"!==We?We:null)}if(!S)return null;switch(S){case"facebook.com":return new Ns(he,X);case"github.com":return new $o(he,X);case"google.com":return new Hs(he,X);case"twitter.com":return new Qo(he,X,I.screenName||null);case"custom":case"anonymous":return new bi(he,null);default:return new bi(he,S,X)}}(v)}class Es{constructor(m,v,S){this.type=m,this.credential=v,this.user=S}static _fromIdtoken(m,v){return new Es("enroll",m,v)}static _fromMfaPendingCredential(m){return new Es("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,S;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Es._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(S=m.multiFactorSession)&&void 0!==S&&S.idToken)return Es._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Jo{constructor(m,v,S){this.session=m,this.hints=v,this.signInResolver=S}static _fromError(m,v){const S=Tr(m),X=v.customData._serverResponse,he=(X.mfaInfo||[]).map(Tt=>cs._fromServerResponse(S,Tt));De(X.mfaPendingCredential,S,"internal-error");const We=Es._fromMfaPendingCredential(X.mfaPendingCredential);return new Jo(We,he,function(){var Tt=(0,a.A)(function*(Bt){const xn=yield Bt._process(S,We);delete X.mfaInfo,delete X.mfaPendingCredential;const Mn=Object.assign(Object.assign({},X),{idToken:xn.idToken,refreshToken:xn.refreshToken});switch(v.operationType){case"signIn":const $r=yield qi._fromIdTokenResponse(S,v.operationType,Mn);return yield S._updateCurrentUser($r.user),$r;case"reauthenticate":return De(v.user,S,"internal-error"),qi._forOperation(v.user,v.operationType,Mn);default:be(S,"internal-error")}});return function(Bt){return Tt.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,a.A)(function*(){return v.signInResolver(m)})()}}function Aa(I,m){var v;const S=(0,i.Ku)(I),X=m;return De(m.customData.operationType,S,"argument-error"),De(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),Jo._fromError(S,X)}class zs{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>cs._fromServerResponse(m.auth,S)))})}static _fromUser(m){return new zs(m)}getSession(){var m=this;return(0,a.A)(function*(){return Es._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,v){var S=this;return(0,a.A)(function*(){const X=m,he=yield S.getSession(),We=yield Er(S.user,X._process(S.user.auth,he,v));return yield S.user._updateTokensIfNecessary(We),S.user.reload()})()}unenroll(m){var v=this;return(0,a.A)(function*(){const S="string"==typeof m?m:m.uid,X=yield v.user.getIdToken();try{const he=yield Er(v.user,function Kn(I,m){return Ve(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(I,m))}(v.user.auth,{idToken:X,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:We})=>We!==S),yield v.user._updateTokensIfNecessary(he),yield v.user.reload()}catch(he){throw he}})()}}const Hl=new WeakMap;function Zo(I){const m=(0,i.Ku)(I);return Hl.has(m)||Hl.set(m,zs._fromUser(m)),Hl.get(m)}const Gl="__sak";class Vh{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Gl,"1"),this.storage.removeItem(Gl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const zl=(()=>{class I extends Vh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fe(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const X=this.storage.getItem(S),he=this.localCache[S];X!==he&&v(S,he,X)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((Tt,Bt,xn)=>{this.notifyListeners(Tt,xn)});const X=v.key;S?this.detachListener():this.stopPolling();const he=()=>{const Tt=this.storage.getItem(X);!S&&this.localCache[X]===Tt||this.notifyListeners(X,Tt)},We=this.storage.getItem(X);!function Z(){return(0,i.lT)()&&10===document.documentMode}()||We===v.newValue||v.newValue===v.oldValue?he():setTimeout(he,10)}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const he of Array.from(X))he(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var X=()=>super._set,he=this;return(0,a.A)(function*(){yield X().call(he,v,S),he.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,X=this;return(0,a.A)(function*(){const he=yield S().call(X,v);return X.localCache[v]=JSON.stringify(he),he})()}_remove(v){var S=()=>super._remove,X=this;return(0,a.A)(function*(){yield S().call(X,v),delete X.localCache[v]})()}}return I.type="LOCAL",I})(),Ac=(()=>{class I extends Vh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return I.type="SESSION",I})();let Ht=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(he=>he.isListeningto(v));if(S)return S;const X=new I(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,a.A)(function*(){const X=v,{eventId:he,eventType:We,data:Tt}=X.data,Bt=S.handlersMap[We];if(!Bt?.size)return;X.ports[0].postMessage({status:"ack",eventId:he,eventType:We});const xn=Array.from(Bt).map(function(){var $r=(0,a.A)(function*(Ko){return Ko(X.origin,Tt)});return function(Ko){return $r.apply(this,arguments)}}()),Mn=yield function Wl(I){return Promise.all(I.map(function(){var m=(0,a.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return m.apply(this,arguments)}}()))}(xn);X.ports[0].postMessage({status:"done",eventId:he,eventType:We,response:Mn})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Pr(I="",m=10){let v="";for(let S=0;S<m;S++)v+=Math.floor(10*Math.random());return I+v}class Go{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,S=50){var X=this;return(0,a.A)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let We,Tt;return new Promise((Bt,xn)=>{const Mn=Pr("",20);he.port1.start();const $r=setTimeout(()=>{xn(new Error("unsupported_event"))},S);Tt={messageChannel:he,onMessage(Ko){const Pa=Ko;if(Pa.data.eventId===Mn)switch(Pa.data.status){case"ack":clearTimeout($r),We=setTimeout(()=>{xn(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),Bt(Pa.data.response);break;default:clearTimeout($r),clearTimeout(We),xn(new Error("invalid_response"))}}},X.handlers.add(Tt),he.port1.addEventListener("message",Tt.onMessage),X.target.postMessage({eventType:m,eventId:Mn,data:v},[he.port2])}).finally(()=>{Tt&&X.removeMessageHandler(Tt)})})()}}function us(){return window}function oc(){return typeof us().WorkerGlobalScope<"u"&&"function"==typeof us().importScripts}function wo(){return(wo=(0,a.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Au="firebaseLocalStorageDb",io="firebaseLocalStorage",bs="fbase_key";class mo{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Fs(I,m){return I.transaction([io],m?"readwrite":"readonly").objectStore(io)}function Bn(){const I=indexedDB.open(Au,1);return new Promise((m,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(io,{keyPath:bs})}catch(X){v(X)}}),I.addEventListener("success",(0,a.A)(function*(){const S=I.result;S.objectStoreNames.contains(io)?m(S):(S.close(),yield function Da(){const I=indexedDB.deleteDatabase(Au);return new mo(I).toPromise()}(),m(yield Bn()))}))})}function al(I,m,v){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,a.A)(function*(I,m,v){const S=Fs(I,!0).put({[bs]:m,value:v});return new mo(S).toPromise()})).apply(this,arguments)}function Du(){return(Du=(0,a.A)(function*(I,m){const v=Fs(I,!1).get(m),S=yield new mo(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Su(I,m){const v=Fs(I,!0).delete(m);return new mo(v).toPromise()}const O=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,a.A)(function*(){return v.db||(v.db=yield Bn()),v.db})()}_withRetries(v){var S=this;return(0,a.A)(function*(){let X=0;for(;;)try{const he=yield S._openDb();return yield v(he)}catch(he){if(X++>3)throw he;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,a.A)(function*(){return oc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,a.A)(function*(){v.receiver=Ht._getInstance(function ol(){return oc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,a.A)(function*(X,he){return{keyProcessed:(yield v._poll()).includes(he.key)}});return function(X,he){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,a.A)(function*(X,he){return["keyChanged"]});return function(X,he){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,a.A)(function*(){var S,X;if(v.activeServiceWorker=yield function Dc(){return wo.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Go(v.activeServiceWorker);const he=yield v.sender._send("ping",{},800);he&&null!==(S=he[0])&&void 0!==S&&S.fulfilled&&null!==(X=he[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,a.A)(function*(){if(S.sender&&S.activeServiceWorker&&function Kt(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.A)(function*(){try{if(!indexedDB)return!1;const v=yield Bn();return yield al(v,Gl,"1"),yield Su(v,Gl),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,a.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var X=this;return(0,a.A)(function*(){return X._withPendingWrite((0,a.A)(function*(){return yield X._withRetries(he=>al(he,v,S)),X.localCache[v]=S,X.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,a.A)(function*(){const X=yield S._withRetries(he=>function Ag(I,m){return Du.apply(this,arguments)}(he,v));return S.localCache[v]=X,X})()}_remove(v){var S=this;return(0,a.A)(function*(){return S._withPendingWrite((0,a.A)(function*(){return yield S._withRetries(X=>Su(X,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,a.A)(function*(){const S=yield v._withRetries(We=>{const Tt=Fs(We,!1).getAll();return new mo(Tt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const X=[],he=new Set;if(0!==S.length)for(const{fbase_key:We,value:Tt}of S)he.add(We),JSON.stringify(v.localCache[We])!==JSON.stringify(Tt)&&(v.notifyListeners(We,Tt),X.push(We));for(const We of Object.keys(v.localCache))v.localCache[We]&&!he.has(We)&&(v.notifyListeners(We,null),X.push(We));return X})()}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const he of Array.from(X))he(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,a.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),_t=1e12;class pt{constructor(m){this.auth=m,this.counter=_t,this._widgets=new Map}render(m,v){const S=this.counter;return this._widgets.set(S,new vn(m,this.auth.name,v||{})),this.counter++,S}reset(m){var v;const S=m||_t;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(m){var v;return(null===(v=this._widgets.get(m||_t))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,a.A)(function*(){var S;return null===(S=v._widgets.get(m||_t))||void 0===S||S.execute(),""})()}}class vn{constructor(m,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof m?document.getElementById(m):m;De(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hr(I){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)m.push(v.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sr=si("rcb"),kr=new Fe(3e4,6e4);class _i{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=us().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return De(function ac(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),m,"argument-error"),this.shouldResolveImmediately(v)&&Nn(us().grecaptcha)?Promise.resolve(us().grecaptcha):new Promise((S,X)=>{const he=us().setTimeout(()=>{X(et(m,"network-request-failed"))},kr.get());us()[sr]=()=>{us().clearTimeout(he),delete us()[sr];const Tt=us().grecaptcha;if(!Tt||!Nn(Tt))return void X(et(m,"internal-error"));const Bt=Tt.render;Tt.render=(xn,Mn)=>{const $r=Bt(xn,Mn);return this.counter++,$r},this.hostLanguage=v,S(Tt)},Fo(`${function Lo(){return Ps.recaptchaV2Script}()}?${(0,i.Am)({onload:sr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(he),X(et(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=us().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pc{load(m){return(0,a.A)(function*(){return new pt(m)})()}clearedOneInstance(){}}const cl="recaptcha",Mc={theme:"light",type:"image"};class xu{constructor(m,v,S=Object.assign({},Mc)){this.parameters=S,this.type=cl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tr(m),this.isInvisible="invisible"===this.parameters.size,De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;De(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pc:new _i,this.validateStartingState()}verify(){var m=this;return(0,a.A)(function*(){m.assertNotDestroyed();const v=yield m.render(),S=m.getAssertedRecaptcha();return S.getResponse(v)||new Promise(he=>{const We=Tt=>{Tt&&(m.tokenChangeListeners.delete(We),he(Tt))};m.tokenChangeListeners.add(We),m.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof m)m(v);else if("string"==typeof m){const S=us()[m];"function"==typeof S&&S(v)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,a.A)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,a.A)(function*(){De(xt()&&!oc(),m.auth,"internal-error"),yield function Uh(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function _r(I){return cn.apply(this,arguments)}(m.auth);De(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cc{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Sn._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function pa(I,m,v){return jh.apply(this,arguments)}function jh(){return(jh=(0,a.A)(function*(I,m,v){if((0,de._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const S=Tr(I),X=yield Yl(S,m,(0,i.Ku)(v));return new cc(X,he=>ps(S,he))})).apply(this,arguments)}function ea(I,m,v){return ql.apply(this,arguments)}function ql(){return(ql=(0,a.A)(function*(I,m,v){const S=(0,i.Ku)(I);yield le(!1,S,"phone");const X=yield Yl(S.auth,m,(0,i.Ku)(v));return new cc(X,he=>no(S,he))})).apply(this,arguments)}function bd(I,m,v){return ga.apply(this,arguments)}function ga(){return(ga=(0,a.A)(function*(I,m,v){const S=(0,i.Ku)(I);if((0,de._isFirebaseServerApp)(S.auth.app))return Promise.reject(it(S.auth));const X=yield Yl(S.auth,m,(0,i.Ku)(v));return new cc(X,he=>ho(S,he))})).apply(this,arguments)}function Yl(I,m,v){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,a.A)(function*(I,m,v){var S;const X=yield v.verify();try{let he;if(De("string"==typeof X,I,"argument-error"),De(v.type===cl,I,"argument-error"),he="string"==typeof m?{phoneNumber:m}:m,"session"in he){const We=he.session;if("phoneNumber"in he)return De("enroll"===We.type,I,"internal-error"),(yield function Tu(I,m){return Ve(I,"POST","/v2/accounts/mfaEnrollment:start",Ee(I,m))}(I,{idToken:We.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{De("signin"===We.type,I,"internal-error");const Tt=(null===(S=he.multiFactorHint)||void 0===S?void 0:S.uid)||he.multiFactorUid;return De(Tt,I,"missing-multi-factor-info"),(yield function w(I,m){return Ve(I,"POST","/v2/accounts/mfaSignIn:start",Ee(I,m))}(I,{mfaPendingCredential:We.credential,mfaEnrollmentId:Tt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:We}=yield function Oe(I,m){return Je.apply(this,arguments)}(I,{phoneNumber:he.phoneNumber,recaptchaToken:X});return We}}finally{v._reset()}}),Cd.apply(this,arguments)}function Pu(I,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,a.A)(function*(I,m){const v=(0,i.Ku)(I);if((0,de._isFirebaseServerApp)(v.auth.app))return Promise.reject(it(v.auth));yield J(v,m)})).apply(this,arguments)}let _o=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=Tr(v)}verifyPhoneNumber(v,S){return Yl(this.auth,v,(0,i.Ku)(S))}static credential(v,S){return Sn._fromVerification(v,S)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:X}=v;return S&&X?Sn._fromTokenResponse(S,X):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function ta(I,m){return m?st(m):(De(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Rc extends Ms{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Os(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Os(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Os(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function ll(I){return Wi(I.auth,new Rc(I),I.bypassAuthState)}function Xm(I){const{auth:m,user:v}=I;return De(v,m,"internal-error"),gn(v,new Rc(I),I.bypassAuthState)}function Mu(I){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,a.A)(function*(I){const{auth:m,user:v}=I;return De(v,m,"internal-error"),J(v,new Rc(I),I.bypassAuthState)})).apply(this,arguments)}class Yf{constructor(m,v,S,X,he=!1){this.auth=m,this.resolver=S,this.user=X,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,a.A)(function*(S,X){m.pendingPromise={resolve:S,reject:X};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(he){m.reject(he)}});return function(S,X){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,a.A)(function*(){const{urlResponse:S,sessionId:X,postBody:he,tenantId:We,error:Tt,type:Bt}=m;if(Tt)return void v.reject(Tt);const xn={auth:v.auth,requestUri:S,sessionId:X,tenantId:We||void 0,postBody:he||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Bt)(xn))}catch(Mn){v.reject(Mn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ll;case"linkViaPopup":case"linkViaRedirect":return Mu;case"reauthViaPopup":case"reauthViaRedirect":return Xm;default:be(this.auth,"internal-error")}}resolve(m){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xf=new Fe(2e3,1e4);function Ou(I,m,v){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,a.A)(function*(I,m,v){if((0,de._isFirebaseServerApp)(I.app))return Promise.reject(et(I,"operation-not-supported-in-this-environment"));const S=Tr(I);Dt(I,m,Ni);const X=ta(S,v);return new Qf(S,"signInViaPopup",m,X).executeNotNull()})).apply(this,arguments)}function Td(I,m,v){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,a.A)(function*(I,m,v){const S=(0,i.Ku)(I);if((0,de._isFirebaseServerApp)(S.auth.app))return Promise.reject(et(S.auth,"operation-not-supported-in-this-environment"));Dt(S.auth,m,Ni);const X=ta(S.auth,v);return new Qf(S.auth,"reauthViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}function kc(I,m,v){return lc.apply(this,arguments)}function lc(){return(lc=(0,a.A)(function*(I,m,v){const S=(0,i.Ku)(I);Dt(S.auth,m,Ni);const X=ta(S.auth,v);return new Qf(S.auth,"linkViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}let Qf=(()=>{class I extends Yf{constructor(v,S,X,he,We){super(v,S,he,We),this.provider=X,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,a.A)(function*(){const S=yield v.execute();return De(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,a.A)(function*(){mn(1===v.filter.length,"Popup operations only handle one event");const S=Pr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(et(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(et(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,X;this.pollId=null!==(X=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(et(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Xf.get())};v()}}return I.currentPopupAction=null,I})();const Bh="pendingRedirect",xa=new Map;class Nu extends Yf{constructor(m,v,S=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,a.A)(function*(){let S=xa.get(v.auth._key());if(!S){try{const he=(yield function yo(I,m){return ku.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;S=()=>Promise.resolve(he)}catch(X){S=()=>Promise.reject(X)}xa.set(v.auth._key(),S)}return v.bypassAuthState||xa.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,S=this;return(0,a.A)(function*(){if("signInViaRedirect"===m.type)return v().call(S,m);if("unknown"!==m.type){if(m.eventId){const X=yield S.auth._redirectUserForId(m.eventId);if(X)return S.user=X,v().call(S,m);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,a.A)(function*(){})()}cleanUp(){}}function ku(){return(ku=(0,a.A)(function*(I,m){const v=Hh(m),S=dl(I);if(!(yield S._isAvailable()))return!1;const X="true"===(yield S._get(v));return yield S._remove(v),X})).apply(this,arguments)}function ul(I,m){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,a.A)(function*(I,m){return dl(I)._set(Hh(m),"true")})).apply(this,arguments)}function $h(){xa.clear()}function Fc(I,m){xa.set(I._key(),m)}function dl(I){return st(I._redirectPersistence)}function Hh(I){return ln(Bh,I.config.apiKey,I.name)}function uc(I,m,v){return function hl(I,m,v){return dc.apply(this,arguments)}(I,m,v)}function dc(){return(dc=(0,a.A)(function*(I,m,v){if((0,de._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const S=Tr(I);Dt(I,m,Ni),yield S._initializationPromise;const X=ta(S,v);return yield ul(X,S),X._openRedirect(S,m,"signInViaRedirect")})).apply(this,arguments)}function Lc(I,m,v){return function Qm(I,m,v){return Ao.apply(this,arguments)}(I,m,v)}function Ao(){return(Ao=(0,a.A)(function*(I,m,v){const S=(0,i.Ku)(I);if(Dt(S.auth,m,Ni),(0,de._isFirebaseServerApp)(S.auth.app))return Promise.reject(it(S.auth));yield S.auth._initializationPromise;const X=ta(S.auth,v);yield ul(X,S.auth);const he=yield fl(S);return X._openRedirect(S.auth,m,"reauthViaRedirect",he)})).apply(this,arguments)}function Vc(I,m,v){return function Uc(I,m,v){return Fu.apply(this,arguments)}(I,m,v)}function Fu(){return(Fu=(0,a.A)(function*(I,m,v){const S=(0,i.Ku)(I);Dt(S.auth,m,Ni),yield S.auth._initializationPromise;const X=ta(S.auth,v);yield le(!1,S,m.providerId),yield ul(X,S.auth);const he=yield fl(S);return X._openRedirect(S.auth,m,"linkViaRedirect",he)})).apply(this,arguments)}function Jf(I,m){return jc.apply(this,arguments)}function jc(){return(jc=(0,a.A)(function*(I,m){return yield Tr(I)._initializationPromise,Gh(I,m,!1)})).apply(this,arguments)}function Gh(I,m){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,a.A)(function*(I,m,v=!1){if((0,de._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const S=Tr(I),X=ta(S,m),We=yield new Nu(S,X,v).execute();return We&&!v&&(delete We.user._redirectEventId,yield S._persistUserIfCurrent(We.user),yield S._setRedirectUser(null,m)),We})).apply(this,arguments)}function fl(I){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,a.A)(function*(I){const m=Pr(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Zf{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(m,S)&&(v=!0,this.sendToConsumer(m,S),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function pl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ad(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var S;if(m.error&&!Ad(m)){const X=(null===(S=m.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(et(this.auth,X))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const S=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&S}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wd(m))}saveEventToCache(m){this.cachedEventUids.add(wd(m)),this.lastProcessedEventTime=Date.now()}}function wd(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function Ad({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===m?.code}function na(I){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,a.A)(function*(I,m={}){return Ve(I,"GET","/v1/projects",m)})).apply(this,arguments)}const zh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dd=/^https?/;function Sd(){return(Sd=(0,a.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield na(I);for(const v of m)try{if(Jm(v))return}catch{}be(I,"unauthorized-domain")})).apply(this,arguments)}function Jm(I){const m=lr(),{protocol:v,hostname:S}=new URL(m);if(I.startsWith("chrome-extension://")){const We=new URL(I);return""===We.hostname&&""===S?"chrome-extension:"===v&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&We.hostname===S}if(!Dd.test(v))return!1;if(zh.test(I))return S===I;const X=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(S)}const Xl=new Fe(3e4,6e4);function Wh(){const I=us().___jsl;if(I?.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let xs=null;const Dg=new Fe(5e3,15e3),Ql="__/auth/iframe",Sg="emulator/auth/iframe",Kh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ws=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xd(I){const m=I.config;De(m.authDomain,I,"auth-domain-config-required");const v=m.emulator?tt(m,Sg):`https://${I.config.authDomain}/${Ql}`,S={apiKey:m.apiKey,appName:I.name,v:de.SDK_VERSION},X=Ws.get(I.config.apiHost);X&&(S.eid=X);const he=I._getFrameworks();return he.length&&(S.fw=he.join(",")),`${v}?${(0,i.Am)(S).slice(1)}`}function Pd(){return Pd=(0,a.A)(function*(I){const m=yield function Zm(I){return xs=xs||function ep(I){return new Promise((m,v)=>{var S,X,he;function We(){Wh(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Wh(),v(et(I,"network-request-failed"))},timeout:Xl.get()})}if(null!==(X=null===(S=us().gapi)||void 0===S?void 0:S.iframes)&&void 0!==X&&X.Iframe)m(gapi.iframes.getContext());else{if(null===(he=us().gapi)||void 0===he||!he.load){const Tt=si("iframefcb");return us()[Tt]=()=>{gapi.load?We():v(et(I,"network-request-failed"))},Fo(`${function qo(){return Ps.gapiScript}()}?onload=${Tt}`).catch(Bt=>v(Bt))}We()}}).catch(m=>{throw xs=null,m})}(I),xs}(I),v=us().gapi;return De(v,I,"internal-error"),m.open({where:document.body,url:xd(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kh,dontclear:!0},S=>new Promise(function(){var X=(0,a.A)(function*(he,We){yield S.restyle({setHideOnLeave:!1});const Tt=et(I,"network-request-failed"),Bt=us().setTimeout(()=>{We(Tt)},Dg.get());function xn(){us().clearTimeout(Bt),he(S)}S.ping(xn).then(xn,()=>{We(Tt)})});return function(he,We){return X.apply(this,arguments)}}()))}),Pd.apply(this,arguments)}const ra={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rd{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const xg="__/auth/handler",vo="emulator/auth/handler",Od=encodeURIComponent("fac");function fc(I,m,v,S,X,he){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,a.A)(function*(I,m,v,S,X,he){De(I.config.authDomain,I,"auth-domain-config-required"),De(I.config.apiKey,I,"invalid-api-key");const We={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:S,v:de.SDK_VERSION,eventId:X};if(m instanceof Ni){m.setDefaultLanguage(I.languageCode),We.providerId=m.providerId||"",(0,i.Im)(m.getCustomParameters())||(We.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Mn,$r]of Object.entries(he||{}))We[Mn]=$r}if(m instanceof Cr){const Mn=m.getScopes().filter($r=>""!==$r);Mn.length>0&&(We.scopes=Mn.join(","))}I.tenantId&&(We.tid=I.tenantId);const Tt=We;for(const Mn of Object.keys(Tt))void 0===Tt[Mn]&&delete Tt[Mn];const Bt=yield I._getAppCheckToken(),xn=Bt?`#${Od}=${encodeURIComponent(Bt)}`:"";return`${function np({config:I}){return I.emulator?tt(I,vo):`https://${I.authDomain}/${xg}`}(I)}?${(0,i.Am)(Tt).slice(1)}${xn}`})).apply(this,arguments)}const kd="webStorageSupport",qh=class Pg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ac,this._completeRedirectFn=Gh,this._overrideRedirectResult=Fc}_openPopup(m,v,S,X){var he=this;return(0,a.A)(function*(){var We;mn(null===(We=he.eventManagers[m._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const Tt=yield fc(m,v,S,lr(),X);return function tp(I,m,v,S=500,X=600){const he=Math.max((window.screen.availHeight-X)/2,0).toString(),We=Math.max((window.screen.availWidth-S)/2,0).toString();let Tt="";const Bt=Object.assign(Object.assign({},ra),{width:S.toString(),height:X.toString(),top:he,left:We}),xn=(0,i.ZQ)().toLowerCase();v&&(Tt=ur(xn)?"_blank":v),on(xn)&&(m=m||"http://localhost",Bt.scrollbars="yes");const Mn=Object.entries(Bt).reduce((Ko,[Pa,Zs])=>`${Ko}${Pa}=${Zs},`,"");if(function nn(I=(0,i.ZQ)()){var m;return vi(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(xn)&&"_self"!==Tt)return function gl(I,m){const v=document.createElement("a");v.href=I,v.target=m;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(m||"",Tt),new Rd(null);const $r=window.open(m||"",Tt,Mn);De($r,I,"popup-blocked");try{$r.focus()}catch{}return new Rd($r)}(m,Tt,Pr())})()}_openRedirect(m,v,S,X){var he=this;return(0,a.A)(function*(){return yield he._originValidation(m),function ks(I){us().location.href=I}(yield fc(m,v,S,lr(),X)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:X,promise:he}=this.eventManagers[v];return X?Promise.resolve(X):(mn(he,"If manager is not set, promise should be"),he)}const S=this.initAndGetManager(m);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(m){var v=this;return(0,a.A)(function*(){const S=yield function hc(I){return Pd.apply(this,arguments)}(m),X=new Zf(m);return S.register("authEvent",he=>(De(he?.authEvent,m,"invalid-auth-event"),{status:X.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:X},v.iframes[m._key()]=S,X})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(kd,{type:kd},X=>{var he;const We=null===(he=X?.[0])||void 0===he?void 0:he[kd];void 0!==We&&v(!!We),be(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function za(I){return Sd.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return fe()||Lr()||vi()}};class rp{constructor(m){this.factorId=m}_process(m,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,S);case"signin":return this._finalizeSignIn(m,v.credential);default:return en("unexpected MultiFactorSessionType")}}}class Hc extends rp{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Hc(m)}_finalizeEnroll(m,v,S){return function $l(I,m){return Ve(I,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(I,m))}(m,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function N(I,m){return Ve(I,"POST","/v2/accounts/mfaSignIn:finalize",Ee(I,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Jl=(()=>{class I{constructor(){}static assertion(v){return Hc._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var Ld="@firebase/auth";class Vd{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,a.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(S=>{m(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);v&&(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,i.XA)("authIdTokenMaxAge"),function is(I){Ps=I}({loadJS:I=>new Promise((m,v)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=m,S.onerror=X=>{const he=et("internal-error");he.customData=X,v(he)},S.type="text/javascript",S.charset="UTF-8",function Gc(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Vu(I){(0,de._registerComponent)(new Se.uA("auth",(m,{options:v})=>{const S=m.getProvider("app").getImmediate(),X=m.getProvider("heartbeat"),he=m.getProvider("app-check-internal"),{apiKey:We,authDomain:Tt}=S.options;De(We&&!We.includes(":"),"invalid-api-key",{appName:S.name});const Bt={apiKey:We,authDomain:Tt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:He(I)},xn=new Kr(S,X,he,Bt);return function Za(I,m){const v=m?.persistence||[],S=(Array.isArray(v)?v:[v]).map(st);m?.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(S,m?.popupRedirectResolver)}(xn,v),xn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,S)=>{m.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new Se.uA("auth-internal",m=>{const v=Tr(m.getProvider("auth").getImmediate());return new Vd(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Ld,"1.7.9",function Xh(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,de.registerVersion)(Ld,"1.7.9","esm2017")}("Browser")},9583:(rn,Ze,j)=>{j.d(Ze,{fS:()=>Bp,Ix:()=>ou,H6:()=>Mp,T1:()=>Us,Wq:()=>cu,uY:()=>Ju,W6:()=>tt,Ci:()=>Op,YQ:()=>yc,NJ:()=>Dl,Dc:()=>$t,GA:()=>zp,cm:()=>oi,K$:()=>Ut,FA:()=>Zn,lo:()=>di,bI:()=>Wt,qG:()=>Za,qi:()=>mn,c8:()=>tm,gS:()=>A0,C3:()=>vv,hq:()=>N0,me:()=>Zy,rJ:()=>x_,Cs:()=>P_,vN:()=>Qy,kd:()=>w0,CL:()=>R0,LA:()=>ev,H9:()=>su,ol:()=>cm,Q5:()=>dh,Os:()=>R_,FD:()=>Up,rf:()=>zE,Ws:()=>Cs,z6:()=>yh,x7:()=>C0,nY:()=>xl,_e:()=>uv,GG:()=>T0,kU:()=>KE,Rr:()=>So,aU:()=>am,GV:()=>YE,AB:()=>g0,$1:()=>m0,po:()=>dm,St:()=>p0,aQ:()=>j_,FC:()=>dv,My:()=>sv,P:()=>L_,B:()=>vf,yx:()=>Jy,c4:()=>M0,O5:()=>O0,BN:()=>I0,He:()=>Mt,lN:()=>b0,HM:()=>av,EO:()=>ov,mZ:()=>U_,iB:()=>um,_M:()=>iv});var Le,Ne,a=j(467),de=j(7852),i=j(1362),Ie=j(8041),ge=j(1076),Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xe={};(function(){var d;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(ot,ke,Ke){Ke||(Ke=0);var at=Array(16);if("string"==typeof ke)for(var dt=0;16>dt;++dt)at[dt]=ke.charCodeAt(Ke++)|ke.charCodeAt(Ke++)<<8|ke.charCodeAt(Ke++)<<16|ke.charCodeAt(Ke++)<<24;else for(dt=0;16>dt;++dt)at[dt]=ke[Ke++]|ke[Ke++]<<8|ke[Ke++]<<16|ke[Ke++]<<24;var bt=ot.g[3],ze=(ke=ot.g[0])+(bt^(Ke=ot.g[1])&((dt=ot.g[2])^bt))+at[0]+3614090360&4294967295;ze=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=(Ke=(dt=(bt=(ke=Ke+(ze<<7&4294967295|ze>>>25))+((ze=bt+(dt^ke&(Ke^dt))+at[1]+3905402710&4294967295)<<12&4294967295|ze>>>20))+((ze=dt+(Ke^bt&(ke^Ke))+at[2]+606105819&4294967295)<<17&4294967295|ze>>>15))+((ze=Ke+(ke^dt&(bt^ke))+at[3]+3250441966&4294967295)<<22&4294967295|ze>>>10))+((ze=ke+(bt^Ke&(dt^bt))+at[4]+4118548399&4294967295)<<7&4294967295|ze>>>25))+((ze=bt+(dt^ke&(Ke^dt))+at[5]+1200080426&4294967295)<<12&4294967295|ze>>>20))+((ze=dt+(Ke^bt&(ke^Ke))+at[6]+2821735955&4294967295)<<17&4294967295|ze>>>15))+((ze=Ke+(ke^dt&(bt^ke))+at[7]+4249261313&4294967295)<<22&4294967295|ze>>>10))+((ze=ke+(bt^Ke&(dt^bt))+at[8]+1770035416&4294967295)<<7&4294967295|ze>>>25))+((ze=bt+(dt^ke&(Ke^dt))+at[9]+2336552879&4294967295)<<12&4294967295|ze>>>20))+((ze=dt+(Ke^bt&(ke^Ke))+at[10]+4294925233&4294967295)<<17&4294967295|ze>>>15))+((ze=Ke+(ke^dt&(bt^ke))+at[11]+2304563134&4294967295)<<22&4294967295|ze>>>10))+((ze=ke+(bt^Ke&(dt^bt))+at[12]+1804603682&4294967295)<<7&4294967295|ze>>>25))+((ze=bt+(dt^ke&(Ke^dt))+at[13]+4254626195&4294967295)<<12&4294967295|ze>>>20))+((ze=dt+(Ke^bt&(ke^Ke))+at[14]+2792965006&4294967295)<<17&4294967295|ze>>>15))+((ze=Ke+(ke^dt&(bt^ke))+at[15]+1236535329&4294967295)<<22&4294967295|ze>>>10))+((ze=ke+(dt^bt&(Ke^dt))+at[1]+4129170786&4294967295)<<5&4294967295|ze>>>27))+((ze=bt+(Ke^dt&(ke^Ke))+at[6]+3225465664&4294967295)<<9&4294967295|ze>>>23))+((ze=dt+(ke^Ke&(bt^ke))+at[11]+643717713&4294967295)<<14&4294967295|ze>>>18))+((ze=Ke+(bt^ke&(dt^bt))+at[0]+3921069994&4294967295)<<20&4294967295|ze>>>12))+((ze=ke+(dt^bt&(Ke^dt))+at[5]+3593408605&4294967295)<<5&4294967295|ze>>>27))+((ze=bt+(Ke^dt&(ke^Ke))+at[10]+38016083&4294967295)<<9&4294967295|ze>>>23))+((ze=dt+(ke^Ke&(bt^ke))+at[15]+3634488961&4294967295)<<14&4294967295|ze>>>18))+((ze=Ke+(bt^ke&(dt^bt))+at[4]+3889429448&4294967295)<<20&4294967295|ze>>>12))+((ze=ke+(dt^bt&(Ke^dt))+at[9]+568446438&4294967295)<<5&4294967295|ze>>>27))+((ze=bt+(Ke^dt&(ke^Ke))+at[14]+3275163606&4294967295)<<9&4294967295|ze>>>23))+((ze=dt+(ke^Ke&(bt^ke))+at[3]+4107603335&4294967295)<<14&4294967295|ze>>>18))+((ze=Ke+(bt^ke&(dt^bt))+at[8]+1163531501&4294967295)<<20&4294967295|ze>>>12))+((ze=ke+(dt^bt&(Ke^dt))+at[13]+2850285829&4294967295)<<5&4294967295|ze>>>27))+((ze=bt+(Ke^dt&(ke^Ke))+at[2]+4243563512&4294967295)<<9&4294967295|ze>>>23))+((ze=dt+(ke^Ke&(bt^ke))+at[7]+1735328473&4294967295)<<14&4294967295|ze>>>18))+((ze=Ke+(bt^ke&(dt^bt))+at[12]+2368359562&4294967295)<<20&4294967295|ze>>>12))+((ze=ke+(Ke^dt^bt)+at[5]+4294588738&4294967295)<<4&4294967295|ze>>>28))+((ze=bt+(ke^Ke^dt)+at[8]+2272392833&4294967295)<<11&4294967295|ze>>>21))+((ze=dt+(bt^ke^Ke)+at[11]+1839030562&4294967295)<<16&4294967295|ze>>>16))+((ze=Ke+(dt^bt^ke)+at[14]+4259657740&4294967295)<<23&4294967295|ze>>>9))+((ze=ke+(Ke^dt^bt)+at[1]+2763975236&4294967295)<<4&4294967295|ze>>>28))+((ze=bt+(ke^Ke^dt)+at[4]+1272893353&4294967295)<<11&4294967295|ze>>>21))+((ze=dt+(bt^ke^Ke)+at[7]+4139469664&4294967295)<<16&4294967295|ze>>>16))+((ze=Ke+(dt^bt^ke)+at[10]+3200236656&4294967295)<<23&4294967295|ze>>>9))+((ze=ke+(Ke^dt^bt)+at[13]+681279174&4294967295)<<4&4294967295|ze>>>28))+((ze=bt+(ke^Ke^dt)+at[0]+3936430074&4294967295)<<11&4294967295|ze>>>21))+((ze=dt+(bt^ke^Ke)+at[3]+3572445317&4294967295)<<16&4294967295|ze>>>16))+((ze=Ke+(dt^bt^ke)+at[6]+76029189&4294967295)<<23&4294967295|ze>>>9))+((ze=ke+(Ke^dt^bt)+at[9]+3654602809&4294967295)<<4&4294967295|ze>>>28))+((ze=bt+(ke^Ke^dt)+at[12]+3873151461&4294967295)<<11&4294967295|ze>>>21))+((ze=dt+(bt^ke^Ke)+at[15]+530742520&4294967295)<<16&4294967295|ze>>>16))+((ze=Ke+(dt^bt^ke)+at[2]+3299628645&4294967295)<<23&4294967295|ze>>>9))+((ze=ke+(dt^(Ke|~bt))+at[0]+4096336452&4294967295)<<6&4294967295|ze>>>26))+((ze=bt+(Ke^(ke|~dt))+at[7]+1126891415&4294967295)<<10&4294967295|ze>>>22))+((ze=dt+(ke^(bt|~Ke))+at[14]+2878612391&4294967295)<<15&4294967295|ze>>>17))+((ze=Ke+(bt^(dt|~ke))+at[5]+4237533241&4294967295)<<21&4294967295|ze>>>11))+((ze=ke+(dt^(Ke|~bt))+at[12]+1700485571&4294967295)<<6&4294967295|ze>>>26))+((ze=bt+(Ke^(ke|~dt))+at[3]+2399980690&4294967295)<<10&4294967295|ze>>>22))+((ze=dt+(ke^(bt|~Ke))+at[10]+4293915773&4294967295)<<15&4294967295|ze>>>17))+((ze=Ke+(bt^(dt|~ke))+at[1]+2240044497&4294967295)<<21&4294967295|ze>>>11))+((ze=ke+(dt^(Ke|~bt))+at[8]+1873313359&4294967295)<<6&4294967295|ze>>>26))+((ze=bt+(Ke^(ke|~dt))+at[15]+4264355552&4294967295)<<10&4294967295|ze>>>22))+((ze=dt+(ke^(bt|~Ke))+at[6]+2734768916&4294967295)<<15&4294967295|ze>>>17))+((ze=Ke+(bt^(dt|~ke))+at[13]+1309151649&4294967295)<<21&4294967295|ze>>>11))+((bt=(ke=Ke+((ze=ke+(dt^(Ke|~bt))+at[4]+4149444226&4294967295)<<6&4294967295|ze>>>26))+((ze=bt+(Ke^(ke|~dt))+at[11]+3174756917&4294967295)<<10&4294967295|ze>>>22))^((dt=bt+((ze=dt+(ke^(bt|~Ke))+at[2]+718787259&4294967295)<<15&4294967295|ze>>>17))|~ke))+at[9]+3951481745&4294967295,ot.g[0]=ot.g[0]+ke&4294967295,ot.g[1]=ot.g[1]+(dt+(ze<<21&4294967295|ze>>>11))&4294967295,ot.g[2]=ot.g[2]+dt&4294967295,ot.g[3]=ot.g[3]+bt&4294967295}function b(ot,ke){this.h=ke;for(var Ke=[],at=!0,dt=ot.length-1;0<=dt;dt--){var bt=0|ot[dt];at&&bt==ke||(Ke[dt]=bt,at=!1)}this.g=Ke}(function e(ot,ke){function Ke(){}Ke.prototype=ke.prototype,ot.D=ke.prototype,ot.prototype=new Ke,ot.prototype.constructor=ot,ot.C=function(at,dt,bt){for(var ze=Array(arguments.length-2),uu=2;uu<arguments.length;uu++)ze[uu-2]=arguments[uu];return ke.prototype[dt].apply(at,ze)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(ot,ke){void 0===ke&&(ke=ot.length);for(var Ke=ke-this.blockSize,at=this.B,dt=this.h,bt=0;bt<ke;){if(0==dt)for(;bt<=Ke;)h(this,ot,bt),bt+=this.blockSize;if("string"==typeof ot){for(;bt<ke;)if(at[dt++]=ot.charCodeAt(bt++),dt==this.blockSize){h(this,at),dt=0;break}}else for(;bt<ke;)if(at[dt++]=ot[bt++],dt==this.blockSize){h(this,at),dt=0;break}}this.h=dt,this.o+=ke},o.prototype.v=function(){var ot=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ot[0]=128;for(var ke=1;ke<ot.length-8;++ke)ot[ke]=0;var Ke=8*this.o;for(ke=ot.length-8;ke<ot.length;++ke)ot[ke]=255&Ke,Ke/=256;for(this.u(ot),ot=Array(16),ke=Ke=0;4>ke;++ke)for(var at=0;32>at;at+=8)ot[Ke++]=this.g[ke]>>>at&255;return ot};var x={};function F(ot){return-128<=ot&&128>ot?function _(ot,ke){var Ke=x;return Object.prototype.hasOwnProperty.call(Ke,ot)?Ke[ot]:Ke[ot]=ke(ot)}(ot,function(ke){return new b([0|ke],0>ke?-1:0)}):new b([0|ot],0>ot?-1:0)}function K(ot){if(isNaN(ot)||!isFinite(ot))return ye;if(0>ot)return Zt(K(-ot));for(var ke=[],Ke=1,at=0;ot>=Ke;at++)ke[at]=ot/Ke|0,Ke*=4294967296;return new b(ke,0)}var ye=F(0),$e=F(1),yt=F(16777216);function jt(ot){if(0!=ot.h)return!1;for(var ke=0;ke<ot.g.length;ke++)if(0!=ot.g[ke])return!1;return!0}function un(ot){return-1==ot.h}function Zt(ot){for(var ke=ot.g.length,Ke=[],at=0;at<ke;at++)Ke[at]=~ot.g[at];return new b(Ke,~ot.h).add($e)}function Xn(ot,ke){return ot.add(Zt(ke))}function or(ot,ke){for(;(65535&ot[ke])!=ot[ke];)ot[ke+1]+=ot[ke]>>>16,ot[ke]&=65535,ke++}function er(ot,ke){this.g=ot,this.h=ke}function Or(ot,ke){if(jt(ke))throw Error("division by zero");if(jt(ot))return new er(ye,ye);if(un(ot))return ke=Or(Zt(ot),ke),new er(Zt(ke.g),Zt(ke.h));if(un(ke))return ke=Or(ot,Zt(ke)),new er(Zt(ke.g),ke.h);if(30<ot.g.length){if(un(ot)||un(ke))throw Error("slowDivide_ only works with positive integers.");for(var Ke=$e,at=ke;0>=at.l(ot);)Ke=Vi(Ke),at=Vi(at);var dt=ii(Ke,1),bt=ii(at,1);for(at=ii(at,2),Ke=ii(Ke,2);!jt(at);){var ze=bt.add(at);0>=ze.l(ot)&&(dt=dt.add(Ke),bt=ze),at=ii(at,1),Ke=ii(Ke,1)}return ke=Xn(ot,dt.j(ke)),new er(dt,ke)}for(dt=ye;0<=ot.l(ke);){for(Ke=Math.max(1,Math.floor(ot.m()/ke.m())),at=48>=(at=Math.ceil(Math.log(Ke)/Math.LN2))?1:Math.pow(2,at-48),ze=(bt=K(Ke)).j(ke);un(ze)||0<ze.l(ot);)ze=(bt=K(Ke-=at)).j(ke);jt(bt)&&(bt=$e),dt=dt.add(bt),ot=Xn(ot,ze)}return new er(dt,ot)}function Vi(ot){for(var ke=ot.g.length+1,Ke=[],at=0;at<ke;at++)Ke[at]=ot.i(at)<<1|ot.i(at-1)>>>31;return new b(Ke,ot.h)}function ii(ot,ke){var Ke=ke>>5;ke%=32;for(var at=ot.g.length-Ke,dt=[],bt=0;bt<at;bt++)dt[bt]=0<ke?ot.i(bt+Ke)>>>ke|ot.i(bt+Ke+1)<<32-ke:ot.i(bt+Ke);return new b(dt,ot.h)}(d=b.prototype).m=function(){if(un(this))return-Zt(this).m();for(var ot=0,ke=1,Ke=0;Ke<this.g.length;Ke++){var at=this.i(Ke);ot+=(0<=at?at:4294967296+at)*ke,ke*=4294967296}return ot},d.toString=function(ot){if(2>(ot=ot||10)||36<ot)throw Error("radix out of range: "+ot);if(jt(this))return"0";if(un(this))return"-"+Zt(this).toString(ot);for(var ke=K(Math.pow(ot,6)),Ke=this,at="";;){var dt=Or(Ke,ke).g,bt=((0<(Ke=Xn(Ke,dt.j(ke))).g.length?Ke.g[0]:Ke.h)>>>0).toString(ot);if(jt(Ke=dt))return bt+at;for(;6>bt.length;)bt="0"+bt;at=bt+at}},d.i=function(ot){return 0>ot?0:ot<this.g.length?this.g[ot]:this.h},d.l=function(ot){return un(ot=Xn(this,ot))?-1:jt(ot)?0:1},d.abs=function(){return un(this)?Zt(this):this},d.add=function(ot){for(var ke=Math.max(this.g.length,ot.g.length),Ke=[],at=0,dt=0;dt<=ke;dt++){var bt=at+(65535&this.i(dt))+(65535&ot.i(dt)),ze=(bt>>>16)+(this.i(dt)>>>16)+(ot.i(dt)>>>16);at=ze>>>16,Ke[dt]=(ze&=65535)<<16|(bt&=65535)}return new b(Ke,-2147483648&Ke[Ke.length-1]?-1:0)},d.j=function(ot){if(jt(this)||jt(ot))return ye;if(un(this))return un(ot)?Zt(this).j(Zt(ot)):Zt(Zt(this).j(ot));if(un(ot))return Zt(this.j(Zt(ot)));if(0>this.l(yt)&&0>ot.l(yt))return K(this.m()*ot.m());for(var ke=this.g.length+ot.g.length,Ke=[],at=0;at<2*ke;at++)Ke[at]=0;for(at=0;at<this.g.length;at++)for(var dt=0;dt<ot.g.length;dt++){var bt=this.i(at)>>>16,ze=65535&this.i(at),uu=ot.i(dt)>>>16,Yp=65535&ot.i(dt);Ke[2*at+2*dt]+=ze*Yp,or(Ke,2*at+2*dt),Ke[2*at+2*dt+1]+=bt*Yp,or(Ke,2*at+2*dt+1),Ke[2*at+2*dt+1]+=ze*uu,or(Ke,2*at+2*dt+1),Ke[2*at+2*dt+2]+=bt*uu,or(Ke,2*at+2*dt+2)}for(at=0;at<ke;at++)Ke[at]=Ke[2*at+1]<<16|Ke[2*at];for(at=ke;at<2*ke;at++)Ke[at]=0;return new b(Ke,0)},d.A=function(ot){return Or(this,ot).h},d.and=function(ot){for(var ke=Math.max(this.g.length,ot.g.length),Ke=[],at=0;at<ke;at++)Ke[at]=this.i(at)&ot.i(at);return new b(Ke,this.h&ot.h)},d.or=function(ot){for(var ke=Math.max(this.g.length,ot.g.length),Ke=[],at=0;at<ke;at++)Ke[at]=this.i(at)|ot.i(at);return new b(Ke,this.h|ot.h)},d.xor=function(ot){for(var ke=Math.max(this.g.length,ot.g.length),Ke=[],at=0;at<ke;at++)Ke[at]=this.i(at)^ot.i(at);return new b(Ke,this.h^ot.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Ne=xe.Md5=o,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=K,b.fromString=function oe(ot,ke){if(0==ot.length)throw Error("number format error: empty string");if(2>(ke=ke||10)||36<ke)throw Error("radix out of range: "+ke);if("-"==ot.charAt(0))return Zt(oe(ot.substring(1),ke));if(0<=ot.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ke=K(Math.pow(ke,8)),at=ye,dt=0;dt<ot.length;dt+=8){var bt=Math.min(8,ot.length-dt),ze=parseInt(ot.substring(dt,dt+bt),ke);8>bt?(bt=K(Math.pow(ke,bt)),at=at.j(bt).add(K(ze))):at=(at=at.j(Ke)).add(K(ze))}return at},Le=xe.Integer=b}).apply(typeof Se<"u"?Se:typeof self<"u"?self:typeof window<"u"?window:{});var pe,je,It,wt,Ft,Pt,hn,Ge,te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,U,q){return E==Array.prototype||E==Object.prototype||(E[U]=q.value),E},o=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof te&&te];for(var U=0;U<E.length;++U){var q=E[U];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(E,U){if(U)e:{var q=o;E=E.split(".");for(var me=0;me<E.length-1;me++){var ht=E[me];if(!(ht in q))break e;q=q[ht]}(U=U(me=q[E=E[E.length-1]]))!=me&&null!=U&&e(q,E,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(E){return E||function(){return function _(E,U){E instanceof String&&(E+="");var q=0,me=!1,ht={next:function(){if(!me&&q<E.length){var St=q++;return{value:U(St,E[St]),done:!1}}return me=!0,{done:!0,value:void 0}}};return ht[Symbol.iterator]=function(){return ht},ht}(this,function(U,q){return q})}});var b=b||{},x=this||self;function F(E){var U=typeof E;return"array"==(U="object"!=U?U:E?Array.isArray(E)?"array":U:"null")||"object"==U&&"number"==typeof E.length}function K(E){var U=typeof E;return"object"==U&&null!=E||"function"==U}function oe(E,U,q){return E.call.apply(E.bind,arguments)}function ye(E,U,q){if(!E)throw Error();if(2<arguments.length){var me=Array.prototype.slice.call(arguments,2);return function(){var ht=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ht,me),E.apply(U,ht)}}return function(){return E.apply(U,arguments)}}function $e(E,U,q){return($e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oe:ye).apply(null,arguments)}function yt(E,U){var q=Array.prototype.slice.call(arguments,1);return function(){var me=q.slice();return me.push.apply(me,arguments),E.apply(this,me)}}function jt(E,U){function q(){}q.prototype=U.prototype,E.aa=U.prototype,E.prototype=new q,E.prototype.constructor=E,E.Qb=function(me,ht,St){for(var In=Array(arguments.length-2),Yi=2;Yi<arguments.length;Yi++)In[Yi-2]=arguments[Yi];return U.prototype[ht].apply(me,In)}}function un(E){const U=E.length;if(0<U){const q=Array(U);for(let me=0;me<U;me++)q[me]=E[me];return q}return[]}function Zt(E,U){for(let q=1;q<arguments.length;q++){const me=arguments[q];if(F(me)){const ht=E.length||0,St=me.length||0;E.length=ht+St;for(let In=0;In<St;In++)E[ht+In]=me[In]}else E.push(me)}}function or(E){return/^[\s\xa0]*$/.test(E)}function er(){var E=x.navigator;return E&&(E=E.userAgent)?E:""}function Or(E){return Or[" "](E),E}Or[" "]=function(){};var Vi=!(-1==er().indexOf("Gecko")||-1!=er().toLowerCase().indexOf("webkit")&&-1==er().indexOf("Edge")||-1!=er().indexOf("Trident")||-1!=er().indexOf("MSIE")||-1!=er().indexOf("Edge"));function ii(E,U,q){for(const me in E)U.call(q,E[me],me,E)}function ke(E){const U={};for(const q in E)U[q]=E[q];return U}const Ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(E,U){let q,me;for(let ht=1;ht<arguments.length;ht++){for(q in me=arguments[ht],me)E[q]=me[q];for(let St=0;St<Ke.length;St++)q=Ke[St],Object.prototype.hasOwnProperty.call(me,q)&&(E[q]=me[q])}}function dt(E){var U=1;E=E.split(":");const q=[];for(;0<U&&E.length;)q.push(E.shift()),U--;return E.length&&q.push(E.join(":")),q}function bt(E){x.setTimeout(()=>{throw E},0)}function ze(){var E=G_;let U=null;return E.g&&(U=E.g,E.g=E.g.next,E.g||(E.h=null),U.next=null),U}var Yp=new class Xn{constructor(U,q){this.i=U,this.j=q,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new F0,E=>E.reset());class F0{constructor(){this.next=this.g=this.h=null}set(U,q){this.h=U,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Pf,Xp=!1,G_=new class uu{constructor(){this.h=this.g=null}add(U,q){const me=Yp.get();me.set(U,q),this.h?this.h.next=me:this.g=me,this.h=me}},vm=()=>{const E=x.Promise.resolve(void 0);Pf=()=>{E.then(L0)}};var L0=()=>{for(var E;E=ze();){try{E.h.call(E.g)}catch(q){bt(q)}var U=Yp;U.j(E),100>U.h&&(U.h++,E.next=U.g,U.g=E)}Xp=!1};function id(){this.s=this.s,this.C=this.C}function aa(E,U){this.type=E,this.g=this.target=U,this.defaultPrevented=!1}id.prototype.s=!1,id.prototype.ma=function(){this.s||(this.s=!0,this.N())},id.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},aa.prototype.h=function(){this.defaultPrevented=!0};var V0=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var E=!1,U=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const q=()=>{};x.addEventListener("test",q,U),x.removeEventListener("test",q,U)}catch{}return E}();function Qp(E,U){if(aa.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var q=this.type=E.type,me=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=U,U=E.relatedTarget){if(Vi){e:{try{Or(U.nodeName);var ht=!0;break e}catch{}ht=!1}ht||(U=null)}}else"mouseover"==q?U=E.fromElement:"mouseout"==q&&(U=E.toElement);this.relatedTarget=U,me?(this.clientX=void 0!==me.clientX?me.clientX:me.pageX,this.clientY=void 0!==me.clientY?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Ml[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Qp.aa.h.call(this)}}jt(Qp,aa);var Ml={2:"touch",3:"pen",4:"mouse"};Qp.prototype.h=function(){Qp.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var vh="closure_listenable_"+(1e6*Math.random()|0),U0=0;function Tv(E,U,q,me,ht){this.listener=E,this.proxy=null,this.src=U,this.type=q,this.capture=!!me,this.ha=ht,this.key=++U0,this.da=this.fa=!1}function Em(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Jp(E){this.src=E,this.g={},this.h=0}function Zp(E,U){var q=U.type;if(q in E.g){var St,me=E.g[q],ht=Array.prototype.indexOf.call(me,U,void 0);(St=0<=ht)&&Array.prototype.splice.call(me,ht,1),St&&(Em(U),0==E.g[q].length&&(delete E.g[q],E.h--))}}function Mf(E,U,q,me){for(var ht=0;ht<E.length;++ht){var St=E[ht];if(!St.da&&St.listener==U&&St.capture==!!q&&St.ha==me)return ht}return-1}Jp.prototype.add=function(E,U,q,me,ht){var St=E.toString();(E=this.g[St])||(E=this.g[St]=[],this.h++);var In=Mf(E,U,me,ht);return-1<In?(U=E[In],q||(U.fa=!1)):((U=new Tv(U,this.src,St,!!me,ht)).fa=q,E.push(U)),U};var eg="closure_lm_"+(1e6*Math.random()|0),Iv={};function z_(E,U,q,me,ht){if(me&&me.once)return K_(E,U,q,me,ht);if(Array.isArray(U)){for(var St=0;St<U.length;St++)z_(E,U[St],q,me,ht);return null}return q=Cm(q),E&&E[vh]?E.K(U,q,K(me)?!!me.capture:!!me,ht):W_(E,U,q,!1,me,ht)}function W_(E,U,q,me,ht,St){if(!U)throw Error("Invalid event type");var In=K(ht)?!!ht.capture:!!ht,Yi=tg(E);if(Yi||(E[eg]=Yi=new Jp(E)),(q=Yi.add(U,q,me,In,St)).proxy)return q;if(me=function wv(){const U=j0;return function E(q){return U.call(E.src,E.listener,q)}}(),q.proxy=me,me.src=E,me.listener=q,E.addEventListener)V0||(ht=In),void 0===ht&&(ht=!1),E.addEventListener(U.toString(),me,ht);else if(E.attachEvent)E.attachEvent(Av(U.toString()),me);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(me)}return q}function K_(E,U,q,me,ht){if(Array.isArray(U)){for(var St=0;St<U.length;St++)K_(E,U[St],q,me,ht);return null}return q=Cm(q),E&&E[vh]?E.L(U,q,K(me)?!!me.capture:!!me,ht):W_(E,U,q,!0,me,ht)}function bm(E,U,q,me,ht){if(Array.isArray(U))for(var St=0;St<U.length;St++)bm(E,U[St],q,me,ht);else me=K(me)?!!me.capture:!!me,q=Cm(q),E&&E[vh]?(E=E.i,(U=String(U).toString())in E.g&&-1<(q=Mf(St=E.g[U],q,me,ht))&&(Em(St[q]),Array.prototype.splice.call(St,q,1),0==St.length&&(delete E.g[U],E.h--))):E&&(E=tg(E))&&(U=E.g[U.toString()],E=-1,U&&(E=Mf(U,q,me,ht)),(q=-1<E?U[E]:null)&&Qc(q))}function Qc(E){if("number"!=typeof E&&E&&!E.da){var U=E.src;if(U&&U[vh])Zp(U.i,E);else{var q=E.type,me=E.proxy;U.removeEventListener?U.removeEventListener(q,me,E.capture):U.detachEvent?U.detachEvent(Av(q),me):U.addListener&&U.removeListener&&U.removeListener(me),(q=tg(U))?(Zp(q,E),0==q.h&&(q.src=null,U[eg]=null)):Em(E)}}}function Av(E){return E in Iv?Iv[E]:Iv[E]="on"+E}function j0(E,U){if(E.da)E=!0;else{U=new Qp(U,this);var q=E.listener,me=E.ha||E.src;E.fa&&Qc(E),E=q.call(me,U)}return E}function tg(E){return(E=E[eg])instanceof Jp?E:null}var q_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cm(E){return"function"==typeof E?E:(E[q_]||(E[q_]=function(U){return E.handleEvent(U)}),E[q_])}function ca(){id.call(this),this.i=new Jp(this),this.M=this,this.F=null}function xo(E,U){var q,me=E.F;if(me)for(q=[];me;me=me.F)q.push(me);if(E=E.M,me=U.type||U,"string"==typeof U)U=new aa(U,E);else if(U instanceof aa)U.target=U.target||E;else{var ht=U;at(U=new aa(me,E),ht)}if(ht=!0,q)for(var St=q.length-1;0<=St;St--){var In=U.g=q[St];ht=sd(In,me,!0,U)&&ht}if(ht=sd(In=U.g=E,me,!0,U)&&ht,ht=sd(In,me,!1,U)&&ht,q)for(St=0;St<q.length;St++)ht=sd(In=U.g=q[St],me,!1,U)&&ht}function sd(E,U,q,me){if(!(U=E.i.g[String(U)]))return!0;U=U.concat();for(var ht=!0,St=0;St<U.length;++St){var In=U[St];if(In&&!In.da&&In.capture==q){var Yi=In.listener,Hi=In.ha||In.src;In.fa&&Zp(E.i,In),ht=!1!==Yi.call(Hi,me)&&ht}}return ht&&!me.defaultPrevented}function Y_(E,U,q){if("function"==typeof E)q&&(E=$e(E,q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=$e(E.handleEvent,E)}return 2147483647<Number(U)?-1:x.setTimeout(E,U||0)}function ng(E){E.g=Y_(()=>{E.g=null,E.i&&(E.i=!1,ng(E))},E.l);const U=E.h;E.h=null,E.m.apply(null,U)}jt(ca,id),ca.prototype[vh]=!0,ca.prototype.removeEventListener=function(E,U,q,me){bm(this,E,U,q,me)},ca.prototype.N=function(){if(ca.aa.N.call(this),this.i){var U,E=this.i;for(U in E.g){for(var q=E.g[U],me=0;me<q.length;me++)Em(q[me]);delete E.g[U],E.h--}}this.F=null},ca.prototype.K=function(E,U,q,me){return this.i.add(String(E),U,!1,q,me)},ca.prototype.L=function(E,U,q,me){return this.i.add(String(E),U,!0,q,me)};class QE extends id{constructor(U,q){super(),this.m=U,this.l=q,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:ng(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rg(E){id.call(this),this.h=E,this.g={}}jt(rg,id);var X_=[];function Q_(E){ii(E.g,function(U,q){this.g.hasOwnProperty(q)&&Qc(U)},E),E.g={}}rg.prototype.N=function(){rg.aa.N.call(this),Q_(this)},rg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var J_=x.JSON.stringify,B0=x.JSON.parse,Dv=class{stringify(E){return x.JSON.stringify(E,void 0)}parse(E){return x.JSON.parse(E,void 0)}};function Tm(){}function Sv(){}Tm.prototype.h=null;var Of={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Im(){aa.call(this,"d")}function Z_(){aa.call(this,"c")}jt(Im,aa),jt(Z_,aa);var Eh={},Nf=null;function ig(){return Nf=Nf||new ca}function ey(E){aa.call(this,Eh.La,E)}function kf(E){const U=ig();xo(U,new ey(U))}function ty(E,U){aa.call(this,Eh.STAT_EVENT,E),this.stat=U}function Po(E){const U=ig();xo(U,new ty(U,E))}function wm(E,U){aa.call(this,Eh.Ma,E),this.size=U}function Ff(E,U){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){E()},U)}function sg(){this.g=!0}function bh(E,U,q,me){E.info(function(){return"XMLHTTP TEXT ("+U+"): "+function xv(E,U){if(!E.g)return U;if(!U)return null;try{var q=JSON.parse(U);if(q)for(E=0;E<q.length;E++)if(Array.isArray(q[E])){var me=q[E];if(!(2>me.length)){var ht=me[1];if(Array.isArray(ht)&&!(1>ht.length)){var St=ht[0];if("noop"!=St&&"stop"!=St&&"close"!=St)for(var In=1;In<ht.length;In++)ht[In]=""}}}return J_(q)}catch{return U}}(E,q)+(me?" "+me:"")})}Eh.La="serverreachability",jt(ey,aa),Eh.STAT_EVENT="statevent",jt(ty,aa),Eh.Ma="timingevent",jt(wm,aa),sg.prototype.xa=function(){this.g=!1},sg.prototype.info=function(){};var ry,cg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ny={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Dm(){}function od(E,U,q,me){this.j=E,this.i=U,this.l=q,this.R=me||1,this.U=new rg(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pv}function Pv(){this.i=null,this.g="",this.h=!1}jt(Dm,Tm),Dm.prototype.g=function(){return new XMLHttpRequest},Dm.prototype.i=function(){return{}},ry=new Dm;var iy={},Sm={};function sy(E,U,q){E.L=1,E.v=Vf(_a(U)),E.m=q,E.P=!0,$0(E,null)}function $0(E,U){E.F=Date.now(),oy(E),E.A=_a(E.v);var q=E.A,me=E.R;Array.isArray(me)||(me=[String(me)]),hy(q.i,"t",me),E.C=0,q=E.j.J,E.h=new Pv,E.g=Rh(E.j,q?U:null,!E.m),0<E.O&&(E.M=new QE($e(E.Y,E,E.g),E.O)),U=E.U,q=E.g,me=E.ca;var ht="readystatechange";Array.isArray(ht)||(ht&&(X_[0]=ht.toString()),ht=X_);for(var St=0;St<ht.length;St++){var In=z_(q,ht[St],me||U.handleEvent,!1,U.h||U);if(!In)break;U.g[In.key]=In}U=E.H?ke(E.H):{},E.m?(E.u||(E.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,U)):(E.u="GET",E.g.ea(E.A,E.u,null,U)),kf(),function og(E,U,q,me,ht,St){E.info(function(){if(E.g)if(St)for(var In="",Yi=St.split("&"),Hi=0;Hi<Yi.length;Hi++){var Fi=Yi[Hi].split("=");if(1<Fi.length){var da=Fi[0];Fi=Fi[1];var ha=da.split("_");In=2<=ha.length&&"type"==ha[1]?In+(da+"=")+Fi+"&":In+(da+"=redacted&")}}else In=null;else In=St;return"XMLHTTP REQ ("+me+") [attempt "+ht+"]: "+U+"\n"+q+"\n"+In})}(E.i,E.u,E.A,E.l,E.R,E.m)}function xm(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Mv(E,U){var q=E.C,me=U.indexOf("\n",q);return-1==me?Sm:(q=Number(U.substring(q,me)),isNaN(q)?iy:(me+=1)+q>U.length?Sm:(U=U.slice(me,me+q),E.C=me+q,U))}function oy(E){E.S=Date.now()+E.I,lg(E,E.I)}function lg(E,U){if(null!=E.B)throw Error("WatchDog timer not null");E.B=Ff($e(E.ba,E),U)}function ay(E){E.B&&(x.clearTimeout(E.B),E.B=null)}function ug(E){0==E.j.G||E.J||gd(E.j,E)}function du(E){ay(E);var U=E.M;U&&"function"==typeof U.ma&&U.ma(),E.M=null,Q_(E.U),E.g&&(U=E.g,E.g=null,U.abort(),U.ma())}function cy(E,U){try{var q=E.j;if(0!=q.G&&(q.g==E||Lf(q.h,E)))if(!E.K&&Lf(q.h,E)&&3==q.G){try{var me=q.Da.g.parse(U)}catch{me=null}if(Array.isArray(me)&&3==me.length){var ht=me;if(0==ht[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<E.F))break e;Nl(q),fd(q)}Mh(q),Po(18)}}else q.za=ht[1],0<q.za-q.T&&37500>ht[2]&&q.F&&0==q.v&&!q.C&&(q.C=Ff($e(q.Za,q),6e3));if(1>=ki(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Ec(q,11)}else if((E.K||q.g==E)&&Nl(q),!or(U))for(ht=q.Da.g.parse(U),U=0;U<ht.length;U++){let Fi=ht[U];if(q.T=Fi[0],Fi=Fi[1],2==q.G)if("c"==Fi[0]){q.K=Fi[1],q.ia=Fi[2];const da=Fi[3];null!=da&&(q.la=da,q.j.info("VER="+q.la));const ha=Fi[4];null!=ha&&(q.Aa=ha,q.j.info("SVER="+q.Aa));const md=Fi[5];null!=md&&"number"==typeof md&&0<md&&(q.L=me=1.5*md,q.j.info("backChannelRequestTimeoutMs_="+me)),me=q;const ka=E.g;if(ka){const yg=ka.g?ka.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yg){var St=me.h;St.g||-1==yg.indexOf("spdy")&&-1==yg.indexOf("quic")&&-1==yg.indexOf("h2")||(St.j=St.l,St.g=new Set,St.h&&(la(St,St.h),St.h=null))}if(me.D){const Fm=ka.g?ka.g.getResponseHeader("X-HTTP-Session-Id"):null;Fm&&(me.ya=Fm,ds(me.I,me.D,Fm))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-E.F,q.j.info("Handshake RTT: "+q.R+"ms"));var In=E;if((me=q).qa=_y(me,me.J?me.ia:null,me.W),In.K){dg(me.h,In);var Yi=In,Hi=me.L;Hi&&(Yi.I=Hi),Yi.B&&(ay(Yi),oy(Yi)),me.g=In}else pd(me);0<q.i.length&&xh(q)}else"stop"!=Fi[0]&&"close"!=Fi[0]||Ec(q,7);else 3==q.G&&("stop"==Fi[0]||"close"==Fi[0]?"stop"==Fi[0]?Ec(q,7):mg(q):"noop"!=Fi[0]&&q.l&&q.l.ta(Fi),q.v=0)}kf()}catch{}}function Ch(E){this.l=E||10,E=x.PerformanceNavigationTiming?0<(E=x.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mo(E){return!!E.h||!!E.g&&E.g.size>=E.j}function ki(E){return E.h?1:E.g?E.g.size:0}function Lf(E,U){return E.h?E.h==U:!!E.g&&E.g.has(U)}function la(E,U){E.g?E.g.add(U):E.h=U}function dg(E,U){E.h&&E.h==U?E.h=null:E.g&&E.g.has(U)&&E.g.delete(U)}function ad(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let U=E.i;for(const q of E.g.values())U=U.concat(q.D);return U}return un(E.i)}function cd(E,U){if(E.forEach&&"function"==typeof E.forEach)E.forEach(U,void 0);else if(F(E)||"string"==typeof E)Array.prototype.forEach.call(E,U,void 0);else for(var q=function Ih(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(F(E)||"string"==typeof E){var U=[];E=E.length;for(var q=0;q<E;q++)U.push(q);return U}U=[],q=0;for(const me in E)U[q++]=me;return U}}}(E),me=function Th(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(F(E)){for(var U=[],q=E.length,me=0;me<q;me++)U.push(E[me]);return U}for(me in U=[],q=0,E)U[q++]=E[me];return U}(E),ht=me.length,St=0;St<ht;St++)U.call(void 0,me[St],q&&q[St],E)}od.prototype.ca=function(E){E=E.target;const U=this.M;U&&3==gu(E)?U.j():this.Y(E)},od.prototype.Y=function(E){try{if(E==this.g)e:{const ha=gu(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>ha)&&(3!=ha||this.g&&(this.h.h||this.g.oa()||gg(this.g)))){this.J||4!=ha||7==U||kf(),ay(this);var q=this.g.Z();this.X=q;t:if(xm(this)){var me=gg(this.g);E="";var ht=me.length,St=4==gu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){du(this),ug(this);var In="";break t}this.h.i=new x.TextDecoder}for(U=0;U<ht;U++)this.h.h=!0,E+=this.h.i.decode(me[U],{stream:!(St&&U==ht-1)});me.length=0,this.h.g+=E,this.C=0,In=this.h.g}else In=this.g.oa();if(this.o=200==q,function Am(E,U,q,me,ht,St,In){E.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+ht+"]: "+U+"\n"+q+"\n"+St+" "+In})}(this.i,this.u,this.A,this.l,this.R,ha,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Yi,Hi=this.g;if((Yi=Hi.g?Hi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!or(Yi)){var Fi=Yi;break t}}Fi=null}if(!(q=Fi)){this.o=!1,this.s=3,Po(12),du(this),ug(this);break e}bh(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cy(this,q)}if(this.P){let ka;for(q=!0;!this.J&&this.C<In.length;){if(ka=Mv(this,In),ka==Sm){4==ha&&(this.s=4,Po(14),q=!1),bh(this.i,this.l,null,"[Incomplete Response]");break}if(ka==iy){this.s=4,Po(15),bh(this.i,this.l,In,"[Invalid Chunk]"),q=!1;break}bh(this.i,this.l,ka,null),cy(this,ka)}if(xm(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ha||0!=In.length||this.h.h||(this.s=1,Po(16),q=!1),this.o=this.o&&q,q){if(0<In.length&&!this.W){this.W=!0;var da=this.j;da.g==this&&da.ba&&!da.M&&(da.j.info("Great, no buffering proxy detected. Bytes received: "+In.length),Gf(da),da.M=!0,Po(11))}}else bh(this.i,this.l,In,"[Invalid Chunked Response]"),du(this),ug(this)}else bh(this.i,this.l,In,null),cy(this,In);4==ha&&du(this),this.o&&!this.J&&(4==ha?gd(this.j,this):(this.o=!1,oy(this)))}else(function my(E){const U={};E=(E.g&&2<=gu(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let me=0;me<E.length;me++){if(or(E[me]))continue;var q=dt(E[me]);const ht=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const St=U[ht]||[];U[ht]=St,St.push(q)}!function ot(E,U){for(const q in E)U.call(void 0,E[q],q,E)}(U,function(me){return me.join(", ")})})(this.g),400==q&&0<In.indexOf("Unknown SID")?(this.s=3,Po(12)):(this.s=0,Po(13)),du(this),ug(this)}}}catch{}},od.prototype.cancel=function(){this.J=!0,du(this)},od.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function ag(E,U){E.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(kf(),Po(17)),du(this),this.s=2,ug(this)):lg(this,this.S-E)},Ch.prototype.cancel=function(){if(this.i=ad(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var ld=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Qa){this.h=E.h,Ol(this,E.j),this.o=E.o,this.g=E.g,hg(this,E.s),this.l=E.l;var U=E.i,q=new fg;q.i=U.i,U.g&&(q.g=new Map(U.g),q.h=U.h),Pm(this,q),this.m=E.m}else E&&(U=String(E).match(ld))?(this.h=!1,Ol(this,U[1]||"",!0),this.o=Ah(U[2]||""),this.g=Ah(U[3]||"",!0),hg(this,U[4]),this.l=Ah(U[5]||"",!0),Pm(this,U[6]||"",!0),this.m=Ah(U[7]||"")):(this.h=!1,this.i=new fg(null,this.h))}function _a(E){return new Qa(E)}function Ol(E,U,q){E.j=q?Ah(U,!0):U,E.j&&(E.j=E.j.replace(/:$/,""))}function hg(E,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);E.s=U}else E.s=null}function Pm(E,U,q){U instanceof fg?(E.i=U,function Nv(E,U){U&&!E.j&&(hu(E),E.i=null,E.g.forEach(function(q,me){var ht=me.toLowerCase();me!=ht&&(dy(this,me),hy(this,ht,q))},E)),E.j=U}(E.i,E.h)):(q||(U=Dh(U,Rv)),E.i=new fg(U,E.h))}function ds(E,U,q){E.i.set(U,q)}function Vf(E){return ds(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Ah(E,U){return E?U?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Dh(E,U,q){return"string"==typeof E?(E=encodeURI(E).replace(U,ly),q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function ly(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Qa.prototype.toString=function(){var E=[],U=this.j;U&&E.push(Dh(U,Mm,!0),":");var q=this.g;return(q||"file"==U)&&(E.push("//"),(U=this.o)&&E.push(Dh(U,Mm,!0),"@"),E.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&E.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&E.push("/"),E.push(Dh(q,"/"==q.charAt(0)?Rm:uy,!0))),(q=this.i.toString())&&E.push("?",q),(q=this.m)&&E.push("#",Dh(q,H0)),E.join("")};var E,Mm=/[#\/\?@]/g,uy=/[#\?:]/g,Rm=/[#\?]/g,Rv=/[#\?@]/g,H0=/#/g;function fg(E,U){this.h=this.g=null,this.i=E||null,this.j=!!U}function hu(E){E.g||(E.g=new Map,E.h=0,E.i&&function wh(E,U){if(E){E=E.split("&");for(var q=0;q<E.length;q++){var me=E[q].indexOf("="),ht=null;if(0<=me){var St=E[q].substring(0,me);ht=E[q].substring(me+1)}else St=E[q];U(St,ht?decodeURIComponent(ht.replace(/\+/g," ")):"")}}}(E.i,function(U,q){E.add(decodeURIComponent(U.replace(/\+/g," ")),q)}))}function dy(E,U){hu(E),U=Uf(E,U),E.g.has(U)&&(E.i=null,E.h-=E.g.get(U).length,E.g.delete(U))}function Ov(E,U){return hu(E),U=Uf(E,U),E.g.has(U)}function hy(E,U,q){dy(E,U),0<q.length&&(E.i=null,E.g.set(Uf(E,U),un(q)),E.h+=q.length)}function Uf(E,U){return U=String(U),E.j&&(U=U.toLowerCase()),U}function Jc(E,U,q,me,ht){try{ht&&(ht.onload=null,ht.onerror=null,ht.onabort=null,ht.ontimeout=null),me(q)}catch{}}function jf(){this.g=new Dv}function fy(E,U,q){const me=q||"";try{cd(E,function(ht,St){let In=ht;K(ht)&&(In=J_(ht)),U.push(me+St+"="+encodeURIComponent(In))})}catch(ht){throw U.push(me+"type="+encodeURIComponent("_badmap")),ht}}function fu(E){this.l=E.Ub||null,this.j=E.eb||!1}function Bf(E,U){ca.call(this),this.D=E,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Oa(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function ud(E){E.readyState=4,E.l=null,E.j=null,E.v=null,dd(E)}function dd(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function pu(E){let U="";return ii(E,function(q,me){U+=me,U+=":",U+=q,U+="\r\n"}),U}function $f(E,U,q){e:{for(me in q){var me=!1;break e}me=!0}me||(q=pu(q),"string"==typeof E?null!=q&&encodeURIComponent(String(q)):ds(E,U,q))}function xi(E){ca.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=fg.prototype).add=function(E,U){hu(this),this.i=null,E=Uf(this,E);var q=this.g.get(E);return q||this.g.set(E,q=[]),q.push(U),this.h+=1,this},d.forEach=function(E,U){hu(this),this.g.forEach(function(q,me){q.forEach(function(ht){E.call(U,ht,me,this)},this)},this)},d.na=function(){hu(this);const E=Array.from(this.g.values()),U=Array.from(this.g.keys()),q=[];for(let me=0;me<U.length;me++){const ht=E[me];for(let St=0;St<ht.length;St++)q.push(U[me])}return q},d.V=function(E){hu(this);let U=[];if("string"==typeof E)Ov(this,E)&&(U=U.concat(this.g.get(Uf(this,E))));else{E=Array.from(this.g.values());for(let q=0;q<E.length;q++)U=U.concat(E[q])}return U},d.set=function(E,U){return hu(this),this.i=null,Ov(this,E=Uf(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[U]),this.h+=1,this},d.get=function(E,U){return E&&0<(E=this.V(E)).length?String(E[0]):U},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],U=Array.from(this.g.keys());for(var q=0;q<U.length;q++){var me=U[q];const St=encodeURIComponent(String(me)),In=this.V(me);for(me=0;me<In.length;me++){var ht=St;""!==In[me]&&(ht+="="+encodeURIComponent(String(In[me]))),E.push(ht)}}return this.i=E.join("&")},jt(fu,Tm),fu.prototype.g=function(){return new Bf(this.l,this.j)},fu.prototype.i=(E={},function(){return E}),jt(Bf,ca),(d=Bf.prototype).open=function(E,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=U,this.readyState=1,dd(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(U.body=E),(this.D||x).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ud(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,dd(this)),this.g&&(this.readyState=3,dd(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oa(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var U=E.value?E.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!E.done}))&&(this.response=this.responseText+=U)}E.done?ud(this):dd(this),3==this.readyState&&Oa(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,ud(this))},d.Qa=function(E){this.g&&(this.response=E,ud(this))},d.ga=function(){this.g&&ud(this)},d.setRequestHeader=function(E,U){this.u.append(E,U)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],U=this.h.entries();for(var q=U.next();!q.done;)E.push((q=q.value)[0]+": "+q[1]),q=U.next();return E.join("\r\n")},Object.defineProperty(Bf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),jt(xi,ca);var py=/^https?$/i,Lv=["POST","PUT"];function Sh(E,U){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=U,E.m=5,Hf(E),pg(E)}function Hf(E){E.A||(E.A=!0,xo(E,"complete"),xo(E,"error"))}function vc(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=gu(E)||2!=E.Z()))if(E.u&&4==gu(E))Y_(E.Ea,0,E);else if(xo(E,"readystatechange"),4==gu(E)){E.h=!1;try{const In=E.Z();e:switch(In){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var q;if(!(q=U)){var me;if(me=0===In){var ht=String(E.D).match(ld)[1]||null;!ht&&x.self&&x.self.location&&(ht=x.self.location.protocol.slice(0,-1)),me=!py.test(ht?ht.toLowerCase():"")}q=me}if(q)xo(E,"complete"),xo(E,"success");else{E.m=6;try{var St=2<gu(E)?E.g.statusText:""}catch{St=""}E.l=St+" ["+E.Z()+"]",Hf(E)}}finally{pg(E)}}}function pg(E,U){if(E.g){gy(E);const q=E.g,me=E.v[0]?()=>{}:null;E.g=null,E.v=null,U||xo(E,"ready");try{q.onreadystatechange=me}catch{}}}function gy(E){E.I&&(x.clearTimeout(E.I),E.I=null)}function gu(E){return E.g?E.g.readyState:0}function gg(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function hd(E,U,q){return q&&q.internalChannelParams&&q.internalChannelParams[E]||U}function Vv(E){this.Aa=0,this.i=[],this.j=new sg,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hd("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hd("baseRetryDelayMs",5e3,E),this.cb=hd("retryDelaySeedMs",1e4,E),this.Wa=hd("forwardChannelMaxRetries",2,E),this.wa=hd("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Ch(E&&E.concurrentRequestLimit),this.Da=new jf,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function mg(E){if(Om(E),3==E.G){var U=E.U++,q=_a(E.I);if(ds(q,"SID",E.K),ds(q,"RID",U),ds(q,"TYPE","terminate"),mu(E,q),(U=new od(E,E.j,U)).L=2,U.v=Vf(_a(q)),q=!1,x.navigator&&x.navigator.sendBeacon)try{q=x.navigator.sendBeacon(U.v.toString(),"")}catch{}!q&&x.Image&&((new Image).src=U.v,q=!0),q||(U.g=Rh(U.j,null),U.g.ea(U.v)),U.F=Date.now(),oy(U)}km(E)}function fd(E){E.g&&(Gf(E),E.g.cancel(),E.g=null)}function Om(E){fd(E),E.u&&(x.clearTimeout(E.u),E.u=null),Nl(E),E.h.cancel(),E.s&&("number"==typeof E.s&&x.clearTimeout(E.s),E.s=null)}function xh(E){if(!Mo(E.h)&&!E.s){E.s=!0;var U=E.Ga;Pf||vm(),Xp||(Pf(),Xp=!0),G_.add(U,E),E.B=0}}function _g(E,U){var q;q=U?U.l:E.U++;const me=_a(E.I);ds(me,"SID",E.K),ds(me,"RID",q),ds(me,"AID",E.T),mu(E,me),E.m&&E.o&&$f(me,E.m,E.o),q=new od(E,E.j,q,E.B+1),null===E.m&&(q.H=E.o),U&&(E.i=U.D.concat(E.i)),U=Ph(E,q,1e3),q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),la(E.h,q),sy(q,me,U)}function mu(E,U){E.H&&ii(E.H,function(q,me){ds(U,me,q)}),E.l&&cd({},function(q,me){ds(U,me,q)})}function Ph(E,U,q){q=Math.min(E.i.length,q);var me=E.l?$e(E.l.Na,E.l,E):null;e:{var ht=E.i;let St=-1;for(;;){const In=["count="+q];-1==St?0<q?(St=ht[0].g,In.push("ofs="+St)):St=0:In.push("ofs="+St);let Yi=!0;for(let Hi=0;Hi<q;Hi++){let Fi=ht[Hi].g;const da=ht[Hi].map;if(Fi-=St,0>Fi)St=Math.max(0,ht[Hi].g-100),Yi=!1;else try{fy(da,In,"req"+Fi+"_")}catch{me&&me(da)}}if(Yi){me=In.join("&");break e}}}return E=E.i.splice(0,q),U.D=E,me}function pd(E){if(!E.g&&!E.u){E.Y=1;var U=E.Fa;Pf||vm(),Xp||(Pf(),Xp=!0),G_.add(U,E),E.v=0}}function Mh(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=Ff($e(E.Fa,E),Nm(E,E.v)),E.v++,0))}function Gf(E){null!=E.A&&(x.clearTimeout(E.A),E.A=null)}function Na(E){E.g=new od(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var U=_a(E.qa);ds(U,"RID","rpc"),ds(U,"SID",E.K),ds(U,"AID",E.T),ds(U,"CI",E.F?"0":"1"),!E.F&&E.ja&&ds(U,"TO",E.ja),ds(U,"TYPE","xmlhttp"),mu(E,U),E.m&&E.o&&$f(U,E.m,E.o),E.L&&(E.g.I=E.L);var q=E.g;E=E.ia,q.L=1,q.v=Vf(_a(U)),q.m=null,q.P=!0,$0(q,E)}function Nl(E){null!=E.C&&(x.clearTimeout(E.C),E.C=null)}function gd(E,U){var q=null;if(E.g==U){Nl(E),Gf(E),E.g=null;var me=2}else{if(!Lf(E.h,U))return;q=U.D,dg(E.h,U),me=1}if(0!=E.G)if(U.o)if(1==me){q=U.m?U.m.length:0,U=Date.now()-U.F;var ht=E.B;xo(me=ig(),new wm(me,q)),xh(E)}else pd(E);else if(3==(ht=U.s)||0==ht&&0<U.X||!(1==me&&function Uv(E,U){return!(ki(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=U.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=Ff($e(E.Ga,E,U),Nm(E,E.B)),E.B++,0)))}(E,U)||2==me&&Mh(E)))switch(q&&0<q.length&&(U=E.h,U.i=U.i.concat(q)),ht){case 1:Ec(E,5);break;case 4:Ec(E,10);break;case 3:Ec(E,6);break;default:Ec(E,2)}}function Nm(E,U){let q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(q*=2),q*U}function Ec(E,U){if(E.j.info("Error code "+U),2==U){var q=$e(E.fb,E),me=E.Xa;const ht=!me;me=new Qa(me||"//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Ol(me,"https"),Vf(me),ht?function kv(E,U){const q=new sg;if(x.Image){const me=new Image;me.onload=yt(Jc,q,"TestLoadImage: loaded",!0,U,me),me.onerror=yt(Jc,q,"TestLoadImage: error",!1,U,me),me.onabort=yt(Jc,q,"TestLoadImage: abort",!1,U,me),me.ontimeout=yt(Jc,q,"TestLoadImage: timeout",!1,U,me),x.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=E}else U(!1)}(me.toString(),q):function Fv(E,U){new sg;const me=new AbortController,ht=setTimeout(()=>{me.abort(),Jc(0,0,!1,U)},1e4);fetch(E,{signal:me.signal}).then(St=>{clearTimeout(ht),Jc(0,0,!!St.ok,U)}).catch(()=>{clearTimeout(ht),Jc(0,0,!1,U)})}(me.toString(),q)}else Po(2);E.G=0,E.l&&E.l.sa(U),km(E),Om(E)}function km(E){if(E.G=0,E.ka=[],E.l){const U=ad(E.h);(0!=U.length||0!=E.i.length)&&(Zt(E.ka,U),Zt(E.ka,E.i),E.h.i.length=0,un(E.i),E.i.length=0),E.l.ra()}}function _y(E,U,q){var me=q instanceof Qa?_a(q):new Qa(q);if(""!=me.g)U&&(me.g=U+"."+me.g),hg(me,me.s);else{var ht=x.location;me=ht.protocol,U=U?U+"."+ht.hostname:ht.hostname,ht=+ht.port;var St=new Qa(null);me&&Ol(St,me),U&&(St.g=U),ht&&hg(St,ht),q&&(St.l=q),me=St}return U=E.ya,(q=E.D)&&U&&ds(me,q,U),ds(me,"VER",E.la),mu(E,me),me}function Rh(E,U,q){if(U&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new xi(E.Ca&&!E.pa?new fu({eb:q}):E.pa)).Ha(E.J),U}function Ja(){}function ua(){}function eo(E,U){ca.call(this),this.g=new Vv(U),this.l=E,this.h=U&&U.messageUrlParams||null,E=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(E?E["X-WebChannel-Content-Type"]=U.messageContentType:E={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(E?E["X-WebChannel-Client-Profile"]=U.va:E={"X-WebChannel-Client-Profile":U.va}),this.g.S=E,(E=U&&U.Sb)&&!or(E)&&(this.g.m=E),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!or(U)&&(this.g.D=U,null!==(E=this.h)&&U in E&&U in(E=this.h)&&delete E[U]),this.j=new kl(this)}function Oh(E){Im.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var U=E.__sm__;if(U){e:{for(const q in U){E=q;break e}E=void 0}(this.i=E)&&(E=this.i,U=null!==U&&E in U?U[E]:void 0),this.data=U}else this.data=E}function yy(){Z_.call(this),this.status=1}function kl(E){this.g=E}(d=xi.prototype).Ha=function(E){this.J=E},d.ea=function(E,U,q,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);U=U?U.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ry.g(),this.v=function Rf(E){return E.h||(E.h=E.i())}(this.o?this.o:ry),this.g.onreadystatechange=$e(this.Ea,this);try{this.B=!0,this.g.open(U,String(E),!0),this.B=!1}catch(St){return void Sh(this,St)}if(E=q||"",q=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var ht in me)q.set(ht,me[ht]);else{if("function"!=typeof me.keys||"function"!=typeof me.get)throw Error("Unknown input type for opt_headers: "+String(me));for(const St of me.keys())q.set(St,me.get(St))}me=Array.from(q.keys()).find(St=>"content-type"==St.toLowerCase()),ht=x.FormData&&E instanceof x.FormData,!(0<=Array.prototype.indexOf.call(Lv,U,void 0))||me||ht||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[St,In]of q)this.g.setRequestHeader(St,In);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gy(this),this.u=!0,this.g.send(E),this.u=!1}catch(St){Sh(this,St)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,xo(this,"complete"),xo(this,"abort"),pg(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pg(this,!0)),xi.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?vc(this):this.bb())},d.bb=function(){vc(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<gu(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var U=this.g.responseText;return E&&0==U.indexOf(E)&&(U=U.substring(E.length)),B0(U)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=Vv.prototype).la=8,d.G=1,d.connect=function(E,U,q,me){Po(0),this.W=E,this.H=U||{},q&&void 0!==me&&(this.H.OSID=q,this.H.OAID=me),this.F=this.X,this.I=_y(this,null,this.W),xh(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const ht=new od(this,this.j,E);let St=this.o;if(this.S&&(St?(St=ke(St),at(St,this.S)):St=this.S),null!==this.m||this.O||(ht.H=St,St=null),this.P)e:{for(var U=0,q=0;q<this.i.length;q++){var me=this.i[q];if(void 0===(me="__data__"in me.map&&"string"==typeof(me=me.map.__data__)?me.length:void 0))break;if(4096<(U+=me)){U=q;break e}if(4096===U||q===this.i.length-1){U=q+1;break e}}U=1e3}else U=1e3;U=Ph(this,ht,U),ds(q=_a(this.I),"RID",E),ds(q,"CVER",22),this.D&&ds(q,"X-HTTP-Session-Id",this.D),mu(this,q),St&&(this.O?U="headers="+encodeURIComponent(String(pu(St)))+"&"+U:this.m&&$f(q,this.m,St)),la(this.h,ht),this.Ua&&ds(q,"TYPE","init"),this.P?(ds(q,"$req",U),ds(q,"SID","null"),ht.T=!0,sy(ht,q,null)):sy(ht,q,U),this.G=2}}else 3==this.G&&(E?_g(this,E):0==this.i.length||Mo(this.h)||_g(this))},d.Fa=function(){if(this.u=null,Na(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=Ff($e(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Po(10),fd(this),Na(this))},d.Za=function(){null!=this.C&&(this.C=null,fd(this),Mh(this),Po(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Po(2)):(this.j.info("Failed to ping google.com"),Po(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=Ja.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},ua.prototype.g=function(E,U){return new eo(E,U)},jt(eo,ca),eo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},eo.prototype.close=function(){mg(this.g)},eo.prototype.o=function(E){var U=this.g;if("string"==typeof E){var q={};q.__data__=E,E=q}else this.u&&((q={}).__data__=J_(E),E=q);U.i.push(new class{constructor(E,U){this.g=E,this.map=U}}(U.Ya++,E)),3==U.G&&xh(U)},eo.prototype.N=function(){this.g.l=null,delete this.j,mg(this.g),delete this.g,eo.aa.N.call(this)},jt(Oh,Im),jt(yy,Z_),jt(kl,Ja),kl.prototype.ua=function(){xo(this.g,"a")},kl.prototype.ta=function(E){xo(this.g,new Oh(E))},kl.prototype.sa=function(E){xo(this.g,new yy)},kl.prototype.ra=function(){xo(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,eo.prototype.send=eo.prototype.o,eo.prototype.open=eo.prototype.m,eo.prototype.close=eo.prototype.close,Ge=ae.createWebChannelTransport=function(){return new ua},hn=ae.getStatEventTarget=function(){return ig()},Pt=ae.Event=Eh,Ft=ae.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cg.NO_ERROR=0,cg.TIMEOUT=8,cg.HTTP_ERROR=6,wt=ae.ErrorCode=cg,ny.COMPLETE="complete",It=ae.EventType=ny,Sv.EventType=Of,Of.OPEN="a",Of.CLOSE="b",Of.ERROR="c",Of.MESSAGE="d",ca.prototype.listen=ca.prototype.K,je=ae.WebChannel=Sv,ae.FetchXmlHttpFactory=fu,xi.prototype.listenOnce=xi.prototype.L,xi.prototype.getLastError=xi.prototype.Ka,xi.prototype.getLastErrorCode=xi.prototype.Ba,xi.prototype.getStatus=xi.prototype.Z,xi.prototype.getResponseJson=xi.prototype.Oa,xi.prototype.getResponseText=xi.prototype.oa,xi.prototype.send=xi.prototype.ea,xi.prototype.setWithCredentials=xi.prototype.Ha,pe=ae.XhrIo=xi}).apply(typeof te<"u"?te:typeof self<"u"?self:typeof window<"u"?window:{});const be="@firebase/firestore";class et{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");let Ye="10.14.0";const it=new Ie.Vy("@firebase/firestore");function Dt(){return it.logLevel}function Mt(d){it.setLogLevel(d)}function De(d,...e){if(it.logLevel<=Ie.$b.DEBUG){const r=e.map(lr);it.debug(`Firestore (${Ye}): ${d}`,...r)}}function en(d,...e){if(it.logLevel<=Ie.$b.ERROR){const r=e.map(lr);it.error(`Firestore (${Ye}): ${d}`,...r)}}function mn(d,...e){if(it.logLevel<=Ie.$b.WARN){const r=e.map(lr);it.warn(`Firestore (${Ye}): ${d}`,...r)}}function lr(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function xt(d="Unexpected state"){const e=`FIRESTORE (${Ye}) INTERNAL ASSERTION FAILED: `+d;throw en(e),new Error(e)}function Vt(d,e){d||xt()}function Wt(d,e){d||xt()}function ut(d,e){return d}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends ge.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jt{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Be{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(et.UNAUTHENTICATED))}shutdown(){}}class Ee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ve{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;Vt(void 0===this.o);let h=this.i;const _=K=>this.i!==h?(h=this.i,r(K)):Promise.resolve();let b=new Jt;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Jt,e.enqueueRetryable(()=>_(this.currentUser))};const x=()=>{const K=b;e.enqueueRetryable((0,a.A)(function*(){yield K.promise,yield _(o.currentUser)}))},F=K=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),x())};this.t.onInit(K=>F(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?F(K):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Jt)}},0),x()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Vt("string"==typeof o.accessToken),new Be(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new et(e)}}class rt{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Qe{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new rt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Vt(void 0===this.o);const o=_=>{null!=_.error&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const b=_.token!==this.R;return this.R=_.token,De("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>o(_))};const h=_=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>h(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?h(_):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Vt("string"==typeof r.token),this.R=r.token,new Rt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<d;o++)r[o]=Math.floor(256*Math.random());return r}class Vn{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const h=tn(40);for(let _=0;_<h.length;++_)o.length<20&&h[_]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[_]%62))}return o}}function qt(d,e){return d<e?-1:d>e?1:0}function Hn(d,e,r){return d.length===e.length&&d.every((o,h)=>r(o,e[h]))}function Nn(d){return d+"\0"}class $t{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new tt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new tt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new tt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new $t(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new $t(0,0))}static max(){return new kt(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _r{constructor(e,r,o){void 0===r?r=0:r>e.length&&xt(),void 0===o?o=e.length-r:o>e.length-r&&xt(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===_r.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let h=0;h<o;h++){const _=e.get(h),b=r.get(h);if(_<b)return-1;if(_>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class cn extends _r{construct(e,r,o){return new cn(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new tt(Fe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(h=>h.length>0))}return new cn(r)}static emptyPath(){return new cn([])}}const Mr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends _r{construct(e,r,o){return new Zn(e,r,o)}static isValidIdentifier(e){return Mr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zn(["__name__"])}static fromServerFormat(e){const r=[];let o="",h=0;const _=()=>{if(0===o.length)throw new tt(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let b=!1;for(;h<e.length;){const x=e[h];if("\\"===x){if(h+1===e.length)throw new tt(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[h+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new tt(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=F,h+=2}else"`"===x?(b=!b,h++):"."!==x||b?(o+=x,h++):(_(),h++)}if(_(),b)throw new tt(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(r)}static emptyPath(){return new Zn([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(cn.fromString(e))}static fromName(e){return new Ut(cn.fromString(e).popFirst(5))}static empty(){return new Ut(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return cn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new cn(e.slice()))}}class Tn{constructor(e,r,o,h){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=h}}function Gn(d){return d.fields.find(e=>2===e.kind)}function an(d){return d.fields.filter(e=>2!==e.kind)}Tn.UNKNOWN_ID=-1;class Sr{constructor(e,r){this.fieldPath=e,this.kind=r}}class qn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new qn(0,fn.min())}}function hi(d,e){const r=d.toTimestamp().seconds,o=d.toTimestamp().nanoseconds+1,h=kt.fromTimestamp(1e9===o?new $t(r+1,0):new $t(r,o));return new fn(h,Ut.empty(),e)}function ys(d){return new fn(d.readTime,d.key,-1)}class fn{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new fn(kt.min(),Ut.empty(),-1)}static max(){return new fn(kt.max(),Ut.empty(),-1)}}function ei(d,e){let r=d.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ut.comparator(d.documentKey,e.documentKey),0!==r?r:qt(d.largestBatchId,e.largestBatchId))}const tr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Er{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zn(d){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,a.A)(function*(d){if(d.code!==Fe.FAILED_PRECONDITION||d.message!==tr)throw d;De("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new nt((o,h)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(o,h)},this.catchCallback=_=>{this.wrapFailure(r,_).next(o,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof nt?r:nt.resolve(r)}catch(r){return nt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):nt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):nt.reject(r)}static resolve(e){return new nt((r,o)=>{r(e)})}static reject(e){return new nt((r,o)=>{o(e)})}static waitFor(e){return new nt((r,o)=>{let h=0,_=0,b=!1;e.forEach(x=>{++h,x.next(()=>{++_,b&&_===h&&r()},F=>o(F))}),b=!0,_===h&&r()})}static or(e){let r=nt.resolve(!1);for(const o of e)r=r.next(h=>h?nt.resolve(h):o());return r}static forEach(e,r){const o=[];return e.forEach((h,_)=>{o.push(r.call(this,h,_))}),this.waitFor(o)}static mapArray(e,r){return new nt((o,h)=>{const _=e.length,b=new Array(_);let x=0;for(let F=0;F<_;F++){const K=F;r(e[K]).next(oe=>{b[K]=oe,++x,x===_&&o(b)},oe=>h(oe))}})}static doWhile(e,r){return new nt((o,h)=>{const _=()=>{!0===e()?r().next(()=>{_()},h):o()};_()})}}class gt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Jt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Gt(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const h=Et(o.target.error);this.V.reject(new Gt(e,h))}}static open(e,r,o,h){try{return new gt(r,e.transaction(h,o))}catch(_){throw new Gt(r,_)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(De("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Fr(r)}}class ue{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===ue.S((0,ge.ZQ)())&&en("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return De("SimpleDb","Removing database:",e),br(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ge.zW)())return!1;if(ue.v())return!0;const e=(0,ge.ZQ)(),r=ue.S(e),o=0<r&&r<10,h=Re(e),_=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||_)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(e){var r=this;return(0,a.A)(function*(){return r.db||(De("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,h)=>{const _=indexedDB.open(r.name,r.version);_.onsuccess=b=>{o(b.target.result)},_.onblocked=()=>{h(new Gt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=b=>{const x=b.target.error;h("VersionError"===x.name?new tt(Fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new tt(Fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Gt(e,x))},_.onupgradeneeded=b=>{De("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,_.transaction,b.oldVersion,r.version).next(()=>{De("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,h){var _=this;return(0,a.A)(function*(){const b="readonly"===r;let x=0;for(;;){++x;try{_.db=yield _.M(e);const F=gt.open(_.db,e,b?"readonly":"readwrite",o),K=h(F).next(oe=>(F.g(),oe)).catch(oe=>(F.abort(oe),nt.reject(oe))).toPromise();return K.catch(()=>{}),yield F.m,K}catch(F){const K=F,oe="FirebaseError"!==K.name&&x<3;if(De("SimpleDb","Transaction failed with error:",K.message,"Retrying:",oe),_.close(),!oe)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Re(d){const e=d.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class vt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return br(this.B.delete())}}class Gt extends tt{constructor(e,r){super(Fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function $n(d){return"IndexedDbTransactionError"===d.name}class Fr{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(De("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(De("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),br(o)}add(e){return De("SimpleDb","ADD",this.store.name,e,e),br(this.store.add(e))}get(e){return br(this.store.get(e)).next(r=>(void 0===r&&(r=null),De("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return De("SimpleDb","DELETE",this.store.name,e),br(this.store.delete(e))}count(){return De("SimpleDb","COUNT",this.store.name),br(this.store.count())}U(e,r){const o=this.options(e,r),h=o.index?this.store.index(o.index):this.store;if("function"==typeof h.getAll){const _=h.getAll(o.range);return new nt((b,x)=>{_.onerror=F=>{x(F.target.error)},_.onsuccess=F=>{b(F.target.result)}})}{const _=this.cursor(o),b=[];return this.W(_,(x,F)=>{b.push(F)}).next(()=>b)}}G(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new nt((h,_)=>{o.onerror=b=>{_(b.target.error)},o.onsuccess=b=>{h(b.target.result)}})}j(e,r){De("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const h=this.cursor(o);return this.W(h,(_,b,x)=>x.delete())}J(e,r){let o;r?o=e:(o={},r=e);const h=this.cursor(o);return this.W(h,r)}Y(e){const r=this.cursor({});return new nt((o,h)=>{r.onerror=_=>{const b=Et(_.target.error);h(b)},r.onsuccess=_=>{const b=_.target.result;b?e(b.primaryKey,b.value).next(x=>{x?b.continue():o()}):o()}})}W(e,r){const o=[];return new nt((h,_)=>{e.onerror=b=>{_(b.target.error)},e.onsuccess=b=>{const x=b.target.result;if(!x)return void h();const F=new vt(x),K=r(x.primaryKey,x.value,F);if(K instanceof nt){const oe=K.catch(ye=>(F.done(),nt.reject(ye)));o.push(oe)}F.isDone?h():null===F.K?x.continue():x.continue(F.K)}}).next(()=>nt.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function br(d){return new nt((e,r)=>{d.onsuccess=o=>{e(o.target.result)},d.onerror=o=>{const h=Et(o.target.error);r(h)}})}let wi=!1;function Et(d){const e=ue.S((0,ge.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(r)>=0){const o=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wi||(wi=!0,setTimeout(()=>{throw o},0)),o}}return d}class ${constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;De("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,a.A)(function*(){r.task=null;try{De("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){$n(o)?De("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield zn(o)}yield r.X(6e4)}))}}class M{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,a.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.te(o,e))})()}te(e,r){const o=new Set;let h=r,_=!0;return nt.doWhile(()=>!0===_&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!o.has(b))return De("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(x=>{h-=x,o.add(b)});_=!1})).next(()=>r-h)}ne(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(h=>this.localStore.localDocuments.getNextDocuments(e,r,h,o).next(_=>{const b=_.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,_)).next(x=>(De("IndexBackfiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,r,x))).next(()=>b.size)}))}re(e,r){let o=e;return r.changes.forEach((h,_)=>{const b=ys(_);ei(b,o)>0&&(o=b)}),new fn(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let k=(()=>{class d{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=h=>this.ie(h),this.se=h=>o.writeSequenceNumber(h))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return d.oe=-1,d})();function re(d){return null==d}function _e(d){return 0===d&&1/d==-1/0}function st(d){return"number"==typeof d&&Number.isInteger(d)&&!_e(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function At(d){let e="";for(let r=0;r<d.length;r++)e.length>0&&(e=ln(e)),e=sn(d.get(r),e);return ln(e)}function sn(d,e){let r=e;const o=d.length;for(let h=0;h<o;h++){const _=d.charAt(h);switch(_){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=_}}return r}function ln(d){return d+"\x01\x01"}function An(d){const e=d.length;if(Vt(e>=2),2===e)return Vt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),cn.emptyPath();const r=e-2,o=[];let h="";for(let _=0;_<e;){const b=d.indexOf("\x01",_);switch((b<0||b>r)&&xt(),d.charAt(b+1)){case"\x01":const x=d.substring(_,b);let F;0===h.length?F=x:(h+=x,F=h,h=""),o.push(F);break;case"\x10":h+=d.substring(_,b),h+="\0";break;case"\x11":h+=d.substring(_,b+1);break;default:xt()}_=b+2}return new cn(o)}const pr=["userId","batchId"];function on(d,e){return[d,At(e)]}function Lr(d,e,r){return[d,At(e),r]}const ur={},Ts=["prefixPath","collectionGroup","readTime","documentId"],yi=["prefixPath","collectionGroup","documentId"],ji=["collectionGroup","readTime","prefixPath","documentId"],Mi=["canonicalId","targetId"],vi=["targetId","path"],Ce=["path","targetId"],nn=["collectionId","parent"],Z=["indexId","uid"],fe=["uid","sequenceNumber"],He=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zt=["indexId","uid","orderedDocumentKey"],Cn=["userId","collectionPath","documentId"],Rn=["userId","collectionPath","largestBatchId"],dr=["userId","collectionGroup","largestBatchId"],jr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kr=[...jr,"documentOverlays"],Tr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qi=Tr,Ps=[...Qi,"indexConfiguration","indexState","indexEntries"],is=Ps,Fo=[...Ps,"globals"];class Lo extends Er{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Gi(d,e){const r=ut(d);return ue.F(r._e,e)}function qo(d){let e=0;for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e++;return e}function si(d,e){for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e(r,d[r])}function vs(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class qr{constructor(e,r){this.comparator=e,this.root=r||Li.EMPTY}insert(e,r){return new qr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Li.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Li.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const h=this.comparator(e,o.key);if(0===h)return r+o.left.size;h<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ki(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ki(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ki(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ki(this.root,e,this.comparator,!0)}}class Ki{constructor(e,r,o,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=r?o(e.key,r):1,r&&h&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Li{constructor(e,r,o,h,_){this.key=e,this.value=r,this.color=o??Li.RED,this.left=h??Li.EMPTY,this.right=_??Li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,h,_){return new Li(e??this.key,r??this.value,o??this.color,h??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let h=this;const _=o(e,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(e,r,o),null):0===_?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,o)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return Li.EMPTY;o=h.right.min(),h=h.copy(o.key,o.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1,Li.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(e,r,o,h,_){return this}insert(e,r,o){return new Li(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ir{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const h=o.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new lo(this.data.getIterator())}getIteratorFrom(e){return new lo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=o.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ir(this.comparator);return r.data=e,r}}class lo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vo(d){return d.hasNext()?d.getNext():void 0}class fi{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new fi([])}unionWith(e){let r=new Ir(Zn.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new fi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Hn(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class La extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Za(){return typeof atob<"u"}class Ri{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new La("Invalid base64 string: "+_):_}}(e);return new Ri(r)}static fromUint8Array(e){const r=function(h){let _="";for(let b=0;b<h.length;++b)_+=String.fromCharCode(h[b]);return _}(e);return new Ri(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let h=0;h<r.length;h++)o[h]=r.charCodeAt(h);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const va=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(d){if(Vt(!!d),"string"==typeof d){let e=0;const r=va.exec(d);if(Vt(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const o=new Date(d);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Yr(d.seconds),nanos:Yr(d.nanos)}}function Yr(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function js(d){return"string"==typeof d?Ri.fromBase64String(d):Ri.fromUint8Array(d)}function Ms(d){var e,r;return"server_timestamp"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function bo(d){const e=d.mapValue.fields.__previous_value__;return Ms(e)?bo(e):e}function Rs(d){const e=qs(d.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}class xr{constructor(e,r,o,h,_,b,x,F,K){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=h,this.ssl=_,this.forceLongPolling=b,this.autoDetectLongPolling=x,this.longPollingOptions=F,this.useFetchStreams=K}}class oi{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new oi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oi&&e.projectId===this.projectId&&e.database===this.database}}const Si={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Is={nullValue:"NULL_VALUE"};function pi(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?Ms(d)?4:Qn(d)?9007199254740991:Bi(d)?10:11:xt()}function os(d,e){if(d===e)return!0;const r=pi(d);if(r!==pi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return Rs(d).isEqual(Rs(e));case 3:return function(h,_){if("string"==typeof h.timestampValue&&"string"==typeof _.timestampValue&&h.timestampValue.length===_.timestampValue.length)return h.timestampValue===_.timestampValue;const b=qs(h.timestampValue),x=qs(_.timestampValue);return b.seconds===x.seconds&&b.nanos===x.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return _=e,js(d.bytesValue).isEqual(js(_.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,_){return Yr(h.geoPointValue.latitude)===Yr(_.geoPointValue.latitude)&&Yr(h.geoPointValue.longitude)===Yr(_.geoPointValue.longitude)}(d,e);case 2:return function(h,_){if("integerValue"in h&&"integerValue"in _)return Yr(h.integerValue)===Yr(_.integerValue);if("doubleValue"in h&&"doubleValue"in _){const b=Yr(h.doubleValue),x=Yr(_.doubleValue);return b===x?_e(b)===_e(x):isNaN(b)&&isNaN(x)}return!1}(d,e);case 9:return Hn(d.arrayValue.values||[],e.arrayValue.values||[],os);case 10:case 11:return function(h,_){const b=h.mapValue.fields||{},x=_.mapValue.fields||{};if(qo(b)!==qo(x))return!1;for(const F in b)if(b.hasOwnProperty(F)&&(void 0===x[F]||!os(b[F],x[F])))return!1;return!0}(d,e);default:return xt()}var _}function to(d,e){return void 0!==(d.values||[]).find(r=>os(r,e))}function as(d,e){if(d===e)return 0;const r=pi(d),o=pi(e);if(r!==o)return qt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return qt(d.booleanValue,e.booleanValue);case 2:return function(_,b){const x=Yr(_.integerValue||_.doubleValue),F=Yr(b.integerValue||b.doubleValue);return x<F?-1:x>F?1:x===F?0:isNaN(x)?isNaN(F)?0:-1:1}(d,e);case 3:return ws(d.timestampValue,e.timestampValue);case 4:return ws(Rs(d),Rs(e));case 5:return qt(d.stringValue,e.stringValue);case 6:return function(_,b){const x=js(_),F=js(b);return x.compareTo(F)}(d.bytesValue,e.bytesValue);case 7:return function(_,b){const x=_.split("/"),F=b.split("/");for(let K=0;K<x.length&&K<F.length;K++){const oe=qt(x[K],F[K]);if(0!==oe)return oe}return qt(x.length,F.length)}(d.referenceValue,e.referenceValue);case 8:return function(_,b){const x=qt(Yr(_.latitude),Yr(b.latitude));return 0!==x?x:qt(Yr(_.longitude),Yr(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Bs(d.arrayValue,e.arrayValue);case 10:return function(_,b){var x,F,K,oe;const yt=null===(x=(_.fields||{}).value)||void 0===x?void 0:x.arrayValue,jt=null===(F=(b.fields||{}).value)||void 0===F?void 0:F.arrayValue,un=qt((null===(K=yt?.values)||void 0===K?void 0:K.length)||0,(null===(oe=jt?.values)||void 0===oe?void 0:oe.length)||0);return 0!==un?un:Bs(yt,jt)}(d.mapValue,e.mapValue);case 11:return function(_,b){if(_===Si.mapValue&&b===Si.mapValue)return 0;if(_===Si.mapValue)return 1;if(b===Si.mapValue)return-1;const x=_.fields||{},F=Object.keys(x),K=b.fields||{},oe=Object.keys(K);F.sort(),oe.sort();for(let ye=0;ye<F.length&&ye<oe.length;++ye){const $e=qt(F[ye],oe[ye]);if(0!==$e)return $e;const yt=as(x[F[ye]],K[oe[ye]]);if(0!==yt)return yt}return qt(F.length,oe.length)}(d.mapValue,e.mapValue);default:throw xt()}}function ws(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return qt(d,e);const r=qs(d),o=qs(e),h=qt(r.seconds,o.seconds);return 0!==h?h:qt(r.nanos,o.nanos)}function Bs(d,e){const r=d.values||[],o=e.values||[];for(let h=0;h<r.length&&h<o.length;++h){const _=as(r[h],o[h]);if(_)return _}return qt(r.length,o.length)}function ai(d){return pn(d)}function pn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(r){const o=qs(r);return`time(${o.seconds},${o.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?js(d.bytesValue).toBase64():"referenceValue"in d?Ut.fromName(d.referenceValue).toString():"geoPointValue"in d?function(r){return`geo(${r.latitude},${r.longitude})`}(d.geoPointValue):"arrayValue"in d?function(r){let o="[",h=!0;for(const _ of r.values||[])h?h=!1:o+=",",o+=pn(_);return o+"]"}(d.arrayValue):"mapValue"in d?function(r){const o=Object.keys(r.fields||{}).sort();let h="{",_=!0;for(const b of o)_?_=!1:h+=",",h+=`${b}:${pn(r.fields[b])}`;return h+"}"}(d.mapValue):xt()}function Wn(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function ci(d){return!!d&&"integerValue"in d}function ti(d){return!!d&&"arrayValue"in d}function Oi(d){return!!d&&"nullValue"in d}function hs(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function Rr(d){return!!d&&"mapValue"in d}function Bi(d){var e,r;return"__vector__"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function As(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return si(d.mapValue.fields,(r,o)=>e.mapValue.fields[r]=As(o)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(d.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=As(d.arrayValue.values[r]);return e}return Object.assign({},d)}function Qn(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const zi={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Os(d){return"nullValue"in d?Is:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?Wn(oi.empty(),Ut.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?Bi(d)?zi:{mapValue:{}}:xt()}function ee(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?Wn(oi.empty(),Ut.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?zi:"mapValue"in d?Bi(d)?{mapValue:{}}:Si:xt()}function Q(d,e){const r=as(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function we(d,e){const r=as(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Oe{constructor(e){this.value=e}static empty(){return new Oe({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Rr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=As(r)}setAll(e){let r=Zn.emptyPath(),o={},h=[];e.forEach((b,x)=>{if(!r.isImmediateParentOf(x)){const F=this.getFieldsMap(r);this.applyChanges(F,o,h),o={},h=[],r=x.popLast()}b?o[x.lastSegment()]=As(b):h.push(x.lastSegment())});const _=this.getFieldsMap(r);this.applyChanges(_,o,h)}delete(e){const r=this.field(e.popLast());Rr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return os(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let h=r.mapValue.fields[e.get(o)];Rr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,o){si(r,(h,_)=>e[h]=_);for(const h of o)delete e[h]}clone(){return new Oe(As(this.value))}}function Je(d){const e=[];return si(d.fields,(r,o)=>{const h=new Zn([r]);if(Rr(o)){const _=Je(o.mapValue).fields;if(0===_.length)e.push(h);else for(const b of _)e.push(h.child(b))}else e.push(h)}),new fi(e)}class mt{constructor(e,r,o,h,_,b,x){this.key=e,this.documentType=r,this.version=o,this.readTime=h,this.createTime=_,this.data=b,this.documentState=x}static newInvalidDocument(e){return new mt(e,0,kt.min(),kt.min(),kt.min(),Oe.empty(),0)}static newFoundDocument(e,r,o,h){return new mt(e,1,r,kt.min(),o,h,0)}static newNoDocument(e,r){return new mt(e,2,r,kt.min(),kt.min(),Oe.empty(),0)}static newUnknownDocument(e,r){return new mt(e,3,r,kt.min(),kt.min(),Oe.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oe.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yt{constructor(e,r){this.position=e,this.inclusive=r}}function Dn(d,e,r){let o=0;for(let h=0;h<d.position.length;h++){const _=e[h],b=d.position[h];if(o=_.field.isKeyField()?Ut.comparator(Ut.fromName(b.referenceValue),r.key):as(b,r.data.field(_.field)),"desc"===_.dir&&(o*=-1),0!==o)break}return o}function yn(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let r=0;r<d.position.length;r++)if(!os(d.position[r],e.position[r]))return!1;return!0}class Jn{constructor(e,r="asc"){this.field=e,this.dir=r}}function wr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Fn{}class Sn extends Fn{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new Nr(e,r,o):"array-contains"===r?new Ds(e,o):"in"===r?new Uo(e,o):"not-in"===r?new Va(e,o):"array-contains-any"===r?new $s(e,o):new Sn(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new Ys(e,o):new Zi(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(as(r,this.value)):null!==r&&pi(this.value)===pi(r)&&this.matchesComparison(as(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends Fn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Un(e,r)}matches(e){return Br(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Br(d){return"and"===d.op}function vr(d){return"or"===d.op}function Ai(d){return Ji(d)&&Br(d)}function Ji(d){for(const e of d.filters)if(e instanceof Un)return!1;return!0}function Ni(d){if(d instanceof Sn)return d.field.canonicalString()+d.op.toString()+ai(d.value);if(Ai(d))return d.filters.map(e=>Ni(e)).join(",");{const e=d.filters.map(r=>Ni(r)).join(",");return`${d.op}(${e})`}}function Cr(d,e){return d instanceof Sn?(o=d,(h=e)instanceof Sn&&o.op===h.op&&o.field.isEqual(h.field)&&os(o.value,h.value)):d instanceof Un?function(o,h){return h instanceof Un&&o.op===h.op&&o.filters.length===h.filters.length&&o.filters.reduce((_,b,x)=>_&&Cr(b,h.filters[x]),!0)}(d,e):void xt();var o,h}function Xr(d,e){const r=d.filters.concat(e);return Un.create(r,d.op)}function li(d){return d instanceof Sn?`${(r=d).field.canonicalString()} ${r.op} ${ai(r.value)}`:d instanceof Un?function(r){return r.op.toString()+" {"+r.getFilters().map(li).join(" ,")+"}"}(d):"Filter";var r}class Nr extends Sn{constructor(e,r,o){super(e,r,o),this.key=Ut.fromName(o.referenceValue)}matches(e){const r=Ut.comparator(e.key,this.key);return this.matchesComparison(r)}}class Ys extends Sn{constructor(e,r){super(e,"in",r),this.keys=Xs(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Zi extends Sn{constructor(e,r){super(e,"not-in",r),this.keys=Xs(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Xs(d,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Ut.fromName(o.referenceValue))}class Ds extends Sn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ti(r)&&to(r.arrayValue,this.value)}}class Uo extends Sn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&to(this.value.arrayValue,r)}}class Va extends Sn{constructor(e,r){super(e,"not-in",r)}matches(e){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!to(this.value.arrayValue,r)}}class $s extends Sn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ti(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>to(this.value.arrayValue,o))}}class Vl{constructor(e,r=null,o=[],h=[],_=null,b=null,x=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=h,this.limit=_,this.startAt=b,this.endAt=x,this.ue=null}}function qi(d,e=null,r=[],o=[],h=null,_=null,b=null){return new Vl(d,e,r,o,h,_,b)}function fs(d){const e=ut(d);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Ni(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(_=o).field.canonicalString()+_.dir;var _}).join(","),re(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>ai(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>ai(o)).join(",")),e.ue=r}return e.ue}function Co(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<d.orderBy.length;r++)if(!wr(d.orderBy[r],e.orderBy[r]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let r=0;r<d.filters.length;r++)if(!Cr(d.filters[r],e.filters[r]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!yn(d.startAt,e.startAt)&&yn(d.endAt,e.endAt)}function ec(d){return Ut.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function jo(d,e){return d.filters.filter(r=>r instanceof Sn&&r.field.isEqual(e))}function Ei(d,e,r){let o=Is,h=!0;for(const _ of jo(d,e)){let b=Is,x=!0;switch(_.op){case"<":case"<=":b=Os(_.value);break;case"==":case"in":case">=":b=_.value;break;case">":b=_.value,x=!1;break;case"!=":case"not-in":b=Is}Q({value:o,inclusive:h},{value:b,inclusive:x})<0&&(o=b,h=x)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];Q({value:o,inclusive:h},{value:b,inclusive:r.inclusive})<0&&(o=b,h=r.inclusive);break}return{value:o,inclusive:h}}function To(d,e,r){let o=Si,h=!0;for(const _ of jo(d,e)){let b=Si,x=!0;switch(_.op){case">=":case">":b=ee(_.value),x=!1;break;case"==":case"in":case"<=":b=_.value;break;case"<":b=_.value,x=!1;break;case"!=":case"not-in":b=Si}we({value:o,inclusive:h},{value:b,inclusive:x})>0&&(o=b,h=x)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];we({value:o,inclusive:h},{value:b,inclusive:r.inclusive})>0&&(o=b,h=r.inclusive);break}return{value:o,inclusive:h}}class Yo{constructor(e,r=null,o=[],h=[],_=null,b="F",x=null,F=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=h,this.limit=_,this.limitType=b,this.startAt=x,this.endAt=F,this.ce=null,this.le=null,this.he=null}}function W(d,e,r,o,h,_,b,x){return new Yo(d,e,r,o,h,_,b,x)}function J(d){return new Yo(d)}function V(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function le(d){return null!==d.collectionGroup}function Ue(d){const e=ut(d);if(null===e.ce){e.ce=[];const r=new Set;for(const _ of e.explicitOrderBy)e.ce.push(_),r.add(_.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let x=new Ir(Zn.comparator);return b.filters.forEach(F=>{F.getFlattenedFilters().forEach(K=>{K.isInequality()&&(x=x.add(K.field))})}),x})(e).forEach(_=>{r.has(_.canonicalString())||_.isKeyField()||e.ce.push(new Jn(_,o))}),r.has(Zn.keyField().canonicalString())||e.ce.push(new Jn(Zn.keyField(),o))}return e.ce}function gn(d){const e=ut(d);return e.le||(e.le=function Wi(d,e){if("F"===d.limitType)return qi(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new Jn(h.field,"desc"===h.dir?"asc":"desc"));const r=d.endAt?new Yt(d.endAt.position,d.endAt.inclusive):null,o=d.startAt?new Yt(d.startAt.position,d.startAt.inclusive):null;return qi(d.path,d.collectionGroup,e,d.filters,d.limit,r,o)}}(e,Ue(d))),e.le}function Qs(d,e){const r=d.filters.concat([e]);return new Yo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),r,d.limit,d.limitType,d.startAt,d.endAt)}function ps(d,e,r){return new Yo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,r,d.startAt,d.endAt)}function uo(d,e){return Co(gn(d),gn(e))&&d.limitType===e.limitType}function no(d){return`${fs(gn(d))}|lt:${d.limitType}`}function es(d){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(h=>li(h)).join(", ")}]`),re(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(h=>ai(h)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(h=>ai(h)).join(",")),`Target(${o})`}(gn(d))}; limitType=${d.limitType})`}function ho(d,e){return e.isFoundDocument()&&function(o,h){const _=h.key.path;return null!==o.collectionGroup?h.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(_):Ut.isDocumentKey(o.path)?o.path.isEqual(_):o.path.isImmediateParentOf(_)}(d,e)&&function(o,h){for(const _ of Ue(o))if(!_.field.isKeyField()&&null===h.data.field(_.field))return!1;return!0}(d,e)&&function(o,h){for(const _ of o.filters)if(!_.matches(h))return!1;return!0}(d,e)&&(h=e,!((o=d).startAt&&!function(b,x,F){const K=Dn(b,x,F);return b.inclusive?K<=0:K<0}(o.startAt,Ue(o),h)||o.endAt&&!function(b,x,F){const K=Dn(b,x,F);return b.inclusive?K>=0:K>0}(o.endAt,Ue(o),h)));var o,h}function Ul(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function gs(d){return(e,r)=>{let o=!1;for(const h of Ue(d)){const _=Ea(h,e,r);if(0!==_)return _;o=o||h.field.isKeyField()}return 0}}function Ea(d,e,r){const o=d.field.isKeyField()?Ut.comparator(e.key,r.key):function(_,b,x){const F=b.data.field(_),K=x.data.field(_);return null!==F&&null!==K?as(F,K):xt()}(d.field,e,r);switch(d.dir){case"asc":return o;case"desc":return-1*o;default:return xt()}}class $i{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[h,_]of o)if(this.equalsFn(h,e))return _}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),h=this.inner[o];if(void 0===h)return this.inner[o]=[[e,r]],void this.innerSize++;for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],e))return void(h[_]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return 1===o.length?delete this.inner[r]:o.splice(h,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(r,o)=>{for(const[h,_]of o)e(h,_)})}isEmpty(){return vs(this.inner)}size(){return this.innerSize}}const rl=new qr(Ut.comparator);function cs(){return rl}const ba=new qr(Ut.comparator);function Js(...d){let e=ba;for(const r of d)e=e.insert(r.key,r);return e}function Ca(d){let e=ba;return d.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Ss(){return Ta()}function fa(){return Ta()}function Ta(){return new $i(d=>d.toString(),(d,e)=>d.isEqual(e))}const Ia=new qr(Ut.comparator),il=new Ir(Ut.comparator);function gr(...d){let e=il;for(const r of d)e=e.add(r);return e}const Tc=new Ir(qt);function Io(){return Tc}function Xo(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_e(e)?"-0":e}}function Ua(d){return{integerValue:""+d}}function ja(d,e){return st(e)?Ua(e):Xo(d,e)}class Ic{constructor(){this._=void 0}}function Fh(d,e,r){return d instanceof nc?function(h,_){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return _&&Ms(_)&&(_=bo(_)),_&&(b.fields.__previous_value__=_),{mapValue:b}}(r,e):d instanceof Bo?sl(d,e):d instanceof wa?rc(d,e):function(h,_){const b=jl(h,_),x=Ba(b)+Ba(h.Pe);return ci(b)&&ci(h.Pe)?Ua(x):Xo(h.serializer,x)}(d,e)}function tc(d,e,r){return d instanceof Bo?sl(d,e):d instanceof wa?rc(d,e):r}function jl(d,e){return d instanceof ic?ci(o=e)||(_=o)&&"doubleValue"in _?e:{integerValue:0}:null;var o,_}class nc extends Ic{}class Bo extends Ic{constructor(e){super(),this.elements=e}}function sl(d,e){const r=Bl(e);for(const o of d.elements)r.some(h=>os(h,o))||r.push(o);return{arrayValue:{values:r}}}class wa extends Ic{constructor(e){super(),this.elements=e}}function rc(d,e){let r=Bl(e);for(const o of d.elements)r=r.filter(h=>!os(h,o));return{arrayValue:{values:r}}}class ic extends Ic{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Ba(d){return Yr(d.integerValue||d.doubleValue)}function Bl(d){return ti(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class P{constructor(e,r){this.field=e,this.transform=r}}class B{constructor(e,r){this.version=e,this.transformResults=r}}class Y{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Y}static exists(e){return new Y(void 0,e)}static updateTime(e){return new Y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Me(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class Ct{}function Ot(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Ns(d.key,Y.none()):new mr(d.key,d.data,Y.none());{const r=d.data,o=Oe.empty();let h=new Ir(Zn.comparator);for(let _ of e.fields)if(!h.has(_)){let b=r.field(_);null===b&&_.length>1&&(_=_.popLast(),b=r.field(_)),null===b?o.delete(_):o.set(_,b),h=h.add(_)}return new ri(d.key,o,new fi(h.toArray()),Y.none())}}function jn(d,e,r){d instanceof mr?function(h,_,b){const x=h.value.clone(),F=bi(h.fieldTransforms,_,b.transformResults);x.setAll(F),_.convertToFoundDocument(b.version,x).setHasCommittedMutations()}(d,e,r):d instanceof ri?function(h,_,b){if(!Me(h.precondition,_))return void _.convertToUnknownDocument(b.version);const x=bi(h.fieldTransforms,_,b.transformResults),F=_.data;F.setAll(Di(h)),F.setAll(x),_.convertToFoundDocument(b.version,F).setHasCommittedMutations()}(d,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function zr(d,e,r,o){return d instanceof mr?function(_,b,x,F){if(!Me(_.precondition,b))return x;const K=_.value.clone(),oe=fo(_.fieldTransforms,F,b);return K.setAll(oe),b.convertToFoundDocument(b.version,K).setHasLocalMutations(),null}(d,e,r,o):d instanceof ri?function(_,b,x,F){if(!Me(_.precondition,b))return x;const K=fo(_.fieldTransforms,F,b),oe=b.data;return oe.setAll(Di(_)),oe.setAll(K),b.convertToFoundDocument(b.version,oe).setHasLocalMutations(),null===x?null:x.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(ye=>ye.field))}(d,e,r,o):(x=r,Me(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):x);var b,x}function gi(d,e){let r=null;for(const o of d.fieldTransforms){const h=e.data.field(o.field),_=jl(o.transform,h||null);null!=_&&(null===r&&(r=Oe.empty()),r.set(o.field,_))}return r||null}function ni(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(o=d.fieldTransforms)&&void 0===h||o&&h&&Hn(o,h,(_,b)=>function ne(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(o=d.transform)instanceof Bo&&h instanceof Bo||o instanceof wa&&h instanceof wa?Hn(o.elements,h.elements,os):o instanceof ic&&h instanceof ic?os(o.Pe,h.Pe):o instanceof nc&&h instanceof nc);var o,h}(_,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var o,h}class mr extends Ct{constructor(e,r,o,h=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ri extends Ct{constructor(e,r,o,h,_=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=h,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function Di(d){const e=new Map;return d.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=d.data.field(r);e.set(r,o)}}),e}function bi(d,e,r){const o=new Map;Vt(d.length===r.length);for(let h=0;h<r.length;h++){const _=d[h],b=_.transform,x=e.data.field(_.field);o.set(_.field,tc(b,x,r[h]))}return o}function fo(d,e,r){const o=new Map;for(const h of d){const _=h.transform,b=r.data.field(h.field);o.set(h.field,Fh(_,b,e))}return o}class Ns extends Ct{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $o extends Ct{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hs{constructor(e,r,o,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=h}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(e.key)&&jn(_,e,o[h])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=zr(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=zr(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=fa();return this.mutations.forEach(h=>{const _=e.get(h.key),b=_.overlayedDocument;let x=this.applyToLocalView(b,_.mutatedFields);x=r.has(h.key)?null:x;const F=Ot(b,x);null!==F&&o.set(h.key,F),b.isValidDocument()||b.convertToNoDocument(kt.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),gr())}isEqual(e){return this.batchId===e.batchId&&Hn(this.mutations,e.mutations,(r,o)=>ni(r,o))&&Hn(this.baseMutations,e.baseMutations,(r,o)=>ni(r,o))}}class Qo{constructor(e,r,o,h){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=h}static from(e,r,o){Vt(e.mutations.length===o.length);let h=Ia;const _=e.mutations;for(let b=0;b<_.length;b++)h=h.insert(_[b].key,o[b].version);return new Qo(e,r,o,h)}}class Ui{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Lh{constructor(e,r){this.count=e,this.unchangedNames=r}}var Ar,Dr;function sc(d){switch(d){default:return xt();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function ro(d){if(void 0===d)return en("GRPC error has no .code"),Fe.UNKNOWN;switch(d){case Ar.OK:return Fe.OK;case Ar.CANCELLED:return Fe.CANCELLED;case Ar.UNKNOWN:return Fe.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return Fe.INTERNAL;case Ar.UNAVAILABLE:return Fe.UNAVAILABLE;case Ar.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case Ar.NOT_FOUND:return Fe.NOT_FOUND;case Ar.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case Ar.ABORTED:return Fe.ABORTED;case Ar.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case Ar.DATA_LOSS:return Fe.DATA_LOSS;default:return xt()}}(Dr=Ar||(Ar={}))[Dr.OK=0]="OK",Dr[Dr.CANCELLED=1]="CANCELLED",Dr[Dr.UNKNOWN=2]="UNKNOWN",Dr[Dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dr[Dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dr[Dr.NOT_FOUND=5]="NOT_FOUND",Dr[Dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dr[Dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dr[Dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dr[Dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dr[Dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dr[Dr.ABORTED=10]="ABORTED",Dr[Dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dr[Dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dr[Dr.INTERNAL=13]="INTERNAL",Dr[Dr.UNAVAILABLE=14]="UNAVAILABLE",Dr[Dr.DATA_LOSS=15]="DATA_LOSS";function vd(){return new TextEncoder}const wc=new Le([4294967295,4294967295],0);function mi(d){const e=vd().encode(d),r=new Ne;return r.update(e),new Uint8Array(r.digest())}function $a(d){const e=new DataView(d.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),h=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new Le([r,o],0),new Le([h,_],0)]}class Ha{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Gs(`Invalid padding: ${r}`);if(o<0)throw new Gs(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Gs(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new Gs(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Le.fromNumber(this.Ie)}Ee(e,r,o){let h=e.add(r.multiply(Le.fromNumber(o)));return 1===h.compare(wc)&&(h=new Le([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=mi(e),[o,h]=$a(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(o,h,_);if(!this.de(b))return!1}return!0}static create(e,r,o){const h=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),b=new Ha(_,h,r);return o.forEach(x=>b.insert(x)),b}insert(e){if(0===this.Ie)return;const r=mi(e),[o,h]=$a(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(o,h,_);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Gs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Es{constructor(e,r,o,h,_){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const h=new Map;return h.set(e,Jo.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new Es(kt.min(),h,new qr(qt),cs(),gr())}}class Jo{constructor(e,r,o,h,_){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new Jo(o,r,gr(),gr(),gr())}}class Aa{constructor(e,r,o,h){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=h}}class Tu{constructor(e,r){this.targetId=e,this.me=r}}class $l{constructor(e,r,o=Ri.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=h}}class Ed{constructor(){this.fe=0,this.ge=zs(),this.pe=Ri.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=gr(),r=gr(),o=gr();return this.ge.forEach((h,_)=>{switch(_){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:o=o.add(h);break;default:xt()}}),new Jo(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=zs()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class go{constructor(e){this.Le=e,this.Be=new Map,this.ke=cs(),this.qe=Kn(),this.Qe=new qr(qt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:xt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,h)=>{this.ze(h)&&r(h)})}He(e){const r=e.targetId,o=e.me.count,h=this.Je(r);if(h){const _=h.target;if(ec(_))if(0===o){const b=new Ut(_.path);this.Ue(r,b,mt.newNoDocument(b,kt.min()))}else Vt(1===o);else{const b=this.Ye(r);if(b!==o){const x=this.Ze(e),F=x?this.Xe(x,e,b):1;0!==F&&(this.je(r),this.Qe=this.Qe.insert(r,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:h=0},hashCount:_=0}=r;let b,x;try{b=js(o).toUint8Array()}catch(F){if(F instanceof La)return mn("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{x=new Ha(b,h,_)}catch(F){return mn(F instanceof Gs?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===x.Ie?null:x}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let h=0;return o.forEach(_=>{const b=this.Le.tt(),x=`projects/${b.projectId}/databases/${b.database}/documents/${_.path.canonicalString()}`;e.mightContain(x)||(this.Ue(r,_,null),h++)}),h}rt(e){const r=new Map;this.Be.forEach((_,b)=>{const x=this.Je(b);if(x){if(_.current&&ec(x.target)){const F=new Ut(x.target.path);null!==this.ke.get(F)||this.it(b,F)||this.Ue(b,F,mt.newNoDocument(F,e))}_.be&&(r.set(b,_.ve()),_.Ce())}});let o=gr();this.qe.forEach((_,b)=>{let x=!0;b.forEachWhile(F=>{const K=this.Je(F);return!K||"TargetPurposeLimboResolution"===K.purpose||(x=!1,!1)}),x&&(o=o.add(_))}),this.ke.forEach((_,b)=>b.setReadTime(e));const h=new Es(e,r,this.Qe,this.ke,o);return this.ke=cs(),this.qe=Kn(),this.Qe=new qr(qt),h}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,r)?h.Fe(r,1):h.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Ed,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ir(qt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||De("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ed),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Kn(){return new qr(Ut.comparator)}function zs(){return new qr(Ut.comparator)}const Hl={asc:"ASCENDING",desc:"DESCENDING"},Zo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gl={and:"AND",or:"OR"};class Vh{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Iu(d,e){return d.useProto3Json||re(e)?e:{value:e}}function Ho(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wu(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function zl(d,e){return Ho(d,e.toTimestamp())}function ls(d){return Vt(!!d),kt.fromTimestamp(function(r){const o=qs(r);return new $t(o.seconds,o.nanos)}(d))}function Ac(d,e){return Wl(d,e).canonicalString()}function Wl(d,e){const r=(h=d,new cn(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?r:r.child(e)}function Ht(d){const e=cn.fromString(d);return Vt(w(e)),e}function Pr(d,e){return Ac(d.databaseId,e.path)}function Go(d,e){const r=Ht(e);if(r.get(1)!==d.databaseId.projectId)throw new tt(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+d.databaseId.projectId);if(r.get(3)!==d.databaseId.database)throw new tt(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+d.databaseId.database);return new Ut(Dc(r))}function us(d,e){return Ac(d.databaseId,e)}function ks(d){const e=Ht(d);return 4===e.length?cn.emptyPath():Dc(e)}function oc(d){return new cn(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function Dc(d){return Vt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function wo(d,e,r){return{name:Pr(d,e),fields:r.value.mapValue.fields}}function Kt(d,e,r){const o=Go(d,e.name),h=ls(e.updateTime),_=e.createTime?ls(e.createTime):kt.min(),b=new Oe({mapValue:{fields:e.fields}}),x=mt.newFoundDocument(o,h,_,b);return r&&x.setHasCommittedMutations(),r?x.setHasCommittedMutations():x}function Sc(d,e){let r;if(e instanceof mr)r={update:wo(d,e.key,e.value)};else if(e instanceof Ns)r={delete:Pr(d,e.key)};else if(e instanceof ri)r={update:wo(d,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof $o))return xt();r={verify:Pr(d,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(_,b){const x=b.transform;if(x instanceof nc)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof Bo)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof wa)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof ic)return{fieldPath:b.field.canonicalString(),increment:x.Pe};throw xt()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(_=e.precondition).updateTime?{updateTime:zl(d,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:xt()),r;var _}function io(d,e){const r=e.currentDocument?void 0!==(_=e.currentDocument).updateTime?Y.updateTime(ls(_.updateTime)):void 0!==_.exists?Y.exists(_.exists):Y.none():Y.none(),o=e.updateTransforms?e.updateTransforms.map(h=>function(b,x){let F=null;"setToServerValue"in x?(Vt("REQUEST_TIME"===x.setToServerValue),F=new nc):"appendMissingElements"in x?F=new Bo(x.appendMissingElements.values||[]):"removeAllFromArray"in x?F=new wa(x.removeAllFromArray.values||[]):"increment"in x?F=new ic(b,x.increment):xt();const K=Zn.fromServerFormat(x.fieldPath);return new P(K,F)}(d,h)):[];var _;if(e.update){const h=Go(d,e.update.name),_=new Oe({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new fi((e.updateMask.fieldPaths||[]).map(oe=>Zn.fromServerFormat(oe)));return new ri(h,_,b,r,o)}return new mr(h,_,r,o)}if(e.delete){const h=Go(d,e.delete);return new Ns(h,r)}if(e.verify){const h=Go(d,e.verify);return new $o(h,r)}return xt()}function mo(d,e){return{documents:[us(d,e.path)]}}function Fs(d,e){const r={structuredQuery:{}},o=e.path;let h;null!==e.collectionGroup?(h=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=us(d,h);const _=function(K){if(0!==K.length)return D(Un.create(K,"and"))}(e.filters);_&&(r.structuredQuery.where=_);const b=function(K){if(0!==K.length)return K.map(oe=>{return{field:Sa(($e=oe).field),direction:Ag($e.dir)};var $e})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const x=Iu(d,e.limit);return null!==x&&(r.structuredQuery.limit=x),e.startAt&&(r.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:r,parent:h};var K}function Bn(d){let e=ks(d.parent);const r=d.structuredQuery,o=r.from?r.from.length:0;let h=null;if(o>0){Vt(1===o);const oe=r.from[0];oe.allDescendants?h=oe.collectionId:e=e.child(oe.collectionId)}let _=[];r.where&&(_=function(ye){const $e=Kl(ye);return $e instanceof Un&&Ai($e)?$e.getFilters():[$e]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map($e=>{return new Jn(xc((jt=$e).field),function(Zt){switch(Zt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(jt.direction));var jt}));let x=null;r.limit&&(x=function(ye){let $e;return $e="object"==typeof ye?ye.value:ye,re($e)?null:$e}(r.limit));let F=null;var ye;r.startAt&&(F=new Yt((ye=r.startAt).values||[],!!ye.before));let K=null;return r.endAt&&(K=function(ye){return new Yt(ye.values||[],!ye.before)}(r.endAt)),W(e,h,b,_,x,"F",F,K)}function Kl(d){return void 0!==d.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=xc(r.unaryFilter.field);return Sn.create(o,"==",{doubleValue:NaN});case"IS_NULL":const h=xc(r.unaryFilter.field);return Sn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=xc(r.unaryFilter.field);return Sn.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=xc(r.unaryFilter.field);return Sn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(d):void 0!==d.fieldFilter?Sn.create(xc((r=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==d.compositeFilter?function(r){return Un.create(r.compositeFilter.filters.map(o=>Kl(o)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return xt()}}(r.compositeFilter.op))}(d):xt();var r}function Ag(d){return Hl[d]}function Du(d){return Zo[d]}function Su(d){return Gl[d]}function Sa(d){return{fieldPath:d.canonicalString()}}function xc(d){return Zn.fromServerFormat(d.fieldPath)}function D(d){return d instanceof Sn?function(r){if("=="===r.op){if(hs(r.value))return{unaryFilter:{field:Sa(r.field),op:"IS_NAN"}};if(Oi(r.value))return{unaryFilter:{field:Sa(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(hs(r.value))return{unaryFilter:{field:Sa(r.field),op:"IS_NOT_NAN"}};if(Oi(r.value))return{unaryFilter:{field:Sa(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(r.field),op:Du(r.op),value:r.value}}}(d):d instanceof Un?function(r){const o=r.getFilters().map(h=>D(h));return 1===o.length?o[0]:{compositeFilter:{op:Su(r.op),filters:o}}}(d):xt()}function O(d){const e=[];return d.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class N{constructor(e,r,o,h,_=kt.min(),b=kt.min(),x=Ri.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=x,this.expectedCount=F}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function Pe(d,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:_t(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Pr(_=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Ho(_,b.version.toTimestamp()),createTime:Ho(_,b.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:pt(e.version)};else{if(!e.isUnknownDocument())return xt();o.unknownDocument={path:r.path.toArray(),version:pt(e.version)}}var _,b;return o}function _t(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function pt(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vn(d){const e=new $t(d.seconds,d.nanoseconds);return kt.fromTimestamp(e)}function hr(d,e){const r=(e.baseMutations||[]).map(_=>io(d.ct,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const o=e.mutations.map(_=>io(d.ct,_)),h=$t.fromMillis(e.localWriteTimeMs);return new Hs(e.batchId,h,r,o)}function sr(d){const e=vn(d.readTime),r=void 0!==d.lastLimboFreeSnapshotVersion?vn(d.lastLimboFreeSnapshotVersion):kt.min();let o;return o=void 0!==d.query.documents?(Vt(1===(_=d.query).documents.length),gn(J(ks(_.documents[0])))):function(_){return gn(Bn(_))}(d.query),new N(o,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,r,Ri.fromBase64String(d.resumeToken));var _}function kr(d,e){const r=pt(e.snapshotVersion),o=pt(e.lastLimboFreeSnapshotVersion);let h;h=ec(e.target)?mo(d.ct,e.target):Fs(d.ct,e.target)._t;const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fs(e.target),readTime:r,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:h}}function _i(d){const e=Bn({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?ps(e,e.limit,"L"):e}function ac(d,e){return new Ui(e.largestBatchId,io(d.ct,e.overlayMutation))}function Pc(d,e){const r=e.path.lastSegment();return[d,At(e.path.popLast()),r]}function cl(d,e,r,o){return{indexId:d,uid:e,sequenceNumber:r,readTime:pt(o.readTime),documentKey:At(o.documentKey.path),largestBatchId:o.largestBatchId}}class Mc{getBundleMetadata(e,r){return xu(e).get(r).next(o=>{if(o)return{id:(_=o).bundleId,createTime:vn(_.createTime),version:_.version};var _})}saveBundleMetadata(e,r){return xu(e).put({bundleId:(h=r).id,createTime:pt(ls(h.createTime)),version:h.version});var h}getNamedQuery(e,r){return Uh(e).get(r).next(o=>{if(o)return{name:(_=o).name,query:_i(_.bundledQuery),readTime:vn(_.readTime)};var _})}saveNamedQuery(e,r){return Uh(e).put({name:(h=r).name,readTime:pt(ls(h.readTime)),bundledQuery:h.bundledQuery});var h}}function xu(d){return Gi(d,"bundles")}function Uh(d){return Gi(d,"namedQueries")}class cc{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new cc(e,r.uid||"")}getOverlay(e,r){return pa(e).get(Pc(this.userId,r)).next(o=>o?ac(this.serializer,o):null)}getOverlays(e,r){const o=Ss();return nt.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&o.set(h,_)})).next(()=>o)}saveOverlays(e,r,o){const h=[];return o.forEach((_,b)=>{const x=new Ui(r,b);h.push(this.ht(e,x))}),nt.waitFor(h)}removeOverlaysForBatchId(e,r,o){const h=new Set;r.forEach(b=>h.add(At(b.getCollectionPath())));const _=[];return h.forEach(b=>{const x=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);_.push(pa(e).j("collectionPathOverlayIndex",x))}),nt.waitFor(_)}getOverlaysForCollection(e,r,o){const h=Ss(),_=At(r),b=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,Number.POSITIVE_INFINITY],!0);return pa(e).U("collectionPathOverlayIndex",b).next(x=>{for(const F of x){const K=ac(this.serializer,F);h.set(K.getKey(),K)}return h})}getOverlaysForCollectionGroup(e,r,o,h){const _=Ss();let b;const x=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return pa(e).J({index:"collectionGroupOverlayIndex",range:x},(F,K,oe)=>{const ye=ac(this.serializer,K);_.size()<h||ye.largestBatchId===b?(_.set(ye.getKey(),ye),b=ye.largestBatchId):oe.done()}).next(()=>_)}ht(e,r){return pa(e).put(function(h,_,b){const[x,F,K]=Pc(_,b.mutation.key);return{userId:_,collectionPath:F,documentId:K,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Sc(h.ct,b.mutation)}}(this.serializer,this.userId,r))}}function pa(d){return Gi(d,"documentOverlays")}class jh{Pt(e){return Gi(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const o=r?.value;return o?Ri.fromUint8Array(o):Ri.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class ea{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Yr(e.integerValue));else if("doubleValue"in e){const o=Yr(e.doubleValue);isNaN(o)?this.dt(r,13):(this.dt(r,15),_e(o)?r.At(0):r.At(o))}else if("timestampValue"in e){let o=e.timestampValue;this.dt(r,20),"string"==typeof o&&(o=qs(o)),r.Rt(`${o.seconds||""}`),r.At(o.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(js(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.dt(r,45),r.At(o.latitude||0),r.At(o.longitude||0)}else"mapValue"in e?Qn(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Bi(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):xt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const o=e.fields||{};this.dt(r,55);for(const h of Object.keys(o))this.Vt(h,r),this.Tt(o[h],r)}wt(e,r){var o,h;const _=e.fields||{};this.dt(r,53);const b="value",x=(null===(h=null===(o=_[b].arrayValue)||void 0===o?void 0:o.values)||void 0===h?void 0:h.length)||0;this.dt(r,15),r.At(Yr(x)),this.Vt(b,r),this.Tt(_[b],r)}bt(e,r){const o=e.values||[];this.dt(r,50);for(const h of o)this.Tt(h,r)}yt(e,r){this.dt(r,37),Ut.fromName(e).path.forEach(o=>{this.dt(r,60),this.Dt(o,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function ql(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function bd(d){const e=64-function(o){let h=0;for(let _=0;_<8;++_){const b=ql(255&o[_]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}ea.vt=new ea;class ga{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ft(o.value),o=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ot(o.value),o=r.next();this.Nt()}Lt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const h=r.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ot(o);else if(o<2048)this.Ot(960|o>>>6),this.Ot(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|o>>>12),this.Ot(128|63&o>>>6),this.Ot(128|63&o);else{const h=r.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const r=this.qt(e),o=bd(r);this.Qt(1+o),this.buffer[this.position++]=255&o;for(let h=r.length-o;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Kt(e){const r=this.qt(e),o=bd(r);this.Qt(1+o),this.buffer[this.position++]=~(255&o);for(let h=r.length-o;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(_){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,_,!1),new Uint8Array(b.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let h=1;h<r.length;++h)r[h]^=o?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const h=new Uint8Array(o);h.set(this.buffer),this.buffer=h}}class Yl{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Cd{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Pu{constructor(){this.jt=new ga,this.Ht=new Yl(this.jt),this.Jt=new Cd(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class zo{constructor(e,r,o,h){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=h}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new zo(this.indexId,this.documentKey,this.arrayValue,o)}}function _o(d,e){let r=d.indexId-e.indexId;return 0!==r?r:(r=ta(d.arrayValue,e.arrayValue),0!==r?r:(r=ta(d.directionalValue,e.directionalValue),0!==r?r:Ut.comparator(d.documentKey,e.documentKey)))}function ta(d,e){for(let r=0;r<d.length&&r<e.length;++r){const o=d[r]-e[r];if(0!==o)return o}return d.length-e.length}class Rc{constructor(e){this.Xt=new Ir((r,o)=>Zn.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const o=r;o.isInequality()?this.Xt=this.Xt.add(o):this.tn.push(o)}}get nn(){return this.Xt.size>1}rn(e){if(Vt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Gn(e);if(void 0!==r&&!this.sn(r))return!1;const o=an(e);let h=new Set,_=0,b=0;for(;_<o.length&&this.sn(o[_]);++_)h=h.add(o[_].fieldPath.canonicalString());if(_===o.length)return!0;if(this.Xt.size>0){const x=this.Xt.getIterator().getNext();if(!h.has(x.field.canonicalString())){const F=o[_];if(!this.on(x,F)||!this._n(this.en[b++],F))return!1}++_}for(;_<o.length;++_)if(b>=this.en.length||!this._n(this.en[b++],o[_]))return!1;return!0}an(){if(this.nn)return null;let e=new Ir(Zn.comparator);const r=[];for(const o of this.tn)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new Sr(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new Sr(o.field,0))}for(const o of this.en)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new Sr(o.field,"asc"===o.dir?0:1)));return new Tn(Tn.UNKNOWN_ID,this.collectionId,r,qn.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function ll(d){var e,r;if(Vt(d instanceof Sn||d instanceof Un),d instanceof Sn){if(d instanceof Uo){const h=(null===(r=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(_=>Sn.create(d.field,"==",_)))||[];return Un.create(h,"or")}return d}const o=d.filters.map(h=>ll(h));return Un.create(o,d.op)}function Xm(d){if(0===d.getFilters().length)return[];const e=Xf(ll(d));return Vt(Yf(e)),Mu(e)||Ru(e)?[e]:e.getFilters()}function Mu(d){return d instanceof Sn}function Ru(d){return d instanceof Un&&Ai(d)}function Yf(d){return Mu(d)||Ru(d)||function(r){if(r instanceof Un&&vr(r)){for(const o of r.getFilters())if(!Mu(o)&&!Ru(o))return!1;return!0}return!1}(d)}function Xf(d){if(Vt(d instanceof Sn||d instanceof Un),d instanceof Sn)return d;if(1===d.filters.length)return Xf(d.filters[0]);const e=d.filters.map(o=>Xf(o));let r=Un.create(e,d.op);return r=Td(r),Yf(r)?r:(Vt(r instanceof Un),Vt(Br(r)),Vt(r.filters.length>1),r.filters.reduce((o,h)=>Ou(o,h)))}function Ou(d,e){let r;return Vt(d instanceof Sn||d instanceof Un),Vt(e instanceof Sn||e instanceof Un),r=d instanceof Sn?e instanceof Sn?Un.create([d,e],"and"):Oc(d,e):e instanceof Sn?Oc(e,d):function(h,_){if(Vt(h.filters.length>0&&_.filters.length>0),Br(h)&&Br(_))return Xr(h,_.getFilters());const b=vr(h)?h:_,x=vr(h)?_:h,F=b.filters.map(K=>Ou(K,x));return Un.create(F,"or")}(d,e),Td(r)}function Oc(d,e){if(Br(e))return Xr(e,d.getFilters());{const r=e.filters.map(o=>Ou(d,o));return Un.create(r,"or")}}function Td(d){if(Vt(d instanceof Sn||d instanceof Un),d instanceof Sn)return d;const e=d.getFilters();if(1===e.length)return Td(e[0]);if(Ji(d))return d;const r=e.map(h=>Td(h)),o=[];return r.forEach(h=>{h instanceof Sn?o.push(h):h instanceof Un&&(h.op===d.op?o.push(...h.filters):o.push(h))}),1===o.length?o[0]:Un.create(o,d.op)}class Nc{constructor(){this.un=new kc}addToCollectionParentIndex(e,r){return this.un.add(r),nt.resolve()}getCollectionParents(e,r){return nt.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return nt.resolve()}deleteFieldIndex(e,r){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,r){return nt.resolve()}getDocumentsMatchingTarget(e,r){return nt.resolve(null)}getIndexType(e,r){return nt.resolve(0)}getFieldIndexes(e,r){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,r){return nt.resolve(fn.min())}getMinOffsetFromCollectionGroup(e,r){return nt.resolve(fn.min())}updateCollectionGroup(e,r,o){return nt.resolve()}updateIndexEntries(e,r){return nt.resolve()}}class kc{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),h=this.index[r]||new Ir(cn.comparator),_=!h.has(o);return this.index[r]=h.add(o),_}has(e){const r=e.lastSegment(),o=e.popLast(),h=this.index[r];return h&&h.has(o)}getEntries(e){return(this.index[e]||new Ir(cn.comparator)).toArray()}}const lc=new Uint8Array(0);class Qf{constructor(e,r){this.databaseId=r,this.cn=new kc,this.ln=new $i(o=>fs(o),(o,h)=>Co(o,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const o=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const _={collectionId:o,parent:At(h)};return Bh(e).put(_)}return nt.resolve()}getCollectionParents(e,r){const o=[],h=IDBKeyRange.bound([r,""],[Nn(r),""],!1,!0);return Bh(e).U(h).next(_=>{for(const b of _){if(b.collectionId!==r)break;o.push(An(b.parent))}return o})}addFieldIndex(e,r){const o=Nu(e),h={indexId:(x=r).indexId,collectionGroup:x.collectionGroup,fields:x.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var x;delete h.indexId;const _=o.add(h);if(r.indexState){const b=yo(e);return _.next(x=>{b.put(cl(x,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return _.next()}deleteFieldIndex(e,r){const o=Nu(e),h=yo(e),_=xa(e);return o.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Nu(e),o=xa(e),h=yo(e);return r.j().next(()=>o.j()).next(()=>h.j())}createTargetIndexes(e,r){return nt.forEach(this.hn(r),o=>this.getIndexType(e,o).next(h=>{if(0===h||1===h){const _=new Rc(o).an();if(null!=_)return this.addFieldIndex(e,_)}}))}getDocumentsMatchingTarget(e,r){const o=xa(e);let h=!0;const _=new Map;return nt.forEach(this.hn(r),b=>this.Pn(e,b).next(x=>{h&&(h=!!x),_.set(b,x)})).next(()=>{if(h){let b=gr();const x=[];return nt.forEach(_,(F,K)=>{var er;De("IndexedDbIndexManager",`Using index ${er=F,`id=${er.indexId}|cg=${er.collectionGroup}|f=${er.fields.map(Or=>`${Or.fieldPath}:${Or.kind}`).join(",")}`} to execute ${fs(r)}`);const oe=function(er,Or){const Vi=Gn(Or);if(void 0===Vi)return null;for(const ii of jo(er,Vi.fieldPath))switch(ii.op){case"array-contains-any":return ii.value.arrayValue.values||[];case"array-contains":return[ii.value]}return null}(K,F),ye=function(er,Or){const Vi=new Map;for(const ii of an(Or))for(const ot of jo(er,ii.fieldPath))switch(ot.op){case"==":case"in":Vi.set(ii.fieldPath.canonicalString(),ot.value);break;case"not-in":case"!=":return Vi.set(ii.fieldPath.canonicalString(),ot.value),Array.from(Vi.values())}return null}(K,F),$e=function(er,Or){const Vi=[];let ii=!0;for(const ot of an(Or)){const ke=0===ot.kind?Ei(er,ot.fieldPath,er.startAt):To(er,ot.fieldPath,er.startAt);Vi.push(ke.value),ii&&(ii=ke.inclusive)}return new Yt(Vi,ii)}(K,F),yt=function(er,Or){const Vi=[];let ii=!0;for(const ot of an(Or)){const ke=0===ot.kind?To(er,ot.fieldPath,er.endAt):Ei(er,ot.fieldPath,er.endAt);Vi.push(ke.value),ii&&(ii=ke.inclusive)}return new Yt(Vi,ii)}(K,F),jt=this.In(F,K,$e),un=this.In(F,K,yt),Zt=this.Tn(F,K,ye),Xn=this.En(F.indexId,oe,jt,$e.inclusive,un,yt.inclusive,Zt);return nt.forEach(Xn,or=>o.G(or,r.limit).next(er=>{er.forEach(Or=>{const Vi=Ut.fromSegments(Or.documentKey);b.has(Vi)||(b=b.add(Vi),x.push(Vi))})}))}).next(()=>x)}return nt.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:Xm(Un.create(e.filters,"and")).map(o=>qi(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,o,h,_,b,x){const F=(null!=r?r.length:1)*Math.max(o.length,_.length),K=F/(null!=r?r.length:1),oe=[];for(let ye=0;ye<F;++ye){const $e=r?this.dn(r[ye/K]):lc,yt=this.An(e,$e,o[ye%K],h),jt=this.Rn(e,$e,_[ye%K],b),un=x.map(Zt=>this.An(e,$e,Zt,!0));oe.push(...this.createRange(yt,jt,un))}return oe}An(e,r,o,h){const _=new zo(e,Ut.empty(),r,o);return h?_:_.Zt()}Rn(e,r,o,h){const _=new zo(e,Ut.empty(),r,o);return h?_.Zt():_}Pn(e,r){const o=new Rc(r),h=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,h).next(_=>{let b=null;for(const x of _)o.rn(x)&&(!b||x.fields.length>b.fields.length)&&(b=x);return b})}getIndexType(e,r){let o=2;const h=this.hn(r);return nt.forEach(h,_=>this.Pn(e,_).next(b=>{b?0!==o&&b.fields.length<function(F){let K=new Ir(Zn.comparator),oe=!1;for(const ye of F.filters)for(const $e of ye.getFlattenedFilters())$e.field.isKeyField()||("array-contains"===$e.op||"array-contains-any"===$e.op?oe=!0:K=K.add($e.field));for(const ye of F.orderBy)ye.field.isKeyField()||(K=K.add(ye.field));return K.size+(oe?1:0)}(_)&&(o=1):o=0})).next(()=>null!==r.limit&&h.length>1&&2===o?1:o)}Vn(e,r){const o=new Pu;for(const h of an(e)){const _=r.data.field(h.fieldPath);if(null==_)return null;const b=o.Yt(h.kind);ea.vt.It(_,b)}return o.zt()}dn(e){const r=new Pu;return ea.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const o=new Pu;return ea.vt.It(Wn(this.databaseId,r),o.Yt(function(_){const b=an(_);return 0===b.length?0:b[b.length-1].kind}(e))),o.zt()}Tn(e,r,o){if(null===o)return[];let h=[];h.push(new Pu);let _=0;for(const b of an(e)){const x=o[_++];for(const F of h)if(this.fn(r,b.fieldPath)&&ti(x))h=this.gn(h,b,x);else{const K=F.Yt(b.kind);ea.vt.It(x,K)}}return this.pn(h)}In(e,r,o){return this.Tn(e,r,o.position)}pn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].zt();return r}gn(e,r,o){const h=[...e],_=[];for(const b of o.arrayValue.values||[])for(const x of h){const F=new Pu;F.seed(x.zt()),ea.vt.It(b,F.Yt(r.kind)),_.push(F)}return _}fn(e,r){return!!e.filters.find(o=>o instanceof Sn&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=Nu(e),h=yo(e);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(_=>{const b=[];return nt.forEach(_,x=>h.get([x.indexId,this.uid]).next(F=>{b.push(function(oe,ye){const $e=ye?new qn(ye.sequenceNumber,new fn(vn(ye.readTime),new Ut(An(ye.documentKey)),ye.largestBatchId)):qn.empty(),yt=oe.fields.map(([jt,un])=>new Sr(Zn.fromServerFormat(jt),un));return new Tn(oe.indexId,oe.collectionGroup,yt,$e)}(x,F))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,h)=>{const _=o.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==_?_:qt(o.collectionGroup,h.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const h=Nu(e),_=yo(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(x=>nt.forEach(x,F=>_.put(cl(F.indexId,this.uid,b,o)))))}updateIndexEntries(e,r){const o=new Map;return nt.forEach(r,(h,_)=>{const b=o.get(h.collectionGroup);return(b?nt.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(x=>(o.set(h.collectionGroup,x),nt.forEach(x,F=>this.wn(e,h,F).next(K=>{const oe=this.Sn(_,F);return K.isEqual(oe)?nt.resolve():this.bn(e,_,F,K,oe)}))))})}Dn(e,r,o,h){return xa(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(o,r.key),documentKey:r.key.path.toArray()})}vn(e,r,o,h){return xa(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(o,r.key),r.key.path.toArray()])}wn(e,r,o){const h=xa(e);let _=new Ir(_o);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.mn(o,r)])},(b,x)=>{_=_.add(new zo(o.indexId,r,x.arrayValue,x.directionalValue))}).next(()=>_)}Sn(e,r){let o=new Ir(_o);const h=this.Vn(r,e);if(null==h)return o;const _=Gn(r);if(null!=_){const b=e.data.field(_.fieldPath);if(ti(b))for(const x of b.arrayValue.values||[])o=o.add(new zo(r.indexId,e.key,this.dn(x),h))}else o=o.add(new zo(r.indexId,e.key,lc,h));return o}bn(e,r,o,h,_){De("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(F,K,oe,ye,$e){const yt=F.getIterator(),jt=K.getIterator();let un=Vo(yt),Zt=Vo(jt);for(;un||Zt;){let Xn=!1,or=!1;if(un&&Zt){const er=oe(un,Zt);er<0?or=!0:er>0&&(Xn=!0)}else null!=un?or=!0:Xn=!0;Xn?(ye(Zt),Zt=Vo(jt)):or?($e(un),un=Vo(yt)):(un=Vo(yt),Zt=Vo(jt))}}(h,_,_o,x=>{b.push(this.Dn(e,r,o,x))},x=>{b.push(this.vn(e,r,o,x))}),nt.waitFor(b)}yn(e){let r=1;return yo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,h,_)=>{_.done(),r=h.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((b,x)=>_o(b,x)).filter((b,x,F)=>!x||0!==_o(b,F[x-1]));const h=[];h.push(e);for(const b of o){const x=_o(b,e),F=_o(b,r);if(0===x)h[0]=e.Zt();else if(x>0&&F<0)h.push(b),h.push(b.Zt());else if(F>0)break}h.push(r);const _=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];_.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,lc,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,lc,[]]))}return _}Cn(e,r){return _o(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(ku)}getMinOffset(e,r){return nt.mapArray(this.hn(r),o=>this.Pn(e,o).next(h=>h||xt())).next(ku)}}function Bh(d){return Gi(d,"collectionParents")}function xa(d){return Gi(d,"indexEntries")}function Nu(d){return Gi(d,"indexConfiguration")}function yo(d){return Gi(d,"indexState")}function ku(d){Vt(0!==d.length);let e=d[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<d.length;o++){const h=d[o].indexState.offset;ei(h,e)<0&&(e=h),r<h.largestBatchId&&(r=h.largestBatchId)}return new fn(e.readTime,e.documentKey,r)}const ul={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ls{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ls(e,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $h(d,e,r){const o=d.store("mutations"),h=d.store("documentMutations"),_=[],b=IDBKeyRange.only(r.batchId);let x=0;const F=o.J({range:b},(oe,ye,$e)=>(x++,$e.delete()));_.push(F.next(()=>{Vt(1===x)}));const K=[];for(const oe of r.mutations){const ye=Lr(e,oe.key.path,r.batchId);_.push(h.delete(ye)),K.push(oe.key)}return nt.waitFor(_).next(()=>K)}function Fc(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw xt();e=d.noDocument}return JSON.stringify(e).length}Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);class dl{constructor(e,r,o,h){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=h,this.Fn={}}static lt(e,r,o,h){Vt(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new dl(_,r,o,h)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).J({index:"userMutationsIndex",range:o},(h,_,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,o,h){const _=hl(e),b=uc(e);return b.add({}).next(x=>{Vt("number"==typeof x);const F=new Hs(x,r,o,h),K=function(yt,jt,un){const Zt=un.baseMutations.map(or=>Sc(yt.ct,or)),Xn=un.mutations.map(or=>Sc(yt.ct,or));return{userId:jt,batchId:un.batchId,localWriteTimeMs:un.localWriteTime.toMillis(),baseMutations:Zt,mutations:Xn}}(this.serializer,this.userId,F),oe=[];let ye=new Ir(($e,yt)=>qt($e.canonicalString(),yt.canonicalString()));for(const $e of h){const yt=Lr(this.userId,$e.key.path,x);ye=ye.add($e.key.path.popLast()),oe.push(b.put(K)),oe.push(_.put(yt,ur))}return ye.forEach($e=>{oe.push(this.indexManager.addToCollectionParentIndex(e,$e))}),e.addOnCommittedListener(()=>{this.Fn[x]=F.keys()}),nt.waitFor(oe).next(()=>F)})}lookupMutationBatch(e,r){return uc(e).get(r).next(o=>o?(Vt(o.userId===this.userId),hr(this.serializer,o)):null)}Mn(e,r){return this.Fn[r]?nt.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const h=o.keys();return this.Fn[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,h=IDBKeyRange.lowerBound([this.userId,o]);let _=null;return uc(e).J({index:"userMutationsIndex",range:h},(b,x,F)=>{x.userId===this.userId&&(Vt(x.batchId>=o),_=hr(this.serializer,x)),F.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return uc(e).J({index:"userMutationsIndex",range:r,reverse:!0},(h,_,b)=>{o=_.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).U("userMutationsIndex",r).next(o=>o.map(h=>hr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=on(this.userId,r.path),h=IDBKeyRange.lowerBound(o),_=[];return hl(e).J({range:h},(b,x,F)=>{const[K,oe,ye]=b,$e=An(oe);if(K===this.userId&&r.path.isEqual($e))return uc(e).get(ye).next(yt=>{if(!yt)throw xt();Vt(yt.userId===this.userId),_.push(hr(this.serializer,yt))});F.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Ir(qt);const h=[];return r.forEach(_=>{const b=on(this.userId,_.path),x=IDBKeyRange.lowerBound(b),F=hl(e).J({range:x},(K,oe,ye)=>{const[$e,yt,jt]=K,un=An(yt);$e===this.userId&&_.path.isEqual(un)?o=o.add(jt):ye.done()});h.push(F)}),nt.waitFor(h).next(()=>this.xn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,h=o.length+1,_=on(this.userId,o),b=IDBKeyRange.lowerBound(_);let x=new Ir(qt);return hl(e).J({range:b},(F,K,oe)=>{const[ye,$e,yt]=F,jt=An($e);ye===this.userId&&o.isPrefixOf(jt)?jt.length===h&&(x=x.add(yt)):oe.done()}).next(()=>this.xn(e,x))}xn(e,r){const o=[],h=[];return r.forEach(_=>{h.push(uc(e).get(_).next(b=>{if(null===b)throw xt();Vt(b.userId===this.userId),o.push(hr(this.serializer,b))}))}),nt.waitFor(h).next(()=>o)}removeMutationBatch(e,r){return $h(e._e,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),nt.forEach(o,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return nt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),h=[];return hl(e).J({range:o},(_,b,x)=>{if(_[0]===this.userId){const F=An(_[1]);h.push(F)}else x.done()}).next(()=>{Vt(0===h.length)})})}containsKey(e,r){return Hh(e,this.userId,r)}Nn(e){return dc(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Hh(d,e,r){const o=on(e,r.path),h=o[1],_=IDBKeyRange.lowerBound(o);let b=!1;return hl(d).J({range:_,H:!0},(x,F,K)=>{const[oe,ye,$e]=x;oe===e&&ye===h&&(b=!0),K.done()}).next(()=>b)}function uc(d){return Gi(d,"mutations")}function hl(d){return Gi(d,"documentMutations")}function dc(d){return Gi(d,"mutationQueues")}class Lc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Lc(0)}static kn(){return new Lc(-1)}}class Qm{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const o=new Lc(r.highestTargetId);return r.highestTargetId=o.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>kt.fromTimestamp(new $t(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.qn(e).next(h=>(h.highestListenSequenceNumber=r,o&&(h.lastRemoteSnapshotVersion=o.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Qn(e,h)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(o=>(o.targetCount+=1,this.$n(r,o),this.Qn(e,o))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Ao(e).delete(r.targetId)).next(()=>this.qn(e)).next(o=>(Vt(o.targetCount>0),o.targetCount-=1,this.Qn(e,o)))}removeTargets(e,r,o){let h=0;const _=[];return Ao(e).J((b,x)=>{const F=sr(x);F.sequenceNumber<=r&&null===o.get(F.targetId)&&(h++,_.push(this.removeTargetData(e,F)))}).next(()=>nt.waitFor(_)).next(()=>h)}forEachTarget(e,r){return Ao(e).J((o,h)=>{const _=sr(h);r(_)})}qn(e){return Vc(e).get("targetGlobalKey").next(r=>(Vt(null!==r),r))}Qn(e,r){return Vc(e).put("targetGlobalKey",r)}Kn(e,r){return Ao(e).put(kr(this.serializer,r))}$n(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=fs(r),h=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let _=null;return Ao(e).J({range:h,index:"queryTargetsIndex"},(b,x,F)=>{const K=sr(x);Co(r,K.target)&&(_=K,F.done())}).next(()=>_)}addMatchingKeys(e,r,o){const h=[],_=Uc(e);return r.forEach(b=>{const x=At(b.path);h.push(_.put({targetId:o,path:x})),h.push(this.referenceDelegate.addReference(e,o,b))}),nt.waitFor(h)}removeMatchingKeys(e,r,o){const h=Uc(e);return nt.forEach(r,_=>{const b=At(_.path);return nt.waitFor([h.delete([o,b]),this.referenceDelegate.removeReference(e,o,_)])})}removeMatchingKeysForTargetId(e,r){const o=Uc(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(h)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),h=Uc(e);let _=gr();return h.J({range:o,H:!0},(b,x,F)=>{const K=An(b[1]),oe=new Ut(K);_=_.add(oe)}).next(()=>_)}containsKey(e,r){const o=At(r.path),h=IDBKeyRange.bound([o],[Nn(o)],!1,!0);let _=0;return Uc(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,x],F,K)=>{0!==b&&(_++,K.done())}).next(()=>_>0)}ot(e,r){return Ao(e).get(r).next(o=>o?sr(o):null)}}function Ao(d){return Gi(d,"targets")}function Vc(d){return Gi(d,"targetGlobal")}function Uc(d){return Gi(d,"targetDocuments")}function Fu([d,e],[r,o]){const h=qt(d,r);return 0===h?qt(e,o):h}class Jf{constructor(e){this.Un=e,this.buffer=new Ir(Fu),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Fu(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class jc{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;De("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,a.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){$n(o)?De("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield zn(o)}yield r.Hn(3e5)}))}}class Gh{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return nt.resolve(k.oe);const o=new Jf(r);return this.Jn.forEachTarget(e,h=>o.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>o.zn(h))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.Jn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(ul)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ul):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let o,h,_,b,x,F,K;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),h=this.params.maximumSequenceNumbersToCollect):h=ye,b=Date.now(),this.nthSequenceNumber(e,h))).next(ye=>(o=ye,x=Date.now(),this.removeTargets(e,o,r))).next(ye=>(_=ye,F=Date.now(),this.removeOrphanedDocuments(e,o))).next(ye=>(K=Date.now(),Dt()<=Ie.$b.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-oe}ms\n\tDetermined least recently used ${h} in `+(x-b)+`ms\n\tRemoved ${_} targets in `+(F-x)+`ms\n\tRemoved ${ye} documents in `+(K-F)+`ms\nTotal Duration: ${K-oe}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:ye})))}}class fl{constructor(e,r){this.db=e,this.garbageCollector=function Vs(d,e){return new Gh(d,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(h=>o+h))}er(e){let r=0;return this.Zn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(o,h)=>r(h))}addReference(e,r,o){return Ga(e,o)}removeReference(e,r,o){return Ga(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Ga(e,r)}nr(e,r){return function(h,_){let b=!1;return dc(h).Y(x=>Hh(h,x,_).next(F=>(F&&(b=!0),nt.resolve(!F)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.tr(e,(b,x)=>{if(x<=r){const F=this.nr(e,b).next(K=>{if(!K)return _++,o.getEntry(e,b).next(()=>(o.removeEntry(b,kt.min()),Uc(e).delete([0,At(b.path)])))});h.push(F)}}).next(()=>nt.waitFor(h)).next(()=>o.apply(e)).next(()=>_)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Ga(e,r)}tr(e,r){const o=Uc(e);let h,_=k.oe;return o.J({index:"documentTargetsIndex"},([b,x],{path:F,sequenceNumber:K})=>{0===b?(_!==k.oe&&r(new Ut(An(h)),_),_=K,h=F):_=k.oe}).next(()=>{_!==k.oe&&r(new Ut(An(h)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ga(d,e){return Uc(d).put((h=d.currentSequenceNumber,{targetId:0,path:At(e.path),sequenceNumber:h}));var h}class Id{constructor(){this.changes=new $i(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?nt.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zf{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return na(e).put(o)}removeEntry(e,r,o){return na(e).delete(function(_,b){const x=_.path.toArray();return[x.slice(0,x.length-2),x[x.length-2],_t(b),x[x.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.rr(e,o)))}getEntry(e,r){let o=mt.newInvalidDocument(r);return na(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Wo(r))},(h,_)=>{o=this.ir(r,_)}).next(()=>o)}sr(e,r){let o={size:0,document:mt.newInvalidDocument(r)};return na(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Wo(r))},(h,_)=>{o={document:this.ir(r,_),size:Fc(_)}}).next(()=>o)}getEntries(e,r){let o=cs();return this._r(e,r,(h,_)=>{const b=this.ir(h,_);o=o.insert(h,b)}).next(()=>o)}ar(e,r){let o=cs(),h=new qr(Ut.comparator);return this._r(e,r,(_,b)=>{const x=this.ir(_,b);o=o.insert(_,x),h=h.insert(_,Fc(b))}).next(()=>({documents:o,ur:h}))}_r(e,r,o){if(r.isEmpty())return nt.resolve();let h=new Ir(Dd);r.forEach(F=>h=h.add(F));const _=IDBKeyRange.bound(Wo(h.first()),Wo(h.last())),b=h.getIterator();let x=b.getNext();return na(e).J({index:"documentKeyIndex",range:_},(F,K,oe)=>{const ye=Ut.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;x&&Dd(x,ye)<0;)o(x,null),x=b.getNext();x&&x.isEqual(ye)&&(o(x,K),x=b.hasNext()?b.getNext():null),x?oe.$(Wo(x)):oe.done()}).next(()=>{for(;x;)o(x,null),x=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,o,h,_){const b=r.path,x=[b.popLast().toArray(),b.lastSegment(),_t(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],F=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return na(e).U(IDBKeyRange.bound(x,F,!0)).next(K=>{_?.incrementDocumentReadCount(K.length);let oe=cs();for(const ye of K){const $e=this.ir(Ut.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);$e.isFoundDocument()&&(ho(r,$e)||h.has($e.key))&&(oe=oe.insert($e.key,$e))}return oe})}getAllFromCollectionGroup(e,r,o,h){let _=cs();const b=zh(r,o),x=zh(r,fn.max());return na(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,x,!0)},(F,K,oe)=>{const ye=this.ir(Ut.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);_=_.insert(ye.key,ye),_.size===h&&oe.done()}).next(()=>_)}newChangeBuffer(e){return new Ad(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return pl(e).get("remoteDocumentGlobalKey").next(r=>(Vt(!!r),r))}rr(e,r){return pl(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const o=function ce(d,e){let r;if(e.document)r=Kt(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Ut.fromSegments(e.noDocument.path),h=vn(e.noDocument.readTime);r=mt.newNoDocument(o,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return xt();{const o=Ut.fromSegments(e.unknownDocument.path),h=vn(e.unknownDocument.version);r=mt.newUnknownDocument(o,h)}}return e.readTime&&r.setReadTime(function(h){const _=new $t(h[0],h[1]);return kt.fromTimestamp(_)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(kt.min()))return o}return mt.newInvalidDocument(e)}}function wd(d){return new Zf(d)}class Ad extends Id{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new $i(o=>o.toString(),(o,h)=>o.isEqual(h))}applyChanges(e){const r=[];let o=0,h=new Ir((_,b)=>qt(_.canonicalString(),b.canonicalString()));return this.changes.forEach((_,b)=>{const x=this.lr.get(_);if(r.push(this.cr.removeEntry(e,_,x.readTime)),b.isValidDocument()){const F=Pe(this.cr.serializer,b);h=h.add(_.path.popLast());const K=Fc(F);o+=K-x.size,r.push(this.cr.addEntry(e,_,F))}else if(o-=x.size,this.trackRemovals){const F=Pe(this.cr.serializer,b.convertToNoDocument(kt.min()));r.push(this.cr.addEntry(e,_,F))}}),h.forEach(_=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,_))}),r.push(this.cr.updateMetadata(e,o)),nt.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(o=>(this.lr.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:o,ur:h})=>(h.forEach((_,b)=>{this.lr.set(_,{size:b,readTime:o.get(_).readTime})}),o))}}function pl(d){return Gi(d,"remoteDocumentGlobal")}function na(d){return Gi(d,"remoteDocumentsV14")}function Wo(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zh(d,e){const r=e.documentKey.path.toArray();return[d,_t(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Dd(d,e){const r=d.path.toArray(),o=e.path.toArray();let h=0;for(let _=0;_<r.length-2&&_<o.length-2;++_)if(h=qt(r[_],o[_]),h)return h;return h=qt(r.length,o.length),h||(h=qt(r[r.length-2],o[o.length-2]),h||qt(r[r.length-1],o[o.length-1]))}class za{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Sd{constructor(e,r,o,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=h}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(o=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(null!==o&&zr(o.mutation,h,fi.empty(),$t.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,gr()).next(()=>o))}getLocalViewOfDocuments(e,r,o=gr()){const h=Ss();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,o).next(_=>{let b=Js();return _.forEach((x,F)=>{b=b.insert(x,F.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const o=Ss();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,gr()))}populateOverlays(e,r,o){const h=[];return o.forEach(_=>{r.has(_)||h.push(_)}),this.documentOverlayCache.getOverlays(e,h).next(_=>{_.forEach((b,x)=>{r.set(b,x)})})}computeViews(e,r,o,h){let _=cs();const b=Ta(),x=Ta();return r.forEach((F,K)=>{const oe=o.get(K.key);h.has(K.key)&&(void 0===oe||oe.mutation instanceof ri)?_=_.insert(K.key,K):void 0!==oe?(b.set(K.key,oe.mutation.getFieldMask()),zr(oe.mutation,K,oe.mutation.getFieldMask(),$t.now())):b.set(K.key,fi.empty())}),this.recalculateAndSaveOverlays(e,_).next(F=>(F.forEach((K,oe)=>b.set(K,oe)),r.forEach((K,oe)=>{var ye;return x.set(K,new za(oe,null!==(ye=b.get(K))&&void 0!==ye?ye:null))}),x))}recalculateAndSaveOverlays(e,r){const o=Ta();let h=new qr((b,x)=>b-x),_=gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const x of b)x.keys().forEach(F=>{const K=r.get(F);if(null===K)return;let oe=o.get(F)||fi.empty();oe=x.applyToLocalView(K,oe),o.set(F,oe);const ye=(h.get(x.batchId)||gr()).add(F);h=h.insert(x.batchId,ye)})}).next(()=>{const b=[],x=h.getReverseIterator();for(;x.hasNext();){const F=x.getNext(),K=F.key,oe=F.value,ye=fa();oe.forEach($e=>{if(!_.has($e)){const yt=Ot(r.get($e),o.get($e));null!==yt&&ye.set($e,yt),_=_.add($e)}}),b.push(this.documentOverlayCache.saveOverlays(e,K,ye))}return nt.waitFor(b)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,h){return Ut.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):le(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,h):this.getDocumentsMatchingCollectionQuery(e,r,o,h);var b}getNextDocuments(e,r,o,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,h).next(_=>{const b=h-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,h-_.size):nt.resolve(Ss());let x=-1,F=_;return b.next(K=>nt.forEach(K,(oe,ye)=>(x<ye.largestBatchId&&(x=ye.largestBatchId),_.get(oe)?nt.resolve():this.remoteDocumentCache.getEntry(e,oe).next($e=>{F=F.insert(oe,$e)}))).next(()=>this.populateOverlays(e,K,_)).next(()=>this.computeViews(e,F,K,gr())).next(oe=>({batchId:x,changes:Ca(oe)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ut(r)).next(o=>{let h=Js();return o.isFoundDocument()&&(h=h.insert(o.key,o)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,o,h){const _=r.collectionGroup;let b=Js();return this.indexManager.getCollectionParents(e,_).next(x=>nt.forEach(x,F=>{const K=(ye=r,$e=F.child(_),new Yo($e,null,ye.explicitOrderBy.slice(),ye.filters.slice(),ye.limit,ye.limitType,ye.startAt,ye.endAt));var ye,$e;return this.getDocumentsMatchingCollectionQuery(e,K,o,h).next(oe=>{oe.forEach((ye,$e)=>{b=b.insert(ye,$e)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,o,h){let _;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(b=>(_=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,_,h))).next(b=>{_.forEach((F,K)=>{const oe=K.getKey();null===b.get(oe)&&(b=b.insert(oe,mt.newInvalidDocument(oe)))});let x=Js();return b.forEach((F,K)=>{const oe=_.get(F);void 0!==oe&&zr(oe.mutation,K,fi.empty(),$t.now()),ho(r,K)&&(x=x.insert(F,K))}),x})}}class Jm{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return nt.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(h=r).id,version:h.version,createTime:ls(h.createTime)}),nt.resolve();var h}getNamedQuery(e,r){return nt.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(h=r).name,query:_i(h.bundledQuery),readTime:ls(h.readTime)}),nt.resolve();var h}}class Xl{constructor(){this.overlays=new qr(Ut.comparator),this.Ir=new Map}getOverlay(e,r){return nt.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Ss();return nt.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&o.set(h,_)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((h,_)=>{this.ht(e,r,_)}),nt.resolve()}removeOverlaysForBatchId(e,r,o){const h=this.Ir.get(o);return void 0!==h&&(h.forEach(_=>this.overlays=this.overlays.remove(_)),this.Ir.delete(o)),nt.resolve()}getOverlaysForCollection(e,r,o){const h=Ss(),_=r.length+1,b=new Ut(r.child("")),x=this.overlays.getIteratorFrom(b);for(;x.hasNext();){const F=x.getNext().value,K=F.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===_&&F.largestBatchId>o&&h.set(F.getKey(),F)}return nt.resolve(h)}getOverlaysForCollectionGroup(e,r,o,h){let _=new qr((K,oe)=>K-oe);const b=this.overlays.getIterator();for(;b.hasNext();){const K=b.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>o){let oe=_.get(K.largestBatchId);null===oe&&(oe=Ss(),_=_.insert(K.largestBatchId,oe)),oe.set(K.getKey(),K)}}const x=Ss(),F=_.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((K,oe)=>x.set(K,oe)),!(x.size()>=h)););return nt.resolve(x)}ht(e,r,o){const h=this.overlays.get(o.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(o.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new Ui(r,o));let _=this.Ir.get(r);void 0===_&&(_=gr(),this.Ir.set(r,_)),this.Ir.set(r,_.add(o.key))}}class Wh{constructor(){this.sessionToken=Ri.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,nt.resolve()}}class ep{constructor(){this.Tr=new Ir(xs.Er),this.dr=new Ir(xs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const o=new xs(e,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Vr(new xs(e,r))}mr(e,r){e.forEach(o=>this.removeReference(o,r))}gr(e){const r=new Ut(new cn([])),o=new xs(r,e),h=new xs(r,e+1),_=[];return this.dr.forEachInRange([o,h],b=>{this.Vr(b),_.push(b.key)}),_}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ut(new cn([])),o=new xs(r,e),h=new xs(r,e+1);let _=gr();return this.dr.forEachInRange([o,h],b=>{_=_.add(b.key)}),_}containsKey(e){const r=new xs(e,0),o=this.Tr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class xs{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ut.comparator(e.key,r.key)||qt(e.wr,r.wr)}static Ar(e,r){return qt(e.wr,r.wr)||Ut.comparator(e.key,r.key)}}class Zm{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ir(xs.Er)}checkEmpty(e){return nt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,h){const _=this.Sr;this.Sr++;const b=new Hs(_,r,o,h);this.mutationQueue.push(b);for(const x of h)this.br=this.br.add(new xs(x.key,_)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return nt.resolve(b)}lookupMutationBatch(e,r){return nt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.vr(r+1),_=h<0?0:h;return nt.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new xs(r,0),h=new xs(r,Number.POSITIVE_INFINITY),_=[];return this.br.forEachInRange([o,h],b=>{const x=this.Dr(b.wr);_.push(x)}),nt.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Ir(qt);return r.forEach(h=>{const _=new xs(h,0),b=new xs(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([_,b],x=>{o=o.add(x.wr)})}),nt.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,h=o.length+1;let _=o;Ut.isDocumentKey(_)||(_=_.child(""));const b=new xs(new Ut(_),0);let x=new Ir(qt);return this.br.forEachWhile(F=>{const K=F.key.path;return!!o.isPrefixOf(K)&&(K.length===h&&(x=x.add(F.wr)),!0)},b),nt.resolve(this.Cr(x))}Cr(e){const r=[];return e.forEach(o=>{const h=this.Dr(o);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){Vt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return nt.forEach(r.mutations,h=>{const _=new xs(h.key,r.batchId);return o=o.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,r){const o=new xs(r,0),h=this.br.firstAfterOrEqual(o);return nt.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return nt.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Dg{constructor(e){this.Mr=e,this.docs=new qr(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,h=this.docs.get(o),_=h?h.size:0,b=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:b}),this.size+=b-_,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return nt.resolve(o?o.document.mutableCopy():mt.newInvalidDocument(r))}getEntries(e,r){let o=cs();return r.forEach(h=>{const _=this.docs.get(h);o=o.insert(h,_?_.document.mutableCopy():mt.newInvalidDocument(h))}),nt.resolve(o)}getDocumentsMatchingQuery(e,r,o,h){let _=cs();const b=r.path,x=new Ut(b.child("")),F=this.docs.getIteratorFrom(x);for(;F.hasNext();){const{key:K,value:{document:oe}}=F.getNext();if(!b.isPrefixOf(K.path))break;K.path.length>b.length+1||ei(ys(oe),o)<=0||(h.has(oe.key)||ho(r,oe))&&(_=_.insert(oe.key,oe.mutableCopy()))}return nt.resolve(_)}getAllFromCollectionGroup(e,r,o,h){xt()}Or(e,r){return nt.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Ql(this)}getSize(e){return nt.resolve(this.size)}}class Ql extends Id{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((o,h)=>{h.isValidDocument()?r.push(this.cr.addEntry(e,h)):this.cr.removeEntry(o)}),nt.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class Sg{constructor(e){this.persistence=e,this.Nr=new $i(r=>fs(r),Co),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ep,this.targetCount=0,this.kr=Lc.Bn()}forEachTarget(e,r){return this.Nr.forEach((o,h)=>r(h)),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),nt.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Lc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,nt.resolve()}updateTargetData(e,r){return this.Kn(r),nt.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,r,o){let h=0;const _=[];return this.Nr.forEach((b,x)=>{x.sequenceNumber<=r&&null===o.get(x.targetId)&&(this.Nr.delete(b),_.push(this.removeMatchingKeysForTargetId(e,x.targetId)),h++)}),nt.waitFor(_).next(()=>h)}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,r){const o=this.Nr.get(r)||null;return nt.resolve(o)}addMatchingKeys(e,r,o){return this.Br.Rr(r,o),nt.resolve()}removeMatchingKeys(e,r,o){this.Br.mr(r,o);const h=this.persistence.referenceDelegate,_=[];return h&&r.forEach(b=>{_.push(h.markPotentiallyOrphaned(e,b))}),nt.waitFor(_)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),nt.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Br.yr(r);return nt.resolve(o)}containsKey(e,r){return nt.resolve(this.Br.containsKey(r))}}class Kh{constructor(e,r){this.qr={},this.overlays={},this.Qr=new k(0),this.Kr=!1,this.Kr=!0,this.$r=new Wh,this.referenceDelegate=e(this),this.Ur=new Sg(this),this.indexManager=new Nc,this.remoteDocumentCache=new Dg(o=>this.referenceDelegate.Wr(o)),this.serializer=new H(r),this.Gr=new Jm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Xl,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.qr[e.toKey()];return o||(o=new Zm(r,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,o){De("MemoryPersistence","Starting transaction:",e);const h=new Ws(this.Qr.next());return this.referenceDelegate.zr(),o(h).next(_=>this.referenceDelegate.jr(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}Hr(e,r){return nt.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,r)))}}class Ws extends Er{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Jr=new ep,this.Yr=null}static Zr(e){return new xd(e)}get Xr(){if(this.Yr)return this.Yr;throw xt()}addReference(e,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),nt.resolve()}removeReference(e,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),nt.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),nt.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(h=>this.Xr.add(h.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(_=>this.Xr.add(_.toString()))}).next(()=>o.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.Xr,o=>{const h=Ut.fromPath(o);return this.ei(e,h).next(_=>{_||r.removeEntry(h,kt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return nt.or([()=>nt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Pd{constructor(e){this.serializer=e}O(e,r,o,h){const _=new gt("createOrUpgrade",r);var F;o<1&&h>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pr,{unique:!0}),F.createObjectStore("documentMutations"),ra(e),function(F){F.createObjectStore("remoteDocuments")}(e));let b=nt.resolve();return o<3&&h>=3&&(0!==o&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),ra(e)),b=b.next(()=>function(F){const K=F.store("targetGlobal"),oe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",oe)}(_))),o<4&&h>=4&&(0!==o&&(b=b.next(()=>function(F,K){return K.store("mutations").U().next(oe=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pr,{unique:!0});const ye=K.store("mutations"),$e=oe.map(yt=>ye.put(yt));return nt.waitFor($e)})}(e,_))),b=b.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&h>=5&&(b=b.next(()=>this.ni(_))),o<6&&h>=6&&(b=b.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.ri(_)))),o<7&&h>=7&&(b=b.next(()=>this.ii(_))),o<8&&h>=8&&(b=b.next(()=>this.si(e,_))),o<9&&h>=9&&(b=b.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&h>=10&&(b=b.next(()=>this.oi(_))),o<11&&h>=11&&(b=b.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&h>=12&&(b=b.next(()=>{!function(F){const K=F.createObjectStore("documentOverlays",{keyPath:Cn});K.createIndex("collectionPathOverlayIndex",Rn,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",dr,{unique:!1})}(e)})),o<13&&h>=13&&(b=b.next(()=>function(F){const K=F.createObjectStore("remoteDocumentsV14",{keyPath:Ts});K.createIndex("documentKeyIndex",yi),K.createIndex("collectionGroupIndex",ji)}(e)).next(()=>this._i(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&h>=14&&(b=b.next(()=>this.ai(e,_))),o<15&&h>=15&&(b=b.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:Z}).createIndex("sequenceNumberIndex",fe,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:He}).createIndex("documentKeyIndex",zt,{unique:!1})}(e))),o<16&&h>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),o<17&&h>=17&&(b=b.next(()=>{!function(F){F.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let r=0;return e.store("remoteDocuments").J((o,h)=>{r+=Fc(h)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}ni(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.U().next(h=>nt.forEach(h,_=>{const b=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",b).next(x=>nt.forEach(x,F=>{Vt(F.userId===_.userId);const K=hr(this.serializer,F);return $h(e,_.userId,K).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const _=[];return o.J((b,x)=>{const F=new cn(b),K=[0,At(F)];_.push(r.get(K).next(oe=>oe?nt.resolve():r.put({targetId:0,path:At(F),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>nt.waitFor(_))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:nn});const o=r.store("collectionParents"),h=new kc,_=b=>{if(h.add(b)){const x=b.lastSegment(),F=b.popLast();return o.put({collectionId:x,parent:At(F)})}};return r.store("remoteDocuments").J({H:!0},(b,x)=>{const F=new cn(b);return _(F.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,x,F],K)=>{const oe=An(x);return _(oe.popLast())}))}oi(e){const r=e.store("targets");return r.J((o,h)=>{const _=sr(h),b=kr(this.serializer,_);return r.put(b)})}_i(e,r){const o=r.store("remoteDocuments"),h=[];return o.J((_,b)=>{const x=r.store("remoteDocumentsV14"),F=(ye=b,ye.document?new Ut(cn.fromString(ye.document.name).popFirst(5)):ye.noDocument?Ut.fromSegments(ye.noDocument.path):ye.unknownDocument?Ut.fromSegments(ye.unknownDocument.path):xt()).path.toArray(),K={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var ye;h.push(x.put(K))}).next(()=>nt.waitFor(h))}ai(e,r){const o=r.store("mutations"),h=wd(this.serializer),_=new Kh(xd.Zr,this.serializer.ct);return o.U().next(b=>{const x=new Map;return b.forEach(F=>{var K;let oe=null!==(K=x.get(F.userId))&&void 0!==K?K:gr();hr(this.serializer,F).keys().forEach(ye=>oe=oe.add(ye)),x.set(F.userId,oe)}),nt.forEach(x,(F,K)=>{const oe=new et(K),ye=cc.lt(this.serializer,oe),$e=_.getIndexManager(oe),yt=dl.lt(oe,this.serializer,$e,_.referenceDelegate);return new Sd(h,yt,ye,$e).recalculateAndSaveOverlaysForDocumentKeys(new Lo(r,k.oe),F).next()})})}}function ra(d){d.createObjectStore("targetDocuments",{keyPath:vi}).createIndex("documentTargetsIndex",Ce,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Mi,{unique:!0}),d.createObjectStore("targetGlobal")}const ia="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Md{constructor(e,r,o,h,_,b,x,F,K,oe,ye=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.ui=_,this.window=b,this.document=x,this.ci=K,this.li=oe,this.hi=ye,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=$e=>Promise.resolve(),!Md.D())throw new tt(Fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fl(this,h),this.Ai=r+"main",this.serializer=new H(F),this.Ri=new ue(this.Ai,this.hi,new Pd(this.serializer)),this.$r=new jh,this.Ur=new Qm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wd(this.serializer),this.Gr=new Mc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===oe&&en("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(Fe.FAILED_PRECONDITION,ia);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new k(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var o=(0,a.A)(function*(h){if(r.started)return e(h)});return function(h){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,a.A)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,a.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$c(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if($n(e))return De("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return De("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Bc(e).get("owner").next(r=>nt.resolve(this.vi(r)))}Ci(e){return $c(e).delete(this.clientId)}Fi(){var e=this;return(0,a.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const h=Gi(o,"clientMetadata");return h.U().next(_=>{const b=e.xi(_,18e5),x=_.filter(F=>-1===b.indexOf(F));return nt.forEach(x,F=>h.delete(F.clientId)).next(()=>x)})}).catch(()=>[]);if(e.Vi)for(const o of r)e.Vi.removeItem(e.Oi(o.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?nt.resolve(!0):Bc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new tt(Fe.FAILED_PRECONDITION,ia);return!1}}return!(!this.networkEnabled||!this.inForeground)||$c(e).U().next(o=>void 0===this.xi(o,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(r=>(this.isPrimary!==r&&De("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,a.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new Lo(r,k.oe);return e.bi(o).next(()=>e.Ci(o))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(o=>this.Mi(o.updateTimeMs,r)&&!this.Ni(o.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>$c(e).U().next(r=>this.xi(r,18e5).map(o=>o.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return dl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qf(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return cc.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,o){De("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",_=17===(F=this.hi)?Fo:16===F?is:15===F?Ps:14===F?Qi:13===F?Tr:12===F?Kr:11===F?jr:void xt();var F;let b;return this.Ri.runTransaction(e,h,_,x=>(b=new Lo(x,this.Qr?this.Qr.next():k.oe),"readwrite-primary"===r?this.wi(b).next(F=>!!F||this.Si(b)).next(F=>{if(!F)throw en(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new tt(Fe.FAILED_PRECONDITION,tr);return o(b)}).next(F=>this.Di(b).next(()=>F)):this.Ki(b).next(()=>o(b)))).then(x=>(b.raiseOnCommittedEvent(),x))}Ki(e){return Bc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new tt(Fe.FAILED_PRECONDITION,ia)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bc(e).put("owner",r)}static D(){return ue.D()}bi(e){const r=Bc(e);return r.get("owner").next(o=>this.vi(o)?(De("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):nt.resolve())}Mi(e,r){const o=Date.now();return!(e<o-r||e>o&&(en(`Detected an update time that is in the future: ${e} > ${o}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,ge.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const o=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return De("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return en("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){en("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bc(d){return Gi(d,"owner")}function $c(d){return Gi(d,"clientMetadata")}function Rd(d,e){let r=d.projectId;return d.isDefaultDatabase||(r+="."+d.database),"firestore/"+e+"/"+r+"/"}class tp{constructor(e,r,o,h){this.targetId=e,this.fromCache=r,this.$i=o,this.Ui=h}static Wi(e,r){let o=gr(),h=gr();for(const _ of r.docChanges)switch(_.type){case 0:o=o.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new tp(e,r.fromCache,o,h)}}class gl{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xg{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,ge.nr)()?8:Re((0,ge.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,o,h){const _={result:null};return this.Yi(e,r).next(b=>{_.result=b}).next(()=>{if(!_.result)return this.Zi(e,r,h,o).next(b=>{_.result=b})}).next(()=>{if(_.result)return;const b=new gl;return this.Xi(e,r,b).next(x=>{if(_.result=x,this.zi)return this.es(e,r,b,x.size)})}).next(()=>_.result)}es(e,r,o,h){return o.documentReadCount<this.ji?(Dt()<=Ie.$b.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",es(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),nt.resolve()):(Dt()<=Ie.$b.DEBUG&&De("QueryEngine","Query:",es(r),"scans",o.documentReadCount,"local documents and returns",h,"documents as results."),o.documentReadCount>this.Hi*h?(Dt()<=Ie.$b.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",es(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(r))):nt.resolve())}Yi(e,r){if(V(r))return nt.resolve(null);let o=gn(r);return this.indexManager.getIndexType(e,o).next(h=>0===h?null:(null!==r.limit&&1===h&&(r=ps(r,null,"F"),o=gn(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(_=>{const b=gr(..._);return this.Ji.getDocuments(e,b).next(x=>this.indexManager.getMinOffset(e,o).next(F=>{const K=this.ts(r,x);return this.ns(r,K,b,F.readTime)?this.Yi(e,ps(r,null,"F")):this.rs(e,K,r,F)}))})))}Zi(e,r,o,h){return V(r)||h.isEqual(kt.min())?nt.resolve(null):this.Ji.getDocuments(e,o).next(_=>{const b=this.ts(r,_);return this.ns(r,b,o,h)?nt.resolve(null):(Dt()<=Ie.$b.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),es(r)),this.rs(e,b,r,hi(h,-1)).next(x=>x))})}ts(e,r){let o=new Ir(gs(e));return r.forEach((h,_)=>{ho(e,_)&&(o=o.add(_))}),o}ns(e,r,o,h){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const _="F"===e.limitType?r.last():r.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}Xi(e,r,o){return Dt()<=Ie.$b.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",es(r)),this.Ji.getDocumentsMatchingQuery(e,r,fn.min(),o)}rs(e,r,o,h){return this.Ji.getDocumentsMatchingQuery(e,o,h).next(_=>(r.forEach(b=>{_=_.insert(b.key,b)}),_))}}class vo{constructor(e,r,o,h){this.persistence=e,this.ss=r,this.serializer=h,this.os=new qr(qt),this._s=new $i(_=>fs(_),Co),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sd(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Od(d,e,r,o){return new vo(d,e,r,o)}function fc(d,e){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,a.A)(function*(d,e){const r=ut(d);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let h;return r.mutationQueue.getAllMutationBatches(o).next(_=>(h=_,r.ls(e),r.mutationQueue.getAllMutationBatches(o))).next(_=>{const b=[],x=[];let F=gr();for(const K of h){b.push(K.batchId);for(const oe of K.mutations)F=F.add(oe.key)}for(const K of _){x.push(K.batchId);for(const oe of K.mutations)F=F.add(oe.key)}return r.localDocuments.getDocuments(o,F).next(K=>({hs:K,removedBatchIds:b,addedBatchIds:x}))})})})).apply(this,arguments)}function kd(d){const e=ut(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function qh(d,e,r){let o=gr(),h=gr();return r.forEach(_=>o=o.add(_)),e.getEntries(d,o).next(_=>{let b=cs();return r.forEach((x,F)=>{const K=_.get(x);F.isFoundDocument()!==K.isFoundDocument()&&(h=h.add(x)),F.isNoDocument()&&F.version.isEqual(kt.min())?(e.removeEntry(x,F.readTime),b=b.insert(x,F)):!K.isValidDocument()||F.version.compareTo(K.version)>0||0===F.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(F),b=b.insert(x,F)):De("LocalStore","Ignoring outdated watch update for ",x,". Current version:",K.version," Watch version:",F.version)}),{Ps:b,Is:h}})}function rp(d,e){const r=ut(d);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Hc(d,e){const r=ut(d);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let h;return r.Ur.getTargetData(o,e).next(_=>_?(h=_,nt.resolve(h)):r.Ur.allocateTargetId(o).next(b=>(h=new N(e,b,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,h).next(()=>h))))}).then(o=>{const h=r.os.get(o.targetId);return(null===h||o.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(e,o.targetId)),o})}function Jl(d,e,r){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,a.A)(function*(d,e,r){const o=ut(d),h=o.os.get(e),_=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",_,b=>o.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!$n(b))throw b;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.os=o.os.remove(e),o._s.delete(h.target)})).apply(this,arguments)}function pc(d,e,r){const o=ut(d);let h=kt.min(),_=gr();return o.persistence.runTransaction("Execute query","readwrite",b=>function(F,K,oe){const ye=ut(F),$e=ye._s.get(oe);return void 0!==$e?nt.resolve(ye.os.get($e)):ye.Ur.getTargetData(K,oe)}(o,b,gn(e)).next(x=>{if(x)return h=x.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(b,x.targetId).next(F=>{_=F})}).next(()=>o.ss.getDocumentsMatchingQuery(b,e,r?h:kt.min(),r?_:gr())).next(x=>(Ld(o,Ul(e),x),{documents:x,Ts:_})))}function Yh(d,e){const r=ut(d),o=ut(r.Ur),h=r.os.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",_=>o.ot(_,e).next(b=>b?b.target:null))}function so(d,e){const r=ut(d),o=r.us.get(e)||kt.min();return r.persistence.runTransaction("Get new document changes","readonly",h=>r.cs.getAllFromCollectionGroup(h,e,hi(o,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Ld(r,e,h),h))}function Ld(d,e,r){let o=d.us.get(e)||kt.min();r.forEach((h,_)=>{_.readTime.compareTo(o)>0&&(o=_.readTime)}),d.us.set(e,o)}function Vd(){return(Vd=(0,a.A)(function*(d,e,r,o){const h=ut(d);let _=gr(),b=cs();for(const K of r){const oe=e.Es(K.metadata.name);K.document&&(_=_.add(oe));const ye=e.ds(K);ye.setReadTime(e.As(K.metadata.readTime)),b=b.insert(oe,ye)}const x=h.cs.newChangeBuffer({trackRemovals:!0}),F=yield Hc(h,(oe=o,gn(J(cn.fromString(`__bundle__/docs/${oe}`)))));var oe;return h.persistence.runTransaction("Apply bundle documents","readwrite",K=>qh(K,x,b).next(oe=>(x.apply(K),oe)).next(oe=>h.Ur.removeMatchingKeysForTargetId(K,F.targetId).next(()=>h.Ur.addMatchingKeys(K,_,F.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(K,oe.Ps,oe.Is)).next(()=>oe.Ps)))})).apply(this,arguments)}function Xh(d,e){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,a.A)(function*(d,e,r=gr()){const o=yield Hc(d,gn(_i(e.bundledQuery))),h=ut(d);return h.persistence.runTransaction("Save named query","readwrite",_=>{const b=ls(e.readTime);if(o.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(_,e);const x=o.withResumeToken(Ri.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(x.targetId,x),h.Ur.updateTargetData(_,x).next(()=>h.Ur.removeMatchingKeysForTargetId(_,o.targetId)).next(()=>h.Ur.addMatchingKeys(_,r,o.targetId)).next(()=>h.Gr.saveNamedQuery(_,e))})})).apply(this,arguments)}function Uu(d,e){return`firestore_clients_${d}_${e}`}function Ud(d,e,r){let o=`firestore_mutations_${d}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function jd(d,e){return`firestore_targets_${d}_${e}`}class Qh{constructor(e,r,o,h){this.user=e,this.batchId=r,this.state=o,this.error=h}static Rs(e,r,o){const h=JSON.parse(o);let _,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(_=new tt(h.error.code,h.error.message))),b?new Qh(e,r,h.state,_):(en("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ma{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Rs(e,r){const o=JSON.parse(r);let h,_="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return _&&o.error&&(_="string"==typeof o.error.message&&"string"==typeof o.error.code,_&&(h=new tt(o.error.code,o.error.message))),_?new ma(e,o.state,h):(en("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gc{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const o=JSON.parse(r);let h="object"==typeof o&&o.activeTargetIds instanceof Array,_=Io();for(let b=0;h&&b<o.activeTargetIds.length;++b)h=st(o.activeTargetIds[b]),_=_.add(o.activeTargetIds[b]);return h?new Gc(e,_):(en("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class I{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new I(r.clientId,r.onlineState):(en("SharedClientState",`Failed to parse online state: ${e}`),null)}}class m{constructor(){this.activeTargetIds=Io()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,r,o,h,_){this.window=e,this.ui=r,this.persistenceKey=o,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new qr(qt),this.started=!1,this.bs=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Ds=Uu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new m),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,a.A)(function*(){const r=yield e.syncEngine.Qi();for(const h of r){if(h===e.ps)continue;const _=e.getItem(Uu(e.persistenceKey,h));if(_){const b=Gc.Rs(h,_);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const o=e.storage.getItem(e.xs);if(o){const h=e.Ls(o);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((o,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,o){this.qs(e,r,o),this.Qs(e)}addLocalQueryTarget(e,r=!0){let o="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(jd(this.persistenceKey,e));if(h){const _=ma.Rs(e,h);_&&(o=_.state)}}return r&&this.Ks.fs(e),this.Ns(),o}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jd(this.persistenceKey,e))}updateQueryState(e,r,o){this.$s(e,r,o)}handleUserChange(e,r,o){r.forEach(h=>{this.Qs(h)}),this.currentUser=e,o.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return De("SharedClientState","READ",e,r),r}setItem(e,r){De("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){De("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const o=e;if(o.storageArea===this.storage){if(De("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Ds)return void en("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,a.A)(function*(){if(r.started){if(null!==o.key)if(r.Cs.test(o.key)){if(null==o.newValue){const h=r.Gs(o.key);return r.zs(h,null)}{const h=r.js(o.key,o.newValue);if(h)return r.zs(h.clientId,h)}}else if(r.Fs.test(o.key)){if(null!==o.newValue){const h=r.Hs(o.key,o.newValue);if(h)return r.Js(h)}}else if(r.Ms.test(o.key)){if(null!==o.newValue){const h=r.Ys(o.key,o.newValue);if(h)return r.Zs(h)}}else if(o.key===r.xs){if(null!==o.newValue){const h=r.Ls(o.newValue);if(h)return r.Bs(h)}}else if(o.key===r.vs){const h=function(b){let x=k.oe;if(null!=b)try{const F=JSON.parse(b);Vt("number"==typeof F),x=F}catch(F){en("SharedClientState","Failed to read sequence number from WebStorage",F)}return x}(o.newValue);h!==k.oe&&r.sequenceNumberHandler(h)}else if(o.key===r.Os){const h=r.Xs(o.newValue);yield Promise.all(h.map(_=>r.syncEngine.eo(_)))}}else r.bs.push(o)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,o){const h=new Qh(this.currentUser,e,r,o),_=Ud(this.persistenceKey,this.currentUser,e);this.setItem(_,h.Vs())}Qs(e){const r=Ud(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,o){const h=jd(this.persistenceKey,e),_=new ma(e,r,o);this.setItem(h,_.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const o=this.Gs(e);return Gc.Rs(o,r)}Hs(e,r){const o=this.Fs.exec(e),h=Number(o[1]);return Qh.Rs(new et(void 0!==o[2]?o[2]:null),h,r)}Ys(e,r){const o=this.Ms.exec(e),h=Number(o[1]);return ma.Rs(h,r)}Ls(e){return I.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,a.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);De("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const o=r?this.Ss.insert(e,r):this.Ss.remove(e),h=this.ks(this.Ss),_=this.ks(o),b=[],x=[];return _.forEach(F=>{h.has(F)||b.push(F)}),h.forEach(F=>{_.has(F)||x.push(F)}),this.syncEngine.io(b,x).then(()=>{this.Ss=o})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=Io();return e.forEach((o,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class S{constructor(){this.so=new m,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,o){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X{_o(e){}shutdown(){}}class he{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let We=null;function Tt(){return null===We?We=268435456+Math.round(2147483648*Math.random()):We++,"0x"+We.toString(16)}const Bt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Mn="WebChannelConnection";class $r extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${h}/databases/${_}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${_}`}get Fo(){return!1}Mo(r,o,h,_,b){const x=Tt(),F=this.xo(r,o.toUriEncodedString());De("RestConnection",`Sending RPC '${r}' ${x}:`,F,h);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,_,b),this.No(r,F,K,h).then(oe=>(De("RestConnection",`Received RPC '${r}' ${x}: `,oe),oe),oe=>{throw mn("RestConnection",`RPC '${r}' ${x} failed with error: `,oe,"url: ",F,"request:",h),oe})}Lo(r,o,h,_,b,x){return this.Mo(r,o,h,_,b)}Oo(r,o,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ye,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((_,b)=>r[b]=_),h&&h.headers.forEach((_,b)=>r[b]=_)}xo(r,o){return`${this.Do}/v1/${o}:${Bt[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,o,h){const _=Tt();return new Promise((b,x)=>{const F=new pe;F.setWithCredentials(!0),F.listenOnce(It.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case wt.NO_ERROR:const oe=F.getResponseJson();De(Mn,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(oe)),b(oe);break;case wt.TIMEOUT:De(Mn,`RPC '${e}' ${_} timed out`),x(new tt(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case wt.HTTP_ERROR:const ye=F.getStatus();if(De(Mn,`RPC '${e}' ${_} failed with status:`,ye,"response text:",F.getResponseText()),ye>0){let $e=F.getResponseJson();Array.isArray($e)&&($e=$e[0]);const yt=$e?.error;if(yt&&yt.status&&yt.message){const jt=function(Zt){const Xn=Zt.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(Xn)>=0?Xn:Fe.UNKNOWN}(yt.status);x(new tt(jt,yt.message))}else x(new tt(Fe.UNKNOWN,"Server responded with status "+F.getStatus()))}else x(new tt(Fe.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{De(Mn,`RPC '${e}' ${_} completed.`)}});const K=JSON.stringify(h);De(Mn,`RPC '${e}' ${_} sending request:`,h),F.send(r,"POST",K,o,15)})}Bo(e,r,o){const h=Tt(),_=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Ge(),x=hn(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(F.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(F.useFetchStreams=!0),this.Oo(F.initMessageHeaders,r,o),F.encodeInitMessageHeaders=!0;const oe=_.join("");De(Mn,`Creating RPC '${e}' stream ${h}: ${oe}`,F);const ye=b.createWebChannel(oe,F);let $e=!1,yt=!1;const jt=new xn({Io:Zt=>{yt?De(Mn,`Not sending because RPC '${e}' stream ${h} is closed:`,Zt):($e||(De(Mn,`Opening RPC '${e}' stream ${h} transport.`),ye.open(),$e=!0),De(Mn,`RPC '${e}' stream ${h} sending:`,Zt),ye.send(Zt))},To:()=>ye.close()}),un=(Zt,Xn,or)=>{Zt.listen(Xn,er=>{try{or(er)}catch(Or){setTimeout(()=>{throw Or},0)}})};return un(ye,je.EventType.OPEN,()=>{yt||(De(Mn,`RPC '${e}' stream ${h} transport opened.`),jt.yo())}),un(ye,je.EventType.CLOSE,()=>{yt||(yt=!0,De(Mn,`RPC '${e}' stream ${h} transport closed`),jt.So())}),un(ye,je.EventType.ERROR,Zt=>{yt||(yt=!0,mn(Mn,`RPC '${e}' stream ${h} transport errored:`,Zt),jt.So(new tt(Fe.UNAVAILABLE,"The operation could not be completed")))}),un(ye,je.EventType.MESSAGE,Zt=>{var Xn;if(!yt){const or=Zt.data[0];Vt(!!or);const Or=or.error||(null===(Xn=or[0])||void 0===Xn?void 0:Xn.error);if(Or){De(Mn,`RPC '${e}' stream ${h} received error:`,Or);const Vi=Or.status;let ii=function(Ke){const at=Ar[Ke];if(void 0!==at)return ro(at)}(Vi),ot=Or.message;void 0===ii&&(ii=Fe.INTERNAL,ot="Unknown error status: "+Vi+" with message "+Or.message),yt=!0,jt.So(new tt(ii,ot)),ye.close()}else De(Mn,`RPC '${e}' stream ${h} received:`,or),jt.bo(or)}}),un(x,Pt.STAT_EVENT,Zt=>{Zt.stat===Ft.PROXY?De(Mn,`RPC '${e}' stream ${h} detected buffering proxy`):Zt.stat===Ft.NOPROXY&&De(Mn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{jt.wo()},0),jt}}function Ko(){return typeof window<"u"?window:null}function Pa(){return typeof document<"u"?document:null}function Zs(d){return new Vh(d,!0)}class Bd{constructor(e,r,o=1e3,h=1.5,_=6e4){this.ui=e,this.timerId=r,this.ko=o,this.qo=h,this.Qo=_,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),h=Math.max(0,r-o);h>0&&De("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class $d{constructor(e,r,o,h,_,b,x,F){this.ui=e,this.Ho=o,this.Jo=h,this.connection=_,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=x,this.listener=F,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bd(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,a.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,a.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var o=this;return(0,a.A)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==e?o.t_.reset():r&&r.code===Fe.RESOURCE_EXHAUSTED?(en(r.toString()),en("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):r&&r.code===Fe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,h])=>{this.Yo===r&&this.P_(o,h)},o=>{e(()=>{const h=new tt(Fe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(h)})})}P_(e,r){const o=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{o(()=>this.I_(h))}),this.stream.onMessage(h=>{o(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,a.A)(function*(){e.state=0,e.start()}))}I_(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hd extends $d{constructor(e,r,o,h,_,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,h,b),this.serializer=_}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function Au(d,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:xt(),h=e.targetChange.targetIds||[],_=function(K,oe){return K.useProto3Json?(Vt(void 0===oe||"string"==typeof oe),Ri.fromBase64String(oe||"")):(Vt(void 0===oe||oe instanceof Buffer||oe instanceof Uint8Array),Ri.fromUint8Array(oe||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,x=b&&function(K){const oe=void 0===K.code?Fe.UNKNOWN:ro(K.code);return new tt(oe,K.message||"")}(b);r=new $l(o,h,_,x||null)}else if("documentChange"in e){const o=e.documentChange,h=Go(d,o.document.name),_=ls(o.document.updateTime),b=o.document.createTime?ls(o.document.createTime):kt.min(),x=new Oe({mapValue:{fields:o.document.fields}}),F=mt.newFoundDocument(h,_,b,x);r=new Aa(o.targetIds||[],o.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const o=e.documentDelete,h=Go(d,o.document),_=o.readTime?ls(o.readTime):kt.min(),b=mt.newNoDocument(h,_);r=new Aa([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,h=Go(d,o.document);r=new Aa([],o.removedTargetIds||[],h,null)}else{if(!("filter"in e))return xt();{const o=e.filter,{count:h=0,unchangedNames:_}=o,b=new Lh(h,_);r=new Tu(o.targetId,b)}}var K;return r}(this.serializer,e),o=function(_){if(!("targetChange"in _))return kt.min();const b=_.targetChange;return b.targetIds&&b.targetIds.length?kt.min():b.readTime?ls(b.readTime):kt.min()}(e);return this.listener.d_(r,o)}A_(e){const r={};r.database=oc(this.serializer),r.addTarget=function(_,b){let x;const F=b.target;if(x=ec(F)?{documents:mo(_,F)}:{query:Fs(_,F)._t},x.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){x.resumeToken=wu(_,b.resumeToken);const K=Iu(_,b.expectedCount);null!==K&&(x.expectedCount=K)}else if(b.snapshotVersion.compareTo(kt.min())>0){x.readTime=Ho(_,b.snapshotVersion.toTimestamp());const K=Iu(_,b.expectedCount);null!==K&&(x.expectedCount=K)}return x}(this.serializer,e);const o=function al(d,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.a_(r)}R_(e){const r={};r.database=oc(this.serializer),r.removeTarget=e,this.a_(r)}}class Mg extends $d{constructor(e,r,o,h,_,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,h,b),this.serializer=_}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function bs(d,e){return d&&d.length>0?(Vt(void 0!==e),d.map(r=>function(h,_){let b=ls(h.updateTime?h.updateTime:_);return b.isEqual(kt.min())&&(b=ls(_)),new B(b,h.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=ls(e.commitTime);return this.listener.g_(o,r)}p_(){const e={};e.database=oc(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Sc(this.serializer,o))};this.a_(r)}}class Jh extends class{}{constructor(e,r,o,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new tt(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,o,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,b])=>this.connection.Mo(e,Wl(r,o),h,_,b)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new tt(Fe.UNKNOWN,_.toString())})}Lo(e,r,o,h,_){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,x])=>this.connection.Lo(e,Wl(r,o),h,b,x,_)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new tt(Fe.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ju{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(en(r),this.D_=!1):De("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Rg{constructor(e,r,o,h,_){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=_,this.k_._o(x=>{o.enqueueAndForget((0,a.A)(function*(){var F;Ma(b)&&(De("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,a.A)(function*(oe){const ye=ut(oe);ye.L_.add(4),yield Bu(ye),ye.q_.set("Unknown"),ye.L_.delete(4),yield Zl(ye)}),function K(oe){return F.apply(this,arguments)})(b))}))}),this.q_=new ju(o,h)}}function Zl(d){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,a.A)(function*(d){if(Ma(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Bu(d){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,a.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function zd(d,e){const r=ut(d);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),sp(r)?Kd(r):Qd(r).r_()&&Wd(r,e))}function zc(d,e){const r=ut(d),o=Qd(r);r.N_.delete(e),o.r_()&&ip(r,e),0===r.N_.size&&(o.r_()?o.o_():Ma(r)&&r.q_.set("Unknown"))}function Wd(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kt.min())>0){const r=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Qd(d).A_(e)}function ip(d,e){d.Q_.xe(e),Qd(d).R_(e)}function Kd(d){d.Q_=new go({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),Qd(d).start(),d.q_.v_()}function sp(d){return Ma(d)&&!Qd(d).n_()&&d.N_.size>0}function Ma(d){return 0===ut(d).L_.size}function Og(d){d.Q_=void 0}function e_(d){return qd.apply(this,arguments)}function qd(){return(qd=(0,a.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function op(d){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,a.A)(function*(d){d.N_.forEach((e,r)=>{Wd(d,e)})})).apply(this,arguments)}function Oy(d,e){return t_.apply(this,arguments)}function t_(){return(t_=(0,a.A)(function*(d,e){Og(d),sp(d)?(d.q_.M_(e),Kd(d)):d.q_.set("Unknown")})).apply(this,arguments)}function ml(d,e,r){return ef.apply(this,arguments)}function ef(){return ef=(0,a.A)(function*(d,e,r){if(d.q_.set("Online"),e instanceof $l&&2===e.state&&e.cause)try{yield(o=(0,a.A)(function*(_,b){const x=b.cause;for(const F of b.targetIds)_.N_.has(F)&&(yield _.remoteSyncer.rejectListen(F,x),_.N_.delete(F),_.Q_.removeTarget(F))}),function h(_,b){return o.apply(this,arguments)})(d,e)}catch(o){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Yd(d,o)}else if(e instanceof Aa?d.Q_.Ke(e):e instanceof Tu?d.Q_.He(e):d.Q_.We(e),!r.isEqual(kt.min()))try{const o=yield kd(d.localStore);r.compareTo(o)>=0&&(yield function(_,b){const x=_.Q_.rt(b);return x.targetChanges.forEach((F,K)=>{if(F.resumeToken.approximateByteSize()>0){const oe=_.N_.get(K);oe&&_.N_.set(K,oe.withResumeToken(F.resumeToken,b))}}),x.targetMismatches.forEach((F,K)=>{const oe=_.N_.get(F);if(!oe)return;_.N_.set(F,oe.withResumeToken(Ri.EMPTY_BYTE_STRING,oe.snapshotVersion)),ip(_,F);const ye=new N(oe.target,F,K,oe.sequenceNumber);Wd(_,ye)}),_.remoteSyncer.applyRemoteEvent(x)}(d,r))}catch(o){De("RemoteStore","Failed to raise snapshot:",o),yield Yd(d,o)}var o}),ef.apply(this,arguments)}function Yd(d,e,r){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,a.A)(function*(d,e,r){if(!$n(e))throw e;d.L_.add(1),yield Bu(d),d.q_.set("Offline"),r||(r=()=>kd(d.localStore)),d.asyncQueue.enqueueRetryable((0,a.A)(function*(){De("RemoteStore","Retrying IndexedDB access"),yield r(),d.L_.delete(1),yield Zl(d)}))})).apply(this,arguments)}function kg(d,e){return e().catch(r=>Yd(d,r,e))}function $u(d){return tf.apply(this,arguments)}function tf(){return(tf=(0,a.A)(function*(d){const e=ut(d),r=eu(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Ny(e);)try{const h=yield rp(e.localStore,o);if(null===h){0===e.O_.length&&r.o_();break}o=h.batchId,n_(e,h)}catch(h){yield Yd(e,h)}sa(e)&&ap(e)})).apply(this,arguments)}function Ny(d){return Ma(d)&&d.O_.length<10}function n_(d,e){d.O_.push(e);const r=eu(d);r.r_()&&r.V_&&r.m_(e.mutations)}function sa(d){return Ma(d)&&!eu(d).n_()&&d.O_.length>0}function ap(d){eu(d).start()}function r_(d){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,a.A)(function*(d){eu(d).p_()})).apply(this,arguments)}function Do(d){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,a.A)(function*(d){const e=eu(d);for(const r of d.O_)e.m_(r.mutations)})).apply(this,arguments)}function i_(d,e,r){return cp.apply(this,arguments)}function cp(){return(cp=(0,a.A)(function*(d,e,r){const o=d.O_.shift(),h=Qo.from(o,e,r);yield kg(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield $u(d)})).apply(this,arguments)}function ky(d,e){return lp.apply(this,arguments)}function lp(){return lp=(0,a.A)(function*(d,e){var r;e&&eu(d).V_&&(yield(r=(0,a.A)(function*(h,_){if(sc(x=_.code)&&x!==Fe.ABORTED){const b=h.O_.shift();eu(h).s_(),yield kg(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,_)),yield $u(h)}var x}),function o(h,_){return r.apply(this,arguments)})(d,e)),sa(d)&&ap(d)}),lp.apply(this,arguments)}function s_(d,e){return gc.apply(this,arguments)}function gc(){return(gc=(0,a.A)(function*(d,e){const r=ut(d);r.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const o=Ma(r);r.L_.add(3),yield Bu(r),o&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield Zl(r)})).apply(this,arguments)}function o_(d,e){return nf.apply(this,arguments)}function nf(){return(nf=(0,a.A)(function*(d,e){const r=ut(d);e?(r.L_.delete(2),yield Zl(r)):e||(r.L_.add(2),yield Bu(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Qd(d){return d.K_||(d.K_=function(r,o,h){const _=ut(r);return _.w_(),new Hd(o,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:e_.bind(null,d),Ro:op.bind(null,d),mo:Oy.bind(null,d),d_:ml.bind(null,d)}),d.B_.push(function(){var e=(0,a.A)(function*(r){r?(d.K_.s_(),sp(d)?Kd(d):d.q_.set("Unknown")):(yield d.K_.stop(),Og(d))});return function(r){return e.apply(this,arguments)}}())),d.K_}function eu(d){return d.U_||(d.U_=function(r,o,h){const _=ut(r);return _.w_(),new Mg(o,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:r_.bind(null,d),mo:ky.bind(null,d),f_:Do.bind(null,d),g_:i_.bind(null,d)}),d.B_.push(function(){var e=(0,a.A)(function*(r){r?(d.U_.s_(),yield $u(d)):(yield d.U_.stop(),d.O_.length>0&&(De("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(r){return e.apply(this,arguments)}}())),d.U_}class rf{constructor(e,r,o,h,_){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=h,this.removalCallback=_,this.deferred=new Jt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,h,_){const b=Date.now()+o,x=new rf(e,r,b,h,_);return x.start(o),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tu(d,e){if(en("AsyncQueue",`${e}: ${d}`),$n(d))return new tt(Fe.UNAVAILABLE,`${e}: ${d}`);throw d}class Jd{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Ut.comparator(r.key,o.key):(r,o)=>Ut.comparator(r.key,o.key),this.keyedMap=Js(),this.sortedSet=new qr(this.comparator)}static emptySet(e){return new Jd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Jd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=o.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Jd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class Zd{constructor(){this.W_=new qr(Ut.comparator)}track(e){const r=e.doc.key,o=this.W_.get(r);o?0!==e.type&&3===o.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==o.type?this.W_=this.W_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.W_=this.W_.remove(r):1===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):xt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,o)=>{e.push(o)}),e}}class eh{constructor(e,r,o,h,_,b,x,F,K){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=h,this.mutatedKeys=_,this.fromCache=b,this.syncStateChanged=x,this.excludesMetadataChanges=F,this.hasCachedResults=K}static fromInitialDocuments(e,r,o,h,_){const b=[];return r.forEach(x=>{b.push({type:0,doc:x})}),new eh(e,r,Jd.emptySet(r),b,o,h,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==o[h].type||!r[h].doc.isEqual(o[h].doc))return!1;return!0}}class Fy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class a_{constructor(){this.queries=Fg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,o){const h=ut(r),_=h.queries;h.queries=Fg(),_.forEach((b,x)=>{for(const F of x.j_)F.onError(o)})}(this,new tt(Fe.ABORTED,"Firestore shutting down"))}}function Fg(){return new $i(d=>no(d),uo)}function up(d,e){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,a.A)(function*(d,e){const r=ut(d);let o=3;const h=e.query;let _=r.queries.get(h);_?!_.H_()&&e.J_()&&(o=2):(_=new Fy,o=e.J_()?0:1);try{switch(o){case 0:_.z_=yield r.onListen(h,!0);break;case 1:_.z_=yield r.onListen(h,!1);break;case 2:yield r.onFirstRemoteStoreListen(h)}}catch(b){const x=tu(b,`Initialization of query '${es(e.query)}' failed`);return void e.onError(x)}r.queries.set(h,_),_.j_.push(e),e.Z_(r.onlineState),_.z_&&e.X_(_.z_)&&dp(r)})).apply(this,arguments)}function th(d,e){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,a.A)(function*(d,e){const r=ut(d),o=e.query;let h=3;const _=r.queries.get(o);if(_){const b=_.j_.indexOf(e);b>=0&&(_.j_.splice(b,1),0===_.j_.length?h=e.J_()?0:1:!_.H_()&&e.J_()&&(h=2))}switch(h){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function Lg(d,e){const r=ut(d);let o=!1;for(const h of e){const b=r.queries.get(h.query);if(b){for(const x of b.j_)x.X_(h)&&(o=!0);b.z_=h}}o&&dp(r)}function sf(d,e,r){const o=ut(d),h=o.queries.get(e);if(h)for(const _ of h.j_)_.onError(r);o.queries.delete(e)}function dp(d){d.Y_.forEach(e=>{e.next()})}var zu,hp;(hp=zu||(zu={})).ea="default",hp.Cache="cache";class Vg{constructor(e,r,o){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const h of e.docChanges)3!==h.type&&o.push(h);e=new eh(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=eh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zu.Cache}}class Ly{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class c_{constructor(e){this.serializer=e}Es(e){return Go(this.serializer,e)}ds(e){return e.metadata.exists?Kt(this.serializer,e.document,!1):mt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return ls(e)}}class l_{constructor(e,r,o){this.ca=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=af(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const o=cn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,o=new c_(this.serializer);for(const h of e)if(h.metadata.queries){const _=o.Es(h.metadata.name);for(const b of h.metadata.queries){const x=(r.get(b)||gr()).add(_);r.set(b,x)}}return r}complete(){var e=this;return(0,a.A)(function*(){const r=yield function Lu(d,e,r,o){return Vd.apply(this,arguments)}(e.localStore,new c_(e.serializer),e.documents,e.ca.id),o=e.ha(e.documents);for(const h of e.queries)yield Xh(e.localStore,h,o.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function af(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class fp{constructor(e){this.key=e}}class pp{constructor(e){this.key=e}}class u_{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=gr(),this.mutatedKeys=gr(),this.Aa=gs(e),this.Ra=new Jd(this.Aa)}get Va(){return this.Ta}ma(e,r){const o=r?r.fa:new Zd,h=r?r.Ra:this.Ra;let _=r?r.mutatedKeys:this.mutatedKeys,b=h,x=!1;const F="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,K="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((oe,ye)=>{const $e=h.get(oe),yt=ho(this.query,ye)?ye:null,jt=!!$e&&this.mutatedKeys.has($e.key),un=!!yt&&(yt.hasLocalMutations||this.mutatedKeys.has(yt.key)&&yt.hasCommittedMutations);let Zt=!1;$e&&yt?$e.data.isEqual(yt.data)?jt!==un&&(o.track({type:3,doc:yt}),Zt=!0):this.ga($e,yt)||(o.track({type:2,doc:yt}),Zt=!0,(F&&this.Aa(yt,F)>0||K&&this.Aa(yt,K)<0)&&(x=!0)):!$e&&yt?(o.track({type:0,doc:yt}),Zt=!0):$e&&!yt&&(o.track({type:1,doc:$e}),Zt=!0,(F||K)&&(x=!0)),Zt&&(yt?(b=b.add(yt),_=un?_.add(oe):_.delete(oe)):(b=b.delete(oe),_=_.delete(oe)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const oe="F"===this.query.limitType?b.last():b.first();b=b.delete(oe.key),_=_.delete(oe.key),o.track({type:1,doc:oe})}return{Ra:b,fa:o,ns:x,mutatedKeys:_}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,h){const _=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((oe,ye)=>function(yt,jt){const un=Zt=>{switch(Zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return un(yt)-un(jt)}(oe.type,ye.type)||this.Aa(oe.doc,ye.doc)),this.pa(o),h=null!=h&&h;const x=r&&!h?this.ya():[],F=0===this.da.size&&this.current&&!h?1:0,K=F!==this.Ea;return this.Ea=F,0!==b.length||K?{snapshot:new eh(this.query,e.Ra,_,b,e.mutatedKeys,0===F,K,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:x}:{wa:x}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Zd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=gr(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return e.forEach(o=>{this.da.has(o)||r.push(new pp(o))}),this.da.forEach(o=>{e.has(o)||r.push(new fp(o))}),r}ba(e){this.Ta=e.Ts,this.da=gr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return eh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Vy{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class Ug{constructor(e){this.key=e,this.va=!1}}class d_{constructor(e,r,o,h,_,b){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new $i(x=>no(x),uo),this.Ma=new Map,this.xa=new Set,this.Oa=new qr(Ut.comparator),this.Na=new Map,this.La=new ep,this.Ba={},this.ka=new Map,this.qa=Lc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Wu(d,e){return gp.apply(this,arguments)}function gp(){return(gp=(0,a.A)(function*(d,e,r=!0){const o=wp(d);let h;const _=o.Fa.get(e);return _?(o.sharedClientState.addLocalQueryTarget(_.targetId),h=_.view.Da()):h=yield nh(o,e,r,!0),h})).apply(this,arguments)}function h_(d,e){return jg.apply(this,arguments)}function jg(){return(jg=(0,a.A)(function*(d,e){const r=wp(d);yield nh(r,e,!0,!1)})).apply(this,arguments)}function nh(d,e,r,o){return rh.apply(this,arguments)}function rh(){return(rh=(0,a.A)(function*(d,e,r,o){const h=yield Hc(d.localStore,gn(e)),_=h.targetId,b=d.sharedClientState.addLocalQueryTarget(_,r);let x;return o&&(x=yield Bg(d,e,_,"current"===b,h.resumeToken)),d.isPrimaryClient&&r&&zd(d.remoteStore,h),x})).apply(this,arguments)}function Bg(d,e,r,o,h){return mp.apply(this,arguments)}function mp(){return mp=(0,a.A)(function*(d,e,r,o,h){d.Ka=(ye,$e,yt)=>{return(jt=(0,a.A)(function*(Zt,Xn,or,er){let Or=Xn.view.ma(or);Or.ns&&(Or=yield pc(Zt.localStore,Xn.query,!1).then(({documents:ke})=>Xn.view.ma(ke,Or)));const Vi=er&&er.targetChanges.get(Xn.targetId),ii=er&&null!=er.targetMismatches.get(Xn.targetId),ot=Xn.view.applyChanges(Or,Zt.isPrimaryClient,Vi,ii);return nu(Zt,Xn.targetId,ot.wa),ot.snapshot}),function un(Zt,Xn,or,er){return jt.apply(this,arguments)})(d,ye,$e,yt);var jt};const _=yield pc(d.localStore,e,!0),b=new u_(e,_.Ts),x=b.ma(_.documents),F=Jo.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==d.onlineState,h),K=b.applyChanges(x,d.isPrimaryClient,F);nu(d,r,K.wa);const oe=new Vy(e,r,b);return d.Fa.set(e,oe),d.Ma.has(r)?d.Ma.get(r).push(e):d.Ma.set(r,[e]),K.snapshot}),mp.apply(this,arguments)}function f_(d,e,r){return _p.apply(this,arguments)}function _p(){return(_p=(0,a.A)(function*(d,e,r){const o=ut(d),h=o.Fa.get(e),_=o.Ma.get(h.targetId);if(_.length>1)return o.Ma.set(h.targetId,_.filter(b=>!uo(b,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(h.targetId),o.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Jl(o.localStore,h.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(h.targetId),r&&zc(o.remoteStore,h.targetId),yl(o,h.targetId)}).catch(zn))):(yl(o,h.targetId),yield Jl(o.localStore,h.targetId,!0))})).apply(this,arguments)}function cf(d,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,a.A)(function*(d,e){const r=ut(d),o=r.Fa.get(e),h=r.Ma.get(o.targetId);r.isPrimaryClient&&1===h.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),zc(r.remoteStore,o.targetId))})).apply(this,arguments)}function _l(){return(_l=(0,a.A)(function*(d,e,r){const o=pf(d);try{const h=yield function(b,x){const F=ut(b),K=$t.now(),oe=x.reduce((yt,jt)=>yt.add(jt.key),gr());let ye,$e;return F.persistence.runTransaction("Locally write mutations","readwrite",yt=>{let jt=cs(),un=gr();return F.cs.getEntries(yt,oe).next(Zt=>{jt=Zt,jt.forEach((Xn,or)=>{or.isValidDocument()||(un=un.add(Xn))})}).next(()=>F.localDocuments.getOverlayedDocuments(yt,jt)).next(Zt=>{ye=Zt;const Xn=[];for(const or of x){const er=gi(or,ye.get(or.key).overlayedDocument);null!=er&&Xn.push(new ri(or.key,er,Je(er.value.mapValue),Y.exists(!0)))}return F.mutationQueue.addMutationBatch(yt,K,Xn,x)}).next(Zt=>{$e=Zt;const Xn=Zt.applyToLocalDocumentSet(ye,un);return F.documentOverlayCache.saveOverlays(yt,Zt.batchId,Xn)})}).then(()=>({batchId:$e.batchId,changes:Ca(ye)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(h.batchId),function(b,x,F){let K=b.Ba[b.currentUser.toKey()];K||(K=new qr(qt)),K=K.insert(x,F),b.Ba[b.currentUser.toKey()]=K}(o,h.batchId,r),yield ru(o,h.changes),yield $u(o.remoteStore)}catch(h){const _=tu(h,"Failed to persist write");r.reject(_)}})).apply(this,arguments)}function Hg(d,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,a.A)(function*(d,e){const r=ut(d);try{const o=yield function Pg(d,e){const r=ut(d),o=e.snapshotVersion;let h=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const b=r.cs.newChangeBuffer({trackRemovals:!0});h=r.os;const x=[];e.targetChanges.forEach((oe,ye)=>{const $e=h.get(ye);if(!$e)return;x.push(r.Ur.removeMatchingKeys(_,oe.removedDocuments,ye).next(()=>r.Ur.addMatchingKeys(_,oe.addedDocuments,ye)));let yt=$e.withSequenceNumber(_.currentSequenceNumber);var un,Zt,Xn;null!==e.targetMismatches.get(ye)?yt=yt.withResumeToken(Ri.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):oe.resumeToken.approximateByteSize()>0&&(yt=yt.withResumeToken(oe.resumeToken,o)),h=h.insert(ye,yt),Zt=yt,Xn=oe,(0===(un=$e).resumeToken.approximateByteSize()||Zt.snapshotVersion.toMicroseconds()-un.snapshotVersion.toMicroseconds()>=3e8||Xn.addedDocuments.size+Xn.modifiedDocuments.size+Xn.removedDocuments.size>0)&&x.push(r.Ur.updateTargetData(_,yt))});let F=cs(),K=gr();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&x.push(r.persistence.referenceDelegate.updateLimboDocument(_,oe))}),x.push(qh(_,b,e.documentUpdates).next(oe=>{F=oe.Ps,K=oe.Is})),!o.isEqual(kt.min())){const oe=r.Ur.getLastRemoteSnapshotVersion(_).next(ye=>r.Ur.setTargetsMetadata(_,_.currentSequenceNumber,o));x.push(oe)}return nt.waitFor(x).next(()=>b.apply(_)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,F,K)).next(()=>F)}).then(_=>(r.os=h,_))}(r.localStore,e);e.targetChanges.forEach((h,_)=>{const b=r.Na.get(_);b&&(Vt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?Vt(b.va):h.removedDocuments.size>0&&(Vt(b.va),b.va=!1))}),yield ru(r,o,e)}catch(o){yield zn(o)}})).apply(this,arguments)}function ih(d,e,r){const o=ut(d);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const h=[];o.Fa.forEach((_,b)=>{const x=b.view.Z_(e);x.snapshot&&h.push(x.snapshot)}),function(b,x){const F=ut(b);F.onlineState=x;let K=!1;F.queries.forEach((oe,ye)=>{for(const $e of ye.j_)$e.Z_(x)&&(K=!0)}),K&&dp(F)}(o.eventManager,e),h.length&&o.Ca.d_(h),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function p_(d,e,r){return uf.apply(this,arguments)}function uf(){return(uf=(0,a.A)(function*(d,e,r){const o=ut(d);o.sharedClientState.updateQueryState(e,"rejected",r);const h=o.Na.get(e),_=h&&h.key;if(_){let b=new qr(Ut.comparator);b=b.insert(_,mt.newNoDocument(_,kt.min()));const x=gr().add(_),F=new Es(kt.min(),new Map,new qr(qt),b,x);yield Hg(o,F),o.Oa=o.Oa.remove(_),o.Na.delete(e),sh(o)}else yield Jl(o.localStore,e,!1).then(()=>yl(o,e,r)).catch(zn)})).apply(this,arguments)}function Kc(d,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,a.A)(function*(d,e){const r=ut(d),o=e.batch.batchId;try{const h=yield function np(d,e){const r=ut(d);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const h=e.batch.keys(),_=r.cs.newChangeBuffer({trackRemovals:!0});return function(x,F,K,oe){const ye=K.batch,$e=ye.keys();let yt=nt.resolve();return $e.forEach(jt=>{yt=yt.next(()=>oe.getEntry(F,jt)).next(un=>{const Zt=K.docVersions.get(jt);Vt(null!==Zt),un.version.compareTo(Zt)<0&&(ye.applyToRemoteDocument(un,K),un.isValidDocument()&&(un.setReadTime(K.commitVersion),oe.addEntry(un)))})}),yt.next(()=>x.mutationQueue.removeMutationBatch(F,ye))}(r,o,e,_).next(()=>_.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(x){let F=gr();for(let K=0;K<x.mutationResults.length;++K)x.mutationResults[K].transformResults.length>0&&(F=F.add(x.batch.mutations[K].key));return F}(e))).next(()=>r.localDocuments.getDocuments(o,h))})}(r.localStore,e);Ep(r,o,null),Wg(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield ru(r,h)}catch(h){yield zn(h)}})).apply(this,arguments)}function vp(d,e,r){return zg.apply(this,arguments)}function zg(){return(zg=(0,a.A)(function*(d,e,r){const o=ut(d);try{const h=yield function(b,x){const F=ut(b);return F.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let oe;return F.mutationQueue.lookupMutationBatch(K,x).next(ye=>(Vt(null!==ye),oe=ye.keys(),F.mutationQueue.removeMutationBatch(K,ye))).next(()=>F.mutationQueue.performConsistencyCheck(K)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(K,oe,x)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,oe)).next(()=>F.localDocuments.getDocuments(K,oe))})}(o.localStore,e);Ep(o,e,r),Wg(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield ru(o,h)}catch(h){yield zn(h)}})).apply(this,arguments)}function m_(){return(m_=(0,a.A)(function*(d,e){const r=ut(d);Ma(r.remoteStore)||De("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(b){const x=ut(b);return x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>x.mutationQueue.getHighestUnacknowledgedBatchId(F))}(r.localStore);if(-1===o)return void e.resolve();const h=r.ka.get(o)||[];h.push(e),r.ka.set(o,h)}catch(o){const h=tu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function Wg(d,e){(d.ka.get(e)||[]).forEach(r=>{r.resolve()}),d.ka.delete(e)}function Ep(d,e,r){const o=ut(d);let h=o.Ba[o.currentUser.toKey()];if(h){const _=h.get(e);_&&(r?_.reject(r):_.resolve(),h=h.remove(e)),o.Ba[o.currentUser.toKey()]=h}}function yl(d,e,r=null){d.sharedClientState.removeLocalQueryTarget(e);for(const o of d.Ma.get(e))d.Fa.delete(o),r&&d.Ca.$a(o,r);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(o=>{d.La.containsKey(o)||bp(d,o)})}function bp(d,e){d.xa.delete(e.path.canonicalString());const r=d.Oa.get(e);null!==r&&(zc(d.remoteStore,r),d.Oa=d.Oa.remove(e),d.Na.delete(r),sh(d))}function nu(d,e,r){for(const o of r)o instanceof fp?(d.La.addReference(o.key,e),Uy(d,o)):o instanceof pp?(De("SyncEngine","Document no longer in limbo: "+o.key),d.La.removeReference(o.key,e),d.La.containsKey(o.key)||bp(d,o.key)):xt()}function Uy(d,e){const r=e.key,o=r.path.canonicalString();d.Oa.get(r)||d.xa.has(o)||(De("SyncEngine","New document in limbo: "+r),d.xa.add(o),sh(d))}function sh(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const r=new Ut(cn.fromString(e)),o=d.qa.next();d.Na.set(o,new Ug(r)),d.Oa=d.Oa.insert(r,o),zd(d.remoteStore,new N(gn(J(r.path)),o,"TargetPurposeLimboResolution",k.oe))}}function ru(d,e,r){return __.apply(this,arguments)}function __(){return __=(0,a.A)(function*(d,e,r){const o=ut(d),h=[],_=[],b=[];var x;o.Fa.isEmpty()||(o.Fa.forEach((x,F)=>{b.push(o.Ka(F,e,r).then(K=>{var oe;if((K||r)&&o.isPrimaryClient){const ye=K?!K.fromCache:null===(oe=r?.targetChanges.get(F.targetId))||void 0===oe?void 0:oe.current;o.sharedClientState.updateQueryState(F.targetId,ye?"current":"not-current")}if(K){h.push(K);const ye=tp.Wi(F.targetId,K);_.push(ye)}}))}),yield Promise.all(b),o.Ca.d_(h),yield(x=(0,a.A)(function*(K,oe){const ye=ut(K);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",$e=>nt.forEach(oe,yt=>nt.forEach(yt.$i,jt=>ye.persistence.referenceDelegate.addReference($e,yt.targetId,jt)).next(()=>nt.forEach(yt.Ui,jt=>ye.persistence.referenceDelegate.removeReference($e,yt.targetId,jt)))))}catch($e){if(!$n($e))throw $e;De("LocalStore","Failed to update sequence numbers: "+$e)}for(const $e of oe){const yt=$e.targetId;if(!$e.fromCache){const jt=ye.os.get(yt),Zt=jt.withLastLimboFreeSnapshotVersion(jt.snapshotVersion);ye.os=ye.os.insert(yt,Zt)}}}),function F(K,oe){return x.apply(this,arguments)})(o.localStore,_))}),__.apply(this,arguments)}function vl(d,e){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,a.A)(function*(d,e){const r=ut(d);if(!r.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const o=yield fc(r.localStore,e);r.currentUser=e,(_=r).ka.forEach(x=>{x.forEach(F=>{F.reject(new tt(Fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.ka.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ru(r,o.hs)}var _})).apply(this,arguments)}function oh(d,e){const r=ut(d),o=r.Na.get(e);if(o&&o.va)return gr().add(o.key);{let h=gr();const _=r.Ma.get(e);if(!_)return h;for(const b of _){const x=r.Fa.get(b);h=h.unionWith(x.view.Va)}return h}}function Cp(d,e){return df.apply(this,arguments)}function df(){return(df=(0,a.A)(function*(d,e){const r=ut(d),o=yield pc(r.localStore,e.query,!0),h=e.view.ba(o);return r.isPrimaryClient&&nu(r,e.targetId,h.wa),h})).apply(this,arguments)}function y_(d,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,a.A)(function*(d,e){const r=ut(d);return so(r.localStore,e).then(o=>ru(r,o))})).apply(this,arguments)}function v_(d,e,r,o){return El.apply(this,arguments)}function El(){return(El=(0,a.A)(function*(d,e,r,o){const h=ut(d),_=yield function(x,F){const K=ut(x),oe=ut(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",ye=>oe.Mn(ye,F).next($e=>$e?K.localDocuments.getDocuments(ye,$e):nt.resolve(null)))}(h.localStore,e);var F;null!==_?("pending"===r?yield $u(h.remoteStore):"acknowledged"===r||"rejected"===r?(Ep(h,e,o||null),Wg(h,e),F=e,ut(ut(h.localStore).mutationQueue).On(F)):xt(),yield ru(h,_)):De("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function qg(){return(qg=(0,a.A)(function*(d,e){const r=ut(d);if(wp(r),pf(r),!0===e&&!0!==r.Qa){const o=r.sharedClientState.getAllActiveQueryTargets(),h=yield Yg(r,o.toArray());r.Qa=!0,yield o_(r.remoteStore,!0);for(const _ of h)zd(r.remoteStore,_)}else if(!1===e&&!1!==r.Qa){const o=[];let h=Promise.resolve();r.Ma.forEach((_,b)=>{r.sharedClientState.isLocalQueryTarget(b)?o.push(b):h=h.then(()=>(yl(r,b),Jl(r.localStore,b,!0))),zc(r.remoteStore,b)}),yield h,yield Yg(r,o),function(b){const x=ut(b);x.Na.forEach((F,K)=>{zc(x.remoteStore,K)}),x.La.pr(),x.Na=new Map,x.Oa=new qr(Ut.comparator)}(r),r.Qa=!1,yield o_(r.remoteStore,!1)}})).apply(this,arguments)}function Yg(d,e,r){return hf.apply(this,arguments)}function hf(){return(hf=(0,a.A)(function*(d,e,r){const o=ut(d),h=[],_=[];for(const b of e){let x;const F=o.Ma.get(b);if(F&&0!==F.length){x=yield Hc(o.localStore,gn(F[0]));for(const K of F){const oe=o.Fa.get(K),ye=yield Cp(o,oe);ye.snapshot&&_.push(ye.snapshot)}}else{const K=yield Yh(o.localStore,b);x=yield Hc(o.localStore,K),yield Bg(o,Xg(K),b,!1,x.resumeToken)}h.push(x)}return o.Ca.d_(_),h})).apply(this,arguments)}function Xg(d){return W(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function oa(d){return r=ut(d).localStore,ut(ut(r).persistence).Qi();var r}function Ku(d,e,r,o){return ff.apply(this,arguments)}function ff(){return(ff=(0,a.A)(function*(d,e,r,o){const h=ut(d);if(h.Qa)return void De("SyncEngine","Ignoring unexpected query state notification.");const _=h.Ma.get(e);if(_&&_.length>0)switch(r){case"current":case"not-current":{const b=yield so(h.localStore,Ul(_[0])),x=Es.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Ri.EMPTY_BYTE_STRING);yield ru(h,b,x);break}case"rejected":yield Jl(h.localStore,e,!0),yl(h,e,o);break;default:xt()}})).apply(this,arguments)}function jy(d,e,r){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,a.A)(function*(d,e,r){const o=wp(d);if(o.Qa){for(const h of e){if(o.Ma.has(h)&&o.sharedClientState.isActiveQueryTarget(h)){De("SyncEngine","Adding an already active target "+h);continue}const _=yield Yh(o.localStore,h),b=yield Hc(o.localStore,_);yield Bg(o,Xg(_),b.targetId,!1,b.resumeToken),zd(o.remoteStore,b)}for(const h of r)o.Ma.has(h)&&(yield Jl(o.localStore,h,!1).then(()=>{zc(o.remoteStore,h),yl(o,h)}).catch(zn))}})).apply(this,arguments)}function wp(d){const e=ut(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p_.bind(null,e),e.Ca.d_=Lg.bind(null,e.eventManager),e.Ca.$a=sf.bind(null,e.eventManager),e}function pf(d){const e=ut(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kc.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vp.bind(null,e),e}let qu=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var o=this;return(0,a.A)(function*(){o.serializer=Zs(r.databaseInfo.databaseId),o.sharedClientState=o.Wa(r),o.persistence=o.Ga(r),yield o.persistence.start(),o.localStore=o.za(r),o.gcScheduler=o.ja(r,o.localStore),o.indexBackfillerScheduler=o.Ha(r,o.localStore)})()}ja(r,o){return null}Ha(r,o){return null}za(r){return Od(this.persistence,new xg,r.initialUser,this.serializer)}Ga(r){return new Kh(xd.Zr,this.serializer)}Wa(r){return new S}terminate(){var r=this;return(0,a.A)(function*(){var o,h;null===(o=r.gcScheduler)||void 0===o||o.stop(),null===(h=r.indexBackfillerScheduler)||void 0===h||h.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class Ap extends qu{constructor(e,r,o){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,a.A)(function*(){yield r().call(o,e),yield o.Ja.initialize(o,e),yield pf(o.Ja.syncEngine),yield $u(o.Ja.remoteStore),yield o.persistence.yi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Od(this.persistence,new xg,e.initialUser,this.serializer)}ja(e,r){return new jc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const o=new M(r,this.persistence);return new $(e.asyncQueue,o)}Ga(e){const r=Rd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new Md(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,Ko(),Pa(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class Dp extends Ap{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,a.A)(function*(){yield r().call(o,e);const h=o.Ja.syncEngine;o.sharedClientState instanceof v&&(o.sharedClientState.syncEngine={no:v_.bind(null,h),ro:Ku.bind(null,h),io:jy.bind(null,h),Qi:oa.bind(null,h),eo:y_.bind(null,h)},yield o.sharedClientState.start()),yield o.persistence.yi(function(){var _=(0,a.A)(function*(b){yield function E_(d,e){return qg.apply(this,arguments)}(o.Ja.syncEngine,b),o.gcScheduler&&(b&&!o.gcScheduler.started?o.gcScheduler.start():b||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(b&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():b||o.indexBackfillerScheduler.stop())});return function(b){return _.apply(this,arguments)}}())})()}Wa(e){const r=Ko();if(!v.D(r))throw new tt(Fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Rd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(r,e.asyncQueue,o,e.clientId,e.initialUser)}}let ah=(()=>{class d{initialize(r,o){var h=this;return(0,a.A)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(o),h.remoteStore=h.createRemoteStore(o),h.eventManager=h.createEventManager(o),h.syncEngine=h.createSyncEngine(o,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=_=>ih(h.syncEngine,_,1),h.remoteStore.remoteSyncer.handleCredentialChange=vl.bind(null,h.syncEngine),yield o_(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new a_}createDatastore(r){const o=Zs(r.databaseInfo.databaseId),h=new $r(r.databaseInfo);return new Jh(r.authCredentials,r.appCheckCredentials,h,o)}createRemoteStore(r){return h=this.localStore,_=this.datastore,b=r.asyncQueue,x=o=>ih(this.syncEngine,o,0),F=he.D()?new he:new X,new Rg(h,_,b,x,F);var h,_,b,x,F}createSyncEngine(r,o){return function(_,b,x,F,K,oe,ye){const $e=new d_(_,b,x,F,K,oe);return ye&&($e.Qa=!0),$e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,o)}terminate(){var r=this;return(0,a.A)(function*(){var o,h,_;yield(_=(0,a.A)(function*(x){const F=ut(x);De("RemoteStore","RemoteStore shutting down."),F.L_.add(5),yield Bu(F),F.k_.shutdown(),F.q_.set("Unknown")}),function b(x){return _.apply(this,arguments)})(r.remoteStore),null===(o=r.datastore)||void 0===o||o.terminate(),null===(h=r.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function qc(d,e=10240){let r=0;return{read:()=>(0,a.A)(function*(){if(r<d.byteLength){const o={value:d.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,a.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ka{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):en("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class Sp{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new Jt,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(o=>{o&&o.ua()?this.metadata.resolve(o.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.aa)}`))},o=>this.metadata.reject(o))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,a.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,a.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,a.A)(function*(){const r=yield e.nu();if(null===r)return null;const o=e.eu.decode(r),h=Number(o);isNaN(h)&&e.ru(`length string (${o}) is not valid number`);const _=yield e.iu(h);return new Ly(JSON.parse(_),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,a.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}iu(e){var r=this;return(0,a.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const o=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,a.A)(function*(){const r=yield e.Xa.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class bl{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,a.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new tt(Fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(h=(0,a.A)(function*(b,x){const F=ut(b),K={documents:x.map(yt=>Pr(F.serializer,yt))},oe=yield F.Lo("BatchGetDocuments",F.serializer.databaseId,cn.emptyPath(),K,x.length),ye=new Map;oe.forEach(yt=>{const jt=function ol(d,e){return"found"in e?function(o,h){Vt(!!h.found);const _=Go(o,h.found.name),b=ls(h.found.updateTime),x=h.found.createTime?ls(h.found.createTime):kt.min(),F=new Oe({mapValue:{fields:h.found.fields}});return mt.newFoundDocument(_,b,x,F)}(d,e):"missing"in e?function(o,h){Vt(!!h.missing),Vt(!!h.readTime);const _=Go(o,h.missing),b=ls(h.readTime);return mt.newNoDocument(_,b)}(d,e):xt()}(F.serializer,yt);ye.set(jt.key.toString(),jt)});const $e=[];return x.forEach(yt=>{const jt=ye.get(yt.toString());Vt(!!jt),$e.push(jt)}),$e}),function _(b,x){return h.apply(this,arguments)})(r.datastore,e);var h;return o.forEach(h=>r.recordVersion(h)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ns(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,a.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,h)=>{const _=Ut.fromPath(h);e.mutations.push(new $o(_,e.precondition(_)))}),yield(o=(0,a.A)(function*(_,b){const x=ut(_),F={writes:b.map(K=>Sc(x.serializer,K))};yield x.Mo("Commit",x.serializer.databaseId,cn.emptyPath(),F)}),function h(_,b){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw xt();r=kt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new tt(Fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(kt.min())?Y.exists(!1):Y.updateTime(r):Y.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(kt.min()))throw new tt(Fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y.updateTime(r)}return Y.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class b_{constructor(e,r,o,h,_){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=h,this.deferred=_,this._u=o.maxAttempts,this.t_=new Bd(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,a.A)(function*(){const r=new bl(e.datastore),o=e.cu(r);o&&o.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(_=>{e.lu(_)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!re(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!sc(r)}return!1}}class C_{constructor(e,r,o,h,_){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=h,this.user=et.UNAUTHENTICATED,this.clientId=Vn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=_,this.authCredentials.start(o,function(){var x=(0,a.A)(function*(F){De("FirestoreClient","Received user=",F.uid),yield b.authCredentialListener(F),b.user=F});return function(F){return x.apply(this,arguments)}}()),this.appCheckCredentials.start(o,x=>(De("FirestoreClient","Received new app check token=",x),this.appCheckCredentialListener(x,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Jt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,a.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const h=tu(o,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function T_(d,e){return I_.apply(this,arguments)}function I_(){return I_=(0,a.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const r=d.configuration;yield e.initialize(r);let o=r.initialUser;d.setCredentialChangeListener(function(){var h=(0,a.A)(function*(_){o.isEqual(_)||(yield fc(e.localStore,_),o=_)});return function(_){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),I_.apply(this,arguments)}function Hy(d,e){return gf.apply(this,arguments)}function gf(){return(gf=(0,a.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const r=yield mf(d);De("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,d.configuration),d.setCredentialChangeListener(o=>s_(e.remoteStore,o)),d.setAppCheckTokenChangeListener((o,h)=>s_(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function mf(d){return w_.apply(this,arguments)}function w_(){return(w_=(0,a.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{yield T_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Fe.FAILED_PRECONDITION||h.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;mn("Error using user provided cache. Falling back to memory cache: "+e),yield T_(d,new qu)}}else De("FirestoreClient","Using default OfflineComponentProvider"),yield T_(d,new qu);var h;return d._offlineComponents})).apply(this,arguments)}function Qg(d){return _f.apply(this,arguments)}function _f(){return(_f=(0,a.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hy(d,d._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),yield Hy(d,new ah))),d._onlineComponents})).apply(this,arguments)}function yf(d){return mf(d).then(e=>e.persistence)}function Cl(d){return mf(d).then(e=>e.localStore)}function A_(d){return Qg(d).then(e=>e.remoteStore)}function Jg(d){return Qg(d).then(e=>e.syncEngine)}function Yc(d){return ui.apply(this,arguments)}function ui(){return(ui=(0,a.A)(function*(d){const e=yield Qg(d),r=e.eventManager;return r.onListen=Wu.bind(null,e.syncEngine),r.onUnlisten=f_.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=h_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=cf.bind(null,e.syncEngine),r})).apply(this,arguments)}function em(d,e,r={}){const o=new Jt;return d.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function(_,b,x,F,K){const oe=new Ka({next:$e=>{oe.Za(),b.enqueueAndForget(()=>th(_,ye));const yt=$e.docs.has(x);!yt&&$e.fromCache?K.reject(new tt(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):yt&&$e.fromCache&&F&&"server"===F.source?K.reject(new tt(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve($e)},error:$e=>K.reject($e)}),ye=new Vg(J(x.path),oe,{includeMetadataChanges:!0,_a:!0});return up(_,ye)}(yield Yc(d),d.asyncQueue,e,r,o)})),o.promise}function xp(d,e,r={}){const o=new Jt;return d.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function(_,b,x,F,K){const oe=new Ka({next:$e=>{oe.Za(),b.enqueueAndForget(()=>th(_,ye)),$e.fromCache&&"server"===F.source?K.reject(new tt(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve($e)},error:$e=>K.reject($e)}),ye=new Vg(x,oe,{includeMetadataChanges:!0,_a:!0});return up(_,ye)}(yield Yc(d),d.asyncQueue,e,r,o)})),o.promise}function Xy(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const lh=new Map;function Xu(d,e,r){if(!r)throw new tt(Fe.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function tm(d,e,r,o){if(!0===e&&!0===o)throw new tt(Fe.INVALID_ARGUMENT,`${d} and ${r} cannot be used together.`)}function nm(d){if(!Ut.isDocumentKey(d))throw new tt(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function Pp(d){if(Ut.isDocumentKey(d))throw new tt(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function uh(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(o=d).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof d?"a function":xt()}function di(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new tt(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=uh(d);throw new tt(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return d}function rm(d,e){if(e<=0)throw new tt(Fe.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class im{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Xy(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new tt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new tt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new tt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iu{constructor(e,r,o,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new im({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tt(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new im(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Ae;switch(o.type){case"firstParty":return new Qe(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new tt(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,a.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=lh.get(r);o&&(De("ComponentProvider","Removing Datastore"),lh.delete(r),o.terminate())}(this),Promise.resolve()}}function Qy(d,e,r,o={}){var h;const _=(d=di(d,iu))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==_.host&&_.host!==b&&mn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},_),{host:b,ssl:!1})),o.mockUserToken){let x,F;if("string"==typeof o.mockUserToken)x=o.mockUserToken,F=et.MOCK_USER;else{x=(0,ge.Fy)(o.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const K=o.mockUserToken.sub||o.mockUserToken.user_id;if(!K)throw new tt(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new et(K)}d._authCredentials=new Ee(new Be(x,F))}}class oo{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new oo(this.firestore,e,this._query)}}class Us{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Us(this.firestore,e,this._key)}}class qa extends oo{constructor(e,r,o){super(e,r,J(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Us(this.firestore,null,new Ut(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function x_(d,e,...r){if(d=(0,ge.Ku)(d),Xu("collection","path",e),d instanceof iu){const o=cn.fromString(e,...r);return Pp(o),new qa(d,null,o)}{if(!(d instanceof Us||d instanceof qa))throw new tt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=d._path.child(cn.fromString(e,...r));return Pp(o),new qa(d.firestore,null,o)}}function P_(d,e){if(d=di(d,iu),Xu("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tt(Fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oo(d,null,(o=e,new Yo(cn.emptyPath(),o)));var o}function su(d,e,...r){if(d=(0,ge.Ku)(d),1===arguments.length&&(e=Vn.newId()),Xu("doc","path",e),d instanceof iu){const o=cn.fromString(e,...r);return nm(o),new Us(d,null,new Ut(o))}{if(!(d instanceof Us||d instanceof qa))throw new tt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=d._path.child(cn.fromString(e,...r));return nm(o),new Us(d.firestore,d instanceof qa?d.converter:null,new Ut(o))}}function Jy(d,e){return d=(0,ge.Ku)(d),e=(0,ge.Ku)(e),(d instanceof Us||d instanceof qa)&&(e instanceof Us||e instanceof qa)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function vf(d,e){return d=(0,ge.Ku)(d),e=(0,ge.Ku)(e),d instanceof oo&&e instanceof oo&&d.firestore===e.firestore&&uo(d._query,e._query)&&d.converter===e.converter}class Ef{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bd(this,"async_queue_retry"),this.Vu=()=>{const o=Pa();o&&De("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const r=Pa();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Pa();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Jt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,a.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!$n(r))throw r;De("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(o=>{throw this.Eu=o,this.du=!1,en("INTERNAL UNHANDLED ERROR: ",function(b){let x=b.message||"";return b.stack&&(x=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),x}(o)),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(e,r,o){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const h=rf.createAndSchedule(this,e,r,o,_=>this.yu(_));return this.Tu.push(h),h}fu(){this.Eu&&xt()}verifyOperationInProgress(){}wu(){var e=this;return(0,a.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function sm(d){return function(r,o){if("object"!=typeof r||null===r)return!1;const h=r;for(const _ of["next","error","complete"])if(_ in h&&"function"==typeof h[_])return!0;return!1}(d)}class om{constructor(){this._progressObserver={},this._taskCompletionResolver=new Jt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Mp=-1;class Ci extends iu{constructor(e,r,o,h){super(e,r,o,h),this.type="firestore",this._queue=new Ef,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,a.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new Ef(r),e._firestoreClient=void 0,yield r}})()}}function am(d,e){const r="object"==typeof d?d:(0,de.getApp)(),o="string"==typeof d?d:e||"(default)",h=(0,de._getProvider)(r,"firestore").getImmediate({identifier:o});if(!h._initialized){const _=(0,ge.yU)("firestore");_&&Qy(h,..._)}return h}function Cs(d){if(d._terminated)throw new tt(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||M_(d),d._firestoreClient}function M_(d){var e,r,o;const h=d._freezeSettings(),_=(F=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new xr(d._databaseId,F,d._persistenceKey,(oe=h).host,oe.ssl,oe.experimentalForceLongPolling,oe.experimentalAutoDetectLongPolling,Xy(oe.experimentalLongPollingOptions),oe.useFetchStreams));var F,oe;d._componentsProvider||!(null===(r=h.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(o=h.localCache)||void 0===o)&&o._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new C_(d._authCredentials,d._appCheckCredentials,d._queue,_,d._componentsProvider&&function(x){const F=x?._online.build();return{_offline:x?._offline.build(F),_online:F}}(d._componentsProvider))}function cm(d,e){mn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=d._freezeSettings();return lm(d,ah.provider,{build:o=>new Ap(o,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function dh(d){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,a.A)(function*(d){mn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();lm(d,ah.provider,{build:r=>new Dp(r,e.cacheSizeBytes)})})).apply(this,arguments)}function lm(d,e,r){if((d=di(d,Ci))._firestoreClient||d._terminated)throw new tt(Fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new tt(Fe.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:r},M_(d)}function Zy(d){if(d._initialized&&!d._terminated)throw new tt(Fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Jt;return d._queue.enqueueAndForgetEvenWhileRestricted((0,a.A)(function*(){try{yield(r=(0,a.A)(function*(h){if(!ue.D())return Promise.resolve();const _=h+"main";yield ue.delete(_)}),function o(h){return r.apply(this,arguments)})(Rd(d._databaseId,d._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function um(d){return function(r){const o=new Jt;return r.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function g_(d,e){return m_.apply(this,arguments)}(yield Jg(r),o)})),o.promise}(Cs(d=di(d,Ci)))}function R_(d){return function Zg(d){return d.asyncQueue.enqueue((0,a.A)(function*(){const e=yield yf(d),r=yield A_(d);return e.setNetworkEnabled(!0),function(h){const _=ut(h);return _.L_.delete(0),Zl(_)}(r)}))}(Cs(d=di(d,Ci)))}function ev(d){return function Gy(d){return d.asyncQueue.enqueue((0,a.A)(function*(){const e=yield yf(d),r=yield A_(d);return e.setNetworkEnabled(!1),(o=(0,a.A)(function*(_){const b=ut(_);b.L_.add(0),yield Bu(b),b.q_.set("Offline")}),function h(_){return o.apply(this,arguments)})(r);var o}))}(Cs(d=di(d,Ci)))}function dm(d,e){const r=Cs(d=di(d,Ci)),o=new om;return function Ky(d,e,r,o){const h=function(b,x){let F;return F="string"==typeof b?vd().encode(b):b,oe=function(oe,ye){if(oe instanceof Uint8Array)return qc(oe,void 0);if(oe instanceof ArrayBuffer)return qc(new Uint8Array(oe),void 0);if(oe instanceof ReadableStream)return oe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new Sp(oe,x);var oe}(r,Zs(e));d.asyncQueue.enqueueAndForget((0,a.A)(function*(){!function By(d,e,r){const o=ut(d);var h;(h=(0,a.A)(function*(b,x,F){try{const K=yield x.getMetadata();if(yield function(jt,un){const Zt=ut(jt),Xn=ls(un.createTime);return Zt.persistence.runTransaction("hasNewerBundle","readonly",or=>Zt.Gr.getBundleMetadata(or,un.id)).then(or=>!!or&&or.createTime.compareTo(Xn)>=0)}(b.localStore,K))return yield x.close(),F._completeWith({taskState:"Success",documentsLoaded:(jt=K).totalDocuments,bytesLoaded:jt.totalBytes,totalDocuments:jt.totalDocuments,totalBytes:jt.totalBytes}),Promise.resolve(new Set);F._updateProgress(af(K));const oe=new l_(K,b.localStore,x.serializer);let ye=yield x.Ua();for(;ye;){const yt=yield oe.la(ye);yt&&F._updateProgress(yt),ye=yield x.Ua()}const $e=yield oe.complete();return yield ru(b,$e.Ia,void 0),yield function(jt,un){const Zt=ut(jt);return Zt.persistence.runTransaction("Save bundle","readwrite",Xn=>Zt.Gr.saveBundleMetadata(Xn,un))}(b.localStore,K),F._completeWith($e.progress),Promise.resolve($e.Pa)}catch(K){return mn("SyncEngine",`Loading bundle failed with ${K}`),F._failWith(K),Promise.resolve(new Set)}var jt}),function _(b,x,F){return h.apply(this,arguments)})(o,e,r).then(h=>{o.sharedClientState.notifyBundleLoaded(h)})}(yield Jg(d),h,o)}))}(r,d._databaseId,e,o),o}function p0(d,e){return function qy(d,e){return d.asyncQueue.enqueue((0,a.A)(function*(){return function(o,h){const _=ut(o);return _.persistence.runTransaction("Get named query","readonly",b=>_.Gr.getNamedQuery(b,h))}(yield Cl(d),e)}))}(Cs(d=di(d,Ci)),e).then(r=>r?new oo(d,null,r.query):null)}class ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ou(Ri.fromBase64String(e))}catch(r){throw new tt(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ou(Ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ju{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new tt(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xc{constructor(e){this._methodName=e}}class Op{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new tt(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new tt(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}class hh{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,h){if(o.length!==h.length)return!1;for(let _=0;_<o.length;++_)if(o[_]!==h[_])return!1;return!0}(this._values,e._values)}}const fh=/^__.*__$/;class Ya{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new ri(e,this.data,this.fieldMask,r,this.fieldTransforms):new mr(e,this.data,r,this.fieldTransforms)}}class Zu{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new ri(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function ed(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class mc{constructor(e,r,o,h,_,b){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=h,void 0===_&&this.vu(),this.fieldTransforms=_||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:o,xu:!1});return h.Ou(e),h}Nu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:o,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ra(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(ed(this.Cu)&&fh.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class td{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Zs(e)}Qu(e,r,o,h=!1){return new mc({Cu:e,methodName:r,qu:o,path:Zn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xa(d){const e=d._freezeSettings(),r=Zs(d._databaseId);return new td(d._databaseId,!!e.ignoreUndefinedProperties,r)}function ph(d,e,r,o,h,_={}){const b=d.Qu(_.merge||_.mergeFields?2:0,e,r,h);gm("Data must be an object, but it was:",b,o);const x=pm(o,b);let F,K;if(_.merge)F=new fi(b.fieldMask),K=b.fieldTransforms;else if(_.mergeFields){const oe=[];for(const ye of _.mergeFields){const $e=kp(e,ye,r);if(!b.contains($e))throw new tt(Fe.INVALID_ARGUMENT,`Field '${$e}' is specified in your field mask but missing from your input data.`);ao(oe,$e)||oe.push($e)}F=new fi(oe),K=b.fieldTransforms.filter(ye=>F.covers(ye.field))}else F=null,K=b.fieldTransforms;return new Ya(new Oe(x),F,K)}class Tl extends Xc{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tl}}function Cf(d,e,r){return new mc({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class O_ extends Xc{_toFieldTransform(e){return new P(e.path,new nc)}isEqual(e){return e instanceof O_}}class Tf extends Xc{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Cf(this,e,!0),o=this.Ku.map(_=>Il(_,r)),h=new Bo(o);return new P(e.path,h)}isEqual(e){return e instanceof Tf&&(0,ge.bD)(this.Ku,e.Ku)}}class nd extends Xc{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Cf(this,e,!0),o=this.Ku.map(_=>Il(_,r)),h=new wa(o);return new P(e.path,h)}isEqual(e){return e instanceof nd&&(0,ge.bD)(this.Ku,e.Ku)}}class hm extends Xc{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new ic(e.serializer,ja(e.serializer,this.$u));return new P(e.path,r)}isEqual(e){return e instanceof hm&&this.$u===e.$u}}function Np(d,e,r,o){const h=d.Qu(1,e,r);gm("Data must be an object, but it was:",h,o);const _=[],b=Oe.empty();si(o,(F,K)=>{const oe=au(e,F,r);K=(0,ge.Ku)(K);const ye=h.Nu(oe);if(K instanceof Tl)_.push(oe);else{const $e=Il(K,ye);null!=$e&&(_.push(oe),b.set(oe,$e))}});const x=new fi(_);return new Zu(b,x,h.fieldTransforms)}function fm(d,e,r,o,h,_){const b=d.Qu(1,e,r),x=[kp(e,o,r)],F=[h];if(_.length%2!=0)throw new tt(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $e=0;$e<_.length;$e+=2)x.push(kp(e,_[$e])),F.push(_[$e+1]);const K=[],oe=Oe.empty();for(let $e=x.length-1;$e>=0;--$e)if(!ao(K,x[$e])){const yt=x[$e];let jt=F[$e];jt=(0,ge.Ku)(jt);const un=b.Nu(yt);if(jt instanceof Tl)K.push(yt);else{const Zt=Il(jt,un);null!=Zt&&(K.push(yt),oe.set(yt,Zt))}}const ye=new fi(K);return new Zu(oe,ye,b.fieldTransforms)}function N_(d,e,r,o=!1){return Il(r,d.Qu(o?4:3,e))}function Il(d,e){if(k_(d=(0,ge.Ku)(d)))return gm("Unsupported field value:",e,d),pm(d,e);if(d instanceof Xc)return function(o,h){if(!ed(h.Cu))throw h.Bu(`${o._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${o._methodName}() is not currently supported inside arrays`);const _=o._toFieldTransform(h);_&&h.fieldTransforms.push(_)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(o,h){const _=[];let b=0;for(const x of o){let F=Il(x,h.Lu(b));null==F&&(F={nullValue:"NULL_VALUE"}),_.push(F),b++}return{arrayValue:{values:_}}}(d,e)}return function(o,h){if(null===(o=(0,ge.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return ja(h.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const _=$t.fromDate(o);return{timestampValue:Ho(h.serializer,_)}}if(o instanceof $t){const _=new $t(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Ho(h.serializer,_)}}if(o instanceof Op)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ou)return{bytesValue:wu(h.serializer,o._byteString)};if(o instanceof Us){const _=h.databaseId,b=o.firestore._databaseId;if(!b.isEqual(_))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:Ac(o.firestore._databaseId||h.databaseId,o._key.path)}}if(o instanceof hh)return x=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(F=>{if("number"!=typeof F)throw x.Bu("VectorValues must only contain numeric values.");return Xo(x.serializer,F)})}}}}};var x;throw h.Bu(`Unsupported field value: ${uh(o)}`)}(d,e)}function pm(d,e){const r={};return vs(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(d,(o,h)=>{const _=Il(h,e.Mu(o));null!=_&&(r[o]=_)}),{mapValue:{fields:r}}}function k_(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof $t||d instanceof Op||d instanceof ou||d instanceof Us||d instanceof Xc||d instanceof hh)}function gm(d,e,r){if(!k_(r)||"object"!=typeof(h=r)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const o=uh(r);throw e.Bu("an object"===o?d+" a custom object":d+" "+o)}var h}function kp(d,e,r){if((e=(0,ge.Ku)(e))instanceof Ju)return e._internalPath;if("string"==typeof e)return au(d,e);throw Ra("Field path arguments must be of type string or ",d,!1,void 0,r)}const rv=new RegExp("[~\\*/\\[\\]]");function au(d,e,r){if(e.search(rv)>=0)throw Ra(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,r);try{return new Ju(...e.split("."))._internalPath}catch{throw Ra(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,r)}}function Ra(d,e,r,o,h){const _=o&&!o.isEmpty(),b=void 0!==h;let x=`Function ${e}() called with invalid data`;r&&(x+=" (via `toFirestore()`)"),x+=". ";let F="";return(_||b)&&(F+=" (found",_&&(F+=` in field ${o}`),b&&(F+=` in document ${h}`),F+=")"),new tt(Fe.INVALID_ARGUMENT,x+d+F)}function ao(d,e){return d.some(r=>r.isEqual(e))}class _c{constructor(e,r,o,h,_){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Us(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new If(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(gh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class If extends _c{data(){return super.data()}}function gh(d,e){return"string"==typeof e?au(d,e):e instanceof Ju?e._internalPath:e._delegate._internalPath}function F_(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new tt(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mh{}class wf extends mh{}function L_(d,e,...r){let o=[];e instanceof mh&&o.push(e),o=o.concat(r),function(_){const b=_.filter(F=>F instanceof wl).length,x=_.filter(F=>F instanceof Fp).length;if(b>1||b>0&&x>0)throw new tt(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const h of o)d=h._apply(d);return d}class Fp extends wf{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new Fp(e,r,o)}_apply(e){const r=this._parse(e);return Sf(e._query,r),new oo(e.firestore,e.converter,Qs(e._query,r))}_parse(e){const r=Xa(e.firestore);return function(_,b,x,F,K,oe,ye){let $e;if(K.isKeyField()){if("array-contains"===oe||"array-contains-any"===oe)throw new tt(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${oe}' queries on documentId().`);if("in"===oe||"not-in"===oe){cv(ye,oe);const yt=[];for(const jt of ye)yt.push(jp(F,_,jt));$e={arrayValue:{values:yt}}}else $e=jp(F,_,ye)}else"in"!==oe&&"not-in"!==oe&&"array-contains-any"!==oe||cv(ye,oe),$e=N_(x,"where",ye,"in"===oe||"not-in"===oe);return Sn.create(K,oe,$e)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function iv(d,e,r){const o=e,h=gh("where",d);return Fp._create(h,o,r)}class wl extends mh{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new wl(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:Un.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(h,_){let b=h;const x=_.getFlattenedFilters();for(const F of x)Sf(b,F),b=Qs(b,F)}(e._query,r),new oo(e.firestore,e.converter,Qs(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _h extends wf{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new _h(e,r)}_apply(e){const r=function(h,_,b){if(null!==h.startAt)throw new tt(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new tt(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jn(_,b)}(e._query,this._field,this._direction);return new oo(e.firestore,e.converter,function(h,_){const b=h.explicitOrderBy.concat([_]);return new Yo(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,r))}}function sv(d,e="asc"){const r=e,o=gh("orderBy",d);return _h._create(o,r)}class Vp extends wf{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new Vp(e,r,o)}_apply(e){return new oo(e.firestore,e.converter,ps(e._query,this._limit,this._limitType))}}function g0(d){return rm("limit",d),Vp._create("limit",d,"F")}function m0(d){return rm("limitToLast",d),Vp._create("limitToLast",d,"L")}class mm extends wf{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new mm(e,r,o)}_apply(e){const r=Df(e,this.type,this._docOrFields,this._inclusive);return new oo(e.firestore,e.converter,(_=r,new Yo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,_,h.endAt)));var h,_}}function ov(...d){return mm._create("startAt",d,!0)}function av(...d){return mm._create("startAfter",d,!1)}class Af extends wf{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new Af(e,r,o)}_apply(e){const r=Df(e,this.type,this._docOrFields,this._inclusive);return new oo(e.firestore,e.converter,(_=r,new Yo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,_)));var h,_}}function zE(...d){return Af._create("endBefore",d,!1)}function Up(...d){return Af._create("endAt",d,!0)}function Df(d,e,r,o){if(r[0]=(0,ge.Ku)(r[0]),r[0]instanceof _c)return function(_,b,x,F,K){if(!F)throw new tt(Fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${x}().`);const oe=[];for(const ye of Ue(_))if(ye.field.isKeyField())oe.push(Wn(b,F.key));else{const $e=F.data.field(ye.field);if(Ms($e))throw new tt(Fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===$e){const yt=ye.field.canonicalString();throw new tt(Fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${yt}' (used as the orderBy) does not exist.`)}oe.push($e)}return new Yt(oe,K)}(d._query,d.firestore._databaseId,e,r[0]._document,o);{const h=Xa(d.firestore);return function(b,x,F,K,oe,ye){const $e=b.explicitOrderBy;if(oe.length>$e.length)throw new tt(Fe.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const yt=[];for(let jt=0;jt<oe.length;jt++){const un=oe[jt];if($e[jt].field.isKeyField()){if("string"!=typeof un)throw new tt(Fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof un}`);if(!le(b)&&-1!==un.indexOf("/"))throw new tt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${un}' contains a slash.`);const Zt=b.path.child(cn.fromString(un));if(!Ut.isDocumentKey(Zt))throw new tt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${Zt}' is not because it contains an odd number of segments.`);const Xn=new Ut(Zt);yt.push(Wn(x,Xn))}else{const Zt=N_(F,K,un);yt.push(Zt)}}return new Yt(yt,ye)}(d._query,d.firestore._databaseId,h,e,r,o)}}function jp(d,e,r){if("string"==typeof(r=(0,ge.Ku)(r))){if(""===r)throw new tt(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!le(e)&&-1!==r.indexOf("/"))throw new tt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(cn.fromString(r));if(!Ut.isDocumentKey(o))throw new tt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Wn(d,new Ut(o))}if(r instanceof Us)return Wn(d,r._key);throw new tt(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(r)}.`)}function cv(d,e){if(!Array.isArray(d)||0===d.length)throw new tt(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Sf(d,e){const r=function(h,_){for(const b of h)for(const x of b.getFlattenedFilters())if(_.indexOf(x.op)>=0)return x.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new tt(Fe.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Bp{convertValue(e,r="none"){switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw xt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return si(e,(h,_)=>{o[h]=this.convertValue(_,r)}),o}convertVectorValue(e){var r,o,h;const _=null===(h=null===(o=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===o?void 0:o.values)||void 0===h?void 0:h.map(b=>Yr(b.doubleValue));return new hh(_)}convertGeoPoint(e){return new Op(Yr(e.latitude),Yr(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=bo(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Rs(e));default:return null}}convertTimestamp(e){const r=qs(e);return new $t(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=cn.fromString(e);Vt(w(o));const h=new oi(o.get(1),o.get(3)),_=new Ut(o.popFirst(5));return h.isEqual(r)||en(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),_}}function _m(d,e,r){let o;return o=d?r&&(r.merge||r.mergeFields)?d.toFirestore(e,r):d.toFirestore(e):e,o}class _0 extends Bp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Us(this.firestore,null,r)}}class xf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cu extends _c{constructor(e,r,o,h,_,b){super(e,r,o,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(gh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class yc extends cu{data(e={}){return super.data(e)}}class Dl{constructor(e,r,o,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new xf(h.hasPendingWrites,h.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new yc(this._firestore,this._userDataWriter,o.key,o,new xf(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new tt(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,_){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(x=>({type:"added",doc:new yc(h._firestore,h._userDataWriter,x.doc.key,x.doc,new xf(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(x=>_||3!==x.type).map(x=>{const F=new yc(h._firestore,h._userDataWriter,x.doc.key,x.doc,new xf(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter);let K=-1,oe=-1;return 0!==x.type&&(K=b.indexOf(x.doc.key),b=b.delete(x.doc.key)),1!==x.type&&(b=b.add(x.doc),oe=b.indexOf(x.doc.key)),{type:E0(x.type),doc:F,oldIndex:K,newIndex:oe}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function E0(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}function b0(d,e){return d instanceof cu&&e instanceof cu?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Dl&&e instanceof Dl&&d._firestore===e._firestore&&vf(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function C0(d){d=di(d,Us);const e=di(d.firestore,Ci);return em(Cs(e),d._key).then(r=>B_(e,d,r))}class Sl extends Bp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Us(this.firestore,null,r)}}function xl(d){d=di(d,Us);const e=di(d.firestore,Ci),r=Cs(e),o=new Sl(e);return function Yu(d,e){const r=new Jt;return d.asyncQueue.enqueueAndForget((0,a.A)(function*(){return(o=(0,a.A)(function*(_,b,x){try{const F=yield function(oe,ye){const $e=ut(oe);return $e.persistence.runTransaction("read document","readonly",yt=>$e.localDocuments.getDocument(yt,ye))}(_,b);F.isFoundDocument()?x.resolve(F):F.isNoDocument()?x.resolve(null):x.reject(new tt(Fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const K=tu(F,`Failed to get document '${b} from cache`);x.reject(K)}}),function h(_,b,x){return o.apply(this,arguments)})(yield Cl(d),e,r);var o})),r.promise}(r,d._key).then(h=>new cu(e,o,d._key,h,new xf(null!==h&&h.hasLocalMutations,!0),d.converter))}function uv(d){d=di(d,Us);const e=di(d.firestore,Ci);return em(Cs(e),d._key,{source:"server"}).then(r=>B_(e,d,r))}function T0(d){d=di(d,oo);const e=di(d.firestore,Ci),r=Cs(e),o=new Sl(e);return F_(d._query),xp(r,d._query).then(h=>new Dl(e,o,d,h))}function KE(d){d=di(d,oo);const e=di(d.firestore,Ci),r=Cs(e),o=new Sl(e);return function zy(d,e){const r=new Jt;return d.asyncQueue.enqueueAndForget((0,a.A)(function*(){return(o=(0,a.A)(function*(_,b,x){try{const F=yield pc(_,b,!0),K=new u_(b,F.Ts),oe=K.ma(F.documents),ye=K.applyChanges(oe,!1);x.resolve(ye.snapshot)}catch(F){const K=tu(F,`Failed to execute query '${b} against cache`);x.reject(K)}}),function h(_,b,x){return o.apply(this,arguments)})(yield Cl(d),e,r);var o})),r.promise}(r,d._query).then(h=>new Dl(e,o,d,h))}function So(d){d=di(d,oo);const e=di(d.firestore,Ci),r=Cs(e),o=new Sl(e);return xp(r,d._query,{source:"server"}).then(h=>new Dl(e,o,d,h))}function I0(d,e,r){d=di(d,Us);const o=di(d.firestore,Ci),h=_m(d.converter,e,r);return yh(o,[ph(Xa(o),"setDoc",d._key,h,null!==d.converter,r).toMutation(d._key,Y.none())])}function U_(d,e,r,...o){d=di(d,Us);const h=di(d.firestore,Ci),_=Xa(h);let b;return b="string"==typeof(e=(0,ge.Ku)(e))||e instanceof Ju?fm(_,"updateDoc",d._key,e,r,o):Np(_,"updateDoc",d._key,e),yh(h,[b.toMutation(d._key,Y.exists(!0))])}function w0(d){return yh(di(d.firestore,Ci),[new Ns(d._key,Y.none())])}function A0(d,e){const r=di(d.firestore,Ci),o=su(d),h=_m(d.converter,e);return yh(r,[ph(Xa(d.firestore),"addDoc",o._key,h,null!==d.converter,{}).toMutation(o._key,Y.exists(!1))]).then(()=>o)}function j_(d,...e){var r,o,h;d=(0,ge.Ku)(d);let _={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||sm(e[b])||(_=e[b],b++);const x={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(sm(e[b])){const ye=e[b];e[b]=null===(r=ye.next)||void 0===r?void 0:r.bind(ye),e[b+1]=null===(o=ye.error)||void 0===o?void 0:o.bind(ye),e[b+2]=null===(h=ye.complete)||void 0===h?void 0:h.bind(ye)}let F,K,oe;if(d instanceof Us)K=di(d.firestore,Ci),oe=J(d._key.path),F={next:ye=>{e[b]&&e[b](B_(K,d,ye))},error:e[b+1],complete:e[b+2]};else{const ye=di(d,oo);K=di(ye.firestore,Ci),oe=ye._query;const $e=new Sl(K);F={next:yt=>{e[b]&&e[b](new Dl(K,$e,ye,yt))},error:e[b+1],complete:e[b+2]},F_(d._query)}return function($e,yt,jt,un){const Zt=new Ka(un),Xn=new Vg(yt,Zt,jt);return $e.asyncQueue.enqueueAndForget((0,a.A)(function*(){return up(yield Yc($e),Xn)})),()=>{Zt.Za(),$e.asyncQueue.enqueueAndForget((0,a.A)(function*(){return th(yield Yc($e),Xn)}))}}(Cs(K),oe,x,F)}function dv(d,e){return function Wy(d,e){const r=new Ka(e);return d.asyncQueue.enqueueAndForget((0,a.A)(function*(){return h=yield Yc(d),_=r,ut(h).Y_.add(_),void _.next();var h,_})),()=>{r.Za(),d.asyncQueue.enqueueAndForget((0,a.A)(function*(){return h=yield Yc(d),_=r,void ut(h).Y_.delete(_);var h,_}))}}(Cs(d=di(d,Ci)),sm(e)?e:{next:e})}function yh(d,e){return function(o,h){const _=new Jt;return o.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function $g(d,e,r){return _l.apply(this,arguments)}(yield Jg(o),h,_)})),_.promise}(Cs(d),e)}function B_(d,e,r){const o=r.docs.get(e._key),h=new Sl(d);return new cu(d,h,e._key,o,new xf(r.hasPendingWrites,r.fromCache),e.converter)}const Gp={maxAttempts:5};class zp{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Xa(e)}set(e,r,o){this._verifyNotCommitted();const h=lu(e,this._firestore),_=_m(h.converter,r,o),b=ph(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,o);return this._mutations.push(b.toMutation(h._key,Y.none())),this}update(e,r,o,...h){this._verifyNotCommitted();const _=lu(e,this._firestore);let b;return b="string"==typeof(r=(0,ge.Ku)(r))||r instanceof Ju?fm(this._dataReader,"WriteBatch.update",_._key,r,o,h):Np(this._dataReader,"WriteBatch.update",_._key,r),this._mutations.push(b.toMutation(_._key,Y.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=lu(e,this._firestore);return this._mutations=this._mutations.concat(new Ns(r._key,Y.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tt(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lu(d,e){if((d=(0,ge.Ku)(d)).firestore!==e)throw new tt(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class yv extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=Xa(r)}get(r){const o=lu(r,this._firestore),h=new _0(this._firestore);return this._transaction.lookup([o._key]).then(_=>{if(!_||1!==_.length)return xt();const b=_[0];if(b.isFoundDocument())return new _c(this._firestore,h,b.key,b,o.converter);if(b.isNoDocument())return new _c(this._firestore,h,o._key,null,o.converter);throw xt()})}set(r,o,h){const _=lu(r,this._firestore),b=_m(_.converter,o,h),x=ph(this._dataReader,"Transaction.set",_._key,b,null!==_.converter,h);return this._transaction.set(_._key,x),this}update(r,o,h,..._){const b=lu(r,this._firestore);let x;return x="string"==typeof(o=(0,ge.Ku)(o))||o instanceof Ju?fm(this._dataReader,"Transaction.update",b._key,o,h,_):Np(this._dataReader,"Transaction.update",b._key,o),this._transaction.update(b._key,x),this}delete(r){const o=lu(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=lu(e,this._firestore),o=new Sl(this._firestore);return super.get(e).then(h=>new cu(this._firestore,o,r._key,h._document,new xf(!1,!1),r.converter))}}function M0(d,e,r){d=di(d,Ci);const o=Object.assign(Object.assign({},Gp),r);return function(_){if(_.maxAttempts<1)throw new tt(Fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(_,b,x){const F=new Jt;return _.asyncQueue.enqueueAndForget((0,a.A)(function*(){const K=yield function ch(d){return Qg(d).then(e=>e.datastore)}(_);new b_(_.asyncQueue,K,x,b,F).au()})),F.promise}(Cs(d),h=>e(new yv(d,h)),o)}function R0(){return new Tl("deleteField")}function O0(){return new O_("serverTimestamp")}function N0(...d){return new Tf("arrayUnion",d)}function vv(...d){return new nd("arrayRemove",d)}function YE(d){return new hm("increment",d)}!function(e,r=!0){Ye=de.SDK_VERSION,(0,de._registerComponent)(new i.uA("firestore",(o,{instanceIdentifier:h,options:_})=>{const b=o.getProvider("app").getImmediate(),x=new Ci(new Ve(o.getProvider("auth-internal")),new wn(o.getProvider("app-check-internal")),function(K,oe){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new tt(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oi(K.options.projectId,oe)}(b,h),b);return _=Object.assign({useFetchStreams:r},_),x._setSettings(_),x},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(be,"4.7.3",e),(0,de.registerVersion)(be,"4.7.3","esm2017")}()},4535:(rn,Ze,j)=>{j.d(Ze,{Ad:()=>Rn,D5:()=>pn,KR:()=>Oi,Mp:()=>hs,Mx:()=>ei,TZ:()=>Wt,UC:()=>si,UY:()=>lr,XR:()=>ti,ZH:()=>an,_w:()=>Wn,bp:()=>Bs,c7:()=>Rr,nb:()=>Bi,nw:()=>Tn,p_:()=>Ln,qk:()=>ci,uj:()=>en,xc:()=>Cn,yb:()=>ai});var a=j(467),de=j(7852),i=j(1076),Ie=j(1362);const ge="firebasestorage.googleapis.com",Se="storageBucket";class te extends i.g{constructor(Q,we,Oe=0){super(pe(Q),`Firebase Storage: ${we} (${pe(Q)})`),this.status_=Oe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,te.prototype)}get status(){return this.status_}set status(Q){this.status_=Q}_codeEquals(Q){return pe(Q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Q){this.customData.serverResponse=Q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ae=function(ee){return ee.UNKNOWN="unknown",ee.OBJECT_NOT_FOUND="object-not-found",ee.BUCKET_NOT_FOUND="bucket-not-found",ee.PROJECT_NOT_FOUND="project-not-found",ee.QUOTA_EXCEEDED="quota-exceeded",ee.UNAUTHENTICATED="unauthenticated",ee.UNAUTHORIZED="unauthorized",ee.UNAUTHORIZED_APP="unauthorized-app",ee.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ee.INVALID_CHECKSUM="invalid-checksum",ee.CANCELED="canceled",ee.INVALID_EVENT_NAME="invalid-event-name",ee.INVALID_URL="invalid-url",ee.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ee.NO_DEFAULT_BUCKET="no-default-bucket",ee.CANNOT_SLICE_BLOB="cannot-slice-blob",ee.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ee.NO_DOWNLOAD_URL="no-download-url",ee.INVALID_ARGUMENT="invalid-argument",ee.INVALID_ARGUMENT_COUNT="invalid-argument-count",ee.APP_DELETED="app-deleted",ee.INVALID_ROOT_OPERATION="invalid-root-operation",ee.INVALID_FORMAT="invalid-format",ee.INTERNAL_ERROR="internal-error",ee.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ee}(ae||{});function pe(ee){return"storage/"+ee}function ct(){return new te(ae.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function hn(){return new te(ae.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ge(){return new te(ae.CANCELED,"User canceled the upload/download.")}function it(){return new te(ae.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function en(ee){return new te(ae.INVALID_ARGUMENT,ee)}function mn(){return new te(ae.APP_DELETED,"The Firebase app was deleted.")}function lr(ee){return new te(ae.INVALID_ROOT_OPERATION,"The operation '"+ee+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xt(ee,Q){return new te(ae.INVALID_FORMAT,"String does not match format '"+ee+"': "+Q)}function Vt(ee){throw new te(ae.INTERNAL_ERROR,"Internal error: "+ee)}class Wt{constructor(Q,we){this.bucket=Q,this.path_=we}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o/"+Q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Q,we){let Oe;try{Oe=Wt.makeFromUrl(Q,we)}catch{return new Wt(Q,"")}if(""===Oe.path)return Oe;throw function et(ee){return new te(ae.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+ee+"'.")}(Q)}static makeFromUrl(Q,we){let Oe=null;const Je="([A-Za-z0-9.\\-_]+)",Dn=new RegExp("^gs://"+Je+"(/(.*))?$","i");function Jn(Xr){Xr.path_=decodeURIComponent(Xr.path)}const Fn=we.replace(/[.]/g,"\\."),Cr=[{regex:Dn,indices:{bucket:1,path:3},postModify:function mt(Xr){"/"===Xr.path.charAt(Xr.path.length-1)&&(Xr.path_=Xr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Fn}/v[A-Za-z0-9_]+/b/${Je}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Jn},{regex:new RegExp(`^https?://${we===ge?"(?:storage.googleapis.com|storage.cloud.google.com)":we}/${Je}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Jn}];for(let Xr=0;Xr<Cr.length;Xr++){const li=Cr[Xr],Nr=li.regex.exec(Q);if(Nr){let Zi=Nr[li.indices.path];Zi||(Zi=""),Oe=new Wt(Nr[li.indices.bucket],Zi),li.postModify(Oe);break}}if(null==Oe)throw function be(ee){return new te(ae.INVALID_URL,"Invalid URL '"+ee+"'.")}(Q);return Oe}}class ut{constructor(Q){this.promise_=Promise.reject(Q)}getPromise(){return this.promise_}cancel(Q=!1){}}function Ee(ee){return"string"==typeof ee||ee instanceof String}function Ve(ee){return rt()&&ee instanceof Blob}function rt(){return typeof Blob<"u"}function Qe(ee,Q,we,Oe){if(Oe<Q)throw en(`Invalid value for '${ee}'. Expected ${Q} or greater.`);if(Oe>we)throw en(`Invalid value for '${ee}'. Expected ${we} or less.`)}function Rt(ee,Q,we){let Oe=Q;return null==we&&(Oe=`https://${Q}`),`${we}://${Oe}/v0${ee}`}function wn(ee){const Q=encodeURIComponent;let we="?";for(const Oe in ee)ee.hasOwnProperty(Oe)&&(we=we+(Q(Oe)+"=")+Q(ee[Oe])+"&");return we=we.slice(0,-1),we}var nr=function(ee){return ee[ee.NO_ERROR=0]="NO_ERROR",ee[ee.NETWORK_ERROR=1]="NETWORK_ERROR",ee[ee.ABORT=2]="ABORT",ee}(nr||{});function tn(ee,Q){const we=ee>=500&&ee<600,Je=-1!==[408,429].indexOf(ee),mt=-1!==Q.indexOf(ee);return we||Je||mt}class Vn{constructor(Q,we,Oe,Je,mt,Yt,Dn,yn,Jn,wr,Fn,Sn=!0){this.url_=Q,this.method_=we,this.headers_=Oe,this.body_=Je,this.successCodes_=mt,this.additionalRetryCodes_=Yt,this.callback_=Dn,this.errorCallback_=yn,this.timeout_=Jn,this.progressCallback_=wr,this.connectionFactory_=Fn,this.retry=Sn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Un,Br)=>{this.resolve_=Un,this.reject_=Br,this.start_()})}start_(){const we=(Oe,Je)=>{const mt=this.resolve_,Yt=this.reject_,Dn=Je.connection;if(Je.wasSuccessCode)try{const yn=this.callback_(Dn,Dn.getResponse());!function Jt(ee){return void 0!==ee}(yn)?mt():mt(yn)}catch(yn){Yt(yn)}else if(null!==Dn){const yn=ct();yn.serverResponse=Dn.getErrorText(),Yt(this.errorCallback_?this.errorCallback_(Dn,yn):yn)}else Yt(Je.canceled?this.appDelete_?mn():Ge():hn())};this.canceled_?we(0,new qt(!1,null,!0)):this.backoffId_=function Fe(ee,Q,we){let Oe=1,Je=null,mt=null,Yt=!1,Dn=0;function yn(){return 2===Dn}let Jn=!1;function wr(...Ai){Jn||(Jn=!0,Q.apply(null,Ai))}function Fn(Ai){Je=setTimeout(()=>{Je=null,ee(Un,yn())},Ai)}function Sn(){mt&&clearTimeout(mt)}function Un(Ai,...Ji){if(Jn)return void Sn();if(Ai)return Sn(),void wr.call(null,Ai,...Ji);if(yn()||Yt)return Sn(),void wr.call(null,Ai,...Ji);let Cr;Oe<64&&(Oe*=2),1===Dn?(Dn=2,Cr=0):Cr=1e3*(Oe+Math.random()),Fn(Cr)}let Br=!1;function vr(Ai){Br||(Br=!0,Sn(),!Jn&&(null!==Je?(Ai||(Dn=2),clearTimeout(Je),Fn(0)):Ai||(Dn=1)))}return Fn(0),mt=setTimeout(()=>{Yt=!0,vr(!0)},we),vr}((Oe,Je)=>{if(Je)return void Oe(!1,new qt(!1,null,!0));const mt=this.connectionFactory_();this.pendingConnection_=mt;const Yt=Dn=>{null!==this.progressCallback_&&this.progressCallback_(Dn.loaded,Dn.lengthComputable?Dn.total:-1)};null!==this.progressCallback_&&mt.addUploadProgressListener(Yt),mt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&mt.removeUploadProgressListener(Yt),this.pendingConnection_=null;const Dn=mt.getErrorCode()===nr.NO_ERROR,yn=mt.getStatus();if(!Dn||tn(yn,this.additionalRetryCodes_)&&this.retry){const wr=mt.getErrorCode()===nr.ABORT;return void Oe(!1,new qt(!1,null,wr))}const Jn=-1!==this.successCodes_.indexOf(yn);Oe(!0,new qt(Jn,mt))})},we,this.timeout_)}getPromise(){return this.promise_}cancel(Q){this.canceled_=!0,this.appDelete_=Q||!1,null!==this.backoffId_&&function tt(ee){ee(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class qt{constructor(Q,we,Oe){this.wasSuccessCode=Q,this.connection=we,this.canceled=!!Oe}}function Mr(...ee){const Q=function cn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Q){const we=new Q;for(let Oe=0;Oe<ee.length;Oe++)we.append(ee[Oe]);return we.getBlob()}if(rt())return new Blob(ee);throw new te(ae.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gn{constructor(Q,we){this.data=Q,this.contentType=we||null}}function an(ee,Q){switch(ee){case Tn.RAW:return new Gn(Ur(Q));case Tn.BASE64:case Tn.BASE64URL:return new Gn(Zr(ee,Q));case Tn.DATA_URL:return new Gn(function hi(ee){const Q=new qn(ee);return Q.base64?Zr(Tn.BASE64,Q.rest):function Sr(ee){let Q;try{Q=decodeURIComponent(ee)}catch{throw xt(Tn.DATA_URL,"Malformed data URL.")}return Ur(Q)}(Q.rest)}(Q),function ys(ee){return new qn(ee).contentType}(Q))}throw ct()}function Ur(ee){const Q=[];for(let we=0;we<ee.length;we++){let Oe=ee.charCodeAt(we);Oe<=127?Q.push(Oe):Oe<=2047?Q.push(192|Oe>>6,128|63&Oe):55296==(64512&Oe)?we<ee.length-1&&56320==(64512&ee.charCodeAt(we+1))?(Oe=65536|(1023&Oe)<<10|1023&ee.charCodeAt(++we),Q.push(240|Oe>>18,128|Oe>>12&63,128|Oe>>6&63,128|63&Oe)):Q.push(239,191,189):56320==(64512&Oe)?Q.push(239,191,189):Q.push(224|Oe>>12,128|Oe>>6&63,128|63&Oe)}return new Uint8Array(Q)}function Zr(ee,Q){switch(ee){case Tn.BASE64:{const Je=-1!==Q.indexOf("-"),mt=-1!==Q.indexOf("_");if(Je||mt)throw xt(ee,"Invalid character '"+(Je?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{const Je=-1!==Q.indexOf("+"),mt=-1!==Q.indexOf("/");if(Je||mt)throw xt(ee,"Invalid character '"+(Je?"+":"/")+"' found: is it base64 encoded?");Q=Q.replace(/-/g,"+").replace(/_/g,"/");break}}let we;try{we=function Ut(ee){if(typeof atob>"u")throw function De(ee){return new te(ae.UNSUPPORTED_ENVIRONMENT,`${ee} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(ee)}(Q)}catch(Je){throw Je.message.includes("polyfill")?Je:xt(ee,"Invalid character found")}const Oe=new Uint8Array(we.length);for(let Je=0;Je<we.length;Je++)Oe[Je]=we.charCodeAt(Je);return Oe}class qn{constructor(Q){this.base64=!1,this.contentType=null;const we=Q.match(/^data:([^,]+)?,/);if(null===we)throw xt(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Oe=we[1]||null;null!=Oe&&(this.base64=function fn(ee,Q){return ee.length>=Q.length&&ee.substring(ee.length-Q.length)===Q}(Oe,";base64"),this.contentType=this.base64?Oe.substring(0,Oe.length-7):Oe),this.rest=Q.substring(Q.indexOf(",")+1)}}class ei{constructor(Q,we){let Oe=0,Je="";Ve(Q)?(this.data_=Q,Oe=Q.size,Je=Q.type):Q instanceof ArrayBuffer?(we?this.data_=new Uint8Array(Q):(this.data_=new Uint8Array(Q.byteLength),this.data_.set(new Uint8Array(Q))),Oe=this.data_.length):Q instanceof Uint8Array&&(we?this.data_=Q:(this.data_=new Uint8Array(Q.length),this.data_.set(Q)),Oe=Q.length),this.size_=Oe,this.type_=Je}size(){return this.size_}type(){return this.type_}slice(Q,we){if(Ve(this.data_)){const Je=function Zn(ee,Q,we){return ee.webkitSlice?ee.webkitSlice(Q,we):ee.mozSlice?ee.mozSlice(Q,we):ee.slice?ee.slice(Q,we):null}(this.data_,Q,we);return null===Je?null:new ei(Je)}{const Oe=new Uint8Array(this.data_.buffer,Q,we-Q);return new ei(Oe,!0)}}static getBlob(...Q){if(rt()){const we=Q.map(Oe=>Oe instanceof ei?Oe.data_:Oe);return new ei(Mr.apply(null,we))}{const we=Q.map(Yt=>Ee(Yt)?an(Tn.RAW,Yt).data:Yt.data_);let Oe=0;we.forEach(Yt=>{Oe+=Yt.byteLength});const Je=new Uint8Array(Oe);let mt=0;return we.forEach(Yt=>{for(let Dn=0;Dn<Yt.length;Dn++)Je[mt++]=Yt[Dn]}),new ei(Je,!0)}}uploadData(){return this.data_}}function tr(ee){let Q;try{Q=JSON.parse(ee)}catch{return null}return function Ae(ee){return"object"==typeof ee&&!Array.isArray(ee)}(Q)?Q:null}function Pi(ee){const Q=ee.lastIndexOf("/",ee.length-2);return-1===Q?ee:ee.slice(Q+1)}function nt(ee,Q){return Q}class gt{constructor(Q,we,Oe,Je){this.server=Q,this.local=we||Q,this.writable=!!Oe,this.xform=Je||nt}}let ue=null;function vt(){if(ue)return ue;const ee=[];ee.push(new gt("bucket")),ee.push(new gt("generation")),ee.push(new gt("metageneration")),ee.push(new gt("name","fullPath",!0));const we=new gt("name");we.xform=function Q(mt,Yt){return function Re(ee){return!Ee(ee)||ee.length<2?ee:Pi(ee)}(Yt)},ee.push(we);const Je=new gt("size");return Je.xform=function Oe(mt,Yt){return void 0!==Yt?Number(Yt):Yt},ee.push(Je),ee.push(new gt("timeCreated")),ee.push(new gt("updated")),ee.push(new gt("md5Hash",null,!0)),ee.push(new gt("cacheControl",null,!0)),ee.push(new gt("contentDisposition",null,!0)),ee.push(new gt("contentEncoding",null,!0)),ee.push(new gt("contentLanguage",null,!0)),ee.push(new gt("contentType",null,!0)),ee.push(new gt("metadata","customMetadata",!0)),ue=ee,ue}function Fr(ee,Q,we){const Oe=tr(Q);return null===Oe?null:function $n(ee,Q,we){const Oe={type:"file"},Je=we.length;for(let mt=0;mt<Je;mt++){const Yt=we[mt];Oe[Yt.local]=Yt.xform(Oe,Q[Yt.server])}return function Gt(ee,Q){Object.defineProperty(ee,"ref",{get:function we(){const mt=new Wt(ee.bucket,ee.fullPath);return Q._makeStorageReference(mt)}})}(Oe,ee),Oe}(ee,Oe,we)}function wi(ee,Q){const we={},Oe=Q.length;for(let Je=0;Je<Oe;Je++){const mt=Q[Je];mt.writable&&(we[mt.server]=ee[mt.local])}return JSON.stringify(we)}const Et="prefixes",$="items";class re{constructor(Q,we,Oe,Je){this.url=Q,this.method=we,this.handler=Oe,this.timeout=Je,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _e(ee){if(!ee)throw ct()}function st(ee,Q){return function we(Oe,Je){const mt=Fr(ee,Je,Q);return _e(null!==mt),mt}}function ln(ee){return function Q(we,Oe){let Je;return Je=401===we.getStatus()?we.getErrorText().includes("Firebase App Check token is invalid")?function Ft(){return new te(ae.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function wt(){return new te(ae.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===we.getStatus()?function It(ee){return new te(ae.QUOTA_EXCEEDED,"Quota for bucket '"+ee+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(ee.bucket):403===we.getStatus()?function Pt(ee){return new te(ae.UNAUTHORIZED,"User does not have permission to access '"+ee+"'.")}(ee.path):Oe,Je.status=we.getStatus(),Je.serverResponse=Oe.serverResponse,Je}}function An(ee){const Q=ln(ee);return function we(Oe,Je){let mt=Q(Oe,Je);return 404===Oe.getStatus()&&(mt=function je(ee){return new te(ae.OBJECT_NOT_FOUND,"Object '"+ee+"' does not exist.")}(ee.path)),mt.serverResponse=Je.serverResponse,mt}}function pr(ee,Q,we){const Je=Rt(Q.fullServerUrl(),ee.host,ee._protocol),Yt=ee.maxOperationRetryTime,Dn=new re(Je,"GET",st(ee,we),Yt);return Dn.errorHandler=An(Q),Dn}function on(ee,Q,we,Oe,Je){const mt={};mt.prefix=Q.isRoot?"":Q.path+"/",we&&we.length>0&&(mt.delimiter=we),Oe&&(mt.pageToken=Oe),Je&&(mt.maxResults=Je);const Dn=Rt(Q.bucketOnlyServerUrl(),ee.host,ee._protocol),Jn=ee.maxOperationRetryTime,wr=new re(Dn,"GET",function At(ee,Q){return function we(Oe,Je){const mt=function k(ee,Q,we){const Oe=tr(we);return null===Oe?null:function M(ee,Q,we){const Oe={prefixes:[],items:[],nextPageToken:we.nextPageToken};if(we[Et])for(const Je of we[Et]){const mt=Je.replace(/\/$/,""),Yt=ee._makeStorageReference(new Wt(Q,mt));Oe.prefixes.push(Yt)}if(we[$])for(const Je of we[$]){const mt=ee._makeStorageReference(new Wt(Q,Je.name));Oe.items.push(mt)}return Oe}(ee,Q,Oe)}(ee,Q,Je);return _e(null!==mt),mt}}(ee,Q.bucket),Jn);return wr.urlParams=mt,wr.errorHandler=ln(Q),wr}function Mi(ee,Q,we){const Oe=Object.assign({},we);return Oe.fullPath=ee.path,Oe.size=Q.size(),Oe.contentType||(Oe.contentType=function ji(ee,Q){return ee&&ee.contentType||Q&&Q.type()||"application/octet-stream"}(null,Q)),Oe}class Ce{constructor(Q,we,Oe,Je){this.current=Q,this.total=we,this.finalized=!!Oe,this.metadata=Je||null}}function nn(ee,Q){let we=null;try{we=ee.getResponseHeader("X-Goog-Upload-Status")}catch{_e(!1)}return _e(!!we&&-1!==(Q||["active"]).indexOf(we)),we}const Cn={STATE_CHANGED:"state_changed"},Rn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dr(ee){switch(ee){case"running":case"pausing":case"canceling":return Rn.RUNNING;case"paused":return Rn.PAUSED;case"success":return Rn.SUCCESS;case"canceled":return Rn.CANCELED;default:return Rn.ERROR}}class jr{constructor(Q,we,Oe){if(function Be(ee){return"function"==typeof ee}(Q)||null!=we||null!=Oe)this.next=Q,this.error=we??void 0,this.complete=Oe??void 0;else{const mt=Q;this.next=mt.next,this.error=mt.error,this.complete=mt.complete}}}function Kr(ee){return(...Q)=>{Promise.resolve().then(()=>ee(...Q))}}let Tr=null;class Qi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nr.NO_ERROR,this.sendPromise_=new Promise(Q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nr.ABORT,Q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nr.NETWORK_ERROR,Q()}),this.xhr_.addEventListener("load",()=>{Q()})})}send(Q,we,Oe,Je){if(this.sent_)throw Vt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(we,Q,!0),void 0!==Je)for(const mt in Je)Je.hasOwnProperty(mt)&&this.xhr_.setRequestHeader(mt,Je[mt].toString());return void 0!==Oe?this.xhr_.send(Oe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Q){return this.xhr_.getResponseHeader(Q)}addUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Q)}removeUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Q)}}class Ps extends Qi{initXhr(){this.xhr_.responseType="text"}}function is(){return Tr?Tr():new Ps}class si{constructor(Q,we,Oe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Q,this._blob=we,this._metadata=Oe,this._mappings=vt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Je=>{if(this._request=void 0,this._chunkMultiplier=1,Je._codeEquals(ae.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const mt=this.isExponentialBackoffExpired();if(tn(Je.status,[])){if(!mt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Je=hn()}this._error=Je,this._transition("error")}},this._metadataErrorHandler=Je=>{this._request=void 0,Je._codeEquals(ae.CANCELED)?this.completeTransitions_():(this._error=Je,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Je,mt)=>{this._resolve=Je,this._reject=mt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Q=this._transferred;return we=>this._updateProgress(Q+we)}_shouldDoResumable(Q){return Q.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Q){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([we,Oe])=>{switch(this._state){case"running":Q(we,Oe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Q,we)=>{const Oe=function Z(ee,Q,we,Oe,Je){const mt=Q.bucketOnlyServerUrl(),Yt=Mi(Q,Oe,Je),Dn={name:Yt.fullPath},yn=Rt(mt,ee.host,ee._protocol),wr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Oe.size()}`,"X-Goog-Upload-Header-Content-Type":Yt.contentType,"Content-Type":"application/json; charset=utf-8"},Fn=wi(Yt,we),Br=new re(yn,"POST",function Un(vr){let Ai;nn(vr);try{Ai=vr.getResponseHeader("X-Goog-Upload-URL")}catch{_e(!1)}return _e(Ee(Ai)),Ai},ee.maxUploadRetryTime);return Br.urlParams=Dn,Br.headers=wr,Br.body=Fn,Br.errorHandler=ln(Q),Br}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Je=this._ref.storage._makeRequest(Oe,is,Q,we);this._request=Je,Je.getPromise().then(mt=>{this._request=void 0,this._uploadUrl=mt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Q=this._uploadUrl;this._resolveToken((we,Oe)=>{const Je=function fe(ee,Q,we,Oe){const yn=new re(we,"POST",function mt(Jn){const wr=nn(Jn,["active","final"]);let Fn=null;try{Fn=Jn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{_e(!1)}Fn||_e(!1);const Sn=Number(Fn);return _e(!isNaN(Sn)),new Ce(Sn,Oe.size(),"final"===wr)},ee.maxUploadRetryTime);return yn.headers={"X-Goog-Upload-Command":"query"},yn.errorHandler=ln(Q),yn}(this._ref.storage,this._ref._location,Q,this._blob),mt=this._ref.storage._makeRequest(Je,is,we,Oe);this._request=mt,mt.getPromise().then(Yt=>{this._request=void 0,this._updateProgress(Yt.current),this._needToFetchStatus=!1,Yt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Q=262144*this._chunkMultiplier,we=new Ce(this._transferred,this._blob.size()),Oe=this._uploadUrl;this._resolveToken((Je,mt)=>{let Yt;try{Yt=function zt(ee,Q,we,Oe,Je,mt,Yt,Dn){const yn=new Ce(0,0);if(Yt?(yn.current=Yt.current,yn.total=Yt.total):(yn.current=0,yn.total=Oe.size()),Oe.size()!==yn.total)throw function Dt(){return new te(ae.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Jn=yn.total-yn.current;let wr=Jn;Je>0&&(wr=Math.min(wr,Je));const Fn=yn.current;let Un="";Un=0===wr?"finalize":Jn===wr?"upload, finalize":"upload";const Br={"X-Goog-Upload-Command":Un,"X-Goog-Upload-Offset":`${yn.current}`},vr=Oe.slice(Fn,Fn+wr);if(null===vr)throw it();const Cr=new re(we,"POST",function Ai(Xr,li){const Nr=nn(Xr,["active","final"]),Ys=yn.current+wr,Zi=Oe.size();let Xs;return Xs="final"===Nr?st(Q,mt)(Xr,li):null,new Ce(Ys,Zi,"final"===Nr,Xs)},Q.maxUploadRetryTime);return Cr.headers=Br,Cr.body=vr.uploadData(),Cr.progressCallback=Dn||null,Cr.errorHandler=ln(ee),Cr}(this._ref._location,this._ref.storage,Oe,this._blob,Q,this._mappings,we,this._makeProgressCallback())}catch(yn){return this._error=yn,void this._transition("error")}const Dn=this._ref.storage._makeRequest(Yt,is,Je,mt,!1);this._request=Dn,Dn.getPromise().then(yn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(yn.current),yn.finalized?(this._metadata=yn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Q,we)=>{const Oe=pr(this._ref.storage,this._ref._location,this._mappings),Je=this._ref.storage._makeRequest(Oe,is,Q,we);this._request=Je,Je.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Q,we)=>{const Oe=function vi(ee,Q,we,Oe,Je){const mt=Q.bucketOnlyServerUrl(),Yt={"X-Goog-Upload-Protocol":"multipart"},yn=function Dn(){let Cr="";for(let Xr=0;Xr<2;Xr++)Cr+=Math.random().toString().slice(2);return Cr}();Yt["Content-Type"]="multipart/related; boundary="+yn;const Jn=Mi(Q,Oe,Je),wr=wi(Jn,we),Un=ei.getBlob("--"+yn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wr+"\r\n--"+yn+"\r\nContent-Type: "+Jn.contentType+"\r\n\r\n",Oe,"\r\n--"+yn+"--");if(null===Un)throw it();const Br={name:Jn.fullPath},vr=Rt(mt,ee.host,ee._protocol),Ji=ee.maxUploadRetryTime,Ni=new re(vr,"POST",st(ee,we),Ji);return Ni.urlParams=Br,Ni.headers=Yt,Ni.body=Un.uploadData(),Ni.errorHandler=ln(Q),Ni}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Je=this._ref.storage._makeRequest(Oe,is,Q,we);this._request=Je,Je.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Q){const we=this._transferred;this._transferred=Q,this._transferred!==we&&this._notifyObservers()}_transition(Q){if(this._state!==Q)switch(Q){case"canceling":case"pausing":this._state=Q,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const we="paused"===this._state;this._state=Q,we&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Q,this._notifyObservers();break;case"canceled":this._error=Ge(),this._state=Q,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Q=dr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Q,metadata:this._metadata,task:this,ref:this._ref}}on(Q,we,Oe,Je){const mt=new jr(we||void 0,Oe||void 0,Je||void 0);return this._addObserver(mt),()=>{this._removeObserver(mt)}}then(Q,we){return this._promise.then(Q,we)}catch(Q){return this.then(null,Q)}_addObserver(Q){this._observers.push(Q),this._notifyObserver(Q)}_removeObserver(Q){const we=this._observers.indexOf(Q);-1!==we&&this._observers.splice(we,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(we=>{this._notifyObserver(we)})}_finishPromise(){if(void 0!==this._resolve){let Q=!0;switch(dr(this._state)){case Rn.SUCCESS:Kr(this._resolve.bind(null,this.snapshot))();break;case Rn.CANCELED:case Rn.ERROR:Kr(this._reject.bind(null,this._error))();break;default:Q=!1}Q&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Q){switch(dr(this._state)){case Rn.RUNNING:case Rn.PAUSED:Q.next&&Kr(Q.next.bind(Q,this.snapshot))();break;case Rn.SUCCESS:Q.complete&&Kr(Q.complete.bind(Q))();break;default:Q.error&&Kr(Q.error.bind(Q,this._error))()}}resume(){const Q="paused"===this._state||"pausing"===this._state;return Q&&this._transition("running"),Q}pause(){const Q="running"===this._state;return Q&&this._transition("pausing"),Q}cancel(){const Q="running"===this._state||"pausing"===this._state;return Q&&this._transition("canceling"),Q}}class ss{constructor(Q,we){this._service=Q,this._location=we instanceof Wt?we:Wt.makeFromUrl(we,Q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Q,we){return new ss(Q,we)}get root(){const Q=new Wt(this._location.bucket,"");return this._newRef(this._service,Q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pi(this._location.path)}get storage(){return this._service}get parent(){const Q=function Er(ee){if(0===ee.length)return null;const Q=ee.lastIndexOf("/");return-1===Q?"":ee.slice(0,Q)}(this._location.path);if(null===Q)return null;const we=new Wt(this._location.bucket,Q);return new ss(this._service,we)}_throwIfRoot(Q){if(""===this._location.path)throw lr(Q)}}function Vo(ee,Q,we){return fi.apply(this,arguments)}function fi(){return(fi=(0,a.A)(function*(ee,Q,we){const Je=yield La(ee,{pageToken:we});Q.prefixes.push(...Je.prefixes),Q.items.push(...Je.items),null!=Je.nextPageToken&&(yield Vo(ee,Q,Je.nextPageToken))})).apply(this,arguments)}function La(ee,Q){null!=Q&&"number"==typeof Q.maxResults&&Qe("options.maxResults",1,1e3,Q.maxResults);const we=Q||{},Oe=on(ee.storage,ee._location,"/",we.pageToken,we.maxResults);return ee.storage.makeRequestWithTokens(Oe,is)}function va(ee){ee._throwIfRoot("getDownloadURL");const Q=function ur(ee,Q,we){const Je=Rt(Q.fullServerUrl(),ee.host,ee._protocol),Yt=ee.maxOperationRetryTime,Dn=new re(Je,"GET",function sn(ee,Q){return function we(Oe,Je){const mt=Fr(ee,Je,Q);return _e(null!==mt),function br(ee,Q,we,Oe){const Je=tr(Q);if(null===Je||!Ee(Je.downloadTokens))return null;const mt=Je.downloadTokens;if(0===mt.length)return null;const Yt=encodeURIComponent;return mt.split(",").map(Jn=>{const Fn=ee.fullPath;return Rt("/b/"+Yt(ee.bucket)+"/o/"+Yt(Fn),we,Oe)+wn({alt:"media",token:Jn})})[0]}(mt,Je,ee.host,ee._protocol)}}(ee,we),Yt);return Dn.errorHandler=An(Q),Dn}(ee.storage,ee._location,vt());return ee.storage.makeRequestWithTokens(Q,is).then(we=>{if(null===we)throw function Mt(){return new te(ae.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return we})}function Yr(ee,Q){const we=function zn(ee,Q){const we=Q.split("/").filter(Oe=>Oe.length>0).join("/");return 0===ee.length?we:ee+"/"+we}(ee._location.path,Q),Oe=new Wt(ee._location.bucket,we);return new ss(ee.storage,Oe)}function bo(ee,Q){if(ee instanceof Si){const we=ee;if(null==we._bucket)throw function Ye(){return new te(ae.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Se+"' property when initializing the app?")}();const Oe=new ss(we,we._bucket);return null!=Q?bo(Oe,Q):Oe}return void 0!==Q?Yr(ee,Q):ee}function Rs(ee,Q){if(Q&&function js(ee){return/^[A-Za-z]+:\/\//.test(ee)}(Q)){if(ee instanceof Si)return function Ms(ee,Q){return new ss(ee,Q)}(ee,Q);throw en("To use ref(service, url), the first argument must be a Storage instance.")}return bo(ee,Q)}function xr(ee,Q){const we=Q?.[Se];return null==we?null:Wt.makeFromBucketSpec(we,ee)}class Si{constructor(Q,we,Oe,Je,mt){this.app=Q,this._authProvider=we,this._appCheckProvider=Oe,this._url=Je,this._firebaseVersion=mt,this._bucket=null,this._host=ge,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Je?Wt.makeFromBucketSpec(Je,this._host):xr(this._host,this.app.options)}get host(){return this._host}set host(Q){this._host=Q,this._bucket=null!=this._url?Wt.makeFromBucketSpec(this._url,Q):xr(Q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Q){Qe("time",0,Number.POSITIVE_INFINITY,Q),this._maxUploadRetryTime=Q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Q){Qe("time",0,Number.POSITIVE_INFINITY,Q),this._maxOperationRetryTime=Q}_getAuthToken(){var Q=this;return(0,a.A)(function*(){if(Q._overrideAuthToken)return Q._overrideAuthToken;const we=Q._authProvider.getImmediate({optional:!0});if(we){const Oe=yield we.getToken();if(null!==Oe)return Oe.accessToken}return null})()}_getAppCheckToken(){var Q=this;return(0,a.A)(function*(){const we=Q._appCheckProvider.getImmediate({optional:!0});return we?(yield we.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Q=>Q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Q){return new ss(this,Q)}_makeRequest(Q,we,Oe,Je,mt=!0){if(this._deleted)return new ut(mn());{const Yt=function _r(ee,Q,we,Oe,Je,mt,Yt=!0){const Dn=wn(ee.urlParams),yn=ee.url+Dn,Jn=Object.assign({},ee.headers);return function $t(ee,Q){Q&&(ee["X-Firebase-GMPID"]=Q)}(Jn,Q),function Hn(ee,Q){null!==Q&&Q.length>0&&(ee.Authorization="Firebase "+Q)}(Jn,we),function Nn(ee,Q){ee["X-Firebase-Storage-Version"]="webjs/"+(Q??"AppManager")}(Jn,mt),function kt(ee,Q){null!==Q&&(ee["X-Firebase-AppCheck"]=Q)}(Jn,Oe),new Vn(yn,ee.method,Jn,ee.body,ee.successCodes,ee.additionalRetryCodes,ee.handler,ee.errorHandler,ee.timeout,ee.progressCallback,Je,Yt)}(Q,this._appId,Oe,Je,we,this._firebaseVersion,mt);return this._requests.add(Yt),Yt.getPromise().then(()=>this._requests.delete(Yt),()=>this._requests.delete(Yt)),Yt}}makeRequestWithTokens(Q,we){var Oe=this;return(0,a.A)(function*(){const[Je,mt]=yield Promise.all([Oe._getAuthToken(),Oe._getAppCheckToken()]);return Oe._makeRequest(Q,we,Je,mt).getPromise()})()}}const Is="@firebase/storage",os="storage";function Bs(ee,Q,we){return function Li(ee,Q,we){return ee._throwIfRoot("uploadBytesResumable"),new si(ee,new ei(Q),we)}(ee=(0,i.Ku)(ee),Q,we)}function ai(ee){return function Za(ee){ee._throwIfRoot("getMetadata");const Q=pr(ee.storage,ee._location,vt());return ee.storage.makeRequestWithTokens(Q,is)}(ee=(0,i.Ku)(ee))}function pn(ee,Q){return function Ri(ee,Q){ee._throwIfRoot("updateMetadata");const we=function Ts(ee,Q,we,Oe){const mt=Rt(Q.fullServerUrl(),ee.host,ee._protocol),Dn=wi(we,Oe),Jn=ee.maxOperationRetryTime,wr=new re(mt,"PATCH",st(ee,Oe),Jn);return wr.headers={"Content-Type":"application/json; charset=utf-8"},wr.body=Dn,wr.errorHandler=An(Q),wr}(ee.storage,ee._location,Q,vt());return ee.storage.makeRequestWithTokens(we,is)}(ee=(0,i.Ku)(ee),Q)}function Ln(ee,Q){return La(ee=(0,i.Ku)(ee),Q)}function Wn(ee){return function lo(ee){const Q={prefixes:[],items:[]};return Vo(ee,Q).then(()=>Q)}(ee=(0,i.Ku)(ee))}function ci(ee){return va(ee=(0,i.Ku)(ee))}function ti(ee){return function qs(ee){ee._throwIfRoot("deleteObject");const Q=function yi(ee,Q){const Oe=Rt(Q.fullServerUrl(),ee.host,ee._protocol),Dn=new re(Oe,"DELETE",function Yt(yn,Jn){},ee.maxOperationRetryTime);return Dn.successCodes=[200,204],Dn.errorHandler=An(Q),Dn}(ee.storage,ee._location);return ee.storage.makeRequestWithTokens(Q,is)}(ee=(0,i.Ku)(ee))}function Oi(ee,Q){return Rs(ee=(0,i.Ku)(ee),Q)}function hs(ee,Q){return Yr(ee,Q)}function Rr(ee=(0,de.getApp)(),Q){ee=(0,i.Ku)(ee);const Oe=(0,de._getProvider)(ee,os).getImmediate({identifier:Q}),Je=(0,i.yU)("storage");return Je&&Bi(Oe,...Je),Oe}function Bi(ee,Q,we,Oe={}){!function oi(ee,Q,we,Oe={}){ee.host=`${Q}:${we}`,ee._protocol="http";const{mockUserToken:Je}=Oe;Je&&(ee._overrideAuthToken="string"==typeof Je?Je:(0,i.Fy)(Je,ee.app.options.projectId))}(ee,Q,we,Oe)}function zi(ee,{instanceIdentifier:Q}){const we=ee.getProvider("app").getImmediate(),Oe=ee.getProvider("auth-internal"),Je=ee.getProvider("app-check-internal");return new Si(we,Oe,Je,Q,de.SDK_VERSION)}!function Os(){(0,de._registerComponent)(new Ie.uA(os,zi,"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Is,"0.13.2",""),(0,de.registerVersion)(Is,"0.13.2","esm2017")}()},1076:(rn,Ze,j)=>{j.d(Ze,{Am:()=>Gn,Bd:()=>en,FA:()=>Qe,Fy:()=>it,I9:()=>an,Im:()=>cn,Ku:()=>Et,Ll:()=>De,T9:()=>be,Uj:()=>Ne,XA:()=>et,ZQ:()=>Dt,bD:()=>Zn,c1:()=>lr,cY:()=>Ye,eX:()=>Ae,g:()=>rt,gR:()=>kt,hp:()=>Ur,jZ:()=>Mt,lT:()=>ut,lV:()=>Vt,mS:()=>je,nr:()=>Jt,p7:()=>mn,sr:()=>xt,tD:()=>Zr,u:()=>te,yU:()=>Ge,zW:()=>Be,zw:()=>pe});const Ie=function($){const M=[];let k=0;for(let re=0;re<$.length;re++){let _e=$.charCodeAt(re);_e<128?M[k++]=_e:_e<2048?(M[k++]=_e>>6|192,M[k++]=63&_e|128):55296==(64512&_e)&&re+1<$.length&&56320==(64512&$.charCodeAt(re+1))?(_e=65536+((1023&_e)<<10)+(1023&$.charCodeAt(++re)),M[k++]=_e>>18|240,M[k++]=_e>>12&63|128,M[k++]=_e>>6&63|128,M[k++]=63&_e|128):(M[k++]=_e>>12|224,M[k++]=_e>>6&63|128,M[k++]=63&_e|128)}return M},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,M){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let _e=0;_e<$.length;_e+=3){const st=$[_e],At=_e+1<$.length,sn=At?$[_e+1]:0,ln=_e+2<$.length,An=ln?$[_e+2]:0;let Lr=(15&sn)<<2|An>>6,ur=63&An;ln||(ur=64,At||(Lr=64)),re.push(k[st>>2],k[(3&st)<<4|sn>>4],k[Lr],k[ur])}return re.join("")},encodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa($):this.encodeByteArray(Ie($),M)},decodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?atob($):function($){const M=[];let k=0,re=0;for(;k<$.length;){const _e=$[k++];if(_e<128)M[re++]=String.fromCharCode(_e);else if(_e>191&&_e<224){const st=$[k++];M[re++]=String.fromCharCode((31&_e)<<6|63&st)}else if(_e>239&&_e<365){const ln=((7&_e)<<18|(63&$[k++])<<12|(63&$[k++])<<6|63&$[k++])-65536;M[re++]=String.fromCharCode(55296+(ln>>10)),M[re++]=String.fromCharCode(56320+(1023&ln))}else{const st=$[k++],At=$[k++];M[re++]=String.fromCharCode((15&_e)<<12|(63&st)<<6|63&At)}}return M.join("")}(this.decodeStringToByteArray($,M))},decodeStringToByteArray($,M){this.init_();const k=M?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let _e=0;_e<$.length;){const st=k[$.charAt(_e++)],sn=_e<$.length?k[$.charAt(_e)]:0;++_e;const An=_e<$.length?k[$.charAt(_e)]:64;++_e;const on=_e<$.length?k[$.charAt(_e)]:64;if(++_e,null==st||null==sn||null==An||null==on)throw new xe;re.push(st<<2|sn>>4),64!==An&&(re.push(sn<<4&240|An>>2),64!==on&&re.push(An<<6&192|on))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ne=function($){return function($){const M=Ie($);return Se.encodeByteArray(M,!0)}($).replace(/\./g,"")},te=function($){try{return Se.decodeString($,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function pe($,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return M}for(const k in M)!M.hasOwnProperty(k)||!ct(k)||($[k]=pe($[k],M[k]));return $}function ct($){return"__proto__"!==$}function je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Pt=()=>{try{return je().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=$&&te($[1]);return M&&JSON.parse(M)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Ge=$=>{const M=($=>{var M,k;return null===(k=null===(M=Pt())||void 0===M?void 0:M.emulatorHosts)||void 0===k?void 0:k[$]})($);if(!M)return;const k=M.lastIndexOf(":");if(k<=0||k+1===M.length)throw new Error(`Invalid host ${M} with no separate hostname and port!`);const re=parseInt(M.substring(k+1),10);return"["===M[0]?[M.substring(1,k-1),re]:[M.substring(0,k),re]},be=()=>{var $;return null===($=Pt())||void 0===$?void 0:$.config},et=$=>{var M;return null===(M=Pt())||void 0===M?void 0:M[`_${$}`]};class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,k)=>{this.resolve=M,this.reject=k})}wrapCallback(M){return(k,re)=>{k?this.reject(k):this.resolve(re),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(k):M(k,re))}}}function it($,M){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const re=M||"demo-project",_e=$.iat||0,st=$.sub||$.user_id;if(!st)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const At=Object.assign({iss:`https://securetoken.google.com/${re}`,aud:re,iat:_e,exp:_e+3600,auth_time:_e,sub:st,user_id:st,firebase:{sign_in_provider:"custom",identities:{}}},$);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(At)),""].join(".")}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function De(){var $;const M=null===($=Pt())||void 0===$?void 0:$.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function en(){return typeof window<"u"||mn()}function mn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function lr(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function xt(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ut(){const $=Dt();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Jt(){return!De()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){try{return"object"==typeof indexedDB}catch{return!1}}function Ae(){return new Promise(($,M)=>{try{let k=!0;const re="validate-browser-context-for-indexeddb-analytics-module",_e=self.indexedDB.open(re);_e.onsuccess=()=>{_e.result.close(),k||self.indexedDB.deleteDatabase(re),$(!0)},_e.onupgradeneeded=()=>{k=!1},_e.onerror=()=>{var st;M((null===(st=_e.error)||void 0===st?void 0:st.message)||"")}}catch(k){M(k)}})}class rt extends Error{constructor(M,k,re){super(k),this.code=M,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(M,k,re){this.service=M,this.serviceName=k,this.errors=re}create(M,...k){const re=k[0]||{},_e=`${this.service}/${M}`,st=this.errors[M],At=st?function Rt($,M){return $.replace(wn,(k,re)=>{const _e=M[re];return null!=_e?String(_e):`<${re}?>`})}(st,re):"Error";return new rt(_e,`${this.serviceName}: ${At} (${_e}).`,re)}}const wn=/\{\$([^}]+)}/g;function kt($,M){return Object.prototype.hasOwnProperty.call($,M)}function cn($){for(const M in $)if(Object.prototype.hasOwnProperty.call($,M))return!1;return!0}function Zn($,M){if($===M)return!0;const k=Object.keys($),re=Object.keys(M);for(const _e of k){if(!re.includes(_e))return!1;const st=$[_e],At=M[_e];if(Ut(st)&&Ut(At)){if(!Zn(st,At))return!1}else if(st!==At)return!1}for(const _e of re)if(!k.includes(_e))return!1;return!0}function Ut($){return null!==$&&"object"==typeof $}function Gn($){const M=[];for(const[k,re]of Object.entries($))Array.isArray(re)?re.forEach(_e=>{M.push(encodeURIComponent(k)+"="+encodeURIComponent(_e))}):M.push(encodeURIComponent(k)+"="+encodeURIComponent(re));return M.length?"&"+M.join("&"):""}function an($){const M={};return $.replace(/^\?/,"").split("&").forEach(re=>{if(re){const[_e,st]=re.split("=");M[decodeURIComponent(_e)]=decodeURIComponent(st)}}),M}function Ur($){const M=$.indexOf("?");if(!M)return"";const k=$.indexOf("#",M);return $.substring(M,k>0?k:void 0)}function Zr($,M){const k=new qn($,M);return k.subscribe.bind(k)}class qn{constructor(M,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{M(this)}).catch(re=>{this.error(re)})}next(M){this.forEachObserver(k=>{k.next(M)})}error(M){this.forEachObserver(k=>{k.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,k,re){let _e;if(void 0===M&&void 0===k&&void 0===re)throw new Error("Missing Observer.");_e=function ys($,M){if("object"!=typeof $||null===$)return!1;for(const k of M)if(k in $&&"function"==typeof $[k])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:k,complete:re},void 0===_e.next&&(_e.next=fn),void 0===_e.error&&(_e.error=fn),void 0===_e.complete&&(_e.complete=fn);const st=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_e.error(this.finalError):_e.complete()}catch{}}),this.observers.push(_e),st}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,M)}sendOne(M,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{k(this.observers[M])}catch(re){typeof console<"u"&&console.error&&console.error(re)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fn(){}function Et($){return $&&$._delegate?$._delegate:$}},3739:(rn,Ze,j)=>{j.d(Ze,{W:()=>ae});var a=j(7705),de=j(345),i=j(177);function Ie(pe,ct){if(1&pe&&a.nrm(0,"img",7),2&pe){const je=a.XpG(2);a.Y8G("src",je.imageURL,a.B4B)}}function ge(pe,ct){1&pe&&(a.j41(0,"button",8),a.EFF(1,"Schedule A Visit"),a.k0s())}function Se(pe,ct){if(1&pe&&(a.j41(0,"div",2),a.DNE(1,Ie,1,1,"img",3),a.j41(2,"h2",4),a.EFF(3),a.k0s(),a.nrm(4,"h4",5),a.DNE(5,ge,2,0,"button",6),a.k0s()),2&pe){const je=a.XpG();a.Y8G("ngClass",je.themeType),a.R7$(1),a.Y8G("ngIf",je.imageURL&&je.showImage),a.R7$(2),a.JRh(je.title),a.R7$(1),a.Y8G("innerHTML",je.sanitizedContent,a.npT),a.R7$(1),a.Y8G("ngIf",je.showBtn)}}function xe(pe,ct){if(1&pe&&a.nrm(0,"img",7),2&pe){const je=a.XpG(2);a.Y8G("src",je.imageURL,a.B4B)}}function Le(pe,ct){if(1&pe&&(a.j41(0,"span"),a.EFF(1),a.k0s()),2&pe){const je=a.XpG(2);a.R7$(1),a.SpI(" ",je.titleParts.part2,"")}}function Ne(pe,ct){1&pe&&(a.j41(0,"button",8),a.EFF(1,"Schedule A Visit"),a.k0s())}function te(pe,ct){if(1&pe&&(a.j41(0,"div",9),a.DNE(1,xe,1,1,"img",3),a.j41(2,"div",10)(3,"h3"),a.EFF(4),a.k0s(),a.j41(5,"h2"),a.DNE(6,Le,2,1,"span",11),a.k0s(),a.nrm(7,"div",12)(8,"p",5),a.k0s(),a.DNE(9,Ne,2,0,"button",6),a.k0s()),2&pe){const je=a.XpG();a.Y8G("ngClass",je.themeType),a.R7$(1),a.Y8G("ngIf",je.imageURL&&je.showImage),a.R7$(3),a.SpI(" ",je.titleParts.part1,""),a.R7$(2),a.Y8G("ngIf",je.titleParts.part2),a.R7$(2),a.Y8G("innerHTML",je.sanitizedContent,a.npT),a.R7$(1),a.Y8G("ngIf",je.showBtn)}}let ae=(()=>{class pe{constructor(je){this.sanitizer=je,this.showBtn=!1,this.showImage=!1}set content(je){this._content=je,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(je)}get titleParts(){if(this.title.includes("|")){const[je,It]=this.title.split("|").map(wt=>wt.trim());return{part1:je,part2:It}}return{part1:this.title,part2:null}}get content(){return this._content}static{this.\u0275fac=function(It){return new(It||pe)(a.rXU(de.up))}}static{this.\u0275cmp=a.VBU({type:pe,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",content:"content"},decls:2,vars:2,consts:[["class","center-text-section",3,"ngClass",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass",4,"ngIf"],[1,"center-text-section",3,"ngClass"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],[1,"center-text-description",3,"innerHTML"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass"],[1,"text-container"],[4,"ngIf"],[1,"separator2"]],template:function(It,wt){1&It&&(a.DNE(0,Se,6,5,"div",0),a.DNE(1,te,10,6,"div",1)),2&It&&(a.Y8G("ngIf","clemo"!=wt.themeType),a.R7$(1),a.Y8G("ngIf","clemo"==wt.themeType))},dependencies:[i.YU,i.bT],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-section-clemo[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}.clemo-center-title[_ngcontent-%COMP%]{padding-bottom:3rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}"]})}}return pe})()},3711:(rn,Ze,j)=>{j.d(Ze,{a:()=>Se});var a=j(7705),de=j(4710),i=j(177);function Ie(xe,Le){1&xe&&(a.qex(0),a.nrm(1,"div",3),a.bVm())}function ge(xe,Le){1&xe&&(a.qex(0),a.nrm(1,"div",4),a.bVm())}let Se=(()=>{class xe{constructor(Ne){this.googleMapsLoader=Ne,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Ne=>{console.error("Error loading Google Maps script:",Ne)})}ngOnChanges(Ne){Ne.address&&!Ne.address.firstChange&&this.showAddressOnMap(Ne.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Ne){this.geocoder.geocode({address:Ne},(te,ae)=>{if("OK"===ae){this.map.setCenter(te[0].geometry.location);const pe=new google.maps.LatLngBounds;pe.extend(te[0].geometry.location),this.map.fitBounds(pe),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:te[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+ae)})}getZoomLevel(Ne){document.getElementById("map");const pe=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Ne*pe)))}static{this.\u0275fac=function(te){return new(te||xe)(a.rXU(de.L))}}static{this.\u0275cmp=a.VBU({type:xe,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[a.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(te,ae){1&te&&(a.j41(0,"div",0),a.qex(1),a.DNE(2,Ie,2,0,"ng-container",1),a.DNE(3,ge,2,0,"ng-container",2),a.bVm(),a.k0s()),2&te&&(a.Y8G("ngSwitch",ae.layoutType),a.R7$(2),a.Y8G("ngSwitchCase","clemo"))},dependencies:[i.ux,i.e1,i.fG]})}}return xe})()},491:(rn,Ze,j)=>{j.d(Ze,{G:()=>Se});var a=j(7705),de=j(177);function i(xe,Le){if(1&xe&&(a.j41(0,"section",2)(1,"div",3)(2,"h2"),a.EFF(3),a.k0s(),a.j41(4,"h4"),a.EFF(5),a.k0s()(),a.j41(6,"div",4),a.nrm(7,"img",5),a.k0s()()),2&xe){const Ne=a.XpG();a.R7$(3),a.JRh(Ne.title),a.R7$(2),a.JRh(Ne.content),a.R7$(2),a.FS9("src",Ne.imageURL,a.B4B),a.FS9("alt",Ne.title)}}function Ie(xe,Le){if(1&xe&&(a.j41(0,"span"),a.EFF(1),a.k0s()),2&xe){const Ne=a.XpG(2);a.R7$(1),a.SpI(" ",Ne.titleParts.part2,"")}}function ge(xe,Le){if(1&xe&&(a.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",3)(4,"h3"),a.EFF(5),a.k0s(),a.j41(6,"h2"),a.DNE(7,Ie,2,1,"span",9),a.k0s(),a.nrm(8,"div",10),a.j41(9,"p"),a.EFF(10),a.k0s(),a.j41(11,"a",11),a.EFF(12,"learn more"),a.k0s()(),a.j41(13,"div",12),a.nrm(14,"img",5),a.k0s()()()()),2&xe){const Ne=a.XpG();a.R7$(5),a.SpI(" ",Ne.titleParts.part1,""),a.R7$(2),a.Y8G("ngIf",Ne.titleParts.part2),a.R7$(3),a.JRh(Ne.content),a.R7$(4),a.FS9("src",Ne.imageURL,a.B4B),a.FS9("alt",Ne.title)}}let Se=(()=>{class xe{get titleParts(){if(this.title.includes("|")){const[Ne,te]=this.title.split("|").map(ae=>ae.trim());return{part1:Ne,part2:te}}return{part1:this.title,part2:null}}static{this.\u0275fac=function(te){return new(te||xe)}}static{this.\u0275cmp=a.VBU({type:xe,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL",themeType:"themeType"},decls:2,vars:2,consts:[["class","left-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],["href","#",1,"btn"],[1,"left-image-container"]],template:function(te,ae){1&te&&(a.DNE(0,i,8,4,"section",0),a.DNE(1,ge,15,5,"section",1)),2&te&&(a.Y8G("ngIf","clemo"!=ae.themeType),a.R7$(1),a.Y8G("ngIf","clemo"==ae.themeType))},dependencies:[de.bT],styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return xe})()},4593:(rn,Ze,j)=>{j.d(Ze,{F:()=>xe});var a=j(7705),de=j(345),i=j(177);function Ie(Le,Ne){if(1&Le&&(a.j41(0,"section",2)(1,"div",3),a.nrm(2,"img",4),a.k0s(),a.j41(3,"div",5)(4,"h2"),a.EFF(5),a.k0s(),a.j41(6,"h4"),a.EFF(7),a.k0s()()()),2&Le){const te=a.XpG();a.R7$(2),a.FS9("src",te.imageURL,a.B4B),a.FS9("alt",te.title),a.R7$(3),a.JRh(te.title),a.R7$(2),a.JRh(te.content)}}function ge(Le,Ne){if(1&Le&&(a.j41(0,"span"),a.EFF(1),a.k0s()),2&Le){const te=a.XpG(2);a.R7$(1),a.SpI(" ",te.titleParts.part2,"")}}function Se(Le,Ne){if(1&Le&&(a.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",9),a.nrm(4,"img",4),a.k0s(),a.j41(5,"div",5)(6,"h3"),a.EFF(7),a.k0s(),a.j41(8,"h2"),a.DNE(9,ge,2,1,"span",10),a.k0s(),a.nrm(10,"div",11),a.j41(11,"p",12),a.EFF(12),a.k0s(),a.j41(13,"a",13),a.EFF(14,"learn more"),a.k0s()()()()()),2&Le){const te=a.XpG();a.R7$(4),a.FS9("src",te.imageURL,a.B4B),a.FS9("alt",te.title),a.R7$(3),a.SpI(" ",te.titleParts.part1,""),a.R7$(2),a.Y8G("ngIf",te.titleParts.part2),a.R7$(2),a.Y8G("innerHTML",te.sanitizedContent,a.npT),a.R7$(1),a.JRh(te.content)}}let xe=(()=>{class Le{set content(te){this._content=te,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(te)}constructor(te){this.sanitizer=te}get titleParts(){if(this.title.includes("|")){const[te,ae]=this.title.split("|").map(pe=>pe.trim());return{part1:te,part2:ae}}return{part1:this.title,part2:null}}get content(){return this._content}static{this.\u0275fac=function(ae){return new(ae||Le)(a.rXU(de.up))}}static{this.\u0275cmp=a.VBU({type:Le,selectors:[["app-right-text"]],inputs:{title:"title",imageURL:"imageURL",themeType:"themeType",content:"content"},decls:2,vars:2,consts:[["class","right-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"],[3,"innerHTML"],["href","#",1,"btn"]],template:function(ae,pe){1&ae&&(a.DNE(0,Ie,8,4,"section",0),a.DNE(1,Se,15,6,"section",1)),2&ae&&(a.Y8G("ngIf","clemo"!=pe.themeType),a.R7$(1),a.Y8G("ngIf","clemo"==pe.themeType))},dependencies:[i.bT],styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return Le})()},3349:(rn,Ze,j)=>{j.d(Ze,{N:()=>de});var a=j(7705);let de=(()=>{class i{static{this.\u0275fac=function(Se){return new(Se||i)}}static{this.\u0275cmp=a.VBU({type:i,selectors:[["app-section-tilte"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"center-text-section"],[1,"center-text-title"]],template:function(Se,xe){1&Se&&(a.j41(0,"div",0)(1,"h2",1),a.EFF(2),a.k0s()()),2&Se&&(a.R7$(2),a.JRh(xe.title))},styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}"]})}}return i})()},3345:(rn,Ze,j)=>{j.d(Ze,{B:()=>vi});var a=j(7705),de=j(6814),i=j(6861),Ie=j(923),ge=j(177);function Se(Ce,nn){if(1&Ce&&(a.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),a.EFF(5),a.k0s(),a.j41(6,"strong"),a.EFF(7),a.k0s()()()()()),2&Ce){const Z=nn.$implicit;a.R7$(5),a.SpI('" ',Z.quote,' "'),a.R7$(2),a.JRh(Z.name)}}function xe(Ce,nn){if(1&Ce&&(a.qex(0),a.j41(1,"section",3)(2,"div",4)(3,"span",5),a.EFF(4,"Testimonials"),a.k0s()(),a.j41(5,"div",6),a.DNE(6,Se,8,2,"div",7),a.k0s()(),a.bVm()),2&Ce){const Z=a.XpG();a.R7$(6),a.Y8G("ngForOf",Z.testimonials)}}function Le(Ce,nn){if(1&Ce&&(a.j41(0,"div",21)(1,"div",22)(2,"div",23),a.EFF(3,"\u275d"),a.k0s(),a.j41(4,"p",24),a.EFF(5),a.k0s(),a.j41(6,"h4",25),a.EFF(7),a.k0s()()()),2&Ce){const Z=nn.$implicit;a.R7$(5),a.JRh(Z.quote),a.R7$(2),a.JRh(Z.name)}}function Ne(Ce,nn){if(1&Ce&&(a.qex(0),a.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),a.EFF(5,"Word of mouth"),a.k0s(),a.j41(6,"p",15),a.EFF(7,"You should hear what people have to say about us"),a.k0s()(),a.j41(8,"div",16)(9,"div",17),a.DNE(10,Le,8,2,"div",18),a.nI1(11,"slice"),a.k0s(),a.j41(12,"div",19)(13,"button",20),a.EFF(14," View All Testimonials "),a.k0s()()()()(),a.bVm()),2&Ce){const Z=a.XpG();a.R7$(10),a.Y8G("ngForOf",a.brH(11,1,Z.testimonials,0,4))}}function te(Ce,nn){if(1&Ce&&(a.j41(0,"div",36)(1,"p",37),a.EFF(2),a.k0s(),a.j41(3,"div",38)(4,"span"),a.EFF(5),a.k0s()()()),2&Ce){const Z=nn.$implicit,fe=nn.index,He=a.XpG(3);a.AVh("active",He.currentIndex===fe)("inactive",He.currentIndex!==fe),a.R7$(2),a.SpI("\u201c",Z.quote,"\u201d"),a.R7$(3),a.JRh(Z.name)}}function ae(Ce,nn){if(1&Ce){const Z=a.RV6();a.j41(0,"button",39),a.bIt("click",function(){const zt=a.eBV(Z).index,Cn=a.XpG(3);return a.Njj(Cn.setSlide(zt))}),a.k0s()}if(2&Ce){const Z=nn.index,fe=a.XpG(3);a.AVh("active",fe.currentIndex===Z)}}function pe(Ce,nn){if(1&Ce&&(a.j41(0,"div",30)(1,"div",31),a.DNE(2,te,6,6,"div",32),a.k0s(),a.j41(3,"div",33),a.DNE(4,ae,1,2,"button",34),a.k0s(),a.j41(5,"div",35)(6,"button",20),a.EFF(7," View All Testimonials "),a.k0s()()()),2&Ce){const Z=a.XpG(2);a.R7$(1),a.xc7("transform","translateX(-"+100*Z.currentIndex+"%)"),a.R7$(1),a.Y8G("ngForOf",Z.testimonials),a.R7$(2),a.Y8G("ngForOf",Z.testimonials)}}function ct(Ce,nn){if(1&Ce&&(a.qex(0),a.j41(1,"div",11)(2,"section",26)(3,"div",27)(4,"h2",28),a.EFF(5,"Testimonials"),a.k0s()(),a.DNE(6,pe,8,4,"div",29),a.k0s()(),a.bVm()),2&Ce){const Z=a.XpG();a.R7$(6),a.Y8G("ngIf",Z.testimonials&&Z.testimonials.length>0)}}function je(Ce,nn){if(1&Ce&&(a.j41(0,"div",47)(1,"div",48),a.nrm(2,"div",49),a.j41(3,"p",50),a.EFF(4),a.k0s()(),a.j41(5,"div",51)(6,"p",52),a.EFF(7),a.k0s()()()),2&Ce){const Z=nn.$implicit;a.R7$(4),a.JRh(Z.quote),a.R7$(3),a.JRh(Z.name)}}function It(Ce,nn){if(1&Ce&&(a.qex(0),a.j41(1,"section",40)(2,"div",41)(3,"h2",42),a.EFF(4,"Word of Mouth"),a.k0s(),a.j41(5,"p",43),a.EFF(6,"You should hear what people have to say about us"),a.k0s()(),a.j41(7,"div",44)(8,"div",45),a.DNE(9,je,8,2,"div",46),a.k0s()()(),a.bVm()),2&Ce){const Z=a.XpG();a.R7$(9),a.Y8G("ngForOf",Z.testimonials)}}let wt=(()=>{class Ce{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(Z){this.currentIndex=Z,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(fe){return new(fe||Ce)}}static{this.\u0275cmp=a.VBU({type:Ce,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"ehc-testimonial-comp"],[1,"ehc-testimonial-heading"],[1,"ehc-testimonial-section-heading"],["class","ehc-testimonial-carousel",4,"ngIf"],[1,"ehc-testimonial-carousel"],[1,"ehc-carousel-container"],["class","ehc-testimonial-card",3,"active","inactive",4,"ngFor","ngForOf"],[1,"ehc-carousel-indicators"],["class","ehc-indicator",3,"active","click",4,"ngFor","ngForOf"],[1,"ehc-testimonials-button"],[1,"ehc-testimonial-card"],[1,"ehc-testimonial-quote"],[1,"ehc-testimonial-author"],[1,"ehc-indicator",3,"click"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(fe,He){1&fe&&(a.j41(0,"div",0),a.DNE(1,xe,7,1,"ng-container",1),a.DNE(2,Ne,15,5,"ng-container",1),a.DNE(3,ct,7,1,"ng-container",1),a.DNE(4,It,10,1,"ng-container",2),a.k0s()),2&fe&&(a.Y8G("ngSwitch",He.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"),a.R7$(1),a.Y8G("ngSwitchCase","ehc"))},dependencies:[ge.Sq,ge.bT,ge.ux,ge.e1,ge.fG,de.Wk,ge.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return Ce})();function Ft(Ce,nn){if(1&Ce&&(a.j41(0,"div",9),a.nrm(1,"i",10),a.j41(2,"h3",11),a.EFF(3),a.k0s(),a.j41(4,"div",12)(5,"p"),a.EFF(6),a.k0s()()()),2&Ce){const Z=nn.$implicit;a.R7$(1),a.Y8G("ngClass",Z.icon),a.R7$(2),a.JRh(Z.title),a.R7$(3),a.JRh(Z.description)}}function Pt(Ce,nn){if(1&Ce&&(a.qex(0),a.j41(1,"section",2)(2,"div",3)(3,"span",4),a.EFF(4,"Our "),a.k0s(),a.j41(5,"span",5),a.EFF(6,"Services"),a.k0s()(),a.j41(7,"h3",6),a.EFF(8,"Home Care From Trained Professionals"),a.k0s(),a.j41(9,"div",7),a.DNE(10,Ft,7,3,"div",8),a.k0s()(),a.bVm()),2&Ce){const Z=a.XpG();a.R7$(10),a.Y8G("ngForOf",Z.services)}}function hn(Ce,nn){if(1&Ce&&(a.j41(0,"div",31)(1,"p"),a.EFF(2),a.k0s()()),2&Ce){const Z=a.XpG().$implicit;a.R7$(2),a.JRh(Z.description)}}function Ge(Ce,nn){if(1&Ce){const Z=a.RV6();a.j41(0,"div",26),a.bIt("click",function(){const zt=a.eBV(Z).index,Cn=a.XpG(2);return a.Njj(Cn.toggleService(zt))}),a.j41(1,"div",27)(2,"span",28),a.EFF(3),a.k0s(),a.j41(4,"span",29),a.EFF(5),a.k0s()(),a.DNE(6,hn,3,1,"div",30),a.k0s()}if(2&Ce){const Z=nn.$implicit,fe=nn.index,He=a.XpG(2);a.R7$(3),a.JRh(Z.title),a.R7$(2),a.JRh(He.expandedServiceIndex===fe?"-":"+"),a.R7$(1),a.Y8G("ngIf",He.expandedServiceIndex===fe)}}function be(Ce,nn){if(1&Ce&&(a.qex(0),a.j41(1,"section",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"span",17),a.EFF(6,"Our "),a.k0s(),a.j41(7,"span",18),a.EFF(8,"Services"),a.k0s()(),a.j41(9,"div",19),a.DNE(10,Ge,7,3,"div",20),a.k0s()(),a.j41(11,"div",21)(12,"div",22),a.nrm(13,"img",23),a.k0s(),a.j41(14,"div",24),a.nrm(15,"img",25),a.k0s()()()(),a.bVm()),2&Ce){const Z=a.XpG();a.R7$(10),a.Y8G("ngForOf",Z.services)}}let et=(()=>{class Ce{constructor(){this.layoutType="demo",this.expandedServiceIndex=null}toggleService(Z){this.expandedServiceIndex=this.expandedServiceIndex===Z?null:Z}static{this.\u0275fac=function(fe){return new(fe||Ce)}}static{this.\u0275cmp=a.VBU({type:Ce,selectors:[["app-our-services-home"]],inputs:{services:"services",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"our-services-item-description"],[1,"ae-modern-services-section"],[1,"ae-our-services-container"],[1,"ae-services-content"],[1,"ae-our-services-section-heading"],[1,"ae-our-services-title","main"],[1,"ae-our-services-title","highlight"],[1,"ae-services-list"],[3,"click",4,"ngFor","ngForOf"],[1,"ae-services-images"],[1,"ae-image-placeholder","ae-image-large"],["src","../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg","alt","Welcome Image"],[1,"ae-image-placeholder","ae-image-small"],["src","../../../assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg","alt","Welcome Image"],[3,"click"],[1,"ae-service-item"],[1,"ae-service-title"],[1,"ae-service-expand"],["class","ae-service-description",4,"ngIf"],[1,"ae-service-description"]],template:function(fe,He){1&fe&&(a.j41(0,"div",0),a.DNE(1,Pt,11,1,"ng-container",1),a.DNE(2,be,16,1,"ng-container",1),a.k0s()),2&fe&&(a.Y8G("ngSwitch",He.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[ge.YU,ge.Sq,ge.bT,ge.ux,ge.e1],styles:[".our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.ae-modern-services-section[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;background-color:var(--dark-background-color);padding:10rem 0}.ae-our-services-container[_ngcontent-%COMP%]{flex:1;max-width:1400px;display:flex;align-items:flex-start;justify-content:space-between;padding:50px;background-color:var(--dark-background-color);gap:20px}.ae-services-content[_ngcontent-%COMP%]{flex:1;max-width:50%}.ae-services-heading[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:var(--primary-color);margin-bottom:20px}.ae-our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.ae-our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-services-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.ae-service-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;font-size:1.2rem;color:var(--background-color);border-bottom:1px solid var(--primary-color);cursor:pointer}.ae-service-description[_ngcontent-%COMP%]{padding:15px;font-size:1rem;color:var(--background-color);background-color:var(--dark-background-color);border-left:3px solid var(--accent-color);margin:10px 0;transition:max-height .3s ease-in-out}.ae-service-title[_ngcontent-%COMP%]{font-weight:500;font-style:3rem}.ae-service-expand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.ae-services-images[_ngcontent-%COMP%]{flex:1;position:relative;max-width:50%;display:flex;align-items:center;justify-content:center}.ae-image-large[_ngcontent-%COMP%]{width:90%;height:550px;position:relative;z-index:1;overflow:hidden;padding-bottom:20%}.ae-image-small[_ngcontent-%COMP%]{width:60%;height:350px;position:absolute;top:70%;left:70%;transform:translate(-50%,-50%);z-index:2;overflow:hidden;padding-left:10%}.ae-image-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:15px}"]})}}return Ce})();var Ye=j(3739);function it(Ce,nn){if(1&Ce){const Z=a.RV6();a.qex(0),a.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),a.EFF(5,"We Are "),a.j41(6,"span",6),a.EFF(7),a.k0s()(),a.j41(8,"h1"),a.EFF(9),a.k0s(),a.j41(10,"p"),a.EFF(11),a.k0s(),a.j41(12,"div",7)(13,"button",8),a.bIt("click",function(){a.eBV(Z);const He=a.XpG();return a.Njj(He.navigateToContact())}),a.EFF(14,"Contact Us"),a.k0s()()()()(),a.bVm()}if(2&Ce){const Z=a.XpG();a.R7$(7),a.JRh(null==Z.business?null:Z.business.businessName),a.R7$(2),a.JRh(null==Z.business?null:Z.business.welcomeMessage),a.R7$(2),a.JRh(null==Z.business?null:Z.business.keyServicesHighlights)}}function Dt(Ce,nn){if(1&Ce&&(a.qex(0),a.nrm(1,"app-center-text",9),a.bVm()),2&Ce){const Z=a.XpG();a.R7$(1),a.Y8G("title","Discover Us")("content",(null==Z.business?null:Z.business.businessStory)||"")}}function Mt(Ce,nn){1&Ce&&a.eu8(0)}function De(Ce,nn){if(1&Ce&&(a.qex(0),a.nrm(1,"app-center-text",9),a.bVm()),2&Ce){const Z=a.XpG();a.R7$(1),a.Y8G("title","Who We Are")("content",(null==Z.business?null:Z.business.businessStory)||"")}}let en=(()=>{class Ce{constructor(Z,fe){this.router=Z,this.businessDataService=fe,this.layoutType="demo",this.businessId="",this.business=null}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.businessData$.subscribe(Z=>{Z&&(console.log("HomeComponent - Using cached business data:",Z),this.business=Z)})}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(fe){return new(fe||Ce)(a.rXU(de.Ix),a.rXU(Ie.A))}}static{this.\u0275cmp=a.VBU({type:Ce,selectors:[["app-welcome"]],inputs:{layoutType:"layoutType",businessId:"businessId"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"welcome-info-container"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[1,"buttons"],["type","button",1,"afhBtn",3,"click"],[3,"title","content"]],template:function(fe,He){1&fe&&(a.j41(0,"div",0),a.DNE(1,it,15,3,"ng-container",1),a.DNE(2,Dt,2,2,"ng-container",1),a.DNE(3,Mt,1,0,"ng-container",1),a.DNE(4,De,2,2,"ng-container",2),a.k0s()),2&fe&&(a.Y8G("ngSwitch",He.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ehc"),a.R7$(1),a.Y8G("ngSwitchCase","clemo"))},dependencies:[ge.ux,ge.e1,ge.fG,Ye.W],styles:['.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6rem}p[_ngcontent-%COMP%]{font-size:.9rem}.buttons[_ngcontent-%COMP%]{margin-top:15px}.contact-btn[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px}}.ae-welcome-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.ae-welcome-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.ae-text-content[_ngcontent-%COMP%], .ae-image-content[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.ae-image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}}return Ce})();function mn(Ce,nn){if(1&Ce){const Z=a.RV6();a.qex(0),a.j41(1,"div",2)(2,"div",3)(3,"span",4),a.EFF(4,"Book a "),a.k0s(),a.j41(5,"span",5),a.EFF(6," Consultation"),a.k0s()(),a.j41(7,"p",6),a.EFF(8," We would love to meet you! Contact us to schedule a tour. "),a.k0s(),a.j41(9,"button",7),a.bIt("click",function(){a.eBV(Z);const He=a.XpG();return a.Njj(He.navigateToContact(He.id))}),a.EFF(10,"Book Consultation"),a.k0s()(),a.bVm()}}function lr(Ce,nn){if(1&Ce){const Z=a.RV6();a.qex(0),a.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),a.EFF(6,"Ready to experience "),a.k0s(),a.j41(7,"span",13),a.EFF(8),a.k0s()(),a.j41(9,"p"),a.EFF(10,"Discover what makes our services unique and tailored to your needs."),a.k0s(),a.j41(11,"div",14)(12,"button",15),a.bIt("click",function(){a.eBV(Z);const He=a.XpG();return a.Njj(He.navigateToContact(He.id))}),a.EFF(13,"Schedule a Visit"),a.k0s()()()()(),a.bVm()}if(2&Ce){const Z=a.XpG();a.R7$(8),a.SpI("",Z.businessName,"?")}}let xt=(()=>{class Ce{constructor(Z){this.router=Z,this.id=null,this.layoutType="demo"}navigateToContact(Z){this.router.navigate(["/contact-us"],{queryParams:{id:Z}})}static{this.\u0275fac=function(fe){return new(fe||Ce)(a.rXU(de.Ix))}}static{this.\u0275cmp=a.VBU({type:Ce,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(fe,He){1&fe&&(a.j41(0,"div",0),a.DNE(1,mn,11,0,"ng-container",1),a.DNE(2,lr,14,1,"ng-container",1),a.k0s()),2&fe&&(a.Y8G("ngSwitch",He.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[ge.ux,ge.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}"]})}}return Ce})();var Vt=j(8704);function Wt(Ce,nn){if(1&Ce&&(a.j41(0,"div",10),a.nrm(1,"div",11)(2,"div",12),a.k0s()),2&Ce){const Z=nn.$implicit;a.R7$(1),a.Y8G("innerHTML",Z.name,a.npT),a.R7$(1),a.Y8G("innerHTML",Z.description,a.npT)}}function ut(Ce,nn){if(1&Ce&&(a.qex(0),a.j41(1,"section",2)(2,"div",3)(3,"span",4),a.EFF(4,"Our Unique "),a.k0s(),a.j41(5,"span",5),a.EFF(6," Features"),a.k0s()(),a.j41(7,"p",6),a.EFF(8," What sets us appart. "),a.k0s(),a.j41(9,"div",7)(10,"div",8),a.DNE(11,Wt,3,2,"div",9),a.k0s()()(),a.bVm()),2&Ce){const Z=a.XpG();a.R7$(11),a.Y8G("ngForOf",Z.uniqueService)}}function Fe(Ce,nn){1&Ce&&a.eu8(0)}let tt=(()=>{class Ce{constructor(Z,fe){this.webContent=Z,this.route=fe,this.layoutType="demo"}static{this.\u0275fac=function(fe){return new(fe||Ce)(a.rXU(Vt.N),a.rXU(de.nX))}}static{this.\u0275cmp=a.VBU({type:Ce,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(fe,He){1&fe&&(a.j41(0,"div",0),a.DNE(1,ut,12,1,"ng-container",1),a.DNE(2,Fe,1,0,"ng-container",1),a.k0s()),2&fe&&(a.Y8G("ngSwitch",He.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[ge.Sq,ge.ux,ge.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}}return Ce})();function Jt(Ce,nn){if(1&Ce&&(a.j41(0,"div",10),a.nrm(1,"div",11)(2,"div",12),a.k0s()),2&Ce){const Z=nn.$implicit;a.R7$(1),a.Y8G("innerHTML",Z.name,a.npT),a.R7$(1),a.Y8G("innerHTML",Z.description,a.npT)}}function Be(Ce,nn){if(1&Ce&&(a.qex(0),a.j41(1,"section",3)(2,"div",4)(3,"span",5),a.EFF(4,"Why Choose "),a.k0s(),a.j41(5,"span",6),a.EFF(6," US "),a.k0s()(),a.j41(7,"div",7)(8,"div",8),a.DNE(9,Jt,3,2,"div",9),a.k0s()()(),a.bVm()),2&Ce){const Z=a.XpG();a.R7$(9),a.Y8G("ngForOf",Z.whyChooseUs)}}function Ae(Ce,nn){1&Ce&&a.eu8(0)}function Ee(Ce,nn){if(1&Ce&&(a.j41(0,"div",10),a.nrm(1,"div",11)(2,"div",12),a.k0s()),2&Ce){const Z=nn.$implicit;a.R7$(1),a.Y8G("innerHTML",Z.name,a.npT),a.R7$(1),a.Y8G("innerHTML",Z.description,a.npT)}}function Ve(Ce,nn){if(1&Ce&&(a.qex(0),a.j41(1,"section",3)(2,"div",4)(3,"span",5),a.EFF(4,"Why Choose "),a.k0s(),a.j41(5,"span",6),a.EFF(6),a.k0s()(),a.j41(7,"p",13),a.EFF(8," What sets us appart. "),a.k0s(),a.j41(9,"div",7)(10,"div",8),a.DNE(11,Ee,3,2,"div",9),a.k0s()()(),a.bVm()),2&Ce){const Z=a.XpG();a.R7$(6),a.SpI(" ",Z.businessName,""),a.R7$(5),a.Y8G("ngForOf",Z.whyChooseUs)}}let rt=(()=>{class Ce{constructor(Z,fe){this.webContent=Z,this.route=fe,this.layoutType="demo"}static{this.\u0275fac=function(fe){return new(fe||Ce)(a.rXU(Vt.N),a.rXU(de.nX))}}static{this.\u0275cmp=a.VBU({type:Ce,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(fe,He){1&fe&&(a.j41(0,"div",0),a.DNE(1,Be,10,1,"ng-container",1),a.DNE(2,Ae,1,0,"ng-container",1),a.DNE(3,Ve,12,2,"ng-container",2),a.k0s()),2&fe&&(a.Y8G("ngSwitch",He.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[ge.Sq,ge.ux,ge.e1,ge.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}}return Ce})();var Qe=j(4593),Rt=j(491);function wn(Ce,nn){if(1&Ce&&(a.j41(0,"div",7),a.nrm(1,"i",8),a.j41(2,"h3",9),a.EFF(3),a.k0s()()),2&Ce){const Z=nn.$implicit;a.R7$(1),a.HbH(Z.icon),a.R7$(2),a.JRh(Z.title)}}let nr=(()=>{class Ce{constructor(){this.services=[]}static{this.\u0275fac=function(fe){return new(fe||Ce)}}static{this.\u0275cmp=a.VBU({type:Ce,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:9,vars:1,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(fe,He){1&fe&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a.EFF(4,"Our Services"),a.k0s(),a.j41(5,"div",4),a.DNE(6,wn,4,3,"div",5),a.k0s(),a.j41(7,"button",6),a.EFF(8,"Learn More"),a.k0s()()()()),2&fe&&(a.R7$(6),a.Y8G("ngForOf",He.services))},dependencies:[ge.Sq,de.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return Ce})(),tn=(()=>{class Ce{static{this.\u0275fac=function(fe){return new(fe||Ce)}}static{this.\u0275cmp=a.VBU({type:Ce,selectors:[["app-parallax-text"]],decls:6,vars:0,consts:[[1,"parallax-container"],[1,"content"]],template:function(fe,He){1&fe&&(a.j41(0,"div",0)(1,"div",1)(2,"h1"),a.EFF(3,"Our Motto"),a.k0s(),a.j41(4,"h4"),a.EFF(5,' "Compassion in our hearts, excellent care in our hands. Serving and making a difference in our seniors\' lives is our true passion." '),a.k0s()()())},styles:['.parallax-container[_ngcontent-%COMP%]{height:400px;background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff9;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return Ce})(),Vn=(()=>{class Ce{constructor(){this.backgroundImage="",this.yearsOfExperience=0,this.happyFamilies=0,this.servicesOffered=0,this.trainedStaff=0}static{this.\u0275fac=function(fe){return new(fe||Ce)}}static{this.\u0275cmp=a.VBU({type:Ce,selectors:[["app-parallax-stats"]],inputs:{backgroundImage:"backgroundImage",yearsOfExperience:"yearsOfExperience",happyFamilies:"happyFamilies",servicesOffered:"servicesOffered",trainedStaff:"trainedStaff"},decls:22,vars:6,consts:[[1,"parallax-container"],[1,"stats-overlay"],[1,"stat"],[1,"number"],[1,"label"]],template:function(fe,He){1&fe&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a.EFF(4),a.k0s(),a.j41(5,"span",4),a.EFF(6,"Years of Experience"),a.k0s()(),a.j41(7,"div",2)(8,"span",3),a.EFF(9),a.k0s(),a.j41(10,"span",4),a.EFF(11,"Happy Families"),a.k0s()(),a.j41(12,"div",2)(13,"span",3),a.EFF(14),a.k0s(),a.j41(15,"span",4),a.EFF(16,"Services Offered"),a.k0s()(),a.j41(17,"div",2)(18,"span",3),a.EFF(19),a.k0s(),a.j41(20,"span",4),a.EFF(21,"Trained Staff"),a.k0s()()()()),2&fe&&(a.xc7("background-image","url("+He.backgroundImage+")"),a.R7$(4),a.JRh(He.yearsOfExperience),a.R7$(5),a.JRh(He.happyFamilies),a.R7$(5),a.JRh(He.servicesOffered),a.R7$(5),a.JRh(He.trainedStaff))},styles:[".parallax-container[_ngcontent-%COMP%]{width:100vw;background-size:cover;background-attachment:fixed;background-position:center;display:flex;justify-content:center;align-items:center;position:relative;color:#fff;box-sizing:border-box}.stats-overlay[_ngcontent-%COMP%]{display:flex;gap:150px;text-align:center;background:rgba(0,0,0,.5);padding:150px;width:100vw;height:100%;height:auto;justify-content:center;flex-wrap:wrap}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:10px}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:5.5rem}@media (max-width: 768px){.parallax-container[_ngcontent-%COMP%]{height:auto;background-attachment:scroll}.stats-overlay[_ngcontent-%COMP%]{gap:20px;padding:15px;flex-direction:column;align-items:center;width:100%}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:3rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem}}"]})}}return Ce})();const qt=function(Ce,nn){return{"clemo-btn":Ce,"clemo-btn-outline":nn}};function Hn(Ce,nn){if(1&Ce&&(a.qex(0),a.j41(1,"a",17),a.EFF(2),a.k0s(),a.bVm()),2&Ce){const Z=nn.$implicit;a.R7$(1),a.Y8G("routerLink",Z.link)("ngClass",a.l_i(3,qt,!Z.outline,Z.outline)),a.R7$(1),a.SpI(" ",Z.text," ")}}function Nn(Ce,nn){if(1&Ce&&(a.j41(0,"div",9)(1,"h1"),a.EFF(2),a.k0s(),a.nrm(3,"div",10)(4,"h2",11),a.j41(5,"div",12),a.DNE(6,Hn,3,6,"ng-container",13),a.k0s(),a.j41(7,"div",14)(8,"div",15),a.nrm(9,"div",16),a.k0s(),a.j41(10,"p"),a.EFF(11,"Scroll down"),a.k0s()()()),2&Ce){const Z=a.XpG().$implicit;a.R7$(2),a.JRh(Z.title),a.R7$(2),a.Y8G("innerHTML",Z.subtitle,a.npT),a.R7$(2),a.Y8G("ngForOf",Z.buttons)}}const $t=function(Ce){return{background:Ce,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function kt(Ce,nn){if(1&Ce&&(a.j41(0,"div",6),a.nrm(1,"div",7),a.DNE(2,Nn,12,3,"div",8),a.k0s()),2&Ce){const Z=nn.$implicit,fe=nn.index,He=a.XpG();a.AVh("clemo-active",fe===He.currentSlide),a.R7$(1),a.Y8G("ngStyle",a.eq3(4,$t,"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+Z.backgroundImage+")")),a.R7$(1),a.Y8G("ngIf",null==Z.title?null:Z.title.trim())}}const _r=function(Ce){return{"line-style":Ce}};function cn(Ce,nn){if(1&Ce){const Z=a.RV6();a.j41(0,"div",18),a.bIt("click",function(){const zt=a.eBV(Z).index,Cn=a.XpG();return a.Njj(Cn.navigateToSlide(zt))}),a.k0s()}if(2&Ce){const Z=nn.index,fe=a.XpG();a.AVh("clemo-active",Z===fe.currentSlide),a.Y8G("ngClass",a.eq3(3,_r,"bottom"===fe.navigation))}}function Mr(Ce,nn){if(1&Ce){const Z=a.RV6();a.j41(0,"button",19),a.bIt("click",function(){a.eBV(Z);const He=a.XpG();return a.Njj(He.prevSlide())}),a.nrm(1,"span",20),a.j41(2,"span",21),a.EFF(3,"Previous"),a.k0s()()}}function Zn(Ce,nn){if(1&Ce){const Z=a.RV6();a.j41(0,"button",22),a.bIt("click",function(){a.eBV(Z);const He=a.XpG();return a.Njj(He.nextSlide())}),a.nrm(1,"span",23),a.j41(2,"span",21),a.EFF(3,"Next"),a.k0s()()}}const Ut=function(Ce,nn){return{"--slider-opacity":Ce,height:nn}},Tn=function(Ce){return{"bottom-nav":Ce}};let Gn=(()=>{class Ce{constructor(Z,fe){this.router=Z,this.businessDataService=fe,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(Z=>{Z?(console.log("HeroSliderComponent - Retrieved business data:",Z),this.business=Z,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?this.slides=this.business.heroSlider.map(fe=>({title:this.replaceKeywords(fe.title),subtitle:this.replaceKeywords(fe.subtitle),backgroundImage:fe.backgroundImage,buttons:fe.buttons||[]})):(console.warn("HeroSliderComponent - No heroSlider data available in the business data."),this.slides=[])):console.error("HeroSliderComponent - No business data available.")})}replaceKeywords(Z){return Z&&this.business?.businessName?Z.replace(/{{businessName}}/g,this.business.businessName):Z}navigateToSlide(Z){this.currentSlide=Z}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const Z=window.scrollY,fe=window.innerHeight;this.sliderOpacity=Math.max(1-Z/fe,0)}static{this.\u0275fac=function(fe){return new(fe||Ce)(a.rXU(de.Ix),a.rXU(Ie.A))}}static{this.\u0275cmp=a.VBU({type:Ce,selectors:[["app-hero-slider"]],hostBindings:function(fe,He){1&fe&&a.bIt("scroll",function(Cn){return He.onScroll(Cn)},!1,a.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight"},decls:6,vars:11,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button","data-bs-target","#heroCarousel","data-bs-slide","next",3,"click",4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","ngClass"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(fe,He){1&fe&&(a.j41(0,"div",0),a.DNE(1,kt,3,6,"div",1),a.j41(2,"div",2),a.DNE(3,cn,1,5,"div",3),a.k0s(),a.DNE(4,Mr,4,0,"button",4),a.DNE(5,Zn,4,0,"button",5),a.k0s()),2&fe&&(a.Y8G("ngStyle",a.l_i(6,Ut,He.sliderOpacity,He.sliderHeight)),a.R7$(1),a.Y8G("ngForOf",He.slides),a.R7$(1),a.Y8G("ngClass",a.eq3(9,Tn,"bottom"===He.navigation)),a.R7$(1),a.Y8G("ngForOf",He.slides),a.R7$(1),a.Y8G("ngIf",He.sideButtons),a.R7$(1),a.Y8G("ngIf",He.sideButtons))},dependencies:[ge.YU,ge.Sq,ge.bT,ge.B3,de.Wk,de.wQ],styles:[".clemo-slider-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden;opacity:var(--slider-opacity, 1);transition:opacity .3s ease;pointer-events:auto}.clemo-slider-container.hidden[_ngcontent-%COMP%]{pointer-events:none}.clemo-slides[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;opacity:0;transition:opacity 1s ease-in-out}.clemo-slides.clemo-active[_ngcontent-%COMP%]{display:block;opacity:1}.clemo-single-home-slider[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.clemo-home-overlay[_ngcontent-%COMP%]{outline:2px solid blue;position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;opacity:.9;z-index:1}.clemo-main-home[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:2;color:#000;animation:_ngcontent-%COMP%_fade-in-opacity 1s ease-in-out}.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;font-weight:700;margin:0;color:#fff}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0;color:#fff}.clemo-separator[_ngcontent-%COMP%]{width:50px;height:2px;background-color:#fff;margin:20px auto}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;margin:20px 0;line-height:1.5}.clemo-home-btn[_ngcontent-%COMP%]{margin-top:20px}.clemo-btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#000;background-color:#fff;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out;margin-right:50px}.clemo-btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-btn-outline[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#fff;background-color:transparent;border:2px solid #fff;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out}.clemo-btn-outline[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-slider-navigation[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:10}.clemo-slider-navigation.bottom-nav[_ngcontent-%COMP%]{inset:auto auto 20px 50%;transform:translate(-50%);flex-direction:row}.clemo-nav-item[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#fff;border-radius:50%;cursor:pointer;transition:all .3s ease;border:2px solid transparent}.clemo-nav-item[_ngcontent-%COMP%]:hover{background-color:#555}.clemo-nav-item.clemo-active[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.clemo-nav-item.line-style[_ngcontent-%COMP%]{width:30px;height:4px;background-color:#fff;clip-path:none;border-radius:2px}@keyframes _ngcontent-%COMP%_fade-in-opacity{0%{opacity:0}to{opacity:1}}.mouse-scroll[_ngcontent-%COMP%]{position:absolute;bottom:-220px;left:50%;transform:translate(-50%);text-align:center;z-index:100;font-family:Arial,sans-serif}.mouse[_ngcontent-%COMP%]{width:30px;height:50px;border:2px solid #fff;border-radius:15px;display:flex;justify-content:center;align-items:center;margin:0 auto 10px;position:relative}.scroll[_ngcontent-%COMP%]{width:6px;height:10px;background-color:#fff;border-radius:3px;animation:_ngcontent-%COMP%_scroll 1.5s infinite}.mouse-scroll[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin:0;opacity:.8}@keyframes _ngcontent-%COMP%_scroll{0%{opacity:0;transform:translateY(-5px)}50%{opacity:1;transform:translateY(5px)}to{opacity:0;transform:translateY(10px)}}"]})}}return Ce})();var an=j(9969),Ur=j(4710);function Sr(Ce,nn){1&Ce&&(a.j41(0,"div",13),a.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),a.k0s())}function Zr(Ce,nn){if(1&Ce){const Z=a.RV6();a.j41(0,"button",15),a.bIt("click",function(){a.eBV(Z);const He=a.XpG(3);return a.Njj(He.navigateToTestimonials())}),a.EFF(1," Read More "),a.k0s()}}function qn(Ce,nn){if(1&Ce&&(a.j41(0,"span"),a.EFF(1,"[...]"),a.DNE(2,Zr,2,0,"button",14),a.k0s()),2&Ce){const Z=a.XpG().$implicit,fe=a.XpG();a.R7$(2),a.Y8G("ngIf",fe.isTruncated(Z.quote))}}function hi(Ce,nn){if(1&Ce&&(a.j41(0,"div",5)(1,"div",6)(2,"h3",7),a.EFF(3),a.k0s(),a.nrm(4,"div",8),a.j41(5,"p",9),a.EFF(6),a.k0s(),a.DNE(7,Sr,2,0,"div",10),a.k0s(),a.j41(8,"div",11)(9,"p"),a.EFF(10),a.DNE(11,qn,3,1,"span",12),a.k0s()()()),2&Ce){const Z=nn.$implicit,fe=a.XpG();a.Y8G("@slideIn",void 0),a.R7$(1),a.Y8G("@fadeInRight",void 0),a.R7$(2),a.JRh(Z.name),a.R7$(3),a.JRh(Z.relationship),a.R7$(1),a.Y8G("ngIf",Z.isGoogle),a.R7$(1),a.Y8G("@fadeInLeft",void 0),a.R7$(2),a.SpI(" ",fe.truncateText(Z.quote)," "),a.R7$(1),a.Y8G("ngIf",fe.isTruncated(Z.quote))}}function ys(Ce,nn){if(1&Ce){const Z=a.RV6();a.j41(0,"button",16),a.bIt("click",function(){const zt=a.eBV(Z).index,Cn=a.XpG();return a.Njj(Cn.goToSlide(zt))}),a.EFF(1," \u25cf "),a.k0s()}if(2&Ce){const Z=nn.index,fe=a.XpG();a.AVh("active",Z===fe.currentIndex)}}const fn=function(Ce){return[Ce]};let ei=(()=>{class Ce{constructor(Z,fe,He){this.businessDataService=Z,this.googleMapsLoader=fe,this.router=He,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(Z=>{if(Z&&Z.testimonials){const fe=Z.testimonials.map(He=>({...He,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...fe]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(fe,He)=>{if(He===google.maps.places.PlacesServiceStatus.OK){const zt=fe?.reviews?.map(Cn=>({name:Cn.author_name,quote:Cn.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...zt,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",He)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials[this.currentIndex]}goToSlide(Z){this.currentIndex=Z}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.testimonials.length}trackByIndex(Z,fe){return Z}truncateText(Z){return Z.length>this.maxTextLength?Z.slice(0,this.maxTextLength):Z}isTruncated(Z){return Z.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}static{this.\u0275fac=function(fe){return new(fe||Ce)(a.rXU(Ie.A),a.rXU(Ur.L),a.rXU(de.Ix))}}static{this.\u0275cmp=a.VBU({type:Ce,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:5,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],["class","btn read-more",3,"click",4,"ngIf"],[1,"btn","read-more",3,"click"],[3,"click"]],template:function(fe,He){1&fe&&(a.j41(0,"div",0)(1,"h1",1),a.EFF(2,"clients say\u2019s"),a.k0s(),a.DNE(3,hi,12,8,"div",2),a.j41(4,"div",3),a.DNE(5,ys,2,2,"button",4),a.k0s()()),2&fe&&(a.R7$(3),a.Y8G("ngForOf",a.eq3(3,fn,He.currentTestimonial))("ngForTrackBy",He.trackByIndex),a.R7$(2),a.Y8G("ngForOf",He.testimonials))},dependencies:[ge.Sq,ge.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}@media (max-width: 768px){.testimonials-container[_ngcontent-%COMP%]{padding:3rem 1rem}.testimonial-row[_ngcontent-%COMP%]{gap:15px;flex-direction:column}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .separator5[_ngcontent-%COMP%]{width:60%}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .google-stars[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.carousel-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:2px;button {font-size: 1rem; margin: 0 1px;}}}"],data:{animation:[(0,an.hZ)("slideIn",[(0,an.kY)(":enter",[(0,an.iF)({opacity:0,transform:"translateX(-100%)"}),(0,an.i0)("0.5s ease-in",(0,an.iF)({opacity:1,transform:"translateX(0)"}))]),(0,an.kY)(":leave",[(0,an.i0)("0.5s ease-out",(0,an.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,an.hZ)("fadeInLeft",[(0,an.kY)(":enter",[(0,an.iF)({opacity:0,transform:"translateX(-100%)"}),(0,an.i0)("0.5s ease-in",(0,an.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,an.hZ)("fadeInRight",[(0,an.kY)(":enter",[(0,an.iF)({opacity:0,transform:"translateX(100%)"}),(0,an.i0)("0.5s ease-in",(0,an.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return Ce})();var tr=j(3711),Er=j(3349);let zn=(()=>{class Ce{constructor(){this.videoSource="",this.autoplay=!1,this.controls=!0,this.loop=!1,this.muted=!1}static{this.\u0275fac=function(fe){return new(fe||Ce)}}static{this.\u0275cmp=a.VBU({type:Ce,selectors:[["app-video"]],inputs:{videoSource:"videoSource",autoplay:"autoplay",controls:"controls",loop:"loop",muted:"muted"},decls:3,vars:1,consts:[[3,"title"],[1,"video-container"],["width","1024","height","560","src","https://www.youtube.com/embed/rVBHH5DwYFA?si=H-h0ymBehDKZAubx","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen",""]],template:function(fe,He){1&fe&&(a.nrm(0,"app-section-tilte",0),a.j41(1,"div",1),a.nrm(2,"iframe",2),a.k0s()),2&fe&&a.Y8G("title","Video")},dependencies:[Er.N],styles:[".video-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color);padding:20px;box-sizing:border-box}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border:1px solid #ccc;border-radius:8px;aspect-ratio:16 / 9}@media (max-width: 768px){.video-container[_ngcontent-%COMP%]{height:auto;padding:10px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;max-height:60vh}}"]})}}return Ce})();var Pi=j(5449);const nt=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},gt=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},Re=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},Gt=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},Fr=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},wi=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},Et=function(Ce,nn,Z,fe,He,zt){return[Ce,nn,Z,fe,He,zt]},$=function(){return[]};function M(Ce,nn){if(1&Ce&&(a.j41(0,"section"),a.nrm(1,"app-hero-slider",2)(2,"app-welcome",3)(3,"app-our-services-home",4)(4,"app-why-us",5)(5,"app-features",6)(6,"app-testimonials",7),a.k0s()),2&Ce){const Z=a.XpG();a.R7$(1),a.Y8G("navigation","bottom")("sideButtons",!0),a.R7$(1),a.Y8G("layoutType",(null==Z.business||null==Z.business.theme?null:Z.business.theme.themeType)||"demo")("businessId",(null==Z.business?null:Z.business.id)||""),a.R7$(1),a.Y8G("layoutType",(null==Z.business||null==Z.business.theme?null:Z.business.theme.themeType)||"demo")("services",a.l4e(19,Et,a.lJ4(13,nt),a.lJ4(14,gt),a.lJ4(15,Re),a.lJ4(16,Gt),a.lJ4(17,Fr),a.lJ4(18,wi))),a.R7$(1),a.Y8G("whyChooseUs",(null==Z.business?null:Z.business.whyChoose)||a.lJ4(26,$))("layoutType",(null==Z.business||null==Z.business.theme?null:Z.business.theme.themeType)||"demo")("businessName",(null==Z.business?null:Z.business.businessName)||"Demo"),a.R7$(1),a.Y8G("uniqueService",(null==Z.business?null:Z.business.uniqueService)||a.lJ4(27,$))("layoutType",(null==Z.business||null==Z.business.theme?null:Z.business.theme.themeType)||"demo"),a.R7$(1),a.Y8G("testimonials",null==Z.business?null:Z.business.testimonials)("layoutType",(null==Z.business||null==Z.business.theme?null:Z.business.theme.themeType)||"demo")}}function k(Ce,nn){if(1&Ce&&a.nrm(0,"app-center-text",12),2&Ce){const Z=nn.ngIf,fe=a.XpG(2);a.Y8G("themeType",(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)||"")("imageURL",(null==Z?null:Z.sectionImageUrl)||"")("title",(null==Z?null:Z.sectionTitle)||"")("content",(null==Z?null:Z.sectionContent)||"")("showBtn",!1)}}function re(Ce,nn){if(1&Ce&&a.nrm(0,"app-right-text",13),2&Ce){const Z=nn.ngIf,fe=a.XpG(2);a.Y8G("themeType",(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)||"")("imageURL",(null==Z?null:Z.sectionImageUrl)||"")("title",(null==Z?null:Z.sectionTitle)||"")("content",(null==Z?null:Z.sectionContent)||"")}}function _e(Ce,nn){if(1&Ce&&a.nrm(0,"app-left-text",13),2&Ce){const Z=nn.ngIf,fe=a.XpG(2);a.Y8G("themeType",(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)||"")("imageURL",(null==Z?null:Z.sectionImageUrl)||"")("title",(null==Z?null:Z.sectionTitle)||"")("content",(null==Z?null:Z.sectionContent)||"")}}const st=function(){return{icon:"fas fa-dove",title:"Hospice Care",description:"..."}},At=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},sn=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},ln=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},An=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},pr=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},on=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},Lr=function(Ce,nn,Z,fe,He,zt,Cn){return[Ce,nn,Z,fe,He,zt,Cn]};function ur(Ce,nn){if(1&Ce&&(a.j41(0,"section"),a.nrm(1,"app-hero-slider",8),a.DNE(2,k,1,5,"app-center-text",9),a.nI1(3,"sectionFilter"),a.DNE(4,re,1,4,"app-right-text",10),a.nI1(5,"sectionFilter"),a.DNE(6,_e,1,4,"app-left-text",10),a.nI1(7,"sectionFilter"),a.nrm(8,"app-icon-list",11)(9,"app-testimonials",7),a.k0s()),2&Ce){const Z=a.XpG();a.R7$(1),a.Y8G("navigation","side")("sideButtons",!1),a.R7$(1),a.Y8G("ngIf",a.i5U(3,8,null==Z.business?null:Z.business.sections,"HomeWelcomeText")),a.R7$(2),a.Y8G("ngIf",a.i5U(5,11,null==Z.business?null:Z.business.sections,"HomeRightText")),a.R7$(2),a.Y8G("ngIf",a.i5U(7,14,null==Z.business?null:Z.business.sections,"HomeLeftText")),a.R7$(2),a.Y8G("services",a.sGs(24,Lr,a.lJ4(17,st),a.lJ4(18,At),a.lJ4(19,sn),a.lJ4(20,ln),a.lJ4(21,An),a.lJ4(22,pr),a.lJ4(23,on))),a.R7$(1),a.Y8G("testimonials",null==Z.business?null:Z.business.testimonials)("layoutType",(null==Z.business||null==Z.business.theme?null:Z.business.theme.themeType)||"demo")}}function Ts(Ce,nn){if(1&Ce&&a.nrm(0,"app-right-text",13),2&Ce){const Z=nn.ngIf,fe=a.XpG(2);a.Y8G("themeType",(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)||"")("imageURL",(null==Z?null:Z.sectionImageUrl)||"")("title",(null==Z?null:Z.sectionTitle)||"")("content",(null==Z?null:Z.sectionContent)||"")}}function yi(Ce,nn){if(1&Ce&&a.nrm(0,"app-google-maps",19),2&Ce){const Z=a.XpG(2);a.Y8G("address",(null==Z.business?null:Z.business.address)||"")("layoutType",(null==Z.business||null==Z.business.theme?null:Z.business.theme.themeType)||"demo")}}function ji(Ce,nn){if(1&Ce&&(a.j41(0,"section"),a.nrm(1,"app-hero-slider",14),a.DNE(2,Ts,1,4,"app-right-text",10),a.nI1(3,"sectionFilter"),a.nrm(4,"app-video",15)(5,"app-parallax-stats",16)(6,"app-testimonial-carousel",17)(7,"app-parallax-text"),a.DNE(8,yi,1,2,"app-google-maps",18),a.k0s()),2&Ce){const Z=a.XpG();a.R7$(1),a.Y8G("navigation","side")("sideButtons",!1),a.R7$(1),a.Y8G("ngIf",a.i5U(3,11,null==Z.business?null:Z.business.sections,"HomeRightText")),a.R7$(2),a.Y8G("videoSource","https://youtu.be/rVBHH5DwYFA?si=Cr3AncNVTaxqHsfX"),a.R7$(1),a.Y8G("backgroundImage","https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fgallery%2F13.jpg?alt=media&token=cc737375-bdbf-4ba3-95d9-66b63a73b45a")("yearsOfExperience",20)("happyFamilies",55)("servicesOffered",36)("trainedStaff",4),a.R7$(1),a.Y8G("placeId",(null==Z.business?null:Z.business.placeId)||""),a.R7$(2),a.Y8G("ngIf","clemo"==(null==Z.business||null==Z.business.theme?null:Z.business.theme.themeType))}}function Mi(Ce,nn){if(1&Ce&&a.nrm(0,"app-consultation",20),2&Ce){const Z=a.XpG();a.Y8G("id",(null==Z.business?null:Z.business.id)||"")("layoutType",(null==Z.business||null==Z.business.theme?null:Z.business.theme.themeType)||"demo")("businessName",(null==Z.business?null:Z.business.businessName)||"Demo")}}let vi=(()=>{class Ce{constructor(Z,fe,He){this.route=Z,this.metaService=fe,this.businessDataService=He,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(Z=>{Z&&(this.businessId=Z,this.businessDataService.getBusinessData().subscribe(fe=>{this.business=fe}),this.metaService.loadAndApplyMeta(this.businessId))})}getSectionByName(Z){return this.business?.sections?.find(fe=>fe.sectionName===Z)||null}static{this.\u0275fac=function(fe){return new(fe||Ce)(a.rXU(de.nX),a.rXU(i.R),a.rXU(Ie.A))}}static{this.\u0275cmp=a.VBU({type:Ce,selectors:[["app-home"]],decls:4,vars:4,consts:[[4,"ngIf"],[3,"id","layoutType","businessName",4,"ngIf"],["sliderHeight","70vh",3,"navigation","sideButtons"],[3,"layoutType","businessId"],[3,"layoutType","services"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],["sliderHeight","80vh",3,"navigation","sideButtons"],[3,"themeType","imageURL","title","content","showBtn",4,"ngIf"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"services"],[3,"themeType","imageURL","title","content","showBtn"],[3,"themeType","imageURL","title","content"],["sliderHeight","100vh",3,"navigation","sideButtons"],[3,"videoSource"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff"],[3,"placeId"],[3,"address","layoutType",4,"ngIf"],[3,"address","layoutType"],[3,"id","layoutType","businessName"]],template:function(fe,He){1&fe&&(a.DNE(0,M,7,28,"section",0),a.DNE(1,ur,10,32,"section",0),a.DNE(2,ji,9,14,"section",0),a.DNE(3,Mi,1,3,"app-consultation",1)),2&fe&&(a.Y8G("ngIf","hh"===(null==He.business||null==He.business.theme?null:He.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","ae"===(null==He.business||null==He.business.theme?null:He.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","clemo"===(null==He.business||null==He.business.theme?null:He.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","clemo"!=(null==He.business||null==He.business.theme?null:He.business.theme.themeType)))},dependencies:[ge.bT,wt,et,en,xt,tt,rt,Ye.W,Qe.F,Rt.G,nr,tn,Vn,Gn,ei,tr.a,zn,Pi.W]})}}return Ce})()},214:(rn,Ze,j)=>{j.d(Ze,{W:()=>de});var a=j(7705);let de=(()=>{class i{constructor(){this.closeModal=new a.bkB}close(){this.closeModal.emit()}static{this.\u0275fac=function(Se){return new(Se||i)}}static{this.\u0275cmp=a.VBU({type:i,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(Se,xe){1&Se&&(a.j41(0,"div",0),a.bIt("click",function(){return xe.close()}),a.j41(1,"div",1),a.bIt("click",function(Ne){return Ne.stopPropagation()}),a.j41(2,"button",2),a.bIt("click",function(){return xe.close()}),a.EFF(3,"Close"),a.k0s(),a.nrm(4,"img",3),a.k0s()()),2&Se&&(a.R7$(4),a.Y8G("src",xe.imageUrl,a.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}}return i})()},5449:(rn,Ze,j)=>{j.d(Ze,{W:()=>de});var a=j(7705);let de=(()=>{class i{transform(ge,Se){return ge&&Se&&ge.find(xe=>xe.sectionName===Se)||null}static{this.\u0275fac=function(Se){return new(Se||i)}}static{this.\u0275pipe=a.EJ8({name:"sectionFilter",type:i,pure:!0})}}return i})()},4796:(rn,Ze,j)=>{j.d(Ze,{u:()=>ge});var a=j(6354),de=j(7705),i=j(1977),Ie=j(6814);let ge=(()=>{class Se{constructor(Le,Ne){this.afAuth=Le,this.router=Ne,this.user$=Le.authState}login(Le,Ne){return this.afAuth.signInWithEmailAndPassword(Le,Ne)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,a.T)(Le=>!!Le))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Ne){return new(Ne||Se)(de.KVO(i.DS),de.KVO(Ie.Ix))}}static{this.\u0275prov=de.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})()},923:(rn,Ze,j)=>{j.d(Ze,{A:()=>Se});var a=j(4412),de=j(6354),i=j(8141),Ie=j(7705),ge=j(3012);let Se=(()=>{class xe{constructor(Ne){this.businessService=Ne,this.businessDataSubject=new a.t(null),this.businessIdSubject=new a.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Ne){return console.log("BusinessDataService - loadBusinessData for ID:",Ne),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Ne).pipe((0,de.T)(te=>te??null),(0,i.M)(te=>{console.log("BusinessDataService - Business fetched:",te),this.businessDataSubject.next(te),this.businessIdSubject.next(Ne)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static{this.\u0275fac=function(te){return new(te||xe)(Ie.KVO(ge.u))}}static{this.\u0275prov=Ie.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})()},3012:(rn,Ze,j)=>{j.d(Ze,{u:()=>xe});var a=j(7673),de=j(6354),i=j(5558),Ie=j(7705),ge=j(6340),Se=j(8721);let xe=(()=>{class Le{constructor(te,ae){this.afs=te,this.storage=ae,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(te){console.log("Business Created");const ae=this.afs.createId();return this.afs.doc(`${this.basePath}/${ae}`).set({...te,id:ae}),this.afs.doc(`${this.basePath}/${ae}`).valueChanges().pipe((0,de.T)(pe=>{if(!pe)throw new Error("Business not found after creation");return pe}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,de.T)(te=>te.map(ae=>{const pe=ae.payload.doc.data(),ct=ae.payload.doc.id,{id:je,...It}=pe;return{id:ct,...It}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,te=>te.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(te){return this.getBusinessData(te)}getBusinessData(te){const ae=te&&te.trim()?te:this.defaultBusinessId;return this.afs.collection("businesses").doc(ae).snapshotChanges().pipe((0,i.n)(pe=>{const ct=pe.payload.data(),je=pe.payload.id;if(!ct)return(0,a.of)(void 0);const{id:It,...wt}=ct,Ft={id:je,...wt},Pt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${je}/theme`).doc("themeDoc").snapshotChanges().pipe((0,de.T)(Ge=>{const be=Ge.payload.data()||Pt;return Ft.theme=be,Ft}))}))}updateBusiness(te,ae){return this.afs.doc(`${this.basePath}/${te}`).update(ae)}deleteBusiness(te){return this.afs.doc(`${this.basePath}/${te}`).delete()}uploadFile(te,ae){return this.storage.upload(te,ae)}getDownloadURL(te){return this.storage.ref(te).getDownloadURL()}updateThemeFileName(te,ae=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ae}`).update({"theme.themeFileName":te})}getThemeFileName(te=this.defaultBusinessId){const pe=this.afs.collection(this.basePath).doc(te).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${te}`),pe.get().toPromise().then(ct=>{if(ct&&ct.exists){const je=ct.data();console.log("Theme document found:",je);const It=je?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${It}`),It}return console.warn(`No theme document found for business ID: ${te}. Using default theme.`),"default.css"}).catch(ct=>(console.error(`Error fetching theme file name for business ID: ${te}`,ct),"default.css"))}static{this.\u0275fac=function(ae){return new(ae||Le)(Ie.KVO(ge.Qe),Ie.KVO(Se.ap))}}static{this.\u0275prov=Ie.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})()},4710:(rn,Ze,j)=>{j.d(Ze,{L:()=>i});var de=j(7705);let i=(()=>{class Ie{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Se,xe)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Se();const Le=document.createElement("script");Le.id="google-maps-script",Le.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Le.async=!0,Le.defer=!0,Le.onload=()=>{this.scriptLoaded=!0,Se()},Le.onerror=Ne=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,xe(Ne)},document.body.appendChild(Le)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(xe){return new(xe||Ie)}}static{this.\u0275prov=de.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}}return Ie})()},6861:(rn,Ze,j)=>{j.d(Ze,{R:()=>Ie});var a=j(7705),de=j(345),i=j(923);let Ie=(()=>{class ge{constructor(xe,Le,Ne){this.meta=xe,this.title=Le,this.businessDataService=Ne}updateMetaTags(xe){this.title.setTitle(xe.title),this.meta.updateTag({name:"description",content:xe.description}),this.meta.updateTag({name:"keywords",content:xe.keywords}),this.meta.updateTag({property:"og:title",content:xe.title}),this.meta.updateTag({property:"og:description",content:xe.description})}updateFavicon(xe){const Le=document.getElementsByTagName("head")[0];let Ne=document.querySelector("link[rel*='icon']");Ne||(Ne=document.createElement("link"),Ne.rel="icon",Le.appendChild(Ne)),Ne.href=xe}loadAndApplyMeta(xe){this.businessDataService.loadBusinessData(xe).subscribe(Le=>{Le?(this.updateMetaTags({title:Le.metaTitle||"Default Title",description:Le.metaDescription||"Default Description",keywords:Le.metaKeywords||"default, keywords"}),Le.faviconUrl&&this.updateFavicon(Le.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Le){return new(Le||ge)(a.KVO(de.W8),a.KVO(de.hE),a.KVO(i.A))}}static{this.\u0275prov=a.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}}return ge})()},5009:(rn,Ze,j)=>{j.d(Ze,{F:()=>Ne});var a=j(8810),de=j(8455),i=j(7673),Ie=j(6697),ge=j(5558),Se=j(9437),xe=j(7705),Le=j(6340);let Ne=(()=>{class te{constructor(pe){this.firestore=pe,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(pe){return this.firestore.collection("businesses").doc(pe).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(pe){console.log("Theme Service: - Fetching theme for business ID:",pe);const ct=this.firestore.collection("businesses").doc(pe),je=ct.collection("theme").doc("themeDoc");return ct.snapshotChanges().pipe((0,Ie.s)(1),(0,ge.n)(It=>It.payload.exists?je.get().pipe((0,ge.n)(wt=>wt.exists?(wt.data(),je.valueChanges()):(0,de.H)(je.set(this.defaultTheme)).pipe((0,ge.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),je.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,a.$)("Theme Service: - Business document does not exist"))),(0,Se.W)(It=>(console.error("Error fetching theme:",It),this.applyThemeFile(this.defaultTheme.themeFileName),(0,i.of)(this.defaultTheme))))}updateColors(pe,ct){const je=this.firestore.collection("businesses").doc(pe).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+pe+" theme service updateColors: ",ct),je.set(ct,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),ct.themeFileName&&this.applyThemeFile(ct.themeFileName)}).catch(It=>{throw console.error("Theme Service: - Error updating colors:",It),new Error(It)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(pe){return this.loadCss(`assets/themes/${pe}`)}loadCss(pe){return new Promise((ct,je)=>{console.log("Load css from  file:",pe);const It=document.createElement("link");It.rel="stylesheet",It.href=pe,It.onload=()=>{console.log(`Loaded theme: ${pe}`),ct()},It.onerror=wt=>{console.error(`Failed to load theme: ${pe}`,wt),je(wt)},document.head.appendChild(It)})}static{this.\u0275fac=function(ct){return new(ct||te)(xe.KVO(Le.Qe))}}static{this.\u0275prov=xe.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}}return te})()},8704:(rn,Ze,j)=>{j.d(Ze,{N:()=>xe});var a=j(6354),de=j(9437),i=j(7673),Ie=j(7705),ge=j(6340),Se=j(8721);let xe=(()=>{class Le{constructor(te,ae){this.firestore=te,this.storage=ae,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(te){const ae=te&&te.trim()?te:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ae).snapshotChanges().pipe((0,a.T)(pe=>{const ct=pe.payload.data(),je=pe.payload.id;if(ct){const{id:It,testimonials:wt=[],...Ft}=ct;return{id:je,testimonials:wt.map(hn=>({...hn,photoURL:hn.photoURL&&hn.photoURL.trim()?hn.photoURL:this.defaultImage})),...Ft}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(te){return this.storage.ref(te).getDownloadURL().pipe((0,de.W)(ae=>(console.error("Error fetching photo URL:",ae),(0,i.of)(""))))}getEmployeesByBusinessId(te){return(null==te||""==te||""===te)&&(te=this.defaultBusinessId),this.firestore.collection("businesses").doc(te).get().pipe((0,a.T)(ae=>{if(ae.exists){const pe=ae.data();return pe&&pe.employees?pe.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,de.W)(ae=>(console.error("Error fetching employees:",ae),(0,i.of)([]))))}getBusinessGalleryImagesById(te){return(null==te||""==te||""===te)&&(te=this.defaultBusinessId),this.firestore.collection("businesses").doc(te).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(te){return(null==te||""==te||""===te)&&(te=this.defaultBusinessId),this.firestore.collection("businesses").doc(te).collection("gallery").valueChanges()}getBusinessUploadedImagesById(te,ae){return(null==te||""==te||""===te)&&(te=this.defaultBusinessId),this.firestore.collection("businesses").doc(te).collection(ae).valueChanges()}checkImageExists(te){return this.storage.refFromURL(te).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(ae){return new(ae||Le)(Ie.KVO(ge.Qe),Ie.KVO(Se.ap))}}static{this.\u0275prov=Ie.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})()},8889:(rn,Ze,j)=>{var a={};j.r(a),j.d(a,{afterMain:()=>Dn,afterRead:()=>Je,afterWrite:()=>wr,applyStyles:()=>Cr,arrow:()=>rr,auto:()=>Oi,basePlacements:()=>hs,beforeMain:()=>mt,beforeRead:()=>we,beforeWrite:()=>yn,bottom:()=>Wn,clippingParents:()=>As,computeStyles:()=>es,createPopper:()=>$o,createPopperBase:()=>fo,createPopperLite:()=>Qo,detectOverflow:()=>ja,end:()=>Bi,eventListeners:()=>gs,flip:()=>jl,hide:()=>wa,left:()=>ti,main:()=>Yt,modifierPhases:()=>Fn,offset:()=>Ba,placements:()=>Q,popper:()=>zi,popperGenerator:()=>bi,popperOffsets:()=>P,preventOverflow:()=>Y,read:()=>Oe,reference:()=>Os,right:()=>ci,start:()=>Rr,top:()=>Ln,variationPlacements:()=>ee,viewport:()=>Qn,write:()=>Jn});var de=j(345),i=j(7705),Ie=j(7673),ge=j(8455),Se=j(1985),xe=j(274),Le=j(5964),Ne=j(6354),te=j(980),ae=j(5558),pe=j(177);class ct{}class je{}class It{constructor(l){this.normalizedNames=new Map,this.lazyUpdate=null,l?"string"==typeof l?this.lazyInit=()=>{this.headers=new Map,l.split("\n").forEach(c=>{const y=c.indexOf(":");if(y>0){const T=c.slice(0,y),L=T.toLowerCase(),z=c.slice(y+1).trim();this.maybeSetNormalizedName(T,L),this.headers.has(L)?this.headers.get(L).push(z):this.headers.set(L,[z])}})}:typeof Headers<"u"&&l instanceof Headers?(this.headers=new Map,l.forEach((c,y)=>{this.setHeaderEntries(y,c)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(l).forEach(([c,y])=>{this.setHeaderEntries(c,y)})}:this.headers=new Map}has(l){return this.init(),this.headers.has(l.toLowerCase())}get(l){this.init();const c=this.headers.get(l.toLowerCase());return c&&c.length>0?c[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(l){return this.init(),this.headers.get(l.toLowerCase())||null}append(l,c){return this.clone({name:l,value:c,op:"a"})}set(l,c){return this.clone({name:l,value:c,op:"s"})}delete(l,c){return this.clone({name:l,value:c,op:"d"})}maybeSetNormalizedName(l,c){this.normalizedNames.has(c)||this.normalizedNames.set(c,l)}init(){this.lazyInit&&(this.lazyInit instanceof It?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(l=>this.applyUpdate(l)),this.lazyUpdate=null))}copyFrom(l){l.init(),Array.from(l.headers.keys()).forEach(c=>{this.headers.set(c,l.headers.get(c)),this.normalizedNames.set(c,l.normalizedNames.get(c))})}clone(l){const c=new It;return c.lazyInit=this.lazyInit&&this.lazyInit instanceof It?this.lazyInit:this,c.lazyUpdate=(this.lazyUpdate||[]).concat([l]),c}applyUpdate(l){const c=l.name.toLowerCase();switch(l.op){case"a":case"s":let y=l.value;if("string"==typeof y&&(y=[y]),0===y.length)return;this.maybeSetNormalizedName(l.name,c);const T=("a"===l.op?this.headers.get(c):void 0)||[];T.push(...y),this.headers.set(c,T);break;case"d":const L=l.value;if(L){let z=this.headers.get(c);if(!z)return;z=z.filter(ie=>-1===L.indexOf(ie)),0===z.length?(this.headers.delete(c),this.normalizedNames.delete(c)):this.headers.set(c,z)}else this.headers.delete(c),this.normalizedNames.delete(c)}}setHeaderEntries(l,c){const y=(Array.isArray(c)?c:[c]).map(L=>L.toString()),T=l.toLowerCase();this.headers.set(T,y),this.maybeSetNormalizedName(l,T)}forEach(l){this.init(),Array.from(this.normalizedNames.keys()).forEach(c=>l(this.normalizedNames.get(c),this.headers.get(c)))}}class Ft{encodeKey(l){return be(l)}encodeValue(l){return be(l)}decodeKey(l){return decodeURIComponent(l)}decodeValue(l){return decodeURIComponent(l)}}const hn=/%(\d[a-f0-9])/gi,Ge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function be(p){return encodeURIComponent(p).replace(hn,(l,c)=>Ge[c]??l)}function et(p){return`${p}`}class Ye{constructor(l={}){if(this.updates=null,this.cloneFrom=null,this.encoder=l.encoder||new Ft,l.fromString){if(l.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Pt(p,l){const c=new Map;return p.length>0&&p.replace(/^\?/,"").split("&").forEach(T=>{const L=T.indexOf("="),[z,ie]=-1==L?[l.decodeKey(T),""]:[l.decodeKey(T.slice(0,L)),l.decodeValue(T.slice(L+1))],ve=c.get(z)||[];ve.push(ie),c.set(z,ve)}),c}(l.fromString,this.encoder)}else l.fromObject?(this.map=new Map,Object.keys(l.fromObject).forEach(c=>{const y=l.fromObject[c],T=Array.isArray(y)?y.map(et):[et(y)];this.map.set(c,T)})):this.map=null}has(l){return this.init(),this.map.has(l)}get(l){this.init();const c=this.map.get(l);return c?c[0]:null}getAll(l){return this.init(),this.map.get(l)||null}keys(){return this.init(),Array.from(this.map.keys())}append(l,c){return this.clone({param:l,value:c,op:"a"})}appendAll(l){const c=[];return Object.keys(l).forEach(y=>{const T=l[y];Array.isArray(T)?T.forEach(L=>{c.push({param:y,value:L,op:"a"})}):c.push({param:y,value:T,op:"a"})}),this.clone(c)}set(l,c){return this.clone({param:l,value:c,op:"s"})}delete(l,c){return this.clone({param:l,value:c,op:"d"})}toString(){return this.init(),this.keys().map(l=>{const c=this.encoder.encodeKey(l);return this.map.get(l).map(y=>c+"="+this.encoder.encodeValue(y)).join("&")}).filter(l=>""!==l).join("&")}clone(l){const c=new Ye({encoder:this.encoder});return c.cloneFrom=this.cloneFrom||this,c.updates=(this.updates||[]).concat(l),c}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(l=>this.map.set(l,this.cloneFrom.map.get(l))),this.updates.forEach(l=>{switch(l.op){case"a":case"s":const c=("a"===l.op?this.map.get(l.param):void 0)||[];c.push(et(l.value)),this.map.set(l.param,c);break;case"d":if(void 0===l.value){this.map.delete(l.param);break}{let y=this.map.get(l.param)||[];const T=y.indexOf(et(l.value));-1!==T&&y.splice(T,1),y.length>0?this.map.set(l.param,y):this.map.delete(l.param)}}}),this.cloneFrom=this.updates=null)}}class Dt{constructor(){this.map=new Map}set(l,c){return this.map.set(l,c),this}get(l){return this.map.has(l)||this.map.set(l,l.defaultValue()),this.map.get(l)}delete(l){return this.map.delete(l),this}has(l){return this.map.has(l)}keys(){return this.map.keys()}}function De(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer}function en(p){return typeof Blob<"u"&&p instanceof Blob}function mn(p){return typeof FormData<"u"&&p instanceof FormData}class xt{constructor(l,c,y,T){let L;if(this.url=c,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=l.toUpperCase(),function Mt(p){switch(p){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||T?(this.body=void 0!==y?y:null,L=T):L=y,L&&(this.reportProgress=!!L.reportProgress,this.withCredentials=!!L.withCredentials,L.responseType&&(this.responseType=L.responseType),L.headers&&(this.headers=L.headers),L.context&&(this.context=L.context),L.params&&(this.params=L.params)),this.headers||(this.headers=new It),this.context||(this.context=new Dt),this.params){const z=this.params.toString();if(0===z.length)this.urlWithParams=c;else{const ie=c.indexOf("?");this.urlWithParams=c+(-1===ie?"?":ie<c.length-1?"&":"")+z}}else this.params=new Ye,this.urlWithParams=c}serializeBody(){return null===this.body?null:De(this.body)||en(this.body)||mn(this.body)||function lr(p){return typeof URLSearchParams<"u"&&p instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mn(this.body)?null:en(this.body)?this.body.type||null:De(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(l={}){const c=l.method||this.method,y=l.url||this.url,T=l.responseType||this.responseType,L=void 0!==l.body?l.body:this.body,z=void 0!==l.withCredentials?l.withCredentials:this.withCredentials,ie=void 0!==l.reportProgress?l.reportProgress:this.reportProgress;let ve=l.headers||this.headers,qe=l.params||this.params;const ft=l.context??this.context;return void 0!==l.setHeaders&&(ve=Object.keys(l.setHeaders).reduce((Lt,En)=>Lt.set(En,l.setHeaders[En]),ve)),l.setParams&&(qe=Object.keys(l.setParams).reduce((Lt,En)=>Lt.set(En,l.setParams[En]),qe)),new xt(c,y,L,{params:qe,headers:ve,context:ft,reportProgress:ie,responseType:T,withCredentials:z})}}var Vt=function(p){return p[p.Sent=0]="Sent",p[p.UploadProgress=1]="UploadProgress",p[p.ResponseHeader=2]="ResponseHeader",p[p.DownloadProgress=3]="DownloadProgress",p[p.Response=4]="Response",p[p.User=5]="User",p}(Vt||{});class Wt{constructor(l,c=200,y="OK"){this.headers=l.headers||new It,this.status=void 0!==l.status?l.status:c,this.statusText=l.statusText||y,this.url=l.url||null,this.ok=this.status>=200&&this.status<300}}class ut extends Wt{constructor(l={}){super(l),this.type=Vt.ResponseHeader}clone(l={}){return new ut({headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class Fe extends Wt{constructor(l={}){super(l),this.type=Vt.Response,this.body=void 0!==l.body?l.body:null}clone(l={}){return new Fe({body:void 0!==l.body?l.body:this.body,headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class tt extends Wt{constructor(l){super(l,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${l.url||"(unknown url)"}`:`Http failure response for ${l.url||"(unknown url)"}: ${l.status} ${l.statusText}`,this.error=l.error||null}}function Jt(p,l){return{body:l,headers:p.headers,context:p.context,observe:p.observe,params:p.params,reportProgress:p.reportProgress,responseType:p.responseType,withCredentials:p.withCredentials}}let Be=(()=>{class p{constructor(c){this.handler=c}request(c,y,T={}){let L;if(c instanceof xt)L=c;else{let ve,qe;ve=T.headers instanceof It?T.headers:new It(T.headers),T.params&&(qe=T.params instanceof Ye?T.params:new Ye({fromObject:T.params})),L=new xt(c,y,void 0!==T.body?T.body:null,{headers:ve,context:T.context,params:qe,reportProgress:T.reportProgress,responseType:T.responseType||"json",withCredentials:T.withCredentials})}const z=(0,Ie.of)(L).pipe((0,xe.H)(ve=>this.handler.handle(ve)));if(c instanceof xt||"events"===T.observe)return z;const ie=z.pipe((0,Le.p)(ve=>ve instanceof Fe));switch(T.observe||"body"){case"body":switch(L.responseType){case"arraybuffer":return ie.pipe((0,Ne.T)(ve=>{if(null!==ve.body&&!(ve.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ve.body}));case"blob":return ie.pipe((0,Ne.T)(ve=>{if(null!==ve.body&&!(ve.body instanceof Blob))throw new Error("Response is not a Blob.");return ve.body}));case"text":return ie.pipe((0,Ne.T)(ve=>{if(null!==ve.body&&"string"!=typeof ve.body)throw new Error("Response is not a string.");return ve.body}));default:return ie.pipe((0,Ne.T)(ve=>ve.body))}case"response":return ie;default:throw new Error(`Unreachable: unhandled observe type ${T.observe}}`)}}delete(c,y={}){return this.request("DELETE",c,y)}get(c,y={}){return this.request("GET",c,y)}head(c,y={}){return this.request("HEAD",c,y)}jsonp(c,y){return this.request("JSONP",c,{params:(new Ye).append(y,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(c,y={}){return this.request("OPTIONS",c,y)}patch(c,y,T={}){return this.request("PATCH",c,Jt(T,y))}post(c,y,T={}){return this.request("POST",c,Jt(T,y))}put(c,y,T={}){return this.request("PUT",c,Jt(T,y))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(ct))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function nr(p,l){return l(p)}function tn(p,l){return(c,y)=>l.intercept(c,{handle:T=>p(T,y)})}const qt=new i.nKC(""),Hn=new i.nKC(""),Nn=new i.nKC("");function $t(){let p=null;return(l,c)=>{null===p&&(p=((0,i.WQX)(qt,{optional:!0})??[]).reduceRight(tn,nr));const y=(0,i.WQX)(i.$K3),T=y.add();return p(l,c).pipe((0,te.j)(()=>y.remove(T)))}}let kt=(()=>{class p extends ct{constructor(c,y){super(),this.backend=c,this.injector=y,this.chain=null,this.pendingTasks=(0,i.WQX)(i.$K3)}handle(c){if(null===this.chain){const T=Array.from(new Set([...this.injector.get(Hn),...this.injector.get(Nn,[])]));this.chain=T.reduceRight((L,z)=>function Vn(p,l,c){return(y,T)=>c.runInContext(()=>l(y,L=>p(L,T)))}(L,z,this.injector),nr)}const y=this.pendingTasks.add();return this.chain(c,T=>this.backend.handle(T)).pipe((0,te.j)(()=>this.pendingTasks.remove(y)))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(je),i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const qn=/^\)\]\}',?\n/;let ys=(()=>{class p{constructor(c){this.xhrFactory=c}handle(c){if("JSONP"===c.method)throw new i.wOt(-2800,!1);const y=this.xhrFactory;return(y.\u0275loadImpl?(0,ge.H)(y.\u0275loadImpl()):(0,Ie.of)(null)).pipe((0,ae.n)(()=>new Se.c(L=>{const z=y.build();if(z.open(c.method,c.urlWithParams),c.withCredentials&&(z.withCredentials=!0),c.headers.forEach((Xt,Pn)=>z.setRequestHeader(Xt,Pn.join(","))),c.headers.has("Accept")||z.setRequestHeader("Accept","application/json, text/plain, */*"),!c.headers.has("Content-Type")){const Xt=c.detectContentTypeHeader();null!==Xt&&z.setRequestHeader("Content-Type",Xt)}if(c.responseType){const Xt=c.responseType.toLowerCase();z.responseType="json"!==Xt?Xt:"text"}const ie=c.serializeBody();let ve=null;const qe=()=>{if(null!==ve)return ve;const Xt=z.statusText||"OK",Pn=new It(z.getAllResponseHeaders()),yr=function hi(p){return"responseURL"in p&&p.responseURL?p.responseURL:/^X-Request-URL:/m.test(p.getAllResponseHeaders())?p.getResponseHeader("X-Request-URL"):null}(z)||c.url;return ve=new ut({headers:Pn,status:z.status,statusText:Xt,url:yr}),ve},ft=()=>{let{headers:Xt,status:Pn,statusText:yr,url:Gr}=qe(),ar=null;204!==Pn&&(ar=typeof z.response>"u"?z.responseText:z.response),0===Pn&&(Pn=ar?200:0);let ir=Pn>=200&&Pn<300;if("json"===c.responseType&&"string"==typeof ar){const Ti=ar;ar=ar.replace(qn,"");try{ar=""!==ar?JSON.parse(ar):null}catch(Wr){ar=Ti,ir&&(ir=!1,ar={error:Wr,text:ar})}}ir?(L.next(new Fe({body:ar,headers:Xt,status:Pn,statusText:yr,url:Gr||void 0})),L.complete()):L.error(new tt({error:ar,headers:Xt,status:Pn,statusText:yr,url:Gr||void 0}))},Lt=Xt=>{const{url:Pn}=qe(),yr=new tt({error:Xt,status:z.status||0,statusText:z.statusText||"Unknown Error",url:Pn||void 0});L.error(yr)};let En=!1;const _n=Xt=>{En||(L.next(qe()),En=!0);let Pn={type:Vt.DownloadProgress,loaded:Xt.loaded};Xt.lengthComputable&&(Pn.total=Xt.total),"text"===c.responseType&&z.responseText&&(Pn.partialText=z.responseText),L.next(Pn)},bn=Xt=>{let Pn={type:Vt.UploadProgress,loaded:Xt.loaded};Xt.lengthComputable&&(Pn.total=Xt.total),L.next(Pn)};return z.addEventListener("load",ft),z.addEventListener("error",Lt),z.addEventListener("timeout",Lt),z.addEventListener("abort",Lt),c.reportProgress&&(z.addEventListener("progress",_n),null!==ie&&z.upload&&z.upload.addEventListener("progress",bn)),z.send(ie),L.next({type:Vt.Sent}),()=>{z.removeEventListener("error",Lt),z.removeEventListener("abort",Lt),z.removeEventListener("load",ft),z.removeEventListener("timeout",Lt),c.reportProgress&&(z.removeEventListener("progress",_n),null!==ie&&z.upload&&z.upload.removeEventListener("progress",bn)),z.readyState!==z.DONE&&z.abort()}})))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(pe.N0))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const fn=new i.nKC("XSRF_ENABLED"),tr=new i.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zn=new i.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Pi{}let nt=(()=>{class p{constructor(c,y,T){this.doc=c,this.platform=y,this.cookieName=T,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const c=this.doc.cookie||"";return c!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,pe._b)(c,this.cookieName),this.lastCookieString=c),this.lastToken}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(pe.qQ),i.KVO(i.Agw),i.KVO(tr))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function gt(p,l){const c=p.url.toLowerCase();if(!(0,i.WQX)(fn)||"GET"===p.method||"HEAD"===p.method||c.startsWith("http://")||c.startsWith("https://"))return l(p);const y=(0,i.WQX)(Pi).getToken(),T=(0,i.WQX)(zn);return null!=y&&!p.headers.has(T)&&(p=p.clone({headers:p.headers.set(T,y)})),l(p)}var Re=function(p){return p[p.Interceptors=0]="Interceptors",p[p.LegacyInterceptors=1]="LegacyInterceptors",p[p.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",p[p.NoXsrfProtection=3]="NoXsrfProtection",p[p.JsonpSupport=4]="JsonpSupport",p[p.RequestsMadeViaParent=5]="RequestsMadeViaParent",p[p.Fetch=6]="Fetch",p}(Re||{});function vt(p,l){return{\u0275kind:p,\u0275providers:l}}function Gt(...p){const l=[Be,ys,kt,{provide:ct,useExisting:kt},{provide:je,useExisting:ys},{provide:Hn,useValue:gt,multi:!0},{provide:fn,useValue:!0},{provide:Pi,useClass:nt}];for(const c of p)l.push(...c.\u0275providers);return(0,i.EmA)(l)}const Fr=new i.nKC("LEGACY_INTERCEPTOR_FN");let _e=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:[Gt(vt(Re.LegacyInterceptors,[{provide:Fr,useFactory:$t},{provide:Hn,useExisting:Fr,multi:!0}]))]})}}return p})();var ur=j(6814),Ts=j(3345),yi=j(8704),ji=j(6861),Mi=j(923),vi=j(9437),Ce=j(3349);function nn(p,l){if(1&p&&(i.j41(0,"div",5),i.nrm(1,"img",6),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"h4"),i.EFF(5),i.k0s(),i.j41(6,"p"),i.EFF(7),i.k0s()()),2&p){const c=l.$implicit;i.R7$(1),i.FS9("alt",c.name),i.Y8G("src",c.photoURL,i.B4B),i.R7$(2),i.JRh(c.name),i.R7$(2),i.JRh(c.role),i.R7$(2),i.JRh(c.bio)}}function Z(p,l){if(1&p&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"div",3),i.DNE(3,nn,8,5,"div",4),i.nI1(4,"async"),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("title","Meet the Team"),i.R7$(2),i.Y8G("ngForOf",i.bMT(4,2,c.employees$))}}let fe=(()=>{class p{constructor(c,y){this.route=c,this.employeeService=y}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Ne.T)(c=>c.get("id")||""),(0,ae.n)(c=>this.employeeService.getEmployeesByBusinessId(c)),(0,vi.W)(c=>(console.error("Error fetching employees:",c),(0,Ie.of)([]))))}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ur.nX),i.rXU(yi.N))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(y,T){1&y&&i.DNE(0,Z,5,4,"div",0),2&y&&i.Y8G("ngIf",T.employees$)},dependencies:[pe.Sq,pe.bT,Ce.N,pe.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--dark-background-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:var(--primary-color)}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--dark-background-color);margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}}return p})();var He=j(4593),zt=j(491);let Cn=(()=>{class p{constructor(c,y){this.route=c,this.router=y,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"}}}ngOnInit(){this.router.events.subscribe(()=>{const y=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",y),y&&this.imagesAndMessages[y]?(this.backgroundImage=`url(${this.imagesAndMessages[y].image})`,this.message=this.imagesAndMessages[y].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ur.nX),i.rXU(ur.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(y,T){1&y&&(i.j41(0,"div",0)(1,"div",1)(2,"h1"),i.EFF(3),i.k0s()()()),2&y&&(i.xc7("background-image",T.backgroundImage),i.R7$(3),i.JRh(T.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(66,99,51,.8),rgba(66,99,51,0));color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px;color:var(--primary-color)}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}}return p})(),Rn=(()=>{class p{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(y,T){1&y&&(i.j41(0,"div",0)(1,"div",1),i.nrm(2,"img",2),i.j41(3,"div",3)(4,"p",4),i.EFF(5),i.k0s(),i.j41(6,"p",5),i.EFF(7),i.k0s()()()()),2&y&&(i.R7$(2),i.FS9("src",T.imageURL,i.B4B),i.R7$(3),i.SpI('" ',T.text,'"'),i.R7$(2),i.SpI("\u2013 ",T.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return p})();function dr(p,l){if(1&p&&(i.qex(0),i.j41(1,"button",3),i.EFF(2),i.k0s(),i.bVm()),2&p){const c=i.XpG();i.R7$(2),i.JRh(c.buttonText)}}function jr(p,l){if(1&p&&(i.j41(0,"a",4),i.EFF(1),i.k0s()),2&p){const c=i.XpG();i.R7$(1),i.JRh(c.buttonText)}}const Kr=function(p,l){return{"background-color":p,color:l}};let Tr=(()=>{class p{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(y,T){if(1&y&&(i.j41(0,"div",0)(1,"h2"),i.EFF(2),i.k0s(),i.DNE(3,dr,3,1,"ng-container",1),i.DNE(4,jr,2,1,"ng-template",null,2,i.C5r),i.k0s()),2&y){const L=i.sdS(5);i.Y8G("ngStyle",i.l_i(4,Kr,T.bgColor,T.textColor)),i.R7$(2),i.JRh(T.text),i.R7$(1),i.Y8G("ngIf",T.isButton)("ngIfElse",L)}},dependencies:[pe.bT,pe.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return p})();var Qi=j(5449);function Ps(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",4)(2,"div",5)(3,"h1"),i.EFF(4,"About Us"),i.k0s(),i.j41(5,"div",6)(6,"p"),i.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),i.k0s()()()(),i.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),i.EFF(12,"Our Story"),i.k0s()(),i.nrm(13,"div",11),i.k0s(),i.j41(14,"section",12)(15,"div",13),i.nrm(16,"img",14),i.j41(17,"div",9)(18,"h2",10),i.EFF(19,"Our Mission"),i.k0s()(),i.nrm(20,"div",11),i.k0s(),i.j41(21,"div",15),i.nrm(22,"img",14),i.j41(23,"div",9)(24,"h2",10),i.EFF(25,"Our Vision"),i.k0s()(),i.nrm(26,"div",11),i.k0s()(),i.j41(27,"section",16),i.nrm(28,"app-meet-the-team",17),i.k0s()(),i.j41(29,"div",18)(30,"div",19)(31,"h2"),i.EFF(32,"Come Meet Our Family"),i.k0s(),i.j41(33,"p"),i.EFF(34," We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home. "),i.k0s(),i.j41(35,"button",20),i.bIt("click",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.navigateToContact())}),i.EFF(36," Schedule a Visit "),i.k0s()()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(13),i.Y8G("innerHTML",c.business.businessStory,i.npT),i.R7$(3),i.Y8G("src",c.business.missionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",i.B4B),i.R7$(4),i.Y8G("innerHTML",c.business.mission,i.npT),i.R7$(2),i.Y8G("src",c.business.visionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",i.B4B),i.R7$(4),i.Y8G("innerHTML",c.business.vision,i.npT),i.R7$(2),i.Y8G("businessId",c.business.id)}}function is(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function Fo(p,l){if(1&p&&i.nrm(0,"app-left-text",26),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",(null==c?null:c.sectionTitle)||"")("content",c.sectionContent||"")}}function Lo(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",21)(3,"section",22),i.DNE(4,is,1,4,"app-right-text",23),i.nI1(5,"sectionFilter"),i.DNE(6,Fo,1,4,"app-left-text",23),i.nI1(7,"sectionFilter"),i.k0s(),i.nrm(8,"app-testimonial-image",24)(9,"app-call-to-action",25)(10,"app-meet-the-team"),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(4),i.Y8G("ngIf",i.i5U(5,10,c.business.sections,"AboutUsTextRight")),i.R7$(2),i.Y8G("ngIf",i.i5U(7,13,c.business.sections,"AboutUsTextLeft")),i.R7$(2),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[0].name)("text",c.business.testimonials[0].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function Gi(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const c=i.XpG(3);i.Y8G("themeType",c.business.theme.themeType||"")("imageURL",c.business.missionImageUrl)("title",c.business.missionTitle)("content",c.business.mission)}}function qo(p,l){if(1&p&&i.nrm(0,"app-left-text",26),2&p){const c=i.XpG(3);i.Y8G("themeType",c.business.theme.themeType||"")("imageURL",c.business.visionImageUrl)("title",c.business.visionTitle)("content",c.business.vision)}}function si(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",22),i.DNE(3,Gi,1,4,"app-right-text",23),i.DNE(4,qo,1,4,"app-left-text",23),i.k0s(),i.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25)(7,"app-meet-the-team"),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("ngIf","ehc"===c.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","ehc"===c.business.theme.themeType),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[0].name)("text",c.business.testimonials[0].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function ss(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function vs(p,l){if(1&p&&i.nrm(0,"app-left-text",26),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function qr(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function Ki(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",22),i.DNE(3,ss,1,4,"app-right-text",23),i.nI1(4,"sectionFilter"),i.DNE(5,vs,1,4,"app-left-text",23),i.nI1(6,"sectionFilter"),i.DNE(7,qr,1,4,"app-right-text",23),i.nI1(8,"sectionFilter"),i.k0s(),i.nrm(9,"app-testimonial-image",24)(10,"app-call-to-action",25)(11,"app-meet-the-team"),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("ngIf",i.i5U(4,11,c.business.sections,"AboutUsTextRight")),i.R7$(2),i.Y8G("ngIf",i.i5U(6,14,c.business.sections,"AboutUsTextLeft")),i.R7$(2),i.Y8G("ngIf",i.i5U(8,17,c.business.sections,"AboutUsTextRight2")),i.R7$(2),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[2].name)("text",c.business.testimonials[2].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function Li(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",22),i.nrm(3,"app-right-text",26)(4,"app-left-text",26),i.k0s(),i.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("themeType",c.business.theme.themeType||"")("imageURL",c.business.missionImageUrl)("title",c.business.missionTitle)("content",c.business.mission),i.R7$(1),i.Y8G("themeType",c.business.theme.themeType||"")("imageURL",c.business.visionImageUrl)("title",c.business.visionTitle)("content",c.business.vision),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[5].name)("text",c.business.testimonials[5].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function Ir(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Ps,37,6,"ng-container",2),i.DNE(3,Lo,11,16,"ng-container",2),i.DNE(4,si,8,10,"ng-container",2),i.DNE(5,Ki,12,20,"ng-container",2),i.DNE(6,Li,7,16,"ng-container",3),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo")}}let lo=(()=>{class p{constructor(c,y,T,L,z){this.webContent=c,this.route=y,this.router=T,this.metaService=L,this.businessDataService=z,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.businessId=c?.id||null,console.log("About Us Business.Sections",c?.sections),this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(yi.N),i.rXU(ur.nX),i.rXU(ur.Ix),i.rXU(ji.R),i.rXU(Mi.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"content-wrapper"],[1,"our-approach"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"themeType","imageURL","title","content"]],template:function(y,T){1&y&&i.DNE(0,Ir,7,5,"div",0),2&y&&i.Y8G("ngIf",T.business)},dependencies:[pe.bT,pe.ux,pe.e1,pe.fG,fe,He.F,zt.G,Cn,Rn,Tr,Qi.W],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}}return p})();function Vo(p,l){if(1&p&&(i.j41(0,"div",4),i.nrm(1,"i",5),i.j41(2,"h2"),i.EFF(3),i.k0s(),i.j41(4,"p"),i.EFF(5),i.k0s()()),2&p){const c=l.$implicit;i.R7$(1),i.Y8G("ngClass",c.icon),i.R7$(2),i.JRh(c.name),i.R7$(2),i.JRh(c.description)}}let fi=(()=>{class p{constructor(){this.layoutType="demo"}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType"},decls:4,vars:2,consts:[[1,"services-section"],[3,"title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"]],template:function(y,T){1&y&&(i.j41(0,"section",0),i.nrm(1,"app-section-tilte",1),i.j41(2,"div",2),i.DNE(3,Vo,6,3,"div",3),i.k0s()()),2&y&&(i.R7$(1),i.Y8G("title","Our Services"),i.R7$(2),i.Y8G("ngForOf",T.services))},dependencies:[pe.YU,pe.Sq,Ce.N],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();function La(p,l){if(1&p&&(i.j41(0,"li")(1,"h3"),i.EFF(2),i.k0s()()),2&p){const c=l.$implicit;i.R7$(2),i.JRh(c.name)}}function Za(p,l){if(1&p&&(i.j41(0,"li")(1,"h3"),i.EFF(2),i.k0s()()),2&p){const c=l.$implicit;i.R7$(2),i.JRh(c.name)}}function Ri(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",4)(2,"div",5)(3,"h1"),i.EFF(4,"Our Services"),i.k0s(),i.j41(5,"div",6)(6,"p"),i.EFF(7,"Providing exceptional care tailored to your needs"),i.k0s()()()(),i.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),i.EFF(12,"Our Services"),i.k0s()(),i.j41(13,"ul"),i.DNE(14,La,3,1,"li",11),i.k0s()(),i.j41(15,"section",8)(16,"div",9)(17,"h2",10),i.EFF(18,"Our Benefits"),i.k0s()(),i.j41(19,"ul"),i.DNE(20,Za,3,1,"li",11),i.k0s()(),i.j41(21,"section",12)(22,"div",9)(23,"h2",10),i.EFF(24,"Special Programs"),i.k0s()(),i.j41(25,"h3"),i.EFF(26),i.k0s()(),i.j41(27,"section",13)(28,"div",14),i.nrm(29,"img",15),i.j41(30,"div",9)(31,"h2",10),i.EFF(32,"Tours"),i.k0s()(),i.nrm(33,"div",16),i.k0s(),i.j41(34,"div",17),i.nrm(35,"img",18),i.j41(36,"div",9)(37,"h2",10),i.EFF(38,"Free Consulting"),i.k0s()(),i.nrm(39,"div",16),i.k0s()()(),i.j41(40,"div",19)(41,"div",20)(42,"h2"),i.EFF(43,"Ready to Experience Exceptional Care?"),i.k0s(),i.j41(44,"p"),i.EFF(45," Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services. "),i.k0s(),i.j41(46,"button",21),i.bIt("click",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.navigateToContact())}),i.EFF(47," Book a Consultation "),i.k0s()()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(14),i.Y8G("ngForOf",c.business.services),i.R7$(6),i.Y8G("ngForOf",c.business.benefits),i.R7$(6),i.JRh(c.business.specialPrograms),i.R7$(7),i.Y8G("innerHTML",c.business.tours,i.npT),i.R7$(6),i.Y8G("innerHTML",c.business.freeConsulting,i.npT)}}function va(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",c.business.services),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[1].name)("text",c.business.testimonials[1].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}const Yr=function(){return{icon:"fas fa-person-cane",name:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},Ms=function(){return{icon:"fas fa-people-group",name:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},Rs=function(){return{icon:"fas fa-bowl-food",name:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},oi=function(){return{icon:"fas fa-prescription-bottle",name:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},Is=function(){return{icon:"fas fa-shower",name:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},os=function(){return{icon:"fas fa-bed-pulse",name:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},to=function(p,l,c,y,T,L){return[p,l,c,y,T,L]};function as(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",i.l4e(16,to,i.lJ4(10,Yr),i.lJ4(11,Ms),i.lJ4(12,Rs),i.lJ4(13,oi),i.lJ4(14,Is),i.lJ4(15,os))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[1].name)("text",c.business.testimonials[1].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function ws(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",c.business.services),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[4].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function Bs(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",i.l4e(16,to,i.lJ4(10,Yr),i.lJ4(11,Ms),i.lJ4(12,Rs),i.lJ4(13,oi),i.lJ4(14,Is),i.lJ4(15,os))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[6].name)("text",c.business.testimonials[6].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function ai(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Ri,48,5,"ng-container",2),i.DNE(3,va,6,10,"ng-container",2),i.DNE(4,as,6,23,"ng-container",2),i.DNE(5,ws,6,10,"ng-container",2),i.DNE(6,Bs,6,23,"ng-container",3),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo")}}let pn=(()=>{class p{constructor(c,y,T){this.router=c,this.businessDataService=y,this.metaService=T,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.businessId=c?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ur.Ix),i.rXU(Mi.A),i.rXU(ji.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],[1,"heading-container"],[1,"styled-heading"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_(3).jpg",1,"service_image"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_(1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(y,T){1&y&&i.DNE(0,ai,7,5,"div",0),2&y&&i.Y8G("ngIf",T.business)},dependencies:[pe.Sq,pe.bT,pe.ux,pe.e1,pe.fG,fi,Cn,Rn,Tr],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}}return p})();var Ln="top",Wn="bottom",ci="right",ti="left",Oi="auto",hs=[Ln,Wn,ci,ti],Rr="start",Bi="end",As="clippingParents",Qn="viewport",zi="popper",Os="reference",ee=hs.reduce(function(p,l){return p.concat([l+"-"+Rr,l+"-"+Bi])},[]),Q=[].concat(hs,[Oi]).reduce(function(p,l){return p.concat([l,l+"-"+Rr,l+"-"+Bi])},[]),we="beforeRead",Oe="read",Je="afterRead",mt="beforeMain",Yt="main",Dn="afterMain",yn="beforeWrite",Jn="write",wr="afterWrite",Fn=[we,Oe,Je,mt,Yt,Dn,yn,Jn,wr];function Sn(p){return p?(p.nodeName||"").toLowerCase():null}function Un(p){if(null==p)return window;if("[object Window]"!==p.toString()){var l=p.ownerDocument;return l&&l.defaultView||window}return p}function Br(p){return p instanceof Un(p).Element||p instanceof Element}function vr(p){return p instanceof Un(p).HTMLElement||p instanceof HTMLElement}function Ai(p){return!(typeof ShadowRoot>"u")&&(p instanceof Un(p).ShadowRoot||p instanceof ShadowRoot)}const Cr={name:"applyStyles",enabled:!0,phase:"write",fn:function Ji(p){var l=p.state;Object.keys(l.elements).forEach(function(c){var y=l.styles[c]||{},T=l.attributes[c]||{},L=l.elements[c];!vr(L)||!Sn(L)||(Object.assign(L.style,y),Object.keys(T).forEach(function(z){var ie=T[z];!1===ie?L.removeAttribute(z):L.setAttribute(z,!0===ie?"":ie)}))})},effect:function Ni(p){var l=p.state,c={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,c.popper),l.styles=c,l.elements.arrow&&Object.assign(l.elements.arrow.style,c.arrow),function(){Object.keys(l.elements).forEach(function(y){var T=l.elements[y],L=l.attributes[y]||{},ie=Object.keys(l.styles.hasOwnProperty(y)?l.styles[y]:c[y]).reduce(function(ve,qe){return ve[qe]="",ve},{});!vr(T)||!Sn(T)||(Object.assign(T.style,ie),Object.keys(L).forEach(function(ve){T.removeAttribute(ve)}))})}},requires:["computeStyles"]};function Xr(p){return p.split("-")[0]}var li=Math.max,Nr=Math.min,Ys=Math.round;function Zi(){var p=navigator.userAgentData;return null!=p&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function Xs(){return!/^((?!chrome|android).)*safari/i.test(Zi())}function Ds(p,l,c){void 0===l&&(l=!1),void 0===c&&(c=!1);var y=p.getBoundingClientRect(),T=1,L=1;l&&vr(p)&&(T=p.offsetWidth>0&&Ys(y.width)/p.offsetWidth||1,L=p.offsetHeight>0&&Ys(y.height)/p.offsetHeight||1);var ie=(Br(p)?Un(p):window).visualViewport,ve=!Xs()&&c,qe=(y.left+(ve&&ie?ie.offsetLeft:0))/T,ft=(y.top+(ve&&ie?ie.offsetTop:0))/L,Lt=y.width/T,En=y.height/L;return{width:Lt,height:En,top:ft,right:qe+Lt,bottom:ft+En,left:qe,x:qe,y:ft}}function Uo(p){var l=Ds(p),c=p.offsetWidth,y=p.offsetHeight;return Math.abs(l.width-c)<=1&&(c=l.width),Math.abs(l.height-y)<=1&&(y=l.height),{x:p.offsetLeft,y:p.offsetTop,width:c,height:y}}function Va(p,l){var c=l.getRootNode&&l.getRootNode();if(p.contains(l))return!0;if(c&&Ai(c)){var y=l;do{if(y&&p.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function $s(p){return Un(p).getComputedStyle(p)}function Vl(p){return["table","td","th"].indexOf(Sn(p))>=0}function qi(p){return((Br(p)?p.ownerDocument:p.document)||window.document).documentElement}function fs(p){return"html"===Sn(p)?p:p.assignedSlot||p.parentNode||(Ai(p)?p.host:null)||qi(p)}function Co(p){return vr(p)&&"fixed"!==$s(p).position?p.offsetParent:null}function jo(p){for(var l=Un(p),c=Co(p);c&&Vl(c)&&"static"===$s(c).position;)c=Co(c);return c&&("html"===Sn(c)||"body"===Sn(c)&&"static"===$s(c).position)?l:c||function ec(p){var l=/firefox/i.test(Zi());if(/Trident/i.test(Zi())&&vr(p)&&"fixed"===$s(p).position)return null;var T=fs(p);for(Ai(T)&&(T=T.host);vr(T)&&["html","body"].indexOf(Sn(T))<0;){var L=$s(T);if("none"!==L.transform||"none"!==L.perspective||"paint"===L.contain||-1!==["transform","perspective"].indexOf(L.willChange)||l&&"filter"===L.willChange||l&&L.filter&&"none"!==L.filter)return T;T=T.parentNode}return null}(p)||l}function Ei(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function To(p,l,c){return li(p,Nr(l,c))}function J(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function V(p,l){return l.reduce(function(c,y){return c[y]=p,c},{})}const rr={name:"arrow",enabled:!0,phase:"main",fn:function Ue(p){var l,c=p.state,y=p.name,T=p.options,L=c.elements.arrow,z=c.modifiersData.popperOffsets,ie=Xr(c.placement),ve=Ei(ie),ft=[ti,ci].indexOf(ie)>=0?"height":"width";if(L&&z){var Lt=function(l,c){return J("number"!=typeof(l="function"==typeof l?l(Object.assign({},c.rects,{placement:c.placement})):l)?l:V(l,hs))}(T.padding,c),En=Uo(L),_n="y"===ve?Ln:ti,bn="y"===ve?Wn:ci,Xt=c.rects.reference[ft]+c.rects.reference[ve]-z[ve]-c.rects.popper[ft],Pn=z[ve]-c.rects.reference[ve],yr=jo(L),Gr=yr?"y"===ve?yr.clientHeight||0:yr.clientWidth||0:0,Wr=Gr/2-En[ft]/2+(Xt/2-Pn/2),Qr=To(Lt[_n],Wr,Gr-En[ft]-Lt[bn]);c.modifiersData[y]=((l={})[ve]=Qr,l.centerOffset=Qr-Wr,l)}},effect:function gn(p){var l=p.state,y=p.options.element,T=void 0===y?"[data-popper-arrow]":y;null!=T&&("string"==typeof T&&!(T=l.elements.popper.querySelector(T))||Va(l.elements.popper,T)&&(l.elements.arrow=T))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wi(p){return p.split("-")[1]}var Qs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uo(p){var l,c=p.popper,y=p.popperRect,T=p.placement,L=p.variation,z=p.offsets,ie=p.position,ve=p.gpuAcceleration,qe=p.adaptive,ft=p.roundOffsets,Lt=p.isFixed,En=z.x,_n=void 0===En?0:En,bn=z.y,Xt=void 0===bn?0:bn,Pn="function"==typeof ft?ft({x:_n,y:Xt}):{x:_n,y:Xt};_n=Pn.x,Xt=Pn.y;var yr=z.hasOwnProperty("x"),Gr=z.hasOwnProperty("y"),ar=ti,ir=Ln,Ti=window;if(qe){var Wr=jo(c),Qr="clientHeight",ts="clientWidth";Wr===Un(c)&&"static"!==$s(Wr=qi(c)).position&&"absolute"===ie&&(Qr="scrollHeight",ts="scrollWidth"),(T===Ln||(T===ti||T===ci)&&L===Bi)&&(ir=Wn,Xt-=(Lt&&Wr===Ti&&Ti.visualViewport?Ti.visualViewport.height:Wr[Qr])-y.height,Xt*=ve?1:-1),T!==ti&&(T!==Ln&&T!==Wn||L!==Bi)||(ar=ci,_n-=(Lt&&Wr===Ti&&Ti.visualViewport?Ti.visualViewport.width:Wr[ts])-y.width,_n*=ve?1:-1)}var ms,Oo=Object.assign({position:ie},qe&&Qs),co=!0===ft?function ps(p,l){var y=p.y,T=l.devicePixelRatio||1;return{x:Ys(p.x*T)/T||0,y:Ys(y*T)/T||0}}({x:_n,y:Xt},Un(c)):{x:_n,y:Xt};return _n=co.x,Xt=co.y,Object.assign({},Oo,ve?((ms={})[ir]=Gr?"0":"",ms[ar]=yr?"0":"",ms.transform=(Ti.devicePixelRatio||1)<=1?"translate("+_n+"px, "+Xt+"px)":"translate3d("+_n+"px, "+Xt+"px, 0)",ms):((l={})[ir]=Gr?Xt+"px":"",l[ar]=yr?_n+"px":"",l.transform="",l))}const es={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function no(p){var l=p.state,c=p.options,y=c.gpuAcceleration,T=void 0===y||y,L=c.adaptive,z=void 0===L||L,ie=c.roundOffsets,ve=void 0===ie||ie,qe={placement:Xr(l.placement),variation:Wi(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:T,isFixed:"fixed"===l.options.strategy};null!=l.modifiersData.popperOffsets&&(l.styles.popper=Object.assign({},l.styles.popper,uo(Object.assign({},qe,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:z,roundOffsets:ve})))),null!=l.modifiersData.arrow&&(l.styles.arrow=Object.assign({},l.styles.arrow,uo(Object.assign({},qe,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ve})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var ho={passive:!0};const gs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Ul(p){var l=p.state,c=p.instance,y=p.options,T=y.scroll,L=void 0===T||T,z=y.resize,ie=void 0===z||z,ve=Un(l.elements.popper),qe=[].concat(l.scrollParents.reference,l.scrollParents.popper);return L&&qe.forEach(function(ft){ft.addEventListener("scroll",c.update,ho)}),ie&&ve.addEventListener("resize",c.update,ho),function(){L&&qe.forEach(function(ft){ft.removeEventListener("scroll",c.update,ho)}),ie&&ve.removeEventListener("resize",c.update,ho)}},data:{}};var Ea={left:"right",right:"left",bottom:"top",top:"bottom"};function $i(p){return p.replace(/left|right|bottom|top/g,function(l){return Ea[l]})}var rl={start:"end",end:"start"};function cs(p){return p.replace(/start|end/g,function(l){return rl[l]})}function ba(p){var l=Un(p);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function Js(p){return Ds(qi(p)).left+ba(p).scrollLeft}function fa(p){var l=$s(p);return/auto|scroll|overlay|hidden/.test(l.overflow+l.overflowY+l.overflowX)}function Ta(p){return["html","body","#document"].indexOf(Sn(p))>=0?p.ownerDocument.body:vr(p)&&fa(p)?p:Ta(fs(p))}function Ia(p,l){var c;void 0===l&&(l=[]);var y=Ta(p),T=y===(null==(c=p.ownerDocument)?void 0:c.body),L=Un(y),z=T?[L].concat(L.visualViewport||[],fa(y)?y:[]):y,ie=l.concat(z);return T?ie:ie.concat(Ia(fs(z)))}function il(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function Tc(p,l,c){return l===Qn?il(function Ca(p,l){var c=Un(p),y=qi(p),T=c.visualViewport,L=y.clientWidth,z=y.clientHeight,ie=0,ve=0;if(T){L=T.width,z=T.height;var qe=Xs();(qe||!qe&&"fixed"===l)&&(ie=T.offsetLeft,ve=T.offsetTop)}return{width:L,height:z,x:ie+Js(p),y:ve}}(p,c)):Br(l)?function gr(p,l){var c=Ds(p,!1,"fixed"===l);return c.top=c.top+p.clientTop,c.left=c.left+p.clientLeft,c.bottom=c.top+p.clientHeight,c.right=c.left+p.clientWidth,c.width=p.clientWidth,c.height=p.clientHeight,c.x=c.left,c.y=c.top,c}(l,c):il(function Ss(p){var l,c=qi(p),y=ba(p),T=null==(l=p.ownerDocument)?void 0:l.body,L=li(c.scrollWidth,c.clientWidth,T?T.scrollWidth:0,T?T.clientWidth:0),z=li(c.scrollHeight,c.clientHeight,T?T.scrollHeight:0,T?T.clientHeight:0),ie=-y.scrollLeft+Js(p),ve=-y.scrollTop;return"rtl"===$s(T||c).direction&&(ie+=li(c.clientWidth,T?T.clientWidth:0)-L),{width:L,height:z,x:ie,y:ve}}(qi(p)))}function Ua(p){var ve,l=p.reference,c=p.element,y=p.placement,T=y?Xr(y):null,L=y?Wi(y):null,z=l.x+l.width/2-c.width/2,ie=l.y+l.height/2-c.height/2;switch(T){case Ln:ve={x:z,y:l.y-c.height};break;case Wn:ve={x:z,y:l.y+l.height};break;case ci:ve={x:l.x+l.width,y:ie};break;case ti:ve={x:l.x-c.width,y:ie};break;default:ve={x:l.x,y:l.y}}var qe=T?Ei(T):null;if(null!=qe){var ft="y"===qe?"height":"width";switch(L){case Rr:ve[qe]=ve[qe]-(l[ft]/2-c[ft]/2);break;case Bi:ve[qe]=ve[qe]+(l[ft]/2-c[ft]/2)}}return ve}function ja(p,l){void 0===l&&(l={});var y=l.placement,T=void 0===y?p.placement:y,L=l.strategy,z=void 0===L?p.strategy:L,ie=l.boundary,ve=void 0===ie?As:ie,qe=l.rootBoundary,ft=void 0===qe?Qn:qe,Lt=l.elementContext,En=void 0===Lt?zi:Lt,_n=l.altBoundary,bn=void 0!==_n&&_n,Xt=l.padding,Pn=void 0===Xt?0:Xt,yr=J("number"!=typeof Pn?Pn:V(Pn,hs)),ar=p.rects.popper,ir=p.elements[bn?En===zi?Os:zi:En],Ti=function Xo(p,l,c,y){var T="clippingParents"===l?function Io(p){var l=Ia(fs(p)),y=["absolute","fixed"].indexOf($s(p).position)>=0&&vr(p)?jo(p):p;return Br(y)?l.filter(function(T){return Br(T)&&Va(T,y)&&"body"!==Sn(T)}):[]}(p):[].concat(l),L=[].concat(T,[c]),ie=L.reduce(function(ve,qe){var ft=Tc(p,qe,y);return ve.top=li(ft.top,ve.top),ve.right=Nr(ft.right,ve.right),ve.bottom=Nr(ft.bottom,ve.bottom),ve.left=li(ft.left,ve.left),ve},Tc(p,L[0],y));return ie.width=ie.right-ie.left,ie.height=ie.bottom-ie.top,ie.x=ie.left,ie.y=ie.top,ie}(Br(ir)?ir:ir.contextElement||qi(p.elements.popper),ve,ft,z),Wr=Ds(p.elements.reference),Qr=Ua({reference:Wr,element:ar,strategy:"absolute",placement:T}),ts=il(Object.assign({},ar,Qr)),ns=En===zi?ts:Wr,Xi={top:Ti.top-ns.top+yr.top,bottom:ns.bottom-Ti.bottom+yr.bottom,left:Ti.left-ns.left+yr.left,right:ns.right-Ti.right+yr.right},Oo=p.modifiersData.offset;if(En===zi&&Oo){var co=Oo[T];Object.keys(Xi).forEach(function(ms){var vu=[ci,Wn].indexOf(ms)>=0?1:-1,Eu=[Ln,Wn].indexOf(ms)>=0?"y":"x";Xi[ms]+=co[Eu]*vu})}return Xi}const jl={name:"flip",enabled:!0,phase:"main",fn:function tc(p){var l=p.state,c=p.options,y=p.name;if(!l.modifiersData[y]._skip){for(var T=c.mainAxis,L=void 0===T||T,z=c.altAxis,ie=void 0===z||z,ve=c.fallbackPlacements,qe=c.padding,ft=c.boundary,Lt=c.rootBoundary,En=c.altBoundary,_n=c.flipVariations,bn=void 0===_n||_n,Xt=c.allowedAutoPlacements,Pn=l.options.placement,yr=Xr(Pn),ar=ve||(yr!==Pn&&bn?function Fh(p){if(Xr(p)===Oi)return[];var l=$i(p);return[cs(p),l,cs(l)]}(Pn):[$i(Pn)]),ir=[Pn].concat(ar).reduce(function(rs,bu){return rs.concat(Xr(bu)===Oi?function Ic(p,l){void 0===l&&(l={});var T=l.boundary,L=l.rootBoundary,z=l.padding,ie=l.flipVariations,ve=l.allowedAutoPlacements,qe=void 0===ve?Q:ve,ft=Wi(l.placement),Lt=ft?ie?ee:ee.filter(function(bn){return Wi(bn)===ft}):hs,En=Lt.filter(function(bn){return qe.indexOf(bn)>=0});0===En.length&&(En=Lt);var _n=En.reduce(function(bn,Xt){return bn[Xt]=ja(p,{placement:Xt,boundary:T,rootBoundary:L,padding:z})[Xr(Xt)],bn},{});return Object.keys(_n).sort(function(bn,Xt){return _n[bn]-_n[Xt]})}(l,{placement:bu,boundary:ft,rootBoundary:Lt,padding:qe,flipVariations:bn,allowedAutoPlacements:Xt}):bu)},[]),Ti=l.rects.reference,Wr=l.rects.popper,Qr=new Map,ts=!0,ns=ir[0],Xi=0;Xi<ir.length;Xi++){var Oo=ir[Xi],co=Xr(Oo),ms=Wi(Oo)===Rr,vu=[Ln,Wn].indexOf(co)>=0,Eu=vu?"width":"height",On=ja(l,{placement:Oo,boundary:ft,rootBoundary:Lt,altBoundary:En,padding:qe}),Yn=vu?ms?ci:ti:ms?Wn:Ln;Ti[Eu]>Wr[Eu]&&(Yn=$i(Yn));var fr=$i(Yn),Jr=[];if(L&&Jr.push(On[co]<=0),ie&&Jr.push(On[Yn]<=0,On[fr]<=0),Jr.every(function(rs){return rs})){ns=Oo,ts=!1;break}Qr.set(Oo,Jr)}if(ts)for(var Fa=function(bu){var bg=ir.find(function(Eo){var ya=Qr.get(Eo);if(ya)return ya.slice(0,bu).every(function(ko){return ko})});if(bg)return ns=bg,"break"},No=bn?3:1;No>0&&"break"!==Fa(No);No--);l.placement!==ns&&(l.modifiersData[y]._skip=!0,l.placement=ns,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function nc(p,l,c){return void 0===c&&(c={x:0,y:0}),{top:p.top-l.height-c.y,right:p.right-l.width+c.x,bottom:p.bottom-l.height+c.y,left:p.left-l.width-c.x}}function Bo(p){return[Ln,ci,Wn,ti].some(function(l){return p[l]>=0})}const wa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function sl(p){var l=p.state,c=p.name,y=l.rects.reference,T=l.rects.popper,L=l.modifiersData.preventOverflow,z=ja(l,{elementContext:"reference"}),ie=ja(l,{altBoundary:!0}),ve=nc(z,y),qe=nc(ie,T,L),ft=Bo(ve),Lt=Bo(qe);l.modifiersData[c]={referenceClippingOffsets:ve,popperEscapeOffsets:qe,isReferenceHidden:ft,hasPopperEscaped:Lt},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":ft,"data-popper-escaped":Lt})}},Ba={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function ic(p){var l=p.state,y=p.name,T=p.options.offset,L=void 0===T?[0,0]:T,z=Q.reduce(function(ft,Lt){return ft[Lt]=function rc(p,l,c){var y=Xr(p),T=[ti,Ln].indexOf(y)>=0?-1:1,L="function"==typeof c?c(Object.assign({},l,{placement:p})):c,z=L[0],ie=L[1];return z=z||0,ie=(ie||0)*T,[ti,ci].indexOf(y)>=0?{x:ie,y:z}:{x:z,y:ie}}(Lt,l.rects,L),ft},{}),ie=z[l.placement],qe=ie.y;null!=l.modifiersData.popperOffsets&&(l.modifiersData.popperOffsets.x+=ie.x,l.modifiersData.popperOffsets.y+=qe),l.modifiersData[y]=z}},P={name:"popperOffsets",enabled:!0,phase:"read",fn:function Bl(p){var l=p.state;l.modifiersData[p.name]=Ua({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})},data:{}},Y={name:"preventOverflow",enabled:!0,phase:"main",fn:function B(p){var l=p.state,c=p.options,y=p.name,T=c.mainAxis,L=void 0===T||T,z=c.altAxis,ie=void 0!==z&&z,En=c.tether,_n=void 0===En||En,bn=c.tetherOffset,Xt=void 0===bn?0:bn,Pn=ja(l,{boundary:c.boundary,rootBoundary:c.rootBoundary,padding:c.padding,altBoundary:c.altBoundary}),yr=Xr(l.placement),Gr=Wi(l.placement),ar=!Gr,ir=Ei(yr),Ti=function ne(p){return"x"===p?"y":"x"}(ir),Wr=l.modifiersData.popperOffsets,Qr=l.rects.reference,ts=l.rects.popper,ns="function"==typeof Xt?Xt(Object.assign({},l.rects,{placement:l.placement})):Xt,Xi="number"==typeof ns?{mainAxis:ns,altAxis:ns}:Object.assign({mainAxis:0,altAxis:0},ns),Oo=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,co={x:0,y:0};if(Wr){if(L){var ms,vu="y"===ir?Ln:ti,Eu="y"===ir?Wn:ci,On="y"===ir?"height":"width",Yn=Wr[ir],fr=Yn+Pn[vu],Jr=Yn-Pn[Eu],Ks=_n?-ts[On]/2:0,Fa=Gr===Rr?Qr[On]:ts[On],No=Gr===Rr?-ts[On]:-Qr[On],bc=l.elements.arrow,rs=_n&&bc?Uo(bc):{width:0,height:0},bu=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},bg=bu[vu],Eo=bu[Eu],ya=To(0,Qr[On],rs[On]),ko=ar?Qr[On]/2-Ks-ya-bg-Xi.mainAxis:Fa-ya-bg-Xi.mainAxis,Cg=ar?-Qr[On]/2+Ks+ya+Eo+Xi.mainAxis:No+ya+Eo+Xi.mainAxis,Kf=l.elements.arrow&&jo(l.elements.arrow),DE=Kf?"y"===ir?Kf.clientTop||0:Kf.clientLeft||0:0,Tg=null!=(ms=Oo?.[ir])?ms:0,bb=Yn+Cg-Tg,SE=To(_n?Nr(fr,Yn+ko-Tg-DE):fr,Yn,_n?li(Jr,bb):Jr);Wr[ir]=SE,co[ir]=SE-Yn}if(ie){var xE,kh=Wr[Ti],Sy="y"===Ti?"height":"width",PE=kh+Pn["x"===ir?Ln:ti],Ig=kh-Pn["x"===ir?Wn:ci],s0=-1!==[Ln,ti].indexOf(yr),o0=null!=(xE=Oo?.[Ti])?xE:0,ME=s0?PE:kh-Qr[Sy]-ts[Sy]-o0+Xi.altAxis,a0=s0?kh+Qr[Sy]+ts[Sy]-o0-Xi.altAxis:Ig,RE=_n&&s0?function Yo(p,l,c){var y=To(p,l,c);return y>c?c:y}(ME,kh,a0):To(_n?ME:PE,kh,_n?a0:Ig);Wr[Ti]=RE,co[Ti]=RE-kh}l.modifiersData[y]=co}},requiresIfExists:["offset"]};function jn(p,l,c){void 0===c&&(c=!1);var y=vr(l),T=vr(l)&&function Ot(p){var l=p.getBoundingClientRect(),c=Ys(l.width)/p.offsetWidth||1,y=Ys(l.height)/p.offsetHeight||1;return 1!==c||1!==y}(l),L=qi(l),z=Ds(p,T,c),ie={scrollLeft:0,scrollTop:0},ve={x:0,y:0};return(y||!y&&!c)&&(("body"!==Sn(l)||fa(L))&&(ie=function Ct(p){return p!==Un(p)&&vr(p)?function Me(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):ba(p)}(l)),vr(l)?((ve=Ds(l,!0)).x+=l.clientLeft,ve.y+=l.clientTop):L&&(ve.x=Js(L))),{x:z.left+ie.scrollLeft-ve.x,y:z.top+ie.scrollTop-ve.y,width:z.width,height:z.height}}function zr(p){var l=new Map,c=new Set,y=[];function T(L){c.add(L.name),[].concat(L.requires||[],L.requiresIfExists||[]).forEach(function(ie){if(!c.has(ie)){var ve=l.get(ie);ve&&T(ve)}}),y.push(L)}return p.forEach(function(L){l.set(L.name,L)}),p.forEach(function(L){c.has(L.name)||T(L)}),y}function ni(p){var l;return function(){return l||(l=new Promise(function(c){Promise.resolve().then(function(){l=void 0,c(p())})})),l}}var ri={placement:"bottom",modifiers:[],strategy:"absolute"};function Di(){for(var p=arguments.length,l=new Array(p),c=0;c<p;c++)l[c]=arguments[c];return!l.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function bi(p){void 0===p&&(p={});var c=p.defaultModifiers,y=void 0===c?[]:c,T=p.defaultOptions,L=void 0===T?ri:T;return function(ie,ve,qe){void 0===qe&&(qe=L);var ft={placement:"bottom",orderedModifiers:[],options:Object.assign({},ri,L),modifiersData:{},elements:{reference:ie,popper:ve},attributes:{},styles:{}},Lt=[],En=!1,_n={state:ft,setOptions:function(yr){var Gr="function"==typeof yr?yr(ft.options):yr;Xt(),ft.options=Object.assign({},L,ft.options,Gr),ft.scrollParents={reference:Br(ie)?Ia(ie):ie.contextElement?Ia(ie.contextElement):[],popper:Ia(ve)};var ar=function gi(p){var l=zr(p);return Fn.reduce(function(c,y){return c.concat(l.filter(function(T){return T.phase===y}))},[])}(function mr(p){var l=p.reduce(function(c,y){var T=c[y.name];return c[y.name]=T?Object.assign({},T,y,{options:Object.assign({},T.options,y.options),data:Object.assign({},T.data,y.data)}):y,c},{});return Object.keys(l).map(function(c){return l[c]})}([].concat(y,ft.options.modifiers)));return ft.orderedModifiers=ar.filter(function(ir){return ir.enabled}),function bn(){ft.orderedModifiers.forEach(function(Pn){var Gr=Pn.options,ir=Pn.effect;if("function"==typeof ir){var Ti=ir({state:ft,name:Pn.name,instance:_n,options:void 0===Gr?{}:Gr});Lt.push(Ti||function(){})}})}(),_n.update()},forceUpdate:function(){if(!En){var yr=ft.elements,Gr=yr.reference,ar=yr.popper;if(Di(Gr,ar)){ft.rects={reference:jn(Gr,jo(ar),"fixed"===ft.options.strategy),popper:Uo(ar)},ft.reset=!1,ft.placement=ft.options.placement,ft.orderedModifiers.forEach(function(Xi){return ft.modifiersData[Xi.name]=Object.assign({},Xi.data)});for(var ir=0;ir<ft.orderedModifiers.length;ir++)if(!0!==ft.reset){var Ti=ft.orderedModifiers[ir],Wr=Ti.fn,Qr=Ti.options;"function"==typeof Wr&&(ft=Wr({state:ft,options:void 0===Qr?{}:Qr,name:Ti.name,instance:_n})||ft)}else ft.reset=!1,ir=-1}}},update:ni(function(){return new Promise(function(Pn){_n.forceUpdate(),Pn(ft)})}),destroy:function(){Xt(),En=!0}};if(!Di(ie,ve))return _n;function Xt(){Lt.forEach(function(Pn){return Pn()}),Lt=[]}return _n.setOptions(qe).then(function(Pn){!En&&qe.onFirstUpdate&&qe.onFirstUpdate(Pn)}),_n}}var fo=bi(),$o=bi({defaultModifiers:[gs,P,es,Cr,Ba,jl,Y,rr,wa]}),Qo=bi({defaultModifiers:[gs,P,es,Cr]});const Ui=new Map,po={set(p,l,c){Ui.has(p)||Ui.set(p,new Map);const y=Ui.get(p);y.has(l)||0===y.size?y.set(l,c):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(p,l)=>Ui.has(p)&&Ui.get(p).get(l)||null,remove(p,l){if(!Ui.has(p))return;const c=Ui.get(p);c.delete(l),0===c.size&&Ui.delete(p)}},Dr="transitionend",sc=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(l,c)=>`#${CSS.escape(c)}`)),p),wc=p=>{p.dispatchEvent(new Event(Dr))},mi=p=>!(!p||"object"!=typeof p)&&(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),$a=p=>mi(p)?p.jquery?p[0]:p:"string"==typeof p&&p.length>0?document.querySelector(sc(p)):null,Ha=p=>{if(!mi(p)||0===p.getClientRects().length)return!1;const l="visible"===getComputedStyle(p).getPropertyValue("visibility"),c=p.closest("details:not([open])");if(!c)return l;if(c!==p){const y=p.closest("summary");if(y&&y.parentNode!==c||null===y)return!1}return l},Gs=p=>!(p&&p.nodeType===Node.ELEMENT_NODE&&!p.classList.contains("disabled"))||(typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&"false"!==p.getAttribute("disabled")),Es=p=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof p.getRootNode){const l=p.getRootNode();return l instanceof ShadowRoot?l:null}return p instanceof ShadowRoot?p:p.parentNode?Es(p.parentNode):null},Jo=()=>{},Tu=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,$l=[],go=()=>"rtl"===document.documentElement.dir,Kn=p=>{(p=>{"loading"===document.readyState?($l.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of $l)l()}),$l.push(p)):p()})(()=>{const l=Tu();if(l){const c=p.NAME,y=l.fn[c];l.fn[c]=p.jQueryInterface,l.fn[c].Constructor=p,l.fn[c].noConflict=()=>(l.fn[c]=y,p.jQueryInterface)}})},zs=(p,l=[],c=p)=>"function"==typeof p?p(...l):c,Hl=(p,l,c=!0)=>{if(!c)return void zs(p);const T=(p=>{if(!p)return 0;let{transitionDuration:l,transitionDelay:c}=window.getComputedStyle(p);const y=Number.parseFloat(l),T=Number.parseFloat(c);return y||T?(l=l.split(",")[0],c=c.split(",")[0],1e3*(Number.parseFloat(l)+Number.parseFloat(c))):0})(l)+5;let L=!1;const z=({target:ie})=>{ie===l&&(L=!0,l.removeEventListener(Dr,z),zs(p))};l.addEventListener(Dr,z),setTimeout(()=>{L||wc(l)},T)},Zo=(p,l,c,y)=>{const T=p.length;let L=p.indexOf(l);return-1===L?!c&&y?p[T-1]:p[0]:(L+=c?1:-1,y&&(L=(L+T)%T),p[Math.max(0,Math.min(L,T-1))])},Gl=/[^.]*(?=\..*)\.|.*/,Vh=/\..*/,Iu=/::\d+$/,Ho={};let wu=1;const zl={mouseenter:"mouseover",mouseleave:"mouseout"},ls=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ac(p,l){return l&&`${l}::${wu++}`||p.uidEvent||wu++}function Wl(p){const l=Ac(p);return p.uidEvent=l,Ho[l]=Ho[l]||{},Ho[l]}function Go(p,l,c=null){return Object.values(p).find(y=>y.callable===l&&y.delegationSelector===c)}function us(p,l,c){const y="string"==typeof l,T=y?c:l||c;let L=wo(p);return ls.has(L)||(L=p),[y,T,L]}function ks(p,l,c,y,T){if("string"!=typeof l||!p)return;let[L,z,ie]=us(l,c,y);var bn;l in zl&&(bn=z,z=function(Xt){if(!Xt.relatedTarget||Xt.relatedTarget!==Xt.delegateTarget&&!Xt.delegateTarget.contains(Xt.relatedTarget))return bn.call(this,Xt)});const ve=Wl(p),qe=ve[ie]||(ve[ie]={}),ft=Go(qe,z,L?c:null);if(ft)return void(ft.oneOff=ft.oneOff&&T);const Lt=Ac(z,l.replace(Gl,"")),En=L?function Pr(p,l,c){return function y(T){const L=p.querySelectorAll(l);for(let{target:z}=T;z&&z!==this;z=z.parentNode)for(const ie of L)if(ie===z)return ol(T,{delegateTarget:z}),y.oneOff&&Kt.off(p,T.type,l,c),c.apply(z,[T])}}(p,c,z):function Ht(p,l){return function c(y){return ol(y,{delegateTarget:p}),c.oneOff&&Kt.off(p,y.type,l),l.apply(p,[y])}}(p,z);En.delegationSelector=L?c:null,En.callable=z,En.oneOff=T,En.uidEvent=Lt,qe[Lt]=En,p.addEventListener(ie,En,L)}function oc(p,l,c,y,T){const L=Go(l[c],y,T);L&&(p.removeEventListener(c,L,!!T),delete l[c][L.uidEvent])}function Dc(p,l,c,y){const T=l[c]||{};for(const[L,z]of Object.entries(T))L.includes(y)&&oc(p,l,c,z.callable,z.delegationSelector)}function wo(p){return p=p.replace(Vh,""),zl[p]||p}const Kt={on(p,l,c,y){ks(p,l,c,y,!1)},one(p,l,c,y){ks(p,l,c,y,!0)},off(p,l,c,y){if("string"!=typeof l||!p)return;const[T,L,z]=us(l,c,y),ie=z!==l,ve=Wl(p),qe=ve[z]||{},ft=l.startsWith(".");if(typeof L<"u"){if(!Object.keys(qe).length)return;oc(p,ve,z,L,T?c:null)}else{if(ft)for(const Lt of Object.keys(ve))Dc(p,ve,Lt,l.slice(1));for(const[Lt,En]of Object.entries(qe)){const _n=Lt.replace(Iu,"");(!ie||l.includes(_n))&&oc(p,ve,z,En.callable,En.delegationSelector)}}},trigger(p,l,c){if("string"!=typeof l||!p)return null;const y=Tu();let z=null,ie=!0,ve=!0,qe=!1;l!==wo(l)&&y&&(z=y.Event(l,c),y(p).trigger(z),ie=!z.isPropagationStopped(),ve=!z.isImmediatePropagationStopped(),qe=z.isDefaultPrevented());const ft=ol(new Event(l,{bubbles:ie,cancelable:!0}),c);return qe&&ft.preventDefault(),ve&&p.dispatchEvent(ft),ft.defaultPrevented&&z&&z.preventDefault(),ft}};function ol(p,l={}){for(const[c,y]of Object.entries(l))try{p[c]=y}catch{Object.defineProperty(p,c,{configurable:!0,get:()=>y})}return p}function Au(p){if("true"===p)return!0;if("false"===p)return!1;if(p===Number(p).toString())return Number(p);if(""===p||"null"===p)return null;if("string"!=typeof p)return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function Sc(p){return p.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const io={setDataAttribute(p,l,c){p.setAttribute(`data-bs-${Sc(l)}`,c)},removeDataAttribute(p,l){p.removeAttribute(`data-bs-${Sc(l)}`)},getDataAttributes(p){if(!p)return{};const l={},c=Object.keys(p.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of c){let T=y.replace(/^bs/,"");T=T.charAt(0).toLowerCase()+T.slice(1,T.length),l[T]=Au(p.dataset[y])}return l},getDataAttribute:(p,l)=>Au(p.getAttribute(`data-bs-${Sc(l)}`))};class bs{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,c){const y=mi(c)?io.getDataAttribute(c,"config"):{};return{...this.constructor.Default,..."object"==typeof y?y:{},...mi(c)?io.getDataAttributes(c):{},..."object"==typeof l?l:{}}}_typeCheckConfig(l,c=this.constructor.DefaultType){for(const[y,T]of Object.entries(c)){const L=l[y],z=mi(L)?"element":null==(p=L)?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(T).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${z}" but expected type "${T}".`)}var p}}class Fs extends bs{constructor(l,c){super(),(l=$a(l))&&(this._element=l,this._config=this._getConfig(c),po.set(this._element,this.constructor.DATA_KEY,this))}dispose(){po.remove(this._element,this.constructor.DATA_KEY),Kt.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,c,y=!0){Hl(l,c,y)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return po.get($a(l),this.DATA_KEY)}static getOrCreateInstance(l,c={}){return this.getInstance(l)||new this(l,"object"==typeof c?c:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const Da=p=>{let l=p.getAttribute("data-bs-target");if(!l||"#"===l){let c=p.getAttribute("href");if(!c||!c.includes("#")&&!c.startsWith("."))return null;c.includes("#")&&!c.startsWith("#")&&(c=`#${c.split("#")[1]}`),l=c&&"#"!==c?c.trim():null}return l?l.split(",").map(c=>sc(c)).join(","):null},Bn={find:(p,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,p)),findOne:(p,l=document.documentElement)=>Element.prototype.querySelector.call(l,p),children:(p,l)=>[].concat(...p.children).filter(c=>c.matches(l)),parents(p,l){const c=[];let y=p.parentNode.closest(l);for(;y;)c.push(y),y=y.parentNode.closest(l);return c},prev(p,l){let c=p.previousElementSibling;for(;c;){if(c.matches(l))return[c];c=c.previousElementSibling}return[]},next(p,l){let c=p.nextElementSibling;for(;c;){if(c.matches(l))return[c];c=c.nextElementSibling}return[]},focusableChildren(p){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(c=>`${c}:not([tabindex^="-"])`).join(",");return this.find(l,p).filter(c=>!Gs(c)&&Ha(c))},getSelectorFromElement(p){const l=Da(p);return l&&Bn.findOne(l)?l:null},getElementFromSelector(p){const l=Da(p);return l?Bn.findOne(l):null},getMultipleElementsFromSelector(p){const l=Da(p);return l?Bn.find(l):[]}},al=(p,l="hide")=>{const y=p.NAME;Kt.on(document,`click.dismiss${p.EVENT_KEY}`,`[data-bs-dismiss="${y}"]`,function(T){if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),Gs(this))return;const L=Bn.getElementFromSelector(this)||this.closest(`.${y}`);p.getOrCreateInstance(L)[l]()})},Du=".bs.alert",Su=`close${Du}`,Sa=`closed${Du}`;class O extends Fs{static get NAME(){return"alert"}close(){if(Kt.trigger(this._element,Su).defaultPrevented)return;this._element.classList.remove("show");const c=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,c)}_destroyElement(){this._element.remove(),Kt.trigger(this._element,Sa),this.dispose()}static jQueryInterface(l){return this.each(function(){const c=O.getOrCreateInstance(this);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l](this)}})}}al(O,"close"),Kn(O);const _t='[data-bs-toggle="button"]';class vn extends Fs{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const c=vn.getOrCreateInstance(this);"toggle"===l&&c[l]()})}}Kt.on(document,"click.bs.button.data-api",_t,p=>{p.preventDefault();const l=p.target.closest(_t);vn.getOrCreateInstance(l).toggle()}),Kn(vn);const sr=".bs.swipe",kr=`touchstart${sr}`,_i=`touchmove${sr}`,ac=`touchend${sr}`,Pc=`pointerdown${sr}`,cl=`pointerup${sr}`,pa={endCallback:null,leftCallback:null,rightCallback:null},jh={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ea extends bs{constructor(l,c){super(),this._element=l,l&&ea.isSupported()&&(this._config=this._getConfig(c),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return pa}static get DefaultType(){return jh}static get NAME(){return"swipe"}dispose(){Kt.off(this._element,sr)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),zs(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const c=l/this._deltaX;this._deltaX=0,c&&zs(c>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Kt.on(this._element,Pc,l=>this._start(l)),Kt.on(this._element,cl,l=>this._end(l)),this._element.classList.add("pointer-event")):(Kt.on(this._element,kr,l=>this._start(l)),Kt.on(this._element,_i,l=>this._move(l)),Kt.on(this._element,ac,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&("pen"===l.pointerType||"touch"===l.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ga=".bs.carousel",Yl=".data-api",_o="next",ta="prev",Rc="left",ll="right",Xm=`slide${ga}`,Mu=`slid${ga}`,Ru=`keydown${ga}`,Yf=`mouseenter${ga}`,Xf=`mouseleave${ga}`,Ou=`dragstart${ga}`,Oc=`load${ga}${Yl}`,Td=`click${ga}${Yl}`,Nc="carousel",kc="active",yo=".active",ku=".carousel-item",ul=yo+ku,Hh={ArrowLeft:ll,ArrowRight:Rc},uc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},hl={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class dc extends Fs{constructor(l,c){super(l,c),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Bn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Nc&&this.cycle()}static get Default(){return uc}static get DefaultType(){return hl}static get NAME(){return"carousel"}next(){this._slide(_o)}nextWhenVisible(){!document.hidden&&Ha(this._element)&&this.next()}prev(){this._slide(ta)}pause(){this._isSliding&&wc(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Kt.one(this._element,Mu,()=>this.cycle());this.cycle()}}to(l){const c=this._getItems();if(l>c.length-1||l<0)return;if(this._isSliding)return void Kt.one(this._element,Mu,()=>this.to(l));const y=this._getItemIndex(this._getActive());y!==l&&this._slide(l>y?_o:ta,c[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&Kt.on(this._element,Ru,l=>this._keydown(l)),"hover"===this._config.pause&&(Kt.on(this._element,Yf,()=>this.pause()),Kt.on(this._element,Xf,()=>this._maybeEnableCycle())),this._config.touch&&ea.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of Bn.find(".carousel-item img",this._element))Kt.on(y,Ou,T=>T.preventDefault());this._swipeHelper=new ea(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Rc)),rightCallback:()=>this._slide(this._directionToOrder(ll)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const c=Hh[l.key];c&&(l.preventDefault(),this._slide(this._directionToOrder(c)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const c=Bn.findOne(yo,this._indicatorsElement);c.classList.remove(kc),c.removeAttribute("aria-current");const y=Bn.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);y&&(y.classList.add(kc),y.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const c=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=c||this._config.defaultInterval}_slide(l,c=null){if(this._isSliding)return;const y=this._getActive(),T=l===_o,L=c||Zo(this._getItems(),y,T,this._config.wrap);if(L===y)return;const z=this._getItemIndex(L),ie=_n=>Kt.trigger(this._element,_n,{relatedTarget:L,direction:this._orderToDirection(l),from:this._getItemIndex(y),to:z});if(ie(Xm).defaultPrevented||!y||!L)return;const qe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=L;const ft=T?"carousel-item-start":"carousel-item-end",Lt=T?"carousel-item-next":"carousel-item-prev";L.classList.add(Lt),y.classList.add(ft),L.classList.add(ft),this._queueCallback(()=>{L.classList.remove(ft,Lt),L.classList.add(kc),y.classList.remove(kc,Lt,ft),this._isSliding=!1,ie(Mu)},y,this._isAnimated()),qe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Bn.findOne(ul,this._element)}_getItems(){return Bn.find(ku,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return go()?l===Rc?ta:_o:l===Rc?_o:ta}_orderToDirection(l){return go()?l===ta?Rc:ll:l===ta?ll:Rc}static jQueryInterface(l){return this.each(function(){const c=dc.getOrCreateInstance(this,l);if("number"!=typeof l){if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}}else c.to(l)})}}Kt.on(document,Td,"[data-bs-slide], [data-bs-slide-to]",function(p){const l=Bn.getElementFromSelector(this);if(!l||!l.classList.contains(Nc))return;p.preventDefault();const c=dc.getOrCreateInstance(l),y=this.getAttribute("data-bs-slide-to");return y?(c.to(y),void c._maybeEnableCycle()):"next"===io.getDataAttribute(this,"slide")?(c.next(),void c._maybeEnableCycle()):(c.prev(),void c._maybeEnableCycle())}),Kt.on(window,Oc,()=>{const p=Bn.find('[data-bs-ride="carousel"]');for(const l of p)dc.getOrCreateInstance(l)}),Kn(dc);const Ao=".bs.collapse",Uc=`show${Ao}`,Fu=`shown${Ao}`,Jf=`hide${Ao}`,jc=`hidden${Ao}`,Gh=`click${Ao}.data-api`,Vs="show",fl="collapse",Ga="collapsing",Zf=`:scope .${fl} .${fl}`,Wo='[data-bs-toggle="collapse"]',zh={parent:null,toggle:!0},Dd={parent:"(null|element)",toggle:"boolean"};class za extends Fs{constructor(l,c){super(l,c),this._isTransitioning=!1,this._triggerArray=[];const y=Bn.find(Wo);for(const T of y){const L=Bn.getSelectorFromElement(T),z=Bn.find(L).filter(ie=>ie===this._element);null!==L&&z.length&&this._triggerArray.push(T)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return zh}static get DefaultType(){return Dd}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ie=>ie!==this._element).map(ie=>za.getOrCreateInstance(ie,{toggle:!1}))),l.length&&l[0]._isTransitioning||Kt.trigger(this._element,Uc).defaultPrevented)return;for(const ie of l)ie.hide();const y=this._getDimension();this._element.classList.remove(fl),this._element.classList.add(Ga),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const z=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ga),this._element.classList.add(fl,Vs),this._element.style[y]="",Kt.trigger(this._element,Fu)},this._element,!0),this._element.style[y]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||Kt.trigger(this._element,Jf).defaultPrevented)return;const c=this._getDimension();this._element.style[c]=`${this._element.getBoundingClientRect()[c]}px`,this._element.classList.add(Ga),this._element.classList.remove(fl,Vs);for(const T of this._triggerArray){const L=Bn.getElementFromSelector(T);L&&!this._isShown(L)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[c]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ga),this._element.classList.add(fl),Kt.trigger(this._element,jc)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(Vs)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=$a(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Wo);for(const c of l){const y=Bn.getElementFromSelector(c);y&&this._addAriaAndCollapsedClass([c],this._isShown(y))}}_getFirstLevelChildren(l){const c=Bn.find(Zf,this._config.parent);return Bn.find(l,this._config.parent).filter(y=>!c.includes(y))}_addAriaAndCollapsedClass(l,c){if(l.length)for(const y of l)y.classList.toggle("collapsed",!c),y.setAttribute("aria-expanded",c)}static jQueryInterface(l){const c={};return"string"==typeof l&&/show|hide/.test(l)&&(c.toggle=!1),this.each(function(){const y=za.getOrCreateInstance(this,c);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l]()}})}}Kt.on(document,Gh,Wo,function(p){("A"===p.target.tagName||p.delegateTarget&&"A"===p.delegateTarget.tagName)&&p.preventDefault();for(const l of Bn.getMultipleElementsFromSelector(this))za.getOrCreateInstance(l,{toggle:!1}).toggle()}),Kn(za);const Sd="dropdown",Xl=".bs.dropdown",Wh=".data-api",Zm="ArrowUp",Dg="ArrowDown",Sg=`hide${Xl}`,Kh=`hidden${Xl}`,Ws=`show${Xl}`,xd=`shown${Xl}`,hc=`click${Xl}${Wh}`,Pd=`keydown${Xl}${Wh}`,ra=`keyup${Xl}${Wh}`,ia="show",gl='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',xg=`${gl}.${ia}`,vo=".dropdown-menu",np=go()?"top-end":"top-start",kd=go()?"top-start":"top-end",Pg=go()?"bottom-end":"bottom-start",qh=go()?"bottom-start":"bottom-end",rp=go()?"left-start":"right-start",Hc=go()?"right-start":"left-start",pc={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Yh={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class so extends Fs{constructor(l,c){super(l,c),this._popper=null,this._parent=this._element.parentNode,this._menu=Bn.next(this._element,vo)[0]||Bn.prev(this._element,vo)[0]||Bn.findOne(vo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return pc}static get DefaultType(){return Yh}static get NAME(){return Sd}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Gs(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!Kt.trigger(this._element,Ws,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const y of[].concat(...document.body.children))Kt.on(y,"mouseover",Jo);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ia),this._element.classList.add(ia),Kt.trigger(this._element,xd,l)}}hide(){!Gs(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!Kt.trigger(this._element,Sg,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))Kt.off(y,"mouseover",Jo);this._popper&&this._popper.destroy(),this._menu.classList.remove(ia),this._element.classList.remove(ia),this._element.setAttribute("aria-expanded","false"),io.removeDataAttribute(this._menu,"popper"),Kt.trigger(this._element,Kh,l)}}_getConfig(l){if("object"==typeof(l=super._getConfig(l)).reference&&!mi(l.reference)&&"function"!=typeof l.reference.getBoundingClientRect)throw new TypeError(`${Sd.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(typeof a>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;"parent"===this._config.reference?l=this._parent:mi(this._config.reference)?l=$a(this._config.reference):"object"==typeof this._config.reference&&(l=this._config.reference);const c=this._getPopperConfig();this._popper=$o(l,this._menu,c)}_isShown(){return this._menu.classList.contains(ia)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return rp;if(l.classList.contains("dropstart"))return Hc;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const c="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return l.classList.contains("dropup")?c?kd:np:c?qh:Pg}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(c=>Number.parseInt(c,10)):"function"==typeof l?c=>l(c,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(io.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...zs(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:c}){const y=Bn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(T=>Ha(T));y.length&&Zo(y,c,l===Dg,!y.includes(c)).focus()}static jQueryInterface(l){return this.each(function(){const c=so.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}static clearMenus(l){if(2===l.button||"keyup"===l.type&&"Tab"!==l.key)return;const c=Bn.find(xg);for(const y of c){const T=so.getInstance(y);if(!T||!1===T._config.autoClose)continue;const L=l.composedPath(),z=L.includes(T._menu);if(L.includes(T._element)||"inside"===T._config.autoClose&&!z||"outside"===T._config.autoClose&&z||T._menu.contains(l.target)&&("keyup"===l.type&&"Tab"===l.key||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const ie={relatedTarget:T._element};"click"===l.type&&(ie.clickEvent=l),T._completeHide(ie)}}static dataApiKeydownHandler(l){const c=/input|textarea/i.test(l.target.tagName),y="Escape"===l.key,T=[Zm,Dg].includes(l.key);if(!T&&!y||c&&!y)return;l.preventDefault();const L=this.matches(gl)?this:Bn.prev(this,gl)[0]||Bn.next(this,gl)[0]||Bn.findOne(gl,l.delegateTarget.parentNode),z=so.getOrCreateInstance(L);if(T)return l.stopPropagation(),z.show(),void z._selectMenuItem(l);z._isShown()&&(l.stopPropagation(),z.hide(),L.focus())}}Kt.on(document,Pd,gl,so.dataApiKeydownHandler),Kt.on(document,Pd,vo,so.dataApiKeydownHandler),Kt.on(document,hc,so.clearMenus),Kt.on(document,ra,so.clearMenus),Kt.on(document,hc,gl,function(p){p.preventDefault(),so.getOrCreateInstance(this).toggle()}),Kn(so);const Ld="backdrop",Xh=`mousedown.bs.${Ld}`,Vu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Uu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ud extends bs{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return Vu}static get DefaultType(){return Uu}static get NAME(){return Ld}show(l){if(!this._config.isVisible)return void zs(l);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{zs(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),zs(l)})):zs(l)}dispose(){this._isAppended&&(Kt.off(this._element,Xh),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=$a(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),Kt.on(l,Xh,()=>{zs(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){Hl(l,this._getElement(),this._config.isAnimated)}}const ma=".bs.focustrap",Gc=`focusin${ma}`,I=`keydown.tab${ma}`,S="backward",X={autofocus:!0,trapElement:null},he={autofocus:"boolean",trapElement:"element"};class We extends bs{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return X}static get DefaultType(){return he}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Kt.off(document,ma),Kt.on(document,Gc,l=>this._handleFocusin(l)),Kt.on(document,I,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Kt.off(document,ma))}_handleFocusin(l){const{trapElement:c}=this._config;if(l.target===document||l.target===c||c.contains(l.target))return;const y=Bn.focusableChildren(c);0===y.length?c.focus():this._lastTabNavDirection===S?y[y.length-1].focus():y[0].focus()}_handleKeydown(l){"Tab"===l.key&&(this._lastTabNavDirection=l.shiftKey?S:"forward")}}const Tt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Bt=".sticky-top",xn="padding-right",Mn="margin-right";class $r{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,xn,c=>c+l),this._setElementAttributes(Tt,xn,c=>c+l),this._setElementAttributes(Bt,Mn,c=>c-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,xn),this._resetElementAttributes(Tt,xn),this._resetElementAttributes(Bt,Mn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,c,y){const T=this.getWidth();this._applyManipulationCallback(l,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+T)return;this._saveInitialAttribute(z,c);const ie=window.getComputedStyle(z).getPropertyValue(c);z.style.setProperty(c,`${y(Number.parseFloat(ie))}px`)})}_saveInitialAttribute(l,c){const y=l.style.getPropertyValue(c);y&&io.setDataAttribute(l,c,y)}_resetElementAttributes(l,c){this._applyManipulationCallback(l,T=>{const L=io.getDataAttribute(T,c);null!==L?(io.removeDataAttribute(T,c),T.style.setProperty(c,L)):T.style.removeProperty(c)})}_applyManipulationCallback(l,c){if(mi(l))c(l);else for(const y of Bn.find(l,this._element))c(y)}}const Zs=".bs.modal",Hd=`hide${Zs}`,Mg=`hidePrevented${Zs}`,Jh=`hidden${Zs}`,ju=`show${Zs}`,Rg=`shown${Zs}`,Zl=`resize${Zs}`,Zh=`click.dismiss${Zs}`,Bu=`mousedown.dismiss${Zs}`,Gd=`keydown.dismiss${Zs}`,zd=`click${Zs}.data-api`,zc="modal-open",Kd="modal-static",qd={backdrop:!0,focus:!0,keyboard:!0},op={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Wa extends Fs{constructor(l,c){super(l,c),this._dialog=Bn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new $r,this._addEventListeners()}static get Default(){return qd}static get DefaultType(){return op}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||Kt.trigger(this._element,ju,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(zc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){!this._isShown||this._isTransitioning||Kt.trigger(this._element,Hd).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Kt.off(window,Zs),Kt.off(this._dialog,Zs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ud({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new We({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const c=Bn.findOne(".modal-body",this._dialog);c&&(c.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Kt.trigger(this._element,Rg,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){Kt.on(this._element,Gd,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Kt.on(window,Zl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Kt.on(this._element,Bu,l=>{Kt.one(this._element,Zh,c=>{if(this._element===l.target&&this._element===c.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(zc),this._resetAdjustments(),this._scrollBar.reset(),Kt.trigger(this._element,Jh)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Kt.trigger(this._element,Mg).defaultPrevented)return;const c=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;"hidden"===y||this._element.classList.contains(Kd)||(c||(this._element.style.overflowY="hidden"),this._element.classList.add(Kd),this._queueCallback(()=>{this._element.classList.remove(Kd),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,c=this._scrollBar.getWidth(),y=c>0;if(y&&!l){const T=go()?"paddingLeft":"paddingRight";this._element.style[T]=`${c}px`}if(!y&&l){const T=go()?"paddingRight":"paddingLeft";this._element.style[T]=`${c}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,c){return this.each(function(){const y=Wa.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l](c)}})}}Kt.on(document,zd,'[data-bs-toggle="modal"]',function(p){const l=Bn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),Kt.one(l,ju,T=>{T.defaultPrevented||Kt.one(l,Jh,()=>{Ha(this)&&this.focus()})});const c=Bn.findOne(".modal.show");c&&Wa.getInstance(c).hide(),Wa.getOrCreateInstance(l).toggle(this)}),al(Wa),Kn(Wa);const ml=".bs.offcanvas",ef=".data-api",Yd=`load${ml}${ef}`,$u="showing",n_=".offcanvas.show",sa=`show${ml}`,ap=`shown${ml}`,r_=`hide${ml}`,Xd=`hidePrevented${ml}`,Do=`hidden${ml}`,Hu=`resize${ml}`,i_=`click${ml}${ef}`,cp=`keydown.dismiss${ml}`,lp={backdrop:!0,keyboard:!0,scroll:!1},s_={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class gc extends Fs{constructor(l,c){super(l,c),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return lp}static get DefaultType(){return s_}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||Kt.trigger(this._element,sa,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new $r).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add($u),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove($u),Kt.trigger(this._element,ap,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&!Kt.trigger(this._element,r_).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new $r).reset(),Kt.trigger(this._element,Do)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=!!this._config.backdrop;return new Ud({className:"offcanvas-backdrop",isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?()=>{"static"!==this._config.backdrop?this.hide():Kt.trigger(this._element,Xd)}:null})}_initializeFocusTrap(){return new We({trapElement:this._element})}_addEventListeners(){Kt.on(this._element,cp,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();Kt.trigger(this._element,Xd)}})}static jQueryInterface(l){return this.each(function(){const c=gc.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l](this)}})}}Kt.on(document,i_,'[data-bs-toggle="offcanvas"]',function(p){const l=Bn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),Gs(this))return;Kt.one(l,Do,()=>{Ha(this)&&this.focus()});const c=Bn.findOne(n_);c&&c!==l&&gc.getInstance(c).hide(),gc.getOrCreateInstance(l).toggle(this)}),Kt.on(window,Yd,()=>{for(const p of Bn.find(n_))gc.getOrCreateInstance(p).show()}),Kt.on(window,Hu,()=>{for(const p of Bn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(p).position&&gc.getOrCreateInstance(p).hide()}),al(gc),Kn(gc);const nf={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Qd=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),eu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,rf=(p,l)=>{const c=p.nodeName.toLowerCase();return l.includes(c)?!Qd.has(c)||!!eu.test(p.nodeValue):l.filter(y=>y instanceof RegExp).some(y=>y.test(c))},Zd={allowList:nf,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},eh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Fy={entry:"(string|element|function|null)",selector:"(string|element)"};class a_ extends bs{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return Zd}static get DefaultType(){return eh}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[T,L]of Object.entries(this._config.content))this._setContent(l,L,T);const c=l.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&c.classList.add(...y.split(" ")),c}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[c,y]of Object.entries(l))super._typeCheckConfig({selector:c,entry:y},Fy)}_setContent(l,c,y){const T=Bn.findOne(y,l);if(T){if(!(c=this._resolvePossibleFunction(c)))return void T.remove();if(mi(c))return void this._putElementInTemplate($a(c),T);if(this._config.html)return void(T.innerHTML=this._maybeSanitize(c));T.textContent=c}}_maybeSanitize(l){return this._config.sanitize?function tu(p,l,c){if(!p.length)return p;if(c&&"function"==typeof c)return c(p);const T=(new window.DOMParser).parseFromString(p,"text/html"),L=[].concat(...T.body.querySelectorAll("*"));for(const z of L){const ie=z.nodeName.toLowerCase();if(!Object.keys(l).includes(ie)){z.remove();continue}const ve=[].concat(...z.attributes),qe=[].concat(l["*"]||[],l[ie]||[]);for(const ft of ve)rf(ft,qe)||z.removeAttribute(ft.nodeName)}return T.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return zs(l,[this])}_putElementInTemplate(l,c){if(this._config.html)return c.innerHTML="",void c.append(l);c.textContent=l.textContent}}const up=new Set(["sanitize","allowList","sanitizeFn"]),Wc="fade",Gu="show",dp="hide.bs.modal",zu="hover",hp="focus",gp={AUTO:"auto",TOP:"top",RIGHT:go()?"left":"right",BOTTOM:"bottom",LEFT:go()?"right":"left"},h_={allowList:nf,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},jg={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class nh extends Fs{constructor(l,c){if(typeof a>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,c),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return h_}static get DefaultType(){return jg}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Kt.off(this._element.closest(".modal"),dp,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=Kt.trigger(this._element,this.constructor.eventName("show")),y=(Es(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!y)return;this._disposePopper();const T=this._getTipElement();this._element.setAttribute("aria-describedby",T.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(T),Kt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(T),T.classList.add(Gu),"ontouchstart"in document.documentElement)for(const ie of[].concat(...document.body.children))Kt.on(ie,"mouseover",Jo);this._queueCallback(()=>{Kt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Kt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Gu),"ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))Kt.off(T,"mouseover",Jo);this._activeTrigger.click=!1,this._activeTrigger[hp]=!1,this._activeTrigger[zu]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Kt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const c=this._getTemplateFactory(l).toHtml();if(!c)return null;c.classList.remove(Wc,Gu),c.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(p=>{do{p+=Math.floor(1e6*Math.random())}while(document.getElementById(p));return p})(this.constructor.NAME).toString();return c.setAttribute("id",y),this._isAnimated()&&c.classList.add(Wc),c}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new a_({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Wc)}_isShown(){return this.tip&&this.tip.classList.contains(Gu)}_createPopper(l){const c=zs(this._config.placement,[this,l,this._element]),y=gp[c.toUpperCase()];return $o(this._element,l,this._getPopperConfig(y))}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(c=>Number.parseInt(c,10)):"function"==typeof l?c=>l(c,this._element):l}_resolvePossibleFunction(l){return zs(l,[this._element])}_getPopperConfig(l){const c={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...c,...zs(this._config.popperConfig,[c])}}_setListeners(){const l=this._config.trigger.split(" ");for(const c of l)if("click"===c)Kt.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if("manual"!==c){const y=this.constructor.eventName(c===zu?"mouseenter":"focusin"),T=this.constructor.eventName(c===zu?"mouseleave":"focusout");Kt.on(this._element,y,this._config.selector,L=>{const z=this._initializeOnDelegatedTarget(L);z._activeTrigger["focusin"===L.type?hp:zu]=!0,z._enter()}),Kt.on(this._element,T,this._config.selector,L=>{const z=this._initializeOnDelegatedTarget(L);z._activeTrigger["focusout"===L.type?hp:zu]=z._element.contains(L.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Kt.on(this._element.closest(".modal"),dp,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,c){clearTimeout(this._timeout),this._timeout=setTimeout(l,c)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const c=io.getDataAttributes(this._element);for(const y of Object.keys(c))up.has(y)&&delete c[y];return l={...c,..."object"==typeof l&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=!1===l.container?document.body:$a(l.container),"number"==typeof l.delay&&(l.delay={show:l.delay,hide:l.delay}),"number"==typeof l.title&&(l.title=l.title.toString()),"number"==typeof l.content&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[c,y]of Object.entries(this._config))this.constructor.Default[c]!==y&&(l[c]=y);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const c=nh.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}}Kn(nh);const f_={...nh.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},_p={...nh.DefaultType,content:"(null|string|element|function)"};class cf extends nh{static get Default(){return f_}static get DefaultType(){return _p}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const c=cf.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}}Kn(cf);const _l=".bs.scrollspy",lf=`activate${_l}`,ih=`click${_l}`,p_=`load${_l}.data-api`,Kc="active",vp="[href]",g_=".nav-link",Ep=`${g_}, .nav-item > ${g_}, .list-group-item`,nu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Uy={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class sh extends Fs{constructor(l,c){super(l,c),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return nu}static get DefaultType(){return Uy}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=$a(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,"string"==typeof l.threshold&&(l.threshold=l.threshold.split(",").map(c=>Number.parseFloat(c))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Kt.off(this._config.target,ih),Kt.on(this._config.target,ih,vp,l=>{const c=this._observableSections.get(l.target.hash);if(c){l.preventDefault();const y=this._rootElement||window,T=c.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:T,behavior:"smooth"});y.scrollTop=T}}))}_getNewObserver(){return new IntersectionObserver(c=>this._observerCallback(c),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(l){const c=z=>this._targetLinks.get(`#${z.target.id}`),y=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(c(z))},T=(this._rootElement||document.documentElement).scrollTop,L=T>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=T;for(const z of l){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(c(z));continue}const ie=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(L&&ie){if(y(z),!T)return}else!L&&!ie&&y(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=Bn.find(vp,this._config.target);for(const c of l){if(!c.hash||Gs(c))continue;const y=Bn.findOne(decodeURI(c.hash),this._element);Ha(y)&&(this._targetLinks.set(decodeURI(c.hash),c),this._observableSections.set(c.hash,y))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(Kc),this._activateParents(l),Kt.trigger(this._element,lf,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))Bn.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(Kc);else for(const c of Bn.parents(l,".nav, .list-group"))for(const y of Bn.prev(c,Ep))y.classList.add(Kc)}_clearActiveClass(l){l.classList.remove(Kc);const c=Bn.find(`${vp}.${Kc}`,l);for(const y of c)y.classList.remove(Kc)}static jQueryInterface(l){return this.each(function(){const c=sh.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}})}}Kt.on(window,p_,()=>{for(const p of Bn.find('[data-bs-spy="scroll"]'))sh.getOrCreateInstance(p)}),Kn(sh);const vl=".bs.tab",Kg=`hide${vl}`,oh=`hidden${vl}`,Cp=`show${vl}`,df=`shown${vl}`,y_=`click${vl}`,Tp=`keydown${vl}`,v_=`load${vl}`,El="ArrowLeft",E_="ArrowRight",qg="ArrowUp",Yg="ArrowDown",hf="Home",Xg="End",oa="active",ff="show",Ip=".dropdown-toggle",pf=`:not(${Ip})`,Ap='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Dp=`.nav-link${pf}, .list-group-item${pf}, [role="tab"]${pf}, ${Ap}`,ah=`.${oa}[data-bs-toggle="tab"], .${oa}[data-bs-toggle="pill"], .${oa}[data-bs-toggle="list"]`;class qc extends Fs{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Kt.on(this._element,Tp,c=>this._keydown(c)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const c=this._getActiveElem(),y=c?Kt.trigger(c,Kg,{relatedTarget:l}):null;Kt.trigger(l,Cp,{relatedTarget:c}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(c,l),this._activate(l,c))}_activate(l,c){l&&(l.classList.add(oa),this._activate(Bn.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),Kt.trigger(l,df,{relatedTarget:c})):l.classList.add(ff)},l,l.classList.contains("fade")))}_deactivate(l,c){l&&(l.classList.remove(oa),l.blur(),this._deactivate(Bn.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),Kt.trigger(l,oh,{relatedTarget:c})):l.classList.remove(ff)},l,l.classList.contains("fade")))}_keydown(l){if(![El,E_,qg,Yg,hf,Xg].includes(l.key))return;l.stopPropagation(),l.preventDefault();const c=this._getChildren().filter(T=>!Gs(T));let y;if([hf,Xg].includes(l.key))y=c[l.key===hf?0:c.length-1];else{const T=[E_,Yg].includes(l.key);y=Zo(c,l.target,T,!0)}y&&(y.focus({preventScroll:!0}),qc.getOrCreateInstance(y).show())}_getChildren(){return Bn.find(Dp,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,c){this._setAttributeIfNotExists(l,"role","tablist");for(const y of c)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const c=this._elemIsActive(l),y=this._getOuterElement(l);l.setAttribute("aria-selected",c),y!==l&&this._setAttributeIfNotExists(y,"role","presentation"),c||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const c=Bn.getElementFromSelector(l);c&&(this._setAttributeIfNotExists(c,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(c,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,c){const y=this._getOuterElement(l);if(!y.classList.contains("dropdown"))return;const T=(L,z)=>{const ie=Bn.findOne(L,y);ie&&ie.classList.toggle(z,c)};T(Ip,oa),T(".dropdown-menu",ff),y.setAttribute("aria-expanded",c)}_setAttributeIfNotExists(l,c,y){l.hasAttribute(c)||l.setAttribute(c,y)}_elemIsActive(l){return l.classList.contains(oa)}_getInnerElement(l){return l.matches(Dp)?l:Bn.findOne(Dp,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const c=qc.getOrCreateInstance(this);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}})}}Kt.on(document,y_,Ap,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!Gs(this)&&qc.getOrCreateInstance(this).show()}),Kt.on(window,v_,()=>{for(const p of Bn.find(ah))qc.getOrCreateInstance(p)}),Kn(qc);const bl=".bs.toast",b_=`mouseover${bl}`,C_=`mouseout${bl}`,T_=`focusin${bl}`,I_=`focusout${bl}`,Hy=`hide${bl}`,gf=`hidden${bl}`,mf=`show${bl}`,w_=`shown${bl}`,yf="show",Cl="showing",A_={animation:"boolean",autohide:"boolean",delay:"number"},Jg={animation:!0,autohide:!0,delay:5e3};class ch extends Fs{constructor(l,c){super(l,c),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Jg}static get DefaultType(){return A_}static get NAME(){return"toast"}show(){Kt.trigger(this._element,mf).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(yf,Cl),this._queueCallback(()=>{this._element.classList.remove(Cl),Kt.trigger(this._element,w_),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Kt.trigger(this._element,Hy).defaultPrevented&&(this._element.classList.add(Cl),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Cl,yf),Kt.trigger(this._element,gf)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(yf),super.dispose()}isShown(){return this._element.classList.contains(yf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,c){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=c;break;case"focusin":case"focusout":this._hasKeyboardInteraction=c}if(c)return void this._clearTimeout();const y=l.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){Kt.on(this._element,b_,l=>this._onInteraction(l,!0)),Kt.on(this._element,C_,l=>this._onInteraction(l,!1)),Kt.on(this._element,T_,l=>this._onInteraction(l,!0)),Kt.on(this._element,I_,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const c=ch.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l](this)}})}}al(ch),Kn(ch);let Yc=(()=>{class p{constructor(c){this.http=c,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(c){return this.http.post(this.emailEndpoint,c)}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Be))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var ui=j(4341);let Zg=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(y,T){1&y&&(i.j41(0,"section",0)(1,"div",1)(2,"div",2),i.nrm(3,"i",3),i.j41(4,"p"),i.EFF(5),i.k0s()(),i.j41(6,"div",2),i.nrm(7,"i",4),i.j41(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",2),i.nrm(11,"i",5),i.j41(12,"p"),i.EFF(13),i.k0s()()()()),2&y&&(i.R7$(5),i.JRh(T.phoneNumber),i.R7$(4),i.JRh(T.address),i.R7$(4),i.JRh(T.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();var Gy=j(3711);function Yu(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Email"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(4),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function em(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Fax"),i.k0s(),i.j41(3,"p"),i.EFF(4),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(4),i.JRh(c.business.fax)}}function zy(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Social Media"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(4),i.FS9("href",c.business.socialMedia,i.B4B),i.R7$(1),i.JRh(c.business.socialMedia)}}function xp(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",13)(2,"div",14)(3,"h1"),i.EFF(4,"Contact Us"),i.k0s(),i.j41(5,"div",15)(6,"p"),i.EFF(7,"We're here to answer any questions you have"),i.k0s()()()(),i.j41(8,"div",16)(9,"section",17)(10,"div",18),i.EFF(11,"Get in Touch"),i.k0s(),i.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),i.EFF(17,"Address"),i.k0s(),i.j41(18,"p"),i.EFF(19),i.k0s()(),i.j41(20,"div",22)(21,"h3"),i.EFF(22,"Phone"),i.k0s(),i.j41(23,"p"),i.EFF(24),i.k0s()(),i.DNE(25,Yu,6,2,"div",23),i.DNE(26,em,5,1,"div",23),i.DNE(27,zy,6,2,"div",23),i.j41(28,"div")(29,"h3"),i.EFF(30,"Visitation Hours"),i.k0s(),i.nrm(31,"div",24),i.k0s()()(),i.j41(32,"div",25)(33,"div",26),i.nrm(34,"img",27),i.k0s()()()(),i.j41(35,"section",28)(36,"div",18),i.EFF(37,"Send Us a Message"),i.k0s(),i.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),i.EFF(42,"How can we help?"),i.k0s(),i.j41(43,"p",33),i.EFF(44,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),i.k0s()()(),i.j41(45,"div",34)(46,"form",35,36),i.bIt("ngSubmit",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(48,"div",37)(49,"label",38),i.EFF(50,"Name"),i.k0s(),i.j41(51,"input",39),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()(),i.j41(52,"div",37)(53,"label",40),i.EFF(54,"Email"),i.k0s(),i.j41(55,"input",41),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(56,"div",37)(57,"label",42),i.EFF(58,"Message"),i.k0s(),i.j41(59,"textarea",43),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(60,"button",44),i.EFF(61,"Submit"),i.k0s()()()()(),i.nrm(62,"app-information",45)(63,"app-google-maps",46),i.k0s(),i.bVm()}if(2&p){const c=i.sdS(47),y=i.XpG(2);i.R7$(19),i.JRh(y.business.address),i.R7$(5),i.JRh(y.business.phone),i.R7$(1),i.Y8G("ngIf",y.business.email),i.R7$(1),i.Y8G("ngIf",y.business.fax),i.R7$(1),i.Y8G("ngIf",y.business.socialMedia),i.R7$(4),i.Y8G("innerHTML",y.sanitizedBusinessHours,i.npT),i.R7$(3),i.Y8G("src",y.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",i.B4B),i.R7$(17),i.Y8G("ngModel",y.formData.name),i.R7$(4),i.Y8G("ngModel",y.formData.email),i.R7$(4),i.Y8G("ngModel",y.formData.message),i.R7$(1),i.Y8G("disabled",!c.form.valid),i.R7$(2),i.Y8G("phoneNumber",y.business.phone)("address",y.business.address)("email",y.business.email),i.R7$(1),i.Y8G("address",y.business.address||"")("layoutType",y.business.theme.themeType||"demo")}}function D_(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function Wy(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function Ky(p,l){if(1&p){const c=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,D_,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,Wy,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(6),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(8),i.Y8G("innerHTML",c.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function qy(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function Yy(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function S_(p,l){if(1&p){const c=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,qy,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,Yy,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(6),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(8),i.Y8G("innerHTML",c.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function f0(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function Xy(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function lh(p,l){if(1&p){const c=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,f0,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,Xy,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(6),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(8),i.Y8G("innerHTML",c.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function Xu(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function tm(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function nm(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",48)(2,"div",49)(3,"h2"),i.EFF(4,"Contact us"),i.k0s(),i.DNE(5,Xu,4,2,"div",50),i.j41(6,"div",51)(7,"p"),i.EFF(8),i.k0s()(),i.j41(9,"div",51)(10,"p"),i.EFF(11),i.k0s()(),i.DNE(12,tm,3,1,"div",52),i.k0s(),i.j41(13,"div",53)(14,"form",54),i.bIt("submit",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(15,"div",37)(16,"label",55),i.EFF(17,"Name "),i.j41(18,"span"),i.EFF(19,"(required)"),i.k0s()(),i.j41(20,"div",56)(21,"input",57),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()()(),i.j41(22,"div",37)(23,"label",40),i.EFF(24,"Email "),i.j41(25,"span"),i.EFF(26,"(required)"),i.k0s()(),i.j41(27,"input",58),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(28,"div",37)(29,"label",42),i.EFF(30,"Message "),i.j41(31,"span"),i.EFF(32,"(required)"),i.k0s()(),i.j41(33,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(34,"button",60),i.EFF(35,"Send"),i.k0s()()()(),i.j41(36,"div",48)(37,"div",49)(38,"div")(39,"h2"),i.EFF(40,"Visitation Hours"),i.k0s(),i.j41(41,"ul")(42,"li")(43,"strong"),i.EFF(44,"Monday:"),i.k0s(),i.EFF(45," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(46,"li")(47,"strong"),i.EFF(48,"Tuesday:"),i.k0s(),i.EFF(49," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(50,"li")(51,"strong"),i.EFF(52,"Wednesday:"),i.k0s(),i.EFF(53," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(54,"li")(55,"strong"),i.EFF(56,"Thursday:"),i.k0s(),i.EFF(57," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(58,"li")(59,"strong"),i.EFF(60,"Friday:"),i.k0s(),i.EFF(61," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(62,"li")(63,"strong"),i.EFF(64,"Saturday:"),i.k0s(),i.EFF(65," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(66,"li")(67,"strong"),i.EFF(68,"Sunday:"),i.k0s(),i.EFF(69," 7:00am \u2013 7:00pm"),i.k0s()()()(),i.j41(70,"div",61),i.nrm(71,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(5),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(38),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function Pp(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,xp,64,16,"ng-container",2),i.DNE(3,Ky,45,10,"ng-container",2),i.DNE(4,S_,45,10,"ng-container",2),i.DNE(5,lh,45,10,"ng-container",2),i.DNE(6,nm,72,9,"ng-container",3),i.k0s(),i.j41(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"h5",8),i.EFF(12),i.k0s(),i.nrm(13,"button",9),i.k0s(),i.j41(14,"div",10),i.EFF(15),i.k0s(),i.j41(16,"div",11)(17,"button",12),i.EFF(18,"Close"),i.k0s()()()()()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(7),i.JRh(c.modalTitle),i.R7$(3),i.SpI(" ",c.modalMessage," ")}}let uh=(()=>{class p{constructor(c,y,T,L,z,ie,ve){this.sanitizer=c,this.businessDataService=y,this.webContent=T,this.route=L,this.http=z,this.emailService=ie,this.metaService=ve,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,c?.id&&(this.metaService.loadAndApplyMeta(c?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const c=document.getElementById("responseModal");c?this.responseModal=new Wa(c):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(c=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},c=>{console.error("Error sending email",c),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(c){const y=c.split(".");return y.length>2?y.slice(-2).join("."):c}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(de.up),i.rXU(Mi.A),i.rXU(yi.N),i.rXU(ur.nX),i.rXU(Be),i.rXU(Yc),i.rXU(ji.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(y,T){1&y&&i.DNE(0,Pp,19,7,"div",0),2&y&&i.Y8G("ngIf",T.business)},dependencies:[pe.bT,pe.ux,pe.e1,pe.fG,ui.qT,ui.me,ui.BC,ui.cb,ui.YS,ui.vS,ui.cV,Zg,Cn,Gy.a],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}}return p})();var di=j(467),rm=j(214),im=j(3739);let iu=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-tour-3-d"]],decls:3,vars:1,consts:[[3,"title"],[1,"tour-container"],["width","853","height","480","src","https://my.matterport.com/show/?m=sxoFqpwFyex","frameborder","0","allowfullscreen","","allow","autoplay; fullscreen; web-share; xr-spatial-tracking;"]],template:function(y,T){1&y&&(i.nrm(0,"app-section-tilte",0),i.j41(1,"div",1),i.nrm(2,"iframe",2),i.k0s()),2&y&&i.Y8G("title","Virtual Tour")},dependencies:[Ce.N],styles:[".tour-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}"]})}}return p})();function Qy(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function oo(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",5)(2,"div",6)(3,"h1"),i.EFF(4,"Our Home"),i.k0s(),i.j41(5,"div",7)(6,"p"),i.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),i.k0s()()()(),i.j41(8,"div",8)(9,"section",9)(10,"div",10),i.EFF(11,"Welcome to Our Home"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"section",11)(15,"div",10),i.EFF(16,"Explore Our Gallery"),i.k0s(),i.j41(17,"div",12),i.DNE(18,Qy,2,1,"div",13),i.k0s()(),i.j41(19,"div",14)(20,"div",15)(21,"h2"),i.EFF(22,"Come Meet Our Family"),i.k0s(),i.j41(23,"p"),i.EFF(24,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),i.k0s(),i.j41(25,"button",16),i.bIt("click",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.navigateToContact(T.business.id))}),i.EFF(26,"Schedule a Visit"),i.k0s()()()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(13),i.SpI(" ",c.business.photoGalleryText," "),i.R7$(5),i.Y8G("ngForOf",c.images)}}function Us(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function qa(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",24),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function x_(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text",19),i.j41(3,"section",20)(4,"div",10),i.nrm(5,"app-section-tilte",21),i.k0s(),i.j41(6,"div",22),i.DNE(7,Us,2,1,"div",13),i.k0s()(),i.j41(8,"section",20)(9,"div",10),i.nrm(10,"app-section-tilte",21),i.k0s(),i.j41(11,"div",22),i.DNE(12,qa,2,1,"div",13),i.k0s()(),i.nrm(13,"app-testimonial-image",23),i.bVm()),2&p){const c=i.XpG(2);i.R7$(2),i.Y8G("content",c.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),i.R7$(3),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",c.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",c.lifeStyleImages),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[5].quote)}}function P_(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function su(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",24),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function Jy(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text",19),i.j41(3,"section",11)(4,"div",10),i.nrm(5,"app-section-tilte",21),i.k0s(),i.j41(6,"div",12),i.DNE(7,P_,2,1,"div",13),i.k0s()(),i.j41(8,"section",11)(9,"div",10),i.nrm(10,"app-section-tilte",21),i.k0s(),i.j41(11,"div",12),i.DNE(12,su,2,1,"div",13),i.k0s()(),i.nrm(13,"app-testimonial-image",23),i.bVm()),2&p){const c=i.XpG(2);i.R7$(2),i.Y8G("content",c.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),i.R7$(3),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",c.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",c.lifeStyleImages),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[4].quote)}}function vf(p,l){if(1&p&&i.nrm(0,"app-center-text",26),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")("showBtn",!1)}}function Ef(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function sm(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",24),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function om(p,l){1&p&&i.nrm(0,"app-tour-3-d")}function Mp(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.DNE(2,vf,1,5,"app-center-text",25),i.nI1(3,"sectionFilter"),i.j41(4,"section",20)(5,"div",10),i.nrm(6,"app-section-tilte",21),i.k0s(),i.j41(7,"div",22),i.DNE(8,Ef,2,1,"div",13),i.k0s()(),i.j41(9,"section",20)(10,"div",10),i.nrm(11,"app-section-tilte",21),i.k0s(),i.j41(12,"div",22),i.DNE(13,sm,2,1,"div",13),i.k0s()(),i.DNE(14,om,1,0,"app-tour-3-d",0),i.nrm(15,"app-testimonial-image",23),i.bVm()),2&p){const c=i.XpG(2);i.R7$(2),i.Y8G("ngIf",i.i5U(3,9,null==c.business?null:c.business.sections,"GalleryCenterText")),i.R7$(4),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",c.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",c.lifeStyleImages),i.R7$(1),i.Y8G("ngIf","clemo"===(null==c.business||null==c.business.theme?null:c.business.theme.themeType)),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[4].quote)}}function Ci(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function bf(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text"),i.j41(3,"section",11)(4,"div",10)(5,"h2"),i.EFF(6,"Explore Our Gallery"),i.k0s()(),i.j41(7,"div",12),i.DNE(8,Ci,2,1,"div",13),i.k0s()(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(8),i.Y8G("ngForOf",c.images)}}function am(p,l){if(1&p){const c=i.RV6();i.j41(0,"app-image-viewer-modal",27),i.bIt("closeModal",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.onCloseModal())}),i.k0s()}if(2&p){const c=i.XpG(2);i.Y8G("imageUrl",c.selectedImageUrl)}}function Cs(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,oo,27,2,"ng-container",2),i.DNE(3,x_,14,10,"ng-container",2),i.DNE(4,Jy,14,10,"ng-container",2),i.DNE(5,Mp,16,12,"ng-container",2),i.DNE(6,bf,9,1,"ng-container",3),i.DNE(7,am,1,1,"app-image-viewer-modal",4),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(2),i.Y8G("ngIf",c.selectedImageUrl)}}let M_=(()=>{class p{constructor(c,y,T,L,z){this.businessDataService=c,this.route=y,this.webContent=T,this.metaService=L,this.router=z,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.layoutType=c?.theme.themeType||"",c?.id&&(this.businessId=c.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var c=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:T,target:L})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,T).pipe((0,ae.n)(z=>{const ie=z.map(function(){var ve=(0,di.A)(function*(qe){return(yield c.webContent.checkImageExists(qe.url))?qe:null});return function(qe){return ve.apply(this,arguments)}}());return(0,ge.H)(Promise.all(ie))}),(0,Ne.T)(z=>z.filter(ie=>null!==ie))).subscribe(z=>{this[L]=z})})}onImageClick(c){this.selectedImageUrl=c}onCloseModal(){this.selectedImageUrl=null}navigateToContact(c){this.router.navigate(["/contact-us"],{queryParams:{id:c}})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Mi.A),i.rXU(ur.nX),i.rXU(yi.N),i.rXU(ji.R),i.rXU(ur.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"content","title","showBtn"],[1,"gallery","ae-gallery"],[3,"title"],[1,"gallery-grid","gallery-container","ae-gallery-container"],[3,"imageURL","author","text"],["alt","Lifestyle Image",3,"src"],[3,"themeType","imageURL","title","content","showBtn",4,"ngIf"],[3,"themeType","imageURL","title","content","showBtn"],[3,"imageUrl","closeModal"]],template:function(y,T){1&y&&i.DNE(0,Cs,8,6,"div",0),2&y&&i.Y8G("ngIf",T.business)},dependencies:[pe.Sq,pe.bT,pe.ux,pe.e1,pe.fG,rm.W,im.W,Cn,Rn,Ce.N,iu,Qi.W],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{padding:40px 120px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;transition:transform .3s,box-shadow .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}"]})}}return p})();var cm=j(4796);function dh(p,l){if(1&p&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&p){const c=i.XpG();i.R7$(1),i.JRh(c.errorMessage)}}let Rp=(()=>{class p{constructor(c,y){this.authService=c,this.router=y,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(c=>{this.errorMessage=c.message})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(cm.u),i.rXU(ur.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(y,T){1&y&&(i.j41(0,"div",0)(1,"div",1)(2,"h2",2),i.EFF(3,"Login"),i.k0s(),i.j41(4,"form",3),i.bIt("submit",function(){return T.login()}),i.j41(5,"div",4)(6,"label",5),i.EFF(7,"Email"),i.k0s(),i.j41(8,"input",6),i.bIt("ngModelChange",function(z){return T.email=z}),i.k0s()(),i.j41(9,"div",4)(10,"label",7),i.EFF(11,"Password"),i.k0s(),i.j41(12,"input",8),i.bIt("ngModelChange",function(z){return T.password=z}),i.k0s()(),i.j41(13,"button",9),i.EFF(14,"Login"),i.k0s(),i.DNE(15,dh,2,1,"div",10),i.k0s()()()),2&y&&(i.R7$(8),i.Y8G("ngModel",T.email),i.R7$(4),i.Y8G("ngModel",T.password),i.R7$(3),i.Y8G("ngIf",T.errorMessage))},dependencies:[pe.bT,ui.qT,ui.me,ui.BC,ui.cb,ui.YS,ui.vS,ui.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return p})();var lm=j(6340);let Zy=(()=>{class p{constructor(c){this.afs=c,this.basePath="businesses"}saveIntakeForm(c,y){const T=this.afs.createId(),L=this.afs.collection(`${this.basePath}/${y}/intake`).doc(T);return new Se.c(z=>{L.set(c).then(()=>{z.next(c),z.complete()}).catch(ie=>{console.error("Error saving intake form data",ie),z.error(ie)})})}getIntakeForms(c){return this.afs.collection(`${this.basePath}/${c}/intake`).snapshotChanges().pipe((0,Ne.T)(y=>y.map(T=>{const L=T.payload.doc.data();return{id:T.payload.doc.id,...L}})))}getIntakeForm(c,y){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).valueChanges().pipe((0,Ne.T)(T=>T||void 0))}updateIntakeForm(c,y,T){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).update(T)}deleteIntakeForm(c,y){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).delete()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(lm.Qe))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function R_(p,l){if(1&p&&(i.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),i.EFF(3),i.k0s()(),i.j41(4,"div",6)(5,"p"),i.EFF(6),i.k0s()()()),2&p){const c=l.$implicit;i.R7$(3),i.SpI('"',c.quote,'"'),i.R7$(3),i.JRh(c.name)}}function ev(p,l){if(1&p&&(i.j41(0,"div",2),i.DNE(1,R_,7,2,"div",3),i.k0s()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngForOf",c.testimonials)}}const dm=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Ts.B},{path:"about-us",component:lo},{path:"services",component:pn},{path:"contact-us",component:uh},{path:"gallery",component:M_},{path:"login",component:Rp},{path:"resident-form",component:(()=>{class p{constructor(c,y,T,L,z){this.fb=c,this.intakeService=y,this.businessDataService=T,this.emailService=L,this.metaService=z,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",ui.k0.required],email:["",[ui.k0.required,ui.k0.email]],phoneNumber:["",ui.k0.required],referralSource:["",ui.k0.required],relationToResident:[""],residentName:["",ui.k0.required],age:["",ui.k0.required],gender:["",ui.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,c?.id&&(this.metaService.loadAndApplyMeta(c?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const c=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(c,this.businessId).subscribe(T=>{console.log("Intake form saved successfully!",T)},T=>{console.error("Error saving intake form:",T)});const y={name:c.name,email:c.email,message:this.generateEmailMessage(c),website:window.location.hostname};this.emailService.sendEmail(y).subscribe(T=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},T=>{console.error("Error sending email",T),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(c){return`\n      Name: ${c.name}\n      Email: ${c.email}\n      Phone Number: ${c.phoneNumber}\n      Referral Source: ${c.referralSource}\n      Relation to Resident: ${c.relationToResident}\n      Resident Name: ${c.residentName}\n      Age: ${c.age}\n      Gender: ${c.gender}\n      Medical History: ${c.medicalHistory}\n      Height: ${c.height}\n      Weight: ${c.weight}\n      Reason for Moving: ${c.reasonForMoving}\n      RN Assessment: ${c.rnAssessment}\n      Eating: ${c.eating}\n      Personal Hygiene: ${c.personalHygiene}\n      Bathing: ${c.bathing}\n      Toileting: ${c.toileting}\n      Mobility: ${c.mobility}\n      Transfers: ${c.transfers}\n      Medication Assistance: ${c.medicationAssistance}\n      Memory Issues: ${c.memoryIssues}\n      Behavior: ${c.behavior}\n      Skin Condition: ${c.skinCondition}\n      Additional Info: ${c.additionalInfo}\n      Current Living Situation: ${c.currentLivingSituation}\n      Target Move-In Date: ${c.targetMoveInDate}\n      Disclosure Summary: ${c.disclosureSummary}\n      Questions: ${c.questions}\n    `}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ui.ok),i.rXU(Zy),i.rXU(Mi.A),i.rXU(Yc),i.rXU(ji.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-resident-intake-form"]],decls:194,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(y,T){1&y&&(i.nrm(0,"app-hero"),i.j41(1,"form",0),i.bIt("ngSubmit",function(){return T.onSubmit()}),i.j41(2,"div",1)(3,"h2"),i.EFF(4,"Personal Information"),i.k0s(),i.j41(5,"label",2),i.EFF(6,"Name *"),i.k0s(),i.nrm(7,"input",3),i.j41(8,"label",4),i.EFF(9,"Email *"),i.k0s(),i.nrm(10,"input",5),i.j41(11,"label",6),i.EFF(12,"Phone number *"),i.k0s(),i.nrm(13,"input",7),i.k0s(),i.j41(14,"div",1)(15,"h2"),i.EFF(16,"Referral Source"),i.k0s(),i.j41(17,"label",8),i.EFF(18,"How did you find out about us? *"),i.k0s(),i.j41(19,"select",9)(20,"option",10),i.EFF(21,"Google"),i.k0s(),i.j41(22,"option",11),i.EFF(23,"Facebook"),i.k0s(),i.j41(24,"option",12),i.EFF(25,"Placement Agency"),i.k0s(),i.j41(26,"option",13),i.EFF(27,"Friends and/or Family"),i.k0s(),i.j41(28,"option",14),i.EFF(29,"Other"),i.k0s()(),i.j41(30,"label",15),i.EFF(31,"What is your relation to the resident? *"),i.k0s(),i.nrm(32,"input",16),i.k0s(),i.j41(33,"div",1)(34,"h2"),i.EFF(35,"Resident Information"),i.k0s(),i.j41(36,"label",17),i.EFF(37,"Resident's name *"),i.k0s(),i.nrm(38,"input",18),i.j41(39,"label",19),i.EFF(40,"Age *"),i.k0s(),i.nrm(41,"input",20),i.j41(42,"label",21),i.EFF(43,"Gender *"),i.k0s(),i.j41(44,"select",22)(45,"option",23),i.EFF(46,"Male"),i.k0s(),i.j41(47,"option",24),i.EFF(48,"Female"),i.k0s(),i.j41(49,"option",25),i.EFF(50,"Prefer not to say"),i.k0s(),i.j41(51,"option",14),i.EFF(52,"Other"),i.k0s()()(),i.j41(53,"div",1)(54,"h2"),i.EFF(55,"Medical History"),i.k0s(),i.j41(56,"label",26),i.EFF(57,"Relevant medical and surgical history *"),i.k0s(),i.nrm(58,"textarea",27),i.j41(59,"label",28),i.EFF(60,"Height *"),i.k0s(),i.nrm(61,"input",29),i.j41(62,"label",30),i.EFF(63,"Weight *"),i.k0s(),i.nrm(64,"input",31),i.j41(65,"label",32),i.EFF(66,"Reason for moving to an adult family home *"),i.k0s(),i.nrm(67,"textarea",33),i.j41(68,"label",34),i.EFF(69,'Do you already have an "RN Assessment for AFH"? *'),i.k0s(),i.j41(70,"select",35)(71,"option",36),i.EFF(72,"Yes"),i.k0s(),i.j41(73,"option",37),i.EFF(74,"No"),i.k0s()()(),i.j41(75,"div",1)(76,"h2"),i.EFF(77,"Care Levels"),i.k0s(),i.j41(78,"label",38),i.EFF(79,"Eating *"),i.k0s(),i.j41(80,"select",39)(81,"option",40),i.EFF(82,"Independent"),i.k0s(),i.j41(83,"option",41),i.EFF(84,"Needing Assistance"),i.k0s(),i.j41(85,"option",42),i.EFF(86,"Dependent"),i.k0s()(),i.j41(87,"label",43),i.EFF(88,"Personal Hygiene *"),i.k0s(),i.j41(89,"select",44)(90,"option",40),i.EFF(91,"Independent"),i.k0s(),i.j41(92,"option",41),i.EFF(93,"Needing Assistance"),i.k0s(),i.j41(94,"option",42),i.EFF(95,"Dependent"),i.k0s()(),i.j41(96,"label",45),i.EFF(97,"Bathing *"),i.k0s(),i.j41(98,"select",46)(99,"option",40),i.EFF(100,"Independent"),i.k0s(),i.j41(101,"option",41),i.EFF(102,"Needing Assistance"),i.k0s(),i.j41(103,"option",42),i.EFF(104,"Dependent"),i.k0s()(),i.j41(105,"label",47),i.EFF(106,"Toileting *"),i.k0s(),i.j41(107,"select",48)(108,"option",40),i.EFF(109,"Independent"),i.k0s(),i.j41(110,"option",41),i.EFF(111,"Needing Assistance"),i.k0s(),i.j41(112,"option",42),i.EFF(113,"Dependent"),i.k0s()(),i.j41(114,"label",49),i.EFF(115,"Mobility *"),i.k0s(),i.j41(116,"select",50)(117,"option",40),i.EFF(118,"Independent"),i.k0s(),i.j41(119,"option",41),i.EFF(120,"Needing Assistance"),i.k0s(),i.j41(121,"option",42),i.EFF(122,"Dependent"),i.k0s()(),i.j41(123,"label",51),i.EFF(124,"Transfers *"),i.k0s(),i.j41(125,"select",52)(126,"option",40),i.EFF(127,"Independent"),i.k0s(),i.j41(128,"option",41),i.EFF(129,"Needing Assistance"),i.k0s(),i.j41(130,"option",42),i.EFF(131,"Dependent"),i.k0s()(),i.j41(132,"label",53),i.EFF(133,"Medication Assistance *"),i.k0s(),i.j41(134,"select",54)(135,"option",36),i.EFF(136,"Yes"),i.k0s(),i.j41(137,"option",37),i.EFF(138,"No"),i.k0s()()(),i.j41(139,"div",1)(140,"h2"),i.EFF(141,"Other Medical Information"),i.k0s(),i.j41(142,"label",55),i.EFF(143,"Memory Issues *"),i.k0s(),i.j41(144,"select",56)(145,"option",36),i.EFF(146,"Yes"),i.k0s(),i.j41(147,"option",37),i.EFF(148,"No"),i.k0s()(),i.j41(149,"label",57),i.EFF(150,"Behavior"),i.k0s(),i.nrm(151,"textarea",58),i.j41(152,"label",59),i.EFF(153,"Skin Condition"),i.k0s(),i.nrm(154,"textarea",60),i.j41(155,"label",61),i.EFF(156,"Other information you want us to know"),i.k0s(),i.nrm(157,"textarea",62),i.k0s(),i.j41(158,"div",1)(159,"h2"),i.EFF(160,"Living Situation"),i.k0s(),i.j41(161,"label",63),i.EFF(162,"Current living situation *"),i.k0s(),i.j41(163,"select",64)(164,"option",65),i.EFF(165,"Own Home"),i.k0s(),i.j41(166,"option",66),i.EFF(167,"Relative's Home"),i.k0s(),i.j41(168,"option",67),i.EFF(169,"Hospital"),i.k0s(),i.j41(170,"option",68),i.EFF(171,"Adult Family Home"),i.k0s(),i.j41(172,"option",69),i.EFF(173,"Senior Living"),i.k0s(),i.j41(174,"option",14),i.EFF(175,"Other"),i.k0s()()(),i.j41(176,"div",1)(177,"label",70),i.EFF(178,"Target move in date *"),i.k0s(),i.nrm(179,"input",71),i.k0s(),i.j41(180,"div",1)(181,"label",72),i.EFF(182,"Would you like a summary of disclosures of our rates and services, including itemized services?"),i.k0s(),i.j41(183,"select",73)(184,"option",36),i.EFF(185,"Yes"),i.k0s(),i.j41(186,"option",37),i.EFF(187,"No"),i.k0s()()(),i.j41(188,"div",1)(189,"label",74),i.EFF(190,"Do you have any questions for us?"),i.k0s(),i.nrm(191,"textarea",75),i.k0s(),i.j41(192,"button",76),i.EFF(193,"Submit"),i.k0s()()),2&y&&(i.R7$(1),i.Y8G("formGroup",T.intakeForm),i.R7$(191),i.Y8G("disabled",T.intakeForm.invalid))},dependencies:[ui.qT,ui.xH,ui.y7,ui.me,ui.Q0,ui.wz,ui.BC,ui.cb,ui.j4,ui.JD,Cn],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return p})()},{path:"testimonials",component:(()=>{class p{constructor(c,y){this.businessDataService=c,this.metaService=y,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{console.log("Testimonial List - :",c),c&&(this.testimonials=c.testimonials||[],this.themeType=c.theme.themeType,this.metaService.loadAndApplyMeta(c?.id))})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Mi.A),i.rXU(ji.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(y,T){1&y&&(i.nrm(0,"app-hero"),i.j41(1,"div",0),i.DNE(2,ev,2,1,"div",1),i.k0s()),2&y&&(i.R7$(2),i.Y8G("ngIf",T.testimonials.length>0))},dependencies:[pe.Sq,pe.bT,Cn],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return p})()},{path:"login",component:Rp},{path:"admin",loadChildren:()=>j.e(655).then(j.bind(j,9655)).then(p=>p.AdminModule)},{path:":id",component:Ts.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let p0=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({imports:[ur.iI.forRoot(dm),ur.iI]})}}return p})();var Qu=j(5009);function nv(p,l){if(1&p&&i.nrm(0,"img",10),2&p){const c=i.XpG();i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}const ou=function(p){return{"clemo-shrink":p}},Ju=function(){return["/home"]},HE=function(p){return{id:p}},Xc=function(p){return{"clemo-show":p}};let Op=(()=>{class p{constructor(c,y,T){this.route=c,this.router=y,this.businessDataService=T,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1}ngOnInit(){this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(c){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${c}`],{queryParams:y}).then(T=>{T||console.error("Navigation failed!")})}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ur.nX),i.rXU(ur.Ix),i.rXU(Mi.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-expandable-navigation"]],hostBindings:function(y,T){1&y&&i.bIt("scroll",function(){return T.onWindowScroll()},!1,i.tSv)},decls:26,vars:12,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-item"],[1,"clemo-nav-link",3,"click"],["alt","Business Logo",1,"clemo-logo",3,"src"]],template:function(y,T){1&y&&(i.j41(0,"nav",0)(1,"div",1)(2,"a",2),i.DNE(3,nv,1,1,"img",3),i.k0s(),i.j41(4,"button",4),i.bIt("click",function(){return T.toggleMenu()}),i.nrm(5,"span",5),i.k0s(),i.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),i.bIt("click",function(){return T.navigateTo("home")}),i.EFF(10,"Home"),i.k0s()(),i.j41(11,"li",8)(12,"span",9),i.bIt("click",function(){return T.navigateTo("about-us")}),i.EFF(13,"About Us"),i.k0s()(),i.j41(14,"li",8)(15,"span",9),i.bIt("click",function(){return T.navigateTo("services")}),i.EFF(16,"Services"),i.k0s()(),i.j41(17,"li",8)(18,"span",9),i.bIt("click",function(){return T.navigateTo("gallery")}),i.EFF(19,"Our Home"),i.k0s()(),i.j41(20,"li",8)(21,"span",9),i.bIt("click",function(){return T.navigateTo("resident-form")}),i.EFF(22,"Resident Form"),i.k0s()(),i.j41(23,"li",8)(24,"span",9),i.bIt("click",function(){return T.navigateTo("contact-us")}),i.EFF(25,"Contact"),i.k0s()()()()()()),2&y&&(i.Y8G("ngClass",i.eq3(5,ou,T.isShrunk)),i.R7$(2),i.Y8G("routerLink",i.lJ4(7,Ju))("queryParams",i.eq3(8,HE,T.businessId)),i.R7$(1),i.Y8G("ngIf",null==T.business?null:T.business.logoImage),i.R7$(3),i.Y8G("ngClass",i.eq3(10,Xc,T.menuOpen)))},dependencies:[pe.YU,pe.bT,ur.Wk],styles:['.clemo-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:9999;background-color:#fff;transition:all .3s ease;height:150px;display:flex;justify-content:space-between;align-items:center;padding:0 20px;box-shadow:0 6px 12px #0000001a}.clemo-header.clemo-shrink[_ngcontent-%COMP%]{height:70px;box-shadow:none}.clemo-logo[_ngcontent-%COMP%]{max-height:100px;transition:max-height .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-logo[_ngcontent-%COMP%]{max-height:40px}.clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.clemo-navbar-brand[_ngcontent-%COMP%]{margin-left:0;display:flex;align-items:center}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;transition:max-height .3s ease;align-items:center}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-nav[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0}.clemo-nav-item[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.clemo-nav-link[_ngcontent-%COMP%]{color:#333;font-size:1.3rem;text-transform:uppercase;padding:15px 0;display:block;transition:font-size .3s ease,color .3s ease;cursor:pointer}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-nav-link[_ngcontent-%COMP%]{font-size:1rem}.clemo-nav-link[_ngcontent-%COMP%]:hover{color:var(--dark-background-color)}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:none}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]{width:25px;height:2px;background-color:#333;display:block;position:relative}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before, .clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{content:"";width:25px;height:2px;background-color:#333;position:absolute;left:0;transition:transform .3s ease}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before{top:-7px}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{top:7px}@media (max-width: 991px){.clemo-navbar-nav[_ngcontent-%COMP%]{display:block;height:80vh}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:none;flex-direction:column;background-color:var(--background-color);position:absolute;top:170px;left:0;width:100%;z-index:1000}.clemo-nav-item[_ngcontent-%COMP%]{width:100%;text-align:center;padding:30px}.clemo-nav-link[_ngcontent-%COMP%]{padding:10px;font-size:1.25rem}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:block;padding:20px;background-color:transparent;border:0px}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-collapse[_ngcontent-%COMP%]{top:170px}}']})}}return p})();function hh(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}const fh=function(){return["/home"]},Ya=function(p){return{id:p}},Zu=function(p){return{"open-bar1":p}},ed=function(p){return{"open-bar2":p}},mc=function(p){return{"open-bar3":p}},td=function(p){return{active:p}};function Xa(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),i.DNE(5,hh,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(7,fh))("queryParams",i.eq3(8,Ya,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(10,Zu,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(12,ed,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,mc,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,td,c.menuOpen))}}function ph(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}const Tl=function(){return["/contact-us"]};function Cf(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,ph,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,fh))("queryParams",i.eq3(10,Ya,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,Zu,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,ed,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,mc,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,td,c.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,Tl))("queryParams",i.eq3(21,Ya,c.businessId))}}function O_(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}function Tf(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,O_,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,fh))("queryParams",i.eq3(10,Ya,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,Zu,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,ed,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,mc,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,td,c.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,Tl))("queryParams",i.eq3(21,Ya,c.businessId))}}function nd(p,l){1&p&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function hm(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}function Np(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,hm,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"gallery"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(22,"Intake Form"),i.k0s()(),i.j41(23,"div",4)(24,"a",5)(25,"button",15),i.EFF(26,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,fh))("queryParams",i.eq3(10,Ya,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,Zu,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,ed,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,mc,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,td,c.menuOpen)),i.R7$(14),i.Y8G("routerLink",i.lJ4(20,Tl))("queryParams",i.eq3(21,Ya,c.businessId))}}let fm=(()=>{class p{constructor(c,y,T){this.route=c,this.router=y,this.businessDataService=T,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(c){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${c}`],{queryParams:y}).then(T=>{T||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ur.nX),i.rXU(ur.Ix),i.rXU(Mi.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-navigation"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(y,T){1&y&&(i.j41(0,"div",0),i.DNE(1,Xa,21,18,"ng-container",1),i.DNE(2,Cf,29,23,"ng-container",1),i.DNE(3,Tf,29,23,"ng-container",1),i.DNE(4,nd,2,0,"ng-container",1),i.DNE(5,Np,27,23,"ng-container",1),i.k0s()),2&y&&(i.Y8G("ngSwitch",T.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","demo"))},dependencies:[pe.YU,pe.bT,pe.ux,pe.e1,ur.Wk,Op],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return p})();function N_(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(4),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.SpI(" ",null==c.business?null:c.business.address," "),i.R7$(3),i.SpI("Provider:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone)}}function Il(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",12)(2,"div",13)(3,"div",14),i.nrm(4,"hr",15),i.j41(5,"h2",16),i.EFF(6),i.k0s(),i.nrm(7,"hr",15),i.k0s(),i.j41(8,"div",17)(9,"div",18)(10,"h3",19),i.EFF(11,"Owner:"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"div",18)(15,"h3",19),i.EFF(16,"Location:"),i.k0s(),i.j41(17,"p"),i.EFF(18),i.k0s()(),i.j41(19,"div",18)(20,"h3",19),i.EFF(21,"Provider:"),i.k0s(),i.j41(22,"p"),i.EFF(23),i.k0s(),i.j41(24,"p"),i.EFF(25,"Email: "),i.j41(26,"a",11),i.EFF(27),i.k0s()(),i.j41(28,"p"),i.EFF(29,"Phone: "),i.j41(30,"a",11),i.EFF(31),i.k0s()()()(),i.j41(32,"div",20)(33,"p"),i.EFF(34),i.k0s()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(6),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.JRh(null==c.business?null:c.business.providerName),i.R7$(5),i.JRh(null==c.business?null:c.business.address),i.R7$(5),i.JRh(null==c.business?null:c.business.providerName),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.email),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.Lme("\xa9 ",2024," ",null==c.business?null:c.business.businessName,". All rights reserved.")}}function pm(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"footer",21)(2,"div",22)(3,"div",23),i.nrm(4,"img",24),i.j41(5,"h4"),i.EFF(6),i.k0s(),i.j41(7,"p",25),i.EFF(8),i.k0s(),i.j41(9,"p",26),i.EFF(10),i.k0s()(),i.j41(11,"div",27)(12,"a",28),i.nrm(13,"i",29),i.k0s(),i.j41(14,"a",28),i.nrm(15,"i",30),i.k0s()(),i.j41(16,"nav",31)(17,"span",32),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(18,"HOME"),i.k0s(),i.j41(19,"span",32),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(20,"ABOUT US"),i.k0s(),i.j41(21,"span",32),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(22,"SERVICES"),i.k0s(),i.j41(23,"span",32),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(24,"OUR HOME"),i.k0s(),i.j41(25,"span",32),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(26,"RESIDENT FORM"),i.k0s(),i.j41(27,"span",32),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(28,"CONTACT"),i.k0s()(),i.j41(29,"div",33)(30,"p"),i.EFF(31,"\xa9 Copyright. All rights reserved."),i.k0s()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.FS9("src",null==c.business?null:c.business.logoImage,i.B4B),i.R7$(2),i.JRh(null==c.business?null:c.business.businessName),i.R7$(2),i.JRh(null==c.business?null:c.business.phone),i.R7$(2),i.JRh(null==c.business?null:c.business.address)}}function k_(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(4),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.SpI(" ",null==c.business?null:c.business.address," "),i.R7$(3),i.SpI("Provider:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone)}}function gm(p,l){if(1&p&&(i.j41(0,"div",34)(1,"h1",35),i.EFF(2,"Debugger:"),i.k0s(),i.j41(3,"div",36)(4,"div",37)(5,"span",38),i.EFF(6,"Theme File:"),i.k0s(),i.j41(7,"span",39),i.EFF(8),i.k0s()(),i.j41(9,"div",37)(10,"span",38),i.EFF(11,"Business ID:"),i.k0s(),i.j41(12,"span",39),i.EFF(13),i.k0s()(),i.j41(14,"div",37)(15,"span",38),i.EFF(16,"Business Name:"),i.k0s(),i.j41(17,"span",39),i.EFF(18),i.k0s()()()()),2&p){const c=i.XpG();i.R7$(8),i.JRh(c.themeFileName),i.R7$(5),i.JRh(null==c.business?null:c.business.id),i.R7$(5),i.JRh(null==c.business?null:c.business.businessName)}}let kp=(()=>{class p{constructor(c,y,T,L,z,ie){this.route=c,this.webContentService=y,this.authService=T,this.themeService=L,this.businessDataService=z,this.router=ie,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(c){this.router.navigate([`/${c}`],{queryParams:this.businessId?{id:this.businessId}:{}}).then(T=>{T||console.error("Navigation failed!")})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(c=>{this.business=c}),this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(y=>{y&&(this.themeFileName=y.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ur.nX),i.rXU(yi.N),i.rXU(cm.u),i.rXU(Qu.F),i.rXU(Mi.A),i.rXU(ur.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-footer"]],decls:7,vars:7,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"clemo-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(y,T){1&y&&(i.j41(0,"div",0),i.DNE(1,N_,34,12,"ng-container",1),i.DNE(2,Il,35,10,"ng-container",1),i.DNE(3,pm,32,4,"ng-container",1),i.DNE(4,k_,34,12,"ng-container",2),i.k0s(),i.DNE(5,gm,19,3,"div",3),i.nI1(6,"async")),2&y&&(i.Y8G("ngSwitch",T.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(2),i.Y8G("ngIf",i.bMT(6,5,T.isAuthenticated$)))},dependencies:[pe.bT,pe.ux,pe.e1,pe.fG,pe.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:100%;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.clemo-footer[_ngcontent-%COMP%]{background-color:var(--background-color);text-align:center;padding:40px 20px;font-family:Arial,sans-serif;color:var(--text-color)}.clemo-footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.clemo-footer-logo-text[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:var(--text-color);margin-bottom:10px}.clemo-footer-phone[_ngcontent-%COMP%], .clemo-footer-address[_ngcontent-%COMP%]{font-size:14px;margin:5px 0}.clemo-footer-social[_ngcontent-%COMP%]{margin:15px 0}.clemo-social-icon[_ngcontent-%COMP%]{display:inline-block;margin:0 10px;font-size:18px;color:var(--text-color);text-decoration:none}.clemo-social-icon[_ngcontent-%COMP%]:hover{color:var(--text-color)}.clemo-footer-nav[_ngcontent-%COMP%]{margin:20px 0}.clemo-footer-link[_ngcontent-%COMP%]{font-size:14px;color:#333;text-decoration:none;margin:0 15px;font-weight:700;cursor:pointer}.clemo-footer-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.clemo-footer-bottom[_ngcontent-%COMP%]{font-size:12px;color:#999;margin-top:20px}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}"]})}}return p})(),rv=(()=>{class p{constructor(c,y,T,L,z){this.route=c,this.webContent=y,this.metaService=T,this.router=L,this.themeService=z,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(c=>{c&&(this.business=c)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ur.nX),i.rXU(yi.N),i.rXU(ji.R),i.rXU(ur.Ix),i.rXU(Qu.F))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-root"]],decls:3,vars:0,template:function(y,T){1&y&&i.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[ur.n3,fm,kp]})}}return p})();const au_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Ra=j(2214),ao=j(5407);class _c{constructor(l){return l}}class If{constructor(){return(0,Ra.Dk)()}}const mh=new i.nKC("angularfire2._apps"),wf={provide:_c,useFactory:function F_(p){return p&&1===p.length?p[0]:new _c((0,Ra.Sx)())},deps:[[new i.Xx1,mh]]},L_={provide:If,deps:[[new i.Xx1,mh]]};function Fp(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new _c(y)}}let iv=(()=>{class p{constructor(c){(0,Ra.KO)("angularfire",ao.xv.full,"core"),(0,Ra.KO)("angularfire",ao.xv.full,"app"),(0,Ra.KO)("angular",i.xvI.full,c.toString())}static \u0275fac=function(y){return new(y||p)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[wf,L_]})}return p})();function wl(p,...l){return{ngModule:iv,providers:[{provide:mh,useFactory:Fp(p),multi:!0,deps:[i.SKi,i.zZn,ao.u0,...l]}]}}const sv=(0,ao.S3)(Ra.Wp,!0);j(5504),j(7852),j(1076),j(8041),j(1362);class jp{constructor(){return(0,ao.CA)("auth")}}var bv=j(9583);class Wp{constructor(l){return l}}const Kp="firestore",ym=new i.nKC("angularfire2.firestore-instances");function Pl(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new Wp(y)}}const d={provide:class Cv{constructor(){return(0,ao.CA)(Kp)}},deps:[[new i.Xx1,ym]]},e={provide:Wp,useFactory:function qp(p,l){const c=(0,ao.lR)(Kp,p,l);return c&&new Wp(c)},deps:[[new i.Xx1,ym],_c]};let r=(()=>{class p{constructor(){(0,Ra.KO)("angularfire",ao.xv.full,"fst")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[e,d]})}return p})();function o(p,...l){return{ngModule:r,providers:[{provide:ym,useFactory:Pl(p),multi:!0,deps:[i.SKi,i.zZn,ao.u0,If,[new i.Xx1,jp],[new i.Xx1,ao.Jv],...l]}]}}const Zp=(0,ao.S3)(bv.aU,!0);var ig=j(9253),ey=j(8721),kf=j(1977),ty=j(4535);class Po{constructor(l){return l}}const wm="storage",og=new i.nKC("angularfire2.storage-instances");function bh(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new Po(y)}}const ag={provide:class Ff{constructor(){return(0,ao.CA)(wm)}},deps:[[new i.Xx1,og]]},xv={provide:Po,useFactory:function Am(p,l){const c=(0,ao.lR)(wm,p,l);return c&&new Po(c)},deps:[[new i.Xx1,og],_c]};let cg=(()=>{class p{constructor(){(0,Ra.KO)("angularfire",ao.xv.full,"gcs")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[xv,ag]})}return p})();function ny(p,...l){return{ngModule:cg,providers:[{provide:og,useFactory:bh(p),multi:!0,deps:[i.SKi,i.zZn,ao.u0,If,[new i.Xx1,jp],[new i.Xx1,ao.Jv],...l]}]}}const xm=(0,ao.S3)(ty.c7,!0);var Ch=j(3012);let Mo=(()=>{class p{constructor(c,y,T){this.http=c,this.themeService=y,this.businessService=T,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(c){return new Promise((y,T)=>{this.themeService.getBusinessTheme(c).subscribe({next:L=>{this.themeService.applyThemeFile(L?L.themeFileName:"default.css").then(()=>y()).catch(ie=>{console.error("Error applying theme file:",ie),y()}),this.themeService.getThemeColors(c).subscribe(ie=>{this.applyTheme(ie),y()},ie=>{console.error("Error loading theme:",ie),y()})},error:L=>{console.error("Error loading business theme:",L),this.themeService.applyThemeFile("default.css").then(()=>y()).catch(z=>{console.error("Error applying default theme file:",z),y()})}})})}applyTheme(c){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",c.primaryColor),document.documentElement.style.setProperty("--secondary-color",c.secondaryColor),document.documentElement.style.setProperty("--accent-color",c.accentColor),document.documentElement.style.setProperty("--background-color",c.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",c.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",c.textColor),document.documentElement.style.setProperty("--nav-background-color",c.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",c.navTextColor),document.documentElement.style.setProperty("--nav-active-background",c.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",c.navActiveText),document.documentElement.style.setProperty("--button-color",c.buttonColor),document.documentElement.style.setProperty("--button-hover-color",c.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(c){return c.primaryColor&&c.secondaryColor&&c.accentColor&&c.backgroundColor&&c.darkBackgroundColor&&c.textColor&&c.navBackgroundColor&&c.navTextColor&&c.navActiveBackground&&c.navActiveText&&c.buttonColor&&c.buttonHoverColor}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Be),i.KVO(Qu.F),i.KVO(Ch.u))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var ki=j(9969);function la(p){return new i.wOt(3e3,!1)}function Oa(p){switch(p.length){case 0:return new ki.sf;case 1:return p[0];default:return new ki.ui(p)}}function ud(p,l,c=new Map,y=new Map){const T=[],L=[];let z=-1,ie=null;if(l.forEach(ve=>{const qe=ve.get("offset"),ft=qe==z,Lt=ft&&ie||new Map;ve.forEach((En,_n)=>{let bn=_n,Xt=En;if("offset"!==_n)switch(bn=p.normalizePropertyName(bn,T),Xt){case ki.FX:Xt=c.get(_n);break;case ki.kp:Xt=y.get(_n);break;default:Xt=p.normalizeStyleValue(_n,bn,Xt,T)}Lt.set(bn,Xt)}),ft||L.push(Lt),ie=Lt,z=qe}),T.length)throw function hu(p){return new i.wOt(3502,!1)}();return L}function dd(p,l,c,y){switch(l){case"start":p.onStart(()=>y(c&&pu(c,"start",p)));break;case"done":p.onDone(()=>y(c&&pu(c,"done",p)));break;case"destroy":p.onDestroy(()=>y(c&&pu(c,"destroy",p)))}}function pu(p,l,c){const L=$f(p.element,p.triggerName,p.fromState,p.toState,l||p.phaseName,c.totalTime??p.totalTime,!!c.disabled),z=p._data;return null!=z&&(L._data=z),L}function $f(p,l,c,y,T="",L=0,z){return{element:p,triggerName:l,fromState:c,toState:y,phaseName:T,totalTime:L,disabled:!!z}}function xi(p,l,c){let y=p.get(l);return y||p.set(l,y=c),y}function py(p){const l=p.indexOf(":");return[p.substring(1,l),p.slice(l+1)]}const Lv=(()=>typeof document>"u"?null:document.documentElement)();function Sh(p){const l=p.parentNode||p.host||null;return l===Lv?null:l}let vc=null,pg=!1;function my(p,l){for(;l;){if(l===p)return!0;l=Sh(l)}return!1}function hd(p,l,c){if(c)return Array.from(p.querySelectorAll(l));const y=p.querySelector(l);return y?[y]:[]}let mg=(()=>{class p{validateStyleProperty(c){return function gy(p){vc||(vc=function gg(){return typeof document<"u"?document.body:null}()||{},pg=!!vc.style&&"WebkitAppearance"in vc.style);let l=!0;return vc.style&&!function Hf(p){return"ebkit"==p.substring(1,6)}(p)&&(l=p in vc.style,!l&&pg&&(l="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in vc.style)),l}(c)}matchesElement(c,y){return!1}containsElement(c,y){return my(c,y)}getParentElement(c){return Sh(c)}query(c,y,T){return hd(c,y,T)}computeStyle(c,y,T){return T||""}animate(c,y,T,L,z,ie=[],ve){return new ki.sf(T,L)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})(),fd=(()=>{class p{static{this.NOOP=new mg}}return p})();const Om=1e3,_g="ng-enter",mu="ng-leave",Ph="ng-trigger",pd=".ng-trigger",Mh="ng-animating",Gf=".ng-animating";function Na(p){if("number"==typeof p)return p;const l=p.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:Nl(parseFloat(l[1]),l[2])}function Nl(p,l){return"s"===l?p*Om:p}function gd(p,l,c){return p.hasOwnProperty("duration")?p:function Nm(p,l,c){let T,L=0,z="";if("string"==typeof p){const ie=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ie)return l.push(la()),{duration:0,delay:0,easing:""};T=Nl(parseFloat(ie[1]),ie[2]);const ve=ie[3];null!=ve&&(L=Nl(parseFloat(ve),ie[4]));const qe=ie[5];qe&&(z=qe)}else T=p;if(!c){let ie=!1,ve=l.length;T<0&&(l.push(function dg(){return new i.wOt(3100,!1)}()),ie=!0),L<0&&(l.push(function ad(){return new i.wOt(3101,!1)}()),ie=!0),ie&&l.splice(ve,0,la())}return{duration:T,delay:L,easing:z}}(p,l,c)}function Ec(p,l={}){return Object.keys(p).forEach(c=>{l[c]=p[c]}),l}function km(p){const l=new Map;return Object.keys(p).forEach(c=>{l.set(c,p[c])}),l}function Ja(p,l=new Map,c){if(c)for(let[y,T]of c)l.set(y,T);for(let[y,T]of p)l.set(y,T);return l}function ua(p,l,c){l.forEach((y,T)=>{const L=ht(T);c&&!c.has(T)&&c.set(T,p.style[L]),p.style[L]=y})}function eo(p,l){l.forEach((c,y)=>{const T=ht(y);p.style[T]=""})}function Oh(p){return Array.isArray(p)?1==p.length?p[0]:(0,ki.K2)(p):p}const kl=new RegExp("{{\\s*(.+?)\\s*}}","g");function E(p){let l=[];if("string"==typeof p){let c;for(;c=kl.exec(p);)l.push(c[1]);kl.lastIndex=0}return l}function U(p,l,c){const y=p.toString(),T=y.replace(kl,(L,z)=>{let ie=l[z];return null==ie&&(c.push(function Ih(p){return new i.wOt(3003,!1)}()),ie=""),ie.toString()});return T==y?p:T}function q(p){const l=[];let c=p.next();for(;!c.done;)l.push(c.value),c=p.next();return l}const me=/-+([a-z0-9])/g;function ht(p){return p.replace(me,(...l)=>l[1].toUpperCase())}function Hi(p,l,c){switch(l.type){case 7:return p.visitTrigger(l,c);case 0:return p.visitState(l,c);case 1:return p.visitTransition(l,c);case 2:return p.visitSequence(l,c);case 3:return p.visitGroup(l,c);case 4:return p.visitAnimate(l,c);case 5:return p.visitKeyframes(l,c);case 6:return p.visitStyle(l,c);case 8:return p.visitReference(l,c);case 9:return p.visitAnimateChild(l,c);case 10:return p.visitAnimateRef(l,c);case 11:return p.visitQuery(l,c);case 12:return p.visitStagger(l,c);default:throw function cd(p){return new i.wOt(3004,!1)}()}}function Fi(p,l){return window.getComputedStyle(p)[l]}const Lm="*";function G0(p,l){const c=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(y=>function z0(p,l,c){if(":"==p[0]){const ve=function W0(p,l){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,y)=>parseFloat(y)>parseFloat(c);case":decrement":return(c,y)=>parseFloat(y)<parseFloat(c);default:return l.push(function Rm(p){return new i.wOt(3016,!1)}()),"* => *"}}(p,c);if("function"==typeof ve)return void l.push(ve);p=ve}const y=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return c.push(function uy(p){return new i.wOt(3015,!1)}()),l;const T=y[1],L=y[2],z=y[3];l.push(jm(T,z));"<"==L[0]&&!(T==Lm&&z==Lm)&&l.push(jm(z,T))}(y,c,l)):c.push(p),c}const Vm=new Set(["true","1"]),Um=new Set(["false","0"]);function jm(p,l){const c=Vm.has(p)||Um.has(p),y=Vm.has(l)||Um.has(l);return(T,L)=>{let z=p==Lm||p==T,ie=l==Lm||l==L;return!z&&c&&"boolean"==typeof T&&(z=T?Vm.has(p):Um.has(p)),!ie&&y&&"boolean"==typeof L&&(ie=L?Vm.has(l):Um.has(l)),z&&ie}}const JE=new RegExp("s*:selfs*,?","g");function jv(p,l,c,y){return new zf(p).build(l,c,y)}class zf{constructor(l){this._driver=l}build(l,c,y){const T=new $v(c);return this._resetContextStyleTimingState(T),Hi(this,Oh(l),T)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,c){let y=c.queryCount=0,T=c.depCount=0;const L=[],z=[];return"@"==l.name.charAt(0)&&c.errors.push(function wh(){return new i.wOt(3006,!1)}()),l.definitions.forEach(ie=>{if(this._resetContextStyleTimingState(c),0==ie.type){const ve=ie,qe=ve.name;qe.toString().split(/\s*,\s*/).forEach(ft=>{ve.name=ft,L.push(this.visitState(ve,c))}),ve.name=qe}else if(1==ie.type){const ve=this.visitTransition(ie,c);y+=ve.queryCount,T+=ve.depCount,z.push(ve)}else c.errors.push(function Qa(){return new i.wOt(3007,!1)}())}),{type:7,name:l.name,states:L,transitions:z,queryCount:y,depCount:T,options:null}}visitState(l,c){const y=this.visitStyle(l.styles,c),T=l.options&&l.options.params||null;if(y.containsDynamicStyles){const L=new Set,z=T||{};y.styles.forEach(ie=>{ie instanceof Map&&ie.forEach(ve=>{E(ve).forEach(qe=>{z.hasOwnProperty(qe)||L.add(qe)})})}),L.size&&(q(L.values()),c.errors.push(function _a(p,l){return new i.wOt(3008,!1)}()))}return{type:0,name:l.name,style:y,options:T?{params:T}:null}}visitTransition(l,c){c.queryCount=0,c.depCount=0;const y=Hi(this,Oh(l.animation),c);return{type:1,matchers:G0(l.expr,c.errors),animation:y,queryCount:c.queryCount,depCount:c.depCount,options:Wf(l.options)}}visitSequence(l,c){return{type:2,steps:l.steps.map(y=>Hi(this,y,c)),options:Wf(l.options)}}visitGroup(l,c){const y=c.currentTime;let T=0;const L=l.steps.map(z=>{c.currentTime=y;const ie=Hi(this,z,c);return T=Math.max(T,c.currentTime),ie});return c.currentTime=T,{type:3,steps:L,options:Wf(l.options)}}visitAnimate(l,c){const y=function lC(p,l){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return Hv(gd(p,l).duration,0,"");const c=p;if(c.split(/\s+/).some(L=>"{"==L.charAt(0)&&"{"==L.charAt(1))){const L=Hv(0,0,"");return L.dynamic=!0,L.strValue=c,L}const T=gd(c,l);return Hv(T.duration,T.delay,T.easing)}(l.timings,c.errors);c.currentAnimateTimings=y;let T,L=l.styles?l.styles:(0,ki.iF)({});if(5==L.type)T=this.visitKeyframes(L,c);else{let z=l.styles,ie=!1;if(!z){ie=!0;const qe={};y.easing&&(qe.easing=y.easing),z=(0,ki.iF)(qe)}c.currentTime+=y.duration+y.delay;const ve=this.visitStyle(z,c);ve.isEmptyStep=ie,T=ve}return c.currentAnimateTimings=null,{type:4,timings:y,style:T,options:null}}visitStyle(l,c){const y=this._makeStyleAst(l,c);return this._validateStyleAst(y,c),y}_makeStyleAst(l,c){const y=[],T=Array.isArray(l.styles)?l.styles:[l.styles];for(let ie of T)"string"==typeof ie?ie===ki.kp?y.push(ie):c.errors.push(new i.wOt(3002,!1)):y.push(km(ie));let L=!1,z=null;return y.forEach(ie=>{if(ie instanceof Map&&(ie.has("easing")&&(z=ie.get("easing"),ie.delete("easing")),!L))for(let ve of ie.values())if(ve.toString().indexOf("{{")>=0){L=!0;break}}),{type:6,styles:y,easing:z,offset:l.offset,containsDynamicStyles:L,options:null}}_validateStyleAst(l,c){const y=c.currentAnimateTimings;let T=c.currentTime,L=c.currentTime;y&&L>0&&(L-=y.duration+y.delay),l.styles.forEach(z=>{"string"!=typeof z&&z.forEach((ie,ve)=>{const qe=c.collectedStyles.get(c.currentQuerySelector),ft=qe.get(ve);let Lt=!0;ft&&(L!=T&&L>=ft.startTime&&T<=ft.endTime&&(c.errors.push(function Pm(p,l,c,y,T){return new i.wOt(3010,!1)}()),Lt=!1),L=ft.startTime),Lt&&qe.set(ve,{startTime:L,endTime:T}),c.options&&function yy(p,l,c){const y=l.params||{},T=E(p);T.length&&T.forEach(L=>{y.hasOwnProperty(L)||c.push(function Th(p){return new i.wOt(3001,!1)}())})}(ie,c.options,c.errors)})})}visitKeyframes(l,c){const y={type:5,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function ds(){return new i.wOt(3011,!1)}()),y;let L=0;const z=[];let ie=!1,ve=!1,qe=0;const ft=l.steps.map(yr=>{const Gr=this._makeStyleAst(yr,c);let ar=null!=Gr.offset?Gr.offset:function cC(p){if("string"==typeof p)return null;let l=null;if(Array.isArray(p))p.forEach(c=>{if(c instanceof Map&&c.has("offset")){const y=c;l=parseFloat(y.get("offset")),y.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const c=p;l=parseFloat(c.get("offset")),c.delete("offset")}return l}(Gr.styles),ir=0;return null!=ar&&(L++,ir=Gr.offset=ar),ve=ve||ir<0||ir>1,ie=ie||ir<qe,qe=ir,z.push(ir),Gr});ve&&c.errors.push(function Vf(){return new i.wOt(3012,!1)}()),ie&&c.errors.push(function Ah(){return new i.wOt(3200,!1)}());const Lt=l.steps.length;let En=0;L>0&&L<Lt?c.errors.push(function Dh(){return new i.wOt(3202,!1)}()):0==L&&(En=1/(Lt-1));const _n=Lt-1,bn=c.currentTime,Xt=c.currentAnimateTimings,Pn=Xt.duration;return ft.forEach((yr,Gr)=>{const ar=En>0?Gr==_n?1:En*Gr:z[Gr],ir=ar*Pn;c.currentTime=bn+Xt.delay+ir,Xt.duration=ir,this._validateStyleAst(yr,c),yr.offset=ar,y.styles.push(yr)}),y}visitReference(l,c){return{type:8,animation:Hi(this,Oh(l.animation),c),options:Wf(l.options)}}visitAnimateChild(l,c){return c.depCount++,{type:9,options:Wf(l.options)}}visitAnimateRef(l,c){return{type:10,animation:this.visitReference(l.animation,c),options:Wf(l.options)}}visitQuery(l,c){const y=c.currentQuerySelector,T=l.options||{};c.queryCount++,c.currentQuery=l;const[L,z]=function Bv(p){const l=!!p.split(/\s*,\s*/).find(c=>":self"==c);return l&&(p=p.replace(JE,"")),p=p.replace(/@\*/g,pd).replace(/@\w+/g,c=>pd+"-"+c.slice(1)).replace(/:animating/g,Gf),[p,l]}(l.selector);c.currentQuerySelector=y.length?y+" "+L:L,xi(c.collectedStyles,c.currentQuerySelector,new Map);const ie=Hi(this,Oh(l.animation),c);return c.currentQuery=null,c.currentQuerySelector=y,{type:11,selector:L,limit:T.limit||0,optional:!!T.optional,includeSelf:z,animation:ie,originalSelector:l.selector,options:Wf(l.options)}}visitStagger(l,c){c.currentQuery||c.errors.push(function ly(){return new i.wOt(3013,!1)}());const y="full"===l.timings?{duration:0,delay:0,easing:"full"}:gd(l.timings,c.errors,!0);return{type:12,animation:Hi(this,Oh(l.animation),c),timings:y,options:null}}}class $v{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wf(p){return p?(p=Ec(p)).params&&(p.params=function ZE(p){return p?Ec(p):null}(p.params)):p={},p}function Hv(p,l,c){return{duration:p,delay:l,easing:c}}function Ey(p,l,c,y,T,L,z=null,ie=!1){return{type:1,element:p,keyframes:l,preStyleProps:c,postStyleProps:y,duration:T,delay:L,totalTime:T+L,easing:z,subTimeline:ie}}class by{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,c){let y=this._map.get(l);y||this._map.set(l,y=[]),y.push(...c)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const eb=new RegExp(":enter","g"),q0=new RegExp(":leave","g");function Gv(p,l,c,y,T,L=new Map,z=new Map,ie,ve,qe=[]){return(new Y0).buildKeyframes(p,l,c,y,T,L,z,ie,ve,qe)}class Y0{buildKeyframes(l,c,y,T,L,z,ie,ve,qe,ft=[]){qe=qe||new by;const Lt=new Nh(l,c,qe,T,L,ft,[]);Lt.options=ve;const En=ve.delay?Na(ve.delay):0;Lt.currentTimeline.delayNextStep(En),Lt.currentTimeline.setStyles([z],null,Lt.errors,ve),Hi(this,y,Lt);const _n=Lt.timelines.filter(bn=>bn.containsAnimation());if(_n.length&&ie.size){let bn;for(let Xt=_n.length-1;Xt>=0;Xt--){const Pn=_n[Xt];if(Pn.element===c){bn=Pn;break}}bn&&!bn.allowOnlyTimelineStyles()&&bn.setStyles([ie],null,Lt.errors,ve)}return _n.length?_n.map(bn=>bn.buildKeyframes()):[Ey(c,[],[],[],0,En,"",!1)]}visitTrigger(l,c){}visitState(l,c){}visitTransition(l,c){}visitAnimateChild(l,c){const y=c.subInstructions.get(c.element);if(y){const T=c.createSubContext(l.options),L=c.currentTimeline.currentTime,z=this._visitSubInstructions(y,T,T.options);L!=z&&c.transformIntoNewTimeline(z)}c.previousNode=l}visitAnimateRef(l,c){const y=c.createSubContext(l.options);y.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],c,y),this.visitReference(l.animation,y),c.transformIntoNewTimeline(y.currentTimeline.currentTime),c.previousNode=l}_applyAnimationRefDelays(l,c,y){for(const T of l){const L=T?.delay;if(L){const z="number"==typeof L?L:Na(U(L,T?.params??{},c.errors));y.delayNextStep(z)}}}_visitSubInstructions(l,c,y){let L=c.currentTimeline.currentTime;const z=null!=y.duration?Na(y.duration):null,ie=null!=y.delay?Na(y.delay):null;return 0!==z&&l.forEach(ve=>{const qe=c.appendInstructionToTimeline(ve,z,ie);L=Math.max(L,qe.duration+qe.delay)}),L}visitReference(l,c){c.updateOptions(l.options,!0),Hi(this,l.animation,c),c.previousNode=l}visitSequence(l,c){const y=c.subContextCount;let T=c;const L=l.options;if(L&&(L.params||L.delay)&&(T=c.createSubContext(L),T.transformIntoNewTimeline(),null!=L.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Bm);const z=Na(L.delay);T.delayNextStep(z)}l.steps.length&&(l.steps.forEach(z=>Hi(this,z,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>y&&T.transformIntoNewTimeline()),c.previousNode=l}visitGroup(l,c){const y=[];let T=c.currentTimeline.currentTime;const L=l.options&&l.options.delay?Na(l.options.delay):0;l.steps.forEach(z=>{const ie=c.createSubContext(l.options);L&&ie.delayNextStep(L),Hi(this,z,ie),T=Math.max(T,ie.currentTimeline.currentTime),y.push(ie.currentTimeline)}),y.forEach(z=>c.currentTimeline.mergeTimelineCollectedStyles(z)),c.transformIntoNewTimeline(T),c.previousNode=l}_visitTiming(l,c){if(l.dynamic){const y=l.strValue;return gd(c.params?U(y,c.params,c.errors):y,c.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,c){const y=c.currentAnimateTimings=this._visitTiming(l.timings,c),T=c.currentTimeline;y.delay&&(c.incrementTime(y.delay),T.snapshotCurrentStyles());const L=l.style;5==L.type?this.visitKeyframes(L,c):(c.incrementTime(y.duration),this.visitStyle(L,c),T.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=l}visitStyle(l,c){const y=c.currentTimeline,T=c.currentAnimateTimings;!T&&y.hasCurrentStyleProperties()&&y.forwardFrame();const L=T&&T.easing||l.easing;l.isEmptyStep?y.applyEmptyStep(L):y.setStyles(l.styles,L,c.errors,c.options),c.previousNode=l}visitKeyframes(l,c){const y=c.currentAnimateTimings,T=c.currentTimeline.duration,L=y.duration,ie=c.createSubContext().currentTimeline;ie.easing=y.easing,l.styles.forEach(ve=>{ie.forwardTime((ve.offset||0)*L),ie.setStyles(ve.styles,ve.easing,c.errors,c.options),ie.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(ie),c.transformIntoNewTimeline(T+L),c.previousNode=l}visitQuery(l,c){const y=c.currentTimeline.currentTime,T=l.options||{},L=T.delay?Na(T.delay):0;L&&(6===c.previousNode.type||0==y&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Bm);let z=y;const ie=c.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!T.optional,c.errors);c.currentQueryTotal=ie.length;let ve=null;ie.forEach((qe,ft)=>{c.currentQueryIndex=ft;const Lt=c.createSubContext(l.options,qe);L&&Lt.delayNextStep(L),qe===c.element&&(ve=Lt.currentTimeline),Hi(this,l.animation,Lt),Lt.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,Lt.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(z),ve&&(c.currentTimeline.mergeTimelineCollectedStyles(ve),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=l}visitStagger(l,c){const y=c.parentContext,T=c.currentTimeline,L=l.timings,z=Math.abs(L.duration),ie=z*(c.currentQueryTotal-1);let ve=z*c.currentQueryIndex;switch(L.duration<0?"reverse":L.easing){case"reverse":ve=ie-ve;break;case"full":ve=y.currentStaggerTime}const ft=c.currentTimeline;ve&&ft.delayNextStep(ve);const Lt=ft.currentTime;Hi(this,l.animation,c),c.previousNode=l,y.currentStaggerTime=T.currentTime-Lt+(T.startTime-y.currentTimeline.startTime)}}const Bm={};class Nh{constructor(l,c,y,T,L,z,ie,ve){this._driver=l,this.element=c,this.subInstructions=y,this._enterClassName=T,this._leaveClassName=L,this.errors=z,this.timelines=ie,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ve||new Cy(this._driver,c,0),ie.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,c){if(!l)return;const y=l;let T=this.options;null!=y.duration&&(T.duration=Na(y.duration)),null!=y.delay&&(T.delay=Na(y.delay));const L=y.params;if(L){let z=T.params;z||(z=this.options.params={}),Object.keys(L).forEach(ie=>{(!c||!z.hasOwnProperty(ie))&&(z[ie]=U(L[ie],z,this.errors))})}}_copyOptions(){const l={};if(this.options){const c=this.options.params;if(c){const y=l.params={};Object.keys(c).forEach(T=>{y[T]=c[T]})}}return l}createSubContext(l=null,c,y){const T=c||this.element,L=new Nh(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,y||0));return L.previousNode=this.previousNode,L.currentAnimateTimings=this.currentAnimateTimings,L.options=this._copyOptions(),L.updateOptions(l),L.currentQueryIndex=this.currentQueryIndex,L.currentQueryTotal=this.currentQueryTotal,L.parentContext=this,this.subContextCount++,L}transformIntoNewTimeline(l){return this.previousNode=Bm,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,c,y){const T={duration:c??l.duration,delay:this.currentTimeline.currentTime+(y??0)+l.delay,easing:""},L=new nb(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,T,l.stretchStartingKeyframe);return this.timelines.push(L),T}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,c,y,T,L,z){let ie=[];if(T&&ie.push(this.element),l.length>0){l=(l=l.replace(eb,"."+this._enterClassName)).replace(q0,"."+this._leaveClassName);let qe=this._driver.query(this.element,l,1!=y);0!==y&&(qe=y<0?qe.slice(qe.length+y,qe.length):qe.slice(0,y)),ie.push(...qe)}return!L&&0==ie.length&&z.push(function Mm(p){return new i.wOt(3014,!1)}()),ie}}class Cy{constructor(l,c,y,T){this._driver=l,this.element=c,this.startTime=y,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+l),c&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,c){return this.applyStylesToKeyframe(),new Cy(this._driver,l,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,c){this._localTimelineStyles.set(l,c),this._globalTimelineStyles.set(l,c),this._styleSummary.set(l,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[c,y]of this._globalTimelineStyles)this._backFill.set(c,y||ki.kp),this._currentKeyframe.set(c,ki.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,c,y,T){c&&this._previousKeyframe.set("easing",c);const L=T&&T.params||{},z=function rb(p,l){const c=new Map;let y;return p.forEach(T=>{if("*"===T){y=y||l.keys();for(let L of y)c.set(L,ki.kp)}else Ja(T,c)}),c}(l,this._globalTimelineStyles);for(let[ie,ve]of z){const qe=U(ve,L,y);this._pendingStyles.set(ie,qe),this._localTimelineStyles.has(ie)||this._backFill.set(ie,this._globalTimelineStyles.get(ie)??ki.kp),this._updateStyle(ie,qe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,c)=>{this._currentKeyframe.set(c,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,l)}))}snapshotCurrentStyles(){for(let[l,c]of this._localTimelineStyles)this._pendingStyles.set(l,c),this._updateStyle(l,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let c in this._currentKeyframe)l.push(c);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((c,y)=>{const T=this._styleSummary.get(y);(!T||c.time>T.time)&&this._updateStyle(y,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,c=new Set,y=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((ie,ve)=>{const qe=Ja(ie,new Map,this._backFill);qe.forEach((ft,Lt)=>{ft===ki.FX?l.add(Lt):ft===ki.kp&&c.add(Lt)}),y||qe.set("offset",ve/this.duration),T.push(qe)});const L=l.size?q(l.values()):[],z=c.size?q(c.values()):[];if(y){const ie=T[0],ve=new Map(ie);ie.set("offset",0),ve.set("offset",1),T=[ie,ve]}return Ey(this.element,T,L,z,this.duration,this.startTime,this.easing,!1)}}class nb extends Cy{constructor(l,c,y,T,L,z,ie=!1){super(l,c,z.delay),this.keyframes=y,this.preStyleProps=T,this.postStyleProps=L,this._stretchStartingKeyframe=ie,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:c,duration:y,easing:T}=this.timings;if(this._stretchStartingKeyframe&&c){const L=[],z=y+c,ie=c/z,ve=Ja(l[0]);ve.set("offset",0),L.push(ve);const qe=Ja(l[0]);qe.set("offset",zv(ie)),L.push(qe);const ft=l.length-1;for(let Lt=1;Lt<=ft;Lt++){let En=Ja(l[Lt]);const _n=En.get("offset");En.set("offset",zv((c+_n*y)/z)),L.push(En)}y=z,c=0,T="",l=L}return Ey(this.element,l,this.preStyleProps,this.postStyleProps,y,c,T,!0)}}function zv(p,l=3){const c=Math.pow(10,l-1);return Math.round(p*c)/c}class X0{}const Wv=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _u extends X0{normalizePropertyName(l,c){return ht(l)}normalizeStyleValue(l,c,y,T){let L="";const z=y.toString().trim();if(Wv.has(c)&&0!==y&&"0"!==y)if("number"==typeof y)L="px";else{const ie=y.match(/^[+-]?[\d\.]+([a-z]*)$/);ie&&0==ie[1].length&&T.push(function ld(p,l){return new i.wOt(3005,!1)}())}return z+L}}function J0(p,l,c,y,T,L,z,ie,ve,qe,ft,Lt,En){return{type:0,element:p,triggerName:l,isRemovalTransition:T,fromState:c,fromStyles:L,toState:y,toStyles:z,timelines:ie,queriedElements:ve,preStyleProps:qe,postStyleProps:ft,totalTime:Lt,errors:En}}const Ty={};class Fl{constructor(l,c,y){this._triggerName=l,this.ast=c,this._stateStyles=y}match(l,c,y,T){return function Ll(p,l,c,y,T){return p.some(L=>L(l,c,y,T))}(this.ast.matchers,l,c,y,T)}buildStyles(l,c,y){let T=this._stateStyles.get("*");return void 0!==l&&(T=this._stateStyles.get(l?.toString())||T),T?T.buildStyles(c,y):new Map}build(l,c,y,T,L,z,ie,ve,qe,ft){const Lt=[],En=this.ast.options&&this.ast.options.params||Ty,bn=this.buildStyles(y,ie&&ie.params||Ty,Lt),Xt=ve&&ve.params||Ty,Pn=this.buildStyles(T,Xt,Lt),yr=new Set,Gr=new Map,ar=new Map,ir="void"===T,Ti={params:Z0(Xt,En),delay:this.ast.options?.delay},Wr=ft?[]:Gv(l,c,this.ast.animation,L,z,bn,Pn,Ti,qe,Lt);let Qr=0;if(Wr.forEach(ns=>{Qr=Math.max(ns.duration+ns.delay,Qr)}),Lt.length)return J0(c,this._triggerName,y,T,ir,bn,Pn,[],[],Gr,ar,Qr,Lt);Wr.forEach(ns=>{const Xi=ns.element,Oo=xi(Gr,Xi,new Set);ns.preStyleProps.forEach(ms=>Oo.add(ms));const co=xi(ar,Xi,new Set);ns.postStyleProps.forEach(ms=>co.add(ms)),Xi!==c&&yr.add(Xi)});const ts=q(yr.values());return J0(c,this._triggerName,y,T,ir,bn,Pn,Wr,ts,Gr,ar,Qr)}}function Z0(p,l){const c=Ec(l);for(const y in p)p.hasOwnProperty(y)&&null!=p[y]&&(c[y]=p[y]);return c}class eE{constructor(l,c,y){this.styles=l,this.defaultParams=c,this.normalizer=y}buildStyles(l,c){const y=new Map,T=Ec(this.defaultParams);return Object.keys(l).forEach(L=>{const z=l[L];null!==z&&(T[L]=z)}),this.styles.styles.forEach(L=>{"string"!=typeof L&&L.forEach((z,ie)=>{z&&(z=U(z,T,c));const ve=this.normalizer.normalizePropertyName(ie,c);z=this.normalizer.normalizeStyleValue(ie,ve,z,c),y.set(ie,z)})}),y}}class ob{constructor(l,c,y){this.name=l,this.ast=c,this._normalizer=y,this.transitionFactories=[],this.states=new Map,c.states.forEach(T=>{this.states.set(T.name,new eE(T.style,T.options&&T.options.params||{},y))}),tE(this.states,"true","1"),tE(this.states,"false","0"),c.transitions.forEach(T=>{this.transitionFactories.push(new Fl(l,T,this.states))}),this.fallbackTransition=function ab(p,l,c){return new Fl(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,ie)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,c,y,T){return this.transitionFactories.find(z=>z.match(l,c,y,T))||null}matchStyles(l,c,y){return this.fallbackTransition.buildStyles(l,c,y)}}function tE(p,l,c){p.has(l)?p.has(c)||p.set(c,p.get(l)):p.has(c)&&p.set(l,p.get(c))}const Kv=new by;class $m{constructor(l,c,y){this.bodyNode=l,this._driver=c,this._normalizer=y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,c){const y=[],L=jv(this._driver,c,y,[]);if(y.length)throw function dy(p){return new i.wOt(3503,!1)}();this._animations.set(l,L)}_buildPlayer(l,c,y){const T=l.element,L=ud(this._normalizer,l.keyframes,c,y);return this._driver.animate(T,L,l.duration,l.delay,l.easing,[],!0)}create(l,c,y={}){const T=[],L=this._animations.get(l);let z;const ie=new Map;if(L?(z=Gv(this._driver,c,L,_g,mu,new Map,new Map,y,Kv,T),z.forEach(ft=>{const Lt=xi(ie,ft.element,new Map);ft.postStyleProps.forEach(En=>Lt.set(En,null))})):(T.push(function Ov(){return new i.wOt(3300,!1)}()),z=[]),T.length)throw function hy(p){return new i.wOt(3504,!1)}();ie.forEach((ft,Lt)=>{ft.forEach((En,_n)=>{ft.set(_n,this._driver.computeStyle(Lt,_n,ki.kp))})});const qe=Oa(z.map(ft=>{const Lt=ie.get(ft.element);return this._buildPlayer(ft,new Map,Lt)}));return this._playersById.set(l,qe),qe.onDestroy(()=>this.destroy(l)),this.players.push(qe),qe}destroy(l){const c=this._getPlayer(l);c.destroy(),this._playersById.delete(l);const y=this.players.indexOf(c);y>=0&&this.players.splice(y,1)}_getPlayer(l){const c=this._playersById.get(l);if(!c)throw function Uf(p){return new i.wOt(3301,!1)}();return c}listen(l,c,y,T){const L=$f(c,"","","");return dd(this._getPlayer(l),y,L,T),()=>{}}command(l,c,y,T){if("register"==y)return void this.register(l,T[0]);if("create"==y)return void this.create(l,c,T[0]||{});const L=this._getPlayer(l);switch(y){case"play":L.play();break;case"pause":L.pause();break;case"reset":L.reset();break;case"restart":L.restart();break;case"finish":L.finish();break;case"init":L.init();break;case"setPosition":L.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(l)}}}const nE="ng-animate-queued",qv="ng-animate-disabled",Iy=[],oE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zc="__ng_removed";class wy{get params(){return this.options.params}constructor(l,c=""){this.namespaceId=c;const y=l&&l.hasOwnProperty("value");if(this.value=function lE(p){return p??null}(y?l.value:l),y){const L=Ec(l);delete L.value,this.options=L}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const c=l.params;if(c){const y=this.options.params;Object.keys(c).forEach(T=>{null==y[T]&&(y[T]=c[T])})}}}const Hm="void",Yv=new wy(Hm);class Xv{constructor(l,c,y){this.id=l,this.hostElement=c,this._engine=y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,el(c,this._hostClassName)}listen(l,c,y,T){if(!this._triggers.has(c))throw function Nv(p,l){return new i.wOt(3302,!1)}();if(null==y||0==y.length)throw function kv(p){return new i.wOt(3303,!1)}();if(!function uE(p){return"start"==p||"done"==p}(y))throw function Fv(p,l){return new i.wOt(3400,!1)}();const L=xi(this._elementListeners,l,[]),z={name:c,phase:y,callback:T};L.push(z);const ie=xi(this._engine.statesByElement,l,new Map);return ie.has(c)||(el(l,Ph),el(l,Ph+"-"+c),ie.set(c,Yv)),()=>{this._engine.afterFlush(()=>{const ve=L.indexOf(z);ve>=0&&L.splice(ve,1),this._triggers.has(c)||ie.delete(c)})}}register(l,c){return!this._triggers.has(l)&&(this._triggers.set(l,c),!0)}_getTrigger(l){const c=this._triggers.get(l);if(!c)throw function Jc(p){return new i.wOt(3401,!1)}();return c}trigger(l,c,y,T=!0){const L=this._getTrigger(c),z=new Gm(this.id,c,l);let ie=this._engine.statesByElement.get(l);ie||(el(l,Ph),el(l,Ph+"-"+c),this._engine.statesByElement.set(l,ie=new Map));let ve=ie.get(c);const qe=new wy(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&ve&&qe.absorbOptions(ve.options),ie.set(c,qe),ve||(ve=Yv),qe.value!==Hm&&ve.value===qe.value){if(!function db(p,l){const c=Object.keys(p),y=Object.keys(l);if(c.length!=y.length)return!1;for(let T=0;T<c.length;T++){const L=c[T];if(!l.hasOwnProperty(L)||p[L]!==l[L])return!1}return!0}(ve.params,qe.params)){const Xt=[],Pn=L.matchStyles(ve.value,ve.params,Xt),yr=L.matchStyles(qe.value,qe.params,Xt);Xt.length?this._engine.reportError(Xt):this._engine.afterFlush(()=>{eo(l,Pn),ua(l,yr)})}return}const En=xi(this._engine.playersByElement,l,[]);En.forEach(Xt=>{Xt.namespaceId==this.id&&Xt.triggerName==c&&Xt.queued&&Xt.destroy()});let _n=L.matchTransition(ve.value,qe.value,l,qe.params),bn=!1;if(!_n){if(!T)return;_n=L.fallbackTransition,bn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:c,transition:_n,fromState:ve,toState:qe,player:z,isFallbackTransition:bn}),bn||(el(l,nE),z.onStart(()=>{vg(l,nE)})),z.onDone(()=>{let Xt=this.players.indexOf(z);Xt>=0&&this.players.splice(Xt,1);const Pn=this._engine.playersByElement.get(l);if(Pn){let yr=Pn.indexOf(z);yr>=0&&Pn.splice(yr,1)}}),this.players.push(z),En.push(z),z}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(c=>c.delete(l)),this._elementListeners.forEach((c,y)=>{this._elementListeners.set(y,c.filter(T=>T.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const c=this._engine.playersByElement.get(l);c&&(c.forEach(y=>y.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,c){const y=this._engine.driver.query(l,pd,!0);y.forEach(T=>{if(T[Zc])return;const L=this._engine.fetchNamespacesByElement(T);L.size?L.forEach(z=>z.triggerLeaveAnimation(T,c,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(l,c,y,T){const L=this._engine.statesByElement.get(l),z=new Map;if(L){const ie=[];if(L.forEach((ve,qe)=>{if(z.set(qe,ve.value),this._triggers.has(qe)){const ft=this.trigger(l,qe,Hm,T);ft&&ie.push(ft)}}),ie.length)return this._engine.markElementAsRemoved(this.id,l,!0,c,z),y&&Oa(ie).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const c=this._elementListeners.get(l),y=this._engine.statesByElement.get(l);if(c&&y){const T=new Set;c.forEach(L=>{const z=L.name;if(T.has(z))return;T.add(z);const ve=this._triggers.get(z).fallbackTransition,qe=y.get(z)||Yv,ft=new wy(Hm),Lt=new Gm(this.id,z,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:z,transition:ve,fromState:qe,toState:ft,player:Lt,isFallbackTransition:!0})})}}removeNode(l,c){const y=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,c),this.triggerLeaveAnimation(l,c,!0))return;let T=!1;if(y.totalAnimations){const L=y.players.length?y.playersByQueriedElement.get(l):[];if(L&&L.length)T=!0;else{let z=l;for(;z=z.parentNode;)if(y.statesByElement.get(z)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(l),T)y.markElementAsRemoved(this.id,l,!1,c);else{const L=l[Zc];(!L||L===oE)&&(y.afterFlush(()=>this.clearElementCache(l)),y.destroyInnerAnimations(l),y._onRemovalComplete(l,c))}}insertNode(l,c){el(l,this._hostClassName)}drainQueuedTransitions(l){const c=[];return this._queue.forEach(y=>{const T=y.player;if(T.destroyed)return;const L=y.element,z=this._elementListeners.get(L);z&&z.forEach(ie=>{if(ie.name==y.triggerName){const ve=$f(L,y.triggerName,y.fromState.value,y.toState.value);ve._data=l,dd(y.player,ie.phase,ve,ie.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):c.push(y)}),this._queue=[],c.sort((y,T)=>{const L=y.transition.ast.depCount,z=T.transition.ast.depCount;return 0==L||0==z?L-z:this._engine.driver.containsElement(y.element,T.element)?1:-1})}destroy(l){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}}class Ay{_onRemovalComplete(l,c){this.onRemovalComplete(l,c)}constructor(l,c,y){this.bodyNode=l,this.driver=c,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,L)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(c=>{c.players.forEach(y=>{y.queued&&l.push(y)})}),l}createNamespace(l,c){const y=new Xv(l,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(y,c):(this.newHostElements.set(c,y),this.collectEnterElement(c)),this._namespaceLookup[l]=y}_balanceNamespaceList(l,c){const y=this._namespaceList,T=this.namespacesByHostElement;if(y.length-1>=0){let z=!1,ie=this.driver.getParentElement(c);for(;ie;){const ve=T.get(ie);if(ve){const qe=y.indexOf(ve);y.splice(qe+1,0,l),z=!0;break}ie=this.driver.getParentElement(ie)}z||y.unshift(l)}else y.push(l);return T.set(c,l),l}register(l,c){let y=this._namespaceLookup[l];return y||(y=this.createNamespace(l,c)),y}registerTrigger(l,c,y){let T=this._namespaceLookup[l];T&&T.register(c,y)&&this.totalAnimations++}destroy(l,c){l&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const y=this._fetchNamespace(l);this.namespacesByHostElement.delete(y.hostElement);const T=this._namespaceList.indexOf(y);T>=0&&this._namespaceList.splice(T,1),y.destroy(c),delete this._namespaceLookup[l]}))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const c=new Set,y=this.statesByElement.get(l);if(y)for(let T of y.values())if(T.namespaceId){const L=this._fetchNamespace(T.namespaceId);L&&c.add(L)}return c}trigger(l,c,y,T){if(zm(c)){const L=this._fetchNamespace(l);if(L)return L.trigger(c,y,T),!0}return!1}insertNode(l,c,y,T){if(!zm(c))return;const L=c[Zc];if(L&&L.setForRemoval){L.setForRemoval=!1,L.setForMove=!0;const z=this.collectedLeaveElements.indexOf(c);z>=0&&this.collectedLeaveElements.splice(z,1)}if(l){const z=this._fetchNamespace(l);z&&z.insertNode(c,y)}T&&this.collectEnterElement(c)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,c){c?this.disabledNodes.has(l)||(this.disabledNodes.add(l),el(l,qv)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),vg(l,qv))}removeNode(l,c,y){if(zm(c)){const T=l?this._fetchNamespace(l):null;T?T.removeNode(c,y):this.markElementAsRemoved(l,c,!1,y);const L=this.namespacesByHostElement.get(c);L&&L.id!==l&&L.removeNode(c,y)}else this._onRemovalComplete(c,y)}markElementAsRemoved(l,c,y,T,L){this.collectedLeaveElements.push(c),c[Zc]={namespaceId:l,setForRemoval:T,hasAnimation:y,removedBeforeQueried:!1,previousTriggersValues:L}}listen(l,c,y,T,L){return zm(c)?this._fetchNamespace(l).listen(c,y,T,L):()=>{}}_buildInstruction(l,c,y,T,L){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,y,T,l.fromState.options,l.toState.options,c,L)}destroyInnerAnimations(l){let c=this.driver.query(l,pd,!0);c.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(l,Gf,!0),c.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(l){const c=this.playersByElement.get(l);c&&c.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(l){const c=this.playersByQueriedElement.get(l);c&&c.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return Oa(this.players).onDone(()=>l());l()})}processLeaveNode(l){const c=l[Zc];if(c&&c.setForRemoval){if(l[Zc]=oE,c.namespaceId){this.destroyInnerAnimations(l);const y=this._fetchNamespace(c.namespaceId);y&&y.clearElementCache(l)}this._onRemovalComplete(l,c.setForRemoval)}l.classList?.contains(qv)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(l=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,T)=>this._balanceNamespaceList(y,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)el(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{c=this._flushAnimations(y,l)}finally{for(let T=0;T<y.length;T++)y[T]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],c.length?Oa(c).onDone(()=>{y.forEach(T=>T())}):y.forEach(T=>T())}}reportError(l){throw function jf(p){return new i.wOt(3402,!1)}()}_flushAnimations(l,c){const y=new by,T=[],L=new Map,z=[],ie=new Map,ve=new Map,qe=new Map,ft=new Set;this.disabledNodes.forEach(On=>{ft.add(On);const Yn=this.driver.query(On,".ng-animate-queued",!0);for(let fr=0;fr<Yn.length;fr++)ft.add(Yn[fr])});const Lt=this.bodyNode,En=Array.from(this.statesByElement.keys()),_n=Zv(En,this.collectedEnterElements),bn=new Map;let Xt=0;_n.forEach((On,Yn)=>{const fr=_g+Xt++;bn.set(Yn,fr),On.forEach(Jr=>el(Jr,fr))});const Pn=[],yr=new Set,Gr=new Set;for(let On=0;On<this.collectedLeaveElements.length;On++){const Yn=this.collectedLeaveElements[On],fr=Yn[Zc];fr&&fr.setForRemoval&&(Pn.push(Yn),yr.add(Yn),fr.hasAnimation?this.driver.query(Yn,".ng-star-inserted",!0).forEach(Jr=>yr.add(Jr)):Gr.add(Yn))}const ar=new Map,ir=Zv(En,Array.from(yr));ir.forEach((On,Yn)=>{const fr=mu+Xt++;ar.set(Yn,fr),On.forEach(Jr=>el(Jr,fr))}),l.push(()=>{_n.forEach((On,Yn)=>{const fr=bn.get(Yn);On.forEach(Jr=>vg(Jr,fr))}),ir.forEach((On,Yn)=>{const fr=ar.get(Yn);On.forEach(Jr=>vg(Jr,fr))}),Pn.forEach(On=>{this.processLeaveNode(On)})});const Ti=[],Wr=[];for(let On=this._namespaceList.length-1;On>=0;On--)this._namespaceList[On].drainQueuedTransitions(c).forEach(fr=>{const Jr=fr.player,Ks=fr.element;if(Ti.push(Jr),this.collectedEnterElements.length){const Eo=Ks[Zc];if(Eo&&Eo.setForMove){if(Eo.previousTriggersValues&&Eo.previousTriggersValues.has(fr.triggerName)){const ya=Eo.previousTriggersValues.get(fr.triggerName),ko=this.statesByElement.get(fr.element);if(ko&&ko.has(fr.triggerName)){const Cg=ko.get(fr.triggerName);Cg.value=ya,ko.set(fr.triggerName,Cg)}}return void Jr.destroy()}}const Fa=!Lt||!this.driver.containsElement(Lt,Ks),No=ar.get(Ks),bc=bn.get(Ks),rs=this._buildInstruction(fr,y,bc,No,Fa);if(rs.errors&&rs.errors.length)return void Wr.push(rs);if(Fa)return Jr.onStart(()=>eo(Ks,rs.fromStyles)),Jr.onDestroy(()=>ua(Ks,rs.toStyles)),void T.push(Jr);if(fr.isFallbackTransition)return Jr.onStart(()=>eo(Ks,rs.fromStyles)),Jr.onDestroy(()=>ua(Ks,rs.toStyles)),void T.push(Jr);const bu=[];rs.timelines.forEach(Eo=>{Eo.stretchStartingKeyframe=!0,this.disabledNodes.has(Eo.element)||bu.push(Eo)}),rs.timelines=bu,y.append(Ks,rs.timelines),z.push({instruction:rs,player:Jr,element:Ks}),rs.queriedElements.forEach(Eo=>xi(ie,Eo,[]).push(Jr)),rs.preStyleProps.forEach((Eo,ya)=>{if(Eo.size){let ko=ve.get(ya);ko||ve.set(ya,ko=new Set),Eo.forEach((Cg,Kf)=>ko.add(Kf))}}),rs.postStyleProps.forEach((Eo,ya)=>{let ko=qe.get(ya);ko||qe.set(ya,ko=new Set),Eo.forEach((Cg,Kf)=>ko.add(Kf))})});if(Wr.length){const On=[];Wr.forEach(Yn=>{On.push(function fu(p,l){return new i.wOt(3505,!1)}())}),Ti.forEach(Yn=>Yn.destroy()),this.reportError(On)}const Qr=new Map,ts=new Map;z.forEach(On=>{const Yn=On.element;y.has(Yn)&&(ts.set(Yn,Yn),this._beforeAnimationBuild(On.player.namespaceId,On.instruction,Qr))}),T.forEach(On=>{const Yn=On.element;this._getPreviousPlayers(Yn,!1,On.namespaceId,On.triggerName,null).forEach(Jr=>{xi(Qr,Yn,[]).push(Jr),Jr.destroy()})});const ns=Pn.filter(On=>hE(On,ve,qe)),Xi=new Map;Jv(Xi,this.driver,Gr,qe,ki.kp).forEach(On=>{hE(On,ve,qe)&&ns.push(On)});const co=new Map;_n.forEach((On,Yn)=>{Jv(co,this.driver,new Set(On),ve,ki.FX)}),ns.forEach(On=>{const Yn=Xi.get(On),fr=co.get(On);Xi.set(On,new Map([...Yn?.entries()??[],...fr?.entries()??[]]))});const ms=[],vu=[],Eu={};z.forEach(On=>{const{element:Yn,player:fr,instruction:Jr}=On;if(y.has(Yn)){if(ft.has(Yn))return fr.onDestroy(()=>ua(Yn,Jr.toStyles)),fr.disabled=!0,fr.overrideTotalTime(Jr.totalTime),void T.push(fr);let Ks=Eu;if(ts.size>1){let No=Yn;const bc=[];for(;No=No.parentNode;){const rs=ts.get(No);if(rs){Ks=rs;break}bc.push(No)}bc.forEach(rs=>ts.set(rs,Ks))}const Fa=this._buildAnimation(fr.namespaceId,Jr,Qr,L,co,Xi);if(fr.setRealPlayer(Fa),Ks===Eu)ms.push(fr);else{const No=this.playersByElement.get(Ks);No&&No.length&&(fr.parentPlayer=Oa(No)),T.push(fr)}}else eo(Yn,Jr.fromStyles),fr.onDestroy(()=>ua(Yn,Jr.toStyles)),vu.push(fr),ft.has(Yn)&&T.push(fr)}),vu.forEach(On=>{const Yn=L.get(On.element);if(Yn&&Yn.length){const fr=Oa(Yn);On.setRealPlayer(fr)}}),T.forEach(On=>{On.parentPlayer?On.syncPlayerEvents(On.parentPlayer):On.destroy()});for(let On=0;On<Pn.length;On++){const Yn=Pn[On],fr=Yn[Zc];if(vg(Yn,mu),fr&&fr.hasAnimation)continue;let Jr=[];if(ie.size){let Fa=ie.get(Yn);Fa&&Fa.length&&Jr.push(...Fa);let No=this.driver.query(Yn,Gf,!0);for(let bc=0;bc<No.length;bc++){let rs=ie.get(No[bc]);rs&&rs.length&&Jr.push(...rs)}}const Ks=Jr.filter(Fa=>!Fa.destroyed);Ks.length?lb(this,Yn,Ks):this.processLeaveNode(Yn)}return Pn.length=0,ms.forEach(On=>{this.players.push(On),On.onDone(()=>{On.destroy();const Yn=this.players.indexOf(On);this.players.splice(Yn,1)}),On.play()}),ms}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,c,y,T,L){let z=[];if(c){const ie=this.playersByQueriedElement.get(l);ie&&(z=ie)}else{const ie=this.playersByElement.get(l);if(ie){const ve=!L||L==Hm;ie.forEach(qe=>{qe.queued||!ve&&qe.triggerName!=T||z.push(qe)})}}return(y||T)&&(z=z.filter(ie=>!(y&&y!=ie.namespaceId||T&&T!=ie.triggerName))),z}_beforeAnimationBuild(l,c,y){const L=c.element,z=c.isRemovalTransition?void 0:l,ie=c.isRemovalTransition?void 0:c.triggerName;for(const ve of c.timelines){const qe=ve.element,ft=qe!==L,Lt=xi(y,qe,[]);this._getPreviousPlayers(qe,ft,z,ie,c.toState).forEach(_n=>{const bn=_n.getRealPlayer();bn.beforeDestroy&&bn.beforeDestroy(),_n.destroy(),Lt.push(_n)})}eo(L,c.fromStyles)}_buildAnimation(l,c,y,T,L,z){const ie=c.triggerName,ve=c.element,qe=[],ft=new Set,Lt=new Set,En=c.timelines.map(bn=>{const Xt=bn.element;ft.add(Xt);const Pn=Xt[Zc];if(Pn&&Pn.removedBeforeQueried)return new ki.sf(bn.duration,bn.delay);const yr=Xt!==ve,Gr=function ub(p){const l=[];return dE(p,l),l}((y.get(Xt)||Iy).map(Qr=>Qr.getRealPlayer())).filter(Qr=>!!Qr.element&&Qr.element===Xt),ar=L.get(Xt),ir=z.get(Xt),Ti=ud(this._normalizer,bn.keyframes,ar,ir),Wr=this._buildPlayer(bn,Ti,Gr);if(bn.subTimeline&&T&&Lt.add(Xt),yr){const Qr=new Gm(l,ie,Xt);Qr.setRealPlayer(Wr),qe.push(Qr)}return Wr});qe.forEach(bn=>{xi(this.playersByQueriedElement,bn.element,[]).push(bn),bn.onDone(()=>function cE(p,l,c){let y=p.get(l);if(y){if(y.length){const T=y.indexOf(c);y.splice(T,1)}0==y.length&&p.delete(l)}return y}(this.playersByQueriedElement,bn.element,bn))}),ft.forEach(bn=>el(bn,Mh));const _n=Oa(En);return _n.onDestroy(()=>{ft.forEach(bn=>vg(bn,Mh)),ua(ve,c.toStyles)}),Lt.forEach(bn=>{xi(T,bn,[]).push(_n)}),_n}_buildPlayer(l,c,y){return c.length>0?this.driver.animate(l.element,c,l.duration,l.delay,l.easing,y):new ki.sf(l.duration,l.delay)}}class Gm{constructor(l,c,y){this.namespaceId=l,this.triggerName=c,this.element=y,this._player=new ki.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((c,y)=>{c.forEach(T=>dd(l,y,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const c=this._player;c.triggerCallback&&l.onStart(()=>c.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,c){xi(this._queuedCallbacks,l,[]).push(c)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const c=this._player;c.triggerCallback&&c.triggerCallback(l)}}function zm(p){return p&&1===p.nodeType}function Qv(p,l){const c=p.style.display;return p.style.display=l??"none",c}function Jv(p,l,c,y,T){const L=[];c.forEach(ve=>L.push(Qv(ve)));const z=[];y.forEach((ve,qe)=>{const ft=new Map;ve.forEach(Lt=>{const En=l.computeStyle(qe,Lt,T);ft.set(Lt,En),(!En||0==En.length)&&(qe[Zc]=aE,z.push(qe))}),p.set(qe,ft)});let ie=0;return c.forEach(ve=>Qv(ve,L[ie++])),z}function Zv(p,l){const c=new Map;if(p.forEach(ie=>c.set(ie,[])),0==l.length)return c;const T=new Set(l),L=new Map;function z(ie){if(!ie)return 1;let ve=L.get(ie);if(ve)return ve;const qe=ie.parentNode;return ve=c.has(qe)?qe:T.has(qe)?1:z(qe),L.set(ie,ve),ve}return l.forEach(ie=>{const ve=z(ie);1!==ve&&c.get(ve).push(ie)}),c}function el(p,l){p.classList?.add(l)}function vg(p,l){p.classList?.remove(l)}function lb(p,l,c){Oa(c).onDone(()=>p.processLeaveNode(l))}function dE(p,l){for(let c=0;c<p.length;c++){const y=p[c];y instanceof ki.ui?dE(y.players,l):l.push(y)}}function hE(p,l,c){const y=c.get(p);if(!y)return!1;let T=l.get(p);return T?y.forEach(L=>T.add(L)):l.set(p,y),c.delete(p),!0}class Dy{constructor(l,c,y){this.bodyNode=l,this._driver=c,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(T,L)=>{},this._transitionEngine=new Ay(l,c,y),this._timelineEngine=new $m(l,c,y),this._transitionEngine.onRemovalComplete=(T,L)=>this.onRemovalComplete(T,L)}registerTrigger(l,c,y,T,L){const z=l+"-"+T;let ie=this._triggerCache[z];if(!ie){const ve=[],ft=jv(this._driver,L,ve,[]);if(ve.length)throw function fg(p,l){return new i.wOt(3404,!1)}();ie=function sb(p,l,c){return new ob(p,l,c)}(T,ft,this._normalizer),this._triggerCache[z]=ie}this._transitionEngine.registerTrigger(c,T,ie)}register(l,c){this._transitionEngine.register(l,c)}destroy(l,c){this._transitionEngine.destroy(l,c)}onInsert(l,c,y,T){this._transitionEngine.insertNode(l,c,y,T)}onRemove(l,c,y){this._transitionEngine.removeNode(l,c,y)}disableAnimations(l,c){this._transitionEngine.markElementAsDisabled(l,c)}process(l,c,y,T){if("@"==y.charAt(0)){const[L,z]=py(y);this._timelineEngine.command(L,c,z,T)}else this._transitionEngine.trigger(l,c,y,T)}listen(l,c,y,T,L){if("@"==y.charAt(0)){const[z,ie]=py(y);return this._timelineEngine.listen(z,c,ie,L)}return this._transitionEngine.listen(l,c,y,T,L)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}let fb=(()=>{class p{static{this.initialStylesByElement=new WeakMap}constructor(c,y,T){this._element=c,this._startStyles=y,this._endStyles=T,this._state=0;let L=p.initialStylesByElement.get(c);L||p.initialStylesByElement.set(c,L=new Map),this._initialStyles=L}start(){this._state<1&&(this._startStyles&&ua(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ua(this._element,this._initialStyles),this._endStyles&&(ua(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(eo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eo(this._element,this._endStyles),this._endStyles=null),ua(this._element,this._initialStyles),this._state=3)}}return p})();function e0(p){let l=null;return p.forEach((c,y)=>{(function pb(p){return"display"===p||"position"===p})(y)&&(l=l||new Map,l.set(y,c))}),l}class fE{constructor(l,c,y,T){this.element=l,this.keyframes=c,this.options=y,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map;const c=()=>this._onFinish();this.domPlayer.addEventListener("finish",c),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",c)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const c=[];return l.forEach(y=>{c.push(Object.fromEntries(y))}),c}_triggerWebAnimation(l,c,y){return l.animate(this._convertKeyframesToObject(c),y)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((y,T)=>{"offset"!==T&&l.set(T,this._finished?y:Fi(this.element,T))}),this.currentSnapshot=l}triggerCallback(l){const c="start"===l?this._onStartFns:this._onDoneFns;c.forEach(y=>y()),c.length=0}}class gb{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,c){return!1}containsElement(l,c){return my(l,c)}getParentElement(l){return Sh(l)}query(l,c,y){return hd(l,c,y)}computeStyle(l,c,y){return window.getComputedStyle(l)[c]}animate(l,c,y,T,L,z=[]){const ve={duration:y,delay:T,fill:0==T?"both":"forwards"};L&&(ve.easing=L);const qe=new Map,ft=z.filter(_n=>_n instanceof fE);(function In(p,l){return 0===p||0===l})(y,T)&&ft.forEach(_n=>{_n.currentSnapshot.forEach((bn,Xt)=>qe.set(Xt,bn))});let Lt=function _y(p){return p.length?p[0]instanceof Map?p:p.map(l=>km(l)):[]}(c).map(_n=>Ja(_n));Lt=function Yi(p,l,c){if(c.size&&l.length){let y=l[0],T=[];if(c.forEach((L,z)=>{y.has(z)||T.push(z),y.set(z,L)}),T.length)for(let L=1;L<l.length;L++){let z=l[L];T.forEach(ie=>z.set(ie,Fi(p,ie)))}}return l}(l,Lt,qe);const En=function hb(p,l){let c=null,y=null;return Array.isArray(l)&&l.length?(c=e0(l[0]),l.length>1&&(y=e0(l[l.length-1]))):l instanceof Map&&(c=e0(l)),c||y?new fb(p,c,y):null}(l,Lt);return new fE(l,Lt,ve,En)}}let mb=(()=>{class p extends ki.S6{constructor(c,y){super(),this._nextAnimationId=0,this._renderer=c.createRenderer(y.body,{id:"0",encapsulation:i.gXe.None,styles:[],data:{animation:[]}})}build(c){const y=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(c)?(0,ki.K2)(c):c;return pE(this._renderer,null,y,"register",[T]),new _b(y,this._renderer)}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(i._9s),i.KVO(pe.qQ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class _b extends ki.Ro{constructor(l,c){super(),this._id=l,this._renderer=c}create(l,c){return new yb(this._id,l,c||{},this._renderer)}}class yb{constructor(l,c,y,T){this.id=l,this.element=c,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(l,c){return this._renderer.listen(this.element,`@@${this.id}:${l}`,c)}_command(l,...c){return pE(this._renderer,this.element,this.id,l,c)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function pE(p,l,c,y,T){return p.setProperty(l,`@@${c}:${y}`,T)}const t0="@.disabled";let gE=(()=>{class p{constructor(c,y,T){this.delegate=c,this.engine=y,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,y.onRemovalComplete=(L,z)=>{const ie=z?.parentNode(L);ie&&z.removeChild(ie,L)}}createRenderer(c,y){const L=this.delegate.createRenderer(c,y);if(!(c&&y&&y.data&&y.data.animation)){let ft=this._rendererCache.get(L);return ft||(ft=new n0("",L,this.engine,()=>this._rendererCache.delete(L)),this._rendererCache.set(L,ft)),ft}const z=y.id,ie=y.id+"-"+this._currentId;this._currentId++,this.engine.register(ie,c);const ve=ft=>{Array.isArray(ft)?ft.forEach(ve):this.engine.registerTrigger(z,ie,c,ft.name,ft)};return y.data.animation.forEach(ve),new mE(this,ie,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(c,y,T){c>=0&&c<this._microtaskId?this._zone.run(()=>y(T)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(L=>{const[z,ie]=L;z(ie)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(i._9s),i.KVO(Dy),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class n0{constructor(l,c,y,T){this.namespaceId=l,this.delegate=c,this.engine=y,this._onDestroy=T}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,c){return this.delegate.createElement(l,c)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,c){this.delegate.appendChild(l,c),this.engine.onInsert(this.namespaceId,c,l,!1)}insertBefore(l,c,y,T=!0){this.delegate.insertBefore(l,c,y),this.engine.onInsert(this.namespaceId,c,l,T)}removeChild(l,c,y){this.engine.onRemove(this.namespaceId,c,this.delegate)}selectRootElement(l,c){return this.delegate.selectRootElement(l,c)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,c,y,T){this.delegate.setAttribute(l,c,y,T)}removeAttribute(l,c,y){this.delegate.removeAttribute(l,c,y)}addClass(l,c){this.delegate.addClass(l,c)}removeClass(l,c){this.delegate.removeClass(l,c)}setStyle(l,c,y,T){this.delegate.setStyle(l,c,y,T)}removeStyle(l,c,y){this.delegate.removeStyle(l,c,y)}setProperty(l,c,y){"@"==c.charAt(0)&&c==t0?this.disableAnimations(l,!!y):this.delegate.setProperty(l,c,y)}setValue(l,c){this.delegate.setValue(l,c)}listen(l,c,y){return this.delegate.listen(l,c,y)}disableAnimations(l,c){this.engine.disableAnimations(l,c)}}class mE extends n0{constructor(l,c,y,T,L){super(c,y,T,L),this.factory=l,this.namespaceId=c}setProperty(l,c,y){"@"==c.charAt(0)?"."==c.charAt(1)&&c==t0?this.disableAnimations(l,y=void 0===y||!!y):this.engine.process(this.namespaceId,l,c.slice(1),y):this.delegate.setProperty(l,c,y)}listen(l,c,y){if("@"==c.charAt(0)){const T=function _E(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(l);let L=c.slice(1),z="";return"@"!=L.charAt(0)&&([L,z]=function yE(p){const l=p.indexOf(".");return[p.substring(0,l),p.slice(l+1)]}(L)),this.engine.listen(this.namespaceId,T,L,z,ie=>{this.factory.scheduleListenerCallback(ie._data||-1,y,ie)})}return this.delegate.listen(l,c,y)}}const r0=[{provide:ki.S6,useClass:mb},{provide:X0,useFactory:function EE(){return new _u}},{provide:Dy,useClass:(()=>{class p extends Dy{constructor(c,y,T,L){super(c.body,y,T)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(pe.qQ),i.KVO(fd),i.KVO(X0),i.KVO(i.o8S))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})()},{provide:i._9s,useFactory:function bE(p,l,c){return new gE(p,l,c)},deps:[de.B7,Dy,i.SKi]}],yd=[{provide:fd,useFactory:()=>new gb},{provide:i.bc$,useValue:"BrowserAnimations"},...r0],CE=[{provide:fd,useClass:mg},{provide:i.bc$,useValue:"NoopAnimations"},...r0];let vb=(()=>{class p{static withConfig(c){return{ngModule:p,providers:c.disableAnimations?CE:yd}}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:yd,imports:[de.Bb]})}}return p})();const IE={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1"};function wE(p,l,c){return()=>{const y=window.location.hostname,T=new URL(window.location.href);let L=IE[y]||T.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("themeInitializerFactory app.module businessId: "+L+" - hostname: "+y),p.loadTheme(L)}}function AE(p,l,c){const y=window.location.hostname,T=new URL(window.location.href);let L=IE[y]||T.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("initializeBusinessData app.module businessId:: "+L+" - hostname: "+y),()=>{p.loadBusinessData(L).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(z=>{console.error("Error loading business data:",z)})}}let Eg=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p,bootstrap:[rv]})}static{this.\u0275inj=i.G2t({providers:[{provide:i.hnV,useFactory:wE,deps:[Mo,pe.aZ,ur.Ix],multi:!0},{provide:i.hnV,useFactory:AE,deps:[Mi.A,pe.aZ,ur.Ix],multi:!0}],imports:[de.Bb,ur.iI,p0,lm.cM,ey.y5,kf.X8,ig.bf.initializeApp(au_firebase),wl(()=>sv(au_firebase)),o(()=>Zp()),ny(()=>xm()),ui.X1,ui.YN,_e,vb]})}}return p})();de.sG().bootstrapModule(Eg).catch(p=>console.error(p))},4412:(rn,Ze,j)=>{j.d(Ze,{t:()=>de});var a=j(1413);class de extends a.B{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const ge=super._subscribe(Ie);return!ge.closed&&Ie.next(this._value),ge}getValue(){const{hasError:Ie,thrownError:ge,_value:Se}=this;if(Ie)throw ge;return this._throwIfClosed(),Se}next(Ie){super.next(this._value=Ie)}}},1985:(rn,Ze,j)=>{j.d(Ze,{c:()=>Le});var a=j(7707),de=j(8359),i=j(3494),Ie=j(1203),ge=j(1026),Se=j(8071),xe=j(9786);let Le=(()=>{class pe{constructor(je){je&&(this._subscribe=je)}lift(je){const It=new pe;return It.source=this,It.operator=je,It}subscribe(je,It,wt){const Ft=function ae(pe){return pe&&pe instanceof a.vU||function te(pe){return pe&&(0,Se.T)(pe.next)&&(0,Se.T)(pe.error)&&(0,Se.T)(pe.complete)}(pe)&&(0,de.Uv)(pe)}(je)?je:new a.Ms(je,It,wt);return(0,xe.Y)(()=>{const{operator:Pt,source:hn}=this;Ft.add(Pt?Pt.call(Ft,hn):hn?this._subscribe(Ft):this._trySubscribe(Ft))}),Ft}_trySubscribe(je){try{return this._subscribe(je)}catch(It){je.error(It)}}forEach(je,It){return new(It=Ne(It))((wt,Ft)=>{const Pt=new a.Ms({next:hn=>{try{je(hn)}catch(Ge){Ft(Ge),Pt.unsubscribe()}},error:Ft,complete:wt});this.subscribe(Pt)})}_subscribe(je){var It;return null===(It=this.source)||void 0===It?void 0:It.subscribe(je)}[i.s](){return this}pipe(...je){return(0,Ie.m)(je)(this)}toPromise(je){return new(je=Ne(je))((It,wt)=>{let Ft;this.subscribe(Pt=>Ft=Pt,Pt=>wt(Pt),()=>It(Ft))})}}return pe.create=ct=>new pe(ct),pe})();function Ne(pe){var ct;return null!==(ct=pe??ge.$.Promise)&&void 0!==ct?ct:Promise}},1413:(rn,Ze,j)=>{j.d(Ze,{B:()=>xe});var a=j(1985),de=j(8359);const Ie=(0,j(1853).L)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=j(7908),Se=j(9786);let xe=(()=>{class Ne extends a.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const pe=new Le(this,this);return pe.operator=ae,pe}_throwIfClosed(){if(this.closed)throw new Ie}next(ae){(0,Se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(ae)}})}error(ae){(0,Se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:pe}=this;for(;pe.length;)pe.shift().error(ae)}})}complete(){(0,Se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:pe,isStopped:ct,observers:je}=this;return pe||ct?de.Kn:(this.currentObservers=null,je.push(ae),new de.yU(()=>{this.currentObservers=null,(0,ge.o)(je,ae)}))}_checkFinalizedStatuses(ae){const{hasError:pe,thrownError:ct,isStopped:je}=this;pe?ae.error(ct):je&&ae.complete()}asObservable(){const ae=new a.c;return ae.source=this,ae}}return Ne.create=(te,ae)=>new Le(te,ae),Ne})();class Le extends xe{constructor(te,ae){super(),this.destination=te,this.source=ae}next(te){var ae,pe;null===(pe=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===pe||pe.call(ae,te)}error(te){var ae,pe;null===(pe=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===pe||pe.call(ae,te)}complete(){var te,ae;null===(ae=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===ae||ae.call(te)}_subscribe(te){var ae,pe;return null!==(pe=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(te))&&void 0!==pe?pe:de.Kn}}},7707:(rn,Ze,j)=>{j.d(Ze,{Ms:()=>wt,vU:()=>pe});var a=j(8071),de=j(8359),i=j(1026),Ie=j(5334),ge=j(5343);const Se=Ne("C",void 0,void 0);function Ne(be,et,Ye){return{kind:be,value:et,error:Ye}}var te=j(9270),ae=j(9786);class pe extends de.yU{constructor(et){super(),this.isStopped=!1,et?(this.destination=et,(0,de.Uv)(et)&&et.add(this)):this.destination=Ge}static create(et,Ye,it){return new wt(et,Ye,it)}next(et){this.isStopped?hn(function Le(be){return Ne("N",be,void 0)}(et),this):this._next(et)}error(et){this.isStopped?hn(function xe(be){return Ne("E",void 0,be)}(et),this):(this.isStopped=!0,this._error(et))}complete(){this.isStopped?hn(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(et){this.destination.next(et)}_error(et){try{this.destination.error(et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ct=Function.prototype.bind;function je(be,et){return ct.call(be,et)}class It{constructor(et){this.partialObserver=et}next(et){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(et)}catch(it){Ft(it)}}error(et){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(et)}catch(it){Ft(it)}else Ft(et)}complete(){const{partialObserver:et}=this;if(et.complete)try{et.complete()}catch(Ye){Ft(Ye)}}}class wt extends pe{constructor(et,Ye,it){let Dt;if(super(),(0,a.T)(et)||!et)Dt={next:et??void 0,error:Ye??void 0,complete:it??void 0};else{let Mt;this&&i.$.useDeprecatedNextContext?(Mt=Object.create(et),Mt.unsubscribe=()=>this.unsubscribe(),Dt={next:et.next&&je(et.next,Mt),error:et.error&&je(et.error,Mt),complete:et.complete&&je(et.complete,Mt)}):Dt=et}this.destination=new It(Dt)}}function Ft(be){i.$.useDeprecatedSynchronousErrorHandling?(0,ae.l)(be):(0,Ie.m)(be)}function hn(be,et){const{onStoppedNotification:Ye}=i.$;Ye&&te.f.setTimeout(()=>Ye(be,et))}const Ge={closed:!0,next:ge.l,error:function Pt(be){throw be},complete:ge.l}},8359:(rn,Ze,j)=>{j.d(Ze,{Kn:()=>Se,yU:()=>ge,Uv:()=>xe});var a=j(8071);const i=(0,j(1853).L)(Ne=>function(ae){Ne(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((pe,ct)=>`${ct+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var Ie=j(7908);class ge{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const je of ae)je.remove(this);else ae.remove(this);const{initialTeardown:pe}=this;if((0,a.T)(pe))try{pe()}catch(je){te=je instanceof i?je.errors:[je]}const{_finalizers:ct}=this;if(ct){this._finalizers=null;for(const je of ct)try{Le(je)}catch(It){te=te??[],It instanceof i?te=[...te,...It.errors]:te.push(It)}}if(te)throw new i(te)}}add(te){var ae;if(te&&te!==this)if(this.closed)Le(te);else{if(te instanceof ge){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(te)}}_hasParent(te){const{_parentage:ae}=this;return ae===te||Array.isArray(ae)&&ae.includes(te)}_addParent(te){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(te),ae):ae?[ae,te]:te}_removeParent(te){const{_parentage:ae}=this;ae===te?this._parentage=null:Array.isArray(ae)&&(0,Ie.o)(ae,te)}remove(te){const{_finalizers:ae}=this;ae&&(0,Ie.o)(ae,te),te instanceof ge&&te._removeParent(this)}}ge.EMPTY=(()=>{const Ne=new ge;return Ne.closed=!0,Ne})();const Se=ge.EMPTY;function xe(Ne){return Ne instanceof ge||Ne&&"closed"in Ne&&(0,a.T)(Ne.remove)&&(0,a.T)(Ne.add)&&(0,a.T)(Ne.unsubscribe)}function Le(Ne){(0,a.T)(Ne)?Ne():Ne.unsubscribe()}},1026:(rn,Ze,j)=>{j.d(Ze,{$:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(rn,Ze,j)=>{j.d(Ze,{x:()=>ge});var a=j(6365),i=j(3794),Ie=j(8455);function ge(...Se){return function de(){return(0,a.U)(1)}()((0,Ie.H)(Se,(0,i.lI)(Se)))}},983:(rn,Ze,j)=>{j.d(Ze,{w:()=>de});const de=new(j(1985).c)(ge=>ge.complete())},8455:(rn,Ze,j)=>{j.d(Ze,{H:()=>et});var a=j(8750),de=j(941),i=j(6745),Se=j(1985),Le=j(4761),Ne=j(8071),te=j(5225);function pe(Ye,it){if(!Ye)throw new Error("Iterable cannot be null");return new Se.c(Dt=>{(0,te.N)(Dt,it,()=>{const Mt=Ye[Symbol.asyncIterator]();(0,te.N)(Dt,it,()=>{Mt.next().then(De=>{De.done?Dt.complete():Dt.next(De.value)})},0,!0)})})}var ct=j(5055),je=j(9858),It=j(7441),wt=j(5397),Ft=j(7953),Pt=j(591),hn=j(5196);function et(Ye,it){return it?function be(Ye,it){if(null!=Ye){if((0,ct.l)(Ye))return function Ie(Ye,it){return(0,a.Tg)(Ye).pipe((0,i._)(it),(0,de.Q)(it))}(Ye,it);if((0,It.X)(Ye))return function xe(Ye,it){return new Se.c(Dt=>{let Mt=0;return it.schedule(function(){Mt===Ye.length?Dt.complete():(Dt.next(Ye[Mt++]),Dt.closed||this.schedule())})})}(Ye,it);if((0,je.y)(Ye))return function ge(Ye,it){return(0,a.Tg)(Ye).pipe((0,i._)(it),(0,de.Q)(it))}(Ye,it);if((0,Ft.T)(Ye))return pe(Ye,it);if((0,wt.x)(Ye))return function ae(Ye,it){return new Se.c(Dt=>{let Mt;return(0,te.N)(Dt,it,()=>{Mt=Ye[Le.l](),(0,te.N)(Dt,it,()=>{let De,en;try{({value:De,done:en}=Mt.next())}catch(mn){return void Dt.error(mn)}en?Dt.complete():Dt.next(De)},0,!0)}),()=>(0,Ne.T)(Mt?.return)&&Mt.return()})}(Ye,it);if((0,hn.U)(Ye))return function Ge(Ye,it){return pe((0,hn.C)(Ye),it)}(Ye,it)}throw(0,Pt.L)(Ye)}(Ye,it):(0,a.Tg)(Ye)}},8750:(rn,Ze,j)=>{j.d(Ze,{Tg:()=>ct});var a=j(1635),de=j(7441),i=j(9858),Ie=j(1985),ge=j(5055),Se=j(7953),xe=j(591),Le=j(5397),Ne=j(5196),te=j(8071),ae=j(5334),pe=j(3494);function ct(be){if(be instanceof Ie.c)return be;if(null!=be){if((0,ge.l)(be))return function je(be){return new Ie.c(et=>{const Ye=be[pe.s]();if((0,te.T)(Ye.subscribe))return Ye.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,de.X)(be))return function It(be){return new Ie.c(et=>{for(let Ye=0;Ye<be.length&&!et.closed;Ye++)et.next(be[Ye]);et.complete()})}(be);if((0,i.y)(be))return function wt(be){return new Ie.c(et=>{be.then(Ye=>{et.closed||(et.next(Ye),et.complete())},Ye=>et.error(Ye)).then(null,ae.m)})}(be);if((0,Se.T)(be))return Pt(be);if((0,Le.x)(be))return function Ft(be){return new Ie.c(et=>{for(const Ye of be)if(et.next(Ye),et.closed)return;et.complete()})}(be);if((0,Ne.U)(be))return function hn(be){return Pt((0,Ne.C)(be))}(be)}throw(0,xe.L)(be)}function Pt(be){return new Ie.c(et=>{(function Ge(be,et){var Ye,it,Dt,Mt;return(0,a.sH)(this,void 0,void 0,function*(){try{for(Ye=(0,a.xN)(be);!(it=yield Ye.next()).done;)if(et.next(it.value),et.closed)return}catch(De){Dt={error:De}}finally{try{it&&!it.done&&(Mt=Ye.return)&&(yield Mt.call(Ye))}finally{if(Dt)throw Dt.error}}et.complete()})})(be,et).catch(Ye=>et.error(Ye))})}},7786:(rn,Ze,j)=>{j.d(Ze,{h:()=>Se});var a=j(6365),de=j(8750),i=j(983),Ie=j(3794),ge=j(8455);function Se(...xe){const Le=(0,Ie.lI)(xe),Ne=(0,Ie.R0)(xe,1/0),te=xe;return te.length?1===te.length?(0,de.Tg)(te[0]):(0,a.U)(Ne)((0,ge.H)(te,Le)):i.w}},7673:(rn,Ze,j)=>{j.d(Ze,{of:()=>i});var a=j(3794),de=j(8455);function i(...Ie){const ge=(0,a.lI)(Ie);return(0,de.H)(Ie,ge)}},8810:(rn,Ze,j)=>{j.d(Ze,{$:()=>i});var a=j(1985),de=j(8071);function i(Ie,ge){const Se=(0,de.T)(Ie)?Ie:()=>Ie,xe=Le=>Le.error(Se());return new a.c(ge?Le=>ge.schedule(xe,0,Le):xe)}},4360:(rn,Ze,j)=>{j.d(Ze,{_:()=>de});var a=j(7707);function de(Ie,ge,Se,xe,Le){return new i(Ie,ge,Se,xe,Le)}class i extends a.vU{constructor(ge,Se,xe,Le,Ne,te){super(ge),this.onFinalize=Ne,this.shouldUnsubscribe=te,this._next=Se?function(ae){try{Se(ae)}catch(pe){ge.error(pe)}}:super._next,this._error=Le?function(ae){try{Le(ae)}catch(pe){ge.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(ae){ge.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},9437:(rn,Ze,j)=>{j.d(Ze,{W:()=>Ie});var a=j(8750),de=j(4360),i=j(9974);function Ie(ge){return(0,i.N)((Se,xe)=>{let te,Le=null,Ne=!1;Le=Se.subscribe((0,de._)(xe,void 0,void 0,ae=>{te=(0,a.Tg)(ge(ae,Ie(ge)(Se))),Le?(Le.unsubscribe(),Le=null,te.subscribe(xe)):Ne=!0})),Ne&&(Le.unsubscribe(),Le=null,te.subscribe(xe))})}},274:(rn,Ze,j)=>{j.d(Ze,{H:()=>i});var a=j(1397),de=j(8071);function i(Ie,ge){return(0,de.T)(ge)?(0,a.Z)(Ie,ge,1):(0,a.Z)(Ie,1)}},9901:(rn,Ze,j)=>{j.d(Ze,{U:()=>i});var a=j(9974),de=j(4360);function i(Ie){return(0,a.N)((ge,Se)=>{let xe=!1;ge.subscribe((0,de._)(Se,Le=>{xe=!0,Se.next(Le)},()=>{xe||Se.next(Ie),Se.complete()}))})}},3294:(rn,Ze,j)=>{j.d(Ze,{F:()=>Ie});var a=j(3669),de=j(9974),i=j(4360);function Ie(Se,xe=a.D){return Se=Se??ge,(0,de.N)((Le,Ne)=>{let te,ae=!0;Le.subscribe((0,i._)(Ne,pe=>{const ct=xe(pe);(ae||!Se(te,ct))&&(ae=!1,te=ct,Ne.next(pe))}))})}function ge(Se,xe){return Se===xe}},5964:(rn,Ze,j)=>{j.d(Ze,{p:()=>i});var a=j(9974),de=j(4360);function i(Ie,ge){return(0,a.N)((Se,xe)=>{let Le=0;Se.subscribe((0,de._)(xe,Ne=>Ie.call(ge,Ne,Le++)&&xe.next(Ne)))})}},980:(rn,Ze,j)=>{j.d(Ze,{j:()=>de});var a=j(9974);function de(i){return(0,a.N)((Ie,ge)=>{try{Ie.subscribe(ge)}finally{ge.add(i)}})}},1594:(rn,Ze,j)=>{j.d(Ze,{$:()=>xe});var a=j(9350),de=j(5964),i=j(6697),Ie=j(9901),ge=j(3774),Se=j(3669);function xe(Le,Ne){const te=arguments.length>=2;return ae=>ae.pipe(Le?(0,de.p)((pe,ct)=>Le(pe,ct,ae)):Se.D,(0,i.s)(1),te?(0,Ie.U)(Ne):(0,ge.v)(()=>new a.G))}},6354:(rn,Ze,j)=>{j.d(Ze,{T:()=>i});var a=j(9974),de=j(4360);function i(Ie,ge){return(0,a.N)((Se,xe)=>{let Le=0;Se.subscribe((0,de._)(xe,Ne=>{xe.next(Ie.call(ge,Ne,Le++))}))})}},6365:(rn,Ze,j)=>{j.d(Ze,{U:()=>i});var a=j(1397),de=j(3669);function i(Ie=1/0){return(0,a.Z)(de.D,Ie)}},1397:(rn,Ze,j)=>{j.d(Ze,{Z:()=>Le});var a=j(6354),de=j(8750),i=j(9974),Ie=j(5225),ge=j(4360),xe=j(8071);function Le(Ne,te,ae=1/0){return(0,xe.T)(te)?Le((pe,ct)=>(0,a.T)((je,It)=>te(pe,je,ct,It))((0,de.Tg)(Ne(pe,ct))),ae):("number"==typeof te&&(ae=te),(0,i.N)((pe,ct)=>function Se(Ne,te,ae,pe,ct,je,It,wt){const Ft=[];let Pt=0,hn=0,Ge=!1;const be=()=>{Ge&&!Ft.length&&!Pt&&te.complete()},et=it=>Pt<pe?Ye(it):Ft.push(it),Ye=it=>{je&&te.next(it),Pt++;let Dt=!1;(0,de.Tg)(ae(it,hn++)).subscribe((0,ge._)(te,Mt=>{ct?.(Mt),je?et(Mt):te.next(Mt)},()=>{Dt=!0},void 0,()=>{if(Dt)try{for(Pt--;Ft.length&&Pt<pe;){const Mt=Ft.shift();It?(0,Ie.N)(te,It,()=>Ye(Mt)):Ye(Mt)}be()}catch(Mt){te.error(Mt)}}))};return Ne.subscribe((0,ge._)(te,et,()=>{Ge=!0,be()})),()=>{wt?.()}}(pe,ct,Ne,ae)))}},941:(rn,Ze,j)=>{j.d(Ze,{Q:()=>Ie});var a=j(5225),de=j(9974),i=j(4360);function Ie(ge,Se=0){return(0,de.N)((xe,Le)=>{xe.subscribe((0,i._)(Le,Ne=>(0,a.N)(Le,ge,()=>Le.next(Ne),Se),()=>(0,a.N)(Le,ge,()=>Le.complete(),Se),Ne=>(0,a.N)(Le,ge,()=>Le.error(Ne),Se)))})}},2816:(rn,Ze,j)=>{j.d(Ze,{S:()=>Ie});var a=j(9974),de=j(4360);function Ie(ge,Se){return(0,a.N)(function i(ge,Se,xe,Le,Ne){return(te,ae)=>{let pe=xe,ct=Se,je=0;te.subscribe((0,de._)(ae,It=>{const wt=je++;ct=pe?ge(ct,It,wt):(pe=!0,It),Le&&ae.next(ct)},Ne&&(()=>{pe&&ae.next(ct),ae.complete()})))}}(ge,Se,arguments.length>=2,!0))}},7647:(rn,Ze,j)=>{j.d(Ze,{u:()=>ge});var a=j(8750),de=j(1413),i=j(7707),Ie=j(9974);function ge(xe={}){const{connector:Le=(()=>new de.B),resetOnError:Ne=!0,resetOnComplete:te=!0,resetOnRefCountZero:ae=!0}=xe;return pe=>{let ct,je,It,wt=0,Ft=!1,Pt=!1;const hn=()=>{je?.unsubscribe(),je=void 0},Ge=()=>{hn(),ct=It=void 0,Ft=Pt=!1},be=()=>{const et=ct;Ge(),et?.unsubscribe()};return(0,Ie.N)((et,Ye)=>{wt++,!Pt&&!Ft&&hn();const it=It=It??Le();Ye.add(()=>{wt--,0===wt&&!Pt&&!Ft&&(je=Se(be,ae))}),it.subscribe(Ye),!ct&&wt>0&&(ct=new i.Ms({next:Dt=>it.next(Dt),error:Dt=>{Pt=!0,hn(),je=Se(Ge,Ne,Dt),it.error(Dt)},complete:()=>{Ft=!0,hn(),je=Se(Ge,te),it.complete()}}),(0,a.Tg)(et).subscribe(ct))})(pe)}}function Se(xe,Le,...Ne){if(!0===Le)return void xe();if(!1===Le)return;const te=new i.Ms({next:()=>{te.unsubscribe(),xe()}});return(0,a.Tg)(Le(...Ne)).subscribe(te)}},9172:(rn,Ze,j)=>{j.d(Ze,{Z:()=>Ie});var a=j(8793),de=j(3794),i=j(9974);function Ie(...ge){const Se=(0,de.lI)(ge);return(0,i.N)((xe,Le)=>{(Se?(0,a.x)(ge,xe,Se):(0,a.x)(ge,xe)).subscribe(Le)})}},6745:(rn,Ze,j)=>{j.d(Ze,{_:()=>de});var a=j(9974);function de(i,Ie=0){return(0,a.N)((ge,Se)=>{Se.add(i.schedule(()=>ge.subscribe(Se),Ie))})}},5558:(rn,Ze,j)=>{j.d(Ze,{n:()=>Ie});var a=j(8750),de=j(9974),i=j(4360);function Ie(ge,Se){return(0,de.N)((xe,Le)=>{let Ne=null,te=0,ae=!1;const pe=()=>ae&&!Ne&&Le.complete();xe.subscribe((0,i._)(Le,ct=>{Ne?.unsubscribe();let je=0;const It=te++;(0,a.Tg)(ge(ct,It)).subscribe(Ne=(0,i._)(Le,wt=>Le.next(Se?Se(ct,wt,It,je++):wt),()=>{Ne=null,pe()}))},()=>{ae=!0,pe()}))})}},6697:(rn,Ze,j)=>{j.d(Ze,{s:()=>Ie});var a=j(983),de=j(9974),i=j(4360);function Ie(ge){return ge<=0?()=>a.w:(0,de.N)((Se,xe)=>{let Le=0;Se.subscribe((0,i._)(xe,Ne=>{++Le<=ge&&(xe.next(Ne),ge<=Le&&xe.complete())}))})}},8141:(rn,Ze,j)=>{j.d(Ze,{M:()=>ge});var a=j(8071),de=j(9974),i=j(4360),Ie=j(3669);function ge(Se,xe,Le){const Ne=(0,a.T)(Se)||xe||Le?{next:Se,error:xe,complete:Le}:Se;return Ne?(0,de.N)((te,ae)=>{var pe;null===(pe=Ne.subscribe)||void 0===pe||pe.call(Ne);let ct=!0;te.subscribe((0,i._)(ae,je=>{var It;null===(It=Ne.next)||void 0===It||It.call(Ne,je),ae.next(je)},()=>{var je;ct=!1,null===(je=Ne.complete)||void 0===je||je.call(Ne),ae.complete()},je=>{var It;ct=!1,null===(It=Ne.error)||void 0===It||It.call(Ne,je),ae.error(je)},()=>{var je,It;ct&&(null===(je=Ne.unsubscribe)||void 0===je||je.call(Ne)),null===(It=Ne.finalize)||void 0===It||It.call(Ne)}))}):Ie.D}},3774:(rn,Ze,j)=>{j.d(Ze,{v:()=>Ie});var a=j(9350),de=j(9974),i=j(4360);function Ie(Se=ge){return(0,de.N)((xe,Le)=>{let Ne=!1;xe.subscribe((0,i._)(Le,te=>{Ne=!0,Le.next(te)},()=>Ne?Le.complete():Le.error(Se())))})}function ge(){return new a.G}},6780:(rn,Ze,j)=>{j.d(Ze,{R:()=>ge});var a=j(8359);class de extends a.yU{constructor(xe,Le){super()}schedule(xe,Le=0){return this}}const i={setInterval(Se,xe,...Le){const{delegate:Ne}=i;return Ne?.setInterval?Ne.setInterval(Se,xe,...Le):setInterval(Se,xe,...Le)},clearInterval(Se){const{delegate:xe}=i;return(xe?.clearInterval||clearInterval)(Se)},delegate:void 0};var Ie=j(7908);class ge extends de{constructor(xe,Le){super(xe,Le),this.scheduler=xe,this.work=Le,this.pending=!1}schedule(xe,Le=0){var Ne;if(this.closed)return this;this.state=xe;const te=this.id,ae=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(ae,te,Le)),this.pending=!0,this.delay=Le,this.id=null!==(Ne=this.id)&&void 0!==Ne?Ne:this.requestAsyncId(ae,this.id,Le),this}requestAsyncId(xe,Le,Ne=0){return i.setInterval(xe.flush.bind(xe,this),Ne)}recycleAsyncId(xe,Le,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return Le;null!=Le&&i.clearInterval(Le)}execute(xe,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute(xe,Le);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(xe,Le){let te,Ne=!1;try{this.work(xe)}catch(ae){Ne=!0,te=ae||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:xe,scheduler:Le}=this,{actions:Ne}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.o)(Ne,this),null!=xe&&(this.id=this.recycleAsyncId(Le,xe,null)),this.delay=null,super.unsubscribe()}}}},9687:(rn,Ze,j)=>{j.d(Ze,{q:()=>i});var a=j(6129);class de{constructor(ge,Se=de.now){this.schedulerActionCtor=ge,this.now=Se}schedule(ge,Se=0,xe){return new this.schedulerActionCtor(this,ge).schedule(xe,Se)}}de.now=a.U.now;class i extends de{constructor(ge,Se=de.now){super(ge,Se),this.actions=[],this._active=!1}flush(ge){const{actions:Se}=this;if(this._active)return void Se.push(ge);let xe;this._active=!0;do{if(xe=ge.execute(ge.state,ge.delay))break}while(ge=Se.shift());if(this._active=!1,xe){for(;ge=Se.shift();)ge.unsubscribe();throw xe}}}},3236:(rn,Ze,j)=>{j.d(Ze,{E:()=>i});var a=j(6780);const i=new(j(9687).q)(a.R)},6129:(rn,Ze,j)=>{j.d(Ze,{U:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},9270:(rn,Ze,j)=>{j.d(Ze,{f:()=>a});const a={setTimeout(de,i,...Ie){const{delegate:ge}=a;return ge?.setTimeout?ge.setTimeout(de,i,...Ie):setTimeout(de,i,...Ie)},clearTimeout(de){const{delegate:i}=a;return(i?.clearTimeout||clearTimeout)(de)},delegate:void 0}},4761:(rn,Ze,j)=>{j.d(Ze,{l:()=>de});const de=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(rn,Ze,j)=>{j.d(Ze,{s:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(rn,Ze,j)=>{j.d(Ze,{G:()=>de});const de=(0,j(1853).L)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(rn,Ze,j)=>{j.d(Ze,{R0:()=>Se,ms:()=>Ie,lI:()=>ge});var a=j(8071);function i(xe){return xe[xe.length-1]}function Ie(xe){return(0,a.T)(i(xe))?xe.pop():void 0}function ge(xe){return function de(xe){return xe&&(0,a.T)(xe.schedule)}(i(xe))?xe.pop():void 0}function Se(xe,Le){return"number"==typeof i(xe)?xe.pop():Le}},3073:(rn,Ze,j)=>{j.d(Ze,{D:()=>ge});const{isArray:a}=Array,{getPrototypeOf:de,prototype:i,keys:Ie}=Object;function ge(xe){if(1===xe.length){const Le=xe[0];if(a(Le))return{args:Le,keys:null};if(function Se(xe){return xe&&"object"==typeof xe&&de(xe)===i}(Le)){const Ne=Ie(Le);return{args:Ne.map(te=>Le[te]),keys:Ne}}}return{args:xe,keys:null}}},7908:(rn,Ze,j)=>{function a(de,i){if(de){const Ie=de.indexOf(i);0<=Ie&&de.splice(Ie,1)}}j.d(Ze,{o:()=>a})},1853:(rn,Ze,j)=>{function a(de){const Ie=de(ge=>{Error.call(ge),ge.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}j.d(Ze,{L:()=>a})},8496:(rn,Ze,j)=>{function a(de,i){return de.reduce((Ie,ge,Se)=>(Ie[ge]=i[Se],Ie),{})}j.d(Ze,{e:()=>a})},9786:(rn,Ze,j)=>{j.d(Ze,{Y:()=>i,l:()=>Ie});var a=j(1026);let de=null;function i(ge){if(a.$.useDeprecatedSynchronousErrorHandling){const Se=!de;if(Se&&(de={errorThrown:!1,error:null}),ge(),Se){const{errorThrown:xe,error:Le}=de;if(de=null,xe)throw Le}}else ge()}function Ie(ge){a.$.useDeprecatedSynchronousErrorHandling&&de&&(de.errorThrown=!0,de.error=ge)}},5225:(rn,Ze,j)=>{function a(de,i,Ie,ge=0,Se=!1){const xe=i.schedule(function(){Ie(),Se?de.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(de.add(xe),!Se)return xe}j.d(Ze,{N:()=>a})},3669:(rn,Ze,j)=>{function a(de){return de}j.d(Ze,{D:()=>a})},7441:(rn,Ze,j)=>{j.d(Ze,{X:()=>a});const a=de=>de&&"number"==typeof de.length&&"function"!=typeof de},7953:(rn,Ze,j)=>{j.d(Ze,{T:()=>de});var a=j(8071);function de(i){return Symbol.asyncIterator&&(0,a.T)(i?.[Symbol.asyncIterator])}},8071:(rn,Ze,j)=>{function a(de){return"function"==typeof de}j.d(Ze,{T:()=>a})},5055:(rn,Ze,j)=>{j.d(Ze,{l:()=>i});var a=j(3494),de=j(8071);function i(Ie){return(0,de.T)(Ie[a.s])}},5397:(rn,Ze,j)=>{j.d(Ze,{x:()=>i});var a=j(4761),de=j(8071);function i(Ie){return(0,de.T)(Ie?.[a.l])}},9858:(rn,Ze,j)=>{j.d(Ze,{y:()=>de});var a=j(8071);function de(i){return(0,a.T)(i?.then)}},5196:(rn,Ze,j)=>{j.d(Ze,{C:()=>i,U:()=>Ie});var a=j(1635),de=j(8071);function i(ge){return(0,a.AQ)(this,arguments,function*(){const xe=ge.getReader();try{for(;;){const{value:Le,done:Ne}=yield(0,a.N3)(xe.read());if(Ne)return yield(0,a.N3)(void 0);yield yield(0,a.N3)(Le)}}finally{xe.releaseLock()}})}function Ie(ge){return(0,de.T)(ge?.getReader)}},9974:(rn,Ze,j)=>{j.d(Ze,{N:()=>i,S:()=>de});var a=j(8071);function de(Ie){return(0,a.T)(Ie?.lift)}function i(Ie){return ge=>{if(de(ge))return ge.lift(function(Se){try{return Ie(Se,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(rn,Ze,j)=>{j.d(Ze,{I:()=>Ie});var a=j(6354);const{isArray:de}=Array;function Ie(ge){return(0,a.T)(Se=>function i(ge,Se){return de(Se)?ge(...Se):ge(Se)}(ge,Se))}},5343:(rn,Ze,j)=>{function a(){}j.d(Ze,{l:()=>a})},1203:(rn,Ze,j)=>{j.d(Ze,{F:()=>de,m:()=>i});var a=j(3669);function de(...Ie){return i(Ie)}function i(Ie){return 0===Ie.length?a.D:1===Ie.length?Ie[0]:function(Se){return Ie.reduce((xe,Le)=>Le(xe),Se)}}},5334:(rn,Ze,j)=>{j.d(Ze,{m:()=>i});var a=j(1026),de=j(9270);function i(Ie){de.f.setTimeout(()=>{const{onUnhandledError:ge}=a.$;if(!ge)throw Ie;ge(Ie)})}},591:(rn,Ze,j)=>{function a(de){return new TypeError(`You provided ${null!==de&&"object"==typeof de?"an invalid object":`'${de}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Ze,{L:()=>a})},9969:(rn,Ze,j)=>{j.d(Ze,{FX:()=>hn,K2:()=>xe,Ro:()=>de,S6:()=>a,hZ:()=>Ie,i0:()=>ge,iF:()=>Le,kY:()=>ae,kp:()=>i,sf:()=>Ft,ui:()=>Pt});class a{}class de{}const i="*";function Ie(Ge,be){return{type:7,name:Ge,definitions:be,options:{}}}function ge(Ge,be=null){return{type:4,styles:be,timings:Ge}}function xe(Ge,be=null){return{type:2,steps:Ge,options:be}}function Le(Ge){return{type:6,styles:Ge,offset:null}}function ae(Ge,be,et=null){return{type:1,expr:Ge,animation:be,options:et}}class Ft{constructor(be=0,et=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+et}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._originalOnStartFns.push(be),this._onStartFns.push(be)}onDone(be){this._originalOnDoneFns.push(be),this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const et="start"==be?this._onStartFns:this._onDoneFns;et.forEach(Ye=>Ye()),et.length=0}}class Pt{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let et=0,Ye=0,it=0;const Dt=this.players.length;0==Dt?queueMicrotask(()=>this._onFinish()):this.players.forEach(Mt=>{Mt.onDone(()=>{++et==Dt&&this._onFinish()}),Mt.onDestroy(()=>{++Ye==Dt&&this._onDestroy()}),Mt.onStart(()=>{++it==Dt&&this._onStart()})}),this.totalTime=this.players.reduce((Mt,De)=>Math.max(Mt,De.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const et=be*this.totalTime;this.players.forEach(Ye=>{const it=Ye.totalTime?Math.min(1,et/Ye.totalTime):1;Ye.setPosition(it)})}getPosition(){const be=this.players.reduce((et,Ye)=>null===et||Ye.totalTime>et.totalTime?Ye:et,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const et="start"==be?this._onStartFns:this._onDoneFns;et.forEach(Ye=>Ye()),et.length=0}}const hn="!"},177:(rn,Ze,j)=>{j.d(Ze,{AJ:()=>Rr,B3:()=>Ir,Jj:()=>qs,MD:()=>hs,N0:()=>Dn,P9:()=>ti,QT:()=>i,Sm:()=>It,Sq:()=>Qi,VF:()=>ge,Vy:()=>Os,Xr:()=>Oe,YU:()=>dr,ZD:()=>Ie,_b:()=>zt,aZ:()=>Ft,bT:()=>Fo,e1:()=>ss,fG:()=>vs,fw:()=>wt,hb:()=>ct,hj:()=>Le,lG:()=>ws,qQ:()=>Se,ux:()=>si});var a=j(7705);let de=null;function i(){return de}function Ie(P){de||(de=P)}class ge{}const Se=new a.nKC("DocumentToken");let xe=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=a.jDH({token:P,factory:function(){return(0,a.WQX)(Ne)},providedIn:"platform"})}}return P})();const Le=new a.nKC("Location Initialized");let Ne=(()=>{class P extends xe{constructor(){super(),this._doc=(0,a.WQX)(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState(B){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",B,!1),()=>Y.removeEventListener("popstate",B)}onHashChange(B){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",B,!1),()=>Y.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,Y,Me){this._history.pushState(B,Y,Me)}replaceState(B,Y,Me){this._history.replaceState(B,Y,Me)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=a.jDH({token:P,factory:function(){return new P},providedIn:"platform"})}}return P})();function te(P,ne){if(0==P.length)return ne;if(0==ne.length)return P;let B=0;return P.endsWith("/")&&B++,ne.startsWith("/")&&B++,2==B?P+ne.substring(1):1==B?P+ne:P+"/"+ne}function ae(P){const ne=P.match(/#|\?|$/),B=ne&&ne.index||P.length;return P.slice(0,B-("/"===P[B-1]?1:0))+P.slice(B)}function pe(P){return P&&"?"!==P[0]?"?"+P:P}let ct=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=a.jDH({token:P,factory:function(){return(0,a.WQX)(It)},providedIn:"root"})}}return P})();const je=new a.nKC("appBaseHref");let It=(()=>{class P extends ct{constructor(B,Y){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,a.WQX)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return te(this._baseHref,B)}path(B=!1){const Y=this._platformLocation.pathname+pe(this._platformLocation.search),Me=this._platformLocation.hash;return Me&&B?`${Y}${Me}`:Y}pushState(B,Y,Me,Ct){const Ot=this.prepareExternalUrl(Me+pe(Ct));this._platformLocation.pushState(B,Y,Ot)}replaceState(B,Y,Me,Ct){const Ot=this.prepareExternalUrl(Me+pe(Ct));this._platformLocation.replaceState(B,Y,Ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(Y){return new(Y||P)(a.KVO(xe),a.KVO(je,8))}}static{this.\u0275prov=a.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})(),wt=(()=>{class P extends ct{constructor(B,Y){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(B){const Y=te(this._baseHref,B);return Y.length>0?"#"+Y:Y}pushState(B,Y,Me,Ct){let Ot=this.prepareExternalUrl(Me+pe(Ct));0==Ot.length&&(Ot=this._platformLocation.pathname),this._platformLocation.pushState(B,Y,Ot)}replaceState(B,Y,Me,Ct){let Ot=this.prepareExternalUrl(Me+pe(Ct));0==Ot.length&&(Ot=this._platformLocation.pathname),this._platformLocation.replaceState(B,Y,Ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(Y){return new(Y||P)(a.KVO(xe),a.KVO(je,8))}}static{this.\u0275prov=a.jDH({token:P,factory:P.\u0275fac})}}return P})(),Ft=(()=>{class P{constructor(B){this._subject=new a.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const Y=this._locationStrategy.getBaseHref();this._basePath=function be(P){if(new RegExp("^(https?:)?//").test(P)){const[,B]=P.split(/\/\/[^\/]+/);return B}return P}(ae(Ge(Y))),this._locationStrategy.onPopState(Me=>{this._subject.emit({url:this.path(!0),pop:!0,state:Me.state,type:Me.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,Y=""){return this.path()==this.normalize(B+pe(Y))}normalize(B){return P.stripTrailingSlash(function hn(P,ne){if(!P||!ne.startsWith(P))return ne;const B=ne.substring(P.length);return""===B||["/",";","?","#"].includes(B[0])?B:ne}(this._basePath,Ge(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,Y="",Me=null){this._locationStrategy.pushState(Me,"",B,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+pe(Y)),Me)}replaceState(B,Y="",Me=null){this._locationStrategy.replaceState(Me,"",B,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+pe(Y)),Me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",Y){this._urlChangeListeners.forEach(Me=>Me(B,Y))}subscribe(B,Y,Me){return this._subject.subscribe({next:B,error:Y,complete:Me})}static{this.normalizeQueryParams=pe}static{this.joinWithSlash=te}static{this.stripTrailingSlash=ae}static{this.\u0275fac=function(Y){return new(Y||P)(a.KVO(ct))}}static{this.\u0275prov=a.jDH({token:P,factory:function(){return function Pt(){return new Ft((0,a.KVO)(ct))}()},providedIn:"root"})}}return P})();function Ge(P){return P.replace(/\/index.html$/,"")}function zt(P,ne){ne=encodeURIComponent(ne);for(const B of P.split(";")){const Y=B.indexOf("="),[Me,Ct]=-1==Y?[B,""]:[B.slice(0,Y),B.slice(Y+1)];if(Me.trim()===ne)return decodeURIComponent(Ct)}return null}const Cn=/\s+/,Rn=[];let dr=(()=>{class P{constructor(B,Y,Me,Ct){this._iterableDiffers=B,this._keyValueDiffers=Y,this._ngEl=Me,this._renderer=Ct,this.initialClasses=Rn,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(Cn):Rn}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(Cn):B}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const Y of B)this._updateState(Y,!0);else if(null!=B)for(const Y of Object.keys(B))this._updateState(Y,!!B[Y]);this._applyStateDiff()}_updateState(B,Y){const Me=this.stateMap.get(B);void 0!==Me?(Me.enabled!==Y&&(Me.changed=!0,Me.enabled=Y),Me.touched=!0):this.stateMap.set(B,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const Y=B[0],Me=B[1];Me.changed?(this._toggleClass(Y,Me.enabled),Me.changed=!1):Me.touched||(Me.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),Me.touched=!1}}_toggleClass(B,Y){(B=B.trim()).length>0&&B.split(Cn).forEach(Me=>{Y?this._renderer.addClass(this._ngEl.nativeElement,Me):this._renderer.removeClass(this._ngEl.nativeElement,Me)})}static{this.\u0275fac=function(Y){return new(Y||P)(a.rXU(a._q3),a.rXU(a.MKu),a.rXU(a.aKT),a.rXU(a.sFG))}}static{this.\u0275dir=a.FsC({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return P})();class Tr{constructor(ne,B,Y,Me){this.$implicit=ne,this.ngForOf=B,this.index=Y,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qi=(()=>{class P{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,Y,Me){this._viewContainer=B,this._template=Y,this._differs=Me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const Y=this._viewContainer;B.forEachOperation((Me,Ct,Ot)=>{if(null==Me.previousIndex)Y.createEmbeddedView(this._template,new Tr(Me.item,this._ngForOf,-1,-1),null===Ot?void 0:Ot);else if(null==Ot)Y.remove(null===Ct?void 0:Ct);else if(null!==Ct){const jn=Y.get(Ct);Y.move(jn,Ot),Ps(jn,Me)}});for(let Me=0,Ct=Y.length;Me<Ct;Me++){const jn=Y.get(Me).context;jn.index=Me,jn.count=Ct,jn.ngForOf=this._ngForOf}B.forEachIdentityChange(Me=>{Ps(Y.get(Me.currentIndex),Me)})}static ngTemplateContextGuard(B,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(a._q3))}}static{this.\u0275dir=a.FsC({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return P})();function Ps(P,ne){P.context.$implicit=ne.item}let Fo=(()=>{class P{constructor(B,Y){this._viewContainer=B,this._context=new Lo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Gi("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Gi("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(a.rXU(a.c1b),a.rXU(a.C4Q))}}static{this.\u0275dir=a.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return P})();class Lo{constructor(){this.$implicit=null,this.ngIf=null}}function Gi(P,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,a.Tbb)(ne)}'.`)}class qo{constructor(ne,B){this._viewContainerRef=ne,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ne){ne&&!this._created?this.create():!ne&&this._created&&this.destroy()}}let si=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews.push(B)}_matchCase(B){const Y=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases(B){if(this._defaultViews.length>0&&B!==this._defaultUsed){this._defaultUsed=B;for(const Y of this._defaultViews)Y.enforceState(B)}}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275dir=a.FsC({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return P})(),ss=(()=>{class P{constructor(B,Y,Me){this.ngSwitch=Me,Me._addCase(),this._view=new qo(B,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Y){return new(Y||P)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(si,9))}}static{this.\u0275dir=a.FsC({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return P})(),vs=(()=>{class P{constructor(B,Y,Me){Me._addDefault(new qo(B,Y))}static{this.\u0275fac=function(Y){return new(Y||P)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(si,9))}}static{this.\u0275dir=a.FsC({type:P,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return P})(),Ir=(()=>{class P{constructor(B,Y,Me){this._ngEl=B,this._differs=Y,this._renderer=Me,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,Y){const[Me,Ct]=B.split("."),Ot=-1===Me.indexOf("-")?void 0:a.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,Me,Ct?`${Y}${Ct}`:Y,Ot):this._renderer.removeStyle(this._ngEl.nativeElement,Me,Ot)}_applyChanges(B){B.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),B.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),B.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static{this.\u0275fac=function(Y){return new(Y||P)(a.rXU(a.aKT),a.rXU(a.MKu),a.rXU(a.sFG))}}static{this.\u0275dir=a.FsC({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return P})();function fi(P,ne){return new a.wOt(2100,!1)}class La{createSubscription(ne,B){return(0,a.O8t)(()=>ne.subscribe({next:B,error:Y=>{throw Y}}))}dispose(ne){(0,a.O8t)(()=>ne.unsubscribe())}}class Za{createSubscription(ne,B){return ne.then(B,Y=>{throw Y})}dispose(ne){}}const Ri=new Za,va=new La;let qs=(()=>{class P{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,Y=>this._updateLatestValue(B,Y))}_selectStrategy(B){if((0,a.jNT)(B))return Ri;if((0,a.zjR)(B))return va;throw fi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,Y){B===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static{this.\u0275fac=function(Y){return new(Y||P)(a.rXU(a.gRc,16))}}static{this.\u0275pipe=a.EJ8({name:"async",type:P,pure:!1,standalone:!0})}}return P})(),ws=(()=>{class P{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=Bs}transform(B,Y=Bs){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const Me=this.differ.diff(B),Ct=Y!==this.compareFn;return Me&&(this.keyValues=[],Me.forEachItem(Ot=>{this.keyValues.push(function as(P,ne){return{key:P,value:ne}}(Ot.key,Ot.currentValue))})),(Me||Ct)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static{this.\u0275fac=function(Y){return new(Y||P)(a.rXU(a.MKu,16))}}static{this.\u0275pipe=a.EJ8({name:"keyvalue",type:P,pure:!1,standalone:!0})}}return P})();function Bs(P,ne){const B=P.key,Y=ne.key;if(B===Y)return 0;if(void 0===B)return 1;if(void 0===Y)return-1;if(null===B)return 1;if(null===Y)return-1;if("string"==typeof B&&"string"==typeof Y)return B<Y?-1:1;if("number"==typeof B&&"number"==typeof Y)return B-Y;if("boolean"==typeof B&&"boolean"==typeof Y)return B<Y?-1:1;const Me=String(B),Ct=String(Y);return Me==Ct?0:Me<Ct?-1:1}let ti=(()=>{class P{transform(B,Y,Me){if(null==B)return null;if(!this.supports(B))throw fi();return B.slice(Y,Me)}supports(B){return"string"==typeof B||Array.isArray(B)}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275pipe=a.EJ8({name:"slice",type:P,pure:!1,standalone:!0})}}return P})(),hs=(()=>{class P{static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275mod=a.$C({type:P})}static{this.\u0275inj=a.G2t({})}}return P})();const Rr="browser",Bi="server";function Os(P){return P===Bi}let Oe=(()=>{class P{static{this.\u0275prov=(0,a.jDH)({token:P,providedIn:"root",factory:()=>new Je((0,a.KVO)(Se),window)})}}return P})();class Je{constructor(ne,B){this.document=ne,this.window=B,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const B=function mt(P,ne){const B=P.getElementById(ne)||P.getElementsByName(ne)[0];if(B)return B;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const Y=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Me=Y.currentNode;for(;Me;){const Ct=Me.shadowRoot;if(Ct){const Ot=Ct.getElementById(ne)||Ct.querySelector(`[name="${ne}"]`);if(Ot)return Ot}Me=Y.nextNode()}}return null}(this.document,ne);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const B=ne.getBoundingClientRect(),Y=B.left+this.window.pageXOffset,Me=B.top+this.window.pageYOffset,Ct=this.offset();this.window.scrollTo(Y-Ct[0],Me-Ct[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Dn{}},7705:(rn,Ze,j)=>{j.d(Ze,{$C:()=>Yr,$GK:()=>Tn,$K3:()=>DT,$MX:()=>qc,AVh:()=>Wv,Agw:()=>dm,B4B:()=>xp,BIS:()=>nv,BMQ:()=>dg,C4Q:()=>u0,C5r:()=>cT,Co$:()=>EC,DNE:()=>fd,EFF:()=>Zc,EJ8:()=>Rs,EmA:()=>uh,FS9:()=>md,FsC:()=>bo,G2t:()=>qt,GBs:()=>nT,GFd:()=>Mv,H3F:()=>AT,H5H:()=>TE,H8p:()=>vf,HJs:()=>t1,HbH:()=>Ty,Hbi:()=>$A,JRh:()=>Xv,JZv:()=>qn,Jv_:()=>vC,KH2:()=>Eg,KVO:()=>At,Kcf:()=>jy,L39:()=>ZA,LfX:()=>Nn,Lme:()=>Gm,MKu:()=>nC,Mz_:()=>ka,NEm:()=>yA,NYb:()=>pA,Njj:()=>us,O8t:()=>Ct,OA$:()=>mr,Ocv:()=>Hw,Ol2:()=>CC,PLl:()=>tv,QTQ:()=>d,Ql9:()=>Ww,QuC:()=>Is,R7$:()=>ym,RV6:()=>kl,Rfq:()=>It,RxE:()=>ov,SKi:()=>So,SpI:()=>Ay,TL$:()=>Kg,Tbb:()=>pe,UyX:()=>wp,VBU:()=>Za,Vns:()=>qm,Vt3:()=>Am,WHO:()=>MT,WPN:()=>Yu,WQX:()=>ln,XpG:()=>Hi,Xx1:()=>so,Y8G:()=>pd,Z63:()=>Xu,ZF7:()=>Ku,_9s:()=>Vp,_q3:()=>tC,aKT:()=>_h,aNF:()=>TC,bIt:()=>q,bMT:()=>BC,bVm:()=>Ja,bc$:()=>Qu,bkB:()=>xl,brH:()=>HC,c1b:()=>kE,cWb:()=>Ip,czy:()=>Wa,e01:()=>RT,e5t:()=>By,eBV:()=>Go,eq3:()=>MC,eu8:()=>ua,fpN:()=>BA,gRc:()=>DA,gXe:()=>Mi,giA:()=>OT,h9k:()=>ui,hnV:()=>wT,i5U:()=>$C,iLQ:()=>Yb,j41:()=>Na,jDH:()=>tn,jNT:()=>E,k0s:()=>Nl,kS0:()=>Ad,kdw:()=>Lu,l4e:()=>OC,lJ4:()=>PC,lNU:()=>Ge,l_i:()=>RC,lsd:()=>iT,mGM:()=>tT,mq5:()=>wE,n$t:()=>S_,nI1:()=>jC,nKC:()=>fn,naY:()=>AA,npT:()=>em,nrm:()=>gd,o8S:()=>My,oH4:()=>LT,osQ:()=>pf,plB:()=>Ub,qex:()=>Rh,rXU:()=>Pl,rcV:()=>oa,sFG:()=>g0,sGs:()=>NC,sZ2:()=>R_,sdS:()=>Ph,tSv:()=>fv,uvJ:()=>Ci,w6W:()=>kI,wOt:()=>be,wni:()=>rT,xGo:()=>Ga,xc7:()=>Q0,xe9:()=>LE,xvI:()=>av,zZn:()=>Al,zcH:()=>yc,zjR:()=>U});var a=j(1413),de=j(8359),i=j(1985),Ie=j(7786),ge=j(4412),Se=j(7673),xe=j(7647),Le=j(5558),Ne=j(3294);function te(t){for(let n in t)if(t[n]===te)return n;throw Error("Could not find renamed property on target object.")}function ae(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function ct(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const je=te({__forward_ref__:te});function It(t){return t.__forward_ref__=It,t.toString=function(){return pe(this())},t}function wt(t){return Ft(t)?t():t}function Ft(t){return"function"==typeof t&&t.hasOwnProperty(je)&&t.__forward_ref__===It}function Pt(t){return t&&!!t.\u0275providers}const Ge="https://g.co/ng/security#xss";class be extends Error{constructor(n,s){super(function et(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function Ye(t){return"string"==typeof t?t:null==t?"":String(t)}function en(t,n){throw new be(-201,!1)}function rt(t,n){null==t&&function Qe(t,n,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function tn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hn(t){return $t(t,cn)||$t(t,Zn)}function Nn(t){return null!==Hn(t)}function $t(t,n){return t.hasOwnProperty(n)?t[n]:null}function _r(t){return t&&(t.hasOwnProperty(Mr)||t.hasOwnProperty(Ut))?t[Mr]:null}const cn=te({\u0275prov:te}),Mr=te({\u0275inj:te}),Zn=te({ngInjectableDef:te}),Ut=te({ngInjectorDef:te});var Tn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tn||{});let Gn;function Ur(t){const n=Gn;return Gn=t,n}function Sr(t,n,s){const u=Hn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Tn.Optional?null:void 0!==n?n:void en(pe(t))}const qn=globalThis;class fn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=tn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $n={},Fr="__NG_DI_FLAG__",br="ngTempTokenPath",Et=/\n/gm,M="__source";let k;function _e(t){const n=k;return k=t,n}function st(t,n=Tn.Default){if(void 0===k)throw new be(-203,!1);return null===k?Sr(t,void 0,n):k.get(t,n&Tn.Optional?null:void 0,n)}function At(t,n=Tn.Default){return(function an(){return Gn}()||st)(wt(t),n)}function ln(t,n=Tn.Default){return At(t,An(n))}function An(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pr(t){const n=[];for(let s=0;s<t.length;s++){const u=wt(t[s]);if(Array.isArray(u)){if(0===u.length)throw new be(900,!1);let f,g=Tn.Default;for(let C=0;C<u.length;C++){const A=u[C],R=Lr(A);"number"==typeof R?-1===R?f=A.token:g|=R:f=A}n.push(At(f,g))}else n.push(At(u))}return n}function on(t,n){return t[Fr]=n,t.prototype[Fr]=n,t}function Lr(t){return t[Fr]}function yi(t){return{toString:t}.toString()}var ji=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ji||{}),Mi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Mi||{});const vi={},Ce=[],nn=te({\u0275cmp:te}),Z=te({\u0275dir:te}),fe=te({\u0275pipe:te}),He=te({\u0275mod:te}),zt=te({\u0275fac:te}),Cn=te({__NG_ELEMENT_ID__:te}),Rn=te({__NG_ENV_ID__:te});function dr(t,n,s){let u=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const g=n.length;if(f+g===u||t.charCodeAt(f+g)<=32)return f}s=f+1}}function jr(t,n,s){let u=0;for(;u<s.length;){const f=s[u];if("number"==typeof f){if(0!==f)break;u++;const g=s[u++],C=s[u++],A=s[u++];t.setAttribute(n,C,A,g)}else{const g=f,C=s[++u];Tr(g)?t.setProperty(n,g,C):t.setAttribute(n,g,C),u++}}return u}function Kr(t){return 3===t||4===t||6===t}function Tr(t){return 64===t.charCodeAt(0)}function Qi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?s=f:0===s||Ps(t,s,f,null,-1===s||2===s?n[++u]:null)}}return t}function Ps(t,n,s,u,f){let g=0,C=t.length;if(-1===n)C=-1;else for(;g<t.length;){const A=t[g++];if("number"==typeof A){if(A===n){C=-1;break}if(A>n){C=g-1;break}}}for(;g<t.length;){const A=t[g];if("number"==typeof A)break;if(A===s){if(null===u)return void(null!==f&&(t[g+1]=f));if(u===t[g+1])return void(t[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==C&&(t.splice(C,0,n),g=C+1),t.splice(g++,0,s),null!==u&&t.splice(g++,0,u),null!==f&&t.splice(g++,0,f)}const is="ng-template";function Fo(t,n,s){let u=0,f=!0;for(;u<t.length;){let g=t[u++];if("string"==typeof g&&f){const C=t[u++];if(s&&"class"===g&&-1!==dr(C.toLowerCase(),n,0))return!0}else{if(1===g){for(;u<t.length&&"string"==typeof(g=t[u++]);)if(g.toLowerCase()===n)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function Lo(t){return 4===t.type&&t.value!==is}function Gi(t,n,s){return n===(4!==t.type||s?t.value:is)}function qo(t,n,s){let u=4;const f=t.attrs||[],g=function Ki(t){for(let n=0;n<t.length;n++)if(Kr(t[n]))return n;return t.length}(f);let C=!1;for(let A=0;A<n.length;A++){const R=n[A];if("number"!=typeof R){if(!C)if(4&u){if(u=2|1&u,""!==R&&!Gi(t,R,s)||""===R&&1===n.length){if(si(u))return!1;C=!0}}else{const G=8&u?R:n[++A];if(8&u&&null!==t.attrs){if(!Fo(t.attrs,G,s)){if(si(u))return!1;C=!0}continue}const Te=ss(8&u?"class":R,f,Lo(t),s);if(-1===Te){if(si(u))return!1;C=!0;continue}if(""!==G){let Xe;Xe=Te>g?"":f[Te+1].toLowerCase();const lt=8&u?Xe:null;if(lt&&-1!==dr(lt,G,0)||2&u&&G!==Xe){if(si(u))return!1;C=!0}}}}else{if(!C&&!si(u)&&!si(R))return!1;if(C&&si(R))continue;C=!1,u=R|1&u}}return si(u)||C}function si(t){return 0==(1&t)}function ss(t,n,s,u){if(null===n)return-1;let f=0;if(u||!s){let g=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)g=!0;else{if(1===C||2===C){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=g?1:2}return-1}return function Li(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,t)}function vs(t,n,s=!1){for(let u=0;u<n.length;u++)if(qo(t,n[u],s))return!0;return!1}function lo(t,n){return t?":not("+n.trim()+")":n}function Vo(t){let n=t[0],s=1,u=2,f="",g=!1;for(;s<t.length;){let C=t[s];if("string"==typeof C)if(2&u){const A=t[++s];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?f+="."+C:4&u&&(f+=" "+C);else""!==f&&!si(C)&&(n+=lo(g,f),f=""),u=C,g=g||!si(u);s++}return""!==f&&(n+=lo(g,f)),n}function Za(t){return yi(()=>{const n=os(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ji.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Mi.Emulated,styles:t.styles||Ce,_:null,schemas:t.schemas||null,tView:null,id:""};to(s);const u=t.dependencies;return s.directiveDefs=as(u,!1),s.pipeDefs=as(u,!0),s.id=function Bs(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function va(t){return xr(t)||oi(t)}function qs(t){return null!==t}function Yr(t){return yi(()=>({type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ms(t,n){if(null==t)return vi;const s={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),s[f]=u,n&&(n[f]=g)}return s}function bo(t){return yi(()=>{const n=os(t);return to(n),n})}function Rs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function xr(t){return t[nn]||null}function oi(t){return t[Z]||null}function Si(t){return t[fe]||null}function Is(t){const n=xr(t)||oi(t)||Si(t);return null!==n&&n.standalone}function pi(t,n){const s=t[He]||null;if(!s&&!0===n)throw new Error(`Type ${pe(t)} does not have '\u0275mod' property.`);return s}function os(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||vi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ms(t.inputs,n),outputs:Ms(t.outputs)}}function to(t){t.features?.forEach(n=>n(t))}function as(t,n){if(!t)return null;const s=n?Si:va;return()=>("function"==typeof t?t():t).map(u=>s(u)).filter(qs)}const ai=0,pn=1,Ln=2,Wn=3,ci=4,ti=5,Oi=6,hs=7,Rr=8,Bi=9,As=10,Qn=11,zi=12,Os=13,ee=14,Q=15,we=16,Oe=17,Je=18,mt=19,Yt=20,Dn=21,yn=22,Jn=23,wr=24,Fn=25,Un=1,Br=2,vr=7,Ji=9,Cr=11;function li(t){return Array.isArray(t)&&"object"==typeof t[Un]}function Nr(t){return Array.isArray(t)&&!0===t[Un]}function Ys(t){return 0!=(4&t.flags)}function Zi(t){return t.componentOffset>-1}function Xs(t){return 1==(1&t.flags)}function Ds(t){return!!t.template}function Uo(t){return 0!=(512&t[Ln])}function no(t,n){return t.hasOwnProperty(zt)?t[zt]:null}let gs=null,Ea=!1;function $i(t){const n=gs;return gs=t,n}const rl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ba(t){if(!Io(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ia(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ss(t){t.dirty=!0,function Js(t){if(void 0===t.liveConsumerNode)return;const n=Ea;Ea=!0;try{for(const s of t.liveConsumerNode)s.dirty||Ss(s)}finally{Ea=n}}(t),t.consumerMarkedDirty?.(t)}function fa(t){return t&&(t.nextProducerIndex=0),$i(t)}function Ta(t,n){if($i(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Io(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Tc(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ia(t){Xo(t);for(let n=0;n<t.producerNode.length;n++){const s=t.producerNode[n],u=t.producerLastReadVersion[n];if(u!==s.version||(ba(s),u!==s.version))return!0}return!1}function il(t){if(Xo(t),Io(t))for(let n=0;n<t.producerNode.length;n++)Tc(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Tc(t,n){if(function Ua(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Xo(t),1===t.liveConsumerNode.length)for(let u=0;u<t.producerNode.length;u++)Tc(t.producerNode[u],t.producerIndexOfThis[u]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];Xo(f),f.producerIndexOfThis[u]=n}}function Io(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Bo=null;function Ct(t){const n=$i(null);try{return t()}finally{$i(n)}}const jn=()=>{},zr=(()=>({...rl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:jn}))();class ni{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function mr(){return ri}function ri(t){return t.type.prototype.ngOnChanges&&(t.setInput=bi),Di}function Di(){const t=Ns(this),n=t?.current;if(n){const s=t.previous;if(s===vi)t.previous=n;else for(let u in n)s[u]=n[u];t.current=null,this.ngOnChanges(n)}}function bi(t,n,s,u){const f=this.declaredInputs[s],g=Ns(t)||function $o(t,n){return t[fo]=n}(t,{previous:vi,current:null}),C=g.current||(g.current={}),A=g.previous,R=A[f];C[f]=new ni(R&&R.currentValue,n,A===vi),t[u]=n}mr.ngInherit=!0;const fo="__ngSimpleChanges__";function Ns(t){return t[fo]||null}const Ui=function(t,n,s){};function Ar(t){for(;Array.isArray(t);)t=t[ai];return t}function sc(t,n){return Ar(n[t])}function ro(t,n){return Ar(n[t.index])}function vd(t,n){return t.data[n]}function wc(t,n){return t[n]}function mi(t,n){const s=n[t];return li(s)?s:s[ai]}function Es(t,n){return null==n?null:t[n]}function Jo(t){t[Oe]=0}function Aa(t){1024&t[Ln]||(t[Ln]|=1024,$l(t,1))}function Tu(t){1024&t[Ln]&&(t[Ln]&=-1025,$l(t,-1))}function $l(t,n){let s=t[Wn];if(null===s)return;s[ti]+=n;let u=s;for(s=s[Wn];null!==s&&(1===n&&1===u[ti]||-1===n&&0===u[ti]);)s[ti]+=n,u=s,s=s[Wn]}const Kn={lFrame:ce(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Iu(){return Kn.bindingsEnabled}function Ht(){return Kn.lFrame.lView}function Pr(){return Kn.lFrame.tView}function Go(t){return Kn.lFrame.contextLView=t,t[Rr]}function us(t){return Kn.lFrame.contextLView=null,t}function ks(){let t=oc();for(;null!==t&&64===t.type;)t=t.parent;return t}function oc(){return Kn.lFrame.currentTNode}function wo(t,n){const s=Kn.lFrame;s.currentTNode=t,s.isParent=n}function Kt(){return Kn.lFrame.isParent}function ol(){Kn.lFrame.isParent=!1}function bs(){const t=Kn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Da(){return Kn.lFrame.bindingIndex++}function Bn(t){const n=Kn.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function Ag(t,n){const s=Kn.lFrame;s.bindingIndex=s.bindingRootIndex=t,Su(n)}function Su(t){Kn.lFrame.currentDirectiveIndex=t}function xc(){return Kn.lFrame.currentQueryIndex}function D(t){Kn.lFrame.currentQueryIndex=t}function O(t){const n=t[pn];return 2===n.type?n.declTNode:1===n.type?t[Oi]:null}function w(t,n,s){if(s&Tn.SkipSelf){let f=n,g=t;for(;!(f=f.parent,null!==f||s&Tn.Host||(f=O(g),null===f||(g=g[ee],10&f.type))););if(null===f)return!1;n=f,t=g}const u=Kn.lFrame=H();return u.currentTNode=n,u.lView=t,!0}function N(t){const n=H(),s=t[pn];Kn.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function H(){const t=Kn.lFrame,n=null===t?null:t.child;return null===n?ce(t):n}function ce(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Pe(){const t=Kn.lFrame;return Kn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _t=Pe;function pt(){const t=Pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sr(){return Kn.lFrame.selectedIndex}function kr(t){Kn.lFrame.selectedIndex=t}function _i(){const t=Kn.lFrame;return vd(t.tView,t.selectedIndex)}let Uh=!0;function cc(){return Uh}function pa(t){Uh=t}function ea(t,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const g=t.data[s].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:R,ngAfterViewChecked:G,ngOnDestroy:se}=g;C&&(t.contentHooks??=[]).push(-s,C),A&&((t.contentHooks??=[]).push(s,A),(t.contentCheckHooks??=[]).push(s,A)),R&&(t.viewHooks??=[]).push(-s,R),G&&((t.viewHooks??=[]).push(s,G),(t.viewCheckHooks??=[]).push(s,G)),null!=se&&(t.destroyHooks??=[]).push(s,se)}}function ql(t,n,s){Yl(t,n,3,s)}function bd(t,n,s,u){(3&t[Ln])===s&&Yl(t,n,s,u)}function ga(t,n){let s=t[Ln];(3&s)===n&&(s&=8191,s+=1,t[Ln]=s)}function Yl(t,n,s,u){const g=u??-1,C=n.length-1;let A=0;for(let R=void 0!==u?65535&t[Oe]:0;R<C;R++)if("number"==typeof n[R+1]){if(A=n[R],null!=u&&A>=u)break}else n[R]<0&&(t[Oe]+=65536),(A<g||-1==g)&&(Pu(t,s,n,R),t[Oe]=(4294901760&t[Oe])+R+2),R++}function Cd(t,n){Ui(4,t,n);const s=$i(null);try{n.call(t)}finally{$i(s),Ui(5,t,n)}}function Pu(t,n,s,u){const f=s[u]<0,g=s[u+1],A=t[f?-s[u]:s[u]];f?t[Ln]>>13<t[Oe]>>16&&(3&t[Ln])===n&&(t[Ln]+=8192,Cd(A,g)):Cd(A,g)}const zo=-1;class _o{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Ou(t){return t!==zo}function Oc(t){return 32767&t}function Nc(t,n){let s=function Td(t){return t>>16}(t),u=n;for(;s>0;)u=u[ee],s--;return u}let kc=!0;function lc(t){const n=kc;return kc=t,n}const Bh=255,xa=5;let Nu=0;const yo={};function ul(t,n){const s=$h(t,n);if(-1!==s)return s;const u=n[pn];u.firstCreatePass&&(t.injectorIndex=n.length,Ls(u.data,t),Ls(n,null),Ls(u.blueprint,null));const f=Fc(t,n),g=t.injectorIndex;if(Ou(f)){const C=Oc(f),A=Nc(f,n),R=A[pn].data;for(let G=0;G<8;G++)n[g+G]=A[C+G]|R[C+G]}return n[g+8]=f,g}function Ls(t,n){t.push(0,0,0,0,0,0,0,0,n)}function $h(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Fc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,f=n;for(;null!==f;){if(u=wd(f),null===u)return zo;if(s++,f=f[ee],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return zo}function dl(t,n,s){!function ku(t,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Cn)&&(u=s[Cn]),null==u&&(u=s[Cn]=Nu++);const f=u&Bh;n.data[t+(f>>xa)]|=1<<f}(t,n,s)}function uc(t,n,s){if(s&Tn.Optional||void 0!==t)return t;en()}function hl(t,n,s,u){if(s&Tn.Optional&&void 0===u&&(u=null),!(s&(Tn.Self|Tn.Host))){const f=t[Bi],g=Ur(void 0);try{return f?f.get(n,u,s&Tn.Optional):Sr(n,u,s&Tn.Optional)}finally{Ur(g)}}return uc(u,0,s)}function dc(t,n,s,u=Tn.Default,f){if(null!==t){if(2048&n[Ln]&&!(u&Tn.Self)){const C=function Zf(t,n,s,u,f){let g=t,C=n;for(;null!==g&&null!==C&&2048&C[Ln]&&!(512&C[Ln]);){const A=Lc(g,C,s,u|Tn.Self,yo);if(A!==yo)return A;let R=g.parent;if(!R){const G=C[Yt];if(G){const se=G.get(s,yo,u);if(se!==yo)return se}R=wd(C),C=C[ee]}g=R}return f}(t,n,s,u,yo);if(C!==yo)return C}const g=Lc(t,n,s,u,yo);if(g!==yo)return g}return hl(n,s,u,f)}function Lc(t,n,s,u,f){const g=function Uc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Cn)?t[Cn]:void 0;return"number"==typeof n?n>=0?n&Bh:fl:n}(s);if("function"==typeof g){if(!w(n,t,u))return u&Tn.Host?uc(f,0,u):hl(n,s,u,f);try{let C;if(C=g(u),null!=C||u&Tn.Optional)return C;en()}finally{_t()}}else if("number"==typeof g){let C=null,A=$h(t,n),R=zo,G=u&Tn.Host?n[Q][Oi]:null;for((-1===A||u&Tn.SkipSelf)&&(R=-1===A?Fc(t,n):n[A+8],R!==zo&&Jf(u,!1)?(C=n[pn],A=Oc(R),n=Nc(R,n)):A=-1);-1!==A;){const se=n[pn];if(Fu(g,A,se.data)){const Te=Qm(A,n,s,C,u,G);if(Te!==yo)return Te}R=n[A+8],R!==zo&&Jf(u,n[pn].data[A+8]===G)&&Fu(g,A,n)?(C=se,A=Oc(R),n=Nc(R,n)):A=-1}}return f}function Qm(t,n,s,u,f,g){const C=n[pn],A=C.data[t+8],se=Ao(A,C,s,null==u?Zi(A)&&kc:u!=C&&0!=(3&A.type),f&Tn.Host&&g===A);return null!==se?Vc(n,C,se,A):yo}function Ao(t,n,s,u,f){const g=t.providerIndexes,C=n.data,A=1048575&g,R=t.directiveStart,se=g>>20,Xe=f?A+se:t.directiveEnd;for(let lt=u?A:A+se;lt<Xe;lt++){const Nt=C[lt];if(lt<R&&s===Nt||lt>=R&&Nt.type===s)return lt}if(f){const lt=C[R];if(lt&&Ds(lt)&&lt.type===s)return R}return null}function Vc(t,n,s,u){let f=t[s];const g=n.data;if(function ta(t){return t instanceof _o}(f)){const C=f;C.resolving&&function Dt(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new be(-200,`Circular dependency in DI detected for ${t}${s}`)}(function it(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ye(t)}(g[s]));const A=lc(C.canSeeViewProviders);C.resolving=!0;const G=C.injectImpl?Ur(C.injectImpl):null;w(t,u,Tn.Default);try{f=t[s]=C.factory(void 0,g,t,u),n.firstCreatePass&&s>=u.directiveStart&&function jh(t,n,s){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=n.type.prototype;if(u){const C=ri(n);(s.preOrderHooks??=[]).push(t,C),(s.preOrderCheckHooks??=[]).push(t,C)}f&&(s.preOrderHooks??=[]).push(0-t,f),g&&((s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g))}(s,g[s],n)}finally{null!==G&&Ur(G),lc(A),C.resolving=!1,_t()}}return f}function Fu(t,n,s){return!!(s[n+(t>>xa)]&1<<t)}function Jf(t,n){return!(t&Tn.Self||t&Tn.Host&&n)}class Vs{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return dc(this._tNode,this._lView,n,An(u),s)}}function fl(){return new Vs(ks(),Ht())}function Ga(t){return yi(()=>{const n=t.prototype.constructor,s=n[zt]||Id(n),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const g=f[zt]||Id(f);if(g&&g!==s)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Id(t){return Ft(t)?()=>{const n=Id(wt(t));return n&&n()}:no(t)}function wd(t){const n=t[pn],s=n.type;return 2===s?n.declTNode:1===s?t[Oi]:null}function Ad(t){return function Hh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const u=s.length;let f=0;for(;f<u;){const g=s[f];if(Kr(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof s[f];)f++;else{if(g===n)return s[f+1];f+=2}}}return null}(ks(),t)}const na="__parameters__";function za(t,n,s){return yi(()=>{const u=function Dd(t){return function(...s){if(t){const u=t(...s);for(const f in u)this[f]=u[f]}}}(n);function f(...g){if(this instanceof f)return u.apply(this,g),this;const C=new f(...g);return A.annotation=C,A;function A(R,G,se){const Te=R.hasOwnProperty(na)?R[na]:Object.defineProperty(R,na,{value:[]})[na];for(;Te.length<=se;)Te.push(null);return(Te[se]=Te[se]||[]).push(C),R}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function ia(t,n){t.forEach(s=>Array.isArray(s)?ia(s,n):n(s))}function Md(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function Bc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function vo(t,n,s){let u=fc(t,n);return u>=0?t[1|u]=s:(u=~u,function gl(t,n,s,u){let f=t.length;if(f==n)t.push(s,u);else if(1===f)t.push(u,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=u}}(t,u,n,s)),u}function Od(t,n){const s=fc(t,n);if(s>=0)return t[1|s]}function fc(t,n){return function np(t,n,s){let u=0,f=t.length>>s;for(;f!==u;){const g=u+(f-u>>1),C=t[g<<s];if(n===C)return g<<s;C>n?f=g:u=g+1}return~(f<<s)}(t,n,1)}const so=on(za("Optional"),8),Lu=on(za("SkipSelf"),4);function qd(t){return 128==(128&t.flags)}var Wa=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wa||{});const Oy=/^>|^->|<!--|-->|--!>|<!-$/g,t_=/(<|>)/g,ml="\u200b$1\u200b";const Yd=new Map;let Ng=0;const Xd="__ngContext__";function Do(t,n){li(n)?(t[Xd]=n[mt],function $u(t){Yd.set(t[mt],t)}(n)):t[Xd]=n}let rf;function tu(t,n){return rf(t,n)}function Zd(t){const n=t[Wn];return Nr(n)?n[Wn]:n}function a_(t){return up(t[zi])}function Fg(t){return up(t[ci])}function up(t){for(;null!==t&&!Nr(t);)t=t[ci];return t}function Wc(t,n,s,u,f){if(null!=u){let g,C=!1;Nr(u)?g=u:li(u)&&(C=!0,u=u[ai]);const A=Ar(u);0===t&&null!==s?null==f?gp(n,s,A):Wu(n,s,A,f||null,!0):1===t&&null!==s?Wu(n,s,A,f||null,!0):2===t?function ih(t,n,s){const u=rh(t,n);u&&function jg(t,n,s,u){t.removeChild(n,s,u)}(t,u,n,s)}(n,A,C):3===t&&n.destroyNode(A),null!=g&&function zg(t,n,s,u,f){const g=s[vr];g!==Ar(s)&&Wc(n,t,u,g,f);for(let A=Cr;A<s.length;A++){const R=s[A];Kc(R[pn],R,t,n,u,g)}}(n,t,g,s,f)}}function Lg(t,n){return t.createComment(function ef(t){return t.replace(Oy,n=>n.replace(t_,ml))}(n))}function sf(t,n,s){return t.createElement(n,s)}function l_(t,n){const s=t[Ji],u=s.indexOf(n);Tu(n),s.splice(u,1)}function af(t,n){if(t.length<=Cr)return;const s=Cr+n,u=t[s];if(u){const f=u[we];null!==f&&f!==t&&l_(f,u),n>0&&(t[s-1][ci]=u[ci]);const g=Bc(t,Cr+n);!function dp(t,n){Kc(t,n,n[Qn],2,null,null),n[ai]=null,n[Oi]=null}(u[pn],u);const C=g[Je];null!==C&&C.detachView(g[pn]),u[Wn]=null,u[ci]=null,u[Ln]&=-129}return u}function fp(t,n){if(!(256&n[Ln])){const s=n[Qn];n[Jn]&&il(n[Jn]),n[wr]&&il(n[wr]),s.destroyNode&&Kc(t,n,s,3,null,null),function Vg(t){let n=t[zi];if(!n)return pp(t[pn],t);for(;n;){let s=null;if(li(n))s=n[zi];else{const u=n[Cr];u&&(s=u)}if(!s){for(;n&&!n[ci]&&n!==t;)li(n)&&pp(n[pn],n),n=n[Wn];null===n&&(n=t),li(n)&&pp(n[pn],n),s=n&&n[ci]}n=s}}(n)}}function pp(t,n){if(!(256&n[Ln])){n[Ln]&=-129,n[Ln]|=256,function Vy(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const f=n[s[u]];if(!(f instanceof _o)){const g=s[u+1];if(Array.isArray(g))for(let C=0;C<g.length;C+=2){const A=f[g[C]],R=g[C+1];Ui(4,A,R);try{R.call(A)}finally{Ui(5,A,R)}}else{Ui(4,f,g);try{g.call(f)}finally{Ui(5,f,g)}}}}}(t,n),function u_(t,n){const s=t.cleanup,u=n[hs];if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const C=s[g+3];C>=0?u[C]():u[-C].unsubscribe(),g+=2}else s[g].call(u[s[g+1]]);null!==u&&(n[hs]=null);const f=n[Dn];if(null!==f){n[Dn]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(t,n),1===n[pn].type&&n[Qn].destroy();const s=n[we];if(null!==s&&Nr(n[Wn])){s!==n[Wn]&&l_(s,n);const u=n[Je];null!==u&&u.detachView(t)}!function Ny(t){Yd.delete(t[mt])}(n)}}function Ug(t,n,s){return function d_(t,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[ai];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:g}=t.data[u.directiveStart+f];if(g===Mi.None||g===Mi.Emulated)return null}return ro(u,s)}}(t,n.parent,s)}function Wu(t,n,s,u,f){t.insertBefore(n,s,u,f)}function gp(t,n,s){t.appendChild(n,s)}function h_(t,n,s,u,f){null!==u?Wu(t,n,s,u,f):gp(t,n,s)}function rh(t,n){return t.parentNode(n)}let cf,yl,vl,Cp,_p=function f_(t,n,s){return 40&t.type?ro(t,s):null};function $g(t,n,s,u){const f=Ug(t,u,n),g=n[Qn],A=function mp(t,n,s){return _p(t,n,s)}(u.parent||n[Oi],u,n);if(null!=f)if(Array.isArray(s))for(let R=0;R<s.length;R++)h_(g,f,s[R],A,!1);else h_(g,f,s,A,!1);void 0!==cf&&cf(g,u,n,s,f)}function _l(t,n){if(null!==n){const s=n.type;if(3&s)return ro(n,t);if(4&s)return lf(-1,t[n.index]);if(8&s){const u=n.child;if(null!==u)return _l(t,u);{const f=t[n.index];return Nr(f)?lf(-1,f):Ar(f)}}if(32&s)return tu(n,t)()||Ar(t[n.index]);{const u=Hg(t,n);return null!==u?Array.isArray(u)?u[0]:_l(Zd(t[Q]),u):_l(t,n.next)}}return null}function Hg(t,n){return null!==n?t[Q][Oi].projection[n.projection]:null}function lf(t,n){const s=Cr+t+1;if(s<n.length){const u=n[s],f=u[pn].firstChild;if(null!==f)return _l(u,f)}return n[vr]}function uf(t,n,s,u,f,g,C){for(;null!=s;){const A=u[s.index],R=s.type;if(C&&0===n&&(A&&Do(Ar(A),u),s.flags|=2),32!=(32&s.flags))if(8&R)uf(t,n,s.child,u,f,g,!1),Wc(n,t,f,A,g);else if(32&R){const G=tu(s,u);let se;for(;se=G();)Wc(n,t,f,se,g);Wc(n,t,f,A,g)}else 16&R?vp(t,n,u,s,f,g):Wc(n,t,f,A,g);s=C?s.projectionNext:s.next}}function Kc(t,n,s,u,f,g){uf(s,u,t.firstChild,n,f,g,!1)}function vp(t,n,s,u,f,g){const C=s[Q],R=C[Oi].projection[u.projection];if(Array.isArray(R))for(let G=0;G<R.length;G++)Wc(n,t,f,R[G],g);else{let G=R;const se=C[Wn];qd(u)&&(G.flags|=128),uf(t,n,G,se,f,g,!0)}}function Wg(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function Ep(t,n,s){const{mergedAttrs:u,classes:f,styles:g}=s;null!==u&&jr(t,n,u),null!==f&&Wg(t,n,f),null!==g&&function m_(t,n,s){t.setAttribute(n,"style",s)}(t,n,g)}function nu(t){return function bp(){if(void 0===yl&&(yl=null,qn.trustedTypes))try{yl=qn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return yl}()?.createHTML(t)||t}function Kg(t){vl=t}function oh(){if(void 0!==vl)return vl;if(typeof document<"u")return document;throw new be(210,!1)}function df(){if(void 0===Cp&&(Cp=null,qn.trustedTypes))try{Cp=qn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cp}function y_(t){return df()?.createHTML(t)||t}function v_(t){return df()?.createScriptURL(t)||t}class El{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ge})`}}class E_ extends El{getTypeName(){return"HTML"}}class qg extends El{getTypeName(){return"Style"}}class Yg extends El{getTypeName(){return"Script"}}class hf extends El{getTypeName(){return"URL"}}class Xg extends El{getTypeName(){return"ResourceURL"}}function oa(t){return t instanceof El?t.changingThisBreaksApplicationSecurity:t}function Ku(t,n){const s=function ff(t){return t instanceof El&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${Ge})`)}return s===n}function jy(t){return new E_(t)}function Ip(t){return new qg(t)}function wp(t){return new Yg(t)}function pf(t){return new hf(t)}function By(t){return new Xg(t)}class $y{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(nu(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class Ap{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=nu(n),s}}const ah=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qc(t){return(t=String(t)).match(ah)?t:"unsafe:"+t}function Ka(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function Sp(...t){const n={};for(const s of t)for(const u in s)s.hasOwnProperty(u)&&(n[u]=!0);return n}const bl=Ka("area,br,col,hr,img,wbr"),b_=Ka("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C_=Ka("rp,rt"),gf=Sp(bl,Sp(b_,Ka("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sp(C_,Ka("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sp(C_,b_)),mf=Ka("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_f=Sp(mf,Ka("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ka("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yf=Ka("script,style,template");class Cl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!gf.hasOwnProperty(s))return this.sanitizedSomething=!0,!yf.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=n.attributes;for(let f=0;f<u.length;f++){const g=u.item(f),C=g.name,A=C.toLowerCase();if(!_f.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let R=g.value;mf[A]&&(R=qc(R)),this.buf.push(" ",C,'="',ch(R),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();gf.hasOwnProperty(s)&&!bl.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(ch(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const A_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jg=/([^\#-~ |!])/g;function ch(t){return t.replace(/&/g,"&amp;").replace(A_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Jg,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yc;function ui(t,n){let s=null;try{Yc=Yc||function qu(t){const n=new Ap(t);return function Dp(){try{return!!(new window.DOMParser).parseFromString(nu(""),"text/html")}catch{return!1}}()?new $y(n):n}(t);let u=n?String(n):"";s=Yc.getInertBodyElement(u);let f=5,g=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=g,g=s.innerHTML,s=Yc.getInertBodyElement(u)}while(u!==g);return nu((new Cl).sanitizeChildren(Zg(s)||s))}finally{if(s){const u=Zg(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Zg(t){return"content"in t&&function Gy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Yu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Yu||{});function em(t){const n=lh();return n?y_(n.sanitize(Yu.HTML,t)||""):Ku(t,"HTML")?y_(oa(t)):ui(oh(),Ye(t))}function xp(t){const n=lh();return n?n.sanitize(Yu.URL,t)||"":Ku(t,"URL")?oa(t):qc(Ye(t))}function D_(t){const n=lh();if(n)return v_(n.sanitize(Yu.RESOURCE_URL,t)||"");if(Ku(t,"ResourceURL"))return v_(oa(t));throw new be(904,!1)}function S_(t,n,s){return function Yy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?D_:xp}(n,s)(t)}function lh(){const t=Ht();return t&&t[As].sanitizer}const Xu=new fn("ENVIRONMENT_INITIALIZER"),tm=new fn("INJECTOR",-1),nm=new fn("INJECTOR_DEF_TYPES");class Pp{get(n,s=$n){if(s===$n){const u=new Error(`NullInjectorError: No provider for ${pe(n)}!`);throw u.name="NullInjectorError",u}return s}}function uh(t){return{\u0275providers:t}}function di(...t){return{\u0275providers:rm(0,t),\u0275fromNgModule:!0}}function rm(t,...n){const s=[],u=new Set;let f;const g=C=>{s.push(C)};return ia(n,C=>{const A=C;iu(A,g,[],u)&&(f||=[],f.push(A))}),void 0!==f&&im(f,g),s}function im(t,n){for(let s=0;s<t.length;s++){const{ngModule:u,providers:f}=t[s];oo(f,g=>{n(g,u)})}}function iu(t,n,s,u){if(!(t=wt(t)))return!1;let f=null,g=_r(t);const C=!g&&xr(t);if(g||C){if(C&&!C.standalone)return!1;f=t}else{const R=t.ngModule;if(g=_r(R),!g)return!1;f=R}const A=u.has(f);if(C){if(A)return!1;if(u.add(f),C.dependencies){const R="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const G of R)iu(G,n,s,u)}}else{if(!g)return!1;{if(null!=g.imports&&!A){let G;u.add(f);try{ia(g.imports,se=>{iu(se,n,s,u)&&(G||=[],G.push(se))})}finally{}void 0!==G&&im(G,n)}if(!A){const G=no(f)||(()=>new f);n({provide:f,useFactory:G,deps:Ce},f),n({provide:nm,useValue:f,multi:!0},f),n({provide:Xu,useValue:()=>At(f),multi:!0},f)}const R=g.providers;if(null!=R&&!A){const G=t;oo(R,se=>{n(se,G)})}}}return f!==t&&void 0!==t.providers}function oo(t,n){for(let s of t)Pt(s)&&(s=s.\u0275providers),Array.isArray(s)?oo(s,n):n(s)}const Us=te({provide:String,useValue:te});function qa(t){return null!==t&&"object"==typeof t&&Us in t}function su(t){return"function"==typeof t}const vf=new fn("Set Injector scope."),Ef={},sm={};let om;function Mp(){return void 0===om&&(om=new Pp),om}class Ci{}class bf extends Ci{get destroyed(){return this._destroyed}constructor(n,s,u,f){super(),this.parent=s,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,um(n,C=>this.processProvider(C)),this.records.set(tm,dh(void 0,this)),f.has("environment")&&this.records.set(Ci,dh(void 0,this));const g=this.records.get(vf);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(nm.multi,Ce,Tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=_e(this),u=Ur(void 0);try{return n()}finally{_e(s),Ur(u)}}get(n,s=$n,u=Tn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Rn))return n[Rn](this);u=An(u);const g=_e(this),C=Ur(void 0);try{if(!(u&Tn.SkipSelf)){let R=this.records.get(n);if(void 0===R){const G=function Zy(t){return"function"==typeof t||"object"==typeof t&&t instanceof fn}(n)&&Hn(n);R=G&&this.injectableDefInScope(G)?dh(am(n),Ef):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(u&Tn.Self?Mp():this.parent).get(n,s=u&Tn.Optional&&s===$n?null:s)}catch(A){if("NullInjectorError"===A.name){if((A[br]=A[br]||[]).unshift(pe(n)),g)throw A;return function ur(t,n,s,u){const f=t[br];throw n[M]&&f.unshift(n[M]),t.message=function Ts(t,n,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=pe(n);if(Array.isArray(n))f=n.map(pe).join(" -> ");else if("object"==typeof n){let g=[];for(let C in n)if(n.hasOwnProperty(C)){let A=n[C];g.push(C+":"+("string"==typeof A?JSON.stringify(A):pe(A)))}f=`{${g.join(", ")}}`}return`${s}${u?"("+u+")":""}[${f}]: ${t.replace(Et,"\n  ")}`}("\n"+t.message,f,s,u),t.ngTokenPath=f,t[br]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{Ur(C),_e(g)}}resolveInjectorInitializers(){const n=_e(this),s=Ur(void 0);try{const f=this.get(Xu.multi,Ce,Tn.Self);for(const g of f)g()}finally{_e(n),Ur(s)}}toString(){const n=[],s=this.records;for(const u of s.keys())n.push(pe(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(n){let s=su(n=wt(n))?n:wt(n&&n.provide);const u=function M_(t){return qa(t)?dh(void 0,t.useValue):dh(cm(t),Ef)}(n);if(su(n)||!0!==n.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=dh(void 0,Ef,!0),f.factory=()=>pr(f.multi),this.records.set(s,f)),s=n,f.multi.push(n)}this.records.set(s,u)}hydrate(n,s){return s.value===Ef&&(s.value=sm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function lm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=wt(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function am(t){const n=Hn(t),s=null!==n?n.factory:no(t);if(null!==s)return s;if(t instanceof fn)throw new be(204,!1);if(t instanceof Function)return function Cs(t){const n=t.length;if(n>0)throw function $c(t,n){const s=[];for(let u=0;u<t;u++)s.push(n);return s}(n,"?"),new be(204,!1);const s=function kt(t){return t&&(t[cn]||t[Zn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new be(204,!1)}function cm(t,n,s){let u;if(su(t)){const f=wt(t);return no(f)||am(f)}if(qa(t))u=()=>wt(t.useValue);else if(function P_(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...pr(t.deps||[]));else if(function x_(t){return!(!t||!t.useExisting)}(t))u=()=>At(wt(t.useExisting));else{const f=wt(t&&(t.useClass||t.provide));if(!function Rp(t){return!!t.deps}(t))return no(f)||am(f);u=()=>new f(...pr(t.deps))}return u}function dh(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function um(t,n){for(const s of t)Array.isArray(s)?um(s,n):s&&Pt(s)?um(s.\u0275providers,n):n(s)}const R_=new fn("AppId",{providedIn:"root",factory:()=>ev}),ev="ng",tv=new fn("Platform Initializer"),dm=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qu=new fn("AnimationModuleType"),nv=new fn("CSP nonce",{providedIn:"root",factory:()=>oh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Np=(t,n,s)=>null;function Il(t,n,s=!1){return Np(t,n,s)}class F_{}class mh{}class iv{resolveComponentFactory(n){throw function wf(t){const n=Error(`No component factory found for ${pe(t)}.`);return n.ngComponent=t,n}(n)}}let wl=(()=>{class t{static{this.NULL=new iv}}return t})();function GE(){return Lp(ks(),Ht())}function Lp(t,n){return new _h(ro(t,n))}let _h=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=GE}}return t})();function sv(t){return t instanceof _h?t.nativeElement:t}class Vp{}let g0=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function m0(){const t=Ht(),s=mi(ks().index,t);return(li(s)?s:t)[Qn]}()}}return t})(),mm=(()=>{class t{static{this.\u0275prov=tn({token:t,providedIn:"root",factory:()=>null})}}return t})();class ov{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const av=new ov("16.2.12"),Af={};function y0(t,n=null,s=null,u){const f=lv(t,n,s,u);return f.resolveInjectorInitializers(),f}function lv(t,n=null,s=null,u,f=new Set){const g=[s||Ce,di(t)];return u=u||("object"==typeof t?void 0:pe(t)),new bf(g,n||Mp(),u||null,f)}let Al=(()=>{class t{static{this.THROW_IF_NOT_FOUND=$n}static{this.NULL=new Pp}static create(s,u){if(Array.isArray(s))return y0({name:""},u,s,"");{const f=s.name??"";return y0({name:f},s.parent,s.providers,f)}}static{this.\u0275prov=tn({token:t,providedIn:"any",factory:()=>At(tm)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function cu(t){return t.ngOriginalError}class yc{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&cu(n);for(;s&&cu(s);)s=cu(s);return s||null}}function Sl(t){return n=>{setTimeout(t,void 0,n)}}const xl=class C0 extends a.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){let f=n,g=s||(()=>null),C=u;if(n&&"object"==typeof n){const R=n;f=R.next?.bind(R),g=R.error?.bind(R),C=R.complete?.bind(R)}this.__isAsync&&(g=Sl(g),f&&(f=Sl(f)),C&&(C=Sl(C)));const A=super.subscribe({next:f,error:g,complete:C});return n instanceof de.yU&&n.add(A),A}};function uv(...t){}class So{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xl(!1),this.onMicrotaskEmpty=new xl(!1),this.onStable=new xl(!1),this.onError=new xl(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&s,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function T0(){const t="function"==typeof qn.requestAnimationFrame;let n=qn[t?"requestAnimationFrame":"setTimeout"],s=qn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function A0(t){const n=()=>{!function w0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(qn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,j_(t),t.isCheckStableRunning=!0,U_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),j_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,f,g,C,A)=>{if(function S0(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return s.invokeTask(f,g,C,A);try{return dv(t),s.invokeTask(f,g,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),yh(t)}},onInvoke:(s,u,f,g,C,A,R)=>{try{return dv(t),s.invoke(f,g,C,A,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),yh(t)}},onHasTask:(s,u,f,g)=>{s.hasTask(f,g),u===f&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,j_(t),U_(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,u,f,g)=>(s.handleError(f,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!So.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(So.isInAngularZone())throw new be(909,!1)}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,f){const g=this._inner,C=g.scheduleEventTask("NgZoneEvent: "+f,n,I0,uv,uv);try{return g.runTask(C,s,u)}finally{g.cancelTask(C)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const I0={};function U_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function j_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function dv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yh(t){t._nesting--,U_(t)}class B_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xl,this.onMicrotaskEmpty=new xl,this.onStable=new xl,this.onError=new xl}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,f){return n.apply(s,u)}}const D0=new fn("",{providedIn:"root",factory:hv});function hv(){const t=ln(So);let n=!0;const s=new i.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),u=new i.c(f=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{So.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{So.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),C.unsubscribe()}});return(0,Ie.h)(s,u.pipe((0,xe.u)()))}function fv(t){return t.ownerDocument.defaultView}function rd(t){return t instanceof Function?t():t}let _v=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=tn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Gp(t){for(;t;){t[Ln]|=64;const n=Zd(t);if(Uo(t)&&!n)return t;t=n}return null}const yv=new fn("",{providedIn:"root",factory:()=>!1});let H_=null;function k0(t,n){return t[n]??Cv()}function bv(t,n){const s=Cv();s.producerNode?.length&&(t[n]=H_,s.lView=t,H_=Kp())}const Wp={...rl,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gp(t.lView)},lView:null};function Kp(){return Object.create(Wp)}function Cv(){return H_??=Kp(),H_}const Hr={};function ym(t){qp(Pr(),Ht(),sr()+t,!1)}function qp(t,n,s,u){if(!u)if(3==(3&n[Ln])){const g=t.preOrderCheckHooks;null!==g&&ql(n,g,s)}else{const g=t.preOrderHooks;null!==g&&bd(n,g,0,s)}kr(s)}function Pl(t,n=Tn.Default){const s=Ht();return null===s?At(t,n):dc(ks(),s,wt(t),n)}function d(){throw new Error("invalid")}function r(t,n,s,u,f,g,C,A,R,G,se){const Te=n.blueprint.slice();return Te[ai]=f,Te[Ln]=140|u,(null!==G||t&&2048&t[Ln])&&(Te[Ln]|=2048),Jo(Te),Te[Wn]=Te[ee]=t,Te[Rr]=s,Te[As]=C||t&&t[As],Te[Qn]=A||t&&t[Qn],Te[Bi]=R||t&&t[Bi]||null,Te[Oi]=g,Te[mt]=function kg(){return Ng++}(),Te[yn]=se,Te[Yt]=G,Te[Q]=2==n.type?t[Q]:Te,Te}function o(t,n,s,u,f){let g=t.data[n];if(null===g)g=function h(t,n,s,u,f){const g=oc(),C=Kt(),R=t.data[n]=function er(t,n,s,u,f,g){let C=n?n.injectorIndex:-1,A=0;return function Ho(){return null!==Kn.skipHydrationRootTNode}()&&(A|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?g:g&&g.parent,s,n,u,f);return null===t.firstChild&&(t.firstChild=R),null!==g&&(C?null==g.child&&null!==R.parent&&(g.child=R):null===g.next&&(g.next=R,R.prev=g)),R}(t,n,s,u,f),function al(){return Kn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=s,g.value=u,g.attrs=f;const C=function Dc(){const t=Kn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===C?-1:C.injectorIndex}return wo(g,!0),g}function _(t,n,s,u){if(0===s)return-1;const f=n.length;for(let g=0;g<s;g++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function b(t,n,s,u,f){const g=k0(n,Jn),C=sr(),A=2&u;try{kr(-1),A&&n.length>Fn&&qp(t,n,Fn,!1),Ui(A?2:0,f);const G=A?g:null,se=fa(G);try{null!==G&&(G.dirty=!1),s(u,f)}finally{Ta(G,se)}}finally{A&&null===n[Jn]&&bv(n,Jn),kr(C),Ui(A?3:1,f)}}function x(t,n,s){if(Ys(n)){const u=$i(null);try{const g=n.directiveEnd;for(let C=n.directiveStart;C<g;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,s[C],C)}}finally{$i(u)}}}function F(t,n,s){Iu()&&(function F0(t,n,s,u){const f=s.directiveStart,g=s.directiveEnd;Zi(s)&&function Qp(t,n,s){const u=ro(n,t),f=oe(s);let C=16;s.signals?C=4096:s.onPush&&(C=64);const A=Mf(t,r(t,f,null,C,u,n,null,t[As].rendererFactory.createRenderer(u,s),null,null,null));t[n.index]=A}(n,s,t.data[f+s.componentOffset]),t.firstCreatePass||ul(s,n),Do(u,n);const C=s.initialInputs;for(let A=f;A<g;A++){const R=t.data[A],G=Vc(n,t,A,s);Do(G,n),null!==C&&U0(0,A-f,G,R,0,C),Ds(R)&&(mi(s.index,n)[Rr]=Vc(n,t,A,s))}}(t,n,s,ro(s,n)),64==(64&s.flags)&&Pf(t,n,s))}function K(t,n,s=ro){const u=n.localNames;if(null!==u){let f=n.index+1;for(let g=0;g<u.length;g+=2){const C=u[g+1],A=-1===C?s(n,t):t[C];t[f++]=A}}}function oe(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ye(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function ye(t,n,s,u,f,g,C,A,R,G,se){const Te=Fn+u,Xe=Te+f,lt=function $e(t,n){const s=[];for(let u=0;u<n;u++)s.push(u<t?null:Hr);return s}(Te,Xe),Nt="function"==typeof G?G():G;return lt[pn]={type:t,blueprint:lt,template:s,queries:null,viewQuery:A,declTNode:n,data:lt.slice().fill(null,Te),bindingStartIndex:Te,expandoStartIndex:Xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:R,consts:Nt,incompleteFirstPass:!1,ssrId:se}}let un=t=>null;function Or(t,n,s,u){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const g=t[f];null===u?Vi(s,n,f,g):u.hasOwnProperty(f)&&Vi(s,n,u[f],g)}return s}function Vi(t,n,s,u){t.hasOwnProperty(s)?t[s].push(n,u):t[s]=[n,u]}function ke(t,n,s,u,f,g,C,A){const R=ro(n,s);let se,G=n.inputs;!A&&null!=G&&(se=G[u])?(bm(t,s,se,u,f),Zi(n)&&function Ke(t,n){const s=mi(n,t);16&s[Ln]||(s[Ln]|=64)}(s,n.index)):3&n.type&&(u=function ot(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=C?C(f,n.value||"",u):f,g.setProperty(R,u,f))}function bt(t,n,s,u){if(Iu()){const f=null===u?null:{"":-1},g=function G_(t,n){const s=t.directiveRegistry;let u=null,f=null;if(s)for(let g=0;g<s.length;g++){const C=s[g];if(vs(n,C.selectors,!1))if(u||(u=[]),Ds(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),u.unshift(...A,C),vm(t,n,A.length)}else u.unshift(C),vm(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,u,f),u.push(C)}return null===u?null:[u,f]}(t,s);let C,A;null===g?C=A=null:[C,A]=g,null!==C&&ze(t,n,s,C,f,A),f&&function L0(t,n,s){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const g=s[n[f+1]];if(null==g)throw new be(-301,!1);u.push(n[f],g)}}}(s,u,f)}s.mergedAttrs=Qi(s.mergedAttrs,s.attrs)}function ze(t,n,s,u,f,g){for(let G=0;G<u.length;G++)dl(ul(s,n),t,u[G].type);!function aa(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,u.length);for(let G=0;G<u.length;G++){const se=u[G];se.providersResolver&&se.providersResolver(se)}let C=!1,A=!1,R=_(t,n,u.length,null);for(let G=0;G<u.length;G++){const se=u[G];s.mergedAttrs=Qi(s.mergedAttrs,se.hostAttrs),V0(t,s,n,R,se),id(R,se,f),null!==se.contentQueries&&(s.flags|=4),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(s.flags|=64);const Te=se.type.prototype;!C&&(Te.ngOnChanges||Te.ngOnInit||Te.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),C=!0),!A&&(Te.ngOnChanges||Te.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),A=!0),R++}!function ii(t,n,s){const f=n.directiveEnd,g=t.data,C=n.attrs,A=[];let R=null,G=null;for(let se=n.directiveStart;se<f;se++){const Te=g[se],Xe=s?s.get(Te):null,Nt=Xe?Xe.outputs:null;R=Or(Te.inputs,se,R,Xe?Xe.inputs:null),G=Or(Te.outputs,se,G,Nt);const dn=null===R||null===C||Lo(n)?null:Em(R,se,C);A.push(dn)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=R,n.outputs=G}(t,s,g)}function Pf(t,n,s){const u=s.directiveStart,f=s.directiveEnd,g=s.index,C=function Du(){return Kn.lFrame.currentDirectiveIndex}();try{kr(g);for(let A=u;A<f;A++){const R=t.data[A],G=n[A];Su(A),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Xp(R,G)}}finally{kr(-1),Su(C)}}function Xp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function vm(t,n,s){n.componentOffset=s,(t.components??=[]).push(n.index)}function id(t,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=t;Ds(n)&&(s[""]=t)}}function V0(t,n,s,u,f){t.data[u]=f;const g=f.factory||(f.factory=no(f.type)),C=new _o(g,Ds(f),Pl);t.blueprint[u]=C,s[u]=C,function uu(t,n,s,u,f){const g=f.hostBindings;if(g){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~n.index;(function Yp(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(C)!=A&&C.push(A),C.push(s,u,g)}}(t,n,u,_(t,s,f.hostVars,Hr),f)}function Ml(t,n,s,u,f,g){const C=ro(t,n);!function vh(t,n,s,u,f,g,C){if(null==g)t.removeAttribute(n,f,s);else{const A=null==C?Ye(g):C(g,u||"",f);t.setAttribute(n,f,A,s)}}(n[Qn],C,g,t.value,s,u,f)}function U0(t,n,s,u,f,g){const C=g[n];if(null!==C)for(let A=0;A<C.length;)Tv(u,s,C[A++],C[A++],C[A++])}function Tv(t,n,s,u,f){const g=$i(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(u)&&(f=C[u].call(n,f)),null!==t.setInput?t.setInput(n,f,s,u):n[u]=f}finally{$i(g)}}function Em(t,n,s){let u=null,f=0;for(;f<s.length;){const g=s[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===u&&(u=[]);const C=t[g];for(let A=0;A<C.length;A+=2)if(C[A]===n){u.push(g,C[A+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function Jp(t,n,s,u){return[t,!0,!1,n,null,0,u,s,null,null,null]}function Zp(t,n){const s=t.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const g=s[u+1];if(-1!==g){const C=t.data[g];D(s[u]),C.contentQueries(2,n[g],g)}}}function Mf(t,n){return t[zi]?t[Os][ci]=n:t[zi]=n,t[Os]=n,n}function eg(t,n,s){D(0);const u=$i(null);try{n(t,s)}finally{$i(u)}}function z_(t){return t[hs]||(t[hs]=[])}function W_(t){return t.cleanup||(t.cleanup=[])}function K_(t,n){const s=t[Bi],u=s?s.get(yc,null):null;u&&u.handleError(n)}function bm(t,n,s,u,f){for(let g=0;g<s.length;){const C=s[g++],A=s[g++];Tv(t.data[C],n[C],u,A,f)}}function Qc(t,n,s){const u=sc(n,t);!function Gu(t,n,s){t.setValue(n,s)}(t[Qn],u,s)}function Av(t,n){const s=mi(n,t),u=s[pn];!function j0(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])}(u,s);const f=s[ai];null!==f&&null===s[yn]&&(s[yn]=Il(f,s[Bi])),tg(u,s,s[Rr])}function tg(t,n,s){N(n);try{const u=t.viewQuery;null!==u&&eg(1,u,s);const f=t.template;null!==f&&b(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Zp(t,n),t.staticViewQueries&&eg(2,t.viewQuery,s);const g=t.components;null!==g&&function q_(t,n){for(let s=0;s<n.length;s++)Av(t,n[s])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[Ln]&=-5,pt()}}let Cm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,u,f){const g=typeof Zone>"u"?null:Zone.current,C=function Ot(t,n,s){const u=Object.create(zr);s&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=n;const f=C=>{u.cleanupFn=C};return u.ref={notify:()=>Ss(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Ia(u))return;u.hasRun=!0;const C=fa(u);try{u.cleanupFn(),u.cleanupFn=jn,u.fn(f)}finally{Ta(u,C)}},cleanup:()=>u.cleanupFn()},u.ref}(s,G=>{this.all.has(G)&&this.queue.set(G,g)},f);let A;this.all.add(C),C.notify();const R=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=u?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[s,u]of this.queue)this.queue.delete(s),u?u.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=tn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function xo(t,n,s){let u=s?t.styles:null,f=s?t.classes:null,g=0;if(null!==n)for(let C=0;C<n.length;C++){const A=n[C];"number"==typeof A?g=A:1==g?f=ct(f,A):2==g&&(u=ct(u,A+": "+n[++C]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=f:t.classesWithoutHost=f}function sd(t,n,s,u,f=!1){for(;null!==s;){const g=n[s.index];null!==g&&u.push(Ar(g)),Nr(g)&&Y_(g,u);const C=s.type;if(8&C)sd(t,n,s.child,u);else if(32&C){const A=tu(s,n);let R;for(;R=A();)u.push(R)}else if(16&C){const A=Hg(n,s);if(Array.isArray(A))u.push(...A);else{const R=Zd(n[Q]);sd(R[pn],R,A,u,!0)}}s=f?s.projectionNext:s.next}return u}function Y_(t,n){for(let s=Cr;s<t.length;s++){const u=t[s],f=u[pn].firstChild;null!==f&&sd(u[pn],u,f,n)}t[vr]!==t[ai]&&n.push(t[vr])}function ng(t,n,s,u=!0){const f=n[As],g=f.rendererFactory,C=f.afterRenderEventManager;g.begin?.(),C?.begin();try{X_(t,n,t.template,s)}catch(R){throw u&&K_(n,R),R}finally{g.end?.(),f.effectManager?.flush(),C?.end()}}function X_(t,n,s,u){const f=n[Ln];if(256!=(256&f)){n[As].effectManager?.flush(),N(n);try{Jo(n),function Fs(t){return Kn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&b(t,n,s,2,u);const C=3==(3&f);if(C){const G=t.preOrderCheckHooks;null!==G&&ql(n,G,null)}else{const G=t.preOrderHooks;null!==G&&bd(n,G,0,null),ga(n,0)}if(function J_(t){for(let n=a_(t);null!==n;n=Fg(n)){if(!n[Br])continue;const s=n[Ji];for(let u=0;u<s.length;u++){Aa(s[u])}}}(n),Q_(n,2),null!==t.contentQueries&&Zp(t,n),C){const G=t.contentCheckHooks;null!==G&&ql(n,G)}else{const G=t.contentHooks;null!==G&&bd(n,G,1),ga(n,1)}!function e(t,n){const s=t.hostBindingOpCodes;if(null===s)return;const u=k0(n,wr);try{for(let f=0;f<s.length;f++){const g=s[f];if(g<0)kr(~g);else{const C=g,A=s[++f],R=s[++f];Ag(A,C),u.dirty=!1;const G=fa(u);try{R(2,n[C])}finally{Ta(u,G)}}}}finally{null===n[wr]&&bv(n,wr),kr(-1)}}(t,n);const A=t.components;null!==A&&Tm(n,A,0);const R=t.viewQuery;if(null!==R&&eg(2,R,u),C){const G=t.viewCheckHooks;null!==G&&ql(n,G)}else{const G=t.viewHooks;null!==G&&bd(n,G,2),ga(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Ln]&=-73,Tu(n)}finally{pt()}}}function Q_(t,n){for(let s=a_(t);null!==s;s=Fg(s))for(let u=Cr;u<s.length;u++)Dv(s[u],n)}function B0(t,n,s){Dv(mi(n,t),s)}function Dv(t,n){if(!function Ha(t){return 128==(128&t[Ln])}(t))return;const s=t[pn],u=t[Ln];if(80&u&&0===n||1024&u||2===n)X_(s,t,s.template,t[Rr]);else if(t[ti]>0){Q_(t,1);const f=s.components;null!==f&&Tm(t,f,1)}}function Tm(t,n,s){for(let u=0;u<n.length;u++)B0(t,n[u],s)}class Rf{get rootNodes(){const n=this._lView,s=n[pn];return sd(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rr]}set context(n){this._lView[Rr]=n}get destroyed(){return 256==(256&this._lView[Ln])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Wn];if(Nr(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(af(n,u),Bc(s,u))}this._attachedToViewContainer=!1}fp(this._lView[pn],this._lView)}onDestroy(n){!function Ed(t,n){if(256==(256&t[Ln]))throw new be(911,!1);null===t[Dn]&&(t[Dn]=[]),t[Dn].push(n)}(this._lView,n)}markForCheck(){Gp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ln]&=-129}reattach(){this._lView[Ln]|=128}detectChanges(){ng(this._lView[pn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hp(t,n){Kc(t,n,n[Qn],2,null,null)}(this._lView[pn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=n}}class Sv extends Rf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ng(n[pn],n,n[Rr],!1)}checkNoChanges(){}get context(){return null}}class Of extends wl{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=xr(n);return new Nf(s,this.ngModule)}}function Im(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class Eh{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,u){u=An(u);const f=this.injector.get(n,Af,u);return f!==Af||s===Af?f:this.parentInjector.get(n,s,u)}}class Nf extends mh{get inputs(){const n=this.componentDef,s=n.inputTransforms,u=Im(n.inputs);if(null!==s)for(const f of u)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return u}get outputs(){return Im(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function fi(t){return t.map(Vo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,u,f){let g=(f=f||this.ngModule)instanceof Ci?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const C=g?new Eh(n,g):n,A=C.get(Vp,null);if(null===A)throw new be(407,!1);const Te={rendererFactory:A,sanitizer:C.get(mm,null),effectManager:C.get(Cm,null),afterRenderEventManager:C.get(_v,null)},Xe=A.createRenderer(null,this.componentDef),lt=this.componentDef.selectors[0][0]||"div",Nt=u?function yt(t,n,s,u){const g=u.get(yv,!1)||s===Mi.ShadowDom,C=t.selectRootElement(n,g);return function jt(t){un(t)}(C),C}(Xe,u,this.componentDef.encapsulation,C):sf(Xe,lt,function Z_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(lt)),cr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Qt=null;null!==Nt&&(Qt=Il(Nt,C,!0));const Vr=ye(0,null,null,1,0,null,null,null,null,null,null),Ii=r(null,Vr,null,cr,null,null,Te,Xe,C,null,Qt);let _s,nl;N(Ii);try{const qf=this.componentDef;let Ry,iC=null;qf.findHostDirectiveDefs?(Ry=[],iC=new Map,qf.findHostDirectiveDefs(qf,Ry,iC),Ry.push(qf)):Ry=[qf];const n1=function ey(t,n){const s=t[pn],u=Fn;return t[u]=n,o(s,u,2,"#host",null)}(Ii,Nt),r1=function kf(t,n,s,u,f,g,C){const A=f[pn];!function ty(t,n,s,u){for(const f of t)n.mergedAttrs=Qi(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(xo(n,n.mergedAttrs,!0),null!==s&&Ep(u,s,n))}(u,t,n,C);let R=null;null!==n&&(R=Il(n,f[Bi]));const G=g.rendererFactory.createRenderer(n,s);let se=16;s.signals?se=4096:s.onPush&&(se=64);const Te=r(f,oe(s),null,se,f[t.index],t,g,G,null,null,R);return A.firstCreatePass&&vm(A,t,u.length-1),Mf(f,Te),f[t.index]=Te}(n1,Nt,qf,Ry,Ii,Te,Xe);nl=vd(Vr,Fn),Nt&&function wm(t,n,s,u){if(u)jr(t,s,["ng-version",av.full]);else{const{attrs:f,classes:g}=function La(t){const n=[],s=[];let u=1,f=2;for(;u<t.length;){let g=t[u];if("string"==typeof g)2===f?""!==g&&n.push(g,t[++u]):8===f&&s.push(g);else{if(!si(f))break;f=g}u++}return{attrs:n,classes:s}}(n.selectors[0]);f&&jr(t,s,f),g&&g.length>0&&Wg(t,s,g.join(" "))}}(Xe,qf,Nt,u),void 0!==s&&function Ff(t,n,s){const u=t.projection=[];for(let f=0;f<n.length;f++){const g=s[f];u.push(null!=g?Array.from(g):null)}}(nl,this.ngContentSelectors,s),_s=function Po(t,n,s,u,f,g){const C=ks(),A=f[pn],R=ro(C,f);ze(A,f,C,s,null,u);for(let se=0;se<s.length;se++)Do(Vc(f,A,C.directiveStart+se,C),f);Pf(A,f,C),R&&Do(R,f);const G=Vc(f,A,C.directiveStart+C.componentOffset,C);if(t[Rr]=f[Rr]=G,null!==g)for(const se of g)se(G,n);return x(A,C,t),G}(r1,qf,Ry,iC,Ii,[sg]),tg(Vr,Ii,null)}finally{pt()}return new ig(this.componentType,_s,Lp(nl,Ii),Ii,nl)}}class ig extends F_{constructor(n,s,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Sv(f),this.componentType=n}setInput(n,s){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const g=this._rootLView;bm(g[pn],g,f,n,s),this.previousInputValues.set(n,s),Gp(mi(this._tNode.index,g))}}get injector(){return new Vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function sg(){const t=ks();ea(Ht()[pn],t)}function Am(t){let n=function og(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const u=[t];for(;n;){let f;if(Ds(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new be(903,!1);f=n.\u0275dir}if(f){if(s){u.push(f);const C=t;C.inputs=ag(t.inputs),C.inputTransforms=ag(t.inputTransforms),C.declaredInputs=ag(t.declaredInputs),C.outputs=ag(t.outputs);const A=f.hostBindings;A&&ny(t,A);const R=f.viewQuery,G=f.contentQueries;if(R&&xv(t,R),G&&cg(t,G),ae(t.inputs,f.inputs),ae(t.declaredInputs,f.declaredInputs),ae(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),ae(C.inputTransforms,f.inputTransforms)),Ds(f)&&f.data.animation){const se=t.data;se.animation=(se.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let C=0;C<g.length;C++){const A=g[C];A&&A.ngInherit&&A(t),A===Am&&(s=!1)}}n=Object.getPrototypeOf(n)}!function bh(t){let n=0,s=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=n+=f.hostVars,f.hostAttrs=Qi(f.hostAttrs,s=Qi(s,f.hostAttrs))}}(u)}function ag(t){return t===vi?{}:t===Ce?[]:t}function xv(t,n){const s=t.viewQuery;t.viewQuery=s?(u,f)=>{n(u,f),s(u,f)}:n}function cg(t,n){const s=t.contentQueries;t.contentQueries=s?(u,f,g)=>{n(u,f,g),s(u,f,g)}:n}function ny(t,n){const s=t.hostBindings;t.hostBindings=s?(u,f)=>{n(u,f),s(u,f)}:n}function Mv(t){const n=t.inputConfig,s={};for(const u in n)if(n.hasOwnProperty(u)){const f=n[u];Array.isArray(f)&&f[2]&&(s[u]=f[2])}t.inputTransforms=s}function lg(t){return!!du(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function du(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Rl(t,n,s){return t[n]=s}function Ch(t,n){return t[n]}function Mo(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function ki(t,n,s,u){const f=Mo(t,n,s);return Mo(t,n+1,u)||f}function Lf(t,n,s,u,f){const g=ki(t,n,s,u);return Mo(t,n+2,f)||g}function la(t,n,s,u,f,g){const C=ki(t,n,s,u);return ki(t,n+2,f,g)||C}function dg(t,n,s,u){const f=Ht();return Mo(f,Da(),n)&&(Pr(),Ml(_i(),f,t,n,s,u)),dg}function Th(t,n,s,u){return Mo(t,Da(),s)?n+Ye(s)+u:Hr}function Ih(t,n,s,u,f,g){const A=ki(t,function mo(){return Kn.lFrame.bindingIndex}(),s,f);return Bn(2),A?n+Ye(s)+u+Ye(f)+g:Hr}function fd(t,n,s,u,f,g,C,A){const R=Ht(),G=Pr(),se=t+Fn,Te=G.firstCreatePass?function mg(t,n,s,u,f,g,C,A,R){const G=n.consts,se=o(n,t,4,C||null,Es(G,A));bt(n,s,se,Es(G,R)),ea(n,se);const Te=se.tView=ye(2,se,u,f,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,G,null);return null!==n.queries&&(n.queries.template(n,se),Te.queries=n.queries.embeddedTView(se)),se}(se,G,R,n,s,u,f,g,C):G.data[se];wo(Te,!1);const Xe=Om(G,R,Te,t);cc()&&$g(G,R,Xe,Te),Do(Xe,R),Mf(R,R[se]=Jp(Xe,R,Xe,Te)),Xs(Te)&&F(G,R,Te),null!=C&&K(R,Te,A)}let Om=function xh(t,n,s,u){return pa(!0),n[Qn].createComment("")};function Ph(t){return wc(function Au(){return Kn.lFrame.contextLView}(),Fn+t)}function pd(t,n,s){const u=Ht();return Mo(u,Da(),n)&&ke(Pr(),_i(),u,t,n,u[Qn],s,!1),pd}function Mh(t,n,s,u,f){const C=f?"class":"style";bm(t,s,n.inputs[C],C,u)}function Na(t,n,s,u){const f=Ht(),g=Pr(),C=Fn+t,A=f[Qn],R=g.firstCreatePass?function Gf(t,n,s,u,f,g){const C=n.consts,R=o(n,t,2,u,Es(C,f));return bt(n,s,R,Es(C,g)),null!==R.attrs&&xo(R,R.attrs,!1),null!==R.mergedAttrs&&xo(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(C,g,f,n,s,u):g.data[C],G=Nm(g,f,R,A,n,t);f[C]=G;const se=Xs(R);return wo(R,!0),Ep(A,G,R),32!=(32&R.flags)&&cc()&&$g(g,f,G,R),0===function Zo(){return Kn.lFrame.elementDepthCount}()&&Do(G,f),function Gl(){Kn.lFrame.elementDepthCount++}(),se&&(F(g,f,R),x(g,R,f)),null!==u&&K(f,R),Na}function Nl(){let t=ks();Kt()?ol():(t=t.parent,wo(t,!1));const n=t;(function wu(t){return Kn.skipHydrationRootTNode===t})(n)&&function Wl(){Kn.skipHydrationRootTNode=null}(),function Vh(){Kn.lFrame.elementDepthCount--}();const s=Pr();return s.firstCreatePass&&(ea(s,t),Ys(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Mu(t){return 0!=(8&t.flags)}(n)&&Mh(s,n,Ht(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ru(t){return 0!=(16&t.flags)}(n)&&Mh(s,n,Ht(),n.stylesWithoutHost,!1),Nl}function gd(t,n,s,u){return Na(t,n,s,u),Nl(),gd}let Nm=(t,n,s,u,f,g)=>(pa(!0),sf(u,f,function xu(){return Kn.lFrame.currentNamespace}()));function Rh(t,n,s){const u=Ht(),f=Pr(),g=t+Fn,C=f.firstCreatePass?function _y(t,n,s,u,f){const g=n.consts,C=Es(g,u),A=o(n,t,8,"ng-container",C);return null!==C&&xo(A,C,!0),bt(n,s,A,Es(g,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(g,f,u,n,s):f.data[g];wo(C,!0);const A=eo(f,u,C,t);return u[g]=A,cc()&&$g(f,u,A,C),Do(A,u),Xs(C)&&(F(f,u,C),x(f,C,u)),null!=s&&K(u,C),Rh}function Ja(){let t=ks();const n=Pr();return Kt()?ol():(t=t.parent,wo(t,!1)),n.firstCreatePass&&(ea(n,t),Ys(t)&&n.queries.elementEnd(t)),Ja}function ua(t,n,s){return Rh(t,n,s),Ja(),ua}let eo=(t,n,s,u)=>(pa(!0),Lg(n[Qn],""));function kl(){return Ht()}function E(t){return!!t&&"function"==typeof t.then}function U(t){return!!t&&"function"==typeof t.subscribe}function q(t,n,s,u){const f=Ht(),g=Pr(),C=ks();return function St(t,n,s,u,f,g,C){const A=Xs(u),G=t.firstCreatePass&&W_(t),se=n[Rr],Te=z_(n);let Xe=!0;if(3&u.type||C){const dn=ro(u,n),kn=C?C(dn):dn,cr=Te.length,Qt=C?Ii=>C(Ar(Ii[u.index])):u.index;let Vr=null;if(!C&&A&&(Vr=function ht(t,n,s,u){const f=t.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const C=f[g];if(C===s&&f[g+1]===u){const A=n[hs],R=f[g+2];return A.length>R?A[R]:null}"string"==typeof C&&(g+=2)}return null}(t,n,f,u.index)),null!==Vr)(Vr.__ngLastListenerFn__||Vr).__ngNextListenerFn__=g,Vr.__ngLastListenerFn__=g,Xe=!1;else{g=Yi(u,n,se,g,!1);const Ii=s.listen(kn,f,g);Te.push(g,Ii),G&&G.push(f,Qt,cr,cr+1)}}else g=Yi(u,n,se,g,!1);const lt=u.outputs;let Nt;if(Xe&&null!==lt&&(Nt=lt[f])){const dn=Nt.length;if(dn)for(let kn=0;kn<dn;kn+=2){const _s=n[Nt[kn]][Nt[kn+1]].subscribe(g),nl=Te.length;Te.push(g,_s),G&&G.push(f,u.index,nl,-(nl+1))}}}(g,f,f[Qn],C,t,n,u),q}function In(t,n,s,u){try{return Ui(6,n,s),!1!==s(u)}catch(f){return K_(t,f),!1}finally{Ui(7,n,s)}}function Yi(t,n,s,u,f){return function g(C){if(C===Function)return u;Gp(t.componentOffset>-1?mi(t.index,n):n);let R=In(n,s,u,C),G=g.__ngNextListenerFn__;for(;G;)R=In(n,s,G,C)&&R,G=G.__ngNextListenerFn__;return f&&!1===R&&C.preventDefault(),R}}function Hi(t=1){return function vn(t){return(Kn.lFrame.contextLView=function hr(t,n){for(;t>0;)n=n[ee],t--;return n}(t,Kn.lFrame.contextLView))[Rr]}(t)}function md(t,n,s){return ka(t,"",n,"",s),md}function ka(t,n,s,u,f){const g=Ht(),C=Th(g,n,s,u);return C!==Hr&&ke(Pr(),_i(),g,t,C,g[Qn],f,!1),ka}function jm(t,n){return t<<17|n<<2}function _d(t){return t>>17&32767}function vy(t){return 2|t}function zf(t){return(131068&t)>>2}function Bv(t,n){return-131069&t|n<<2}function $v(t){return 1|t}function Ey(t,n,s,u,f){const g=t[s+1],C=null===n;let A=u?_d(g):zf(g),R=!1;for(;0!==A&&(!1===R||C);){const se=t[A+1];by(t[A],n)&&(R=!0,t[A+1]=u?$v(se):vy(se)),A=u?_d(se):zf(se)}R&&(t[s+1]=u?vy(g):$v(g))}function by(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&fc(t,n)>=0}const Ro={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function K0(t){return t.substring(Ro.key,Ro.keyEnd)}function q0(t,n){const s=Ro.textEnd;return s===n?-1:(n=Ro.keyEnd=function Cy(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,Ro.key=n,s),Nh(t,n,s))}function Nh(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function Q0(t,n,s){return yu(t,n,s,!1),Q0}function Wv(t,n){return yu(t,n,null,!0),Wv}function Ty(t){!function Ll(t,n,s,u){const f=Pr(),g=Bn(2);f.firstUpdatePass&&eE(f,null,g,u);const C=Ht();if(s!==Hr&&Mo(C,g,s)){const A=f.data[sr()];if(aE(A,u)&&!Z0(f,g)){let R=u?A.classesWithoutHost:A.stylesWithoutHost;null!==R&&(s=ct(R,s||"")),Mh(f,A,C,s,u)}else!function cb(t,n,s,u,f,g,C,A){f===Hr&&(f=Ce);let R=0,G=0,se=0<f.length?f[0]:null,Te=0<g.length?g[0]:null;for(;null!==se||null!==Te;){const Xe=R<f.length?f[R+1]:void 0,lt=G<g.length?g[G+1]:void 0;let dn,Nt=null;se===Te?(R+=2,G+=2,Xe!==lt&&(Nt=Te,dn=lt)):null===Te||null!==se&&se<Te?(R+=2,Nt=se):(G+=2,Nt=Te,dn=lt),null!==Nt&&iE(t,n,s,u,Nt,dn,C,A),se=R<f.length?f[R]:null,Te=G<g.length?g[G]:null}}(f,A,C,C[Qn],C[g+1],C[g+1]=function nE(t,n,s){if(null==s||""===s)return Ce;const u=[],f=oa(s);if(Array.isArray(f))for(let g=0;g<f.length;g++)t(u,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&t(u,g,f[g]);else"string"==typeof f&&n(u,f);return u}(t,n,s),u,g)}}(qv,Fl,t,!0)}function Fl(t,n){for(let s=function tb(t){return function Bm(t){Ro.key=0,Ro.keyEnd=0,Ro.value=0,Ro.valueEnd=0,Ro.textEnd=t.length}(t),q0(t,Nh(t,0,Ro.textEnd))}(n);s>=0;s=q0(n,s))vo(t,K0(n),!0)}function yu(t,n,s,u){const f=Ht(),g=Pr(),C=Bn(2);g.firstUpdatePass&&eE(g,t,C,u),n!==Hr&&Mo(f,C,n)&&iE(g,g.data[sr()],f,f[Qn],t,f[C+1]=function oE(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=pe(oa(t)))),t}(n,s),u,C)}function Z0(t,n){return n>=t.expandoStartIndex}function eE(t,n,s,u){const f=t.data;if(null===f[s+1]){const g=f[sr()],C=Z0(t,s);aE(g,u)&&null===n&&!C&&(n=!1),n=function sb(t,n,s,u){const f=function Sa(t){const n=Kn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let g=u?n.residualClasses:n.residualStyles;if(null===f)0===(u?n.classBindings:n.styleBindings)&&(s=$m(s=Kv(null,t,n,s,u),n.attrs,u),g=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(s=Kv(f,t,n,s,u),null===g){let R=function ob(t,n,s){const u=s?n.classBindings:n.styleBindings;if(0!==zf(u))return t[_d(u)]}(t,n,u);void 0!==R&&Array.isArray(R)&&(R=Kv(null,t,n,R[1],u),R=$m(R,n.attrs,u),function ab(t,n,s,u){t[_d(s?n.classBindings:n.styleBindings)]=u}(t,n,u,R))}else g=function tE(t,n,s){let u;const f=n.directiveEnd;for(let g=1+n.directiveStylingLast;g<f;g++)u=$m(u,t[g].hostAttrs,s);return $m(u,n.attrs,s)}(t,n,u)}return void 0!==g&&(u?n.residualClasses=g:n.residualStyles=g),s}(f,g,n,u),function Wf(t,n,s,u,f,g){let C=g?n.classBindings:n.styleBindings,A=_d(C),R=zf(C);t[u]=s;let se,G=!1;if(Array.isArray(s)?(se=s[1],(null===se||fc(s,se)>0)&&(G=!0)):se=s,f)if(0!==R){const Xe=_d(t[A+1]);t[u+1]=jm(Xe,A),0!==Xe&&(t[Xe+1]=Bv(t[Xe+1],u)),t[A+1]=function jv(t,n){return 131071&t|n<<17}(t[A+1],u)}else t[u+1]=jm(A,0),0!==A&&(t[A+1]=Bv(t[A+1],u)),A=u;else t[u+1]=jm(R,0),0===A?A=u:t[R+1]=Bv(t[R+1],u),R=u;G&&(t[u+1]=vy(t[u+1])),Ey(t,se,u,!0),Ey(t,se,u,!1),function Hv(t,n,s,u,f){const g=f?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof n&&fc(g,n)>=0&&(s[u+1]=$v(s[u+1]))}(n,se,t,u,g),C=jm(A,R),g?n.classBindings=C:n.styleBindings=C}(f,g,n,s,C,u)}}function Kv(t,n,s,u,f){let g=null;const C=s.directiveEnd;let A=s.directiveStylingLast;for(-1===A?A=s.directiveStart:A++;A<C&&(g=n[A],u=$m(u,g.hostAttrs,f),g!==t);)A++;return null!==t&&(s.directiveStylingLast=A),u}function $m(t,n,s){const u=s?1:2;let f=-1;if(null!==n)for(let g=0;g<n.length;g++){const C=n[g];"number"==typeof C?f=C:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vo(t,C,!!s||n[++g]))}return void 0===t?null:t}function qv(t,n,s){const u=String(n);""!==u&&!u.includes(" ")&&vo(t,u,s)}function iE(t,n,s,u,f,g,C,A){if(!(3&n.type))return;const R=t.data,G=R[A+1],se=function ZE(t){return 1==(1&t)}(G)?sE(R,n,s,f,zf(G),C):void 0;Iy(se)||(Iy(g)||function JE(t){return 2==(2&t)}(G)&&(g=sE(R,null,s,f,A,C)),function g_(t,n,s,u,f){if(n)f?t.addClass(s,u):t.removeClass(s,u);else{let g=-1===u.indexOf("-")?void 0:Wa.DashCase;null==f?t.removeStyle(s,u,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Wa.Important),t.setStyle(s,u,f,g))}}(u,C,sc(sr(),s),f,g))}function sE(t,n,s,u,f,g){const C=null===n;let A;for(;f>0;){const R=t[f],G=Array.isArray(R),se=G?R[1]:R,Te=null===se;let Xe=s[f+1];Xe===Hr&&(Xe=Te?Ce:void 0);let lt=Te?Od(Xe,u):se===u?Xe:void 0;if(G&&!Iy(lt)&&(lt=Od(R,u)),Iy(lt)&&(A=lt,C))return A;const Nt=t[f+1];f=C?_d(Nt):zf(Nt)}if(null!==n){let R=g?n.residualClasses:n.residualStyles;null!=R&&(A=Od(R,u))}return A}function Iy(t){return void 0!==t}function aE(t,n){return 0!=(t.flags&(n?8:16))}function Zc(t,n=""){const s=Ht(),u=Pr(),f=t+Fn,g=u.firstCreatePass?o(u,f,1,n,null):u.data[f],C=wy(u,s,g,n,t);s[f]=C,cc()&&$g(u,s,C,g),wo(g,!1)}let wy=(t,n,s,u,f)=>(pa(!0),function th(t,n){return t.createText(n)}(n[Qn],u));function Xv(t){return Ay("",t,""),Xv}function Ay(t,n,s){const u=Ht(),f=Th(u,t,n,s);return f!==Hr&&Qc(u,sr(),f),Ay}function Gm(t,n,s,u,f){const g=Ht(),C=Ih(g,t,n,s,u,f);return C!==Hr&&Qc(g,sr(),C),Gm}const yd=void 0;var vb=["en",[["a","p"],["AM","PM"],yd],[["AM","PM"],yd,yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yd,"{1} 'at' {0}",yd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CE(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Km={};function TE(t){const n=function p(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=AE(n);if(s)return s;const u=n.split("-")[0];if(s=AE(u),s)return s;if("en"===u)return vb;throw new be(701,!1)}function wE(t){return TE(t)[Eg.PluralCase]}function AE(t){return t in Km||(Km[t]=qn.ng&&qn.ng.common&&qn.ng.common.locales&&qn.ng.common.locales[t]),Km[t]}var Eg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Eg||{});const y="en-US";let qe=y;function wb(t,n,s,u,f){if(t=wt(t),Array.isArray(t))for(let g=0;g<t.length;g++)wb(t[g],n,s,u,f);else{const g=Pr(),C=Ht(),A=ks();let R=su(t)?t:wt(t.provide);const G=cm(t),se=1048575&A.providerIndexes,Te=A.directiveStart,Xe=A.providerIndexes>>20;if(su(t)||!t.multi){const lt=new _o(G,f,Pl),Nt=Db(R,n,f?se:se+Xe,Te);-1===Nt?(dl(ul(A,C),g,R),Ab(g,t,n.length),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(lt),C.push(lt)):(s[Nt]=lt,C[Nt]=lt)}else{const lt=Db(R,n,se+Xe,Te),Nt=Db(R,n,se,se+Xe),kn=Nt>=0&&s[Nt];if(f&&!kn||!f&&!(lt>=0&&s[lt])){dl(ul(A,C),g,R);const cr=function NI(t,n,s,u,f){const g=new _o(t,s,Pl);return g.multi=[],g.index=n,g.componentProviders=0,yC(g,f,u&&!s),g}(f?OI:RI,s.length,f,u,G);!f&&kn&&(s[Nt].providerFactory=cr),Ab(g,t,n.length,0),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(cr),C.push(cr)}else Ab(g,t,lt>-1?lt:Nt,yC(s[f?Nt:lt],G,!f&&u));!f&&u&&kn&&s[Nt].componentProviders++}}}function Ab(t,n,s,u){const f=su(n),g=function Jy(t){return!!t.useClass}(n);if(f||g){const R=(g?wt(n.useClass):n).prototype.ngOnDestroy;if(R){const G=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const se=G.indexOf(s);-1===se?G.push(s,[u,R]):G[se+1].push(u,R)}else G.push(s,R)}}}function yC(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function Db(t,n,s,u){for(let f=s;f<u;f++)if(n[f]===t)return f;return-1}function RI(t,n,s,u){return Sb(this.multi,[])}function OI(t,n,s,u){const f=this.multi;let g;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=Vc(s,s[pn],this.providerFactory.index,u);g=A.slice(0,C),Sb(f,g);for(let R=C;R<A.length;R++)g.push(A[R])}else g=[],Sb(f,g);return g}function Sb(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function vC(t,n=[]){return s=>{s.providersResolver=(u,f)=>function MI(t,n,s){const u=Pr();if(u.firstCreatePass){const f=Ds(t);wb(s,u.data,u.blueprint,f,!0),wb(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class qm{}class EC{}function kI(t,n){return new xb(t,n??null,[])}class xb extends qm{constructor(n,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Of(this);const f=pi(n);this._bootstrapComponents=rd(f.bootstrap),this._r3Injector=lv(n,s,[{provide:qm,useValue:this},{provide:wl,useValue:this.componentFactoryResolver},...u],pe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Pb extends EC{constructor(n){super(),this.moduleType=n}create(n){return new xb(this.moduleType,n,[])}}class bC extends qm{constructor(n){super(),this.componentFactoryResolver=new Of(this),this.instance=null;const s=new bf([...n.providers,{provide:qm,useValue:this},{provide:wl,useValue:this.componentFactoryResolver}],n.parent||Mp(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function CC(t,n,s=null){return new bC({providers:t,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let LI=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const u=rm(0,s.type),f=u.length>0?CC([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=tn({token:t,providedIn:"environment",factory:()=>new t(At(Ci))})}}return t})();function TC(t){t.getStandaloneInjector=n=>n.get(LI).getOrCreateStandaloneInjector(t)}function PC(t,n,s){const u=bs()+t,f=Ht();return f[u]===Hr?Rl(f,u,s?n.call(s):n()):Ch(f,u)}function MC(t,n,s,u){return kC(Ht(),bs(),t,n,s,u)}function RC(t,n,s,u,f){return FC(Ht(),bs(),t,n,s,u,f)}function OC(t,n,s,u,f,g,C,A,R){const G=bs()+t,se=Ht(),Te=la(se,G,s,u,f,g);return ki(se,G+4,C,A)||Te?Rl(se,G+6,R?n.call(R,s,u,f,g,C,A):n(s,u,f,g,C,A)):Ch(se,G+6)}function NC(t,n,s,u,f,g,C,A,R,G){const se=bs()+t,Te=Ht();let Xe=la(Te,se,s,u,f,g);return Lf(Te,se+4,C,A,R)||Xe?Rl(Te,se+7,G?n.call(G,s,u,f,g,C,A,R):n(s,u,f,g,C,A,R)):Ch(Te,se+7)}function c0(t,n){const s=t[n];return s===Hr?void 0:s}function kC(t,n,s,u,f,g){const C=n+s;return Mo(t,C,f)?Rl(t,C+1,g?u.call(g,f):u(f)):c0(t,C+1)}function FC(t,n,s,u,f,g,C){const A=n+s;return ki(t,A,f,g)?Rl(t,A+2,C?u.call(C,f,g):u(f,g)):c0(t,A+2)}function jC(t,n){const s=Pr();let u;const f=t+Fn;s.firstCreatePass?(u=function QI(t,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(t===u.name)return u}}(n,s.pipeRegistry),s.data[f]=u,u.onDestroy&&(s.destroyHooks??=[]).push(f,u.onDestroy)):u=s.data[f];const g=u.factory||(u.factory=no(u.type)),A=Ur(Pl);try{const R=lc(!1),G=g();return lc(R),function mu(t,n,s,u){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=u}(s,Ht(),f,G),G}finally{Ur(A)}}function BC(t,n,s){const u=t+Fn,f=Ht(),g=wc(f,u);return l0(f,u)?kC(f,bs(),n,g.transform,s,g):g.transform(s)}function $C(t,n,s,u){const f=t+Fn,g=Ht(),C=wc(g,f);return l0(g,f)?FC(g,bs(),n,C.transform,s,u,C):C.transform(s,u)}function HC(t,n,s,u,f){const g=t+Fn,C=Ht(),A=wc(C,g);return l0(C,g)?function LC(t,n,s,u,f,g,C,A){const R=n+s;return Lf(t,R,f,g,C)?Rl(t,R+3,A?u.call(A,f,g,C):u(f,g,C)):c0(t,R+3)}(C,bs(),n,A.transform,s,u,f,A):A.transform(s,u,f)}function l0(t,n){return t[pn].data[n].pure}function ew(){return this._results[Symbol.iterator]()}class Rb{get changes(){return this._changes||(this._changes=new xl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Rb.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=ew)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const f=function ra(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Pd(t,n,s){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],g=n[u];if(s&&(f=s(f),g=s(g)),g!==f)return!1}return!0}(u._results,f,s))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nw(t,n,s,u=!0){const f=n[pn];if(function Ly(t,n,s,u){const f=Cr+u,g=s.length;u>0&&(s[f-1][ci]=n),u<g-Cr?(n[ci]=s[f],Md(s,Cr+u,n)):(s.push(n),n[ci]=null),n[Wn]=s;const C=n[we];null!==C&&s!==C&&function c_(t,n){const s=t[Ji];n[Q]!==n[Wn][Wn][Q]&&(t[Br]=!0),null===s?t[Ji]=[n]:s.push(n)}(C,n);const A=n[Je];null!==A&&A.insertView(t),n[Ln]|=128}(f,n,t,s),u){const g=lf(s,t),C=n[Qn],A=rh(C,t[vr]);null!==A&&function zu(t,n,s,u,f,g){u[ai]=f,u[Oi]=n,Kc(t,u,s,1,f,g)}(f,t[Oi],C,n,A,g)}}let u0=(()=>{class t{static{this.__NG_ELEMENT_ID__=sw}}return t})();const rw=u0,iw=class extends rw{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,u){const f=function tw(t,n,s,u){const f=n.tView,A=r(t,f,s,4096&t[Ln]?4096:16,null,n,null,null,null,u?.injector??null,u?.hydrationInfo??null);A[we]=t[n.index];const G=t[Je];return null!==G&&(A[Je]=G.createEmbeddedView(f)),tg(f,A,s),A}(this._declarationLView,this._declarationTContainer,n,{injector:s,hydrationInfo:u});return new Rf(f)}};function sw(){return OE(ks(),Ht())}function OE(t,n){return 4&t.type?new iw(n,t,Lp(t,n)):null}let kE=(()=>{class t{static{this.__NG_ELEMENT_ID__=dw}}return t})();function dw(){return XC(ks(),Ht())}const hw=kE,qC=class extends hw{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return Lp(this._hostTNode,this._hostLView)}get injector(){return new Vs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Fc(this._hostTNode,this._hostLView);if(Ou(n)){const s=Nc(n,this._hostLView),u=Oc(n);return new Vs(s[pn].data[u+8],s)}return new Vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=YC(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-Cr}createEmbeddedView(n,s,u){let f,g;"number"==typeof u?f=u:null!=u&&(f=u.index,g=u.injector);const A=n.createEmbeddedViewImpl(s||{},g,null);return this.insertImpl(A,f,false),A}createComponent(n,s,u,f,g){const C=n&&!function hc(t){return"function"==typeof t}(n);let A;if(C)A=s;else{const dn=s||{};A=dn.index,u=dn.injector,f=dn.projectableNodes,g=dn.environmentInjector||dn.ngModuleRef}const R=C?n:new Nf(xr(n)),G=u||this.parentInjector;if(!g&&null==R.ngModule){const kn=(C?G:this.parentInjector).get(Ci,null);kn&&(g=kn)}xr(R.componentType??{});const lt=R.create(G,f,null,g);return this.insertImpl(lt.hostView,A,false),lt}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,u){const f=n._lView;if(function Gs(t){return Nr(t[Wn])}(f)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const G=f[Wn],se=new qC(G,G[Oi],G[Wn]);se.detach(se.indexOf(n))}}const C=this._adjustIndex(s),A=this._lContainer;return nw(A,f,C,!u),n.attachToViewContainerRef(),Md(Ob(A),C,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=YC(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=af(this._lContainer,s);u&&(Bc(Ob(this._lContainer),s),fp(u[pn],u))}detach(n){const s=this._adjustIndex(n,-1),u=af(this._lContainer,s);return u&&null!=Bc(Ob(this._lContainer),s)?new Rf(u):null}_adjustIndex(n,s=0){return n??this.length+s}};function YC(t){return t[8]}function Ob(t){return t[8]||(t[8]=[])}function XC(t,n){let s;const u=n[t.index];return Nr(u)?s=u:(s=Jp(u,n,null,t),n[t.index]=s,Mf(n,s)),QC(s,n,t,u),new qC(s,t,n)}let QC=function JC(t,n,s,u){if(t[vr])return;let f;f=8&s.type?Ar(u):function fw(t,n){const s=t[Qn],u=s.createComment(""),f=ro(n,t);return Wu(s,rh(s,f),u,function Bg(t,n){return t.nextSibling(n)}(s,f),!1),u}(n,s),t[vr]=f};class Nb{constructor(n){this.queryList=n,this.matches=null}clone(){return new Nb(this.queryList)}setDirty(){this.queryList.setDirty()}}class kb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let g=0;g<u;g++){const C=s.getByIndex(g);f.push(this.queries[C.indexInDeclarationView].clone())}return new kb(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==aT(n,s).matches&&this.queries[s].setDirty()}}class ZC{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class Fb{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const f=null!==s?s.length:0,g=this.getByIndex(u).embeddedTView(n,f);g&&(g.indexInDeclarationView=u,null!==s?s.push(g):s=[g])}return null!==s?new Fb(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Lb{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Lb(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(n,s,mw(s,g)),this.matchTNodeWithReadOption(n,s,Ao(s,n,g,!1,!1))}else u===u0?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Ao(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===_h||f===kE||f===u0&&4&s.type)this.addMatch(s.index,-2);else{const g=Ao(s,n,f,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function mw(t,n){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function yw(t,n,s,u){return-1===s?function _w(t,n){return 11&t.type?Lp(t,n):4&t.type?OE(t,n):null}(n,t):-2===s?function vw(t,n,s){return s===_h?Lp(n,t):s===u0?OE(n,t):s===kE?XC(n,t):void 0}(t,n,u):Vc(t,t[pn],s,n)}function eT(t,n,s,u){const f=n[Je].queries[u];if(null===f.matches){const g=t.data,C=s.matches,A=[];for(let R=0;R<C.length;R+=2){const G=C[R];A.push(G<0?null:yw(n,g[G],C[R+1],s.metadata.read))}f.matches=A}return f.matches}function Vb(t,n,s,u){const f=t.queries.getByIndex(s),g=f.matches;if(null!==g){const C=eT(t,n,f,s);for(let A=0;A<g.length;A+=2){const R=g[A];if(R>0)u.push(C[A/2]);else{const G=g[A+1],se=n[-R];for(let Te=Cr;Te<se.length;Te++){const Xe=se[Te];Xe[we]===Xe[Wn]&&Vb(Xe[pn],Xe,G,u)}if(null!==se[Ji]){const Te=se[Ji];for(let Xe=0;Xe<Te.length;Xe++){const lt=Te[Xe];Vb(lt[pn],lt,G,u)}}}}}return u}function tT(t){const n=Ht(),s=Pr(),u=xc();D(u+1);const f=aT(s,u);if(t.dirty&&function $a(t){return 4==(4&t[Ln])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const g=f.crossesNgTemplate?Vb(s,n,u,[]):eT(s,n,f,u);t.reset(g,sv),t.notifyOnChanges()}return!0}return!1}function nT(t,n,s){const u=Pr();u.firstCreatePass&&(oT(u,new ZC(t,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),sT(u,Ht(),n)}function rT(t,n,s,u){const f=Pr();if(f.firstCreatePass){const g=ks();oT(f,new ZC(n,s,u),g.index),function bw(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}sT(f,Ht(),s)}function iT(){return function Ew(t,n){return t[Je].queries[n].queryList}(Ht(),xc())}function sT(t,n,s){const u=new Rb(4==(4&s));(function or(t,n,s,u){const f=z_(n);f.push(s),t.firstCreatePass&&W_(t).push(u,f.length-1)})(t,n,u,u.destroy),null===n[Je]&&(n[Je]=new kb),n[Je].queries.push(new Nb(u))}function oT(t,n,s){null===t.queries&&(t.queries=new Fb),t.queries.track(new Lb(n,s))}function aT(t,n){return t.queries.getByIndex(n)}function cT(t,n){return OE(t,n)}function Ub(t){return!!pi(t)}const wT=new fn("Application Initializer");let Gb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=ln(wT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const g=f();if(E(g))s.push(g);else if(U(g)){const C=new Promise((A,R)=>{g.subscribe({complete:A,error:R})});s.push(C)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(f=>{this.reject(f)}),0===s.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),AT=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const LE=new fn("LocaleId",{providedIn:"root",factory:()=>ln(LE,Tn.Optional|Tn.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||y}()}),Hw=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let DT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ge.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class zw{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let Ww=(()=>{class t{compileModuleSync(s){return new Pb(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),g=rd(pi(s).declarations).reduce((C,A)=>{const R=xr(A);return R&&C.push(new Nf(R)),C},[]);return new zw(u,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const MT=new fn(""),RT=new fn("");let Kb,pA=(()=>{class t{constructor(s,u,f){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kb||(function gA(t){Kb=t}(f),f.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{So.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,f){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:f})}whenStable(s,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,f){return[]}static{this.\u0275fac=function(u){return new(u||t)(At(So),At(OT),At(RT))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})(),OT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return Kb?.findTestabilityInTree(this,s,u)??null}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),wg=null;const NT=new fn("AllowMultipleToken"),qb=new fn("PlatformDestroyListeners"),Yb=new fn("appBootstrapListener");class yA{constructor(n,s){this.name=n,this.token=s}}function LT(t,n,s=[]){const u=`Platform: ${n}`,f=new fn(u);return(g=[])=>{let C=Xb();if(!C||C.injector.get(NT,!1)){const A=[...s,...g,{provide:f,useValue:!0}];t?t(A):function vA(t){if(wg&&!wg.get(NT,!1))throw new be(400,!1);(function kT(){!function wa(t){Bo=t}(()=>{throw new be(600,!1)})})(),wg=t;const n=t.get(UT);(function FT(t){t.get(tv,null)?.forEach(s=>s())})(t)}(function VT(t=[],n){return Al.create({name:n,providers:[{provide:vf,useValue:"platform"},{provide:qb,useValue:new Set([()=>wg=null])},...t]})}(A,u))}return function bA(t){const n=Xb();if(!n)throw new be(401,!1);return n}()}}function Xb(){return wg?.get(UT)??null}let UT=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const f=function CA(t="zone.js",n){return"noop"===t?new B_:"zone.js"===t?new So(n):t}(u?.ngZone,function jT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const g=function FI(t,n,s){return new xb(t,n,s)}(s.moduleType,this.injector,function zT(t){return[{provide:So,useFactory:t},{provide:Xu,multi:!0,useFactory:()=>{const n=ln(IA,{optional:!0});return()=>n.initialize()}},{provide:GT,useFactory:TA},{provide:D0,useFactory:hv}]}(()=>f)),C=g.injector.get(yc,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{C.handleError(R)}});g.onDestroy(()=>{UE(this._modules,g),A.unsubscribe()})}),function BT(t,n,s){try{const u=s();return E(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(C,f,()=>{const A=g.injector.get(Gb);return A.runInitializers(),A.donePromise.then(()=>(function ft(t){rt(t,"Expected localeId to be defined"),"string"==typeof t&&(qe=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(LE,y)||y),this._moduleDoBootstrap(g),g))})})}bootstrapModule(s,u=[]){const f=$T({},u);return function mA(t,n,s){const u=new Pb(s);return Promise.resolve(u)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(s){const u=s.injector.get(My);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new be(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(qb,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||t)(At(Al))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function $T(t,n){return Array.isArray(n)?n.reduce($T,t):{...t,...n}}let My=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ln(GT),this.zoneIsStable=ln(D0),this.componentTypes=[],this.components=[],this.isStable=ln(DT).hasPendingTasks.pipe((0,Le.n)(s=>s?(0,Se.of)(!1):this.zoneIsStable),(0,Ne.F)(),(0,xe.u)()),this._injector=ln(Ci)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const f=s instanceof mh;if(!this._injector.get(Gb).done)throw!f&&Is(s),new be(405,!1);let C;C=f?s:this._injector.get(wl).resolveComponentFactory(s),this.componentTypes.push(C.componentType);const A=function _A(t){return t.isBoundToModule}(C)?void 0:this._injector.get(qm),G=C.create(Al.NULL,[],u||C.selector,A),se=G.location.nativeElement,Te=G.injector.get(MT,null);return Te?.registerApplication(se),G.onDestroy(()=>{this.detachView(G.hostView),UE(this.components,G),Te?.unregisterApplication(se)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;UE(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(Yb,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>UE(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new be(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function UE(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const GT=new fn("",{providedIn:"root",factory:()=>ln(yc).handleError.bind(void 0)});function TA(){const t=ln(So),n=ln(yc);return s=>t.runOutsideAngular(()=>n.handleError(s))}let IA=(()=>{class t{constructor(){this.zone=ln(So),this.applicationRef=ln(My)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function AA(){return!1}let DA=(()=>{class t{static{this.__NG_ELEMENT_ID__=SA}}return t})();function SA(t){return function xA(t,n,s){if(Zi(t)&&!s){const u=mi(t.index,n);return new Rf(u,u)}return 47&t.type?new Rf(n[Q],n):null}(ks(),Ht(),16==(16&t))}class XT{constructor(){}supports(n){return lg(n)}create(n){return new NA(n)}}const OA=(t,n)=>n;class NA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||OA}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,f=0,g=null;for(;s||u;){const C=!u||s&&s.currentIndex<JT(u,f,g)?s:u,A=JT(C,f,g),R=C.currentIndex;if(C===u)f--,u=u._nextRemoved;else if(s=s._next,null==C.previousIndex)f++;else{g||(g=[]);const G=A-f,se=R-f;if(G!=se){for(let Xe=0;Xe<G;Xe++){const lt=Xe<g.length?g[Xe]:g[Xe]=0,Nt=lt+Xe;se<=Nt&&Nt<G&&(g[Xe]=lt+1)}g[C.previousIndex]=se-G}}A!==R&&n(C,A,R)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!lg(n))throw new be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,g,C,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)g=n[A],C=this._trackByFn(A,g),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,g,C,A)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,C,A),u=!0),s=s._next}else f=0,function ug(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,A=>{C=this._trackByFn(f,A),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,A,C,f)),Object.is(s.item,A)||this._addIdentityChange(s,A)):(s=this._mismatch(s,A,C,f),u=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,f){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,g,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,g,f)):n=this._addAfter(new kA(s,u),g,f),n}_verifyReinsertion(n,s,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?n=this._reinsertAfter(g,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,g=n._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new QT),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QT),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class kA{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class QT{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new FA,this.map.set(s,u)),u.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JT(t,n,s){const u=t.previousIndex;if(null===u)return u;let f=0;return s&&u<s.length&&(f=s[u]),u+n+f}class ZT{constructor(){}supports(n){return n instanceof Map||du(n)}create(){return new LA}}class LA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||du(n)))throw new be(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(f,u);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const g=f._prev,C=f._next;return g&&(g._next=C),C&&(C._prev=g),f._next=null,f._prev=null,f}const u=new VA(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class VA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eI(){return new tC([new XT])}let tC=(()=>{class t{static{this.\u0275prov=tn({token:t,providedIn:"root",factory:eI})}constructor(s){this.factories=s}static create(s,u){if(null!=u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||eI()),deps:[[t,new Lu,new so]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(null!=u)return u;throw new be(901,!1)}}return t})();function tI(){return new nC([new ZT])}let nC=(()=>{class t{static{this.\u0275prov=tn({token:t,providedIn:"root",factory:tI})}constructor(s){this.factories=s}static create(s,u){if(u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||tI()),deps:[[t,new Lu,new so]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(u)return u;throw new be(901,!1)}}return t})();const BA=LT(null,"core",[]);let $A=(()=>{class t{constructor(s){}static{this.\u0275fac=function(u){return new(u||t)(At(My))}}static{this.\u0275mod=Yr({type:t})}static{this.\u0275inj=qt({})}}return t})();function ZA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function t1(t){const n=xr(t);if(!n)return null;const s=new Nf(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(rn,Ze,j)=>{j.d(Ze,{DS:()=>Vt,X8:()=>Wt,$z:()=>en,UB:()=>lr,yy:()=>Mt,ZP:()=>De,AU:()=>mn,CP:()=>Dt,gF:()=>xt}),j(2438);var de=j(177),i=j(7705),Ie=j(5407),ge=j(9253),Se=j(1413),xe=j(7673),Le=j(1985),Ne=j(8455),te=j(7786),ae=j(941),pe=j(5558),ct=j(6354),je=j(6129);class It extends Se.B{constructor(Fe=1/0,tt=1/0,Jt=je.U){super(),this._bufferSize=Fe,this._windowTime=tt,this._timestampProvider=Jt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=tt===1/0,this._bufferSize=Math.max(1,Fe),this._windowTime=Math.max(1,tt)}next(Fe){const{isStopped:tt,_buffer:Jt,_infiniteTimeWindow:Be,_timestampProvider:Ae,_windowTime:Ee}=this;tt||(Jt.push(Fe),!Be&&Jt.push(Ae.now()+Ee)),this._trimBuffer(),super.next(Fe)}_subscribe(Fe){this._throwIfClosed(),this._trimBuffer();const tt=this._innerSubscribe(Fe),{_infiniteTimeWindow:Jt,_buffer:Be}=this,Ae=Be.slice();for(let Ee=0;Ee<Ae.length&&!Fe.closed;Ee+=Jt?1:2)Fe.next(Ae[Ee]);return this._checkFinalizedStatuses(Fe),tt}_trimBuffer(){const{_bufferSize:Fe,_timestampProvider:tt,_buffer:Jt,_infiniteTimeWindow:Be}=this,Ae=(Be?1:2)*Fe;if(Fe<1/0&&Ae<Jt.length&&Jt.splice(0,Jt.length-Ae),!Be){const Ee=tt.now();let Ve=0;for(let rt=1;rt<Jt.length&&Jt[rt]<=Ee;rt+=2)Ve=rt;Ve&&Jt.splice(0,Ve+1)}}}var wt=j(7647);function Ft(ut,Fe,tt){let Jt,Be=!1;return ut&&"object"==typeof ut?({bufferSize:Jt=1/0,windowTime:Fe=1/0,refCount:Be=!1,scheduler:tt}=ut):Jt=ut??1/0,(0,wt.u)({connector:()=>new It(Jt,Fe,tt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Be})}var Pt=j(1594),hn=j(8071);function Ge(ut,Fe){return(0,hn.T)(Fe)?(0,pe.n)(()=>ut,Fe):(0,pe.n)(()=>ut)}var be=j(6745),et=j(5964),Ye=j(7935);const Dt=new i.nKC("angularfire2.auth.use-emulator"),Mt=new i.nKC("angularfire2.auth.settings"),De=new i.nKC("angularfire2.auth.tenant-id"),en=new i.nKC("angularfire2.auth.langugage-code"),mn=new i.nKC("angularfire2.auth.use-device-language"),lr=new i.nKC("angularfire.auth.persistence"),xt=(ut,Fe,tt,Jt,Be,Ae,Ee,Ve)=>(0,ge.BM)(`${ut.name}.auth`,"AngularFireAuth",ut.name,()=>{const rt=Fe.runOutsideAngular(()=>ut.auth());if(tt&&rt.useEmulator(...tt),Jt&&(rt.tenantId=Jt),rt.languageCode=Be,Ae&&rt.useDeviceLanguage(),Ee)for(const[Qe,Rt]of Object.entries(Ee))rt.settings[Qe]=Rt;return Ve&&rt.setPersistence(Ve),rt},[tt,Jt,Be,Ae,Ee,Ve]);let Vt=(()=>{class ut{authState;idToken;user;idTokenResult;credential;constructor(tt,Jt,Be,Ae,Ee,Ve,rt,Qe,Rt,wn,nr,tn){const Vn=new Se.B,qt=(0,xe.of)(void 0).pipe((0,ae.Q)(Ee.outsideAngular),(0,pe.n)(()=>Ae.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,2438)))),(0,ct.T)(()=>(0,ge.iB)(tt,Ae,Jt)),(0,ct.T)(Hn=>xt(Hn,Ae,Ve,Qe,Rt,wn,rt,nr)),Ft({bufferSize:1,refCount:!1}));if((0,de.Vy)(Be))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,xe.of)(null);else{qt.pipe((0,Pt.$)()).subscribe();const Hn=qt.pipe((0,pe.n)(kt=>kt.getRedirectResult().then(_r=>_r,()=>null)),Ie.U0,Ft({bufferSize:1,refCount:!1})),Nn=qt.pipe((0,pe.n)(kt=>new Le.c(_r=>({unsubscribe:Ae.runOutsideAngular(()=>kt.onAuthStateChanged(cn=>_r.next(cn),cn=>_r.error(cn),()=>_r.complete()))})))),$t=qt.pipe((0,pe.n)(kt=>new Le.c(_r=>({unsubscribe:Ae.runOutsideAngular(()=>kt.onIdTokenChanged(cn=>_r.next(cn),cn=>_r.error(cn),()=>_r.complete()))}))));this.authState=Hn.pipe(Ge(Nn),(0,be._)(Ee.outsideAngular),(0,ae.Q)(Ee.insideAngular)),this.user=Hn.pipe(Ge($t),(0,be._)(Ee.outsideAngular),(0,ae.Q)(Ee.insideAngular)),this.idToken=this.user.pipe((0,pe.n)(kt=>kt?(0,Ne.H)(kt.getIdToken()):(0,xe.of)(null))),this.idTokenResult=this.user.pipe((0,pe.n)(kt=>kt?(0,Ne.H)(kt.getIdTokenResult()):(0,xe.of)(null))),this.credential=(0,te.h)(Hn,Vn,this.authState.pipe((0,et.p)(kt=>!kt))).pipe((0,ct.T)(kt=>kt?.user?kt:null),(0,be._)(Ee.outsideAngular),(0,ae.Q)(Ee.insideAngular))}return(0,ge.Gt)(this,qt,Ae,{spy:{apply:(Hn,Nn,$t)=>{(Hn.startsWith("signIn")||Hn.startsWith("createUser"))&&$t.then(kt=>Vn.next(kt))}}})}static \u0275fac=function(Jt){return new(Jt||ut)(i.KVO(ge.rx),i.KVO(ge.uP,8),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(Ie.u0),i.KVO(Dt,8),i.KVO(Mt,8),i.KVO(De,8),i.KVO(en,8),i.KVO(mn,8),i.KVO(lr,8),i.KVO(Ie.Jv,8))};static \u0275prov=i.jDH({token:ut,factory:ut.\u0275fac,providedIn:"any"})}return ut})(),Wt=(()=>{class ut{constructor(){Ye.A.registerVersion("angularfire",Ie.xv.full,"auth-compat")}static \u0275fac=function(Jt){return new(Jt||ut)};static \u0275mod=i.$C({type:ut});static \u0275inj=i.G2t({providers:[Vt]})}return ut})()},6340:(rn,Ze,j)=>{j.d(Ze,{Qe:()=>Pi,cM:()=>nt});var a=j(177),de=j(7705),i=j(5407),Ie=j(9253),ge=j(1977),Se=j(3236),xe=j(1985),Le=j(8455),Ne=j(7673),te=j(9172),ae=j(9974),pe=j(4360);function ct(){return(0,ae.N)((gt,ue)=>{let Re,vt=!1;gt.subscribe((0,pe._)(ue,Gt=>{const $n=Re;Re=Gt,vt&&ue.next([$n,Gt]),vt=!0}))})}var je=j(6354),It=j(2816),wt=j(3294),Ft=j(5964),hn=(j(2438),j(5726)),Ge=j(9583),be=j(1076),et=j(1362);function Dt(gt,ue){if(void 0===ue)return{merge:!1};if(void 0!==ue.mergeFields&&void 0!==ue.merge)throw new Ge.W6("invalid-argument",`Invalid options passed to function ${gt}(): You cannot specify both "merge" and "mergeFields".`);return ue}function Mt(){if(typeof Uint8Array>"u")throw new Ge.W6("unimplemented","Uint8Arrays are not available in this environment.")}function De(){if(!(0,Ge.qG)())throw new Ge.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class en{constructor(ue){this._delegate=ue}static fromBase64String(ue){return De(),new en(Ge.Ix.fromBase64String(ue))}static fromUint8Array(ue){return Mt(),new en(Ge.Ix.fromUint8Array(ue))}toBase64(){return De(),this._delegate.toBase64()}toUint8Array(){return Mt(),this._delegate.toUint8Array()}isEqual(ue){return this._delegate.isEqual(ue._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mn(gt){return function lr(gt,ue){if("object"!=typeof gt||null===gt)return!1;const Re=gt;for(const vt of ue)if(vt in Re&&"function"==typeof Re[vt])return!0;return!1}(gt,["next","error","complete"])}class xt{enableIndexedDbPersistence(ue,Re){return(0,Ge.ol)(ue._delegate,{forceOwnership:Re})}enableMultiTabIndexedDbPersistence(ue){return(0,Ge.Q5)(ue._delegate)}clearIndexedDbPersistence(ue){return(0,Ge.me)(ue._delegate)}}class Vt{constructor(ue,Re,vt){this._delegate=Re,this._persistenceProvider=vt,this.INTERNAL={delete:()=>this.terminate()},ue instanceof Ge.cm||(this._appCompat=ue)}get _databaseId(){return this._delegate._databaseId}settings(ue){const Re=this._delegate._getSettings();!ue.merge&&Re.host!==ue.host&&(0,Ge.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ue.merge&&delete(ue=Object.assign(Object.assign({},Re),ue)).merge,this._delegate._setSettings(ue)}useEmulator(ue,Re,vt={}){(0,Ge.vN)(this._delegate,ue,Re,vt)}enableNetwork(){return(0,Ge.Os)(this._delegate)}disableNetwork(){return(0,Ge.LA)(this._delegate)}enablePersistence(ue){let Re=!1,vt=!1;return ue&&(Re=!!ue.synchronizeTabs,vt=!!ue.experimentalForceOwningTab,(0,Ge.c8)("synchronizeTabs",Re,"experimentalForceOwningTab",vt)),Re?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,vt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ge.iB)(this._delegate)}onSnapshotsInSync(ue){return(0,Ge.FC)(this._delegate,ue)}get app(){if(!this._appCompat)throw new Ge.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ue){try{return new tn(this,(0,Ge.rJ)(this._delegate,ue))}catch(Re){throw Ae(Re,"collection()","Firestore.collection()")}}doc(ue){try{return new Be(this,(0,Ge.H9)(this._delegate,ue))}catch(Re){throw Ae(Re,"doc()","Firestore.doc()")}}collectionGroup(ue){try{return new Rt(this,(0,Ge.Cs)(this._delegate,ue))}catch(Re){throw Ae(Re,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ue){return(0,Ge.c4)(this._delegate,Re=>ue(new Fe(this,Re)))}batch(){return(0,Ge.Ws)(this._delegate),new tt(new Ge.GA(this._delegate,ue=>(0,Ge.z6)(this._delegate,ue)))}loadBundle(ue){return(0,Ge.po)(this._delegate,ue)}namedQuery(ue){return(0,Ge.St)(this._delegate,ue).then(Re=>Re?new Rt(this,Re):null)}}class Wt extends Ge.fS{constructor(ue){super(),this.firestore=ue}convertBytes(ue){return new en(new Ge.Ix(ue))}convertReference(ue){const Re=this.convertDocumentKey(ue,this.firestore._databaseId);return Be.forKey(Re,this.firestore,null)}}class Fe{constructor(ue,Re){this._firestore=ue,this._delegate=Re,this._userDataWriter=new Wt(ue)}get(ue){const Re=Vn(ue);return this._delegate.get(Re).then(vt=>new rt(this._firestore,new Ge.Wq(this._firestore._delegate,this._userDataWriter,vt._key,vt._document,vt.metadata,Re.converter)))}set(ue,Re,vt){const Gt=Vn(ue);return vt?(Dt("Transaction.set",vt),this._delegate.set(Gt,Re,vt)):this._delegate.set(Gt,Re),this}update(ue,Re,vt,...Gt){const $n=Vn(ue);return 2===arguments.length?this._delegate.update($n,Re):this._delegate.update($n,Re,vt,...Gt),this}delete(ue){const Re=Vn(ue);return this._delegate.delete(Re),this}}class tt{constructor(ue){this._delegate=ue}set(ue,Re,vt){const Gt=Vn(ue);return vt?(Dt("WriteBatch.set",vt),this._delegate.set(Gt,Re,vt)):this._delegate.set(Gt,Re),this}update(ue,Re,vt,...Gt){const $n=Vn(ue);return 2===arguments.length?this._delegate.update($n,Re):this._delegate.update($n,Re,vt,...Gt),this}delete(ue){const Re=Vn(ue);return this._delegate.delete(Re),this}commit(){return this._delegate.commit()}}class Jt{constructor(ue,Re,vt){this._firestore=ue,this._userDataWriter=Re,this._delegate=vt}fromFirestore(ue,Re){const vt=new Ge.YQ(this._firestore._delegate,this._userDataWriter,ue._key,ue._document,ue.metadata,null);return this._delegate.fromFirestore(new Qe(this._firestore,vt),Re??{})}toFirestore(ue,Re){return Re?this._delegate.toFirestore(ue,Re):this._delegate.toFirestore(ue)}static getInstance(ue,Re){const vt=Jt.INSTANCES;let Gt=vt.get(ue);Gt||(Gt=new WeakMap,vt.set(ue,Gt));let $n=Gt.get(Re);return $n||($n=new Jt(ue,new Wt(ue),Re),Gt.set(Re,$n)),$n}}Jt.INSTANCES=new WeakMap;class Be{constructor(ue,Re){this.firestore=ue,this._delegate=Re,this._userDataWriter=new Wt(ue)}static forPath(ue,Re,vt){if(ue.length%2!=0)throw new Ge.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ue.canonicalString()} has ${ue.length}`);return new Be(Re,new Ge.T1(Re._delegate,vt,new Ge.K$(ue)))}static forKey(ue,Re,vt){return new Be(Re,new Ge.T1(Re._delegate,vt,ue))}get id(){return this._delegate.id}get parent(){return new tn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ue){try{return new tn(this.firestore,(0,Ge.rJ)(this._delegate,ue))}catch(Re){throw Ae(Re,"collection()","DocumentReference.collection()")}}isEqual(ue){return(ue=(0,be.Ku)(ue))instanceof Ge.T1&&(0,Ge.yx)(this._delegate,ue)}set(ue,Re){Re=Dt("DocumentReference.set",Re);try{return Re?(0,Ge.BN)(this._delegate,ue,Re):(0,Ge.BN)(this._delegate,ue)}catch(vt){throw Ae(vt,"setDoc()","DocumentReference.set()")}}update(ue,Re,...vt){try{return 1===arguments.length?(0,Ge.mZ)(this._delegate,ue):(0,Ge.mZ)(this._delegate,ue,Re,...vt)}catch(Gt){throw Ae(Gt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ge.kd)(this._delegate)}onSnapshot(...ue){const Re=Ee(ue),vt=Ve(ue,Gt=>new rt(this.firestore,new Ge.Wq(this.firestore._delegate,this._userDataWriter,Gt._key,Gt._document,Gt.metadata,this._delegate.converter)));return(0,Ge.aQ)(this._delegate,Re,vt)}get(ue){let Re;return Re="cache"===ue?.source?(0,Ge.nY)(this._delegate):"server"===ue?.source?(0,Ge._e)(this._delegate):(0,Ge.x7)(this._delegate),Re.then(vt=>new rt(this.firestore,new Ge.Wq(this.firestore._delegate,this._userDataWriter,vt._key,vt._document,vt.metadata,this._delegate.converter)))}withConverter(ue){return new Be(this.firestore,this._delegate.withConverter(ue?Jt.getInstance(this.firestore,ue):null))}}function Ae(gt,ue,Re){return gt.message=gt.message.replace(ue,Re),gt}function Ee(gt){for(const ue of gt)if("object"==typeof ue&&!mn(ue))return ue;return{}}function Ve(gt,ue){var Re,vt;let Gt;return Gt=mn(gt[0])?gt[0]:mn(gt[1])?gt[1]:"function"==typeof gt[0]?{next:gt[0],error:gt[1],complete:gt[2]}:{next:gt[1],error:gt[2],complete:gt[3]},{next:$n=>{Gt.next&&Gt.next(ue($n))},error:null===(Re=Gt.error)||void 0===Re?void 0:Re.bind(Gt),complete:null===(vt=Gt.complete)||void 0===vt?void 0:vt.bind(Gt)}}class rt{constructor(ue,Re){this._firestore=ue,this._delegate=Re}get ref(){return new Be(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ue){return this._delegate.data(ue)}get(ue,Re){return this._delegate.get(ue,Re)}isEqual(ue){return(0,Ge.lN)(this._delegate,ue._delegate)}}class Qe extends rt{data(ue){const Re=this._delegate.data(ue);return this._delegate._converter||(0,Ge.bI)(void 0!==Re,"Document in a QueryDocumentSnapshot should exist"),Re}}class Rt{constructor(ue,Re){this.firestore=ue,this._delegate=Re,this._userDataWriter=new Wt(ue)}where(ue,Re,vt){try{return new Rt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge._M)(ue,Re,vt)))}catch(Gt){throw Ae(Gt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ue,Re){try{return new Rt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.My)(ue,Re)))}catch(vt){throw Ae(vt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ue){try{return new Rt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.AB)(ue)))}catch(Re){throw Ae(Re,"limit()","Query.limit()")}}limitToLast(ue){try{return new Rt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.$1)(ue)))}catch(Re){throw Ae(Re,"limitToLast()","Query.limitToLast()")}}startAt(...ue){try{return new Rt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.EO)(...ue)))}catch(Re){throw Ae(Re,"startAt()","Query.startAt()")}}startAfter(...ue){try{return new Rt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.HM)(...ue)))}catch(Re){throw Ae(Re,"startAfter()","Query.startAfter()")}}endBefore(...ue){try{return new Rt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.rf)(...ue)))}catch(Re){throw Ae(Re,"endBefore()","Query.endBefore()")}}endAt(...ue){try{return new Rt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.FD)(...ue)))}catch(Re){throw Ae(Re,"endAt()","Query.endAt()")}}isEqual(ue){return(0,Ge.B)(this._delegate,ue._delegate)}get(ue){let Re;return Re="cache"===ue?.source?(0,Ge.kU)(this._delegate):"server"===ue?.source?(0,Ge.Rr)(this._delegate):(0,Ge.GG)(this._delegate),Re.then(vt=>new nr(this.firestore,new Ge.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,vt._snapshot)))}onSnapshot(...ue){const Re=Ee(ue),vt=Ve(ue,Gt=>new nr(this.firestore,new Ge.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Gt._snapshot)));return(0,Ge.aQ)(this._delegate,Re,vt)}withConverter(ue){return new Rt(this.firestore,this._delegate.withConverter(ue?Jt.getInstance(this.firestore,ue):null))}}class wn{constructor(ue,Re){this._firestore=ue,this._delegate=Re}get type(){return this._delegate.type}get doc(){return new Qe(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nr{constructor(ue,Re){this._firestore=ue,this._delegate=Re}get query(){return new Rt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ue=>new Qe(this._firestore,ue))}docChanges(ue){return this._delegate.docChanges(ue).map(Re=>new wn(this._firestore,Re))}forEach(ue,Re){this._delegate.forEach(vt=>{ue.call(Re,new Qe(this._firestore,vt))})}isEqual(ue){return(0,Ge.lN)(this._delegate,ue._delegate)}}class tn extends Rt{constructor(ue,Re){super(ue,Re),this.firestore=ue,this._delegate=Re}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ue=this._delegate.parent;return ue?new Be(this.firestore,ue):null}doc(ue){try{return new Be(this.firestore,void 0===ue?(0,Ge.H9)(this._delegate):(0,Ge.H9)(this._delegate,ue))}catch(Re){throw Ae(Re,"doc()","CollectionReference.doc()")}}add(ue){return(0,Ge.gS)(this._delegate,ue).then(Re=>new Be(this.firestore,Re))}isEqual(ue){return(0,Ge.yx)(this._delegate,ue._delegate)}withConverter(ue){return new tn(this.firestore,this._delegate.withConverter(ue?Jt.getInstance(this.firestore,ue):null))}}function Vn(gt){return(0,Ge.lo)(gt,Ge.T1)}class qt{constructor(...ue){this._delegate=new Ge.uY(...ue)}static documentId(){return new qt(Ge.FA.keyField().canonicalString())}isEqual(ue){return(ue=(0,be.Ku)(ue))instanceof Ge.uY&&this._delegate._internalPath.isEqual(ue._internalPath)}}class Hn{constructor(ue){this._delegate=ue}static serverTimestamp(){const ue=(0,Ge.O5)();return ue._methodName="FieldValue.serverTimestamp",new Hn(ue)}static delete(){const ue=(0,Ge.CL)();return ue._methodName="FieldValue.delete",new Hn(ue)}static arrayUnion(...ue){const Re=(0,Ge.hq)(...ue);return Re._methodName="FieldValue.arrayUnion",new Hn(Re)}static arrayRemove(...ue){const Re=(0,Ge.C3)(...ue);return Re._methodName="FieldValue.arrayRemove",new Hn(Re)}static increment(ue){const Re=(0,Ge.GV)(ue);return Re._methodName="FieldValue.increment",new Hn(Re)}isEqual(ue){return this._delegate.isEqual(ue._delegate)}}const Nn={Firestore:Vt,GeoPoint:Ge.Ci,Timestamp:Ge.Dc,Blob:en,Transaction:Fe,WriteBatch:tt,DocumentReference:Be,DocumentSnapshot:rt,Query:Rt,QueryDocumentSnapshot:Qe,QuerySnapshot:nr,CollectionReference:tn,FieldPath:qt,FieldValue:Hn,setLogLevel:function ut(gt){(0,Ge.He)(gt)},CACHE_SIZE_UNLIMITED:Ge.H6};!function kt(gt){(function $t(gt,ue){gt.INTERNAL.registerComponent(new et.uA("firestore-compat",Re=>{const vt=Re.getProvider("app-compat").getImmediate(),Gt=Re.getProvider("firestore").getImmediate();return ue(vt,Gt)},"PUBLIC").setServiceProps(Object.assign({},Nn)))})(gt,(ue,Re)=>new Vt(ue,Re,new xt)),gt.registerVersion("@firebase/firestore-compat","0.3.38")}(hn.A);var _r=j(7935);function Mr(gt,ue){return function cn(gt,ue=Se.E){return new xe.c(Re=>{let vt;return null!=ue?ue.schedule(()=>{vt=gt.onSnapshot({includeMetadataChanges:!0},Re)}):vt=gt.onSnapshot({includeMetadataChanges:!0},Re),()=>{vt?.()}})}(gt,ue)}function Ut(gt,ue){return Mr(gt,ue).pipe((0,je.T)(Re=>({payload:Re,type:"query"})))}class Tn{ref;afs;constructor(ue,Re){this.ref=ue,this.afs=Re}set(ue,Re){return this.ref.set(ue,Re)}update(ue){return this.ref.update(ue)}delete(){return this.ref.delete()}collection(ue,Re){const vt=this.ref.collection(ue),{ref:Gt,query:$n}=zn(vt,Re);return new hi(Gt,$n,this.afs)}snapshotChanges(){return function Zn(gt,ue){return Mr(gt,ue).pipe((0,te.Z)(void 0),ct(),(0,je.T)(Re=>{const[vt,Gt]=Re;return Gt.exists?vt?.exists?{payload:Gt,type:"modified"}:{payload:Gt,type:"added"}:{payload:Gt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ue={}){return this.snapshotChanges().pipe((0,je.T)(({payload:Re})=>ue.idField?{...Re.data(),[ue.idField]:Re.id}:Re.data()))}get(ue){return(0,Le.H)(this.ref.get(ue)).pipe(i.U0)}}function Gn(gt,ue){return Ut(gt,ue).pipe((0,te.Z)(void 0),ct(),(0,je.T)(Re=>{const[vt,Gt]=Re,$n=Gt.payload.docChanges(),Fr=$n.map(br=>({type:br.type,payload:br}));return vt&&JSON.stringify(vt.payload.metadata)!==JSON.stringify(Gt.payload.metadata)&&Gt.payload.docs.forEach((br,wi)=>{const Et=$n.find(M=>M.doc.ref.isEqual(br.ref)),$=vt?.payload.docs.find(M=>M.ref.isEqual(br.ref));Et&&JSON.stringify(Et.doc.metadata)===JSON.stringify(br.metadata)||!Et&&$&&JSON.stringify($.metadata)===JSON.stringify(br.metadata)||Fr.push({type:"modified",payload:{oldIndex:wi,newIndex:wi,type:"modified",doc:br}})}),Fr}))}function an(gt,ue,Re){return Gn(gt,Re).pipe((0,It.S)((vt,Gt)=>function Ur(gt,ue,Re){return ue.forEach(vt=>{Re.indexOf(vt.type)>-1&&(gt=function Zr(gt,ue){switch(ue.type){case"added":if(!gt[ue.newIndex]||!gt[ue.newIndex].doc.ref.isEqual(ue.doc.ref))return Sr(gt,ue.newIndex,0,ue);break;case"modified":if(null==gt[ue.oldIndex]||gt[ue.oldIndex].doc.ref.isEqual(ue.doc.ref)){if(ue.oldIndex!==ue.newIndex){const Re=gt.slice();return Re.splice(ue.oldIndex,1),Re.splice(ue.newIndex,0,ue),Re}return Sr(gt,ue.newIndex,1,ue)}break;case"removed":if(gt[ue.oldIndex]&&gt[ue.oldIndex].doc.ref.isEqual(ue.doc.ref))return Sr(gt,ue.oldIndex,1)}return gt}(gt,vt))}),gt}(vt,Gt.map($n=>$n.payload),ue),[]),(0,wt.F)(),(0,je.T)(vt=>vt.map(Gt=>({type:Gt.type,payload:Gt}))))}function Sr(gt,ue,Re,...vt){const Gt=gt.slice();return Gt.splice(ue,Re,...vt),Gt}function qn(gt){return(!gt||0===gt.length)&&(gt=["added","removed","modified"]),gt}class hi{ref;query;afs;constructor(ue,Re,vt){this.ref=ue,this.query=Re,this.afs=vt}stateChanges(ue){let Re=Gn(this.query,this.afs.schedulers.outsideAngular);return ue&&ue.length>0&&(Re=Re.pipe((0,je.T)(vt=>vt.filter(Gt=>ue.indexOf(Gt.type)>-1)))),Re.pipe((0,te.Z)(void 0),ct(),(0,Ft.p)(([vt,Gt])=>Gt.length>0||!vt),(0,je.T)(([,vt])=>vt),i.U0)}auditTrail(ue){return this.stateChanges(ue).pipe((0,It.S)((Re,vt)=>[...Re,...vt],[]))}snapshotChanges(ue){const Re=qn(ue);return an(this.query,Re,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ue={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.T)(Re=>Re.payload.docs.map(vt=>ue.idField?{...vt.data(),[ue.idField]:vt.id}:vt.data())),i.U0)}get(ue){return(0,Le.H)(this.query.get(ue)).pipe(i.U0)}add(ue){return this.ref.add(ue)}doc(ue){return new Tn(this.ref.doc(ue),this.afs)}}class ys{query;afs;constructor(ue,Re){this.query=ue,this.afs=Re}stateChanges(ue){return ue&&0!==ue.length?Gn(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.T)(Re=>Re.filter(vt=>ue.indexOf(vt.type)>-1)),(0,Ft.p)(Re=>Re.length>0),i.U0):Gn(this.query,this.afs.schedulers.outsideAngular).pipe(i.U0)}auditTrail(ue){return this.stateChanges(ue).pipe((0,It.S)((Re,vt)=>[...Re,...vt],[]))}snapshotChanges(ue){const Re=qn(ue);return an(this.query,Re,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ue={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.T)(vt=>vt.payload.docs.map(Gt=>ue.idField?{[ue.idField]:Gt.id,...Gt.data()}:Gt.data())),i.U0)}get(ue){return(0,Le.H)(this.query.get(ue)).pipe(i.U0)}}const fn=new de.nKC("angularfire2.enableFirestorePersistence"),ei=new de.nKC("angularfire2.firestore.persistenceSettings"),tr=new de.nKC("angularfire2.firestore.settings"),Er=new de.nKC("angularfire2.firestore.use-emulator");function zn(gt,ue=(Re=>Re)){return{query:ue(gt),ref:gt}}let Pi=(()=>{class gt{schedulers;firestore;persistenceEnabled$;constructor(Re,vt,Gt,$n,Fr,br,wi,Et,$,M,k,re,_e,st,At,sn,ln){this.schedulers=wi;const An=(0,Ie.iB)(Re,br,vt),pr=$;M&&(0,ge.gF)(An,br,k,_e,st,At,re,sn),[this.firestore,this.persistenceEnabled$]=(0,Ie.BM)(`${An.name}.firestore`,"AngularFirestore",An.name,()=>{const on=br.runOutsideAngular(()=>An.firestore());if($n&&on.settings($n),pr&&on.useEmulator(...pr),Gt&&!(0,a.Vy)(Fr)){const Lr=()=>{try{return(0,Le.H)(on.enablePersistence(Et||void 0).then(()=>!0,()=>!1))}catch(ur){return typeof console<"u"&&console.warn(ur),(0,Ne.of)(!1)}};return[on,br.runOutsideAngular(Lr)]}return[on,(0,Ne.of)(!1)]},[$n,pr,Gt])}collection(Re,vt){let Gt;Gt="string"==typeof Re?this.firestore.collection(Re):Re;const{ref:$n,query:Fr}=zn(Gt,vt),br=this.schedulers.ngZone.run(()=>$n);return new hi(br,Fr,this)}collectionGroup(Re,vt){const Gt=vt||(Fr=>Fr),$n=this.firestore.collectionGroup(Re);return new ys(Gt($n),this)}doc(Re){let vt;vt="string"==typeof Re?this.firestore.doc(Re):Re;const Gt=this.schedulers.ngZone.run(()=>vt);return new Tn(Gt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(vt){return new(vt||gt)(de.KVO(Ie.rx),de.KVO(Ie.uP,8),de.KVO(fn,8),de.KVO(tr,8),de.KVO(de.Agw),de.KVO(de.SKi),de.KVO(i.u0),de.KVO(ei,8),de.KVO(Er,8),de.KVO(ge.DS,8),de.KVO(ge.CP,8),de.KVO(ge.yy,8),de.KVO(ge.ZP,8),de.KVO(ge.$z,8),de.KVO(ge.AU,8),de.KVO(ge.UB,8),de.KVO(i.Jv,8))};static \u0275prov=de.jDH({token:gt,factory:gt.\u0275fac,providedIn:"any"})}return gt})(),nt=(()=>{class gt{constructor(){_r.A.registerVersion("angularfire",i.xv.full,"fst-compat")}static enablePersistence(Re){return{ngModule:gt,providers:[{provide:fn,useValue:!0},{provide:ei,useValue:Re}]}}static \u0275fac=function(vt){return new(vt||gt)};static \u0275mod=de.$C({type:gt});static \u0275inj=de.G2t({providers:[Pi]})}return gt})()},8721:(rn,Ze,j)=>{j.d(Ze,{ap:()=>Fe,y5:()=>Be});var a=j(5407),de=j(1985),i=j(7673),Ie=j(8455),ge=j(3236),Se=j(9974),xe=j(4360),Ne=j(6354),te=j(5558),ae=j(7705),pe=j(9253),ct=j(5726),je=j(4535),It=j(1362);class wt{constructor(Ee,Ve,rt){this._delegate=Ee,this.task=Ve,this.ref=rt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ft{constructor(Ee,Ve){this._delegate=Ee,this._ref=Ve,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new wt(this._delegate.snapshot,this,this._ref)}then(Ee,Ve){return this._delegate.then(rt=>{if(Ee)return Ee(new wt(rt,this,this._ref))},Ve)}on(Ee,Ve,rt,Qe){let Rt;return Ve&&(Rt="function"==typeof Ve?wn=>Ve(new wt(wn,this,this._ref)):{next:Ve.next?wn=>Ve.next(new wt(wn,this,this._ref)):void 0,complete:Ve.complete||void 0,error:Ve.error||void 0}),this._delegate.on(Ee,Rt,rt||void 0,Qe||void 0)}}class Pt{constructor(Ee,Ve){this._delegate=Ee,this._service=Ve}get prefixes(){return this._delegate.prefixes.map(Ee=>new hn(Ee,this._service))}get items(){return this._delegate.items.map(Ee=>new hn(Ee,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class hn{constructor(Ee,Ve){this._delegate=Ee,this.storage=Ve}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ee){const Ve=(0,je.Mp)(this._delegate,Ee);return new hn(Ve,this.storage)}get root(){return new hn(this._delegate.root,this.storage)}get parent(){const Ee=this._delegate.parent;return null==Ee?null:new hn(Ee,this.storage)}put(Ee,Ve){return this._throwIfRoot("put"),new Ft((0,je.bp)(this._delegate,Ee,Ve),this)}putString(Ee,Ve=je.nw.RAW,rt){this._throwIfRoot("putString");const Qe=(0,je.ZH)(Ve,Ee),Rt=Object.assign({},rt);return null==Rt.contentType&&null!=Qe.contentType&&(Rt.contentType=Qe.contentType),new Ft(new je.UC(this._delegate,new je.Mx(Qe.data,!0),Rt),this)}listAll(){return(0,je._w)(this._delegate).then(Ee=>new Pt(Ee,this.storage))}list(Ee){return(0,je.p_)(this._delegate,Ee||void 0).then(Ve=>new Pt(Ve,this.storage))}getMetadata(){return(0,je.yb)(this._delegate)}updateMetadata(Ee){return(0,je.D5)(this._delegate,Ee)}getDownloadURL(){return(0,je.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,je.XR)(this._delegate)}_throwIfRoot(Ee){if(""===this._delegate._location.path)throw(0,je.UY)(Ee)}}class Ge{constructor(Ee,Ve){this.app=Ee,this._delegate=Ve}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ee){if(be(Ee))throw(0,je.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new hn((0,je.KR)(this._delegate,Ee),this)}refFromURL(Ee){if(!be(Ee))throw(0,je.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{je.TZ.makeFromUrl(Ee,this._delegate.host)}catch{throw(0,je.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new hn((0,je.KR)(this._delegate,Ee),this)}setMaxUploadRetryTime(Ee){this._delegate.maxUploadRetryTime=Ee}setMaxOperationRetryTime(Ee){this._delegate.maxOperationRetryTime=Ee}useEmulator(Ee,Ve,rt={}){(0,je.nb)(this._delegate,Ee,Ve,rt)}}function be(Ae){return/^[A-Za-z]+:\/\//.test(Ae)}function Dt(Ae,{instanceIdentifier:Ee}){const Ve=Ae.getProvider("app-compat").getImmediate(),rt=Ae.getProvider("storage").getImmediate({identifier:Ee});return new Ge(Ve,rt)}!function Mt(Ae){const Ee={TaskState:je.Ad,TaskEvent:je.xc,StringFormat:je.nw,Storage:Ge,Reference:hn};Ae.INTERNAL.registerComponent(new It.uA("storage-compat",Dt,"PUBLIC").setServiceProps(Ee).setMultipleInstances(!0)),Ae.registerVersion("@firebase/storage-compat","0.3.12")}(ct.A);var De=j(7935);function mn(Ae){const Ee=function en(Ae){return new de.c(Ee=>{const Ve=wn=>Ee.next(wn);Ve(Ae.snapshot);const Rt=Ae.on("state_changed",Ve);return Ae.then(wn=>{Ve(wn),Ee.complete()},wn=>{Ve(Ae.snapshot),(wn=>{Ee.error(wn)})(wn)}),function(){Rt()}}).pipe(function Le(Ae,Ee=ge.E){return(0,Se.N)((Ve,rt)=>{let Qe=null,Rt=null,wn=null;const nr=()=>{if(Qe){Qe.unsubscribe(),Qe=null;const Vn=Rt;Rt=null,rt.next(Vn)}};function tn(){const Vn=wn+Ae,qt=Ee.now();if(qt<Vn)return Qe=this.schedule(void 0,Vn-qt),void rt.add(Qe);nr()}Ve.subscribe((0,xe._)(rt,Vn=>{Rt=Vn,wn=Ee.now(),Qe||(Qe=Ee.schedule(tn,Ae),rt.add(Qe))},()=>{nr(),rt.complete()},void 0,()=>{Rt=Qe=null}))})}(0))}(Ae);return{task:Ae,then:Ae.then.bind(Ae),catch:Ae.catch.bind(Ae),pause:Ae.pause.bind(Ae),cancel:Ae.cancel.bind(Ae),resume:Ae.resume.bind(Ae),snapshotChanges:()=>Ee,percentageChanges:()=>Ee.pipe((0,Ne.T)(Ve=>Ve.bytesTransferred/Ve.totalBytes*100))}}function lr(Ae){return{getDownloadURL:()=>(0,i.of)(void 0).pipe(a.Oe,(0,te.n)(()=>Ae.getDownloadURL()),a.U0),getMetadata:()=>(0,i.of)(void 0).pipe(a.Oe,(0,te.n)(()=>Ae.getMetadata()),a.U0),delete:()=>(0,Ie.H)(Ae.delete()),child:Ee=>lr(Ae.child(Ee)),updateMetadata:Ee=>(0,Ie.H)(Ae.updateMetadata(Ee)),put:(Ee,Ve)=>mn(Ae.put(Ee,Ve)),putString:(Ee,Ve,rt)=>mn(Ae.putString(Ee,Ve,rt)),list:Ee=>(0,Ie.H)(Ae.list(Ee)),listAll:()=>(0,Ie.H)(Ae.listAll())}}const xt=new ae.nKC("angularfire2.storageBucket"),Vt=new ae.nKC("angularfire2.storage.maxUploadRetryTime"),Wt=new ae.nKC("angularfire2.storage.maxOperationRetryTime"),ut=new ae.nKC("angularfire2.storage.use-emulator");let Fe=(()=>{class Ae{storage;constructor(Ve,rt,Qe,Rt,wn,nr,tn,Vn,qt,Hn){const Nn=(0,pe.iB)(Ve,wn,rt);this.storage=(0,pe.BM)(`${Nn.name}.storage.${Qe}`,"AngularFireStorage",Nn.name,()=>{const $t=wn.runOutsideAngular(()=>Nn.storage(Qe||void 0)),kt=qt;return kt&&$t.useEmulator(...kt),tn&&$t.setMaxUploadRetryTime(tn),Vn&&$t.setMaxOperationRetryTime(Vn),$t},[tn,Vn])}ref(Ve){return lr(this.storage.ref(Ve))}refFromURL(Ve){return lr(this.storage.refFromURL(Ve))}upload(Ve,rt,Qe){return lr(this.storage.ref(Ve)).put(rt,Qe)}static \u0275fac=function(rt){return new(rt||Ae)(ae.KVO(pe.rx),ae.KVO(pe.uP,8),ae.KVO(xt,8),ae.KVO(ae.Agw),ae.KVO(ae.SKi),ae.KVO(a.u0),ae.KVO(Vt,8),ae.KVO(Wt,8),ae.KVO(ut,8),ae.KVO(a.Jv,8))};static \u0275prov=ae.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"any"})}return Ae})(),Jt=(()=>{class Ae{static \u0275fac=function(rt){return new(rt||Ae)};static \u0275mod=ae.$C({type:Ae});static \u0275inj=ae.G2t({})}return Ae})(),Be=(()=>{class Ae{constructor(){De.A.registerVersion("angularfire",a.xv.full,"gcs-compat")}static \u0275fac=function(rt){return new(rt||Ae)};static \u0275mod=ae.$C({type:Ae});static \u0275inj=ae.G2t({providers:[Fe],imports:[Jt]})}return Ae})()},9253:(rn,Ze,j)=>{j.d(Ze,{BM:()=>je,Gt:()=>ge,bf:()=>ct,e7:()=>Se,iB:()=>te,rx:()=>Le,uP:()=>Ne});var a=j(7705),de=j(5407),i=j(7935);const Ie=["ngOnDestroy"],ge=(Pt,hn,Ge,be={})=>new Proxy(Pt,{get:(et,Ye)=>Ge.runOutsideAngular(()=>{if(Pt[Ye])return be?.spy?.get&&be.spy.get(Ye,Pt[Ye]),Pt[Ye];if(Ie.indexOf(Ye)>-1)return()=>{};const it=hn.toPromise().then(Dt=>{const Mt=Dt?.[Ye];return"function"==typeof Mt?Mt.bind(Dt):Mt?.then?Mt.then(De=>Ge.run(()=>De)):Ge.run(()=>Mt)});return new Proxy(()=>{},{get:(Dt,Mt)=>it[Mt],apply:(Dt,Mt,De)=>it.then(en=>{const mn=en?.(...De);return be?.spy?.apply&&be.spy.apply(Ye,De,mn),mn})})})}),Se=(Pt,hn)=>{hn.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(be=>{Object.defineProperty(Pt.prototype,be,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,be))})})};class xe{constructor(hn){return hn}}const Le=new a.nKC("angularfire2.app.options"),Ne=new a.nKC("angularfire2.app.name");function te(Pt,hn,Ge){const et="object"==typeof Ge&&Ge||{};et.name=et.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const it=i.A.apps.filter(Dt=>Dt&&Dt.name===et.name)[0]||hn.runOutsideAngular(()=>i.A.initializeApp(Pt,et));try{if(JSON.stringify(Pt)!==JSON.stringify(it.options)){const Dt=!!module.hot;ae("error",`${it.name} Firebase App already initialized with different options${Dt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new xe(it)}const ae=(Pt,...hn)=>{(0,a.naY)()&&typeof console<"u"&&console[Pt](...hn)},pe={provide:xe,useFactory:te,deps:[Le,a.SKi,[new a.Xx1,Ne]]};let ct=(()=>{class Pt{static initializeApp(Ge,be){return{ngModule:Pt,providers:[{provide:Le,useValue:Ge},{provide:Ne,useValue:be}]}}constructor(Ge){i.A.registerVersion("angularfire",de.xv.full,"core"),i.A.registerVersion("angularfire",de.xv.full,"app-compat"),i.A.registerVersion("angular",a.xvI.full,Ge.toString())}static \u0275fac=function(be){return new(be||Pt)(a.KVO(a.Agw))};static \u0275mod=a.$C({type:Pt});static \u0275inj=a.G2t({providers:[pe]})}return Pt})();function je(Pt,hn,Ge,be,et){const[,Ye,it]=globalThis.\u0275AngularfireInstanceCache.find(Dt=>Dt[0]===Pt)||[];if(Ye)return function It(Pt,hn){try{return Pt.toString()===hn.toString()}catch{return Pt===hn}}(et,it)||(Ft("error",`${hn} was already initialized on the ${Ge} Firebase App with different settings.${wt?" You may need to reload as Firebase is not HMR aware.":""}`),Ft("warn",{is:et,was:it})),Ye;{const Dt=be();return globalThis.\u0275AngularfireInstanceCache.push([Pt,Dt,et]),Dt}}const wt=typeof module<"u"&&!!module.hot,Ft=(Pt,...hn)=>{(0,a.naY)()&&typeof console<"u"&&console[Pt](...hn)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(rn,Ze,j)=>{j.d(Ze,{xv:()=>je,U0:()=>mn,Oe:()=>De,u0:()=>Ye,Jv:()=>Pt,CA:()=>Ft,lR:()=>wt,S3:()=>Vt});var a=j(7705),de=j(2214),i=j(6780),ge=j(9687);const xe=new class Se extends ge.q{}(class Ie extends i.R{constructor(ut,Fe){super(ut,Fe),this.scheduler=ut,this.work=Fe}schedule(ut,Fe=0){return Fe>0?super.schedule(ut,Fe):(this.delay=Fe,this.state=ut,this.scheduler.flush(this),this)}execute(ut,Fe){return Fe>0||this.closed?super.execute(ut,Fe):this._execute(ut,Fe)}requestAsyncId(ut,Fe,tt=0){return null!=tt&&tt>0||null==tt&&this.delay>0?super.requestAsyncId(ut,Fe,tt):(ut.flush(this),0)}});var Ne=j(3236),te=j(1985),ae=j(8141),pe=j(941),ct=j(6745);const je=new a.RxE("ANGULARFIRE2_VERSION");function wt(Wt,ut,Fe){if(ut){if(1===ut.length)return ut[0];const Be=ut.filter(Ae=>Ae.app===Fe);if(1===Be.length)return Be[0]}return Fe.container.getProvider(Wt).getImmediate({optional:!0})}const Ft=(Wt,ut)=>{const Fe=ut?[ut]:(0,de.Dk)(),tt=[];return Fe.forEach(Jt=>{Jt.container.getProvider(Wt).instances.forEach(Ae=>{tt.includes(Ae)||tt.push(Ae)})}),tt};class Pt{constructor(){return Ft(hn)}}const hn="app-check";function Ge(){}class be{zone;delegate;constructor(ut,Fe=xe){this.zone=ut,this.delegate=Fe}now(){return this.delegate.now()}schedule(ut,Fe,tt){const Jt=this.zone;return this.delegate.schedule(function(Ae){Jt.runGuarded(()=>{ut.apply(this,[Ae])})},Fe,tt)}}class et{zone;task=null;constructor(ut){this.zone=ut}call(ut,Fe){const tt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ge,{},Ge,Ge)),Fe.pipe((0,ae.M)({next:tt,complete:tt,error:tt})).subscribe(ut).add(tt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ye=(()=>{class Wt{ngZone;outsideAngular;insideAngular;constructor(Fe){this.ngZone=Fe,this.outsideAngular=Fe.runOutsideAngular(()=>new be(Zone.current)),this.insideAngular=Fe.run(()=>new be(Zone.current,Ne.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(tt){return new(tt||Wt)(a.KVO(a.SKi))};static \u0275prov=a.jDH({token:Wt,factory:Wt.\u0275fac,providedIn:"root"})}return Wt})();function it(){const Wt=globalThis.\u0275AngularFireScheduler;if(!Wt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Wt}function Mt(Wt){return it().ngZone.run(()=>Wt())}function De(Wt){return Wt.pipe((0,pe.Q)(it().outsideAngular))}function mn(Wt){return function lr(Wt){return function(Fe){return(Fe=Fe.lift(new et(Wt.ngZone))).pipe((0,ct._)(Wt.outsideAngular),(0,pe.Q)(Wt.insideAngular))}}(it())(Wt)}const xt=(Wt,ut)=>function(){const tt=arguments;return ut&&setTimeout(()=>{"scheduled"===ut.state&&ut.invoke()},10),Mt(()=>Wt.apply(void 0,tt))},Vt=(Wt,ut)=>function(){let Fe;const tt=arguments;for(let Be=0;Be<arguments.length;Be++)"function"==typeof tt[Be]&&(ut&&(Fe||=Mt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ge,{},Ge,Ge))),tt[Be]=xt(tt[Be],Fe));const Jt=function Dt(Wt){return it().ngZone.runOutsideAngular(()=>Wt())}(()=>Wt.apply(this,tt));if(!ut){if(Jt instanceof te.c){const Be=it();return Jt.pipe((0,ct._)(Be.outsideAngular),(0,pe.Q)(Be.insideAngular))}return Mt(()=>Jt)}return Jt instanceof te.c?Jt.pipe(mn):Jt instanceof Promise?Mt(()=>new Promise((Be,Ae)=>Jt.then(Ee=>Mt(()=>Be(Ee)),Ee=>Mt(()=>Ae(Ee))))):"function"==typeof Jt&&Fe?function(){return setTimeout(()=>{Fe&&"scheduled"===Fe.state&&Fe.invoke()},10),Jt.apply(this,arguments)}:Mt(()=>Jt)}},4341:(rn,Ze,j)=>{j.d(Ze,{Zm:()=>Ft,me:()=>be,v8:()=>ti,ok:()=>Co,JD:()=>Rr,j4:()=>pn,$R:()=>Wn,YN:()=>To,BC:()=>Gn,cb:()=>an,cV:()=>ss,vS:()=>js,xH:()=>Os,Q0:()=>Rs,Fm:()=>pi,X1:()=>Yo,YS:()=>vr,wz:()=>zi,k0:()=>De,qT:()=>Ms,y7:()=>mt});var a=j(7705),de=j(177),i=j(8455),Ie=j(1985),ge=j(3073),Se=j(8750),xe=j(3794),Le=j(4360),Ne=j(6450),te=j(8496),pe=j(6354);let ct=(()=>{class W{constructor(V,le){this._renderer=V,this._elementRef=le,this.onChange=Ue=>{},this.onTouched=()=>{}}setProperty(V,le){this._renderer.setProperty(this._elementRef.nativeElement,V,le)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}static{this.\u0275fac=function(le){return new(le||W)(a.rXU(a.sFG),a.rXU(a.aKT))}}static{this.\u0275dir=a.FsC({type:W})}}return W})(),je=(()=>{class W extends ct{static{this.\u0275fac=function(){let V;return function(Ue){return(V||(V=a.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=a.FsC({type:W,features:[a.Vt3]})}}return W})();const It=new a.nKC("NgValueAccessor"),wt={provide:It,useExisting:(0,a.Rfq)(()=>Ft),multi:!0};let Ft=(()=>{class W extends je{writeValue(V){this.setProperty("checked",V)}static{this.\u0275fac=function(){let V;return function(Ue){return(V||(V=a.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=a.FsC({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(le,Ue){1&le&&a.bIt("change",function(rr){return Ue.onChange(rr.target.checked)})("blur",function(){return Ue.onTouched()})},features:[a.Jv_([wt]),a.Vt3]})}}return W})();const Pt={provide:It,useExisting:(0,a.Rfq)(()=>be),multi:!0},Ge=new a.nKC("CompositionEventMode");let be=(()=>{class W extends ct{constructor(V,le,Ue){super(V,le),this._compositionMode=Ue,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hn(){const W=(0,de.QT)()?(0,de.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}static{this.\u0275fac=function(le){return new(le||W)(a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(Ge,8))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(le,Ue){1&le&&a.bIt("input",function(rr){return Ue._handleInput(rr.target.value)})("blur",function(){return Ue.onTouched()})("compositionstart",function(){return Ue._compositionStart()})("compositionend",function(rr){return Ue._compositionEnd(rr.target.value)})},features:[a.Jv_([Pt]),a.Vt3]})}}return W})();function et(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function Ye(W){return null!=W&&"number"==typeof W.length}const it=new a.nKC("NgValidators"),Dt=new a.nKC("NgAsyncValidators"),Mt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class De{static min(J){return function en(W){return J=>{if(et(J.value)||et(W))return null;const V=parseFloat(J.value);return!isNaN(V)&&V<W?{min:{min:W,actual:J.value}}:null}}(J)}static max(J){return function mn(W){return J=>{if(et(J.value)||et(W))return null;const V=parseFloat(J.value);return!isNaN(V)&&V>W?{max:{max:W,actual:J.value}}:null}}(J)}static required(J){return lr(J)}static requiredTrue(J){return function xt(W){return!0===W.value?null:{required:!0}}(J)}static email(J){return function Vt(W){return et(W.value)||Mt.test(W.value)?null:{email:!0}}(J)}static minLength(J){return function Wt(W){return J=>et(J.value)||!Ye(J.value)?null:J.value.length<W?{minlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static maxLength(J){return function ut(W){return J=>Ye(J.value)&&J.value.length>W?{maxlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static pattern(J){return function Fe(W){if(!W)return tt;let J,V;return"string"==typeof W?(V="","^"!==W.charAt(0)&&(V+="^"),V+=W,"$"!==W.charAt(W.length-1)&&(V+="$"),J=new RegExp(V)):(V=W.toString(),J=W),le=>{if(et(le.value))return null;const Ue=le.value;return J.test(Ue)?null:{pattern:{requiredPattern:V,actualValue:Ue}}}}(J)}static nullValidator(J){return null}static compose(J){return Qe(J)}static composeAsync(J){return wn(J)}}function lr(W){return et(W.value)?{required:!0}:null}function tt(W){return null}function Jt(W){return null!=W}function Be(W){return(0,a.jNT)(W)?(0,i.H)(W):W}function Ae(W){let J={};return W.forEach(V=>{J=null!=V?{...J,...V}:J}),0===Object.keys(J).length?null:J}function Ee(W,J){return J.map(V=>V(W))}function rt(W){return W.map(J=>function Ve(W){return!W.validate}(J)?J:V=>J.validate(V))}function Qe(W){if(!W)return null;const J=W.filter(Jt);return 0==J.length?null:function(V){return Ae(Ee(V,J))}}function Rt(W){return null!=W?Qe(rt(W)):null}function wn(W){if(!W)return null;const J=W.filter(Jt);return 0==J.length?null:function(V){return function ae(...W){const J=(0,xe.ms)(W),{args:V,keys:le}=(0,ge.D)(W),Ue=new Ie.c(gn=>{const{length:rr}=V;if(!rr)return void gn.complete();const Wi=new Array(rr);let Qs=rr,ps=rr;for(let uo=0;uo<rr;uo++){let no=!1;(0,Se.Tg)(V[uo]).subscribe((0,Le._)(gn,es=>{no||(no=!0,ps--),Wi[uo]=es},()=>Qs--,void 0,()=>{(!Qs||!no)&&(ps||gn.next(le?(0,te.e)(le,Wi):Wi),gn.complete())}))}});return J?Ue.pipe((0,Ne.I)(J)):Ue}(Ee(V,J).map(Be)).pipe((0,pe.T)(Ae))}}function nr(W){return null!=W?wn(rt(W)):null}function tn(W,J){return null===W?[J]:Array.isArray(W)?[...W,J]:[W,J]}function Vn(W){return W._rawValidators}function qt(W){return W._rawAsyncValidators}function Hn(W){return W?Array.isArray(W)?W:[W]:[]}function Nn(W,J){return Array.isArray(W)?W.includes(J):W===J}function $t(W,J){const V=Hn(J);return Hn(W).forEach(Ue=>{Nn(V,Ue)||V.push(Ue)}),V}function kt(W,J){return Hn(J).filter(V=>!Nn(W,V))}class _r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=Rt(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=nr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J=void 0){this.control&&this.control.reset(J)}hasError(J,V){return!!this.control&&this.control.hasError(J,V)}getError(J,V){return this.control?this.control.getError(J,V):null}}class cn extends _r{get formDirective(){return null}get path(){return null}}class Mr extends _r{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zn{constructor(J){this._cd=J}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gn=(()=>{class W extends Zn{constructor(V){super(V)}static{this.\u0275fac=function(le){return new(le||W)(a.rXU(Mr,2))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(le,Ue){2&le&&a.AVh("ng-untouched",Ue.isUntouched)("ng-touched",Ue.isTouched)("ng-pristine",Ue.isPristine)("ng-dirty",Ue.isDirty)("ng-valid",Ue.isValid)("ng-invalid",Ue.isInvalid)("ng-pending",Ue.isPending)},features:[a.Vt3]})}}return W})(),an=(()=>{class W extends Zn{constructor(V){super(V)}static{this.\u0275fac=function(le){return new(le||W)(a.rXU(cn,10))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(le,Ue){2&le&&a.AVh("ng-untouched",Ue.isUntouched)("ng-touched",Ue.isTouched)("ng-pristine",Ue.isPristine)("ng-dirty",Ue.isDirty)("ng-valid",Ue.isValid)("ng-invalid",Ue.isInvalid)("ng-pending",Ue.isPending)("ng-submitted",Ue.isSubmitted)},features:[a.Vt3]})}}return W})();const Gt="VALID",$n="INVALID",Fr="PENDING",br="DISABLED";function wi(W){return(k(W)?W.validators:W)||null}function $(W,J){return(k(J)?J.asyncValidators:W)||null}function k(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function re(W,J,V){const le=W.controls;if(!(J?Object.keys(le):le).length)throw new a.wOt(1e3,"");if(!le[V])throw new a.wOt(1001,"")}function _e(W,J,V){W._forEachChild((le,Ue)=>{if(void 0===V[Ue])throw new a.wOt(1002,"")})}class st{constructor(J,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(V)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===Gt}get invalid(){return this.status===$n}get pending(){return this.status==Fr}get disabled(){return this.status===br}get enabled(){return this.status!==br}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators($t(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators($t(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(kt(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(kt(J,this._rawAsyncValidators))}hasValidator(J){return Nn(this._rawValidators,J)}hasAsyncValidator(J){return Nn(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=Fr,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const V=this._parentMarkedDirty(J.onlySelf);this.status=br,this.errors=null,this._forEachChild(le=>{le.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:V}),this._onDisabledChange.forEach(le=>le(!0))}enable(J={}){const V=this._parentMarkedDirty(J.onlySelf);this.status=Gt,this._forEachChild(le=>{le.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:V}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gt||this.status===Fr)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?br:Gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=Fr,this._hasOwnPendingAsyncValidator=!0;const V=Be(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,V={}){this.errors=J,this._updateControlsErrors(!1!==V.emitEvent)}get(J){let V=J;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((le,Ue)=>le&&le._find(Ue),this)}getError(J,V){const le=V?this.get(V):this;return le&&le.errors?le.errors[J]:null}hasError(J,V){return!!this.getError(J,V)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new a.bkB,this.statusChanges=new a.bkB}_calculateStatus(){return this._allControlsDisabled()?br:this.errors?$n:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fr)?Fr:this._anyControlsHaveStatus($n)?$n:Gt}_anyControlsHaveStatus(J){return this._anyControls(V=>V.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){k(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function Et(W){return Array.isArray(W)?Rt(W):W||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function M(W){return Array.isArray(W)?nr(W):W||null}(this._rawAsyncValidators)}}class At extends st{constructor(J,V,le){super(wi(V),$(le,V)),this.controls=J,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,V){return this.controls[J]?this.controls[J]:(this.controls[J]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(J,V,le={}){this.registerControl(J,V),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(J,V={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(J,V,le={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],V&&this.registerControl(J,V),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,V={}){_e(this,0,J),Object.keys(J).forEach(le=>{re(this,!0,le),this.controls[le].setValue(J[le],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(J,V={}){null!=J&&(Object.keys(J).forEach(le=>{const Ue=this.controls[le];Ue&&Ue.patchValue(J[le],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(J={},V={}){this._forEachChild((le,Ue)=>{le.reset(J?J[Ue]:null,{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(J,V,le)=>(J[le]=V.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(V,le)=>!!le._syncPendingControls()||V);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(V=>{const le=this.controls[V];le&&J(le,V)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[V,le]of Object.entries(this.controls))if(this.contains(V)&&J(le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,le,Ue)=>((le.enabled||this.disabled)&&(V[Ue]=le.value),V))}_reduceChildren(J,V){let le=J;return this._forEachChild((Ue,gn)=>{le=V(le,Ue,gn)}),le}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}class An extends At{}const on=new a.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Lr}),Lr="always";function ur(W,J){return[...J.path,W]}function Ts(W,J,V=Lr){vi(W,J),J.valueAccessor.writeValue(W.value),(W.disabled||"always"===V)&&J.valueAccessor.setDisabledState?.(W.disabled),function nn(W,J){J.valueAccessor.registerOnChange(V=>{W._pendingValue=V,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&fe(W,J)})}(W,J),function He(W,J){const V=(le,Ue)=>{J.valueAccessor.writeValue(le),Ue&&J.viewToModelUpdate(le)};W.registerOnChange(V),J._registerOnDestroy(()=>{W._unregisterOnChange(V)})}(W,J),function Z(W,J){J.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&fe(W,J),"submit"!==W.updateOn&&W.markAsTouched()})}(W,J),function Mi(W,J){if(J.valueAccessor.setDisabledState){const V=le=>{J.valueAccessor.setDisabledState(le)};W.registerOnDisabledChange(V),J._registerOnDestroy(()=>{W._unregisterOnDisabledChange(V)})}}(W,J)}function yi(W,J,V=!0){const le=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(le),J.valueAccessor.registerOnTouched(le)),Ce(W,J),W&&(J._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function ji(W,J){W.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(J)})}function vi(W,J){const V=Vn(W);null!==J.validator?W.setValidators(tn(V,J.validator)):"function"==typeof V&&W.setValidators([V]);const le=qt(W);null!==J.asyncValidator?W.setAsyncValidators(tn(le,J.asyncValidator)):"function"==typeof le&&W.setAsyncValidators([le]);const Ue=()=>W.updateValueAndValidity();ji(J._rawValidators,Ue),ji(J._rawAsyncValidators,Ue)}function Ce(W,J){let V=!1;if(null!==W){if(null!==J.validator){const Ue=Vn(W);if(Array.isArray(Ue)&&Ue.length>0){const gn=Ue.filter(rr=>rr!==J.validator);gn.length!==Ue.length&&(V=!0,W.setValidators(gn))}}if(null!==J.asyncValidator){const Ue=qt(W);if(Array.isArray(Ue)&&Ue.length>0){const gn=Ue.filter(rr=>rr!==J.asyncValidator);gn.length!==Ue.length&&(V=!0,W.setAsyncValidators(gn))}}}const le=()=>{};return ji(J._rawValidators,le),ji(J._rawAsyncValidators,le),V}function fe(W,J){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function zt(W,J){vi(W,J)}function Qi(W,J){if(!W.hasOwnProperty("model"))return!1;const V=W.model;return!!V.isFirstChange()||!Object.is(J,V.currentValue)}function is(W,J){W._syncPendingControls(),J.forEach(V=>{const le=V.control;"submit"===le.updateOn&&le._pendingChange&&(V.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}function Fo(W,J){if(!J)return null;let V,le,Ue;return Array.isArray(J),J.forEach(gn=>{gn.constructor===be?V=gn:function Ps(W){return Object.getPrototypeOf(W.constructor)===je}(gn)?le=gn:Ue=gn}),Ue||le||V||null}const qo={provide:cn,useExisting:(0,a.Rfq)(()=>ss)},si=(()=>Promise.resolve())();let ss=(()=>{class W extends cn{constructor(V,le,Ue){super(),this.callSetDisabledState=Ue,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.bkB,this.form=new At({},Rt(V),nr(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){si.then(()=>{const le=this._findContainer(V.path);V.control=le.registerControl(V.name,V.control),Ts(V.control,V,this.callSetDisabledState),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){si.then(()=>{const le=this._findContainer(V.path);le&&le.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){si.then(()=>{const le=this._findContainer(V.path),Ue=new At({});zt(Ue,V),le.registerControl(V.name,Ue),Ue.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){si.then(()=>{const le=this._findContainer(V.path);le&&le.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,le){si.then(()=>{this.form.get(V.path).setValue(le)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,is(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}static{this.\u0275fac=function(le){return new(le||W)(a.rXU(it,10),a.rXU(Dt,10),a.rXU(on,8))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(le,Ue){1&le&&a.bIt("submit",function(rr){return Ue.onSubmit(rr)})("reset",function(){return Ue.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([qo]),a.Vt3]})}}return W})();function vs(W,J){const V=W.indexOf(J);V>-1&&W.splice(V,1)}function qr(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Ki=class extends st{constructor(J=null,V,le){super(wi(V),$(le,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=qr(J)?J.value:J)}setValue(J,V={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(J,V={}){this.setValue(J,V)}reset(J=this.defaultValue,V={}){this._applyFormState(J),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){vs(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){vs(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){qr(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}};let lo=(()=>{class W extends cn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ur(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let V;return function(Ue){return(V||(V=a.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=a.FsC({type:W,features:[a.Vt3]})}}return W})();const qs={provide:Mr,useExisting:(0,a.Rfq)(()=>js)},Yr=(()=>Promise.resolve())();let js=(()=>{class W extends Mr{constructor(V,le,Ue,gn,rr,Wi){super(),this._changeDetectorRef=rr,this.callSetDisabledState=Wi,this.control=new Ki,this._registered=!1,this.name="",this.update=new a.bkB,this._parent=V,this._setValidators(le),this._setAsyncValidators(Ue),this.valueAccessor=Fo(0,gn)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const le=V.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),Qi(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ts(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){Yr.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const le=V.isDisabled.currentValue,Ue=0!==le&&(0,a.L39)(le);Yr.then(()=>{Ue&&!this.control.disabled?this.control.disable():!Ue&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?ur(V,this._parent):[V]}static{this.\u0275fac=function(le){return new(le||W)(a.rXU(cn,9),a.rXU(it,10),a.rXU(Dt,10),a.rXU(It,10),a.rXU(a.gRc,8),a.rXU(on,8))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a.Jv_([qs]),a.Vt3,a.OA$]})}}return W})(),Ms=(()=>{class W{static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275dir=a.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return W})();const bo={provide:It,useExisting:(0,a.Rfq)(()=>Rs),multi:!0};let Rs=(()=>{class W extends je{writeValue(V){this.setProperty("value",V??"")}registerOnChange(V){this.onChange=le=>{V(""==le?null:parseFloat(le))}}static{this.\u0275fac=function(){let V;return function(Ue){return(V||(V=a.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=a.FsC({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(le,Ue){1&le&&a.bIt("input",function(rr){return Ue.onChange(rr.target.value)})("blur",function(){return Ue.onTouched()})},features:[a.Jv_([bo]),a.Vt3]})}}return W})();const xr={provide:It,useExisting:(0,a.Rfq)(()=>pi),multi:!0};let Si=(()=>{class W{static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275mod=a.$C({type:W})}static{this.\u0275inj=a.G2t({})}}return W})(),Is=(()=>{class W{constructor(){this._accessors=[]}add(V,le){this._accessors.push([V,le])}remove(V){for(let le=this._accessors.length-1;le>=0;--le)if(this._accessors[le][1]===V)return void this._accessors.splice(le,1)}select(V){this._accessors.forEach(le=>{this._isSameGroup(le,V)&&le[1]!==V&&le[1].fireUncheck(V.value)})}_isSameGroup(V,le){return!!V[0].control&&V[0]._parent===le._control._parent&&V[1].name===le.name}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275prov=a.jDH({token:W,factory:W.\u0275fac,providedIn:Si})}}return W})(),pi=(()=>{class W extends je{constructor(V,le,Ue,gn){super(V,le),this._registry=Ue,this._injector=gn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,a.WQX)(on,{optional:!0})??Lr}ngOnInit(){this._control=this._injector.get(Mr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(V){this._state=V===this.value,this.setProperty("checked",this._state)}registerOnChange(V){this._fn=V,this.onChange=()=>{V(this.value),this._registry.select(this)}}setDisabledState(V){(this.setDisabledStateFired||V||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",V),this.setDisabledStateFired=!0}fireUncheck(V){this.writeValue(V)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(le){return new(le||W)(a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(Is),a.rXU(a.zZn))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(le,Ue){1&le&&a.bIt("change",function(){return Ue.onChange()})("blur",function(){return Ue.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[a.Jv_([xr]),a.Vt3]})}}return W})();const as=new a.nKC("NgModelWithFormControlWarning"),ai={provide:cn,useExisting:(0,a.Rfq)(()=>pn)};let pn=(()=>{class W extends cn{constructor(V,le,Ue){super(),this.callSetDisabledState=Ue,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.bkB,this._setValidators(V),this._setAsyncValidators(le)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ce(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const le=this.form.get(V.path);return Ts(le,V,this.callSetDisabledState),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),le}getControl(V){return this.form.get(V.path)}removeControl(V){yi(V.control||null,V,!1),function Lo(W,J){const V=W.indexOf(J);V>-1&&W.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,le){this.form.get(V.path).setValue(le)}onSubmit(V){return this.submitted=!0,is(this.form,this.directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const le=V.control,Ue=this.form.get(V.path);le!==Ue&&(yi(le||null,V),(W=>W instanceof Ki)(Ue)&&(Ts(Ue,V,this.callSetDisabledState),V.control=Ue))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const le=this.form.get(V.path);zt(le,V),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const le=this.form.get(V.path);le&&function Cn(W,J){return Ce(W,J)}(le,V)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vi(this.form,this),this._oldForm&&Ce(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(le){return new(le||W)(a.rXU(it,10),a.rXU(Dt,10),a.rXU(on,8))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(le,Ue){1&le&&a.bIt("submit",function(rr){return Ue.onSubmit(rr)})("reset",function(){return Ue.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([ai]),a.Vt3,a.OA$]})}}return W})();const Ln={provide:cn,useExisting:(0,a.Rfq)(()=>Wn)};let Wn=(()=>{class W extends lo{constructor(V,le,Ue){super(),this.name=null,this._parent=V,this._setValidators(le),this._setAsyncValidators(Ue)}_checkParentType(){Oi(this._parent)}static{this.\u0275fac=function(le){return new(le||W)(a.rXU(cn,13),a.rXU(it,10),a.rXU(Dt,10))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[a.Jv_([Ln]),a.Vt3]})}}return W})();const ci={provide:cn,useExisting:(0,a.Rfq)(()=>ti)};let ti=(()=>{class W extends cn{constructor(V,le,Ue){super(),this.name=null,this._parent=V,this._setValidators(le),this._setAsyncValidators(Ue)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ur(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Oi(this._parent)}static{this.\u0275fac=function(le){return new(le||W)(a.rXU(cn,13),a.rXU(it,10),a.rXU(Dt,10))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[a.Jv_([ci]),a.Vt3]})}}return W})();function Oi(W){return!(W instanceof Wn||W instanceof pn||W instanceof ti)}const hs={provide:Mr,useExisting:(0,a.Rfq)(()=>Rr)};let Rr=(()=>{class W extends Mr{set isDisabled(V){}static{this._ngModelWarningSentOnce=!1}constructor(V,le,Ue,gn,rr){super(),this._ngModelWarningConfig=rr,this._added=!1,this.name=null,this.update=new a.bkB,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(le),this._setAsyncValidators(Ue),this.valueAccessor=Fo(0,gn)}ngOnChanges(V){this._added||this._setUpControl(),Qi(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return ur(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(le){return new(le||W)(a.rXU(cn,13),a.rXU(it,10),a.rXU(Dt,10),a.rXU(It,10),a.rXU(as,8))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a.Jv_([hs]),a.Vt3,a.OA$]})}}return W})();const Bi={provide:It,useExisting:(0,a.Rfq)(()=>zi),multi:!0};function As(W,J){return null==W?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let zi=(()=>{class W extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){this.value=V;const Ue=As(this._getOptionId(V),V);this.setProperty("value",Ue)}registerOnChange(V){this.onChange=le=>{this.value=this._getOptionValue(le),V(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(V){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le),V))return le;return null}_getOptionValue(V){const le=function Qn(W){return W.split(":")[0]}(V);return this._optionMap.has(le)?this._optionMap.get(le):V}static{this.\u0275fac=function(){let V;return function(Ue){return(V||(V=a.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=a.FsC({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(le,Ue){1&le&&a.bIt("change",function(rr){return Ue.onChange(rr.target.value)})("blur",function(){return Ue.onTouched()})},inputs:{compareWith:"compareWith"},features:[a.Jv_([Bi]),a.Vt3]})}}return W})(),Os=(()=>{class W{constructor(V,le,Ue){this._element=V,this._renderer=le,this._select=Ue,this._select&&(this.id=this._select._registerOption())}set ngValue(V){null!=this._select&&(this._select._optionMap.set(this.id,V),this._setElementValue(As(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._setElementValue(V),this._select&&this._select.writeValue(this._select.value)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(le){return new(le||W)(a.rXU(a.aKT),a.rXU(a.sFG),a.rXU(zi,9))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})();const ee={provide:It,useExisting:(0,a.Rfq)(()=>Je),multi:!0};function Q(W,J){return null==W?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let Je=(()=>{class W extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){let le;if(this.value=V,Array.isArray(V)){const Ue=V.map(gn=>this._getOptionId(gn));le=(gn,rr)=>{gn._setSelected(Ue.indexOf(rr.toString())>-1)}}else le=(Ue,gn)=>{Ue._setSelected(!1)};this._optionMap.forEach(le)}registerOnChange(V){this.onChange=le=>{const Ue=[],gn=le.selectedOptions;if(void 0!==gn){const rr=gn;for(let Wi=0;Wi<rr.length;Wi++){const ps=this._getOptionValue(rr[Wi].value);Ue.push(ps)}}else{const rr=le.options;for(let Wi=0;Wi<rr.length;Wi++){const Qs=rr[Wi];if(Qs.selected){const ps=this._getOptionValue(Qs.value);Ue.push(ps)}}}this.value=Ue,V(Ue)}}_registerOption(V){const le=(this._idCounter++).toString();return this._optionMap.set(le,V),le}_getOptionId(V){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le)._value,V))return le;return null}_getOptionValue(V){const le=function we(W){return W.split(":")[0]}(V);return this._optionMap.has(le)?this._optionMap.get(le)._value:V}static{this.\u0275fac=function(){let V;return function(Ue){return(V||(V=a.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=a.FsC({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(le,Ue){1&le&&a.bIt("change",function(rr){return Ue.onChange(rr.target)})("blur",function(){return Ue.onTouched()})},inputs:{compareWith:"compareWith"},features:[a.Jv_([ee]),a.Vt3]})}}return W})(),mt=(()=>{class W{constructor(V,le,Ue){this._element=V,this._renderer=le,this._select=Ue,this._select&&(this.id=this._select._registerOption(this))}set ngValue(V){null!=this._select&&(this._value=V,this._setElementValue(Q(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._select?(this._value=V,this._setElementValue(Q(this.id,V)),this._select.writeValue(this._select.value)):this._setElementValue(V)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}_setSelected(V){this._renderer.setProperty(this._element.nativeElement,"selected",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(le){return new(le||W)(a.rXU(a.aKT),a.rXU(a.sFG),a.rXU(Je,9))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})(),yn=(()=>{class W{constructor(){this._validator=tt}ngOnChanges(V){if(this.inputName in V){const le=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):tt,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275dir=a.FsC({type:W,features:[a.OA$]})}}return W})();const Un={provide:it,useExisting:(0,a.Rfq)(()=>vr),multi:!0};let vr=(()=>{class W extends yn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.L39,this.createValidator=V=>lr}enabled(V){return V}static{this.\u0275fac=function(){let V;return function(Ue){return(V||(V=a.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=a.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(le,Ue){2&le&&a.BMQ("required",Ue._enabled?"":null)},inputs:{required:"required"},features:[a.Jv_([Un]),a.Vt3]})}}return W})(),Va=(()=>{class W{static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275mod=a.$C({type:W})}static{this.\u0275inj=a.G2t({imports:[Si]})}}return W})();class $s extends st{constructor(J,V,le){super(wi(V),$(le,V)),this.controls=J,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(J){return this.controls[this._adjustIndex(J)]}push(J,V={}){this.controls.push(J),this._registerControl(J),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(J,V,le={}){this.controls.splice(J,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(J,V={}){let le=this._adjustIndex(J);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(J,V,le={}){let Ue=this._adjustIndex(J);Ue<0&&(Ue=0),this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),this.controls.splice(Ue,1),V&&(this.controls.splice(Ue,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(J,V={}){_e(this,0,J),J.forEach((le,Ue)=>{re(this,!1,Ue),this.at(Ue).setValue(le,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(J,V={}){null!=J&&(J.forEach((le,Ue)=>{this.at(Ue)&&this.at(Ue).patchValue(le,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(J=[],V={}){this._forEachChild((le,Ue)=>{le.reset(J[Ue],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(J=>J.getRawValue())}clear(J={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:J.emitEvent}))}_adjustIndex(J){return J<0?J+this.length:J}_syncPendingControls(){let J=this.controls.reduce((V,le)=>!!le._syncPendingControls()||V,!1);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){this.controls.forEach((V,le)=>{J(V,le)})}_updateValue(){this.value=this.controls.filter(J=>J.enabled||this.disabled).map(J=>J.value)}_anyControls(J){return this.controls.some(V=>V.enabled&&J(V))}_setUpControls(){this._forEachChild(J=>this._registerControl(J))}_allControlsDisabled(){for(const J of this.controls)if(J.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(J){J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)}_find(J){return this.at(J)??null}}function fs(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let Co=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const V=new W;return V.useNonNullable=!0,V}group(V,le=null){const Ue=this._reduceControls(V);let gn={};return fs(le)?gn=le:null!==le&&(gn.validators=le.validator,gn.asyncValidators=le.asyncValidator),new At(Ue,gn)}record(V,le=null){const Ue=this._reduceControls(V);return new An(Ue,le)}control(V,le,Ue){let gn={};return this.useNonNullable?(fs(le)?gn=le:(gn.validators=le,gn.asyncValidators=Ue),new Ki(V,{...gn,nonNullable:!0})):new Ki(V,le,Ue)}array(V,le,Ue){const gn=V.map(rr=>this._createControl(rr));return new $s(gn,le,Ue)}_reduceControls(V){const le={};return Object.keys(V).forEach(Ue=>{le[Ue]=this._createControl(V[Ue])}),le}_createControl(V){return V instanceof Ki||V instanceof st?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275prov=a.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})(),To=(()=>{class W{static withConfig(V){return{ngModule:W,providers:[{provide:on,useValue:V.callSetDisabledState??Lr}]}}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275mod=a.$C({type:W})}static{this.\u0275inj=a.G2t({imports:[Va]})}}return W})(),Yo=(()=>{class W{static withConfig(V){return{ngModule:W,providers:[{provide:as,useValue:V.warnOnNgModelWithFormControl??"always"},{provide:on,useValue:V.callSetDisabledState??Lr}]}}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275mod=a.$C({type:W})}static{this.\u0275inj=a.G2t({imports:[Va]})}}return W})()},345:(rn,Ze,j)=>{j.d(Ze,{B7:()=>Mt,Bb:()=>Nn,W8:()=>kt,hE:()=>Mr,sG:()=>tn,up:()=>Pi});var a=j(7705),de=j(177);class i extends de.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends i{static makeCurrent(){(0,de.ZD)(new Ie)}onAndCancel($,M,k){return $.addEventListener(M,k),()=>{$.removeEventListener(M,k)}}dispatchEvent($,M){$.dispatchEvent(M)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,M){return(M=M||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,M){return"window"===M?window:"document"===M?$:"body"===M?$.body:null}getBaseHref($){const M=function Se(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==M?null:function Le(Et){xe=xe||document.createElement("a"),xe.setAttribute("href",Et);const $=xe.pathname;return"/"===$.charAt(0)?$:`/${$}`}(M)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,de._b)(document.cookie,$)}}let xe,ge=null,te=(()=>{class Et{build(){return new XMLHttpRequest}static{this.\u0275fac=function(k){return new(k||Et)}}static{this.\u0275prov=a.jDH({token:Et,factory:Et.\u0275fac})}}return Et})();const ae=new a.nKC("EventManagerPlugins");let pe=(()=>{class Et{constructor(M,k){this._zone=k,this._eventNameToPlugin=new Map,M.forEach(re=>{re.manager=this}),this._plugins=M.slice().reverse()}addEventListener(M,k,re){return this._findPluginFor(k).addEventListener(M,k,re)}getZone(){return this._zone}_findPluginFor(M){let k=this._eventNameToPlugin.get(M);if(k)return k;if(k=this._plugins.find(_e=>_e.supports(M)),!k)throw new a.wOt(5101,!1);return this._eventNameToPlugin.set(M,k),k}static{this.\u0275fac=function(k){return new(k||Et)(a.KVO(ae),a.KVO(a.SKi))}}static{this.\u0275prov=a.jDH({token:Et,factory:Et.\u0275fac})}}return Et})();class ct{constructor($){this._doc=$}}const je="ng-app-id";let It=(()=>{class Et{constructor(M,k,re,_e={}){this.doc=M,this.appId=k,this.nonce=re,this.platformId=_e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,de.Vy)(_e),this.resetHostNodes()}addStyles(M){for(const k of M)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(M){for(const k of M)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const M=this.styleNodesInDOM;M&&(M.forEach(k=>k.remove()),M.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(M){this.hostNodes.add(M);for(const k of this.getAllStyles())this.addStyleToHost(M,k)}removeHost(M){this.hostNodes.delete(M)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(M){for(const k of this.hostNodes)this.addStyleToHost(k,M)}onStyleRemoved(M){const k=this.styleRef;k.get(M)?.elements?.forEach(re=>re.remove()),k.delete(M)}collectServerRenderedStyles(){const M=this.doc.head?.querySelectorAll(`style[${je}="${this.appId}"]`);if(M?.length){const k=new Map;return M.forEach(re=>{null!=re.textContent&&k.set(re.textContent,re)}),k}return null}changeUsageCount(M,k){const re=this.styleRef;if(re.has(M)){const _e=re.get(M);return _e.usage+=k,_e.usage}return re.set(M,{usage:k,elements:[]}),k}getStyleElement(M,k){const re=this.styleNodesInDOM,_e=re?.get(k);if(_e?.parentNode===M)return re.delete(k),_e.removeAttribute(je),_e;{const st=this.doc.createElement("style");return this.nonce&&st.setAttribute("nonce",this.nonce),st.textContent=k,this.platformIsServer&&st.setAttribute(je,this.appId),st}}addStyleToHost(M,k){const re=this.getStyleElement(M,k);M.appendChild(re);const _e=this.styleRef,st=_e.get(k)?.elements;st?st.push(re):_e.set(k,{elements:[re],usage:1})}resetHostNodes(){const M=this.hostNodes;M.clear(),M.add(this.doc.head)}static{this.\u0275fac=function(k){return new(k||Et)(a.KVO(de.qQ),a.KVO(a.sZ2),a.KVO(a.BIS,8),a.KVO(a.Agw))}}static{this.\u0275prov=a.jDH({token:Et,factory:Et.\u0275fac})}}return Et})();const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ft=/%COMP%/g,et=new a.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Dt(Et,$){return $.map(M=>M.replace(Ft,Et))}let Mt=(()=>{class Et{constructor(M,k,re,_e,st,At,sn,ln=null){this.eventManager=M,this.sharedStylesHost=k,this.appId=re,this.removeStylesOnCompDestroy=_e,this.doc=st,this.platformId=At,this.ngZone=sn,this.nonce=ln,this.rendererByCompId=new Map,this.platformIsServer=(0,de.Vy)(At),this.defaultRenderer=new De(M,st,sn,this.platformIsServer)}createRenderer(M,k){if(!M||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===a.gXe.ShadowDom&&(k={...k,encapsulation:a.gXe.Emulated});const re=this.getOrCreateRenderer(M,k);return re instanceof Wt?re.applyToHost(M):re instanceof Vt&&re.applyStyles(),re}getOrCreateRenderer(M,k){const re=this.rendererByCompId;let _e=re.get(k.id);if(!_e){const st=this.doc,At=this.ngZone,sn=this.eventManager,ln=this.sharedStylesHost,An=this.removeStylesOnCompDestroy,pr=this.platformIsServer;switch(k.encapsulation){case a.gXe.Emulated:_e=new Wt(sn,ln,k,this.appId,An,st,At,pr);break;case a.gXe.ShadowDom:return new xt(sn,ln,M,k,st,At,this.nonce,pr);default:_e=new Vt(sn,ln,k,An,st,At,pr)}re.set(k.id,_e)}return _e}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(k){return new(k||Et)(a.KVO(pe),a.KVO(It),a.KVO(a.sZ2),a.KVO(et),a.KVO(de.qQ),a.KVO(a.Agw),a.KVO(a.SKi),a.KVO(a.BIS))}}static{this.\u0275prov=a.jDH({token:Et,factory:Et.\u0275fac})}}return Et})();class De{constructor($,M,k,re){this.eventManager=$,this.doc=M,this.ngZone=k,this.platformIsServer=re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,M){return M?this.doc.createElementNS(wt[M]||M,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,M){(lr($)?$.content:$).appendChild(M)}insertBefore($,M,k){$&&(lr($)?$.content:$).insertBefore(M,k)}removeChild($,M){$&&$.removeChild(M)}selectRootElement($,M){let k="string"==typeof $?this.doc.querySelector($):$;if(!k)throw new a.wOt(-5104,!1);return M||(k.textContent=""),k}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,M,k,re){if(re){M=re+":"+M;const _e=wt[re];_e?$.setAttributeNS(_e,M,k):$.setAttribute(M,k)}else $.setAttribute(M,k)}removeAttribute($,M,k){if(k){const re=wt[k];re?$.removeAttributeNS(re,M):$.removeAttribute(`${k}:${M}`)}else $.removeAttribute(M)}addClass($,M){$.classList.add(M)}removeClass($,M){$.classList.remove(M)}setStyle($,M,k,re){re&(a.czy.DashCase|a.czy.Important)?$.style.setProperty(M,k,re&a.czy.Important?"important":""):$.style[M]=k}removeStyle($,M,k){k&a.czy.DashCase?$.style.removeProperty(M):$.style[M]=""}setProperty($,M,k){$[M]=k}setValue($,M){$.nodeValue=M}listen($,M,k){if("string"==typeof $&&!($=(0,de.QT)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${M}`);return this.eventManager.addEventListener($,M,this.decoratePreventDefault(k))}decoratePreventDefault($){return M=>{if("__ngUnwrap__"===M)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(M)):$(M))&&M.preventDefault()}}}function lr(Et){return"TEMPLATE"===Et.tagName&&void 0!==Et.content}class xt extends De{constructor($,M,k,re,_e,st,At,sn){super($,_e,st,sn),this.sharedStylesHost=M,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ln=Dt(re.id,re.styles);for(const An of ln){const pr=document.createElement("style");At&&pr.setAttribute("nonce",At),pr.textContent=An,this.shadowRoot.appendChild(pr)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,M){return super.appendChild(this.nodeOrShadowRoot($),M)}insertBefore($,M,k){return super.insertBefore(this.nodeOrShadowRoot($),M,k)}removeChild($,M){return super.removeChild(this.nodeOrShadowRoot($),M)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vt extends De{constructor($,M,k,re,_e,st,At,sn){super($,_e,st,At),this.sharedStylesHost=M,this.removeStylesOnCompDestroy=re,this.styles=sn?Dt(sn,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Wt extends Vt{constructor($,M,k,re,_e,st,At,sn){const ln=re+"-"+k.id;super($,M,k,_e,st,At,sn,ln),this.contentAttr=function Ye(Et){return"_ngcontent-%COMP%".replace(Ft,Et)}(ln),this.hostAttr=function it(Et){return"_nghost-%COMP%".replace(Ft,Et)}(ln)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,M){const k=super.createElement($,M);return super.setAttribute(k,this.contentAttr,""),k}}let ut=(()=>{class Et extends ct{constructor(M){super(M)}supports(M){return!0}addEventListener(M,k,re){return M.addEventListener(k,re,!1),()=>this.removeEventListener(M,k,re)}removeEventListener(M,k,re){return M.removeEventListener(k,re)}static{this.\u0275fac=function(k){return new(k||Et)(a.KVO(de.qQ))}}static{this.\u0275prov=a.jDH({token:Et,factory:Et.\u0275fac})}}return Et})();const Fe=["alt","control","meta","shift"],tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jt={alt:Et=>Et.altKey,control:Et=>Et.ctrlKey,meta:Et=>Et.metaKey,shift:Et=>Et.shiftKey};let Be=(()=>{class Et extends ct{constructor(M){super(M)}supports(M){return null!=Et.parseEventName(M)}addEventListener(M,k,re){const _e=Et.parseEventName(k),st=Et.eventCallback(_e.fullKey,re,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,de.QT)().onAndCancel(M,_e.domEventName,st))}static parseEventName(M){const k=M.toLowerCase().split("."),re=k.shift();if(0===k.length||"keydown"!==re&&"keyup"!==re)return null;const _e=Et._normalizeKey(k.pop());let st="",At=k.indexOf("code");if(At>-1&&(k.splice(At,1),st="code."),Fe.forEach(ln=>{const An=k.indexOf(ln);An>-1&&(k.splice(An,1),st+=ln+".")}),st+=_e,0!=k.length||0===_e.length)return null;const sn={};return sn.domEventName=re,sn.fullKey=st,sn}static matchEventFullKeyCode(M,k){let re=tt[M.key]||M.key,_e="";return k.indexOf("code.")>-1&&(re=M.code,_e="code."),!(null==re||!re)&&(re=re.toLowerCase()," "===re?re="space":"."===re&&(re="dot"),Fe.forEach(st=>{st!==re&&(0,Jt[st])(M)&&(_e+=st+".")}),_e+=re,_e===k)}static eventCallback(M,k,re){return _e=>{Et.matchEventFullKeyCode(_e,M)&&re.runGuarded(()=>k(_e))}}static _normalizeKey(M){return"esc"===M?"escape":M}static{this.\u0275fac=function(k){return new(k||Et)(a.KVO(de.qQ))}}static{this.\u0275prov=a.jDH({token:Et,factory:Et.\u0275fac})}}return Et})();const tn=(0,a.oH4)(a.fpN,"browser",[{provide:a.Agw,useValue:de.AJ},{provide:a.PLl,useValue:function Qe(){Ie.makeCurrent()},multi:!0},{provide:de.qQ,useFactory:function wn(){return(0,a.TL$)(document),document},deps:[]}]),Vn=new a.nKC(""),qt=[{provide:a.e01,useClass:class Ne{addToWindow($){a.JZv.getAngularTestability=(k,re=!0)=>{const _e=$.findTestabilityInTree(k,re);if(null==_e)throw new a.wOt(5103,!1);return _e},a.JZv.getAllAngularTestabilities=()=>$.getAllTestabilities(),a.JZv.getAllAngularRootElements=()=>$.getAllRootElements(),a.JZv.frameworkStabilizers||(a.JZv.frameworkStabilizers=[]),a.JZv.frameworkStabilizers.push(k=>{const re=a.JZv.getAllAngularTestabilities();let _e=re.length,st=!1;const At=function(sn){st=st||sn,_e--,0==_e&&k(st)};re.forEach(sn=>{sn.whenStable(At)})})}findTestabilityInTree($,M,k){return null==M?null:$.getTestability(M)??(k?(0,de.QT)().isShadowRoot(M)?this.findTestabilityInTree($,M.host,!0):this.findTestabilityInTree($,M.parentElement,!0):null)}},deps:[]},{provide:a.WHO,useClass:a.NYb,deps:[a.SKi,a.giA,a.e01]},{provide:a.NYb,useClass:a.NYb,deps:[a.SKi,a.giA,a.e01]}],Hn=[{provide:a.H8p,useValue:"root"},{provide:a.zcH,useFactory:function Rt(){return new a.zcH},deps:[]},{provide:ae,useClass:ut,multi:!0,deps:[de.qQ,a.SKi,a.Agw]},{provide:ae,useClass:Be,multi:!0,deps:[de.qQ]},Mt,It,pe,{provide:a._9s,useExisting:Mt},{provide:de.N0,useClass:te,deps:[]},[]];let Nn=(()=>{class Et{constructor(M){}static withServerTransition(M){return{ngModule:Et,providers:[{provide:a.sZ2,useValue:M.appId}]}}static{this.\u0275fac=function(k){return new(k||Et)(a.KVO(Vn,12))}}static{this.\u0275mod=a.$C({type:Et})}static{this.\u0275inj=a.G2t({providers:[...Hn,...qt],imports:[de.MD,a.Hbi]})}}return Et})(),kt=(()=>{class Et{constructor(M){this._doc=M,this._dom=(0,de.QT)()}addTag(M,k=!1){return M?this._getOrCreateElement(M,k):null}addTags(M,k=!1){return M?M.reduce((re,_e)=>(_e&&re.push(this._getOrCreateElement(_e,k)),re),[]):[]}getTag(M){return M&&this._doc.querySelector(`meta[${M}]`)||null}getTags(M){if(!M)return[];const k=this._doc.querySelectorAll(`meta[${M}]`);return k?[].slice.call(k):[]}updateTag(M,k){if(!M)return null;k=k||this._parseSelector(M);const re=this.getTag(k);return re?this._setMetaElementAttributes(M,re):this._getOrCreateElement(M,!0)}removeTag(M){this.removeTagElement(this.getTag(M))}removeTagElement(M){M&&this._dom.remove(M)}_getOrCreateElement(M,k=!1){if(!k){const st=this._parseSelector(M),At=this.getTags(st).filter(sn=>this._containsAttributes(M,sn))[0];if(void 0!==At)return At}const re=this._dom.createElement("meta");return this._setMetaElementAttributes(M,re),this._doc.getElementsByTagName("head")[0].appendChild(re),re}_setMetaElementAttributes(M,k){return Object.keys(M).forEach(re=>k.setAttribute(this._getMetaKeyMap(re),M[re])),k}_parseSelector(M){const k=M.name?"name":"property";return`${k}="${M[k]}"`}_containsAttributes(M,k){return Object.keys(M).every(re=>k.getAttribute(this._getMetaKeyMap(re))===M[re])}_getMetaKeyMap(M){return _r[M]||M}static{this.\u0275fac=function(k){return new(k||Et)(a.KVO(de.qQ))}}static{this.\u0275prov=a.jDH({token:Et,factory:function(k){let re=null;return re=k?new k:function $t(){return new kt((0,a.KVO)(de.qQ))}(),re},providedIn:"root"})}}return Et})();const _r={httpEquiv:"http-equiv"};let Mr=(()=>{class Et{constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static{this.\u0275fac=function(k){return new(k||Et)(a.KVO(de.qQ))}}static{this.\u0275prov=a.jDH({token:Et,factory:function(k){let re=null;return re=k?new k:function cn(){return new Mr((0,a.KVO)(de.qQ))}(),re},providedIn:"root"})}}return Et})();typeof window<"u"&&window;let Pi=(()=>{class Et{static{this.\u0275fac=function(k){return new(k||Et)}}static{this.\u0275prov=a.jDH({token:Et,factory:function(k){let re=null;return re=k?new(k||Et):a.KVO(gt),re},providedIn:"root"})}}return Et})(),gt=(()=>{class Et extends Pi{constructor(M){super(),this._doc=M}sanitize(M,k){if(null==k)return null;switch(M){case a.WPN.NONE:return k;case a.WPN.HTML:return(0,a.ZF7)(k,"HTML")?(0,a.rcV)(k):(0,a.h9k)(this._doc,String(k)).toString();case a.WPN.STYLE:return(0,a.ZF7)(k,"Style")?(0,a.rcV)(k):k;case a.WPN.SCRIPT:if((0,a.ZF7)(k,"Script"))return(0,a.rcV)(k);throw new a.wOt(5200,!1);case a.WPN.URL:return(0,a.ZF7)(k,"URL")?(0,a.rcV)(k):(0,a.$MX)(String(k));case a.WPN.RESOURCE_URL:if((0,a.ZF7)(k,"ResourceURL"))return(0,a.rcV)(k);throw new a.wOt(5201,!1);default:throw new a.wOt(5202,!1)}}bypassSecurityTrustHtml(M){return(0,a.Kcf)(M)}bypassSecurityTrustStyle(M){return(0,a.cWb)(M)}bypassSecurityTrustScript(M){return(0,a.UyX)(M)}bypassSecurityTrustUrl(M){return(0,a.osQ)(M)}bypassSecurityTrustResourceUrl(M){return(0,a.e5t)(M)}static{this.\u0275fac=function(k){return new(k||Et)(a.KVO(de.qQ))}}static{this.\u0275prov=a.jDH({token:Et,factory:function(k){let re=null;return re=k?new k:function nt(Et){return new gt(Et.get(de.qQ))}(a.KVO(a.zZn)),re},providedIn:"root"})}}return Et})()},6814:(rn,Ze,j)=>{j.d(Ze,{nX:()=>Wn,Ix:()=>mi,Wk:()=>Gs,wQ:()=>Es,iI:()=>Sc,n3:()=>zi});var a=j(7705),de=j(1985),i=j(8071),ge=j(8455),Se=j(7673),xe=j(4412),Le=j(3073),Ne=j(3669),te=j(6450),ae=j(3794),pe=j(8496),ct=j(4360),je=j(5225);function It(...D){const O=(0,ae.lI)(D),w=(0,ae.ms)(D),{args:N,keys:H}=(0,Le.D)(D);if(0===N.length)return(0,ge.H)([],O);const ce=new de.c(function wt(D,O,w=Ne.D){return N=>{Ft(O,()=>{const{length:H}=D,ce=new Array(H);let Pe=H,_t=H;for(let pt=0;pt<H;pt++)Ft(O,()=>{const vn=(0,ge.H)(D[pt],O);let hr=!1;vn.subscribe((0,ct._)(N,sr=>{ce[pt]=sr,hr||(hr=!0,_t--),_t||N.next(w(ce.slice()))},()=>{--Pe||N.complete()}))},N)},N)}}(N,O,H?Pe=>(0,pe.e)(H,Pe):Ne.D));return w?ce.pipe((0,te.I)(w)):ce}function Ft(D,O,w){D?(0,je.N)(w,D,O):O()}var Pt=j(9350),hn=j(8793),Ge=j(8750);function be(D){return new de.c(O=>{(0,Ge.Tg)(D()).subscribe(O)})}var et=j(1203),Ye=j(8810),it=j(983),Dt=j(8359),Mt=j(9974);function De(){return(0,Mt.N)((D,O)=>{let w=null;D._refCount++;const N=(0,ct._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const H=D._connection,ce=w;w=null,H&&(!ce||H===ce)&&H.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(w=D.connect())})}class en extends de.c{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Mt.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Dt.yU;const w=this.getSubject();O.add(this.source.subscribe((0,ct._)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Dt.yU.EMPTY)}return O}refCount(){return De()(this)}}var mn=j(1413),lr=j(177),xt=j(6354),Vt=j(5558),Wt=j(6697),ut=j(9172),Fe=j(5964),tt=j(1397),Jt=j(1594),Be=j(274),Ae=j(8141),Ee=j(9437),Ve=j(2816),rt=j(9901);function Qe(D){return D<=0?()=>it.w:(0,Mt.N)((O,w)=>{let N=[];O.subscribe((0,ct._)(w,H=>{N.push(H),D<N.length&&N.shift()},()=>{for(const H of N)w.next(H);w.complete()},void 0,()=>{N=null}))})}var Rt=j(3774),tn=j(980),Vn=j(5343),Hn=j(6365),Nn=j(345);const $t="primary",kt=Symbol("RouteTitle");class _r{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function cn(D){return new _r(D)}function Mr(D,O,w){const N=w.path.split("/");if(N.length>D.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const H={};for(let ce=0;ce<N.length;ce++){const Pe=N[ce],_t=D[ce];if(Pe.startsWith(":"))H[Pe.substring(1)]=_t;else if(Pe!==_t.path)return null}return{consumed:D.slice(0,N.length),posParams:H}}function Ut(D,O){const w=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let H;for(let ce=0;ce<w.length;ce++)if(H=w[ce],!Tn(D[H],O[H]))return!1;return!0}function Tn(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const w=[...D].sort(),N=[...O].sort();return w.every((H,ce)=>N[ce]===H)}return D===O}function Gn(D){return D.length>0?D[D.length-1]:null}function an(D){return function Ie(D){return!!D&&(D instanceof de.c||(0,i.T)(D.lift)&&(0,i.T)(D.subscribe))}(D)?D:(0,a.jNT)(D)?(0,ge.H)(Promise.resolve(D)):(0,Se.of)(D)}const Ur={exact:function hi(D,O,w){if(!gt(D.segments,O.segments)||!tr(D.segments,O.segments,w)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!hi(D.children[N],O.children[N],w))return!1;return!0},subset:fn},Sr={exact:function qn(D,O){return Ut(D,O)},subset:function ys(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(w=>Tn(D[w],O[w]))},ignored:()=>!0};function Zr(D,O,w){return Ur[w.paths](D.root,O.root,w.matrixParams)&&Sr[w.queryParams](D.queryParams,O.queryParams)&&!("exact"===w.fragment&&D.fragment!==O.fragment)}function fn(D,O,w){return ei(D,O,O.segments,w)}function ei(D,O,w,N){if(D.segments.length>w.length){const H=D.segments.slice(0,w.length);return!(!gt(H,w)||O.hasChildren()||!tr(H,w,N))}if(D.segments.length===w.length){if(!gt(D.segments,w)||!tr(D.segments,w,N))return!1;for(const H in O.children)if(!D.children[H]||!fn(D.children[H],O.children[H],N))return!1;return!0}{const H=w.slice(0,D.segments.length),ce=w.slice(D.segments.length);return!!(gt(D.segments,H)&&tr(D.segments,H,N)&&D.children[$t])&&ei(D.children[$t],O,ce,N)}}function tr(D,O,w){return O.every((N,H)=>Sr[w](D[H].parameters,N.parameters))}class Er{constructor(O=new zn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cn(this.queryParams)),this._queryParamMap}toString(){return Gt.serialize(this)}}class zn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $n(this)}}class Pi{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=cn(this.parameters)),this._parameterMap}toString(){return re(this)}}function gt(D,O){return D.length===O.length&&D.every((w,N)=>w.path===O[N].path)}let Re=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:function(){return new vt},providedIn:"root"})}}return D})();class vt{parse(O){const w=new Ts(O);return new Er(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${Fr(O.root,!0)}`,N=function st(D){const O=Object.keys(D).map(w=>{const N=D[w];return Array.isArray(N)?N.map(H=>`${wi(w)}=${wi(H)}`).join("&"):`${wi(w)}=${wi(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function Et(D){return encodeURI(D)}(O.fragment)}`:""}`}}const Gt=new vt;function $n(D){return D.segments.map(O=>re(O)).join("/")}function Fr(D,O){if(!D.hasChildren())return $n(D);if(O){const w=D.children[$t]?Fr(D.children[$t],!1):"",N=[];return Object.entries(D.children).forEach(([H,ce])=>{H!==$t&&N.push(`${H}:${Fr(ce,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function ue(D,O){let w=[];return Object.entries(D.children).forEach(([N,H])=>{N===$t&&(w=w.concat(O(H,N)))}),Object.entries(D.children).forEach(([N,H])=>{N!==$t&&(w=w.concat(O(H,N)))}),w}(D,(N,H)=>H===$t?[Fr(D.children[$t],!1)]:[`${H}:${Fr(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[$t]?`${$n(D)}/${w[0]}`:`${$n(D)}/(${w.join("//")})`}}function br(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wi(D){return br(D).replace(/%3B/gi,";")}function $(D){return br(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function M(D){return decodeURIComponent(D)}function k(D){return M(D.replace(/\+/g,"%20"))}function re(D){return`${$(D.path)}${function _e(D){return Object.keys(D).map(O=>`;${$(O)}=${$(D[O])}`).join("")}(D.parameters)}`}const At=/^[^\/()?;#]+/;function sn(D){const O=D.match(At);return O?O[0]:""}const ln=/^[^\/()?;=#]+/,pr=/^[^=?&#]+/,Lr=/^[^&#]+/;class Ts{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[$t]=new zn(O,w)),N}parseSegment(){const O=sn(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new a.wOt(4009,!1);return this.capture(O),new Pi(M(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function An(D){const O=D.match(ln);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const H=sn(this.remaining);H&&(N=H,this.capture(N))}O[M(w)]=M(N)}parseQueryParam(O){const w=function on(D){const O=D.match(pr);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Pe=function ur(D){const O=D.match(Lr);return O?O[0]:""}(this.remaining);Pe&&(N=Pe,this.capture(N))}const H=k(w),ce=k(N);if(O.hasOwnProperty(H)){let Pe=O[H];Array.isArray(Pe)||(Pe=[Pe],O[H]=Pe),Pe.push(ce)}else O[H]=ce}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=sn(this.remaining),H=this.remaining[N.length];if("/"!==H&&")"!==H&&";"!==H)throw new a.wOt(4010,!1);let ce;N.indexOf(":")>-1?(ce=N.slice(0,N.indexOf(":")),this.capture(ce),this.capture(":")):O&&(ce=$t);const Pe=this.parseChildren();w[ce]=1===Object.keys(Pe).length?Pe[$t]:new zn([],Pe),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new a.wOt(4011,!1)}}function yi(D){return D.segments.length>0?new zn([],{[$t]:D}):D}function ji(D){const O={};for(const N of Object.keys(D.children)){const ce=ji(D.children[N]);if(N===$t&&0===ce.segments.length&&ce.hasChildren())for(const[Pe,_t]of Object.entries(ce.children))O[Pe]=_t;else(ce.segments.length>0||ce.hasChildren())&&(O[N]=ce)}return function Mi(D){if(1===D.numberOfChildren&&D.children[$t]){const O=D.children[$t];return new zn(D.segments.concat(O.segments),O.children)}return D}(new zn(D.segments,O))}function vi(D){return D instanceof Er}function nn(D){let O;const H=yi(function w(ce){const Pe={};for(const pt of ce.children){const vn=w(pt);Pe[pt.outlet]=vn}const _t=new zn(ce.url,Pe);return ce===D&&(O=_t),_t}(D.root));return O??H}function Z(D,O,w,N){let H=D;for(;H.parent;)H=H.parent;if(0===O.length)return zt(H,H,H,w,N);const ce=function dr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Rn(!0,0,D);let O=0,w=!1;const N=D.reduce((H,ce,Pe)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const _t={};return Object.entries(ce.outlets).forEach(([pt,vn])=>{_t[pt]="string"==typeof vn?vn.split("/"):vn}),[...H,{outlets:_t}]}if(ce.segmentPath)return[...H,ce.segmentPath]}return"string"!=typeof ce?[...H,ce]:0===Pe?(ce.split("/").forEach((_t,pt)=>{0==pt&&"."===_t||(0==pt&&""===_t?w=!0:".."===_t?O++:""!=_t&&H.push(_t))}),H):[...H,ce]},[]);return new Rn(w,O,N)}(O);if(ce.toRoot())return zt(H,H,new zn([],{}),w,N);const Pe=function Kr(D,O,w){if(D.isAbsolute)return new jr(O,!0,0);if(!w)return new jr(O,!1,NaN);if(null===w.parent)return new jr(w,!0,0);const N=fe(D.commands[0])?0:1;return function Tr(D,O,w){let N=D,H=O,ce=w;for(;ce>H;){if(ce-=H,N=N.parent,!N)throw new a.wOt(4005,!1);H=N.segments.length}return new jr(N,!1,H-ce)}(w,w.segments.length-1+N,D.numberOfDoubleDots)}(ce,H,D),_t=Pe.processChildren?is(Pe.segmentGroup,Pe.index,ce.commands):Ps(Pe.segmentGroup,Pe.index,ce.commands);return zt(H,Pe.segmentGroup,_t,w,N)}function fe(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function He(D){return"object"==typeof D&&null!=D&&D.outlets}function zt(D,O,w,N,H){let Pe,ce={};N&&Object.entries(N).forEach(([pt,vn])=>{ce[pt]=Array.isArray(vn)?vn.map(hr=>`${hr}`):`${vn}`}),Pe=D===O?w:Cn(D,O,w);const _t=yi(ji(Pe));return new Er(_t,ce,H)}function Cn(D,O,w){const N={};return Object.entries(D.children).forEach(([H,ce])=>{N[H]=ce===O?w:Cn(ce,O,w)}),new zn(D.segments,N)}class Rn{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&fe(N[0]))throw new a.wOt(4003,!1);const H=N.find(He);if(H&&H!==Gn(N))throw new a.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jr{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function Ps(D,O,w){if(D||(D=new zn([],{})),0===D.segments.length&&D.hasChildren())return is(D,O,w);const N=function Fo(D,O,w){let N=0,H=O;const ce={match:!1,pathIndex:0,commandIndex:0};for(;H<D.segments.length;){if(N>=w.length)return ce;const Pe=D.segments[H],_t=w[N];if(He(_t))break;const pt=`${_t}`,vn=N<w.length-1?w[N+1]:null;if(H>0&&void 0===pt)break;if(pt&&vn&&"object"==typeof vn&&void 0===vn.outlets){if(!si(pt,vn,Pe))return ce;N+=2}else{if(!si(pt,{},Pe))return ce;N++}H++}return{match:!0,pathIndex:H,commandIndex:N}}(D,O,w),H=w.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const ce=new zn(D.segments.slice(0,N.pathIndex),{});return ce.children[$t]=new zn(D.segments.slice(N.pathIndex),D.children),is(ce,0,H)}return N.match&&0===H.length?new zn(D.segments,{}):N.match&&!D.hasChildren()?Lo(D,O,w):N.match?is(D,0,H):Lo(D,O,w)}function is(D,O,w){if(0===w.length)return new zn(D.segments,{});{const N=function Qi(D){return He(D[0])?D[0].outlets:{[$t]:D}}(w),H={};if(Object.keys(N).some(ce=>ce!==$t)&&D.children[$t]&&1===D.numberOfChildren&&0===D.children[$t].segments.length){const ce=is(D.children[$t],O,w);return new zn(D.segments,ce.children)}return Object.entries(N).forEach(([ce,Pe])=>{"string"==typeof Pe&&(Pe=[Pe]),null!==Pe&&(H[ce]=Ps(D.children[ce],O,Pe))}),Object.entries(D.children).forEach(([ce,Pe])=>{void 0===N[ce]&&(H[ce]=Pe)}),new zn(D.segments,H)}}function Lo(D,O,w){const N=D.segments.slice(0,O);let H=0;for(;H<w.length;){const ce=w[H];if(He(ce)){const pt=Gi(ce.outlets);return new zn(N,pt)}if(0===H&&fe(w[0])){N.push(new Pi(D.segments[O].path,qo(w[0]))),H++;continue}const Pe=He(ce)?ce.outlets[$t]:`${ce}`,_t=H<w.length-1?w[H+1]:null;Pe&&_t&&fe(_t)?(N.push(new Pi(Pe,qo(_t))),H+=2):(N.push(new Pi(Pe,{})),H++)}return new zn(N,{})}function Gi(D){const O={};return Object.entries(D).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=Lo(new zn([],{}),0,N))}),O}function qo(D){const O={};return Object.entries(D).forEach(([w,N])=>O[w]=`${N}`),O}function si(D,O,w){return D==w.path&&Ut(O,w.parameters)}const ss="imperative";class vs{constructor(O,w){this.id=O,this.url=w}}class qr extends vs{constructor(O,w,N="imperative",H=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ki extends vs{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Li extends vs{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ir extends vs{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=16}}class lo extends vs{constructor(O,w,N,H){super(O,w),this.error=N,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vo extends vs{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fi extends vs{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class La extends vs{constructor(O,w,N,H,ce){super(O,w),this.urlAfterRedirects=N,this.state=H,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Za extends vs{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ri extends vs{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class va{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qs{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yr{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class js{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ms{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bo{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xr{}class oi{constructor(O){this.url=O}}class Is{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pi,this.attachRef=null}}let pi=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const H=this.getOrCreateContext(w);H.outlet=N,this.contexts.set(w,H)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new Is,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class os{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=to(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=to(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=as(O,this._root);return w.length<2?[]:w[w.length-2].children.map(H=>H.value).filter(H=>H!==O)}pathFromRoot(O){return as(O,this._root).map(w=>w.value)}}function to(D,O){if(D===O.value)return O;for(const w of O.children){const N=to(D,w);if(N)return N}return null}function as(D,O){if(D===O.value)return[O];for(const w of O.children){const N=as(D,w);if(N.length)return N.unshift(O),N}return[]}class ws{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function Bs(D){const O={};return D&&D.children.forEach(w=>O[w.value.outlet]=w),O}class ai extends os{constructor(O,w){super(O),this.snapshot=w,Rr(this,O)}toString(){return this.snapshot.toString()}}function pn(D,O){const w=function Ln(D,O){const Pe=new Oi([],{},{},"",{},$t,O,null,{});return new hs("",new ws(Pe,[]))}(0,O),N=new xe.t([new Pi("",{})]),H=new xe.t({}),ce=new xe.t({}),Pe=new xe.t({}),_t=new xe.t(""),pt=new Wn(N,H,Pe,_t,ce,$t,O,w.root);return pt.snapshot=w.root,new ai(new ws(pt,[]),w)}class Wn{constructor(O,w,N,H,ce,Pe,_t,pt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=H,this.dataSubject=ce,this.outlet=Pe,this.component=_t,this._futureSnapshot=pt,this.title=this.dataSubject?.pipe((0,xt.T)(vn=>vn[kt]))??(0,Se.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.T)(O=>cn(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.T)(O=>cn(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ci(D,O="emptyOnly"){const w=D.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const H=w[N],ce=w[N-1];if(H.routeConfig&&""===H.routeConfig.path)N--;else{if(ce.component)break;N--}}return function ti(D){return D.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class Oi{get title(){return this.data?.[kt]}constructor(O,w,N,H,ce,Pe,_t,pt,vn){this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=ce,this.outlet=Pe,this.component=_t,this.routeConfig=pt,this._resolve=vn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hs extends os{constructor(O,w){super(w),this.url=O,Rr(this,w)}toString(){return Bi(this._root)}}function Rr(D,O){O.value._routerState=D,O.children.forEach(w=>Rr(D,w))}function Bi(D){const O=D.children.length>0?` { ${D.children.map(Bi).join(", ")} } `:"";return`${D.value}${O}`}function As(D){if(D.snapshot){const O=D.snapshot,w=D._futureSnapshot;D.snapshot=w,Ut(O.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),Ut(O.params,w.params)||D.paramsSubject.next(w.params),function Zn(D,O){if(D.length!==O.length)return!1;for(let w=0;w<D.length;++w)if(!Ut(D[w],O[w]))return!1;return!0}(O.url,w.url)||D.urlSubject.next(w.url),Ut(O.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Qn(D,O){const w=Ut(D.params,O.params)&&function nt(D,O){return gt(D,O)&&D.every((w,N)=>Ut(w.parameters,O[N].parameters))}(D.url,O.url);return w&&!(!D.parent!=!O.parent)&&(!D.parent||Qn(D.parent,O.parent))}let zi=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new a.bkB,this.deactivateEvents=new a.bkB,this.attachEvents=new a.bkB,this.detachEvents=new a.bkB,this.parentContexts=(0,a.WQX)(pi),this.location=(0,a.WQX)(a.c1b),this.changeDetector=(0,a.WQX)(a.gRc),this.environmentInjector=(0,a.WQX)(a.uvJ),this.inputBinder=(0,a.WQX)(ee,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:H}=w.name;if(N)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new a.wOt(4013,!1);this._activatedRoute=w;const H=this.location,Pe=w.snapshot.component,_t=this.parentContexts.getOrCreateContext(this.name).children,pt=new Os(w,_t,H.injector);this.activated=H.createComponent(Pe,{index:H.length,injector:pt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=a.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.OA$]})}}return D})();class Os{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===Wn?this.route:O===pi?this.childContexts:this.parent.get(O,w)}}const ee=new a.nKC("");let Q=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,H=It([N.queryParams,N.params,N.data]).pipe((0,Vt.n)(([ce,Pe,_t],pt)=>(_t={...ce,...Pe,..._t},0===pt?(0,Se.of)(_t):Promise.resolve(_t)))).subscribe(ce=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Pe=(0,a.HJs)(N.component);if(Pe)for(const{templateName:_t}of Pe.inputs)w.activatedComponentRef.setInput(_t,ce[_t]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,H)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac})}}return D})();function Oe(D,O,w){if(w&&D.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const H=function Je(D,O,w){return O.children.map(N=>{for(const H of w.children)if(D.shouldReuseRoute(N.value,H.value.snapshot))return Oe(D,N,H);return Oe(D,N)})}(D,O,w);return new ws(N,H)}{if(D.shouldAttach(O.value)){const ce=D.retrieve(O.value);if(null!==ce){const Pe=ce.route;return Pe.value._futureSnapshot=O.value,Pe.children=O.children.map(_t=>Oe(D,_t)),Pe}}const N=function mt(D){return new Wn(new xe.t(D.url),new xe.t(D.params),new xe.t(D.queryParams),new xe.t(D.fragment),new xe.t(D.data),D.outlet,D.component,D)}(O.value),H=O.children.map(ce=>Oe(D,ce));return new ws(N,H)}}const Yt="ngNavigationCancelingError";function Dn(D,O){const{redirectTo:w,navigationBehaviorOptions:N}=vi(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,H=yn(!1,0,O);return H.url=w,H.navigationBehaviorOptions=N,H}function yn(D,O,w){const N=new Error("NavigationCancelingError: "+(D||""));return N[Yt]=!0,N.cancellationCode=O,w&&(N.url=w),N}function wr(D){return D&&D[Yt]}let Fn=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=a.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[a.aNF],decls:1,vars:0,template:function(N,H){1&N&&a.nrm(0,"router-outlet")},dependencies:[zi],encapsulation:2})}}return D})();function li(D){const O=D.children&&D.children.map(li),w=O?{...D,children:O}:{...D};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==$t&&(w.component=Fn),w}function Nr(D){return D.outlet||$t}function Zi(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class Uo{constructor(O,w,N,H,ce){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=H,this.inputBindingEnabled=ce}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),As(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const H=Bs(w);O.children.forEach(ce=>{const Pe=ce.value.outlet;this.deactivateRoutes(ce,H[Pe],N),delete H[Pe]}),Object.values(H).forEach(ce=>{this.deactivateRouteAndItsChildren(ce,N)})}deactivateRoutes(O,w,N){const H=O.value,ce=w?w.value:null;if(H===ce)if(H.component){const Pe=N.getContext(H.outlet);Pe&&this.deactivateChildRoutes(O,w,Pe.children)}else this.deactivateChildRoutes(O,w,N);else ce&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,ce=Bs(O);for(const Pe of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Pe],H);if(N&&N.outlet){const Pe=N.outlet.detach(),_t=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Pe,route:O,contexts:_t})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,ce=Bs(O);for(const Pe of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Pe],H);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const H=Bs(w);O.children.forEach(ce=>{this.activateRoutes(ce,H[ce.value.outlet],N),this.forwardEvent(new bo(ce.value.snapshot))}),O.children.length&&this.forwardEvent(new js(O.value.snapshot))}activateRoutes(O,w,N){const H=O.value,ce=w?w.value:null;if(As(H),H===ce)if(H.component){const Pe=N.getOrCreateContext(H.outlet);this.activateChildRoutes(O,w,Pe.children)}else this.activateChildRoutes(O,w,N);else if(H.component){const Pe=N.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const _t=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Pe.children.onOutletReAttached(_t.contexts),Pe.attachRef=_t.componentRef,Pe.route=_t.route.value,Pe.outlet&&Pe.outlet.attach(_t.componentRef,_t.route.value),As(_t.route.value),this.activateChildRoutes(O,null,Pe.children)}else{const _t=Zi(H.snapshot);Pe.attachRef=null,Pe.route=H,Pe.injector=_t,Pe.outlet&&Pe.outlet.activateWith(H,Pe.injector),this.activateChildRoutes(O,null,Pe.children)}}else this.activateChildRoutes(O,null,N)}}class Va{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class $s{constructor(O,w){this.component=O,this.route=w}}function Vl(D,O,w){const N=D._root;return Co(N,O?O._root:null,w,[N.value])}function fs(D,O){const w=Symbol(),N=O.get(D,w);return N===w?"function"!=typeof D||(0,a.LfX)(D)?O.get(D):D:N}function Co(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const ce=Bs(O);return D.children.forEach(Pe=>{(function ec(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const ce=D.value,Pe=O?O.value:null,_t=w?w.getContext(D.value.outlet):null;if(Pe&&ce.routeConfig===Pe.routeConfig){const pt=function jo(D,O,w){if("function"==typeof w)return w(D,O);switch(w){case"pathParamsChange":return!gt(D.url,O.url);case"pathParamsOrQueryParamsChange":return!gt(D.url,O.url)||!Ut(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qn(D,O)||!Ut(D.queryParams,O.queryParams);default:return!Qn(D,O)}}(Pe,ce,ce.routeConfig.runGuardsAndResolvers);pt?H.canActivateChecks.push(new Va(N)):(ce.data=Pe.data,ce._resolvedData=Pe._resolvedData),Co(D,O,ce.component?_t?_t.children:null:w,N,H),pt&&_t&&_t.outlet&&_t.outlet.isActivated&&H.canDeactivateChecks.push(new $s(_t.outlet.component,Pe))}else Pe&&Ei(O,_t,H),H.canActivateChecks.push(new Va(N)),Co(D,null,ce.component?_t?_t.children:null:w,N,H)})(Pe,ce[Pe.value.outlet],w,N.concat([Pe.value]),H),delete ce[Pe.value.outlet]}),Object.entries(ce).forEach(([Pe,_t])=>Ei(_t,w.getContext(Pe),H)),H}function Ei(D,O,w){const N=Bs(D),H=D.value;Object.entries(N).forEach(([ce,Pe])=>{Ei(Pe,H.component?O?O.children.getContext(ce):null:O,w)}),w.canDeactivateChecks.push(new $s(H.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,H))}function To(D){return"function"==typeof D}function Wi(D){return D instanceof Pt.G||"EmptyError"===D?.name}const Qs=Symbol("INITIAL_VALUE");function ps(){return(0,Vt.n)(D=>It(D.map(O=>O.pipe((0,Wt.s)(1),(0,ut.Z)(Qs)))).pipe((0,xt.T)(O=>{for(const w of O)if(!0!==w){if(w===Qs)return Qs;if(!1===w||w instanceof Er)return w}return!0}),(0,Fe.p)(O=>O!==Qs),(0,Wt.s)(1)))}function cs(D){return(0,et.F)((0,Ae.M)(O=>{if(vi(O))throw Dn(0,O)}),(0,xt.T)(O=>!0===O))}class Js{constructor(O){this.segmentGroup=O||null}}class Ca{constructor(O){this.urlTree=O}}function Ss(D){return(0,Ye.$)(new Js(D))}function fa(D){return(0,Ye.$)(new Ca(D))}class il{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new a.wOt(4002,!1)}lineralizeSegments(O,w){let N=[],H=w.root;for(;;){if(N=N.concat(H.segments),0===H.numberOfChildren)return(0,Se.of)(N);if(H.numberOfChildren>1||!H.children[$t])return(0,Ye.$)(new a.wOt(4e3,!1));H=H.children[$t]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,H){const ce=this.createSegmentGroup(O,w.root,N,H);return new Er(ce,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([H,ce])=>{if("string"==typeof ce&&ce.startsWith(":")){const _t=ce.substring(1);N[H]=w[_t]}else N[H]=ce}),N}createSegmentGroup(O,w,N,H){const ce=this.createSegments(O,w.segments,N,H);let Pe={};return Object.entries(w.children).forEach(([_t,pt])=>{Pe[_t]=this.createSegmentGroup(O,pt,N,H)}),new zn(ce,Pe)}createSegments(O,w,N,H){return w.map(ce=>ce.path.startsWith(":")?this.findPosParam(O,ce,H):this.findOrReturn(ce,N))}findPosParam(O,w,N){const H=N[w.path.substring(1)];if(!H)throw new a.wOt(4001,!1);return H}findOrReturn(O,w){let N=0;for(const H of w){if(H.path===O.path)return w.splice(N),H;N++}return O}}const gr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tc(D,O,w,N,H){const ce=Io(D,O,w);return ce.matched?(N=function Sn(D,O){return D.providers&&!D._injector&&(D._injector=(0,a.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function ba(D,O,w,N){const H=O.canMatch;if(!H||0===H.length)return(0,Se.of)(!0);const ce=H.map(Pe=>{const _t=fs(Pe,D);return an(function Ue(D){return D&&To(D.canMatch)}(_t)?_t.canMatch(O,w):D.runInContext(()=>_t(O,w)))});return(0,Se.of)(ce).pipe(ps(),cs())}(N,O,w).pipe((0,xt.T)(Pe=>!0===Pe?ce:{...gr}))):(0,Se.of)(ce)}function Io(D,O,w){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||w.length>0)?{...gr}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const H=(O.matcher||Mr)(w,D,O);if(!H)return{...gr};const ce={};Object.entries(H.posParams??{}).forEach(([_t,pt])=>{ce[_t]=pt.path});const Pe=H.consumed.length>0?{...ce,...H.consumed[H.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:H.consumed,remainingSegments:w.slice(H.consumed.length),parameters:Pe,positionalParamSegments:H.posParams??{}}}function Xo(D,O,w,N){return w.length>0&&function Ic(D,O,w){return w.some(N=>tc(D,O,N)&&Nr(N)!==$t)}(D,w,N)?{segmentGroup:new zn(O,ja(N,new zn(w,D.children))),slicedSegments:[]}:0===w.length&&function Fh(D,O,w){return w.some(N=>tc(D,O,N))}(D,w,N)?{segmentGroup:new zn(D.segments,Ua(D,0,w,N,D.children)),slicedSegments:w}:{segmentGroup:new zn(D.segments,D.children),slicedSegments:w}}function Ua(D,O,w,N,H){const ce={};for(const Pe of N)if(tc(D,w,Pe)&&!H[Nr(Pe)]){const _t=new zn([],{});ce[Nr(Pe)]=_t}return{...H,...ce}}function ja(D,O){const w={};w[$t]=O;for(const N of D)if(""===N.path&&Nr(N)!==$t){const H=new zn([],{});w[Nr(N)]=H}return w}function tc(D,O,w){return(!(D.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class sl{constructor(O,w,N,H,ce,Pe,_t){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=H,this.urlTree=ce,this.paramsInheritanceStrategy=Pe,this.urlSerializer=_t,this.allowRedirects=!0,this.applyRedirects=new il(this.urlSerializer,this.urlTree)}noMatchError(O){return new a.wOt(4002,!1)}recognize(){const O=Xo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,$t).pipe((0,Ee.W)(w=>{if(w instanceof Ca)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof Js?this.noMatchError(w):w}),(0,xt.T)(w=>{const N=new Oi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,{}),H=new ws(N,w),ce=new hs("",H),Pe=function Ce(D,O,w=null,N=null){return Z(nn(D),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Pe.queryParams=this.urlTree.queryParams,ce.url=this.urlSerializer.serialize(Pe),this.inheritParamsAndData(ce._root),{state:ce,tree:Pe}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,$t).pipe((0,Ee.W)(N=>{throw N instanceof Js?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=ci(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(O,w,N,H){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,H,!0)}processChildren(O,w,N){const H=[];for(const ce of Object.keys(N.children))"primary"===ce?H.unshift(ce):H.push(ce);return(0,ge.H)(H).pipe((0,Be.H)(ce=>{const Pe=N.children[ce],_t=function Ys(D,O){const w=D.filter(N=>Nr(N)===O);return w.push(...D.filter(N=>Nr(N)!==O)),w}(w,ce);return this.processSegmentGroup(O,_t,Pe,ce)}),(0,Ve.S)((ce,Pe)=>(ce.push(...Pe),ce)),(0,rt.U)(null),function wn(D,O){const w=arguments.length>=2;return N=>N.pipe(D?(0,Fe.p)((H,ce)=>D(H,ce,N)):Ne.D,Qe(1),w?(0,rt.U)(O):(0,Rt.v)(()=>new Pt.G))}(),(0,tt.Z)(ce=>{if(null===ce)return Ss(N);const Pe=ic(ce);return function wa(D){D.sort((O,w)=>O.value.outlet===$t?-1:w.value.outlet===$t?1:O.value.outlet.localeCompare(w.value.outlet))}(Pe),(0,Se.of)(Pe)}))}processSegment(O,w,N,H,ce,Pe){return(0,ge.H)(w).pipe((0,Be.H)(_t=>this.processSegmentAgainstRoute(_t._injector??O,w,_t,N,H,ce,Pe).pipe((0,Ee.W)(pt=>{if(pt instanceof Js)return(0,Se.of)(null);throw pt}))),(0,Jt.$)(_t=>!!_t),(0,Ee.W)(_t=>{if(Wi(_t))return function nc(D,O,w){return 0===O.length&&!D.children[w]}(N,H,ce)?(0,Se.of)([]):Ss(N);throw _t}))}processSegmentAgainstRoute(O,w,N,H,ce,Pe,_t){return function jl(D,O,w,N){return!!(Nr(D)===N||N!==$t&&tc(O,w,D))&&("**"===D.path||Io(O,D,w).matched)}(N,H,ce,Pe)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,H,N,ce,Pe,_t):_t&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,H,w,N,ce,Pe):Ss(H):Ss(H)}expandSegmentAgainstRouteUsingRedirect(O,w,N,H,ce,Pe){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,H,Pe):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,ce,Pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,H){const ce=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?fa(ce):this.applyRedirects.lineralizeSegments(N,ce).pipe((0,tt.Z)(Pe=>{const _t=new zn(Pe,{});return this.processSegment(O,w,_t,Pe,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,ce,Pe){const{matched:_t,consumedSegments:pt,remainingSegments:vn,positionalParamSegments:hr}=Io(w,H,ce);if(!_t)return Ss(w);const sr=this.applyRedirects.applyRedirectCommands(pt,H.redirectTo,hr);return H.redirectTo.startsWith("/")?fa(sr):this.applyRedirects.lineralizeSegments(H,sr).pipe((0,tt.Z)(kr=>this.processSegment(O,N,w,kr.concat(vn),Pe,!1)))}matchSegmentAgainstRoute(O,w,N,H,ce,Pe){let _t;if("**"===N.path){const pt=H.length>0?Gn(H).parameters:{},vn=new Oi(H,pt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bl(N),Nr(N),N.component??N._loadedComponent??null,N,P(N));_t=(0,Se.of)({snapshot:vn,consumedSegments:[],remainingSegments:[]}),w.children={}}else _t=Tc(w,N,H,O).pipe((0,xt.T)(({matched:pt,consumedSegments:vn,remainingSegments:hr,parameters:sr})=>pt?{snapshot:new Oi(vn,sr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bl(N),Nr(N),N.component??N._loadedComponent??null,N,P(N)),consumedSegments:vn,remainingSegments:hr}:null));return _t.pipe((0,Vt.n)(pt=>null===pt?Ss(w):this.getChildConfig(O=N._injector??O,N,H).pipe((0,Vt.n)(({routes:vn})=>{const hr=N._loadedInjector??O,{snapshot:sr,consumedSegments:kr,remainingSegments:_i}=pt,{segmentGroup:ac,slicedSegments:Pc}=Xo(w,kr,_i,vn);if(0===Pc.length&&ac.hasChildren())return this.processChildren(hr,vn,ac).pipe((0,xt.T)(Mc=>null===Mc?null:[new ws(sr,Mc)]));if(0===vn.length&&0===Pc.length)return(0,Se.of)([new ws(sr,[])]);const cl=Nr(N)===ce;return this.processSegment(hr,vn,ac,Pc,cl?$t:ce,!0).pipe((0,xt.T)(Mc=>[new ws(sr,Mc)]))}))))}getChildConfig(O,w,N){return w.children?(0,Se.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Se.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function rl(D,O,w,N){const H=O.canLoad;if(void 0===H||0===H.length)return(0,Se.of)(!0);const ce=H.map(Pe=>{const _t=fs(Pe,D);return an(function W(D){return D&&To(D.canLoad)}(_t)?_t.canLoad(O,w):D.runInContext(()=>_t(O,w)))});return(0,Se.of)(ce).pipe(ps(),cs())}(O,w,N).pipe((0,tt.Z)(H=>H?this.configLoader.loadChildren(O,w).pipe((0,Ae.M)(ce=>{w._loadedRoutes=ce.routes,w._loadedInjector=ce.injector})):function Ia(D){return(0,Ye.$)(yn(!1,3))}())):(0,Se.of)({routes:[],injector:O})}}function rc(D){const O=D.value.routeConfig;return O&&""===O.path}function ic(D){const O=[],w=new Set;for(const N of D){if(!rc(N)){O.push(N);continue}const H=O.find(ce=>N.value.routeConfig===ce.value.routeConfig);void 0!==H?(H.children.push(...N.children),w.add(H)):O.push(N)}for(const N of w){const H=ic(N.children);O.push(new ws(N.value,H))}return O.filter(N=>!w.has(N))}function Bl(D){return D.data||{}}function P(D){return D.resolve||{}}function jn(D){return"string"==typeof D.title||null===D.title}function zr(D){return(0,Vt.n)(O=>{const w=D(O);return w?(0,ge.H)(w).pipe((0,xt.T)(()=>O)):(0,Se.of)(O)})}const gi=new a.nKC("ROUTES");let ni=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.WQX)(a.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Se.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=an(w.loadComponent()).pipe((0,xt.T)(Di),(0,Ae.M)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ce}),(0,tn.j)(()=>{this.componentLoaders.delete(w)})),H=new en(N,()=>new mn.B).pipe(De());return this.componentLoaders.set(w,H),H}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Se.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ce=function mr(D,O,w,N){return an(D.loadChildren()).pipe((0,xt.T)(Di),(0,tt.Z)(H=>H instanceof a.Co$||Array.isArray(H)?(0,Se.of)(H):(0,ge.H)(O.compileModuleAsync(H))),(0,xt.T)(H=>{N&&N(D);let ce,Pe,_t=!1;return Array.isArray(H)?(Pe=H,!0):(ce=H.create(w).injector,Pe=ce.get(gi,[],{optional:!0,self:!0}).flat()),{routes:Pe.map(li),injector:ce}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,tn.j)(()=>{this.childrenLoaders.delete(N)})),Pe=new en(ce,()=>new mn.B).pipe(De());return this.childrenLoaders.set(N,Pe),Pe}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Di(D){return function ri(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let bi=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mn.B,this.transitionAbortSubject=new mn.B,this.configLoader=(0,a.WQX)(ni),this.environmentInjector=(0,a.WQX)(a.uvJ),this.urlSerializer=(0,a.WQX)(Re),this.rootContexts=(0,a.WQX)(pi),this.inputBindingEnabled=null!==(0,a.WQX)(ee,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Se.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new qs(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new va(H))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,H){return this.transitions=new xe.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ss,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Fe.p)(ce=>0!==ce.id),(0,xt.T)(ce=>({...ce,extractedUrl:w.urlHandlingStrategy.extract(ce.rawUrl)})),(0,Vt.n)(ce=>{this.currentTransition=ce;let Pe=!1,_t=!1;return(0,Se.of)(ce).pipe((0,Ae.M)(pt=>{this.currentNavigation={id:pt.id,initialUrl:pt.rawUrl,extractedUrl:pt.extractedUrl,trigger:pt.source,extras:pt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Vt.n)(pt=>{const vn=pt.currentBrowserUrl.toString(),hr=!w.navigated||pt.extractedUrl.toString()!==vn||vn!==pt.currentUrlTree.toString();if(!hr&&"reload"!==(pt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const kr="";return this.events.next(new Ir(pt.id,this.urlSerializer.serialize(pt.rawUrl),kr,0)),pt.resolve(null),it.w}if(w.urlHandlingStrategy.shouldProcessUrl(pt.rawUrl))return(0,Se.of)(pt).pipe((0,Vt.n)(kr=>{const _i=this.transitions?.getValue();return this.events.next(new qr(kr.id,this.urlSerializer.serialize(kr.extractedUrl),kr.source,kr.restoredState)),_i!==this.transitions?.getValue()?it.w:Promise.resolve(kr)}),function ne(D,O,w,N,H,ce){return(0,tt.Z)(Pe=>function Bo(D,O,w,N,H,ce,Pe="emptyOnly"){return new sl(D,O,w,N,H,Pe,ce).recognize()}(D,O,w,N,Pe.extractedUrl,H,ce).pipe((0,xt.T)(({state:_t,tree:pt})=>({...Pe,targetSnapshot:_t,urlAfterRedirects:pt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Ae.M)(kr=>{ce.targetSnapshot=kr.targetSnapshot,ce.urlAfterRedirects=kr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:kr.urlAfterRedirects};const _i=new Vo(kr.id,this.urlSerializer.serialize(kr.extractedUrl),this.urlSerializer.serialize(kr.urlAfterRedirects),kr.targetSnapshot);this.events.next(_i)}));if(hr&&w.urlHandlingStrategy.shouldProcessUrl(pt.currentRawUrl)){const{id:kr,extractedUrl:_i,source:ac,restoredState:Pc,extras:cl}=pt,Mc=new qr(kr,this.urlSerializer.serialize(_i),ac,Pc);this.events.next(Mc);const xu=pn(0,this.rootComponentType).snapshot;return this.currentTransition=ce={...pt,targetSnapshot:xu,urlAfterRedirects:_i,extras:{...cl,skipLocationChange:!1,replaceUrl:!1}},(0,Se.of)(ce)}{const kr="";return this.events.next(new Ir(pt.id,this.urlSerializer.serialize(pt.extractedUrl),kr,1)),pt.resolve(null),it.w}}),(0,Ae.M)(pt=>{const vn=new fi(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects),pt.targetSnapshot);this.events.next(vn)}),(0,xt.T)(pt=>(this.currentTransition=ce={...pt,guards:Vl(pt.targetSnapshot,pt.currentSnapshot,this.rootContexts)},ce)),function uo(D,O){return(0,tt.Z)(w=>{const{targetSnapshot:N,currentSnapshot:H,guards:{canActivateChecks:ce,canDeactivateChecks:Pe}}=w;return 0===Pe.length&&0===ce.length?(0,Se.of)({...w,guardsResult:!0}):function no(D,O,w,N){return(0,ge.H)(D).pipe((0,tt.Z)(H=>function $i(D,O,w,N,H){const ce=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,Se.of)(!0);const Pe=ce.map(_t=>{const pt=Zi(O)??H,vn=fs(_t,pt);return an(function le(D){return D&&To(D.canDeactivate)}(vn)?vn.canDeactivate(D,O,w,N):pt.runInContext(()=>vn(D,O,w,N))).pipe((0,Jt.$)())});return(0,Se.of)(Pe).pipe(ps())}(H.component,H.route,w,O,N)),(0,Jt.$)(H=>!0!==H,!0))}(Pe,N,H,D).pipe((0,tt.Z)(_t=>_t&&function Yo(D){return"boolean"==typeof D}(_t)?function es(D,O,w,N){return(0,ge.H)(O).pipe((0,Be.H)(H=>(0,hn.x)(function Ul(D,O){return null!==D&&O&&O(new Yr(D)),(0,Se.of)(!0)}(H.route.parent,N),function ho(D,O){return null!==D&&O&&O(new Ms(D)),(0,Se.of)(!0)}(H.route,N),function Ea(D,O,w){const N=O[O.length-1],ce=O.slice(0,O.length-1).reverse().map(Pe=>function qi(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>be(()=>{const _t=Pe.guards.map(pt=>{const vn=Zi(Pe.node)??w,hr=fs(pt,vn);return an(function V(D){return D&&To(D.canActivateChild)}(hr)?hr.canActivateChild(N,D):vn.runInContext(()=>hr(N,D))).pipe((0,Jt.$)())});return(0,Se.of)(_t).pipe(ps())}));return(0,Se.of)(ce).pipe(ps())}(D,H.path,w),function gs(D,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Se.of)(!0);const H=N.map(ce=>be(()=>{const Pe=Zi(O)??w,_t=fs(ce,Pe);return an(function J(D){return D&&To(D.canActivate)}(_t)?_t.canActivate(O,D):Pe.runInContext(()=>_t(O,D))).pipe((0,Jt.$)())}));return(0,Se.of)(H).pipe(ps())}(D,H.route,w))),(0,Jt.$)(H=>!0!==H,!0))}(N,ce,D,O):(0,Se.of)(_t)),(0,xt.T)(_t=>({...w,guardsResult:_t})))})}(this.environmentInjector,pt=>this.events.next(pt)),(0,Ae.M)(pt=>{if(ce.guardsResult=pt.guardsResult,vi(pt.guardsResult))throw Dn(0,pt.guardsResult);const vn=new La(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects),pt.targetSnapshot,!!pt.guardsResult);this.events.next(vn)}),(0,Fe.p)(pt=>!!pt.guardsResult||(this.cancelNavigationTransition(pt,"",3),!1)),zr(pt=>{if(pt.guards.canActivateChecks.length)return(0,Se.of)(pt).pipe((0,Ae.M)(vn=>{const hr=new Za(vn.id,this.urlSerializer.serialize(vn.extractedUrl),this.urlSerializer.serialize(vn.urlAfterRedirects),vn.targetSnapshot);this.events.next(hr)}),(0,Vt.n)(vn=>{let hr=!1;return(0,Se.of)(vn).pipe(function B(D,O){return(0,tt.Z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:H}}=w;if(!H.length)return(0,Se.of)(w);let ce=0;return(0,ge.H)(H).pipe((0,Be.H)(Pe=>function Y(D,O,w,N){const H=D.routeConfig,ce=D._resolve;return void 0!==H?.title&&!jn(H)&&(ce[kt]=H.title),function Me(D,O,w,N){const H=function Ct(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===H.length)return(0,Se.of)({});const ce={};return(0,ge.H)(H).pipe((0,tt.Z)(Pe=>function Ot(D,O,w,N){const H=Zi(O)??N,ce=fs(D,H);return an(ce.resolve?ce.resolve(O,w):H.runInContext(()=>ce(O,w)))}(D[Pe],O,w,N).pipe((0,Jt.$)(),(0,Ae.M)(_t=>{ce[Pe]=_t}))),Qe(1),function nr(D){return(0,xt.T)(()=>D)}(ce),(0,Ee.W)(Pe=>Wi(Pe)?it.w:(0,Ye.$)(Pe)))}(ce,D,O,N).pipe((0,xt.T)(Pe=>(D._resolvedData=Pe,D.data=ci(D,w).resolve,H&&jn(H)&&(D.data[kt]=H.title),null)))}(Pe.route,N,D,O)),(0,Ae.M)(()=>ce++),Qe(1),(0,tt.Z)(Pe=>ce===H.length?(0,Se.of)(w):it.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Ae.M)({next:()=>hr=!0,complete:()=>{hr||this.cancelNavigationTransition(vn,"",2)}}))}),(0,Ae.M)(vn=>{const hr=new Ri(vn.id,this.urlSerializer.serialize(vn.extractedUrl),this.urlSerializer.serialize(vn.urlAfterRedirects),vn.targetSnapshot);this.events.next(hr)}))}),zr(pt=>{const vn=hr=>{const sr=[];hr.routeConfig?.loadComponent&&!hr.routeConfig._loadedComponent&&sr.push(this.configLoader.loadComponent(hr.routeConfig).pipe((0,Ae.M)(kr=>{hr.component=kr}),(0,xt.T)(()=>{})));for(const kr of hr.children)sr.push(...vn(kr));return sr};return It(vn(pt.targetSnapshot.root)).pipe((0,rt.U)(),(0,Wt.s)(1))}),zr(()=>this.afterPreactivation()),(0,xt.T)(pt=>{const vn=function we(D,O,w){const N=Oe(D,O._root,w?w._root:void 0);return new ai(N,O)}(w.routeReuseStrategy,pt.targetSnapshot,pt.currentRouterState);return this.currentTransition=ce={...pt,targetRouterState:vn},ce}),(0,Ae.M)(()=>{this.events.next(new xr)}),((D,O,w,N)=>(0,xt.T)(H=>(new Uo(O,H.targetRouterState,H.currentRouterState,w,N).activate(D),H)))(this.rootContexts,w.routeReuseStrategy,pt=>this.events.next(pt),this.inputBindingEnabled),(0,Wt.s)(1),(0,Ae.M)({next:pt=>{Pe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ki(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects))),w.titleStrategy?.updateTitle(pt.targetRouterState.snapshot),pt.resolve(!0)},complete:()=>{Pe=!0}}),function qt(D){return(0,Mt.N)((O,w)=>{(0,Ge.Tg)(D).subscribe((0,ct._)(w,()=>w.complete(),Vn.l)),!w.closed&&O.subscribe(w)})}(this.transitionAbortSubject.pipe((0,Ae.M)(pt=>{throw pt}))),(0,tn.j)(()=>{Pe||_t||this.cancelNavigationTransition(ce,"",1),this.currentNavigation?.id===ce.id&&(this.currentNavigation=null)}),(0,Ee.W)(pt=>{if(_t=!0,wr(pt))this.events.next(new Li(ce.id,this.urlSerializer.serialize(ce.extractedUrl),pt.message,pt.cancellationCode)),function Jn(D){return wr(D)&&vi(D.url)}(pt)?this.events.next(new oi(pt.url)):ce.resolve(!1);else{this.events.next(new lo(ce.id,this.urlSerializer.serialize(ce.extractedUrl),pt,ce.targetSnapshot??void 0));try{ce.resolve(w.errorHandler(pt))}catch(vn){ce.reject(vn)}}return it.w}))}))}cancelNavigationTransition(w,N,H){const ce=new Li(w.id,this.urlSerializer.serialize(w.extractedUrl),N,H);this.events.next(ce),w.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function fo(D){return D!==ss}let Ns=(()=>{class D{buildTitle(w){let N,H=w.root;for(;void 0!==H;)N=this.getResolvedTitleForRoute(H)??N,H=H.children.find(ce=>ce.outlet===$t);return N}getResolvedTitleForRoute(w){return w.data[kt]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:function(){return(0,a.WQX)($o)},providedIn:"root"})}}return D})(),$o=(()=>{class D extends Ns{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(a.KVO(Nn.hE))}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Hs=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:function(){return(0,a.WQX)(Ui)},providedIn:"root"})}}return D})();class Qo{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let Ui=(()=>{class D extends Qo{static{this.\u0275fac=function(){let w;return function(H){return(w||(w=a.xGo(D)))(H||D)}}()}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const po=new a.nKC("",{providedIn:"root",factory:()=>({})});let Lh=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:function(){return(0,a.WQX)(Ar)},providedIn:"root"})}}return D})(),Ar=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Dr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Dr||{});function sc(D,O){D.events.pipe((0,Fe.p)(w=>w instanceof Ki||w instanceof Li||w instanceof lo||w instanceof Ir),(0,xt.T)(w=>w instanceof Ki||w instanceof Ir?Dr.COMPLETE:w instanceof Li&&(0===w.code||1===w.code)?Dr.REDIRECTING:Dr.FAILED),(0,Fe.p)(w=>w!==Dr.REDIRECTING),(0,Wt.s)(1)).subscribe(()=>{O()})}function ro(D){throw D}function Cu(D,O,w){return O.parse("/")}const vd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mi=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.WQX)(a.H3F),this.isNgZoneEnabled=!1,this._events=new mn.B,this.options=(0,a.WQX)(po,{optional:!0})||{},this.pendingTasks=(0,a.WQX)(a.$K3),this.errorHandler=this.options.errorHandler||ro,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Cu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.WQX)(Lh),this.routeReuseStrategy=(0,a.WQX)(Hs),this.titleStrategy=(0,a.WQX)(Ns),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.WQX)(gi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.WQX)(bi),this.urlSerializer=(0,a.WQX)(Re),this.location=(0,a.WQX)(lr.aZ),this.componentInputBindingEnabled=!!(0,a.WQX)(ee,{optional:!0}),this.eventsSubscription=new Dt.yU,this.isNgZoneEnabled=(0,a.WQX)(a.SKi)instanceof a.SKi&&a.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Er,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(Ha(N)&&this._events.next(N));if(N instanceof qr)fo(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(N instanceof Ir)this.rawUrlTree=H.rawUrl;else if(N instanceof Vo){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const ce=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(ce,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(N instanceof xr)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(N instanceof Li)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(H);else if(N instanceof oi){const ce=this.urlHandlingStrategy.merge(N.url,H.currentRawUrl),Pe={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fo(H.source)};this.scheduleNavigation(ce,ss,null,Pe,{resolve:H.resolve,reject:H.reject,promise:H.promise})}N instanceof lo&&this.restoreHistory(H,!0),N instanceof Ki&&(this.navigated=!0),Ha(N)&&this._events.next(N)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ss,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,H){const ce={replaceUrl:!0},Pe=H?.navigationId?H:null;if(H){const pt={...H};delete pt.navigationId,delete pt.\u0275routerPageId,0!==Object.keys(pt).length&&(ce.state=pt)}const _t=this.parseUrl(w);this.scheduleNavigation(_t,N,Pe,ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(li),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:H,queryParams:ce,fragment:Pe,queryParamsHandling:_t,preserveFragment:pt}=N,vn=pt?this.currentUrlTree.fragment:Pe;let sr,hr=null;switch(_t){case"merge":hr={...this.currentUrlTree.queryParams,...ce};break;case"preserve":hr=this.currentUrlTree.queryParams;break;default:hr=ce||null}null!==hr&&(hr=this.removeEmptyProps(hr));try{sr=nn(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),sr=this.currentUrlTree.root}return Z(sr,w,hr,vn??null)}navigateByUrl(w,N={skipLocationChange:!1}){const H=vi(w)?w:this.parseUrl(w),ce=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(ce,ss,null,N)}navigate(w,N={skipLocationChange:!1}){return function $a(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new a.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(H){N=this.malformedUriErrorHandler(H,this.urlSerializer,w)}return N}isActive(w,N){let H;if(H=!0===N?{...vd}:!1===N?{...wc}:N,vi(w))return Zr(this.currentUrlTree,w,H);const ce=this.parseUrl(w);return Zr(this.currentUrlTree,ce,H)}removeEmptyProps(w){return Object.keys(w).reduce((N,H)=>{const ce=w[H];return null!=ce&&(N[H]=ce),N},{})}scheduleNavigation(w,N,H,ce,Pe){if(this.disposed)return Promise.resolve(!1);let _t,pt,vn;Pe?(_t=Pe.resolve,pt=Pe.reject,vn=Pe.promise):vn=new Promise((sr,kr)=>{_t=sr,pt=kr});const hr=this.pendingTasks.add();return sc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(hr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ce,resolve:_t,reject:pt,promise:vn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),vn.catch(sr=>Promise.reject(sr))}setBrowserUrl(w,N){const H=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(H)||N.extras.replaceUrl){const Pe={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(H,"",Pe)}else{const ce={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(H,"",ce)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-this.browserPageId;0!==ce?this.location.historyGo(ce):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ce&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Ha(D){return!(D instanceof xr||D instanceof oi)}let Gs=(()=>{class D{constructor(w,N,H,ce,Pe,_t){this.router=w,this.route=N,this.tabIndexAttribute=H,this.renderer=ce,this.el=Pe,this.locationStrategy=_t,this.href=null,this.commands=null,this.onChanges=new mn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const pt=Pe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===pt||"area"===pt,this.isAnchorElement?this.subscription=w.events.subscribe(vn=>{vn instanceof Ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,H,ce,Pe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||H||ce||Pe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,a.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const H=this.renderer,ce=this.el.nativeElement;null!==N?H.setAttribute(ce,w,N):H.removeAttribute(ce,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(a.rXU(mi),a.rXU(Wn),a.kS0("tabindex"),a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(lr.hb))}}static{this.\u0275dir=a.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,H){1&N&&a.bIt("click",function(Pe){return H.onClick(Pe.button,Pe.ctrlKey,Pe.shiftKey,Pe.altKey,Pe.metaKey)}),2&N&&a.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.L39],skipLocationChange:["skipLocationChange","skipLocationChange",a.L39],replaceUrl:["replaceUrl","replaceUrl",a.L39],routerLink:"routerLink"},standalone:!0,features:[a.GFd,a.OA$]})}}return D})(),Es=(()=>{class D{get isActive(){return this._isActive}constructor(w,N,H,ce,Pe){this.router=w,this.element=N,this.renderer=H,this.cdr=ce,this.link=Pe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.bkB,this.routerEventsSubscription=w.events.subscribe(_t=>{_t instanceof Ki&&this.update()})}ngAfterContentInit(){(0,Se.of)(this.links.changes,(0,Se.of)(null)).pipe((0,Hn.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(N=>!!N).map(N=>N.onChanges);this.linkInputChangesSubscription=(0,ge.H)(w).pipe((0,Hn.U)()).subscribe(N=>{this._isActive!==this.isLinkActive(this.router)(N)&&this.update()})}set routerLinkActive(w){const N=Array.isArray(w)?w:w.split(" ");this.classes=N.filter(H=>!!H)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(N=>{w?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const N=function Jo(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&w.isActive(H.urlTree,N)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(N){return new(N||D)(a.rXU(mi),a.rXU(a.aKT),a.rXU(a.sFG),a.rXU(a.gRc),a.rXU(Gs,8))}}static{this.\u0275dir=a.FsC({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(N,H,ce){if(1&N&&a.wni(ce,Gs,5),2&N){let Pe;a.mGM(Pe=a.lsd())&&(H.links=Pe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.OA$]})}}return D})();class Aa{}let Ed=(()=>{class D{constructor(w,N,H,ce,Pe){this.router=w,this.injector=H,this.preloadingStrategy=ce,this.loader=Pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Fe.p)(w=>w instanceof Ki),(0,Be.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const H=[];for(const ce of N){ce.providers&&!ce._injector&&(ce._injector=(0,a.Ol2)(ce.providers,w,`Route: ${ce.path}`));const Pe=ce._injector??w,_t=ce._loadedInjector??Pe;(ce.loadChildren&&!ce._loadedRoutes&&void 0===ce.canLoad||ce.loadComponent&&!ce._loadedComponent)&&H.push(this.preloadConfig(Pe,ce)),(ce.children||ce._loadedRoutes)&&H.push(this.processRoutes(_t,ce.children??ce._loadedRoutes))}return(0,ge.H)(H).pipe((0,Hn.U)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let H;H=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Se.of)(null);const ce=H.pipe((0,tt.Z)(Pe=>null===Pe?(0,Se.of)(void 0):(N._loadedRoutes=Pe.routes,N._loadedInjector=Pe.injector,this.processRoutes(Pe.injector??w,Pe.routes))));if(N.loadComponent&&!N._loadedComponent){const Pe=this.loader.loadComponent(N);return(0,ge.H)([ce,Pe]).pipe((0,Hn.U)())}return ce})}static{this.\u0275fac=function(N){return new(N||D)(a.KVO(mi),a.KVO(a.Ql9),a.KVO(a.uvJ),a.KVO(Aa),a.KVO(ni))}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const go=new a.nKC("");let Kn=(()=>{class D{constructor(w,N,H,ce,Pe={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=H,this.zone=ce,this.options=Pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Pe.scrollPositionRestoration=Pe.scrollPositionRestoration||"disabled",Pe.anchorScrolling=Pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof qr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Ki?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Ir&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Rs&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rs(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){a.QTQ()}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac})}}return D})();function Zo(D,O){return{\u0275kind:D,\u0275providers:O}}function wu(){const D=(0,a.WQX)(a.zZn);return O=>{const w=D.get(a.o8S);if(O!==w.components[0])return;const N=D.get(mi),H=D.get(zl);1===D.get(ls)&&N.initialNavigation(),D.get(Pr,null,a.$GK.Optional)?.setUpPreloading(),D.get(go,null,a.$GK.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const zl=new a.nKC("",{factory:()=>new mn.B}),ls=new a.nKC("",{providedIn:"root",factory:()=>1}),Pr=new a.nKC("");function Go(D){return Zo(0,[{provide:Pr,useExisting:Ed},{provide:Aa,useExisting:D}])}const Kt=new a.nKC("ROUTER_FORROOT_GUARD"),ol=[lr.aZ,{provide:Re,useClass:vt},mi,pi,{provide:Wn,useFactory:function Hl(D){return D.routerState.root},deps:[mi]},ni,[]];function Au(){return new a.NEm("Router",mi)}let Sc=(()=>{class D{constructor(w){}static forRoot(w,N){return{ngModule:D,providers:[ol,[],{provide:gi,multi:!0,useValue:w},{provide:Kt,useFactory:Fs,deps:[[mi,new a.Xx1,new a.kdw]]},{provide:po,useValue:N||{}},N?.useHash?{provide:lr.hb,useClass:lr.fw}:{provide:lr.hb,useClass:lr.Sm},{provide:go,useFactory:()=>{const D=(0,a.WQX)(lr.Xr),O=(0,a.WQX)(a.SKi),w=(0,a.WQX)(po),N=(0,a.WQX)(bi),H=(0,a.WQX)(Re);return w.scrollOffset&&D.setOffset(w.scrollOffset),new Kn(H,N,D,O,w)}},N?.preloadingStrategy?Go(N.preloadingStrategy).\u0275providers:[],{provide:a.NEm,multi:!0,useFactory:Au},N?.initialNavigation?Da(N):[],N?.bindToComponentInputs?Zo(8,[Q,{provide:ee,useExisting:Q}]).\u0275providers:[],[{provide:Bn,useFactory:wu},{provide:a.iLQ,multi:!0,useExisting:Bn}]]}}static forChild(w){return{ngModule:D,providers:[{provide:gi,multi:!0,useValue:w}]}}static{this.\u0275fac=function(N){return new(N||D)(a.KVO(Kt,8))}}static{this.\u0275mod=a.$C({type:D})}static{this.\u0275inj=a.G2t({})}}return D})();function Fs(D){return"guarded"}function Da(D){return["disabled"===D.initialNavigation?Zo(3,[{provide:a.hnV,multi:!0,useFactory:()=>{const O=(0,a.WQX)(mi);return()=>{O.setUpLocationChangeListener()}}},{provide:ls,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Zo(2,[{provide:ls,useValue:0},{provide:a.hnV,multi:!0,deps:[a.zZn],useFactory:O=>{const w=O.get(lr.hj,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const H=O.get(mi),ce=O.get(zl);sc(H,()=>{N(!0)}),O.get(bi).afterPreactivation=()=>(N(!0),ce.closed?(0,Se.of)(void 0):ce),H.initialNavigation()}))}}]).\u0275providers:[]]}const Bn=new a.nKC("")},5726:(rn,Ze,j)=>{j.d(Ze,{A:()=>It});var a=j(1076),de=j(1362),i=j(7852),Ie=j(8041);class ge{constructor(Ft,Pt){this._delegate=Ft,this.firebase=Pt,(0,i._addComponent)(Ft,new de.uA("app-compat",()=>this,"PUBLIC")),this.container=Ft.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ft){this._delegate.automaticDataCollectionEnabled=Ft}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ft=>{this._delegate.checkDestroyed(),Ft()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,i.deleteApp)(this._delegate)))}_getService(Ft,Pt=i._DEFAULT_ENTRY_NAME){var hn;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(Ft);return!Ge.isInitialized()&&"EXPLICIT"===(null===(hn=Ge.getComponent())||void 0===hn?void 0:hn.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Pt})}_removeServiceInstance(Ft,Pt=i._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ft).clearInstance(Pt)}_addComponent(Ft){(0,i._addComponent)(this._delegate,Ft)}_addOrOverwriteComponent(Ft){(0,i._addOrOverwriteComponent)(this._delegate,Ft)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new a.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Ne(){const wt=function Le(wt){const Ft={},Pt={__esModule:!0,initializeApp:function be(Dt,Mt={}){const De=i.initializeApp(Dt,Mt);if((0,a.gR)(Ft,De.name))return Ft[De.name];const en=new wt(De,Pt);return Ft[De.name]=en,en},app:Ge,registerVersion:i.registerVersion,setLogLevel:i.setLogLevel,onLog:i.onLog,apps:null,SDK_VERSION:i.SDK_VERSION,INTERNAL:{registerComponent:function Ye(Dt){const Mt=Dt.name,De=Mt.replace("-compat","");if(i._registerComponent(Dt)&&"PUBLIC"===Dt.type){const en=(mn=Ge())=>{if("function"!=typeof mn[De])throw xe.create("invalid-app-argument",{appName:Mt});return mn[De]()};void 0!==Dt.serviceProps&&(0,a.zw)(en,Dt.serviceProps),Pt[De]=en,wt.prototype[De]=function(...mn){return this._getService.bind(this,Mt).apply(this,Dt.multipleInstances?mn:[])}}return"PUBLIC"===Dt.type?Pt[De]:null},removeApp:function hn(Dt){delete Ft[Dt]},useAsService:function it(Dt,Mt){return"serverAuth"===Mt?null:Mt},modularAPIs:i}};function Ge(Dt){if(!(0,a.gR)(Ft,Dt=Dt||i._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:Dt});return Ft[Dt]}return Pt.default=Pt,Object.defineProperty(Pt,"apps",{get:function et(){return Object.keys(Ft).map(Dt=>Ft[Dt])}}),Ge.App=wt,Pt}(ge);return wt.INTERNAL=Object.assign(Object.assign({},wt.INTERNAL),{createFirebaseNamespace:Ne,extendNamespace:function Ft(Pt){(0,a.zw)(wt,Pt)},createSubscribe:a.tD,ErrorFactory:a.FA,deepExtend:a.zw}),wt}(),ae=new Ie.Vy("@firebase/app-compat");try{const wt=(0,a.mS)();if(void 0!==wt.firebase){ae.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Ft=wt.firebase.SDK_VERSION;Ft&&Ft.indexOf("LITE")>=0&&ae.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const It=te;!function je(wt){(0,i.registerVersion)("@firebase/app-compat","0.2.43",wt)}()},7852:(rn,Ze,j)=>{j.r(Ze),j.d(Ze,{FirebaseError:()=>Ie.g,SDK_VERSION:()=>vt,_DEFAULT_ENTRY_NAME:()=>an,_addComponent:()=>hi,_addOrOverwriteComponent:()=>ys,_apps:()=>Sr,_clearComponents:()=>Pi,_components:()=>qn,_getProvider:()=>ei,_isFirebaseApp:()=>Er,_isFirebaseServerApp:()=>zn,_registerComponent:()=>fn,_removeServiceInstance:()=>tr,_serverApps:()=>Zr,deleteApp:()=>wi,getApp:()=>Fr,getApps:()=>br,initializeApp:()=>Gt,initializeServerApp:()=>$n,onLog:()=>M,registerVersion:()=>$,setLogLevel:()=>k});var a=j(467),de=j(1362),i=j(8041),Ie=j(1076);const ge=(Z,fe)=>fe.some(He=>Z instanceof He);let Se,xe;const te=new WeakMap,ae=new WeakMap,pe=new WeakMap,ct=new WeakMap,je=new WeakMap;let Ft={get(Z,fe,He){if(Z instanceof IDBTransaction){if("done"===fe)return ae.get(Z);if("objectStoreNames"===fe)return Z.objectStoreNames||pe.get(Z);if("store"===fe)return He.objectStoreNames[1]?void 0:He.objectStore(He.objectStoreNames[0])}return be(Z[fe])},set:(Z,fe,He)=>(Z[fe]=He,!0),has:(Z,fe)=>Z instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in Z};function Ge(Z){return"function"==typeof Z?function hn(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Z)?function(...fe){return Z.apply(et(this),fe),be(te.get(this))}:function(...fe){return be(Z.apply(et(this),fe))}:function(fe,...He){const zt=Z.call(et(this),fe,...He);return pe.set(zt,fe.sort?fe.sort():[fe]),be(zt)}}(Z):(Z instanceof IDBTransaction&&function wt(Z){if(ae.has(Z))return;const fe=new Promise((He,zt)=>{const Cn=()=>{Z.removeEventListener("complete",Rn),Z.removeEventListener("error",dr),Z.removeEventListener("abort",dr)},Rn=()=>{He(),Cn()},dr=()=>{zt(Z.error||new DOMException("AbortError","AbortError")),Cn()};Z.addEventListener("complete",Rn),Z.addEventListener("error",dr),Z.addEventListener("abort",dr)});ae.set(Z,fe)}(Z),ge(Z,function Le(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Z,Ft):Z)}function be(Z){if(Z instanceof IDBRequest)return function It(Z){const fe=new Promise((He,zt)=>{const Cn=()=>{Z.removeEventListener("success",Rn),Z.removeEventListener("error",dr)},Rn=()=>{He(be(Z.result)),Cn()},dr=()=>{zt(Z.error),Cn()};Z.addEventListener("success",Rn),Z.addEventListener("error",dr)});return fe.then(He=>{He instanceof IDBCursor&&te.set(He,Z)}).catch(()=>{}),je.set(fe,Z),fe}(Z);if(ct.has(Z))return ct.get(Z);const fe=Ge(Z);return fe!==Z&&(ct.set(Z,fe),je.set(fe,Z)),fe}const et=Z=>je.get(Z),Dt=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],De=new Map;function en(Z,fe){if(!(Z instanceof IDBDatabase)||fe in Z||"string"!=typeof fe)return;if(De.get(fe))return De.get(fe);const He=fe.replace(/FromIndex$/,""),zt=fe!==He,Cn=Mt.includes(He);if(!(He in(zt?IDBIndex:IDBObjectStore).prototype)||!Cn&&!Dt.includes(He))return;const Rn=function(){var dr=(0,a.A)(function*(jr,...Kr){const Tr=this.transaction(jr,Cn?"readwrite":"readonly");let Qi=Tr.store;return zt&&(Qi=Qi.index(Kr.shift())),(yield Promise.all([Qi[He](...Kr),Cn&&Tr.done]))[0]});return function(Kr){return dr.apply(this,arguments)}}();return De.set(fe,Rn),Rn}!function Pt(Z){Ft=Z(Ft)}(Z=>({...Z,get:(fe,He,zt)=>en(fe,He)||Z.get(fe,He,zt),has:(fe,He)=>!!en(fe,He)||Z.has(fe,He)}));class mn{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(He=>{if(function lr(Z){const fe=Z.getComponent();return"VERSION"===fe?.type}(He)){const zt=He.getImmediate();return`${zt.library}/${zt.version}`}return null}).filter(He=>He).join(" ")}}const xt="@firebase/app",Vt="0.10.13",Wt=new i.Vy("@firebase/app"),an="[DEFAULT]",Ur={[xt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Sr=new Map,Zr=new Map,qn=new Map;function hi(Z,fe){try{Z.container.addComponent(fe)}catch(He){Wt.debug(`Component ${fe.name} failed to register with FirebaseApp ${Z.name}`,He)}}function ys(Z,fe){Z.container.addOrOverwriteComponent(fe)}function fn(Z){const fe=Z.name;if(qn.has(fe))return Wt.debug(`There were multiple attempts to register component ${fe}.`),!1;qn.set(fe,Z);for(const He of Sr.values())hi(He,Z);for(const He of Zr.values())hi(He,Z);return!0}function ei(Z,fe){const He=Z.container.getProvider("heartbeat").getImmediate({optional:!0});return He&&He.triggerHeartbeat(),Z.container.getProvider(fe)}function tr(Z,fe,He=an){ei(Z,fe).clearInstance(He)}function Er(Z){return void 0!==Z.options}function zn(Z){return void 0!==Z.settings}function Pi(){qn.clear()}const gt=new Ie.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ue{constructor(fe,He,zt){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},He),this._name=He.name,this._automaticDataCollectionEnabled=He.automaticDataCollectionEnabled,this._container=zt,this.container.addComponent(new de.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}}class Re extends ue{constructor(fe,He,zt,Cn){const Rn=void 0!==He.automaticDataCollectionEnabled&&He.automaticDataCollectionEnabled,dr={name:zt,automaticDataCollectionEnabled:Rn};super(void 0!==fe.apiKey?fe:fe.options,dr,Cn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Rn},He),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,He.releaseOnDeref=void 0,$(xt,Vt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(fe){this.isDeleted||(this._refCount++,void 0!==fe&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(fe,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){wi(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw gt.create("server-app-deleted")}}const vt="10.14.1";function Gt(Z,fe={}){let He=Z;"object"!=typeof fe&&(fe={name:fe});const zt=Object.assign({name:an,automaticDataCollectionEnabled:!1},fe),Cn=zt.name;if("string"!=typeof Cn||!Cn)throw gt.create("bad-app-name",{appName:String(Cn)});if(He||(He=(0,Ie.T9)()),!He)throw gt.create("no-options");const Rn=Sr.get(Cn);if(Rn){if((0,Ie.bD)(He,Rn.options)&&(0,Ie.bD)(zt,Rn.config))return Rn;throw gt.create("duplicate-app",{appName:Cn})}const dr=new de.h1(Cn);for(const Kr of qn.values())dr.addComponent(Kr);const jr=new ue(He,zt,dr);return Sr.set(Cn,jr),jr}function $n(Z,fe){if((0,Ie.Bd)()&&!(0,Ie.p7)())throw gt.create("invalid-server-app-environment");let He;void 0===fe.automaticDataCollectionEnabled&&(fe.automaticDataCollectionEnabled=!1),He=Er(Z)?Z.options:Z;const zt=Object.assign(Object.assign({},fe),He);if(void 0!==zt.releaseOnDeref&&delete zt.releaseOnDeref,void 0!==fe.releaseOnDeref&&typeof FinalizationRegistry>"u")throw gt.create("finalization-registry-not-supported",{});const Rn=""+(Tr=JSON.stringify(zt),[...Tr].reduce((Qi,Ps)=>Math.imul(31,Qi)+Ps.charCodeAt(0)|0,0)),dr=Zr.get(Rn);var Tr;if(dr)return dr.incRefCount(fe.releaseOnDeref),dr;const jr=new de.h1(Rn);for(const Tr of qn.values())jr.addComponent(Tr);const Kr=new Re(He,fe,Rn,jr);return Zr.set(Rn,Kr),Kr}function Fr(Z=an){const fe=Sr.get(Z);if(!fe&&Z===an&&(0,Ie.T9)())return Gt();if(!fe)throw gt.create("no-app",{appName:Z});return fe}function br(){return Array.from(Sr.values())}function wi(Z){return Et.apply(this,arguments)}function Et(){return(Et=(0,a.A)(function*(Z){let fe=!1;const He=Z.name;Sr.has(He)?(fe=!0,Sr.delete(He)):Zr.has(He)&&Z.decRefCount()<=0&&(Zr.delete(He),fe=!0),fe&&(yield Promise.all(Z.container.getProviders().map(zt=>zt.delete())),Z.isDeleted=!0)})).apply(this,arguments)}function $(Z,fe,He){var zt;let Cn=null!==(zt=Ur[Z])&&void 0!==zt?zt:Z;He&&(Cn+=`-${He}`);const Rn=Cn.match(/\s|\//),dr=fe.match(/\s|\//);if(Rn||dr){const jr=[`Unable to register library "${Cn}" with version "${fe}":`];return Rn&&jr.push(`library name "${Cn}" contains illegal characters (whitespace or "/")`),Rn&&dr&&jr.push("and"),dr&&jr.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void Wt.warn(jr.join(" "))}fn(new de.uA(`${Cn}-version`,()=>({library:Cn,version:fe}),"VERSION"))}function M(Z,fe){if(null!==Z&&"function"!=typeof Z)throw gt.create("invalid-log-argument");(0,i.Ey)(Z,fe)}function k(Z){(0,i.He)(Z)}const re="firebase-heartbeat-database",_e=1,st="firebase-heartbeat-store";let At=null;function sn(){return At||(At=function Ye(Z,fe,{blocked:He,upgrade:zt,blocking:Cn,terminated:Rn}={}){const dr=indexedDB.open(Z,fe),jr=be(dr);return zt&&dr.addEventListener("upgradeneeded",Kr=>{zt(be(dr.result),Kr.oldVersion,Kr.newVersion,be(dr.transaction),Kr)}),He&&dr.addEventListener("blocked",Kr=>He(Kr.oldVersion,Kr.newVersion,Kr)),jr.then(Kr=>{Rn&&Kr.addEventListener("close",()=>Rn()),Cn&&Kr.addEventListener("versionchange",Tr=>Cn(Tr.oldVersion,Tr.newVersion,Tr))}).catch(()=>{}),jr}(re,_e,{upgrade:(Z,fe)=>{if(0===fe)try{Z.createObjectStore(st)}catch(He){console.warn(He)}}}).catch(Z=>{throw gt.create("idb-open",{originalErrorMessage:Z.message})})),At}function An(){return(An=(0,a.A)(function*(Z){try{const He=(yield sn()).transaction(st),zt=yield He.objectStore(st).get(Lr(Z));return yield He.done,zt}catch(fe){if(fe instanceof Ie.g)Wt.warn(fe.message);else{const He=gt.create("idb-get",{originalErrorMessage:fe?.message});Wt.warn(He.message)}}})).apply(this,arguments)}function pr(Z,fe){return on.apply(this,arguments)}function on(){return(on=(0,a.A)(function*(Z,fe){try{const zt=(yield sn()).transaction(st,"readwrite");yield zt.objectStore(st).put(fe,Lr(Z)),yield zt.done}catch(He){if(He instanceof Ie.g)Wt.warn(He.message);else{const zt=gt.create("idb-set",{originalErrorMessage:He?.message});Wt.warn(zt.message)}}})).apply(this,arguments)}function Lr(Z){return`${Z.name}!${Z.options.appId}`}class yi{constructor(fe){this.container=fe,this._heartbeatsCache=null;const He=this.container.getProvider("app").getImmediate();this._storage=new vi(He),this._heartbeatsCachePromise=this._storage.read().then(zt=>(this._heartbeatsCache=zt,zt))}triggerHeartbeat(){var fe=this;return(0,a.A)(function*(){var He,zt;try{const Rn=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dr=ji();return null==(null===(He=fe._heartbeatsCache)||void 0===He?void 0:He.heartbeats)&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise,null==(null===(zt=fe._heartbeatsCache)||void 0===zt?void 0:zt.heartbeats))||fe._heartbeatsCache.lastSentHeartbeatDate===dr||fe._heartbeatsCache.heartbeats.some(jr=>jr.date===dr)?void 0:(fe._heartbeatsCache.heartbeats.push({date:dr,agent:Rn}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(jr=>{const Kr=new Date(jr.date).valueOf();return Date.now()-Kr<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache))}catch(Cn){Wt.warn(Cn)}})()}getHeartbeatsHeader(){var fe=this;return(0,a.A)(function*(){var He;try{if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null==(null===(He=fe._heartbeatsCache)||void 0===He?void 0:He.heartbeats)||0===fe._heartbeatsCache.heartbeats.length)return"";const zt=ji(),{heartbeatsToSend:Cn,unsentEntries:Rn}=function Mi(Z,fe=1024){const He=[];let zt=Z.slice();for(const Cn of Z){const Rn=He.find(dr=>dr.agent===Cn.agent);if(Rn){if(Rn.dates.push(Cn.date),Ce(He)>fe){Rn.dates.pop();break}}else if(He.push({agent:Cn.agent,dates:[Cn.date]}),Ce(He)>fe){He.pop();break}zt=zt.slice(1)}return{heartbeatsToSend:He,unsentEntries:zt}}(fe._heartbeatsCache.heartbeats),dr=(0,Ie.Uj)(JSON.stringify({version:2,heartbeats:Cn}));return fe._heartbeatsCache.lastSentHeartbeatDate=zt,Rn.length>0?(fe._heartbeatsCache.heartbeats=Rn,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),dr}catch(zt){return Wt.warn(zt),""}})()}}function ji(){return(new Date).toISOString().substring(0,10)}class vi{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.A)(function*(){return!!(0,Ie.zW)()&&(0,Ie.eX)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,a.A)(function*(){if(yield fe._canUseIndexedDBPromise){const zt=yield function ln(Z){return An.apply(this,arguments)}(fe.app);return zt?.heartbeats?zt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(fe){var He=this;return(0,a.A)(function*(){var zt;if(yield He._canUseIndexedDBPromise){const Rn=yield He.read();return pr(He.app,{lastSentHeartbeatDate:null!==(zt=fe.lastSentHeartbeatDate)&&void 0!==zt?zt:Rn.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var He=this;return(0,a.A)(function*(){var zt;if(yield He._canUseIndexedDBPromise){const Rn=yield He.read();return pr(He.app,{lastSentHeartbeatDate:null!==(zt=fe.lastSentHeartbeatDate)&&void 0!==zt?zt:Rn.lastSentHeartbeatDate,heartbeats:[...Rn.heartbeats,...fe.heartbeats]})}})()}}function Ce(Z){return(0,Ie.Uj)(JSON.stringify({version:2,heartbeats:Z})).length}!function nn(Z){fn(new de.uA("platform-logger",fe=>new mn(fe),"PRIVATE")),fn(new de.uA("heartbeat",fe=>new yi(fe),"PRIVATE")),$(xt,Vt,Z),$(xt,Vt,"esm2017"),$("fire-js","")}("")},1362:(rn,Ze,j)=>{j.d(Ze,{h1:()=>Le,uA:()=>i});var a=j(467),de=j(1076);class i{constructor(te,ae,pe){this.name=te,this.instanceFactory=ae,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const Ie="[DEFAULT]";class ge{constructor(te,ae){this.name=te,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ae=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ae)){const pe=new de.cY;if(this.instancesDeferred.set(ae,pe),this.isInitialized(ae)||this.shouldAutoInitialize())try{const ct=this.getOrInitializeService({instanceIdentifier:ae});ct&&pe.resolve(ct)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(te){var ae;const pe=this.normalizeInstanceIdentifier(te?.identifier),ct=null!==(ae=te?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(je){if(ct)return null;throw je}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function xe(Ne){return"EAGER"===Ne.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[ae,pe]of this.instancesDeferred.entries()){const ct=this.normalizeInstanceIdentifier(ae);try{const je=this.getOrInitializeService({instanceIdentifier:ct});pe.resolve(je)}catch{}}}}clearInstance(te=Ie){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,a.A)(function*(){const ae=Array.from(te.instances.values());yield Promise.all([...ae.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...ae.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=Ie){return this.instances.has(te)}getOptions(te=Ie){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ae={}}=te,pe=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ct=this.getOrInitializeService({instanceIdentifier:pe,options:ae});for(const[je,It]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier(je)&&It.resolve(ct);return ct}onInit(te,ae){var pe;const ct=this.normalizeInstanceIdentifier(ae),je=null!==(pe=this.onInitCallbacks.get(ct))&&void 0!==pe?pe:new Set;je.add(te),this.onInitCallbacks.set(ct,je);const It=this.instances.get(ct);return It&&te(It,ct),()=>{je.delete(te)}}invokeOnInitCallbacks(te,ae){const pe=this.onInitCallbacks.get(ae);if(pe)for(const ct of pe)try{ct(te,ae)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ae={}}){let pe=this.instances.get(te);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=te,Ne===Ie?void 0:Ne),options:ae}),this.instances.set(te,pe),this.instancesOptions.set(te,ae),this.invokeOnInitCallbacks(pe,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,pe)}catch{}var Ne;return pe||null}normalizeInstanceIdentifier(te=Ie){return this.component?this.component.multipleInstances?te:Ie:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ae=this.getProvider(te.name);if(ae.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ae.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ae=new ge(te,this);return this.providers.set(te,ae),ae}getProviders(){return Array.from(this.providers.values())}}},8041:(rn,Ze,j)=>{j.d(Ze,{$b:()=>de,Ey:()=>Ne,He:()=>Le,Vy:()=>xe});const a=[];var de=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(de||{});const i={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},Ie=de.INFO,ge={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},Se=(te,ae,...pe)=>{if(ae<te.logLevel)return;const ct=(new Date).toISOString(),je=ge[ae];if(!je)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[je](`[${ct}]  ${te.name}:`,...pe)};class xe{constructor(ae){this.name=ae,this._logLevel=Ie,this._logHandler=Se,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in de))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?i[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...ae),this._logHandler(this,de.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...ae),this._logHandler(this,de.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,de.INFO,...ae),this._logHandler(this,de.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,de.WARN,...ae),this._logHandler(this,de.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...ae),this._logHandler(this,de.ERROR,...ae)}}function Le(te){a.forEach(ae=>{ae.setLogLevel(te)})}function Ne(te,ae){for(const pe of a){let ct=null;ae&&ae.level&&(ct=i[ae.level]),pe.userLogHandler=null===te?null:(je,It,...wt)=>{const Ft=wt.map(Pt=>{if(null==Pt)return null;if("string"==typeof Pt)return Pt;if("number"==typeof Pt||"boolean"==typeof Pt)return Pt.toString();if(Pt instanceof Error)return Pt.message;try{return JSON.stringify(Pt)}catch{return null}}).filter(Pt=>Pt).join(" ");It>=(ct??je.logLevel)&&te({level:de[It].toLowerCase(),message:Ft,args:wt,type:je.name})}}}},2214:(rn,Ze,j)=>{j.d(Ze,{Dk:()=>a.getApps,KO:()=>a.registerVersion,Sx:()=>a.getApp,Wp:()=>a.initializeApp});var a=j(7852);(0,a.registerVersion)("firebase","10.14.1","app")},7935:(rn,Ze,j)=>{j.d(Ze,{A:()=>a.A});var a=j(5726);a.A.registerVersion("firebase","10.14.1","app-compat")},2438:(rn,Ze,j)=>{var a=j(467),de=j(5726),i=j(5504),Ie=j(1076),xe=(j(7852),j(8041),j(1362));function Le(){return window}function ae(){return ae=(0,a.A)(function*($,M,k){var re;const{BuildInfo:_e}=Le();(0,i.au)(M.sessionId,"AuthEvent did not contain a session ID");const st=yield function Pt($){return hn.apply(this,arguments)}(M.sessionId),At={};return(0,i.av)()?At.ibi=_e.packageName:(0,i.aw)()?At.apn=_e.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),_e.displayName&&(At.appDisplayName=_e.displayName),At.sessionId=st,(0,i.ay)($,k,M.type,void 0,null!==(re=M.eventId)&&void 0!==re?re:void 0,At)}),ae.apply(this,arguments)}function ct(){return(ct=(0,a.A)(function*($){const{BuildInfo:M}=Le(),k={};(0,i.av)()?k.iosBundleId=M.packageName:(0,i.aw)()?k.androidPackageName=M.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),yield(0,i.az)($,k)})).apply(this,arguments)}function wt(){return(wt=(0,a.A)(function*($,M,k){const{cordova:re}=Le();let _e=()=>{};try{yield new Promise((st,At)=>{let sn=null;function ln(){var on;st();const Lr=null===(on=re.plugins.browsertab)||void 0===on?void 0:on.close;"function"==typeof Lr&&Lr(),"function"==typeof k?.close&&k.close()}function An(){sn||(sn=window.setTimeout(()=>{At((0,i.aB)($,"redirect-cancelled-by-user"))},2e3))}function pr(){"visible"===document?.visibilityState&&An()}M.addPassiveListener(ln),document.addEventListener("resume",An,!1),(0,i.aw)()&&document.addEventListener("visibilitychange",pr,!1),_e=()=>{M.removePassiveListener(ln),document.removeEventListener("resume",An,!1),document.removeEventListener("visibilitychange",pr,!1),sn&&window.clearTimeout(sn)}})}finally{_e()}})).apply(this,arguments)}function hn(){return(hn=(0,a.A)(function*($){const M=function Ge($){if((0,i.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const M=new ArrayBuffer($.length),k=new Uint8Array(M);for(let re=0;re<$.length;re++)k[re]=$.charCodeAt(re);return k}($),k=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(k)).map(_e=>_e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class et extends i.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInitialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(M)),super.onEvent(M)}initialized(){var M=this;return(0,a.A)(function*(){yield M.initPromise})()}}function Dt($){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,a.A)(function*($){const M=yield mn()._get(lr($));return M&&(yield mn()._remove(lr($))),M})).apply(this,arguments)}function en(){const $=[];for(let k=0;k<20;k++){const re=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(re))}return $.join("")}function mn(){return(0,i.aE)(i.b)}function lr($){return(0,i.aF)("authEvent",$.config.apiKey,$.name)}function Wt($){if(!$?.includes("?"))return{};const[M,...k]=$.split("?");return(0,Ie.I9)(k.join("?"))}const tt=class Fe{constructor(){this._redirectPersistence=i.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(M){var k=this;return(0,a.A)(function*(){const re=M._key();let _e=k.eventManagers.get(re);return _e||(_e=new et(M),k.eventManagers.set(re,_e),k.attachCallbackListeners(M,_e)),_e})()}_openPopup(M){(0,i.ax)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,k,re,_e){var st=this;return(0,a.A)(function*(){!function Ft($){var M,k,re,_e,st,At,sn,ln,An,pr;const on=Le();(0,i.aC)("function"==typeof(null===(M=on?.universalLinks)||void 0===M?void 0:M.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,i.aC)(typeof(null===(k=on?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,i.aC)("function"==typeof(null===(st=null===(_e=null===(re=on?.cordova)||void 0===re?void 0:re.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===st?void 0:st.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(ln=null===(sn=null===(At=on?.cordova)||void 0===At?void 0:At.plugins)||void 0===sn?void 0:sn.browsertab)||void 0===ln?void 0:ln.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(pr=null===(An=on?.cordova)||void 0===An?void 0:An.InAppBrowser)||void 0===pr?void 0:pr.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const At=yield st._initialize(M);yield At.initialized(),At.resetRedirect(),(0,i.aI)(),yield st._originValidation(M);const sn=function Ye($,M,k=null){return{type:M,eventId:k,urlResponse:null,sessionId:en(),postBody:null,tenantId:$.tenantId,error:(0,i.aB)($,"no-auth-event")}}(M,re,_e);yield function it($,M){return mn()._set(lr($),M)}(M,sn);const ln=yield function te($,M,k){return ae.apply(this,arguments)}(M,sn,k),An=yield function je($){const{cordova:M}=Le();return new Promise(k=>{M.plugins.browsertab.isAvailable(re=>{let _e=null;re?M.plugins.browsertab.openUrl($):_e=M.InAppBrowser.open($,(0,i.aA)()?"_blank":"_system","location=yes"),k(_e)})})}(ln);return function It($,M,k){return wt.apply(this,arguments)}(M,At,An)})()}_isIframeWebStorageSupported(M,k){throw new Error("Method not implemented.")}_originValidation(M){const k=M._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function pe($){return ct.apply(this,arguments)}(M)),this.originValidationPromises[k]}attachCallbackListeners(M,k){const{universalLinks:re,handleOpenURL:_e,BuildInfo:st}=Le(),At=setTimeout((0,a.A)(function*(){yield Dt(M),k.onEvent(Jt())}),500),sn=function(){var pr=(0,a.A)(function*(on){clearTimeout(At);const Lr=yield Dt(M);let ur=null;Lr&&on?.url&&(ur=function De($,M){var k,re;const _e=function Vt($){const M=Wt($),k=M.link?decodeURIComponent(M.link):void 0,re=Wt(k).link,_e=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return Wt(_e).link||_e||re||k||$}(M);if(_e.includes("/__/auth/callback")){const st=Wt(_e),At=st.firebaseError?function xt($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,sn=null===(re=null===(k=At?.code)||void 0===k?void 0:k.split("auth/"))||void 0===re?void 0:re[1],ln=sn?(0,i.aB)(sn):null;return ln?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:ln,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:_e,postBody:null}}return null}(Lr,on.url)),k.onEvent(ur||Jt())});return function(Lr){return pr.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,sn);const ln=_e,An=`${st.packageName.toLowerCase()}://`;Le().handleOpenURL=function(){var pr=(0,a.A)(function*(on){if(on.toLowerCase().startsWith(An)&&sn({url:on}),"function"==typeof ln)try{ln(on)}catch(Lr){console.error(Lr)}});return function(on){return pr.apply(this,arguments)}}()}};function Jt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,i.aB)("no-auth-event")}}function rt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Rt($=(0,Ie.ZQ)()){return!("file:"!==rt()&&"ionic:"!==rt()&&"capacitor:"!==rt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function qt(){try{const $=self.localStorage,M=i.aN();if($)return $.setItem(M,"1"),$.removeItem(M),!function Vn($=(0,Ie.ZQ)()){return function nr(){return(0,Ie.lT)()&&11===document?.documentMode}()||function tn($=(0,Ie.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,Ie.zW)()}catch{return Hn()&&(0,Ie.zW)()}return!1}function Hn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Nn(){return(function Qe(){return"http:"===rt()||"https:"===rt()}()||(0,Ie.sr)()||Rt())&&!function wn(){return(0,Ie.lV)()||(0,Ie.Ll)()}()&&qt()&&!Hn()}function $t(){return Rt()&&typeof document<"u"}function _r(){return(_r=(0,a.A)(function*(){return!!$t()&&new Promise($=>{const M=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),$(!0)})})})).apply(this,arguments)}const Mr={LOCAL:"local",NONE:"none",SESSION:"session"},Zn=i.aC,Ut="persistence";function Gn($){return an.apply(this,arguments)}function an(){return(an=(0,a.A)(function*($){yield $._initializationPromise;const M=Sr(),k=i.aF(Ut,$.config.apiKey,$.name);M&&M.setItem(k,$._getPersistence())})).apply(this,arguments)}function Sr(){var $;try{return(null===($=function cn(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Zr=i.aC;class qn{constructor(){this.browserResolver=i.aE(i.k),this.cordovaResolver=i.aE(tt),this.underlyingResolver=null,this._redirectPersistence=i.a,this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(M){var k=this;return(0,a.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,k,re,_e){var st=this;return(0,a.A)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(M,k,re,_e)})()}_openRedirect(M,k,re,_e){var st=this;return(0,a.A)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(M,k,re,_e)})()}_isIframeWebStorageSupported(M,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,k)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return $t()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,a.A)(function*(){if(M.underlyingResolver)return;const k=yield function kt(){return _r.apply(this,arguments)}();M.underlyingResolver=k?M.cordovaResolver:M.browserResolver})()}}function hi($){return $.unwrap()}function fn($){return tr($)}function tr($){const{_tokenResponse:M}=$ instanceof Ie.g?$.customData:$;if(!M)return null;if(!($ instanceof Ie.g)&&"temporaryProof"in M&&"phoneNumber"in M)return i.P.credentialFromResult($);const k=M.providerId;if(!k||k===i.p.PASSWORD)return null;let re;switch(k){case i.p.GOOGLE:re=i.X;break;case i.p.FACEBOOK:re=i.W;break;case i.p.GITHUB:re=i.Y;break;case i.p.TWITTER:re=i.$;break;default:const{oauthIdToken:_e,oauthAccessToken:st,oauthTokenSecret:At,pendingToken:sn,nonce:ln}=M;return st||At||_e||sn?sn?k.startsWith("saml.")?i.aQ._create(k,sn):i.N._fromParams({providerId:k,signInMethod:k,pendingToken:sn,idToken:_e,accessToken:st}):new i.Z(k).credential({idToken:_e,accessToken:st,rawNonce:ln}):null}return $ instanceof Ie.g?re.credentialFromError($):re.credentialFromResult($)}function Er($,M){return M.catch(k=>{throw k instanceof Ie.g&&function ei($,M){var k;const re=null===(k=M.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===M?.code)M.resolver=new nt($,i.as($,M));else if(re){const _e=tr(M),st=M;_e&&(st.credential=_e,st.tenantId=re.tenantId||void 0,st.email=re.email||void 0,st.phoneNumber=re.phoneNumber||void 0)}}($,k),k}).then(k=>{const _e=k.user;return{operationType:k.operationType,credential:fn(k),additionalUserInfo:i.aq(k),user:gt.getOrCreate(_e)}})}function zn($,M){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,a.A)(function*($,M){const k=yield M;return{verificationId:k.verificationId,confirm:re=>Er($,k.confirm(re))}})).apply(this,arguments)}class nt{constructor(M,k){this.resolver=k,this.auth=function ys($){return $.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return Er(hi(this.auth),this.resolver.resolveSignIn(M))}}class gt{constructor(M){this._delegate=M,this.multiFactor=i.at(M)}static getOrCreate(M){return gt.USER_MAP.has(M)||gt.USER_MAP.set(M,new gt(M)),gt.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var k=this;return(0,a.A)(function*(){return Er(k.auth,i.a2(k._delegate,M))})()}linkWithPhoneNumber(M,k){var re=this;return(0,a.A)(function*(){return zn(re.auth,i.l(re._delegate,M,k))})()}linkWithPopup(M){var k=this;return(0,a.A)(function*(){return Er(k.auth,i.d(k._delegate,M,qn))})()}linkWithRedirect(M){var k=this;return(0,a.A)(function*(){return yield Gn(i.aJ(k.auth)),i.g(k._delegate,M,qn)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var k=this;return(0,a.A)(function*(){return Er(k.auth,i.a3(k._delegate,M))})()}reauthenticateWithPhoneNumber(M,k){return zn(this.auth,i.r(this._delegate,M,k))}reauthenticateWithPopup(M){return Er(this.auth,i.e(this._delegate,M,qn))}reauthenticateWithRedirect(M){var k=this;return(0,a.A)(function*(){return yield Gn(i.aJ(k.auth)),i.h(k._delegate,M,qn)})()}sendEmailVerification(M){return i.ag(this._delegate,M)}unlink(M){var k=this;return(0,a.A)(function*(){return yield i.ap(k._delegate,M),k})()}updateEmail(M){return i.al(this._delegate,M)}updatePassword(M){return i.am(this._delegate,M)}updatePhoneNumber(M){return i.u(this._delegate,M)}updateProfile(M){return i.ak(this._delegate,M)}verifyBeforeUpdateEmail(M,k){return i.ah(this._delegate,M,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gt.USER_MAP=new WeakMap;const ue=i.aC;let Re=(()=>{class ${constructor(k,re){if(this.app=k,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_e}=k.options;ue(_e,"invalid-api-key",{appName:k.name}),ue(_e,"invalid-api-key",{appName:k.name});const st=typeof window<"u"?qn:void 0;this._delegate=re.initialize({options:{persistence:Gt(_e,k.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(i.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,re){i.K(this._delegate,k,re)}applyActionCode(k){return i.a7(this._delegate,k)}checkActionCode(k){return i.a8(this._delegate,k)}confirmPasswordReset(k,re){return i.a6(this._delegate,k,re)}createUserWithEmailAndPassword(k,re){var _e=this;return(0,a.A)(function*(){return Er(_e._delegate,i.aa(_e._delegate,k,re))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return i.af(this._delegate,k)}isSignInWithEmailLink(k){return i.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,a.A)(function*(){ue(Nn(),k._delegate,"operation-not-supported-in-this-environment");const re=yield i.j(k._delegate,qn);return re?Er(k._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Be($,M){(0,i.aJ)($)._logFramework(M)}(this._delegate,k)}onAuthStateChanged(k,re,_e){const{next:st,error:At,complete:sn}=vt(k,re,_e);return this._delegate.onAuthStateChanged(st,At,sn)}onIdTokenChanged(k,re,_e){const{next:st,error:At,complete:sn}=vt(k,re,_e);return this._delegate.onIdTokenChanged(st,At,sn)}sendSignInLinkToEmail(k,re){return i.ac(this._delegate,k,re)}sendPasswordResetEmail(k,re){return i.a5(this._delegate,k,re||void 0)}setPersistence(k){var re=this;return(0,a.A)(function*(){let _e;switch(function Tn($,M){Zn(Object.values(Mr).includes(M),$,"invalid-persistence-type"),(0,Ie.lV)()?Zn(M!==Mr.SESSION,$,"unsupported-persistence-type"):(0,Ie.Ll)()?Zn(M===Mr.NONE,$,"unsupported-persistence-type"):Hn()?Zn(M===Mr.NONE||M===Mr.LOCAL&&(0,Ie.zW)(),$,"unsupported-persistence-type"):Zn(M===Mr.NONE||qt(),$,"unsupported-persistence-type")}(re._delegate,k),k){case Mr.SESSION:_e=i.a;break;case Mr.LOCAL:_e=(yield i.aE(i.i)._isAvailable())?i.i:i.b;break;case Mr.NONE:_e=i.U;break;default:return i.ax("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(_e)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Er(this._delegate,i.a0(this._delegate))}signInWithCredential(k){return Er(this._delegate,i.a1(this._delegate,k))}signInWithCustomToken(k){return Er(this._delegate,i.a4(this._delegate,k))}signInWithEmailAndPassword(k,re){return Er(this._delegate,i.ab(this._delegate,k,re))}signInWithEmailLink(k,re){return Er(this._delegate,i.ae(this._delegate,k,re))}signInWithPhoneNumber(k,re){return zn(this._delegate,i.s(this._delegate,k,re))}signInWithPopup(k){var re=this;return(0,a.A)(function*(){return ue(Nn(),re._delegate,"operation-not-supported-in-this-environment"),Er(re._delegate,i.c(re._delegate,k,qn))})()}signInWithRedirect(k){var re=this;return(0,a.A)(function*(){return ue(Nn(),re._delegate,"operation-not-supported-in-this-environment"),yield Gn(re._delegate),i.f(re._delegate,k,qn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return i.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=Mr,$})();function vt($,M,k){let re=$;"function"!=typeof $&&({next:re,error:M,complete:k}=$);const _e=re;return{next:At=>_e(At&&gt.getOrCreate(At)),error:M,complete:k}}function Gt($,M){const k=function Ur($,M){const k=Sr();if(!k)return[];const re=i.aF(Ut,$,M);switch(k.getItem(re)){case Mr.NONE:return[i.U];case Mr.LOCAL:return[i.i,i.a];case Mr.SESSION:return[i.a];default:return[]}}($,M);if(typeof self<"u"&&!k.includes(i.i)&&k.push(i.i),typeof window<"u")for(const re of[i.b,i.a])k.includes(re)||k.push(re);return k.includes(i.U)||k.push(i.U),k}class $n{constructor(){this.providerId="phone",this._delegate=new i.P(hi(de.A.auth()))}static credential(M,k){return i.P.credential(M,k)}verifyPhoneNumber(M,k){return this._delegate.verifyPhoneNumber(M,k)}unwrap(){return this._delegate}}$n.PHONE_SIGN_IN_METHOD=i.P.PHONE_SIGN_IN_METHOD,$n.PROVIDER_ID=i.P.PROVIDER_ID;const Fr=i.aC;class br{constructor(M,k,re=de.A.app()){var _e;Fr(null===(_e=re.options)||void 0===_e?void 0:_e.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new i.R(re.auth(),M,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Et($){$.INTERNAL.registerComponent(new xe.uA("auth-compat",M=>{const k=M.getProvider("app-compat").getImmediate(),re=M.getProvider("auth");return new Re(k,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:i.A.EMAIL_SIGNIN,PASSWORD_RESET:i.A.PASSWORD_RESET,RECOVER_EMAIL:i.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:i.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:i.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:i.A.VERIFY_EMAIL}},EmailAuthProvider:i.V,FacebookAuthProvider:i.W,GithubAuthProvider:i.Y,GoogleAuthProvider:i.X,OAuthProvider:i.Z,SAMLAuthProvider:i._,PhoneAuthProvider:$n,PhoneMultiFactorGenerator:i.m,RecaptchaVerifier:br,TwitterAuthProvider:i.$,Auth:Re,AuthCredential:i.L,Error:Ie.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.14")}(de.A)},467:(rn,Ze,j)=>{function a(i,Ie,ge,Se,xe,Le,Ne){try{var te=i[Le](Ne),ae=te.value}catch(pe){return void ge(pe)}te.done?Ie(ae):Promise.resolve(ae).then(Se,xe)}function de(i){return function(){var Ie=this,ge=arguments;return new Promise(function(Se,xe){var Le=i.apply(Ie,ge);function Ne(ae){a(Le,Se,xe,Ne,te,"next",ae)}function te(ae){a(Le,Se,xe,Ne,te,"throw",ae)}Ne(void 0)})}}j.d(Ze,{A:()=>de})},1635:(rn,Ze,j)=>{function Ie(Be,Ae){var Ee={};for(var Ve in Be)Object.prototype.hasOwnProperty.call(Be,Ve)&&Ae.indexOf(Ve)<0&&(Ee[Ve]=Be[Ve]);if(null!=Be&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(Ve=Object.getOwnPropertySymbols(Be);rt<Ve.length;rt++)Ae.indexOf(Ve[rt])<0&&Object.prototype.propertyIsEnumerable.call(Be,Ve[rt])&&(Ee[Ve[rt]]=Be[Ve[rt]])}return Ee}function pe(Be,Ae,Ee,Ve){return new(Ee||(Ee=Promise))(function(Qe,Rt){function wn(Vn){try{tn(Ve.next(Vn))}catch(qt){Rt(qt)}}function nr(Vn){try{tn(Ve.throw(Vn))}catch(qt){Rt(qt)}}function tn(Vn){Vn.done?Qe(Vn.value):function rt(Qe){return Qe instanceof Ee?Qe:new Ee(function(Rt){Rt(Qe)})}(Vn.value).then(wn,nr)}tn((Ve=Ve.apply(Be,Ae||[])).next())})}function be(Be){return this instanceof be?(this.v=Be,this):new be(Be)}function et(Be,Ae,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,Ve=Ee.apply(Be,Ae||[]),Qe=[];return rt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),wn("next"),wn("throw"),wn("return",function Rt(Nn){return function($t){return Promise.resolve($t).then(Nn,qt)}}),rt[Symbol.asyncIterator]=function(){return this},rt;function wn(Nn,$t){Ve[Nn]&&(rt[Nn]=function(kt){return new Promise(function(_r,cn){Qe.push([Nn,kt,_r,cn])>1||nr(Nn,kt)})},$t&&(rt[Nn]=$t(rt[Nn])))}function nr(Nn,$t){try{!function tn(Nn){Nn.value instanceof be?Promise.resolve(Nn.value.v).then(Vn,qt):Hn(Qe[0][2],Nn)}(Ve[Nn]($t))}catch(kt){Hn(Qe[0][3],kt)}}function Vn(Nn){nr("next",Nn)}function qt(Nn){nr("throw",Nn)}function Hn(Nn,$t){Nn($t),Qe.shift(),Qe.length&&nr(Qe[0][0],Qe[0][1])}}function it(Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,Ae=Be[Symbol.asyncIterator];return Ae?Ae.call(Be):(Be=function wt(Be){var Ae="function"==typeof Symbol&&Symbol.iterator,Ee=Ae&&Be[Ae],Ve=0;if(Ee)return Ee.call(Be);if(Be&&"number"==typeof Be.length)return{next:function(){return Be&&Ve>=Be.length&&(Be=void 0),{value:Be&&Be[Ve++],done:!Be}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Be),Ee={},Ve("next"),Ve("throw"),Ve("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Ve(Qe){Ee[Qe]=Be[Qe]&&function(Rt){return new Promise(function(wn,nr){!function rt(Qe,Rt,wn,nr){Promise.resolve(nr).then(function(tn){Qe({value:tn,done:wn})},Rt)}(wn,nr,(Rt=Be[Qe](Rt)).done,Rt.value)})}}}j.d(Ze,{AQ:()=>et,N3:()=>be,Tt:()=>Ie,sH:()=>pe,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},rn=>{rn(rn.s=8889)}]);
