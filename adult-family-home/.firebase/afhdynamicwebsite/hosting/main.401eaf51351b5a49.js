"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(sn,et,O)=>{O.d(et,{$:()=>Sa,A:()=>Q,G:()=>Be,K:()=>Di,L:()=>Ps,N:()=>Me,P:()=>To,R:()=>Ru,U:()=>_e,V:()=>Ui,W:()=>bi,X:()=>Xr,Y:()=>vo,Z:()=>Ri,_:()=>Zi,a:()=>ic,a0:()=>co,a1:()=>es,a2:()=>$s,a3:()=>no,a4:()=>Mn,a5:()=>Pa,a6:()=>vu,a7:()=>tc,a8:()=>Bo,a9:()=>Eu,aA:()=>gn,aB:()=>dt,aC:()=>xe,aD:()=>Ph,aE:()=>ce,aF:()=>De,aG:()=>xh,aH:()=>Pl,aI:()=>Dh,aJ:()=>er,aN:()=>Lr,aQ:()=>Gi,aa:()=>Th,ab:()=>bu,ac:()=>vl,ad:()=>nc,ae:()=>Na,af:()=>Vc,ag:()=>re,ah:()=>Y,ak:()=>Xn,al:()=>mi,am:()=>Gr,ap:()=>xo,aq:()=>Ts,as:()=>rc,at:()=>_a,au:()=>un,av:()=>lr,aw:()=>rn,ax:()=>Ie,ay:()=>ca,az:()=>No,b:()=>La,c:()=>Hc,d:()=>cc,e:()=>lc,f:()=>rl,g:()=>Ol,h:()=>Ml,i:()=>N,j:()=>Jf,k:()=>$u,l:()=>Ua,m:()=>Yc,p:()=>be,r:()=>Gc,s:()=>Ss,u:()=>Ou});var i=O(467),ie=O(7852),n=O(1076),Ce=O(8041),oe=O(1635),Te=O(1362);const be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Be=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Je=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new n.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new Ce.Vy("@firebase/auth");function Re(I,...m){He.logLevel<=Ce.$b.ERROR&&He.error(`Auth (${ie.SDK_VERSION}): ${I}`,...m)}function Ie(I,...m){throw $t(I,...m)}function dt(I,...m){return $t(I,...m)}function ot(I,m,v){const D=Object.assign(Object.assign({},Je()),{[m]:v});return new n.FA("auth","Firebase",D).create(m,{appName:I.name})}function _t(I){return ot(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lt(I,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&Ie(I,"argument-error"),ot(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $t(I,...m){if("string"!=typeof I){const v=m[0],D=[...m.slice(1)];return D[0]&&(D[0].appName=I.name),I._errorFactory.create(v,...D)}return qe.create(I,...m)}function xe(I,m,...v){if(!I)throw $t(m,...v)}function tn(I){const m="INTERNAL ASSERTION FAILED: "+I;throw Re(m),new Error(m)}function un(I,m){I||tn(m)}function Wn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function it(){return"http:"===Ut()||"https:"===Ut()}function Ut(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ve{constructor(m,v){this.shortDelay=m,this.longDelay=v,un(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,n.jZ)()||(0,n.lV)()}get(){return function Oe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,n.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lt(I,m){un(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class ft{static initialize(m,v,D){this.fetchImpl=m,v&&(this.headersImpl=v),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Z=new Ve(3e4,6e4);function Ee(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function je(I,m,v,D){return gt.apply(this,arguments)}function gt(){return(gt=(0,i.A)(function*(I,m,v,D,X={}){return at(I,X,(0,i.A)(function*(){let ge={},rt={};D&&("GET"===m?rt=D:ge={body:JSON.stringify(D)});const kt=(0,n.Am)(Object.assign({key:I.config.apiKey},rt)).slice(1),Jt=yield I._getAdditionalHeaders();Jt["Content-Type"]="application/json",I.languageCode&&(Jt["X-Firebase-Locale"]=I.languageCode);const Vn=Object.assign({method:m,headers:Jt},ge);return(0,n.c1)()||(Vn.referrerPolicy="no-referrer"),ft.fetch()(dn(I,I.config.apiHost,v,kt),Vn)}))})).apply(this,arguments)}function at(I,m,v){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,i.A)(function*(I,m,v){I._canInitEmulator=!1;const D=Object.assign(Object.assign({},Le),m);try{const X=new nn(I),ge=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const rt=yield ge.json();if("needConfirmation"in rt)throw Jn(I,"account-exists-with-different-credential",rt);if(ge.ok&&!("errorMessage"in rt))return rt;{const kt=ge.ok?rt.errorMessage:rt.error.message,[Jt,Vn]=kt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Jt)throw Jn(I,"credential-already-in-use",rt);if("EMAIL_EXISTS"===Jt)throw Jn(I,"email-already-in-use",rt);if("USER_DISABLED"===Jt)throw Jn(I,"user-disabled",rt);const $n=D[Jt]||Jt.toLowerCase().replace(/[_\s]+/g,"-");if(Vn)throw ot(I,$n,Vn);Ie(I,$n)}}catch(X){if(X instanceof n.g)throw X;Ie(I,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function Sn(I,m,v,D){return cr.apply(this,arguments)}function cr(){return(cr=(0,i.A)(function*(I,m,v,D,X={}){const ge=yield je(I,m,v,D,X);return"mfaPendingCredential"in ge&&Ie(I,"multi-factor-auth-required",{_serverResponse:ge}),ge})).apply(this,arguments)}function dn(I,m,v,D){const X=`${m}${v}?${D}`;return I.config.emulator?lt(I.config,X):`${I.config.apiScheme}://${X}`}function kn(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,D)=>{this.timer=setTimeout(()=>D(dt(this.auth,"network-request-failed")),Z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jn(I,m,v){const D={appName:I.name};v.email&&(D.email=v.email),v.phoneNumber&&(D.phoneNumber=v.phoneNumber);const X=dt(I,m,D);return X.customData._tokenResponse=v,X}function Ln(I){return void 0!==I&&void 0!==I.getResponse}function Qt(I){return void 0!==I&&void 0!==I.enterprise}class qt{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===m)return kn(v.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function Zt(){return(Zt=(0,i.A)(function*(I){return(yield je(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ar(I,m){return Un.apply(this,arguments)}function Un(){return(Un=(0,i.A)(function*(I,m){return je(I,"GET","/v2/recaptchaConfig",Ee(I,m))})).apply(this,arguments)}function Tn(){return(Tn=(0,i.A)(function*(I,m){return je(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Cn(){return(Cn=(0,i.A)(function*(I,m){return je(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Fr(I,m){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,i.A)(function*(I,m){return je(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Vr(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Qi(){return(Qi=(0,i.A)(function*(I,m=!1){const v=(0,n.Ku)(I),D=yield v.getIdToken(m),X=qr(D);xe(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const ge="object"==typeof X.firebase?X.firebase:void 0,rt=ge?.sign_in_provider;return{claims:X,token:D,authTime:Vr(pn(X.auth_time)),issuedAtTime:Vr(pn(X.iat)),expirationTime:Vr(pn(X.exp)),signInProvider:rt||null,signInSecondFactor:ge?.sign_in_second_factor||null}})).apply(this,arguments)}function pn(I){return 1e3*Number(I)}function qr(I){const[m,v,D]=I.split(".");if(void 0===m||void 0===v||void 0===D)return Re("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,n.u)(v);return X?JSON.parse(X):(Re("Failed to decode base64 JWT payload"),null)}catch(X){return Re("Caught error parsing JWT payload as JSON",X?.toString()),null}}function nr(I){const m=qr(I);return xe(m,"internal-error"),xe(typeof m.exp<"u","internal-error"),xe(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function vr(I,m){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,i.A)(function*(I,m,v=!1){if(v)return m;try{return yield m}catch(D){throw D instanceof n.g&&function Ci({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(D)&&I.auth.currentUser===I&&(yield I.auth.signOut()),D}})).apply(this,arguments)}class pt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const D=this.getInterval(m);this.timerId=setTimeout((0,i.A)(function*(){yield v.iteration()}),D)}iteration(){var m=this;return(0,i.A)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&m.schedule(!0))}m.schedule()})()}}class Et{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vr(this.lastLoginAt),this.creationTime=Vr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function de(I){return ze.apply(this,arguments)}function ze(){return(ze=(0,i.A)(function*(I){var m;const v=I.auth,D=yield I.getIdToken(),X=yield vr(I,Fr(v,{idToken:D}));xe(X?.users.length,v,"internal-error");const ge=X.users[0];I._notifyReloadListener(ge);const rt=null!==(m=ge.providerUserInfo)&&void 0!==m&&m.length?Rr(ge.providerUserInfo):[],kt=function Rn(I,m){return[...I.filter(D=>!m.some(X=>X.providerId===D.providerId)),...m]}(I.providerData,rt),$n=!!I.isAnonymous&&!(I.email&&ge.passwordHash||kt?.length),si={uid:ge.localId,displayName:ge.displayName||null,photoURL:ge.photoUrl||null,email:ge.email||null,emailVerified:ge.emailVerified||!1,phoneNumber:ge.phoneNumber||null,tenantId:ge.tenantId||null,providerData:kt,metadata:new Et(ge.createdAt,ge.lastLoginAt),isAnonymous:$n};Object.assign(I,si)})).apply(this,arguments)}function zt(){return(zt=(0,i.A)(function*(I){const m=(0,n.Ku)(I);yield de(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Rr(I){return I.map(m=>{var{providerId:v}=m,D=(0,oe.Tt)(m,["providerId"]);return{providerId:v,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function li(){return(li=(0,i.A)(function*(I,m){const v=yield at(I,{},(0,i.A)(function*(){const D=(0,n.Am)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:X,apiKey:ge}=I.config,rt=dn(I,X,"/v1/token",`key=${ge}`),kt=yield I._getAdditionalHeaders();return kt["Content-Type"]="application/x-www-form-urlencoded",ft.fetch()(rt,{method:"POST",headers:kt,body:D})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function B(){return(B=(0,i.A)(function*(I,m){return je(I,"POST","/v2/accounts:revokeToken",Ee(I,m))})).apply(this,arguments)}class P{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){xe(m.idToken,"internal-error"),xe(typeof m.idToken<"u","internal-error"),xe(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):nr(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}updateFromIdToken(m){xe(0!==m.length,"internal-error");const v=nr(m);this.updateTokensAndExpiration(m,null,v)}getToken(m,v=!1){var D=this;return(0,i.A)(function*(){return v||!D.accessToken||D.isExpired?(xe(D.refreshToken,m,"user-token-expired"),D.refreshToken?(yield D.refresh(m,D.refreshToken),D.accessToken):null):D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var D=this;return(0,i.A)(function*(){const{accessToken:X,refreshToken:ge,expiresIn:rt}=yield function ir(I,m){return li.apply(this,arguments)}(m,v);D.updateTokensAndExpiration(X,ge,Number(rt))})()}updateTokensAndExpiration(m,v,D){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(m,v){const{refreshToken:D,accessToken:X,expirationTime:ge}=v,rt=new P;return D&&(xe("string"==typeof D,"internal-error",{appName:m}),rt.refreshToken=D),X&&(xe("string"==typeof X,"internal-error",{appName:m}),rt.accessToken=X),ge&&(xe("number"==typeof ge,"internal-error",{appName:m}),rt.expirationTime=ge),rt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new P,this.toJSON())}_performRefresh(){return tn("not implemented")}}function k(I,m){xe("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class se{constructor(m){var{uid:v,auth:D,stsTokenManager:X}=m,ge=(0,oe.Tt)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=D,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=ge.displayName||null,this.email=ge.email||null,this.emailVerified=ge.emailVerified||!1,this.phoneNumber=ge.phoneNumber||null,this.photoURL=ge.photoURL||null,this.isAnonymous=ge.isAnonymous||!1,this.tenantId=ge.tenantId||null,this.providerData=ge.providerData?[...ge.providerData]:[],this.metadata=new Et(ge.createdAt||void 0,ge.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,i.A)(function*(){const D=yield vr(v,v.stsTokenManager.getToken(v.auth,m));return xe(D,v.auth,"internal-error"),v.accessToken!==D&&(v.accessToken=D,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),D})()}getIdTokenResult(m){return function Kr(I){return Qi.apply(this,arguments)}(this,m)}reload(){return function Ft(I){return zt.apply(this,arguments)}(this)}_assign(m){this!==m&&(xe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new se(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var D=this;return(0,i.A)(function*(){let X=!1;m.idToken&&m.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(m),X=!0),v&&(yield de(D)),yield D.auth._persistUserIfCurrent(D),X&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var m=this;return(0,i.A)(function*(){if((0,ie._isFirebaseServerApp)(m.auth.app))return Promise.reject(_t(m.auth));const v=yield m.getIdToken();return yield vr(m,function Bt(I,m){return Tn.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var D,X,ge,rt,kt,Jt,Vn,$n;const si=null!==(D=v.displayName)&&void 0!==D?D:void 0,Hs=null!==(X=v.email)&&void 0!==X?X:void 0,ua=null!==(ge=v.phoneNumber)&&void 0!==ge?ge:void 0,al=null!==(rt=v.photoURL)&&void 0!==rt?rt:void 0,Ud=null!==(kt=v.tenantId)&&void 0!==kt?kt:void 0,zu=null!==(Jt=v._redirectEventId)&&void 0!==Jt?Jt:void 0,jh=null!==(Vn=v.createdAt)&&void 0!==Vn?Vn:void 0,Gm=null!==($n=v.lastLoginAt)&&void 0!==$n?$n:void 0,{uid:sp,emailVerified:jd,isAnonymous:Tg,providerData:Xc,stsTokenManager:$h}=v;xe(sp&&$h,m,"internal-error");const Hl=P.fromJSON(this.name,$h);xe("string"==typeof sp,m,"internal-error"),k(si,m.name),k(Hs,m.name),xe("boolean"==typeof jd,m,"internal-error"),xe("boolean"==typeof Tg,m,"internal-error"),k(ua,m.name),k(al,m.name),k(Ud,m.name),k(zu,m.name),k(jh,m.name),k(Gm,m.name);const $d=new se({uid:sp,auth:m,email:Hs,emailVerified:jd,displayName:si,isAnonymous:Tg,photoURL:al,phoneNumber:ua,tenantId:Ud,stsTokenManager:Hl,createdAt:jh,lastLoginAt:Gm});return Xc&&Array.isArray(Xc)&&($d.providerData=Xc.map(Bh=>Object.assign({},Bh))),zu&&($d._redirectEventId=zu),$d}static _fromIdTokenResponse(m,v,D=!1){return(0,i.A)(function*(){const X=new P;X.updateFromServerResponse(v);const ge=new se({uid:v.localId,auth:m,stsTokenManager:X,isAnonymous:D});return yield de(ge),ge})()}static _fromGetAccountInfoResponse(m,v,D){return(0,i.A)(function*(){const X=v.users[0];xe(void 0!==X.localId,"internal-error");const ge=void 0!==X.providerUserInfo?Rr(X.providerUserInfo):[],rt=!(X.email&&X.passwordHash||ge?.length),kt=new P;kt.updateFromIdToken(D);const Jt=new se({uid:X.localId,auth:m,stsTokenManager:kt,isAnonymous:rt}),Vn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:ge,metadata:new Et(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||ge?.length)};return Object.assign(Jt,Vn),Jt})()}}const ye=new Map;function ce(I){un(I instanceof Function,"Expected a class definition");let m=ye.get(I);return m?(un(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,ye.set(I,m),m)}const _e=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.A)(function*(){return!0})()}_set(v,D){var X=this;return(0,i.A)(function*(){X.storage[v]=D})()}_get(v){var D=this;return(0,i.A)(function*(){const X=D.storage[v];return void 0===X?null:X})()}_remove(v){var D=this;return(0,i.A)(function*(){delete D.storage[v]})()}_addListener(v,D){}_removeListener(v,D){}}return I.type="NONE",I})();function De(I,m,v){return`firebase:${I}:${m}:${v}`}class St{constructor(m,v,D){this.persistence=m,this.auth=v,this.userKey=D;const{config:X,name:ge}=this.auth;this.fullUserKey=De(this.userKey,X.apiKey,ge),this.fullPersistenceKey=De("persistence",X.apiKey,ge),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,i.A)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?se._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,i.A)(function*(){if(v.persistence===m)return;const D=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,D?v.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,D="authUser"){return(0,i.A)(function*(){if(!v.length)return new St(ce(_e),m,D);const X=(yield Promise.all(v.map(function(){var Vn=(0,i.A)(function*($n){if(yield $n._isAvailable())return $n});return function($n){return Vn.apply(this,arguments)}}()))).filter(Vn=>Vn);let ge=X[0]||ce(_e);const rt=De(D,m.config.apiKey,m.name);let kt=null;for(const Vn of v)try{const $n=yield Vn._get(rt);if($n){const si=se._fromJSON(m,$n);Vn!==ge&&(kt=si),ge=Vn;break}}catch{}const Jt=X.filter(Vn=>Vn._shouldAllowMigration);return ge._shouldAllowMigration&&Jt.length?(ge=Jt[0],kt&&(yield ge._set(rt,kt.toJSON())),yield Promise.all(v.map(function(){var Vn=(0,i.A)(function*($n){if($n!==ge)try{yield $n._remove(rt)}catch{}});return function($n){return Vn.apply(this,arguments)}}())),new St(ge,m,D)):new St(ge,m,D)})()}}function Dn(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Gt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Se(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(En(m))return"Blackberry";if(hn(m))return"Webos";if(Ge(m))return"Safari";if((m.includes("chrome/")||Ye(m))&&!m.includes("edge/"))return"Chrome";if(rn(m))return"Android";{const D=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function Se(I=(0,n.ZQ)()){return/firefox\//i.test(I)}function Ge(I=(0,n.ZQ)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ye(I=(0,n.ZQ)()){return/crios\//i.test(I)}function Gt(I=(0,n.ZQ)()){return/iemobile/i.test(I)}function rn(I=(0,n.ZQ)()){return/android/i.test(I)}function En(I=(0,n.ZQ)()){return/blackberry/i.test(I)}function hn(I=(0,n.ZQ)()){return/webos/i.test(I)}function lr(I=(0,n.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function gn(I=(0,n.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function ct(I=(0,n.ZQ)()){return lr(I)||rn(I)||hn(I)||En(I)||/windows phone/i.test(I)||Gt(I)}function Vt(I,m=[]){let v;switch(I){case"Browser":v=Dn((0,n.ZQ)());break;case"Worker":v=`${Dn((0,n.ZQ)())}-${I}`;break;default:v=I}const D=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${ie.SDK_VERSION}/${D}`}class fn{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const D=ge=>new Promise((rt,kt)=>{try{rt(m(ge))}catch(Jt){kt(Jt)}});D.onAbort=v,this.queue.push(D);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,i.A)(function*(){if(v.auth.currentUser===m)return;const D=[];try{for(const X of v.queue)yield X(m),X.onAbort&&D.push(X.onAbort)}catch(X){D.reverse();for(const ge of D)try{ge()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function _n(){return(_n=(0,i.A)(function*(I,m={}){return je(I,"GET","/v2/passwordPolicy",Ee(I,m))})).apply(this,arguments)}class gr{constructor(m){var v,D,X,ge;const rt=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=rt.minPasswordLength)&&void 0!==v?v:6,rt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=rt.maxPasswordLength),void 0!==rt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=rt.containsLowercaseCharacter),void 0!==rt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=rt.containsUppercaseCharacter),void 0!==rt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=rt.containsNumericCharacter),void 0!==rt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=rt.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(D=m.allowedNonAlphanumericCharacters)||void 0===D?void 0:D.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(ge=m.forceUpgradeOnSignin)&&void 0!==ge&&ge,this.schemaVersion=m.schemaVersion}validatePassword(m){var v,D,X,ge,rt,kt;const Jt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,Jt),this.validatePasswordCharacterOptions(m,Jt),Jt.isValid&&(Jt.isValid=null===(v=Jt.meetsMinPasswordLength)||void 0===v||v),Jt.isValid&&(Jt.isValid=null===(D=Jt.meetsMaxPasswordLength)||void 0===D||D),Jt.isValid&&(Jt.isValid=null===(X=Jt.containsLowercaseLetter)||void 0===X||X),Jt.isValid&&(Jt.isValid=null===(ge=Jt.containsUppercaseLetter)||void 0===ge||ge),Jt.isValid&&(Jt.isValid=null===(rt=Jt.containsNumericCharacter)||void 0===rt||rt),Jt.isValid&&(Jt.isValid=null===(kt=Jt.containsNonAlphanumericCharacter)||void 0===kt||kt),Jt}validatePasswordLengthOptions(m,v){const D=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;D&&(v.meetsMinPasswordLength=m.length>=D),X&&(v.meetsMaxPasswordLength=m.length<=X)}validatePasswordCharacterOptions(m,v){let D;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<m.length;X++)D=m.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,D>="a"&&D<="z",D>="A"&&D<="Z",D>="0"&&D<="9",this.allowedNonAlphanumericCharacters.includes(D))}updatePasswordCharacterOptionsStatuses(m,v,D,X,ge){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=D)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=ge))}}class $r{constructor(m,v,D,X){this.app=m,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=D,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fi(this),this.idTokenSubscription=new Fi(this),this.beforeStateQueue=new fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(m,v){var D=this;return v&&(this._popupRedirectResolver=ce(v)),this._initializationPromise=this.queue((0,i.A)(function*(){var X,ge;if(!D._deleted&&(D.persistenceManager=yield St.create(D,m),!D._deleted)){if(null!==(X=D._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(v),D.lastNotifiedUid=(null===(ge=D.currentUser)||void 0===ge?void 0:ge.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,i.A)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(m){var v=this;return(0,i.A)(function*(){try{const D=yield Fr(v,{idToken:m}),X=yield se._fromGetAccountInfoResponse(v,D,m);yield v.directlySetCurrentUser(X)}catch(D){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",D),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var v=this;return(0,i.A)(function*(){var D;if((0,ie._isFirebaseServerApp)(v.app)){const kt=v.app.settings.authIdToken;return kt?new Promise(Jt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(kt).then(Jt,Jt))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let ge=X,rt=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const kt=null===(D=v.redirectUser)||void 0===D?void 0:D._redirectEventId,Jt=ge?._redirectEventId,Vn=yield v.tryRedirectSignIn(m);(!kt||kt===Jt)&&Vn?.user&&(ge=Vn.user,rt=!0)}if(!ge)return v.directlySetCurrentUser(null);if(!ge._redirectEventId){if(rt)try{yield v.beforeStateQueue.runMiddleware(ge)}catch(kt){ge=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(kt))}return ge?v.reloadAndSetCurrentUserOrClear(ge):v.directlySetCurrentUser(null)}return xe(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ge._redirectEventId?v.directlySetCurrentUser(ge):v.reloadAndSetCurrentUserOrClear(ge)})()}tryRedirectSignIn(m){var v=this;return(0,i.A)(function*(){let D=null;try{D=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,i.A)(function*(){try{yield de(m)}catch(D){if("auth/network-request-failed"!==D?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function mt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,i.A)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,i.A)(function*(){if((0,ie._isFirebaseServerApp)(v.app))return Promise.reject(_t(v));const D=m?(0,n.Ku)(m):null;return D&&xe(D.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(D&&D._clone(v))})()}_updateCurrentUser(m,v=!1){var D=this;return(0,i.A)(function*(){if(!D._deleted)return m&&xe(D.tenantId===m.tenantId,D,"tenant-id-mismatch"),v||(yield D.beforeStateQueue.runMiddleware(m)),D.queue((0,i.A)(function*(){yield D.directlySetCurrentUser(m),D.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,i.A)(function*(){return(0,ie._isFirebaseServerApp)(m.app)?Promise.reject(_t(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var v=this;return(0,ie._isFirebaseServerApp)(this.app)?Promise.reject(_t(this)):this.queue((0,i.A)(function*(){yield v.assertedPersistence.setPersistence(ce(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var v=this;return(0,i.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const D=v._getPasswordPolicyInternal();return D.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):D.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,i.A)(function*(){const v=yield function Kn(I){return _n.apply(this,arguments)}(m),D=new gr(v);null===m.tenantId?m._projectPasswordPolicy=D:m._tenantPasswordPolicies[m.tenantId]=D})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new n.FA("auth","Firebase",m())}onAuthStateChanged(m,v,D){return this.registerStateListener(this.authStateSubscription,m,v,D)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,D){return this.registerStateListener(this.idTokenSubscription,m,v,D)}authStateReady(){return new Promise((m,v)=>{if(this.currentUser)m();else{const D=this.onAuthStateChanged(()=>{D(),m()},v)}})}revokeAccessToken(m){var v=this;return(0,i.A)(function*(){if(v.currentUser){const D=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:D};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function Pt(I,m){return B.apply(this,arguments)}(v,X)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var D=this;return(0,i.A)(function*(){const X=yield D.getOrInitRedirectPersistenceManager(v);return null===m?X.removeCurrentUser():X.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,i.A)(function*(){if(!v.redirectPersistenceManager){const D=m&&ce(m)||v._popupRedirectResolver;xe(D,v,"argument-error"),v.redirectPersistenceManager=yield St.create(v,[ce(D._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,i.A)(function*(){var D,X;return v._isInitialized&&(yield v.queue((0,i.A)(function*(){}))),(null===(D=v._currentUser)||void 0===D?void 0:D._redirectEventId)===m?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,i.A)(function*(){if(m===v.currentUser)return v.queue((0,i.A)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,D,X){if(this._deleted)return()=>{};const ge="function"==typeof v?v:v.next.bind(v);let rt=!1;const kt=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(kt,this,"internal-error"),kt.then(()=>{rt||ge(this.currentUser)}),"function"==typeof v){const Jt=m.addObserver(v,D,X);return()=>{rt=!0,Jt()}}{const Jt=m.addObserver(v);return()=>{rt=!0,Jt()}}}directlySetCurrentUser(m){var v=this;return(0,i.A)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Vt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,i.A)(function*(){var v;const D={"X-Client-Version":m.clientVersion};m.app.options.appId&&(D["X-Firebase-gmpid"]=m.app.options.appId);const X=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(D["X-Firebase-Client"]=X);const ge=yield m._getAppCheckToken();return ge&&(D["X-Firebase-AppCheck"]=ge),D})()}_getAppCheckToken(){var m=this;return(0,i.A)(function*(){var v;const D=yield null===(v=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return D?.error&&function Nt(I,...m){He.logLevel<=Ce.$b.WARN&&He.warn(`Auth (${ie.SDK_VERSION}): ${I}`,...m)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function er(I){return(0,n.Ku)(I)}class Fi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,n.tD)(v=>this.observer=v)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cs={loadJS:()=>(0,i.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qs(I){return cs.loadJS(I)}function Jr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Yr{constructor(m){this.type="recaptcha-enterprise",this.auth=er(m)}verify(m="verify",v=!1){var D=this;return(0,i.A)(function*(){function ge(){return ge=(0,i.A)(function*(kt){if(!v){if(null==kt.tenantId&&null!=kt._agentRecaptchaConfig)return kt._agentRecaptchaConfig.siteKey;if(null!=kt.tenantId&&void 0!==kt._tenantRecaptchaConfigs[kt.tenantId])return kt._tenantRecaptchaConfigs[kt.tenantId].siteKey}return new Promise(function(){var Jt=(0,i.A)(function*(Vn,$n){ar(kt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(si=>{if(void 0!==si.recaptchaKey){const Hs=new qt(si);return null==kt.tenantId?kt._agentRecaptchaConfig=Hs:kt._tenantRecaptchaConfigs[kt.tenantId]=Hs,Vn(Hs.siteKey)}$n(new Error("recaptcha Enterprise site key undefined"))}).catch(si=>{$n(si)})});return function(Vn,$n){return Jt.apply(this,arguments)}}())}),ge.apply(this,arguments)}function rt(kt,Jt,Vn){const $n=window.grecaptcha;Qt($n)?$n.enterprise.ready(()=>{$n.enterprise.execute(kt,{action:m}).then(si=>{Jt(si)}).catch(()=>{Jt("NO_RECAPTCHA")})}):Vn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((kt,Jt)=>{(function X(kt){return ge.apply(this,arguments)})(D.auth).then(Vn=>{if(!v&&Qt(window.grecaptcha))rt(Vn,kt,Jt);else{if(typeof window>"u")return void Jt(new Error("RecaptchaVerifier is only supported in browser"));let $n=function $i(){return cs.recaptchaEnterpriseScript}();0!==$n.length&&($n+=Vn),qs($n).then(()=>{rt(Vn,kt,Jt)}).catch(si=>{Jt(si)})}}).catch(Vn=>{Jt(Vn)})})})()}}function Li(I,m,v){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,i.A)(function*(I,m,v,D=!1){const X=new Yr(I);let ge;try{ge=yield X.verify(v)}catch{ge=yield X.verify(v,!0)}const rt=Object.assign({},m);return Object.assign(rt,D?{captchaResp:ge}:{captchaResponse:ge}),Object.assign(rt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(rt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),rt})).apply(this,arguments)}function xr(I,m,v,D){return Ys.apply(this,arguments)}function Ys(){return Ys=(0,i.A)(function*(I,m,v,D){var X;if(null!==(X=I._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ge=yield Li(I,m,v,"getOobCode"===v);return D(I,ge)}return D(I,m).catch(function(){var ge=(0,i.A)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const kt=yield Li(I,m,v,"getOobCode"===v);return D(I,kt)}return Promise.reject(rt)});return function(rt){return ge.apply(this,arguments)}}())}),Ys.apply(this,arguments)}function Di(I,m,v){const D=er(I);xe(D._canInitEmulator,D,"emulator-config-failed"),xe(/^https?:\/\//.test(m),D,"invalid-emulator-scheme");const X=!!v?.disableWarnings,ge=fa(m),{host:rt,port:kt}=function Xs(I){const m=fa(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!v)return{host:"",port:null};const D=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(D);if(X){const ge=X[1];return{host:ge,port:ni(D.substr(ge.length+1))}}{const[ge,rt]=D.split(":");return{host:ge,port:ni(rt)}}}(m);D.config.emulator={url:`${ge}//${rt}${null===kt?"":`:${kt}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:rt,port:kt,protocol:ge.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function is(){function I(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function fa(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function ni(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class Ps{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return tn("not implemented")}_getIdTokenResponse(m){return tn("not implemented")}_linkToIdToken(m,v){return tn("not implemented")}_getReauthenticationResolver(m){return tn("not implemented")}}function yo(I,m){return Us.apply(this,arguments)}function Us(){return(Us=(0,i.A)(function*(I,m){return je(I,"POST","/v1/accounts:resetPassword",Ee(I,m))})).apply(this,arguments)}function hi(){return(hi=(0,i.A)(function*(I,m){return je(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function wi(I,m){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,i.A)(function*(I,m){return je(I,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function ds(){return(ds=(0,i.A)(function*(I,m){return je(I,"POST","/v1/accounts:update",Ee(I,m))})).apply(this,arguments)}function lo(I,m){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithPassword",Ee(I,m))})).apply(this,arguments)}function Cs(I,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,i.A)(function*(I,m){return je(I,"POST","/v1/accounts:sendOobCode",Ee(I,m))})).apply(this,arguments)}function bn(){return(bn=(0,i.A)(function*(I,m){return Cs(I,m)})).apply(this,arguments)}function ur(I,m){return Er.apply(this,arguments)}function Er(){return(Er=(0,i.A)(function*(I,m){return Cs(I,m)})).apply(this,arguments)}function ss(I,m){return hs.apply(this,arguments)}function hs(){return(hs=(0,i.A)(function*(I,m){return Cs(I,m)})).apply(this,arguments)}function Qs(){return(Qs=(0,i.A)(function*(I,m){return Cs(I,m)})).apply(this,arguments)}function fs(){return(fs=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithEmailLink",Ee(I,m))})).apply(this,arguments)}function or(){return(or=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithEmailLink",Ee(I,m))})).apply(this,arguments)}class ps extends Ps{constructor(m,v,D,X=null){super("password",D),this._email=m,this._password=v,this._tenantId=X}static _fromEmailAndPassword(m,v){return new ps(m,v,"password")}static _fromEmailAndCode(m,v,D=null){return new ps(m,v,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,i.A)(function*(){switch(v.signInMethod){case"password":return xr(m,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",lo);case"emailLink":return function ui(I,m){return fs.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:Ie(m,"internal-error")}})()}_linkToIdToken(m,v){var D=this;return(0,i.A)(function*(){switch(D.signInMethod){case"password":return xr(m,{idToken:v,returnSecureToken:!0,email:D._email,password:D._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wi);case"emailLink":return function Os(I,m){return or.apply(this,arguments)}(m,{idToken:v,email:D._email,oobCode:D._password});default:Ie(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function bs(I,m){return te.apply(this,arguments)}function te(){return(te=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithIdp",Ee(I,m))})).apply(this,arguments)}class Me extends Ps{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Me(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):Ie("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:X}=v,ge=(0,oe.Tt)(v,["providerId","signInMethod"]);if(!D||!X)return null;const rt=new Me(D,X);return rt.idToken=ge.idToken||void 0,rt.accessToken=ge.accessToken||void 0,rt.secret=ge.secret,rt.nonce=ge.nonce,rt.pendingToken=ge.pendingToken||null,rt}_getIdTokenResponse(m){return bs(m,this.buildRequest())}_linkToIdToken(m,v){const D=this.buildRequest();return D.idToken=v,bs(m,D)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,bs(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,n.Am)(v)}return m}}function ht(){return(ht=(0,i.A)(function*(I,m){return je(I,"POST","/v1/accounts:sendVerificationCode",Ee(I,m))})).apply(this,arguments)}function on(){return(on=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ee(I,m))})).apply(this,arguments)}function In(){return(In=(0,i.A)(function*(I,m){const v=yield Sn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ee(I,m));if(v.temporaryProof)throw Jn(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const rr={USER_NOT_FOUND:"user-not-found"};function qn(){return(qn=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ee(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),rr)})).apply(this,arguments)}class Yn extends Ps{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Yn({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Yn({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function It(I,m){return on.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function Nn(I,m){return In.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Mr(I,m){return qn.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:D,verificationCode:X}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:D,code:X}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:D,phoneNumber:X,temporaryProof:ge}=m;return D||v||X||ge?new Yn({verificationId:v,verificationCode:D,phoneNumber:X,temporaryProof:ge}):null}}class kr{constructor(m){var v,D,X,ge,rt,kt;const Jt=(0,n.I9)((0,n.hp)(m)),Vn=null!==(v=Jt.apiKey)&&void 0!==v?v:null,$n=null!==(D=Jt.oobCode)&&void 0!==D?D:null,si=function dr(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=Jt.mode)&&void 0!==X?X:null);xe(Vn&&$n&&si,"argument-error"),this.apiKey=Vn,this.operation=si,this.code=$n,this.continueUrl=null!==(ge=Jt.continueUrl)&&void 0!==ge?ge:null,this.languageCode=null!==(rt=Jt.languageCode)&&void 0!==rt?rt:null,this.tenantId=null!==(kt=Jt.tenantId)&&void 0!==kt?kt:null}static parseLink(m){const v=function gi(I){const m=(0,n.I9)((0,n.hp)(I)).link,v=m?(0,n.I9)((0,n.hp)(m)).deep_link_id:null,D=(0,n.I9)((0,n.hp)(I)).deep_link_id;return(D?(0,n.I9)((0,n.hp)(D)).link:null)||D||v||m||I}(m);try{return new kr(v)}catch{return null}}}let Ui=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,D){return ps._fromEmailAndPassword(v,D)}static credentialWithLink(v,D){const X=kr.parseLink(D);return xe(X,"argument-error"),ps._fromEmailAndCode(v,X.code,X.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class ii{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Or extends ii{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ri extends Or{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return xe("providerId"in v&&"signInMethod"in v,"argument-error"),Me._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return xe(m.idToken||m.accessToken,"argument-error"),Me._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ri.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ri.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:D,oauthTokenSecret:X,pendingToken:ge,nonce:rt,providerId:kt}=m;if(!D&&!X&&!v&&!ge||!kt)return null;try{return new Ri(kt)._credential({idToken:v,accessToken:D,nonce:rt,pendingToken:ge})}catch{return null}}}let bi=(()=>{class I extends Or{constructor(){super("facebook.com")}static credential(v){return Me._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Xr=(()=>{class I extends Or{constructor(){super("google.com"),this.addScope("profile")}static credential(v,D){return Me._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:D})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:D,oauthAccessToken:X}=v;if(!D&&!X)return null;try{return I.credential(D,X)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),vo=(()=>{class I extends Or{constructor(){super("github.com")}static credential(v){return Me._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Gi extends Ps{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return bs(m,this.buildRequest())}_linkToIdToken(m,v){const D=this.buildRequest();return D.idToken=v,bs(m,D)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,bs(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:X,pendingToken:ge}=v;return D&&X&&ge&&D===X?new Gi(D,ge):null}static _create(m,v){return new Gi(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zi extends ii{constructor(m){xe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Zi.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Zi.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Gi.fromJSON(m);return xe(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:D}=m;if(!v||!D)return null;try{return Gi._create(D,v)}catch{return null}}}let Sa=(()=>{class I extends Or{constructor(){super("twitter.com")}static credential(v,D){return Me._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:D})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:D,oauthTokenSecret:X}=v;if(!D||!X)return null;try{return I.credential(D,X)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Ro(I,m){return kc.apply(this,arguments)}function kc(){return(kc=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signUp",Ee(I,m))})).apply(this,arguments)}class js{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,D,X=!1){return(0,i.A)(function*(){const ge=yield se._fromIdTokenResponse(m,D,X),rt=Ns(D);return new js({user:ge,providerId:rt,_tokenResponse:D,operationType:v})})()}static _forOperation(m,v,D){return(0,i.A)(function*(){yield m._updateTokensIfNecessary(D,!0);const X=Ns(D);return new js({user:m,providerId:X,_tokenResponse:D,operationType:v})})()}}function Ns(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function co(I){return Da.apply(this,arguments)}function Da(){return(Da=(0,i.A)(function*(I){var m;if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(_t(I));const v=er(I);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new js({user:v.currentUser,providerId:null,operationType:"signIn"});const D=yield Ro(v,{returnSecureToken:!0}),X=yield js._fromIdTokenResponse(v,"signIn",D,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class pa extends n.g{constructor(m,v,D,X){var ge;super(v.code,v.message),this.operationType=D,this.user=X,Object.setPrototypeOf(this,pa.prototype),this.customData={appName:m.name,tenantId:null!==(ge=m.tenantId)&&void 0!==ge?ge:void 0,_serverResponse:v.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(m,v,D,X){return new pa(m,v,D,X)}}function xi(I,m,v,D){return("reauthenticate"===m?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(ge=>{throw"auth/multi-factor-auth-required"===ge.code?pa._fromErrorAndOperation(I,ge,m,D):ge})}function ia(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function xo(I,m){return W.apply(this,arguments)}function W(){return W=(0,i.A)(function*(I,m){const v=(0,n.Ku)(I);yield pe(!0,v,m);const{providerUserInfo:D}=yield function jn(I,m){return Cn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),X=ia(D||[]);return v.providerData=v.providerData.filter(ge=>X.has(ge.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),W.apply(this,arguments)}function ee(I,m){return U.apply(this,arguments)}function U(){return(U=(0,i.A)(function*(I,m,v=!1){const D=yield vr(I,m._linkToIdToken(I.auth,yield I.getIdToken()),v);return js._forOperation(I,"link",D)})).apply(this,arguments)}function pe(I,m,v){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,i.A)(function*(I,m,v){yield de(m);const X=!1===I?"provider-already-linked":"no-such-provider";xe(ia(m.providerData).has(v)===I,m.auth,X)})).apply(this,arguments)}function vn(I,m){return fr.apply(this,arguments)}function fr(){return(fr=(0,i.A)(function*(I,m,v=!1){const{auth:D}=I;if((0,ie._isFirebaseServerApp)(D.app))return Promise.reject(_t(D));const X="reauthenticate";try{const ge=yield vr(I,xi(D,X,m,I),v);xe(ge.idToken,D,"internal-error");const rt=qr(ge.idToken);xe(rt,D,"internal-error");const{sub:kt}=rt;return xe(I.uid===kt,D,"user-mismatch"),js._forOperation(I,X,ge)}catch(ge){throw"auth/user-not-found"===ge?.code&&Ie(D,"user-mismatch"),ge}})).apply(this,arguments)}function ms(I,m){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,i.A)(function*(I,m,v=!1){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(_t(I));const D="signIn",X=yield xi(I,D,m),ge=yield js._fromIdTokenResponse(I,D,X);return v||(yield I._updateCurrentUser(ge.user)),ge})).apply(this,arguments)}function es(I,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,i.A)(function*(I,m){return ms(er(I),m)})).apply(this,arguments)}function $s(I,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,i.A)(function*(I,m){const v=(0,n.Ku)(I);return yield pe(!1,v,m.providerId),ee(v,m)})).apply(this,arguments)}function no(I,m){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,i.A)(function*(I,m){return vn((0,n.Ku)(I),m)})).apply(this,arguments)}function $o(){return($o=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithCustomToken",Ee(I,m))})).apply(this,arguments)}function Mn(I,m){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,i.A)(function*(I,m){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(_t(I));const v=er(I),D=yield function Oi(I,m){return $o.apply(this,arguments)}(v,{token:m,returnSecureToken:!0}),X=yield js._fromIdTokenResponse(v,"signIn",D);return yield v._updateCurrentUser(X.user),X}),Ra.apply(this,arguments)}class _s{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?yl._fromServerResponse(m,v):"totpInfo"in v?ro._fromServerResponse(m,v):Ie(m,"internal-error")}}class yl extends _s{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new yl(v)}}class ro extends _s{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new ro(v)}}function ga(I,m,v){var D;xe((null===(D=v.url)||void 0===D?void 0:D.length)>0,I,"invalid-continue-uri"),xe(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(xe(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(xe(v.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Is(I){return xa.apply(this,arguments)}function xa(){return(xa=(0,i.A)(function*(I){const m=er(I);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function Pa(I,m,v){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,i.A)(function*(I,m,v){const D=er(I),X={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};v&&ga(D,X,v),yield xr(D,X,"getOobCode",ur)})).apply(this,arguments)}function vu(I,m,v){return wr.apply(this,arguments)}function wr(){return wr=(0,i.A)(function*(I,m,v){yield yo((0,n.Ku)(I),{oobCode:m,newPassword:v}).catch(function(){var D=(0,i.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Is(I),X});return function(X){return D.apply(this,arguments)}}())}),wr.apply(this,arguments)}function tc(I,m){return Eo.apply(this,arguments)}function Eo(){return Eo=(0,i.A)(function*(I,m){yield function fi(I,m){return ds.apply(this,arguments)}((0,n.Ku)(I),{oobCode:m})}),Eo.apply(this,arguments)}function Bo(I,m){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,i.A)(function*(I,m){const v=(0,n.Ku)(I),D=yield yo(v,{oobCode:m}),X=D.requestType;switch(xe(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(D.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(D.mfaInfo,v,"internal-error");default:xe(D.email,v,"internal-error")}let ge=null;return D.mfaInfo&&(ge=_s._fromServerResponse(er(v),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:ge},operation:X}})).apply(this,arguments)}function Eu(I,m){return ma.apply(this,arguments)}function ma(){return(ma=(0,i.A)(function*(I,m){const{data:v}=yield Bo((0,n.Ku)(I),m);return v.email})).apply(this,arguments)}function Th(I,m,v){return Po.apply(this,arguments)}function Po(){return(Po=(0,i.A)(function*(I,m,v){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(_t(I));const D=er(I),rt=yield xr(D,{returnSecureToken:!0,email:m,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ro).catch(Jt=>{throw"auth/password-does-not-meet-requirements"===Jt.code&&Is(I),Jt}),kt=yield js._fromIdTokenResponse(D,"signIn",rt);return yield D._updateCurrentUser(kt.user),kt})).apply(this,arguments)}function bu(I,m,v){return(0,ie._isFirebaseServerApp)(I.app)?Promise.reject(_t(I)):es((0,n.Ku)(I),Ui.credential(m,v)).catch(function(){var D=(0,i.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Is(I),X});return function(X){return D.apply(this,arguments)}}())}function vl(I,m,v){return Go.apply(this,arguments)}function Go(){return(Go=(0,i.A)(function*(I,m,v){const D=er(I),X={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function ge(rt,kt){xe(kt.handleCodeInApp,D,"argument-error"),kt&&ga(D,rt,kt)})(X,v),yield xr(D,X,"getOobCode",ss)})).apply(this,arguments)}function nc(I,m){const v=kr.parseLink(m);return"EMAIL_SIGNIN"===v?.operation}function Na(I,m,v){return qa.apply(this,arguments)}function qa(){return(qa=(0,i.A)(function*(I,m,v){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(_t(I));const D=(0,n.Ku)(I),X=Ui.credentialWithLink(m,v||Wn());return xe(X._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),es(D,X)})).apply(this,arguments)}function Xa(){return(Xa=(0,i.A)(function*(I,m){return je(I,"POST","/v1/accounts:createAuthUri",Ee(I,m))})).apply(this,arguments)}function Vc(I,m){return x.apply(this,arguments)}function x(){return x=(0,i.A)(function*(I,m){const D={identifier:m,continueUri:it()?Wn():"http://localhost"},{signinMethods:X}=yield function Ya(I,m){return Xa.apply(this,arguments)}((0,n.Ku)(I),D);return X||[]}),x.apply(this,arguments)}function re(I,m){return $.apply(this,arguments)}function $(){return $=(0,i.A)(function*(I,m){const v=(0,n.Ku)(I),X={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&ga(v.auth,X,m);const{email:ge}=yield function ci(I,m){return bn.apply(this,arguments)}(v.auth,X);ge!==I.email&&(yield I.reload())}),$.apply(this,arguments)}function Y(I,m,v){return $e.apply(this,arguments)}function $e(){return $e=(0,i.A)(function*(I,m,v){const D=(0,n.Ku)(I),ge={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};v&&ga(D.auth,ge,v);const{email:rt}=yield function Bi(I,m){return Qs.apply(this,arguments)}(D.auth,ge);rt!==I.email&&(yield I.reload())}),$e.apply(this,arguments)}function Wt(){return(Wt=(0,i.A)(function*(I,m){return je(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Xn(I,m){return ei.apply(this,arguments)}function ei(){return ei=(0,i.A)(function*(I,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const D=(0,n.Ku)(I),ge={idToken:yield D.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},rt=yield vr(D,function xt(I,m){return Wt.apply(this,arguments)}(D.auth,ge));D.displayName=rt.displayName||null,D.photoURL=rt.photoUrl||null;const kt=D.providerData.find(({providerId:Jt})=>"password"===Jt);kt&&(kt.displayName=D.displayName,kt.photoURL=D.photoURL),yield D._updateTokensIfNecessary(rt)}),ei.apply(this,arguments)}function mi(I,m){const v=(0,n.Ku)(I);return(0,ie._isFirebaseServerApp)(v.auth.app)?Promise.reject(_t(v.auth)):hr(v,m,null)}function Gr(I,m){return hr((0,n.Ku)(I),null,m)}function hr(I,m,v){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,i.A)(function*(I,m,v){const{auth:D}=I,ge={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(ge.email=m),v&&(ge.password=v);const rt=yield vr(I,function Pr(I,m){return hi.apply(this,arguments)}(D,ge));yield I._updateTokensIfNecessary(rt,!0)}),Hr.apply(this,arguments)}class Ni{constructor(m,v,D={}){this.isNewUser=m,this.providerId=v,this.profile=D}}class Js extends Ni{constructor(m,v,D,X){super(m,v,D),this.username=X}}class Fs extends Ni{constructor(m,v){super(m,"facebook.com",v)}}class sa extends Js{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Bs extends Ni{constructor(m,v){super(m,"google.com",v)}}class Ho extends Js{constructor(m,v,D){super(m,"twitter.com",v,D)}}function Ts(I){const{user:m,_tokenResponse:v}=I;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function _i(I){var m,v;if(!I)return null;const{providerId:D}=I,X=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ge=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!D&&I?.idToken){const rt=null===(v=null===(m=qr(I.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(rt)return new Ni(ge,"anonymous"!==rt&&"custom"!==rt?rt:null)}if(!D)return null;switch(D){case"facebook.com":return new Fs(ge,X);case"github.com":return new sa(ge,X);case"google.com":return new Bs(ge,X);case"twitter.com":return new Ho(ge,X,I.screenName||null);case"custom":case"anonymous":return new Ni(ge,null);default:return new Ni(ge,D,X)}}(v)}class ws{constructor(m,v,D){this.type=m,this.credential=v,this.user=D}static _fromIdtoken(m,v){return new ws("enroll",m,v)}static _fromMfaPendingCredential(m){return new ws("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,D;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ws._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(D=m.multiFactorSession)&&void 0!==D&&D.idToken)return ws._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Fa{constructor(m,v,D){this.session=m,this.hints=v,this.signInResolver=D}static _fromError(m,v){const D=er(m),X=v.customData._serverResponse,ge=(X.mfaInfo||[]).map(kt=>_s._fromServerResponse(D,kt));xe(X.mfaPendingCredential,D,"internal-error");const rt=ws._fromMfaPendingCredential(X.mfaPendingCredential);return new Fa(rt,ge,function(){var kt=(0,i.A)(function*(Jt){const Vn=yield Jt._process(D,rt);delete X.mfaInfo,delete X.mfaPendingCredential;const $n=Object.assign(Object.assign({},X),{idToken:Vn.idToken,refreshToken:Vn.refreshToken});switch(v.operationType){case"signIn":const si=yield js._fromIdTokenResponse(D,v.operationType,$n);return yield D._updateCurrentUser(si.user),si;case"reauthenticate":return xe(v.user,D,"internal-error"),js._forOperation(v.user,v.operationType,$n);default:Ie(D,"internal-error")}});return function(Jt){return kt.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,i.A)(function*(){return v.signInResolver(m)})()}}function rc(I,m){var v;const D=(0,n.Ku)(I),X=m;return xe(m.customData.operationType,D,"argument-error"),xe(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,D,"argument-error"),Fa._fromError(D,X)}class ka{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(D=>_s._fromServerResponse(m.auth,D)))})}static _fromUser(m){return new ka(m)}getSession(){var m=this;return(0,i.A)(function*(){return ws._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,v){var D=this;return(0,i.A)(function*(){const X=m,ge=yield D.getSession(),rt=yield vr(D.user,X._process(D.user.auth,ge,v));return yield D.user._updateTokensIfNecessary(rt),D.user.reload()})()}unenroll(m){var v=this;return(0,i.A)(function*(){const D="string"==typeof m?m:m.uid,X=yield v.user.getIdToken();try{const ge=yield vr(v.user,function br(I,m){return je(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(I,m))}(v.user.auth,{idToken:X,mfaEnrollmentId:D}));v.enrolledFactors=v.enrolledFactors.filter(({uid:rt})=>rt!==D),yield v.user._updateTokensIfNecessary(ge),yield v.user.reload()}catch(ge){throw ge}})()}}const wu=new WeakMap;function _a(I){const m=(0,n.Ku)(I);return wu.has(m)||wu.set(m,ka._fromUser(m)),wu.get(m)}const Uc="__sak";class Ih{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const La=(()=>{class I extends Ih{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,D)=>this.onStorageEvent(v,D),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ct(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const D of Object.keys(this.listeners)){const X=this.storage.getItem(D),ge=this.localCache[D];X!==ge&&v(D,ge,X)}}onStorageEvent(v,D=!1){if(!v.key)return void this.forAllChangedKeys((kt,Jt,Vn)=>{this.notifyListeners(kt,Vn)});const X=v.key;D?this.detachListener():this.stopPolling();const ge=()=>{const kt=this.storage.getItem(X);!D&&this.localCache[X]===kt||this.notifyListeners(X,kt)},rt=this.storage.getItem(X);!function Dt(){return(0,n.lT)()&&10===document.documentMode}()||rt===v.newValue||v.newValue===v.oldValue?ge():setTimeout(ge,10)}notifyListeners(v,D){this.localCache[v]=D;const X=this.listeners[v];if(X)for(const ge of Array.from(X))ge(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,D,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:D,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,D){var X=()=>super._set,ge=this;return(0,i.A)(function*(){yield X().call(ge,v,D),ge.localCache[v]=JSON.stringify(D)})()}_get(v){var D=()=>super._get,X=this;return(0,i.A)(function*(){const ge=yield D().call(X,v);return X.localCache[v]=JSON.stringify(ge),ge})()}_remove(v){var D=()=>super._remove,X=this;return(0,i.A)(function*(){yield D().call(X,v),delete X.localCache[v]})()}}return I.type="LOCAL",I})(),ic=(()=>{class I extends Ih{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,D){}_removeListener(v,D){}}return I.type="SESSION",I})();let en=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const D=this.receivers.find(ge=>ge.isListeningto(v));if(D)return D;const X=new I(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var D=this;return(0,i.A)(function*(){const X=v,{eventId:ge,eventType:rt,data:kt}=X.data,Jt=D.handlersMap[rt];if(!Jt?.size)return;X.ports[0].postMessage({status:"ack",eventId:ge,eventType:rt});const Vn=Array.from(Jt).map(function(){var si=(0,i.A)(function*(Hs){return Hs(X.origin,kt)});return function(Hs){return si.apply(this,arguments)}}()),$n=yield function Su(I){return Promise.all(I.map(function(){var m=(0,i.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(D){return{fulfilled:!1,reason:D}}});return function(v){return m.apply(this,arguments)}}()))}(Vn);X.ports[0].postMessage({status:"done",eventId:ge,eventType:rt,response:$n})})()}_subscribe(v,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(D)}_unsubscribe(v,D){this.handlersMap[v]&&D&&this.handlersMap[v].delete(D),(!D||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Lr(I="",m=10){let v="";for(let D=0;D<m;D++)v+=Math.floor(10*Math.random());return I+v}class zo{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,D=50){var X=this;return(0,i.A)(function*(){const ge=typeof MessageChannel<"u"?new MessageChannel:null;if(!ge)throw new Error("connection_unavailable");let rt,kt;return new Promise((Jt,Vn)=>{const $n=Lr("",20);ge.port1.start();const si=setTimeout(()=>{Vn(new Error("unsupported_event"))},D);kt={messageChannel:ge,onMessage(Hs){const ua=Hs;if(ua.data.eventId===$n)switch(ua.data.status){case"ack":clearTimeout(si),rt=setTimeout(()=>{Vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(rt),Jt(ua.data.response);break;default:clearTimeout(si),clearTimeout(rt),Vn(new Error("invalid_response"))}}},X.handlers.add(kt),ge.port1.addEventListener("message",kt.onMessage),X.target.postMessage({eventType:m,eventId:$n,data:v},[ge.port2])}).finally(()=>{kt&&X.removeMessageHandler(kt)})})()}}function ys(){return window}function sc(){return typeof ys().WorkerGlobalScope<"u"&&"function"==typeof ys().importScripts}function Zs(){return(Zs=(0,i.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Va="firebaseLocalStorageDb",Qa="firebaseLocalStorage",Gs="fbase_key";class ho{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function ya(I,m){return I.transaction([Qa],m?"readwrite":"readonly").objectStore(Qa)}function bo(){const I=indexedDB.open(Va,1);return new Promise((m,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const D=I.result;try{D.createObjectStore(Qa,{keyPath:Gs})}catch(X){v(X)}}),I.addEventListener("success",(0,i.A)(function*(){const D=I.result;D.objectStoreNames.contains(Qa)?m(D):(D.close(),yield function Ja(){const I=indexedDB.deleteDatabase(Va);return new ho(I).toPromise()}(),m(yield bo()))}))})}function Ad(I,m,v){return $c.apply(this,arguments)}function $c(){return($c=(0,i.A)(function*(I,m,v){const D=ya(I,!0).put({[Gs]:m,value:v});return new ho(D).toPromise()})).apply(this,arguments)}function Du(){return(Du=(0,i.A)(function*(I,m){const v=ya(I,!1).get(m),D=yield new ho(v).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Bc(I,m){const v=ya(I,!0).delete(m);return new ho(v).toPromise()}const N=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,i.A)(function*(){return v.db||(v.db=yield bo()),v.db})()}_withRetries(v){var D=this;return(0,i.A)(function*(){let X=0;for(;;)try{const ge=yield D._openDb();return yield v(ge)}catch(ge){if(X++>3)throw ge;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,i.A)(function*(){return sc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,i.A)(function*(){v.receiver=en._getInstance(function wd(){return sc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var D=(0,i.A)(function*(X,ge){return{keyProcessed:(yield v._poll()).includes(ge.key)}});return function(X,ge){return D.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var D=(0,i.A)(function*(X,ge){return["keyChanged"]});return function(X,ge){return D.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,i.A)(function*(){var D,X;if(v.activeServiceWorker=yield function Cl(){return Zs.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new zo(v.activeServiceWorker);const ge=yield v.sender._send("ping",{},800);ge&&null!==(D=ge[0])&&void 0!==D&&D.fulfilled&&null!==(X=ge[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var D=this;return(0,i.A)(function*(){if(D.sender&&D.activeServiceWorker&&function Il(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:v},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,i.A)(function*(){try{if(!indexedDB)return!1;const v=yield bo();return yield Ad(v,Uc,"1"),yield Bc(v,Uc),!0}catch{}return!1})()}_withPendingWrite(v){var D=this;return(0,i.A)(function*(){D.pendingWrites++;try{yield v()}finally{D.pendingWrites--}})()}_set(v,D){var X=this;return(0,i.A)(function*(){return X._withPendingWrite((0,i.A)(function*(){return yield X._withRetries(ge=>Ad(ge,v,D)),X.localCache[v]=D,X.notifyServiceWorker(v)}))})()}_get(v){var D=this;return(0,i.A)(function*(){const X=yield D._withRetries(ge=>function Yf(I,m){return Du.apply(this,arguments)}(ge,v));return D.localCache[v]=X,X})()}_remove(v){var D=this;return(0,i.A)(function*(){return D._withPendingWrite((0,i.A)(function*(){return yield D._withRetries(X=>Bc(X,v)),delete D.localCache[v],D.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,i.A)(function*(){const D=yield v._withRetries(rt=>{const kt=ya(rt,!1).getAll();return new ho(kt).toPromise()});if(!D)return[];if(0!==v.pendingWrites)return[];const X=[],ge=new Set;if(0!==D.length)for(const{fbase_key:rt,value:kt}of D)ge.add(rt),JSON.stringify(v.localCache[rt])!==JSON.stringify(kt)&&(v.notifyListeners(rt,kt),X.push(rt));for(const rt of Object.keys(v.localCache))v.localCache[rt]&&!ge.has(rt)&&(v.notifyListeners(rt,null),X.push(rt));return X})()}notifyListeners(v,D){this.localCache[v]=D;const X=this.listeners[v];if(X)for(const ge of Array.from(X))ge(D)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,i.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Rt=1e12;class At{constructor(m){this.auth=m,this.counter=Rt,this._widgets=new Map}render(m,v){const D=this.counter;return this._widgets.set(D,new An(m,this.auth.name,v||{})),this.counter++,D}reset(m){var v;const D=m||Rt;null===(v=this._widgets.get(D))||void 0===v||v.delete(),this._widgets.delete(D)}getResponse(m){var v;return(null===(v=this._widgets.get(m||Rt))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,i.A)(function*(){var D;return null===(D=v._widgets.get(m||Rt))||void 0===D||D.execute(),""})()}}class An{constructor(m,v,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof m?document.getElementById(m):m;xe(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Tr(I){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<I;D++)m.push(v.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Dr=Jr("rcb"),Br=new Ve(3e4,6e4);class yi{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=ys().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return xe(function Za(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),m,"argument-error"),this.shouldResolveImmediately(v)&&Ln(ys().grecaptcha)?Promise.resolve(ys().grecaptcha):new Promise((D,X)=>{const ge=ys().setTimeout(()=>{X(dt(m,"network-request-failed"))},Br.get());ys()[Dr]=()=>{ys().clearTimeout(ge),delete ys()[Dr];const kt=ys().grecaptcha;if(!kt||!Ln(kt))return void X(dt(m,"internal-error"));const Jt=kt.render;kt.render=(Vn,$n)=>{const si=Jt(Vn,$n);return this.counter++,si},this.hostLanguage=v,D(kt)},qs(`${function mo(){return cs.recaptchaV2Script}()}?${(0,n.Am)({onload:Dr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ge),X(dt(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=ys().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Al{load(m){return(0,i.A)(function*(){return new At(m)})()}clearedOneInstance(){}}const oc="recaptcha",Sl={theme:"light",type:"image"};class Ru{constructor(m,v,D=Object.assign({},Sl)){this.parameters=D,this.type=oc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=er(m),this.isInvisible="invisible"===this.parameters.size,xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;xe(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Al:new yi,this.validateStartingState()}verify(){var m=this;return(0,i.A)(function*(){m.assertNotDestroyed();const v=yield m.render(),D=m.getAssertedRecaptcha();return D.getResponse(v)||new Promise(ge=>{const rt=kt=>{kt&&(m.tokenChangeListeners.delete(rt),ge(kt))};m.tokenChangeListeners.add(rt),m.isInvisible&&D.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(D=>D(v)),"function"==typeof m)m(v);else if("string"==typeof m){const D=ys()[m];"function"==typeof D&&D(v)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,i.A)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const D=document.createElement("div");v.appendChild(D),v=D}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,i.A)(function*(){xe(it()&&!sc(),m.auth,"internal-error"),yield function wh(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function yr(I){return Zt.apply(this,arguments)}(m.auth);xe(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class el{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Yn._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function Ss(I,m,v){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,i.A)(function*(I,m,v){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(_t(I));const D=er(I),X=yield Pu(D,m,(0,n.Ku)(v));return new el(X,ge=>es(D,ge))})).apply(this,arguments)}function Ua(I,m,v){return ac.apply(this,arguments)}function ac(){return(ac=(0,i.A)(function*(I,m,v){const D=(0,n.Ku)(I);yield pe(!1,D,"phone");const X=yield Pu(D.auth,m,(0,n.Ku)(v));return new el(X,ge=>$s(D,ge))})).apply(this,arguments)}function Gc(I,m,v){return xu.apply(this,arguments)}function xu(){return(xu=(0,i.A)(function*(I,m,v){const D=(0,n.Ku)(I);if((0,ie._isFirebaseServerApp)(D.auth.app))return Promise.reject(_t(D.auth));const X=yield Pu(D.auth,m,(0,n.Ku)(v));return new el(X,ge=>no(D,ge))})).apply(this,arguments)}function Pu(I,m,v){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,i.A)(function*(I,m,v){var D;const X=yield v.verify();try{let ge;if(xe("string"==typeof X,I,"argument-error"),xe(v.type===oc,I,"argument-error"),ge="string"==typeof m?{phoneNumber:m}:m,"session"in ge){const rt=ge.session;if("phoneNumber"in ge)return xe("enroll"===rt.type,I,"internal-error"),(yield function Cd(I,m){return je(I,"POST","/v2/accounts/mfaEnrollment:start",Ee(I,m))}(I,{idToken:rt.credential,phoneEnrollmentInfo:{phoneNumber:ge.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{xe("signin"===rt.type,I,"internal-error");const kt=(null===(D=ge.multiFactorHint)||void 0===D?void 0:D.uid)||ge.multiFactorUid;return xe(kt,I,"missing-multi-factor-info"),(yield function w(I,m){return je(I,"POST","/v2/accounts/mfaSignIn:start",Ee(I,m))}(I,{mfaPendingCredential:rt.credential,mfaEnrollmentId:kt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:rt}=yield function We(I,m){return ht.apply(this,arguments)}(I,{phoneNumber:ge.phoneNumber,recaptchaToken:X});return rt}}finally{v._reset()}}),Mu.apply(this,arguments)}function Ou(I,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,i.A)(function*(I,m){const v=(0,n.Ku)(I);if((0,ie._isFirebaseServerApp)(v.auth.app))return Promise.reject(_t(v.auth));yield ee(v,m)})).apply(this,arguments)}let To=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=er(v)}verifyPhoneNumber(v,D){return Pu(this.auth,v,(0,n.Ku)(D))}static credential(v,D){return Yn._fromVerification(v,D)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:D,temporaryProof:X}=v;return D&&X?Yn._fromTokenResponse(D,X):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Dl(I,m){return m?ce(m):(xe(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Ah extends Ps{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return bs(m,this._buildIdpRequest())}_linkToIdToken(m,v){return bs(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return bs(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Dd(I){return ms(I.auth,new Ah(I),I.bypassAuthState)}function jm(I){const{auth:m,user:v}=I;return xe(v,m,"internal-error"),vn(v,new Ah(I),I.bypassAuthState)}function Rd(I){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,i.A)(function*(I){const{auth:m,user:v}=I;return xe(v,m,"internal-error"),ee(v,new Ah(I),I.bypassAuthState)})).apply(this,arguments)}class Xf{constructor(m,v,D,X,ge=!1){this.auth=m,this.resolver=D,this.user=X,this.bypassAuthState=ge,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,i.A)(function*(D,X){m.pendingPromise={resolve:D,reject:X};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(ge){m.reject(ge)}});return function(D,X){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,i.A)(function*(){const{urlResponse:D,sessionId:X,postBody:ge,tenantId:rt,error:kt,type:Jt}=m;if(kt)return void v.reject(kt);const Vn={auth:v.auth,requestUri:D,sessionId:X,tenantId:rt||void 0,postBody:ge||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Jt)(Vn))}catch($n){v.reject($n)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Dd;case"linkViaPopup":case"linkViaRedirect":return Rd;case"reauthViaPopup":case"reauthViaRedirect":return jm;default:Ie(this.auth,"internal-error")}}resolve(m){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sh=new Ve(2e3,1e4);function Hc(I,m,v){return tl.apply(this,arguments)}function tl(){return(tl=(0,i.A)(function*(I,m,v){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(dt(I,"operation-not-supported-in-this-environment"));const D=er(I);Lt(I,m,ii);const X=Dl(D,v);return new mg(D,"signInViaPopup",m,X).executeNotNull()})).apply(this,arguments)}function lc(I,m,v){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,i.A)(function*(I,m,v){const D=(0,n.Ku)(I);if((0,ie._isFirebaseServerApp)(D.auth.app))return Promise.reject(dt(D.auth,"operation-not-supported-in-this-environment"));Lt(D.auth,m,ii);const X=Dl(D.auth,v);return new mg(D.auth,"reauthViaPopup",m,X,D).executeNotNull()})).apply(this,arguments)}function cc(I,m,v){return nl.apply(this,arguments)}function nl(){return(nl=(0,i.A)(function*(I,m,v){const D=(0,n.Ku)(I);Lt(D.auth,m,ii);const X=Dl(D.auth,v);return new mg(D.auth,"linkViaPopup",m,X,D).executeNotNull()})).apply(this,arguments)}let mg=(()=>{class I extends Xf{constructor(v,D,X,ge,rt){super(v,D,ge,rt),this.provider=X,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,i.A)(function*(){const D=yield v.execute();return xe(D,v.auth,"internal-error"),D})()}onExecution(){var v=this;return(0,i.A)(function*(){un(1===v.filter.length,"Popup operations only handle one event");const D=Lr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],D),v.authWindow.associatedEvent=D,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(dt(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(dt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var D,X;this.pollId=null!==(X=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(dt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Sh.get())};v()}}return I.currentPopupAction=null,I})();const Oo="pendingRedirect",Ea=new Map;class Fu extends Xf{constructor(m,v,D=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,D),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,i.A)(function*(){let D=Ea.get(v.auth._key());if(!D){try{const ge=(yield function Co(I,m){return xd.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;D=()=>Promise.resolve(ge)}catch(X){D=()=>Promise.reject(X)}Ea.set(v.auth._key(),D)}return v.bypassAuthState||Ea.set(v.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,D=this;return(0,i.A)(function*(){if("signInViaRedirect"===m.type)return v().call(D,m);if("unknown"!==m.type){if(m.eventId){const X=yield D.auth._redirectUserForId(m.eventId);if(X)return D.user=X,v().call(D,m);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,i.A)(function*(){})()}cleanUp(){}}function xd(){return(xd=(0,i.A)(function*(I,m){const v=Rh(m),D=uc(I);if(!(yield D._isAvailable()))return!1;const X="true"===(yield D._get(v));return yield D._remove(v),X})).apply(this,arguments)}function xl(I,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,i.A)(function*(I,m){return uc(I)._set(Rh(m),"true")})).apply(this,arguments)}function Dh(){Ea.clear()}function Pl(I,m){Ea.set(I._key(),m)}function uc(I){return ce(I._redirectPersistence)}function Rh(I){return De(Oo,I.config.apiKey,I.name)}function rl(I,m,v){return function dc(I,m,v){return zc.apply(this,arguments)}(I,m,v)}function zc(){return(zc=(0,i.A)(function*(I,m,v){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(_t(I));const D=er(I);Lt(I,m,ii),yield D._initializationPromise;const X=Dl(D,v);return yield xl(X,D),X._openRedirect(D,m,"signInViaRedirect")})).apply(this,arguments)}function Ml(I,m,v){return function Qf(I,m,v){return qo.apply(this,arguments)}(I,m,v)}function qo(){return(qo=(0,i.A)(function*(I,m,v){const D=(0,n.Ku)(I);if(Lt(D.auth,m,ii),(0,ie._isFirebaseServerApp)(D.auth.app))return Promise.reject(_t(D.auth));yield D.auth._initializationPromise;const X=Dl(D.auth,v);yield xl(X,D.auth);const ge=yield Zf(D);return X._openRedirect(D.auth,m,"reauthViaRedirect",ge)})).apply(this,arguments)}function Ol(I,m,v){return function Nl(I,m,v){return ku.apply(this,arguments)}(I,m,v)}function ku(){return(ku=(0,i.A)(function*(I,m,v){const D=(0,n.Ku)(I);Lt(D.auth,m,ii),yield D.auth._initializationPromise;const X=Dl(D.auth,v);yield pe(!1,D,m.providerId),yield xl(X,D.auth);const ge=yield Zf(D);return X._openRedirect(D.auth,m,"linkViaRedirect",ge)})).apply(this,arguments)}function Jf(I,m){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,i.A)(function*(I,m){return yield er(I)._initializationPromise,xh(I,m,!1)})).apply(this,arguments)}function xh(I,m){return os.apply(this,arguments)}function os(){return(os=(0,i.A)(function*(I,m,v=!1){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(_t(I));const D=er(I),X=Dl(D,m),rt=yield new Fu(D,X,v).execute();return rt&&!v&&(delete rt.user._redirectEventId,yield D._persistUserIfCurrent(rt.user),yield D._setRedirectUser(null,m)),rt})).apply(this,arguments)}function Zf(I){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,i.A)(function*(I){const m=Lr(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Ph{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(m,D)&&(v=!0,this.sendToConsumer(m,D),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function kl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Md(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var D;if(m.error&&!Md(m)){const X=(null===(D=m.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";v.onError(dt(this.auth,X))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const D=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&D}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pd(m))}saveEventToCache(m){this.cachedEventUids.add(Pd(m)),this.lastProcessedEventTime=Date.now()}}function Pd(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function Md({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===m?.code}function No(I){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,i.A)(function*(I,m={}){return je(I,"GET","/v1/projects",m)})).apply(this,arguments)}const Mh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lu=/^https?/;function Oh(){return(Oh=(0,i.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield No(I);for(const v of m)try{if(_g(v))return}catch{}Ie(I,"unauthorized-domain")})).apply(this,arguments)}function _g(I){const m=Wn(),{protocol:v,hostname:D}=new URL(m);if(I.startsWith("chrome-extension://")){const rt=new URL(I);return""===rt.hostname&&""===D?"chrome-extension:"===v&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&rt.hostname===D}if(!Lu.test(v))return!1;if(Mh.test(I))return D===I;const X=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(D)}const yg=new Ve(3e4,6e4);function ep(){const I=ys().___jsl;if(I?.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let ks=null;const Bm=new Ve(5e3,15e3),qc="__/auth/iframe",vg="emulator/auth/iframe",ja={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vu(I){const m=I.config;xe(m.authDomain,I,"auth-domain-config-required");const v=m.emulator?lt(m,vg):`https://${I.config.authDomain}/${qc}`,D={apiKey:m.apiKey,appName:I.name,v:ie.SDK_VERSION},X=eo.get(I.config.apiHost);X&&(D.eid=X);const ge=I._getFrameworks();return ge.length&&(D.fw=ge.join(",")),`${v}?${(0,n.Am)(D).slice(1)}`}function Nh(){return Nh=(0,i.A)(function*(I){const m=yield function $m(I){return ks=ks||function tp(I){return new Promise((m,v)=>{var D,X,ge;function rt(){ep(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{ep(),v(dt(I,"network-request-failed"))},timeout:yg.get()})}if(null!==(X=null===(D=ys().gapi)||void 0===D?void 0:D.iframes)&&void 0!==X&&X.Iframe)m(gapi.iframes.getContext());else{if(null===(ge=ys().gapi)||void 0===ge||!ge.load){const kt=Jr("iframefcb");return ys()[kt]=()=>{gapi.load?rt():v(dt(I,"network-request-failed"))},qs(`${function jo(){return cs.gapiScript}()}?onload=${kt}`).catch(Jt=>v(Jt))}rt()}}).catch(m=>{throw ks=null,m})}(I),ks}(I),v=ys().gapi;return xe(v,I,"internal-error"),m.open({where:document.body,url:Vu(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ja,dontclear:!0},D=>new Promise(function(){var X=(0,i.A)(function*(ge,rt){yield D.restyle({setHideOnLeave:!1});const kt=dt(I,"network-request-failed"),Jt=ys().setTimeout(()=>{rt(kt)},Bm.get());function Vn(){ys().clearTimeout(Jt),ge(D)}D.ping(Vn).then(Vn,()=>{rt(kt)})});return function(ge,rt){return X.apply(this,arguments)}}()))}),Nh.apply(this,arguments)}const Xo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Nd{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bg="__/auth/handler",Io="emulator/auth/handler",Fd=encodeURIComponent("fac");function ca(I,m,v,D,X,ge){return kd.apply(this,arguments)}function kd(){return(kd=(0,i.A)(function*(I,m,v,D,X,ge){xe(I.config.authDomain,I,"auth-domain-config-required"),xe(I.config.apiKey,I,"invalid-api-key");const rt={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:D,v:ie.SDK_VERSION,eventId:X};if(m instanceof ii){m.setDefaultLanguage(I.languageCode),rt.providerId=m.providerId||"",(0,n.Im)(m.getCustomParameters())||(rt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[$n,si]of Object.entries(ge||{}))rt[$n]=si}if(m instanceof Or){const $n=m.getScopes().filter(si=>""!==si);$n.length>0&&(rt.scopes=$n.join(","))}I.tenantId&&(rt.tid=I.tenantId);const kt=rt;for(const $n of Object.keys(kt))void 0===kt[$n]&&delete kt[$n];const Jt=yield I._getAppCheckToken(),Vn=Jt?`#${Fd}=${encodeURIComponent(Jt)}`:"";return`${function Fh({config:I}){return I.emulator?lt(I,Io):`https://${I.authDomain}/${bg}`}(I)}?${(0,n.Am)(kt).slice(1)}${Vn}`})).apply(this,arguments)}const Uu="webStorageSupport",$u=class ju{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ic,this._completeRedirectFn=xh,this._overrideRedirectResult=Pl}_openPopup(m,v,D,X){var ge=this;return(0,i.A)(function*(){var rt;un(null===(rt=ge.eventManagers[m._key()])||void 0===rt?void 0:rt.manager,"_initialize() not called before _openPopup()");const kt=yield ca(m,v,D,Wn(),X);return function np(I,m,v,D=500,X=600){const ge=Math.max((window.screen.availHeight-X)/2,0).toString(),rt=Math.max((window.screen.availWidth-D)/2,0).toString();let kt="";const Jt=Object.assign(Object.assign({},Xo),{width:D.toString(),height:X.toString(),top:ge,left:rt}),Vn=(0,n.ZQ)().toLowerCase();v&&(kt=Ye(Vn)?"_blank":v),Se(Vn)&&(m=m||"http://localhost",Jt.scrollbars="yes");const $n=Object.entries(Jt).reduce((Hs,[ua,al])=>`${Hs}${ua}=${al},`,"");if(function Ii(I=(0,n.ZQ)()){var m;return lr(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Vn)&&"_self"!==kt)return function Eg(I,m){const v=document.createElement("a");v.href=I,v.target=m;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(D)}(m||"",kt),new Nd(null);const si=window.open(m||"",kt,$n);xe(si,I,"popup-blocked");try{si.focus()}catch{}return new Nd(si)}(m,kt,Lr())})()}_openRedirect(m,v,D,X){var ge=this;return(0,i.A)(function*(){return yield ge._originValidation(m),function As(I){ys().location.href=I}(yield ca(m,v,D,Wn(),X)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:X,promise:ge}=this.eventManagers[v];return X?Promise.resolve(X):(un(ge,"If manager is not set, promise should be"),ge)}const D=this.initAndGetManager(m);return this.eventManagers[v]={promise:D},D.catch(()=>{delete this.eventManagers[v]}),D}initAndGetManager(m){var v=this;return(0,i.A)(function*(){const D=yield function Ll(I){return Nh.apply(this,arguments)}(m),X=new Ph(m);return D.register("authEvent",ge=>(xe(ge?.authEvent,m,"invalid-auth-event"),{status:X.onEvent(ge.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:X},v.iframes[m._key()]=D,X})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Uu,{type:Uu},X=>{var ge;const rt=null===(ge=X?.[0])||void 0===ge?void 0:ge[Uu];void 0!==rt&&v(!!rt),Ie(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Kc(I){return Oh.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return ct()||Ge()||lr()}};class rp{constructor(m){this.factorId=m}_process(m,v,D){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,D);case"signin":return this._finalizeSignIn(m,v.credential);default:return tn("unexpected MultiFactorSessionType")}}}class $l extends rp{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new $l(m)}_finalizeEnroll(m,v,D){return function Id(I,m){return je(I,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(I,m))}(m,{idToken:v,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function F(I,m){return je(I,"POST","/v2/accounts/mfaSignIn:finalize",Ee(I,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yc=(()=>{class I{constructor(){}static assertion(v){return $l._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var Lh="@firebase/auth";class Vh{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,i.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(D=>{m(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);v&&(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,n.XA)("authIdTokenMaxAge"),function ki(I){cs=I}({loadJS:I=>new Promise((m,v)=>{const D=document.createElement("script");D.setAttribute("src",I),D.onload=m,D.onerror=X=>{const ge=dt("internal-error");ge.customData=X,v(ge)},D.type="text/javascript",D.charset="UTF-8",function Gl(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(D)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Gu(I){(0,ie._registerComponent)(new Te.uA("auth",(m,{options:v})=>{const D=m.getProvider("app").getImmediate(),X=m.getProvider("heartbeat"),ge=m.getProvider("app-check-internal"),{apiKey:rt,authDomain:kt}=D.options;xe(rt&&!rt.includes(":"),"invalid-api-key",{appName:D.name});const Jt={apiKey:rt,authDomain:kt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vt(I)},Vn=new $r(D,X,ge,Jt);return function Ka(I,m){const v=m?.persistence||[],D=(Array.isArray(v)?v:[v]).map(ce);m?.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(D,m?.popupRedirectResolver)}(Vn,v),Vn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,D)=>{m.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new Te.uA("auth-internal",m=>{const v=er(m.getProvider("auth").getImmediate());return new Vh(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Lh,"1.7.9",function ip(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,ie.registerVersion)(Lh,"1.7.9","esm2017")}("Browser")},9583:(sn,et,O)=>{O.d(et,{fS:()=>Up,Ix:()=>id,H6:()=>em,T1:()=>Ls,Wq:()=>au,uY:()=>Qd,W6:()=>lt,Ci:()=>sm,YQ:()=>ul,NJ:()=>Cc,Dc:()=>Qt,GA:()=>Hp,cm:()=>hi,K$:()=>Bt,FA:()=>Un,lo:()=>zr,bI:()=>Oe,qG:()=>Ka,qi:()=>un,c8:()=>Jg,gS:()=>aE,C3:()=>ov,hq:()=>sv,me:()=>nm,rJ:()=>E_,Cs:()=>b_,vN:()=>Zg,kd:()=>oE,CL:()=>fE,LA:()=>Wv,H9:()=>rd,ol:()=>tm,Q5:()=>su,Os:()=>w_,FD:()=>pm,rf:()=>o0,Ws:()=>xs,z6:()=>rh,x7:()=>rE,nY:()=>wc,_e:()=>Xy,GG:()=>iE,kU:()=>l0,Rr:()=>wo,aU:()=>I_,GV:()=>u0,AB:()=>Jv,$1:()=>Zv,po:()=>im,St:()=>r0,aQ:()=>k_,FC:()=>Qy,My:()=>Qv,P:()=>zy,B:()=>xp,yx:()=>zv,c4:()=>hE,O5:()=>pE,BN:()=>sE,He:()=>$t,lN:()=>nE,HM:()=>Ky,EO:()=>Wy,mZ:()=>F_,iB:()=>rm,_M:()=>Xv});var be,Ne,i=O(467),ie=O(7852),n=O(1362),Ce=O(8041),oe=O(1076),Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={};(function(){var d;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(yt,Ke,st){st||(st=0);var vt=Array(16);if("string"==typeof Ke)for(var Tt=0;16>Tt;++Tt)vt[Tt]=Ke.charCodeAt(st++)|Ke.charCodeAt(st++)<<8|Ke.charCodeAt(st++)<<16|Ke.charCodeAt(st++)<<24;else for(Tt=0;16>Tt;++Tt)vt[Tt]=Ke[st++]|Ke[st++]<<8|Ke[st++]<<16|Ke[st++]<<24;var Ot=yt.g[3],tt=(Ke=yt.g[0])+(Ot^(st=yt.g[1])&((Tt=yt.g[2])^Ot))+vt[0]+3614090360&4294967295;tt=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=(st=(Tt=(Ot=(Ke=st+(tt<<7&4294967295|tt>>>25))+((tt=Ot+(Tt^Ke&(st^Tt))+vt[1]+3905402710&4294967295)<<12&4294967295|tt>>>20))+((tt=Tt+(st^Ot&(Ke^st))+vt[2]+606105819&4294967295)<<17&4294967295|tt>>>15))+((tt=st+(Ke^Tt&(Ot^Ke))+vt[3]+3250441966&4294967295)<<22&4294967295|tt>>>10))+((tt=Ke+(Ot^st&(Tt^Ot))+vt[4]+4118548399&4294967295)<<7&4294967295|tt>>>25))+((tt=Ot+(Tt^Ke&(st^Tt))+vt[5]+1200080426&4294967295)<<12&4294967295|tt>>>20))+((tt=Tt+(st^Ot&(Ke^st))+vt[6]+2821735955&4294967295)<<17&4294967295|tt>>>15))+((tt=st+(Ke^Tt&(Ot^Ke))+vt[7]+4249261313&4294967295)<<22&4294967295|tt>>>10))+((tt=Ke+(Ot^st&(Tt^Ot))+vt[8]+1770035416&4294967295)<<7&4294967295|tt>>>25))+((tt=Ot+(Tt^Ke&(st^Tt))+vt[9]+2336552879&4294967295)<<12&4294967295|tt>>>20))+((tt=Tt+(st^Ot&(Ke^st))+vt[10]+4294925233&4294967295)<<17&4294967295|tt>>>15))+((tt=st+(Ke^Tt&(Ot^Ke))+vt[11]+2304563134&4294967295)<<22&4294967295|tt>>>10))+((tt=Ke+(Ot^st&(Tt^Ot))+vt[12]+1804603682&4294967295)<<7&4294967295|tt>>>25))+((tt=Ot+(Tt^Ke&(st^Tt))+vt[13]+4254626195&4294967295)<<12&4294967295|tt>>>20))+((tt=Tt+(st^Ot&(Ke^st))+vt[14]+2792965006&4294967295)<<17&4294967295|tt>>>15))+((tt=st+(Ke^Tt&(Ot^Ke))+vt[15]+1236535329&4294967295)<<22&4294967295|tt>>>10))+((tt=Ke+(Tt^Ot&(st^Tt))+vt[1]+4129170786&4294967295)<<5&4294967295|tt>>>27))+((tt=Ot+(st^Tt&(Ke^st))+vt[6]+3225465664&4294967295)<<9&4294967295|tt>>>23))+((tt=Tt+(Ke^st&(Ot^Ke))+vt[11]+643717713&4294967295)<<14&4294967295|tt>>>18))+((tt=st+(Ot^Ke&(Tt^Ot))+vt[0]+3921069994&4294967295)<<20&4294967295|tt>>>12))+((tt=Ke+(Tt^Ot&(st^Tt))+vt[5]+3593408605&4294967295)<<5&4294967295|tt>>>27))+((tt=Ot+(st^Tt&(Ke^st))+vt[10]+38016083&4294967295)<<9&4294967295|tt>>>23))+((tt=Tt+(Ke^st&(Ot^Ke))+vt[15]+3634488961&4294967295)<<14&4294967295|tt>>>18))+((tt=st+(Ot^Ke&(Tt^Ot))+vt[4]+3889429448&4294967295)<<20&4294967295|tt>>>12))+((tt=Ke+(Tt^Ot&(st^Tt))+vt[9]+568446438&4294967295)<<5&4294967295|tt>>>27))+((tt=Ot+(st^Tt&(Ke^st))+vt[14]+3275163606&4294967295)<<9&4294967295|tt>>>23))+((tt=Tt+(Ke^st&(Ot^Ke))+vt[3]+4107603335&4294967295)<<14&4294967295|tt>>>18))+((tt=st+(Ot^Ke&(Tt^Ot))+vt[8]+1163531501&4294967295)<<20&4294967295|tt>>>12))+((tt=Ke+(Tt^Ot&(st^Tt))+vt[13]+2850285829&4294967295)<<5&4294967295|tt>>>27))+((tt=Ot+(st^Tt&(Ke^st))+vt[2]+4243563512&4294967295)<<9&4294967295|tt>>>23))+((tt=Tt+(Ke^st&(Ot^Ke))+vt[7]+1735328473&4294967295)<<14&4294967295|tt>>>18))+((tt=st+(Ot^Ke&(Tt^Ot))+vt[12]+2368359562&4294967295)<<20&4294967295|tt>>>12))+((tt=Ke+(st^Tt^Ot)+vt[5]+4294588738&4294967295)<<4&4294967295|tt>>>28))+((tt=Ot+(Ke^st^Tt)+vt[8]+2272392833&4294967295)<<11&4294967295|tt>>>21))+((tt=Tt+(Ot^Ke^st)+vt[11]+1839030562&4294967295)<<16&4294967295|tt>>>16))+((tt=st+(Tt^Ot^Ke)+vt[14]+4259657740&4294967295)<<23&4294967295|tt>>>9))+((tt=Ke+(st^Tt^Ot)+vt[1]+2763975236&4294967295)<<4&4294967295|tt>>>28))+((tt=Ot+(Ke^st^Tt)+vt[4]+1272893353&4294967295)<<11&4294967295|tt>>>21))+((tt=Tt+(Ot^Ke^st)+vt[7]+4139469664&4294967295)<<16&4294967295|tt>>>16))+((tt=st+(Tt^Ot^Ke)+vt[10]+3200236656&4294967295)<<23&4294967295|tt>>>9))+((tt=Ke+(st^Tt^Ot)+vt[13]+681279174&4294967295)<<4&4294967295|tt>>>28))+((tt=Ot+(Ke^st^Tt)+vt[0]+3936430074&4294967295)<<11&4294967295|tt>>>21))+((tt=Tt+(Ot^Ke^st)+vt[3]+3572445317&4294967295)<<16&4294967295|tt>>>16))+((tt=st+(Tt^Ot^Ke)+vt[6]+76029189&4294967295)<<23&4294967295|tt>>>9))+((tt=Ke+(st^Tt^Ot)+vt[9]+3654602809&4294967295)<<4&4294967295|tt>>>28))+((tt=Ot+(Ke^st^Tt)+vt[12]+3873151461&4294967295)<<11&4294967295|tt>>>21))+((tt=Tt+(Ot^Ke^st)+vt[15]+530742520&4294967295)<<16&4294967295|tt>>>16))+((tt=st+(Tt^Ot^Ke)+vt[2]+3299628645&4294967295)<<23&4294967295|tt>>>9))+((tt=Ke+(Tt^(st|~Ot))+vt[0]+4096336452&4294967295)<<6&4294967295|tt>>>26))+((tt=Ot+(st^(Ke|~Tt))+vt[7]+1126891415&4294967295)<<10&4294967295|tt>>>22))+((tt=Tt+(Ke^(Ot|~st))+vt[14]+2878612391&4294967295)<<15&4294967295|tt>>>17))+((tt=st+(Ot^(Tt|~Ke))+vt[5]+4237533241&4294967295)<<21&4294967295|tt>>>11))+((tt=Ke+(Tt^(st|~Ot))+vt[12]+1700485571&4294967295)<<6&4294967295|tt>>>26))+((tt=Ot+(st^(Ke|~Tt))+vt[3]+2399980690&4294967295)<<10&4294967295|tt>>>22))+((tt=Tt+(Ke^(Ot|~st))+vt[10]+4293915773&4294967295)<<15&4294967295|tt>>>17))+((tt=st+(Ot^(Tt|~Ke))+vt[1]+2240044497&4294967295)<<21&4294967295|tt>>>11))+((tt=Ke+(Tt^(st|~Ot))+vt[8]+1873313359&4294967295)<<6&4294967295|tt>>>26))+((tt=Ot+(st^(Ke|~Tt))+vt[15]+4264355552&4294967295)<<10&4294967295|tt>>>22))+((tt=Tt+(Ke^(Ot|~st))+vt[6]+2734768916&4294967295)<<15&4294967295|tt>>>17))+((tt=st+(Ot^(Tt|~Ke))+vt[13]+1309151649&4294967295)<<21&4294967295|tt>>>11))+((Ot=(Ke=st+((tt=Ke+(Tt^(st|~Ot))+vt[4]+4149444226&4294967295)<<6&4294967295|tt>>>26))+((tt=Ot+(st^(Ke|~Tt))+vt[11]+3174756917&4294967295)<<10&4294967295|tt>>>22))^((Tt=Ot+((tt=Tt+(Ke^(Ot|~st))+vt[2]+718787259&4294967295)<<15&4294967295|tt>>>17))|~Ke))+vt[9]+3951481745&4294967295,yt.g[0]=yt.g[0]+Ke&4294967295,yt.g[1]=yt.g[1]+(Tt+(tt<<21&4294967295|tt>>>11))&4294967295,yt.g[2]=yt.g[2]+Tt&4294967295,yt.g[3]=yt.g[3]+Ot&4294967295}function b(yt,Ke){this.h=Ke;for(var st=[],vt=!0,Tt=yt.length-1;0<=Tt;Tt--){var Ot=0|yt[Tt];vt&&Ot==Ke||(st[Tt]=Ot,vt=!1)}this.g=st}(function e(yt,Ke){function st(){}st.prototype=Ke.prototype,yt.D=Ke.prototype,yt.prototype=new st,yt.prototype.constructor=yt,yt.C=function(vt,Tt,Ot){for(var tt=Array(arguments.length-2),Ac=2;Ac<arguments.length;Ac++)tt[Ac-2]=arguments[Ac];return Ke.prototype[Tt].apply(vt,tt)}})(a,function s(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(yt,Ke){void 0===Ke&&(Ke=yt.length);for(var st=Ke-this.blockSize,vt=this.B,Tt=this.h,Ot=0;Ot<Ke;){if(0==Tt)for(;Ot<=st;)h(this,yt,Ot),Ot+=this.blockSize;if("string"==typeof yt){for(;Ot<Ke;)if(vt[Tt++]=yt.charCodeAt(Ot++),Tt==this.blockSize){h(this,vt),Tt=0;break}}else for(;Ot<Ke;)if(vt[Tt++]=yt[Ot++],Tt==this.blockSize){h(this,vt),Tt=0;break}}this.h=Tt,this.o+=Ke},a.prototype.v=function(){var yt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);yt[0]=128;for(var Ke=1;Ke<yt.length-8;++Ke)yt[Ke]=0;var st=8*this.o;for(Ke=yt.length-8;Ke<yt.length;++Ke)yt[Ke]=255&st,st/=256;for(this.u(yt),yt=Array(16),Ke=st=0;4>Ke;++Ke)for(var vt=0;32>vt;vt+=8)yt[st++]=this.g[Ke]>>>vt&255;return yt};var R={};function L(yt){return-128<=yt&&128>yt?function y(yt,Ke){var st=R;return Object.prototype.hasOwnProperty.call(st,yt)?st[yt]:st[yt]=Ke(yt)}(yt,function(Ke){return new b([0|Ke],0>Ke?-1:0)}):new b([0|yt],0>yt?-1:0)}function K(yt){if(isNaN(yt)||!isFinite(yt))return we;if(0>yt)return cn(K(-yt));for(var Ke=[],st=1,vt=0;yt>=st;vt++)Ke[vt]=yt/st|0,st*=4294967296;return new b(Ke,0)}var we=L(0),Ze=L(1),Mt=L(16777216);function Xt(yt){if(0!=yt.h)return!1;for(var Ke=0;Ke<yt.g.length;Ke++)if(0!=yt.g[Ke])return!1;return!0}function mn(yt){return-1==yt.h}function cn(yt){for(var Ke=yt.g.length,st=[],vt=0;vt<Ke;vt++)st[vt]=~yt.g[vt];return new b(st,~yt.h).add(Ze)}function Zn(yt,Ke){return yt.add(cn(Ke))}function pr(yt,Ke){for(;(65535&yt[Ke])!=yt[Ke];)yt[Ke+1]+=yt[Ke]>>>16,yt[Ke]&=65535,Ke++}function sr(yt,Ke){this.g=yt,this.h=Ke}function Nr(yt,Ke){if(Xt(Ke))throw Error("division by zero");if(Xt(yt))return new sr(we,we);if(mn(yt))return Ke=Nr(cn(yt),Ke),new sr(cn(Ke.g),cn(Ke.h));if(mn(Ke))return Ke=Nr(yt,cn(Ke)),new sr(cn(Ke.g),Ke.h);if(30<yt.g.length){if(mn(yt)||mn(Ke))throw Error("slowDivide_ only works with positive integers.");for(var st=Ze,vt=Ke;0>=vt.l(yt);)st=Pi(st),vt=Pi(vt);var Tt=ai(st,1),Ot=ai(vt,1);for(vt=ai(vt,2),st=ai(st,2);!Xt(vt);){var tt=Ot.add(vt);0>=tt.l(yt)&&(Tt=Tt.add(st),Ot=tt),vt=ai(vt,1),st=ai(st,1)}return Ke=Zn(yt,Tt.j(Ke)),new sr(Tt,Ke)}for(Tt=we;0<=yt.l(Ke);){for(st=Math.max(1,Math.floor(yt.m()/Ke.m())),vt=48>=(vt=Math.ceil(Math.log(st)/Math.LN2))?1:Math.pow(2,vt-48),tt=(Ot=K(st)).j(Ke);mn(tt)||0<tt.l(yt);)tt=(Ot=K(st-=vt)).j(Ke);Xt(Ot)&&(Ot=Ze),Tt=Tt.add(Ot),yt=Zn(yt,tt)}return new sr(Tt,yt)}function Pi(yt){for(var Ke=yt.g.length+1,st=[],vt=0;vt<Ke;vt++)st[vt]=yt.i(vt)<<1|yt.i(vt-1)>>>31;return new b(st,yt.h)}function ai(yt,Ke){var st=Ke>>5;Ke%=32;for(var vt=yt.g.length-st,Tt=[],Ot=0;Ot<vt;Ot++)Tt[Ot]=0<Ke?yt.i(Ot+st)>>>Ke|yt.i(Ot+st+1)<<32-Ke:yt.i(Ot+st);return new b(Tt,yt.h)}(d=b.prototype).m=function(){if(mn(this))return-cn(this).m();for(var yt=0,Ke=1,st=0;st<this.g.length;st++){var vt=this.i(st);yt+=(0<=vt?vt:4294967296+vt)*Ke,Ke*=4294967296}return yt},d.toString=function(yt){if(2>(yt=yt||10)||36<yt)throw Error("radix out of range: "+yt);if(Xt(this))return"0";if(mn(this))return"-"+cn(this).toString(yt);for(var Ke=K(Math.pow(yt,6)),st=this,vt="";;){var Tt=Nr(st,Ke).g,Ot=((0<(st=Zn(st,Tt.j(Ke))).g.length?st.g[0]:st.h)>>>0).toString(yt);if(Xt(st=Tt))return Ot+vt;for(;6>Ot.length;)Ot="0"+Ot;vt=Ot+vt}},d.i=function(yt){return 0>yt?0:yt<this.g.length?this.g[yt]:this.h},d.l=function(yt){return mn(yt=Zn(this,yt))?-1:Xt(yt)?0:1},d.abs=function(){return mn(this)?cn(this):this},d.add=function(yt){for(var Ke=Math.max(this.g.length,yt.g.length),st=[],vt=0,Tt=0;Tt<=Ke;Tt++){var Ot=vt+(65535&this.i(Tt))+(65535&yt.i(Tt)),tt=(Ot>>>16)+(this.i(Tt)>>>16)+(yt.i(Tt)>>>16);vt=tt>>>16,st[Tt]=(tt&=65535)<<16|(Ot&=65535)}return new b(st,-2147483648&st[st.length-1]?-1:0)},d.j=function(yt){if(Xt(this)||Xt(yt))return we;if(mn(this))return mn(yt)?cn(this).j(cn(yt)):cn(cn(this).j(yt));if(mn(yt))return cn(this.j(cn(yt)));if(0>this.l(Mt)&&0>yt.l(Mt))return K(this.m()*yt.m());for(var Ke=this.g.length+yt.g.length,st=[],vt=0;vt<2*Ke;vt++)st[vt]=0;for(vt=0;vt<this.g.length;vt++)for(var Tt=0;Tt<yt.g.length;Tt++){var Ot=this.i(vt)>>>16,tt=65535&this.i(vt),Ac=yt.i(Tt)>>>16,zp=65535&yt.i(Tt);st[2*vt+2*Tt]+=tt*zp,pr(st,2*vt+2*Tt),st[2*vt+2*Tt+1]+=Ot*zp,pr(st,2*vt+2*Tt+1),st[2*vt+2*Tt+1]+=tt*Ac,pr(st,2*vt+2*Tt+1),st[2*vt+2*Tt+2]+=Ot*Ac,pr(st,2*vt+2*Tt+2)}for(vt=0;vt<Ke;vt++)st[vt]=st[2*vt+1]<<16|st[2*vt];for(vt=Ke;vt<2*Ke;vt++)st[vt]=0;return new b(st,0)},d.A=function(yt){return Nr(this,yt).h},d.and=function(yt){for(var Ke=Math.max(this.g.length,yt.g.length),st=[],vt=0;vt<Ke;vt++)st[vt]=this.i(vt)&yt.i(vt);return new b(st,this.h&yt.h)},d.or=function(yt){for(var Ke=Math.max(this.g.length,yt.g.length),st=[],vt=0;vt<Ke;vt++)st[vt]=this.i(vt)|yt.i(vt);return new b(st,this.h|yt.h)},d.xor=function(yt){for(var Ke=Math.max(this.g.length,yt.g.length),st=[],vt=0;vt<Ke;vt++)st[vt]=this.i(vt)^yt.i(vt);return new b(st,this.h^yt.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Ne=Ae.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=K,b.fromString=function ue(yt,Ke){if(0==yt.length)throw Error("number format error: empty string");if(2>(Ke=Ke||10)||36<Ke)throw Error("radix out of range: "+Ke);if("-"==yt.charAt(0))return cn(ue(yt.substring(1),Ke));if(0<=yt.indexOf("-"))throw Error('number format error: interior "-" character');for(var st=K(Math.pow(Ke,8)),vt=we,Tt=0;Tt<yt.length;Tt+=8){var Ot=Math.min(8,yt.length-Tt),tt=parseInt(yt.substring(Tt,Tt+Ot),Ke);8>Ot?(Ot=K(Math.pow(Ke,Ot)),vt=vt.j(Ot).add(K(tt))):vt=(vt=vt.j(st)).add(K(tt))}return vt},be=Ae.Integer=b}).apply(typeof Te<"u"?Te:typeof self<"u"?self:typeof window<"u"?window:{});var me,Be,Je,qe,fe,He,Nt,Re,z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,j,q){return E==Array.prototype||E==Object.prototype||(E[j]=q.value),E},a=function s(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof z&&z];for(var j=0;j<E.length;++j){var q=E[j];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(E,j){if(j)e:{var q=a;E=E.split(".");for(var ve=0;ve<E.length-1;ve++){var wt=E[ve];if(!(wt in q))break e;q=q[wt]}(j=j(ve=q[E=E[E.length-1]]))!=ve&&null!=j&&e(q,E,{configurable:!0,writable:!0,value:j})}}("Array.prototype.values",function(E){return E||function(){return function y(E,j){E instanceof String&&(E+="");var q=0,ve=!1,wt={next:function(){if(!ve&&q<E.length){var jt=q++;return{value:j(jt,E[jt]),done:!1}}return ve=!0,{done:!0,value:void 0}}};return wt[Symbol.iterator]=function(){return wt},wt}(this,function(j,q){return q})}});var b=b||{},R=this||self;function L(E){var j=typeof E;return"array"==(j="object"!=j?j:E?Array.isArray(E)?"array":j:"null")||"object"==j&&"number"==typeof E.length}function K(E){var j=typeof E;return"object"==j&&null!=E||"function"==j}function ue(E,j,q){return E.call.apply(E.bind,arguments)}function we(E,j,q){if(!E)throw Error();if(2<arguments.length){var ve=Array.prototype.slice.call(arguments,2);return function(){var wt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(wt,ve),E.apply(j,wt)}}return function(){return E.apply(j,arguments)}}function Ze(E,j,q){return(Ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ue:we).apply(null,arguments)}function Mt(E,j){var q=Array.prototype.slice.call(arguments,1);return function(){var ve=q.slice();return ve.push.apply(ve,arguments),E.apply(this,ve)}}function Xt(E,j){function q(){}q.prototype=j.prototype,E.aa=j.prototype,E.prototype=new q,E.prototype.constructor=E,E.Qb=function(ve,wt,jt){for(var xn=Array(arguments.length-2),qi=2;qi<arguments.length;qi++)xn[qi-2]=arguments[qi];return j.prototype[wt].apply(ve,xn)}}function mn(E){const j=E.length;if(0<j){const q=Array(j);for(let ve=0;ve<j;ve++)q[ve]=E[ve];return q}return[]}function cn(E,j){for(let q=1;q<arguments.length;q++){const ve=arguments[q];if(L(ve)){const wt=E.length||0,jt=ve.length||0;E.length=wt+jt;for(let xn=0;xn<jt;xn++)E[wt+xn]=ve[xn]}else E.push(ve)}}function pr(E){return/^[\s\xa0]*$/.test(E)}function sr(){var E=R.navigator;return E&&(E=E.userAgent)?E:""}function Nr(E){return Nr[" "](E),E}Nr[" "]=function(){};var Pi=!(-1==sr().indexOf("Gecko")||-1!=sr().toLowerCase().indexOf("webkit")&&-1==sr().indexOf("Edge")||-1!=sr().indexOf("Trident")||-1!=sr().indexOf("MSIE")||-1!=sr().indexOf("Edge"));function ai(E,j,q){for(const ve in E)j.call(q,E[ve],ve,E)}function Ke(E){const j={};for(const q in E)j[q]=E[q];return j}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(E,j){let q,ve;for(let wt=1;wt<arguments.length;wt++){for(q in ve=arguments[wt],ve)E[q]=ve[q];for(let jt=0;jt<st.length;jt++)q=st[jt],Object.prototype.hasOwnProperty.call(ve,q)&&(E[q]=ve[q])}}function Tt(E){var j=1;E=E.split(":");const q=[];for(;0<j&&E.length;)q.push(E.shift()),j--;return E.length&&q.push(E.join(":")),q}function Ot(E){R.setTimeout(()=>{throw E},0)}function tt(){var E=$_;let j=null;return E.g&&(j=E.g,E.g=E.g.next,E.g||(E.h=null),j.next=null),j}var zp=new class Zn{constructor(j,q){this.i=j,this.j=q,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}(()=>new vE,E=>E.reset());class vE{constructor(){this.next=this.g=this.h=null}set(j,q){this.h=j,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let bf,Wp=!1,$_=new class Ac{constructor(){this.h=this.g=null}add(j,q){const ve=zp.get();ve.set(j,q),this.h?this.h.next=ve:this.g=ve,this.h=ve}},_m=()=>{const E=R.Promise.resolve(void 0);bf=()=>{E.then(EE)}};var EE=()=>{for(var E;E=tt();){try{E.h.call(E.g)}catch(q){Ot(q)}var j=zp;j.j(E),100>j.h&&(j.h++,E.next=j.g,j.g=E)}Wp=!1};function ad(){this.s=this.s,this.C=this.C}function ko(E,j){this.type=E,this.g=this.target=j,this.defaultPrevented=!1}ad.prototype.s=!1,ad.prototype.ma=function(){this.s||(this.s=!0,this.N())},ad.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ko.prototype.h=function(){this.defaultPrevented=!0};var bE=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var E=!1,j=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const q=()=>{};R.addEventListener("test",q,j),R.removeEventListener("test",q,j)}catch{}return E}();function Kp(E,j){if(ko.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var q=this.type=E.type,ve=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=j,j=E.relatedTarget){if(Pi){e:{try{Nr(j.nodeName);var wt=!0;break e}catch{}wt=!1}wt||(j=null)}}else"mouseover"==q?j=E.fromElement:"mouseout"==q&&(j=E.toElement);this.relatedTarget=j,ve?(this.clientX=void 0!==ve.clientX?ve.clientX:ve.pageX,this.clientY=void 0!==ve.clientY?ve.clientY:ve.pageY,this.screenX=ve.screenX||0,this.screenY=ve.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Sc[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Kp.aa.h.call(this)}}Xt(Kp,ko);var Sc={2:"touch",3:"pen",4:"mouse"};Kp.prototype.h=function(){Kp.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var ih="closure_listenable_"+(1e6*Math.random()|0),TE=0;function cv(E,j,q,ve,wt){this.listener=E,this.proxy=null,this.src=j,this.type=q,this.capture=!!ve,this.ha=wt,this.key=++TE,this.da=this.fa=!1}function ym(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function qp(E){this.src=E,this.g={},this.h=0}function Yp(E,j){var q=j.type;if(q in E.g){var jt,ve=E.g[q],wt=Array.prototype.indexOf.call(ve,j,void 0);(jt=0<=wt)&&Array.prototype.splice.call(ve,wt,1),jt&&(ym(j),0==E.g[q].length&&(delete E.g[q],E.h--))}}function sh(E,j,q,ve){for(var wt=0;wt<E.length;++wt){var jt=E[wt];if(!jt.da&&jt.listener==j&&jt.capture==!!q&&jt.ha==ve)return wt}return-1}qp.prototype.add=function(E,j,q,ve,wt){var jt=E.toString();(E=this.g[jt])||(E=this.g[jt]=[],this.h++);var xn=sh(E,j,ve,wt);return-1<xn?(j=E[xn],q||(j.fa=!1)):((j=new cv(j,this.src,jt,!!ve,wt)).fa=q,E.push(j)),j};var zi="closure_lm_"+(1e6*Math.random()|0),uv={};function Xp(E,j,q,ve,wt){if(ve&&ve.once)return Em(E,j,q,ve,wt);if(Array.isArray(j)){for(var jt=0;jt<j.length;jt++)Xp(E,j[jt],q,ve,wt);return null}return q=Jp(q),E&&E[ih]?E.K(j,q,K(ve)?!!ve.capture:!!ve,wt):vm(E,j,q,!1,ve,wt)}function vm(E,j,q,ve,wt,jt){if(!j)throw Error("Invalid event type");var xn=K(wt)?!!wt.capture:!!wt,qi=Tf(E);if(qi||(E[zi]=qi=new qp(E)),(q=qi.add(j,q,ve,xn,jt)).proxy)return q;if(ve=function B_(){const j=dv;return function E(q){return j.call(E.src,E.listener,q)}}(),q.proxy=ve,ve.src=E,ve.listener=q,E.addEventListener)bE||(wt=xn),void 0===wt&&(wt=!1),E.addEventListener(j.toString(),ve,wt);else if(E.attachEvent)E.attachEvent(G_(j.toString()),ve);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(ve)}return q}function Em(E,j,q,ve,wt){if(Array.isArray(j)){for(var jt=0;jt<j.length;jt++)Em(E,j[jt],q,ve,wt);return null}return q=Jp(q),E&&E[ih]?E.L(j,q,K(ve)?!!ve.capture:!!ve,wt):vm(E,j,q,!0,ve,wt)}function Qp(E,j,q,ve,wt){if(Array.isArray(j))for(var jt=0;jt<j.length;jt++)Qp(E,j[jt],q,ve,wt);else ve=K(ve)?!!ve.capture:!!ve,q=Jp(q),E&&E[ih]?(E=E.i,(j=String(j).toString())in E.g&&-1<(q=sh(jt=E.g[j],q,ve,wt))&&(ym(jt[q]),Array.prototype.splice.call(jt,q,1),0==jt.length&&(delete E.g[j],E.h--))):E&&(E=Tf(E))&&(j=E.g[j.toString()],E=-1,j&&(E=sh(j,q,ve,wt)),(q=-1<E?j[E]:null)&&dl(q))}function dl(E){if("number"!=typeof E&&E&&!E.da){var j=E.src;if(j&&j[ih])Yp(j.i,E);else{var q=E.type,ve=E.proxy;j.removeEventListener?j.removeEventListener(q,ve,E.capture):j.detachEvent?j.detachEvent(G_(q),ve):j.addListener&&j.removeListener&&j.removeListener(ve),(q=Tf(j))?(Yp(q,E),0==q.h&&(q.src=null,j[zi]=null)):ym(E)}}}function G_(E){return E in uv?uv[E]:uv[E]="on"+E}function dv(E,j){if(E.da)E=!0;else{j=new Kp(j,this);var q=E.listener,ve=E.ha||E.src;E.fa&&dl(E),E=q.call(ve,j)}return E}function Tf(E){return(E=E[zi])instanceof qp?E:null}var bm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jp(E){return"function"==typeof E?E:(E[bm]||(E[bm]=function(j){return E.handleEvent(j)}),E[bm])}function Zo(){ad.call(this),this.i=new qp(this),this.M=this,this.F=null}function fo(E,j){var q,ve=E.F;if(ve)for(q=[];ve;ve=ve.F)q.push(ve);if(E=E.M,ve=j.type||j,"string"==typeof j)j=new ko(j,E);else if(j instanceof ko)j.target=j.target||E;else{var wt=j;vt(j=new ko(ve,E),wt)}if(wt=!0,q)for(var jt=q.length-1;0<=jt;jt--){var xn=j.g=q[jt];wt=uu(xn,ve,!0,j)&&wt}if(wt=uu(xn=j.g=E,ve,!0,j)&&wt,wt=uu(xn,ve,!1,j)&&wt,q)for(jt=0;jt<q.length;jt++)wt=uu(xn=j.g=q[jt],ve,!1,j)&&wt}function uu(E,j,q,ve){if(!(j=E.i.g[String(j)]))return!0;j=j.concat();for(var wt=!0,jt=0;jt<j.length;++jt){var xn=j[jt];if(xn&&!xn.da&&xn.capture==q){var qi=xn.listener,oo=xn.ha||xn.src;xn.fa&&Yp(E.i,xn),wt=!1!==qi.call(oo,ve)&&wt}}return wt&&!ve.defaultPrevented}function Tm(E,j,q){if("function"==typeof E)q&&(E=Ze(E,q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=Ze(E.handleEvent,E)}return 2147483647<Number(j)?-1:R.setTimeout(E,j||0)}function Cf(E){E.g=Tm(()=>{E.g=null,E.i&&(E.i=!1,Cf(E))},E.l);const j=E.h;E.h=null,E.m.apply(null,j)}Xt(Zo,ad),Zo.prototype[ih]=!0,Zo.prototype.removeEventListener=function(E,j,q,ve){Qp(this,E,j,q,ve)},Zo.prototype.N=function(){if(Zo.aa.N.call(this),this.i){var j,E=this.i;for(j in E.g){for(var q=E.g[j],ve=0;ve<q.length;ve++)ym(q[ve]);delete E.g[j],E.h--}}this.F=null},Zo.prototype.K=function(E,j,q,ve){return this.i.add(String(E),j,!1,q,ve)},Zo.prototype.L=function(E,j,q,ve){return this.i.add(String(E),j,!0,q,ve)};class CE extends ad{constructor(j,q){super(),this.m=j,this.l=q,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Cf(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function If(E){ad.call(this),this.h=E,this.g={}}Xt(If,ad);var Cm=[];function Im(E){ai(E.g,function(j,q){this.g.hasOwnProperty(q)&&dl(j)},E),E.g={}}If.prototype.N=function(){If.aa.N.call(this),Im(this)},If.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wm=R.JSON.stringify,hv=R.JSON.parse,H_=class{stringify(E){return R.JSON.stringify(E,void 0)}parse(E){return R.JSON.parse(E,void 0)}};function Zp(){}function z_(){}Zp.prototype.h=null;var ah={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function eg(){ko.call(this,"d")}function Am(){ko.call(this,"c")}Xt(eg,ko),Xt(Am,ko);var ld={},lh=null;function tg(){return lh=lh||new Zo}function W_(E){ko.call(this,ld.La,E)}function wf(E){const j=tg();fo(j,new W_(j))}function fv(E,j){ko.call(this,ld.STAT_EVENT,E),this.stat=j}function ea(E){const j=tg();fo(j,new fv(j,E))}function K_(E,j){ko.call(this,ld.Ma,E),this.size=j}function Ha(E,j){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){E()},j)}function ch(){this.g=!0}function du(E,j,q,ve){E.info(function(){return"XMLHTTP TEXT ("+j+"): "+function q_(E,j){if(!E.g)return j;if(!j)return null;try{var q=JSON.parse(j);if(q)for(E=0;E<q.length;E++)if(Array.isArray(q[E])){var ve=q[E];if(!(2>ve.length)){var wt=ve[1];if(Array.isArray(wt)&&!(1>wt.length)){var jt=wt[0];if("noop"!=jt&&"stop"!=jt&&"close"!=jt)for(var xn=1;xn<wt.length;xn++)wt[xn]=""}}}return wm(q)}catch{return j}}(E,q)+(ve?" "+ve:"")})}ld.La="serverreachability",Xt(W_,ko),ld.STAT_EVENT="statevent",Xt(fv,ko),ld.Ma="timingevent",Xt(K_,ko),ch.prototype.xa=function(){this.g=!1},ch.prototype.info=function(){};var Sm,rg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ig={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Kl(){}function Dc(E,j,q,ve){this.j=E,this.i=j,this.l=q,this.R=ve||1,this.U=new If(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Y_}function Y_(){this.i=null,this.g="",this.h=!1}Xt(Kl,Zp),Kl.prototype.g=function(){return new XMLHttpRequest},Kl.prototype.i=function(){return{}},Sm=new Kl;var X_={},sg={};function og(E,j,q){E.L=1,E.v=xc(to(j)),E.m=q,E.P=!0,Q_(E,null)}function Q_(E,j){E.F=Date.now(),Sf(E),E.A=to(E.v);var q=E.A,ve=E.R;Array.isArray(ve)||(ve=[String(ve)]),mv(q.i,"t",ve),E.C=0,q=E.j.J,E.h=new Y_,E.g=Uf(E.j,q?j:null,!E.m),0<E.O&&(E.M=new CE(Ze(E.Y,E,E.g),E.O)),j=E.U,q=E.g,ve=E.ca;var wt="readystatechange";Array.isArray(wt)||(wt&&(Cm[0]=wt.toString()),wt=Cm);for(var jt=0;jt<wt.length;jt++){var xn=Xp(q,wt[jt],ve||j.handleEvent,!1,j.h||j);if(!xn)break;j.g[xn.key]=xn}j=E.H?Ke(E.H):{},E.m?(E.u||(E.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,j)):(E.u="GET",E.g.ea(E.A,E.u,null,j)),wf(),function ng(E,j,q,ve,wt,jt){E.info(function(){if(E.g)if(jt)for(var xn="",qi=jt.split("&"),oo=0;oo<qi.length;oo++){var ji=qi[oo].split("=");if(1<ji.length){var as=ji[0];ji=ji[1];var go=as.split("_");xn=2<=go.length&&"type"==go[1]?xn+(as+"=")+ji+"&":xn+(as+"=redacted&")}}else xn=null;else xn=jt;return"XMLHTTP REQ ("+ve+") [attempt "+wt+"]: "+j+"\n"+q+"\n"+xn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function J_(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Dm(E,j){var q=E.C,ve=j.indexOf("\n",q);return-1==ve?sg:(q=Number(j.substring(q,ve)),isNaN(q)?X_:(ve+=1)+q>j.length?sg:(j=j.slice(ve,ve+q),E.C=ve+q,j))}function Sf(E){E.S=Date.now()+E.I,Df(E,E.I)}function Df(E,j){if(null!=E.B)throw Error("WatchDog timer not null");E.B=Ha(Ze(E.ba,E),j)}function ag(E){E.B&&(R.clearTimeout(E.B),E.B=null)}function Rf(E){0==E.j.G||E.J||Lf(E.j,E)}function hl(E){ag(E);var j=E.M;j&&"function"==typeof j.ma&&j.ma(),E.M=null,Im(E.U),E.g&&(j=E.g,E.g=null,j.abort(),j.ma())}function uh(E,j){try{var q=E.j;if(0!=q.G&&(q.g==E||da(q.h,E)))if(!E.K&&da(q.h,E)&&3==q.G){try{var ve=q.Da.g.parse(j)}catch{ve=null}if(Array.isArray(ve)&&3==ve.length){var wt=ve;if(0==wt[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<E.F))break e;_d(q),Ff(q)}md(q),ea(18)}}else q.za=wt[1],0<q.za-q.T&&37500>wt[2]&&q.F&&0==q.v&&!q.C&&(q.C=Ha(Ze(q.Za,q),6e3));if(1>=ql(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else gu(q,11)}else if((E.K||q.g==E)&&_d(q),!pr(j))for(wt=q.Da.g.parse(j),j=0;j<wt.length;j++){let ji=wt[j];if(q.T=ji[0],ji=ji[1],2==q.G)if("c"==ji[0]){q.K=ji[1],q.ia=ji[2];const as=ji[3];null!=as&&(q.la=as,q.j.info("VER="+q.la));const go=ji[4];null!=go&&(q.Aa=go,q.j.info("SVER="+q.Aa));const za=ji[5];null!=za&&"number"==typeof za&&0<za&&(q.L=ve=1.5*za,q.j.info("backChannelRequestTimeoutMs_="+ve)),ve=q;const Uo=E.g;if(Uo){const $f=Uo.g?Uo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($f){var jt=ve.h;jt.g||-1==$f.indexOf("spdy")&&-1==$f.indexOf("quic")&&-1==$f.indexOf("h2")||(jt.j=jt.l,jt.g=new Set,jt.h&&(Vo(jt,jt.h),jt.h=null))}if(ve.D){const Bf=Uo.g?Uo.g.getResponseHeader("X-HTTP-Session-Id"):null;Bf&&(ve.ya=Bf,ts(ve.I,ve.D,Bf))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-E.F,q.j.info("Handshake RTT: "+q.R+"ms"));var xn=E;if((ve=q).qa=iy(ve,ve.J?ve.ia:null,ve.W),xn.K){cd(ve.h,xn);var qi=xn,oo=ve.L;oo&&(qi.I=oo),qi.B&&(ag(qi),Sf(qi)),ve.g=xn}else Om(ve);0<q.i.length&&gd(q)}else"stop"!=ji[0]&&"close"!=ji[0]||gu(q,7);else 3==q.G&&("stop"==ji[0]||"close"==ji[0]?"stop"==ji[0]?gu(q,7):Nf(q):"noop"!=ji[0]&&q.l&&q.l.ta(ji),q.v=0)}wf()}catch{}}function Rc(E){this.l=E||10,E=R.PerformanceNavigationTiming?0<(E=R.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function po(E){return!!E.h||!!E.g&&E.g.size>=E.j}function ql(E){return E.h?1:E.g?E.g.size:0}function da(E,j){return E.h?E.h==j:!!E.g&&E.g.has(j)}function Vo(E,j){E.g?E.g.add(j):E.h=j}function cd(E,j){E.h&&E.h==j?E.h=null:E.g&&E.g.has(j)&&E.g.delete(j)}function ud(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let j=E.i;for(const q of E.g.values())j=j.concat(q.D);return j}return mn(E.i)}function hd(E,j){if(E.forEach&&"function"==typeof E.forEach)E.forEach(j,void 0);else if(L(E)||"string"==typeof E)Array.prototype.forEach.call(E,j,void 0);else for(var q=function dd(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(L(E)||"string"==typeof E){var j=[];E=E.length;for(var q=0;q<E;q++)j.push(q);return j}j=[],q=0;for(const ve in E)j[q++]=ve;return j}}}(E),ve=function Yl(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(L(E)){for(var j=[],q=E.length,ve=0;ve<q;ve++)j.push(E[ve]);return j}for(ve in j=[],q=0,E)j[q++]=E[ve];return j}(E),wt=ve.length,jt=0;jt<wt;jt++)j.call(void 0,ve[jt],q&&q[jt],E)}Dc.prototype.ca=function(E){E=E.target;const j=this.M;j&&3==Oc(E)?j.j():this.Y(E)},Dc.prototype.Y=function(E){try{if(E==this.g)e:{const go=Oc(this.g);var j=this.g.Ba();if(this.g.Z(),!(3>go)&&(3!=go||this.g&&(this.h.h||this.g.oa()||hg(this.g)))){this.J||4!=go||7==j||wf(),ag(this);var q=this.g.Z();this.X=q;t:if(J_(this)){var ve=hg(this.g);E="";var wt=ve.length,jt=4==Oc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){hl(this),Rf(this);var xn="";break t}this.h.i=new R.TextDecoder}for(j=0;j<wt;j++)this.h.h=!0,E+=this.h.i.decode(ve[j],{stream:!(jt&&j==wt-1)});ve.length=0,this.h.g+=E,this.C=0,xn=this.h.g}else xn=this.g.oa();if(this.o=200==q,function Af(E,j,q,ve,wt,jt,xn){E.info(function(){return"XMLHTTP RESP ("+ve+") [ attempt "+wt+"]: "+j+"\n"+q+"\n"+jt+" "+xn})}(this.i,this.u,this.A,this.l,this.R,go,q),this.o){if(this.T&&!this.K){t:{if(this.g){var qi,oo=this.g;if((qi=oo.g?oo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pr(qi)){var ji=qi;break t}}ji=null}if(!(q=ji)){this.o=!1,this.s=3,ea(12),hl(this),Rf(this);break e}du(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uh(this,q)}if(this.P){let Uo;for(q=!0;!this.J&&this.C<xn.length;){if(Uo=Dm(this,xn),Uo==sg){4==go&&(this.s=4,ea(14),q=!1),du(this.i,this.l,null,"[Incomplete Response]");break}if(Uo==X_){this.s=4,ea(15),du(this.i,this.l,xn,"[Invalid Chunk]"),q=!1;break}du(this.i,this.l,Uo,null),uh(this,Uo)}if(J_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=go||0!=xn.length||this.h.h||(this.s=1,ea(16),q=!1),this.o=this.o&&q,q){if(0<xn.length&&!this.W){this.W=!0;var as=this.j;as.g==this&&as.ba&&!as.M&&(as.j.info("Great, no buffering proxy detected. Bytes received: "+xn.length),ry(as),as.M=!0,ea(11))}}else du(this.i,this.l,xn,"[Invalid Chunked Response]"),hl(this),Rf(this)}else du(this.i,this.l,xn,null),uh(this,xn);4==go&&hl(this),this.o&&!this.J&&(4==go?Lf(this.j,this):(this.o=!1,Sf(this)))}else(function bv(E){const j={};E=(E.g&&2<=Oc(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let ve=0;ve<E.length;ve++){if(pr(E[ve]))continue;var q=Tt(E[ve]);const wt=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const jt=j[wt]||[];j[wt]=jt,jt.push(q)}!function yt(E,j){for(const q in E)j.call(void 0,E[q],q,E)}(j,function(ve){return ve.join(", ")})})(this.g),400==q&&0<xn.indexOf("Unknown SID")?(this.s=3,ea(12)):(this.s=0,ea(13)),hl(this),Rf(this)}}}catch{}},Dc.prototype.cancel=function(){this.J=!0,hl(this)},Dc.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function Lo(E,j){E.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),2!=this.L&&(wf(),ea(17)),hl(this),this.s=2,Rf(this)):Df(this,this.S-E)},Rc.prototype.cancel=function(){if(this.i=ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zs(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof zs){this.h=E.h,Ia(this,E.j),this.o=E.o,this.g=E.g,xf(this,E.s),this.l=E.l;var j=E.i,q=new xm;q.i=j.i,j.g&&(q.g=new Map(j.g),q.h=j.h),Pf(this,q),this.m=E.m}else E&&(j=String(E).match(hu))?(this.h=!1,Ia(this,j[1]||"",!0),this.o=Pc(j[2]||""),this.g=Pc(j[3]||"",!0),xf(this,j[4]),this.l=Pc(j[5]||"",!0),Pf(this,j[6]||"",!0),this.m=Pc(j[7]||"")):(this.h=!1,this.i=new xm(null,this.h))}function to(E){return new zs(E)}function Ia(E,j,q){E.j=q?Pc(j,!0):j,E.j&&(E.j=E.j.replace(/:$/,""))}function xf(E,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);E.s=j}else E.s=null}function Pf(E,j,q){j instanceof xm?(E.i=j,function ug(E,j){j&&!E.j&&(fd(E),E.i=null,E.g.forEach(function(q,ve){var wt=ve.toLowerCase();ve!=wt&&(gv(this,ve),mv(this,wt,q))},E)),E.j=j}(E.i,E.h)):(q||(j=dh(j,wa)),E.i=new xm(j,E.h))}function ts(E,j,q){E.i.set(j,q)}function xc(E){return ts(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Pc(E,j){return E?j?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function dh(E,j,q){return"string"==typeof E?(E=encodeURI(E).replace(j,lg),q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function lg(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}zs.prototype.toString=function(){var E=[],j=this.j;j&&E.push(dh(j,Z_,!0),":");var q=this.g;return(q||"file"==j)&&(E.push("//"),(j=this.o)&&E.push(dh(j,Z_,!0),"@"),E.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&E.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&E.push("/"),E.push(dh(q,"/"==q.charAt(0)?Rm:ey,!0))),(q=this.i.toString())&&E.push("?",q),(q=this.m)&&E.push("#",dh(q,pv)),E.join("")};var E,Z_=/[#\/\?@]/g,ey=/[#\?:]/g,Rm=/[#\?]/g,wa=/[#\?@]/g,pv=/#/g;function xm(E,j){this.h=this.g=null,this.i=E||null,this.j=!!j}function fd(E){E.g||(E.g=new Map,E.h=0,E.i&&function Ca(E,j){if(E){E=E.split("&");for(var q=0;q<E.length;q++){var ve=E[q].indexOf("="),wt=null;if(0<=ve){var jt=E[q].substring(0,ve);wt=E[q].substring(ve+1)}else jt=E[q];j(jt,wt?decodeURIComponent(wt.replace(/\+/g," ")):"")}}}(E.i,function(j,q){E.add(decodeURIComponent(j.replace(/\+/g," ")),q)}))}function gv(E,j){fd(E),j=cg(E,j),E.g.has(j)&&(E.i=null,E.h-=E.g.get(j).length,E.g.delete(j))}function IE(E,j){return fd(E),j=cg(E,j),E.g.has(j)}function mv(E,j,q){gv(E,j),0<q.length&&(E.i=null,E.g.set(cg(E,j),mn(q)),E.h+=q.length)}function cg(E,j){return j=String(j),E.j&&(j=j.toLowerCase()),j}function Xl(E,j,q,ve,wt){try{wt&&(wt.onload=null,wt.onerror=null,wt.onabort=null,wt.ontimeout=null),ve(q)}catch{}}function fu(){this.g=new H_}function hh(E,j,q){const ve=q||"";try{hd(E,function(wt,jt){let xn=wt;K(wt)&&(xn=wm(wt)),j.push(ve+jt+"="+encodeURIComponent(xn))})}catch(wt){throw j.push(ve+"type="+encodeURIComponent("_badmap")),wt}}function Mc(E){this.l=E.Ub||null,this.j=E.eb||!1}function fh(E,j){Zo.call(this),this.D=E,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function ph(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function pu(E){E.readyState=4,E.l=null,E.j=null,E.v=null,gh(E)}function gh(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function mh(E){let j="";return ai(E,function(q,ve){j+=ve,j+=":",j+=q,j+="\r\n"}),j}function Pm(E,j,q){e:{for(ve in q){var ve=!1;break e}ve=!0}ve||(q=mh(q),"string"==typeof E?null!=q&&encodeURIComponent(String(q)):ts(E,j,q))}function Vs(E){Zo.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=xm.prototype).add=function(E,j){fd(this),this.i=null,E=cg(this,E);var q=this.g.get(E);return q||this.g.set(E,q=[]),q.push(j),this.h+=1,this},d.forEach=function(E,j){fd(this),this.g.forEach(function(q,ve){q.forEach(function(wt){E.call(j,wt,ve,this)},this)},this)},d.na=function(){fd(this);const E=Array.from(this.g.values()),j=Array.from(this.g.keys()),q=[];for(let ve=0;ve<j.length;ve++){const wt=E[ve];for(let jt=0;jt<wt.length;jt++)q.push(j[ve])}return q},d.V=function(E){fd(this);let j=[];if("string"==typeof E)IE(this,E)&&(j=j.concat(this.g.get(cg(this,E))));else{E=Array.from(this.g.values());for(let q=0;q<E.length;q++)j=j.concat(E[q])}return j},d.set=function(E,j){return fd(this),this.i=null,IE(this,E=cg(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[j]),this.h+=1,this},d.get=function(E,j){return E&&0<(E=this.V(E)).length?String(E[0]):j},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],j=Array.from(this.g.keys());for(var q=0;q<j.length;q++){var ve=j[q];const jt=encodeURIComponent(String(ve)),xn=this.V(ve);for(ve=0;ve<xn.length;ve++){var wt=jt;""!==xn[ve]&&(wt+="="+encodeURIComponent(String(xn[ve]))),E.push(wt)}}return this.i=E.join("&")},Xt(Mc,Zp),Mc.prototype.g=function(){return new fh(this.l,this.j)},Mc.prototype.i=(E={},function(){return E}),Xt(fh,Zo),(d=fh.prototype).open=function(E,j){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=j,this.readyState=1,gh(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(j.body=E),(this.D||R).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pu(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,gh(this)),this.g&&(this.readyState=3,gh(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ph(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var j=E.value?E.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!E.done}))&&(this.response=this.responseText+=j)}E.done?pu(this):gh(this),3==this.readyState&&ph(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,pu(this))},d.Qa=function(E){this.g&&(this.response=E,pu(this))},d.ga=function(){this.g&&pu(this)},d.setRequestHeader=function(E,j){this.u.append(E,j)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],j=this.h.entries();for(var q=j.next();!q.done;)E.push((q=q.value)[0]+": "+q[1]),q=j.next();return E.join("\r\n")},Object.defineProperty(fh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Xt(Vs,Zo);var vv=/^https?$/i,Ev=["POST","PUT"];function dg(E,j){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=j,E.m=5,fl(E),Mf(E)}function fl(E){E.A||(E.A=!0,fo(E,"complete"),fo(E,"error"))}function pd(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=Oc(E)||2!=E.Z()))if(E.u&&4==Oc(E))Tm(E.Ea,0,E);else if(fo(E,"readystatechange"),4==Oc(E)){E.h=!1;try{const xn=E.Z();e:switch(xn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var q;if(!(q=j)){var ve;if(ve=0===xn){var wt=String(E.D).match(hu)[1]||null;!wt&&R.self&&R.self.location&&(wt=R.self.location.protocol.slice(0,-1)),ve=!vv.test(wt?wt.toLowerCase():"")}q=ve}if(q)fo(E,"complete"),fo(E,"success");else{E.m=6;try{var jt=2<Oc(E)?E.g.statusText:""}catch{jt=""}E.l=jt+" ["+E.Z()+"]",fl(E)}}finally{Mf(E)}}}function Mf(E,j){if(E.g){Of(E);const q=E.g,ve=E.v[0]?()=>{}:null;E.g=null,E.v=null,j||fo(E,"ready");try{q.onreadystatechange=ve}catch{}}}function Of(E){E.I&&(R.clearTimeout(E.I),E.I=null)}function Oc(E){return E.g?E.g.readyState:0}function hg(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function _h(E,j,q){return q&&q.internalChannelParams&&q.internalChannelParams[E]||j}function ty(E){this.Aa=0,this.i=[],this.j=new ch,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_h("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_h("baseRetryDelayMs",5e3,E),this.cb=_h("retryDelaySeedMs",1e4,E),this.Wa=_h("forwardChannelMaxRetries",2,E),this.wa=_h("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Rc(E&&E.concurrentRequestLimit),this.Da=new fu,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Nf(E){if(yh(E),3==E.G){var j=E.U++,q=to(E.I);if(ts(q,"SID",E.K),ts(q,"RID",j),ts(q,"TYPE","terminate"),vh(E,q),(j=new Dc(E,E.j,j)).L=2,j.v=xc(to(q)),q=!1,R.navigator&&R.navigator.sendBeacon)try{q=R.navigator.sendBeacon(j.v.toString(),"")}catch{}!q&&R.Image&&((new Image).src=j.v,q=!0),q||(j.g=Uf(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Sf(j)}Tv(E)}function Ff(E){E.g&&(ry(E),E.g.cancel(),E.g=null)}function yh(E){Ff(E),E.u&&(R.clearTimeout(E.u),E.u=null),_d(E),E.h.cancel(),E.s&&("number"==typeof E.s&&R.clearTimeout(E.s),E.s=null)}function gd(E){if(!po(E.h)&&!E.s){E.s=!0;var j=E.Ga;bf||_m(),Wp||(bf(),Wp=!0),$_.add(j,E),E.B=0}}function ny(E,j){var q;q=j?j.l:E.U++;const ve=to(E.I);ts(ve,"SID",E.K),ts(ve,"RID",q),ts(ve,"AID",E.T),vh(E,ve),E.m&&E.o&&Pm(ve,E.m,E.o),q=new Dc(E,E.j,q,E.B+1),null===E.m&&(q.H=E.o),j&&(E.i=j.D.concat(E.i)),j=Mm(E,q,1e3),q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Vo(E.h,q),og(q,ve,j)}function vh(E,j){E.H&&ai(E.H,function(q,ve){ts(j,ve,q)}),E.l&&hd({},function(q,ve){ts(j,ve,q)})}function Mm(E,j,q){q=Math.min(E.i.length,q);var ve=E.l?Ze(E.l.Na,E.l,E):null;e:{var wt=E.i;let jt=-1;for(;;){const xn=["count="+q];-1==jt?0<q?(jt=wt[0].g,xn.push("ofs="+jt)):jt=0:xn.push("ofs="+jt);let qi=!0;for(let oo=0;oo<q;oo++){let ji=wt[oo].g;const as=wt[oo].map;if(ji-=jt,0>ji)jt=Math.max(0,wt[oo].g-100),qi=!1;else try{hh(as,xn,"req"+ji+"_")}catch{ve&&ve(as)}}if(qi){ve=xn.join("&");break e}}}return E=E.i.splice(0,q),j.D=E,ve}function Om(E){if(!E.g&&!E.u){E.Y=1;var j=E.Fa;bf||_m(),Wp||(bf(),Wp=!0),$_.add(j,E),E.v=0}}function md(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=Ha(Ze(E.Fa,E),Vf(E,E.v)),E.v++,0))}function ry(E){null!=E.A&&(R.clearTimeout(E.A),E.A=null)}function kf(E){E.g=new Dc(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var j=to(E.qa);ts(j,"RID","rpc"),ts(j,"SID",E.K),ts(j,"AID",E.T),ts(j,"CI",E.F?"0":"1"),!E.F&&E.ja&&ts(j,"TO",E.ja),ts(j,"TYPE","xmlhttp"),vh(E,j),E.m&&E.o&&Pm(j,E.m,E.o),E.L&&(E.g.I=E.L);var q=E.g;E=E.ia,q.L=1,q.v=xc(to(j)),q.m=null,q.P=!0,Q_(q,E)}function _d(E){null!=E.C&&(R.clearTimeout(E.C),E.C=null)}function Lf(E,j){var q=null;if(E.g==j){_d(E),ry(E),E.g=null;var ve=2}else{if(!da(E.h,j))return;q=j.D,cd(E.h,j),ve=1}if(0!=E.G)if(j.o)if(1==ve){q=j.m?j.m.length:0,j=Date.now()-j.F;var wt=E.B;fo(ve=tg(),new K_(ve,q)),gd(E)}else Om(E);else if(3==(wt=j.s)||0==wt&&0<j.X||!(1==ve&&function fg(E,j){return!(ql(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=j.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=Ha(Ze(E.Ga,E,j),Vf(E,E.B)),E.B++,0)))}(E,j)||2==ve&&md(E)))switch(q&&0<q.length&&(j=E.h,j.i=j.i.concat(q)),wt){case 1:gu(E,5);break;case 4:gu(E,10);break;case 3:gu(E,6);break;default:gu(E,2)}}function Vf(E,j){let q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(q*=2),q*j}function gu(E,j){if(E.j.info("Error code "+j),2==j){var q=Ze(E.fb,E),ve=E.Xa;const wt=!ve;ve=new zs(ve||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Ia(ve,"https"),xc(ve),wt?function _v(E,j){const q=new ch;if(R.Image){const ve=new Image;ve.onload=Mt(Xl,q,"TestLoadImage: loaded",!0,j,ve),ve.onerror=Mt(Xl,q,"TestLoadImage: error",!1,j,ve),ve.onabort=Mt(Xl,q,"TestLoadImage: abort",!1,j,ve),ve.ontimeout=Mt(Xl,q,"TestLoadImage: timeout",!1,j,ve),R.setTimeout(function(){ve.ontimeout&&ve.ontimeout()},1e4),ve.src=E}else j(!1)}(ve.toString(),q):function yv(E,j){new ch;const ve=new AbortController,wt=setTimeout(()=>{ve.abort(),Xl(0,0,!1,j)},1e4);fetch(E,{signal:ve.signal}).then(jt=>{clearTimeout(wt),Xl(0,0,!!jt.ok,j)}).catch(()=>{clearTimeout(wt),Xl(0,0,!1,j)})}(ve.toString(),q)}else ea(2);E.G=0,E.l&&E.l.sa(j),Tv(E),yh(E)}function Tv(E){if(E.G=0,E.ka=[],E.l){const j=ud(E.h);(0!=j.length||0!=E.i.length)&&(cn(E.ka,j),cn(E.ka,E.i),E.h.i.length=0,mn(E.i),E.i.length=0),E.l.ra()}}function iy(E,j,q){var ve=q instanceof zs?to(q):new zs(q);if(""!=ve.g)j&&(ve.g=j+"."+ve.g),xf(ve,ve.s);else{var wt=R.location;ve=wt.protocol,j=j?j+"."+wt.hostname:wt.hostname,wt=+wt.port;var jt=new zs(null);ve&&Ia(jt,ve),j&&(jt.g=j),wt&&xf(jt,wt),q&&(jt.l=q),ve=jt}return j=E.ya,(q=E.D)&&j&&ts(ve,q,j),ts(ve,"VER",E.la),vh(E,ve),ve}function Uf(E,j,q){if(j&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new Vs(E.Ca&&!E.pa?new Mc({eb:q}):E.pa)).Ha(E.J),j}function jf(){}function Eh(){}function ha(E,j){Zo.call(this),this.g=new ty(j),this.l=E,this.h=j&&j.messageUrlParams||null,E=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(E?E["X-WebChannel-Content-Type"]=j.messageContentType:E={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(E?E["X-WebChannel-Client-Profile"]=j.va:E={"X-WebChannel-Client-Profile":j.va}),this.g.S=E,(E=j&&j.Sb)&&!pr(E)&&(this.g.m=E),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!pr(j)&&(this.g.D=j,null!==(E=this.h)&&j in E&&j in(E=this.h)&&delete E[j]),this.j=new yd(this)}function sy(E){eg.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var j=E.__sm__;if(j){e:{for(const q in j){E=q;break e}E=void 0}(this.i=E)&&(E=this.i,j=null!==j&&E in j?j[E]:void 0),this.data=j}else this.data=E}function Nm(){Am.call(this),this.status=1}function yd(E){this.g=E}(d=Vs.prototype).Ha=function(E){this.J=E},d.ea=function(E,j,q,ve){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);j=j?j.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sm.g(),this.v=function oh(E){return E.h||(E.h=E.i())}(this.o?this.o:Sm),this.g.onreadystatechange=Ze(this.Ea,this);try{this.B=!0,this.g.open(j,String(E),!0),this.B=!1}catch(jt){return void dg(this,jt)}if(E=q||"",q=new Map(this.headers),ve)if(Object.getPrototypeOf(ve)===Object.prototype)for(var wt in ve)q.set(wt,ve[wt]);else{if("function"!=typeof ve.keys||"function"!=typeof ve.get)throw Error("Unknown input type for opt_headers: "+String(ve));for(const jt of ve.keys())q.set(jt,ve.get(jt))}ve=Array.from(q.keys()).find(jt=>"content-type"==jt.toLowerCase()),wt=R.FormData&&E instanceof R.FormData,!(0<=Array.prototype.indexOf.call(Ev,j,void 0))||ve||wt||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[jt,xn]of q)this.g.setRequestHeader(jt,xn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Of(this),this.u=!0,this.g.send(E),this.u=!1}catch(jt){dg(this,jt)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,fo(this,"complete"),fo(this,"abort"),Mf(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mf(this,!0)),Vs.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?pd(this):this.bb())},d.bb=function(){pd(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<Oc(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var j=this.g.responseText;return E&&0==j.indexOf(E)&&(j=j.substring(E.length)),hv(j)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=ty.prototype).la=8,d.G=1,d.connect=function(E,j,q,ve){ea(0),this.W=E,this.H=j||{},q&&void 0!==ve&&(this.H.OSID=q,this.H.OAID=ve),this.F=this.X,this.I=iy(this,null,this.W),gd(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const wt=new Dc(this,this.j,E);let jt=this.o;if(this.S&&(jt?(jt=Ke(jt),vt(jt,this.S)):jt=this.S),null!==this.m||this.O||(wt.H=jt,jt=null),this.P)e:{for(var j=0,q=0;q<this.i.length;q++){var ve=this.i[q];if(void 0===(ve="__data__"in ve.map&&"string"==typeof(ve=ve.map.__data__)?ve.length:void 0))break;if(4096<(j+=ve)){j=q;break e}if(4096===j||q===this.i.length-1){j=q+1;break e}}j=1e3}else j=1e3;j=Mm(this,wt,j),ts(q=to(this.I),"RID",E),ts(q,"CVER",22),this.D&&ts(q,"X-HTTP-Session-Id",this.D),vh(this,q),jt&&(this.O?j="headers="+encodeURIComponent(String(mh(jt)))+"&"+j:this.m&&Pm(q,this.m,jt)),Vo(this.h,wt),this.Ua&&ts(q,"TYPE","init"),this.P?(ts(q,"$req",j),ts(q,"SID","null"),wt.T=!0,og(wt,q,null)):og(wt,q,j),this.G=2}}else 3==this.G&&(E?ny(this,E):0==this.i.length||po(this.h)||ny(this))},d.Fa=function(){if(this.u=null,kf(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=Ha(Ze(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ea(10),Ff(this),kf(this))},d.Za=function(){null!=this.C&&(this.C=null,Ff(this),md(this),ea(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),ea(2)):(this.j.info("Failed to ping google.com"),ea(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=jf.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},Eh.prototype.g=function(E,j){return new ha(E,j)},Xt(ha,Zo),ha.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ha.prototype.close=function(){Nf(this.g)},ha.prototype.o=function(E){var j=this.g;if("string"==typeof E){var q={};q.__data__=E,E=q}else this.u&&((q={}).__data__=wm(E),E=q);j.i.push(new class{constructor(E,j){this.g=E,this.map=j}}(j.Ya++,E)),3==j.G&&gd(j)},ha.prototype.N=function(){this.g.l=null,delete this.j,Nf(this.g),delete this.g,ha.aa.N.call(this)},Xt(sy,eg),Xt(Nm,Am),Xt(yd,jf),yd.prototype.ua=function(){fo(this.g,"a")},yd.prototype.ta=function(E){fo(this.g,new sy(E))},yd.prototype.sa=function(E){fo(this.g,new Nm)},yd.prototype.ra=function(){fo(this.g,"b")},Eh.prototype.createWebChannel=Eh.prototype.g,ha.prototype.send=ha.prototype.o,ha.prototype.open=ha.prototype.m,ha.prototype.close=ha.prototype.close,Re=Q.createWebChannelTransport=function(){return new Eh},Nt=Q.getStatEventTarget=function(){return tg()},He=Q.Event=ld,fe=Q.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rg.NO_ERROR=0,rg.TIMEOUT=8,rg.HTTP_ERROR=6,qe=Q.ErrorCode=rg,ig.COMPLETE="complete",Je=Q.EventType=ig,z_.EventType=ah,ah.OPEN="a",ah.CLOSE="b",ah.ERROR="c",ah.MESSAGE="d",Zo.prototype.listen=Zo.prototype.K,Be=Q.WebChannel=z_,Q.FetchXmlHttpFactory=Mc,Vs.prototype.listenOnce=Vs.prototype.L,Vs.prototype.getLastError=Vs.prototype.Ka,Vs.prototype.getLastErrorCode=Vs.prototype.Ba,Vs.prototype.getStatus=Vs.prototype.Z,Vs.prototype.getResponseJson=Vs.prototype.Oa,Vs.prototype.getResponseText=Vs.prototype.oa,Vs.prototype.send=Vs.prototype.ea,Vs.prototype.setWithCredentials=Vs.prototype.Ha,me=Q.XhrIo=Vs}).apply(typeof z<"u"?z:typeof self<"u"?self:typeof window<"u"?window:{});const Ie="@firebase/firestore";class dt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");let ot="10.14.0";const _t=new Ce.Vy("@firebase/firestore");function Lt(){return _t.logLevel}function $t(d){_t.setLogLevel(d)}function xe(d,...e){if(_t.logLevel<=Ce.$b.DEBUG){const s=e.map(Wn);_t.debug(`Firestore (${ot}): ${d}`,...s)}}function tn(d,...e){if(_t.logLevel<=Ce.$b.ERROR){const s=e.map(Wn);_t.error(`Firestore (${ot}): ${d}`,...s)}}function un(d,...e){if(_t.logLevel<=Ce.$b.WARN){const s=e.map(Wn);_t.warn(`Firestore (${ot}): ${d}`,...s)}}function Wn(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function it(d="Unexpected state"){const e=`FIRESTORE (${ot}) INTERNAL ASSERTION FAILED: `+d;throw tn(e),new Error(e)}function Ut(d,e){d||it()}function Oe(d,e){d||it()}function mt(d,e){return d}const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends oe.g{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ft{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}}class Le{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable(()=>s(dt.UNAUTHENTICATED))}shutdown(){}}class Ee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class je{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){var a=this;Ut(void 0===this.o);let h=this.i;const y=K=>this.i!==h?(h=this.i,s(K)):Promise.resolve();let b=new ft;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new ft,e.enqueueRetryable(()=>y(this.currentUser))};const R=()=>{const K=b;e.enqueueRetryable((0,i.A)(function*(){yield K.promise,yield y(a.currentUser)}))},L=K=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(K=>L(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?L(K):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new ft)}},0),R()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(a=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ut("string"==typeof a.accessToken),new Le(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new dt(e)}}class gt{constructor(e,s,a){this.l=e,this.h=s,this.P=a,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class at{constructor(e,s,a){this.l=e,this.h=s,this.P=a}getToken(){return Promise.resolve(new gt(this.l,this.h,this.P))}start(e,s){e.enqueueRetryable(()=>s(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ht{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,s){Ut(void 0===this.o);const a=y=>{null!=y.error&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const b=y.token!==this.R;return this.R=y.token,xe("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?s(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>a(y))};const h=y=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>h(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?h(y):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(s=>s?(Ut("string"==typeof s.token),this.R=s.token,new Ht(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(s);else for(let a=0;a<d;a++)s[a]=Math.floor(256*Math.random());return s}class kn{static newId(){const s=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=dn(40);for(let y=0;y<h.length;++y)a.length<20&&h[y]<s&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[y]%62))}return a}}function nn(d,e){return d<e?-1:d>e?1:0}function Jn(d,e,s){return d.length===e.length&&d.every((a,h)=>s(a,e[h]))}function Ln(d){return d+"\0"}class Qt{constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new lt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new lt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<-62135596800)throw new lt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*s));return new Qt(s,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new qt(e)}static min(){return new qt(new Qt(0,0))}static max(){return new qt(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yr{constructor(e,s,a){void 0===s?s=0:s>e.length&&it(),void 0===a?a=e.length-s:a>e.length-s&&it(),this.segments=e,this.offset=s,this.len=a}get length(){return this.len}isEqual(e){return 0===yr.comparator(this,e)}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach(a=>{s.push(a)}):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,a=this.limit();s<a;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const a=Math.min(e.length,s.length);for(let h=0;h<a;h++){const y=e.get(h),b=s.get(h);if(y<b)return-1;if(y>b)return 1}return e.length<s.length?-1:e.length>s.length?1:0}}class Zt extends yr{construct(e,s,a){return new Zt(e,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const a of e){if(a.indexOf("//")>=0)throw new lt(Ve.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter(h=>h.length>0))}return new Zt(s)}static emptyPath(){return new Zt([])}}const ar=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends yr{construct(e,s,a){return new Un(e,s,a)}static isValidIdentifier(e){return ar.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Un(["__name__"])}static fromServerFormat(e){const s=[];let a="",h=0;const y=()=>{if(0===a.length)throw new lt(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""};let b=!1;for(;h<e.length;){const R=e[h];if("\\"===R){if(h+1===e.length)throw new lt(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[h+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new lt(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=L,h+=2}else"`"===R?(b=!b,h++):"."!==R||b?(a+=R,h++):(y(),h++)}if(y(),b)throw new lt(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(s)}static emptyPath(){return new Un([])}}class Bt{constructor(e){this.path=e}static fromPath(e){return new Bt(Zt.fromString(e))}static fromName(e){return new Bt(Zt.fromString(e).popFirst(5))}static empty(){return new Bt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,s){return Zt.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bt(new Zt(e.slice()))}}class Tn{constructor(e,s,a,h){this.indexId=e,this.collectionGroup=s,this.fields=a,this.indexState=h}}function jn(d){return d.fields.find(e=>2===e.kind)}function Cn(d){return d.fields.filter(e=>2!==e.kind)}Tn.UNKNOWN_ID=-1;class Sr{constructor(e,s){this.fieldPath=e,this.kind=s}}class zn{constructor(e,s){this.sequenceNumber=e,this.offset=s}static empty(){return new zn(0,pn.min())}}function Kr(d,e){const s=d.toTimestamp().seconds,a=d.toTimestamp().nanoseconds+1,h=qt.fromTimestamp(1e9===a?new Qt(s+1,0):new Qt(s,a));return new pn(h,Bt.empty(),e)}function Qi(d){return new pn(d.readTime,d.key,-1)}class pn{constructor(e,s,a){this.readTime=e,this.documentKey=s,this.largestBatchId=a}static min(){return new pn(qt.min(),Bt.empty(),-1)}static max(){return new pn(qt.max(),Bt.empty(),-1)}}function qr(d,e){let s=d.readTime.compareTo(e.readTime);return 0!==s?s:(s=Bt.comparator(d.documentKey,e.documentKey),0!==s?s:nn(d.largestBatchId,e.largestBatchId))}const nr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Qn(d){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,i.A)(function*(d){if(d.code!==Ve.FAILED_PRECONDITION||d.message!==nr)throw d;xe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new pt((a,h)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(a,h)},this.catchCallback=y=>{this.wrapFailure(s,y).next(a,h)}})}toPromise(){return new Promise((e,s)=>{this.next(e,s)})}wrapUserFunction(e){try{const s=e();return s instanceof pt?s:pt.resolve(s)}catch(s){return pt.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction(()=>e(s)):pt.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction(()=>e(s)):pt.reject(s)}static resolve(e){return new pt((s,a)=>{s(e)})}static reject(e){return new pt((s,a)=>{a(e)})}static waitFor(e){return new pt((s,a)=>{let h=0,y=0,b=!1;e.forEach(R=>{++h,R.next(()=>{++y,b&&y===h&&s()},L=>a(L))}),b=!0,y===h&&s()})}static or(e){let s=pt.resolve(!1);for(const a of e)s=s.next(h=>h?pt.resolve(h):a());return s}static forEach(e,s){const a=[];return e.forEach((h,y)=>{a.push(s.call(this,h,y))}),this.waitFor(a)}static mapArray(e,s){return new pt((a,h)=>{const y=e.length,b=new Array(y);let R=0;for(let L=0;L<y;L++){const K=L;s(e[K]).next(ue=>{b[K]=ue,++R,R===y&&a(b)},ue=>h(ue))}})}static doWhile(e,s){return new pt((a,h)=>{const y=()=>{!0===e()?s().next(()=>{y()},h):a()};y()})}}class Et{constructor(e,s){this.action=e,this.transaction=s,this.aborted=!1,this.V=new ft,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{s.error?this.V.reject(new zt(e,s.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=Pt(a.target.error);this.V.reject(new zt(e,h))}}static open(e,s,a,h){try{return new Et(s,e.transaction(h,a))}catch(y){throw new zt(s,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const s=this.transaction.objectStore(e);return new Rr(s)}}class de{constructor(e,s,a){this.name=e,this.version=s,this.p=a,12.2===de.S((0,oe.ZQ)())&&tn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return xe("SimpleDb","Removing database:",e),ir(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,oe.zW)())return!1;if(de.v())return!0;const e=(0,oe.ZQ)(),s=de.S(e),a=0<s&&s<10,h=ze(e),y=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||y)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,s){return e.store(s)}static S(e){const s=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var s=this;return(0,i.A)(function*(){return s.db||(xe("SimpleDb","Opening database:",s.name),s.db=yield new Promise((a,h)=>{const y=indexedDB.open(s.name,s.version);y.onsuccess=b=>{a(b.target.result)},y.onblocked=()=>{h(new zt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=b=>{const R=b.target.error;h("VersionError"===R.name?new lt(Ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new lt(Ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new zt(e,R))},y.onupgradeneeded=b=>{xe("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',b.oldVersion),s.p.O(b.target.result,y.transaction,b.oldVersion,s.version).next(()=>{xe("SimpleDb","Database upgrade to version "+s.version+" complete")})}})),s.N&&(s.db.onversionchange=a=>s.N(a)),s.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=s=>e(s))}runTransaction(e,s,a,h){var y=this;return(0,i.A)(function*(){const b="readonly"===s;let R=0;for(;;){++R;try{y.db=yield y.M(e);const L=Et.open(y.db,e,b?"readonly":"readwrite",a),K=h(L).next(ue=>(L.g(),ue)).catch(ue=>(L.abort(ue),pt.reject(ue))).toPromise();return K.catch(()=>{}),yield L.m,K}catch(L){const K=L,ue="FirebaseError"!==K.name&&R<3;if(xe("SimpleDb","Transaction failed with error:",K.message,"Retrying:",ue),y.close(),!ue)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function ze(d){const e=d.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}class Ft{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ir(this.B.delete())}}class zt extends lt{constructor(e,s){super(Ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function Rn(d){return"IndexedDbTransactionError"===d.name}class Rr{constructor(e){this.store=e}put(e,s){let a;return void 0!==s?(xe("SimpleDb","PUT",this.store.name,e,s),a=this.store.put(s,e)):(xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),ir(a)}add(e){return xe("SimpleDb","ADD",this.store.name,e,e),ir(this.store.add(e))}get(e){return ir(this.store.get(e)).next(s=>(void 0===s&&(s=null),xe("SimpleDb","GET",this.store.name,e,s),s))}delete(e){return xe("SimpleDb","DELETE",this.store.name,e),ir(this.store.delete(e))}count(){return xe("SimpleDb","COUNT",this.store.name),ir(this.store.count())}U(e,s){const a=this.options(e,s),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const y=h.getAll(a.range);return new pt((b,R)=>{y.onerror=L=>{R(L.target.error)},y.onsuccess=L=>{b(L.target.result)}})}{const y=this.cursor(a),b=[];return this.W(y,(R,L)=>{b.push(L)}).next(()=>b)}}G(e,s){const a=this.store.getAll(e,null===s?void 0:s);return new pt((h,y)=>{a.onerror=b=>{y(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,s){xe("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,s);a.H=!1;const h=this.cursor(a);return this.W(h,(y,b,R)=>R.delete())}J(e,s){let a;s?a=e:(a={},s=e);const h=this.cursor(a);return this.W(h,s)}Y(e){const s=this.cursor({});return new pt((a,h)=>{s.onerror=y=>{const b=Pt(y.target.error);h(b)},s.onsuccess=y=>{const b=y.target.result;b?e(b.primaryKey,b.value).next(R=>{R?b.continue():a()}):a()}})}W(e,s){const a=[];return new pt((h,y)=>{e.onerror=b=>{y(b.target.error)},e.onsuccess=b=>{const R=b.target.result;if(!R)return void h();const L=new Ft(R),K=s(R.primaryKey,R.value,L);if(K instanceof pt){const ue=K.catch(we=>(L.done(),pt.reject(we)));a.push(ue)}L.isDone?h():null===L.K?R.continue():R.continue(L.K)}}).next(()=>pt.waitFor(a))}options(e,s){let a;return void 0!==e&&("string"==typeof e?a=e:s=e),{index:a,range:s}}cursor(e){let s="next";if(e.reverse&&(s="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,s):a.openCursor(e.range,s)}return this.store.openCursor(e.range,s)}}function ir(d){return new pt((e,s)=>{d.onsuccess=a=>{e(a.target.result)},d.onerror=a=>{const h=Pt(a.target.error);s(h)}})}let li=!1;function Pt(d){const e=de.S((0,oe.ZQ)());if(e>=12.2&&e<13){const s="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(s)>=0){const a=new lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return li||(li=!0,setTimeout(()=>{throw a},0)),a}}return d}class B{constructor(e,s){this.asyncQueue=e,this.Z=s,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var s=this;xe("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,i.A)(function*(){s.task=null;try{xe("IndexBackfiller",`Documents written: ${yield s.Z.ee()}`)}catch(a){Rn(a)?xe("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Qn(a)}yield s.X(6e4)}))}}class P{constructor(e,s){this.localStore=e,this.persistence=s}ee(e=50){var s=this;return(0,i.A)(function*(){return s.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>s.te(a,e))})()}te(e,s){const a=new Set;let h=s,y=!0;return pt.doWhile(()=>!0===y&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return xe("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(R=>{h-=R,a.add(b)});y=!1})).next(()=>s-h)}ne(e,s,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,s).next(h=>this.localStore.localDocuments.getNextDocuments(e,s,h,a).next(y=>{const b=y.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,y)).next(R=>(xe("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,s,R))).next(()=>b.size)}))}re(e,s){let a=e;return s.changes.forEach((h,y)=>{const b=Qi(y);qr(b,a)>0&&(a=b)}),new pn(a.readTime,a.documentKey,Math.max(s.batchId,e.largestBatchId))}}let k=(()=>{class d{constructor(s,a){this.previousValue=s,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue}next(){const s=++this.previousValue;return this.se&&this.se(s),s}}return d.oe=-1,d})();function se(d){return null==d}function ye(d){return 0===d&&1/d==-1/0}function ce(d){return"number"==typeof d&&Number.isInteger(d)&&!ye(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function Qe(d){let e="";for(let s=0;s<d.length;s++)e.length>0&&(e=De(e)),e=_e(d.get(s),e);return De(e)}function _e(d,e){let s=e;const a=d.length;for(let h=0;h<a;h++){const y=d.charAt(h);switch(y){case"\0":s+="\x01\x10";break;case"\x01":s+="\x01\x11";break;default:s+=y}}return s}function De(d){return d+"\x01\x01"}function St(d){const e=d.length;if(Ut(e>=2),2===e)return Ut("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),Zt.emptyPath();const s=e-2,a=[];let h="";for(let y=0;y<e;){const b=d.indexOf("\x01",y);switch((b<0||b>s)&&it(),d.charAt(b+1)){case"\x01":const R=d.substring(y,b);let L;0===h.length?L=R:(h+=R,L=h,h=""),a.push(L);break;case"\x10":h+=d.substring(y,b),h+="\0";break;case"\x11":h+=d.substring(y,b+1);break;default:it()}y=b+2}return new Zt(a)}const Dn=["userId","batchId"];function Se(d,e){return[d,Qe(e)]}function Ge(d,e,s){return[d,Qe(e),s]}const Ye={},Gt=["prefixPath","collectionGroup","readTime","documentId"],rn=["prefixPath","collectionGroup","documentId"],En=["collectionGroup","readTime","prefixPath","documentId"],hn=["canonicalId","targetId"],lr=["targetId","path"],gn=["path","targetId"],Ii=["collectionId","parent"],Dt=["indexId","uid"],ct=["uid","sequenceNumber"],Vt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fn=["indexId","uid","orderedDocumentKey"],Kn=["userId","collectionPath","documentId"],_n=["userId","collectionPath","largestBatchId"],Fn=["userId","collectionGroup","largestBatchId"],gr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$r=[...gr,"documentOverlays"],er=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fi=er,cs=[...Fi,"indexConfiguration","indexState","indexEntries"],ki=cs,qs=[...cs,"globals"];class mo extends vr{constructor(e,s){super(),this._e=e,this.currentSequenceNumber=s}}function $i(d,e){const s=mt(d);return de.F(s._e,e)}function jo(d){let e=0;for(const s in d)Object.prototype.hasOwnProperty.call(d,s)&&e++;return e}function Jr(d,e){for(const s in d)Object.prototype.hasOwnProperty.call(d,s)&&e(s,d[s])}function us(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Yr{constructor(e,s){this.comparator=e,this.root=s||Vi.EMPTY}insert(e,s){return new Yr(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Vi.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vi.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}indexOf(e){let s=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return s+a.left.size;h<0?a=a.left:(s+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((s,a)=>(e(s,a),!1))}toString(){const e=[];return this.inorderTraversal((s,a)=>(e.push(`${s}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Li(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Li(this.root,e,this.comparator,!1)}getReverseIterator(){return new Li(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Li(this.root,e,this.comparator,!0)}}class Li{constructor(e,s,a,h){this.isReverse=h,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=s?a(e.key,s):1,s&&h&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vi{constructor(e,s,a,h,y){this.key=e,this.value=s,this.color=a??Vi.RED,this.left=h??Vi.EMPTY,this.right=y??Vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,a,h,y){return new Vi(e??this.key,s??this.value,a??this.color,h??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let h=this;const y=a(e,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(e,s,a),null):0===y?h.copy(null,s,null,null,null):h.copy(null,null,null,null,h.right.insert(e,s,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let a,h=this;if(s(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,s),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===s(e,h.key)){if(h.right.isEmpty())return Vi.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,s))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}Vi.EMPTY=null,Vi.RED=!0,Vi.BLACK=!1,Vi.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(e,s,a,h,y){return this}insert(e,s,a){return new Vi(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xr{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((s,a)=>(e(s),!1))}forEachInRange(e,s){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;s(h.key)}}forEachWhile(e,s){let a;for(a=void 0!==s?this.data.getIteratorFrom(s):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Ys(this.data.getIterator())}getIteratorFrom(e){return new Ys(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach(a=>{s=s.add(a)}),s}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const s=this.data.getIterator(),a=e.data.getIterator();for(;s.hasNext();){const h=s.getNext().key,y=a.getNext().key;if(0!==this.comparator(h,y))return!1}return!0}toArray(){const e=[];return this.forEach(s=>{e.push(s)}),e}toString(){const e=[];return this.forEach(s=>e.push(s)),"SortedSet("+e.toString()+")"}copy(e){const s=new xr(this.comparator);return s.data=e,s}}class Ys{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _o(d){return d.hasNext()?d.getNext():void 0}class Zr{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new Zr([])}unionWith(e){let s=new xr(Un.comparator);for(const a of this.fields)s=s.add(a);for(const a of e)s=s.add(a);return new Zr(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Jn(this.fields,e.fields,(s,a)=>s.isEqual(a))}}class ra extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ka(){return typeof atob<"u"}class Di{constructor(e){this.binaryString=e}static fromBase64String(e){const s=function(h){try{return atob(h)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new ra("Invalid base64 string: "+y):y}}(e);return new Di(s)}static fromUint8Array(e){const s=function(h){let y="";for(let b=0;b<h.length;++b)y+=String.fromCharCode(h[b]);return y}(e);return new Di(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(s){const a=new Uint8Array(s.length);for(let h=0;h<s.length;h++)a[h]=s.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Di.EMPTY_BYTE_STRING=new Di("");const fa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(d){if(Ut(!!d),"string"==typeof d){let e=0;const s=fa.exec(d);if(Ut(!!s),s[1]){let h=s[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(d);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ni(d.seconds),nanos:ni(d.nanos)}}function ni(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function is(d){return"string"==typeof d?Di.fromBase64String(d):Di.fromUint8Array(d)}function Ps(d){var e,s;return"server_timestamp"===(null===(s=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function yo(d){const e=d.mapValue.fields.__previous_value__;return Ps(e)?yo(e):e}function Us(d){const e=Xs(d.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}class Pr{constructor(e,s,a,h,y,b,R,L,K){this.databaseId=e,this.appId=s,this.persistenceKey=a,this.host=h,this.ssl=y,this.forceLongPolling=b,this.autoDetectLongPolling=R,this.longPollingOptions=L,this.useFetchStreams=K}}class hi{constructor(e,s){this.projectId=e,this.database=s||"(default)"}static empty(){return new hi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hi&&e.projectId===this.projectId&&e.database===this.database}}const wi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ms={nullValue:"NULL_VALUE"};function fi(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?Ps(d)?4:or(d)?9007199254740991:fs(d)?10:11:it()}function ds(d,e){if(d===e)return!0;const s=fi(d);if(s!==fi(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return Us(d).isEqual(Us(e));case 3:return function(h,y){if("string"==typeof h.timestampValue&&"string"==typeof y.timestampValue&&h.timestampValue.length===y.timestampValue.length)return h.timestampValue===y.timestampValue;const b=Xs(h.timestampValue),R=Xs(y.timestampValue);return b.seconds===R.seconds&&b.nanos===R.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return y=e,is(d.bytesValue).isEqual(is(y.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,y){return ni(h.geoPointValue.latitude)===ni(y.geoPointValue.latitude)&&ni(h.geoPointValue.longitude)===ni(y.geoPointValue.longitude)}(d,e);case 2:return function(h,y){if("integerValue"in h&&"integerValue"in y)return ni(h.integerValue)===ni(y.integerValue);if("doubleValue"in h&&"doubleValue"in y){const b=ni(h.doubleValue),R=ni(y.doubleValue);return b===R?ye(b)===ye(R):isNaN(b)&&isNaN(R)}return!1}(d,e);case 9:return Jn(d.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:case 11:return function(h,y){const b=h.mapValue.fields||{},R=y.mapValue.fields||{};if(jo(b)!==jo(R))return!1;for(const L in b)if(b.hasOwnProperty(L)&&(void 0===R[L]||!ds(b[L],R[L])))return!1;return!0}(d,e);default:return it()}var y}function lo(d,e){return void 0!==(d.values||[]).find(s=>ds(s,e))}function Ji(d,e){if(d===e)return 0;const s=fi(d),a=fi(e);if(s!==a)return nn(s,a);switch(s){case 0:case 9007199254740991:return 0;case 1:return nn(d.booleanValue,e.booleanValue);case 2:return function(y,b){const R=ni(y.integerValue||y.doubleValue),L=ni(b.integerValue||b.doubleValue);return R<L?-1:R>L?1:R===L?0:isNaN(R)?isNaN(L)?0:-1:1}(d,e);case 3:return Cs(d.timestampValue,e.timestampValue);case 4:return Cs(Us(d),Us(e));case 5:return nn(d.stringValue,e.stringValue);case 6:return function(y,b){const R=is(y),L=is(b);return R.compareTo(L)}(d.bytesValue,e.bytesValue);case 7:return function(y,b){const R=y.split("/"),L=b.split("/");for(let K=0;K<R.length&&K<L.length;K++){const ue=nn(R[K],L[K]);if(0!==ue)return ue}return nn(R.length,L.length)}(d.referenceValue,e.referenceValue);case 8:return function(y,b){const R=nn(ni(y.latitude),ni(b.latitude));return 0!==R?R:nn(ni(y.longitude),ni(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Es(d.arrayValue,e.arrayValue);case 10:return function(y,b){var R,L,K,ue;const Mt=null===(R=(y.fields||{}).value)||void 0===R?void 0:R.arrayValue,Xt=null===(L=(b.fields||{}).value)||void 0===L?void 0:L.arrayValue,mn=nn((null===(K=Mt?.values)||void 0===K?void 0:K.length)||0,(null===(ue=Xt?.values)||void 0===ue?void 0:ue.length)||0);return 0!==mn?mn:Es(Mt,Xt)}(d.mapValue,e.mapValue);case 11:return function(y,b){if(y===wi.mapValue&&b===wi.mapValue)return 0;if(y===wi.mapValue)return 1;if(b===wi.mapValue)return-1;const R=y.fields||{},L=Object.keys(R),K=b.fields||{},ue=Object.keys(K);L.sort(),ue.sort();for(let we=0;we<L.length&&we<ue.length;++we){const Ze=nn(L[we],ue[we]);if(0!==Ze)return Ze;const Mt=Ji(R[L[we]],K[ue[we]]);if(0!==Mt)return Mt}return nn(L.length,ue.length)}(d.mapValue,e.mapValue);default:throw it()}}function Cs(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return nn(d,e);const s=Xs(d),a=Xs(e),h=nn(s.seconds,a.seconds);return 0!==h?h:nn(s.nanos,a.nanos)}function Es(d,e){const s=d.values||[],a=e.values||[];for(let h=0;h<s.length&&h<a.length;++h){const y=Ji(s[h],a[h]);if(y)return y}return nn(s.length,a.length)}function ci(d){return bn(d)}function bn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(s){const a=Xs(s);return`time(${a.seconds},${a.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?is(d.bytesValue).toBase64():"referenceValue"in d?Bt.fromName(d.referenceValue).toString():"geoPointValue"in d?function(s){return`geo(${s.latitude},${s.longitude})`}(d.geoPointValue):"arrayValue"in d?function(s){let a="[",h=!0;for(const y of s.values||[])h?h=!1:a+=",",a+=bn(y);return a+"]"}(d.arrayValue):"mapValue"in d?function(s){const a=Object.keys(s.fields||{}).sort();let h="{",y=!0;for(const b of a)y?y=!1:h+=",",h+=`${b}:${bn(s.fields[b])}`;return h+"}"}(d.mapValue):it()}function Er(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function ss(d){return!!d&&"integerValue"in d}function hs(d){return!!d&&"arrayValue"in d}function Bi(d){return!!d&&"nullValue"in d}function Qs(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function ui(d){return!!d&&"mapValue"in d}function fs(d){var e,s;return"__vector__"===(null===(s=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function Os(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return Jr(d.mapValue.fields,(s,a)=>e.mapValue.fields[s]=Os(a)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(d.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Os(d.arrayValue.values[s]);return e}return Object.assign({},d)}function or(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const ps={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function bs(d){return"nullValue"in d?Ms:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?Er(hi.empty(),Bt.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?fs(d)?ps:{mapValue:{}}:it()}function te(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?Er(hi.empty(),Bt.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?ps:"mapValue"in d?fs(d)?{mapValue:{}}:wi:it()}function J(d,e){const s=Ji(d.value,e.value);return 0!==s?s:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Me(d,e){const s=Ji(d.value,e.value);return 0!==s?s:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class We{constructor(e){this.value=e}static empty(){return new We({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let a=0;a<e.length-1;++a)if(s=(s.mapValue.fields||{})[e.get(a)],!ui(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Os(s)}setAll(e){let s=Un.emptyPath(),a={},h=[];e.forEach((b,R)=>{if(!s.isImmediateParentOf(R)){const L=this.getFieldsMap(s);this.applyChanges(L,a,h),a={},h=[],s=R.popLast()}b?a[R.lastSegment()]=Os(b):h.push(R.lastSegment())});const y=this.getFieldsMap(s);this.applyChanges(y,a,h)}delete(e){const s=this.field(e.popLast());ui(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=s.mapValue.fields[e.get(a)];ui(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},s.mapValue.fields[e.get(a)]=h),s=h}return s.mapValue.fields}applyChanges(e,s,a){Jr(s,(h,y)=>e[h]=y);for(const h of a)delete e[h]}clone(){return new We(Os(this.value))}}function ht(d){const e=[];return Jr(d.fields,(s,a)=>{const h=new Un([s]);if(ui(a)){const y=ht(a.mapValue).fields;if(0===y.length)e.push(h);else for(const b of y)e.push(h.child(b))}else e.push(h)}),new Zr(e)}class It{constructor(e,s,a,h,y,b,R){this.key=e,this.documentType=s,this.version=a,this.readTime=h,this.createTime=y,this.data=b,this.documentState=R}static newInvalidDocument(e){return new It(e,0,qt.min(),qt.min(),qt.min(),We.empty(),0)}static newFoundDocument(e,s,a,h){return new It(e,1,s,qt.min(),a,h,0)}static newNoDocument(e,s){return new It(e,2,s,qt.min(),qt.min(),We.empty(),0)}static newUnknownDocument(e,s){return new It(e,3,s,qt.min(),qt.min(),We.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(qt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=We.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=We.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class on{constructor(e,s){this.position=e,this.inclusive=s}}function Nn(d,e,s){let a=0;for(let h=0;h<d.position.length;h++){const y=e[h],b=d.position[h];if(a=y.field.isKeyField()?Bt.comparator(Bt.fromName(b.referenceValue),s.key):Ji(b,s.data.field(y.field)),"desc"===y.dir&&(a*=-1),0!==a)break}return a}function In(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let s=0;s<d.position.length;s++)if(!ds(d.position[s],e.position[s]))return!1;return!0}class rr{constructor(e,s="asc"){this.field=e,this.dir=s}}function Mr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class qn{}class Yn extends qn{constructor(e,s,a){super(),this.field=e,this.op=s,this.value=a}static create(e,s,a){return e.isKeyField()?"in"===s||"not-in"===s?this.createKeyFieldInFilter(e,s,a):new Xr(e,s,a):"array-contains"===s?new Wi(e,a):"in"===s?new Zi(e,a):"not-in"===s?new Sa(e,a):"array-contains-any"===s?new Ro(e,a):new Yn(e,s,a)}static createKeyFieldInFilter(e,s,a){return"in"===s?new vo(e,a):new gs(e,a)}matches(e){const s=e.data.field(this.field);return"!="===this.op?null!==s&&this.matchesComparison(Ji(s,this.value)):null!==s&&fi(this.value)===fi(s)&&this.matchesComparison(Ji(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends qn{constructor(e,s){super(),this.filters=e,this.op=s,this.ae=null}static create(e,s){return new dr(e,s)}matches(e){return gi(this)?void 0===this.filters.find(s=>!s.matches(e)):void 0!==this.filters.find(s=>s.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,s)=>e.concat(s.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gi(d){return"and"===d.op}function kr(d){return"or"===d.op}function ri(d){return Ui(d)&&gi(d)}function Ui(d){for(const e of d.filters)if(e instanceof dr)return!1;return!0}function ii(d){if(d instanceof Yn)return d.field.canonicalString()+d.op.toString()+ci(d.value);if(ri(d))return d.filters.map(e=>ii(e)).join(",");{const e=d.filters.map(s=>ii(s)).join(",");return`${d.op}(${e})`}}function Or(d,e){return d instanceof Yn?(a=d,(h=e)instanceof Yn&&a.op===h.op&&a.field.isEqual(h.field)&&ds(a.value,h.value)):d instanceof dr?function(a,h){return h instanceof dr&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((y,b,R)=>y&&Or(b,h.filters[R]),!0)}(d,e):void it();var a,h}function Ri(d,e){const s=d.filters.concat(e);return dr.create(s,d.op)}function bi(d){return d instanceof Yn?`${(s=d).field.canonicalString()} ${s.op} ${ci(s.value)}`:d instanceof dr?function(s){return s.op.toString()+" {"+s.getFilters().map(bi).join(" ,")+"}"}(d):"Filter";var s}class Xr extends Yn{constructor(e,s,a){super(e,s,a),this.key=Bt.fromName(a.referenceValue)}matches(e){const s=Bt.comparator(e.key,this.key);return this.matchesComparison(s)}}class vo extends Yn{constructor(e,s){super(e,"in",s),this.keys=Gi(0,s)}matches(e){return this.keys.some(s=>s.isEqual(e.key))}}class gs extends Yn{constructor(e,s){super(e,"not-in",s),this.keys=Gi(0,s)}matches(e){return!this.keys.some(s=>s.isEqual(e.key))}}function Gi(d,e){var s;return((null===(s=e.arrayValue)||void 0===s?void 0:s.values)||[]).map(a=>Bt.fromName(a.referenceValue))}class Wi extends Yn{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return hs(s)&&lo(s.arrayValue,this.value)}}class Zi extends Yn{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return null!==s&&lo(this.value.arrayValue,s)}}class Sa extends Yn{constructor(e,s){super(e,"not-in",s)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return null!==s&&!lo(this.value.arrayValue,s)}}class Ro extends Yn{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!hs(s)||!s.arrayValue.values)&&s.arrayValue.values.some(a=>lo(this.value.arrayValue,a))}}class kc{constructor(e,s=null,a=[],h=[],y=null,b=null,R=null){this.path=e,this.collectionGroup=s,this.orderBy=a,this.filters=h,this.limit=y,this.startAt=b,this.endAt=R,this.ue=null}}function js(d,e=null,s=[],a=[],h=null,y=null,b=null){return new kc(d,e,s,a,h,y,b)}function Ns(d){const e=mt(d);if(null===e.ue){let s=e.path.canonicalString();null!==e.collectionGroup&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map(a=>ii(a)).join(","),s+="|ob:",s+=e.orderBy.map(a=>{return(y=a).field.canonicalString()+y.dir;var y}).join(","),se(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(a=>ci(a)).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(a=>ci(a)).join(",")),e.ue=s}return e.ue}function co(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<d.orderBy.length;s++)if(!Mr(d.orderBy[s],e.orderBy[s]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let s=0;s<d.filters.length;s++)if(!Or(d.filters[s],e.filters[s]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!In(d.startAt,e.startAt)&&In(d.endAt,e.endAt)}function Da(d){return Bt.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function pa(d,e){return d.filters.filter(s=>s instanceof Yn&&s.field.isEqual(e))}function xi(d,e,s){let a=Ms,h=!0;for(const y of pa(d,e)){let b=Ms,R=!0;switch(y.op){case"<":case"<=":b=bs(y.value);break;case"==":case"in":case">=":b=y.value;break;case">":b=y.value,R=!1;break;case"!=":case"not-in":b=Ms}J({value:a,inclusive:h},{value:b,inclusive:R})<0&&(a=b,h=R)}if(null!==s)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=s.position[y];J({value:a,inclusive:h},{value:b,inclusive:s.inclusive})<0&&(a=b,h=s.inclusive);break}return{value:a,inclusive:h}}function ia(d,e,s){let a=wi,h=!0;for(const y of pa(d,e)){let b=wi,R=!0;switch(y.op){case">=":case">":b=te(y.value),R=!1;break;case"==":case"in":case"<=":b=y.value;break;case"<":b=y.value,R=!1;break;case"!=":case"not-in":b=wi}Me({value:a,inclusive:h},{value:b,inclusive:R})>0&&(a=b,h=R)}if(null!==s)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=s.position[y];Me({value:a,inclusive:h},{value:b,inclusive:s.inclusive})>0&&(a=b,h=s.inclusive);break}return{value:a,inclusive:h}}class xo{constructor(e,s=null,a=[],h=[],y=null,b="F",R=null,L=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=h,this.limit=y,this.limitType=b,this.startAt=R,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function W(d,e,s,a,h,y,b,R){return new xo(d,e,s,a,h,y,b,R)}function ee(d){return new xo(d)}function U(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function pe(d){return null!==d.collectionGroup}function Xe(d){const e=mt(d);if(null===e.ce){e.ce=[];const s=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),s.add(y.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let R=new xr(Un.comparator);return b.filters.forEach(L=>{L.getFlattenedFilters().forEach(K=>{K.isInequality()&&(R=R.add(K.field))})}),R})(e).forEach(y=>{s.has(y.canonicalString())||y.isKeyField()||e.ce.push(new rr(y,a))}),s.has(Un.keyField().canonicalString())||e.ce.push(new rr(Un.keyField(),a))}return e.ce}function vn(d){const e=mt(d);return e.le||(e.le=function ms(d,e){if("F"===d.limitType)return js(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new rr(h.field,"desc"===h.dir?"asc":"desc"));const s=d.endAt?new on(d.endAt.position,d.endAt.inclusive):null,a=d.startAt?new on(d.startAt.position,d.startAt.inclusive):null;return js(d.path,d.collectionGroup,e,d.filters,d.limit,s,a)}}(e,Xe(d))),e.le}function Yt(d,e){const s=d.filters.concat([e]);return new xo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),s,d.limit,d.limitType,d.startAt,d.endAt)}function es(d,e,s){return new xo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,s,d.startAt,d.endAt)}function uo(d,e){return co(vn(d),vn(e))&&d.limitType===e.limitType}function $s(d){return`${Ns(vn(d))}|lt:${d.limitType}`}function Mi(d){return`Query(target=${function(s){let a=s.path.canonicalString();return null!==s.collectionGroup&&(a+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(a+=`, filters: [${s.filters.map(h=>bi(h)).join(", ")}]`),se(s.limit)||(a+=", limit: "+s.limit),s.orderBy.length>0&&(a+=`, orderBy: [${s.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),s.startAt&&(a+=", startAt: ",a+=s.startAt.inclusive?"b:":"a:",a+=s.startAt.position.map(h=>ci(h)).join(",")),s.endAt&&(a+=", endAt: ",a+=s.endAt.inclusive?"a:":"b:",a+=s.endAt.position.map(h=>ci(h)).join(",")),`Target(${a})`}(vn(d))}; limitType=${d.limitType})`}function no(d,e){return e.isFoundDocument()&&function(a,h){const y=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(y):Bt.isDocumentKey(a.path)?a.path.isEqual(y):a.path.isImmediateParentOf(y)}(d,e)&&function(a,h){for(const y of Xe(a))if(!y.field.isKeyField()&&null===h.data.field(y.field))return!1;return!0}(d,e)&&function(a,h){for(const y of a.filters)if(!y.matches(h))return!1;return!0}(d,e)&&(h=e,!((a=d).startAt&&!function(b,R,L){const K=Nn(b,R,L);return b.inclusive?K<=0:K<0}(a.startAt,Xe(a),h)||a.endAt&&!function(b,R,L){const K=Nn(b,R,L);return b.inclusive?K>=0:K>0}(a.endAt,Xe(a),h)));var a,h}function Lc(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function Oi(d){return(e,s)=>{let a=!1;for(const h of Xe(d)){const y=$o(h,e,s);if(0!==y)return y;a=a||h.field.isKeyField()}return 0}}function $o(d,e,s){const a=d.field.isKeyField()?Bt.comparator(e.key,s.key):function(y,b,R){const L=b.data.field(y),K=R.data.field(y);return null!==L&&null!==K?Ji(L,K):it()}(d.field,e,s);switch(d.dir){case"asc":return a;case"desc":return-1*a;default:return it()}}class Mn{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a)for(const[h,y]of a)if(this.equalsFn(h,e))return y}has(e){return void 0!==this.get(e)}set(e,s){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,s]],void this.innerSize++;for(let y=0;y<h.length;y++)if(this.equalsFn(h[y][0],e))return void(h[y]=[e,s]);h.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[s]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,(s,a)=>{for(const[h,y]of a)e(h,y)})}isEmpty(){return us(this.inner)}size(){return this.innerSize}}const Ra=new Yr(Bt.comparator);function _s(){return Ra}const yl=new Yr(Bt.comparator);function ro(...d){let e=yl;for(const s of d)e=e.insert(s.key,s);return e}function ga(d){let e=yl;return d.forEach((s,a)=>e=e.insert(s,a.overlayedDocument)),e}function Is(){return Pa()}function xa(){return Pa()}function Pa(){return new Mn(d=>d.toString(),(d,e)=>d.isEqual(e))}const Ma=new Yr(Bt.comparator),vu=new xr(Bt.comparator);function wr(...d){let e=vu;for(const s of d)e=e.add(s);return e}const tc=new xr(nn);function Eo(){return tc}function Bo(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ye(e)?"-0":e}}function Oa(d){return{integerValue:""+d}}function Eu(d,e){return ce(e)?Oa(e):Bo(d,e)}class ma{constructor(){this._=void 0}}function Th(d,e,s){return d instanceof vl?function(h,y){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return y&&Ps(y)&&(y=yo(y)),y&&(b.fields.__previous_value__=y),{mapValue:b}}(s,e):d instanceof Go?nc(d,e):d instanceof Na?qa(d,e):function(h,y){const b=bu(h,y),R=Xa(b)+Xa(h.Pe);return ss(b)&&ss(h.Pe)?Oa(R):Bo(h.serializer,R)}(d,e)}function Po(d,e,s){return d instanceof Go?nc(d,e):d instanceof Na?qa(d,e):s}function bu(d,e){return d instanceof Ya?ss(a=e)||(y=a)&&"doubleValue"in y?e:{integerValue:0}:null;var a,y}class vl extends ma{}class Go extends ma{constructor(e){super(),this.elements=e}}function nc(d,e){const s=Vc(e);for(const a of d.elements)s.some(h=>ds(h,a))||s.push(a);return{arrayValue:{values:s}}}class Na extends ma{constructor(e){super(),this.elements=e}}function qa(d,e){let s=Vc(e);for(const a of d.elements)s=s.filter(h=>!ds(h,a));return{arrayValue:{values:s}}}class Ya extends ma{constructor(e,s){super(),this.serializer=e,this.Pe=s}}function Xa(d){return ni(d.integerValue||d.doubleValue)}function Vc(d){return hs(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class x{constructor(e,s){this.field=e,this.transform=s}}class ${constructor(e,s){this.version=e,this.transformResults=s}}class Y{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Y}static exists(e){return new Y(void 0,e)}static updateTime(e){return new Y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $e(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class xt{}function Wt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Fs(d.key,Y.none()):new hr(d.key,d.data,Y.none());{const s=d.data,a=We.empty();let h=new xr(Un.comparator);for(let y of e.fields)if(!h.has(y)){let b=s.field(y);null===b&&y.length>1&&(y=y.popLast(),b=s.field(y)),null===b?a.delete(y):a.set(y,b),h=h.add(y)}return new Hr(d.key,a,new Zr(h.toArray()),Y.none())}}function Xn(d,e,s){d instanceof hr?function(h,y,b){const R=h.value.clone(),L=Ni(h.fieldTransforms,y,b.transformResults);R.setAll(L),y.convertToFoundDocument(b.version,R).setHasCommittedMutations()}(d,e,s):d instanceof Hr?function(h,y,b){if(!$e(h.precondition,y))return void y.convertToUnknownDocument(b.version);const R=Ni(h.fieldTransforms,y,b.transformResults),L=y.data;L.setAll(_i(h)),L.setAll(R),y.convertToFoundDocument(b.version,L).setHasCommittedMutations()}(d,e,s):e.convertToNoDocument(s.version).setHasCommittedMutations()}function ei(d,e,s,a){return d instanceof hr?function(y,b,R,L){if(!$e(y.precondition,b))return R;const K=y.value.clone(),ue=Js(y.fieldTransforms,L,b);return K.setAll(ue),b.convertToFoundDocument(b.version,K).setHasLocalMutations(),null}(d,e,s,a):d instanceof Hr?function(y,b,R,L){if(!$e(y.precondition,b))return R;const K=Js(y.fieldTransforms,L,b),ue=b.data;return ue.setAll(_i(y)),ue.setAll(K),b.convertToFoundDocument(b.version,ue).setHasLocalMutations(),null===R?null:R.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(we=>we.field))}(d,e,s,a):(R=s,$e(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):R);var b,R}function mi(d,e){let s=null;for(const a of d.fieldTransforms){const h=e.data.field(a.field),y=bu(a.transform,h||null);null!=y&&(null===s&&(s=We.empty()),s.set(a.field,y))}return s||null}function Gr(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=d.fieldTransforms)&&void 0===h||a&&h&&Jn(a,h,(y,b)=>function re(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(a=d.transform)instanceof Go&&h instanceof Go||a instanceof Na&&h instanceof Na?Jn(a.elements,h.elements,ds):a instanceof Ya&&h instanceof Ya?ds(a.Pe,h.Pe):a instanceof vl&&h instanceof vl);var a,h}(y,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var a,h}class hr extends xt{constructor(e,s,a,h=[]){super(),this.key=e,this.value=s,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Hr extends xt{constructor(e,s,a,h,y=[]){super(),this.key=e,this.data=s,this.fieldMask=a,this.precondition=h,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function _i(d){const e=new Map;return d.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const a=d.data.field(s);e.set(s,a)}}),e}function Ni(d,e,s){const a=new Map;Ut(d.length===s.length);for(let h=0;h<s.length;h++){const y=d[h],b=y.transform,R=e.data.field(y.field);a.set(y.field,Po(b,R,s[h]))}return a}function Js(d,e,s){const a=new Map;for(const h of d){const y=h.transform,b=s.data.field(h.field);a.set(h.field,Th(y,b,e))}return a}class Fs extends xt{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sa extends xt{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bs{constructor(e,s,a,h){this.batchId=e,this.localWriteTime=s,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,s){const a=s.mutationResults;for(let h=0;h<this.mutations.length;h++){const y=this.mutations[h];y.key.isEqual(e.key)&&Xn(y,e,a[h])}}applyToLocalView(e,s){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(s=ei(a,e,s,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(s=ei(a,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const a=xa();return this.mutations.forEach(h=>{const y=e.get(h.key),b=y.overlayedDocument;let R=this.applyToLocalView(b,y.mutatedFields);R=s.has(h.key)?null:R;const L=Wt(b,R);null!==L&&a.set(h.key,L),b.isValidDocument()||b.convertToNoDocument(qt.min())}),a}keys(){return this.mutations.reduce((e,s)=>e.add(s.key),wr())}isEqual(e){return this.batchId===e.batchId&&Jn(this.mutations,e.mutations,(s,a)=>Gr(s,a))&&Jn(this.baseMutations,e.baseMutations,(s,a)=>Gr(s,a))}}class Ho{constructor(e,s,a,h){this.batch=e,this.commitVersion=s,this.mutationResults=a,this.docVersions=h}static from(e,s,a){Ut(e.mutations.length===a.length);let h=Ma;const y=e.mutations;for(let b=0;b<y.length;b++)h=h.insert(y[b].key,a[b].version);return new Ho(e,s,a,h)}}class Ts{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bd{constructor(e,s){this.count=e,this.unchangedNames=s}}var Ar,Ur;function El(d){switch(d){default:return it();case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0}}function io(d){if(void 0===d)return tn("GRPC error has no .code"),Ve.UNKNOWN;switch(d){case Ar.OK:return Ve.OK;case Ar.CANCELLED:return Ve.CANCELLED;case Ar.UNKNOWN:return Ve.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return Ve.INTERNAL;case Ar.UNAVAILABLE:return Ve.UNAVAILABLE;case Ar.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case Ar.NOT_FOUND:return Ve.NOT_FOUND;case Ar.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case Ar.ABORTED:return Ve.ABORTED;case Ar.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case Ar.DATA_LOSS:return Ve.DATA_LOSS;default:return it()}}(Ur=Ar||(Ar={}))[Ur.OK=0]="OK",Ur[Ur.CANCELLED=1]="CANCELLED",Ur[Ur.UNKNOWN=2]="UNKNOWN",Ur[Ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ur[Ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ur[Ur.NOT_FOUND=5]="NOT_FOUND",Ur[Ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ur[Ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ur[Ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ur[Ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ur[Ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ur[Ur.ABORTED=10]="ABORTED",Ur[Ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ur[Ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ur[Ur.INTERNAL=13]="INTERNAL",Ur[Ur.UNAVAILABLE=14]="UNAVAILABLE",Ur[Ur.DATA_LOSS=15]="DATA_LOSS";function Td(){return new TextEncoder}const bl=new be([4294967295,4294967295],0);function Hi(d){const e=Td().encode(d),s=new Ne;return s.update(e),new Uint8Array(s.digest())}function Ch(d){const e=new DataView(d.buffer),s=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new be([s,a],0),new be([h,y],0)]}class Cu{constructor(e,s,a){if(this.bitmap=e,this.padding=s,this.hashCount=a,s<0||s>=8)throw new oa(`Invalid padding: ${s}`);if(a<0)throw new oa(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new oa(`Invalid hash count: ${a}`);if(0===e.length&&0!==s)throw new oa(`Invalid padding when bitmap length is 0: ${s}`);this.Ie=8*e.length-s,this.Te=be.fromNumber(this.Ie)}Ee(e,s,a){let h=e.add(s.multiply(be.fromNumber(a)));return 1===h.compare(bl)&&(h=new be([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const s=Hi(e),[a,h]=Ch(s);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,h,y);if(!this.de(b))return!1}return!0}static create(e,s,a){const h=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),b=new Cu(y,h,s);return a.forEach(R=>b.insert(R)),b}insert(e){if(0===this.Ie)return;const s=Hi(e),[a,h]=Ch(s);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,h,y);this.Ae(b)}}Ae(e){const s=Math.floor(e/8);this.bitmap[s]|=1<<e%8}}class oa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ws{constructor(e,s,a,h,y){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,s,a){const h=new Map;return h.set(e,Fa.createSynthesizedTargetChangeForCurrentChange(e,s,a)),new ws(qt.min(),h,new Yr(nn),_s(),wr())}}class Fa{constructor(e,s,a,h,y){this.resumeToken=e,this.current=s,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,s,a){return new Fa(a,s,wr(),wr(),wr())}}class rc{constructor(e,s,a,h){this.Re=e,this.removedTargetIds=s,this.key=a,this.Ve=h}}class Cd{constructor(e,s){this.targetId=e,this.me=s}}class Id{constructor(e,s,a=Di.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=s,this.resumeToken=a,this.cause=h}}class Tl{constructor(){this.fe=0,this.ge=ka(),this.pe=Di.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=wr(),s=wr(),a=wr();return this.ge.forEach((h,y)=>{switch(y){case 0:e=e.add(h);break;case 2:s=s.add(h);break;case 1:a=a.add(h);break;default:it()}}),new Fa(this.pe,this.ye,e,s,a)}Ce(){this.we=!1,this.ge=ka()}Fe(e,s){this.we=!0,this.ge=this.ge.insert(e,s)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Iu{constructor(e){this.Le=e,this.Be=new Map,this.ke=_s(),this.qe=br(),this.Qe=new Yr(nn)}Ke(e){for(const s of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(s,e.Ve):this.Ue(s,e.key,e.Ve);for(const s of e.removedTargetIds)this.Ue(s,e.key,e.Ve)}We(e){this.forEachTarget(e,s=>{const a=this.Ge(s);switch(e.state){case 0:this.ze(s)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(s);break;case 3:this.ze(s)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(s)&&(this.je(s),a.De(e.resumeToken));break;default:it()}})}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.Be.forEach((a,h)=>{this.ze(h)&&s(h)})}He(e){const s=e.targetId,a=e.me.count,h=this.Je(s);if(h){const y=h.target;if(Da(y))if(0===a){const b=new Bt(y.path);this.Ue(s,b,It.newNoDocument(b,qt.min()))}else Ut(1===a);else{const b=this.Ye(s);if(b!==a){const R=this.Ze(e),L=R?this.Xe(R,e,b):1;0!==L&&(this.je(s),this.Qe=this.Qe.insert(s,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const s=e.me.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:y=0}=s;let b,R;try{b=is(a).toUint8Array()}catch(L){if(L instanceof ra)return un("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{R=new Cu(b,h,y)}catch(L){return un(L instanceof oa?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===R.Ie?null:R}Xe(e,s,a){return s.me.count===a-this.nt(e,s.targetId)?0:2}nt(e,s){const a=this.Le.getRemoteKeysForTarget(s);let h=0;return a.forEach(y=>{const b=this.Le.tt(),R=`projects/${b.projectId}/databases/${b.database}/documents/${y.path.canonicalString()}`;e.mightContain(R)||(this.Ue(s,y,null),h++)}),h}rt(e){const s=new Map;this.Be.forEach((y,b)=>{const R=this.Je(b);if(R){if(y.current&&Da(R.target)){const L=new Bt(R.target.path);null!==this.ke.get(L)||this.it(b,L)||this.Ue(b,L,It.newNoDocument(L,e))}y.be&&(s.set(b,y.ve()),y.Ce())}});let a=wr();this.qe.forEach((y,b)=>{let R=!0;b.forEachWhile(L=>{const K=this.Je(L);return!K||"TargetPurposeLimboResolution"===K.purpose||(R=!1,!1)}),R&&(a=a.add(y))}),this.ke.forEach((y,b)=>b.setReadTime(e));const h=new ws(e,s,this.Qe,this.ke,a);return this.ke=_s(),this.qe=br(),this.Qe=new Yr(nn),h}$e(e,s){if(!this.ze(e))return;const a=this.it(e,s.key)?2:0;this.Ge(e).Fe(s.key,a),this.ke=this.ke.insert(s.key,s),this.qe=this.qe.insert(s.key,this.st(s.key).add(e))}Ue(e,s,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,s)?h.Fe(s,1):h.Me(s),this.qe=this.qe.insert(s,this.st(s).delete(e)),a&&(this.ke=this.ke.insert(s,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const s=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let s=this.Be.get(e);return s||(s=new Tl,this.Be.set(e,s)),s}st(e){let s=this.qe.get(e);return s||(s=new xr(nn),this.qe=this.qe.insert(e,s)),s}ze(e){const s=null!==this.Je(e);return s||xe("WatchChangeAggregator","Detected inactive target",e),s}Je(e){const s=this.Be.get(e);return s&&s.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Tl),this.Le.getRemoteKeysForTarget(e).forEach(s=>{this.Ue(e,s,null)})}it(e,s){return this.Le.getRemoteKeysForTarget(e).has(s)}}function br(){return new Yr(Bt.comparator)}function ka(){return new Yr(Bt.comparator)}const wu={asc:"ASCENDING",desc:"DESCENDING"},_a={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uc={and:"AND",or:"OR"};class Ih{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Au(d,e){return d.useProto3Json||se(e)?e:{value:e}}function aa(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jc(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function La(d,e){return aa(d,e.toTimestamp())}function Ki(d){return Ut(!!d),qt.fromTimestamp(function(s){const a=Xs(s);return new Qt(a.seconds,a.nanos)}(d))}function ic(d,e){return Su(d,e).canonicalString()}function Su(d,e){const s=(h=d,new Zt(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?s:s.child(e)}function en(d){const e=Zt.fromString(d);return Ut(w(e)),e}function Lr(d,e){return ic(d.databaseId,e.path)}function zo(d,e){const s=en(e);if(s.get(1)!==d.databaseId.projectId)throw new lt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+d.databaseId.projectId);if(s.get(3)!==d.databaseId.database)throw new lt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+d.databaseId.database);return new Bt(Cl(s))}function ys(d,e){return ic(d.databaseId,e)}function As(d){const e=en(d);return 4===e.length?Zt.emptyPath():Cl(e)}function sc(d){return new Zt(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function Cl(d){return Ut(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function Zs(d,e,s){return{name:Lr(d,e),fields:s.value.mapValue.fields}}function Il(d,e,s){const a=zo(d,e.name),h=Ki(e.updateTime),y=e.createTime?Ki(e.createTime):qt.min(),b=new We({mapValue:{fields:e.fields}}),R=It.newFoundDocument(a,h,y,b);return s&&R.setHasCommittedMutations(),s?R.setHasCommittedMutations():R}function wl(d,e){let s;if(e instanceof hr)s={update:Zs(d,e.key,e.value)};else if(e instanceof Fs)s={delete:Lr(d,e.key)};else if(e instanceof Hr)s={update:Zs(d,e.key,e.data),updateMask:N(e.fieldMask)};else{if(!(e instanceof sa))return it();s={verify:Lr(d,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map(a=>function(y,b){const R=b.transform;if(R instanceof vl)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof Go)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof Na)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Ya)return{fieldPath:b.field.canonicalString(),increment:R.Pe};throw it()}(0,a))),e.precondition.isNone||(s.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:La(d,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:it()),s;var y}function Qa(d,e){const s=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?Y.updateTime(Ki(y.updateTime)):void 0!==y.exists?Y.exists(y.exists):Y.none():Y.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,R){let L=null;"setToServerValue"in R?(Ut("REQUEST_TIME"===R.setToServerValue),L=new vl):"appendMissingElements"in R?L=new Go(R.appendMissingElements.values||[]):"removeAllFromArray"in R?L=new Na(R.removeAllFromArray.values||[]):"increment"in R?L=new Ya(b,R.increment):it();const K=Un.fromServerFormat(R.fieldPath);return new x(K,L)}(d,h)):[];var y;if(e.update){const h=zo(d,e.update.name),y=new We({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Zr((e.updateMask.fieldPaths||[]).map(ue=>Un.fromServerFormat(ue)));return new Hr(h,y,b,s,a)}return new hr(h,y,s,a)}if(e.delete){const h=zo(d,e.delete);return new Fs(h,s)}if(e.verify){const h=zo(d,e.verify);return new sa(h,s)}return it()}function ho(d,e){return{documents:[ys(d,e.path)]}}function ya(d,e){const s={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=ys(d,h);const y=function(K){if(0!==K.length)return S(dr.create(K,"and"))}(e.filters);y&&(s.structuredQuery.where=y);const b=function(K){if(0!==K.length)return K.map(ue=>{return{field:va((Ze=ue).field),direction:Yf(Ze.dir)};var Ze})}(e.orderBy);b&&(s.structuredQuery.orderBy=b);const R=Au(d,e.limit);return null!==R&&(s.structuredQuery.limit=R),e.startAt&&(s.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(s.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:s,parent:h};var K}function bo(d){let e=As(d.parent);const s=d.structuredQuery,a=s.from?s.from.length:0;let h=null;if(a>0){Ut(1===a);const ue=s.from[0];ue.allDescendants?h=ue.collectionId:e=e.child(ue.collectionId)}let y=[];s.where&&(y=function(we){const Ze=$c(we);return Ze instanceof dr&&ri(Ze)?Ze.getFilters():[Ze]}(s.where));let b=[];s.orderBy&&(b=s.orderBy.map(Ze=>{return new rr(Wo((Xt=Ze).field),function(cn){switch(cn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Xt.direction));var Xt}));let R=null;s.limit&&(R=function(we){let Ze;return Ze="object"==typeof we?we.value:we,se(Ze)?null:Ze}(s.limit));let L=null;var we;s.startAt&&(L=new on((we=s.startAt).values||[],!!we.before));let K=null;return s.endAt&&(K=function(we){return new on(we.values||[],!we.before)}(s.endAt)),W(e,h,b,y,R,"F",L,K)}function $c(d){return void 0!==d.unaryFilter?function(s){switch(s.unaryFilter.op){case"IS_NAN":const a=Wo(s.unaryFilter.field);return Yn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=Wo(s.unaryFilter.field);return Yn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=Wo(s.unaryFilter.field);return Yn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Wo(s.unaryFilter.field);return Yn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(d):void 0!==d.fieldFilter?Yn.create(Wo((s=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(s.fieldFilter.op),s.fieldFilter.value):void 0!==d.compositeFilter?function(s){return dr.create(s.compositeFilter.filters.map(a=>$c(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return it()}}(s.compositeFilter.op))}(d):it();var s}function Yf(d){return wu[d]}function Du(d){return _a[d]}function Bc(d){return Uc[d]}function va(d){return{fieldPath:d.canonicalString()}}function Wo(d){return Un.fromServerFormat(d.fieldPath)}function S(d){return d instanceof Yn?function(s){if("=="===s.op){if(Qs(s.value))return{unaryFilter:{field:va(s.field),op:"IS_NAN"}};if(Bi(s.value))return{unaryFilter:{field:va(s.field),op:"IS_NULL"}}}else if("!="===s.op){if(Qs(s.value))return{unaryFilter:{field:va(s.field),op:"IS_NOT_NAN"}};if(Bi(s.value))return{unaryFilter:{field:va(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(s.field),op:Du(s.op),value:s.value}}}(d):d instanceof dr?function(s){const a=s.getFilters().map(h=>S(h));return 1===a.length?a[0]:{compositeFilter:{op:Bc(s.op),filters:a}}}(d):it()}function N(d){const e=[];return d.fields.forEach(s=>e.push(s.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class F{constructor(e,s,a,h,y=qt.min(),b=qt.min(),R=Di.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=s,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=R,this.expectedCount=L}withSequenceNumber(e){return new F(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G{constructor(e){this.ct=e}}function Ue(d,e){const s=e.key,a={prefixPath:s.getCollectionPath().popLast().toArray(),collectionGroup:s.collectionGroup,documentId:s.path.lastSegment(),readTime:Rt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Lr(y=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:aa(y,b.version.toTimestamp()),createTime:aa(y,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:s.path.toArray(),readTime:At(e.version)};else{if(!e.isUnknownDocument())return it();a.unknownDocument={path:s.path.toArray(),version:At(e.version)}}var y,b;return a}function Rt(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function At(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function An(d){const e=new Qt(d.seconds,d.nanoseconds);return qt.fromTimestamp(e)}function Tr(d,e){const s=(e.baseMutations||[]).map(y=>Qa(d.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const a=e.mutations.map(y=>Qa(d.ct,y)),h=Qt.fromMillis(e.localWriteTimeMs);return new Bs(e.batchId,h,s,a)}function Dr(d){const e=An(d.readTime),s=void 0!==d.lastLimboFreeSnapshotVersion?An(d.lastLimboFreeSnapshotVersion):qt.min();let a;return a=void 0!==d.query.documents?(Ut(1===(y=d.query).documents.length),vn(ee(As(y.documents[0])))):function(y){return vn(bo(y))}(d.query),new F(a,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,s,Di.fromBase64String(d.resumeToken));var y}function Br(d,e){const s=At(e.snapshotVersion),a=At(e.lastLimboFreeSnapshotVersion);let h;h=Da(e.target)?ho(d.ct,e.target):ya(d.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ns(e.target),readTime:s,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function yi(d){const e=bo({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?es(e,e.limit,"L"):e}function Za(d,e){return new Ts(e.largestBatchId,Qa(d.ct,e.overlayMutation))}function Al(d,e){const s=e.path.lastSegment();return[d,Qe(e.path.popLast()),s]}function oc(d,e,s,a){return{indexId:d,uid:e,sequenceNumber:s,readTime:At(a.readTime),documentKey:Qe(a.documentKey.path),largestBatchId:a.largestBatchId}}class Sl{getBundleMetadata(e,s){return Ru(e).get(s).next(a=>{if(a)return{id:(y=a).bundleId,createTime:An(y.createTime),version:y.version};var y})}saveBundleMetadata(e,s){return Ru(e).put({bundleId:(h=s).id,createTime:At(Ki(h.createTime)),version:h.version});var h}getNamedQuery(e,s){return wh(e).get(s).next(a=>{if(a)return{name:(y=a).name,query:yi(y.bundledQuery),readTime:An(y.readTime)};var y})}saveNamedQuery(e,s){return wh(e).put({name:(h=s).name,readTime:At(Ki(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Ru(d){return $i(d,"bundles")}function wh(d){return $i(d,"namedQueries")}class el{constructor(e,s){this.serializer=e,this.userId=s}static lt(e,s){return new el(e,s.uid||"")}getOverlay(e,s){return Ss(e).get(Al(this.userId,s)).next(a=>a?Za(this.serializer,a):null)}getOverlays(e,s){const a=Is();return pt.forEach(s,h=>this.getOverlay(e,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(e,s,a){const h=[];return a.forEach((y,b)=>{const R=new Ts(s,b);h.push(this.ht(e,R))}),pt.waitFor(h)}removeOverlaysForBatchId(e,s,a){const h=new Set;s.forEach(b=>h.add(Qe(b.getCollectionPath())));const y=[];return h.forEach(b=>{const R=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);y.push(Ss(e).j("collectionPathOverlayIndex",R))}),pt.waitFor(y)}getOverlaysForCollection(e,s,a){const h=Is(),y=Qe(s),b=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,Number.POSITIVE_INFINITY],!0);return Ss(e).U("collectionPathOverlayIndex",b).next(R=>{for(const L of R){const K=Za(this.serializer,L);h.set(K.getKey(),K)}return h})}getOverlaysForCollectionGroup(e,s,a,h){const y=Is();let b;const R=IDBKeyRange.bound([this.userId,s,a],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ss(e).J({index:"collectionGroupOverlayIndex",range:R},(L,K,ue)=>{const we=Za(this.serializer,K);y.size()<h||we.largestBatchId===b?(y.set(we.getKey(),we),b=we.largestBatchId):ue.done()}).next(()=>y)}ht(e,s){return Ss(e).put(function(h,y,b){const[R,L,K]=Al(y,b.mutation.key);return{userId:y,collectionPath:L,documentId:K,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:wl(h.ct,b.mutation)}}(this.serializer,this.userId,s))}}function Ss(d){return $i(d,"documentOverlays")}class Sd{Pt(e){return $i(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(s=>{const a=s?.value;return a?Di.fromUint8Array(a):Di.EMPTY_BYTE_STRING})}setSessionToken(e,s){return this.Pt(e).put({name:"sessionToken",value:s.toUint8Array()})}}class Ua{constructor(){}It(e,s){this.Tt(e,s),s.Et()}Tt(e,s){if("nullValue"in e)this.dt(s,5);else if("booleanValue"in e)this.dt(s,10),s.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(s,15),s.At(ni(e.integerValue));else if("doubleValue"in e){const a=ni(e.doubleValue);isNaN(a)?this.dt(s,13):(this.dt(s,15),ye(a)?s.At(0):s.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(s,20),"string"==typeof a&&(a=Xs(a)),s.Rt(`${a.seconds||""}`),s.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,s),this.ft(s);else if("bytesValue"in e)this.dt(s,30),s.gt(is(e.bytesValue)),this.ft(s);else if("referenceValue"in e)this.yt(e.referenceValue,s);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(s,45),s.At(a.latitude||0),s.At(a.longitude||0)}else"mapValue"in e?or(e)?this.dt(s,Number.MAX_SAFE_INTEGER):fs(e)?this.wt(e.mapValue,s):(this.St(e.mapValue,s),this.ft(s)):"arrayValue"in e?(this.bt(e.arrayValue,s),this.ft(s)):it()}Vt(e,s){this.dt(s,25),this.Dt(e,s)}Dt(e,s){s.Rt(e)}St(e,s){const a=e.fields||{};this.dt(s,55);for(const h of Object.keys(a))this.Vt(h,s),this.Tt(a[h],s)}wt(e,s){var a,h;const y=e.fields||{};this.dt(s,53);const b="value",R=(null===(h=null===(a=y[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(s,15),s.At(ni(R)),this.Vt(b,s),this.Tt(y[b],s)}bt(e,s){const a=e.values||[];this.dt(s,50);for(const h of a)this.Tt(h,s)}yt(e,s){this.dt(s,37),Bt.fromName(e).path.forEach(a=>{this.dt(s,60),this.Dt(a,s)})}dt(e,s){e.At(s)}ft(e){e.At(2)}}function ac(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Gc(d){const e=64-function(a){let h=0;for(let y=0;y<8;++y){const b=ac(255&a[y]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}Ua.vt=new Ua;class xu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const s=e[Symbol.iterator]();let a=s.next();for(;!a.done;)this.Ft(a.value),a=s.next();this.Mt()}xt(e){const s=e[Symbol.iterator]();let a=s.next();for(;!a.done;)this.Ot(a.value),a=s.next();this.Nt()}Lt(e){for(const s of e){const a=s.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(s<"\ud800"||"\udbff"<s)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=s.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const s of e){const a=s.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(s<"\ud800"||"\udbff"<s)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=s.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const s=this.qt(e),a=Gc(s);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=s.length-a;h<s.length;++h)this.buffer[this.position++]=255&s[h]}Kt(e){const s=this.qt(e),a=Gc(s);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=s.length-a;h<s.length;++h)this.buffer[this.position++]=~(255&s[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const s=function(y){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,y,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&s[0]);s[0]^=a?255:128;for(let h=1;h<s.length;++h)s[h]^=a?255:0;return s}Ft(e){const s=255&e;0===s?(this.Ut(0),this.Ut(255)):255===s?(this.Ut(255),this.Ut(0)):this.Ut(s)}Ot(e){const s=255&e;0===s?(this.Gt(0),this.Gt(255)):255===s?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const s=e+this.position;if(s<=this.buffer.length)return;let a=2*this.buffer.length;a<s&&(a=s);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class Pu{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Mu{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Ou{constructor(){this.jt=new xu,this.Ht=new Pu(this.jt),this.Jt=new Mu(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Ko{constructor(e,s,a,h){this.indexId=e,this.documentKey=s,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,s=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(s);return a.set(this.directionalValue,0),s!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Ko(this.indexId,this.documentKey,this.arrayValue,a)}}function To(d,e){let s=d.indexId-e.indexId;return 0!==s?s:(s=Dl(d.arrayValue,e.arrayValue),0!==s?s:(s=Dl(d.directionalValue,e.directionalValue),0!==s?s:Bt.comparator(d.documentKey,e.documentKey)))}function Dl(d,e){for(let s=0;s<d.length&&s<e.length;++s){const a=d[s]-e[s];if(0!==a)return a}return d.length-e.length}class Ah{constructor(e){this.Xt=new xr((s,a)=>Un.comparator(s.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const s of e.filters){const a=s;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if(Ut(e.collectionGroup===this.collectionId),this.nn)return!1;const s=jn(e);if(void 0!==s&&!this.sn(s))return!1;const a=Cn(e);let h=new Set,y=0,b=0;for(;y<a.length&&this.sn(a[y]);++y)h=h.add(a[y].fieldPath.canonicalString());if(y===a.length)return!0;if(this.Xt.size>0){const R=this.Xt.getIterator().getNext();if(!h.has(R.field.canonicalString())){const L=a[y];if(!this.on(R,L)||!this._n(this.en[b++],L))return!1}++y}for(;y<a.length;++y)if(b>=this.en.length||!this._n(this.en[b++],a[y]))return!1;return!0}an(){if(this.nn)return null;let e=new xr(Un.comparator);const s=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)s.push(new Sr(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),s.push(new Sr(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),s.push(new Sr(a.field,"asc"===a.dir?0:1)));return new Tn(Tn.UNKNOWN_ID,this.collectionId,s,zn.empty())}sn(e){for(const s of this.tn)if(this.on(s,e))return!0;return!1}on(e,s){return!(void 0===e||!e.field.isEqual(s.fieldPath))&&2===s.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,s){return!!e.field.isEqual(s.fieldPath)&&(0===s.kind&&"asc"===e.dir||1===s.kind&&"desc"===e.dir)}}function Dd(d){var e,s;if(Ut(d instanceof Yn||d instanceof dr),d instanceof Yn){if(d instanceof Zi){const h=(null===(s=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===s?void 0:s.map(y=>Yn.create(d.field,"==",y)))||[];return dr.create(h,"or")}return d}const a=d.filters.map(h=>Dd(h));return dr.create(a,d.op)}function jm(d){if(0===d.getFilters().length)return[];const e=Sh(Dd(d));return Ut(Xf(e)),Rd(e)||Nu(e)?[e]:e.getFilters()}function Rd(d){return d instanceof Yn}function Nu(d){return d instanceof dr&&ri(d)}function Xf(d){return Rd(d)||Nu(d)||function(s){if(s instanceof dr&&kr(s)){for(const a of s.getFilters())if(!Rd(a)&&!Nu(a))return!1;return!0}return!1}(d)}function Sh(d){if(Ut(d instanceof Yn||d instanceof dr),d instanceof Yn)return d;if(1===d.filters.length)return Sh(d.filters[0]);const e=d.filters.map(a=>Sh(a));let s=dr.create(e,d.op);return s=lc(s),Xf(s)?s:(Ut(s instanceof dr),Ut(gi(s)),Ut(s.filters.length>1),s.filters.reduce((a,h)=>Hc(a,h)))}function Hc(d,e){let s;return Ut(d instanceof Yn||d instanceof dr),Ut(e instanceof Yn||e instanceof dr),s=d instanceof Yn?e instanceof Yn?dr.create([d,e],"and"):tl(d,e):e instanceof Yn?tl(e,d):function(h,y){if(Ut(h.filters.length>0&&y.filters.length>0),gi(h)&&gi(y))return Ri(h,y.getFilters());const b=kr(h)?h:y,R=kr(h)?y:h,L=b.filters.map(K=>Hc(K,R));return dr.create(L,"or")}(d,e),lc(s)}function tl(d,e){if(gi(e))return Ri(e,d.getFilters());{const s=e.filters.map(a=>Hc(d,a));return dr.create(s,"or")}}function lc(d){if(Ut(d instanceof Yn||d instanceof dr),d instanceof Yn)return d;const e=d.getFilters();if(1===e.length)return lc(e[0]);if(Ui(d))return d;const s=e.map(h=>lc(h)),a=[];return s.forEach(h=>{h instanceof Yn?a.push(h):h instanceof dr&&(h.op===d.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:dr.create(a,d.op)}class Rl{constructor(){this.un=new cc}addToCollectionParentIndex(e,s){return this.un.add(s),pt.resolve()}getCollectionParents(e,s){return pt.resolve(this.un.getEntries(s))}addFieldIndex(e,s){return pt.resolve()}deleteFieldIndex(e,s){return pt.resolve()}deleteAllFieldIndexes(e){return pt.resolve()}createTargetIndexes(e,s){return pt.resolve()}getDocumentsMatchingTarget(e,s){return pt.resolve(null)}getIndexType(e,s){return pt.resolve(0)}getFieldIndexes(e,s){return pt.resolve([])}getNextCollectionGroupToUpdate(e){return pt.resolve(null)}getMinOffset(e,s){return pt.resolve(pn.min())}getMinOffsetFromCollectionGroup(e,s){return pt.resolve(pn.min())}updateCollectionGroup(e,s,a){return pt.resolve()}updateIndexEntries(e,s){return pt.resolve()}}class cc{constructor(){this.index={}}add(e){const s=e.lastSegment(),a=e.popLast(),h=this.index[s]||new xr(Zt.comparator),y=!h.has(a);return this.index[s]=h.add(a),y}has(e){const s=e.lastSegment(),a=e.popLast(),h=this.index[s];return h&&h.has(a)}getEntries(e){return(this.index[e]||new xr(Zt.comparator)).toArray()}}const nl=new Uint8Array(0);class mg{constructor(e,s){this.databaseId=s,this.cn=new cc,this.ln=new Mn(a=>Ns(a),(a,h)=>co(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,s){if(!this.cn.has(s)){const a=s.lastSegment(),h=s.popLast();e.addOnCommittedListener(()=>{this.cn.add(s)});const y={collectionId:a,parent:Qe(h)};return Oo(e).put(y)}return pt.resolve()}getCollectionParents(e,s){const a=[],h=IDBKeyRange.bound([s,""],[Ln(s),""],!1,!0);return Oo(e).U(h).next(y=>{for(const b of y){if(b.collectionId!==s)break;a.push(St(b.parent))}return a})}addFieldIndex(e,s){const a=Fu(e),h={indexId:(R=s).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var R;delete h.indexId;const y=a.add(h);if(s.indexState){const b=Co(e);return y.next(R=>{b.put(oc(R,this.uid,s.indexState.sequenceNumber,s.indexState.offset))})}return y.next()}deleteFieldIndex(e,s){const a=Fu(e),h=Co(e),y=Ea(e);return a.delete(s.indexId).next(()=>h.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const s=Fu(e),a=Ea(e),h=Co(e);return s.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,s){return pt.forEach(this.hn(s),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const y=new Ah(a).an();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,s){const a=Ea(e);let h=!0;const y=new Map;return pt.forEach(this.hn(s),b=>this.Pn(e,b).next(R=>{h&&(h=!!R),y.set(b,R)})).next(()=>{if(h){let b=wr();const R=[];return pt.forEach(y,(L,K)=>{var sr;xe("IndexedDbIndexManager",`Using index ${sr=L,`id=${sr.indexId}|cg=${sr.collectionGroup}|f=${sr.fields.map(Nr=>`${Nr.fieldPath}:${Nr.kind}`).join(",")}`} to execute ${Ns(s)}`);const ue=function(sr,Nr){const Pi=jn(Nr);if(void 0===Pi)return null;for(const ai of pa(sr,Pi.fieldPath))switch(ai.op){case"array-contains-any":return ai.value.arrayValue.values||[];case"array-contains":return[ai.value]}return null}(K,L),we=function(sr,Nr){const Pi=new Map;for(const ai of Cn(Nr))for(const yt of pa(sr,ai.fieldPath))switch(yt.op){case"==":case"in":Pi.set(ai.fieldPath.canonicalString(),yt.value);break;case"not-in":case"!=":return Pi.set(ai.fieldPath.canonicalString(),yt.value),Array.from(Pi.values())}return null}(K,L),Ze=function(sr,Nr){const Pi=[];let ai=!0;for(const yt of Cn(Nr)){const Ke=0===yt.kind?xi(sr,yt.fieldPath,sr.startAt):ia(sr,yt.fieldPath,sr.startAt);Pi.push(Ke.value),ai&&(ai=Ke.inclusive)}return new on(Pi,ai)}(K,L),Mt=function(sr,Nr){const Pi=[];let ai=!0;for(const yt of Cn(Nr)){const Ke=0===yt.kind?ia(sr,yt.fieldPath,sr.endAt):xi(sr,yt.fieldPath,sr.endAt);Pi.push(Ke.value),ai&&(ai=Ke.inclusive)}return new on(Pi,ai)}(K,L),Xt=this.In(L,K,Ze),mn=this.In(L,K,Mt),cn=this.Tn(L,K,we),Zn=this.En(L.indexId,ue,Xt,Ze.inclusive,mn,Mt.inclusive,cn);return pt.forEach(Zn,pr=>a.G(pr,s.limit).next(sr=>{sr.forEach(Nr=>{const Pi=Bt.fromSegments(Nr.documentKey);b.has(Pi)||(b=b.add(Pi),R.push(Pi))})}))}).next(()=>R)}return pt.resolve(null)})}hn(e){let s=this.ln.get(e);return s||(s=0===e.filters.length?[e]:jm(dr.create(e.filters,"and")).map(a=>js(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,s),s)}En(e,s,a,h,y,b,R){const L=(null!=s?s.length:1)*Math.max(a.length,y.length),K=L/(null!=s?s.length:1),ue=[];for(let we=0;we<L;++we){const Ze=s?this.dn(s[we/K]):nl,Mt=this.An(e,Ze,a[we%K],h),Xt=this.Rn(e,Ze,y[we%K],b),mn=R.map(cn=>this.An(e,Ze,cn,!0));ue.push(...this.createRange(Mt,Xt,mn))}return ue}An(e,s,a,h){const y=new Ko(e,Bt.empty(),s,a);return h?y:y.Zt()}Rn(e,s,a,h){const y=new Ko(e,Bt.empty(),s,a);return h?y.Zt():y}Pn(e,s){const a=new Ah(s),h=null!=s.collectionGroup?s.collectionGroup:s.path.lastSegment();return this.getFieldIndexes(e,h).next(y=>{let b=null;for(const R of y)a.rn(R)&&(!b||R.fields.length>b.fields.length)&&(b=R);return b})}getIndexType(e,s){let a=2;const h=this.hn(s);return pt.forEach(h,y=>this.Pn(e,y).next(b=>{b?0!==a&&b.fields.length<function(L){let K=new xr(Un.comparator),ue=!1;for(const we of L.filters)for(const Ze of we.getFlattenedFilters())Ze.field.isKeyField()||("array-contains"===Ze.op||"array-contains-any"===Ze.op?ue=!0:K=K.add(Ze.field));for(const we of L.orderBy)we.field.isKeyField()||(K=K.add(we.field));return K.size+(ue?1:0)}(y)&&(a=1):a=0})).next(()=>null!==s.limit&&h.length>1&&2===a?1:a)}Vn(e,s){const a=new Ou;for(const h of Cn(e)){const y=s.data.field(h.fieldPath);if(null==y)return null;const b=a.Yt(h.kind);Ua.vt.It(y,b)}return a.zt()}dn(e){const s=new Ou;return Ua.vt.It(e,s.Yt(0)),s.zt()}mn(e,s){const a=new Ou;return Ua.vt.It(Er(this.databaseId,s),a.Yt(function(y){const b=Cn(y);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,s,a){if(null===a)return[];let h=[];h.push(new Ou);let y=0;for(const b of Cn(e)){const R=a[y++];for(const L of h)if(this.fn(s,b.fieldPath)&&hs(R))h=this.gn(h,b,R);else{const K=L.Yt(b.kind);Ua.vt.It(R,K)}}return this.pn(h)}In(e,s,a){return this.Tn(e,s,a.position)}pn(e){const s=[];for(let a=0;a<e.length;++a)s[a]=e[a].zt();return s}gn(e,s,a){const h=[...e],y=[];for(const b of a.arrayValue.values||[])for(const R of h){const L=new Ou;L.seed(R.zt()),Ua.vt.It(b,L.Yt(s.kind)),y.push(L)}return y}fn(e,s){return!!e.filters.find(a=>a instanceof Yn&&a.field.isEqual(s)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,s){const a=Fu(e),h=Co(e);return(s?a.U("collectionGroupIndex",IDBKeyRange.bound(s,s)):a.U()).next(y=>{const b=[];return pt.forEach(y,R=>h.get([R.indexId,this.uid]).next(L=>{b.push(function(ue,we){const Ze=we?new zn(we.sequenceNumber,new pn(An(we.readTime),new Bt(St(we.documentKey)),we.largestBatchId)):zn.empty(),Mt=ue.fields.map(([Xt,mn])=>new Sr(Un.fromServerFormat(Xt),mn));return new Tn(ue.indexId,ue.collectionGroup,Mt,Ze)}(R,L))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(s=>0===s.length?null:(s.sort((a,h)=>{const y=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==y?y:nn(a.collectionGroup,h.collectionGroup)}),s[0].collectionGroup))}updateCollectionGroup(e,s,a){const h=Fu(e),y=Co(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(s,s)).next(R=>pt.forEach(R,L=>y.put(oc(L.indexId,this.uid,b,a)))))}updateIndexEntries(e,s){const a=new Map;return pt.forEach(s,(h,y)=>{const b=a.get(h.collectionGroup);return(b?pt.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(R=>(a.set(h.collectionGroup,R),pt.forEach(R,L=>this.wn(e,h,L).next(K=>{const ue=this.Sn(y,L);return K.isEqual(ue)?pt.resolve():this.bn(e,y,L,K,ue)}))))})}Dn(e,s,a,h){return Ea(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,s.key),documentKey:s.key.path.toArray()})}vn(e,s,a,h){return Ea(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,s.key),s.key.path.toArray()])}wn(e,s,a){const h=Ea(e);let y=new xr(To);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,s)])},(b,R)=>{y=y.add(new Ko(a.indexId,s,R.arrayValue,R.directionalValue))}).next(()=>y)}Sn(e,s){let a=new xr(To);const h=this.Vn(s,e);if(null==h)return a;const y=jn(s);if(null!=y){const b=e.data.field(y.fieldPath);if(hs(b))for(const R of b.arrayValue.values||[])a=a.add(new Ko(s.indexId,e.key,this.dn(R),h))}else a=a.add(new Ko(s.indexId,e.key,nl,h));return a}bn(e,s,a,h,y){xe("IndexedDbIndexManager","Updating index entries for document '%s'",s.key);const b=[];return function(L,K,ue,we,Ze){const Mt=L.getIterator(),Xt=K.getIterator();let mn=_o(Mt),cn=_o(Xt);for(;mn||cn;){let Zn=!1,pr=!1;if(mn&&cn){const sr=ue(mn,cn);sr<0?pr=!0:sr>0&&(Zn=!0)}else null!=mn?pr=!0:Zn=!0;Zn?(we(cn),cn=_o(Xt)):pr?(Ze(mn),mn=_o(Mt)):(mn=_o(Mt),cn=_o(Xt))}}(h,y,To,R=>{b.push(this.Dn(e,s,a,R))},R=>{b.push(this.vn(e,s,a,R))}),pt.waitFor(b)}yn(e){let s=1;return Co(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,y)=>{y.done(),s=h.sequenceNumber+1}).next(()=>s)}createRange(e,s,a){a=a.sort((b,R)=>To(b,R)).filter((b,R,L)=>!R||0!==To(b,L[R-1]));const h=[];h.push(e);for(const b of a){const R=To(b,e),L=To(b,s);if(0===R)h[0]=e.Zt();else if(R>0&&L<0)h.push(b),h.push(b.Zt());else if(L>0)break}h.push(s);const y=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];y.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,nl,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,nl,[]]))}return y}Cn(e,s){return To(e,s)>0}getMinOffsetFromCollectionGroup(e,s){return this.getFieldIndexes(e,s).next(xd)}getMinOffset(e,s){return pt.mapArray(this.hn(s),a=>this.Pn(e,a).next(h=>h||it())).next(xd)}}function Oo(d){return $i(d,"collectionParents")}function Ea(d){return $i(d,"indexEntries")}function Fu(d){return $i(d,"indexConfiguration")}function Co(d){return $i(d,"indexState")}function xd(d){Ut(0!==d.length);let e=d[0].indexState.offset,s=e.largestBatchId;for(let a=1;a<d.length;a++){const h=d[a].indexState.offset;qr(h,e)<0&&(e=h),s<h.largestBatchId&&(s=h.largestBatchId)}return new pn(e.readTime,e.documentKey,s)}const xl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ds{constructor(e,s,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ds(e,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Dh(d,e,s){const a=d.store("mutations"),h=d.store("documentMutations"),y=[],b=IDBKeyRange.only(s.batchId);let R=0;const L=a.J({range:b},(ue,we,Ze)=>(R++,Ze.delete()));y.push(L.next(()=>{Ut(1===R)}));const K=[];for(const ue of s.mutations){const we=Ge(e,ue.key.path,s.batchId);y.push(h.delete(we)),K.push(ue.key)}return pt.waitFor(y).next(()=>K)}function Pl(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw it();e=d.noDocument}return JSON.stringify(e).length}Ds.DEFAULT_COLLECTION_PERCENTILE=10,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ds.DEFAULT=new Ds(41943040,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ds.DISABLED=new Ds(-1,0,0);class uc{constructor(e,s,a,h){this.userId=e,this.serializer=s,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,s,a,h){Ut(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new uc(y,s,a,h)}checkEmpty(e){let s=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).J({index:"userMutationsIndex",range:a},(h,y,b)=>{s=!1,b.done()}).next(()=>s)}addMutationBatch(e,s,a,h){const y=dc(e),b=rl(e);return b.add({}).next(R=>{Ut("number"==typeof R);const L=new Bs(R,s,a,h),K=function(Mt,Xt,mn){const cn=mn.baseMutations.map(pr=>wl(Mt.ct,pr)),Zn=mn.mutations.map(pr=>wl(Mt.ct,pr));return{userId:Xt,batchId:mn.batchId,localWriteTimeMs:mn.localWriteTime.toMillis(),baseMutations:cn,mutations:Zn}}(this.serializer,this.userId,L),ue=[];let we=new xr((Ze,Mt)=>nn(Ze.canonicalString(),Mt.canonicalString()));for(const Ze of h){const Mt=Ge(this.userId,Ze.key.path,R);we=we.add(Ze.key.path.popLast()),ue.push(b.put(K)),ue.push(y.put(Mt,Ye))}return we.forEach(Ze=>{ue.push(this.indexManager.addToCollectionParentIndex(e,Ze))}),e.addOnCommittedListener(()=>{this.Fn[R]=L.keys()}),pt.waitFor(ue).next(()=>L)})}lookupMutationBatch(e,s){return rl(e).get(s).next(a=>a?(Ut(a.userId===this.userId),Tr(this.serializer,a)):null)}Mn(e,s){return this.Fn[s]?pt.resolve(this.Fn[s]):this.lookupMutationBatch(e,s).next(a=>{if(a){const h=a.keys();return this.Fn[s]=h,h}return null})}getNextMutationBatchAfterBatchId(e,s){const a=s+1,h=IDBKeyRange.lowerBound([this.userId,a]);let y=null;return rl(e).J({index:"userMutationsIndex",range:h},(b,R,L)=>{R.userId===this.userId&&(Ut(R.batchId>=a),y=Tr(this.serializer,R)),L.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return rl(e).J({index:"userMutationsIndex",range:s,reverse:!0},(h,y,b)=>{a=y.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).U("userMutationsIndex",s).next(a=>a.map(h=>Tr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,s){const a=Se(this.userId,s.path),h=IDBKeyRange.lowerBound(a),y=[];return dc(e).J({range:h},(b,R,L)=>{const[K,ue,we]=b,Ze=St(ue);if(K===this.userId&&s.path.isEqual(Ze))return rl(e).get(we).next(Mt=>{if(!Mt)throw it();Ut(Mt.userId===this.userId),y.push(Tr(this.serializer,Mt))});L.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,s){let a=new xr(nn);const h=[];return s.forEach(y=>{const b=Se(this.userId,y.path),R=IDBKeyRange.lowerBound(b),L=dc(e).J({range:R},(K,ue,we)=>{const[Ze,Mt,Xt]=K,mn=St(Mt);Ze===this.userId&&y.path.isEqual(mn)?a=a.add(Xt):we.done()});h.push(L)}),pt.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,s){const a=s.path,h=a.length+1,y=Se(this.userId,a),b=IDBKeyRange.lowerBound(y);let R=new xr(nn);return dc(e).J({range:b},(L,K,ue)=>{const[we,Ze,Mt]=L,Xt=St(Ze);we===this.userId&&a.isPrefixOf(Xt)?Xt.length===h&&(R=R.add(Mt)):ue.done()}).next(()=>this.xn(e,R))}xn(e,s){const a=[],h=[];return s.forEach(y=>{h.push(rl(e).get(y).next(b=>{if(null===b)throw it();Ut(b.userId===this.userId),a.push(Tr(this.serializer,b))}))}),pt.waitFor(h).next(()=>a)}removeMutationBatch(e,s){return Dh(e._e,this.userId,s).next(a=>(e.addOnCommittedListener(()=>{this.On(s.batchId)}),pt.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(s=>{if(!s)return pt.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return dc(e).J({range:a},(y,b,R)=>{if(y[0]===this.userId){const L=St(y[1]);h.push(L)}else R.done()}).next(()=>{Ut(0===h.length)})})}containsKey(e,s){return Rh(e,this.userId,s)}Nn(e){return zc(e).get(this.userId).next(s=>s||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rh(d,e,s){const a=Se(e,s.path),h=a[1],y=IDBKeyRange.lowerBound(a);let b=!1;return dc(d).J({range:y,H:!0},(R,L,K)=>{const[ue,we,Ze]=R;ue===e&&we===h&&(b=!0),K.done()}).next(()=>b)}function rl(d){return $i(d,"mutations")}function dc(d){return $i(d,"documentMutations")}function zc(d){return $i(d,"mutationQueues")}class Ml{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ml(0)}static kn(){return new Ml(-1)}}class Qf{constructor(e,s){this.referenceDelegate=e,this.serializer=s}allocateTargetId(e){return this.qn(e).next(s=>{const a=new Ml(s.highestTargetId);return s.highestTargetId=a.next(),this.Qn(e,s).next(()=>s.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(s=>qt.fromTimestamp(new Qt(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(s=>s.highestListenSequenceNumber)}setTargetsMetadata(e,s,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=s,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),s>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=s),this.Qn(e,h)))}addTargetData(e,s){return this.Kn(e,s).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(s,a),this.Qn(e,a))))}updateTargetData(e,s){return this.Kn(e,s)}removeTargetData(e,s){return this.removeMatchingKeysForTargetId(e,s.targetId).next(()=>qo(e).delete(s.targetId)).next(()=>this.qn(e)).next(a=>(Ut(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,s,a){let h=0;const y=[];return qo(e).J((b,R)=>{const L=Dr(R);L.sequenceNumber<=s&&null===a.get(L.targetId)&&(h++,y.push(this.removeTargetData(e,L)))}).next(()=>pt.waitFor(y)).next(()=>h)}forEachTarget(e,s){return qo(e).J((a,h)=>{const y=Dr(h);s(y)})}qn(e){return Ol(e).get("targetGlobalKey").next(s=>(Ut(null!==s),s))}Qn(e,s){return Ol(e).put("targetGlobalKey",s)}Kn(e,s){return qo(e).put(Br(this.serializer,s))}$n(e,s){let a=!1;return e.targetId>s.highestTargetId&&(s.highestTargetId=e.targetId,a=!0),e.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(s=>s.targetCount)}getTargetData(e,s){const a=Ns(s),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let y=null;return qo(e).J({range:h,index:"queryTargetsIndex"},(b,R,L)=>{const K=Dr(R);co(s,K.target)&&(y=K,L.done())}).next(()=>y)}addMatchingKeys(e,s,a){const h=[],y=Nl(e);return s.forEach(b=>{const R=Qe(b.path);h.push(y.put({targetId:a,path:R})),h.push(this.referenceDelegate.addReference(e,a,b))}),pt.waitFor(h)}removeMatchingKeys(e,s,a){const h=Nl(e);return pt.forEach(s,y=>{const b=Qe(y.path);return pt.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,y)])})}removeMatchingKeysForTargetId(e,s){const a=Nl(e),h=IDBKeyRange.bound([s],[s+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,s){const a=IDBKeyRange.bound([s],[s+1],!1,!0),h=Nl(e);let y=wr();return h.J({range:a,H:!0},(b,R,L)=>{const K=St(b[1]),ue=new Bt(K);y=y.add(ue)}).next(()=>y)}containsKey(e,s){const a=Qe(s.path),h=IDBKeyRange.bound([a],[Ln(a)],!1,!0);let y=0;return Nl(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,R],L,K)=>{0!==b&&(y++,K.done())}).next(()=>y>0)}ot(e,s){return qo(e).get(s).next(a=>a?Dr(a):null)}}function qo(d){return $i(d,"targets")}function Ol(d){return $i(d,"targetGlobal")}function Nl(d){return $i(d,"targetDocuments")}function ku([d,e],[s,a]){const h=nn(d,s);return 0===h?nn(e,a):h}class Jf{constructor(e){this.Un=e,this.buffer=new xr(ku),this.Wn=0}Gn(){return++this.Wn}zn(e){const s=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(s);else{const a=this.buffer.last();ku(s,a)<0&&(this.buffer=this.buffer.delete(a).add(s))}}get maxValue(){return this.buffer.last()[0]}}class Fl{constructor(e,s,a){this.garbageCollector=e,this.asyncQueue=s,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var s=this;xe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,i.A)(function*(){s.jn=null;try{yield s.localStore.collectGarbage(s.garbageCollector)}catch(a){Rn(a)?xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Qn(a)}yield s.Hn(3e5)}))}}class xh{constructor(e,s){this.Jn=e,this.params=s}calculateTargetCount(e,s){return this.Jn.Yn(e).next(a=>Math.floor(s/100*a))}nthSequenceNumber(e,s){if(0===s)return pt.resolve(k.oe);const a=new Jf(s);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,s,a){return this.Jn.removeTargets(e,s,a)}removeOrphanedDocuments(e,s){return this.Jn.removeOrphanedDocuments(e,s)}collect(e,s){return-1===this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(xl)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xl):this.Xn(e,s))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,s){let a,h,y,b,R,L,K;const ue=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(we=>(we>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${we}`),h=this.params.maximumSequenceNumbersToCollect):h=we,b=Date.now(),this.nthSequenceNumber(e,h))).next(we=>(a=we,R=Date.now(),this.removeTargets(e,a,s))).next(we=>(y=we,L=Date.now(),this.removeOrphanedDocuments(e,a))).next(we=>(K=Date.now(),Lt()<=Ce.$b.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ue}ms\n\tDetermined least recently used ${h} in `+(R-b)+`ms\n\tRemoved ${y} targets in `+(L-R)+`ms\n\tRemoved ${we} documents in `+(K-L)+`ms\nTotal Duration: ${K-ue}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:y,documentsRemoved:we})))}}class Zf{constructor(e,s){this.db=e,this.garbageCollector=function os(d,e){return new xh(d,e)}(this,s)}Yn(e){const s=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>s.next(h=>a+h))}er(e){let s=0;return this.Zn(e,a=>{s++}).next(()=>s)}forEachTarget(e,s){return this.db.getTargetCache().forEachTarget(e,s)}Zn(e,s){return this.tr(e,(a,h)=>s(h))}addReference(e,s,a){return Wc(e,a)}removeReference(e,s,a){return Wc(e,a)}removeTargets(e,s,a){return this.db.getTargetCache().removeTargets(e,s,a)}markPotentiallyOrphaned(e,s){return Wc(e,s)}nr(e,s){return function(h,y){let b=!1;return zc(h).Y(R=>Rh(h,R,y).next(L=>(L&&(b=!0),pt.resolve(!L)))).next(()=>b)}(e,s)}removeOrphanedDocuments(e,s){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let y=0;return this.tr(e,(b,R)=>{if(R<=s){const L=this.nr(e,b).next(K=>{if(!K)return y++,a.getEntry(e,b).next(()=>(a.removeEntry(b,qt.min()),Nl(e).delete([0,Qe(b.path)])))});h.push(L)}}).next(()=>pt.waitFor(h)).next(()=>a.apply(e)).next(()=>y)}removeTarget(e,s){const a=s.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,s){return Wc(e,s)}tr(e,s){const a=Nl(e);let h,y=k.oe;return a.J({index:"documentTargetsIndex"},([b,R],{path:L,sequenceNumber:K})=>{0===b?(y!==k.oe&&s(new Bt(St(h)),y),y=K,h=L):y=k.oe}).next(()=>{y!==k.oe&&s(new Bt(St(h)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wc(d,e){return Nl(d).put((h=d.currentSequenceNumber,{targetId:0,path:Qe(e.path),sequenceNumber:h}));var h}class la{constructor(){this.changes=new Mn(e=>e.toString(),(e,s)=>e.isEqual(s)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const a=this.changes.get(s);return void 0!==a?pt.resolve(a):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ph{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,s,a){return No(e).put(a)}removeEntry(e,s,a){return No(e).delete(function(y,b){const R=y.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],Rt(b),R[R.length-1]]}(s,a))}updateMetadata(e,s){return this.getMetadata(e).next(a=>(a.byteSize+=s,this.rr(e,a)))}getEntry(e,s){let a=It.newInvalidDocument(s);return No(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Yo(s))},(h,y)=>{a=this.ir(s,y)}).next(()=>a)}sr(e,s){let a={size:0,document:It.newInvalidDocument(s)};return No(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Yo(s))},(h,y)=>{a={document:this.ir(s,y),size:Pl(y)}}).next(()=>a)}getEntries(e,s){let a=_s();return this._r(e,s,(h,y)=>{const b=this.ir(h,y);a=a.insert(h,b)}).next(()=>a)}ar(e,s){let a=_s(),h=new Yr(Bt.comparator);return this._r(e,s,(y,b)=>{const R=this.ir(y,b);a=a.insert(y,R),h=h.insert(y,Pl(b))}).next(()=>({documents:a,ur:h}))}_r(e,s,a){if(s.isEmpty())return pt.resolve();let h=new xr(Lu);s.forEach(L=>h=h.add(L));const y=IDBKeyRange.bound(Yo(h.first()),Yo(h.last())),b=h.getIterator();let R=b.getNext();return No(e).J({index:"documentKeyIndex",range:y},(L,K,ue)=>{const we=Bt.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;R&&Lu(R,we)<0;)a(R,null),R=b.getNext();R&&R.isEqual(we)&&(a(R,K),R=b.hasNext()?b.getNext():null),R?ue.$(Yo(R)):ue.done()}).next(()=>{for(;R;)a(R,null),R=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,s,a,h,y){const b=s.path,R=[b.popLast().toArray(),b.lastSegment(),Rt(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],L=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return No(e).U(IDBKeyRange.bound(R,L,!0)).next(K=>{y?.incrementDocumentReadCount(K.length);let ue=_s();for(const we of K){const Ze=this.ir(Bt.fromSegments(we.prefixPath.concat(we.collectionGroup,we.documentId)),we);Ze.isFoundDocument()&&(no(s,Ze)||h.has(Ze.key))&&(ue=ue.insert(Ze.key,Ze))}return ue})}getAllFromCollectionGroup(e,s,a,h){let y=_s();const b=Mh(s,a),R=Mh(s,pn.max());return No(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,R,!0)},(L,K,ue)=>{const we=this.ir(Bt.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);y=y.insert(we.key,we),y.size===h&&ue.done()}).next(()=>y)}newChangeBuffer(e){return new Md(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(s=>s.byteSize)}getMetadata(e){return kl(e).get("remoteDocumentGlobalKey").next(s=>(Ut(!!s),s))}rr(e,s){return kl(e).put("remoteDocumentGlobalKey",s)}ir(e,s){if(s){const a=function he(d,e){let s;if(e.document)s=Il(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Bt.fromSegments(e.noDocument.path),h=An(e.noDocument.readTime);s=It.newNoDocument(a,h),e.hasCommittedMutations&&s.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const a=Bt.fromSegments(e.unknownDocument.path),h=An(e.unknownDocument.version);s=It.newUnknownDocument(a,h)}}return e.readTime&&s.setReadTime(function(h){const y=new Qt(h[0],h[1]);return qt.fromTimestamp(y)}(e.readTime)),s}(this.serializer,s);if(!a.isNoDocument()||!a.version.isEqual(qt.min()))return a}return It.newInvalidDocument(e)}}function Pd(d){return new Ph(d)}class Md extends la{constructor(e,s){super(),this.cr=e,this.trackRemovals=s,this.lr=new Mn(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const s=[];let a=0,h=new xr((y,b)=>nn(y.canonicalString(),b.canonicalString()));return this.changes.forEach((y,b)=>{const R=this.lr.get(y);if(s.push(this.cr.removeEntry(e,y,R.readTime)),b.isValidDocument()){const L=Ue(this.cr.serializer,b);h=h.add(y.path.popLast());const K=Pl(L);a+=K-R.size,s.push(this.cr.addEntry(e,y,L))}else if(a-=R.size,this.trackRemovals){const L=Ue(this.cr.serializer,b.convertToNoDocument(qt.min()));s.push(this.cr.addEntry(e,y,L))}}),h.forEach(y=>{s.push(this.cr.indexManager.addToCollectionParentIndex(e,y))}),s.push(this.cr.updateMetadata(e,a)),pt.waitFor(s)}getFromCache(e,s){return this.cr.sr(e,s).next(a=>(this.lr.set(s,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,s){return this.cr.ar(e,s).next(({documents:a,ur:h})=>(h.forEach((y,b)=>{this.lr.set(y,{size:b,readTime:a.get(y).readTime})}),a))}}function kl(d){return $i(d,"remoteDocumentGlobal")}function No(d){return $i(d,"remoteDocumentsV14")}function Yo(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Mh(d,e){const s=e.documentKey.path.toArray();return[d,Rt(e.readTime),s.slice(0,s.length-2),s.length>0?s[s.length-1]:""]}function Lu(d,e){const s=d.path.toArray(),a=e.path.toArray();let h=0;for(let y=0;y<s.length-2&&y<a.length-2;++y)if(h=nn(s[y],a[y]),h)return h;return h=nn(s.length,a.length),h||(h=nn(s[s.length-2],a[a.length-2]),h||nn(s[s.length-1],a[a.length-1]))}class Kc{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}class Oh{constructor(e,s,a,h){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,s){let a=null;return this.documentOverlayCache.getOverlay(e,s).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,s))).next(h=>(null!==a&&ei(a.mutation,h,Zr.empty(),Qt.now()),h))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next(a=>this.getLocalViewOfDocuments(e,a,wr()).next(()=>a))}getLocalViewOfDocuments(e,s,a=wr()){const h=Is();return this.populateOverlays(e,h,s).next(()=>this.computeViews(e,s,h,a).next(y=>{let b=ro();return y.forEach((R,L)=>{b=b.insert(R,L.overlayedDocument)}),b}))}getOverlayedDocuments(e,s){const a=Is();return this.populateOverlays(e,a,s).next(()=>this.computeViews(e,s,a,wr()))}populateOverlays(e,s,a){const h=[];return a.forEach(y=>{s.has(y)||h.push(y)}),this.documentOverlayCache.getOverlays(e,h).next(y=>{y.forEach((b,R)=>{s.set(b,R)})})}computeViews(e,s,a,h){let y=_s();const b=Pa(),R=Pa();return s.forEach((L,K)=>{const ue=a.get(K.key);h.has(K.key)&&(void 0===ue||ue.mutation instanceof Hr)?y=y.insert(K.key,K):void 0!==ue?(b.set(K.key,ue.mutation.getFieldMask()),ei(ue.mutation,K,ue.mutation.getFieldMask(),Qt.now())):b.set(K.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,y).next(L=>(L.forEach((K,ue)=>b.set(K,ue)),s.forEach((K,ue)=>{var we;return R.set(K,new Kc(ue,null!==(we=b.get(K))&&void 0!==we?we:null))}),R))}recalculateAndSaveOverlays(e,s){const a=Pa();let h=new Yr((b,R)=>b-R),y=wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next(b=>{for(const R of b)R.keys().forEach(L=>{const K=s.get(L);if(null===K)return;let ue=a.get(L)||Zr.empty();ue=R.applyToLocalView(K,ue),a.set(L,ue);const we=(h.get(R.batchId)||wr()).add(L);h=h.insert(R.batchId,we)})}).next(()=>{const b=[],R=h.getReverseIterator();for(;R.hasNext();){const L=R.getNext(),K=L.key,ue=L.value,we=xa();ue.forEach(Ze=>{if(!y.has(Ze)){const Mt=Wt(s.get(Ze),a.get(Ze));null!==Mt&&we.set(Ze,Mt),y=y.add(Ze)}}),b.push(this.documentOverlayCache.saveOverlays(e,K,we))}return pt.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,s,a,h){return Bt.isDocumentKey((b=s).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,s.path):pe(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,a,h):this.getDocumentsMatchingCollectionQuery(e,s,a,h);var b}getNextDocuments(e,s,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,a,h).next(y=>{const b=h-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,a.largestBatchId,h-y.size):pt.resolve(Is());let R=-1,L=y;return b.next(K=>pt.forEach(K,(ue,we)=>(R<we.largestBatchId&&(R=we.largestBatchId),y.get(ue)?pt.resolve():this.remoteDocumentCache.getEntry(e,ue).next(Ze=>{L=L.insert(ue,Ze)}))).next(()=>this.populateOverlays(e,K,y)).next(()=>this.computeViews(e,L,K,wr())).next(ue=>({batchId:R,changes:ga(ue)})))})}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new Bt(s)).next(a=>{let h=ro();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,s,a,h){const y=s.collectionGroup;let b=ro();return this.indexManager.getCollectionParents(e,y).next(R=>pt.forEach(R,L=>{const K=(we=s,Ze=L.child(y),new xo(Ze,null,we.explicitOrderBy.slice(),we.filters.slice(),we.limit,we.limitType,we.startAt,we.endAt));var we,Ze;return this.getDocumentsMatchingCollectionQuery(e,K,a,h).next(ue=>{ue.forEach((we,Ze)=>{b=b.insert(we,Ze)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,s,a,h){let y;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,a.largestBatchId).next(b=>(y=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,a,y,h))).next(b=>{y.forEach((L,K)=>{const ue=K.getKey();null===b.get(ue)&&(b=b.insert(ue,It.newInvalidDocument(ue)))});let R=ro();return b.forEach((L,K)=>{const ue=y.get(L);void 0!==ue&&ei(ue.mutation,K,Zr.empty(),Qt.now()),no(s,K)&&(R=R.insert(L,K))}),R})}}class _g{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,s){return pt.resolve(this.hr.get(s))}saveBundleMetadata(e,s){return this.hr.set(s.id,{id:(h=s).id,version:h.version,createTime:Ki(h.createTime)}),pt.resolve();var h}getNamedQuery(e,s){return pt.resolve(this.Pr.get(s))}saveNamedQuery(e,s){return this.Pr.set(s.name,{name:(h=s).name,query:yi(h.bundledQuery),readTime:Ki(h.readTime)}),pt.resolve();var h}}class yg{constructor(){this.overlays=new Yr(Bt.comparator),this.Ir=new Map}getOverlay(e,s){return pt.resolve(this.overlays.get(s))}getOverlays(e,s){const a=Is();return pt.forEach(s,h=>this.getOverlay(e,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(e,s,a){return a.forEach((h,y)=>{this.ht(e,s,y)}),pt.resolve()}removeOverlaysForBatchId(e,s,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(y=>this.overlays=this.overlays.remove(y)),this.Ir.delete(a)),pt.resolve()}getOverlaysForCollection(e,s,a){const h=Is(),y=s.length+1,b=new Bt(s.child("")),R=this.overlays.getIteratorFrom(b);for(;R.hasNext();){const L=R.getNext().value,K=L.getKey();if(!s.isPrefixOf(K.path))break;K.path.length===y&&L.largestBatchId>a&&h.set(L.getKey(),L)}return pt.resolve(h)}getOverlaysForCollectionGroup(e,s,a,h){let y=new Yr((K,ue)=>K-ue);const b=this.overlays.getIterator();for(;b.hasNext();){const K=b.getNext().value;if(K.getKey().getCollectionGroup()===s&&K.largestBatchId>a){let ue=y.get(K.largestBatchId);null===ue&&(ue=Is(),y=y.insert(K.largestBatchId,ue)),ue.set(K.getKey(),K)}}const R=Is(),L=y.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((K,ue)=>R.set(K,ue)),!(R.size()>=h)););return pt.resolve(R)}ht(e,s,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new Ts(s,a));let y=this.Ir.get(s);void 0===y&&(y=wr(),this.Ir.set(s,y)),this.Ir.set(s,y.add(a.key))}}class ep{constructor(){this.sessionToken=Di.EMPTY_BYTE_STRING}getSessionToken(e){return pt.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,pt.resolve()}}class tp{constructor(){this.Tr=new xr(ks.Er),this.dr=new xr(ks.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,s){const a=new ks(e,s);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,s){e.forEach(a=>this.addReference(a,s))}removeReference(e,s){this.Vr(new ks(e,s))}mr(e,s){e.forEach(a=>this.removeReference(a,s))}gr(e){const s=new Bt(new Zt([])),a=new ks(s,e),h=new ks(s,e+1),y=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),y.push(b.key)}),y}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const s=new Bt(new Zt([])),a=new ks(s,e),h=new ks(s,e+1);let y=wr();return this.dr.forEachInRange([a,h],b=>{y=y.add(b.key)}),y}containsKey(e){const s=new ks(e,0),a=this.Tr.firstAfterOrEqual(s);return null!==a&&e.isEqual(a.key)}}class ks{constructor(e,s){this.key=e,this.wr=s}static Er(e,s){return Bt.comparator(e.key,s.key)||nn(e.wr,s.wr)}static Ar(e,s){return nn(e.wr,s.wr)||Bt.comparator(e.key,s.key)}}class $m{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.Sr=1,this.br=new xr(ks.Er)}checkEmpty(e){return pt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,s,a,h){const y=this.Sr;this.Sr++;const b=new Bs(y,s,a,h);this.mutationQueue.push(b);for(const R of h)this.br=this.br.add(new ks(R.key,y)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return pt.resolve(b)}lookupMutationBatch(e,s){return pt.resolve(this.Dr(s))}getNextMutationBatchAfterBatchId(e,s){const h=this.vr(s+1),y=h<0?0:h;return pt.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const a=new ks(s,0),h=new ks(s,Number.POSITIVE_INFINITY),y=[];return this.br.forEachInRange([a,h],b=>{const R=this.Dr(b.wr);y.push(R)}),pt.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,s){let a=new xr(nn);return s.forEach(h=>{const y=new ks(h,0),b=new ks(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([y,b],R=>{a=a.add(R.wr)})}),pt.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,s){const a=s.path,h=a.length+1;let y=a;Bt.isDocumentKey(y)||(y=y.child(""));const b=new ks(new Bt(y),0);let R=new xr(nn);return this.br.forEachWhile(L=>{const K=L.key.path;return!!a.isPrefixOf(K)&&(K.length===h&&(R=R.add(L.wr)),!0)},b),pt.resolve(this.Cr(R))}Cr(e){const s=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&s.push(h)}),s}removeMutationBatch(e,s){Ut(0===this.Fr(s.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return pt.forEach(s.mutations,h=>{const y=new ks(h.key,s.batchId);return a=a.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,s){const a=new ks(s,0),h=this.br.firstAfterOrEqual(a);return pt.resolve(s.isEqual(h&&h.key))}performConsistencyCheck(e){return pt.resolve()}Fr(e,s){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const s=this.vr(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class Bm{constructor(e){this.Mr=e,this.docs=new Yr(Bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const a=s.key,h=this.docs.get(a),y=h?h.size:0,b=this.Mr(s);return this.docs=this.docs.insert(a,{document:s.mutableCopy(),size:b}),this.size+=b-y,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const a=this.docs.get(s);return pt.resolve(a?a.document.mutableCopy():It.newInvalidDocument(s))}getEntries(e,s){let a=_s();return s.forEach(h=>{const y=this.docs.get(h);a=a.insert(h,y?y.document.mutableCopy():It.newInvalidDocument(h))}),pt.resolve(a)}getDocumentsMatchingQuery(e,s,a,h){let y=_s();const b=s.path,R=new Bt(b.child("")),L=this.docs.getIteratorFrom(R);for(;L.hasNext();){const{key:K,value:{document:ue}}=L.getNext();if(!b.isPrefixOf(K.path))break;K.path.length>b.length+1||qr(Qi(ue),a)<=0||(h.has(ue.key)||no(s,ue))&&(y=y.insert(ue.key,ue.mutableCopy()))}return pt.resolve(y)}getAllFromCollectionGroup(e,s,a,h){it()}Or(e,s){return pt.forEach(this.docs,a=>s(a))}newChangeBuffer(e){return new qc(this)}getSize(e){return pt.resolve(this.size)}}class qc extends la{constructor(e){super(),this.cr=e}applyChanges(e){const s=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?s.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),pt.waitFor(s)}getFromCache(e,s){return this.cr.getEntry(e,s)}getAllFromCache(e,s){return this.cr.getEntries(e,s)}}class vg{constructor(e){this.persistence=e,this.Nr=new Mn(s=>Ns(s),co),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tp,this.targetCount=0,this.kr=Ml.Bn()}forEachTarget(e,s){return this.Nr.forEach((a,h)=>s(h)),pt.resolve()}getLastRemoteSnapshotVersion(e){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(e,s,a){return a&&(this.lastRemoteSnapshotVersion=a),s>this.Lr&&(this.Lr=s),pt.resolve()}Kn(e){this.Nr.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.kr=new Ml(s),this.highestTargetId=s),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,s){return this.Kn(s),this.targetCount+=1,pt.resolve()}updateTargetData(e,s){return this.Kn(s),pt.resolve()}removeTargetData(e,s){return this.Nr.delete(s.target),this.Br.gr(s.targetId),this.targetCount-=1,pt.resolve()}removeTargets(e,s,a){let h=0;const y=[];return this.Nr.forEach((b,R)=>{R.sequenceNumber<=s&&null===a.get(R.targetId)&&(this.Nr.delete(b),y.push(this.removeMatchingKeysForTargetId(e,R.targetId)),h++)}),pt.waitFor(y).next(()=>h)}getTargetCount(e){return pt.resolve(this.targetCount)}getTargetData(e,s){const a=this.Nr.get(s)||null;return pt.resolve(a)}addMatchingKeys(e,s,a){return this.Br.Rr(s,a),pt.resolve()}removeMatchingKeys(e,s,a){this.Br.mr(s,a);const h=this.persistence.referenceDelegate,y=[];return h&&s.forEach(b=>{y.push(h.markPotentiallyOrphaned(e,b))}),pt.waitFor(y)}removeMatchingKeysForTargetId(e,s){return this.Br.gr(s),pt.resolve()}getMatchingKeysForTargetId(e,s){const a=this.Br.yr(s);return pt.resolve(a)}containsKey(e,s){return pt.resolve(this.Br.containsKey(s))}}class ja{constructor(e,s){this.qr={},this.overlays={},this.Qr=new k(0),this.Kr=!1,this.Kr=!0,this.$r=new ep,this.referenceDelegate=e(this),this.Ur=new vg(this),this.indexManager=new Rl,this.remoteDocumentCache=new Bm(a=>this.referenceDelegate.Wr(a)),this.serializer=new G(s),this.Gr=new _g(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new yg,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let a=this.qr[e.toKey()];return a||(a=new $m(s,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,s,a){xe("MemoryPersistence","Starting transaction:",e);const h=new eo(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(y=>this.referenceDelegate.jr(h).next(()=>y)).toPromise().then(y=>(h.raiseOnCommittedEvent(),y))}Hr(e,s){return pt.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,s)))}}class eo extends vr{constructor(e){super(),this.currentSequenceNumber=e}}class Vu{constructor(e){this.persistence=e,this.Jr=new tp,this.Yr=null}static Zr(e){return new Vu(e)}get Xr(){if(this.Yr)return this.Yr;throw it()}addReference(e,s,a){return this.Jr.addReference(a,s),this.Xr.delete(a.toString()),pt.resolve()}removeReference(e,s,a){return this.Jr.removeReference(a,s),this.Xr.add(a.toString()),pt.resolve()}markPotentiallyOrphaned(e,s){return this.Xr.add(s.toString()),pt.resolve()}removeTarget(e,s){this.Jr.gr(s.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,s.targetId).next(h=>{h.forEach(y=>this.Xr.add(y.toString()))}).next(()=>a.removeTargetData(e,s))}zr(){this.Yr=new Set}jr(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.Xr,a=>{const h=Bt.fromPath(a);return this.ei(e,h).next(y=>{y||s.removeEntry(h,qt.min())})}).next(()=>(this.Yr=null,s.apply(e)))}updateLimboDocument(e,s){return this.ei(e,s).next(a=>{a?this.Xr.delete(s.toString()):this.Xr.add(s.toString())})}Wr(e){return 0}ei(e,s){return pt.or([()=>pt.resolve(this.Jr.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Hr(e,s)])}}class Nh{constructor(e){this.serializer=e}O(e,s,a,h){const y=new Et("createOrUpgrade",s);var L;a<1&&h>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dn,{unique:!0}),L.createObjectStore("documentMutations"),Xo(e),function(L){L.createObjectStore("remoteDocuments")}(e));let b=pt.resolve();return a<3&&h>=3&&(0!==a&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),Xo(e)),b=b.next(()=>function(L){const K=L.store("targetGlobal"),ue={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:qt.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ue)}(y))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(L,K){return K.store("mutations").U().next(ue=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dn,{unique:!0});const we=K.store("mutations"),Ze=ue.map(Mt=>we.put(Mt));return pt.waitFor(Ze)})}(e,y))),b=b.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(y))),a<6&&h>=6&&(b=b.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.ri(y)))),a<7&&h>=7&&(b=b.next(()=>this.ii(y))),a<8&&h>=8&&(b=b.next(()=>this.si(e,y))),a<9&&h>=9&&(b=b.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(y))),a<11&&h>=11&&(b=b.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(L){const K=L.createObjectStore("documentOverlays",{keyPath:Kn});K.createIndex("collectionPathOverlayIndex",_n,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Fn,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(L){const K=L.createObjectStore("remoteDocumentsV14",{keyPath:Gt});K.createIndex("documentKeyIndex",rn),K.createIndex("collectionGroupIndex",En)}(e)).next(()=>this._i(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,y))),a<15&&h>=15&&(b=b.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:Dt}).createIndex("sequenceNumberIndex",ct,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:Vt}).createIndex("documentKeyIndex",fn,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{s.objectStore("indexState").clear()}).next(()=>{s.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(L){L.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let s=0;return e.store("remoteDocuments").J((a,h)=>{s+=Pl(h)}).next(()=>{const a={byteSize:s};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const s=e.store("mutationQueues"),a=e.store("mutations");return s.U().next(h=>pt.forEach(h,y=>{const b=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(R=>pt.forEach(R,L=>{Ut(L.userId===y.userId);const K=Tr(this.serializer,L);return Dh(e,y.userId,K).next(()=>{})}))}))}ii(e){const s=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const y=[];return a.J((b,R)=>{const L=new Zt(b),K=[0,Qe(L)];y.push(s.get(K).next(ue=>ue?pt.resolve():s.put({targetId:0,path:Qe(L),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>pt.waitFor(y))})}si(e,s){e.createObjectStore("collectionParents",{keyPath:Ii});const a=s.store("collectionParents"),h=new cc,y=b=>{if(h.add(b)){const R=b.lastSegment(),L=b.popLast();return a.put({collectionId:R,parent:Qe(L)})}};return s.store("remoteDocuments").J({H:!0},(b,R)=>{const L=new Zt(b);return y(L.popLast())}).next(()=>s.store("documentMutations").J({H:!0},([b,R,L],K)=>{const ue=St(R);return y(ue.popLast())}))}oi(e){const s=e.store("targets");return s.J((a,h)=>{const y=Dr(h),b=Br(this.serializer,y);return s.put(b)})}_i(e,s){const a=s.store("remoteDocuments"),h=[];return a.J((y,b)=>{const R=s.store("remoteDocumentsV14"),L=(we=b,we.document?new Bt(Zt.fromString(we.document.name).popFirst(5)):we.noDocument?Bt.fromSegments(we.noDocument.path):we.unknownDocument?Bt.fromSegments(we.unknownDocument.path):it()).path.toArray(),K={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var we;h.push(R.put(K))}).next(()=>pt.waitFor(h))}ai(e,s){const a=s.store("mutations"),h=Pd(this.serializer),y=new ja(Vu.Zr,this.serializer.ct);return a.U().next(b=>{const R=new Map;return b.forEach(L=>{var K;let ue=null!==(K=R.get(L.userId))&&void 0!==K?K:wr();Tr(this.serializer,L).keys().forEach(we=>ue=ue.add(we)),R.set(L.userId,ue)}),pt.forEach(R,(L,K)=>{const ue=new dt(K),we=el.lt(this.serializer,ue),Ze=y.getIndexManager(ue),Mt=uc.lt(ue,this.serializer,Ze,y.referenceDelegate);return new Oh(h,Mt,we,Ze).recalculateAndSaveOverlaysForDocumentKeys(new mo(s,k.oe),L).next()})})}}function Xo(d){d.createObjectStore("targetDocuments",{keyPath:lr}).createIndex("documentTargetsIndex",gn,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hn,{unique:!0}),d.createObjectStore("targetGlobal")}const Vl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Od{constructor(e,s,a,h,y,b,R,L,K,ue,we=17){if(this.allowTabSynchronization=e,this.persistenceKey=s,this.clientId=a,this.ui=y,this.window=b,this.document=R,this.ci=K,this.li=ue,this.hi=we,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Ze=>Promise.resolve(),!Od.D())throw new lt(Ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zf(this,h),this.Ai=s+"main",this.serializer=new G(L),this.Ri=new de(this.Ai,this.hi,new Nh(this.serializer)),this.$r=new Sd,this.Ur=new Qf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Pd(this.serializer),this.Gr=new Sl,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ue&&tn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new lt(Ve.FAILED_PRECONDITION,Vl);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new k(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var s=this;return this.di=function(){var a=(0,i.A)(function*(h){if(s.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var s=(0,i.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return s.apply(this,arguments)}}())}setNetworkEnabled(e){var s=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,i.A)(function*(){s.started&&(yield s.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(s=>{s||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(s=>this.isPrimary&&!s?this.bi(e).next(()=>!1):!!s&&this.Di(e).next(()=>!0))).catch(e=>{if(Rn(e))return xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Ul(e).get("owner").next(s=>pt.resolve(this.vi(s)))}Ci(e){return jl(e).delete(this.clientId)}Fi(){var e=this;return(0,i.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const s=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=$i(a,"clientMetadata");return h.U().next(y=>{const b=e.xi(y,18e5),R=y.filter(L=>-1===b.indexOf(L));return pt.forEach(R,L=>h.delete(L.clientId)).next(()=>R)})}).catch(()=>[]);if(e.Vi)for(const a of s)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?pt.resolve(!0):Ul(e).get("owner").next(s=>{if(null!==s&&this.Mi(s.leaseTimestampMs,5e3)&&!this.Ni(s.ownerId)){if(this.vi(s)&&this.networkEnabled)return!0;if(!this.vi(s)){if(!s.allowTabSynchronization)throw new lt(Ve.FAILED_PRECONDITION,Vl);return!1}}return!(!this.networkEnabled||!this.inForeground)||jl(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(s=>(this.isPrimary!==s&&xe("IndexedDbPersistence",`Client ${s?"is":"is not"} eligible for a primary lease.`),s))}shutdown(){var e=this;return(0,i.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],s=>{const a=new mo(s,k.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,s){return e.filter(a=>this.Mi(a.updateTimeMs,s)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>jl(e).U().next(s=>this.xi(s,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,s){return uc.lt(e,this.serializer,s,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mg(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return el.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,s,a){xe("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===s?"readonly":"readwrite",y=17===(L=this.hi)?qs:16===L?ki:15===L?cs:14===L?Fi:13===L?er:12===L?$r:11===L?gr:void it();var L;let b;return this.Ri.runTransaction(e,h,y,R=>(b=new mo(R,this.Qr?this.Qr.next():k.oe),"readwrite-primary"===s?this.wi(b).next(L=>!!L||this.Si(b)).next(L=>{if(!L)throw tn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new lt(Ve.FAILED_PRECONDITION,nr);return a(b)}).next(L=>this.Di(b).next(()=>L)):this.Ki(b).next(()=>a(b)))).then(R=>(b.raiseOnCommittedEvent(),R))}Ki(e){return Ul(e).get("owner").next(s=>{if(null!==s&&this.Mi(s.leaseTimestampMs,5e3)&&!this.Ni(s.ownerId)&&!this.vi(s)&&!(this.li||this.allowTabSynchronization&&s.allowTabSynchronization))throw new lt(Ve.FAILED_PRECONDITION,Vl)})}Di(e){const s={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ul(e).put("owner",s)}static D(){return de.D()}bi(e){const s=Ul(e);return s.get("owner").next(a=>this.vi(a)?(xe("IndexedDbPersistence","Releasing primary lease."),s.delete("owner")):pt.resolve())}Mi(e,s){const a=Date.now();return!(e<a-s||e>a&&(tn(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const s=/(?:Version|Mobile)\/1[456]/;(0,oe.nr)()&&(navigator.appVersion.match(s)||navigator.userAgent.match(s))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var s;try{const a=null!==(null===(s=this.Vi)||void 0===s?void 0:s.getItem(this.Oi(e)));return xe("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return tn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){tn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ul(d){return $i(d,"owner")}function jl(d){return $i(d,"clientMetadata")}function Nd(d,e){let s=d.projectId;return d.isDefaultDatabase||(s+="."+d.database),"firestore/"+e+"/"+s+"/"}class np{constructor(e,s,a,h){this.targetId=e,this.fromCache=s,this.$i=a,this.Ui=h}static Wi(e,s){let a=wr(),h=wr();for(const y of s.docChanges)switch(y.type){case 0:a=a.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}return new np(e,s.fromCache,a,h)}}class Eg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bg{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,oe.nr)()?8:ze((0,oe.ZQ)())>0?6:4}initialize(e,s){this.Ji=e,this.indexManager=s,this.Gi=!0}getDocumentsMatchingQuery(e,s,a,h){const y={result:null};return this.Yi(e,s).next(b=>{y.result=b}).next(()=>{if(!y.result)return this.Zi(e,s,h,a).next(b=>{y.result=b})}).next(()=>{if(y.result)return;const b=new Eg;return this.Xi(e,s,b).next(R=>{if(y.result=R,this.zi)return this.es(e,s,b,R.size)})}).next(()=>y.result)}es(e,s,a,h){return a.documentReadCount<this.ji?(Lt()<=Ce.$b.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Mi(s),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pt.resolve()):(Lt()<=Ce.$b.DEBUG&&xe("QueryEngine","Query:",Mi(s),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?(Lt()<=Ce.$b.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Mi(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(s))):pt.resolve())}Yi(e,s){if(U(s))return pt.resolve(null);let a=vn(s);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==s.limit&&1===h&&(s=es(s,null,"F"),a=vn(s)),this.indexManager.getDocumentsMatchingTarget(e,a).next(y=>{const b=wr(...y);return this.Ji.getDocuments(e,b).next(R=>this.indexManager.getMinOffset(e,a).next(L=>{const K=this.ts(s,R);return this.ns(s,K,b,L.readTime)?this.Yi(e,es(s,null,"F")):this.rs(e,K,s,L)}))})))}Zi(e,s,a,h){return U(s)||h.isEqual(qt.min())?pt.resolve(null):this.Ji.getDocuments(e,a).next(y=>{const b=this.ts(s,y);return this.ns(s,b,a,h)?pt.resolve(null):(Lt()<=Ce.$b.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Mi(s)),this.rs(e,b,s,Kr(h,-1)).next(R=>R))})}ts(e,s){let a=new xr(Oi(e));return s.forEach((h,y)=>{no(e,y)&&(a=a.add(y))}),a}ns(e,s,a,h){if(null===e.limit)return!1;if(a.size!==s.size)return!0;const y="F"===e.limitType?s.last():s.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(h)>0)}Xi(e,s,a){return Lt()<=Ce.$b.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Mi(s)),this.Ji.getDocumentsMatchingQuery(e,s,pn.min(),a)}rs(e,s,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(y=>(s.forEach(b=>{y=y.insert(b.key,b)}),y))}}class Io{constructor(e,s,a,h){this.persistence=e,this.ss=s,this.serializer=h,this.os=new Yr(nn),this._s=new Mn(y=>Ns(y),co),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Oh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>e.collect(s,this.os))}}function Fd(d,e,s,a){return new Io(d,e,s,a)}function ca(d,e){return kd.apply(this,arguments)}function kd(){return(kd=(0,i.A)(function*(d,e){const s=mt(d);return yield s.persistence.runTransaction("Handle user change","readonly",a=>{let h;return s.mutationQueue.getAllMutationBatches(a).next(y=>(h=y,s.ls(e),s.mutationQueue.getAllMutationBatches(a))).next(y=>{const b=[],R=[];let L=wr();for(const K of h){b.push(K.batchId);for(const ue of K.mutations)L=L.add(ue.key)}for(const K of y){R.push(K.batchId);for(const ue of K.mutations)L=L.add(ue.key)}return s.localDocuments.getDocuments(a,L).next(K=>({hs:K,removedBatchIds:b,addedBatchIds:R}))})})})).apply(this,arguments)}function Uu(d){const e=mt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",s=>e.Ur.getLastRemoteSnapshotVersion(s))}function $u(d,e,s){let a=wr(),h=wr();return s.forEach(y=>a=a.add(y)),e.getEntries(d,a).next(y=>{let b=_s();return s.forEach((R,L)=>{const K=y.get(R);L.isFoundDocument()!==K.isFoundDocument()&&(h=h.add(R)),L.isNoDocument()&&L.version.isEqual(qt.min())?(e.removeEntry(R,L.readTime),b=b.insert(R,L)):!K.isValidDocument()||L.version.compareTo(K.version)>0||0===L.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(L),b=b.insert(R,L)):xe("LocalStore","Ignoring outdated watch update for ",R,". Current version:",K.version," Watch version:",L.version)}),{Ps:b,Is:h}})}function rp(d,e){const s=mt(d);return s.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function $l(d,e){const s=mt(d);return s.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return s.Ur.getTargetData(a,e).next(y=>y?(h=y,pt.resolve(h)):s.Ur.allocateTargetId(a).next(b=>(h=new F(e,b,"TargetPurposeListen",a.currentSequenceNumber),s.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=s.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(s.os=s.os.insert(a.targetId,a),s._s.set(e,a.targetId)),a})}function Yc(d,e,s){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,i.A)(function*(d,e,s){const a=mt(d),h=a.os.get(e),y=s?"readwrite":"readwrite-primary";try{s||(yield a.persistence.runTransaction("Release target",y,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!Rn(b))throw b;xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function il(d,e,s){const a=mt(d);let h=qt.min(),y=wr();return a.persistence.runTransaction("Execute query","readwrite",b=>function(L,K,ue){const we=mt(L),Ze=we._s.get(ue);return void 0!==Ze?pt.resolve(we.os.get(Ze)):we.Ur.getTargetData(K,ue)}(a,b,vn(e)).next(R=>{if(R)return h=R.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,R.targetId).next(L=>{y=L})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,s?h:qt.min(),s?y:wr())).next(R=>(Lh(a,Lc(e),R),{documents:R,Ts:y})))}function kh(d,e){const s=mt(d),a=mt(s.Ur),h=s.os.get(e);return h?Promise.resolve(h.target):s.persistence.runTransaction("Get target data","readonly",y=>a.ot(y,e).next(b=>b?b.target:null))}function Bl(d,e){const s=mt(d),a=s.us.get(e)||qt.min();return s.persistence.runTransaction("Get new document changes","readonly",h=>s.cs.getAllFromCollectionGroup(h,e,Kr(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Lh(s,e,h),h))}function Lh(d,e,s){let a=d.us.get(e)||qt.min();s.forEach((h,y)=>{y.readTime.compareTo(a)>0&&(a=y.readTime)}),d.us.set(e,a)}function Vh(){return(Vh=(0,i.A)(function*(d,e,s,a){const h=mt(d);let y=wr(),b=_s();for(const K of s){const ue=e.Es(K.metadata.name);K.document&&(y=y.add(ue));const we=e.ds(K);we.setReadTime(e.As(K.metadata.readTime)),b=b.insert(ue,we)}const R=h.cs.newChangeBuffer({trackRemovals:!0}),L=yield $l(h,(ue=a,vn(ee(Zt.fromString(`__bundle__/docs/${ue}`)))));var ue;return h.persistence.runTransaction("Apply bundle documents","readwrite",K=>$u(K,R,b).next(ue=>(R.apply(K),ue)).next(ue=>h.Ur.removeMatchingKeysForTargetId(K,L.targetId).next(()=>h.Ur.addMatchingKeys(K,y,L.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(K,ue.Ps,ue.Is)).next(()=>ue.Ps)))})).apply(this,arguments)}function ip(d,e){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,i.A)(function*(d,e,s=wr()){const a=yield $l(d,vn(yi(e.bundledQuery))),h=mt(d);return h.persistence.runTransaction("Save named query","readwrite",y=>{const b=Ki(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(y,e);const R=a.withResumeToken(Di.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(R.targetId,R),h.Ur.updateTargetData(y,R).next(()=>h.Ur.removeMatchingKeysForTargetId(y,a.targetId)).next(()=>h.Ur.addMatchingKeys(y,s,a.targetId)).next(()=>h.Gr.saveNamedQuery(y,e))})})).apply(this,arguments)}function Hu(d,e){return`firestore_clients_${d}_${e}`}function Uh(d,e,s){let a=`firestore_mutations_${d}_${s}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Vd(d,e){return`firestore_targets_${d}_${e}`}class sl{constructor(e,s,a,h){this.user=e,this.batchId=s,this.state=a,this.error=h}static Rs(e,s,a){const h=JSON.parse(a);let y,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(y=new lt(h.error.code,h.error.message))),b?new sl(e,s,h.state,y):(tn("SharedClientState",`Failed to parse mutation state for ID '${s}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ol{constructor(e,s,a){this.targetId=e,this.state=s,this.error=a}static Rs(e,s){const a=JSON.parse(s);let h,y="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return y&&a.error&&(y="string"==typeof a.error.message&&"string"==typeof a.error.code,y&&(h=new lt(a.error.code,a.error.message))),y?new ol(e,a.state,h):(tn("SharedClientState",`Failed to parse target state for ID '${e}': ${s}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gl{constructor(e,s){this.clientId=e,this.activeTargetIds=s}static Rs(e,s){const a=JSON.parse(s);let h="object"==typeof a&&a.activeTargetIds instanceof Array,y=Eo();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=ce(a.activeTargetIds[b]),y=y.add(a.activeTargetIds[b]);return h?new Gl(e,y):(tn("SharedClientState",`Failed to parse client data for instance '${e}': ${s}`),null)}}class I{constructor(e,s){this.clientId=e,this.onlineState=s}static Rs(e){const s=JSON.parse(e);return"object"==typeof s&&-1!==["Unknown","Online","Offline"].indexOf(s.onlineState)&&"string"==typeof s.clientId?new I(s.clientId,s.onlineState):(tn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class m{constructor(){this.activeTargetIds=Eo()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,s,a,h,y){this.window=e,this.ui=s,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Yr(nn),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Ds=Hu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new m),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,i.A)(function*(){const s=yield e.syncEngine.Qi();for(const h of s){if(h===e.ps)continue;const y=e.getItem(Hu(e.persistenceKey,h));if(y){const b=Gl.Rs(h,y);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let s=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(s=!0)}),s}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,s,a){this.qs(e,s,a),this.Qs(e)}addLocalQueryTarget(e,s=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(Vd(this.persistenceKey,e));if(h){const y=ol.Rs(e,h);y&&(a=y.state)}}return s&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vd(this.persistenceKey,e))}updateQueryState(e,s,a){this.$s(e,s,a)}handleUserChange(e,s,a){s.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const s=this.storage.getItem(e);return xe("SharedClientState","READ",e,s),s}setItem(e,s){xe("SharedClientState","SET",e,s),this.storage.setItem(e,s)}removeItem(e){xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var s=this;const a=e;if(a.storageArea===this.storage){if(xe("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void tn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,i.A)(function*(){if(s.started){if(null!==a.key)if(s.Cs.test(a.key)){if(null==a.newValue){const h=s.Gs(a.key);return s.zs(h,null)}{const h=s.js(a.key,a.newValue);if(h)return s.zs(h.clientId,h)}}else if(s.Fs.test(a.key)){if(null!==a.newValue){const h=s.Hs(a.key,a.newValue);if(h)return s.Js(h)}}else if(s.Ms.test(a.key)){if(null!==a.newValue){const h=s.Ys(a.key,a.newValue);if(h)return s.Zs(h)}}else if(a.key===s.xs){if(null!==a.newValue){const h=s.Ls(a.newValue);if(h)return s.Bs(h)}}else if(a.key===s.vs){const h=function(b){let R=k.oe;if(null!=b)try{const L=JSON.parse(b);Ut("number"==typeof L),R=L}catch(L){tn("SharedClientState","Failed to read sequence number from WebStorage",L)}return R}(a.newValue);h!==k.oe&&s.sequenceNumberHandler(h)}else if(a.key===s.Os){const h=s.Xs(a.newValue);yield Promise.all(h.map(y=>s.syncEngine.eo(y)))}}else s.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,s,a){const h=new sl(this.currentUser,e,s,a),y=Uh(this.persistenceKey,this.currentUser,e);this.setItem(y,h.Vs())}Qs(e){const s=Uh(this.persistenceKey,this.currentUser,e);this.removeItem(s)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,s,a){const h=Vd(this.persistenceKey,e),y=new ol(e,s,a);this.setItem(h,y.Vs())}Ws(e){const s=JSON.stringify(Array.from(e));this.setItem(this.Os,s)}Gs(e){const s=this.Cs.exec(e);return s?s[1]:null}js(e,s){const a=this.Gs(e);return Gl.Rs(a,s)}Hs(e,s){const a=this.Fs.exec(e),h=Number(a[1]);return sl.Rs(new dt(void 0!==a[2]?a[2]:null),h,s)}Ys(e,s){const a=this.Ms.exec(e),h=Number(a[1]);return ol.Rs(h,s)}Ls(e){return I.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var s=this;return(0,i.A)(function*(){if(e.user.uid===s.currentUser.uid)return s.syncEngine.no(e.batchId,e.state,e.error);xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,s){const a=s?this.Ss.insert(e,s):this.Ss.remove(e),h=this.ks(this.Ss),y=this.ks(a),b=[],R=[];return y.forEach(L=>{h.has(L)||b.push(L)}),h.forEach(L=>{y.has(L)||R.push(L)}),this.syncEngine.io(b,R).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let s=Eo();return e.forEach((a,h)=>{s=s.unionWith(h.activeTargetIds)}),s}}class D{constructor(){this.so=new m,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,a){}addLocalQueryTarget(e,s=!0){return s&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,s,a){this.oo[e]=s}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m,Promise.resolve()}handleUserChange(e,s,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X{_o(e){}shutdown(){}}class ge{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rt=null;function kt(){return null===rt?rt=268435456+Math.round(2147483648*Math.random()):rt++,"0x"+rt.toString(16)}const Jt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const $n="WebChannelConnection";class si extends class{constructor(s){this.databaseInfo=s,this.databaseId=s.databaseId;const a=s.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+s.host,this.vo=`projects/${h}/databases/${y}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${y}`}get Fo(){return!1}Mo(s,a,h,y,b){const R=kt(),L=this.xo(s,a.toUriEncodedString());xe("RestConnection",`Sending RPC '${s}' ${R}:`,L,h);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,y,b),this.No(s,L,K,h).then(ue=>(xe("RestConnection",`Received RPC '${s}' ${R}: `,ue),ue),ue=>{throw un("RestConnection",`RPC '${s}' ${R} failed with error: `,ue,"url: ",L,"request:",h),ue})}Lo(s,a,h,y,b,R){return this.Mo(s,a,h,y,b)}Oo(s,a,h){s["X-Goog-Api-Client"]="gl-js/ fire/"+ot,s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((y,b)=>s[b]=y),h&&h.headers.forEach((y,b)=>s[b]=y)}xo(s,a){return`${this.Do}/v1/${a}:${Jt[s]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,s,a,h){const y=kt();return new Promise((b,R)=>{const L=new me;L.setWithCredentials(!0),L.listenOnce(Je.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case qe.NO_ERROR:const ue=L.getResponseJson();xe($n,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(ue)),b(ue);break;case qe.TIMEOUT:xe($n,`RPC '${e}' ${y} timed out`),R(new lt(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case qe.HTTP_ERROR:const we=L.getStatus();if(xe($n,`RPC '${e}' ${y} failed with status:`,we,"response text:",L.getResponseText()),we>0){let Ze=L.getResponseJson();Array.isArray(Ze)&&(Ze=Ze[0]);const Mt=Ze?.error;if(Mt&&Mt.status&&Mt.message){const Xt=function(cn){const Zn=cn.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(Zn)>=0?Zn:Ve.UNKNOWN}(Mt.status);R(new lt(Xt,Mt.message))}else R(new lt(Ve.UNKNOWN,"Server responded with status "+L.getStatus()))}else R(new lt(Ve.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{xe($n,`RPC '${e}' ${y} completed.`)}});const K=JSON.stringify(h);xe($n,`RPC '${e}' ${y} sending request:`,h),L.send(s,"POST",K,a,15)})}Bo(e,s,a){const h=kt(),y=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Re(),R=Nt(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(L.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(L.useFetchStreams=!0),this.Oo(L.initMessageHeaders,s,a),L.encodeInitMessageHeaders=!0;const ue=y.join("");xe($n,`Creating RPC '${e}' stream ${h}: ${ue}`,L);const we=b.createWebChannel(ue,L);let Ze=!1,Mt=!1;const Xt=new Vn({Io:cn=>{Mt?xe($n,`Not sending because RPC '${e}' stream ${h} is closed:`,cn):(Ze||(xe($n,`Opening RPC '${e}' stream ${h} transport.`),we.open(),Ze=!0),xe($n,`RPC '${e}' stream ${h} sending:`,cn),we.send(cn))},To:()=>we.close()}),mn=(cn,Zn,pr)=>{cn.listen(Zn,sr=>{try{pr(sr)}catch(Nr){setTimeout(()=>{throw Nr},0)}})};return mn(we,Be.EventType.OPEN,()=>{Mt||(xe($n,`RPC '${e}' stream ${h} transport opened.`),Xt.yo())}),mn(we,Be.EventType.CLOSE,()=>{Mt||(Mt=!0,xe($n,`RPC '${e}' stream ${h} transport closed`),Xt.So())}),mn(we,Be.EventType.ERROR,cn=>{Mt||(Mt=!0,un($n,`RPC '${e}' stream ${h} transport errored:`,cn),Xt.So(new lt(Ve.UNAVAILABLE,"The operation could not be completed")))}),mn(we,Be.EventType.MESSAGE,cn=>{var Zn;if(!Mt){const pr=cn.data[0];Ut(!!pr);const Nr=pr.error||(null===(Zn=pr[0])||void 0===Zn?void 0:Zn.error);if(Nr){xe($n,`RPC '${e}' stream ${h} received error:`,Nr);const Pi=Nr.status;let ai=function(st){const vt=Ar[st];if(void 0!==vt)return io(vt)}(Pi),yt=Nr.message;void 0===ai&&(ai=Ve.INTERNAL,yt="Unknown error status: "+Pi+" with message "+Nr.message),Mt=!0,Xt.So(new lt(ai,yt)),we.close()}else xe($n,`RPC '${e}' stream ${h} received:`,pr),Xt.bo(pr)}}),mn(R,He.STAT_EVENT,cn=>{cn.stat===fe.PROXY?xe($n,`RPC '${e}' stream ${h} detected buffering proxy`):cn.stat===fe.NOPROXY&&xe($n,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Xt.wo()},0),Xt}}function Hs(){return typeof window<"u"?window:null}function ua(){return typeof document<"u"?document:null}function al(d){return new Ih(d,!0)}class Ud{constructor(e,s,a=1e3,h=1.5,y=6e4){this.ui=e,this.timerId=s,this.ko=a,this.qo=h,this.Qo=y,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const s=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,s-a);h>0&&xe("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class zu{constructor(e,s,a,h,y,b,R,L){this.ui=e,this.Ho=a,this.Jo=h,this.connection=y,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=R,this.listener=L,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ud(e,s)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,i.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,i.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,s){var a=this;return(0,i.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():s&&s.code===Ve.RESOURCE_EXHAUSTED?(tn(s.toString()),tn("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):s&&s.code===Ve.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(s)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),s=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===s&&this.P_(a,h)},a=>{e(()=>{const h=new lt(Ve.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,s){const a=this.h_(this.Yo);this.stream=this.T_(e,s),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,i.A)(function*(){e.state=0,e.start()}))}I_(e){return xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return s=>{this.ui.enqueueAndForget(()=>this.Yo===e?s():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jh extends zu{constructor(e,s,a,h,y,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,a,h,b),this.serializer=y}T_(e,s){return this.connection.Bo("Listen",e,s)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const s=function Va(d,e){let s;if("targetChange"in e){const a="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:it(),h=e.targetChange.targetIds||[],y=function(K,ue){return K.useProto3Json?(Ut(void 0===ue||"string"==typeof ue),Di.fromBase64String(ue||"")):(Ut(void 0===ue||ue instanceof Buffer||ue instanceof Uint8Array),Di.fromUint8Array(ue||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,R=b&&function(K){const ue=void 0===K.code?Ve.UNKNOWN:io(K.code);return new lt(ue,K.message||"")}(b);s=new Id(a,h,y,R||null)}else if("documentChange"in e){const a=e.documentChange,h=zo(d,a.document.name),y=Ki(a.document.updateTime),b=a.document.createTime?Ki(a.document.createTime):qt.min(),R=new We({mapValue:{fields:a.document.fields}}),L=It.newFoundDocument(h,y,b,R);s=new rc(a.targetIds||[],a.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const a=e.documentDelete,h=zo(d,a.document),y=a.readTime?Ki(a.readTime):qt.min(),b=It.newNoDocument(h,y);s=new rc([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=zo(d,a.document);s=new rc([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return it();{const a=e.filter,{count:h=0,unchangedNames:y}=a,b=new bd(h,y);s=new Cd(a.targetId,b)}}var K;return s}(this.serializer,e),a=function(y){if(!("targetChange"in y))return qt.min();const b=y.targetChange;return b.targetIds&&b.targetIds.length?qt.min():b.readTime?Ki(b.readTime):qt.min()}(e);return this.listener.d_(s,a)}A_(e){const s={};s.database=sc(this.serializer),s.addTarget=function(y,b){let R;const L=b.target;if(R=Da(L)?{documents:ho(y,L)}:{query:ya(y,L)._t},R.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){R.resumeToken=jc(y,b.resumeToken);const K=Au(y,b.expectedCount);null!==K&&(R.expectedCount=K)}else if(b.snapshotVersion.compareTo(qt.min())>0){R.readTime=aa(y,b.snapshotVersion.toTimestamp());const K=Au(y,b.expectedCount);null!==K&&(R.expectedCount=K)}return R}(this.serializer,e);const a=function Ad(d,e){const s=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it()}}(e.purpose);return null==s?null:{"goog-listen-tags":s}}(0,e);a&&(s.labels=a),this.a_(s)}R_(e){const s={};s.database=sc(this.serializer),s.removeTarget=e,this.a_(s)}}class Gm extends zu{constructor(e,s,a,h,y,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,a,h,b),this.serializer=y}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,s){return this.connection.Bo("Write",e,s)}E_(e){return Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const s=function Gs(d,e){return d&&d.length>0?(Ut(void 0!==e),d.map(s=>function(h,y){let b=Ki(h.updateTime?h.updateTime:y);return b.isEqual(qt.min())&&(b=Ki(y)),new $(b,h.transformResults||[])}(s,e))):[]}(e.writeResults,e.commitTime),a=Ki(e.commitTime);return this.listener.g_(a,s)}p_(){const e={};e.database=sc(this.serializer),this.a_(e)}m_(e){const s={streamToken:this.lastStreamToken,writes:e.map(a=>wl(this.serializer,a))};this.a_(s)}}class sp extends class{}{constructor(e,s,a,h){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new lt(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,s,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,b])=>this.connection.Mo(e,Su(s,a),h,y,b)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new lt(Ve.UNKNOWN,y.toString())})}Lo(e,s,a,h,y){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,R])=>this.connection.Lo(e,Su(s,a),h,b,R,y)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new lt(Ve.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class jd{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const s=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(tn(s),this.D_=!1):xe("OnlineStateTracker",s)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Tg{constructor(e,s,a,h,y){var b=this;this.localStore=e,this.datastore=s,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=y,this.k_._o(R=>{a.enqueueAndForget((0,i.A)(function*(){var L;ba(b)&&(xe("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,i.A)(function*(ue){const we=mt(ue);we.L_.add(4),yield Hl(we),we.q_.set("Unknown"),we.L_.delete(4),yield Xc(we)}),function K(ue){return L.apply(this,arguments)})(b))}))}),this.q_=new jd(a,h)}}function Xc(d){return $h.apply(this,arguments)}function $h(){return($h=(0,i.A)(function*(d){if(ba(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Hl(d){return $d.apply(this,arguments)}function $d(){return($d=(0,i.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function Bh(d,e){const s=mt(d);s.N_.has(e.targetId)||(s.N_.set(e.targetId,e),ap(s)?op(s):zd(s).r_()&&Bd(s,e))}function Qo(d,e){const s=mt(d),a=zd(s);s.N_.delete(e),a.r_()&&Cg(s,e),0===s.N_.size&&(a.r_()?a.o_():ba(s)&&s.q_.set("Unknown"))}function Bd(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qt.min())>0){const s=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}zd(d).A_(e)}function Cg(d,e){d.Q_.xe(e),zd(d).R_(e)}function op(d){d.Q_=new Iu({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),zd(d).start(),d.q_.v_()}function ap(d){return ba(d)&&!zd(d).n_()&&d.N_.size>0}function ba(d){return 0===mt(d).L_.size}function Ig(d){d.Q_=void 0}function Hm(d){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,i.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function Gh(d){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,i.A)(function*(d){d.N_.forEach((e,s)=>{Bd(d,e)})})).apply(this,arguments)}function zm(d,e){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,i.A)(function*(d,e){Ig(d),ap(d)?(d.q_.M_(e),op(d)):d.q_.set("Unknown")})).apply(this,arguments)}function Wm(d,e,s){return zl.apply(this,arguments)}function zl(){return zl=(0,i.A)(function*(d,e,s){if(d.q_.set("Online"),e instanceof Id&&2===e.state&&e.cause)try{yield(a=(0,i.A)(function*(y,b){const R=b.cause;for(const L of b.targetIds)y.N_.has(L)&&(yield y.remoteSyncer.rejectListen(L,R),y.N_.delete(L),y.Q_.removeTarget(L))}),function h(y,b){return a.apply(this,arguments)})(d,e)}catch(a){xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Wu(d,a)}else if(e instanceof rc?d.Q_.Ke(e):e instanceof Cd?d.Q_.He(e):d.Q_.We(e),!s.isEqual(qt.min()))try{const a=yield Uu(d.localStore);s.compareTo(a)>=0&&(yield function(y,b){const R=y.Q_.rt(b);return R.targetChanges.forEach((L,K)=>{if(L.resumeToken.approximateByteSize()>0){const ue=y.N_.get(K);ue&&y.N_.set(K,ue.withResumeToken(L.resumeToken,b))}}),R.targetMismatches.forEach((L,K)=>{const ue=y.N_.get(L);if(!ue)return;y.N_.set(L,ue.withResumeToken(Di.EMPTY_BYTE_STRING,ue.snapshotVersion)),Cg(y,L);const we=new F(ue.target,L,K,ue.sequenceNumber);Bd(y,we)}),y.remoteSyncer.applyRemoteEvent(R)}(d,s))}catch(a){xe("RemoteStore","Failed to raise snapshot:",a),yield Wu(d,a)}var a}),zl.apply(this,arguments)}function Wu(d,e,s){return zh.apply(this,arguments)}function zh(){return(zh=(0,i.A)(function*(d,e,s){if(!Rn(e))throw e;d.L_.add(1),yield Hl(d),d.q_.set("Offline"),s||(s=()=>Uu(d.localStore)),d.asyncQueue.enqueueRetryable((0,i.A)(function*(){xe("RemoteStore","Retrying IndexedDB access"),yield s(),d.L_.delete(1),yield Xc(d)}))})).apply(this,arguments)}function Km(d,e){return e().catch(s=>Wu(d,s,e))}function Ku(d){return lp.apply(this,arguments)}function lp(){return(lp=(0,i.A)(function*(d){const e=mt(d),s=Jc(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wg(e);)try{const h=yield rp(e.localStore,a);if(null===h){0===e.O_.length&&s.o_();break}a=h.batchId,vy(e,h)}catch(h){yield Wu(e,h)}Jo(e)&&cp(e)})).apply(this,arguments)}function wg(d){return ba(d)&&d.O_.length<10}function vy(d,e){d.O_.push(e);const s=Jc(d);s.r_()&&s.V_&&s.m_(e.mutations)}function Jo(d){return ba(d)&&!Jc(d).n_()&&d.O_.length>0}function cp(d){Jc(d).start()}function Ag(d){return qu.apply(this,arguments)}function qu(){return(qu=(0,i.A)(function*(d){Jc(d).p_()})).apply(this,arguments)}function Fo(d){return $a.apply(this,arguments)}function $a(){return($a=(0,i.A)(function*(d){const e=Jc(d);for(const s of d.O_)e.m_(s.mutations)})).apply(this,arguments)}function qm(d,e,s){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,i.A)(function*(d,e,s){const a=d.O_.shift(),h=Ho.from(a,e,s);yield Km(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield Ku(d)})).apply(this,arguments)}function Qc(d,e){return up.apply(this,arguments)}function up(){return up=(0,i.A)(function*(d,e){var s;e&&Jc(d).V_&&(yield(s=(0,i.A)(function*(h,y){if(El(R=y.code)&&R!==Ve.ABORTED){const b=h.O_.shift();Jc(h).s_(),yield Km(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,y)),yield Ku(h)}var R}),function a(h,y){return s.apply(this,arguments)})(d,e)),Jo(d)&&cp(d)}),up.apply(this,arguments)}function Ym(d,e){return dp.apply(this,arguments)}function dp(){return(dp=(0,i.A)(function*(d,e){const s=mt(d);s.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const a=ba(s);s.L_.add(3),yield Hl(s),a&&s.q_.set("Unknown"),yield s.remoteSyncer.handleCredentialChange(e),s.L_.delete(3),yield Xc(s)})).apply(this,arguments)}function Dg(d,e){return hp.apply(this,arguments)}function hp(){return(hp=(0,i.A)(function*(d,e){const s=mt(d);e?(s.L_.delete(2),yield Xc(s)):e||(s.L_.add(2),yield Hl(s),s.q_.set("Unknown"))})).apply(this,arguments)}function zd(d){return d.K_||(d.K_=function(s,a,h){const y=mt(s);return y.w_(),new jh(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:Hm.bind(null,d),Ro:Gh.bind(null,d),mo:zm.bind(null,d),d_:Wm.bind(null,d)}),d.B_.push(function(){var e=(0,i.A)(function*(s){s?(d.K_.s_(),ap(d)?op(d):d.q_.set("Unknown")):(yield d.K_.stop(),Ig(d))});return function(s){return e.apply(this,arguments)}}())),d.K_}function Jc(d){return d.U_||(d.U_=function(s,a,h){const y=mt(s);return y.w_(),new Gm(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ag.bind(null,d),mo:Qc.bind(null,d),f_:Fo.bind(null,d),g_:qm.bind(null,d)}),d.B_.push(function(){var e=(0,i.A)(function*(s){s?(d.U_.s_(),yield Ku(d)):(yield d.U_.stop(),d.O_.length>0&&(xe("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(s){return e.apply(this,arguments)}}())),d.U_}class Wh{constructor(e,s,a,h,y){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=a,this.op=h,this.removalCallback=y,this.deferred=new ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,s,a,h,y){const b=Date.now()+a,R=new Wh(e,s,b,h,y);return R.start(a),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lt(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zc(d,e){if(tn("AsyncQueue",`${e}: ${d}`),Rn(d))return new lt(Ve.UNAVAILABLE,`${e}: ${d}`);throw d}class Yu{constructor(e){this.comparator=e?(s,a)=>e(s,a)||Bt.comparator(s.key,a.key):(s,a)=>Bt.comparator(s.key,a.key),this.keyedMap=ro(),this.sortedSet=new Yr(this.comparator)}static emptySet(e){return new Yu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((s,a)=>(e(s),!1))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Yu)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;s.hasNext();){const h=s.getNext().key,y=a.getNext().key;if(!h.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(s=>{e.push(s.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,s){const a=new Yu;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=s,a}}class hc{constructor(){this.W_=new Yr(Bt.comparator)}track(e){const s=e.doc.key,a=this.W_.get(s);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(s,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(s,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(s,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(s):1===e.type&&2===a.type?this.W_=this.W_.insert(s,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):it():this.W_=this.W_.insert(s,e)}G_(){const e=[];return this.W_.inorderTraversal((s,a)=>{e.push(a)}),e}}class fc{constructor(e,s,a,h,y,b,R,L,K){this.query=e,this.docs=s,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=R,this.excludesMetadataChanges=L,this.hasCachedResults=K}static fromInitialDocuments(e,s,a,h,y){const b=[];return s.forEach(R=>{b.push({type:0,doc:R})}),new fc(e,s,Yu.emptySet(s),b,a,h,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,a=e.docChanges;if(s.length!==a.length)return!1;for(let h=0;h<s.length;h++)if(s[h].type!==a[h].type||!s[h].doc.isEqual(a[h].doc))return!1;return!0}}class Ey{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Xm{constructor(){this.queries=Wd(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(s,a){const h=mt(s),y=h.queries;h.queries=Wd(),y.forEach((b,R)=>{for(const L of R.j_)L.onError(a)})}(this,new lt(Ve.ABORTED,"Firestore shutting down"))}}function Wd(){return new Mn(d=>$s(d),uo)}function eu(d,e){return pc.apply(this,arguments)}function pc(){return(pc=(0,i.A)(function*(d,e){const s=mt(d);let a=3;const h=e.query;let y=s.queries.get(h);y?!y.H_()&&e.J_()&&(a=2):(y=new Ey,a=e.J_()?0:1);try{switch(a){case 0:y.z_=yield s.onListen(h,!0);break;case 1:y.z_=yield s.onListen(h,!1);break;case 2:yield s.onFirstRemoteStoreListen(h)}}catch(b){const R=Zc(b,`Initialization of query '${Mi(e.query)}' failed`);return void e.onError(R)}s.queries.set(h,y),y.j_.push(e),e.Z_(s.onlineState),y.z_&&e.X_(y.z_)&&xg(s)})).apply(this,arguments)}function oi(d,e){return fp.apply(this,arguments)}function fp(){return(fp=(0,i.A)(function*(d,e){const s=mt(d),a=e.query;let h=3;const y=s.queries.get(a);if(y){const b=y.j_.indexOf(e);b>=0&&(y.j_.splice(b,1),0===y.j_.length?h=e.J_()?0:1:!y.H_()&&e.J_()&&(h=2))}switch(h){case 0:return s.queries.delete(a),s.onUnlisten(a,!0);case 1:return s.queries.delete(a),s.onUnlisten(a,!1);case 2:return s.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Rg(d,e){const s=mt(d);let a=!1;for(const h of e){const b=s.queries.get(h.query);if(b){for(const R of b.j_)R.X_(h)&&(a=!0);b.z_=h}}a&&xg(s)}function Kh(d,e,s){const a=mt(d),h=a.queries.get(e);if(h)for(const y of h.j_)y.onError(s);a.queries.delete(e)}function xg(d){d.Y_.forEach(e=>{e.next()})}var Pg,Qm;(Qm=Pg||(Pg={})).ea="default",Qm.Cache="cache";class Mg{constructor(e,s,a){this.query=e,this.ta=s,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new fc(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.na?this.ia(e)&&(this.ta.next(e),s=!0):this.sa(e,this.onlineState)&&(this.oa(e),s=!0),this.ra=e,s}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let s=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),s=!0),s}sa(e,s){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==s))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===s)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Pg.Cache}}class by{constructor(e,s){this.aa=e,this.byteLength=s}ua(){return"metadata"in this.aa}}class Jm{constructor(e){this.serializer=e}Es(e){return zo(this.serializer,e)}ds(e){return e.metadata.exists?Il(this.serializer,e.document,!1):It.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Ki(e)}}class Zm{constructor(e,s,a){this.ca=e,this.localStore=s,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qh(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let s=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++s;const a=Zt.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++s);return s!==this.progress.documentsLoaded?(this.progress.documentsLoaded=s,Object.assign({},this.progress)):null}ha(e){const s=new Map,a=new Jm(this.serializer);for(const h of e)if(h.metadata.queries){const y=a.Es(h.metadata.name);for(const b of h.metadata.queries){const R=(s.get(b)||wr()).add(y);s.set(b,R)}}return s}complete(){var e=this;return(0,i.A)(function*(){const s=yield function Bu(d,e,s,a){return Vh.apply(this,arguments)}(e.localStore,new Jm(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield ip(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:s}})()}}function qh(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class pp{constructor(e){this.key=e}}class gp{constructor(e){this.key=e}}class e_{constructor(e,s){this.query=e,this.Ta=s,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=wr(),this.mutatedKeys=wr(),this.Aa=Oi(e),this.Ra=new Yu(this.Aa)}get Va(){return this.Ta}ma(e,s){const a=s?s.fa:new hc,h=s?s.Ra:this.Ra;let y=s?s.mutatedKeys:this.mutatedKeys,b=h,R=!1;const L="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,K="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ue,we)=>{const Ze=h.get(ue),Mt=no(this.query,we)?we:null,Xt=!!Ze&&this.mutatedKeys.has(Ze.key),mn=!!Mt&&(Mt.hasLocalMutations||this.mutatedKeys.has(Mt.key)&&Mt.hasCommittedMutations);let cn=!1;Ze&&Mt?Ze.data.isEqual(Mt.data)?Xt!==mn&&(a.track({type:3,doc:Mt}),cn=!0):this.ga(Ze,Mt)||(a.track({type:2,doc:Mt}),cn=!0,(L&&this.Aa(Mt,L)>0||K&&this.Aa(Mt,K)<0)&&(R=!0)):!Ze&&Mt?(a.track({type:0,doc:Mt}),cn=!0):Ze&&!Mt&&(a.track({type:1,doc:Ze}),cn=!0,(L||K)&&(R=!0)),cn&&(Mt?(b=b.add(Mt),y=mn?y.add(ue):y.delete(ue)):(b=b.delete(ue),y=y.delete(ue)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ue="F"===this.query.limitType?b.last():b.first();b=b.delete(ue.key),y=y.delete(ue.key),a.track({type:1,doc:ue})}return{Ra:b,fa:a,ns:R,mutatedKeys:y}}ga(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,a,h){const y=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((ue,we)=>function(Mt,Xt){const mn=cn=>{switch(cn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return mn(Mt)-mn(Xt)}(ue.type,we.type)||this.Aa(ue.doc,we.doc)),this.pa(a),h=null!=h&&h;const R=s&&!h?this.ya():[],L=0===this.da.size&&this.current&&!h?1:0,K=L!==this.Ea;return this.Ea=L,0!==b.length||K?{snapshot:new fc(this.query,e.Ra,y,b,e.mutatedKeys,0===L,K,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:R}:{wa:R}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hc,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(s=>this.Ta=this.Ta.add(s)),e.modifiedDocuments.forEach(s=>{}),e.removedDocuments.forEach(s=>this.Ta=this.Ta.delete(s)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=wr(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const s=[];return e.forEach(a=>{this.da.has(a)||s.push(new gp(a))}),this.da.forEach(a=>{e.has(a)||s.push(new pp(a))}),s}ba(e){this.Ta=e.Ts,this.da=wr();const s=this.ma(e.documents);return this.applyChanges(s,!0)}Da(){return fc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Ty{constructor(e,s,a){this.query=e,this.targetId=s,this.view=a}}class Og{constructor(e){this.key=e,this.va=!1}}class t_{constructor(e,s,a,h,y,b){this.localStore=e,this.remoteStore=s,this.eventManager=a,this.sharedClientState=h,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new Mn(R=>$s(R),uo),this.Ma=new Map,this.xa=new Set,this.Oa=new Yr(Bt.comparator),this.Na=new Map,this.La=new tp,this.Ba={},this.ka=new Map,this.qa=Ml.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Xu(d,e){return mp.apply(this,arguments)}function mp(){return(mp=(0,i.A)(function*(d,e,s=!0){const a=Ap(d);let h;const y=a.Fa.get(e);return y?(a.sharedClientState.addLocalQueryTarget(y.targetId),h=y.view.Da()):h=yield Cy(a,e,s,!0),h})).apply(this,arguments)}function n_(d,e){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,i.A)(function*(d,e){const s=Ap(d);yield Cy(s,e,!0,!1)})).apply(this,arguments)}function Cy(d,e,s,a){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,i.A)(function*(d,e,s,a){const h=yield $l(d.localStore,vn(e)),y=h.targetId,b=d.sharedClientState.addLocalQueryTarget(y,s);let R;return a&&(R=yield Fg(d,e,y,"current"===b,h.resumeToken)),d.isPrimaryClient&&s&&Bh(d.remoteStore,h),R})).apply(this,arguments)}function Fg(d,e,s,a,h){return _p.apply(this,arguments)}function _p(){return _p=(0,i.A)(function*(d,e,s,a,h){d.Ka=(we,Ze,Mt)=>{return(Xt=(0,i.A)(function*(cn,Zn,pr,sr){let Nr=Zn.view.ma(pr);Nr.ns&&(Nr=yield il(cn.localStore,Zn.query,!1).then(({documents:Ke})=>Zn.view.ma(Ke,Nr)));const Pi=sr&&sr.targetChanges.get(Zn.targetId),ai=sr&&null!=sr.targetMismatches.get(Zn.targetId),yt=Zn.view.applyChanges(Nr,cn.isPrimaryClient,Pi,ai);return nu(cn,Zn.targetId,yt.wa),yt.snapshot}),function mn(cn,Zn,pr,sr){return Xt.apply(this,arguments)})(d,we,Ze,Mt);var Xt};const y=yield il(d.localStore,e,!0),b=new e_(e,y.Ts),R=b.ma(y.documents),L=Fa.createSynthesizedTargetChangeForCurrentChange(s,a&&"Offline"!==d.onlineState,h),K=b.applyChanges(R,d.isPrimaryClient,L);nu(d,s,K.wa);const ue=new Ty(e,s,b);return d.Fa.set(e,ue),d.Ma.has(s)?d.Ma.get(s).push(e):d.Ma.set(s,[e]),K.snapshot}),_p.apply(this,arguments)}function r_(d,e,s){return yp.apply(this,arguments)}function yp(){return(yp=(0,i.A)(function*(d,e,s){const a=mt(d),h=a.Fa.get(e),y=a.Ma.get(h.targetId);if(y.length>1)return a.Ma.set(h.targetId,y.filter(b=>!uo(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Yc(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),s&&Qo(a.remoteStore,h.targetId),gc(a,h.targetId)}).catch(Qn))):(gc(a,h.targetId),yield Yc(a.localStore,h.targetId,!0))})).apply(this,arguments)}function kg(d,e){return vp.apply(this,arguments)}function vp(){return(vp=(0,i.A)(function*(d,e){const s=mt(d),a=s.Fa.get(e),h=s.Ma.get(a.targetId);s.isPrimaryClient&&1===h.length&&(s.sharedClientState.removeLocalQueryTarget(a.targetId),Qo(s.remoteStore,a.targetId))})).apply(this,arguments)}function Qu(){return(Qu=(0,i.A)(function*(d,e,s){const a=Kg(d);try{const h=yield function(b,R){const L=mt(b),K=Qt.now(),ue=R.reduce((Mt,Xt)=>Mt.add(Xt.key),wr());let we,Ze;return L.persistence.runTransaction("Locally write mutations","readwrite",Mt=>{let Xt=_s(),mn=wr();return L.cs.getEntries(Mt,ue).next(cn=>{Xt=cn,Xt.forEach((Zn,pr)=>{pr.isValidDocument()||(mn=mn.add(Zn))})}).next(()=>L.localDocuments.getOverlayedDocuments(Mt,Xt)).next(cn=>{we=cn;const Zn=[];for(const pr of R){const sr=mi(pr,we.get(pr.key).overlayedDocument);null!=sr&&Zn.push(new Hr(pr.key,sr,ht(sr.value.mapValue),Y.exists(!0)))}return L.mutationQueue.addMutationBatch(Mt,K,Zn,R)}).next(cn=>{Ze=cn;const Zn=cn.applyToLocalDocumentSet(we,mn);return L.documentOverlayCache.saveOverlays(Mt,cn.batchId,Zn)})}).then(()=>({batchId:Ze.batchId,changes:ga(we)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,R,L){let K=b.Ba[b.currentUser.toKey()];K||(K=new Yr(nn)),K=K.insert(R,L),b.Ba[b.currentUser.toKey()]=K}(a,h.batchId,s),yield mc(a,h.changes),yield Ku(a.remoteStore)}catch(h){const y=Zc(h,"Failed to persist write");s.reject(y)}})).apply(this,arguments)}function Lg(d,e){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,i.A)(function*(d,e){const s=mt(d);try{const a=yield function ju(d,e){const s=mt(d),a=e.snapshotVersion;let h=s.os;return s.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const b=s.cs.newChangeBuffer({trackRemovals:!0});h=s.os;const R=[];e.targetChanges.forEach((ue,we)=>{const Ze=h.get(we);if(!Ze)return;R.push(s.Ur.removeMatchingKeys(y,ue.removedDocuments,we).next(()=>s.Ur.addMatchingKeys(y,ue.addedDocuments,we)));let Mt=Ze.withSequenceNumber(y.currentSequenceNumber);var mn,cn,Zn;null!==e.targetMismatches.get(we)?Mt=Mt.withResumeToken(Di.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):ue.resumeToken.approximateByteSize()>0&&(Mt=Mt.withResumeToken(ue.resumeToken,a)),h=h.insert(we,Mt),cn=Mt,Zn=ue,(0===(mn=Ze).resumeToken.approximateByteSize()||cn.snapshotVersion.toMicroseconds()-mn.snapshotVersion.toMicroseconds()>=3e8||Zn.addedDocuments.size+Zn.modifiedDocuments.size+Zn.removedDocuments.size>0)&&R.push(s.Ur.updateTargetData(y,Mt))});let L=_s(),K=wr();if(e.documentUpdates.forEach(ue=>{e.resolvedLimboDocuments.has(ue)&&R.push(s.persistence.referenceDelegate.updateLimboDocument(y,ue))}),R.push($u(y,b,e.documentUpdates).next(ue=>{L=ue.Ps,K=ue.Is})),!a.isEqual(qt.min())){const ue=s.Ur.getLastRemoteSnapshotVersion(y).next(we=>s.Ur.setTargetsMetadata(y,y.currentSequenceNumber,a));R.push(ue)}return pt.waitFor(R).next(()=>b.apply(y)).next(()=>s.localDocuments.getLocalViewOfDocuments(y,L,K)).next(()=>L)}).then(y=>(s.os=h,y))}(s.localStore,e);e.targetChanges.forEach((h,y)=>{const b=s.Na.get(y);b&&(Ut(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?Ut(b.va):h.removedDocuments.size>0&&(Ut(b.va),b.va=!1))}),yield mc(s,a,e)}catch(a){yield Qn(a)}})).apply(this,arguments)}function tu(d,e,s){const a=mt(d);if(a.isPrimaryClient&&0===s||!a.isPrimaryClient&&1===s){const h=[];a.Fa.forEach((y,b)=>{const R=b.view.Z_(e);R.snapshot&&h.push(R.snapshot)}),function(b,R){const L=mt(b);L.onlineState=R;let K=!1;L.queries.forEach((ue,we)=>{for(const Ze of we.j_)Ze.Z_(R)&&(K=!0)}),K&&xg(L)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function i_(d,e,s){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,i.A)(function*(d,e,s){const a=mt(d);a.sharedClientState.updateQueryState(e,"rejected",s);const h=a.Na.get(e),y=h&&h.key;if(y){let b=new Yr(Bt.comparator);b=b.insert(y,It.newNoDocument(y,qt.min()));const R=wr().add(y),L=new ws(qt.min(),new Map,new Yr(nn),b,R);yield Lg(a,L),a.Oa=a.Oa.remove(y),a.Na.delete(e),$g(a)}else yield Yc(a.localStore,e,!1).then(()=>gc(a,e,s)).catch(Qn)})).apply(this,arguments)}function Qh(d,e){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,i.A)(function*(d,e){const s=mt(d),a=e.batch.batchId;try{const h=yield function Fh(d,e){const s=mt(d);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),y=s.cs.newChangeBuffer({trackRemovals:!0});return function(R,L,K,ue){const we=K.batch,Ze=we.keys();let Mt=pt.resolve();return Ze.forEach(Xt=>{Mt=Mt.next(()=>ue.getEntry(L,Xt)).next(mn=>{const cn=K.docVersions.get(Xt);Ut(null!==cn),mn.version.compareTo(cn)<0&&(we.applyToRemoteDocument(mn,K),mn.isValidDocument()&&(mn.setReadTime(K.commitVersion),ue.addEntry(mn)))})}),Mt.next(()=>R.mutationQueue.removeMutationBatch(L,we))}(s,a,e,y).next(()=>y.apply(a)).next(()=>s.mutationQueue.performConsistencyCheck(a)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(R){let L=wr();for(let K=0;K<R.mutationResults.length;++K)R.mutationResults[K].transformResults.length>0&&(L=L.add(R.batch.mutations[K].key));return L}(e))).next(()=>s.localDocuments.getDocuments(a,h))})}(s.localStore,e);Tp(s,a,null),bp(s,a),s.sharedClientState.updateMutationState(a,"acknowledged"),yield mc(s,h)}catch(h){yield Qn(h)}})).apply(this,arguments)}function s_(d,e,s){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,i.A)(function*(d,e,s){const a=mt(d);try{const h=yield function(b,R){const L=mt(b);return L.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ue;return L.mutationQueue.lookupMutationBatch(K,R).next(we=>(Ut(null!==we),ue=we.keys(),L.mutationQueue.removeMutationBatch(K,we))).next(()=>L.mutationQueue.performConsistencyCheck(K)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(K,ue,R)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ue)).next(()=>L.localDocuments.getDocuments(K,ue))})}(a.localStore,e);Tp(a,e,s),bp(a,e),a.sharedClientState.updateMutationState(e,"rejected",s),yield mc(a,h)}catch(h){yield Qn(h)}})).apply(this,arguments)}function jg(){return(jg=(0,i.A)(function*(d,e){const s=mt(d);ba(s.remoteStore)||xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const R=mt(b);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>R.mutationQueue.getHighestUnacknowledgedBatchId(L))}(s.localStore);if(-1===a)return void e.resolve();const h=s.ka.get(a)||[];h.push(e),s.ka.set(a,h)}catch(a){const h=Zc(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function bp(d,e){(d.ka.get(e)||[]).forEach(s=>{s.resolve()}),d.ka.delete(e)}function Tp(d,e,s){const a=mt(d);let h=a.Ba[a.currentUser.toKey()];if(h){const y=h.get(e);y&&(s?y.reject(s):y.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function gc(d,e,s=null){d.sharedClientState.removeLocalQueryTarget(e);for(const a of d.Ma.get(e))d.Fa.delete(a),s&&d.Ca.$a(a,s);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(a=>{d.La.containsKey(a)||Cp(d,a)})}function Cp(d,e){d.xa.delete(e.path.canonicalString());const s=d.Oa.get(e);null!==s&&(Qo(d.remoteStore,s),d.Oa=d.Oa.remove(e),d.Na.delete(s),$g(d))}function nu(d,e,s){for(const a of s)a instanceof pp?(d.La.addReference(a.key,e),wy(d,a)):a instanceof gp?(xe("SyncEngine","Document no longer in limbo: "+a.key),d.La.removeReference(a.key,e),d.La.containsKey(a.key)||Cp(d,a.key)):it()}function wy(d,e){const s=e.key,a=s.path.canonicalString();d.Oa.get(s)||d.xa.has(a)||(xe("SyncEngine","New document in limbo: "+s),d.xa.add(a),$g(d))}function $g(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const s=new Bt(Zt.fromString(e)),a=d.qa.next();d.Na.set(a,new Og(s)),d.Oa=d.Oa.insert(s,a),Bh(d.remoteStore,new F(vn(ee(s.path)),a,"TargetPurposeLimboResolution",k.oe))}}function mc(d,e,s){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,i.A)(function*(d,e,s){const a=mt(d),h=[],y=[],b=[];var R;a.Fa.isEmpty()||(a.Fa.forEach((R,L)=>{b.push(a.Ka(L,e,s).then(K=>{var ue;if((K||s)&&a.isPrimaryClient){const we=K?!K.fromCache:null===(ue=s?.targetChanges.get(L.targetId))||void 0===ue?void 0:ue.current;a.sharedClientState.updateQueryState(L.targetId,we?"current":"not-current")}if(K){h.push(K);const we=np.Wi(L.targetId,K);y.push(we)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(R=(0,i.A)(function*(K,ue){const we=mt(K);try{yield we.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>pt.forEach(ue,Mt=>pt.forEach(Mt.$i,Xt=>we.persistence.referenceDelegate.addReference(Ze,Mt.targetId,Xt)).next(()=>pt.forEach(Mt.Ui,Xt=>we.persistence.referenceDelegate.removeReference(Ze,Mt.targetId,Xt)))))}catch(Ze){if(!Rn(Ze))throw Ze;xe("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of ue){const Mt=Ze.targetId;if(!Ze.fromCache){const Xt=we.os.get(Mt),cn=Xt.withLastLimboFreeSnapshotVersion(Xt.snapshotVersion);we.os=we.os.insert(Mt,cn)}}}),function L(K,ue){return R.apply(this,arguments)})(a.localStore,y))}),Bg.apply(this,arguments)}function Ip(d,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,i.A)(function*(d,e){const s=mt(d);if(!s.currentUser.isEqual(e)){xe("SyncEngine","User change. New user:",e.toKey());const a=yield ca(s.localStore,e);s.currentUser=e,(y=s).ka.forEach(R=>{R.forEach(L=>{L.reject(new lt(Ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ka.clear(),s.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield mc(s,a.hs)}var y})).apply(this,arguments)}function Ju(d,e){const s=mt(d),a=s.Na.get(e);if(a&&a.va)return wr().add(a.key);{let h=wr();const y=s.Ma.get(e);if(!y)return h;for(const b of y){const R=s.Fa.get(b);h=h.unionWith(R.view.Va)}return h}}function wp(d,e){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,i.A)(function*(d,e){const s=mt(d),a=yield il(s.localStore,e.query,!0),h=e.view.ba(a);return s.isPrimaryClient&&nu(s,e.targetId,h.wa),h})).apply(this,arguments)}function o_(d,e){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,i.A)(function*(d,e){const s=mt(d);return Bl(s.localStore,e).then(a=>mc(s,a))})).apply(this,arguments)}function a_(d,e,s,a){return _c.apply(this,arguments)}function _c(){return(_c=(0,i.A)(function*(d,e,s,a){const h=mt(d),y=yield function(R,L){const K=mt(R),ue=mt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",we=>ue.Mn(we,L).next(Ze=>Ze?K.localDocuments.getDocuments(we,Ze):pt.resolve(null)))}(h.localStore,e);var L;null!==y?("pending"===s?yield Ku(h.remoteStore):"acknowledged"===s||"rejected"===s?(Tp(h,e,a||null),bp(h,e),L=e,mt(mt(h.localStore).mutationQueue).On(L)):it(),yield mc(h,y)):xe("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Hg(){return(Hg=(0,i.A)(function*(d,e){const s=mt(d);if(Ap(s),Kg(s),!0===e&&!0!==s.Qa){const a=s.sharedClientState.getAllActiveQueryTargets(),h=yield l_(s,a.toArray());s.Qa=!0,yield Dg(s.remoteStore,!0);for(const y of h)Bh(s.remoteStore,y)}else if(!1===e&&!1!==s.Qa){const a=[];let h=Promise.resolve();s.Ma.forEach((y,b)=>{s.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(gc(s,b),Yc(s.localStore,b,!0))),Qo(s.remoteStore,b)}),yield h,yield l_(s,a),function(b){const R=mt(b);R.Na.forEach((L,K)=>{Qo(R.remoteStore,K)}),R.La.pr(),R.Na=new Map,R.Oa=new Yr(Bt.comparator)}(s),s.Qa=!1,yield Dg(s.remoteStore,!1)}})).apply(this,arguments)}function l_(d,e,s){return zg.apply(this,arguments)}function zg(){return(zg=(0,i.A)(function*(d,e,s){const a=mt(d),h=[],y=[];for(const b of e){let R;const L=a.Ma.get(b);if(L&&0!==L.length){R=yield $l(a.localStore,vn(L[0]));for(const K of L){const ue=a.Fa.get(K),we=yield wp(a,ue);we.snapshot&&y.push(we.snapshot)}}else{const K=yield kh(a.localStore,b);R=yield $l(a.localStore,K),yield Fg(a,c_(K),b,!1,R.resumeToken)}h.push(R)}return a.Ca.d_(y),h})).apply(this,arguments)}function c_(d){return W(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function yc(d){return s=mt(d).localStore,mt(mt(s).persistence).Qi();var s}function qd(d,e,s,a){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,i.A)(function*(d,e,s,a){const h=mt(d);if(h.Qa)return void xe("SyncEngine","Ignoring unexpected query state notification.");const y=h.Ma.get(e);if(y&&y.length>0)switch(s){case"current":case"not-current":{const b=yield Bl(h.localStore,Lc(y[0])),R=ws.createSynthesizedRemoteEventForCurrentChange(e,"current"===s,Di.EMPTY_BYTE_STRING);yield mc(h,b,R);break}case"rejected":yield Yc(h.localStore,e,!0),gc(h,e,a);break;default:it()}})).apply(this,arguments)}function Sy(d,e,s){return u_.apply(this,arguments)}function u_(){return(u_=(0,i.A)(function*(d,e,s){const a=Ap(d);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){xe("SyncEngine","Adding an already active target "+h);continue}const y=yield kh(a.localStore,h),b=yield $l(a.localStore,y);yield Fg(a,c_(y),b.targetId,!1,b.resumeToken),Bh(a.remoteStore,b)}for(const h of s)a.Ma.has(h)&&(yield Yc(a.localStore,h,!1).then(()=>{Qo(a.remoteStore,h),gc(a,h)}).catch(Qn))}})).apply(this,arguments)}function Ap(d){const e=mt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ju.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i_.bind(null,e),e.Ca.d_=Rg.bind(null,e.eventManager),e.Ca.$a=Kh.bind(null,e.eventManager),e}function Kg(d){const e=mt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s_.bind(null,e),e}let Zu=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(s){var a=this;return(0,i.A)(function*(){a.serializer=al(s.databaseInfo.databaseId),a.sharedClientState=a.Wa(s),a.persistence=a.Ga(s),yield a.persistence.start(),a.localStore=a.za(s),a.gcScheduler=a.ja(s,a.localStore),a.indexBackfillerScheduler=a.Ha(s,a.localStore)})()}ja(s,a){return null}Ha(s,a){return null}za(s){return Fd(this.persistence,new bg,s.initialUser,this.serializer)}Ga(s){return new ja(Vu.Zr,this.serializer)}Wa(s){return new D}terminate(){var s=this;return(0,i.A)(function*(){var a,h;null===(a=s.gcScheduler)||void 0===a||a.stop(),null===(h=s.indexBackfillerScheduler)||void 0===h||h.stop(),s.sharedClientState.shutdown(),yield s.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class ef extends Zu{constructor(e,s,a){super(),this.Ja=e,this.cacheSizeBytes=s,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var s=()=>super.initialize,a=this;return(0,i.A)(function*(){yield s().call(a,e),yield a.Ja.initialize(a,e),yield Kg(a.Ja.syncEngine),yield Ku(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Fd(this.persistence,new bg,e.initialUser,this.serializer)}ja(e,s){return new Fl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,s)}Ha(e,s){const a=new P(s,this.persistence);return new B(e.asyncQueue,a)}Ga(e){const s=Nd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ds.withCacheSize(this.cacheSizeBytes):Ds.DEFAULT;return new Od(this.synchronizeTabs,s,e.clientId,a,e.asyncQueue,Hs(),ua(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new D}}class d_ extends ef{constructor(e,s){super(e,s,!1),this.Ja=e,this.cacheSizeBytes=s,this.synchronizeTabs=!0}initialize(e){var s=()=>super.initialize,a=this;return(0,i.A)(function*(){yield s().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof v&&(a.sharedClientState.syncEngine={no:a_.bind(null,h),ro:qd.bind(null,h),io:Sy.bind(null,h),Qi:yc.bind(null,h),eo:o_.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var y=(0,i.A)(function*(b){yield function Ay(d,e){return Hg.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return y.apply(this,arguments)}}())})()}Wa(e){const s=Hs();if(!v.D(s))throw new lt(Ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Nd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(s,e.asyncQueue,a,e.clientId,e.initialUser)}}let Yd=(()=>{class d{initialize(s,a){var h=this;return(0,i.A)(function*(){h.localStore||(h.localStore=s.localStore,h.sharedClientState=s.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!s.synchronizeTabs),h.sharedClientState.onlineStateHandler=y=>tu(h.syncEngine,y,1),h.remoteStore.remoteSyncer.handleCredentialChange=Ip.bind(null,h.syncEngine),yield Dg(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(s){return new Xm}createDatastore(s){const a=al(s.databaseInfo.databaseId),h=new si(s.databaseInfo);return new sp(s.authCredentials,s.appCheckCredentials,h,a)}createRemoteStore(s){return h=this.localStore,y=this.datastore,b=s.asyncQueue,R=a=>tu(this.syncEngine,a,0),L=ge.D()?new ge:new X,new Tg(h,y,b,R,L);var h,y,b,R,L}createSyncEngine(s,a){return function(y,b,R,L,K,ue,we){const Ze=new t_(y,b,R,L,K,ue);return we&&(Ze.Qa=!0),Ze}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,s.initialUser,s.maxConcurrentLimboResolutions,a)}terminate(){var s=this;return(0,i.A)(function*(){var a,h,y;yield(y=(0,i.A)(function*(R){const L=mt(R);xe("RemoteStore","RemoteStore shutting down."),L.L_.add(5),yield Hl(L),L.k_.shutdown(),L.q_.set("Unknown")}),function b(R){return y.apply(this,arguments)})(s.remoteStore),null===(a=s.datastore)||void 0===a||a.terminate(),null===(h=s.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function tf(d,e=10240){let s=0;return{read:()=>(0,i.A)(function*(){if(s<d.byteLength){const a={value:d.slice(s,s+e),done:!1};return s+=e,a}return{done:!0}})(),cancel:()=>(0,i.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ba{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):tn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,s){setTimeout(()=>{this.muted||e(s)},0)}}class nf{constructor(e,s){this.Xa=e,this.serializer=s,this.metadata=new ft,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,i.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,i.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,i.A)(function*(){const s=yield e.nu();if(null===s)return null;const a=e.eu.decode(s),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const y=yield e.iu(h);return new by(JSON.parse(y),s.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,i.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const s=e.su();s<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,s);return e.buffer=e.buffer.slice(s),a})()}iu(e){var s=this;return(0,i.A)(function*(){for(;s.buffer.length<e;)(yield s.ou())&&s.ru("Reached the end of bundle when more is expected.");const a=s.eu.decode(s.buffer.slice(0,e));return s.buffer=s.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,i.A)(function*(){const s=yield e.Xa.read();if(!s.done){const a=new Uint8Array(e.buffer.length+s.value.length);a.set(e.buffer),a.set(s.value,e.buffer.length),e.buffer=a}return s.done})()}}class h_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var s=this;return(0,i.A)(function*(){if(s.ensureCommitNotCalled(),s.mutations.length>0)throw s.lastTransactionError=new lt(Ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),s.lastTransactionError;const a=yield(h=(0,i.A)(function*(b,R){const L=mt(b),K={documents:R.map(Mt=>Lr(L.serializer,Mt))},ue=yield L.Lo("BatchGetDocuments",L.serializer.databaseId,Zt.emptyPath(),K,R.length),we=new Map;ue.forEach(Mt=>{const Xt=function wd(d,e){return"found"in e?function(a,h){Ut(!!h.found);const y=zo(a,h.found.name),b=Ki(h.found.updateTime),R=h.found.createTime?Ki(h.found.createTime):qt.min(),L=new We({mapValue:{fields:h.found.fields}});return It.newFoundDocument(y,b,R,L)}(d,e):"missing"in e?function(a,h){Ut(!!h.missing),Ut(!!h.readTime);const y=zo(a,h.missing),b=Ki(h.readTime);return It.newNoDocument(y,b)}(d,e):it()}(L.serializer,Mt);we.set(Xt.key.toString(),Xt)});const Ze=[];return R.forEach(Mt=>{const Xt=we.get(Mt.toString());Ut(!!Xt),Ze.push(Xt)}),Ze}),function y(b,R){return h.apply(this,arguments)})(s.datastore,e);var h;return a.forEach(h=>s.recordVersion(h)),a})()}set(e,s){this.write(s.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,s){try{this.write(s.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,i.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const s=e.readVersions;var a;e.mutations.forEach(a=>{s.delete(a.key.toString())}),s.forEach((a,h)=>{const y=Bt.fromPath(h);e.mutations.push(new sa(y,e.precondition(y)))}),yield(a=(0,i.A)(function*(y,b){const R=mt(y),L={writes:b.map(K=>wl(R.serializer,K))};yield R.Mo("Commit",R.serializer.databaseId,Zt.emptyPath(),L)}),function h(y,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let s;if(e.isFoundDocument())s=e.version;else{if(!e.isNoDocument())throw it();s=qt.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!s.isEqual(a))throw new lt(Ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),s)}precondition(e){const s=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&s?s.isEqual(qt.min())?Y.exists(!1):Y.updateTime(s):Y.none()}preconditionForUpdate(e){const s=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&s){if(s.isEqual(qt.min()))throw new lt(Ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y.updateTime(s)}return Y.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class f_{constructor(e,s,a,h,y){this.asyncQueue=e,this.datastore=s,this.options=a,this.updateFunction=h,this.deferred=y,this._u=a.maxAttempts,this.t_=new Ud(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,i.A)(function*(){const s=new h_(e.datastore),a=e.cu(s);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>s.commit().then(()=>{e.deferred.resolve(h)}).catch(y=>{e.lu(y)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const s=this.updateFunction(e);return!se(s)&&s.catch&&s.then?s:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const s=e.code;return"aborted"===s||"failed-precondition"===s||"already-exists"===s||!El(s)}return!1}}class p_{constructor(e,s,a,h,y){var b=this;this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=a,this.databaseInfo=h,this.user=dt.UNAUTHENTICATED,this.clientId=kn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=y,this.authCredentials.start(a,function(){var R=(0,i.A)(function*(L){xe("FirestoreClient","Received user=",L.uid),yield b.authCredentialListener(L),b.user=L});return function(L){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(a,R=>(xe("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const s=new ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,i.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),s.resolve()}catch(a){const h=Zc(a,"Failed to shutdown persistence");s.reject(h)}})),s.promise}}function g_(d,e){return m_.apply(this,arguments)}function m_(){return m_=(0,i.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const s=d.configuration;yield e.initialize(s);let a=s.initialUser;d.setCredentialChangeListener(function(){var h=(0,i.A)(function*(y){a.isEqual(y)||(yield ca(e.localStore,y),a=y)});return function(y){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),m_.apply(this,arguments)}function xy(d,e){return rf.apply(this,arguments)}function rf(){return(rf=(0,i.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const s=yield sf(d);xe("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(s,d.configuration),d.setCredentialChangeListener(a=>Ym(e.remoteStore,a)),d.setAppCheckTokenChangeListener((a,h)=>Ym(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function sf(d){return af.apply(this,arguments)}function af(){return(af=(0,i.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){xe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield g_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Ve.FAILED_PRECONDITION||h.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;un("Error using user provided cache. Falling back to memory cache: "+e),yield g_(d,new Zu)}}else xe("FirestoreClient","Using default OfflineComponentProvider"),yield g_(d,new Zu);var h;return d._offlineComponents})).apply(this,arguments)}function ru(d){return ed.apply(this,arguments)}function ed(){return(ed=(0,i.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(xe("FirestoreClient","Using user provided OnlineComponentProvider"),yield xy(d,d._uninitializedComponentsProvider._online)):(xe("FirestoreClient","Using default OnlineComponentProvider"),yield xy(d,new Yd))),d._onlineComponents})).apply(this,arguments)}function lf(d){return sf(d).then(e=>e.persistence)}function vc(d){return sf(d).then(e=>e.localStore)}function cf(d){return ru(d).then(e=>e.remoteStore)}function qg(d){return ru(d).then(e=>e.syncEngine)}function Wl(d){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,i.A)(function*(d){const e=yield ru(d),s=e.eventManager;return s.onListen=Xu.bind(null,e.syncEngine),s.onUnlisten=r_.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=n_.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=kg.bind(null,e.syncEngine),s})).apply(this,arguments)}function Qg(d,e,s={}){const a=new ft;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function(y,b,R,L,K){const ue=new Ba({next:Ze=>{ue.Za(),b.enqueueAndForget(()=>oi(y,we));const Mt=Ze.docs.has(R);!Mt&&Ze.fromCache?K.reject(new lt(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):Mt&&Ze.fromCache&&L&&"server"===L.source?K.reject(new lt(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Ze)},error:Ze=>K.reject(Ze)}),we=new Mg(ee(R.path),ue,{includeMetadataChanges:!0,_a:!0});return eu(y,we)}(yield Wl(d),d.asyncQueue,e,s,a)})),a.promise}function Dp(d,e,s={}){const a=new ft;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function(y,b,R,L,K){const ue=new Ba({next:Ze=>{ue.Za(),b.enqueueAndForget(()=>oi(y,we)),Ze.fromCache&&"server"===L.source?K.reject(new lt(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Ze)},error:Ze=>K.reject(Ze)}),we=new Mg(R,ue,{includeMetadataChanges:!0,_a:!0});return eu(y,we)}(yield Wl(d),d.asyncQueue,e,s,a)})),a.promise}function Ly(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const Xd=new Map;function nd(d,e,s){if(!s)throw new lt(Ve.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function Jg(d,e,s,a){if(!0===e&&!0===a)throw new lt(Ve.INVALID_ARGUMENT,`${d} and ${s} cannot be used together.`)}function Rp(d){if(!Bt.isDocumentKey(d))throw new lt(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function ll(d){if(Bt.isDocumentKey(d))throw new lt(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function Rs(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(a=d).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof d?"a function":it()}function zr(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new lt(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Rs(d);throw new lt(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return d}function uf(d,e){if(e<=0)throw new lt(Ve.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class v_{constructor(e){var s,a;if(void 0===e.host){if(void 0!==e.ssl)throw new lt(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(s=e.ssl)||void 0===s||s;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new lt(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ly(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new lt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new lt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new lt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iu{constructor(e,s,a,h){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new lt(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new Z;switch(a.type){case"firstParty":return new at(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,i.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const a=Xd.get(s);a&&(xe("ComponentProvider","Removing Datastore"),Xd.delete(s),a.terminate())}(this),Promise.resolve()}}function Zg(d,e,s,a={}){var h;const y=(d=zr(d,iu))._getSettings(),b=`${e}:${s}`;if("firestore.googleapis.com"!==y.host&&y.host!==b&&un("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},y),{host:b,ssl:!1})),a.mockUserToken){let R,L;if("string"==typeof a.mockUserToken)R=a.mockUserToken,L=dt.MOCK_USER;else{R=(0,oe.Fy)(a.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const K=a.mockUserToken.sub||a.mockUserToken.user_id;if(!K)throw new lt(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new dt(K)}d._authCredentials=new Ee(new Le(R,L))}}class so{constructor(e,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class Ls{constructor(e,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ls(this.firestore,e,this._key)}}class Ga extends so{constructor(e,s,a){super(e,s,ee(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ls(this.firestore,null,new Bt(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function E_(d,e,...s){if(d=(0,oe.Ku)(d),nd("collection","path",e),d instanceof iu){const a=Zt.fromString(e,...s);return ll(a),new Ga(d,null,a)}{if(!(d instanceof Ls||d instanceof Ga))throw new lt(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(Zt.fromString(e,...s));return ll(a),new Ga(d.firestore,null,a)}}function b_(d,e){if(d=zr(d,iu),nd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new lt(Ve.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new so(d,null,(a=e,new xo(Zt.emptyPath(),a)));var a}function rd(d,e,...s){if(d=(0,oe.Ku)(d),1===arguments.length&&(e=kn.newId()),nd("doc","path",e),d instanceof iu){const a=Zt.fromString(e,...s);return Rp(a),new Ls(d,null,new Bt(a))}{if(!(d instanceof Ls||d instanceof Ga))throw new lt(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(Zt.fromString(e,...s));return Rp(a),new Ls(d.firestore,d instanceof Ga?d.converter:null,new Bt(a))}}function zv(d,e){return d=(0,oe.Ku)(d),e=(0,oe.Ku)(e),(d instanceof Ls||d instanceof Ga)&&(e instanceof Ls||e instanceof Ga)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function xp(d,e){return d=(0,oe.Ku)(d),e=(0,oe.Ku)(e),d instanceof so&&e instanceof so&&d.firestore===e.firestore&&uo(d._query,e._query)&&d.converter===e.converter}class df{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ud(this,"async_queue_retry"),this.Vu=()=>{const a=ua();a&&xe("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const s=ua();s&&"function"==typeof s.addEventListener&&s.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const s=ua();s&&"function"==typeof s.removeEventListener&&s.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const s=new ft;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,i.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(s){if(!Rn(s))throw s;xe("AsyncQueue","Operation failed with retryable error: "+s)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const s=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,tn("INTERNAL UNHANDLED ERROR: ",function(b){let R=b.message||"";return b.stack&&(R=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),R}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=s,s}enqueueAfterDelay(e,s,a){this.fu(),this.Ru.indexOf(e)>-1&&(s=0);const h=Wh.createAndSchedule(this,e,s,a,y=>this.yu(y));return this.Tu.push(h),h}fu(){this.Eu&&it()}verifyOperationInProgress(){}wu(){var e=this;return(0,i.A)(function*(){let s;do{s=e.mu,yield s}while(s!==e.mu)})()}Su(e){for(const s of this.Tu)if(s.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((s,a)=>s.targetTimeMs-a.targetTimeMs);for(const s of this.Tu)if(s.skipDelay(),"all"!==e&&s.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const s=this.Tu.indexOf(e);this.Tu.splice(s,1)}}function T_(d){return function(s,a){if("object"!=typeof s||null===s)return!1;const h=s;for(const y of["next","error","complete"])if(y in h&&"function"==typeof h[y])return!0;return!1}(d)}class C_{constructor(){this._progressObserver={},this._taskCompletionResolver=new ft,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,s,a){this._progressObserver={next:e,error:s,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,s){return this._taskCompletionResolver.promise.then(e,s)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const em=-1;class Ai extends iu{constructor(e,s,a,h){super(e,s,a,h),this.type="firestore",this._queue=new df,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,i.A)(function*(){if(e._firestoreClient){const s=e._firestoreClient.terminate();e._queue=new df(s),e._firestoreClient=void 0,yield s}})()}}function I_(d,e){const s="object"==typeof d?d:(0,ie.getApp)(),a="string"==typeof d?d:e||"(default)",h=(0,ie._getProvider)(s,"firestore").getImmediate({identifier:a});if(!h._initialized){const y=(0,oe.yU)("firestore");y&&Zg(h,...y)}return h}function xs(d){if(d._terminated)throw new lt(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||Vy(d),d._firestoreClient}function Vy(d){var e,s,a;const h=d._freezeSettings(),y=(L=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new Pr(d._databaseId,L,d._persistenceKey,(ue=h).host,ue.ssl,ue.experimentalForceLongPolling,ue.experimentalAutoDetectLongPolling,Ly(ue.experimentalLongPollingOptions),ue.useFetchStreams));var L,ue;d._componentsProvider||!(null===(s=h.localCache)||void 0===s)&&s._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new p_(d._authCredentials,d._appCheckCredentials,d._queue,y,d._componentsProvider&&function(R){const L=R?._online.build();return{_offline:R?._offline.build(L),_online:L}}(d._componentsProvider))}function tm(d,e){un("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=d._freezeSettings();return Uy(d,Yd.provider,{build:a=>new ef(a,s.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function su(d){return hf.apply(this,arguments)}function hf(){return(hf=(0,i.A)(function*(d){un("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();Uy(d,Yd.provider,{build:s=>new d_(s,e.cacheSizeBytes)})})).apply(this,arguments)}function Uy(d,e,s){if((d=zr(d,Ai))._firestoreClient||d._terminated)throw new lt(Ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new lt(Ve.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:s},Vy(d)}function nm(d){if(d._initialized&&!d._terminated)throw new lt(Ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ft;return d._queue.enqueueAndForgetEvenWhileRestricted((0,i.A)(function*(){try{yield(s=(0,i.A)(function*(h){if(!de.D())return Promise.resolve();const y=h+"main";yield de.delete(y)}),function a(h){return s.apply(this,arguments)})(Nd(d._databaseId,d._persistenceKey)),e.resolve()}catch(s){e.reject(s)}var s})),e.promise}function rm(d){return function(s){const a=new ft;return s.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function Iy(d,e){return jg.apply(this,arguments)}(yield qg(s),a)})),a.promise}(xs(d=zr(d,Ai)))}function w_(d){return function Xg(d){return d.asyncQueue.enqueue((0,i.A)(function*(){const e=yield lf(d),s=yield cf(d);return e.setNetworkEnabled(!0),function(h){const y=mt(h);return y.L_.delete(0),Xc(y)}(s)}))}(xs(d=zr(d,Ai)))}function Wv(d){return function Py(d){return d.asyncQueue.enqueue((0,i.A)(function*(){const e=yield lf(d),s=yield cf(d);return e.setNetworkEnabled(!1),(a=(0,i.A)(function*(y){const b=mt(y);b.L_.add(0),yield Hl(b),b.q_.set("Offline")}),function h(y){return a.apply(this,arguments)})(s);var a}))}(xs(d=zr(d,Ai)))}function im(d,e){const s=xs(d=zr(d,Ai)),a=new C_;return function Ny(d,e,s,a){const h=function(b,R){let L;return L="string"==typeof b?Td().encode(b):b,ue=function(ue,we){if(ue instanceof Uint8Array)return tf(ue,void 0);if(ue instanceof ArrayBuffer)return tf(new Uint8Array(ue),void 0);if(ue instanceof ReadableStream)return ue.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new nf(ue,R);var ue}(s,al(e));d.asyncQueue.enqueueAndForget((0,i.A)(function*(){!function Dy(d,e,s){const a=mt(d);var h;(h=(0,i.A)(function*(b,R,L){try{const K=yield R.getMetadata();if(yield function(Xt,mn){const cn=mt(Xt),Zn=Ki(mn.createTime);return cn.persistence.runTransaction("hasNewerBundle","readonly",pr=>cn.Gr.getBundleMetadata(pr,mn.id)).then(pr=>!!pr&&pr.createTime.compareTo(Zn)>=0)}(b.localStore,K))return yield R.close(),L._completeWith({taskState:"Success",documentsLoaded:(Xt=K).totalDocuments,bytesLoaded:Xt.totalBytes,totalDocuments:Xt.totalDocuments,totalBytes:Xt.totalBytes}),Promise.resolve(new Set);L._updateProgress(qh(K));const ue=new Zm(K,b.localStore,R.serializer);let we=yield R.Ua();for(;we;){const Mt=yield ue.la(we);Mt&&L._updateProgress(Mt),we=yield R.Ua()}const Ze=yield ue.complete();return yield mc(b,Ze.Ia,void 0),yield function(Xt,mn){const cn=mt(Xt);return cn.persistence.runTransaction("Save bundle","readwrite",Zn=>cn.Gr.saveBundleMetadata(Zn,mn))}(b.localStore,K),L._completeWith(Ze.progress),Promise.resolve(Ze.Pa)}catch(K){return un("SyncEngine",`Loading bundle failed with ${K}`),L._failWith(K),Promise.resolve(new Set)}var Xt}),function y(b,R,L){return h.apply(this,arguments)})(a,e,s).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield qg(d),h,a)}))}(s,d._databaseId,e,a),a}function r0(d,e){return function Fy(d,e){return d.asyncQueue.enqueue((0,i.A)(function*(){return function(a,h){const y=mt(a);return y.persistence.runTransaction("Get named query","readonly",b=>y.Gr.getNamedQuery(b,h))}(yield vc(d),e)}))}(xs(d=zr(d,Ai)),e).then(s=>s?new so(d,null,s.query):null)}class id{constructor(e){this._byteString=e}static fromBase64String(e){try{return new id(Di.fromBase64String(e))}catch(s){throw new lt(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new id(Di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qd{constructor(...e){for(let s=0;s<e.length;++s)if(0===e[s].length)throw new lt(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ec{constructor(e){this._methodName=e}}class sm{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new lt(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new lt(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}}class ff{constructor(e){this._values=(e||[]).map(s=>s)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let y=0;y<a.length;++y)if(a[y]!==h[y])return!1;return!0}(this._values,e._values)}}const A_=/^__.*__$/;class pf{constructor(e,s,a){this.data=e,this.fieldMask=s,this.fieldTransforms=a}toMutation(e,s){return null!==this.fieldMask?new Hr(e,this.data,this.fieldMask,s,this.fieldTransforms):new hr(e,this.data,s,this.fieldTransforms)}}class om{constructor(e,s,a){this.data=e,this.fieldMask=s,this.fieldTransforms=a}toMutation(e,s){return new Hr(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function am(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class sd{constructor(e,s,a,h,y,b){this.settings=e,this.databaseId=s,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===y&&this.vu(),this.fieldTransforms=y||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new sd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var s;const a=null===(s=this.path)||void 0===s?void 0:s.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var s;const a=null===(s=this.path)||void 0===s?void 0:s.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(s=>e.isPrefixOf(s))||void 0!==this.fieldTransforms.find(s=>e.isPrefixOf(s.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(am(this.Cu)&&A_.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class lm{constructor(e,s,a){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=a||al(e)}Qu(e,s,a,h=!1){return new sd({Cu:e,methodName:s,qu:a,path:Un.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cl(d){const e=d._freezeSettings(),s=al(d._databaseId);return new lm(d._databaseId,!!e.ignoreUndefinedProperties,s)}function gf(d,e,s,a,h,y={}){const b=d.Qu(y.merge||y.mergeFields?2:0,e,s,h);x_("Data must be an object, but it was:",b,a);const R=R_(a,b);let L,K;if(y.merge)L=new Zr(b.fieldMask),K=b.fieldTransforms;else if(y.mergeFields){const ue=[];for(const we of y.mergeFields){const Ze=um(e,we,s);if(!b.contains(Ze))throw new lt(Ve.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);Gy(ue,Ze)||ue.push(Ze)}L=new Zr(ue),K=b.fieldTransforms.filter(we=>L.covers(we.field))}else L=null,K=b.fieldTransforms;return new pf(new We(R),L,K)}class Jd extends Ec{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jd}}function Op(d,e,s){return new sd({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:s},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jy extends Ec{_toFieldTransform(e){return new x(e.path,new vl)}isEqual(e){return e instanceof jy}}class Np extends Ec{constructor(e,s){super(e),this.Ku=s}_toFieldTransform(e){const s=Op(this,e,!0),a=this.Ku.map(y=>ou(y,s)),h=new Go(a);return new x(e.path,h)}isEqual(e){return e instanceof Np&&(0,oe.bD)(this.Ku,e.Ku)}}class Zd extends Ec{constructor(e,s){super(e),this.Ku=s}_toFieldTransform(e){const s=Op(this,e,!0),a=this.Ku.map(y=>ou(y,s)),h=new Na(a);return new x(e.path,h)}isEqual(e){return e instanceof Zd&&(0,oe.bD)(this.Ku,e.Ku)}}class S_ extends Ec{constructor(e,s){super(e),this.$u=s}_toFieldTransform(e){const s=new Ya(e.serializer,Eu(e.serializer,this.$u));return new x(e.path,s)}isEqual(e){return e instanceof S_&&this.$u===e.$u}}function cm(d,e,s,a){const h=d.Qu(1,e,s);x_("Data must be an object, but it was:",h,a);const y=[],b=We.empty();Jr(a,(L,K)=>{const ue=eh(e,L,s);K=(0,oe.Ku)(K);const we=h.Nu(ue);if(K instanceof Jd)y.push(ue);else{const Ze=ou(K,we);null!=Ze&&(y.push(ue),b.set(ue,Ze))}});const R=new Zr(y);return new om(b,R,h.fieldTransforms)}function D_(d,e,s,a,h,y){const b=d.Qu(1,e,s),R=[um(e,a,s)],L=[h];if(y.length%2!=0)throw new lt(Ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<y.length;Ze+=2)R.push(um(e,y[Ze])),L.push(y[Ze+1]);const K=[],ue=We.empty();for(let Ze=R.length-1;Ze>=0;--Ze)if(!Gy(K,R[Ze])){const Mt=R[Ze];let Xt=L[Ze];Xt=(0,oe.Ku)(Xt);const mn=b.Nu(Mt);if(Xt instanceof Jd)K.push(Mt);else{const cn=ou(Xt,mn);null!=cn&&(K.push(Mt),ue.set(Mt,cn))}}const we=new Zr(K);return new om(ue,we,b.fieldTransforms)}function $y(d,e,s,a=!1){return ou(s,d.Qu(a?4:3,e))}function ou(d,e){if(By(d=(0,oe.Ku)(d)))return x_("Unsupported field value:",e,d),R_(d,e);if(d instanceof Ec)return function(a,h){if(!am(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const y=a._toFieldTransform(h);y&&h.fieldTransforms.push(y)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const y=[];let b=0;for(const R of a){let L=ou(R,h.Lu(b));null==L&&(L={nullValue:"NULL_VALUE"}),y.push(L),b++}return{arrayValue:{values:y}}}(d,e)}return function(a,h){if(null===(a=(0,oe.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Eu(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const y=Qt.fromDate(a);return{timestampValue:aa(h.serializer,y)}}if(a instanceof Qt){const y=new Qt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:aa(h.serializer,y)}}if(a instanceof sm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof id)return{bytesValue:jc(h.serializer,a._byteString)};if(a instanceof Ls){const y=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(y))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:ic(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof ff)return R=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(L=>{if("number"!=typeof L)throw R.Bu("VectorValues must only contain numeric values.");return Bo(R.serializer,L)})}}}}};var R;throw h.Bu(`Unsupported field value: ${Rs(a)}`)}(d,e)}function R_(d,e){const s={};return us(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(d,(a,h)=>{const y=ou(h,e.Mu(a));null!=y&&(s[a]=y)}),{mapValue:{fields:s}}}function By(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Qt||d instanceof sm||d instanceof id||d instanceof Ls||d instanceof Ec||d instanceof ff)}function x_(d,e,s){if(!By(s)||"object"!=typeof(h=s)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=Rs(s);throw e.Bu("an object"===a?d+" a custom object":d+" "+a)}var h}function um(d,e,s){if((e=(0,oe.Ku)(e))instanceof Qd)return e._internalPath;if("string"==typeof e)return eh(d,e);throw mf("Field path arguments must be of type string or ",d,!1,void 0,s)}const Yv=new RegExp("[~\\*/\\[\\]]");function eh(d,e,s){if(e.search(Yv)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,s);try{return new Qd(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,s)}}function mf(d,e,s,a,h){const y=a&&!a.isEmpty(),b=void 0!==h;let R=`Function ${e}() called with invalid data`;s&&(R+=" (via `toFirestore()`)"),R+=". ";let L="";return(y||b)&&(L+=" (found",y&&(L+=` in field ${a}`),b&&(L+=` in document ${h}`),L+=")"),new lt(Ve.INVALID_ARGUMENT,R+d+L)}function Gy(d,e){return d.some(s=>s.isEqual(e))}class _f{constructor(e,s,a,h,y){this._firestore=e,this._userDataWriter=s,this._key=a,this._document=h,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new P_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s)}}}class P_ extends _f{data(){return super.data()}}function th(d,e){return"string"==typeof e?eh(d,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}function Hy(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new lt(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dm{}class Fp extends dm{}function zy(d,e,...s){let a=[];e instanceof dm&&a.push(e),a=a.concat(s),function(y){const b=y.filter(L=>L instanceof bc).length,R=y.filter(L=>L instanceof hm).length;if(b>1||b>0&&R>0)throw new lt(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)d=h._apply(d);return d}class hm extends Fp{constructor(e,s,a){super(),this._field=e,this._op=s,this._value=a,this.type="where"}static _create(e,s,a){return new hm(e,s,a)}_apply(e){const s=this._parse(e);return O_(e._query,s),new so(e.firestore,e.converter,Yt(e._query,s))}_parse(e){const s=cl(e.firestore);return function(y,b,R,L,K,ue,we){let Ze;if(K.isKeyField()){if("array-contains"===ue||"array-contains-any"===ue)throw new lt(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ue}' queries on documentId().`);if("in"===ue||"not-in"===ue){M_(we,ue);const Mt=[];for(const Xt of we)Mt.push(gm(L,y,Xt));Ze={arrayValue:{values:Mt}}}else Ze=gm(L,y,we)}else"in"!==ue&&"not-in"!==ue&&"array-contains-any"!==ue||M_(we,ue),Ze=$y(R,"where",we,"in"===ue||"not-in"===ue);return Yn.create(K,ue,Ze)}(e._query,0,s,e.firestore._databaseId,this._field,this._op,this._value)}}function Xv(d,e,s){const a=e,h=th("where",d);return hm._create(h,a,s)}class bc extends dm{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new bc(e,s)}_parse(e){const s=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===s.length?s[0]:dr.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return 0===s.getFilters().length?e:(function(h,y){let b=h;const R=y.getFlattenedFilters();for(const L of R)O_(b,L),b=Yt(b,L)}(e._query,s),new so(e.firestore,e.converter,Yt(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class nh extends Fp{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new nh(e,s)}_apply(e){const s=function(h,y,b){if(null!==h.startAt)throw new lt(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new lt(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rr(y,b)}(e._query,this._field,this._direction);return new so(e.firestore,e.converter,function(h,y){const b=h.explicitOrderBy.concat([y]);return new xo(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,s))}}function Qv(d,e="asc"){const s=e,a=th("orderBy",d);return nh._create(a,s)}class Lp extends Fp{constructor(e,s,a){super(),this.type=e,this._limit=s,this._limitType=a}static _create(e,s,a){return new Lp(e,s,a)}_apply(e){return new so(e.firestore,e.converter,es(e._query,this._limit,this._limitType))}}function Jv(d){return uf("limit",d),Lp._create("limit",d,"F")}function Zv(d){return uf("limitToLast",d),Lp._create("limitToLast",d,"L")}class fm extends Fp{constructor(e,s,a){super(),this.type=e,this._docOrFields=s,this._inclusive=a}static _create(e,s,a){return new fm(e,s,a)}_apply(e){const s=vf(e,this.type,this._docOrFields,this._inclusive);return new so(e.firestore,e.converter,(y=s,new xo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,y,h.endAt)));var h,y}}function Wy(...d){return fm._create("startAt",d,!0)}function Ky(...d){return fm._create("startAfter",d,!1)}class yf extends Fp{constructor(e,s,a){super(),this.type=e,this._docOrFields=s,this._inclusive=a}static _create(e,s,a){return new yf(e,s,a)}_apply(e){const s=vf(e,this.type,this._docOrFields,this._inclusive);return new so(e.firestore,e.converter,(y=s,new xo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,y)));var h,y}}function o0(...d){return yf._create("endBefore",d,!1)}function pm(...d){return yf._create("endAt",d,!0)}function vf(d,e,s,a){if(s[0]=(0,oe.Ku)(s[0]),s[0]instanceof _f)return function(y,b,R,L,K){if(!L)throw new lt(Ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const ue=[];for(const we of Xe(y))if(we.field.isKeyField())ue.push(Er(b,L.key));else{const Ze=L.data.field(we.field);if(Ps(Ze))throw new lt(Ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+we.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ze){const Mt=we.field.canonicalString();throw new lt(Ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Mt}' (used as the orderBy) does not exist.`)}ue.push(Ze)}return new on(ue,K)}(d._query,d.firestore._databaseId,e,s[0]._document,a);{const h=cl(d.firestore);return function(b,R,L,K,ue,we){const Ze=b.explicitOrderBy;if(ue.length>Ze.length)throw new lt(Ve.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Mt=[];for(let Xt=0;Xt<ue.length;Xt++){const mn=ue[Xt];if(Ze[Xt].field.isKeyField()){if("string"!=typeof mn)throw new lt(Ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof mn}`);if(!pe(b)&&-1!==mn.indexOf("/"))throw new lt(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${mn}' contains a slash.`);const cn=b.path.child(Zt.fromString(mn));if(!Bt.isDocumentKey(cn))throw new lt(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${cn}' is not because it contains an odd number of segments.`);const Zn=new Bt(cn);Mt.push(Er(R,Zn))}else{const cn=$y(L,K,mn);Mt.push(cn)}}return new on(Mt,we)}(d._query,d.firestore._databaseId,h,e,s,a)}}function gm(d,e,s){if("string"==typeof(s=(0,oe.Ku)(s))){if(""===s)throw new lt(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pe(e)&&-1!==s.indexOf("/"))throw new lt(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const a=e.path.child(Zt.fromString(s));if(!Bt.isDocumentKey(a))throw new lt(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Er(d,new Bt(a))}if(s instanceof Ls)return Er(d,s._key);throw new lt(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rs(s)}.`)}function M_(d,e){if(!Array.isArray(d)||0===d.length)throw new lt(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function O_(d,e){const s=function(h,y){for(const b of h)for(const R of b.getFlattenedFilters())if(y.indexOf(R.op)>=0)return R.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==s)throw new lt(Ve.INVALID_ARGUMENT,s===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class Up{convertValue(e,s="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw it()}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const a={};return Jr(e,(h,y)=>{a[h]=this.convertValue(y,s)}),a}convertVectorValue(e){var s,a,h;const y=null===(h=null===(a=null===(s=e.fields)||void 0===s?void 0:s.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>ni(b.doubleValue));return new ff(y)}convertGeoPoint(e){return new sm(ni(e.latitude),ni(e.longitude))}convertArray(e,s){return(e.values||[]).map(a=>this.convertValue(a,s))}convertServerTimestamp(e,s){switch(s){case"previous":const a=yo(e);return null==a?null:this.convertValue(a,s);case"estimate":return this.convertTimestamp(Us(e));default:return null}}convertTimestamp(e){const s=Xs(e);return new Qt(s.seconds,s.nanos)}convertDocumentKey(e,s){const a=Zt.fromString(e);Ut(w(a));const h=new hi(a.get(1),a.get(3)),y=new Bt(a.popFirst(5));return h.isEqual(s)||tn(`Document ${y} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),y}}function jp(d,e,s){let a;return a=d?s&&(s.merge||s.mergeFields)?d.toFirestore(e,s):d.toFirestore(e):e,a}class qy extends Up{constructor(e){super(),this.firestore=e}convertBytes(e){return new id(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,s)}}class Ef{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class au extends _f{constructor(e,s,a,h,y,b){super(e,s,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const a=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}}class ul extends au{data(e={}){return super.data(e)}}class Cc{constructor(e,s,a,h){this._firestore=e,this._userDataWriter=s,this._snapshot=h,this.metadata=new Ef(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(s=>e.push(s)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,s){this._snapshot.docs.forEach(a=>{e.call(s,new ul(this._firestore,this._userDataWriter,a.key,a,new Ef(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new lt(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(h,y){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(R=>({type:"added",doc:new ul(h._firestore,h._userDataWriter,R.doc.key,R.doc,new Ef(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(R=>y||3!==R.type).map(R=>{const L=new ul(h._firestore,h._userDataWriter,R.doc.key,R.doc,new Ef(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter);let K=-1,ue=-1;return 0!==R.type&&(K=b.indexOf(R.doc.key),b=b.delete(R.doc.key)),1!==R.type&&(b=b.add(R.doc),ue=b.indexOf(R.doc.key)),{type:tE(R.type),doc:L,oldIndex:K,newIndex:ue}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function tE(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function nE(d,e){return d instanceof au&&e instanceof au?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Cc&&e instanceof Cc&&d._firestore===e._firestore&&xp(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function rE(d){d=zr(d,Ls);const e=zr(d.firestore,Ai);return Qg(xs(e),d._key).then(s=>L_(e,d,s))}class Ic extends Up{constructor(e){super(),this.firestore=e}convertBytes(e){return new id(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,s)}}function wc(d){d=zr(d,Ls);const e=zr(d.firestore,Ai),s=xs(e),a=new Ic(e);return function td(d,e){const s=new ft;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return(a=(0,i.A)(function*(y,b,R){try{const L=yield function(ue,we){const Ze=mt(ue);return Ze.persistence.runTransaction("read document","readonly",Mt=>Ze.localDocuments.getDocument(Mt,we))}(y,b);L.isFoundDocument()?R.resolve(L):L.isNoDocument()?R.resolve(null):R.reject(new lt(Ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const K=Zc(L,`Failed to get document '${b} from cache`);R.reject(K)}}),function h(y,b,R){return a.apply(this,arguments)})(yield vc(d),e,s);var a})),s.promise}(s,d._key).then(h=>new au(e,a,d._key,h,new Ef(null!==h&&h.hasLocalMutations,!0),d.converter))}function Xy(d){d=zr(d,Ls);const e=zr(d.firestore,Ai);return Qg(xs(e),d._key,{source:"server"}).then(s=>L_(e,d,s))}function iE(d){d=zr(d,so);const e=zr(d.firestore,Ai),s=xs(e),a=new Ic(e);return Hy(d._query),Dp(s,d._query).then(h=>new Cc(e,a,d,h))}function l0(d){d=zr(d,so);const e=zr(d.firestore,Ai),s=xs(e),a=new Ic(e);return function My(d,e){const s=new ft;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return(a=(0,i.A)(function*(y,b,R){try{const L=yield il(y,b,!0),K=new e_(b,L.Ts),ue=K.ma(L.documents),we=K.applyChanges(ue,!1);R.resolve(we.snapshot)}catch(L){const K=Zc(L,`Failed to execute query '${b} against cache`);R.reject(K)}}),function h(y,b,R){return a.apply(this,arguments)})(yield vc(d),e,s);var a})),s.promise}(s,d._query).then(h=>new Cc(e,a,d,h))}function wo(d){d=zr(d,so);const e=zr(d.firestore,Ai),s=xs(e),a=new Ic(e);return Dp(s,d._query,{source:"server"}).then(h=>new Cc(e,a,d,h))}function sE(d,e,s){d=zr(d,Ls);const a=zr(d.firestore,Ai),h=jp(d.converter,e,s);return rh(a,[gf(cl(a),"setDoc",d._key,h,null!==d.converter,s).toMutation(d._key,Y.none())])}function F_(d,e,s,...a){d=zr(d,Ls);const h=zr(d.firestore,Ai),y=cl(h);let b;return b="string"==typeof(e=(0,oe.Ku)(e))||e instanceof Qd?D_(y,"updateDoc",d._key,e,s,a):cm(y,"updateDoc",d._key,e),rh(h,[b.toMutation(d._key,Y.exists(!0))])}function oE(d){return rh(zr(d.firestore,Ai),[new Fs(d._key,Y.none())])}function aE(d,e){const s=zr(d.firestore,Ai),a=rd(d),h=jp(d.converter,e);return rh(s,[gf(cl(d.firestore),"addDoc",a._key,h,null!==d.converter,{}).toMutation(a._key,Y.exists(!1))]).then(()=>a)}function k_(d,...e){var s,a,h;d=(0,oe.Ku)(d);let y={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||T_(e[b])||(y=e[b],b++);const R={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(T_(e[b])){const we=e[b];e[b]=null===(s=we.next)||void 0===s?void 0:s.bind(we),e[b+1]=null===(a=we.error)||void 0===a?void 0:a.bind(we),e[b+2]=null===(h=we.complete)||void 0===h?void 0:h.bind(we)}let L,K,ue;if(d instanceof Ls)K=zr(d.firestore,Ai),ue=ee(d._key.path),L={next:we=>{e[b]&&e[b](L_(K,d,we))},error:e[b+1],complete:e[b+2]};else{const we=zr(d,so);K=zr(we.firestore,Ai),ue=we._query;const Ze=new Ic(K);L={next:Mt=>{e[b]&&e[b](new Cc(K,Ze,we,Mt))},error:e[b+1],complete:e[b+2]},Hy(d._query)}return function(Ze,Mt,Xt,mn){const cn=new Ba(mn),Zn=new Mg(Mt,cn,Xt);return Ze.asyncQueue.enqueueAndForget((0,i.A)(function*(){return eu(yield Wl(Ze),Zn)})),()=>{cn.Za(),Ze.asyncQueue.enqueueAndForget((0,i.A)(function*(){return oi(yield Wl(Ze),Zn)}))}}(xs(K),ue,R,L)}function Qy(d,e){return function Oy(d,e){const s=new Ba(e);return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return h=yield Wl(d),y=s,mt(h).Y_.add(y),void y.next();var h,y})),()=>{s.Za(),d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return h=yield Wl(d),y=s,void mt(h).Y_.delete(y);var h,y}))}}(xs(d=zr(d,Ai)),T_(e)?e:{next:e})}function rh(d,e){return function(a,h){const y=new ft;return a.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function Ep(d,e,s){return Qu.apply(this,arguments)}(yield qg(a),h,y)})),y.promise}(xs(d),e)}function L_(d,e,s){const a=s.docs.get(e._key),h=new Ic(d);return new au(d,h,e._key,a,new Ef(s.hasPendingWrites,s.fromCache),e.converter)}const Gp={maxAttempts:5};class Hp{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=cl(e)}set(e,s,a){this._verifyNotCommitted();const h=lu(e,this._firestore),y=jp(h.converter,s,a),b=gf(this._dataReader,"WriteBatch.set",h._key,y,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,Y.none())),this}update(e,s,a,...h){this._verifyNotCommitted();const y=lu(e,this._firestore);let b;return b="string"==typeof(s=(0,oe.Ku)(s))||s instanceof Qd?D_(this._dataReader,"WriteBatch.update",y._key,s,a,h):cm(this._dataReader,"WriteBatch.update",y._key,s),this._mutations.push(b.toMutation(y._key,Y.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=lu(e,this._firestore);return this._mutations=this._mutations.concat(new Fs(s._key,Y.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(Ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lu(d,e){if((d=(0,oe.Ku)(d)).firestore!==e)throw new lt(Ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class iv extends class{constructor(s,a){this._firestore=s,this._transaction=a,this._dataReader=cl(s)}get(s){const a=lu(s,this._firestore),h=new qy(this._firestore);return this._transaction.lookup([a._key]).then(y=>{if(!y||1!==y.length)return it();const b=y[0];if(b.isFoundDocument())return new _f(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new _f(this._firestore,h,a._key,null,a.converter);throw it()})}set(s,a,h){const y=lu(s,this._firestore),b=jp(y.converter,a,h),R=gf(this._dataReader,"Transaction.set",y._key,b,null!==y.converter,h);return this._transaction.set(y._key,R),this}update(s,a,h,...y){const b=lu(s,this._firestore);let R;return R="string"==typeof(a=(0,oe.Ku)(a))||a instanceof Qd?D_(this._dataReader,"Transaction.update",b._key,a,h,y):cm(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,R),this}delete(s){const a=lu(s,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,s){super(e,s),this._firestore=e}get(e){const s=lu(e,this._firestore),a=new Ic(this._firestore);return super.get(e).then(h=>new au(this._firestore,a,s._key,h._document,new Ef(!1,!1),s.converter))}}function hE(d,e,s){d=zr(d,Ai);const a=Object.assign(Object.assign({},Gp),s);return function(y){if(y.maxAttempts<1)throw new lt(Ve.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(y,b,R){const L=new ft;return y.asyncQueue.enqueueAndForget((0,i.A)(function*(){const K=yield function Yg(d){return ru(d).then(e=>e.datastore)}(y);new f_(y.asyncQueue,K,R,b,L).au()})),L.promise}(xs(d),h=>e(new iv(d,h)),a)}function fE(){return new Jd("deleteField")}function pE(){return new jy("serverTimestamp")}function sv(...d){return new Np("arrayUnion",d)}function ov(...d){return new Zd("arrayRemove",d)}function u0(d){return new S_("increment",d)}!function(e,s=!0){ot=ie.SDK_VERSION,(0,ie._registerComponent)(new n.uA("firestore",(a,{instanceIdentifier:h,options:y})=>{const b=a.getProvider("app").getImmediate(),R=new Ai(new je(a.getProvider("auth-internal")),new Sn(a.getProvider("app-check-internal")),function(K,ue){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new lt(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hi(K.options.projectId,ue)}(b,h),b);return y=Object.assign({useFetchStreams:s},y),R._setSettings(y),R},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Ie,"4.7.3",e),(0,ie.registerVersion)(Ie,"4.7.3","esm2017")}()},4535:(sn,et,O)=>{O.d(et,{Ad:()=>_n,D5:()=>bn,KR:()=>Bi,Mp:()=>Qs,Mx:()=>qr,TZ:()=>Oe,UC:()=>Jr,UY:()=>Wn,XR:()=>hs,ZH:()=>Cn,_w:()=>Er,bp:()=>Es,c7:()=>ui,nb:()=>fs,nw:()=>Tn,p_:()=>ur,qk:()=>ss,uj:()=>tn,xc:()=>Kn,yb:()=>ci});var i=O(467),ie=O(7852),n=O(1076),Ce=O(1362);const oe="firebasestorage.googleapis.com",Te="storageBucket";class z extends n.g{constructor(J,Me,We=0){super(me(J),`Firebase Storage: ${Me} (${me(J)})`),this.status_=We,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,z.prototype)}get status(){return this.status_}set status(J){this.status_=J}_codeEquals(J){return me(J)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(J){this.customData.serverResponse=J,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Q=function(te){return te.UNKNOWN="unknown",te.OBJECT_NOT_FOUND="object-not-found",te.BUCKET_NOT_FOUND="bucket-not-found",te.PROJECT_NOT_FOUND="project-not-found",te.QUOTA_EXCEEDED="quota-exceeded",te.UNAUTHENTICATED="unauthenticated",te.UNAUTHORIZED="unauthorized",te.UNAUTHORIZED_APP="unauthorized-app",te.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",te.INVALID_CHECKSUM="invalid-checksum",te.CANCELED="canceled",te.INVALID_EVENT_NAME="invalid-event-name",te.INVALID_URL="invalid-url",te.INVALID_DEFAULT_BUCKET="invalid-default-bucket",te.NO_DEFAULT_BUCKET="no-default-bucket",te.CANNOT_SLICE_BLOB="cannot-slice-blob",te.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",te.NO_DOWNLOAD_URL="no-download-url",te.INVALID_ARGUMENT="invalid-argument",te.INVALID_ARGUMENT_COUNT="invalid-argument-count",te.APP_DELETED="app-deleted",te.INVALID_ROOT_OPERATION="invalid-root-operation",te.INVALID_FORMAT="invalid-format",te.INTERNAL_ERROR="internal-error",te.UNSUPPORTED_ENVIRONMENT="unsupported-environment",te}(Q||{});function me(te){return"storage/"+te}function ke(){return new z(Q.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Nt(){return new z(Q.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Re(){return new z(Q.CANCELED,"User canceled the upload/download.")}function _t(){return new z(Q.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tn(te){return new z(Q.INVALID_ARGUMENT,te)}function un(){return new z(Q.APP_DELETED,"The Firebase app was deleted.")}function Wn(te){return new z(Q.INVALID_ROOT_OPERATION,"The operation '"+te+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function it(te,J){return new z(Q.INVALID_FORMAT,"String does not match format '"+te+"': "+J)}function Ut(te){throw new z(Q.INTERNAL_ERROR,"Internal error: "+te)}class Oe{constructor(J,Me){this.bucket=J,this.path_=Me}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const J=encodeURIComponent;return"/b/"+J(this.bucket)+"/o/"+J(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(J,Me){let We;try{We=Oe.makeFromUrl(J,Me)}catch{return new Oe(J,"")}if(""===We.path)return We;throw function dt(te){return new z(Q.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+te+"'.")}(J)}static makeFromUrl(J,Me){let We=null;const ht="([A-Za-z0-9.\\-_]+)",Nn=new RegExp("^gs://"+ht+"(/(.*))?$","i");function rr(Ri){Ri.path_=decodeURIComponent(Ri.path)}const qn=Me.replace(/[.]/g,"\\."),Or=[{regex:Nn,indices:{bucket:1,path:3},postModify:function It(Ri){"/"===Ri.path.charAt(Ri.path.length-1)&&(Ri.path_=Ri.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${qn}/v[A-Za-z0-9_]+/b/${ht}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:rr},{regex:new RegExp(`^https?://${Me===oe?"(?:storage.googleapis.com|storage.cloud.google.com)":Me}/${ht}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:rr}];for(let Ri=0;Ri<Or.length;Ri++){const bi=Or[Ri],Xr=bi.regex.exec(J);if(Xr){let gs=Xr[bi.indices.path];gs||(gs=""),We=new Oe(Xr[bi.indices.bucket],gs),bi.postModify(We);break}}if(null==We)throw function Ie(te){return new z(Q.INVALID_URL,"Invalid URL '"+te+"'.")}(J);return We}}class mt{constructor(J){this.promise_=Promise.reject(J)}getPromise(){return this.promise_}cancel(J=!1){}}function Ee(te){return"string"==typeof te||te instanceof String}function je(te){return gt()&&te instanceof Blob}function gt(){return typeof Blob<"u"}function at(te,J,Me,We){if(We<J)throw tn(`Invalid value for '${te}'. Expected ${J} or greater.`);if(We>Me)throw tn(`Invalid value for '${te}'. Expected ${Me} or less.`)}function Ht(te,J,Me){let We=J;return null==Me&&(We=`https://${J}`),`${Me}://${We}/v0${te}`}function Sn(te){const J=encodeURIComponent;let Me="?";for(const We in te)te.hasOwnProperty(We)&&(Me=Me+(J(We)+"=")+J(te[We])+"&");return Me=Me.slice(0,-1),Me}var cr=function(te){return te[te.NO_ERROR=0]="NO_ERROR",te[te.NETWORK_ERROR=1]="NETWORK_ERROR",te[te.ABORT=2]="ABORT",te}(cr||{});function dn(te,J){const Me=te>=500&&te<600,ht=-1!==[408,429].indexOf(te),It=-1!==J.indexOf(te);return Me||ht||It}class kn{constructor(J,Me,We,ht,It,on,Nn,In,rr,Mr,qn,Yn=!0){this.url_=J,this.method_=Me,this.headers_=We,this.body_=ht,this.successCodes_=It,this.additionalRetryCodes_=on,this.callback_=Nn,this.errorCallback_=In,this.timeout_=rr,this.progressCallback_=Mr,this.connectionFactory_=qn,this.retry=Yn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((dr,gi)=>{this.resolve_=dr,this.reject_=gi,this.start_()})}start_(){const Me=(We,ht)=>{const It=this.resolve_,on=this.reject_,Nn=ht.connection;if(ht.wasSuccessCode)try{const In=this.callback_(Nn,Nn.getResponse());!function ft(te){return void 0!==te}(In)?It():It(In)}catch(In){on(In)}else if(null!==Nn){const In=ke();In.serverResponse=Nn.getErrorText(),on(this.errorCallback_?this.errorCallback_(Nn,In):In)}else on(ht.canceled?this.appDelete_?un():Re():Nt())};this.canceled_?Me(0,new nn(!1,null,!0)):this.backoffId_=function Ve(te,J,Me){let We=1,ht=null,It=null,on=!1,Nn=0;function In(){return 2===Nn}let rr=!1;function Mr(...ri){rr||(rr=!0,J.apply(null,ri))}function qn(ri){ht=setTimeout(()=>{ht=null,te(dr,In())},ri)}function Yn(){It&&clearTimeout(It)}function dr(ri,...Ui){if(rr)return void Yn();if(ri)return Yn(),void Mr.call(null,ri,...Ui);if(In()||on)return Yn(),void Mr.call(null,ri,...Ui);let Or;We<64&&(We*=2),1===Nn?(Nn=2,Or=0):Or=1e3*(We+Math.random()),qn(Or)}let gi=!1;function kr(ri){gi||(gi=!0,Yn(),!rr&&(null!==ht?(ri||(Nn=2),clearTimeout(ht),qn(0)):ri||(Nn=1)))}return qn(0),It=setTimeout(()=>{on=!0,kr(!0)},Me),kr}((We,ht)=>{if(ht)return void We(!1,new nn(!1,null,!0));const It=this.connectionFactory_();this.pendingConnection_=It;const on=Nn=>{null!==this.progressCallback_&&this.progressCallback_(Nn.loaded,Nn.lengthComputable?Nn.total:-1)};null!==this.progressCallback_&&It.addUploadProgressListener(on),It.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&It.removeUploadProgressListener(on),this.pendingConnection_=null;const Nn=It.getErrorCode()===cr.NO_ERROR,In=It.getStatus();if(!Nn||dn(In,this.additionalRetryCodes_)&&this.retry){const Mr=It.getErrorCode()===cr.ABORT;return void We(!1,new nn(!1,null,Mr))}const rr=-1!==this.successCodes_.indexOf(In);We(!0,new nn(rr,It))})},Me,this.timeout_)}getPromise(){return this.promise_}cancel(J){this.canceled_=!0,this.appDelete_=J||!1,null!==this.backoffId_&&function lt(te){te(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nn{constructor(J,Me,We){this.wasSuccessCode=J,this.connection=Me,this.canceled=!!We}}function ar(...te){const J=function Zt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==J){const Me=new J;for(let We=0;We<te.length;We++)Me.append(te[We]);return Me.getBlob()}if(gt())return new Blob(te);throw new z(Q.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jn{constructor(J,Me){this.data=J,this.contentType=Me||null}}function Cn(te,J){switch(te){case Tn.RAW:return new jn(Fr(J));case Tn.BASE64:case Tn.BASE64URL:return new jn(Vr(te,J));case Tn.DATA_URL:return new jn(function Kr(te){const J=new zn(te);return J.base64?Vr(Tn.BASE64,J.rest):function Sr(te){let J;try{J=decodeURIComponent(te)}catch{throw it(Tn.DATA_URL,"Malformed data URL.")}return Fr(J)}(J.rest)}(J),function Qi(te){return new zn(te).contentType}(J))}throw ke()}function Fr(te){const J=[];for(let Me=0;Me<te.length;Me++){let We=te.charCodeAt(Me);We<=127?J.push(We):We<=2047?J.push(192|We>>6,128|63&We):55296==(64512&We)?Me<te.length-1&&56320==(64512&te.charCodeAt(Me+1))?(We=65536|(1023&We)<<10|1023&te.charCodeAt(++Me),J.push(240|We>>18,128|We>>12&63,128|We>>6&63,128|63&We)):J.push(239,191,189):56320==(64512&We)?J.push(239,191,189):J.push(224|We>>12,128|We>>6&63,128|63&We)}return new Uint8Array(J)}function Vr(te,J){switch(te){case Tn.BASE64:{const ht=-1!==J.indexOf("-"),It=-1!==J.indexOf("_");if(ht||It)throw it(te,"Invalid character '"+(ht?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{const ht=-1!==J.indexOf("+"),It=-1!==J.indexOf("/");if(ht||It)throw it(te,"Invalid character '"+(ht?"+":"/")+"' found: is it base64 encoded?");J=J.replace(/-/g,"+").replace(/_/g,"/");break}}let Me;try{Me=function Bt(te){if(typeof atob>"u")throw function xe(te){return new z(Q.UNSUPPORTED_ENVIRONMENT,`${te} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(te)}(J)}catch(ht){throw ht.message.includes("polyfill")?ht:it(te,"Invalid character found")}const We=new Uint8Array(Me.length);for(let ht=0;ht<Me.length;ht++)We[ht]=Me.charCodeAt(ht);return We}class zn{constructor(J){this.base64=!1,this.contentType=null;const Me=J.match(/^data:([^,]+)?,/);if(null===Me)throw it(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const We=Me[1]||null;null!=We&&(this.base64=function pn(te,J){return te.length>=J.length&&te.substring(te.length-J.length)===J}(We,";base64"),this.contentType=this.base64?We.substring(0,We.length-7):We),this.rest=J.substring(J.indexOf(",")+1)}}class qr{constructor(J,Me){let We=0,ht="";je(J)?(this.data_=J,We=J.size,ht=J.type):J instanceof ArrayBuffer?(Me?this.data_=new Uint8Array(J):(this.data_=new Uint8Array(J.byteLength),this.data_.set(new Uint8Array(J))),We=this.data_.length):J instanceof Uint8Array&&(Me?this.data_=J:(this.data_=new Uint8Array(J.length),this.data_.set(J)),We=J.length),this.size_=We,this.type_=ht}size(){return this.size_}type(){return this.type_}slice(J,Me){if(je(this.data_)){const ht=function Un(te,J,Me){return te.webkitSlice?te.webkitSlice(J,Me):te.mozSlice?te.mozSlice(J,Me):te.slice?te.slice(J,Me):null}(this.data_,J,Me);return null===ht?null:new qr(ht)}{const We=new Uint8Array(this.data_.buffer,J,Me-J);return new qr(We,!0)}}static getBlob(...J){if(gt()){const Me=J.map(We=>We instanceof qr?We.data_:We);return new qr(ar.apply(null,Me))}{const Me=J.map(on=>Ee(on)?Cn(Tn.RAW,on).data:on.data_);let We=0;Me.forEach(on=>{We+=on.byteLength});const ht=new Uint8Array(We);let It=0;return Me.forEach(on=>{for(let Nn=0;Nn<on.length;Nn++)ht[It++]=on[Nn]}),new qr(ht,!0)}}uploadData(){return this.data_}}function nr(te){let J;try{J=JSON.parse(te)}catch{return null}return function Z(te){return"object"==typeof te&&!Array.isArray(te)}(J)?J:null}function Ci(te){const J=te.lastIndexOf("/",te.length-2);return-1===J?te:te.slice(J+1)}function pt(te,J){return J}class Et{constructor(J,Me,We,ht){this.server=J,this.local=Me||J,this.writable=!!We,this.xform=ht||pt}}let de=null;function Ft(){if(de)return de;const te=[];te.push(new Et("bucket")),te.push(new Et("generation")),te.push(new Et("metageneration")),te.push(new Et("name","fullPath",!0));const Me=new Et("name");Me.xform=function J(It,on){return function ze(te){return!Ee(te)||te.length<2?te:Ci(te)}(on)},te.push(Me);const ht=new Et("size");return ht.xform=function We(It,on){return void 0!==on?Number(on):on},te.push(ht),te.push(new Et("timeCreated")),te.push(new Et("updated")),te.push(new Et("md5Hash",null,!0)),te.push(new Et("cacheControl",null,!0)),te.push(new Et("contentDisposition",null,!0)),te.push(new Et("contentEncoding",null,!0)),te.push(new Et("contentLanguage",null,!0)),te.push(new Et("contentType",null,!0)),te.push(new Et("metadata","customMetadata",!0)),de=te,de}function Rr(te,J,Me){const We=nr(J);return null===We?null:function Rn(te,J,Me){const We={type:"file"},ht=Me.length;for(let It=0;It<ht;It++){const on=Me[It];We[on.local]=on.xform(We,J[on.server])}return function zt(te,J){Object.defineProperty(te,"ref",{get:function Me(){const It=new Oe(te.bucket,te.fullPath);return J._makeStorageReference(It)}})}(We,te),We}(te,We,Me)}function li(te,J){const Me={},We=J.length;for(let ht=0;ht<We;ht++){const It=J[ht];It.writable&&(Me[It.server]=te[It.local])}return JSON.stringify(Me)}const Pt="prefixes",B="items";class se{constructor(J,Me,We,ht){this.url=J,this.method=Me,this.handler=We,this.timeout=ht,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ye(te){if(!te)throw ke()}function ce(te,J){return function Me(We,ht){const It=Rr(te,ht,J);return ye(null!==It),It}}function De(te){return function J(Me,We){let ht;return ht=401===Me.getStatus()?Me.getErrorText().includes("Firebase App Check token is invalid")?function fe(){return new z(Q.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function qe(){return new z(Q.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Me.getStatus()?function Je(te){return new z(Q.QUOTA_EXCEEDED,"Quota for bucket '"+te+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(te.bucket):403===Me.getStatus()?function He(te){return new z(Q.UNAUTHORIZED,"User does not have permission to access '"+te+"'.")}(te.path):We,ht.status=Me.getStatus(),ht.serverResponse=We.serverResponse,ht}}function St(te){const J=De(te);return function Me(We,ht){let It=J(We,ht);return 404===We.getStatus()&&(It=function Be(te){return new z(Q.OBJECT_NOT_FOUND,"Object '"+te+"' does not exist.")}(te.path)),It.serverResponse=ht.serverResponse,It}}function Dn(te,J,Me){const ht=Ht(J.fullServerUrl(),te.host,te._protocol),on=te.maxOperationRetryTime,Nn=new se(ht,"GET",ce(te,Me),on);return Nn.errorHandler=St(J),Nn}function Se(te,J,Me,We,ht){const It={};It.prefix=J.isRoot?"":J.path+"/",Me&&Me.length>0&&(It.delimiter=Me),We&&(It.pageToken=We),ht&&(It.maxResults=ht);const Nn=Ht(J.bucketOnlyServerUrl(),te.host,te._protocol),rr=te.maxOperationRetryTime,Mr=new se(Nn,"GET",function Qe(te,J){return function Me(We,ht){const It=function k(te,J,Me){const We=nr(Me);return null===We?null:function P(te,J,Me){const We={prefixes:[],items:[],nextPageToken:Me.nextPageToken};if(Me[Pt])for(const ht of Me[Pt]){const It=ht.replace(/\/$/,""),on=te._makeStorageReference(new Oe(J,It));We.prefixes.push(on)}if(Me[B])for(const ht of Me[B]){const It=te._makeStorageReference(new Oe(J,ht.name));We.items.push(It)}return We}(te,J,We)}(te,J,ht);return ye(null!==It),It}}(te,J.bucket),rr);return Mr.urlParams=It,Mr.errorHandler=De(J),Mr}function hn(te,J,Me){const We=Object.assign({},Me);return We.fullPath=te.path,We.size=J.size(),We.contentType||(We.contentType=function En(te,J){return te&&te.contentType||J&&J.type()||"application/octet-stream"}(null,J)),We}class gn{constructor(J,Me,We,ht){this.current=J,this.total=Me,this.finalized=!!We,this.metadata=ht||null}}function Ii(te,J){let Me=null;try{Me=te.getResponseHeader("X-Goog-Upload-Status")}catch{ye(!1)}return ye(!!Me&&-1!==(J||["active"]).indexOf(Me)),Me}const Kn={STATE_CHANGED:"state_changed"},_n={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Fn(te){switch(te){case"running":case"pausing":case"canceling":return _n.RUNNING;case"paused":return _n.PAUSED;case"success":return _n.SUCCESS;case"canceled":return _n.CANCELED;default:return _n.ERROR}}class gr{constructor(J,Me,We){if(function Le(te){return"function"==typeof te}(J)||null!=Me||null!=We)this.next=J,this.error=Me??void 0,this.complete=We??void 0;else{const It=J;this.next=It.next,this.error=It.error,this.complete=It.complete}}}function $r(te){return(...J)=>{Promise.resolve().then(()=>te(...J))}}let er=null;class Fi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cr.NO_ERROR,this.sendPromise_=new Promise(J=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cr.ABORT,J()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cr.NETWORK_ERROR,J()}),this.xhr_.addEventListener("load",()=>{J()})})}send(J,Me,We,ht){if(this.sent_)throw Ut("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Me,J,!0),void 0!==ht)for(const It in ht)ht.hasOwnProperty(It)&&this.xhr_.setRequestHeader(It,ht[It].toString());return void 0!==We?this.xhr_.send(We):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ut("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ut("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ut("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ut("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(J){return this.xhr_.getResponseHeader(J)}addUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",J)}removeUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",J)}}class cs extends Fi{initXhr(){this.xhr_.responseType="text"}}function ki(){return er?er():new cs}class Jr{constructor(J,Me,We=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=J,this._blob=Me,this._metadata=We,this._mappings=Ft(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ht=>{if(this._request=void 0,this._chunkMultiplier=1,ht._codeEquals(Q.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const It=this.isExponentialBackoffExpired();if(dn(ht.status,[])){if(!It)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();ht=Nt()}this._error=ht,this._transition("error")}},this._metadataErrorHandler=ht=>{this._request=void 0,ht._codeEquals(Q.CANCELED)?this.completeTransitions_():(this._error=ht,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ht,It)=>{this._resolve=ht,this._reject=It,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const J=this._transferred;return Me=>this._updateProgress(J+Me)}_shouldDoResumable(J){return J.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(J){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Me,We])=>{switch(this._state){case"running":J(Me,We);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((J,Me)=>{const We=function Dt(te,J,Me,We,ht){const It=J.bucketOnlyServerUrl(),on=hn(J,We,ht),Nn={name:on.fullPath},In=Ht(It,te.host,te._protocol),Mr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${We.size()}`,"X-Goog-Upload-Header-Content-Type":on.contentType,"Content-Type":"application/json; charset=utf-8"},qn=li(on,Me),gi=new se(In,"POST",function dr(kr){let ri;Ii(kr);try{ri=kr.getResponseHeader("X-Goog-Upload-URL")}catch{ye(!1)}return ye(Ee(ri)),ri},te.maxUploadRetryTime);return gi.urlParams=Nn,gi.headers=Mr,gi.body=qn,gi.errorHandler=De(J),gi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ht=this._ref.storage._makeRequest(We,ki,J,Me);this._request=ht,ht.getPromise().then(It=>{this._request=void 0,this._uploadUrl=It,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const J=this._uploadUrl;this._resolveToken((Me,We)=>{const ht=function ct(te,J,Me,We){const In=new se(Me,"POST",function It(rr){const Mr=Ii(rr,["active","final"]);let qn=null;try{qn=rr.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ye(!1)}qn||ye(!1);const Yn=Number(qn);return ye(!isNaN(Yn)),new gn(Yn,We.size(),"final"===Mr)},te.maxUploadRetryTime);return In.headers={"X-Goog-Upload-Command":"query"},In.errorHandler=De(J),In}(this._ref.storage,this._ref._location,J,this._blob),It=this._ref.storage._makeRequest(ht,ki,Me,We);this._request=It,It.getPromise().then(on=>{this._request=void 0,this._updateProgress(on.current),this._needToFetchStatus=!1,on.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const J=262144*this._chunkMultiplier,Me=new gn(this._transferred,this._blob.size()),We=this._uploadUrl;this._resolveToken((ht,It)=>{let on;try{on=function fn(te,J,Me,We,ht,It,on,Nn){const In=new gn(0,0);if(on?(In.current=on.current,In.total=on.total):(In.current=0,In.total=We.size()),We.size()!==In.total)throw function Lt(){return new z(Q.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const rr=In.total-In.current;let Mr=rr;ht>0&&(Mr=Math.min(Mr,ht));const qn=In.current;let dr="";dr=0===Mr?"finalize":rr===Mr?"upload, finalize":"upload";const gi={"X-Goog-Upload-Command":dr,"X-Goog-Upload-Offset":`${In.current}`},kr=We.slice(qn,qn+Mr);if(null===kr)throw _t();const Or=new se(Me,"POST",function ri(Ri,bi){const Xr=Ii(Ri,["active","final"]),vo=In.current+Mr,gs=We.size();let Gi;return Gi="final"===Xr?ce(J,It)(Ri,bi):null,new gn(vo,gs,"final"===Xr,Gi)},J.maxUploadRetryTime);return Or.headers=gi,Or.body=kr.uploadData(),Or.progressCallback=Nn||null,Or.errorHandler=De(te),Or}(this._ref._location,this._ref.storage,We,this._blob,J,this._mappings,Me,this._makeProgressCallback())}catch(In){return this._error=In,void this._transition("error")}const Nn=this._ref.storage._makeRequest(on,ki,ht,It,!1);this._request=Nn,Nn.getPromise().then(In=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(In.current),In.finalized?(this._metadata=In.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((J,Me)=>{const We=Dn(this._ref.storage,this._ref._location,this._mappings),ht=this._ref.storage._makeRequest(We,ki,J,Me);this._request=ht,ht.getPromise().then(It=>{this._request=void 0,this._metadata=It,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((J,Me)=>{const We=function lr(te,J,Me,We,ht){const It=J.bucketOnlyServerUrl(),on={"X-Goog-Upload-Protocol":"multipart"},In=function Nn(){let Or="";for(let Ri=0;Ri<2;Ri++)Or+=Math.random().toString().slice(2);return Or}();on["Content-Type"]="multipart/related; boundary="+In;const rr=hn(J,We,ht),Mr=li(rr,Me),dr=qr.getBlob("--"+In+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Mr+"\r\n--"+In+"\r\nContent-Type: "+rr.contentType+"\r\n\r\n",We,"\r\n--"+In+"--");if(null===dr)throw _t();const gi={name:rr.fullPath},kr=Ht(It,te.host,te._protocol),Ui=te.maxUploadRetryTime,ii=new se(kr,"POST",ce(te,Me),Ui);return ii.urlParams=gi,ii.headers=on,ii.body=dr.uploadData(),ii.errorHandler=De(J),ii}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ht=this._ref.storage._makeRequest(We,ki,J,Me);this._request=ht,ht.getPromise().then(It=>{this._request=void 0,this._metadata=It,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(J){const Me=this._transferred;this._transferred=J,this._transferred!==Me&&this._notifyObservers()}_transition(J){if(this._state!==J)switch(J){case"canceling":case"pausing":this._state=J,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Me="paused"===this._state;this._state=J,Me&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=J,this._notifyObservers();break;case"canceled":this._error=Re(),this._state=J,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const J=Fn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:J,metadata:this._metadata,task:this,ref:this._ref}}on(J,Me,We,ht){const It=new gr(Me||void 0,We||void 0,ht||void 0);return this._addObserver(It),()=>{this._removeObserver(It)}}then(J,Me){return this._promise.then(J,Me)}catch(J){return this.then(null,J)}_addObserver(J){this._observers.push(J),this._notifyObserver(J)}_removeObserver(J){const Me=this._observers.indexOf(J);-1!==Me&&this._observers.splice(Me,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Me=>{this._notifyObserver(Me)})}_finishPromise(){if(void 0!==this._resolve){let J=!0;switch(Fn(this._state)){case _n.SUCCESS:$r(this._resolve.bind(null,this.snapshot))();break;case _n.CANCELED:case _n.ERROR:$r(this._reject.bind(null,this._error))();break;default:J=!1}J&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(J){switch(Fn(this._state)){case _n.RUNNING:case _n.PAUSED:J.next&&$r(J.next.bind(J,this.snapshot))();break;case _n.SUCCESS:J.complete&&$r(J.complete.bind(J))();break;default:J.error&&$r(J.error.bind(J,this._error))()}}resume(){const J="paused"===this._state||"pausing"===this._state;return J&&this._transition("running"),J}pause(){const J="running"===this._state;return J&&this._transition("pausing"),J}cancel(){const J="running"===this._state||"pausing"===this._state;return J&&this._transition("canceling"),J}}class rs{constructor(J,Me){this._service=J,this._location=Me instanceof Oe?Me:Oe.makeFromUrl(Me,J.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(J,Me){return new rs(J,Me)}get root(){const J=new Oe(this._location.bucket,"");return this._newRef(this._service,J)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ci(this._location.path)}get storage(){return this._service}get parent(){const J=function vr(te){if(0===te.length)return null;const J=te.lastIndexOf("/");return-1===J?"":te.slice(0,J)}(this._location.path);if(null===J)return null;const Me=new Oe(this._location.bucket,J);return new rs(this._service,Me)}_throwIfRoot(J){if(""===this._location.path)throw Wn(J)}}function _o(te,J,Me){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,i.A)(function*(te,J,Me){const ht=yield ra(te,{pageToken:Me});J.prefixes.push(...ht.prefixes),J.items.push(...ht.items),null!=ht.nextPageToken&&(yield _o(te,J,ht.nextPageToken))})).apply(this,arguments)}function ra(te,J){null!=J&&"number"==typeof J.maxResults&&at("options.maxResults",1,1e3,J.maxResults);const Me=J||{},We=Se(te.storage,te._location,"/",Me.pageToken,Me.maxResults);return te.storage.makeRequestWithTokens(We,ki)}function fa(te){te._throwIfRoot("getDownloadURL");const J=function Ye(te,J,Me){const ht=Ht(J.fullServerUrl(),te.host,te._protocol),on=te.maxOperationRetryTime,Nn=new se(ht,"GET",function _e(te,J){return function Me(We,ht){const It=Rr(te,ht,J);return ye(null!==It),function ir(te,J,Me,We){const ht=nr(J);if(null===ht||!Ee(ht.downloadTokens))return null;const It=ht.downloadTokens;if(0===It.length)return null;const on=encodeURIComponent;return It.split(",").map(rr=>{const qn=te.fullPath;return Ht("/b/"+on(te.bucket)+"/o/"+on(qn),Me,We)+Sn({alt:"media",token:rr})})[0]}(It,ht,te.host,te._protocol)}}(te,Me),on);return Nn.errorHandler=St(J),Nn}(te.storage,te._location,Ft());return te.storage.makeRequestWithTokens(J,ki).then(Me=>{if(null===Me)throw function $t(){return new z(Q.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Me})}function ni(te,J){const Me=function Qn(te,J){const Me=J.split("/").filter(We=>We.length>0).join("/");return 0===te.length?Me:te+"/"+Me}(te._location.path,J),We=new Oe(te._location.bucket,Me);return new rs(te.storage,We)}function yo(te,J){if(te instanceof wi){const Me=te;if(null==Me._bucket)throw function ot(){return new z(Q.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Te+"' property when initializing the app?")}();const We=new rs(Me,Me._bucket);return null!=J?yo(We,J):We}return void 0!==J?ni(te,J):te}function Us(te,J){if(J&&function is(te){return/^[A-Za-z]+:\/\//.test(te)}(J)){if(te instanceof wi)return function Ps(te,J){return new rs(te,J)}(te,J);throw tn("To use ref(service, url), the first argument must be a Storage instance.")}return yo(te,J)}function Pr(te,J){const Me=J?.[Te];return null==Me?null:Oe.makeFromBucketSpec(Me,te)}class wi{constructor(J,Me,We,ht,It){this.app=J,this._authProvider=Me,this._appCheckProvider=We,this._url=ht,this._firebaseVersion=It,this._bucket=null,this._host=oe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ht?Oe.makeFromBucketSpec(ht,this._host):Pr(this._host,this.app.options)}get host(){return this._host}set host(J){this._host=J,this._bucket=null!=this._url?Oe.makeFromBucketSpec(this._url,J):Pr(J,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(J){at("time",0,Number.POSITIVE_INFINITY,J),this._maxUploadRetryTime=J}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(J){at("time",0,Number.POSITIVE_INFINITY,J),this._maxOperationRetryTime=J}_getAuthToken(){var J=this;return(0,i.A)(function*(){if(J._overrideAuthToken)return J._overrideAuthToken;const Me=J._authProvider.getImmediate({optional:!0});if(Me){const We=yield Me.getToken();if(null!==We)return We.accessToken}return null})()}_getAppCheckToken(){var J=this;return(0,i.A)(function*(){const Me=J._appCheckProvider.getImmediate({optional:!0});return Me?(yield Me.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(J=>J.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(J){return new rs(this,J)}_makeRequest(J,Me,We,ht,It=!0){if(this._deleted)return new mt(un());{const on=function yr(te,J,Me,We,ht,It,on=!0){const Nn=Sn(te.urlParams),In=te.url+Nn,rr=Object.assign({},te.headers);return function Qt(te,J){J&&(te["X-Firebase-GMPID"]=J)}(rr,J),function Jn(te,J){null!==J&&J.length>0&&(te.Authorization="Firebase "+J)}(rr,Me),function Ln(te,J){te["X-Firebase-Storage-Version"]="webjs/"+(J??"AppManager")}(rr,It),function qt(te,J){null!==J&&(te["X-Firebase-AppCheck"]=J)}(rr,We),new kn(In,te.method,rr,te.body,te.successCodes,te.additionalRetryCodes,te.handler,te.errorHandler,te.timeout,te.progressCallback,ht,on)}(J,this._appId,We,ht,Me,this._firebaseVersion,It);return this._requests.add(on),on.getPromise().then(()=>this._requests.delete(on),()=>this._requests.delete(on)),on}}makeRequestWithTokens(J,Me){var We=this;return(0,i.A)(function*(){const[ht,It]=yield Promise.all([We._getAuthToken(),We._getAppCheckToken()]);return We._makeRequest(J,Me,ht,It).getPromise()})()}}const Ms="@firebase/storage",ds="storage";function Es(te,J,Me){return function Vi(te,J,Me){return te._throwIfRoot("uploadBytesResumable"),new Jr(te,new qr(J),Me)}(te=(0,n.Ku)(te),J,Me)}function ci(te){return function Ka(te){te._throwIfRoot("getMetadata");const J=Dn(te.storage,te._location,Ft());return te.storage.makeRequestWithTokens(J,ki)}(te=(0,n.Ku)(te))}function bn(te,J){return function Di(te,J){te._throwIfRoot("updateMetadata");const Me=function Gt(te,J,Me,We){const It=Ht(J.fullServerUrl(),te.host,te._protocol),Nn=li(Me,We),rr=te.maxOperationRetryTime,Mr=new se(It,"PATCH",ce(te,We),rr);return Mr.headers={"Content-Type":"application/json; charset=utf-8"},Mr.body=Nn,Mr.errorHandler=St(J),Mr}(te.storage,te._location,J,Ft());return te.storage.makeRequestWithTokens(Me,ki)}(te=(0,n.Ku)(te),J)}function ur(te,J){return ra(te=(0,n.Ku)(te),J)}function Er(te){return function Ys(te){const J={prefixes:[],items:[]};return _o(te,J).then(()=>J)}(te=(0,n.Ku)(te))}function ss(te){return fa(te=(0,n.Ku)(te))}function hs(te){return function Xs(te){te._throwIfRoot("deleteObject");const J=function rn(te,J){const We=Ht(J.fullServerUrl(),te.host,te._protocol),Nn=new se(We,"DELETE",function on(In,rr){},te.maxOperationRetryTime);return Nn.successCodes=[200,204],Nn.errorHandler=St(J),Nn}(te.storage,te._location);return te.storage.makeRequestWithTokens(J,ki)}(te=(0,n.Ku)(te))}function Bi(te,J){return Us(te=(0,n.Ku)(te),J)}function Qs(te,J){return ni(te,J)}function ui(te=(0,ie.getApp)(),J){te=(0,n.Ku)(te);const We=(0,ie._getProvider)(te,ds).getImmediate({identifier:J}),ht=(0,n.yU)("storage");return ht&&fs(We,...ht),We}function fs(te,J,Me,We={}){!function hi(te,J,Me,We={}){te.host=`${J}:${Me}`,te._protocol="http";const{mockUserToken:ht}=We;ht&&(te._overrideAuthToken="string"==typeof ht?ht:(0,n.Fy)(ht,te.app.options.projectId))}(te,J,Me,We)}function ps(te,{instanceIdentifier:J}){const Me=te.getProvider("app").getImmediate(),We=te.getProvider("auth-internal"),ht=te.getProvider("app-check-internal");return new wi(Me,We,ht,J,ie.SDK_VERSION)}!function bs(){(0,ie._registerComponent)(new Ce.uA(ds,ps,"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Ms,"0.13.2",""),(0,ie.registerVersion)(Ms,"0.13.2","esm2017")}()},1076:(sn,et,O)=>{O.d(et,{Am:()=>jn,Bd:()=>tn,FA:()=>at,Fy:()=>_t,I9:()=>Cn,Im:()=>Zt,Ku:()=>Pt,Ll:()=>xe,T9:()=>Ie,Uj:()=>Ne,XA:()=>dt,ZQ:()=>Lt,bD:()=>Un,c1:()=>Wn,cY:()=>ot,eX:()=>Z,g:()=>gt,gR:()=>qt,hp:()=>Fr,jZ:()=>$t,lT:()=>mt,lV:()=>Ut,mS:()=>Be,nr:()=>ft,p7:()=>un,sr:()=>it,tD:()=>Vr,u:()=>z,yU:()=>Re,zW:()=>Le,zw:()=>me});const Ce=function(B){const P=[];let k=0;for(let se=0;se<B.length;se++){let ye=B.charCodeAt(se);ye<128?P[k++]=ye:ye<2048?(P[k++]=ye>>6|192,P[k++]=63&ye|128):55296==(64512&ye)&&se+1<B.length&&56320==(64512&B.charCodeAt(se+1))?(ye=65536+((1023&ye)<<10)+(1023&B.charCodeAt(++se)),P[k++]=ye>>18|240,P[k++]=ye>>12&63|128,P[k++]=ye>>6&63|128,P[k++]=63&ye|128):(P[k++]=ye>>12|224,P[k++]=ye>>6&63|128,P[k++]=63&ye|128)}return P},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,P){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[];for(let ye=0;ye<B.length;ye+=3){const ce=B[ye],Qe=ye+1<B.length,_e=Qe?B[ye+1]:0,De=ye+2<B.length,St=De?B[ye+2]:0;let Ge=(15&_e)<<2|St>>6,Ye=63&St;De||(Ye=64,Qe||(Ge=64)),se.push(k[ce>>2],k[(3&ce)<<4|_e>>4],k[Ge],k[Ye])}return se.join("")},encodeString(B,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(B):this.encodeByteArray(Ce(B),P)},decodeString(B,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(B):function(B){const P=[];let k=0,se=0;for(;k<B.length;){const ye=B[k++];if(ye<128)P[se++]=String.fromCharCode(ye);else if(ye>191&&ye<224){const ce=B[k++];P[se++]=String.fromCharCode((31&ye)<<6|63&ce)}else if(ye>239&&ye<365){const De=((7&ye)<<18|(63&B[k++])<<12|(63&B[k++])<<6|63&B[k++])-65536;P[se++]=String.fromCharCode(55296+(De>>10)),P[se++]=String.fromCharCode(56320+(1023&De))}else{const ce=B[k++],Qe=B[k++];P[se++]=String.fromCharCode((15&ye)<<12|(63&ce)<<6|63&Qe)}}return P.join("")}(this.decodeStringToByteArray(B,P))},decodeStringToByteArray(B,P){this.init_();const k=P?this.charToByteMapWebSafe_:this.charToByteMap_,se=[];for(let ye=0;ye<B.length;){const ce=k[B.charAt(ye++)],_e=ye<B.length?k[B.charAt(ye)]:0;++ye;const St=ye<B.length?k[B.charAt(ye)]:64;++ye;const Se=ye<B.length?k[B.charAt(ye)]:64;if(++ye,null==ce||null==_e||null==St||null==Se)throw new Ae;se.push(ce<<2|_e>>4),64!==St&&(se.push(_e<<4&240|St>>2),64!==Se&&se.push(St<<6&192|Se))}return se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ne=function(B){return function(B){const P=Ce(B);return Te.encodeByteArray(P,!0)}(B).replace(/\./g,"")},z=function(B){try{return Te.decodeString(B,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function me(B,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return P}for(const k in P)!P.hasOwnProperty(k)||!ke(k)||(B[k]=me(B[k],P[k]));return B}function ke(B){return"__proto__"!==B}function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const He=()=>{try{return Be().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=B&&z(B[1]);return P&&JSON.parse(P)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},Re=B=>{const P=(B=>{var P,k;return null===(k=null===(P=He())||void 0===P?void 0:P.emulatorHosts)||void 0===k?void 0:k[B]})(B);if(!P)return;const k=P.lastIndexOf(":");if(k<=0||k+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const se=parseInt(P.substring(k+1),10);return"["===P[0]?[P.substring(1,k-1),se]:[P.substring(0,k),se]},Ie=()=>{var B;return null===(B=He())||void 0===B?void 0:B.config},dt=B=>{var P;return null===(P=He())||void 0===P?void 0:P[`_${B}`]};class ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,k)=>{this.resolve=P,this.reject=k})}wrapCallback(P){return(k,se)=>{k?this.reject(k):this.resolve(se),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(k):P(k,se))}}}function _t(B,P){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const se=P||"demo-project",ye=B.iat||0,ce=B.sub||B.user_id;if(!ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${se}`,aud:se,iat:ye,exp:ye+3600,auth_time:ye,sub:ce,user_id:ce,firebase:{sign_in_provider:"custom",identities:{}}},B);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(Qe)),""].join(".")}function Lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function xe(){var B;const P=null===(B=He())||void 0===B?void 0:B.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tn(){return typeof window<"u"||un()}function un(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Wn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function it(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mt(){const B=Lt();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function ft(){return!xe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function Z(){return new Promise((B,P)=>{try{let k=!0;const se="validate-browser-context-for-indexeddb-analytics-module",ye=self.indexedDB.open(se);ye.onsuccess=()=>{ye.result.close(),k||self.indexedDB.deleteDatabase(se),B(!0)},ye.onupgradeneeded=()=>{k=!1},ye.onerror=()=>{var ce;P((null===(ce=ye.error)||void 0===ce?void 0:ce.message)||"")}}catch(k){P(k)}})}class gt extends Error{constructor(P,k,se){super(k),this.code=P,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}}class at{constructor(P,k,se){this.service=P,this.serviceName=k,this.errors=se}create(P,...k){const se=k[0]||{},ye=`${this.service}/${P}`,ce=this.errors[P],Qe=ce?function Ht(B,P){return B.replace(Sn,(k,se)=>{const ye=P[se];return null!=ye?String(ye):`<${se}?>`})}(ce,se):"Error";return new gt(ye,`${this.serviceName}: ${Qe} (${ye}).`,se)}}const Sn=/\{\$([^}]+)}/g;function qt(B,P){return Object.prototype.hasOwnProperty.call(B,P)}function Zt(B){for(const P in B)if(Object.prototype.hasOwnProperty.call(B,P))return!1;return!0}function Un(B,P){if(B===P)return!0;const k=Object.keys(B),se=Object.keys(P);for(const ye of k){if(!se.includes(ye))return!1;const ce=B[ye],Qe=P[ye];if(Bt(ce)&&Bt(Qe)){if(!Un(ce,Qe))return!1}else if(ce!==Qe)return!1}for(const ye of se)if(!k.includes(ye))return!1;return!0}function Bt(B){return null!==B&&"object"==typeof B}function jn(B){const P=[];for(const[k,se]of Object.entries(B))Array.isArray(se)?se.forEach(ye=>{P.push(encodeURIComponent(k)+"="+encodeURIComponent(ye))}):P.push(encodeURIComponent(k)+"="+encodeURIComponent(se));return P.length?"&"+P.join("&"):""}function Cn(B){const P={};return B.replace(/^\?/,"").split("&").forEach(se=>{if(se){const[ye,ce]=se.split("=");P[decodeURIComponent(ye)]=decodeURIComponent(ce)}}),P}function Fr(B){const P=B.indexOf("?");if(!P)return"";const k=B.indexOf("#",P);return B.substring(P,k>0?k:void 0)}function Vr(B,P){const k=new zn(B,P);return k.subscribe.bind(k)}class zn{constructor(P,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{P(this)}).catch(se=>{this.error(se)})}next(P){this.forEachObserver(k=>{k.next(P)})}error(P){this.forEachObserver(k=>{k.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,k,se){let ye;if(void 0===P&&void 0===k&&void 0===se)throw new Error("Missing Observer.");ye=function Qi(B,P){if("object"!=typeof B||null===B)return!1;for(const k of P)if(k in B&&"function"==typeof B[k])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:k,complete:se},void 0===ye.next&&(ye.next=pn),void 0===ye.error&&(ye.error=pn),void 0===ye.complete&&(ye.complete=pn);const ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ye.error(this.finalError):ye.complete()}catch{}}),this.observers.push(ye),ce}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,P)}sendOne(P,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{k(this.observers[P])}catch(se){typeof console<"u"&&console.error&&console.error(se)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}function Pt(B){return B&&B._delegate?B._delegate:B}},9483:(sn,et,O)=>{O.d(et,{j:()=>Q});var i=O(7705),ie=O(6814),n=O(923),Ce=O(177);const oe=function(me,ke){return{"background-color":me,color:ke}};function Te(me,ke){if(1&me){const Be=i.RV6();i.qex(0),i.j41(1,"button",4),i.bIt("click",function(){i.eBV(Be);const qe=i.XpG();return i.Njj(qe.navigateTo(qe.buttonLink))}),i.EFF(2),i.k0s(),i.bVm()}if(2&me){const Be=i.XpG();i.R7$(1),i.Y8G("ngStyle",i.l_i(2,oe,Be.buttonBgColor,Be.buttonTextColor)),i.R7$(1),i.SpI(" ",Be.buttonText," ")}}function Ae(me,ke){if(1&me){const Be=i.RV6();i.j41(0,"a",4),i.bIt("click",function(){i.eBV(Be);const qe=i.XpG();return i.Njj(qe.navigateTo(qe.buttonLink))}),i.EFF(1),i.k0s()}if(2&me){const Be=i.XpG();i.Y8G("ngStyle",i.l_i(2,oe,Be.buttonBgColor,Be.buttonTextColor)),i.R7$(1),i.SpI(" ",Be.buttonText," ")}}const be=function(me,ke,Be){return{"full-width":me,centered:ke,shadow:Be}},Ne=function(me,ke,Be,Je){return{"background-color":me,color:ke,"text-align":Be,"border-radius":Je}},z=function(me,ke,Be){return{color:me,"font-size":ke,"font-style":Be}};let Q=(()=>{class me{constructor(Be,Je){this.router=Be,this.businessDataService=Je,this.buttonText="Get in touch",this.isButton=!1,this.bgColor="var(--background-color)",this.buttonBgColor="var(--button-color)",this.buttonTextColor="var(--button-text-color)",this.borderRadius="10px",this.boxShadow="0px 4px 6px rgba(0, 0, 0, 0.2)",this.page="contact-us",this.layout="centered",this.businessId="",this.showImage=!1,this._businessName="",this.location="",this.backgroundColor="#ffffff",this.title="Come Meet Our Family!",this.titleColor="var(--accent-color)",this.titleFontSize="34",this.titleFontStyle="#normal",this.subtitleColor="#000000",this.subtitleFontSize="14",this.subtitleFontStyle="#normal",this.content="Questions before getting started?",this.textFontSize="16",this.textFontStyle="normal",this.textColor="var(--text-color)",this.fullWidth=!1,this.showButton=!1,this.buttonLink="contact-us",this.alignText="left",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){console.log("CTA Initialized with:",{bgColor:this.bgColor,textColor:this.textColor,titleColor:this.titleColor,buttonBgColor:this.buttonBgColor,buttonTextColor:this.buttonTextColor,layout:this.layout}),this.fullWidth=this.convertToBoolean(this.fullWidth)}navigateTo(Be){this.businessDataService.getBusinessId().subscribe(Je=>{Je&&(this.businessId=Je)}),console.log("Page: "+Be+" Parameters = "+this.businessId),this.router.navigate(["/"+Be],{queryParams:{id:this.businessId}})}convertToBoolean(Be){return"boolean"==typeof Be?Be:"string"==typeof Be&&"true"===Be.toLowerCase()}static{this.\u0275fac=function(Je){return new(Je||me)(i.rXU(ie.Ix),i.rXU(n.A))}}static{this.\u0275cmp=i.VBU({type:me,selectors:[["app-call-to-action"]],inputs:{buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",buttonBgColor:"buttonBgColor",buttonTextColor:"buttonTextColor",borderRadius:"borderRadius",boxShadow:"boxShadow",page:"page",layout:"layout",businessId:"businessId",themeType:"themeType",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",location:"location",backgroundColor:"backgroundColor",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontStyle:"titleFontStyle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontStyle:"subtitleFontStyle",content:"content",textFontSize:"textFontSize",textFontStyle:"textFontStyle",textColor:"textColor",fullWidth:"fullWidth",showButton:"showButton",buttonLink:"buttonLink",alignText:"alignText",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax"},decls:10,vars:31,consts:[[1,"cta-container",3,"ngClass","ngStyle"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-btn",3,"ngStyle","click"]],template:function(Je,qe){if(1&Je&&(i.j41(0,"div",0)(1,"h2",1),i.EFF(2),i.k0s(),i.j41(3,"h3",1),i.EFF(4),i.k0s(),i.j41(5,"p",1),i.EFF(6),i.k0s(),i.DNE(7,Te,3,5,"ng-container",2),i.DNE(8,Ae,2,5,"ng-template",null,3,i.C5r),i.k0s()),2&Je){const fe=i.sdS(9);i.Y8G("ngClass",i.sMw(10,be,qe.fullWidth,!qe.fullWidth,qe.boxShadow))("ngStyle",i.ziG(14,Ne,qe.backgroundColor,qe.textColor,qe.alignText,qe.borderRadius+"px")),i.R7$(1),i.Y8G("ngStyle",i.sMw(19,z,qe.titleColor,qe.titleFontSize+"px",qe.titleFontStyle)),i.R7$(1),i.JRh(qe.title),i.R7$(1),i.Y8G("ngStyle",i.sMw(23,z,qe.subtitleColor,qe.subtitleFontSize+"px",qe.subtitleFontStyle)),i.R7$(1),i.JRh(qe.subTitle),i.R7$(1),i.Y8G("ngStyle",i.sMw(27,z,qe.textColor,qe.textFontSize,qe.textFontStyle)),i.R7$(1),i.JRh(qe.content),i.R7$(1),i.Y8G("ngIf",qe.isButton)("ngIfElse",fe)}},dependencies:[Ce.YU,Ce.bT,Ce.B3]})}}return me})()},7304:(sn,et,O)=>{O.d(et,{W:()=>Wn});var i=O(7705),ie=O(345),n=O(6814),Ce=O(177);let oe=(()=>{class it{transform(Oe,mt){if(!Oe||!mt)return Oe;let Ve=Oe;for(const lt in mt)if(mt.hasOwnProperty(lt)){const ft=new RegExp(`{{${lt}}}`,"g");Ve=Ve.replace(ft,mt[lt])}return Ve}static{this.\u0275fac=function(mt){return new(mt||it)}}static{this.\u0275pipe=i.EJ8({name:"replaceKeyword",type:it,pure:!0})}}return it})();const Te=function(it){return{"text-align":it}},Ae=function(it,Ut){return{color:it,"font-size":Ut}},be=function(it){return{businessName:it}};function Ne(it,Ut){if(1&it&&(i.j41(0,"div")(1,"div",9)(2,"span",10),i.EFF(3),i.nI1(4,"replaceKeyword"),i.k0s(),i.nrm(5,"br"),i.j41(6,"span",11),i.EFF(7),i.k0s()()()),2&it){const Oe=i.XpG(2);i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Te,Oe.alignText)),i.R7$(1),i.Y8G("ngStyle",i.l_i(10,Ae,Oe.subtitleColor,Oe.subtitleFontSize+"px")),i.R7$(1),i.JRh(i.i5U(4,5,Oe.subTitle,i.eq3(13,be,Oe._businessName))),i.R7$(3),i.Y8G("ngStyle",i.l_i(15,Ae,Oe.titleColor,Oe.titleFontSize+"px")),i.R7$(1),i.SpI("",Oe.title," ")}}function z(it,Ut){if(1&it&&(i.j41(0,"div")(1,"h3")(2,"span",12),i.EFF(3),i.nI1(4,"replaceKeyword"),i.k0s()(),i.j41(5,"div",13)(6,"h2",14),i.EFF(7),i.k0s()()()),2&it){const Oe=i.XpG(2);i.R7$(3),i.JRh(i.i5U(4,2,Oe.subTitle,i.eq3(5,be,Oe._businessName))),i.R7$(4),i.JRh(Oe.title)}}function Q(it,Ut){if(1&it){const Oe=i.RV6();i.j41(0,"button",15),i.bIt("click",function(){i.eBV(Oe);const Ve=i.XpG(2);return i.Njj(Ve.navigateToContact(Ve.buttonLink))}),i.EFF(1),i.k0s()}if(2&it){const Oe=i.XpG(2);i.R7$(1),i.JRh(Oe.buttonText)}}const me=function(it,Ut,Oe){return{"full-width":it,centered:Ut,shadow:Oe}},ke=function(it,Ut,Oe,mt){return{"background-color":it,color:Ut,"text-align":Oe,"border-radius":mt}};function Be(it,Ut){if(1&it&&(i.j41(0,"div",2)(1,"div",3)(2,"div",4),i.DNE(3,Ne,8,18,"div",5),i.DNE(4,z,8,7,"div",5),i.nrm(5,"p",6),i.j41(6,"div",7),i.DNE(7,Q,2,1,"button",8),i.k0s()()()()),2&it){const Oe=i.XpG();i.Y8G("ngClass",i.sMw(6,me,Oe.fullWidth,!Oe.fullWidth,Oe.boxShadow))("ngStyle",i.ziG(10,ke,Oe.backgroundColor,Oe.textColor,Oe.alignText,Oe.borderRadius+"px")),i.R7$(3),i.Y8G("ngIf","home"==Oe.page),i.R7$(1),i.Y8G("ngIf","home"!=Oe.page),i.R7$(1),i.Y8G("innerHTML",Oe.sanitizedContent,i.npT),i.R7$(2),i.Y8G("ngIf",Oe.showButton)}}function Je(it,Ut){if(1&it&&i.nrm(0,"img",21),2&it){const Oe=i.XpG(2);i.Y8G("src",Oe.imageURL,i.B4B)}}function qe(it,Ut){1&it&&(i.j41(0,"button",22),i.EFF(1,"Schedule A Visit"),i.k0s())}const fe=function(it,Ut,Oe){return{color:it,"font-size":Ut,"font-style":Oe}};function He(it,Ut){if(1&it&&(i.j41(0,"div",2),i.DNE(1,Je,1,1,"img",16),i.j41(2,"h3",17),i.EFF(3),i.nI1(4,"replaceKeyword"),i.k0s(),i.j41(5,"h2",17),i.EFF(6),i.k0s(),i.nrm(7,"div",18)(8,"p",19),i.DNE(9,qe,2,0,"button",20),i.k0s()),2&it){const Oe=i.XpG();i.Y8G("ngClass",i.sMw(13,me,Oe.fullWidth,!Oe.fullWidth,Oe.boxShadow))("ngStyle",i.ziG(17,ke,Oe.backgroundColor,Oe.textColor,Oe.alignText,Oe.borderRadius+"px")),i.R7$(1),i.Y8G("ngIf",Oe.imageURL&&Oe.showImage),i.R7$(1),i.Y8G("ngStyle",i.sMw(22,fe,Oe.subtitleColor,Oe.subtitleFontSize+"px",Oe.textFontStyle)),i.R7$(1),i.JRh(i.i5U(4,10,Oe.subTitle,i.eq3(26,be,Oe._businessName))),i.R7$(2),i.Y8G("ngStyle",i.sMw(28,fe,Oe.titleColor,Oe.titleFontSize+"px",Oe.textFontStyle)),i.R7$(1),i.JRh(Oe.title),i.R7$(2),i.Y8G("ngStyle",i.sMw(32,fe,Oe.textColor,Oe.textFontSize+"px",Oe.textFontStyle))("innerHTML",Oe.sanitizedContent,i.npT),i.R7$(1),i.Y8G("ngIf",Oe.showButton)}}function Nt(it,Ut){1&it&&(i.j41(0,"button",22),i.EFF(1,"Contact Us"),i.k0s())}const Re=function(it,Ut,Oe){return{"background-color":it,color:Ut,"border-radius":Oe}};function Ie(it,Ut){if(1&it&&(i.j41(0,"div",2)(1,"div",23)(2,"div")(3,"h2",17),i.EFF(4),i.k0s(),i.j41(5,"h3",17),i.EFF(6),i.nI1(7,"replaceKeyword"),i.k0s()(),i.DNE(8,Nt,2,0,"button",20),i.k0s(),i.j41(9,"div",24),i.nrm(10,"p",19),i.k0s()()),2&it){const Oe=i.XpG();i.Y8G("ngClass",i.sMw(12,me,Oe.fullWidth,!Oe.fullWidth,Oe.boxShadow))("ngStyle",i.sMw(16,Re,Oe.backgroundColor,Oe.textColor,Oe.borderRadius+"px")),i.R7$(3),i.Y8G("ngStyle",i.sMw(20,fe,Oe.titleColor,Oe.titleFontSize+"px",Oe.textFontStyle)),i.R7$(1),i.JRh(Oe.title),i.R7$(1),i.Y8G("ngStyle",i.sMw(24,fe,Oe.subtitleColor,Oe.subtitleFontSize+"px",Oe.textFontStyle)),i.R7$(1),i.JRh(i.i5U(7,9,Oe.subTitle,i.eq3(28,be,Oe._businessName))),i.R7$(2),i.Y8G("ngIf",Oe.showButton),i.R7$(2),i.Y8G("ngStyle",i.sMw(30,fe,Oe.textColor,Oe.textFontSize+"px",Oe.textFontStyle))("innerHTML",Oe.sanitizedContent,i.npT)}}function dt(it,Ut){if(1&it&&i.nrm(0,"img",21),2&it){const Oe=i.XpG(2);i.Y8G("src",Oe.imageURL,i.B4B)}}function ot(it,Ut){if(1&it&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&it){const Oe=i.XpG(2);i.R7$(1),i.SpI(" ",Oe.titleParts.part2,"")}}function _t(it,Ut){1&it&&(i.j41(0,"button",22),i.EFF(1,"Schedule A Visit"),i.k0s())}function Lt(it,Ut){if(1&it&&(i.j41(0,"div",25),i.DNE(1,dt,1,1,"img",16),i.j41(2,"div",26)(3,"h2",27),i.EFF(4),i.k0s(),i.j41(5,"h3",27),i.DNE(6,ot,2,1,"span",5),i.k0s(),i.nrm(7,"div",28)(8,"p",19),i.k0s(),i.DNE(9,_t,2,0,"button",20),i.k0s()),2&it){const Oe=i.XpG();i.Y8G("ngClass",i.sMw(10,me,Oe.fullWidth,!Oe.fullWidth,Oe.boxShadow))("ngStyle",i.ziG(14,ke,Oe.backgroundColor,Oe.textColor,Oe.alignText,Oe.borderRadius+"px")),i.R7$(1),i.Y8G("ngIf",Oe.imageURL&&Oe.showImage),i.R7$(2),i.Y8G("ngStyle",i.sMw(19,fe,Oe.titleColor,Oe.titleFontSize+"px",Oe.titleFontStyle)),i.R7$(1),i.JRh(Oe.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(23,fe,Oe.subtitleColor,Oe.subtitleFontSize+"px",Oe.subtitleFontStyle)),i.R7$(1),i.Y8G("ngIf",Oe.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(27,fe,Oe.textColor,Oe.textFontSize+"px",Oe.textFontStyle))("innerHTML",Oe.sanitizedContent,i.npT),i.R7$(1),i.Y8G("ngIf",Oe.showButton)}}function $t(it,Ut){if(1&it&&i.nrm(0,"img",21),2&it){const Oe=i.XpG(2);i.Y8G("src",Oe.imageURL,i.B4B)}}function xe(it,Ut){if(1&it&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&it){const Oe=i.XpG(2);i.R7$(1),i.SpI(" ",Oe.titleParts.part2,"")}}function tn(it,Ut){1&it&&(i.j41(0,"button",22),i.EFF(1,"Schedule A Visit"),i.k0s())}function un(it,Ut){if(1&it&&(i.j41(0,"div",2),i.DNE(1,$t,1,1,"img",16),i.j41(2,"div",26)(3,"h3",27),i.EFF(4),i.k0s(),i.j41(5,"h2",27),i.DNE(6,xe,2,1,"span",5),i.k0s(),i.nrm(7,"div",28)(8,"p",19),i.k0s(),i.DNE(9,tn,2,0,"button",20),i.k0s()),2&it){const Oe=i.XpG();i.Y8G("ngClass",i.sMw(10,me,Oe.fullWidth,!Oe.fullWidth,Oe.boxShadow))("ngStyle",i.ziG(14,ke,Oe.backgroundColor,Oe.textColor,Oe.alignText,Oe.borderRadius+"px")),i.R7$(1),i.Y8G("ngIf",Oe.imageURL&&Oe.showImage),i.R7$(2),i.Y8G("ngStyle",i.sMw(19,fe,Oe.subtitleColor,Oe.subtitleFontSize+"px",Oe.textFontStyle)),i.R7$(1),i.JRh(Oe.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(23,fe,Oe.titleColor,Oe.titleFontSize+"px",Oe.textFontStyle)),i.R7$(1),i.Y8G("ngIf",Oe.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(27,fe,Oe.textColor,Oe.textFontSize+"px",Oe.textFontStyle))("innerHTML",Oe.sanitizedContent,i.npT),i.R7$(1),i.Y8G("ngIf",Oe.showButton)}}let Wn=(()=>{class it{constructor(Oe,mt){this.sanitizer=Oe,this.router=mt,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.textFontSize="16",this.textFontStyle="normal",this.alignText="left",this.titleColor="#000000",this.titleFontSize="34",this.titleFontStyle="#normal",this.subtitleColor="#000000",this.subtitleFontSize="14",this.subtitleFontStyle="#normal",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Center Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Center Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Oe){this._content=Oe,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[Oe,mt]=this.title.split("|").map(Ve=>Ve.trim());return{part1:Oe,part2:mt}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(Oe){this.router.navigate([Oe])}convertToBoolean(Oe){return"boolean"==typeof Oe?Oe:"string"==typeof Oe&&"true"===Oe.toLowerCase()}static{this.\u0275fac=function(mt){return new(mt||it)(i.rXU(ie.up),i.rXU(n.Ix))}}static{this.\u0275cmp=i.VBU({type:it,selectors:[["app-center-text"]],inputs:{themeType:"themeType",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",textFontSize:"textFontSize",textFontStyle:"textFontStyle",alignText:"alignText",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontStyle:"titleFontStyle",subTitle:"subTitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontStyle:"subtitleFontStyle",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:5,vars:5,consts:[["class","center-text-container",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",3,"ngClass","ngStyle",4,"ngIf"],[1,"center-text-container",3,"ngClass","ngStyle"],[1,"center-text-overlay"],[1,"center-text-content"],[4,"ngIf"],[1,"center-text-description",3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],[1,"features-section-heading",3,"ngStyle"],[1,"features-section-title","highlight",3,"ngStyle"],[1,"features-section-title","main",3,"ngStyle"],[1,"brand-name"],[1,"heading-container"],[1,"styled-heading"],["type","button",1,"afhBtn",3,"click"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title",3,"ngStyle"],[1,"separator"],[1,"center-text-description",3,"ngStyle","innerHTML"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"left-column"],[1,"right-column"],[1,"content-container",3,"ngClass","ngStyle"],[1,"text-container"],[3,"ngStyle"],[1,"separator2"]],template:function(mt,Ve){1&mt&&(i.DNE(0,Be,8,15,"div",0),i.DNE(1,He,10,36,"div",0),i.DNE(2,Ie,11,34,"div",0),i.DNE(3,Lt,10,31,"div",1),i.DNE(4,un,10,31,"div",0)),2&mt&&(i.Y8G("ngIf","hh"==Ve.themeType),i.R7$(1),i.Y8G("ngIf","ae"==Ve.themeType),i.R7$(1),i.Y8G("ngIf","clemo"==Ve.themeType),i.R7$(1),i.Y8G("ngIf","sb"==Ve.themeType||"sp"==Ve.themeType),i.R7$(1),i.Y8G("ngIf","prestige"==Ve.themeType))},dependencies:[Ce.YU,Ce.bT,Ce.B3,oe]})}}return it})()},3967:(sn,et,O)=>{O.d(et,{t:()=>Be});var i=O(7705),ie=O(345),n=O(6814),Ce=O(923),oe=O(177);const Te=function(Je,qe,fe){return{"full-width":Je,centered:qe,shadow:fe}},Ae=function(Je,qe,fe,He){return{"background-color":Je,color:qe,"text-align":fe,"border-radius":He}},be=function(Je,qe){return{color:Je,"font-size":qe}};function Ne(Je,qe){if(1&Je){const fe=i.RV6();i.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),i.EFF(4),i.k0s(),i.j41(5,"span",6),i.EFF(6),i.k0s()(),i.nrm(7,"p",7),i.j41(8,"button",8),i.bIt("click",function(){i.eBV(fe);const Nt=i.XpG();return i.Njj(Nt.navigateTo("resident-form"))}),i.EFF(9,"Get Started"),i.k0s()()()}if(2&Je){const fe=i.XpG();i.Y8G("ngClass",i.sMw(7,Te,fe.fullWidth,!fe.fullWidth,fe.boxShadow))("ngStyle",i.ziG(11,Ae,fe.backgroundColor,fe.textColor,fe.alignText,fe.borderRadius+"px")),i.R7$(3),i.Y8G("ngStyle",i.l_i(16,be,fe.titleColor,fe.titleFontSize+"px")),i.R7$(1),i.SpI("",fe.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(19,be,fe.subtitleColor,fe.subtitleFontSize+"px")),i.R7$(1),i.JRh(fe.subTitle),i.R7$(1),i.Y8G("innerHTML",fe.sanitizedContent,i.npT)}}function z(Je,qe){if(1&Je){const fe=i.RV6();i.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",14),i.EFF(8),i.k0s()(),i.j41(9,"p"),i.EFF(10,"Discover what makes our services unique and tailored to your needs."),i.k0s(),i.EFF(11),i.j41(12,"div",15)(13,"button",16),i.bIt("click",function(){i.eBV(fe);const Nt=i.XpG();return i.Njj(Nt.navigateToContact(Nt.businessId))}),i.EFF(14,"Schedule a Visit"),i.k0s()()()()()()}if(2&Je){const fe=i.XpG();i.Y8G("ngClass",i.sMw(8,Te,fe.fullWidth,!fe.fullWidth,fe.boxShadow))("ngStyle",i.ziG(12,Ae,fe.backgroundColor,fe.textColor,fe.alignText,fe.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,be,fe.titleColor,fe.titleFontSize+"px")),i.R7$(1),i.SpI(" ",fe.title," Ready to experience "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,be,fe.subtitleColor,fe.subtitleFontSize+"px")),i.R7$(1),i.Lme("",fe.subTitle,"",fe._businessName,"?"),i.R7$(3),i.SpI(" ",fe.content," ")}}function Q(Je,qe){if(1&Je){const fe=i.RV6();i.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",6),i.EFF(8),i.k0s()(),i.nrm(9,"p",7),i.j41(10,"div",15)(11,"button",17),i.bIt("click",function(){i.eBV(fe);const Nt=i.XpG();return i.Njj(Nt.navigateTo("resident-form"))}),i.EFF(12),i.k0s()()()()()()}if(2&Je){const fe=i.XpG();i.Y8G("ngClass",i.sMw(8,Te,fe.fullWidth,!fe.fullWidth,fe.boxShadow))("ngStyle",i.ziG(12,Ae,fe.backgroundColor,fe.textColor,fe.alignText,fe.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,be,fe.titleColor,fe.titleFontSize+"px")),i.R7$(1),i.SpI("",fe.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,be,fe.subtitleColor,fe.subtitleFontSize+"px")),i.R7$(1),i.JRh(fe.subTitle),i.R7$(1),i.Y8G("innerHTML",fe.sanitizedContent,i.npT),i.R7$(3),i.JRh(fe.buttonText)}}function me(Je,qe){if(1&Je){const fe=i.RV6();i.j41(0,"div",2)(1,"div",18)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",6),i.EFF(8),i.k0s()(),i.nrm(9,"p",7),i.j41(10,"div",15)(11,"button",19),i.bIt("click",function(){i.eBV(fe);const Nt=i.XpG();return i.Njj(Nt.navigateTo("contact-us"))}),i.EFF(12),i.k0s()()()()()()}if(2&Je){const fe=i.XpG();i.Y8G("ngClass",i.sMw(8,Te,fe.fullWidth,!fe.fullWidth,fe.boxShadow))("ngStyle",i.ziG(12,Ae,fe.backgroundColor,fe.textColor,fe.alignText,fe.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,be,fe.titleColor,fe.titleFontSize+"px")),i.R7$(1),i.SpI("",fe.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,be,fe.subtitleColor,fe.subtitleFontSize+"px")),i.R7$(1),i.JRh(fe.subTitle),i.R7$(1),i.Y8G("innerHTML",fe.sanitizedContent,i.npT),i.R7$(3),i.JRh(fe.buttonText)}}function ke(Je,qe){if(1&Je){const fe=i.RV6();i.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",6),i.EFF(8),i.k0s()(),i.nrm(9,"p",7),i.j41(10,"div",15)(11,"button",17),i.bIt("click",function(){i.eBV(fe);const Nt=i.XpG();return i.Njj(Nt.navigateTo("resident-form"))}),i.EFF(12),i.k0s()()()()()()}if(2&Je){const fe=i.XpG();i.Y8G("ngClass",i.sMw(8,Te,fe.fullWidth,!fe.fullWidth,fe.boxShadow))("ngStyle",i.ziG(12,Ae,fe.backgroundColor,fe.textColor,fe.alignText,fe.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,be,fe.titleColor,fe.titleFontSize+"px")),i.R7$(1),i.SpI("",fe.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,be,fe.subtitleColor,fe.subtitleFontSize+"px")),i.R7$(1),i.JRh(fe.subTitle),i.R7$(1),i.Y8G("innerHTML",fe.sanitizedContent,i.npT),i.R7$(3),i.JRh(fe.buttonText)}}let Be=(()=>{class Je{set content(fe){this._content=fe,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}constructor(fe,He,Nt){this.sanitizer=fe,this.router=He,this.businessDataService=Nt,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.businessId=""}navigateToContact(fe){this.router.navigate(["/contact-us"],{queryParams:{id:fe}})}navigateTo(fe){this.businessDataService.getBusinessId().subscribe(He=>{He&&(this.businessId=He)}),this.router.navigate(["/"+fe],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(He){return new(He||Je)(i.rXU(ie.up),i.rXU(n.Ix),i.rXU(Ce.A))}}static{this.\u0275cmp=i.VBU({type:Je,selectors:[["app-consultation"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",businessId:"businessId",content:"content"},decls:6,vars:6,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[3,"ngClass","ngStyle"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main",3,"ngStyle"],[1,"section-title-highlight",3,"ngStyle"],[1,"section-description",3,"innerHTML"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main",3,"ngStyle"],[1,"consultation-title","highlight",3,"ngStyle"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],["type","button",1,"cta-btn",3,"click"],[1,"consultation-container"],[1,"consultation-btn",3,"click"]],template:function(He,Nt){1&He&&(i.j41(0,"div",0),i.DNE(1,Ne,10,22,"div",1),i.DNE(2,z,15,23,"div",1),i.DNE(3,Q,13,23,"div",1),i.DNE(4,me,13,23,"div",1),i.DNE(5,ke,13,23,"div",1),i.k0s()),2&He&&(i.Y8G("ngSwitch",Nt.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"))},dependencies:[oe.YU,oe.B3,oe.ux,oe.e1]})}}return Je})()},3095:(sn,et,O)=>{O.d(et,{C:()=>oe});var i=O(7705),ie=O(177);function n(Te,Ae){if(1&Te&&(i.j41(0,"div",5)(1,"p"),i.EFF(2),i.k0s()()),2&Te){const be=i.XpG().$implicit;i.R7$(2),i.JRh(be.answer)}}function Ce(Te,Ae){if(1&Te){const be=i.RV6();i.j41(0,"div",2)(1,"button",3),i.bIt("click",function(){const Q=i.eBV(be).$implicit;return i.Njj(Q.open=!Q.open)}),i.EFF(2),i.k0s(),i.DNE(3,n,3,1,"div",4),i.k0s()}if(2&Te){const be=Ae.$implicit;i.R7$(2),i.SpI(" ",be.question," "),i.R7$(1),i.Y8G("ngIf",be.open)}}let oe=(()=>{class Te{constructor(){this.faqs=[{question:"What services do you provide?",answer:"We offer 24/7 care, medication management, meal preparation, assistance with daily activities, and specialized care for conditions like dementia or mobility limitations.",open:!1},{question:"How do I know if an Adult Family Home is right for my loved one?",answer:"If your loved one needs assistance with daily living but still wants a home-like setting with personalized care, an AFH can be a great alternative to larger nursing facilities.",open:!1},{question:"Do you provide specialized care for dementia or Alzheimer\u2019s patients?",answer:"Yes, we offer memory care services tailored to the needs of residents with dementia, including safety measures, cognitive activities, and compassionate support.",open:!1},{question:"What are the room and living arrangements?",answer:"We provide private or semi-private rooms in a warm, family-like setting. Our common areas encourage socialization, and residents receive personalized attention.",open:!1},{question:"Can family members visit?",answer:"Absolutely! We encourage family visits and open communication. Visiting hours may vary, but we strive to accommodate family involvement.",open:!1},{question:"What is the cost of care, and do you accept insurance?",answer:"Pricing depends on the level of care needed. We accept private pay and some long-term care insurance plans. Contact us for a personalized quote.",open:!1},{question:"What activities and social programs do you offer?",answer:"We provide daily activities such as games, music, gentle exercises, and social events to keep residents engaged and active.",open:!1},{question:"How do I schedule a tour or get more information?",answer:"You can contact us through our website, call us directly, or fill out our inquiry form to schedule a visit and learn more about our care services.",open:!1}]}static{this.\u0275fac=function(Ne){return new(Ne||Te)}}static{this.\u0275cmp=i.VBU({type:Te,selectors:[["app-faq"]],decls:4,vars:1,consts:[[1,"faq-container"],["class","faq-item",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],["class","faq-answer",4,"ngIf"],[1,"faq-answer"]],template:function(Ne,z){1&Ne&&(i.j41(0,"div",0)(1,"h2"),i.EFF(2,"Frequently Asked Questions (FAQs)"),i.k0s(),i.DNE(3,Ce,4,2,"div",1),i.k0s()),2&Ne&&(i.R7$(3),i.Y8G("ngForOf",z.faqs))},dependencies:[ie.Sq,ie.bT],styles:[".faq-container[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto;padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2rem}.faq-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.faq-question[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:var(--dark-background-color);color:#fff;border:none;text-align:left;font-size:1.1em;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.faq-question[_ngcontent-%COMP%]:hover{background-color:#45a049}.faq-answer[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:5px;margin-top:10px;font-size:1.05em;color:#555;box-shadow:0 2px 4px #0000001a}"]})}}return Te})()},3711:(sn,et,O)=>{O.d(et,{a:()=>be});var i=O(5312),ie=O(7705),n=O(6661),Ce=O(177);function oe(Ne,z){1&Ne&&(ie.j41(0,"div",4)(1,"span"),ie.EFF(2,"Mock Google Map Enabled"),ie.k0s()())}function Te(Ne,z){1&Ne&&(ie.j41(0,"div",5),ie.nrm(1,"img",6),ie.k0s())}function Ae(Ne,z){1&Ne&&ie.nrm(0,"div",7)}let be=(()=>{class Ne{constructor(Q){this.googleMapsLoader=Q,this.address="",this.layoutType="demo",this.useMockMap=i.c.useMockGoogleMap}ngOnInit(){console.log("Google Map Address:",this.address),this.useMockMap?console.log("Mock map mode: displaying static map image."):this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Q=>{console.error("Error loading Google Maps script:",Q)})}ngOnChanges(Q){this.useMockMap||Q.address&&!Q.address.firstChange&&this.showAddressOnMap(Q.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Q){this.geocoder.geocode({address:Q},(me,ke)=>{if("OK"===ke){this.map.setCenter(me[0].geometry.location);const Be=new google.maps.LatLngBounds;Be.extend(me[0].geometry.location),this.map.fitBounds(Be),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:me[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+ke)})}getZoomLevel(Q){document.getElementById("map");const Be=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Q*Be)))}static{this.\u0275fac=function(me){return new(me||Ne)(ie.rXU(n.L))}}static{this.\u0275cmp=ie.VBU({type:Ne,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[ie.OA$],decls:6,vars:3,consts:[[1,"mock-data"],["class","mock-badge",4,"ngIf"],["class","mock-map",4,"ngIf","ngIfElse"],["liveMap",""],[1,"mock-badge"],[1,"mock-map"],["src","../../../../assets/sharedAssets/mock-map.png","alt","Static Map Preview"],["id","map",2,"width","100%","height","600px"]],template:function(me,ke){if(1&me&&(ie.j41(0,"div",0),ie.DNE(1,oe,3,0,"div",1),ie.k0s(),ie.qex(2),ie.DNE(3,Te,2,0,"div",2),ie.DNE(4,Ae,1,0,"ng-template",null,3,ie.C5r),ie.bVm()),2&me){const Be=ie.sdS(5);ie.R7$(1),ie.Y8G("ngIf",ke.useMockMap),ie.R7$(2),ie.Y8G("ngIf",ke.useMockMap)("ngIfElse",Be)}},dependencies:[Ce.bT],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}.mock-map[_ngcontent-%COMP%]{max-width:var(--site-max-width);width:100%;height:600px;max-width:100%;overflow:hidden}.mock-data[_ngcontent-%COMP%]{max-width:var(--site-max-width);width:100%;margin:0 auto;text-align:center}.mock-badge[_ngcontent-%COMP%]{background-color:#fff3cd;border:1px solid #ffeeba;color:#856404;padding:4px 10px;font-size:12px;font-weight:600;border-radius:4px;display:inline-block;margin:0 auto}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return Ne})()},263:(sn,et,O)=>{O.d(et,{g:()=>z});var i=O(7705),ie=O(6814),n=O(177);const Ce=function(Q){return{color:Q}};function oe(Q,me){if(1&Q&&(i.j41(0,"span",4),i.EFF(1),i.k0s()),2&Q){const ke=i.XpG(2);i.Y8G("ngStyle",i.eq3(2,Ce,ke.titleColor)),i.R7$(1),i.SpI(" ",ke.titleParts.part2,"")}}function Te(Q,me){1&Q&&i.nrm(0,"div",10)}function Ae(Q,me){if(1&Q&&(i.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()()),2&Q){const ke=me.$implicit;i.R7$(4),i.JRh(ke.title),i.R7$(3),i.JRh(ke.description)}}const be=function(Q,me,ke){return{"background-image":Q,"background-color":me,color:ke}};function Ne(Q,me){if(1&Q&&(i.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"h3",4),i.EFF(5),i.k0s(),i.j41(6,"h2"),i.DNE(7,oe,2,4,"span",5),i.k0s(),i.DNE(8,Te,1,0,"div",6),i.k0s()(),i.j41(9,"h3",7),i.EFF(10),i.k0s(),i.j41(11,"div",8),i.DNE(12,Ae,8,2,"div",9),i.k0s()()()),2&Q){const ke=i.XpG();i.R7$(4),i.Y8G("ngStyle",i.eq3(8,Ce,ke.titleColor)),i.R7$(1),i.JRh(ke.titleParts.part1),i.R7$(2),i.Y8G("ngIf",ke.titleParts.part2),i.R7$(1),i.Y8G("ngIf",ke.titleParts.part2),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Ce,ke.subtitleColor)),i.R7$(1),i.SpI(" ",ke.subTitle," "),i.R7$(1),i.Y8G("ngStyle",i.sMw(12,be,ke.sectionImageUrl?"url("+ke.sectionImageUrl+")":"none",ke.backgroundColor,ke.textColor)),i.R7$(1),i.Y8G("ngForOf",ke.items)}}let z=(()=>{class Q{constructor(ke){this.router=ke,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(ke){return"boolean"==typeof ke?ke:"string"==typeof ke&&"true"===ke.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[ke,Be]=this.title.split("|").map(Je=>Je.trim());return{part1:ke,part2:Be}}return{part1:this.title,part2:null}}navigateTo(ke){this.router.navigate(["/"+ke],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Be){return new(Be||Q)(i.rXU(ie.Ix))}}static{this.\u0275cmp=i.VBU({type:Q,selectors:[["app-item-list-image"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"text-container"],[3,"ngStyle"],[3,"ngStyle",4,"ngIf"],["class","separator2",4,"ngIf"],[1,"our-services-description",3,"ngStyle"],[1,"parent",3,"ngStyle"],["class","child",4,"ngFor","ngForOf"],[1,"separator2"],[1,"child"],[1,"content"],[1,"content-header"],[1,"content-text"]],template:function(Be,Je){1&Be&&i.DNE(0,Ne,13,16,"div",0),2&Be&&i.Y8G("ngIf",!Je.isMinimal)},dependencies:[n.Sq,n.bT,n.B3]})}}return Q})()},1915:(sn,et,O)=>{O.d(et,{j:()=>lt});var i=O(7705),ie=O(6814),n=O(177),Ce=O(4591);function oe(ft,Le){if(1&ft&&(i.j41(0,"div",11)(1,"div",12),i.nrm(2,"i",13),i.j41(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()),2&ft){const Z=Le.$implicit;i.R7$(2),i.Y8G("ngClass",Z.icon),i.R7$(2),i.JRh(Z.title),i.R7$(3),i.JRh(Z.description)}}const Te=function(ft){return{color:ft}};function Ae(ft,Le){if(1&ft&&(i.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"div",9),i.DNE(6,oe,8,3,"div",10),i.k0s()()()),2&ft){const Z=i.XpG(2);i.R7$(3),i.Y8G("ngStyle",i.eq3(3,Te,Z.titleColor)),i.R7$(1),i.SpI(" ",Z.title," "),i.R7$(2),i.Y8G("ngForOf",Z.items)}}function be(ft,Le){if(1&ft&&(i.j41(0,"div",20),i.nrm(1,"i",21),i.j41(2,"h2",22),i.EFF(3),i.k0s(),i.j41(4,"p",22),i.EFF(5),i.k0s()()),2&ft){const Z=Le.$implicit,Ee=i.XpG(3);i.R7$(1),i.Y8G("ngStyle",i.eq3(6,Te,Ee.textColor))("ngClass",Z.icon),i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Te,Ee.subtitleColor)),i.R7$(1),i.JRh(Z.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Te,Ee.textColor)),i.R7$(1),i.JRh(Z.description)}}function Ne(ft,Le){if(1&ft&&(i.j41(0,"div")(1,"div")(2,"div",7)(3,"div",15)(4,"span",16),i.EFF(5),i.k0s(),i.j41(6,"span",17),i.EFF(7),i.k0s()()(),i.j41(8,"div",18),i.DNE(9,be,6,12,"div",19),i.k0s()()()),2&ft){const Z=i.XpG(2);i.R7$(5),i.SpI("",Z.title," "),i.R7$(2),i.JRh(Z.subTitle),i.R7$(2),i.Y8G("ngForOf",Z.items)}}const z=function(ft,Le,Z,Ee,je,gt){return{"parallax-container":ft,"regular-image-container":Le,"solid-bg-container":Z,"full-width":Ee,centered:je,shadow:gt}},Q=function(ft,Le,Z,Ee,je){return{"background-image":ft,"background-color":Le,color:Z,"text-align":Ee,"border-radius":je}};function me(ft,Le){if(1&ft&&(i.j41(0,"section",4)(1,"div"),i.DNE(2,Ae,7,5,"div",5),i.DNE(3,Ne,10,3,"div",5),i.k0s()()),2&ft){const Z=i.XpG();i.Y8G("ngClass",i.l4e(4,z,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth,Z.boxShadow))("ngStyle",i.s1E(11,Q,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor,Z.alignText,Z.borderRadius+"px")),i.R7$(2),i.Y8G("ngIf",!Z.isMinimal),i.R7$(1),i.Y8G("ngIf",Z.isMinimal)}}function ke(ft,Le){if(1&ft&&(i.j41(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29),i.EFF(4),i.k0s()(),i.j41(5,"div",30)(6,"h2",31),i.EFF(7),i.k0s(),i.j41(8,"p",32),i.EFF(9),i.k0s()()()()),2&ft){const Z=Le.$implicit,Ee=Le.index;i.AVh("alt-section",Ee%2!=0),i.R7$(4),i.JRh(Ee+1),i.R7$(3),i.JRh(Z.title),i.R7$(2),i.JRh(Z.description)}}function Be(ft,Le){if(1&ft&&(i.j41(0,"section",24),i.DNE(1,ke,10,5,"div",25),i.k0s()),2&ft){const Z=i.XpG(2);i.R7$(1),i.Y8G("ngForOf",Z.items)}}function Je(ft,Le){if(1&ft&&(i.j41(0,"div",37),i.nrm(1,"i",38),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"p"),i.EFF(5),i.k0s()()),2&ft){const Z=Le.$implicit;i.R7$(1),i.Y8G("ngClass",Z.icon),i.R7$(2),i.JRh(Z.title),i.R7$(2),i.JRh(Z.description)}}function qe(ft,Le){if(1&ft){const Z=i.RV6();i.j41(0,"div",39)(1,"button",40),i.bIt("click",function(){i.eBV(Z);const je=i.XpG(3);return i.Njj(je.navigateTo("contact-us"))}),i.EFF(2),i.k0s()()}if(2&ft){const Z=i.XpG(3);i.R7$(2),i.SpI(" ",Z.buttonText," ")}}const fe=function(ft,Le,Z){return{"parallax-container":ft,"regular-image-container":Le,"solid-bg-container":Z}},He=function(ft){return{"background-image":ft}};function Nt(ft,Le){if(1&ft&&(i.j41(0,"div"),i.nrm(1,"app-section-tilte",33),i.j41(2,"div",34)(3,"div",18),i.DNE(4,Je,6,3,"div",35),i.k0s()(),i.DNE(5,qe,3,1,"div",36),i.k0s()),2&ft){const Z=i.XpG(2);i.R7$(1),i.Y8G("titleColor",Z.titleColor)("title",Z.title),i.R7$(1),i.Y8G("ngClass",i.sMw(6,fe,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl))("ngStyle",i.eq3(10,He,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none")),i.R7$(2),i.Y8G("ngForOf",Z.items),i.R7$(1),i.Y8G("ngIf",Z.showButton)}}function Re(ft,Le){if(1&ft&&(i.j41(0,"section",4)(1,"div"),i.DNE(2,Be,2,1,"section",23),i.DNE(3,Nt,6,12,"div",5),i.k0s()()),2&ft){const Z=i.XpG();i.Y8G("ngClass",i.l4e(4,z,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth,Z.boxShadow))("ngStyle",i.s1E(11,Q,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor,Z.alignText,Z.borderRadius+"px")),i.R7$(2),i.Y8G("ngIf",!Z.isMinimal),i.R7$(1),i.Y8G("ngIf",Z.isMinimal)}}function Ie(ft,Le){if(1&ft&&(i.j41(0,"span",22),i.EFF(1),i.k0s()),2&ft){const Z=i.XpG(3);i.Y8G("ngStyle",i.eq3(2,Te,Z.titleColor)),i.R7$(1),i.SpI(" ",Z.titleParts.part2,"")}}function dt(ft,Le){if(1&ft&&(i.j41(0,"div",11)(1,"div"),i.nrm(2,"i",13),i.j41(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()),2&ft){const Z=Le.$implicit;i.R7$(2),i.Y8G("ngClass",Z.icon),i.R7$(2),i.JRh(Z.title),i.R7$(3),i.JRh(Z.description)}}const ot=function(ft,Le,Z){return{"background-image":ft,"background-color":Le,color:Z}};function _t(ft,Le){if(1&ft&&(i.j41(0,"div")(1,"section",42)(2,"div",7)(3,"div",43)(4,"h3",22),i.EFF(5),i.k0s(),i.j41(6,"h2"),i.DNE(7,Ie,2,4,"span",44),i.k0s(),i.nrm(8,"div",45),i.k0s()(),i.j41(9,"h3",46),i.EFF(10),i.k0s(),i.j41(11,"div",9),i.DNE(12,dt,8,3,"div",10),i.k0s()()()),2&ft){const Z=i.XpG(2);i.R7$(1),i.Y8G("ngStyle",i.sMw(7,ot,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),i.R7$(3),i.Y8G("ngStyle",i.eq3(11,Te,Z.titleColor)),i.R7$(1),i.JRh(Z.titleParts.part1),i.R7$(2),i.Y8G("ngIf",Z.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.eq3(13,Te,Z.subtitleColor)),i.R7$(1),i.SpI(" ",Z.subTitle," "),i.R7$(2),i.Y8G("ngForOf",Z.items)}}function Lt(ft,Le){if(1&ft&&(i.j41(0,"div",37),i.nrm(1,"i",47),i.j41(2,"h2",22),i.EFF(3),i.k0s(),i.j41(4,"p",22),i.EFF(5),i.k0s()()),2&ft){const Z=Le.$implicit,Ee=i.XpG(3);i.R7$(1),i.Y8G("ngStyle",i.eq3(6,Te,Ee.titleColor))("ngClass",Z.icon),i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Te,Ee.titleColor)),i.R7$(1),i.JRh(Z.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Te,Ee.subtitleColor)),i.R7$(1),i.SpI(" ",Z.description," ")}}const $t=function(ft,Le,Z,Ee,je){return{"parallax-container":ft,"regular-image-container":Le,"solid-bg-container":Z,"full-width":Ee,centered:je}};function xe(ft,Le){if(1&ft&&(i.j41(0,"div")(1,"div",34)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"div",18),i.DNE(6,Lt,6,12,"div",35),i.k0s()()()),2&ft){const Z=i.XpG(2);i.R7$(1),i.Y8G("ngClass",i.s1E(5,$t,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth))("ngStyle",i.sMw(11,ot,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),i.R7$(2),i.Y8G("ngStyle",i.eq3(15,Te,Z.titleColor)),i.R7$(1),i.SpI(" ",Z.title," "),i.R7$(2),i.Y8G("ngForOf",Z.items)}}function tn(ft,Le){if(1&ft&&(i.j41(0,"section",41)(1,"div"),i.DNE(2,_t,13,15,"div",5),i.DNE(3,xe,7,17,"div",5),i.k0s()()),2&ft){const Z=i.XpG();i.R7$(2),i.Y8G("ngIf",!Z.isMinimal),i.R7$(1),i.Y8G("ngIf",Z.isMinimal)}}function un(ft,Le){if(1&ft&&(i.j41(0,"div",11)(1,"div"),i.nrm(2,"i",13),i.j41(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()),2&ft){const Z=Le.$implicit;i.R7$(2),i.Y8G("ngClass",Z.icon),i.R7$(2),i.JRh(Z.title),i.R7$(3),i.JRh(Z.description)}}function Wn(ft,Le){if(1&ft&&(i.j41(0,"div")(1,"section",42)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"h3",46),i.EFF(6),i.k0s(),i.j41(7,"div",9),i.DNE(8,un,8,3,"div",10),i.k0s()()()),2&ft){const Z=i.XpG(2);i.R7$(1),i.Y8G("ngStyle",i.sMw(6,ot,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),i.R7$(2),i.Y8G("ngStyle",i.eq3(10,Te,Z.titleColor)),i.R7$(1),i.SpI(" ",Z.title," "),i.R7$(1),i.Y8G("ngStyle",i.eq3(12,Te,Z.subtitleColor)),i.R7$(1),i.SpI(" ",Z.subTitle," "),i.R7$(2),i.Y8G("ngForOf",Z.items)}}function it(ft,Le){if(1&ft&&(i.j41(0,"div",37),i.nrm(1,"i",47),i.j41(2,"h2",22),i.EFF(3),i.k0s(),i.j41(4,"p",22),i.EFF(5),i.k0s()()),2&ft){const Z=Le.$implicit,Ee=i.XpG(3);i.R7$(1),i.Y8G("ngStyle",i.eq3(6,Te,Ee.titleColor))("ngClass",Z.icon),i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Te,Ee.titleColor)),i.R7$(1),i.JRh(Z.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Te,Ee.subtitleColor)),i.R7$(1),i.SpI(" ",Z.description," ")}}function Ut(ft,Le){if(1&ft&&(i.j41(0,"div")(1,"div",34)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"div",18),i.DNE(6,it,6,12,"div",35),i.k0s()()()),2&ft){const Z=i.XpG(2);i.R7$(1),i.Y8G("ngClass",i.s1E(5,$t,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth))("ngStyle",i.sMw(11,ot,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),i.R7$(2),i.Y8G("ngStyle",i.eq3(15,Te,Z.titleColor)),i.R7$(1),i.SpI(" ",Z.title," "),i.R7$(2),i.Y8G("ngForOf",Z.items)}}function Oe(ft,Le){if(1&ft&&(i.j41(0,"section",41)(1,"div"),i.DNE(2,Wn,9,14,"div",5),i.DNE(3,Ut,7,17,"div",5),i.k0s()()),2&ft){const Z=i.XpG();i.R7$(2),i.Y8G("ngIf",!Z.isMinimal),i.R7$(1),i.Y8G("ngIf",Z.isMinimal)}}function mt(ft,Le){if(1&ft&&(i.j41(0,"div",52)(1,"div",53),i.nrm(2,"i",54),i.k0s(),i.j41(3,"div",55)(4,"h2",56),i.EFF(5),i.k0s(),i.j41(6,"p",57),i.EFF(7),i.k0s()()()),2&ft){const Z=Le.$implicit;i.R7$(2),i.Y8G("ngClass",Z.icon),i.R7$(3),i.JRh(Z.name),i.R7$(2),i.JRh(Z.description)}}function Ve(ft,Le){if(1&ft&&(i.j41(0,"section",48),i.nrm(1,"app-section-tilte",49),i.j41(2,"div",50),i.DNE(3,mt,8,3,"div",51),i.k0s()()),2&ft){const Z=i.XpG();i.R7$(1),i.Y8G("title","Our Services"),i.R7$(2),i.Y8G("ngForOf",Z.items)}}let lt=(()=>{class ft{constructor(Z){this.router=Z,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(Z){return"boolean"==typeof Z?Z:"string"==typeof Z&&"true"===Z.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[Z,Ee]=this.title.split("|").map(je=>je.trim());return{part1:Z,part2:Ee}}return{part1:this.title,part2:null}}navigateTo(Z){this.router.navigate(["/"+Z],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Ee){return new(Ee||ft)(i.rXU(ie.Ix))}}static{this.\u0275cmp=i.VBU({type:ft,selectors:[["app-item-list"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:6,vars:5,consts:[[1,"item-list-container"],["class","services-list-section",3,"ngClass","ngStyle",4,"ngIf"],["class","services-list-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"styled-heading",3,"ngStyle"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[2,"display","flex"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-description"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"services-grid"],["class","services-grid-item",4,"ngFor","ngForOf"],[1,"services-grid-item"],[1,"services-grid-item-icon",3,"ngStyle","ngClass"],[3,"ngStyle"],["class","modern-service-section",4,"ngIf"],[1,"modern-service-section"],["class","service-section",3,"alt-section",4,"ngFor","ngForOf"],[1,"service-section"],[1,"section-content"],[1,"section-right"],[1,"section-number"],[1,"section-left"],[1,"section-title"],[1,"section-description"],[3,"titleColor","title"],[3,"ngClass","ngStyle"],["class","service-item",4,"ngFor","ngForOf"],["class","button-container",4,"ngIf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"button-container"],["type","button",1,"cta-btn",3,"click"],[1,"services-list-section"],[1,"our-services-section",3,"ngStyle"],[1,"text-container"],[3,"ngStyle",4,"ngIf"],[1,"separator2"],[1,"our-services-description",3,"ngStyle"],[1,"services-item-icon",3,"ngStyle","ngClass"],[1,"sb-services-section"],[3,"title"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-service-icon-wrapper"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-content"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(Ee,je){1&Ee&&(i.j41(0,"div",0),i.DNE(1,me,4,17,"section",1),i.DNE(2,Re,4,17,"section",1),i.DNE(3,tn,4,2,"section",2),i.DNE(4,Oe,4,2,"section",2),i.DNE(5,Ve,4,2,"section",3),i.k0s()),2&Ee&&(i.R7$(1),i.Y8G("ngIf","hh"===je.themeType),i.R7$(1),i.Y8G("ngIf","ae"===je.themeType),i.R7$(1),i.Y8G("ngIf","prestige"===je.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===je.themeType),i.R7$(1),i.Y8G("ngIf","sb"==je.themeType||"sp"==je.themeType))},dependencies:[n.YU,n.Sq,n.bT,n.B3,Ce.L]})}}return ft})()},8035:(sn,et,O)=>{O.d(et,{H:()=>Ne});var i=O(7705),ie=O(345),n=O(177),Ce=O(4591);function oe(z,Q){if(1&z&&(i.j41(0,"div",6),i.nrm(1,"img",7),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"span",8),i.EFF(5),i.k0s(),i.nrm(6,"p",9),i.k0s()),2&z){const me=Q.$implicit,ke=i.XpG(2);i.R7$(1),i.Y8G("src",me.image,i.B4B)("alt",me.title),i.R7$(2),i.JRh(me.title),i.R7$(2),i.JRh(me.category),i.R7$(1),i.Y8G("innerHTML",ke.getSanitizedDescription(me.description),i.npT)}}function Te(z,Q){if(1&z&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"p",3),i.EFF(3," Whether you're just getting started or looking for a high-end, fully customized website, we have a package that fits your needs. We design websites to help showcase your adult family home with a professional online presence, making it easier for families to find and trust your services. "),i.k0s(),i.j41(4,"div",4),i.DNE(5,oe,7,5,"div",5),i.k0s()()),2&z){const me=i.XpG();i.R7$(1),i.Y8G("title","Affordable Web & Media Plans"),i.R7$(4),i.Y8G("ngForOf",me.displayItems)}}function Ae(z,Q){if(1&z&&(i.j41(0,"div",6)(1,"div",10),i.nrm(2,"img",11),i.j41(3,"span",12),i.EFF(4),i.nI1(5,"number"),i.k0s()(),i.j41(6,"h3",13),i.EFF(7),i.k0s(),i.nrm(8,"p",9),i.j41(9,"a",14),i.EFF(10,"Visit"),i.k0s()()),2&z){const me=Q.$implicit,ke=Q.index,Be=i.XpG(2);i.R7$(2),i.Mz_("alt","",me.title," Logo"),i.Y8G("src",me.companyLogo||me.image,i.B4B),i.R7$(2),i.JRh(i.i5U(5,6,ke+1,"2.0")),i.R7$(3),i.JRh(me.title),i.R7$(1),i.Y8G("innerHTML",Be.getSanitizedDescription(me.description),i.npT),i.R7$(1),i.FS9("href",me.url,i.B4B)}}function be(z,Q){if(1&z&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"p",3),i.EFF(3,"Using carefully vetted providers and vendors."),i.k0s(),i.j41(4,"div",4),i.DNE(5,Ae,11,9,"div",5),i.k0s()()),2&z){const me=i.XpG();i.R7$(1),i.Y8G("title","Trusted Partners"),i.R7$(4),i.Y8G("ngForOf",me.displayItems)}}let Ne=(()=>{class z{constructor(me){this.sanitizer=me,this.layoutType="",this.companies=[{title:"Ready Meds Farmacy",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",category:"",description:"Ready Meds Pharmacy is a full-service long-term care pharmacy serving adult family homes, assisted living and long-term care facilities, as well as patients living independently.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",url:"https://www.readymedspharmacy.com/"},{title:"Novari Primary Care",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",category:"",description:"Novari Primary Care is a mobile primary care service designed to treat patients in the comfort of their residential care facility.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",url:"https://novariprimarycare.com"},{title:"Holistia Health",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",category:"",description:"Holistia Health offers encompass personalized, in-person, and online programs, along with talk therapy and medication management.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",url:"https://holistiahealth.com"}],this.products=[{title:"LaunchPad Website",companyLogo:"",category:"$999",description:"Get your adult family home online quickly with a simple yet professional single-page website. Perfect for a clean, mobile-friendly presence that showcases your services, location, and contact details. This package is great for those who want an affordable, no-fuss solution to establish credibility online.<br/><br/><ul><li>1 Year Free Hosting</li><li>Owner-Provided Photos</li><li>Onwer-Provided Logo</li><li>Custom Color Theme</li><li>1 year Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285",url:""},{title:"Foundation Website",companyLogo:"",category:"$1799",description:"A well-rounded five-page website designed to highlight all the key aspects of your adult family home. This package includes essential pages such as Home, About, Services, Gallery, and Contact, ensuring visitors get a complete picture of your offerings. SEO-optimized, mobile-responsive, and designed to attract potential residents and their families.<br/><br/><ul><li>3 Years of Secure Hosting</li><li>Proffessional Video</li><li>High-Quality Professional Photography</li><li>Custom Logo Design</li><li>Tailored Website Design</li><li>2 Years of Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9",url:""},{title:"Prestige Website",companyLogo:"",category:"$2500+",description:"A high-end, fully customized website tailored to your brand. This package includes professional photography and videography, custom design, logo creation, business card design, and advanced features such as integrated Google Maps, resident intake forms, and review sections. Perfect for those who want to stand out with a premium online presence. <br/><br/><ul><li>5 Years of Secure Hosting</li><li>Cinematic Professional Video</li><li>High-Resolution Professional Photography</li><li>Immersive Virtual Tour</li><li>CBespoke Logo Design</li><li>Exclusive, Custom Website Design</li><li>Comprehensive Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318",url:""}],this.displayItems=[]}getSanitizedDescription(me){return this.sanitizer.bypassSecurityTrustHtml(me)}ngOnInit(){console.log("Latest Products LayoutType:",this.layoutType),this.displayItems="sb"===this.layoutType?this.products:this.companies}static{this.\u0275fac=function(ke){return new(ke||z)(i.rXU(ie.up))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["app-latest-products"]],inputs:{layoutType:"layoutType",companies:"companies",products:"products"},decls:2,vars:2,consts:[["class","latest-products",4,"ngIf"],[1,"latest-products"],[3,"title"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],[3,"innerHTML"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"index"],[1,"company-name"],["target","_blank",1,"read-more",3,"href"]],template:function(ke,Be){1&ke&&(i.DNE(0,Te,6,2,"div",0),i.DNE(1,be,6,2,"div",0)),2&ke&&(i.Y8G("ngIf","sb"==Be.layoutType),i.R7$(1),i.Y8G("ngIf","sb"!=Be.layoutType))},dependencies:[n.Sq,n.bT,Ce.L,n.QX],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto}.latest-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:var(--dark-background-color)}.latest-products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#777;max-width:1024px;margin:0 auto 20px;padding:20px;font-size:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:left;box-shadow:0 2px 10px #0000001a;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;max-height:80px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:fill}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:24px;color:#0000001a;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:15px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{font-size:20px;color:#444}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:20px;color:var(--text-color);text-transform:uppercase;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;color:var(--text-color);margin:10px 0;line-height:1.9rem;padding:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:20px;color:var(--secondary-color);font-weight:700;text-decoration:none;display:inline-block;margin-top:10px}"]})}}return z})()},491:(sn,et,O)=>{O.d(et,{G:()=>Je});var i=O(7705),ie=O(345),n=O(6814),Ce=O(177);const oe=function(qe,fe,He){return{"full-width":qe,centered:fe,shadow:He}},Te=function(qe,fe,He,Nt){return{"background-color":qe,color:fe,"text-align":He,"border-radius":Nt}};function Ae(qe,fe){if(1&qe&&(i.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),i.EFF(4),i.k0s()(),i.nrm(5,"p",6),i.k0s(),i.j41(6,"div",7),i.nrm(7,"img",8),i.k0s()()),2&qe){const He=i.XpG();i.Y8G("ngClass",i.sMw(6,oe,He.fullWidth,!He.fullWidth,He.boxShadow))("ngStyle",i.ziG(10,Te,He.backgroundColor,He.textColor,He.alignText,He.borderRadius+"px")),i.R7$(4),i.JRh(He.title),i.R7$(1),i.Y8G("innerHTML",He.sanitizedContent,i.npT),i.R7$(2),i.FS9("src",He.sectionImageUrl,i.B4B),i.FS9("alt",He.title)}}function be(qe,fe){if(1&qe&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&qe){const He=i.XpG(2);i.R7$(1),i.SpI(" ",He.titleParts.part2,"")}}const Ne=function(qe,fe,He){return{color:qe,"font-size":fe,"font-style":He}};function z(qe,fe){if(1&qe&&(i.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",3)(4,"h2",12),i.EFF(5),i.k0s(),i.j41(6,"h3",12),i.DNE(7,be,2,1,"span",13),i.k0s(),i.nrm(8,"div",14)(9,"p",15),i.k0s(),i.j41(10,"div",16),i.nrm(11,"img",8),i.k0s()()()()),2&qe){const He=i.XpG();i.R7$(4),i.Y8G("ngStyle",i.sMw(8,Ne,He.titleColor,He.titleFontSize+"px",He.titleFontStyle)),i.R7$(1),i.JRh(He.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(12,Ne,He.subtitleColor,He.subtitleFontSize+"px",He.subtitleFontStyle)),i.R7$(1),i.Y8G("ngIf",He.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(16,Ne,He.textColor,He.textFontSize+"px",He.textFontStyle))("innerHTML",He.sanitizedContent,i.npT),i.R7$(2),i.FS9("src",He.sectionImageUrl,i.B4B),i.FS9("alt",He.title)}}const Q=function(qe,fe){return{color:qe,"font-size":fe}};function me(qe,fe){if(1&qe&&(i.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",16),i.nrm(4,"img",8),i.k0s(),i.j41(5,"div",17)(6,"h3",12),i.EFF(7),i.k0s(),i.j41(8,"h2",12),i.EFF(9),i.k0s(),i.nrm(10,"p",6),i.k0s()()()()),2&qe){const He=i.XpG();i.R7$(4),i.Y8G("src",He.sectionImageUrl,i.B4B)("alt",He.title),i.R7$(2),i.Y8G("ngStyle",i.l_i(7,Q,He.titleColor,He.titleFontSize+"px")),i.R7$(1),i.JRh(He.title),i.R7$(1),i.Y8G("ngStyle",i.l_i(10,Q,He.subtitleColor,He.subtitleFontSize+"px")),i.R7$(1),i.JRh(He.subTitle),i.R7$(1),i.Y8G("innerHTML",He.sanitizedContent,i.npT)}}function ke(qe,fe){if(1&qe&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&qe){const He=i.XpG(2);i.R7$(1),i.SpI(" ",He.titleParts.part2,"")}}function Be(qe,fe){if(1&qe&&(i.j41(0,"section",2)(1,"div",3)(2,"h3",12),i.EFF(3),i.k0s(),i.j41(4,"h2",12),i.DNE(5,ke,2,1,"span",13),i.k0s(),i.nrm(6,"div",14)(7,"p",15),i.k0s(),i.j41(8,"div",7),i.nrm(9,"img",8),i.k0s()()),2&qe){const He=i.XpG();i.Y8G("ngClass",i.sMw(10,oe,He.fullWidth,!He.fullWidth,He.boxShadow))("ngStyle",i.ziG(14,Te,He.backgroundColor,He.textColor,He.alignText,He.borderRadius+"px")),i.R7$(2),i.Y8G("ngStyle",i.sMw(19,Ne,He.subtitleColor,He.subtitleFontSize+"px",He.textFontStyle)),i.R7$(1),i.JRh(He.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(23,Ne,He.titleColor,He.titleFontSize+"px",He.textFontStyle)),i.R7$(1),i.Y8G("ngIf",He.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(27,Ne,He.textColor,He.textFontSize+"px",He.textFontStyle))("innerHTML",He.sanitizedContent,i.npT),i.R7$(2),i.FS9("src",He.sectionImageUrl,i.B4B),i.FS9("alt",He.title)}}let Je=(()=>{class qe{constructor(He,Nt){this.sanitizer=He,this.router=Nt,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.textFontSize="16",this.textFontStyle="normal",this.titleColor="#000000",this.titleFontSize="34",this.titleFontStyle="#normal",this.subtitleColor="#000000",this.subtitleFontSize="14",this.subtitleFontStyle="#normal",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Left Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Left Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(He){this._content=He,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[He,Nt]=this.title.split("|").map(Re=>Re.trim());return{part1:He,part2:Nt}}return{part1:this.title,part2:null}}get contentText(){return this._content}convertToBoolean(He){return"boolean"==typeof He?He:"string"==typeof He&&"true"===He.toLowerCase()}static{this.\u0275fac=function(Nt){return new(Nt||qe)(i.rXU(ie.up),i.rXU(n.Ix))}}static{this.\u0275cmp=i.VBU({type:qe,selectors:[["app-left-text"]],inputs:{themeType:"themeType",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",textFontSize:"textFontSize",textFontStyle:"textFontStyle",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontStyle:"titleFontStyle",subTitle:"subTitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontStyle:"subtitleFontStyle",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:4,vars:4,consts:[["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[3,"ngStyle"],[4,"ngIf"],[1,"separator2"],[1,"center-text-description",3,"ngStyle","innerHTML"],[1,"left-image-container"],[1,"left-text-container"]],template:function(Nt,Re){1&Nt&&(i.DNE(0,Ae,8,15,"section",0),i.DNE(1,z,12,20,"section",1),i.DNE(2,me,11,13,"section",1),i.DNE(3,Be,10,31,"section",0)),2&Nt&&(i.Y8G("ngIf","hh"===Re.themeType),i.R7$(1),i.Y8G("ngIf","ae"===Re.themeType||"sb"===Re.themeType||"sp"===Re.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===Re.themeType),i.R7$(1),i.Y8G("ngIf","prestige"===Re.themeType))},dependencies:[Ce.YU,Ce.bT,Ce.B3]})}}return qe})()},4593:(sn,et,O)=>{O.d(et,{F:()=>Be});var i=O(7705),ie=O(345),n=O(6814),Ce=O(177);const oe=function(Je,qe,fe){return{"full-width":Je,centered:qe,shadow:fe}},Te=function(Je,qe,fe,He){return{"background-color":Je,color:qe,"text-align":fe,"border-radius":He}};function Ae(Je,qe){if(1&Je&&(i.j41(0,"section",4)(1,"div",5),i.nrm(2,"img",6),i.k0s(),i.j41(3,"div",7)(4,"div",8)(5,"h2",9),i.EFF(6),i.k0s()(),i.nrm(7,"p",10),i.k0s()()),2&Je){const fe=i.XpG();i.Y8G("ngClass",i.sMw(6,oe,fe.fullWidth,!fe.fullWidth,fe.boxShadow))("ngStyle",i.ziG(10,Te,fe.backgroundColor,fe.textColor,fe.alignText,fe.borderRadius+"px")),i.R7$(2),i.FS9("src",fe.sectionImageUrl,i.B4B),i.FS9("alt",fe.title),i.R7$(4),i.JRh(fe.title),i.R7$(1),i.Y8G("innerHTML",fe.sanitizedContent,i.npT)}}function be(Je,qe){if(1&Je&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&Je){const fe=i.XpG(2);i.R7$(1),i.SpI(" ",fe.titleParts.part2,"")}}const Ne=function(Je,qe,fe){return{color:Je,"font-size":qe,"font-style":fe}};function z(Je,qe){if(1&Je&&(i.j41(0,"section",11)(1,"div",12)(2,"div",13)(3,"div",14),i.nrm(4,"img",6),i.k0s(),i.j41(5,"div",7)(6,"h2",15),i.EFF(7),i.k0s(),i.j41(8,"h3",15),i.DNE(9,be,2,1,"span",16),i.k0s(),i.nrm(10,"div",17)(11,"p",18),i.k0s()()()()),2&Je){const fe=i.XpG();i.R7$(4),i.FS9("src",fe.sectionImageUrl,i.B4B),i.FS9("alt",fe.title),i.R7$(2),i.Y8G("ngStyle",i.sMw(8,Ne,fe.titleColor,fe.titleFontSize+"px",fe.titleFontStyle)),i.R7$(1),i.JRh(fe.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(12,Ne,fe.subtitleColor,fe.subtitleFontSize+"px",fe.subtitleFontStyle)),i.R7$(1),i.Y8G("ngIf",fe.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(16,Ne,fe.textColor,fe.textFontSize+"px",fe.textFontStyle))("innerHTML",fe.sanitizedContent,i.npT)}}function Q(Je,qe){if(1&Je&&(i.j41(0,"section",19)(1,"div",12)(2,"div",13)(3,"div",14),i.nrm(4,"img",6),i.k0s(),i.j41(5,"div",20)(6,"h3",15),i.EFF(7),i.k0s(),i.j41(8,"h2",15),i.EFF(9),i.k0s(),i.nrm(10,"p",21),i.k0s()()()()),2&Je){const fe=i.XpG();i.R7$(4),i.Y8G("src",fe.sectionImageUrl,i.B4B)("alt",fe.title),i.R7$(2),i.Y8G("ngStyle",i.sMw(9,Ne,fe.titleColor,fe.titleFontSize+"px",fe.titleFontStyle)),i.R7$(1),i.JRh(fe.title),i.R7$(1),i.Y8G("ngStyle",i.sMw(13,Ne,fe.subtitleColor,fe.subtitleFontSize+"px",fe.subtitleFontStyle)),i.R7$(1),i.JRh(fe.subTitle),i.R7$(1),i.Y8G("ngStyle",i.sMw(17,Ne,fe.textColor,fe.textFontSize+"px",fe.textFontStyle))("innerHTML",fe.sanitizedContent,i.npT)("innerHTML",fe.sanitizedContent,i.npT)}}function me(Je,qe){if(1&Je&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&Je){const fe=i.XpG(2);i.R7$(1),i.SpI(" ",fe.titleParts.part2,"")}}function ke(Je,qe){if(1&Je&&(i.j41(0,"section",22)(1,"div",5),i.nrm(2,"img",6),i.k0s(),i.j41(3,"div",7)(4,"h3",15),i.EFF(5),i.k0s(),i.j41(6,"h2",15),i.DNE(7,me,2,1,"span",16),i.k0s(),i.nrm(8,"div",17)(9,"p",18),i.k0s()()),2&Je){const fe=i.XpG();i.Y8G("ngClass",i.sMw(10,oe,fe.fullWidth,!fe.fullWidth,fe.boxShadow))("ngStyle",i.ziG(14,Te,fe.backgroundColor,fe.textColor,fe.alignText,fe.borderRadius+"px")),i.R7$(2),i.FS9("src",fe.sectionImageUrl,i.B4B),i.FS9("alt",fe.title),i.R7$(2),i.Y8G("ngStyle",i.sMw(19,Ne,fe.subtitleColor,fe.subtitleFontSize+"px",fe.subtitleFontStyle)),i.R7$(1),i.JRh(fe.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(23,Ne,fe.titleColor,fe.titleFontSize+"px",fe.titleFontStyle)),i.R7$(1),i.Y8G("ngIf",fe.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(27,Ne,fe.textColor,fe.textFontSize+"px",fe.textFontStyle))("innerHTML",fe.sanitizedContent,i.npT)}}let Be=(()=>{class Je{constructor(fe,He){this.sanitizer=fe,this.router=He,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.textFontSize="16",this.textFontStyle="normal",this.titleColor="#000000",this.titleFontSize="34",this.titleFontStyle="#normal",this.subtitleColor="#000000",this.subtitleFontSize="14",this.subtitleFontStyle="#normal",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Right Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Right Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(fe){this._content=fe,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(fe)}get titleParts(){if(this.title.includes("|")){const[fe,He]=this.title.split("|").map(Nt=>Nt.trim());return{part1:fe,part2:He}}return{part1:this.title,part2:null}}get content(){return this._content}convertToBoolean(fe){return"boolean"==typeof fe?fe:"string"==typeof fe&&"true"===fe.toLowerCase()}static{this.\u0275fac=function(He){return new(He||Je)(i.rXU(ie.up),i.rXU(n.Ix))}}static{this.\u0275cmp=i.VBU({type:Je,selectors:[["app-right-text"]],inputs:{themeType:"themeType",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",textFontSize:"textFontSize",textFontStyle:"textFontStyle",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontStyle:"titleFontStyle",subTitle:"subTitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontStyle:"subtitleFontStyle",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:4,vars:4,consts:[["class","right-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container reverse-on-mobile",4,"ngIf"],["class","content-container alt",4,"ngIf"],["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],[1,"right-text-section",3,"ngClass","ngStyle"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"content-container","reverse-on-mobile"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[3,"ngStyle"],[4,"ngIf"],[1,"separator2"],[1,"center-text-description",3,"ngStyle","innerHTML"],[1,"content-container","alt"],[1,"left-text-container"],[3,"ngStyle","innerHTML"],[1,"left-text-section",3,"ngClass","ngStyle"]],template:function(He,Nt){1&He&&(i.DNE(0,Ae,8,15,"section",0),i.DNE(1,z,12,20,"section",1),i.DNE(2,Q,11,21,"section",2),i.DNE(3,ke,10,31,"section",3)),2&He&&(i.Y8G("ngIf","hh"===Nt.themeType),i.R7$(1),i.Y8G("ngIf","ae"===Nt.themeType||"sb"===Nt.themeType||"sp"===Nt.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===Nt.themeType),i.R7$(1),i.Y8G("ngIf","prestige"===Nt.themeType))},dependencies:[Ce.YU,Ce.bT,Ce.B3]})}}return Je})()},4591:(sn,et,O)=>{O.d(et,{L:()=>Ce});var i=O(7705),ie=O(177);const n=function(oe){return{color:oe}};let Ce=(()=>{class oe{constructor(){this.titleColor="#000000"}static{this.\u0275fac=function(be){return new(be||oe)}}static{this.\u0275cmp=i.VBU({type:oe,selectors:[["app-section-tilte"]],inputs:{title:"title",titleColor:"titleColor"},decls:3,vars:4,consts:[[1,"center-text-section"],[1,"center-text-title",3,"ngStyle"]],template:function(be,Ne){1&be&&(i.j41(0,"div",0)(1,"h2",1),i.EFF(2),i.k0s()()),2&be&&(i.R7$(1),i.Y8G("ngStyle",i.eq3(2,n,Ne.titleColor)),i.R7$(1),i.JRh(Ne.title))},dependencies:[ie.B3],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}"]})}}return oe})()},4140:(sn,et,O)=>{O.d(et,{B:()=>ye});var i=O(7705),ie=O(7304),n=O(4593),Ce=O(491),oe=O(9969),Te=O(6814),Ae=O(923),be=O(177);const Ne=function(ce){return{id:ce}},z=function(ce,Qe){return{"clemo-btn":ce,"clemo-btn-outline":Qe}},Q=function(ce){return{"border-radius":ce}};function me(ce,Qe){if(1&ce&&(i.qex(0),i.j41(1,"a",14),i.EFF(2),i.k0s(),i.bVm()),2&ce){const _e=Qe.$implicit,De=i.XpG(3);i.R7$(1),i.Y8G("routerLink",_e.link)("queryParams",i.eq3(5,Ne,null==De.business?null:De.business.id))("ngClass",i.l_i(7,z,!_e.outline,_e.outline))("ngStyle",i.eq3(10,Q,De.buttonBorderRadius)),i.R7$(1),i.SpI(" ",_e.text," ")}}const ke=function(ce,Qe){return{directionEnter:ce,directionLeave:Qe}},Be=function(ce,Qe){return{value:ce,params:Qe}},Je=function(ce){return{backgroundImage:ce,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}},qe=function(ce,Qe){return{"font-size":ce,"font-weight":Qe}};function fe(ce,Qe){if(1&ce){const _e=i.RV6();i.j41(0,"div",4),i.bIt("@slideTransition.done",function(){i.eBV(_e);const St=i.XpG().index,Dn=i.XpG();return i.Njj(Dn.onSlideTransitionDone(St))}),i.nrm(1,"div",5),i.j41(2,"div",6)(3,"div",7)(4,"h1"),i.EFF(5),i.k0s(),i.nrm(6,"div",8)(7,"h2",9),i.j41(8,"div",10),i.DNE(9,me,3,12,"ng-container",1),i.k0s()(),i.j41(10,"div",11)(11,"div",12),i.nrm(12,"div",13),i.k0s(),i.j41(13,"p"),i.EFF(14,"Scroll down"),i.k0s()()()()}if(2&ce){const _e=i.XpG(),De=_e.index,St=_e.$implicit,Dn=i.XpG();i.Y8G("@slideTransition",i.l_i(10,Be,De===Dn.currentSlide?"enter":"leave",i.l_i(7,ke,"left"===Dn.slideDirection?"100%":"-100%","left"===Dn.slideDirection?"-100%":"100%"))),i.R7$(1),i.Y8G("ngStyle",i.eq3(13,Je,"url("+St.backgroundImage+")")),i.R7$(1),i.Y8G("@slideFadeIn",void 0),i.R7$(3),i.JRh(St.title),i.R7$(2),i.Y8G("ngStyle",i.l_i(15,qe,Dn.subtitleSize,Dn.subtitleWeight))("innerHTML",St.subtitle,i.npT),i.R7$(2),i.Y8G("ngForOf",St.buttons)}}function He(ce,Qe){if(1&ce&&(i.qex(0),i.DNE(1,fe,15,18,"div",3),i.bVm()),2&ce){const _e=Qe.index,De=i.XpG();i.R7$(1),i.Y8G("ngIf",_e===De.currentSlide||_e===De.previousSlide)}}const Nt=function(ce){return{"line-style":ce}};function Re(ce,Qe){if(1&ce){const _e=i.RV6();i.j41(0,"div",19),i.bIt("click",function(){const Dn=i.eBV(_e).index,Se=i.XpG(2);return i.Njj(Se.navigateToSlide(Dn))}),i.k0s()}if(2&ce){const _e=Qe.index,De=i.XpG(2);i.AVh("clemo-active",_e===De.currentSlide),i.Y8G("ngClass",i.eq3(3,Nt,"bottom"===De.navigation))}}function Ie(ce,Qe){if(1&ce){const _e=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(_e);const St=i.XpG(2);return i.Njj(St.prevSlide())}),i.nrm(1,"span",21),i.j41(2,"span",22),i.EFF(3,"Previous"),i.k0s()()}}function dt(ce,Qe){if(1&ce){const _e=i.RV6();i.j41(0,"button",23),i.bIt("click",function(){i.eBV(_e);const St=i.XpG(2);return i.Njj(St.nextSlide())}),i.nrm(1,"span",24),i.j41(2,"span",22),i.EFF(3,"Next"),i.k0s()()}}const ot=function(ce){return{"bottom-nav":ce}};function _t(ce,Qe){if(1&ce&&(i.j41(0,"div")(1,"div",15),i.DNE(2,Re,1,5,"div",16),i.k0s(),i.DNE(3,Ie,4,0,"button",17),i.DNE(4,dt,4,0,"button",18),i.k0s()),2&ce){const _e=i.XpG();i.R7$(1),i.Y8G("ngClass",i.eq3(4,ot,"bottom"===_e.navigation)),i.R7$(1),i.Y8G("ngForOf",_e.slides),i.R7$(1),i.Y8G("ngIf",_e.sideButtons),i.R7$(1),i.Y8G("ngIf",_e.sideButtons)}}const Lt=function(ce,Qe,_e,De,St){return{"--slider-opacity":ce,height:Qe,"--button-border-radius":_e,"--subtitle-size":De,"--subtitle-weight":St}};let $t=(()=>{class ce{constructor(_e,De){this.router=_e,this.businessDataService=De,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.enableTransitions=!0,this.slideDirection="left",this.previousSlide=0,this.isTransitioning=!1,this.autoSlide()}ngOnInit(){setTimeout(()=>this.enableTransitions=!0,50),console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(_e=>{_e?(this.business=_e,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?(this.slides=this.business.heroSlider.map(De=>({title:this.replaceKeywords(De.title),subtitle:this.replaceKeywords(De.subtitle),backgroundImage:De.backgroundImage,buttons:De.buttons||[]})),console.log("slide count:",this.slides.length)):(console.warn("HeroSliderComponent - No heroSlider data available."),this.slides=[]),this.business.sliderConfig?this.applySliderConfig(this.business.sliderConfig):console.warn("HeroSliderComponent - No sliderConfig found, using default values.")):console.error("HeroSliderComponent - No business data available.")})}applySliderConfig(_e){this.navigation=_e.navigation??"side",this.sideButtons=_e.sideButtons??!0,this.sliderHeight=_e.sliderHeight??"100vh",this.buttonBorderRadius=_e.buttonBorderRadius??"25px",this.subtitleSize=_e.subtitleSize??"1.5rem",this.subtitleWeight=_e.subtitleWeight??"600",console.log("HeroSliderComponent - Applied slider config:",_e)}replaceKeywords(_e){return _e&&this.business?.businessName?_e.replace(/{{businessName}}/g,this.business.businessName):_e}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}navigateToSlide(_e){this.isTransitioning||_e===this.currentSlide||(this.slideDirection=_e>this.currentSlide?"left":"right",this.previousSlide=this.currentSlide,this.currentSlide=_e,this.isTransitioning=!0,console.log("HeroSliderComponent - navigateToSlide:",_e))}prevSlide(){this.isTransitioning||(this.slideDirection="right",this.previousSlide=this.currentSlide,this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1,this.isTransitioning=!0)}nextSlide(){this.isTransitioning||(this.slideDirection="left",this.previousSlide=this.currentSlide,this.currentSlide=(this.currentSlide+1)%this.slides.length,this.isTransitioning=!0)}onSlideTransitionDone(_e){_e===this.previousSlide&&(this.previousSlide=-1),this.isTransitioning=!1}onScroll(){const _e=window.scrollY,De=window.innerHeight;this.sliderOpacity=Math.max(1-_e/De,0)}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(Te.Ix),i.rXU(Ae.A))}}static{this.\u0275cmp=i.VBU({type:ce,selectors:[["app-hero-slider"]],hostBindings:function(De,St){1&De&&i.bIt("scroll",function(Se){return St.onScroll(Se)},!1,i.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:3,vars:9,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","clemo-slides clemo-single-home-slider",4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],[1,"clemo-main-home"],[1,"clemo-main-home-content"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","queryParams","ngClass","ngStyle"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button",3,"click",4,"ngIf"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(De,St){1&De&&(i.j41(0,"div",0),i.DNE(1,He,2,1,"ng-container",1),i.DNE(2,_t,5,6,"div",2),i.k0s()),2&De&&(i.Y8G("ngStyle",i.s1E(3,Lt,St.sliderOpacity,St.sliderHeight,St.buttonBorderRadius,St.subtitleSize,St.subtitleWeight)),i.R7$(1),i.Y8G("ngForOf",St.slides),i.R7$(1),i.Y8G("ngIf",St.slides.length>1))},dependencies:[be.YU,be.Sq,be.bT,be.B3,Te.Wk,Te.wQ],data:{animation:[(0,oe.hZ)("slideFadeIn",[(0,oe.kY)(":enter",[(0,oe.P)("h1, h2, .clemo-separator",[(0,oe.iF)({opacity:0,transform:"translateY(20px)"}),(0,oe.yc)(150,(0,oe.i0)("800ms ease-out",(0,oe.iF)({opacity:1,transform:"translateY(0)"})))])])]),(0,oe.hZ)("slideTransition",[(0,oe.kY)("* => enter",[(0,oe.iF)({opacity:0,transform:"translateX({{directionEnter}})",position:"absolute",top:0,left:0,width:"100%"}),(0,oe.i0)("1200ms ease",(0,oe.iF)({opacity:1,transform:"translateX(0)"}))],{params:{directionEnter:"100%"}}),(0,oe.kY)("* => leave",[(0,oe.iF)({position:"absolute",top:0,left:0,width:"100%"}),(0,oe.i0)("1200ms ease",(0,oe.iF)({opacity:0,transform:"translateX({{directionLeave}})"}))],{params:{directionLeave:"-100%"}})])]}})}}return ce})();var xe=O(1915);function tn(ce,Qe){if(1&ce&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&ce){const _e=Qe.$implicit;i.R7$(1),i.Y8G("innerHTML",_e.title,i.npT),i.R7$(1),i.Y8G("innerHTML",_e.description,i.npT)}}const un=function(ce,Qe,_e){return{"full-width":ce,centered:Qe,shadow:_e}},Wn=function(ce,Qe,_e,De){return{"background-color":ce,color:Qe,"text-align":_e,"border-radius":De}};function it(ce,Qe){if(1&ce&&(i.qex(0,4),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,tn,3,2,"div",11),i.k0s()()(),i.bVm()),2&ce){const _e=i.XpG();i.Y8G("ngClass",i.sMw(5,un,_e.fullWidth,!_e.fullWidth,_e.boxShadow))("ngStyle",i.ziG(9,Wn,_e.backgroundColor,_e.textColor,_e.alignText,_e.borderRadius+"px")),i.R7$(4),i.SpI("",_e.title," "),i.R7$(2),i.JRh(_e.subTitle),i.R7$(3),i.Y8G("ngForOf",_e.items)}}function Ut(ce,Qe){1&ce&&i.eu8(0)}function Oe(ce,Qe){if(1&ce&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&ce){const _e=Qe.$implicit;i.R7$(1),i.Y8G("innerHTML",_e.title,i.npT),i.R7$(1),i.Y8G("innerHTML",_e.description,i.npT)}}function mt(ce,Qe){if(1&ce&&(i.qex(0),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,Oe,3,2,"div",11),i.k0s()()(),i.bVm()),2&ce){const _e=i.XpG();i.R7$(4),i.SpI("",_e.title," "),i.R7$(2),i.JRh(_e.subTitle),i.R7$(3),i.Y8G("ngForOf",_e.items)}}let Ve=(()=>{class ce{constructor(_e){this.route=_e,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("\u{1f4cc} Section Features- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(Te.nX))}}static{this.\u0275cmp=i.VBU({type:ce,selectors:[["app-features"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(De,St){1&De&&(i.j41(0,"div",0),i.DNE(1,it,10,14,"ng-container",1),i.DNE(2,Ut,1,0,"ng-container",2),i.DNE(3,mt,10,3,"ng-container",3),i.k0s()),2&De&&(i.Y8G("ngSwitch",St.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"))},dependencies:[be.YU,be.Sq,be.B3,be.ux,be.e1,be.fG]})}}return ce})();function lt(ce,Qe){if(1&ce&&(i.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),i.EFF(5),i.k0s(),i.j41(6,"strong"),i.EFF(7),i.k0s()()()()()),2&ce){const _e=Qe.$implicit;i.R7$(5),i.SpI('" ',_e.quote,' "'),i.R7$(2),i.JRh(_e.name)}}function ft(ce,Qe){if(1&ce&&(i.qex(0),i.j41(1,"section",3)(2,"div",4)(3,"span",5),i.EFF(4,"Testimonials"),i.k0s()(),i.j41(5,"div",6),i.DNE(6,lt,8,2,"div",7),i.k0s()(),i.bVm()),2&ce){const _e=i.XpG();i.R7$(6),i.Y8G("ngForOf",_e.testimonials)}}function Le(ce,Qe){if(1&ce&&(i.j41(0,"div",21)(1,"div",22)(2,"div",23),i.EFF(3,"\u275d"),i.k0s(),i.j41(4,"p",24),i.EFF(5),i.k0s(),i.j41(6,"h4",25),i.EFF(7),i.k0s()()()),2&ce){const _e=Qe.$implicit;i.R7$(5),i.JRh(_e.quote),i.R7$(2),i.JRh(_e.name)}}function Z(ce,Qe){if(1&ce&&(i.qex(0),i.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),i.EFF(5,"Word of mouth"),i.k0s(),i.j41(6,"p",15),i.EFF(7,"You should hear what people have to say about us"),i.k0s()(),i.j41(8,"div",16)(9,"div",17),i.DNE(10,Le,8,2,"div",18),i.nI1(11,"slice"),i.k0s(),i.j41(12,"div",19)(13,"button",20),i.EFF(14," View All Testimonials "),i.k0s()()()()(),i.bVm()),2&ce){const _e=i.XpG();i.R7$(10),i.Y8G("ngForOf",i.brH(11,1,_e.testimonials,0,4))}}function Ee(ce,Qe){if(1&ce&&(i.j41(0,"div",21)(1,"div",22)(2,"div",23),i.EFF(3,"\u275d"),i.k0s(),i.j41(4,"p",24),i.EFF(5),i.k0s(),i.j41(6,"h4",25),i.EFF(7),i.k0s()()()),2&ce){const _e=Qe.$implicit;i.R7$(5),i.JRh(_e.quote),i.R7$(2),i.JRh(_e.name)}}function je(ce,Qe){if(1&ce&&(i.qex(0),i.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),i.EFF(5,"Word of mouth"),i.k0s(),i.j41(6,"p",15),i.EFF(7,"You should hear what people have to say about us"),i.k0s()(),i.j41(8,"div",16)(9,"div",17),i.DNE(10,Ee,8,2,"div",18),i.nI1(11,"slice"),i.k0s(),i.j41(12,"div",19)(13,"button",20),i.EFF(14," View All Testimonials "),i.k0s()()()()(),i.bVm()),2&ce){const _e=i.XpG();i.R7$(10),i.Y8G("ngForOf",i.brH(11,1,_e.testimonials,0,4))}}function gt(ce,Qe){if(1&ce&&(i.j41(0,"div",21)(1,"div",22)(2,"div",23),i.EFF(3,"\u275d"),i.k0s(),i.j41(4,"p",24),i.EFF(5),i.k0s(),i.j41(6,"h4",25),i.EFF(7),i.k0s()()()),2&ce){const _e=Qe.$implicit;i.R7$(5),i.JRh(_e.quote),i.R7$(2),i.JRh(_e.name)}}function at(ce,Qe){if(1&ce&&(i.qex(0),i.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),i.EFF(5,"Word of mouth"),i.k0s(),i.j41(6,"p",15),i.EFF(7,"You should hear what people have to say about us"),i.k0s()(),i.j41(8,"div",16)(9,"div",17),i.DNE(10,gt,8,2,"div",18),i.nI1(11,"slice"),i.k0s(),i.j41(12,"div",19)(13,"button",20),i.EFF(14," View All Testimonials "),i.k0s()()()()(),i.bVm()),2&ce){const _e=i.XpG();i.R7$(10),i.Y8G("ngForOf",i.brH(11,1,_e.testimonials,0,4))}}function Ht(ce,Qe){1&ce&&i.eu8(0)}let Sn=(()=>{class ce{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(_e){this.currentIndex=_e,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(De){return new(De||ce)}}static{this.\u0275cmp=i.VBU({type:ce,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"]],template:function(De,St){1&De&&(i.j41(0,"div",0),i.DNE(1,ft,7,1,"ng-container",1),i.DNE(2,Z,15,5,"ng-container",1),i.DNE(3,je,15,5,"ng-container",1),i.DNE(4,at,15,5,"ng-container",1),i.DNE(5,Ht,1,0,"ng-container",2),i.k0s()),2&De&&(i.Y8G("ngSwitch",St.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"))},dependencies:[be.Sq,be.ux,be.e1,be.fG,Te.Wk,be.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return ce})();var cr=O(5312),dn=O(6661),kn=O(345),nn=O(1626);function Jn(ce,Qe){1&ce&&(i.j41(0,"div",13)(1,"span"),i.EFF(2,"Mock Google Reviews Enabled"),i.k0s()())}function Ln(ce,Qe){if(1&ce&&(i.j41(0,"a",14),i.EFF(1," Leave us a Google Review "),i.k0s()),2&ce){const _e=i.XpG();i.Y8G("href",_e.googleReviewLink,i.B4B)}}function Qt(ce,Qe){if(1&ce){const _e=i.RV6();i.j41(0,"span"),i.EFF(1," ... "),i.j41(2,"button",29),i.bIt("click",function(){i.eBV(_e);const St=i.XpG(4);return i.Njj(St.navigateTo("testimonials"))}),i.EFF(3,"Read More"),i.k0s()()}}function qt(ce,Qe){if(1&ce&&(i.j41(0,"p",27),i.EFF(1),i.DNE(2,Qt,4,0,"span",28),i.k0s()),2&ce){const _e=i.XpG().$implicit,De=i.XpG(2);i.R7$(1),i.SpI(" ",De.truncateText(_e.quote)," "),i.R7$(1),i.Y8G("ngIf",De.isTruncated(_e.quote))}}function yr(ce,Qe){if(1&ce){const _e=i.RV6();i.j41(0,"span"),i.EFF(1," ... "),i.j41(2,"button",29),i.bIt("click",function(){i.eBV(_e);const St=i.XpG(4);return i.Njj(St.navigateTo("testimonials"))}),i.EFF(3,"Read More"),i.k0s()()}}function Zt(ce,Qe){if(1&ce&&(i.j41(0,"p",27),i.nrm(1,"span",30),i.DNE(2,yr,4,0,"span",28),i.k0s()),2&ce){const _e=i.XpG().$implicit,De=i.XpG(2);i.R7$(1),i.Y8G("innerHTML",De.truncateText(_e.rawQuote),i.npT),i.R7$(1),i.Y8G("ngIf",De.isTruncated(_e.rawQuote))}}function ar(ce,Qe){if(1&ce&&i.nrm(0,"img",31),2&ce){const _e=i.XpG().$implicit;i.FS9("alt",_e.name),i.Y8G("src",_e.photoUrl,i.B4B)}}function Un(ce,Qe){if(1&ce&&(i.j41(0,"div",32),i.EFF(1),i.k0s()),2&ce){const _e=i.XpG().$implicit;i.R7$(1),i.SpI(" ",_e.name.charAt(0).toUpperCase()," ")}}function Bt(ce,Qe){1&ce&&(i.j41(0,"div",33),i.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),i.k0s())}function Tn(ce,Qe){if(1&ce){const _e=i.RV6();i.j41(0,"div",34),i.bIt("click",function(){const Dn=i.eBV(_e).index,Se=i.XpG(3);return i.Njj(Se.goToSlide(Dn))}),i.k0s()}if(2&ce){const _e=Qe.index,De=i.XpG(3);i.AVh("active",_e===De.currentIndex)}}function jn(ce,Qe){if(1&ce&&(i.j41(0,"div",16)(1,"div",17),i.EFF(2,"\u201c"),i.k0s(),i.DNE(3,qt,3,2,"p",18),i.DNE(4,Zt,3,2,"p",18),i.j41(5,"div",19),i.DNE(6,ar,1,2,"img",20),i.DNE(7,Un,2,1,"ng-template",null,21,i.C5r),i.j41(9,"div")(10,"p",22),i.EFF(11),i.k0s(),i.j41(12,"p",23),i.EFF(13),i.k0s(),i.DNE(14,Bt,2,0,"div",24),i.k0s()(),i.j41(15,"div",25),i.DNE(16,Tn,1,2,"div",26),i.k0s()()),2&ce){const _e=Qe.$implicit,De=i.sdS(8),St=i.XpG(2);i.Y8G("@slideIn",void 0),i.R7$(3),i.Y8G("ngIf",_e.isGoogle),i.R7$(1),i.Y8G("ngIf",!_e.isGoogle),i.R7$(2),i.Y8G("ngIf",_e.photoUrl)("ngIfElse",De),i.R7$(5),i.JRh(_e.name),i.R7$(2),i.JRh(_e.relationship),i.R7$(1),i.Y8G("ngIf",_e.isGoogle),i.R7$(2),i.Y8G("ngForOf",St.testimonials)}}const Cn=function(ce){return[ce]};function Fr(ce,Qe){if(1&ce&&(i.qex(0),i.DNE(1,jn,17,9,"div",15),i.bVm()),2&ce){const _e=i.XpG();i.R7$(1),i.Y8G("ngForOf",i.eq3(2,Cn,_e.currentTestimonial))("ngForTrackBy",_e.trackByIndex)}}function Sr(ce,Qe){1&ce&&(i.j41(0,"p",35),i.EFF(1,"No testimonials available at the moment."),i.k0s())}let Vr=(()=>{class ce{constructor(_e,De,St,Dn,Se){this.businessDataService=_e,this.googleMapsLoader=De,this.router=St,this.sanitizer=Dn,this.http=Se,this.business=null,this.useMockReviews=cr.c.useMockGoogleReviews,this.business$=this.businessDataService.businessData$,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){console.log("Testimonial Carousel Loading for ID: ",this.businessId),this.businessDataService.businessData$.subscribe(_e=>{_e&&(this.business=_e)}),this.useMockReviews?this.loadMockGoogleReviews():"0"!==this.business?.placeId&&this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadMockGoogleReviews(){this.http.get("/assets/mocks/mock-reviews.json").subscribe({next:_e=>{const De=_e.map(St=>({name:St.author_name,quote:St.text,relationship:"Mock Google Review",isGoogle:!0}));this.testimonials=[...De,...this.testimonials],this.currentIndex=0},error:_e=>console.error("Failed to load mock reviews",_e)})}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(_e=>{if(_e&&_e.testimonials){const De=_e.testimonials.map(St=>({...St,relationship:"Testimonial",isGoogle:!1,rawQuote:St.quote,quote:this.sanitizeHtml(St.quote)}));this.testimonials=[...this.testimonials,...De]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(De,St)=>{if(St===google.maps.places.PlacesServiceStatus.OK){const Dn=De?.reviews?.map(Se=>({name:Se.author_name,quote:Se.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...Dn,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",St)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials.length>0?this.testimonials[this.currentIndex]:null}goToSlide(_e){this.currentIndex=_e}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}previousSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex-1+this.testimonials.length)%this.testimonials.length)}nextSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)}trackByIndex(_e,De){return _e}truncateText(_e){return _e.length>this.maxTextLength?_e.slice(0,this.maxTextLength):_e}isTruncated(_e){return _e.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}navigateTo(_e){this.businessDataService.getBusinessId().subscribe(De=>{De&&(this.businessId=De)}),console.log("Page: "+_e+" Parameters = "+this.businessId),this.router.navigate(["/"+_e],{queryParams:{id:this.businessId}})}sanitizeHtml(_e){return this.sanitizer.bypassSecurityTrustHtml(_e)}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.placeId}`}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(Ae.A),i.rXU(dn.L),i.rXU(Te.Ix),i.rXU(kn.up),i.rXU(nn.Qq))}}static{this.\u0275cmp=i.VBU({type:ce,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:21,vars:4,consts:[[1,"mock-data"],["class","mock-badge",4,"ngIf"],[1,"testimonials-container","modern-carousel"],[1,"testimonial-content"],[1,"testimonial-intro"],[1,"highlight"],[1,"intro-subtext"],["target","_blank","class","afhBtn",3,"href",4,"ngIf"],[1,"carousel-arrows"],["aria-label","Previous testimonial",3,"click"],["aria-label","Next testimonial",3,"click"],[4,"ngIf","ngIfElse"],["noTestimonials",""],[1,"mock-badge"],["target","_blank",1,"afhBtn",3,"href"],["class","testimonial-quote",4,"ngFor","ngForOf","ngForTrackBy"],[1,"testimonial-quote"],[1,"quote-icon"],["class","quote-text",4,"ngIf"],[1,"author-info"],["class","author-photo",3,"src","alt",4,"ngIf","ngIfElse"],["fallbackAvatar",""],[1,"author-name"],[1,"author-role"],["class","google-stars",4,"ngIf"],[1,"testimonial-dots"],[3,"active","click",4,"ngFor","ngForOf"],[1,"quote-text"],[4,"ngIf"],[1,"read-more",3,"click"],[3,"innerHTML"],[1,"author-photo",3,"src","alt"],[1,"author-photo","placeholder"],[1,"google-stars"],[3,"click"],[1,"no-testimonials-message"]],template:function(De,St){if(1&De&&(i.j41(0,"div")(1,"div",0),i.DNE(2,Jn,3,0,"div",1),i.k0s(),i.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2"),i.EFF(7,"from our "),i.j41(8,"span",5),i.EFF(9,"community"),i.k0s()(),i.j41(10,"p",6),i.EFF(11," Here\u2019s what others had to say about us. "),i.k0s(),i.DNE(12,Ln,2,1,"a",7),i.j41(13,"div",8)(14,"button",9),i.bIt("click",function(){return St.previousSlide()}),i.EFF(15,"\u2190"),i.k0s(),i.j41(16,"button",10),i.bIt("click",function(){return St.nextSlide()}),i.EFF(17,"\u2192"),i.k0s()()(),i.DNE(18,Fr,2,4,"ng-container",11),i.k0s(),i.DNE(19,Sr,2,0,"ng-template",null,12,i.C5r),i.k0s()()),2&De){const Dn=i.sdS(20);i.R7$(2),i.Y8G("ngIf",St.useMockReviews),i.R7$(10),i.Y8G("ngIf","0"!=(null==St.business?null:St.business.placeId)),i.R7$(6),i.Y8G("ngIf",St.currentTestimonial)("ngIfElse",Dn)}},dependencies:[be.Sq,be.bT],styles:[".mock-data[_ngcontent-%COMP%]{max-width:var(--site-max-width);width:100%;margin:0 auto;text-align:center}.mock-badge[_ngcontent-%COMP%]{background-color:#fff3cd;border:1px solid #ffeeba;color:#856404;padding:4px 10px;font-size:12px;font-weight:600;border-radius:4px;display:inline-block;margin:0 auto}"],data:{animation:[(0,oe.hZ)("slideIn",[(0,oe.kY)(":enter",[(0,oe.iF)({opacity:0,transform:"translateX(-100%)"}),(0,oe.i0)("0.5s ease-in",(0,oe.iF)({opacity:1,transform:"translateX(0)"}))]),(0,oe.kY)(":leave",[(0,oe.i0)("0.5s ease-out",(0,oe.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,oe.hZ)("fadeInLeft",[(0,oe.kY)(":enter",[(0,oe.iF)({opacity:0,transform:"translateX(-100%)"}),(0,oe.i0)("0.5s ease-in",(0,oe.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,oe.hZ)("fadeInRight",[(0,oe.kY)(":enter",[(0,oe.iF)({opacity:0,transform:"translateX(100%)"}),(0,oe.i0)("0.5s ease-in",(0,oe.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return ce})();var zn=O(3967);function Kr(ce,Qe){if(1&ce&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&ce){const _e=Qe.$implicit;i.R7$(1),i.Y8G("innerHTML",_e.title,i.npT),i.R7$(1),i.Y8G("innerHTML",_e.description,i.npT)}}const Qi=function(ce,Qe,_e){return{"full-width":ce,centered:Qe,shadow:_e}},pn=function(ce,Qe,_e,De){return{"background-color":ce,color:Qe,"text-align":_e,"border-radius":De}};function qr(ce,Qe){if(1&ce&&(i.qex(0,4),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,Kr,3,2,"div",11),i.k0s()()(),i.bVm()),2&ce){const _e=i.XpG();i.Y8G("ngClass",i.sMw(5,Qi,_e.fullWidth,!_e.fullWidth,_e.boxShadow))("ngStyle",i.ziG(9,pn,_e.backgroundColor,_e.textColor,_e.alignText,_e.borderRadius+"px")),i.R7$(4),i.JRh(_e.title),i.R7$(2),i.SpI(" ",_e.subTitle," "),i.R7$(3),i.Y8G("ngForOf",_e.items)}}function nr(ce,Qe){1&ce&&i.eu8(0)}function vr(ce,Qe){if(1&ce&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&ce){const _e=Qe.$implicit;i.R7$(1),i.Y8G("innerHTML",_e.title,i.npT),i.R7$(1),i.Y8G("innerHTML",_e.description,i.npT)}}function Qn(ce,Qe){if(1&ce&&(i.qex(0),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,vr,3,2,"div",11),i.k0s()()(),i.bVm()),2&ce){const _e=i.XpG();i.R7$(4),i.SpI("",_e.title," "),i.R7$(2),i.SpI(" ",_e.subTitle,""),i.R7$(3),i.Y8G("ngForOf",_e.items)}}let Ci=(()=>{class ce{constructor(_e){this.route=_e,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.order=0}ngOnInit(){console.log("Why Us Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Why Us- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(Te.nX))}}static{this.\u0275cmp=i.VBU({type:ce,selectors:[["app-why-us"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",order:"order"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"]],template:function(De,St){1&De&&(i.j41(0,"div",0),i.DNE(1,qr,10,14,"ng-container",1),i.DNE(2,nr,1,0,"ng-container",2),i.DNE(3,Qn,10,3,"ng-container",3),i.k0s()),2&De&&(i.Y8G("ngSwitch",St.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"))},dependencies:[be.YU,be.Sq,be.B3,be.ux,be.e1,be.fG]})}}return ce})();var pt=O(3711),Et=O(5558);function de(ce,Qe){if(1&ce&&(i.j41(0,"div",7),i.nrm(1,"i",8),i.j41(2,"h3",9),i.EFF(3),i.k0s(),i.j41(4,"p",10),i.EFF(5),i.k0s()()),2&ce){const _e=Qe.$implicit;i.R7$(1),i.HbH(_e.icon),i.R7$(2),i.JRh(_e.title),i.R7$(2),i.JRh(_e.description)}}function ze(ce,Qe){1&ce&&(i.j41(0,"button",11),i.EFF(1,"Learn More"),i.k0s())}let Ft=(()=>{class ce{constructor(){this.sectionTitle="Our Services",this.items=[],this.showLearnMore=!1}ngOnInit(){console.log("\u{1f4cc} Icon List Initialized:",{title:this.sectionTitle,items:this.items})}static{this.\u0275fac=function(De){return new(De||ce)}}static{this.\u0275cmp=i.VBU({type:ce,selectors:[["app-icon-list"]],inputs:{sectionTitle:"sectionTitle",items:"items",showLearnMore:"showLearnMore"},decls:8,vars:3,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["class","afhBtn","routerLink","/services",4,"ngIf"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"],[1,"service-description"],["routerLink","/services",1,"afhBtn"]],template:function(De,St){1&De&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),i.EFF(4),i.k0s(),i.j41(5,"div",4),i.DNE(6,de,6,4,"div",5),i.k0s(),i.DNE(7,ze,2,0,"button",6),i.k0s()()()),2&De&&(i.R7$(4),i.JRh(St.sectionTitle),i.R7$(2),i.Y8G("ngForOf",St.items),i.R7$(1),i.Y8G("ngIf",St.showLearnMore))},dependencies:[be.Sq,be.bT,Te.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(/assets/sharedAssets/istockphoto-1319783351-2048x2048.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return ce})();var zt=O(8035),Rn=O(9483),Rr=O(3095),ir=O(263);function li(ce,Qe){if(1&ce){const _e=i.RV6();i.j41(0,"div",11),i.bIt("click",function(){const Dn=i.eBV(_e).index,Se=i.XpG();return i.Njj(Se.selectTab(Dn))}),i.EFF(1),i.k0s()}if(2&ce){const _e=Qe.$implicit,De=Qe.index,St=i.XpG();i.AVh("active",De===St.selectedTabIndex),i.R7$(1),i.SpI(" ",_e.title," ")}}let Pt=(()=>{class ce{constructor(_e,De){this.businessDataService=_e,this.router=De,this.backgroundImage="",this.businessId="",this.tabs=[{title:"Years of Experience",number:"20+",description:"Dedicated to exceptional care with over 20 years of experience in the industry.",imageUrl:"/assets/sharedAssets/istockphoto-941789670-2048x2048.jpg",link:"/about-us"},{title:"Happy Families",number:"60+",description:"Families served with compassionate and personalized care.",imageUrl:"/assets/sharedAssets/istockphoto-1307432717-2048x2048.jpg",link:"/about-us"},{title:"Services Offered",number:"36",description:"Comprehensive range of care services tailored to meet every need.",imageUrl:"/assets/sharedAssets/istockphoto-2012854188-2048x2048.jpg",link:"/services"}],this.selectedTabIndex=0}selectTab(_e){this.selectedTabIndex=_e}get selectedTab(){return this.tabs[this.selectedTabIndex]}navigateTo(_e){this.businessDataService.getBusinessId().subscribe(De=>{De&&(this.businessId=De)}),console.log("Page: "+_e+" Parameters = "+this.businessId),this.router.navigate(["/"+_e],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(Ae.A),i.rXU(Te.Ix))}}static{this.\u0275cmp=i.VBU({type:ce,selectors:[["app-stats"]],inputs:{backgroundImage:"backgroundImage",businessId:"businessId"},decls:15,vars:6,consts:[[1,"tab-container"],[1,"tabs"],["class","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"tab-content"],[1,"image"],[3,"src","alt"],[1,"text"],[1,"number"],[1,"title"],[1,"description"],[1,"read-more",3,"click"],[1,"tab",3,"click"]],template:function(De,St){1&De&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,li,2,3,"div",2),i.k0s(),i.j41(3,"div",3)(4,"div",4),i.nrm(5,"img",5),i.k0s(),i.j41(6,"div",6)(7,"h1",7),i.EFF(8),i.k0s(),i.j41(9,"h2",8),i.EFF(10),i.k0s(),i.j41(11,"p",9),i.EFF(12),i.k0s(),i.j41(13,"a",10),i.bIt("click",function(){return St.navigateTo(St.selectedTab.link)}),i.EFF(14,"READ MORE \u2192"),i.k0s()()()()),2&De&&(i.R7$(2),i.Y8G("ngForOf",St.tabs),i.R7$(3),i.FS9("alt",St.selectedTab.title),i.Y8G("src",St.selectedTab.imageUrl,i.B4B),i.R7$(3),i.JRh(St.selectedTab.number),i.R7$(2),i.JRh(St.selectedTab.title),i.R7$(2),i.JRh(St.selectedTab.description))},dependencies:[be.Sq],styles:[".tab-container[_ngcontent-%COMP%]{font-family:Segoe UI,sans-serif;padding:2rem;width:100%;max-width:var(--site-max-width);margin:0 auto;border-bottom:solid 1px var(--dark-background-color)}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;border-bottom:1px solid #ccc;margin-bottom:1rem;background:var(--secondary-color)}.tab[_ngcontent-%COMP%]{padding:1rem 7rem;cursor:pointer;font-weight:700;color:#333}.tab.active[_ngcontent-%COMP%]{border-bottom:3px solid black;font-weight:700}.tab-content[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:center;flex-wrap:wrap;background:var(--secondary-color)}.image[_ngcontent-%COMP%]{width:300px;height:400px;overflow:hidden;display:flex;justify-content:center;align-items:center;background:var(--background-color)}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text[_ngcontent-%COMP%]{max-width:500px}.number[_ngcontent-%COMP%]{font-size:10rem;font-weight:700;color:var(--dark-background-color)}.title[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:.5rem}.description[_ngcontent-%COMP%]{margin:1rem 0;color:#555}.read-more[_ngcontent-%COMP%]{text-decoration:none;font-weight:700;color:#000}@media (max-width: 1024px)and (max-width: 1080px){.tab[_ngcontent-%COMP%]{padding:1rem 3rem}.tab-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.image[_ngcontent-%COMP%]{width:100%;max-width:300px;height:400px}.number[_ngcontent-%COMP%]{font-size:8rem}.text[_ngcontent-%COMP%]{max-width:100%;padding:0 1rem}.title[_ngcontent-%COMP%]{font-size:1.25rem}.description[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 768px){.tabs[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;overflow:visible;padding:0;gap:0;border-bottom:none}.tab[_ngcontent-%COMP%]{width:100%;text-align:left;padding:1rem;border:1px solid #ddd;border-bottom:none;font-size:1rem;background-color:#f8f8f8}.tab[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #ddd}.tab.active[_ngcontent-%COMP%]{background-color:#fff;border-left:4px solid black;font-weight:700}.tab-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;padding:1rem 0}.image[_ngcontent-%COMP%]{width:100%;max-width:300px;height:400px;margin-bottom:1rem}.number[_ngcontent-%COMP%]{font-size:5rem}.text[_ngcontent-%COMP%]{max-width:100%;padding:0 1rem}.title[_ngcontent-%COMP%]{font-size:1.25rem}.description[_ngcontent-%COMP%]{font-size:1rem}.read-more[_ngcontent-%COMP%]{display:inline-block;margin-top:1rem;font-size:.95rem}}"]})}}return ce})(),B=(()=>{class ce{constructor(){this.videoSource="",this.autoplay=!1,this.controls=!0,this.loop=!1,this.muted=!1}static{this.\u0275fac=function(De){return new(De||ce)}}static{this.\u0275cmp=i.VBU({type:ce,selectors:[["app-video"]],inputs:{videoSource:"videoSource",autoplay:"autoplay",controls:"controls",loop:"loop",muted:"muted"},decls:2,vars:0,consts:[[1,"video-container"],["src","https://www.youtube.com/embed/5b8zEZiy9mg?si=O_nN5PyZjO9WE2ne","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen",""]],template:function(De,St){1&De&&(i.j41(0,"div",0),i.nrm(1,"iframe",1),i.k0s())},styles:[".video-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:var(--background-color);padding:20px;box-sizing:border-box}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;max-width:var(--site-max-width);aspect-ratio:16 / 9;height:auto;border:1px solid #ccc;border-radius:8px}@media (max-width: 768px){.video-container[_ngcontent-%COMP%]{padding:10px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-height:60vh}}@media (max-width: 480px){.video-container[_ngcontent-%COMP%]{padding:8px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-height:50vh}}"]})}}return ce})();var P=O(5743),k=O(6861);const se=["dynamicContainer"];let ye=(()=>{class ce{constructor(_e,De,St,Dn,Se,Ge,Ye){this.sectionService=_e,this.resolver=De,this.injector=St,this.route=Dn,this.metaService=Se,this.businessDataService=Ge,this.router=Ye,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":ie.W,"hero-slider":$t,"right-text":n.F,"left-text":Ce.G,"item-list":xe.j,"icon-list":Ft,"unique-features":Ve,testimonials:Sn,"testimonials-carousel":Vr,"why-us":Ci,"google-map":pt.a,"latest-products":zt.H,cta:Rn.j,consultation:zn.t,"item-list-image":ir.g}}ngOnInit(){this.route.snapshot.queryParamMap.get("id")&&window.history.replaceState({},"",this.router.url.split("?")[0]),this.businessDataService.getBusinessId().pipe((0,Et.n)(De=>De?(this.businessId=De,this.metaService.loadAndApplyMeta(De),this.businessDataService.loadBusinessData(De)):[])).subscribe(De=>{De&&(this.business=De,this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"home").subscribe(_e=>{_e&&0!==_e.length?(this.sections=_e.filter(De=>!1!==De.isActive).sort((De,St)=>(De.order||0)-(St.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the database")})}loadComponents(){if(this.container.clear(),this.container.createComponent($t),!this.sections.length)return void console.warn("\u2757 No sections available to load.");let _e=null;if(this.sections.forEach((De,St)=>{const Dn=this.componentsMap[De.component];if(!Dn)return void console.error("Component Not Found:",De.component);if("consultation"===De.component)return void(_e=De);const Se=this.container.createComponent(Dn);this.assignComponentProperties(Se.instance,De)}),this.loadManualComponents(),_e){const De=this.componentsMap.consultation;if(De){const St=this.container.createComponent(De);this.assignComponentProperties(St.instance,_e)}else console.error("Consultation Component Not Found!")}}loadManualComponents(){if("clemo"===this.business?.theme?.themeType&&(this.resolver.resolveComponentFactory(B),this.container.createComponent(B,{index:void 0,injector:this.injector})),"sb"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(zt.H);const De=this.container.createComponent(zt.H,{index:void 0,injector:this.injector});De.instance.layoutType=this.business?.theme?.themeType,De.changeDetectorRef.detectChanges()}if("clemo"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(Pt);const De=this.container.createComponent(Pt,{index:void 0,injector:this.injector});De.instance.businessId=this.business?.id,De.changeDetectorRef.detectChanges()}if(this.business?.placeId&&(this.resolver.resolveComponentFactory(Vr),this.container.createComponent(Vr,{index:void 0,injector:this.injector}).instance.placeId=this.business.placeId),this.business?.placeId&&"clemo"===this.business?.theme?.themeType){this.resolver.resolveComponentFactory(pt.a);const De=this.container.createComponent(pt.a,{index:void 0,injector:this.injector});De.instance.layoutType=this.business?.theme?.themeType||"demo",De.instance.address=this.business?.address||""}"sp"===this.business?.theme?.themeType&&this.container.createComponent(Rr.C,{index:void 0,injector:this.injector})}assignComponentProperties(_e,De){_e&&"object"==typeof _e&&(Object.assign(_e,{isActive:[void 0===De.isActive||De.isActive],order:De.order||0,_businessName:this.business?.businessName||"",themeType:this.business?.theme?.themeType,items:De.items||[],isMinimal:De.isMinimal||!1,isParallax:De.isParallax??!0,backgroundColor:De.backgroundColor||"#ffffff",content:this.applyReplaceKeyword(De.sectionContent||""),textColor:De.textColor||"#000000",textFontSize:De.textFontSize||"16",textFontStyle:De.textFontStyle||"normal",alignText:De.alignText||"left",title:this.applyReplaceKeyword(De.sectionTitle||""),titleColor:De.titleColor||"#000000",titleFontSize:De.titleFontSize||"36",titleFontStyle:De.titleFontStyle||"normal",subTitle:this.applyReplaceKeyword(De.sectionSubTitle||""),subtitleColor:De.subtitleColor||"#000000",subtitleFontSize:De.subtitleFontSize||"14",subtitleFontStyle:De.subtitleFontStyle||"normal",fullWidth:De.fullWidth||!1,showBtn:De.showLearnMore||!1,showButton:De.showButton||!1,buttonText:De.buttonText||"Learn More",buttonLink:De.buttonLink||"",showImage:!!De.sectionImageUrl,sectionImageUrl:De.sectionImageUrl||"",boxShadow:De.boxShadow||!1,borderRadius:De.borderRadius??10,page:De.page,location:De.location,businessId:this.business?.id}),_e.changeDetectorRef&&_e.changeDetectorRef.detectChanges())}applyReplaceKeyword(_e){return _e&&this.business?.businessName?_e.replace(/{{\s*businessName\s*}}/g,this.business.businessName):_e}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(P.W),i.rXU(i.OM3),i.rXU(i.zZn),i.rXU(Te.nX),i.rXU(k.R),i.rXU(Ae.A),i.rXU(Te.Ix))}}static{this.\u0275cmp=i.VBU({type:ce,selectors:[["app-home"]],viewQuery:function(De,St){if(1&De&&i.GBs(se,7,i.c1b),2&De){let Dn;i.mGM(Dn=i.lsd())&&(St.container=Dn.first)}},decls:2,vars:0,consts:[[1,"container"],["dynamicContainer",""]],template:function(De,St){1&De&&i.nrm(0,"div",0,1)}})}}return ce})()},4796:(sn,et,O)=>{O.d(et,{u:()=>oe});var i=O(6354),ie=O(7705),n=O(1977),Ce=O(6814);let oe=(()=>{class Te{constructor(be,Ne){this.afAuth=be,this.router=Ne,this.user$=be.authState}login(be,Ne){return this.afAuth.signInWithEmailAndPassword(be,Ne)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,i.T)(be=>!!be))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Ne){return new(Ne||Te)(ie.KVO(n.DS),ie.KVO(Ce.Ix))}}static{this.\u0275prov=ie.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},923:(sn,et,O)=>{O.d(et,{A:()=>Ae});var i=O(4412),ie=O(6354),n=O(8141),Ce=O(7705),oe=O(3012),Te=O(8891);let Ae=(()=>{class be{constructor(z,Q){this.businessService=z,this.businessPageHeroService=Q,this.businessDataSubject=new i.t(null),this.businessIdSubject=new i.t(null),this.locationsSubject=new i.t([]),this.pageHeroSubject=new i.t([]),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(z){return console.log("BusinessDataService - loadBusinessData for ID:",z),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(z).pipe((0,ie.T)(Q=>Q?(Q.sections||(Q.sections=[],console.warn("\u26a0\ufe0f No sections found in Firestore. Initializing empty array.")),Q):null),(0,n.M)(Q=>{this.businessDataSubject.next(Q),this.businessIdSubject.next(z),this.businessService.getLocations(z).subscribe(me=>{this.locationsSubject.next(me)}),this.businessPageHeroService.getPageHeroes(z).subscribe(me=>{this.pageHeroSubject.next(me)})}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}getLocations(){return this.locationsSubject.asObservable()}getPageHeros(){return this.pageHeroSubject.asObservable()}getLocationsForBusiness(z){return this.businessService.getLocations(z)}static{this.\u0275fac=function(Q){return new(Q||be)(Ce.KVO(oe.u),Ce.KVO(Te.x))}}static{this.\u0275prov=Ce.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},8891:(sn,et,O)=>{O.d(et,{x:()=>Ce});var i=O(6354),ie=O(7705),n=O(6340);let Ce=(()=>{class oe{constructor(Ae){this.firestore=Ae}generateNewId(){return this.firestore.createId()}getPageHeroes(Ae){return this.firestore.collection(`businesses/${Ae}/pageHeroes`).snapshotChanges().pipe((0,i.T)(be=>be.map(Ne=>{const z=Ne.payload.doc.data();return{id:Ne.payload.doc.id,...z}})))}savePageHero(Ae,be){const Ne=this.firestore.collection(`businesses/${Ae}/pageHeroes`);return be.id?Ne.doc(be.id).set(be):Ne.add(be)}deletePageHero(Ae,be){return this.firestore.doc(`businesses/${Ae}/pageHeroes/${be}`).delete()}static{this.\u0275fac=function(be){return new(be||oe)(ie.KVO(n.Qe))}}static{this.\u0275prov=ie.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}}return oe})()},5743:(sn,et,O)=>{O.d(et,{W:()=>Te});var i=O(467),ie=O(6354),n=O(7705),Ce=O(6340),oe=O(5571);let Te=(()=>{class Ae{constructor(Ne,z){this.firestore=Ne,this.uploadService=z,this.collectionName="businesses"}generateNewId(){return this.firestore.createId()}getAllBusinesses(){return this.firestore.collection("businesses").valueChanges()}getAllBusinessSections(Ne){return this.firestore.collection(this.collectionName).doc(Ne).collection("sections").snapshotChanges().pipe((0,ie.T)(z=>z.map(Q=>({...Q.payload.doc.data(),id:Q.payload.doc.id}))))}getBusinessSections(Ne,z){return this.firestore.collection(this.collectionName).doc(Ne).collection("sections",Q=>Q.where("page","==",z)).snapshotChanges().pipe((0,ie.T)(Q=>Q.map(me=>({...me.payload.doc.data(),id:me.payload.doc.id}))))}saveSection(Ne,z){return console.log("\u{1f504} Attempting to save section:",z),z.id&&""!==z.id.trim()?console.log("\u270f\ufe0f Updating existing section with ID:",z.id):z.id=this.firestore.createId(),this.firestore.collection(this.collectionName).doc(Ne).collection("sections").doc(z.id).set(z,{merge:!0})}deleteSection(Ne,z){return this.firestore.collection(this.collectionName).doc(Ne).collection("sections").doc(z).delete()}uploadImage(Ne,z,Q,me="",ke="",Be="",Je=""){var qe=this;return(0,i.A)(function*(){try{const{downloadUrl:fe}=qe.uploadService.uploadFile(Ne,z,"sections",me,ke,Be,Je);return new Promise((He,Nt)=>{fe.subscribe({next:Re=>{Re?(console.log("\u2705 Image uploaded successfully:",Re),He(Re)):Nt("\u274c Image URL is undefined.")},error:Re=>{console.error("\u274c Error getting image URL:",Re),Nt(Re)}})})}catch(fe){return console.error("\u274c Error uploading image:",fe),""}})()}mapComponent(Ne){return{"center-text":"center-text","left-text":"left-text","right-text":"right-text","list-item":"list-item"}[Ne]||"default-component"}static{this.\u0275fac=function(z){return new(z||Ae)(n.KVO(Ce.Qe),n.KVO(oe.B))}}static{this.\u0275prov=n.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}}return Ae})()},3012:(sn,et,O)=>{O.d(et,{u:()=>Ae});var i=O(7673),ie=O(6354),n=O(5558),Ce=O(7705),oe=O(6340),Te=O(8721);let Ae=(()=>{class be{constructor(z,Q){this.afs=z,this.storage=Q,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(z){console.log("Business Created");const Q=this.afs.createId();return this.afs.doc(`${this.basePath}/${Q}`).set({...z,id:Q}),this.afs.doc(`${this.basePath}/${Q}`).valueChanges().pipe((0,ie.T)(me=>{if(!me)throw new Error("Business not found after creation");return me}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ie.T)(z=>z.map(Q=>{const me=Q.payload.doc.data(),ke=Q.payload.doc.id,{id:Be,...Je}=me;return{id:ke,...Je}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,z=>z.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(z){return this.getBusinessData(z)}getBusinessData(z){const Q=z&&z.trim()?z:"defaultBusinessId";return this.afs.collection("businesses").doc(Q).snapshotChanges().pipe((0,n.n)(me=>{const ke=me.payload.data(),Be=me.payload.id;if(!ke)return(0,i.of)(void 0);const Je={...ke,id:Be};return this.afs.collection("sections",qe=>qe.where("businessId","==",Be)).snapshotChanges().pipe((0,ie.T)(qe=>{const fe=qe.map(He=>({...He.payload.doc.data(),id:He.payload.doc.id}));return{...Je,sections:fe}}),(0,n.n)(qe=>{const fe={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Be}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ie.T)(He=>{const Nt=He.payload.data()||fe;return qe.theme=Nt,qe}))}))}))}updateBusiness(z,Q){return this.afs.doc(`${this.basePath}/${z}`).update(Q)}deleteBusiness(z){return this.afs.doc(`${this.basePath}/${z}`).delete()}uploadFile(z,Q){return this.storage.upload(z,Q)}getDownloadURL(z){return this.storage.ref(z).getDownloadURL()}updateThemeFileName(z,Q=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${Q}`).update({"theme.themeFileName":z})}getThemeFileName(z=this.defaultBusinessId){return this.afs.collection(this.basePath).doc(z).collection("theme").doc("themeDoc").get().toPromise().then(ke=>ke&&ke.exists?ke.data()?.themeFileName||"styles.css":(console.warn(`No theme document found for business ID: ${z}. Using default theme.`),"default.css")).catch(ke=>(console.error(`Error fetching theme file name for business ID: ${z}`,ke),"default.css"))}createSection(z,Q){return this.afs.collection(`${this.basePath}/${z}/sections`).add(Q)}getSections(z){return this.afs.collection(`${this.basePath}/${z}/sections`).snapshotChanges().pipe((0,ie.T)(Q=>Q.map(me=>{const ke=me.payload.doc.data();return{sectionId:me.payload.doc.id,...ke}})))}updateSection(z,Q,me){return this.afs.doc(`${this.basePath}/${z}/sections/${Q}`).update(me)}deleteSection(z,Q){return this.afs.doc(`${this.basePath}/${z}/sections/${Q}`).delete()}addLocation(z,Q){const me=this.afs.collection(`businesses/${z}/locations`),ke=this.afs.createId();return me.doc(ke).set({id:ke,...Q})}getLocations(z){return this.afs.collection(`businesses/${z}/locations`).snapshotChanges().pipe((0,ie.T)(Q=>(Q.length||console.warn(`\u26a0\ufe0f No locations found in Firestore for Business ID: ${z}`),Q.map(me=>{const ke=me.payload.doc.data();return"object"==typeof ke&&null!==ke?{id:me.payload.doc.id,...ke}:(console.error("\u274c Firestore data format error:",ke),{id:me.payload.doc.id})}))))}updateLocation(z,Q,me){return this.afs.doc(`businesses/${z}/locations/${Q}`).update(me)}deleteLocation(z,Q){return this.afs.doc(`businesses/${z}/locations/${Q}`).delete()}static{this.\u0275fac=function(Q){return new(Q||be)(Ce.KVO(oe.Qe),Ce.KVO(Te.ap))}}static{this.\u0275prov=Ce.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},6661:(sn,et,O)=>{O.d(et,{L:()=>n});var i=O(5312),ie=O(7705);let n=(()=>{class Ce{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Te,Ae)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Te();const be=document.createElement("script");be.id="google-maps-script",be.src=`https://maps.googleapis.com/maps/api/js?key=${i.c.googleMapsApiKey}&libraries=places`,be.async=!0,be.defer=!0,be.onload=()=>{this.scriptLoaded=!0,Te()},be.onerror=Ne=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,Ae(Ne)},document.body.appendChild(be)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(Ae){return new(Ae||Ce)}}static{this.\u0275prov=ie.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}return Ce})()},6861:(sn,et,O)=>{O.d(et,{R:()=>Ce});var i=O(7705),ie=O(345),n=O(923);let Ce=(()=>{class oe{constructor(Ae,be,Ne){this.meta=Ae,this.title=be,this.businessDataService=Ne}updateMetaTags(Ae){this.title.setTitle(Ae.title),this.meta.updateTag({name:"description",content:Ae.description}),this.meta.updateTag({name:"keywords",content:Ae.keywords}),this.meta.updateTag({property:"og:title",content:Ae.title}),this.meta.updateTag({property:"og:description",content:Ae.description})}updateFavicon(Ae){const be=document.getElementsByTagName("head")[0];let Ne=document.querySelector("link[rel*='icon']");Ne||(Ne=document.createElement("link"),Ne.rel="icon",be.appendChild(Ne)),Ne.href=Ae}loadAndApplyMeta(Ae){this.businessDataService.loadBusinessData(Ae).subscribe(be=>{be?(this.updateMetaTags({title:be.metaTitle||"Default Title",description:be.metaDescription||"Default Description",keywords:be.metaKeywords||"default, keywords"}),be.faviconUrl&&this.updateFavicon(be.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(be){return new(be||oe)(i.KVO(ie.W8),i.KVO(ie.hE),i.KVO(n.A))}}static{this.\u0275prov=i.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}}return oe})()},5009:(sn,et,O)=>{O.d(et,{F:()=>Ne});var i=O(8810),ie=O(8455),n=O(7673),Ce=O(6697),oe=O(5558),Te=O(9437),Ae=O(7705),be=O(6340);let Ne=(()=>{class z{constructor(me){this.firestore=me,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(me){return this.firestore.collection("businesses").doc(me).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(me){const ke=this.firestore.collection("businesses").doc(me),Be=ke.collection("theme").doc("themeDoc");return ke.snapshotChanges().pipe((0,Ce.s)(1),(0,oe.n)(Je=>Je.payload.exists?Be.get().pipe((0,oe.n)(qe=>qe.exists?(qe.data(),Be.valueChanges()):(0,ie.H)(Be.set(this.defaultTheme)).pipe((0,oe.n)(()=>(this.applyThemeFile(this.defaultTheme.themeFileName),Be.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,i.$)("Theme Service: - Business document does not exist"))),(0,Te.W)(Je=>(console.error("Error fetching theme:",Je),this.applyThemeFile(this.defaultTheme.themeFileName),(0,n.of)(this.defaultTheme))))}updateColors(me,ke){return this.firestore.collection("businesses").doc(me).collection("theme").doc("themeDoc").set(ke,{merge:!0}).then(()=>{ke.themeFileName&&this.applyThemeFile(ke.themeFileName)}).catch(Je=>{throw console.error("Theme Service: - Error updating colors:",Je),new Error(Je)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(me){return this.loadCss(`assets/themes/${me}`)}loadCss(me){return new Promise((ke,Be)=>{const Je=document.createElement("link");Je.rel="stylesheet",Je.href=me,Je.onload=()=>{console.log(`Loaded theme: ${me}`),ke()},Je.onerror=qe=>{console.error(`Failed to load theme: ${me}`,qe),Be(qe)},document.head.appendChild(Je)})}static{this.\u0275fac=function(ke){return new(ke||z)(Ae.KVO(be.Qe))}}static{this.\u0275prov=Ae.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},5571:(sn,et,O)=>{O.d(et,{B:()=>Ae});var i=O(1985),ie=O(6354),n=O(980),Ce=O(7705),oe=O(8721),Te=O(6340);let Ae=(()=>{class be{constructor(z,Q){this.storage=z,this.firestore=Q}uploadFile(z,Q,me,ke="",Be="",Je="",qe=""){let fe;switch(me){case"testimonail":fe=`businesses/${Q}/testimonail/${z.name}`;break;case"employee":fe=`businesses/${Q}/employee/${z.name}`;break;case"business":fe=`businesses/${Q}/business/${z.name}`;break;case"heroImages":fe=`businesses/${Q}/heroImages/${z.name}`;break;case"lifeStyle":fe=`businesses/${Q}/lifeStyle/${z.name}`;break;case"sectionsImages":fe=`businesses/${Q}/sectionsImages/${z.name}`;break;default:fe=`businesses/${Q}/gallery/${z.name}`}const He=this.storage.ref(fe),Nt=this.storage.upload(fe,z);return{uploadProgress:Nt.percentageChanges().pipe((0,ie.T)(dt=>dt??0)),downloadUrl:new i.c(dt=>{Nt.snapshotChanges().pipe((0,n.j)(()=>{He.getDownloadURL().subscribe(ot=>{this.firestore.collection("businesses").doc(Q).collection(me).add({url:ot,title:ke,description:Be,link:Je,order:qe}),dt.next(ot),dt.complete()})})).subscribe()})}}deleteFile(z,Q,me){return new Promise((ke,Be)=>{const Je=decodeURIComponent(z.split("/").pop()?.split("?")[0]||"");this.storage.ref(Je).delete().subscribe({next:()=>{this.firestore.collection("businesses").doc(Q).collection(me).ref.where("url","==",z).get().then(fe=>{fe.forEach(He=>He.ref.delete()),ke()}).catch(fe=>{console.error("Error deleting from Firestore:",fe),Be(fe)})},error:fe=>{console.error("Error deleting from Storage:",fe),Be(fe)}})})}static{this.\u0275fac=function(Q){return new(Q||be)(Ce.KVO(oe.ap),Ce.KVO(Te.Qe))}}static{this.\u0275prov=Ce.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},8704:(sn,et,O)=>{O.d(et,{N:()=>Ae});var i=O(6354),ie=O(9437),n=O(7673),Ce=O(7705),oe=O(6340),Te=O(8721);let Ae=(()=>{class be{constructor(z,Q){this.firestore=z,this.storage=Q,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(z){const Q=z&&z.trim()?z:this.defaultBusinessId;return this.firestore.collection("businesses").doc(Q).snapshotChanges().pipe((0,i.T)(me=>{const ke=me.payload.data(),Be=me.payload.id;if(ke){const{id:Je,testimonials:qe=[],...fe}=ke;return{id:Be,testimonials:qe.map(Nt=>({...Nt,photoURL:Nt.photoURL&&Nt.photoURL.trim()?Nt.photoURL:this.defaultImage})),...fe}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(z){return this.storage.ref(z).getDownloadURL().pipe((0,ie.W)(Q=>(console.error("Error fetching photo URL:",Q),(0,n.of)(""))))}getEmployeesByBusinessId(z){return(null==z||""==z||""===z)&&(z=this.defaultBusinessId),this.firestore.collection("businesses").doc(z).get().pipe((0,i.T)(Q=>{if(Q.exists){const me=Q.data();return me&&me.employees?me.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ie.W)(Q=>(console.error("Error fetching employees:",Q),(0,n.of)([]))))}getBusinessGalleryImagesById(z){return(null==z||""==z||""===z)&&(z=this.defaultBusinessId),this.firestore.collection("businesses").doc(z).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(z){return(null==z||""==z||""===z)&&(z=this.defaultBusinessId),this.firestore.collection("businesses").doc(z).collection("gallery").valueChanges()}getBusinessUploadedImagesById(z,Q){return(null==z||""==z||""===z)&&(z=this.defaultBusinessId),this.firestore.collection("businesses").doc(z).collection(Q).valueChanges()}checkImageExists(z){return this.storage.refFromURL(z).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(Q){return new(Q||be)(Ce.KVO(oe.Qe),Ce.KVO(Te.ap))}}static{this.\u0275prov=Ce.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},5312:(sn,et,O)=>{O.d(et,{c:()=>i});const i={production:!0,firebase:{apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"},googleMapsApiKey:"AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4",useMockGoogleReviews:!1,useMockGoogleMap:!1}},6282:(sn,et,O)=>{var i={};O.r(i),O.d(i,{afterMain:()=>pt,afterRead:()=>vr,afterWrite:()=>ze,applyStyles:()=>P,arrow:()=>Fn,auto:()=>Tn,basePlacements:()=>jn,beforeMain:()=>Qn,beforeRead:()=>qr,beforeWrite:()=>Et,bottom:()=>ar,clippingParents:()=>Sr,computeStyles:()=>ki,createPopper:()=>Me,createPopperBase:()=>te,createPopperLite:()=>ht,detectOverflow:()=>is,end:()=>Fr,eventListeners:()=>$i,flip:()=>Pr,hide:()=>fi,left:()=>Bt,main:()=>Ci,modifierPhases:()=>Ft,offset:()=>Ji,placements:()=>pn,popper:()=>zn,popperGenerator:()=>bs,popperOffsets:()=>Es,preventOverflow:()=>ur,read:()=>nr,reference:()=>Kr,right:()=>Un,start:()=>Cn,top:()=>Zt,variationPlacements:()=>Qi,viewport:()=>Vr,write:()=>de});var ie=O(345),n=O(7705),Ce=O(1626),oe=O(6814),Te=O(4140),Ae=O(5558),be=O(7304),Ne=O(4593),z=O(491),Q=O(1915),me=O(9483),ke=O(3967),Be=O(8035),Je=O(7673),qe=O(5964),fe=O(9437),He=O(8704),Nt=O(923),Re=O(177),Ie=O(4591);function dt(_,u){if(1&_&&(n.j41(0,"div",5),n.nrm(1,"img",6),n.j41(2,"h3"),n.EFF(3),n.k0s(),n.j41(4,"h4"),n.EFF(5),n.k0s(),n.j41(6,"p"),n.EFF(7),n.k0s()()),2&_){const l=u.$implicit;n.R7$(1),n.FS9("alt",l.name),n.Y8G("src",l.photoURL,n.B4B),n.R7$(2),n.JRh(l.name),n.R7$(2),n.JRh(l.role),n.R7$(2),n.JRh(l.bio)}}function ot(_,u){if(1&_&&(n.j41(0,"div",1),n.nrm(1,"app-section-tilte",2),n.j41(2,"div",3),n.DNE(3,dt,8,5,"div",4),n.nI1(4,"async"),n.k0s()()),2&_){const l=n.XpG();n.R7$(1),n.Y8G("title","Meet the Team")("titleColor","var(--primary-color)"),n.R7$(2),n.Y8G("ngForOf",n.bMT(4,3,l.employees$))}}let _t=(()=>{class _{constructor(l,p){this.employeeService=l,this.businessDataService=p}ngOnInit(){console.log("Meet The Team Component Initialized"),this.employees$=this.businessDataService.getBusinessId().pipe((0,qe.p)(l=>!!l),(0,Ae.n)(l=>this.employeeService.getEmployeesByBusinessId(l).pipe((0,fe.W)(p=>(console.error("Error fetching employees:",p),(0,Je.of)([]))))))}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(He.N),n.rXU(Nt.A))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-meet-the-team"]],decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title","titleColor"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(p,T){1&p&&n.DNE(0,ot,5,5,"div",0),2&p&&n.Y8G("ngIf",T.employees$)},dependencies:[Re.Sq,Re.bT,Ie.L,Re.Jj]})}}return _})();const Lt=["wrapperContainer"];function $t(_,u){}let xe=(()=>{class _{static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-text-wrapper"]],viewQuery:function(p,T){if(1&p&&n.GBs(Lt,7,n.c1b),2&p){let V;n.mGM(V=n.lsd())&&(T.container=V.first)}},decls:3,vars:0,consts:[[1,"text-wrapper"],["wrapperContainer",""]],template:function(p,T){1&p&&(n.j41(0,"div",0),n.DNE(1,$t,0,0,"ng-template",null,1,n.C5r),n.k0s())}})}}return _})();var tn=O(5743),un=O(6861);let Wn=(()=>{class _{constructor(l,p){this.router=l,this.businessDataService=p,this.layoutType="hh",this.backgroundImage="",this.message="",this.fallbackImages={services:{image:"assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Let us make you feel at home"},location:{image:"assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Come Meet Us"}}}ngOnInit(){this.router.events.pipe((0,qe.p)(p=>p instanceof oe.wF)).subscribe(()=>{const p=this.router.url.split("?")[0].replace("/","");this.loadHeroForPage(p)});const l=this.router.url.split("?")[0].replace("/","");this.loadHeroForPage(l)}loadHeroForPage(l){this.businessDataService.getPageHeros().subscribe(p=>{console.log("Page Heroes:",p),console.log("Current Page:",l);const V=p.filter(ne=>ne.isActive).find(ne=>ne.page===l);V?(this.backgroundImage=`url(${V.imageUrl})`,this.message=V.message||"Welcome"):this.fallbackImages[l]?(this.backgroundImage=`url(${this.fallbackImages[l].image})`,this.message=this.fallbackImages[l].message):(this.backgroundImage="url(assets/sharedAssets/default-hero.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(oe.Ix),n.rXU(Nt.A))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-hero"]],inputs:{layoutType:"layoutType"},decls:4,vars:3,consts:[[1,"page-hero"],[1,"page-hero-overlay"]],template:function(p,T){1&p&&(n.j41(0,"div",0)(1,"div",1)(2,"h1"),n.EFF(3),n.k0s()()()),2&p&&(n.xc7("background-image",T.backgroundImage),n.R7$(3),n.JRh(T.message))}})}}return _})(),it=(()=>{class _{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(p,T){1&p&&(n.j41(0,"div",0)(1,"div",1),n.nrm(2,"img",2),n.j41(3,"div",3)(4,"p",4),n.EFF(5),n.k0s(),n.j41(6,"p",5),n.EFF(7),n.k0s()()()()),2&p&&(n.R7$(2),n.FS9("src",T.imageURL,n.B4B),n.R7$(3),n.SpI('" ',T.text,'"'),n.R7$(2),n.SpI("\u2013 ",T.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 1080px),(max-width: 1024px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:50%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return _})();const Ut=["dynamicContainer"];function Oe(_,u){1&_&&(n.qex(0),n.j41(1,"div",4)(2,"div",5)(3,"h1"),n.EFF(4,"About Us"),n.k0s(),n.j41(5,"div",6)(6,"p"),n.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),n.k0s()()()(),n.bVm())}function mt(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","ae"))}function Ve(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","clemo"))}function lt(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","sb"))}function ft(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","prestige"))}function Le(_,u){1&_&&(n.j41(0,"div",8),n.nrm(1,"div",9,10),n.k0s())}function Z(_,u){1&_&&(n.j41(0,"div",8),n.nrm(1,"div",11,10),n.k0s())}function Ee(_,u){if(1&_&&(n.qex(0),n.nrm(1,"app-testimonial-image",12),n.bVm()),2&_){const l=n.XpG(2);n.R7$(1),n.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote)}}function je(_,u){if(1&_&&(n.j41(0,"div")(1,"div",1),n.DNE(2,Oe,8,0,"ng-container",2),n.DNE(3,mt,2,1,"ng-container",2),n.DNE(4,Ve,2,1,"ng-container",2),n.DNE(5,lt,2,1,"ng-container",2),n.DNE(6,ft,2,1,"ng-container",2),n.k0s(),n.DNE(7,Le,3,0,"div",3),n.DNE(8,Z,3,0,"div",3),n.j41(9,"div",1),n.DNE(10,Ee,2,3,"ng-container",2),n.k0s()()),2&_){const l=n.XpG();n.R7$(1),n.Y8G("ngSwitch",l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(1),n.Y8G("ngSwitchCase","prestige"),n.R7$(1),n.Y8G("ngIf","prestige"!=l.business.theme.themeType),n.R7$(1),n.Y8G("ngIf","prestige"==l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitch",l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitchCase","ae")}}let gt=(()=>{class _{constructor(l,p,T,V,ne,le,Fe){this.sectionService=l,this.resolver=p,this.injector=T,this.route=V,this.metaService=ne,this.businessDataService=le,this.router=Fe,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":be.W,"right-text":Ne.F,"left-text":z.G,"item-list":Q.j,cta:me.j,consultation:ke.t,"meet-the-team":_t,"latest-products":Be.H}}ngOnInit(){this.route.snapshot.queryParamMap.get("id")&&window.history.replaceState({},"",this.router.url.split("?")[0]),this.businessDataService.getBusinessId().pipe((0,Ae.n)(p=>p?(this.businessId=p,this.metaService.loadAndApplyMeta(p),this.businessDataService.loadBusinessData(p)):[])).subscribe(p=>{p&&(this.business=p,this.loadSections())})}ngAfterViewInit(){this.business&&this.loadComponents()}loadSections(){this.sectionService.getBusinessSections(this.businessId,"aboutus").subscribe(l=>{l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(!this.container)return void console.error("\u274c ViewContainerRef (container) is undefined.");if(this.container.clear(),!this.sections.length)return void console.warn("\u2757 No sections available to load.");let l=null;if(this.sections.sort((p,T)=>(p.order||0)-(T.order||0)),this.sections=this.sections.filter(p=>"cta"!==p.component||(l=p,!1)),"hh"===this.business?.theme?.themeType){let p=[],T=null,V=null,ne=[];if(this.sections.forEach(le=>{"center-text"===le.component?T?V=le:T=le:"left-text"===le.component||"right-text"===le.component?p.push(le):ne.push(le)}),T&&this.createComponent(T),p.length>0){const le=this.container.createComponent(xe);p.sort((Fe,nt)=>"left-text"===Fe.component?-1:1),p.forEach(Fe=>{const Ct=le.instance.container.createComponent(this.componentsMap[Fe.component]);this.applyComponentProperties(Ct.instance,Fe),Ct.changeDetectorRef.detectChanges()})}V&&this.createComponent(V),ne.forEach(le=>{this.createComponent(le)})}else this.sections.forEach(p=>{this.createComponent(p)});this.loadManualComponents(),l&&this.createComponent(l)}loadManualComponents(){if("clemo"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(Be.H);const T=this.container.createComponent(Be.H,{index:void 0,injector:this.injector});T.instance.layoutType=this.business?.theme?.themeType,T.changeDetectorRef.detectChanges()}const l=this.container.createComponent(_t,{index:void 0,injector:this.injector});this.container.insert(l.hostView),l.changeDetectorRef.detectChanges(),l.changeDetectorRef.detectChanges()}createWrapper(l){if(!l.length)return;const p=document.createElement("div");p.className="text-wrapper",l.sort((T,V)=>"left-text"===T.component?-1:1),l.forEach(T=>{const V=this.createComponent(T);null!==V&&p.appendChild(V.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(l){const p=this.componentsMap[l.component];if(!p)return console.error("\u274c Component Not Found:",l.component),null;const T=this.resolver.resolveComponentFactory(p),V=this.container.createComponent(T);return this.applyComponentProperties(V.instance,l),V.changeDetectorRef.detectChanges(),V}applyComponentProperties(l,p){Object.assign(l,{isActive:[void 0===p.isActive||p.isActive],order:p.order||0,_businessName:this.business?.businessName||"",themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",content:this.applyReplaceKeyword(p.sectionContent||""),textColor:p.textColor||"#000000",textFontSize:p.textFontSize||"16",textFontStyle:p.textFontStyle||"normal",alignText:p.alignText||"left",title:this.applyReplaceKeyword(p.sectionTitle||""),titleColor:p.titleColor||"#000000",titleFontSize:p.titleFontSize||"36",titleFontStyle:p.titleFontStyle||"normal",subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),subtitleColor:p.subtitleColor||"#000000",subtitleFontSize:p.subtitleFontSize||"14",subtitleFontStyle:p.subtitleFontStyle||"normal",fullWidth:p.fullWidth||!1,showBtn:p.showLearnMore||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",showImage:!!p.sectionImageUrl,sectionImageUrl:p.sectionImageUrl||"",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location})}applyReplaceKeyword(l){return l.replace(/{{\s*businessName\s*}}/g,this.business?.businessName||"")}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(tn.W),n.rXU(n.OM3),n.rXU(n.zZn),n.rXU(oe.nX),n.rXU(un.R),n.rXU(Nt.A),n.rXU(oe.Ix))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-about-us"]],viewQuery:function(p,T){if(1&p&&n.GBs(Ut,5,n.c1b),2&p){let V;n.mGM(V=n.lsd())&&(T.container=V.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(p,T){1&p&&n.DNE(0,je,11,10,"div",0),2&p&&n.Y8G("ngIf",T.business)},dependencies:[Re.bT,Re.ux,Re.e1,Wn,it]})}}return _})();var at=O(263);const Ht=["dynamicContainer"];function Sn(_,u){1&_&&(n.qex(0),n.j41(1,"div",4)(2,"div",5)(3,"h1"),n.EFF(4,"Our Services"),n.k0s(),n.j41(5,"div",6)(6,"p"),n.EFF(7,"Providing exceptional care tailored to your needs"),n.k0s()()()(),n.bVm())}function cr(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero"),n.bVm())}function dn(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","clemo"))}function kn(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","sb"))}function nn(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","prestige"))}function Jn(_,u){1&_&&(n.j41(0,"div",8),n.nrm(1,"div",9,10),n.k0s())}function Ln(_,u){1&_&&(n.j41(0,"div",8),n.nrm(1,"div",11,10),n.k0s())}function Qt(_,u){if(1&_&&(n.qex(0),n.nrm(1,"app-testimonial-image",12),n.bVm()),2&_){const l=n.XpG(2);n.R7$(1),n.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[1].name||"")("text",l.business.testimonials[1].quote||"")}}function qt(_,u){if(1&_&&(n.j41(0,"div")(1,"div",1),n.DNE(2,Sn,8,0,"ng-container",2),n.DNE(3,cr,2,0,"ng-container",2),n.DNE(4,dn,2,1,"ng-container",2),n.DNE(5,kn,2,1,"ng-container",2),n.DNE(6,nn,2,1,"ng-container",2),n.k0s(),n.DNE(7,Jn,3,0,"div",3),n.DNE(8,Ln,3,0,"div",3),n.j41(9,"div",1),n.DNE(10,Qt,2,3,"ng-container",2),n.k0s()()),2&_){const l=n.XpG();n.R7$(1),n.Y8G("ngSwitch",l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(1),n.Y8G("ngSwitchCase","prestige"),n.R7$(1),n.Y8G("ngIf","prestige"!=l.business.theme.themeType),n.R7$(1),n.Y8G("ngIf","prestige"==l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitch",l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitchCase","ae")}}let yr=(()=>{class _{constructor(l,p,T,V,ne,le,Fe){this.sectionService=l,this.resolver=p,this.injector=T,this.route=V,this.metaService=ne,this.businessDataService=le,this.router=Fe,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":be.W,"right-text":Ne.F,"left-text":z.G,"item-list":Q.j,cta:me.j,consultatioin:ke.t,"item-list-image":at.g}}ngOnInit(){this.route.snapshot.queryParamMap.get("id")&&window.history.replaceState({},"",this.router.url.split("?")[0]),this.businessDataService.getBusinessId().pipe((0,Ae.n)(p=>p?(this.businessId=p,this.metaService.loadAndApplyMeta(p),this.businessDataService.loadBusinessData(p)):[])).subscribe(p=>{p&&(this.business=p,this.loadSections())})}ngAfterViewInit(){setTimeout(()=>{this.container?this.business&&this.sections.length?this.loadComponents():(console.warn("\u2757 Sections are not loaded yet, retrying..."),setTimeout(()=>{this.sections.length&&this.loadComponents()},500)):console.error("\u274c ViewContainerRef (container) is still undefined after ViewInit.")},500)}loadSections(){this.sectionService.getBusinessSections(this.businessId,"services").subscribe(l=>{console.log("\u{1f4cc} Retrieved Sections:",l),l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(this.container)if(this.container.clear(),this.sections.length)if(this.sections.sort((l,p)=>(l.order||0)-(p.order||0)),"hh"===this.business?.theme?.themeType){console.log("Loading sections for HH layout");let Fe,l=[],p=null,T=null,V=null,ne=null,le=[];this.sections.forEach(nt=>{"item-list"===nt.component?p?T=nt:p=nt:"left-text"===nt.component||"right-text"===nt.component?l.push(nt):"center-text"===nt.component?V=nt:"cta"===nt.component?ne=nt:le.push(nt)}),p&&this.createComponent(p),T&&this.createComponent(T),l.length>0&&(Fe=document.createElement("div"),Fe.className="text-wrapper",l.sort((nt,Ct)=>"left-text"===nt.component?-1:1),l.forEach(nt=>{const Ct=this.createComponent(nt);Ct&&Fe.appendChild(Ct.location.nativeElement)}),this.container.element.nativeElement.appendChild(Fe)),V&&this.createComponent(V),ne&&this.createComponent(ne)}else console.log("Loading sections based on order"),this.sections.sort((l,p)=>(l.order||0)-(p.order||0)),this.sections.forEach(l=>{this.createComponent(l)});else console.warn("\u2757 No sections available to load.");else console.error("\u274c ViewContainerRef (container) is undefined.")}createWrapper(l){if(!l.length)return;const p=document.createElement("div");p.className="text-wrapper",l.sort((T,V)=>"left-text"===T.component?-1:1),l.forEach(T=>{const V=this.createComponent(T);null!==V&&p.appendChild(V.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(l,p){const T=this.componentsMap[l.component];if(!T)return console.error("\u274c Component Not Found:",l.component),null;const V=this.resolver.resolveComponentFactory(T),ne=this.container.createComponent(V);return this.applyComponentProperties(ne.instance,l),p?this.container.element.nativeElement.insertBefore(ne.location.nativeElement,p):this.container.element.nativeElement.appendChild(ne.location.nativeElement),ne}applyComponentProperties(l,p){Object.assign(l,{isActive:[void 0===p.isActive||p.isActive],order:p.order||0,_businessName:this.business?.businessName||"",themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",content:this.applyReplaceKeyword(p.sectionContent||""),textColor:p.textColor||"#000000",textFontSize:p.textFontSize||"16",textFontStyle:p.textFontStyle||"normal",alignText:p.alignText||"left",title:this.applyReplaceKeyword(p.sectionTitle||""),titleColor:p.titleColor||"#000000",titleFontSize:p.titleFontSize||"36",titleFontStyle:p.titleFontStyle||"normal",subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),subtitleColor:p.subtitleColor||"#000000",subtitleFontSize:p.subtitleFontSize||"14",subtitleFontStyle:p.subtitleFontStyle||"normal",fullWidth:p.fullWidth||!1,showBtn:p.showLearnMore||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",showImage:!!p.sectionImageUrl,sectionImageUrl:p.sectionImageUrl||"",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(tn.W),n.rXU(n.OM3),n.rXU(n.zZn),n.rXU(oe.nX),n.rXU(un.R),n.rXU(Nt.A),n.rXU(oe.Ix))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-services"]],viewQuery:function(p,T){if(1&p&&n.GBs(Ht,5,n.c1b),2&p){let V;n.mGM(V=n.lsd())&&(T.container=V.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"hero-services"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(p,T){1&p&&n.DNE(0,qt,11,10,"div",0),2&p&&n.Y8G("ngIf",T.business)},dependencies:[Re.bT,Re.ux,Re.e1,Wn,it]})}}return _})();var Zt="top",ar="bottom",Un="right",Bt="left",Tn="auto",jn=[Zt,ar,Un,Bt],Cn="start",Fr="end",Sr="clippingParents",Vr="viewport",zn="popper",Kr="reference",Qi=jn.reduce(function(_,u){return _.concat([u+"-"+Cn,u+"-"+Fr])},[]),pn=[].concat(jn,[Tn]).reduce(function(_,u){return _.concat([u,u+"-"+Cn,u+"-"+Fr])},[]),qr="beforeRead",nr="read",vr="afterRead",Qn="beforeMain",Ci="main",pt="afterMain",Et="beforeWrite",de="write",ze="afterWrite",Ft=[qr,nr,vr,Qn,Ci,pt,Et,de,ze];function zt(_){return _?(_.nodeName||"").toLowerCase():null}function Rn(_){if(null==_)return window;if("[object Window]"!==_.toString()){var u=_.ownerDocument;return u&&u.defaultView||window}return _}function Rr(_){return _ instanceof Rn(_).Element||_ instanceof Element}function ir(_){return _ instanceof Rn(_).HTMLElement||_ instanceof HTMLElement}function li(_){return!(typeof ShadowRoot>"u")&&(_ instanceof Rn(_).ShadowRoot||_ instanceof ShadowRoot)}const P={name:"applyStyles",enabled:!0,phase:"write",fn:function Pt(_){var u=_.state;Object.keys(u.elements).forEach(function(l){var p=u.styles[l]||{},T=u.attributes[l]||{},V=u.elements[l];!ir(V)||!zt(V)||(Object.assign(V.style,p),Object.keys(T).forEach(function(ne){var le=T[ne];!1===le?V.removeAttribute(ne):V.setAttribute(ne,!0===le?"":le)}))})},effect:function B(_){var u=_.state,l={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,l.popper),u.styles=l,u.elements.arrow&&Object.assign(u.elements.arrow.style,l.arrow),function(){Object.keys(u.elements).forEach(function(p){var T=u.elements[p],V=u.attributes[p]||{},le=Object.keys(u.styles.hasOwnProperty(p)?u.styles[p]:l[p]).reduce(function(Fe,nt){return Fe[nt]="",Fe},{});!ir(T)||!zt(T)||(Object.assign(T.style,le),Object.keys(V).forEach(function(Fe){T.removeAttribute(Fe)}))})}},requires:["computeStyles"]};function k(_){return _.split("-")[0]}var se=Math.max,ye=Math.min,ce=Math.round;function Qe(){var _=navigator.userAgentData;return null!=_&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function _e(){return!/^((?!chrome|android).)*safari/i.test(Qe())}function De(_,u,l){void 0===u&&(u=!1),void 0===l&&(l=!1);var p=_.getBoundingClientRect(),T=1,V=1;u&&ir(_)&&(T=_.offsetWidth>0&&ce(p.width)/_.offsetWidth||1,V=_.offsetHeight>0&&ce(p.height)/_.offsetHeight||1);var le=(Rr(_)?Rn(_):window).visualViewport,Fe=!_e()&&l,nt=(p.left+(Fe&&le?le.offsetLeft:0))/T,Ct=(p.top+(Fe&&le?le.offsetTop:0))/V,an=p.width/T,Bn=p.height/V;return{width:an,height:Bn,top:Ct,right:nt+an,bottom:Ct+Bn,left:nt,x:nt,y:Ct}}function St(_){var u=De(_),l=_.offsetWidth,p=_.offsetHeight;return Math.abs(u.width-l)<=1&&(l=u.width),Math.abs(u.height-p)<=1&&(p=u.height),{x:_.offsetLeft,y:_.offsetTop,width:l,height:p}}function Dn(_,u){var l=u.getRootNode&&u.getRootNode();if(_.contains(u))return!0;if(l&&li(l)){var p=u;do{if(p&&_.isSameNode(p))return!0;p=p.parentNode||p.host}while(p)}return!1}function Se(_){return Rn(_).getComputedStyle(_)}function Ge(_){return["table","td","th"].indexOf(zt(_))>=0}function Ye(_){return((Rr(_)?_.ownerDocument:_.document)||window.document).documentElement}function Gt(_){return"html"===zt(_)?_:_.assignedSlot||_.parentNode||(li(_)?_.host:null)||Ye(_)}function rn(_){return ir(_)&&"fixed"!==Se(_).position?_.offsetParent:null}function hn(_){for(var u=Rn(_),l=rn(_);l&&Ge(l)&&"static"===Se(l).position;)l=rn(l);return l&&("html"===zt(l)||"body"===zt(l)&&"static"===Se(l).position)?u:l||function En(_){var u=/firefox/i.test(Qe());if(/Trident/i.test(Qe())&&ir(_)&&"fixed"===Se(_).position)return null;var T=Gt(_);for(li(T)&&(T=T.host);ir(T)&&["html","body"].indexOf(zt(T))<0;){var V=Se(T);if("none"!==V.transform||"none"!==V.perspective||"paint"===V.contain||-1!==["transform","perspective"].indexOf(V.willChange)||u&&"filter"===V.willChange||u&&V.filter&&"none"!==V.filter)return T;T=T.parentNode}return null}(_)||u}function lr(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function gn(_,u,l){return se(_,ye(u,l))}function ct(_){return Object.assign({},{top:0,right:0,bottom:0,left:0},_)}function Vt(_,u){return u.reduce(function(l,p){return l[p]=_,l},{})}const Fn={name:"arrow",enabled:!0,phase:"main",fn:function Kn(_){var u,l=_.state,p=_.name,T=_.options,V=l.elements.arrow,ne=l.modifiersData.popperOffsets,le=k(l.placement),Fe=lr(le),Ct=[Bt,Un].indexOf(le)>=0?"height":"width";if(V&&ne){var an=function(u,l){return ct("number"!=typeof(u="function"==typeof u?u(Object.assign({},l.rects,{placement:l.placement})):u)?u:Vt(u,jn))}(T.padding,l),Bn=St(V),wn="y"===Fe?Zt:Bt,On="y"===Fe?ar:Un,Pn=l.rects.reference[Ct]+l.rects.reference[Fe]-ne[Fe]-l.rects.popper[Ct],mr=ne[Fe]-l.rects.reference[Fe],jr=hn(V),ti=jr?"y"===Fe?jr.clientHeight||0:jr.clientWidth||0:0,pi=ti/2-Bn[Ct]/2+(Pn/2-mr/2),Ei=gn(an[wn],pi,ti-Bn[Ct]-an[On]);l.modifiersData[p]=((u={})[Fe]=Ei,u.centerOffset=Ei-pi,u)}},effect:function _n(_){var u=_.state,p=_.options.element,T=void 0===p?"[data-popper-arrow]":p;null!=T&&("string"==typeof T&&!(T=u.elements.popper.querySelector(T))||Dn(u.elements.popper,T)&&(u.elements.arrow=T))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gr(_){return _.split("-")[1]}var $r={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fi(_){var u,l=_.popper,p=_.popperRect,T=_.placement,V=_.variation,ne=_.offsets,le=_.position,Fe=_.gpuAcceleration,nt=_.adaptive,Ct=_.roundOffsets,an=_.isFixed,Bn=ne.x,wn=void 0===Bn?0:Bn,On=ne.y,Pn=void 0===On?0:On,mr="function"==typeof Ct?Ct({x:wn,y:Pn}):{x:wn,y:Pn};wn=mr.x,Pn=mr.y;var jr=ne.hasOwnProperty("x"),ti=ne.hasOwnProperty("y"),vi=Bt,Cr=Zt,Si=window;if(nt){var pi=hn(l),Ei="clientHeight",ls="clientWidth";pi===Rn(l)&&"static"!==Se(pi=Ye(l)).position&&"absolute"===le&&(Ei="scrollHeight",ls="scrollWidth"),(T===Zt||(T===Bt||T===Un)&&V===Fr)&&(Cr=ar,Pn-=(an&&pi===Si&&Si.visualViewport?Si.visualViewport.height:pi[Ei])-p.height,Pn*=Fe?1:-1),T!==Bt&&(T!==Zt&&T!==ar||V!==Fr)||(vi=Un,wn-=(an&&pi===Si&&Si.visualViewport?Si.visualViewport.width:pi[ls])-p.width,wn*=Fe?1:-1)}var Ws,So=Object.assign({position:le},nt&&$r),ta=!0===Ct?function er(_,u){var p=_.y,T=u.devicePixelRatio||1;return{x:ce(_.x*T)/T||0,y:ce(p*T)/T||0}}({x:wn,y:Pn},Rn(l)):{x:wn,y:Pn};return wn=ta.x,Pn=ta.y,Object.assign({},So,Fe?((Ws={})[Cr]=ti?"0":"",Ws[vi]=jr?"0":"",Ws.transform=(Si.devicePixelRatio||1)<=1?"translate("+wn+"px, "+Pn+"px)":"translate3d("+wn+"px, "+Pn+"px, 0)",Ws):((u={})[Cr]=ti?Pn+"px":"",u[vi]=jr?wn+"px":"",u.transform="",u))}const ki={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function cs(_){var u=_.state,l=_.options,p=l.gpuAcceleration,T=void 0===p||p,V=l.adaptive,ne=void 0===V||V,le=l.roundOffsets,Fe=void 0===le||le,nt={placement:k(u.placement),variation:gr(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:T,isFixed:"fixed"===u.options.strategy};null!=u.modifiersData.popperOffsets&&(u.styles.popper=Object.assign({},u.styles.popper,Fi(Object.assign({},nt,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:ne,roundOffsets:Fe})))),null!=u.modifiersData.arrow&&(u.styles.arrow=Object.assign({},u.styles.arrow,Fi(Object.assign({},nt,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Fe})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var qs={passive:!0};const $i={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function mo(_){var u=_.state,l=_.instance,p=_.options,T=p.scroll,V=void 0===T||T,ne=p.resize,le=void 0===ne||ne,Fe=Rn(u.elements.popper),nt=[].concat(u.scrollParents.reference,u.scrollParents.popper);return V&&nt.forEach(function(Ct){Ct.addEventListener("scroll",l.update,qs)}),le&&Fe.addEventListener("resize",l.update,qs),function(){V&&nt.forEach(function(Ct){Ct.removeEventListener("scroll",l.update,qs)}),le&&Fe.removeEventListener("resize",l.update,qs)}},data:{}};var jo={left:"right",right:"left",bottom:"top",top:"bottom"};function Jr(_){return _.replace(/left|right|bottom|top/g,function(u){return jo[u]})}var rs={start:"end",end:"start"};function us(_){return _.replace(/start|end/g,function(u){return rs[u]})}function Yr(_){var u=Rn(_);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function Li(_){return De(Ye(_)).left+Yr(_).scrollLeft}function Ys(_){var u=Se(_);return/auto|scroll|overlay|hidden/.test(u.overflow+u.overflowY+u.overflowX)}function _o(_){return["html","body","#document"].indexOf(zt(_))>=0?_.ownerDocument.body:ir(_)&&Ys(_)?_:_o(Gt(_))}function Zr(_,u){var l;void 0===u&&(u=[]);var p=_o(_),T=p===(null==(l=_.ownerDocument)?void 0:l.body),V=Rn(p),ne=T?[V].concat(V.visualViewport||[],Ys(p)?p:[]):p,le=u.concat(ne);return T?le:le.concat(Zr(Gt(ne)))}function ra(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function Di(_,u,l){return u===Vr?ra(function Vi(_,u){var l=Rn(_),p=Ye(_),T=l.visualViewport,V=p.clientWidth,ne=p.clientHeight,le=0,Fe=0;if(T){V=T.width,ne=T.height;var nt=_e();(nt||!nt&&"fixed"===u)&&(le=T.offsetLeft,Fe=T.offsetTop)}return{width:V,height:ne,x:le+Li(_),y:Fe}}(_,l)):Rr(u)?function Ka(_,u){var l=De(_,!1,"fixed"===u);return l.top=l.top+_.clientTop,l.left=l.left+_.clientLeft,l.bottom=l.top+_.clientHeight,l.right=l.left+_.clientWidth,l.width=_.clientWidth,l.height=_.clientHeight,l.x=l.left,l.y=l.top,l}(u,l):ra(function xr(_){var u,l=Ye(_),p=Yr(_),T=null==(u=_.ownerDocument)?void 0:u.body,V=se(l.scrollWidth,l.clientWidth,T?T.scrollWidth:0,T?T.clientWidth:0),ne=se(l.scrollHeight,l.clientHeight,T?T.scrollHeight:0,T?T.clientHeight:0),le=-p.scrollLeft+Li(_),Fe=-p.scrollTop;return"rtl"===Se(T||l).direction&&(le+=se(l.clientWidth,T?T.clientWidth:0)-V),{width:V,height:ne,x:le,y:Fe}}(Ye(_)))}function ni(_){var Fe,u=_.reference,l=_.element,p=_.placement,T=p?k(p):null,V=p?gr(p):null,ne=u.x+u.width/2-l.width/2,le=u.y+u.height/2-l.height/2;switch(T){case Zt:Fe={x:ne,y:u.y-l.height};break;case ar:Fe={x:ne,y:u.y+u.height};break;case Un:Fe={x:u.x+u.width,y:le};break;case Bt:Fe={x:u.x-l.width,y:le};break;default:Fe={x:u.x,y:u.y}}var nt=T?lr(T):null;if(null!=nt){var Ct="y"===nt?"height":"width";switch(V){case Cn:Fe[nt]=Fe[nt]-(u[Ct]/2-l[Ct]/2);break;case Fr:Fe[nt]=Fe[nt]+(u[Ct]/2-l[Ct]/2)}}return Fe}function is(_,u){void 0===u&&(u={});var p=u.placement,T=void 0===p?_.placement:p,V=u.strategy,ne=void 0===V?_.strategy:V,le=u.boundary,Fe=void 0===le?Sr:le,nt=u.rootBoundary,Ct=void 0===nt?Vr:nt,an=u.elementContext,Bn=void 0===an?zn:an,wn=u.altBoundary,On=void 0!==wn&&wn,Pn=u.padding,mr=void 0===Pn?0:Pn,jr=ct("number"!=typeof mr?mr:Vt(mr,jn)),vi=_.rects.popper,Cr=_.elements[On?Bn===zn?Kr:zn:Bn],Si=function Xs(_,u,l,p){var T="clippingParents"===u?function fa(_){var u=Zr(Gt(_)),p=["absolute","fixed"].indexOf(Se(_).position)>=0&&ir(_)?hn(_):_;return Rr(p)?u.filter(function(T){return Rr(T)&&Dn(T,p)&&"body"!==zt(T)}):[]}(_):[].concat(u),V=[].concat(T,[l]),le=V.reduce(function(Fe,nt){var Ct=Di(_,nt,p);return Fe.top=se(Ct.top,Fe.top),Fe.right=ye(Ct.right,Fe.right),Fe.bottom=ye(Ct.bottom,Fe.bottom),Fe.left=se(Ct.left,Fe.left),Fe},Di(_,V[0],p));return le.width=le.right-le.left,le.height=le.bottom-le.top,le.x=le.left,le.y=le.top,le}(Rr(Cr)?Cr:Cr.contextElement||Ye(_.elements.popper),Fe,Ct,ne),pi=De(_.elements.reference),Ei=ni({reference:pi,element:vi,strategy:"absolute",placement:T}),ls=ra(Object.assign({},vi,Ei)),ns=Bn===zn?ls:pi,Yi={top:Si.top-ns.top+jr.top,bottom:ns.bottom-Si.bottom+jr.bottom,left:Si.left-ns.left+jr.left,right:ns.right-Si.right+jr.right},So=_.modifiersData.offset;if(Bn===zn&&So){var ta=So[T];Object.keys(Yi).forEach(function(Ws){var _u=[Un,ar].indexOf(Ws)>=0?1:-1,yu=[Zt,ar].indexOf(Ws)>=0?"y":"x";Yi[Ws]+=ta[yu]*_u})}return Yi}const Pr={name:"flip",enabled:!0,phase:"main",fn:function Us(_){var u=_.state,l=_.options,p=_.name;if(!u.modifiersData[p]._skip){for(var T=l.mainAxis,V=void 0===T||T,ne=l.altAxis,le=void 0===ne||ne,Fe=l.fallbackPlacements,nt=l.padding,Ct=l.boundary,an=l.rootBoundary,Bn=l.altBoundary,wn=l.flipVariations,On=void 0===wn||wn,Pn=l.allowedAutoPlacements,mr=u.options.placement,jr=k(mr),vi=Fe||(jr!==mr&&On?function yo(_){if(k(_)===Tn)return[];var u=Jr(_);return[us(_),u,us(u)]}(mr):[Jr(mr)]),Cr=[mr].concat(vi).reduce(function(Xi,Fc){return Xi.concat(k(Fc)===Tn?function Ps(_,u){void 0===u&&(u={});var T=u.boundary,V=u.rootBoundary,ne=u.padding,le=u.flipVariations,Fe=u.allowedAutoPlacements,nt=void 0===Fe?pn:Fe,Ct=gr(u.placement),an=Ct?le?Qi:Qi.filter(function(On){return gr(On)===Ct}):jn,Bn=an.filter(function(On){return nt.indexOf(On)>=0});0===Bn.length&&(Bn=an);var wn=Bn.reduce(function(On,Pn){return On[Pn]=is(_,{placement:Pn,boundary:T,rootBoundary:V,padding:ne})[k(Pn)],On},{});return Object.keys(wn).sort(function(On,Pn){return wn[On]-wn[Pn]})}(u,{placement:Fc,boundary:Ct,rootBoundary:an,padding:nt,flipVariations:On,allowedAutoPlacements:Pn}):Fc)},[]),Si=u.rects.reference,pi=u.rects.popper,Ei=new Map,ls=!0,ns=Cr[0],Yi=0;Yi<Cr.length;Yi++){var So=Cr[Yi],ta=k(So),Ws=gr(So)===Cn,_u=[Zt,ar].indexOf(ta)>=0,yu=_u?"width":"height",Gn=is(u,{placement:So,boundary:Ct,rootBoundary:an,altBoundary:Bn,padding:nt}),tr=_u?Ws?Un:Bt:Ws?ar:Zt;Si[yu]>pi[yu]&&(tr=Jr(tr));var Ir=Jr(tr),di=[];if(V&&di.push(Gn[ta]<=0),le&&di.push(Gn[tr]<=0,Gn[Ir]<=0),di.every(function(Xi){return Xi})){ns=So,ls=!1;break}Ei.set(So,di)}if(ls)for(var Wa=function(Fc){var zf=Cr.find(function(ao){var Aa=Ei.get(ao);if(Aa)return Aa.slice(0,Fc).every(function(na){return na})});if(zf)return ns=zf,"break"},Do=On?3:1;Do>0&&"break"!==Wa(Do);Do--);u.placement!==ns&&(u.modifiersData[p]._skip=!0,u.placement=ns,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function hi(_,u,l){return void 0===l&&(l={x:0,y:0}),{top:_.top-u.height-l.y,right:_.right-u.width+l.x,bottom:_.bottom-u.height+l.y,left:_.left-u.width-l.x}}function wi(_){return[Zt,Un,ar,Bt].some(function(u){return _[u]>=0})}const fi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Ms(_){var u=_.state,l=_.name,p=u.rects.reference,T=u.rects.popper,V=u.modifiersData.preventOverflow,ne=is(u,{elementContext:"reference"}),le=is(u,{altBoundary:!0}),Fe=hi(ne,p),nt=hi(le,T,V),Ct=wi(Fe),an=wi(nt);u.modifiersData[l]={referenceClippingOffsets:Fe,popperEscapeOffsets:nt,isReferenceHidden:Ct,hasPopperEscaped:an},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":Ct,"data-popper-escaped":an})}},Ji={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function lo(_){var u=_.state,p=_.name,T=_.options.offset,V=void 0===T?[0,0]:T,ne=pn.reduce(function(Ct,an){return Ct[an]=function ds(_,u,l){var p=k(_),T=[Bt,Zt].indexOf(p)>=0?-1:1,V="function"==typeof l?l(Object.assign({},u,{placement:_})):l,ne=V[0],le=V[1];return ne=ne||0,le=(le||0)*T,[Bt,Un].indexOf(p)>=0?{x:le,y:ne}:{x:ne,y:le}}(an,u.rects,V),Ct},{}),le=ne[u.placement],nt=le.y;null!=u.modifiersData.popperOffsets&&(u.modifiersData.popperOffsets.x+=le.x,u.modifiersData.popperOffsets.y+=nt),u.modifiersData[p]=ne}},Es={name:"popperOffsets",enabled:!0,phase:"read",fn:function Cs(_){var u=_.state;u.modifiersData[_.name]=ni({reference:u.rects.reference,element:u.rects.popper,strategy:"absolute",placement:u.placement})},data:{}},ur={name:"preventOverflow",enabled:!0,phase:"main",fn:function bn(_){var u=_.state,l=_.options,p=_.name,T=l.mainAxis,V=void 0===T||T,ne=l.altAxis,le=void 0!==ne&&ne,Bn=l.tether,wn=void 0===Bn||Bn,On=l.tetherOffset,Pn=void 0===On?0:On,mr=is(u,{boundary:l.boundary,rootBoundary:l.rootBoundary,padding:l.padding,altBoundary:l.altBoundary}),jr=k(u.placement),ti=gr(u.placement),vi=!ti,Cr=lr(jr),Si=function ci(_){return"x"===_?"y":"x"}(Cr),pi=u.modifiersData.popperOffsets,Ei=u.rects.reference,ls=u.rects.popper,ns="function"==typeof Pn?Pn(Object.assign({},u.rects,{placement:u.placement})):Pn,Yi="number"==typeof ns?{mainAxis:ns,altAxis:ns}:Object.assign({mainAxis:0,altAxis:0},ns),So=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,ta={x:0,y:0};if(pi){if(V){var Ws,_u="y"===Cr?Zt:Bt,yu="y"===Cr?ar:Un,Gn="y"===Cr?"height":"width",tr=pi[Cr],Ir=tr+mr[_u],di=tr-mr[yu],Ks=wn?-ls[Gn]/2:0,Wa=ti===Cn?Ei[Gn]:ls[Gn],Do=ti===Cn?-ls[Gn]:-Ei[Gn],gl=u.elements.arrow,Xi=wn&&gl?St(gl):{width:0,height:0},Fc=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},zf=Fc[_u],ao=Fc[yu],Aa=gn(0,Ei[Gn],Xi[Gn]),na=vi?Ei[Gn]/2-Ks-Aa-zf-Yi.mainAxis:Wa-Aa-zf-Yi.mainAxis,Wf=vi?-Ei[Gn]/2+Ks+Aa+ao+Yi.mainAxis:Do+Aa+ao+Yi.mainAxis,bh=u.elements.arrow&&hn(u.elements.arrow),kE=bh?"y"===Cr?bh.clientTop||0:bh.clientLeft||0:0,Rv=null!=(Ws=So?.[Cr])?Ws:0,VE=tr+Wf-Rv,xv=gn(wn?ye(Ir,tr+na-Rv-kE):Ir,tr,wn?se(di,VE):di);pi[Cr]=xv,ta[Cr]=xv-tr}if(le){var Pv,ml=pi[Si],dy="y"===Si?"height":"width",$E=ml+mr["x"===Cr?Zt:Bt],Kf=ml-mr["x"===Cr?ar:Un],BE=-1!==[Zt,Bt].indexOf(jr),hy=null!=(Pv=So?.[Si])?Pv:0,T0=BE?$E:ml-Ei[dy]-ls[dy]-hy+Yi.altAxis,Mv=BE?ml+Ei[dy]+ls[dy]-hy-Yi.altAxis:Kf,Ov=wn&&BE?function Ii(_,u,l){var p=gn(_,u,l);return p>l?l:p}(T0,ml,Mv):gn(wn?T0:$E,ml,wn?Mv:Kf);pi[Si]=Ov,ta[Si]=Ov-ml}u.modifiersData[p]=ta}},requiresIfExists:["offset"]};function Bi(_,u,l){void 0===l&&(l=!1);var p=ir(u),T=ir(u)&&function hs(_){var u=_.getBoundingClientRect(),l=ce(u.width)/_.offsetWidth||1,p=ce(u.height)/_.offsetHeight||1;return 1!==l||1!==p}(u),V=Ye(u),ne=De(_,T,l),le={scrollLeft:0,scrollTop:0},Fe={x:0,y:0};return(p||!p&&!l)&&(("body"!==zt(u)||Ys(V))&&(le=function ss(_){return _!==Rn(_)&&ir(_)?function Er(_){return{scrollLeft:_.scrollLeft,scrollTop:_.scrollTop}}(_):Yr(_)}(u)),ir(u)?((Fe=De(u,!0)).x+=u.clientLeft,Fe.y+=u.clientTop):V&&(Fe.x=Li(V))),{x:ne.left+le.scrollLeft-Fe.x,y:ne.top+le.scrollTop-Fe.y,width:ne.width,height:ne.height}}function Qs(_){var u=new Map,l=new Set,p=[];function T(V){l.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(le){if(!l.has(le)){var Fe=u.get(le);Fe&&T(Fe)}}),p.push(V)}return _.forEach(function(V){u.set(V.name,V)}),_.forEach(function(V){l.has(V.name)||T(V)}),p}function fs(_){var u;return function(){return u||(u=new Promise(function(l){Promise.resolve().then(function(){u=void 0,l(_())})})),u}}var or={placement:"bottom",modifiers:[],strategy:"absolute"};function ps(){for(var _=arguments.length,u=new Array(_),l=0;l<_;l++)u[l]=arguments[l];return!u.some(function(p){return!(p&&"function"==typeof p.getBoundingClientRect)})}function bs(_){void 0===_&&(_={});var l=_.defaultModifiers,p=void 0===l?[]:l,T=_.defaultOptions,V=void 0===T?or:T;return function(le,Fe,nt){void 0===nt&&(nt=V);var Ct={placement:"bottom",orderedModifiers:[],options:Object.assign({},or,V),modifiersData:{},elements:{reference:le,popper:Fe},attributes:{},styles:{}},an=[],Bn=!1,wn={state:Ct,setOptions:function(jr){var ti="function"==typeof jr?jr(Ct.options):jr;Pn(),Ct.options=Object.assign({},V,Ct.options,ti),Ct.scrollParents={reference:Rr(le)?Zr(le):le.contextElement?Zr(le.contextElement):[],popper:Zr(Fe)};var vi=function ui(_){var u=Qs(_);return Ft.reduce(function(l,p){return l.concat(u.filter(function(T){return T.phase===p}))},[])}(function Os(_){var u=_.reduce(function(l,p){var T=l[p.name];return l[p.name]=T?Object.assign({},T,p,{options:Object.assign({},T.options,p.options),data:Object.assign({},T.data,p.data)}):p,l},{});return Object.keys(u).map(function(l){return u[l]})}([].concat(p,Ct.options.modifiers)));return Ct.orderedModifiers=vi.filter(function(Cr){return Cr.enabled}),function On(){Ct.orderedModifiers.forEach(function(mr){var ti=mr.options,Cr=mr.effect;if("function"==typeof Cr){var Si=Cr({state:Ct,name:mr.name,instance:wn,options:void 0===ti?{}:ti});an.push(Si||function(){})}})}(),wn.update()},forceUpdate:function(){if(!Bn){var jr=Ct.elements,ti=jr.reference,vi=jr.popper;if(ps(ti,vi)){Ct.rects={reference:Bi(ti,hn(vi),"fixed"===Ct.options.strategy),popper:St(vi)},Ct.reset=!1,Ct.placement=Ct.options.placement,Ct.orderedModifiers.forEach(function(Yi){return Ct.modifiersData[Yi.name]=Object.assign({},Yi.data)});for(var Cr=0;Cr<Ct.orderedModifiers.length;Cr++)if(!0!==Ct.reset){var Si=Ct.orderedModifiers[Cr],pi=Si.fn,Ei=Si.options;"function"==typeof pi&&(Ct=pi({state:Ct,options:void 0===Ei?{}:Ei,name:Si.name,instance:wn})||Ct)}else Ct.reset=!1,Cr=-1}}},update:fs(function(){return new Promise(function(mr){wn.forceUpdate(),mr(Ct)})}),destroy:function(){Pn(),Bn=!0}};if(!ps(le,Fe))return wn;function Pn(){an.forEach(function(mr){return mr()}),an=[]}return wn.setOptions(nt).then(function(mr){!Bn&&nt.onFirstUpdate&&nt.onFirstUpdate(mr)}),wn}}var te=bs(),Me=bs({defaultModifiers:[$i,Es,ki,P,Ji,Pr,ur,Fn,fi]}),ht=bs({defaultModifiers:[$i,Es,ki,P]});const It=new Map,on={set(_,u,l){It.has(_)||It.set(_,new Map);const p=It.get(_);p.has(u)||0===p.size?p.set(u,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(p.keys())[0]}.`)},get:(_,u)=>It.has(_)&&It.get(_).get(u)||null,remove(_,u){if(!It.has(_))return;const l=It.get(_);l.delete(u),0===l.size&&It.delete(_)}},rr="transitionend",Mr=_=>(_&&window.CSS&&window.CSS.escape&&(_=_.replace(/#([^\s"#']+)/g,(u,l)=>`#${CSS.escape(l)}`)),_),gi=_=>{_.dispatchEvent(new Event(rr))},kr=_=>!(!_||"object"!=typeof _)&&(typeof _.jquery<"u"&&(_=_[0]),typeof _.nodeType<"u"),ri=_=>kr(_)?_.jquery?_[0]:_:"string"==typeof _&&_.length>0?document.querySelector(Mr(_)):null,Ui=_=>{if(!kr(_)||0===_.getClientRects().length)return!1;const u="visible"===getComputedStyle(_).getPropertyValue("visibility"),l=_.closest("details:not([open])");if(!l)return u;if(l!==_){const p=_.closest("summary");if(p&&p.parentNode!==l||null===p)return!1}return u},ii=_=>!(_&&_.nodeType===Node.ELEMENT_NODE&&!_.classList.contains("disabled"))||(typeof _.disabled<"u"?_.disabled:_.hasAttribute("disabled")&&"false"!==_.getAttribute("disabled")),Or=_=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof _.getRootNode){const u=_.getRootNode();return u instanceof ShadowRoot?u:null}return _ instanceof ShadowRoot?_:_.parentNode?Or(_.parentNode):null},Ri=()=>{},Xr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,vo=[],Gi=()=>"rtl"===document.documentElement.dir,Wi=_=>{(_=>{"loading"===document.readyState?(vo.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of vo)u()}),vo.push(_)):_()})(()=>{const u=Xr();if(u){const l=_.NAME,p=u.fn[l];u.fn[l]=_.jQueryInterface,u.fn[l].Constructor=_,u.fn[l].noConflict=()=>(u.fn[l]=p,_.jQueryInterface)}})},Zi=(_,u=[],l=_)=>"function"==typeof _?_(...u):l,Sa=(_,u,l=!0)=>{if(!l)return void Zi(_);const T=(_=>{if(!_)return 0;let{transitionDuration:u,transitionDelay:l}=window.getComputedStyle(_);const p=Number.parseFloat(u),T=Number.parseFloat(l);return p||T?(u=u.split(",")[0],l=l.split(",")[0],1e3*(Number.parseFloat(u)+Number.parseFloat(l))):0})(u)+5;let V=!1;const ne=({target:le})=>{le===u&&(V=!0,u.removeEventListener(rr,ne),Zi(_))};u.addEventListener(rr,ne),setTimeout(()=>{V||gi(u)},T)},Ro=(_,u,l,p)=>{const T=_.length;let V=_.indexOf(u);return-1===V?!l&&p?_[T-1]:_[0]:(V+=l?1:-1,p&&(V=(V+T)%T),_[Math.max(0,Math.min(V,T-1))])},kc=/[^.]*(?=\..*)\.|.*/,js=/\..*/,Ns=/::\d+$/,co={};let Da=1;const pa={mouseenter:"mouseover",mouseleave:"mouseout"},xi=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ia(_,u){return u&&`${u}::${Da++}`||_.uidEvent||Da++}function xo(_){const u=ia(_);return _.uidEvent=u,co[u]=co[u]||{},co[u]}function U(_,u,l=null){return Object.values(_).find(p=>p.callable===u&&p.delegationSelector===l)}function pe(_,u,l){const p="string"==typeof u,T=p?l:u||l;let V=ms(_);return xi.has(V)||(V=_),[p,T,V]}function Xe(_,u,l,p,T){if("string"!=typeof u||!_)return;let[V,ne,le]=pe(u,l,p);var On;u in pa&&(On=ne,ne=function(Pn){if(!Pn.relatedTarget||Pn.relatedTarget!==Pn.delegateTarget&&!Pn.delegateTarget.contains(Pn.relatedTarget))return On.call(this,Pn)});const Fe=xo(_),nt=Fe[le]||(Fe[le]={}),Ct=U(nt,ne,V?l:null);if(Ct)return void(Ct.oneOff=Ct.oneOff&&T);const an=ia(ne,u.replace(kc,"")),Bn=V?function ee(_,u,l){return function p(T){const V=_.querySelectorAll(u);for(let{target:ne}=T;ne&&ne!==this;ne=ne.parentNode)for(const le of V)if(le===ne)return es(T,{delegateTarget:ne}),p.oneOff&&Yt.off(_,T.type,u,l),l.apply(ne,[T])}}(_,l,ne):function W(_,u){return function l(p){return es(p,{delegateTarget:_}),l.oneOff&&Yt.off(_,p.type,u),u.apply(_,[p])}}(_,ne);Bn.delegationSelector=V?l:null,Bn.callable=ne,Bn.oneOff=T,Bn.uidEvent=an,nt[an]=Bn,_.addEventListener(le,Bn,V)}function vn(_,u,l,p,T){const V=U(u[l],p,T);V&&(_.removeEventListener(l,V,!!T),delete u[l][V.uidEvent])}function fr(_,u,l,p){const T=u[l]||{};for(const[V,ne]of Object.entries(T))V.includes(p)&&vn(_,u,l,ne.callable,ne.delegationSelector)}function ms(_){return _=_.replace(js,""),pa[_]||_}const Yt={on(_,u,l,p){Xe(_,u,l,p,!1)},one(_,u,l,p){Xe(_,u,l,p,!0)},off(_,u,l,p){if("string"!=typeof u||!_)return;const[T,V,ne]=pe(u,l,p),le=ne!==u,Fe=xo(_),nt=Fe[ne]||{},Ct=u.startsWith(".");if(typeof V<"u"){if(!Object.keys(nt).length)return;vn(_,Fe,ne,V,T?l:null)}else{if(Ct)for(const an of Object.keys(Fe))fr(_,Fe,an,u.slice(1));for(const[an,Bn]of Object.entries(nt)){const wn=an.replace(Ns,"");(!le||u.includes(wn))&&vn(_,Fe,ne,Bn.callable,Bn.delegationSelector)}}},trigger(_,u,l){if("string"!=typeof u||!_)return null;const p=Xr();let ne=null,le=!0,Fe=!0,nt=!1;u!==ms(u)&&p&&(ne=p.Event(u,l),p(_).trigger(ne),le=!ne.isPropagationStopped(),Fe=!ne.isImmediatePropagationStopped(),nt=ne.isDefaultPrevented());const Ct=es(new Event(u,{bubbles:le,cancelable:!0}),l);return nt&&Ct.preventDefault(),Fe&&_.dispatchEvent(Ct),Ct.defaultPrevented&&ne&&ne.preventDefault(),Ct}};function es(_,u={}){for(const[l,p]of Object.entries(u))try{_[l]=p}catch{Object.defineProperty(_,l,{configurable:!0,get:()=>p})}return _}function uo(_){if("true"===_)return!0;if("false"===_)return!1;if(_===Number(_).toString())return Number(_);if(""===_||"null"===_)return null;if("string"!=typeof _)return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function $s(_){return _.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const Mi={setDataAttribute(_,u,l){_.setAttribute(`data-bs-${$s(u)}`,l)},removeDataAttribute(_,u){_.removeAttribute(`data-bs-${$s(u)}`)},getDataAttributes(_){if(!_)return{};const u={},l=Object.keys(_.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(const p of l){let T=p.replace(/^bs/,"");T=T.charAt(0).toLowerCase()+T.slice(1,T.length),u[T]=uo(_.dataset[p])}return u},getDataAttribute:(_,u)=>uo(_.getAttribute(`data-bs-${$s(u)}`))};class no{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,l){const p=kr(l)?Mi.getDataAttribute(l,"config"):{};return{...this.constructor.Default,..."object"==typeof p?p:{},...kr(l)?Mi.getDataAttributes(l):{},..."object"==typeof u?u:{}}}_typeCheckConfig(u,l=this.constructor.DefaultType){for(const[p,T]of Object.entries(l)){const V=u[p],ne=kr(V)?"element":null==(_=V)?`${_}`:Object.prototype.toString.call(_).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(T).test(ne))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${p}" provided type "${ne}" but expected type "${T}".`)}var _}}class Oi extends no{constructor(u,l){super(),(u=ri(u))&&(this._element=u,this._config=this._getConfig(l),on.set(this._element,this.constructor.DATA_KEY,this))}dispose(){on.remove(this._element,this.constructor.DATA_KEY),Yt.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,l,p=!0){Sa(u,l,p)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return on.get(ri(u),this.DATA_KEY)}static getOrCreateInstance(u,l={}){return this.getInstance(u)||new this(u,"object"==typeof l?l:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const $o=_=>{let u=_.getAttribute("data-bs-target");if(!u||"#"===u){let l=_.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),u=l&&"#"!==l?l.trim():null}return u?u.split(",").map(l=>Mr(l)).join(","):null},Mn={find:(_,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,_)),findOne:(_,u=document.documentElement)=>Element.prototype.querySelector.call(u,_),children:(_,u)=>[].concat(..._.children).filter(l=>l.matches(u)),parents(_,u){const l=[];let p=_.parentNode.closest(u);for(;p;)l.push(p),p=p.parentNode.closest(u);return l},prev(_,u){let l=_.previousElementSibling;for(;l;){if(l.matches(u))return[l];l=l.previousElementSibling}return[]},next(_,u){let l=_.nextElementSibling;for(;l;){if(l.matches(u))return[l];l=l.nextElementSibling}return[]},focusableChildren(_){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(u,_).filter(l=>!ii(l)&&Ui(l))},getSelectorFromElement(_){const u=$o(_);return u&&Mn.findOne(u)?u:null},getElementFromSelector(_){const u=$o(_);return u?Mn.findOne(u):null},getMultipleElementsFromSelector(_){const u=$o(_);return u?Mn.find(u):[]}},Ra=(_,u="hide")=>{const p=_.NAME;Yt.on(document,`click.dismiss${_.EVENT_KEY}`,`[data-bs-dismiss="${p}"]`,function(T){if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),ii(this))return;const V=Mn.getElementFromSelector(this)||this.closest(`.${p}`);_.getOrCreateInstance(V)[u]()})},ro=".bs.alert",ga=`close${ro}`,Is=`closed${ro}`;class Ma extends Oi{static get NAME(){return"alert"}close(){if(Yt.trigger(this._element,ga).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),Yt.trigger(this._element,Is),this.dispose()}static jQueryInterface(u){return this.each(function(){const l=Ma.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}Ra(Ma,"close"),Wi(Ma);const Oa='[data-bs-toggle="button"]';class ma extends Oi{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const l=ma.getOrCreateInstance(this);"toggle"===u&&l[u]()})}}Yt.on(document,"click.bs.button.data-api",Oa,_=>{_.preventDefault();const u=_.target.closest(Oa);ma.getOrCreateInstance(u).toggle()}),Wi(ma);const Po=".bs.swipe",bu=`touchstart${Po}`,vl=`touchmove${Po}`,Go=`touchend${Po}`,nc=`pointerdown${Po}`,Na=`pointerup${Po}`,x={endCallback:null,leftCallback:null,rightCallback:null},re={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class $ extends no{constructor(u,l){super(),this._element=u,u&&$.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return x}static get DefaultType(){return re}static get NAME(){return"swipe"}dispose(){Yt.off(this._element,Po)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),Zi(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const l=u/this._deltaX;this._deltaX=0,l&&Zi(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Yt.on(this._element,nc,u=>this._start(u)),Yt.on(this._element,Na,u=>this._end(u)),this._element.classList.add("pointer-event")):(Yt.on(this._element,bu,u=>this._start(u)),Yt.on(this._element,vl,u=>this._move(u)),Yt.on(this._element,Go,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&("pen"===u.pointerType||"touch"===u.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const xt=".bs.carousel",Wt=".data-api",Gr="next",hr="prev",Hr="left",_i="right",Ni=`slide${xt}`,Js=`slid${xt}`,Fs=`keydown${xt}`,sa=`mouseenter${xt}`,Bs=`mouseleave${xt}`,Ho=`dragstart${xt}`,Ts=`load${xt}${Wt}`,Mo=`click${xt}${Wt}`,bd="carousel",Ar="active",bl=".active",Hi=".carousel-item",Ch=bl+Hi,rc={ArrowLeft:_i,ArrowRight:Hr},Cd={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Id={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Tl extends Oi{constructor(u,l){super(u,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Mn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===bd&&this.cycle()}static get Default(){return Cd}static get DefaultType(){return Id}static get NAME(){return"carousel"}next(){this._slide(Gr)}nextWhenVisible(){!document.hidden&&Ui(this._element)&&this.next()}prev(){this._slide(hr)}pause(){this._isSliding&&gi(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Yt.one(this._element,Js,()=>this.cycle());this.cycle()}}to(u){const l=this._getItems();if(u>l.length-1||u<0)return;if(this._isSliding)return void Yt.one(this._element,Js,()=>this.to(u));const p=this._getItemIndex(this._getActive());p!==u&&this._slide(u>p?Gr:hr,l[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&Yt.on(this._element,Fs,u=>this._keydown(u)),"hover"===this._config.pause&&(Yt.on(this._element,sa,()=>this.pause()),Yt.on(this._element,Bs,()=>this._maybeEnableCycle())),this._config.touch&&$.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of Mn.find(".carousel-item img",this._element))Yt.on(p,Ho,T=>T.preventDefault());this._swipeHelper=new $(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Hr)),rightCallback:()=>this._slide(this._directionToOrder(_i)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const l=rc[u.key];l&&(u.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const l=Mn.findOne(bl,this._indicatorsElement);l.classList.remove(Ar),l.removeAttribute("aria-current");const p=Mn.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);p&&(p.classList.add(Ar),p.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const l=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(u,l=null){if(this._isSliding)return;const p=this._getActive(),T=u===Gr,V=l||Ro(this._getItems(),p,T,this._config.wrap);if(V===p)return;const ne=this._getItemIndex(V),le=wn=>Yt.trigger(this._element,wn,{relatedTarget:V,direction:this._orderToDirection(u),from:this._getItemIndex(p),to:ne});if(le(Ni).defaultPrevented||!p||!V)return;const nt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ne),this._activeElement=V;const Ct=T?"carousel-item-start":"carousel-item-end",an=T?"carousel-item-next":"carousel-item-prev";V.classList.add(an),p.classList.add(Ct),V.classList.add(Ct),this._queueCallback(()=>{V.classList.remove(Ct,an),V.classList.add(Ar),p.classList.remove(Ar,an,Ct),this._isSliding=!1,le(Js)},p,this._isAnimated()),nt&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Mn.findOne(Ch,this._element)}_getItems(){return Mn.find(Hi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return Gi()?u===Hr?hr:Gr:u===Hr?Gr:hr}_orderToDirection(u){return Gi()?u===hr?Hr:_i:u===hr?_i:Hr}static jQueryInterface(u){return this.each(function(){const l=Tl.getOrCreateInstance(this,u);if("number"!=typeof u){if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}}else l.to(u)})}}Yt.on(document,Mo,"[data-bs-slide], [data-bs-slide-to]",function(_){const u=Mn.getElementFromSelector(this);if(!u||!u.classList.contains(bd))return;_.preventDefault();const l=Tl.getOrCreateInstance(u),p=this.getAttribute("data-bs-slide-to");return p?(l.to(p),void l._maybeEnableCycle()):"next"===Mi.getDataAttribute(this,"slide")?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),Yt.on(window,Ts,()=>{const _=Mn.find('[data-bs-ride="carousel"]');for(const u of _)Tl.getOrCreateInstance(u)}),Wi(Tl);const ka=".bs.collapse",_a=`show${ka}`,Uc=`shown${ka}`,Ih=`hide${ka}`,Au=`hidden${ka}`,aa=`click${ka}.data-api`,jc="show",La="collapse",Ki="collapsing",Su=`:scope .${La} .${La}`,As='[data-bs-toggle="collapse"]',sc={parent:null,toggle:!0},Cl={parent:"(null|element)",toggle:"boolean"};class Zs extends Oi{constructor(u,l){super(u,l),this._isTransitioning=!1,this._triggerArray=[];const p=Mn.find(As);for(const T of p){const V=Mn.getSelectorFromElement(T),ne=Mn.find(V).filter(le=>le===this._element);null!==V&&ne.length&&this._triggerArray.push(T)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return sc}static get DefaultType(){return Cl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(le=>le!==this._element).map(le=>Zs.getOrCreateInstance(le,{toggle:!1}))),u.length&&u[0]._isTransitioning||Yt.trigger(this._element,_a).defaultPrevented)return;for(const le of u)le.hide();const p=this._getDimension();this._element.classList.remove(La),this._element.classList.add(Ki),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ne=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ki),this._element.classList.add(La,jc),this._element.style[p]="",Yt.trigger(this._element,Uc)},this._element,!0),this._element.style[p]=`${this._element[ne]}px`}hide(){if(this._isTransitioning||!this._isShown()||Yt.trigger(this._element,Ih).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,this._element.classList.add(Ki),this._element.classList.remove(La,jc);for(const T of this._triggerArray){const V=Mn.getElementFromSelector(T);V&&!this._isShown(V)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ki),this._element.classList.add(La),Yt.trigger(this._element,Au)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(jc)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=ri(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(As);for(const l of u){const p=Mn.getElementFromSelector(l);p&&this._addAriaAndCollapsedClass([l],this._isShown(p))}}_getFirstLevelChildren(u){const l=Mn.find(Su,this._config.parent);return Mn.find(u,this._config.parent).filter(p=>!l.includes(p))}_addAriaAndCollapsedClass(u,l){if(u.length)for(const p of u)p.classList.toggle("collapsed",!l),p.setAttribute("aria-expanded",l)}static jQueryInterface(u){const l={};return"string"==typeof u&&/show|hide/.test(u)&&(l.toggle=!1),this.each(function(){const p=Zs.getOrCreateInstance(this,l);if("string"==typeof u){if(typeof p[u]>"u")throw new TypeError(`No method named "${u}"`);p[u]()}})}}Yt.on(document,aa,As,function(_){("A"===_.target.tagName||_.delegateTarget&&"A"===_.delegateTarget.tagName)&&_.preventDefault();for(const u of Mn.getMultipleElementsFromSelector(this))Zs.getOrCreateInstance(u,{toggle:!1}).toggle()}),Wi(Zs);const Il="dropdown",Va=".bs.dropdown",wl=".data-api",ho="ArrowUp",ya="ArrowDown",bo=`hide${Va}`,Ad=`hidden${Va}`,$c=`show${Va}`,Yf=`shown${Va}`,Du=`click${Va}${wl}`,Bc=`keydown${Va}${wl}`,va=`keyup${Va}${wl}`,Wo="show",he='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ue=`${he}.${Wo}`,Rt=".dropdown-menu",Dr=Gi()?"top-end":"top-start",Br=Gi()?"top-start":"top-end",yi=Gi()?"bottom-end":"bottom-start",Za=Gi()?"bottom-start":"bottom-end",Al=Gi()?"left-start":"right-start",oc=Gi()?"right-start":"left-start",wh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},el={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ss extends Oi{constructor(u,l){super(u,l),this._popper=null,this._parent=this._element.parentNode,this._menu=Mn.next(this._element,Rt)[0]||Mn.prev(this._element,Rt)[0]||Mn.findOne(Rt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return wh}static get DefaultType(){return el}static get NAME(){return Il}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ii(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!Yt.trigger(this._element,$c,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))Yt.on(p,"mouseover",Ri);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Wo),this._element.classList.add(Wo),Yt.trigger(this._element,Yf,u)}}hide(){!ii(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!Yt.trigger(this._element,bo,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))Yt.off(p,"mouseover",Ri);this._popper&&this._popper.destroy(),this._menu.classList.remove(Wo),this._element.classList.remove(Wo),this._element.setAttribute("aria-expanded","false"),Mi.removeDataAttribute(this._menu,"popper"),Yt.trigger(this._element,Ad,u)}}_getConfig(u){if("object"==typeof(u=super._getConfig(u)).reference&&!kr(u.reference)&&"function"!=typeof u.reference.getBoundingClientRect)throw new TypeError(`${Il.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(typeof i>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let u=this._element;"parent"===this._config.reference?u=this._parent:kr(this._config.reference)?u=ri(this._config.reference):"object"==typeof this._config.reference&&(u=this._config.reference);const l=this._getPopperConfig();this._popper=Me(u,this._menu,l)}_isShown(){return this._menu.classList.contains(Wo)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return Al;if(u.classList.contains("dropstart"))return oc;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const l="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return u.classList.contains("dropup")?l?Br:Dr:l?Za:yi}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Mi.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...Zi(this._config.popperConfig,[u])}}_selectMenuItem({key:u,target:l}){const p=Mn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(T=>Ui(T));p.length&&Ro(p,l,u===ya,!p.includes(l)).focus()}static jQueryInterface(u){return this.each(function(){const l=Ss.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}static clearMenus(u){if(2===u.button||"keyup"===u.type&&"Tab"!==u.key)return;const l=Mn.find(Ue);for(const p of l){const T=Ss.getInstance(p);if(!T||!1===T._config.autoClose)continue;const V=u.composedPath(),ne=V.includes(T._menu);if(V.includes(T._element)||"inside"===T._config.autoClose&&!ne||"outside"===T._config.autoClose&&ne||T._menu.contains(u.target)&&("keyup"===u.type&&"Tab"===u.key||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const le={relatedTarget:T._element};"click"===u.type&&(le.clickEvent=u),T._completeHide(le)}}static dataApiKeydownHandler(u){const l=/input|textarea/i.test(u.target.tagName),p="Escape"===u.key,T=[ho,ya].includes(u.key);if(!T&&!p||l&&!p)return;u.preventDefault();const V=this.matches(he)?this:Mn.prev(this,he)[0]||Mn.next(this,he)[0]||Mn.findOne(he,u.delegateTarget.parentNode),ne=Ss.getOrCreateInstance(V);if(T)return u.stopPropagation(),ne.show(),void ne._selectMenuItem(u);ne._isShown()&&(u.stopPropagation(),ne.hide(),V.focus())}}Yt.on(document,Bc,he,Ss.dataApiKeydownHandler),Yt.on(document,Bc,Rt,Ss.dataApiKeydownHandler),Yt.on(document,Du,Ss.clearMenus),Yt.on(document,va,Ss.clearMenus),Yt.on(document,Du,he,function(_){_.preventDefault(),Ss.getOrCreateInstance(this).toggle()}),Wi(Ss);const Sd="backdrop",Gc=`mousedown.bs.${Sd}`,xu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Pu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Mu extends no{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return xu}static get DefaultType(){return Pu}static get NAME(){return Sd}show(u){if(!this._config.isVisible)return void Zi(u);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Zi(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Zi(u)})):Zi(u)}dispose(){this._isAppended&&(Yt.off(this._element,Gc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=ri(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),Yt.on(u,Gc,()=>{Zi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){Sa(u,this._getElement(),this._config.isAnimated)}}const To=".bs.focustrap",Dl=`focusin${To}`,Ah=`keydown.tab${To}`,Rd="backward",Nu={autofocus:!0,trapElement:null},Xf={autofocus:"boolean",trapElement:"element"};class Sh extends no{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Nu}static get DefaultType(){return Xf}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Yt.off(document,To),Yt.on(document,Dl,u=>this._handleFocusin(u)),Yt.on(document,Ah,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Yt.off(document,To))}_handleFocusin(u){const{trapElement:l}=this._config;if(u.target===document||u.target===l||l.contains(u.target))return;const p=Mn.focusableChildren(l);0===p.length?l.focus():this._lastTabNavDirection===Rd?p[p.length-1].focus():p[0].focus()}_handleKeydown(u){"Tab"===u.key&&(this._lastTabNavDirection=u.shiftKey?Rd:"forward")}}const Hc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",tl=".sticky-top",lc="padding-right",Rl="margin-right";class cc{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,lc,l=>l+u),this._setElementAttributes(Hc,lc,l=>l+u),this._setElementAttributes(tl,Rl,l=>l-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,lc),this._resetElementAttributes(Hc,lc),this._resetElementAttributes(tl,Rl)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,l,p){const T=this.getWidth();this._applyManipulationCallback(u,ne=>{if(ne!==this._element&&window.innerWidth>ne.clientWidth+T)return;this._saveInitialAttribute(ne,l);const le=window.getComputedStyle(ne).getPropertyValue(l);ne.style.setProperty(l,`${p(Number.parseFloat(le))}px`)})}_saveInitialAttribute(u,l){const p=u.style.getPropertyValue(l);p&&Mi.setDataAttribute(u,l,p)}_resetElementAttributes(u,l){this._applyManipulationCallback(u,T=>{const V=Mi.getDataAttribute(T,l);null!==V?(Mi.removeDataAttribute(T,l),T.style.setProperty(l,V)):T.style.removeProperty(l)})}_applyManipulationCallback(u,l){if(kr(u))l(u);else for(const p of Mn.find(u,this._element))l(p)}}const Oo=".bs.modal",Co=`hide${Oo}`,xd=`hidePrevented${Oo}`,xl=`hidden${Oo}`,Ds=`show${Oo}`,Dh=`shown${Oo}`,Pl=`resize${Oo}`,uc=`click.dismiss${Oo}`,Rh=`mousedown.dismiss${Oo}`,rl=`keydown.dismiss${Oo}`,dc=`click${Oo}.data-api`,zc="modal-open",qo="modal-static",Fl={backdrop:!0,focus:!0,keyboard:!0},xh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class os extends Oi{constructor(u,l){super(u,l),this._dialog=Mn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new cc,this._addEventListeners()}static get Default(){return Fl}static get DefaultType(){return xh}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||Yt.trigger(this._element,Ds,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(zc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){!this._isShown||this._isTransitioning||Yt.trigger(this._element,Co).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Yt.off(window,Oo),Yt.off(this._dialog,Oo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Mu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Sh({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=Mn.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Yt.trigger(this._element,Dh,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){Yt.on(this._element,rl,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Yt.on(window,Pl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Yt.on(this._element,Rh,u=>{Yt.one(this._element,uc,l=>{if(this._element===u.target&&this._element===l.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(zc),this._resetAdjustments(),this._scrollBar.reset(),Yt.trigger(this._element,xl)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Yt.trigger(this._element,xd).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;"hidden"===p||this._element.classList.contains(qo)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(qo),this._queueCallback(()=>{this._element.classList.remove(qo),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),p=l>0;if(p&&!u){const T=Gi()?"paddingLeft":"paddingRight";this._element.style[T]=`${l}px`}if(!p&&u){const T=Gi()?"paddingRight":"paddingLeft";this._element.style[T]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,l){return this.each(function(){const p=os.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof p[u]>"u")throw new TypeError(`No method named "${u}"`);p[u](l)}})}}Yt.on(document,dc,'[data-bs-toggle="modal"]',function(_){const u=Mn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),Yt.one(u,Ds,T=>{T.defaultPrevented||Yt.one(u,xl,()=>{Ui(this)&&this.focus()})});const l=Mn.findOne(".modal.show");l&&os.getInstance(l).hide(),os.getOrCreateInstance(u).toggle(this)}),Ra(os),Wi(os);const la=".bs.offcanvas",Ph=".data-api",Pd=`load${la}${Ph}`,No="showing",Lu=".offcanvas.show",Kc=`show${la}`,Oh=`shown${la}`,_g=`hide${la}`,yg=`hidePrevented${la}`,ep=`hidden${la}`,tp=`resize${la}`,ks=`click${la}${Ph}`,$m=`keydown.dismiss${la}`,qc={backdrop:!0,keyboard:!0,scroll:!1},vg={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ja extends Oi{constructor(u,l){super(u,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return qc}static get DefaultType(){return vg}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||Yt.trigger(this._element,Kc,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new cc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(No),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(No),Yt.trigger(this._element,Oh,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&!Yt.trigger(this._element,_g).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new cc).reset(),Yt.trigger(this._element,ep)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new Mu({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{"static"!==this._config.backdrop?this.hide():Yt.trigger(this._element,yg)}:null})}_initializeFocusTrap(){return new Sh({trapElement:this._element})}_addEventListeners(){Yt.on(this._element,$m,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();Yt.trigger(this._element,yg)}})}static jQueryInterface(u){return this.each(function(){const l=ja.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}Yt.on(document,ks,'[data-bs-toggle="offcanvas"]',function(_){const u=Mn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),ii(this))return;Yt.one(u,ep,()=>{Ui(this)&&this.focus()});const l=Mn.findOne(Lu);l&&l!==u&&ja.getInstance(l).hide(),ja.getOrCreateInstance(u).toggle(this)}),Yt.on(window,Pd,()=>{for(const _ of Mn.find(Lu))ja.getOrCreateInstance(_).show()}),Yt.on(window,tp,()=>{for(const _ of Mn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(_).position&&ja.getOrCreateInstance(_).hide()}),Ra(ja),Wi(ja);const Vu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ll=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Nh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Xo=(_,u)=>{const l=_.nodeName.toLowerCase();return u.includes(l)?!Ll.has(l)||!!Nh.test(_.nodeValue):u.filter(p=>p instanceof RegExp).some(p=>p.test(l))},Ul={allowList:Vu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},jl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Nd={entry:"(string|element|function|null)",selector:"(string|element)"};class np extends no{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return Ul}static get DefaultType(){return jl}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[T,V]of Object.entries(this._config.content))this._setContent(u,V,T);const l=u.children[0],p=this._resolvePossibleFunction(this._config.extraClass);return p&&l.classList.add(...p.split(" ")),l}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[l,p]of Object.entries(u))super._typeCheckConfig({selector:l,entry:p},Nd)}_setContent(u,l,p){const T=Mn.findOne(p,u);if(T){if(!(l=this._resolvePossibleFunction(l)))return void T.remove();if(kr(l))return void this._putElementInTemplate(ri(l),T);if(this._config.html)return void(T.innerHTML=this._maybeSanitize(l));T.textContent=l}}_maybeSanitize(u){return this._config.sanitize?function Vl(_,u,l){if(!_.length)return _;if(l&&"function"==typeof l)return l(_);const T=(new window.DOMParser).parseFromString(_,"text/html"),V=[].concat(...T.body.querySelectorAll("*"));for(const ne of V){const le=ne.nodeName.toLowerCase();if(!Object.keys(u).includes(le)){ne.remove();continue}const Fe=[].concat(...ne.attributes),nt=[].concat(u["*"]||[],u[le]||[]);for(const Ct of Fe)Xo(Ct,nt)||ne.removeAttribute(Ct.nodeName)}return T.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return Zi(u,[this])}_putElementInTemplate(u,l){if(this._config.html)return l.innerHTML="",void l.append(u);l.textContent=u.textContent}}const bg=new Set(["sanitize","allowList","sanitizeFn"]),Io="fade",ca="show",Uu="hide.bs.modal",ju="hover",$u="focus",Hu={AUTO:"auto",TOP:"top",RIGHT:Gi()?"left":"right",BOTTOM:"bottom",LEFT:Gi()?"right":"left"},Uh={allowList:Vu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Vd={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class sl extends Oi{constructor(u,l){if(typeof i>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(u,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Uh}static get DefaultType(){return Vd}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Yt.off(this._element.closest(".modal"),Uu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=Yt.trigger(this._element,this.constructor.eventName("show")),p=(Or(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!p)return;this._disposePopper();const T=this._getTipElement();this._element.setAttribute("aria-describedby",T.getAttribute("id"));const{container:V}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(V.append(T),Yt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(T),T.classList.add(ca),"ontouchstart"in document.documentElement)for(const le of[].concat(...document.body.children))Yt.on(le,"mouseover",Ri);this._queueCallback(()=>{Yt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Yt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ca),"ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))Yt.off(T,"mouseover",Ri);this._activeTrigger.click=!1,this._activeTrigger[$u]=!1,this._activeTrigger[ju]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Yt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const l=this._getTemplateFactory(u).toHtml();if(!l)return null;l.classList.remove(Io,ca),l.classList.add(`bs-${this.constructor.NAME}-auto`);const p=(_=>{do{_+=Math.floor(1e6*Math.random())}while(document.getElementById(_));return _})(this.constructor.NAME).toString();return l.setAttribute("id",p),this._isAnimated()&&l.classList.add(Io),l}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new np({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Io)}_isShown(){return this.tip&&this.tip.classList.contains(ca)}_createPopper(u){const l=Zi(this._config.placement,[this,u,this._element]),p=Hu[l.toUpperCase()];return Me(this._element,u,this._getPopperConfig(p))}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_resolvePossibleFunction(u){return Zi(u,[this._element])}_getPopperConfig(u){const l={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:p=>{this._getTipElement().setAttribute("data-popper-placement",p.state.placement)}}]};return{...l,...Zi(this._config.popperConfig,[l])}}_setListeners(){const u=this._config.trigger.split(" ");for(const l of u)if("click"===l)Yt.on(this._element,this.constructor.eventName("click"),this._config.selector,p=>{this._initializeOnDelegatedTarget(p).toggle()});else if("manual"!==l){const p=this.constructor.eventName(l===ju?"mouseenter":"focusin"),T=this.constructor.eventName(l===ju?"mouseleave":"focusout");Yt.on(this._element,p,this._config.selector,V=>{const ne=this._initializeOnDelegatedTarget(V);ne._activeTrigger["focusin"===V.type?$u:ju]=!0,ne._enter()}),Yt.on(this._element,T,this._config.selector,V=>{const ne=this._initializeOnDelegatedTarget(V);ne._activeTrigger["focusout"===V.type?$u:ju]=ne._element.contains(V.relatedTarget),ne._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Yt.on(this._element.closest(".modal"),Uu,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,l){clearTimeout(this._timeout),this._timeout=setTimeout(u,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const l=Mi.getDataAttributes(this._element);for(const p of Object.keys(l))bg.has(p)&&delete l[p];return u={...l,..."object"==typeof u&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=!1===u.container?document.body:ri(u.container),"number"==typeof u.delay&&(u.delay={show:u.delay,hide:u.delay}),"number"==typeof u.title&&(u.title=u.title.toString()),"number"==typeof u.content&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[l,p]of Object.entries(this._config))this.constructor.Default[l]!==p&&(u[l]=p);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const l=sl.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}Wi(sl);const m={...sl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},v={...sl.DefaultType,content:"(null|string|element|function)"};class D extends sl{static get Default(){return m}static get DefaultType(){return v}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const l=D.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}Wi(D);const rt=".bs.scrollspy",Jt=`activate${rt}`,Vn=`click${rt}`,$n=`load${rt}.data-api`,Hs="active",al="[href]",zu=".nav-link",sp=`${zu}, .nav-item > ${zu}, .list-group-item`,Xc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},$h={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Hl extends Oi{constructor(u,l){super(u,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Xc}static get DefaultType(){return $h}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=ri(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,"string"==typeof u.threshold&&(u.threshold=u.threshold.split(",").map(l=>Number.parseFloat(l))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Yt.off(this._config.target,Vn),Yt.on(this._config.target,Vn,al,u=>{const l=this._observableSections.get(u.target.hash);if(l){u.preventDefault();const p=this._rootElement||window,T=l.offsetTop-this._element.offsetTop;if(p.scrollTo)return void p.scrollTo({top:T,behavior:"smooth"});p.scrollTop=T}}))}_getNewObserver(){return new IntersectionObserver(l=>this._observerCallback(l),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(u){const l=ne=>this._targetLinks.get(`#${ne.target.id}`),p=ne=>{this._previousScrollData.visibleEntryTop=ne.target.offsetTop,this._process(l(ne))},T=(this._rootElement||document.documentElement).scrollTop,V=T>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=T;for(const ne of u){if(!ne.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(ne));continue}const le=ne.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&le){if(p(ne),!T)return}else!V&&!le&&p(ne)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=Mn.find(al,this._config.target);for(const l of u){if(!l.hash||ii(l))continue;const p=Mn.findOne(decodeURI(l.hash),this._element);Ui(p)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,p))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(Hs),this._activateParents(u),Yt.trigger(this._element,Jt,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))Mn.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(Hs);else for(const l of Mn.parents(u,".nav, .list-group"))for(const p of Mn.prev(l,sp))p.classList.add(Hs)}_clearActiveClass(u){u.classList.remove(Hs);const l=Mn.find(`${al}.${Hs}`,u);for(const p of l)p.classList.remove(Hs)}static jQueryInterface(u){return this.each(function(){const l=Hl.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}Yt.on(window,$n,()=>{for(const _ of Mn.find('[data-bs-spy="scroll"]'))Hl.getOrCreateInstance(_)}),Wi(Hl);const Qo=".bs.tab",Bd=`hide${Qo}`,Cg=`hidden${Qo}`,op=`show${Qo}`,ap=`shown${Qo}`,ba=`click${Qo}`,Ig=`keydown${Qo}`,Hm=`load${Qo}`,Gd="ArrowLeft",Gh="ArrowRight",Hd="ArrowUp",zm="ArrowDown",Hh="Home",Wm="End",zl="active",zh="show",Ku=".dropdown-toggle",wg=`:not(${Ku})`,Ag='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',qu=`.nav-link${wg}, .list-group-item${wg}, [role="tab"]${wg}, ${Ag}`,Fo=`.${zl}[data-bs-toggle="tab"], .${zl}[data-bs-toggle="pill"], .${zl}[data-bs-toggle="list"]`;class $a extends Oi{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Yt.on(this._element,Ig,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const l=this._getActiveElem(),p=l?Yt.trigger(l,Bd,{relatedTarget:u}):null;Yt.trigger(u,op,{relatedTarget:l}).defaultPrevented||p&&p.defaultPrevented||(this._deactivate(l,u),this._activate(u,l))}_activate(u,l){u&&(u.classList.add(zl),this._activate(Mn.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),Yt.trigger(u,ap,{relatedTarget:l})):u.classList.add(zh)},u,u.classList.contains("fade")))}_deactivate(u,l){u&&(u.classList.remove(zl),u.blur(),this._deactivate(Mn.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),Yt.trigger(u,Cg,{relatedTarget:l})):u.classList.remove(zh)},u,u.classList.contains("fade")))}_keydown(u){if(![Gd,Gh,Hd,zm,Hh,Wm].includes(u.key))return;u.stopPropagation(),u.preventDefault();const l=this._getChildren().filter(T=>!ii(T));let p;if([Hh,Wm].includes(u.key))p=l[u.key===Hh?0:l.length-1];else{const T=[Gh,zm].includes(u.key);p=Ro(l,u.target,T,!0)}p&&(p.focus({preventScroll:!0}),$a.getOrCreateInstance(p).show())}_getChildren(){return Mn.find(qu,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,l){this._setAttributeIfNotExists(u,"role","tablist");for(const p of l)this._setInitialAttributesOnChild(p)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const l=this._elemIsActive(u),p=this._getOuterElement(u);u.setAttribute("aria-selected",l),p!==u&&this._setAttributeIfNotExists(p,"role","presentation"),l||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const l=Mn.getElementFromSelector(u);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,l){const p=this._getOuterElement(u);if(!p.classList.contains("dropdown"))return;const T=(V,ne)=>{const le=Mn.findOne(V,p);le&&le.classList.toggle(ne,l)};T(Ku,zl),T(".dropdown-menu",zh),p.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(u,l,p){u.hasAttribute(l)||u.setAttribute(l,p)}_elemIsActive(u){return u.classList.contains(zl)}_getInnerElement(u){return u.matches(qu)?u:Mn.findOne(qu,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const l=$a.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}Yt.on(document,ba,Ag,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),!ii(this)&&$a.getOrCreateInstance(this).show()}),Yt.on(window,Hm,()=>{for(const _ of Mn.find(Fo))$a.getOrCreateInstance(_)}),Wi($a);const Qc=".bs.toast",up=`mouseover${Qc}`,Ym=`mouseout${Qc}`,dp=`focusin${Qc}`,Dg=`focusout${Qc}`,hp=`hide${Qc}`,zd=`hidden${Qc}`,Jc=`show${Qc}`,Wh=`shown${Qc}`,hc="show",fc="showing",Ey={animation:"boolean",autohide:"boolean",delay:"number"},Xm={animation:!0,autohide:!0,delay:5e3};class Wd extends Oi{constructor(u,l){super(u,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Xm}static get DefaultType(){return Ey}static get NAME(){return"toast"}show(){Yt.trigger(this._element,Jc).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(hc,fc),this._queueCallback(()=>{this._element.classList.remove(fc),Yt.trigger(this._element,Wh),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Yt.trigger(this._element,hp).defaultPrevented&&(this._element.classList.add(fc),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(fc,hc),Yt.trigger(this._element,zd)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(hc),super.dispose()}isShown(){return this._element.classList.contains(hc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,l){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const p=u.relatedTarget;this._element===p||this._element.contains(p)||this._maybeScheduleHide()}_setListeners(){Yt.on(this._element,up,u=>this._onInteraction(u,!0)),Yt.on(this._element,Ym,u=>this._onInteraction(u,!1)),Yt.on(this._element,dp,u=>this._onInteraction(u,!0)),Yt.on(this._element,Dg,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const l=Wd.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u](this)}})}}Ra(Wd),Wi(Wd);var eu=O(5312);let pc=(()=>{class _{constructor(l){this.http=l,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(l){return this.http.post(this.emailEndpoint,l)}static{this.\u0275fac=function(p){return new(p||_)(n.KVO(Ce.Qq))}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();var oi=O(4341);let fp=(()=>{class _{static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(p,T){1&p&&(n.j41(0,"section",0)(1,"div",1)(2,"div",2),n.nrm(3,"i",3),n.j41(4,"p"),n.EFF(5),n.k0s()(),n.j41(6,"div",2),n.nrm(7,"i",4),n.j41(8,"p"),n.EFF(9),n.k0s()(),n.j41(10,"div",2),n.nrm(11,"i",5),n.j41(12,"p"),n.EFF(13),n.k0s()()()()),2&p&&(n.R7$(5),n.JRh(T.phoneNumber),n.R7$(4),n.JRh(T.address),n.R7$(4),n.JRh(T.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return _})();var Rg=O(3711),Kh=O(3095);let xg=(()=>{class _{transform(l){if(!l)return"";let p=l.toString().replace(/\D/g,"");return 10!==p.length?l.toString():`${p.slice(0,3)}.${p.slice(3,6)}.${p.slice(6)}`}static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275pipe=n.EJ8({name:"phoneFormat",type:_,pure:!0})}}return _})();function Pg(_,u){if(1&_&&(n.j41(0,"div",22)(1,"h3"),n.EFF(2,"Email"),n.k0s(),n.j41(3,"p")(4,"a",49),n.EFF(5),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(4),n.Mz_("href","mailto:",null==l.location?null:l.location.email,"",n.B4B),n.R7$(1),n.JRh(null==l.location?null:l.location.email)}}function Qm(_,u){if(1&_&&(n.j41(0,"div",22)(1,"h3"),n.EFF(2,"Fax"),n.k0s(),n.j41(3,"p"),n.EFF(4),n.nI1(5,"phoneFormat"),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(4),n.JRh(n.bMT(5,1,null==l.location?null:l.location.fax))}}function Mg(_,u){if(1&_&&(n.j41(0,"div",22)(1,"h3"),n.EFF(2,"Social Media"),n.k0s(),n.j41(3,"p")(4,"a",49),n.EFF(5),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(4),n.FS9("href",l.business.socialMedia,n.B4B),n.R7$(1),n.JRh(l.business.socialMedia)}}function by(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"div",13)(2,"div",14)(3,"h1"),n.EFF(4,"Contact Us"),n.k0s(),n.j41(5,"div",15)(6,"p"),n.EFF(7,"We're here to answer any questions you have"),n.k0s()()()(),n.j41(8,"div",16)(9,"section",17)(10,"div",18),n.EFF(11,"Get in Touch"),n.k0s(),n.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),n.EFF(17,"Address"),n.k0s(),n.j41(18,"p"),n.EFF(19),n.k0s()(),n.j41(20,"div",22)(21,"h3"),n.EFF(22,"Phone"),n.k0s(),n.j41(23,"p"),n.EFF(24),n.nI1(25,"phoneFormat"),n.k0s()(),n.DNE(26,Pg,6,2,"div",23),n.DNE(27,Qm,6,3,"div",23),n.DNE(28,Mg,6,2,"div",23),n.j41(29,"div")(30,"h3"),n.EFF(31,"Visitation Hours"),n.k0s(),n.nrm(32,"div",24),n.k0s()()(),n.j41(33,"div",25)(34,"div",26),n.nrm(35,"img",27),n.k0s()()()(),n.j41(36,"section",28)(37,"div",18),n.EFF(38,"Send Us a Message"),n.k0s(),n.j41(39,"div",29)(40,"div",30)(41,"div",31)(42,"h2",32),n.EFF(43,"How can we help?"),n.k0s(),n.j41(44,"p",33),n.EFF(45," Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help. "),n.k0s()()(),n.j41(46,"div",34)(47,"form",35,36),n.bIt("ngSubmit",function(){n.eBV(l);const T=n.XpG(2);return n.Njj(T.onSubmit())}),n.j41(49,"div",37)(50,"label",38),n.EFF(51,"Name"),n.j41(52,"span"),n.EFF(53,"*"),n.k0s()(),n.j41(54,"input",39),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.name=T)}),n.k0s()(),n.j41(55,"div",37)(56,"label",40),n.EFF(57,"Email"),n.j41(58,"span"),n.EFF(59,"*"),n.k0s()(),n.j41(60,"input",41),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.email=T)}),n.k0s()(),n.j41(61,"div",37)(62,"label",42),n.EFF(63,"Phone "),n.j41(64,"span"),n.EFF(65,"*"),n.k0s()(),n.j41(66,"input",43),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.phone=T)}),n.k0s()(),n.j41(67,"div",37)(68,"label",44),n.EFF(69,"Message"),n.j41(70,"span"),n.EFF(71,"*"),n.k0s()(),n.j41(72,"textarea",45),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.message=T)}),n.k0s()(),n.j41(73,"button",46),n.EFF(74," Send "),n.k0s()()()()(),n.nrm(75,"app-information",47),n.nI1(76,"phoneFormat"),n.nrm(77,"app-google-maps",48),n.k0s(),n.nrm(78,"app-faq"),n.bVm()}if(2&_){const l=n.sdS(48),p=n.XpG(2);n.R7$(19),n.LHq("",null==p.location?null:p.location.street,", ",null==p.location?null:p.location.city,", ",null==p.location?null:p.location.state," ",null==p.location?null:p.location.zipcode,""),n.R7$(5),n.JRh(n.bMT(25,20,null==p.location?null:p.location.phone)),n.R7$(2),n.Y8G("ngIf",p.business.email),n.R7$(1),n.Y8G("ngIf",null==p.location?null:p.location.fax),n.R7$(1),n.Y8G("ngIf",p.business.socialMedia),n.R7$(4),n.Y8G("innerHTML",p.sanitizedBusinessHours,n.npT),n.R7$(3),n.Y8G("src",p.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",n.B4B),n.R7$(19),n.Y8G("ngModel",p.formData.name),n.R7$(6),n.Y8G("ngModel",p.formData.email),n.R7$(6),n.Y8G("ngModel",p.formData.phone),n.R7$(6),n.Y8G("ngModel",p.formData.message),n.R7$(1),n.Y8G("disabled",!l.form.valid),n.R7$(2),n.Y8G("phoneNumber",n.bMT(76,22,null==p.location?null:p.location.phone)||"")("address",p.formattedAddress)("email",(null==p.location?null:p.location.email)||""),n.R7$(2),n.Y8G("address",p.formattedAddress||"")("layoutType",p.business.theme.themeType||"demo")}}function Jm(_,u){if(1&_&&(n.j41(0,"div",62)(1,"h4"),n.EFF(2,"Email"),n.k0s(),n.j41(3,"p")(4,"a",49),n.EFF(5),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(4),n.Mz_("href","mailto:",null==l.location?null:l.location.email,"",n.B4B),n.R7$(1),n.JRh(null==l.location?null:l.location.email)}}function Zm(_,u){if(1&_&&(n.j41(0,"div",62)(1,"h4"),n.EFF(2,"Fax"),n.k0s(),n.j41(3,"p"),n.EFF(4),n.nI1(5,"phoneFormat"),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(4),n.JRh(n.bMT(5,1,null==l.location?null:l.location.fax))}}function qh(_,u){if(1&_&&(n.j41(0,"div",65)(1,"a",66),n.nrm(2,"i",67),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(1),n.FS9("href",l.business.socialMedia,n.B4B)}}function pp(_,u){if(1&_){const l=n.RV6();n.qex(0),n.nrm(1,"app-hero"),n.j41(2,"div",50)(3,"div",51)(4,"form",52),n.bIt("submit",function(){n.eBV(l);const T=n.XpG(2);return n.Njj(T.onSubmit())}),n.j41(5,"div",37)(6,"label",53),n.EFF(7,"Name "),n.j41(8,"span"),n.EFF(9,"(required)"),n.k0s()(),n.j41(10,"div",54)(11,"input",55),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.name=T)}),n.k0s()()(),n.j41(12,"div",37)(13,"label",40),n.EFF(14,"Email "),n.j41(15,"span"),n.EFF(16,"(required)"),n.k0s()(),n.j41(17,"input",56),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.email=T)}),n.k0s()(),n.j41(18,"div",37)(19,"label",42),n.EFF(20,"Phone "),n.j41(21,"span"),n.EFF(22,"(required)"),n.k0s()(),n.j41(23,"input",57),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.phone=T)}),n.k0s()(),n.j41(24,"div",37)(25,"label",44),n.EFF(26,"Message "),n.j41(27,"span"),n.EFF(28,"(required)"),n.k0s()(),n.j41(29,"textarea",58),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.message=T)}),n.k0s()(),n.j41(30,"button",59),n.EFF(31,"Send"),n.k0s()()(),n.j41(32,"div",60)(33,"h2"),n.EFF(34,"Let's Talk"),n.k0s(),n.DNE(35,Jm,6,2,"div",61),n.j41(36,"div",62)(37,"h4"),n.EFF(38,"Phone"),n.k0s(),n.j41(39,"p"),n.EFF(40),n.nI1(41,"phoneFormat"),n.k0s()(),n.DNE(42,Zm,6,3,"div",61),n.j41(43,"div",62)(44,"h4"),n.EFF(45,"Address"),n.k0s(),n.j41(46,"p"),n.EFF(47),n.nrm(48,"br"),n.EFF(49),n.nrm(50,"br"),n.EFF(51),n.k0s()(),n.DNE(52,qh,3,1,"div",63),n.k0s()(),n.j41(53,"div",50)(54,"div",60)(55,"h2"),n.EFF(56,"Visitation Hours"),n.k0s(),n.nrm(57,"p",24),n.k0s(),n.j41(58,"div",64),n.nrm(59,"app-google-maps",48),n.k0s()(),n.bVm()}if(2&_){const l=n.XpG(2);n.R7$(11),n.Y8G("ngModel",l.formData.name),n.R7$(6),n.Y8G("ngModel",l.formData.email),n.R7$(6),n.Y8G("ngModel",l.formData.phone),n.R7$(6),n.Y8G("ngModel",l.formData.message),n.R7$(6),n.Y8G("ngIf",null==l.location?null:l.location.email),n.R7$(5),n.JRh(n.bMT(41,15,null==l.location?null:l.location.phone)),n.R7$(2),n.Y8G("ngIf",null==l.location?null:l.location.fax),n.R7$(5),n.JRh(null==l.location?null:l.location.street),n.R7$(2),n.Lme(" ",null==l.location?null:l.location.zipcode," ",null==l.location?null:l.location.city,""),n.R7$(2),n.SpI(" ",null==l.location?null:l.location.state,""),n.R7$(1),n.Y8G("ngIf",l.business.socialMedia),n.R7$(5),n.Y8G("innerHTML",l.sanitizedBusinessHours,n.npT),n.R7$(2),n.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function gp(_,u){if(1&_&&(n.j41(0,"div",62)(1,"span",68),n.EFF(2,"Fax: "),n.k0s(),n.j41(3,"p"),n.EFF(4),n.nI1(5,"phoneFormat"),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(4),n.JRh(n.bMT(5,1,null==l.location?null:l.location.fax))}}function e_(_,u){if(1&_&&(n.j41(0,"div",62)(1,"span",68),n.EFF(2,"Email: "),n.k0s(),n.j41(3,"p")(4,"a",49),n.EFF(5),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(4),n.Mz_("href","mailto:",null==l.location?null:l.location.email,"",n.B4B),n.R7$(1),n.JRh(null==l.location?null:l.location.email)}}function Ty(_,u){if(1&_&&(n.j41(0,"div",62)(1,"span",68),n.EFF(2,"Hours: "),n.k0s(),n.nrm(3,"p",24),n.k0s()),2&_){const l=n.XpG(3);n.R7$(3),n.Y8G("innerHTML",l.sanitizedBusinessHours,n.npT)}}function Og(_,u){if(1&_&&(n.j41(0,"div",65)(1,"a",66),n.nrm(2,"i",67),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(1),n.FS9("href",l.business.socialMedia,n.B4B)}}function t_(_,u){if(1&_){const l=n.RV6();n.qex(0),n.nrm(1,"app-hero"),n.j41(2,"div",50)(3,"div",60)(4,"h2"),n.EFF(5,"Let's Get in touch"),n.k0s(),n.j41(6,"p"),n.EFF(7),n.k0s()(),n.j41(8,"div",60)(9,"div",62)(10,"span",68),n.EFF(11,"Address:"),n.k0s(),n.j41(12,"p"),n.EFF(13),n.k0s()(),n.j41(14,"div",62)(15,"span",68),n.EFF(16,"Phone: "),n.k0s(),n.j41(17,"p"),n.EFF(18),n.nI1(19,"phoneFormat"),n.k0s()(),n.DNE(20,gp,6,3,"div",61),n.DNE(21,e_,6,2,"div",61),n.DNE(22,Ty,4,1,"div",61),n.DNE(23,Og,3,1,"div",63),n.k0s()(),n.j41(24,"div",50)(25,"div",51)(26,"form",52),n.bIt("submit",function(){n.eBV(l);const T=n.XpG(2);return n.Njj(T.onSubmit())}),n.j41(27,"div",37)(28,"label",53),n.EFF(29,"Name "),n.j41(30,"span"),n.EFF(31,"(required)"),n.k0s()(),n.j41(32,"div",54)(33,"input",55),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.name=T)}),n.k0s()()(),n.j41(34,"div",37)(35,"label",40),n.EFF(36,"Email: "),n.j41(37,"span"),n.EFF(38,"(required)"),n.k0s()(),n.j41(39,"input",56),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.email=T)}),n.k0s()(),n.j41(40,"div",37)(41,"label",42),n.EFF(42,"Phone "),n.j41(43,"span"),n.EFF(44,"(required)"),n.k0s()(),n.j41(45,"input",57),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.phone=T)}),n.k0s()(),n.j41(46,"div",37)(47,"label",44),n.EFF(48,"Message "),n.j41(49,"span"),n.EFF(50,"(required)"),n.k0s()(),n.j41(51,"textarea",58),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.message=T)}),n.k0s()(),n.j41(52,"button",69),n.EFF(53,"Send"),n.k0s()()(),n.j41(54,"div",64),n.nrm(55,"app-google-maps",48),n.k0s()(),n.bVm()}if(2&_){const l=n.XpG(2);n.R7$(7),n.JRh(l.business.contactFormDetails),n.R7$(6),n.LHq("",null==l.location?null:l.location.street," ",null==l.location?null:l.location.zipcode," ",null==l.location?null:l.location.city," ",null==l.location?null:l.location.state,""),n.R7$(5),n.JRh(n.bMT(19,16,null==l.location?null:l.location.phone)),n.R7$(2),n.Y8G("ngIf",null==l.location?null:l.location.fax),n.R7$(1),n.Y8G("ngIf",null==l.location?null:l.location.email),n.R7$(1),n.Y8G("ngIf",null==l.location?null:l.location.fax),n.R7$(1),n.Y8G("ngIf",l.business.socialMedia),n.R7$(10),n.Y8G("ngModel",l.formData.name),n.R7$(6),n.Y8G("ngModel",l.formData.email),n.R7$(6),n.Y8G("ngModel",l.formData.phone),n.R7$(6),n.Y8G("ngModel",l.formData.message),n.R7$(4),n.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function Xu(_,u){if(1&_&&(n.j41(0,"div",62)(1,"p")(2,"a",49),n.EFF(3),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(2),n.Mz_("href","mailto:",null==l.location?null:l.location.email,"",n.B4B),n.R7$(1),n.JRh(null==l.location?null:l.location.email)}}function mp(_,u){if(1&_&&(n.j41(0,"div",62)(1,"h3"),n.EFF(2,"Fax"),n.k0s(),n.j41(3,"p"),n.EFF(4),n.nI1(5,"phoneFormat"),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(4),n.JRh(n.bMT(5,1,null==l.location?null:l.location.fax))}}function n_(_,u){if(1&_&&(n.j41(0,"div",65)(1,"a",66),n.nrm(2,"i",67),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(1),n.FS9("href",l.business.socialMedia,n.B4B)}}function Ng(_,u){if(1&_){const l=n.RV6();n.qex(0),n.nrm(1,"app-hero",70),n.j41(2,"div",50)(3,"div",60)(4,"h2"),n.EFF(5,"Contact us"),n.k0s(),n.DNE(6,Xu,4,2,"div",61),n.j41(7,"div",62)(8,"p"),n.EFF(9),n.nI1(10,"phoneFormat"),n.k0s()(),n.DNE(11,mp,6,3,"div",61),n.j41(12,"div",62)(13,"p"),n.EFF(14),n.nrm(15,"br"),n.EFF(16),n.nrm(17,"br"),n.EFF(18),n.k0s()(),n.DNE(19,n_,3,1,"div",63),n.k0s(),n.j41(20,"div",51)(21,"form",52),n.bIt("submit",function(){n.eBV(l);const T=n.XpG(2);return n.Njj(T.onSubmit())}),n.j41(22,"div",37)(23,"label",53),n.EFF(24,"Name "),n.j41(25,"span"),n.EFF(26,"(required)"),n.k0s()(),n.j41(27,"div",54)(28,"input",55),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.name=T)}),n.k0s()()(),n.j41(29,"div",37)(30,"label",40),n.EFF(31,"Email "),n.j41(32,"span"),n.EFF(33,"(required)"),n.k0s()(),n.j41(34,"input",56),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.email=T)}),n.k0s()(),n.j41(35,"div",37)(36,"label",42),n.EFF(37,"Phone "),n.j41(38,"span"),n.EFF(39,"(required)"),n.k0s()(),n.j41(40,"input",57),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.phone=T)}),n.k0s()(),n.j41(41,"div",37)(42,"label",44),n.EFF(43,"Message "),n.j41(44,"span"),n.EFF(45,"(required)"),n.k0s()(),n.j41(46,"textarea",58),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.message=T)}),n.k0s()(),n.j41(47,"button",71),n.EFF(48,"Send"),n.k0s()()()(),n.j41(49,"div",50)(50,"div",60)(51,"div")(52,"h2"),n.EFF(53,"Hours"),n.k0s(),n.nrm(54,"div",24),n.k0s()(),n.j41(55,"div",64),n.nrm(56,"app-google-maps",48),n.k0s()(),n.bVm()}if(2&_){const l=n.XpG(2);n.R7$(1),n.Y8G("layoutType","sb"),n.R7$(5),n.Y8G("ngIf",null==l.location?null:l.location.email),n.R7$(3),n.JRh(n.bMT(10,16,null==l.location?null:l.location.phone)),n.R7$(2),n.Y8G("ngIf",null==l.location?null:l.location.fax),n.R7$(3),n.JRh(null==l.location?null:l.location.street),n.R7$(2),n.JRh(null==l.location?null:l.location.city),n.R7$(2),n.Lme(" ",null==l.location?null:l.location.state," ",null==l.location?null:l.location.zipcode,""),n.R7$(1),n.Y8G("ngIf",l.business.socialMedia),n.R7$(9),n.Y8G("ngModel",l.formData.name),n.R7$(6),n.Y8G("ngModel",l.formData.email),n.R7$(6),n.Y8G("ngModel",l.formData.phone),n.R7$(6),n.Y8G("ngModel",l.formData.message),n.R7$(8),n.Y8G("innerHTML",l.sanitizedBusinessHours,n.npT),n.R7$(2),n.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function Cy(_,u){if(1&_&&(n.j41(0,"div",62)(1,"p"),n.nrm(2,"i",74),n.j41(3,"a",49),n.EFF(4),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(3),n.Mz_("href","mailto:",null==l.location?null:l.location.email,"",n.B4B),n.R7$(1),n.JRh(null==l.location?null:l.location.email)}}function Kd(_,u){if(1&_&&(n.j41(0,"div",62)(1,"p"),n.nrm(2,"i",75),n.EFF(3),n.nI1(4,"phoneFormat"),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(3),n.JRh(n.bMT(4,1,null==l.location?null:l.location.fax))}}function Fg(_,u){if(1&_&&(n.j41(0,"div",62)(1,"a",66),n.nrm(2,"i",67),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(1),n.FS9("href",l.business.socialMedia,n.B4B)}}function _p(_,u){if(1&_){const l=n.RV6();n.qex(0),n.nrm(1,"app-hero",70),n.j41(2,"div",50)(3,"div",60)(4,"h2"),n.EFF(5,"Contact us"),n.k0s(),n.DNE(6,Cy,5,2,"div",61),n.j41(7,"div",62)(8,"p"),n.nrm(9,"i",72),n.EFF(10),n.nI1(11,"phoneFormat"),n.k0s()(),n.DNE(12,Kd,5,3,"div",61),n.j41(13,"div",62)(14,"p"),n.nrm(15,"i",73),n.EFF(16),n.k0s()(),n.DNE(17,Fg,3,1,"div",61),n.k0s(),n.j41(18,"div",51)(19,"form",52),n.bIt("submit",function(){n.eBV(l);const T=n.XpG(2);return n.Njj(T.onSubmit())}),n.j41(20,"div",37)(21,"label",53),n.EFF(22,"Name "),n.j41(23,"span"),n.EFF(24,"(required)"),n.k0s()(),n.j41(25,"div",54)(26,"input",55),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.name=T)}),n.k0s()()(),n.j41(27,"div",37)(28,"label",40),n.EFF(29,"Email "),n.j41(30,"span"),n.EFF(31,"(required)"),n.k0s()(),n.j41(32,"input",56),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.email=T)}),n.k0s()(),n.j41(33,"div",37)(34,"label",42),n.EFF(35,"Phone "),n.j41(36,"span"),n.EFF(37,"(required)"),n.k0s()(),n.j41(38,"input",57),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.phone=T)}),n.k0s()(),n.j41(39,"div",37)(40,"label",44),n.EFF(41,"Message "),n.j41(42,"span"),n.EFF(43,"(required)"),n.k0s()(),n.j41(44,"textarea",58),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.message=T)}),n.k0s()(),n.j41(45,"button",71),n.EFF(46,"Send"),n.k0s()()()(),n.j41(47,"div",50)(48,"div",64),n.nrm(49,"app-google-maps",48),n.k0s(),n.j41(50,"div",60)(51,"div")(52,"h2"),n.EFF(53,"Hours"),n.k0s(),n.nrm(54,"div",24),n.k0s()()(),n.bVm()}if(2&_){const l=n.XpG(2);n.R7$(1),n.Y8G("layoutType","prestige"),n.R7$(5),n.Y8G("ngIf",null==l.location?null:l.location.email),n.R7$(4),n.JRh(n.bMT(11,16,null==l.location?null:l.location.phone)),n.R7$(2),n.Y8G("ngIf",null==l.location?null:l.location.fax),n.R7$(4),n.LHq("",null==l.location?null:l.location.street,", ",null==l.location?null:l.location.city,", ",null==l.location?null:l.location.state," ",null==l.location?null:l.location.zipcode,""),n.R7$(1),n.Y8G("ngIf",l.business.socialMedia),n.R7$(9),n.Y8G("ngModel",l.formData.name),n.R7$(6),n.Y8G("ngModel",l.formData.email),n.R7$(6),n.Y8G("ngModel",l.formData.phone),n.R7$(6),n.Y8G("ngModel",l.formData.message),n.R7$(5),n.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo"),n.R7$(5),n.Y8G("innerHTML",l.sanitizedBusinessHours,n.npT)}}function r_(_,u){if(1&_&&(n.j41(0,"div",62)(1,"p")(2,"a",49),n.EFF(3),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(2),n.Mz_("href","mailto:",null==l.location?null:l.location.email,"",n.B4B),n.R7$(1),n.JRh(null==l.location?null:l.location.email)}}function yp(_,u){if(1&_&&(n.j41(0,"div",62)(1,"h3"),n.EFF(2,"Fax"),n.k0s(),n.j41(3,"p"),n.EFF(4),n.nI1(5,"phoneFormat"),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(4),n.JRh(n.bMT(5,1,null==l.location?null:l.location.fax))}}function kg(_,u){if(1&_&&(n.j41(0,"div",65)(1,"a",66),n.nrm(2,"i",67),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(1),n.FS9("href",l.business.socialMedia,n.B4B)}}function vp(_,u){if(1&_){const l=n.RV6();n.qex(0),n.nrm(1,"app-hero"),n.j41(2,"div",50)(3,"div",60)(4,"h2"),n.EFF(5,"Contact us"),n.k0s(),n.DNE(6,r_,4,2,"div",61),n.j41(7,"div",62)(8,"p"),n.EFF(9),n.nI1(10,"phoneFormat"),n.k0s()(),n.DNE(11,yp,6,3,"div",61),n.j41(12,"div",62)(13,"p"),n.EFF(14),n.k0s()(),n.DNE(15,kg,3,1,"div",63),n.k0s(),n.j41(16,"div",51)(17,"form",52),n.bIt("submit",function(){n.eBV(l);const T=n.XpG(2);return n.Njj(T.onSubmit())}),n.j41(18,"div",37)(19,"label",53),n.EFF(20,"Name "),n.j41(21,"span"),n.EFF(22,"(required)"),n.k0s()(),n.j41(23,"div",54)(24,"input",55),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.name=T)}),n.k0s()()(),n.j41(25,"div",37)(26,"label",40),n.EFF(27,"Email "),n.j41(28,"span"),n.EFF(29,"(required)"),n.k0s()(),n.j41(30,"input",56),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.email=T)}),n.k0s()(),n.j41(31,"div",37)(32,"label",44),n.EFF(33,"Message "),n.j41(34,"span"),n.EFF(35,"(required)"),n.k0s()(),n.j41(36,"textarea",58),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.message=T)}),n.k0s()(),n.j41(37,"button",59),n.EFF(38,"Send"),n.k0s()()()(),n.j41(39,"div",50)(40,"div",60)(41,"div")(42,"h2"),n.EFF(43,"Visitation Hours"),n.k0s(),n.nrm(44,"div",24),n.k0s()(),n.j41(45,"div",64),n.nrm(46,"app-google-maps",48),n.k0s()(),n.bVm()}if(2&_){const l=n.XpG(2);n.R7$(6),n.Y8G("ngIf",null==l.location?null:l.location.email),n.R7$(3),n.JRh(n.bMT(10,14,null==l.location?null:l.location.phone)),n.R7$(2),n.Y8G("ngIf",null==l.location?null:l.location.fax),n.R7$(3),n.LHq("",null==l.location?null:l.location.street,", ",null==l.location?null:l.location.city,", ",null==l.location?null:l.location.state," ",null==l.location?null:l.location.zipcode,""),n.R7$(1),n.Y8G("ngIf",l.business.socialMedia),n.R7$(9),n.Y8G("ngModel",l.formData.name),n.R7$(6),n.Y8G("ngModel",l.formData.email),n.R7$(6),n.Y8G("ngModel",l.formData.message),n.R7$(8),n.Y8G("innerHTML",l.sanitizedBusinessHours,n.npT),n.R7$(2),n.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function Ep(_,u){if(1&_&&(n.j41(0,"div")(1,"div",1),n.DNE(2,by,79,24,"ng-container",2),n.DNE(3,pp,60,17,"ng-container",2),n.DNE(4,t_,56,18,"ng-container",2),n.DNE(5,Ng,57,18,"ng-container",2),n.DNE(6,_p,55,18,"ng-container",2),n.DNE(7,vp,47,16,"ng-container",3),n.k0s(),n.j41(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5",8),n.EFF(13),n.k0s(),n.nrm(14,"button",9),n.k0s(),n.j41(15,"div",10),n.EFF(16),n.k0s(),n.j41(17,"div",11)(18,"button",12),n.EFF(19," Close "),n.k0s()()()()()()),2&_){const l=n.XpG();n.R7$(1),n.Y8G("ngSwitch",l.layoutType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(1),n.Y8G("ngSwitchCase","prestige"),n.R7$(7),n.JRh(l.modalTitle),n.R7$(3),n.SpI(" ",l.modalMessage," ")}}let Qu=(()=>{class _{constructor(l,p,T,V,ne,le,Fe,nt){this.sanitizer=l,this.businessDataService=p,this.webContent=T,this.route=V,this.http=ne,this.emailService=le,this.router=Fe,this.metaService=nt,this.business=null,this.location=null,this.layoutType="demo",this.useMockMap=eu.c.useMockGoogleMap,this.formData={name:"",email:"",phone:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business?.businessHours):""}ngOnInit(){this.route.snapshot.queryParamMap.get("id")&&window.history.replaceState({},"",this.router.url.split("?")[0]),this.businessDataService.businessData$.subscribe(p=>{p&&(this.business=p,this.businessDataService.getLocations().subscribe(T=>{T.length>0?(this.location=T[0],console.log("\u{1f4cd} Updated Location [0]:",this.location)):(console.warn("\u26a0\ufe0f No locations available."),this.location=null)}),p?.id&&(this.metaService.loadAndApplyMeta(p.id),this.layoutType=p.theme?.themeType||"demo"))})}ngAfterViewInit(){setTimeout(()=>{const l=document.getElementById("responseModal");l?this.responseModal=new os(l):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(l=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},l=>{console.error("Error sending email",l),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(l){const p=l.split(".");return p.length>2?p.slice(-2).join("."):l}get formattedAddress(){return[this.location?.street,this.location?.city,this.location?.state,this.location?.zipcode].filter(l=>l).join(" ")}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(ie.up),n.rXU(Nt.A),n.rXU(He.N),n.rXU(oe.nX),n.rXU(Ce.Qq),n.rXU(pc),n.rXU(oe.Ix),n.rXU(un.R))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","phone"],["type","phone","id","phone","required","","name","phone","required","",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["type","phone","id","phone","required","","name","phone","placeholder","Phone","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"],[1,"label"],["type","submit",1,"btn"],[3,"layoutType"],["type","submit",1,"btnSBSend"],[1,"fa-solid","fa-phone"],[1,"fa-solid","fa-map-location-dot"],[1,"fa-solid","fa-envelope"],[1,"fa-solid","fa-fax"]],template:function(p,T){1&p&&n.DNE(0,Ep,20,8,"div",0),2&p&&n.Y8G("ngIf",T.business)},dependencies:[Re.bT,Re.ux,Re.e1,Re.fG,oi.qT,oi.me,oi.BC,oi.cb,oi.YS,oi.vS,oi.cV,fp,Wn,Rg.a,Kh.C,xg]})}}return _})();var Lg=O(467),Yh=O(8455),tu=O(6354);const i_=["dynamicContainer"],Xh=["ctaContainer"];function Qh(_,u){1&_&&(n.qex(0),n.j41(1,"div",10)(2,"div",11)(3,"h1"),n.EFF(4,"Our Home"),n.k0s(),n.j41(5,"div",12)(6,"p"),n.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),n.k0s()()()(),n.bVm())}function Vg(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",13),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","sb"))}function s_(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",13),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","ae"))}function Ug(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",13),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","clemo"))}function Iy(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",13),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","prestige"))}function jg(_,u){if(1&_&&(n.j41(0,"h3"),n.EFF(1),n.k0s()),2&_){const l=n.XpG(2).$implicit;n.R7$(1),n.JRh(l.title)}}function bp(_,u){if(1&_&&(n.j41(0,"p"),n.EFF(1),n.k0s()),2&_){const l=n.XpG(2).$implicit;n.R7$(1),n.JRh(l.description)}}function Tp(_,u){if(1&_&&(n.j41(0,"a",19),n.EFF(1,"View Page"),n.k0s()),2&_){const l=n.XpG(2).$implicit;n.Y8G("href",l.link,n.B4B)}}function gc(_,u){if(1&_&&(n.j41(0,"div",17),n.DNE(1,jg,2,1,"h3",0),n.DNE(2,bp,2,1,"p",0),n.DNE(3,Tp,2,1,"a",18),n.k0s()),2&_){const l=n.XpG().$implicit;n.R7$(1),n.Y8G("ngIf",l.title),n.R7$(1),n.Y8G("ngIf",l.description),n.R7$(1),n.Y8G("ngIf",l.link)}}function Cp(_,u){if(1&_){const l=n.RV6();n.j41(0,"div",14),n.bIt("click",function(){const V=n.eBV(l).$implicit,ne=n.XpG(2);return n.Njj(ne.onImageClick(V.url))}),n.nrm(1,"img",15),n.DNE(2,gc,4,3,"div",16),n.k0s()}if(2&_){const l=u.$implicit;n.R7$(1),n.Y8G("src",l.url,n.B4B),n.R7$(1),n.Y8G("ngIf",l.title||l.description||l.link)}}function nu(_,u){if(1&_&&(n.j41(0,"div")(1,"div",2),n.DNE(2,Qh,8,0,"ng-container",3),n.DNE(3,Vg,2,1,"ng-container",3),n.DNE(4,s_,2,1,"ng-container",3),n.DNE(5,Ug,2,1,"ng-container",3),n.DNE(6,Iy,2,1,"ng-container",3),n.k0s(),n.eu8(7,null,4),n.j41(9,"section",5)(10,"div",6)(11,"h2"),n.EFF(12,"Explore Our Gallery"),n.k0s()(),n.j41(13,"div",7),n.DNE(14,Cp,3,2,"div",8),n.k0s()(),n.eu8(15,null,9),n.k0s()),2&_){const l=n.XpG();n.R7$(1),n.Y8G("ngSwitch",l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","prestige"),n.R7$(8),n.Y8G("ngForOf",l.images)}}function wy(_,u){if(1&_){const l=n.RV6();n.j41(0,"div",20),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.onCloseModal())}),n.j41(1,"div",21),n.bIt("click",function(T){return T.stopPropagation()}),n.j41(2,"button",22),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.onCloseModal())}),n.EFF(3,"\xd7"),n.k0s(),n.nrm(4,"img",23),n.k0s()()}if(2&_){const l=n.XpG();n.R7$(4),n.Y8G("src",l.selectedImageUrl,n.B4B)}}let $g=(()=>{class _{constructor(l,p,T,V,ne,le,Fe,nt){this.businessDataService=l,this.route=p,this.webContent=T,this.metaService=V,this.router=ne,this.sectionService=le,this.resolver=Fe,this.injector=nt,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.sections=[],this.selectedImageUrl=null,this.layoutType="demo",this.componentsMap={"center-text":be.W,"right-text":Ne.F,"left-text":z.G,"item-list":Q.j,cta:me.j}}ngOnInit(){this.route.snapshot.queryParamMap.get("id")&&window.history.replaceState({},"",this.router.url.split("?")[0]),this.businessDataService.businessData$.subscribe(p=>{this.business=p,this.layoutType=p?.theme.themeType||"",p?.id&&(this.businessId=p.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId),this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"gallery").subscribe(l=>{l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents(),this.loadCTAComponent()):console.warn("\u2757 No sections retrieved.")})}loadComponents(){this.container?(this.container.clear(),this.sections.length?this.sections.filter(p=>"cta"!==p.component).forEach(p=>{this.createDynamicComponent(p,this.container)}):console.warn("\u2757 No sections available to load.")):console.error("\u274c ViewContainerRef is undefined.")}loadCTAComponent(){if(!this.ctaContainer)return void console.error("\u274c CTA ViewContainerRef is undefined.");this.ctaContainer.clear();const l=this.sections.find(p=>"cta"===p.component);l?this.createDynamicComponent(l,this.ctaContainer):console.warn("\u2757 No CTA section found.")}createDynamicComponent(l,p){const T=this.componentsMap[l.component];if(!T)return void console.error("\u274c Component Not Found:",l.component);const V=this.resolver.resolveComponentFactory(T),ne=p.createComponent(V,void 0,this.injector);Object.assign(ne.instance,{isActive:[void 0===l.isActive||l.isActive],order:l.order||0,_businessName:this.business?.businessName||"",themeType:this.business?.theme?.themeType,items:l.items||[],isMinimal:l.isMinimal||!1,isParallax:l.isParallax??!0,backgroundColor:l.backgroundColor||"#ffffff",content:this.applyReplaceKeyword(l.sectionContent||""),textColor:l.textColor||"#000000",textFontSize:l.textFontSize||"16",textFontStyle:l.textFontStyle||"normal",alignText:l.alignText||"left",title:this.applyReplaceKeyword(l.sectionTitle||""),titleColor:l.titleColor||"#000000",titleFontSize:l.titleFontSize||"36",titleFontStyle:l.titleFontStyle||"normal",subTitle:this.applyReplaceKeyword(l.sectionSubTitle||""),subtitleColor:l.subtitleColor||"#000000",subtitleFontSize:l.subtitleFontSize||"14",subtitleFontStyle:l.subtitleFontStyle||"normal",fullWidth:l.fullWidth||!1,showBtn:l.showLearnMore||!1,showButton:l.showButton||!1,buttonText:l.buttonText||"Learn More",buttonLink:l.buttonLink||"",showImage:!!l.sectionImageUrl,sectionImageUrl:l.sectionImageUrl||"",boxShadow:l.boxShadow||!1,borderRadius:l.borderRadius??10,page:l.page,location:l.location,businessId:this.business?.id})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}loadImages(){var l=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:T,target:V})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,T).pipe((0,Ae.n)(ne=>{const le=ne.map(function(){var Fe=(0,Lg.A)(function*(nt){return(yield l.webContent.checkImageExists(nt.url))?nt:null});return function(nt){return Fe.apply(this,arguments)}}());return(0,Yh.H)(Promise.all(le))}),(0,tu.T)(ne=>ne.filter(le=>null!==le)),(0,tu.T)(ne=>ne.map(le=>({url:le.url,title:le.title?.trim()||null,description:le.description?.trim()||null,link:le.link?.trim()||null,order:isNaN(Number(le.order))?999:Number(le.order)})).sort((le,Fe)=>le.order-Fe.order))).subscribe(ne=>{this[V]||(this[V]=[]),this[V]=ne})})}onImageClick(l){this.selectedImageUrl=l}closeLightbox(){this.selectedImageUrl=null}onCloseModal(){this.selectedImageUrl=null}navigateToContact(l){this.router.navigate(["/contact-us"],{queryParams:{id:l}})}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(Nt.A),n.rXU(oe.nX),n.rXU(He.N),n.rXU(un.R),n.rXU(oe.Ix),n.rXU(tn.W),n.rXU(n.OM3),n.rXU(n.zZn))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-photo-gallery"]],viewQuery:function(p,T){if(1&p&&(n.GBs(i_,5,n.c1b),n.GBs(Xh,5,n.c1b)),2&p){let V;n.mGM(V=n.lsd())&&(T.container=V.first),n.mGM(V=n.lsd())&&(T.ctaContainer=V.first)}},inputs:{businessId:"businessId"},decls:2,vars:2,consts:[[4,"ngIf"],["class","image-modal",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["dynamicContainer",""],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],["ctaContainer",""],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],["class","gallery-item-overlay",4,"ngIf"],[1,"gallery-item-overlay"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],[1,"image-modal",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Image",3,"src"]],template:function(p,T){1&p&&(n.DNE(0,nu,17,7,"div",0),n.DNE(1,wy,5,1,"div",1)),2&p&&(n.Y8G("ngIf",T.business),n.R7$(1),n.Y8G("ngIf",T.selectedImageUrl))},dependencies:[Re.Sq,Re.bT,Re.ux,Re.e1,Wn],styles:[".gallery[_ngcontent-%COMP%]{padding:20px;max-width:var(--site-max-width);margin:0 auto}.section-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px}.gallery-item[_ngcontent-%COMP%]{position:relative;overflow:hidden;box-shadow:0 4px 10px #0000001a;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.gallery-item-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000000b3;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0;transform:translateY(10%);transition:opacity .3s ease,transform .3s ease;padding:10px}.gallery-item-overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-decoration:none;font-weight:700;margin-top:10px}.gallery-item-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:3rem;line-height:3rem;margin:.5rem 0;text-align:center;color:#f0f8ff}.gallery-item-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3rem;line-height:1.8rem;text-align:center;padding:20px}.gallery-item[_ngcontent-%COMP%]:hover   .gallery-item-overlay[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:1rem;border-radius:10px;max-width:90%;max-height:90%;box-shadow:0 0 20px #0000004d;overflow:hidden;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80vh}.close-btn[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.75rem;background:transparent;border:none;font-size:2rem;color:#333;cursor:pointer;font-weight:700;line-height:1;z-index:1001}.close-btn[_ngcontent-%COMP%]:hover{color:#000}@media (max-width: 768px){.gallery-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gallery-item-overlay[_ngcontent-%COMP%]{position:static;opacity:1!important;transform:none!important;background-color:var(--dark-background-color);padding:1rem;text-align:center;font-size:.9rem;height:50%;margin-top:5px}.gallery-item-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin:.5rem 0}.gallery-item-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem}.gallery-item-overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem;margin-top:.5rem;display:inline-block;text-decoration:underline}}"]})}}return _})();var mc=O(4796);function Bg(_,u){if(1&_&&(n.j41(0,"div",11),n.EFF(1),n.k0s()),2&_){const l=n.XpG();n.R7$(1),n.JRh(l.errorMessage)}}let Ip=(()=>{class _{constructor(l,p){this.authService=l,this.router=p,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(l=>{this.errorMessage=l.message})}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(mc.u),n.rXU(oe.Ix))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(p,T){1&p&&(n.j41(0,"div",0)(1,"div",1)(2,"h2",2),n.EFF(3,"Login"),n.k0s(),n.j41(4,"form",3),n.bIt("submit",function(){return T.login()}),n.j41(5,"div",4)(6,"label",5),n.EFF(7,"Email"),n.k0s(),n.j41(8,"input",6),n.bIt("ngModelChange",function(ne){return T.email=ne}),n.k0s()(),n.j41(9,"div",4)(10,"label",7),n.EFF(11,"Password"),n.k0s(),n.j41(12,"input",8),n.bIt("ngModelChange",function(ne){return T.password=ne}),n.k0s()(),n.j41(13,"button",9),n.EFF(14,"Login"),n.k0s(),n.DNE(15,Bg,2,1,"div",10),n.k0s()()()),2&p&&(n.R7$(8),n.Y8G("ngModel",T.email),n.R7$(4),n.Y8G("ngModel",T.password),n.R7$(3),n.Y8G("ngIf",T.errorMessage))},dependencies:[Re.bT,oi.qT,oi.me,oi.BC,oi.cb,oi.YS,oi.vS,oi.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return _})();var Gg=O(1985),Ju=O(6340);let wp=(()=>{class _{constructor(l){this.afs=l,this.basePath="businesses"}saveIntakeForm(l,p){const T=this.afs.createId(),V=this.afs.collection(`${this.basePath}/${p}/intake`).doc(T);return new Gg.c(ne=>{V.set(l).then(()=>{ne.next(l),ne.complete()}).catch(le=>{console.error("Error saving intake form data",le),ne.error(le)})})}getIntakeForms(l){return this.afs.collection(`${this.basePath}/${l}/intake`).snapshotChanges().pipe((0,tu.T)(p=>p.map(T=>{const V=T.payload.doc.data();return{id:T.payload.doc.id,...V}})))}getIntakeForm(l,p){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).valueChanges().pipe((0,tu.T)(T=>T||void 0))}updateIntakeForm(l,p,T){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).update(T)}deleteIntakeForm(l,p){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).delete()}static{this.\u0275fac=function(p){return new(p||_)(n.KVO(Ju.Qe))}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();function Jh(_,u){if(1&_){const l=n.RV6();n.j41(0,"div"),n.nrm(1,"app-hero",1),n.j41(2,"form",2),n.bIt("ngSubmit",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.onSubmit())}),n.j41(3,"div",3)(4,"h2"),n.EFF(5,"Personal Information"),n.k0s(),n.j41(6,"label",4),n.EFF(7,"Name *"),n.k0s(),n.nrm(8,"input",5),n.j41(9,"label",6),n.EFF(10,"Email *"),n.k0s(),n.nrm(11,"input",7),n.j41(12,"label",8),n.EFF(13,"Phone number *"),n.k0s(),n.nrm(14,"input",9),n.k0s(),n.j41(15,"div",3)(16,"h2"),n.EFF(17,"Referral Source"),n.k0s(),n.j41(18,"label",10),n.EFF(19,"How did you find out about us? *"),n.k0s(),n.j41(20,"select",11)(21,"option",12),n.EFF(22,"Google"),n.k0s(),n.j41(23,"option",13),n.EFF(24,"Facebook"),n.k0s(),n.j41(25,"option",14),n.EFF(26,"Placement Agency"),n.k0s(),n.j41(27,"option",15),n.EFF(28,"Friends and/or Family"),n.k0s(),n.j41(29,"option",16),n.EFF(30,"Other"),n.k0s()(),n.j41(31,"label",17),n.EFF(32,"What is your relation to the resident? *"),n.k0s(),n.nrm(33,"input",18),n.k0s(),n.j41(34,"div",3)(35,"h2"),n.EFF(36,"Resident Information"),n.k0s(),n.j41(37,"label",19),n.EFF(38,"Resident's name *"),n.k0s(),n.nrm(39,"input",20),n.j41(40,"label",21),n.EFF(41,"Age *"),n.k0s(),n.nrm(42,"input",22),n.j41(43,"label",23),n.EFF(44,"Gender *"),n.k0s(),n.j41(45,"select",24)(46,"option",25),n.EFF(47,"Male"),n.k0s(),n.j41(48,"option",26),n.EFF(49,"Female"),n.k0s(),n.j41(50,"option",27),n.EFF(51,"Prefer not to say"),n.k0s(),n.j41(52,"option",16),n.EFF(53,"Other"),n.k0s()()(),n.j41(54,"div",3)(55,"h2"),n.EFF(56,"Medical History"),n.k0s(),n.j41(57,"label",28),n.EFF(58,"Relevant medical and surgical history *"),n.k0s(),n.nrm(59,"textarea",29),n.j41(60,"label",30),n.EFF(61,"Height *"),n.k0s(),n.nrm(62,"input",31),n.j41(63,"label",32),n.EFF(64,"Weight *"),n.k0s(),n.nrm(65,"input",33),n.j41(66,"label",34),n.EFF(67,"Reason for moving to an adult family home *"),n.k0s(),n.nrm(68,"textarea",35),n.j41(69,"label",36),n.EFF(70,'Do you already have an "RN Assessment for AFH"? *'),n.k0s(),n.j41(71,"select",37)(72,"option",38),n.EFF(73,"Yes"),n.k0s(),n.j41(74,"option",39),n.EFF(75,"No"),n.k0s()()(),n.j41(76,"div",3)(77,"h2"),n.EFF(78,"Care Levels"),n.k0s(),n.j41(79,"label",40),n.EFF(80,"Eating *"),n.k0s(),n.j41(81,"select",41)(82,"option",42),n.EFF(83,"Independent"),n.k0s(),n.j41(84,"option",43),n.EFF(85,"Needing Assistance"),n.k0s(),n.j41(86,"option",44),n.EFF(87,"Dependent"),n.k0s()(),n.j41(88,"label",45),n.EFF(89,"Personal Hygiene *"),n.k0s(),n.j41(90,"select",46)(91,"option",42),n.EFF(92,"Independent"),n.k0s(),n.j41(93,"option",43),n.EFF(94,"Needing Assistance"),n.k0s(),n.j41(95,"option",44),n.EFF(96,"Dependent"),n.k0s()(),n.j41(97,"label",47),n.EFF(98,"Bathing *"),n.k0s(),n.j41(99,"select",48)(100,"option",42),n.EFF(101,"Independent"),n.k0s(),n.j41(102,"option",43),n.EFF(103,"Needing Assistance"),n.k0s(),n.j41(104,"option",44),n.EFF(105,"Dependent"),n.k0s()(),n.j41(106,"label",49),n.EFF(107,"Toileting *"),n.k0s(),n.j41(108,"select",50)(109,"option",42),n.EFF(110,"Independent"),n.k0s(),n.j41(111,"option",43),n.EFF(112,"Needing Assistance"),n.k0s(),n.j41(113,"option",44),n.EFF(114,"Dependent"),n.k0s()(),n.j41(115,"label",51),n.EFF(116,"Mobility *"),n.k0s(),n.j41(117,"select",52)(118,"option",42),n.EFF(119,"Independent"),n.k0s(),n.j41(120,"option",43),n.EFF(121,"Needing Assistance"),n.k0s(),n.j41(122,"option",44),n.EFF(123,"Dependent"),n.k0s()(),n.j41(124,"label",53),n.EFF(125,"Transfers *"),n.k0s(),n.j41(126,"select",54)(127,"option",42),n.EFF(128,"Independent"),n.k0s(),n.j41(129,"option",43),n.EFF(130,"Needing Assistance"),n.k0s(),n.j41(131,"option",44),n.EFF(132,"Dependent"),n.k0s()(),n.j41(133,"label",55),n.EFF(134,"Medication Assistance *"),n.k0s(),n.j41(135,"select",56)(136,"option",38),n.EFF(137,"Yes"),n.k0s(),n.j41(138,"option",39),n.EFF(139,"No"),n.k0s()()(),n.j41(140,"div",3)(141,"h2"),n.EFF(142,"Other Medical Information"),n.k0s(),n.j41(143,"label",57),n.EFF(144,"Memory Issues *"),n.k0s(),n.j41(145,"select",58)(146,"option",38),n.EFF(147,"Yes"),n.k0s(),n.j41(148,"option",39),n.EFF(149,"No"),n.k0s()(),n.j41(150,"label",59),n.EFF(151,"Behavior"),n.k0s(),n.nrm(152,"textarea",60),n.j41(153,"label",61),n.EFF(154,"Skin Condition"),n.k0s(),n.nrm(155,"textarea",62),n.j41(156,"label",63),n.EFF(157,"Other information you want us to know"),n.k0s(),n.nrm(158,"textarea",64),n.k0s(),n.j41(159,"div",3)(160,"h2"),n.EFF(161,"Living Situation"),n.k0s(),n.j41(162,"label",65),n.EFF(163,"Current living situation *"),n.k0s(),n.j41(164,"select",66)(165,"option",67),n.EFF(166,"Own Home"),n.k0s(),n.j41(167,"option",68),n.EFF(168,"Relative's Home"),n.k0s(),n.j41(169,"option",69),n.EFF(170,"Hospital"),n.k0s(),n.j41(171,"option",70),n.EFF(172,"Adult Family Home"),n.k0s(),n.j41(173,"option",71),n.EFF(174,"Senior Living"),n.k0s(),n.j41(175,"option",16),n.EFF(176,"Other"),n.k0s()()(),n.j41(177,"div",3)(178,"label",72),n.EFF(179,"Target move in date *"),n.k0s(),n.nrm(180,"input",73),n.k0s(),n.j41(181,"div",3)(182,"label",74),n.EFF(183,"Would you like a summary of disclosures of our rates and services, including itemized services?"),n.k0s(),n.j41(184,"select",75)(185,"option",38),n.EFF(186,"Yes"),n.k0s(),n.j41(187,"option",39),n.EFF(188,"No"),n.k0s()()(),n.j41(189,"div",3)(190,"label",76),n.EFF(191,"Do you have any questions for us?"),n.k0s(),n.nrm(192,"textarea",77),n.k0s(),n.j41(193,"button",78),n.EFF(194,"Submit"),n.k0s()()()}if(2&_){const l=n.XpG();n.R7$(1),n.Y8G("layoutType",l.business.theme.themeType),n.R7$(1),n.Y8G("formGroup",l.intakeForm),n.R7$(191),n.Y8G("disabled",l.intakeForm.invalid)}}let o_=(()=>{class _{constructor(l,p,T,V,ne,le,Fe){this.fb=l,this.intakeService=p,this.businessDataService=T,this.emailService=V,this.metaService=ne,this.router=le,this.route=Fe,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",oi.k0.required],email:["",[oi.k0.required,oi.k0.email]],phoneNumber:["",oi.k0.required],referralSource:["",oi.k0.required],relationToResident:[""],residentName:["",oi.k0.required],age:["",oi.k0.required],gender:["",oi.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.route.snapshot.queryParamMap.get("id")&&window.history.replaceState({},"",this.router.url.split("?")[0]),this.businessDataService.businessData$.subscribe(p=>{this.business=p,p?.id&&(this.metaService.loadAndApplyMeta(p?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const l=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(l,this.businessId).subscribe(T=>{console.log("Intake form saved successfully!",T)},T=>{console.error("Error saving intake form:",T)});const p={name:l.name,email:l.email,message:this.generateEmailMessage(l),website:window.location.hostname};this.emailService.sendEmail(p).subscribe(T=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},T=>{console.error("Error sending email",T),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(l){return`\n      Name: ${l.name}\n      Email: ${l.email}\n      Phone Number: ${l.phoneNumber}\n      Referral Source: ${l.referralSource}\n      Relation to Resident: ${l.relationToResident}\n      Resident Name: ${l.residentName}\n      Age: ${l.age}\n      Gender: ${l.gender}\n      Medical History: ${l.medicalHistory}\n      Height: ${l.height}\n      Weight: ${l.weight}\n      Reason for Moving: ${l.reasonForMoving}\n      RN Assessment: ${l.rnAssessment}\n      Eating: ${l.eating}\n      Personal Hygiene: ${l.personalHygiene}\n      Bathing: ${l.bathing}\n      Toileting: ${l.toileting}\n      Mobility: ${l.mobility}\n      Transfers: ${l.transfers}\n      Medication Assistance: ${l.medicationAssistance}\n      Memory Issues: ${l.memoryIssues}\n      Behavior: ${l.behavior}\n      Skin Condition: ${l.skinCondition}\n      Additional Info: ${l.additionalInfo}\n      Current Living Situation: ${l.currentLivingSituation}\n      Target Move-In Date: ${l.targetMoveInDate}\n      Disclosure Summary: ${l.disclosureSummary}\n      Questions: ${l.questions}\n    `}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(oi.ok),n.rXU(wp),n.rXU(Nt.A),n.rXU(pc),n.rXU(un.R),n.rXU(oe.Ix),n.rXU(oe.nX))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-resident-intake-form"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"layoutType"],[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(p,T){1&p&&n.DNE(0,Jh,195,3,"div",0),2&p&&n.Y8G("ngIf",T.business)},dependencies:[Re.bT,oi.qT,oi.xH,oi.y7,oi.me,oi.Q0,oi.wz,oi.BC,oi.cb,oi.j4,oi.JD,Wn],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return _})();var Zh=O(6661);function a_(_,u){1&_&&n.nrm(0,"div",9)}function _c(_,u){1&_&&(n.j41(0,"p",10),n.EFF(1,"Loading Google Reviews..."),n.k0s())}function Ay(_,u){if(1&_&&n.nrm(0,"img",22),2&_){const l=n.XpG().$implicit;n.FS9("alt",l.name),n.Y8G("src",l.photoURL,n.B4B)}}function Hg(_,u){if(1&_&&(n.j41(0,"div",23),n.EFF(1),n.k0s()),2&_){const l=n.XpG().$implicit;n.R7$(1),n.SpI(" ",l.name.charAt(0).toUpperCase()," ")}}function l_(_,u){if(1&_&&(n.j41(0,"p",24),n.EFF(1),n.k0s()),2&_){const l=n.XpG().$implicit;n.R7$(1),n.SpI(" ",l.quote," ")}}function zg(_,u){if(1&_&&n.nrm(0,"p",25),2&_){const l=n.XpG().$implicit;n.Y8G("innerHTML",l.quote,n.npT)}}function c_(_,u){1&_&&(n.j41(0,"div",26),n.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),n.k0s())}const yc=function(_){return{"full-width":_}};function qd(_,u){if(1&_&&(n.j41(0,"div",11)(1,"div",12),n.DNE(2,Ay,1,2,"img",13),n.DNE(3,Hg,2,1,"ng-template",null,14,n.C5r),n.k0s(),n.j41(5,"blockquote",15)(6,"div",16),n.EFF(7,"\u201c"),n.k0s(),n.DNE(8,l_,2,1,"p",17),n.DNE(9,zg,1,1,"p",18),n.k0s(),n.j41(10,"div",12)(11,"div")(12,"p",19),n.EFF(13),n.k0s(),n.j41(14,"p",20),n.EFF(15),n.k0s(),n.DNE(16,c_,2,0,"div",21),n.k0s()()()),2&_){const l=u.$implicit,p=n.sdS(4);n.Y8G("ngClass",n.eq3(8,yc,l.rawQuote.length>1e3)),n.R7$(2),n.Y8G("ngIf",l.photoURL)("ngIfElse",p),n.R7$(6),n.Y8G("ngIf",l.isGoogle),n.R7$(1),n.Y8G("ngIf",!l.isGoogle),n.R7$(4),n.JRh(l.name),n.R7$(2),n.JRh(l.relationship),n.R7$(1),n.Y8G("ngIf",l.isGoogle)}}function Wg(_,u){if(1&_&&(n.j41(0,"a",27),n.EFF(1," Leave us a Google Review "),n.k0s()),2&_){const l=n.XpG();n.Y8G("href",l.googleReviewLink,n.B4B)}}function Ap(_,u){1&_&&(n.j41(0,"div"),n.nrm(1,"img",19),n.k0s())}function Kg(_,u){1&_&&n.nrm(0,"div",20)}const Zu=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Te.B},{path:"about-us",component:gt},{path:"services",component:yr},{path:"contact-us",component:Qu},{path:"gallery",component:$g},{path:"login",component:Ip},{path:"resident-form",component:o_},{path:"testimonials",component:(()=>{class _{constructor(l,p,T,V,ne){this.businessDataService=l,this.metaService=p,this.googleMapsLoader=T,this.sanitizer=V,this.route=ne,this.testimonials=[],this.themeType=null,this.business=null,this.googleReviewsLoading=!0}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{l?(this.business=l,this.loadData()):this.route.queryParams.subscribe(p=>{const T=p.id;T&&this.businessDataService.loadBusinessData(T).subscribe(V=>{V&&(this.business=V,this.loadData())})})})}loadData(){this.loadTestimonials(),"0"!==this.business?.placeId&&this.loadGoogleReviews()}loadTestimonials(){this.businessDataService.loadBusinessData(this.business?.id||"").subscribe(l=>{if(l&&l.testimonials){const p=l.testimonials.map(T=>({...T,relationship:"Testimonial",rawQuote:T.quote,quote:this.sanitizeHtml(T.quote),isGoogle:!1}));this.testimonials=[...this.testimonials,...p]}})}loadGoogleReviews(){this.business?.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.business?.placeId,fields:["reviews"]},(p,T)=>{if(this.googleReviewsLoading=!1,T===google.maps.places.PlacesServiceStatus.OK){const V=p?.reviews?.map(ne=>({name:ne.author_name,quote:ne.text,rawQuote:ne.text,relationship:"Google Review",isGoogle:!0,photoURL:ne.profile_photo_url||null}))||[];this.testimonials=[...V,...this.testimonials]}else console.error("Error fetching Google reviews:",T)})}):console.error("Place ID is required to fetch Google reviews.")}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.business?.placeId}`}sanitizeHtml(l){return this.sanitizer.bypassSecurityTrustHtml(l)}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(Nt.A),n.rXU(un.R),n.rXU(Zh.L),n.rXU(ie.up),n.rXU(oe.nX))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-testimonials-list"]],decls:12,vars:4,consts:[[1,"testimonial-section"],[1,"section-title"],[1,"section-description"],["class","spinner",4,"ngIf"],["class","loading-text",4,"ngIf"],[1,"testimonial-grid"],["class","testimonial-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"googleReviewLink"],["target","_blank","class","afhBtn",3,"href",4,"ngIf"],[1,"spinner"],[1,"loading-text"],[1,"testimonial-card",3,"ngClass"],[1,"author-info"],["class","author-photo",3,"src","alt",4,"ngIf","ngIfElse"],["fallbackAvatar",""],[1,"testimonial-quote"],[1,"quote-icon"],["class","quote-text-page",4,"ngIf"],["class","quote-text-page",3,"innerHTML",4,"ngIf"],[1,"author-name"],[1,"author-role"],["class","google-stars",4,"ngIf"],[1,"author-photo",3,"src","alt"],[1,"author-photo","placeholder"],[1,"quote-text-page"],[1,"quote-text-page",3,"innerHTML"],[1,"google-stars"],["target","_blank",1,"afhBtn",3,"href"]],template:function(p,T){1&p&&(n.nrm(0,"app-hero"),n.j41(1,"div",0)(2,"h1",1),n.EFF(3,"What Clients Say"),n.k0s(),n.j41(4,"p",2),n.EFF(5," We place huge value on strong relationships and have seen the benefit they bring to our business. Customer feedback is vital in helping us to get it right. "),n.k0s(),n.DNE(6,a_,1,0,"div",3),n.DNE(7,_c,2,0,"p",4),n.j41(8,"div",5),n.DNE(9,qd,17,10,"div",6),n.k0s()(),n.j41(10,"div",7),n.DNE(11,Wg,2,1,"a",8),n.k0s()),2&p&&(n.R7$(6),n.Y8G("ngIf",T.googleReviewsLoading&&"0"!=(null==T.business?null:T.business.placeId)),n.R7$(1),n.Y8G("ngIf",T.googleReviewsLoading&&"0"!=(null==T.business?null:T.business.placeId)),n.R7$(2),n.Y8G("ngForOf",T.testimonials),n.R7$(2),n.Y8G("ngIf","0"!=(null==T.business?null:T.business.placeId)))},dependencies:[Re.YU,Re.Sq,Re.bT,Wn],styles:['.testimonial-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:80px 20px;text-align:center;background-color:var(--background-color)}.section-subtitle[_ngcontent-%COMP%]{letter-spacing:1px}.section-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-top:10px}.section-description[_ngcontent-%COMP%]{font-size:16px;color:#444;max-width:700px;margin:20px auto 40px;line-height:1.6}.testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem}.testimonial-card.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.testimonial-grid[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center}.testimonial-card[_ngcontent-%COMP%]{background-color:#f7f7f7;border-radius:16px;padding:30px 20px;box-shadow:0 4px 12px #0000000d;transition:box-shadow .3s ease}.testimonial-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #0000001a}.testimonial-avatar[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 20px;border-radius:50%;overflow:hidden;border:4px solid #fff;box-shadow:0 2px 6px #0000001a}.testimonial-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:#333;font-size:15px;position:relative;padding:0 20px;font-size:.9rem}.testimonial-quote[_ngcontent-%COMP%]:before{content:"";font-size:28px;color:#999;position:absolute;left:10px;top:-10px}.testimonial-author[_ngcontent-%COMP%]{margin-top:20px}.quote-text-page[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.3;margin-bottom:2rem;max-width:1024px;text-align:left}.author-name[_ngcontent-%COMP%]{font-weight:700;color:var(--dark-background-color);margin-bottom:4px}.author-role[_ngcontent-%COMP%]{color:#777;font-size:14px}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #555;border-radius:50%;width:36px;height:36px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:1rem auto}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;color:#666}.googleReviewLink[_ngcontent-%COMP%]{text-align:center;margin:0 auto}']})}}return _})()},{path:"faq",component:Kh.C},{path:"location",component:(()=>{class _{constructor(l,p,T,V){this.route=l,this.businessDataService=p,this.googleMapsLoader=T,this.router=V,this.business=null,this.location=null,this.layoutType="demo",this.locationIndex=null,this.useMockMap=eu.c.useMockGoogleMap}ngOnInit(){this.route.queryParams.subscribe(l=>{this.locationIndex=Number(l.locationIndex),l.locationIndex&&this.router.navigate([],{relativeTo:this.route,queryParams:{},replaceUrl:!0}),null!==this.locationIndex&&this.businessDataService.getBusinessId().pipe((0,Ae.n)(p=>p?this.businessDataService.loadBusinessData(p):[])).subscribe(p=>{p&&(this.business=p,this.loadBusinessData())})})}loadBusinessData(){this.businessDataService.getBusinessId().pipe((0,Ae.n)(l=>l?this.businessDataService.loadBusinessData(l):[])).subscribe(l=>{l?(console.log("\u2705 Business Data Loaded:",l),this.business=l,this.layoutType=l.theme?.themeType,console.log("\u{1f4cd} Locations in Business Data:",l.locations),console.log("\u{1f522} Requested Location Index:",this.locationIndex),this.businessDataService.getLocations().subscribe(p=>{p&&this.locationIndex<p.length?(this.location=p[this.locationIndex],console.log("\u2705 Loaded Firestore Location:",this.location),this.loadMap()):console.error("\u274c Location index is out of range. Available Firestore locations:",p.length)})):console.error("\u274c Business data is null.")})}loadMap(){this.useMockMap?console.log("Mock map mode: displaying static map image."):this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.showAddressOnMap(`${this.location.street}, ${this.location.city}, ${this.location.state} ${this.location.zipcode}`)}).catch(l=>{console.error("Error loading Google Maps script:",l)})}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(l){this.geocoder.geocode({address:l},(p,T)=>{"OK"===T?(this.map.setCenter(p[0].geometry.location),this.map.setZoom(12),new google.maps.Marker({map:this.map,position:p[0].geometry.location})):console.error("Geocode was not successful: "+T)})}navigateTo(l){this.router.navigate(["/"+l],{queryParams:{id:this.business?.id}})}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(oe.nX),n.rXU(Nt.A),n.rXU(Zh.L),n.rXU(oe.Ix))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-location-page"]],decls:52,vars:19,consts:[[3,"layoutType"],[1,"location-page-container",2,"text-align","left"],[1,"row"],[1,"col","location-details"],[1,"location-contact-details"],[1,"fa-solid","fa-map-location-dot"],[1,"fa-solid","fa-envelope"],[1,"fa-solid","fa-phone"],[1,"fa-solid","fa-fax"],["data-item","block-link",1,"map--open-maps-link"],["target","_blank","rel","noreferrer","aria-label","Open in maps",3,"href"],[1,"map-hours"],[3,"href","title"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],[1,"col"],[3,"src"],[4,"ngIf","ngIfElse"],["liveMap",""],["src","../../../../assets/sharedAssets/mock-map.png","alt","Static Map Preview"],["id","map",1,"map-container"]],template:function(p,T){if(1&p&&(n.nrm(0,"app-hero",0),n.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),n.EFF(5),n.k0s(),n.j41(6,"div",4)(7,"p"),n.nrm(8,"i",5),n.j41(9,"strong"),n.EFF(10,"Address:"),n.k0s(),n.EFF(11),n.k0s(),n.j41(12,"p"),n.nrm(13,"i",6),n.j41(14,"strong"),n.EFF(15,"Email:"),n.k0s(),n.EFF(16),n.k0s(),n.j41(17,"p"),n.nrm(18,"i",7),n.j41(19,"strong"),n.EFF(20,"Phone:"),n.k0s(),n.EFF(21),n.k0s(),n.j41(22,"p"),n.nrm(23,"i",8),n.j41(24,"strong"),n.EFF(25,"Fax:"),n.k0s(),n.EFF(26),n.k0s()(),n.j41(27,"div",9)(28,"a",10),n.EFF(29," Open in maps "),n.k0s()(),n.j41(30,"div",11)(31,"p"),n.EFF(32," Monday - Friday"),n.nrm(33,"br"),n.EFF(34,"9am - 5pm"),n.nrm(35,"br")(36,"br")(37,"br"),n.EFF(38," Call to schedule an appointment "),n.j41(39,"a",12),n.EFF(40),n.k0s(),n.EFF(41),n.k0s()(),n.j41(42,"div",13)(43,"button",14),n.bIt("click",function(){return T.navigateTo("contact-us")}),n.EFF(44," Contact Us "),n.k0s()()(),n.j41(45,"div",15),n.nrm(46,"img",16),n.k0s()(),n.j41(47,"div",2)(48,"div",15),n.DNE(49,Ap,2,0,"div",17),n.DNE(50,Kg,1,0,"ng-template",null,18,n.C5r),n.k0s()()()),2&p){const V=n.sdS(51);n.Y8G("layoutType","prestige"),n.R7$(5),n.JRh((null==T.location?null:T.location.locationName)||"Location"),n.R7$(6),n.LHq(" ",null==T.location?null:T.location.street,", ",null==T.location?null:T.location.city,", ",null==T.location?null:T.location.state," ",null==T.location?null:T.location.zipcode," "),n.R7$(5),n.SpI(" ",null==T.location?null:T.location.email," "),n.R7$(5),n.SpI(" ",null==T.location?null:T.location.phone," "),n.R7$(5),n.SpI(" ",null==T.location?null:T.location.fax," "),n.R7$(2),n.yjJ("href","https://google.com/maps/place/'",T.location.street,"+",T.location.city,"+",T.location.zipcode,"'",n.B4B),n.R7$(11),n.Mz_("href","tel:",null==T.location?null:T.location.phone,"",n.B4B)("title","tel:",null==T.location?null:T.location.phone,""),n.R7$(1),n.SpI("",null==T.location?null:T.location.phone,","),n.R7$(1),n.SpI(" text us at: ",null==T.location?null:T.location.phone," "),n.R7$(5),n.FS9("src",null==T.location?null:T.location.image,n.B4B),n.R7$(3),n.Y8G("ngIf",T.useMockMap)("ngIfElse",V)}},dependencies:[Re.bT,Wn]})}}return _})()},{path:"login",component:Ip},{path:"admin",loadChildren:()=>O.e(506).then(O.bind(O,4506)).then(_=>_.AdminModule)},{path:":id",component:Te.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Ry=(()=>{class _{static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275mod=n.$C({type:_})}static{this.\u0275inj=n.G2t({imports:[oe.iI.forRoot(Zu),oe.iI]})}}return _})();var ef=O(5009);function d_(_,u){if(1&_&&n.nrm(0,"img",12),2&_){const l=n.XpG();n.Y8G("src",null==l.business?null:l.business.logoImage,n.B4B)}}function Yd(_,u){1&_&&(n.j41(0,"li",18),n.EFF(1,"No locations available"),n.k0s())}function tf(_,u){if(1&_){const l=n.RV6();n.j41(0,"li",18)(1,"span",19),n.bIt("click",function(){const V=n.eBV(l).index,ne=n.XpG(2);return n.Njj(ne.selectLocation(V))}),n.EFF(2),n.k0s()()}if(2&_){const l=u.$implicit;n.R7$(2),n.JRh(l.locationName||"Unknown City")}}function Ba(_,u){if(1&_){const l=n.RV6();n.j41(0,"li",13)(1,"span",14),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.toggleDropdown(0))}),n.EFF(2," Locations "),n.k0s(),n.j41(3,"ul",15),n.DNE(4,Yd,2,0,"li",16),n.DNE(5,tf,3,1,"li",17),n.k0s()()}if(2&_){const l=n.XpG();n.R7$(3),n.AVh("show",0===l.expandedDropdownIndex),n.R7$(1),n.Y8G("ngIf",0===l.locations.length),n.R7$(1),n.Y8G("ngForOf",l.locations)}}function nf(_,u){if(1&_){const l=n.RV6();n.j41(0,"li",8)(1,"span",9),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(2,"Our Home"),n.k0s()()}}function h_(_,u){if(1&_){const l=n.RV6();n.j41(0,"li",8)(1,"span",9),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(2,"Our Work"),n.k0s()()}}function f_(_,u){if(1&_){const l=n.RV6();n.j41(0,"li",8)(1,"span",9),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("resident-form"))}),n.EFF(2,"Resident Form"),n.k0s()()}}const p_=function(_){return{"clemo-shrink":_}},g_=function(){return["/home"]},m_=function(_){return{id:_}},xy=function(_){return{"clemo-show":_}};let rf=(()=>{class _{constructor(l,p,T){this.route=l,this.router=p,this.businessDataService=T,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1,this.locationsOpen=!1,this.selectedLocation=null,this.expandedDropdownIndex=null}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}),this.businessDataService.getLocations().subscribe(p=>{this.locations=p}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(l){const p=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:p}).then(T=>{T||console.error("Navigation failed!")})}toggleDropdown(l){this.expandedDropdownIndex=this.expandedDropdownIndex===l?null:l}selectLocation(l){const p={locationIndex:l};this.businessId&&(p.id=this.businessId),this.router.navigate(["/location"],{queryParams:p}).then(T=>{T?this.closeMenu():console.error("\u274c Navigation failed!")})}toggleLocations(){this.locationsOpen=!this.locationsOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(oe.nX),n.rXU(oe.Ix),n.rXU(Nt.A))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-expandable-navigation"]],hostBindings:function(p,T){1&p&&n.bIt("scroll",function(){return T.onWindowScroll()},!1,n.tSv)},decls:24,vars:16,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-linkitem"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-linkitem dropdown",4,"ngIf"],["class","clemo-nav-linkitem",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"],[1,"clemo-nav-linkitem","dropdown"],[1,"clemo-nav-link","dropdown-toggle",3,"click"],[1,"dropdown-menu"],["class","dropdown-item",4,"ngIf"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"dropdown-item"],[3,"click"]],template:function(p,T){1&p&&(n.j41(0,"nav",0)(1,"div",1)(2,"a",2),n.DNE(3,d_,1,1,"img",3),n.k0s(),n.j41(4,"button",4),n.bIt("click",function(){return T.toggleMenu()}),n.nrm(5,"span",5),n.k0s(),n.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),n.bIt("click",function(){return T.navigateTo("home")}),n.EFF(10,"Home"),n.k0s()(),n.DNE(11,Ba,6,4,"li",10),n.j41(12,"li",8)(13,"span",9),n.bIt("click",function(){return T.navigateTo("about-us")}),n.EFF(14,"About Us"),n.k0s()(),n.j41(15,"li",8)(16,"span",9),n.bIt("click",function(){return T.navigateTo("services")}),n.EFF(17,"Services"),n.k0s()(),n.DNE(18,nf,3,0,"li",11),n.DNE(19,h_,3,0,"li",11),n.DNE(20,f_,3,0,"li",11),n.j41(21,"li",8)(22,"span",9),n.bIt("click",function(){return T.navigateTo("contact-us")}),n.EFF(23,"Contact"),n.k0s()()()()()()),2&p&&(n.Y8G("ngClass",n.eq3(9,p_,T.isShrunk)),n.R7$(2),n.Y8G("routerLink",n.lJ4(11,g_))("queryParams",n.eq3(12,m_,T.businessId)),n.R7$(1),n.Y8G("ngIf",null==T.business?null:T.business.logoImage),n.R7$(3),n.Y8G("ngClass",n.eq3(14,xy,T.menuOpen)),n.R7$(5),n.Y8G("ngIf",T.locations.length>1),n.R7$(7),n.Y8G("ngIf","sb"!=T.layoutType),n.R7$(1),n.Y8G("ngIf","sb"==T.layoutType),n.R7$(1),n.Y8G("ngIf","sb"!=T.layoutType))},dependencies:[Re.YU,Re.Sq,Re.bT,oe.Wk]})}}return _})();function sf(_,u){if(1&_&&n.nrm(0,"img",13),2&_){const l=n.XpG(2);n.Y8G("src",null==l.business?null:l.business.logoImage,n.B4B)}}const af=function(){return["/home"]},ru=function(_){return{id:_}},ed=function(_){return{"open-bar1":_}},lf=function(_){return{"open-bar2":_}},vc=function(_){return{"open-bar3":_}},cf=function(_){return{active:_}};function qg(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),n.DNE(5,sf,1,1,"img",6),n.k0s()(),n.j41(6,"div",7),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.toggleMenu())}),n.nrm(7,"div",8)(8,"div",9)(9,"div",10),n.k0s(),n.j41(10,"ul",11)(11,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("home"))}),n.EFF(12,"Home"),n.k0s(),n.j41(13,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("services"))}),n.EFF(14,"Services"),n.k0s(),n.j41(15,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("about-us"))}),n.EFF(16,"About Us"),n.k0s(),n.j41(17,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(18,"Our Home"),n.k0s(),n.j41(19,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("contact-us"))}),n.EFF(20,"Contact"),n.k0s()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(4),n.Y8G("routerLink",n.lJ4(7,af))("queryParams",n.eq3(8,ru,l.businessId)),n.R7$(1),n.Y8G("ngIf",null==l.business?null:l.business.logoImage),n.R7$(2),n.Y8G("ngClass",n.eq3(10,ed,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(12,lf,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(14,vc,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(16,cf,l.menuOpen))}}function Yg(_,u){if(1&_&&n.nrm(0,"img",13),2&_){const l=n.XpG(2);n.Y8G("src",null==l.business?null:l.business.logoImage,n.B4B)}}const Wl=function(){return["/contact-us"]};function Sp(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),n.DNE(5,Yg,1,1,"img",6),n.k0s()(),n.j41(6,"div",7),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.toggleMenu())}),n.nrm(7,"div",8)(8,"div",9)(9,"div",10),n.k0s(),n.j41(10,"ul",11)(11,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("home"))}),n.EFF(12,"Home"),n.k0s(),n.j41(13,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("services"))}),n.EFF(14,"Services"),n.k0s(),n.j41(15,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("about-us"))}),n.EFF(16,"About Us"),n.k0s(),n.j41(17,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(18,"Our Home"),n.k0s(),n.j41(19,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("testimonials"))}),n.EFF(20,"Testimonials"),n.k0s(),n.j41(21,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("contact-us"))}),n.EFF(22,"Contact"),n.k0s(),n.j41(23,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("resident-form"))}),n.EFF(24,"Resident Form"),n.k0s()(),n.j41(25,"div",4)(26,"a",5)(27,"button",15),n.EFF(28,"Schedule a Visit"),n.k0s()()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(4),n.Y8G("routerLink",n.lJ4(9,af))("queryParams",n.eq3(10,ru,l.businessId)),n.R7$(1),n.Y8G("ngIf",null==l.business?null:l.business.logoImage),n.R7$(2),n.Y8G("ngClass",n.eq3(12,ed,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(14,lf,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(16,vc,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(18,cf,l.menuOpen)),n.R7$(16),n.Y8G("routerLink",n.lJ4(20,Wl))("queryParams",n.eq3(21,ru,l.businessId))}}function Xg(_,u){1&_&&(n.qex(0),n.nrm(1,"app-expandable-navigation"),n.bVm())}function Py(_,u){1&_&&(n.qex(0),n.nrm(1,"app-expandable-navigation"),n.bVm())}function td(_,u){if(1&_&&n.nrm(0,"img",13),2&_){const l=n.XpG(2);n.Y8G("src",null==l.business?null:l.business.logoImage,n.B4B)}}function Qg(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"nav",16)(2,"div",3)(3,"div",4)(4,"a",5),n.DNE(5,td,1,1,"img",6),n.k0s()(),n.j41(6,"div",7),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.toggleMenu())}),n.nrm(7,"div",8)(8,"div",9)(9,"div",10),n.k0s(),n.j41(10,"ul",11)(11,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.scrollToSection("home"))}),n.EFF(12,"Home"),n.k0s(),n.j41(13,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.scrollToSection("services"))}),n.EFF(14,"Services"),n.k0s(),n.j41(15,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.scrollToSection("about-us"))}),n.EFF(16,"About Us"),n.k0s(),n.j41(17,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.scrollToSection("gallery"))}),n.EFF(18,"Our Home"),n.k0s(),n.j41(19,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.scrollToSection("contact-us"))}),n.EFF(20,"Contact"),n.k0s()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(4),n.Y8G("routerLink",n.lJ4(7,af))("queryParams",n.eq3(8,ru,l.businessId)),n.R7$(1),n.Y8G("ngIf",null==l.business?null:l.business.logoImage),n.R7$(2),n.Y8G("ngClass",n.eq3(10,ed,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(12,lf,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(14,vc,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(16,cf,l.menuOpen))}}function My(_,u){1&_&&(n.qex(0),n.nrm(1,"app-expandable-navigation"),n.bVm())}function Dp(_,u){if(1&_&&n.nrm(0,"img",13),2&_){const l=n.XpG(2);n.Y8G("src",null==l.business?null:l.business.logoImage,n.B4B)}}function __(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),n.DNE(5,Dp,1,1,"img",6),n.k0s()(),n.j41(6,"div",7),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.toggleMenu())}),n.nrm(7,"div",8)(8,"div",9)(9,"div",10),n.k0s(),n.j41(10,"ul",11)(11,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("home"))}),n.EFF(12,"Home"),n.k0s(),n.j41(13,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("services"))}),n.EFF(14,"Services"),n.k0s(),n.j41(15,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("about-us"))}),n.EFF(16,"About Us"),n.k0s(),n.j41(17,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(18,"gallery"),n.k0s(),n.j41(19,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("contact-us"))}),n.EFF(20,"Contact"),n.k0s(),n.j41(21,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("resident-form"))}),n.EFF(22,"Intake Form"),n.k0s()(),n.j41(23,"div",4)(24,"a",5)(25,"button",15),n.EFF(26,"Schedule a Visit"),n.k0s()()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(4),n.Y8G("routerLink",n.lJ4(9,af))("queryParams",n.eq3(10,ru,l.businessId)),n.R7$(1),n.Y8G("ngIf",null==l.business?null:l.business.logoImage),n.R7$(2),n.Y8G("ngClass",n.eq3(12,ed,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(14,lf,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(16,vc,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(18,cf,l.menuOpen)),n.R7$(14),n.Y8G("routerLink",n.lJ4(20,Wl))("queryParams",n.eq3(21,ru,l.businessId))}}let Oy=(()=>{class _{constructor(l,p,T){this.route=l,this.router=p,this.businessDataService=T,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}))})}navigateTo(l){const p=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:p}).then(T=>{T||console.error("Navigation failed!")})}scrollToSection(l){const p=document.getElementById(l);p&&p.scrollIntoView({behavior:"smooth",block:"start"}),this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(oe.nX),n.rXU(oe.Ix),n.rXU(Nt.A))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-navigation"]],decls:8,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"],[1,"navbar_sp"]],template:function(p,T){1&p&&(n.j41(0,"div",0),n.DNE(1,qg,21,18,"ng-container",1),n.DNE(2,Sp,29,23,"ng-container",1),n.DNE(3,Xg,2,0,"ng-container",1),n.DNE(4,Py,2,0,"ng-container",1),n.DNE(5,Qg,21,18,"ng-container",1),n.DNE(6,My,2,0,"ng-container",1),n.DNE(7,__,27,23,"ng-container",1),n.k0s()),2&p&&(n.Y8G("ngSwitch",T.layoutType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(1),n.Y8G("ngSwitchCase","sp"),n.R7$(1),n.Y8G("ngSwitchCase","prestige"),n.R7$(1),n.Y8G("ngSwitchCase","demo"))},dependencies:[Re.YU,Re.bT,Re.ux,Re.e1,oe.Wk,rf],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;max-width:var(--site-max-width);margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 1081px){.navbar_[_ngcontent-%COMP%]{max-width:100vw}.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.nav-item[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;padding:0}.ae-navbar-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .afhBtn[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;max-width:100vw;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return _})();function Ny(_,u){if(1&_&&(n.qex(0),n.j41(1,"footer",4)(2,"div",5)(3,"h2",6),n.EFF(4),n.k0s(),n.nrm(5,"hr",7),n.j41(6,"div",8)(7,"div",9)(8,"h3",10),n.EFF(9,"Location:"),n.k0s(),n.j41(10,"address"),n.EFF(11),n.k0s()(),n.j41(12,"div",9)(13,"h3",10),n.EFF(14),n.k0s(),n.j41(15,"p"),n.EFF(16,"Email: "),n.j41(17,"a",11),n.EFF(18),n.k0s()(),n.j41(19,"p"),n.EFF(20,"Phone: "),n.j41(21,"a",11),n.EFF(22),n.k0s()()(),n.j41(23,"div",9)(24,"h3",10),n.EFF(25),n.k0s(),n.j41(26,"p"),n.EFF(27,"Email: "),n.j41(28,"a",11),n.EFF(29),n.k0s()(),n.j41(30,"p"),n.EFF(31,"Phone: "),n.j41(32,"a",11),n.EFF(33),n.k0s()()()()(),n.j41(34,"div",12)(35,"div",13)(36,"div",14)(37,"p"),n.EFF(38,"DESIGNED BY "),n.j41(39,"a",15),n.EFF(40,"SB MEDIA HUB"),n.k0s()()(),n.j41(41,"div",16)(42,"p"),n.EFF(43," \xa9 Copyright 2025. All rights reserved."),n.k0s()()()()(),n.bVm()),2&_){const l=n.XpG();n.R7$(4),n.JRh(null==l.business?null:l.business.businessName),n.R7$(7),n.SpI(" ",null==l.business?null:l.business.address," "),n.R7$(3),n.SpI("Provider:",null==l.business?null:l.business.providerName,""),n.R7$(3),n.Mz_("href","mailto:",null==l.business?null:l.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==l.business?null:l.business.email,""),n.R7$(3),n.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==l.business?null:l.business.phone),n.R7$(3),n.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),n.R7$(3),n.Mz_("href","mailto:",null==l.business?null:l.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==l.business?null:l.business.email,""),n.R7$(3),n.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==l.business?null:l.business.phone)}}function Fy(_,u){if(1&_&&(n.qex(0),n.j41(1,"footer",17)(2,"div",18)(3,"div",19),n.nrm(4,"hr",20),n.j41(5,"h2",21),n.EFF(6),n.k0s(),n.nrm(7,"hr",20),n.k0s(),n.j41(8,"div",22)(9,"div",23)(10,"h3",24),n.EFF(11,"Owner:"),n.k0s(),n.j41(12,"p"),n.EFF(13),n.k0s()(),n.j41(14,"div",23)(15,"h3",24),n.EFF(16,"Location:"),n.k0s(),n.j41(17,"p"),n.EFF(18),n.k0s()(),n.j41(19,"div",23)(20,"h3",24),n.EFF(21,"Provider:"),n.k0s(),n.j41(22,"p"),n.EFF(23),n.k0s(),n.j41(24,"p"),n.EFF(25,"Email: "),n.j41(26,"a",11),n.EFF(27),n.k0s()(),n.j41(28,"p"),n.EFF(29,"Phone: "),n.j41(30,"a",11),n.EFF(31),n.k0s()()()(),n.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"p"),n.EFF(36,"DESIGNED BY "),n.j41(37,"a",15),n.EFF(38,"SB MEDIA HUB"),n.k0s()()(),n.j41(39,"div",16)(40,"p"),n.EFF(41),n.k0s()()()()()(),n.bVm()),2&_){const l=n.XpG();n.R7$(6),n.JRh(null==l.business?null:l.business.businessName),n.R7$(7),n.JRh(null==l.business?null:l.business.providerName),n.R7$(5),n.JRh(null==l.business?null:l.business.address),n.R7$(5),n.JRh(null==l.business?null:l.business.providerName),n.R7$(3),n.Mz_("href","mailto:",null==l.business?null:l.business.email,"",n.B4B),n.R7$(1),n.JRh(null==l.business?null:l.business.email),n.R7$(3),n.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==l.business?null:l.business.phone),n.R7$(10),n.Lme("\xa9 ",2024," ",null==l.business?null:l.business.businessName,". All rights reserved.")}}function ky(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"footer",25)(2,"div",26)(3,"nav",27)(4,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("home"))}),n.EFF(5,"HOME"),n.k0s(),n.j41(6,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("about-us"))}),n.EFF(7,"ABOUT US"),n.k0s(),n.j41(8,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("services"))}),n.EFF(9,"SERVICES"),n.k0s(),n.j41(10,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(11,"OUR HOME"),n.k0s(),n.j41(12,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("testimonials"))}),n.EFF(13,"TESTIMONIALS"),n.k0s(),n.j41(14,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("resident-form"))}),n.EFF(15,"RESIDENT FORM"),n.k0s(),n.j41(16,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("contact-us"))}),n.EFF(17,"CONTACT"),n.k0s()()(),n.j41(18,"div",29)(19,"div",30),n.nrm(20,"img",31),n.k0s(),n.j41(21,"h4",32),n.EFF(22),n.k0s()(),n.j41(23,"div",33)(24,"div",34)(25,"h4",32),n.EFF(26,"Address"),n.k0s(),n.j41(27,"p"),n.EFF(28),n.k0s()(),n.j41(29,"div",35)(30,"h4",32),n.EFF(31,"Contact Us"),n.k0s(),n.j41(32,"p"),n.EFF(33),n.nrm(34,"br"),n.EFF(35,"Email: "),n.j41(36,"a",11),n.EFF(37),n.k0s()()(),n.j41(38,"div",36)(39,"h4",32),n.EFF(40,"Provider"),n.k0s(),n.j41(41,"p"),n.EFF(42),n.k0s()()(),n.j41(43,"div",12)(44,"div",37)(45,"div",38)(46,"p"),n.EFF(47,"DESIGNED BY "),n.j41(48,"a",15),n.EFF(49,"SB MEDIA HUB"),n.k0s()()(),n.j41(50,"div",39)(51,"p"),n.EFF(52,"\xa9 Copyright 2025. All rights reserved."),n.k0s()()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(20),n.FS9("src",null==l.business?null:l.business.logoImage,n.B4B),n.R7$(2),n.JRh(null==l.business?null:l.business.businessName),n.R7$(6),n.JRh(null==l.business?null:l.business.address),n.R7$(5),n.SpI("Phone:",null==l.business?null:l.business.phone,""),n.R7$(3),n.Mz_("href","mailto:",null==l.business?null:l.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==l.business?null:l.business.email,""),n.R7$(5),n.JRh(null==l.business?null:l.business.providerName)}}function y_(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"footer",25)(2,"div",33)(3,"div",29),n.nrm(4,"img",31),n.j41(5,"h4"),n.EFF(6),n.k0s(),n.j41(7,"p",35),n.EFF(8),n.k0s(),n.j41(9,"p",34),n.EFF(10),n.k0s()(),n.j41(11,"div",40)(12,"a",41),n.nrm(13,"i",42),n.k0s(),n.j41(14,"a",41),n.nrm(15,"i",43),n.k0s()(),n.j41(16,"nav",27)(17,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("home"))}),n.EFF(18,"HOME"),n.k0s(),n.j41(19,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("about-us"))}),n.EFF(20,"ABOUT US"),n.k0s(),n.j41(21,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("services"))}),n.EFF(22,"SERVICES"),n.k0s(),n.j41(23,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(24,"OUR HOME"),n.k0s(),n.j41(25,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("testimonials"))}),n.EFF(26,"TESTIMONIALS"),n.k0s(),n.j41(27,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("resident-form"))}),n.EFF(28,"RESIDENT FORM"),n.k0s(),n.j41(29,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("contact-us"))}),n.EFF(30,"CONTACT"),n.k0s()(),n.j41(31,"div",12)(32,"div",13)(33,"div",14)(34,"p"),n.EFF(35,"DESIGNED BY "),n.j41(36,"a",15),n.EFF(37,"SB MEDIA HUB"),n.k0s()()(),n.j41(38,"div",16)(39,"p"),n.EFF(40," \xa9 Copyright 2025. All rights reserved."),n.k0s()()()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(4),n.FS9("src",null==l.business?null:l.business.logoImage,n.B4B),n.R7$(2),n.JRh(null==l.business?null:l.business.businessName),n.R7$(2),n.JRh(null==l.business?null:l.business.phone),n.R7$(2),n.JRh(null==l.business?null:l.business.address)}}function Hv(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"footer",25)(2,"div",33)(3,"div",29),n.nrm(4,"img",31),n.j41(5,"p",35),n.EFF(6),n.k0s(),n.j41(7,"p",34),n.EFF(8),n.k0s()(),n.j41(9,"div",40)(10,"a",41),n.nrm(11,"i",42),n.k0s(),n.j41(12,"a",41),n.nrm(13,"i",43),n.k0s()(),n.j41(14,"nav",27)(15,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("home"))}),n.EFF(16,"HOME"),n.k0s(),n.j41(17,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("about-us"))}),n.EFF(18,"ABOUT US"),n.k0s(),n.j41(19,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("services"))}),n.EFF(20,"SERVICES"),n.k0s(),n.j41(21,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(22,"OUR WORK"),n.k0s(),n.j41(23,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("contact-us"))}),n.EFF(24,"CONTACT"),n.k0s()(),n.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"p"),n.EFF(29,"DESIGNED BY "),n.j41(30,"a",15),n.EFF(31,"SB MEDIA HUB"),n.k0s()()(),n.j41(32,"div",16)(33,"p"),n.EFF(34," \xa9 Copyright 2025. All rights reserved."),n.k0s()()()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(4),n.FS9("src",null==l.business?null:l.business.logoImage,n.B4B),n.R7$(2),n.JRh(null==l.business?null:l.business.phone),n.R7$(2),n.JRh(null==l.business?null:l.business.address)}}function Ly(_,u){if(1&_&&(n.qex(0),n.j41(1,"footer",4)(2,"div",5)(3,"h2",6),n.EFF(4),n.k0s(),n.nrm(5,"hr",7),n.j41(6,"div",8)(7,"div",9)(8,"h3",10),n.EFF(9,"Location:"),n.k0s(),n.j41(10,"address"),n.EFF(11),n.k0s()(),n.j41(12,"div",9)(13,"h3",10),n.EFF(14),n.k0s(),n.j41(15,"p"),n.EFF(16,"Email: "),n.j41(17,"a",11),n.EFF(18),n.k0s()(),n.j41(19,"p"),n.EFF(20,"Phone: "),n.j41(21,"a",11),n.EFF(22),n.k0s()()(),n.j41(23,"div",9)(24,"h3",10),n.EFF(25),n.k0s(),n.j41(26,"p"),n.EFF(27,"Email: "),n.j41(28,"a",11),n.EFF(29),n.k0s()(),n.j41(30,"p"),n.EFF(31,"Phone: "),n.j41(32,"a",11),n.EFF(33),n.k0s()()()()()(),n.bVm()),2&_){const l=n.XpG();n.R7$(4),n.JRh(null==l.business?null:l.business.businessName),n.R7$(7),n.SpI(" ",null==l.business?null:l.business.address," "),n.R7$(3),n.SpI("Provider:",null==l.business?null:l.business.providerName,""),n.R7$(3),n.Mz_("href","mailto:",null==l.business?null:l.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==l.business?null:l.business.email,""),n.R7$(3),n.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==l.business?null:l.business.phone),n.R7$(3),n.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),n.R7$(3),n.Mz_("href","mailto:",null==l.business?null:l.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==l.business?null:l.business.email,""),n.R7$(3),n.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==l.business?null:l.business.phone)}}function Xd(_,u){if(1&_&&(n.j41(0,"div",44)(1,"h1",45),n.EFF(2,"Debugger:"),n.k0s(),n.j41(3,"div",46)(4,"div",47)(5,"span",48),n.EFF(6,"Theme File:"),n.k0s(),n.j41(7,"span",49),n.EFF(8),n.k0s()(),n.j41(9,"div",47)(10,"span",48),n.EFF(11,"Theme Type:"),n.k0s(),n.j41(12,"span",49),n.EFF(13),n.k0s()(),n.j41(14,"div",47)(15,"span",48),n.EFF(16,"Business ID:"),n.k0s(),n.j41(17,"span",49),n.EFF(18),n.k0s()(),n.j41(19,"div",47)(20,"span",48),n.EFF(21,"Business Name:"),n.k0s(),n.j41(22,"span",49),n.EFF(23),n.k0s()(),n.j41(24,"div",47)(25,"span",48),n.EFF(26,"Environment:"),n.k0s(),n.j41(27,"span",49),n.EFF(28),n.k0s()(),n.j41(29,"div",47)(30,"span",48),n.EFF(31,"Use Mock Map:"),n.k0s(),n.j41(32,"span",49),n.EFF(33),n.k0s()(),n.j41(34,"div",47)(35,"span",48),n.EFF(36,"Use Mock Reviews:"),n.k0s(),n.j41(37,"span",49),n.EFF(38),n.k0s()()()()),2&_){const l=n.XpG();n.R7$(8),n.JRh(l.themeFileName),n.R7$(5),n.JRh(null==l.business||null==l.business.theme?null:l.business.theme.themeType),n.R7$(5),n.JRh(null==l.business?null:l.business.id),n.R7$(5),n.JRh(null==l.business?null:l.business.businessName),n.R7$(5),n.JRh(l.envName),n.R7$(5),n.JRh(l.useMockMap),n.R7$(5),n.JRh(l.useMockReviews)}}let nd=(()=>{class _{constructor(l,p,T,V,ne,le){this.route=l,this.webContentService=p,this.authService=T,this.themeService=V,this.businessDataService=ne,this.router=le,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo",this.envName=eu.c.production?"Production":"Development",this.useMockMap=eu.c.useMockGoogleMap,this.useMockReviews=eu.c.useMockGoogleReviews}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(l){this.businessDataService.getBusinessId().subscribe(p=>{const T=p||this.businessId,V=T?{id:T}:{};console.log("Navigating to:",l,"with params:",V),this.router.navigate([`/${l}`],{queryParams:V}).then(ne=>{ne||console.error("Navigation failed!")})})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(l=>{this.business=l}),this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(p=>{p&&(this.themeFileName=p.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(oe.nX),n.rXU(He.N),n.rXU(mc.u),n.rXU(ef.F),n.rXU(Nt.A),n.rXU(oe.Ix))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-footer"]],decls:9,vars:9,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"clemo-footer-bottom"],[1,"copy"],[1,"design"],["href","sbmediahub.com"],[1,"rights"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"clemo-footer"],[1,"clemo-footer-links"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"clemo-footer-logo"],[1,"logo-circle"],["alt","",3,"src"],[1,"clemo-footer-section-heading"],[1,"clemo-footer-content"],[1,"clemo-footer-address"],[1,"clemo-footer-phone"],[1,"clemo-footer-contact"],[1,"clemo-footer-copy"],[1,"clemo-footer-design"],[1,"clemo-footer-rights"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(p,T){1&p&&(n.j41(0,"div",0),n.DNE(1,Ny,44,12,"ng-container",1),n.DNE(2,Fy,42,10,"ng-container",1),n.DNE(3,ky,53,7,"ng-container",1),n.DNE(4,y_,41,4,"ng-container",1),n.DNE(5,Hv,35,3,"ng-container",1),n.DNE(6,Ly,34,12,"ng-container",2),n.k0s(),n.DNE(7,Xd,39,7,"div",3),n.nI1(8,"async")),2&p&&(n.Y8G("ngSwitch",T.layoutType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","prestige"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(2),n.Y8G("ngIf",n.bMT(8,7,T.isAuthenticated$)))},dependencies:[Re.bT,Re.ux,Re.e1,Re.fG,Re.Jj]})}}return _})(),Jg=(()=>{class _{constructor(l,p,T,V,ne){this.route=l,this.webContent=p,this.metaService=T,this.router=V,this.themeService=ne,this.title="adult-family-home"}ngOnInit(){this.route.paramMap.subscribe(l=>{this.businessId=l.get("id")||"MGou3rzTVIbP77OLmZa7",this.loadBusinessData()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(l=>{l&&(this.business=l)})}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(oe.nX),n.rXU(He.N),n.rXU(un.R),n.rXU(oe.Ix),n.rXU(ef.F))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-root"]],decls:3,vars:0,template:function(p,T){1&p&&n.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[oe.n3,Oy,nd]})}}return _})();const Rp_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var ll=O(2214),Rs=O(5407);class zr{constructor(u){return u}}class uf{constructor(){return(0,ll.Dk)()}}const Zg=new n.nKC("angularfire2._apps"),so={provide:zr,useFactory:function iu(_){return _&&1===_.length?_[0]:new zr((0,ll.Sx)())},deps:[[new n.Xx1,Zg]]},Ls={provide:uf,deps:[[new n.Xx1,Zg]]};function Ga(_){return(u,l)=>{const p=u.runOutsideAngular(()=>_(l));return new zr(p)}}let E_=(()=>{class _{constructor(l){(0,ll.KO)("angularfire",Rs.xv.full,"core"),(0,ll.KO)("angularfire",Rs.xv.full,"app"),(0,ll.KO)("angular",n.xvI.full,l.toString())}static \u0275fac=function(p){return new(p||_)(n.KVO(n.Agw))};static \u0275mod=n.$C({type:_});static \u0275inj=n.G2t({providers:[so,Ls]})}return _})();function b_(_,...u){return{ngModule:E_,providers:[{provide:Zg,useFactory:Ga(_),multi:!0,deps:[n.SKi,n.zZn,Rs.u0,...u]}]}}const df=(0,Rs.S3)(ll.Wp,!0);O(5504),O(7852),O(1076),O(8041),O(1362);class hf{constructor(){return(0,Rs.CA)("auth")}}var pm=O(9583);class vf{constructor(u){return u}}const gm="firestore",Vp=new n.nKC("angularfire2.firestore-instances");function jp(_){return(u,l)=>{const p=u.runOutsideAngular(()=>_(l));return new vf(p)}}const qy={provide:class M_{constructor(){return(0,Rs.CA)(gm)}},deps:[[new n.Xx1,Vp]]},a0={provide:vf,useFactory:function Up(_,u){const l=(0,Rs.lR)(gm,_,u);return l&&new vf(l)},deps:[[new n.Xx1,Vp],zr]};let Yy=(()=>{class _{constructor(){(0,ll.KO)("angularfire",Rs.xv.full,"fst")}static \u0275fac=function(p){return new(p||_)};static \u0275mod=n.$C({type:_});static \u0275inj=n.G2t({providers:[a0,qy]})}return _})();function N_(_,...u){return{ngModule:Yy,providers:[{provide:Vp,useFactory:jp(_),multi:!0,deps:[n.SKi,n.zZn,Rs.u0,uf,[new n.Xx1,hf],[new n.Xx1,Rs.Jv],...u]}]}}const sv=(0,Rs.S3)(pm.aU,!0);var cn=O(9253),Zn=O(8721),pr=O(1977),sr=O(4535);class Nr{constructor(u){return u}}const Pi="storage",Ke=new n.nKC("angularfire2.storage-instances");function vt(_){return(u,l)=>{const p=u.runOutsideAngular(()=>_(l));return new Nr(p)}}const Tt={provide:class ai{constructor(){return(0,Rs.CA)(Pi)}},deps:[[new n.Xx1,Ke]]},Ot={provide:Nr,useFactory:function st(_,u){const l=(0,Rs.lR)(Pi,_,u);return l&&new Nr(l)},deps:[[new n.Xx1,Ke],zr]};let tt=(()=>{class _{constructor(){(0,ll.KO)("angularfire",Rs.xv.full,"gcs")}static \u0275fac=function(p){return new(p||_)};static \u0275mod=n.$C({type:_});static \u0275inj=n.G2t({providers:[Ot,Tt]})}return _})();function Ac(_,...u){return{ngModule:tt,providers:[{provide:Ke,useFactory:vt(_),multi:!0,deps:[n.SKi,n.zZn,Rs.u0,uf,[new n.Xx1,hf],[new n.Xx1,Rs.Jv],...u]}]}}const ko=(0,Rs.S3)(sr.c7,!0);var Yp=O(3012);let sh=(()=>{class _{constructor(l,p,T){this.http=l,this.themeService=p,this.businessService=T,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(l){return new Promise((p,T)=>{this.themeService.getBusinessTheme(l).subscribe({next:V=>{this.themeService.applyThemeFile(V?V.themeFileName:"default.css").then(()=>p()).catch(le=>{console.error("Error applying theme file:",le),p()}),this.themeService.getThemeColors(l).subscribe(le=>{this.applyTheme(le),p()},le=>{console.error("Error loading theme:",le),p()})},error:V=>{console.error("Error loading business theme:",V),this.themeService.applyThemeFile("default.css").then(()=>p()).catch(ne=>{console.error("Error applying default theme file:",ne),p()})}})})}applyTheme(l){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",l.primaryColor),document.documentElement.style.setProperty("--secondary-color",l.secondaryColor),document.documentElement.style.setProperty("--accent-color",l.accentColor),document.documentElement.style.setProperty("--background-color",l.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",l.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",l.textColor),document.documentElement.style.setProperty("--nav-background-color",l.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",l.navTextColor),document.documentElement.style.setProperty("--nav-active-background",l.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",l.navActiveText),document.documentElement.style.setProperty("--button-color",l.buttonColor),document.documentElement.style.setProperty("--button-hover-color",l.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(l){return l.primaryColor&&l.secondaryColor&&l.accentColor&&l.backgroundColor&&l.darkBackgroundColor&&l.textColor&&l.navBackgroundColor&&l.navTextColor&&l.navActiveBackground&&l.navActiveText&&l.buttonColor&&l.buttonHoverColor}static{this.\u0275fac=function(p){return new(p||_)(n.KVO(Ce.Qq),n.KVO(ef.F),n.KVO(Yp.u))}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();var zi=O(9969);function Xp(_){return new n.wOt(3e3,!1)}function Ha(_){switch(_.length){case 0:return new zi.sf;case 1:return _[0];default:return new zi.ui(_)}}function ch(_,u,l=new Map,p=new Map){const T=[],V=[];let ne=-1,le=null;if(u.forEach(Fe=>{const nt=Fe.get("offset"),Ct=nt==ne,an=Ct&&le||new Map;Fe.forEach((Bn,wn)=>{let On=wn,Pn=Bn;if("offset"!==wn)switch(On=_.normalizePropertyName(On,T),Pn){case zi.FX:Pn=l.get(wn);break;case zi.kp:Pn=p.get(wn);break;default:Pn=_.normalizeStyleValue(wn,On,Pn,T)}an.set(On,Pn)}),Ct||V.push(an),le=an,ne=nt}),T.length)throw function oh(_){return new n.wOt(3502,!1)}();return V}function ng(_,u,l,p){switch(u){case"start":_.onStart(()=>p(l&&Af(l,"start",_)));break;case"done":_.onDone(()=>p(l&&Af(l,"done",_)));break;case"destroy":_.onDestroy(()=>p(l&&Af(l,"destroy",_)))}}function Af(_,u,l){const V=du(_.element,_.triggerName,_.fromState,_.toState,u||_.phaseName,l.totalTime??_.totalTime,!!l.disabled),ne=_._data;return null!=ne&&(V._data=ne),V}function du(_,u,l,p,T="",V=0,ne){return{element:_,triggerName:u,fromState:l,toState:p,phaseName:T,totalTime:V,disabled:!!ne}}function Lo(_,u,l){let p=_.get(u);return p||_.set(u,p=l),p}function q_(_){const u=_.indexOf(":");return[_.substring(1,u),_.slice(u+1)]}const rg=(()=>typeof document>"u"?null:document.documentElement)();function ig(_){const u=_.parentNode||_.host||null;return u===rg?null:u}let Kl=null,Dc=!1;function og(_,u){for(;u;){if(u===_)return!0;u=ig(u)}return!1}function Q_(_,u,l){if(l)return Array.from(_.querySelectorAll(u));const p=_.querySelector(u);return p?[p]:[]}let Dm=(()=>{class _{validateStyleProperty(l){return function Y_(_){Kl||(Kl=function sg(){return typeof document<"u"?document.body:null}()||{},Dc=!!Kl.style&&"WebkitAppearance"in Kl.style);let u=!0;return Kl.style&&!function Sm(_){return"ebkit"==_.substring(1,6)}(_)&&(u=_ in Kl.style,!u&&Dc&&(u="Webkit"+_.charAt(0).toUpperCase()+_.slice(1)in Kl.style)),u}(l)}matchesElement(l,p){return!1}containsElement(l,p){return og(l,p)}getParentElement(l){return ig(l)}query(l,p,T){return Q_(l,p,T)}computeStyle(l,p,T){return T||""}animate(l,p,T,V,ne,le=[],Fe){return new zi.sf(T,V)}static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac})}}return _})(),Sf=(()=>{class _{static{this.NOOP=new Dm}}return _})();const Df=1e3,hl="ng-enter",uh="ng-leave",Ta="ng-trigger",Rc=".ng-trigger",po="ng-animating",ql=".ng-animating";function da(_){if("number"==typeof _)return _;const u=_.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:Vo(parseFloat(u[1]),u[2])}function Vo(_,u){return"s"===u?_*Df:_}function cd(_,u,l){return _.hasOwnProperty("duration")?_:function ud(_,u,l){let T,V=0,ne="";if("string"==typeof _){const le=_.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===le)return u.push(Xp()),{duration:0,delay:0,easing:""};T=Vo(parseFloat(le[1]),le[2]);const Fe=le[3];null!=Fe&&(V=Vo(parseFloat(Fe),le[4]));const nt=le[5];nt&&(ne=nt)}else T=_;if(!l){let le=!1,Fe=u.length;T<0&&(u.push(function vm(){return new n.wOt(3100,!1)}()),le=!0),V<0&&(u.push(function B_(){return new n.wOt(3101,!1)}()),le=!0),le&&u.splice(Fe,0,Xp())}return{duration:T,delay:V,easing:ne}}(_,u,l)}function Yl(_,u={}){return Object.keys(_).forEach(l=>{u[l]=_[l]}),u}function dd(_){const u=new Map;return Object.keys(_).forEach(l=>{u.set(l,_[l])}),u}function Ca(_,u=new Map,l){if(l)for(let[p,T]of l)u.set(p,T);for(let[p,T]of _)u.set(p,T);return u}function zs(_,u,l){u.forEach((p,T)=>{const V=lg(T);l&&!l.has(T)&&l.set(T,_.style[V]),_.style[V]=p})}function to(_,u){u.forEach((l,p)=>{const T=lg(p);_.style[T]=""})}function Ia(_){return Array.isArray(_)?1==_.length?_[0]:(0,zi.K2)(_):_}const Pf=new RegExp("{{\\s*(.+?)\\s*}}","g");function ts(_){let u=[];if("string"==typeof _){let l;for(;l=Pf.exec(_);)u.push(l[1]);Pf.lastIndex=0}return u}function xc(_,u,l){const p=_.toString(),T=p.replace(Pf,(V,ne)=>{let le=u[ne];return null==le&&(l.push(function Qp(_){return new n.wOt(3003,!1)}()),le=""),le.toString()});return T==p?_:T}function Pc(_){const u=[];let l=_.next();for(;!l.done;)u.push(l.value),l=_.next();return u}const dh=/-+([a-z0-9])/g;function lg(_){return _.replace(dh,(...u)=>u[1].toUpperCase())}function wa(_,u,l){switch(u.type){case 7:return _.visitTrigger(u,l);case 0:return _.visitState(u,l);case 1:return _.visitTransition(u,l);case 2:return _.visitSequence(u,l);case 3:return _.visitGroup(u,l);case 4:return _.visitAnimate(u,l);case 5:return _.visitKeyframes(u,l);case 6:return _.visitStyle(u,l);case 8:return _.visitReference(u,l);case 9:return _.visitAnimateChild(u,l);case 10:return _.visitAnimateRef(u,l);case 11:return _.visitQuery(u,l);case 12:return _.visitStagger(u,l);default:throw function dl(_){return new n.wOt(3004,!1)}()}}function pv(_,u){return window.getComputedStyle(_)[u]}const ug="*";function _v(_,u){const l=[];return"string"==typeof _?_.split(/\s*,\s*/).forEach(p=>function yv(_,u,l){if(":"==_[0]){const Fe=function Xl(_,u){switch(_){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,p)=>parseFloat(p)>parseFloat(l);case":decrement":return(l,p)=>parseFloat(p)<parseFloat(l);default:return u.push(function wm(_){return new n.wOt(3016,!1)}()),"* => *"}}(_,l);if("function"==typeof Fe)return void u.push(Fe);_=Fe}const p=_.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return l.push(function Im(_){return new n.wOt(3015,!1)}()),u;const T=p[1],V=p[2],ne=p[3];u.push(Mc(T,ne));"<"==V[0]&&!(T==ug&&ne==ug)&&u.push(Mc(ne,T))}(p,l,u)):l.push(_),l}const fu=new Set(["true","1"]),hh=new Set(["false","0"]);function Mc(_,u){const l=fu.has(_)||hh.has(_),p=fu.has(u)||hh.has(u);return(T,V)=>{let ne=_==ug||_==T,le=u==ug||u==V;return!ne&&l&&"boolean"==typeof T&&(ne=T?fu.has(_):hh.has(_)),!le&&p&&"boolean"==typeof V&&(le=V?fu.has(u):hh.has(u)),ne&&le}}const ph=new RegExp("s*:selfs*,?","g");function pu(_,u,l,p){return new mh(_).build(u,l,p)}class mh{constructor(u){this._driver=u}build(u,l,p){const T=new vv(l);return this._resetContextStyleTimingState(T),wa(this,Ia(u),T)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,l){let p=l.queryCount=0,T=l.depCount=0;const V=[],ne=[];return"@"==u.name.charAt(0)&&l.errors.push(function dv(){return new n.wOt(3006,!1)}()),u.definitions.forEach(le=>{if(this._resetContextStyleTimingState(l),0==le.type){const Fe=le,nt=Fe.name;nt.toString().split(/\s*,\s*/).forEach(Ct=>{Fe.name=Ct,V.push(this.visitState(Fe,l))}),Fe.name=nt}else if(1==le.type){const Fe=this.visitTransition(le,l);p+=Fe.queryCount,T+=Fe.depCount,ne.push(Fe)}else l.errors.push(function Tf(){return new n.wOt(3007,!1)}())}),{type:7,name:u.name,states:V,transitions:ne,queryCount:p,depCount:T,options:null}}visitState(u,l){const p=this.visitStyle(u.styles,l),T=u.options&&u.options.params||null;if(p.containsDynamicStyles){const V=new Set,ne=T||{};p.styles.forEach(le=>{le instanceof Map&&le.forEach(Fe=>{ts(Fe).forEach(nt=>{ne.hasOwnProperty(nt)||V.add(nt)})})}),V.size&&(Pc(V.values()),l.errors.push(function bm(_,u){return new n.wOt(3008,!1)}()))}return{type:0,name:u.name,style:p,options:T?{params:T}:null}}visitTransition(u,l){l.queryCount=0,l.depCount=0;const p=wa(this,Ia(u.animation),l);return{type:1,matchers:_v(u.expr,l.errors),animation:p,queryCount:l.queryCount,depCount:l.depCount,options:fl(u.options)}}visitSequence(u,l){return{type:2,steps:u.steps.map(p=>wa(this,p,l)),options:fl(u.options)}}visitGroup(u,l){const p=l.currentTime;let T=0;const V=u.steps.map(ne=>{l.currentTime=p;const le=wa(this,ne,l);return T=Math.max(T,l.currentTime),le});return l.currentTime=T,{type:3,steps:V,options:fl(u.options)}}visitAnimate(u,l){const p=function dg(_,u){if(_.hasOwnProperty("duration"))return _;if("number"==typeof _)return pd(cd(_,u).duration,0,"");const l=_;if(l.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=pd(0,0,"");return V.dynamic=!0,V.strValue=l,V}const T=cd(l,u);return pd(T.duration,T.delay,T.easing)}(u.timings,l.errors);l.currentAnimateTimings=p;let T,V=u.styles?u.styles:(0,zi.iF)({});if(5==V.type)T=this.visitKeyframes(V,l);else{let ne=u.styles,le=!1;if(!ne){le=!0;const nt={};p.easing&&(nt.easing=p.easing),ne=(0,zi.iF)(nt)}l.currentTime+=p.duration+p.delay;const Fe=this.visitStyle(ne,l);Fe.isEmptyStep=le,T=Fe}return l.currentAnimateTimings=null,{type:4,timings:p,style:T,options:null}}visitStyle(u,l){const p=this._makeStyleAst(u,l);return this._validateStyleAst(p,l),p}_makeStyleAst(u,l){const p=[],T=Array.isArray(u.styles)?u.styles:[u.styles];for(let le of T)"string"==typeof le?le===zi.kp?p.push(le):l.errors.push(new n.wOt(3002,!1)):p.push(dd(le));let V=!1,ne=null;return p.forEach(le=>{if(le instanceof Map&&(le.has("easing")&&(ne=le.get("easing"),le.delete("easing")),!V))for(let Fe of le.values())if(Fe.toString().indexOf("{{")>=0){V=!0;break}}),{type:6,styles:p,easing:ne,offset:u.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(u,l){const p=l.currentAnimateTimings;let T=l.currentTime,V=l.currentTime;p&&V>0&&(V-=p.duration+p.delay),u.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((le,Fe)=>{const nt=l.collectedStyles.get(l.currentQuerySelector),Ct=nt.get(Fe);let an=!0;Ct&&(V!=T&&V>=Ct.startTime&&T<=Ct.endTime&&(l.errors.push(function fo(_,u,l,p,T){return new n.wOt(3010,!1)}()),an=!1),V=Ct.startTime),an&&nt.set(Fe,{startTime:V,endTime:T}),l.options&&function xf(_,u,l){const p=u.params||{},T=ts(_);T.length&&T.forEach(V=>{p.hasOwnProperty(V)||l.push(function Em(_){return new n.wOt(3001,!1)}())})}(le,l.options,l.errors)})})}visitKeyframes(u,l){const p={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function uu(){return new n.wOt(3011,!1)}()),p;let V=0;const ne=[];let le=!1,Fe=!1,nt=0;const Ct=u.steps.map(jr=>{const ti=this._makeStyleAst(jr,l);let vi=null!=ti.offset?ti.offset:function Ev(_){if("string"==typeof _)return null;let u=null;if(Array.isArray(_))_.forEach(l=>{if(l instanceof Map&&l.has("offset")){const p=l;u=parseFloat(p.get("offset")),p.delete("offset")}});else if(_ instanceof Map&&_.has("offset")){const l=_;u=parseFloat(l.get("offset")),l.delete("offset")}return u}(ti.styles),Cr=0;return null!=vi&&(V++,Cr=ti.offset=vi),Fe=Fe||Cr<0||Cr>1,le=le||Cr<nt,nt=Cr,ne.push(Cr),ti});Fe&&l.errors.push(function Tm(){return new n.wOt(3012,!1)}()),le&&l.errors.push(function Cf(){return new n.wOt(3200,!1)}());const an=u.steps.length;let Bn=0;V>0&&V<an?l.errors.push(function CE(){return new n.wOt(3202,!1)}()):0==V&&(Bn=1/(an-1));const wn=an-1,On=l.currentTime,Pn=l.currentAnimateTimings,mr=Pn.duration;return Ct.forEach((jr,ti)=>{const vi=Bn>0?ti==wn?1:Bn*ti:ne[ti],Cr=vi*mr;l.currentTime=On+Pn.delay+Cr,Pn.duration=Cr,this._validateStyleAst(jr,l),jr.offset=vi,p.styles.push(jr)}),p}visitReference(u,l){return{type:8,animation:wa(this,Ia(u.animation),l),options:fl(u.options)}}visitAnimateChild(u,l){return l.depCount++,{type:9,options:fl(u.options)}}visitAnimateRef(u,l){return{type:10,animation:this.visitReference(u.animation,l),options:fl(u.options)}}visitQuery(u,l){const p=l.currentQuerySelector,T=u.options||{};l.queryCount++,l.currentQuery=u;const[V,ne]=function Pm(_){const u=!!_.split(/\s*,\s*/).find(l=>":self"==l);return u&&(_=_.replace(ph,"")),_=_.replace(/@\*/g,Rc).replace(/@\w+/g,l=>Rc+"-"+l.slice(1)).replace(/:animating/g,ql),[_,u]}(u.selector);l.currentQuerySelector=p.length?p+" "+V:V,Lo(l.collectedStyles,l.currentQuerySelector,new Map);const le=wa(this,Ia(u.animation),l);return l.currentQuery=null,l.currentQuerySelector=p,{type:11,selector:V,limit:T.limit||0,optional:!!T.optional,includeSelf:ne,animation:le,originalSelector:u.selector,options:fl(u.options)}}visitStagger(u,l){l.currentQuery||l.errors.push(function If(){return new n.wOt(3013,!1)}());const p="full"===u.timings?{duration:0,delay:0,easing:"full"}:cd(u.timings,l.errors,!0);return{type:12,animation:wa(this,Ia(u.animation),l),timings:p,options:null}}}class vv{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function fl(_){return _?(_=Yl(_)).params&&(_.params=function Vs(_){return _?Yl(_):null}(_.params)):_={},_}function pd(_,u,l){return{duration:_,delay:u,easing:l}}function Mf(_,u,l,p,T,V,ne=null,le=!1){return{type:1,element:_,keyframes:u,preStyleProps:l,postStyleProps:p,duration:T,delay:V,totalTime:T+V,easing:ne,subTimeline:le}}class Of{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,l){let p=this._map.get(u);p||this._map.set(u,p=[]),p.push(...l)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const bv=new RegExp(":enter","g"),ty=new RegExp(":leave","g");function Nf(_,u,l,p,T,V=new Map,ne=new Map,le,Fe,nt=[]){return(new Ff).buildKeyframes(_,u,l,p,T,V,ne,le,Fe,nt)}class Ff{buildKeyframes(u,l,p,T,V,ne,le,Fe,nt,Ct=[]){nt=nt||new Of;const an=new gd(u,l,nt,T,V,Ct,[]);an.options=Fe;const Bn=Fe.delay?da(Fe.delay):0;an.currentTimeline.delayNextStep(Bn),an.currentTimeline.setStyles([ne],null,an.errors,Fe),wa(this,p,an);const wn=an.timelines.filter(On=>On.containsAnimation());if(wn.length&&le.size){let On;for(let Pn=wn.length-1;Pn>=0;Pn--){const mr=wn[Pn];if(mr.element===l){On=mr;break}}On&&!On.allowOnlyTimelineStyles()&&On.setStyles([le],null,an.errors,Fe)}return wn.length?wn.map(On=>On.buildKeyframes()):[Mf(l,[],[],[],0,Bn,"",!1)]}visitTrigger(u,l){}visitState(u,l){}visitTransition(u,l){}visitAnimateChild(u,l){const p=l.subInstructions.get(l.element);if(p){const T=l.createSubContext(u.options),V=l.currentTimeline.currentTime,ne=this._visitSubInstructions(p,T,T.options);V!=ne&&l.transformIntoNewTimeline(ne)}l.previousNode=u}visitAnimateRef(u,l){const p=l.createSubContext(u.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([u.options,u.animation.options],l,p),this.visitReference(u.animation,p),l.transformIntoNewTimeline(p.currentTimeline.currentTime),l.previousNode=u}_applyAnimationRefDelays(u,l,p){for(const T of u){const V=T?.delay;if(V){const ne="number"==typeof V?V:da(xc(V,T?.params??{},l.errors));p.delayNextStep(ne)}}}_visitSubInstructions(u,l,p){let V=l.currentTimeline.currentTime;const ne=null!=p.duration?da(p.duration):null,le=null!=p.delay?da(p.delay):null;return 0!==ne&&u.forEach(Fe=>{const nt=l.appendInstructionToTimeline(Fe,ne,le);V=Math.max(V,nt.duration+nt.delay)}),V}visitReference(u,l){l.updateOptions(u.options,!0),wa(this,u.animation,l),l.previousNode=u}visitSequence(u,l){const p=l.subContextCount;let T=l;const V=u.options;if(V&&(V.params||V.delay)&&(T=l.createSubContext(V),T.transformIntoNewTimeline(),null!=V.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=yh);const ne=da(V.delay);T.delayNextStep(ne)}u.steps.length&&(u.steps.forEach(ne=>wa(this,ne,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>p&&T.transformIntoNewTimeline()),l.previousNode=u}visitGroup(u,l){const p=[];let T=l.currentTimeline.currentTime;const V=u.options&&u.options.delay?da(u.options.delay):0;u.steps.forEach(ne=>{const le=l.createSubContext(u.options);V&&le.delayNextStep(V),wa(this,ne,le),T=Math.max(T,le.currentTimeline.currentTime),p.push(le.currentTimeline)}),p.forEach(ne=>l.currentTimeline.mergeTimelineCollectedStyles(ne)),l.transformIntoNewTimeline(T),l.previousNode=u}_visitTiming(u,l){if(u.dynamic){const p=u.strValue;return cd(l.params?xc(p,l.params,l.errors):p,l.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,l){const p=l.currentAnimateTimings=this._visitTiming(u.timings,l),T=l.currentTimeline;p.delay&&(l.incrementTime(p.delay),T.snapshotCurrentStyles());const V=u.style;5==V.type?this.visitKeyframes(V,l):(l.incrementTime(p.duration),this.visitStyle(V,l),T.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=u}visitStyle(u,l){const p=l.currentTimeline,T=l.currentAnimateTimings;!T&&p.hasCurrentStyleProperties()&&p.forwardFrame();const V=T&&T.easing||u.easing;u.isEmptyStep?p.applyEmptyStep(V):p.setStyles(u.styles,V,l.errors,l.options),l.previousNode=u}visitKeyframes(u,l){const p=l.currentAnimateTimings,T=l.currentTimeline.duration,V=p.duration,le=l.createSubContext().currentTimeline;le.easing=p.easing,u.styles.forEach(Fe=>{le.forwardTime((Fe.offset||0)*V),le.setStyles(Fe.styles,Fe.easing,l.errors,l.options),le.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(le),l.transformIntoNewTimeline(T+V),l.previousNode=u}visitQuery(u,l){const p=l.currentTimeline.currentTime,T=u.options||{},V=T.delay?da(T.delay):0;V&&(6===l.previousNode.type||0==p&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=yh);let ne=p;const le=l.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!T.optional,l.errors);l.currentQueryTotal=le.length;let Fe=null;le.forEach((nt,Ct)=>{l.currentQueryIndex=Ct;const an=l.createSubContext(u.options,nt);V&&an.delayNextStep(V),nt===l.element&&(Fe=an.currentTimeline),wa(this,u.animation,an),an.currentTimeline.applyStylesToKeyframe(),ne=Math.max(ne,an.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(ne),Fe&&(l.currentTimeline.mergeTimelineCollectedStyles(Fe),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=u}visitStagger(u,l){const p=l.parentContext,T=l.currentTimeline,V=u.timings,ne=Math.abs(V.duration),le=ne*(l.currentQueryTotal-1);let Fe=ne*l.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":Fe=le-Fe;break;case"full":Fe=p.currentStaggerTime}const Ct=l.currentTimeline;Fe&&Ct.delayNextStep(Fe);const an=Ct.currentTime;wa(this,u.animation,l),l.previousNode=u,p.currentStaggerTime=T.currentTime-an+(T.startTime-p.currentTimeline.startTime)}}const yh={};class gd{constructor(u,l,p,T,V,ne,le,Fe){this._driver=u,this.element=l,this.subInstructions=p,this._enterClassName=T,this._leaveClassName=V,this.errors=ne,this.timelines=le,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Fe||new fg(this._driver,l,0),le.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,l){if(!u)return;const p=u;let T=this.options;null!=p.duration&&(T.duration=da(p.duration)),null!=p.delay&&(T.delay=da(p.delay));const V=p.params;if(V){let ne=T.params;ne||(ne=this.options.params={}),Object.keys(V).forEach(le=>{(!l||!ne.hasOwnProperty(le))&&(ne[le]=xc(V[le],ne,this.errors))})}}_copyOptions(){const u={};if(this.options){const l=this.options.params;if(l){const p=u.params={};Object.keys(l).forEach(T=>{p[T]=l[T]})}}return u}createSubContext(u=null,l,p){const T=l||this.element,V=new gd(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,p||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(u),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(u){return this.previousNode=yh,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,l,p){const T={duration:l??u.duration,delay:this.currentTimeline.currentTime+(p??0)+u.delay,easing:""},V=new ny(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,T,u.stretchStartingKeyframe);return this.timelines.push(V),T}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,l,p,T,V,ne){let le=[];if(T&&le.push(this.element),u.length>0){u=(u=u.replace(bv,"."+this._enterClassName)).replace(ty,"."+this._leaveClassName);let nt=this._driver.query(this.element,u,1!=p);0!==p&&(nt=p<0?nt.slice(nt.length+p,nt.length):nt.slice(0,p)),le.push(...nt)}return!V&&0==le.length&&ne.push(function Cm(_){return new n.wOt(3014,!1)}()),le}}class fg{constructor(u,l,p,T){this._driver=u,this.element=l,this.startTime=p,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+u),l&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,l){return this.applyStylesToKeyframe(),new fg(this._driver,u,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,l){this._localTimelineStyles.set(u,l),this._globalTimelineStyles.set(u,l),this._styleSummary.set(u,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[l,p]of this._globalTimelineStyles)this._backFill.set(l,p||zi.kp),this._currentKeyframe.set(l,zi.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,l,p,T){l&&this._previousKeyframe.set("easing",l);const V=T&&T.params||{},ne=function Mm(_,u){const l=new Map;let p;return _.forEach(T=>{if("*"===T){p=p||u.keys();for(let V of p)l.set(V,zi.kp)}else Ca(T,l)}),l}(u,this._globalTimelineStyles);for(let[le,Fe]of ne){const nt=xc(Fe,V,p);this._pendingStyles.set(le,nt),this._localTimelineStyles.has(le)||this._backFill.set(le,this._globalTimelineStyles.get(le)??zi.kp),this._updateStyle(le,nt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,l)=>{this._currentKeyframe.set(l,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,u)}))}snapshotCurrentStyles(){for(let[u,l]of this._localTimelineStyles)this._pendingStyles.set(u,l),this._updateStyle(u,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let l in this._currentKeyframe)u.push(l);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((l,p)=>{const T=this._styleSummary.get(p);(!T||l.time>T.time)&&this._updateStyle(p,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,l=new Set,p=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((le,Fe)=>{const nt=Ca(le,new Map,this._backFill);nt.forEach((Ct,an)=>{Ct===zi.FX?u.add(an):Ct===zi.kp&&l.add(an)}),p||nt.set("offset",Fe/this.duration),T.push(nt)});const V=u.size?Pc(u.values()):[],ne=l.size?Pc(l.values()):[];if(p){const le=T[0],Fe=new Map(le);le.set("offset",0),Fe.set("offset",1),T=[le,Fe]}return Mf(this.element,T,V,ne,this.duration,this.startTime,this.easing,!1)}}class ny extends fg{constructor(u,l,p,T,V,ne,le=!1){super(u,l,ne.delay),this.keyframes=p,this.preStyleProps=T,this.postStyleProps=V,this._stretchStartingKeyframe=le,this.timings={duration:ne.duration,delay:ne.delay,easing:ne.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:l,duration:p,easing:T}=this.timings;if(this._stretchStartingKeyframe&&l){const V=[],ne=p+l,le=l/ne,Fe=Ca(u[0]);Fe.set("offset",0),V.push(Fe);const nt=Ca(u[0]);nt.set("offset",vh(le)),V.push(nt);const Ct=u.length-1;for(let an=1;an<=Ct;an++){let Bn=Ca(u[an]);const wn=Bn.get("offset");Bn.set("offset",vh((l+wn*p)/ne)),V.push(Bn)}p=ne,l=0,T="",u=V}return Mf(this.element,u,this.preStyleProps,this.postStyleProps,p,l,T,!0)}}function vh(_,u=3){const l=Math.pow(10,u-1);return Math.round(_*l)/l}class md{}const kf=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _d extends md{normalizePropertyName(u,l){return lg(u)}normalizeStyleValue(u,l,p,T){let V="";const ne=p.toString().trim();if(kf.has(l)&&0!==p&&"0"!==p)if("number"==typeof p)V="px";else{const le=p.match(/^[+-]?[\d\.]+([a-z]*)$/);le&&0==le[1].length&&T.push(function G_(_,u){return new n.wOt(3005,!1)}())}return ne+V}}function Lf(_,u,l,p,T,V,ne,le,Fe,nt,Ct,an,Bn){return{type:0,element:_,triggerName:u,isRemovalTransition:T,fromState:l,fromStyles:V,toState:p,toStyles:ne,timelines:le,queriedElements:Fe,preStyleProps:nt,postStyleProps:Ct,totalTime:an,errors:Bn}}const Vf={};class gu{constructor(u,l,p){this._triggerName=u,this.ast=l,this._stateStyles=p}match(u,l,p,T){return function iy(_,u,l,p,T){return _.some(V=>V(u,l,p,T))}(this.ast.matchers,u,l,p,T)}buildStyles(u,l,p){let T=this._stateStyles.get("*");return void 0!==u&&(T=this._stateStyles.get(u?.toString())||T),T?T.buildStyles(l,p):new Map}build(u,l,p,T,V,ne,le,Fe,nt,Ct){const an=[],Bn=this.ast.options&&this.ast.options.params||Vf,On=this.buildStyles(p,le&&le.params||Vf,an),Pn=Fe&&Fe.params||Vf,mr=this.buildStyles(T,Pn,an),jr=new Set,ti=new Map,vi=new Map,Cr="void"===T,Si={params:Uf(Pn,Bn),delay:this.ast.options?.delay},pi=Ct?[]:Nf(u,l,this.ast.animation,V,ne,On,mr,Si,nt,an);let Ei=0;if(pi.forEach(ns=>{Ei=Math.max(ns.duration+ns.delay,Ei)}),an.length)return Lf(l,this._triggerName,p,T,Cr,On,mr,[],[],ti,vi,Ei,an);pi.forEach(ns=>{const Yi=ns.element,So=Lo(ti,Yi,new Set);ns.preStyleProps.forEach(Ws=>So.add(Ws));const ta=Lo(vi,Yi,new Set);ns.postStyleProps.forEach(Ws=>ta.add(Ws)),Yi!==l&&jr.add(Yi)});const ls=Pc(jr.values());return Lf(l,this._triggerName,p,T,Cr,On,mr,pi,ls,ti,vi,Ei)}}function Uf(_,u){const l=Yl(u);for(const p in _)_.hasOwnProperty(p)&&null!=_[p]&&(l[p]=_[p]);return l}class jf{constructor(u,l,p){this.styles=u,this.defaultParams=l,this.normalizer=p}buildStyles(u,l){const p=new Map,T=Yl(this.defaultParams);return Object.keys(u).forEach(V=>{const ne=u[V];null!==ne&&(T[V]=ne)}),this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((ne,le)=>{ne&&(ne=xc(ne,T,l));const Fe=this.normalizer.normalizePropertyName(le,l);ne=this.normalizer.normalizeStyleValue(le,Fe,ne,l),p.set(le,ne)})}),p}}class ha{constructor(u,l,p){this.name=u,this.ast=l,this._normalizer=p,this.transitionFactories=[],this.states=new Map,l.states.forEach(T=>{this.states.set(T.name,new jf(T.style,T.options&&T.options.params||{},p))}),Nm(this.states,"true","1"),Nm(this.states,"false","0"),l.transitions.forEach(T=>{this.transitionFactories.push(new gu(u,T,this.states))}),this.fallbackTransition=function sy(_,u,l){return new gu(_,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ne,le)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,l,p,T){return this.transitionFactories.find(ne=>ne.match(u,l,p,T))||null}matchStyles(u,l,p){return this.fallbackTransition.buildStyles(u,l,p)}}function Nm(_,u,l){_.has(u)?_.has(l)||_.set(l,_.get(u)):_.has(l)&&_.set(u,_.get(l))}const yd=new Of;class E{constructor(u,l,p){this.bodyNode=u,this._driver=l,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,l){const p=[],V=pu(this._driver,l,p,[]);if(p.length)throw function z_(_){return new n.wOt(3503,!1)}();this._animations.set(u,V)}_buildPlayer(u,l,p){const T=u.element,V=ch(this._normalizer,u.keyframes,l,p);return this._driver.animate(T,V,u.duration,u.delay,u.easing,[],!0)}create(u,l,p={}){const T=[],V=this._animations.get(u);let ne;const le=new Map;if(V?(ne=Nf(this._driver,l,V,hl,uh,new Map,new Map,p,yd,T),ne.forEach(Ct=>{const an=Lo(le,Ct.element,new Map);Ct.postStyleProps.forEach(Bn=>an.set(Bn,null))})):(T.push(function ah(){return new n.wOt(3300,!1)}()),ne=[]),T.length)throw function eg(_){return new n.wOt(3504,!1)}();le.forEach((Ct,an)=>{Ct.forEach((Bn,wn)=>{Ct.set(wn,this._driver.computeStyle(an,wn,zi.kp))})});const nt=Ha(ne.map(Ct=>{const an=le.get(Ct.element);return this._buildPlayer(Ct,new Map,an)}));return this._playersById.set(u,nt),nt.onDestroy(()=>this.destroy(u)),this.players.push(nt),nt}destroy(u){const l=this._getPlayer(u);l.destroy(),this._playersById.delete(u);const p=this.players.indexOf(l);p>=0&&this.players.splice(p,1)}_getPlayer(u){const l=this._playersById.get(u);if(!l)throw function Am(_){return new n.wOt(3301,!1)}();return l}listen(u,l,p,T){const V=du(l,"","","");return ng(this._getPlayer(u),p,V,T),()=>{}}command(u,l,p,T){if("register"==p)return void this.register(u,T[0]);if("create"==p)return void this.create(u,l,T[0]||{});const V=this._getPlayer(u);switch(p){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(u)}}}const j="ng-animate-queued",ve="ng-animate-disabled",qi=[],oo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ji={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},as="__ng_removed";class go{get params(){return this.options.params}constructor(u,l=""){this.namespaceId=l;const p=u&&u.hasOwnProperty("value");if(this.value=function AE(_){return _??null}(p?u.value:u),p){const V=Yl(u);delete V.value,this.options=V}else this.options={};this.options.params||(this.options.params={})}absorbOptions(u){const l=u.params;if(l){const p=this.options.params;Object.keys(l).forEach(T=>{null==p[T]&&(p[T]=l[T])})}}}const za="void",Uo=new go(za);class $f{constructor(u,l,p){this.id=u,this.hostElement=l,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,Ql(l,this._hostClassName)}listen(u,l,p,T){if(!this._triggers.has(l))throw function ld(_,u){return new n.wOt(3302,!1)}();if(null==p||0==p.length)throw function lh(_){return new n.wOt(3303,!1)}();if(!function SE(_){return"start"==_||"done"==_}(p))throw function tg(_,u){return new n.wOt(3400,!1)}();const V=Lo(this._elementListeners,u,[]),ne={name:l,phase:p,callback:T};V.push(ne);const le=Lo(this._engine.statesByElement,u,new Map);return le.has(l)||(Ql(u,Ta),Ql(u,Ta+"-"+l),le.set(l,Uo)),()=>{this._engine.afterFlush(()=>{const Fe=V.indexOf(ne);Fe>=0&&V.splice(Fe,1),this._triggers.has(l)||le.delete(l)})}}register(u,l){return!this._triggers.has(u)&&(this._triggers.set(u,l),!0)}_getTrigger(u){const l=this._triggers.get(u);if(!l)throw function W_(_){return new n.wOt(3401,!1)}();return l}trigger(u,l,p,T=!0){const V=this._getTrigger(l),ne=new oy(this.id,l,u);let le=this._engine.statesByElement.get(u);le||(Ql(u,Ta),Ql(u,Ta+"-"+l),this._engine.statesByElement.set(u,le=new Map));let Fe=le.get(l);const nt=new go(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&Fe&&nt.absorbOptions(Fe.options),le.set(l,nt),Fe||(Fe=Uo),nt.value!==za&&Fe.value===nt.value){if(!function h0(_,u){const l=Object.keys(_),p=Object.keys(u);if(l.length!=p.length)return!1;for(let T=0;T<l.length;T++){const V=l[T];if(!u.hasOwnProperty(V)||_[V]!==u[V])return!1}return!0}(Fe.params,nt.params)){const Pn=[],mr=V.matchStyles(Fe.value,Fe.params,Pn),jr=V.matchStyles(nt.value,nt.params,Pn);Pn.length?this._engine.reportError(Pn):this._engine.afterFlush(()=>{to(u,mr),zs(u,jr)})}return}const Bn=Lo(this._engine.playersByElement,u,[]);Bn.forEach(Pn=>{Pn.namespaceId==this.id&&Pn.triggerName==l&&Pn.queued&&Pn.destroy()});let wn=V.matchTransition(Fe.value,nt.value,u,nt.params),On=!1;if(!wn){if(!T)return;wn=V.fallbackTransition,On=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:l,transition:wn,fromState:Fe,toState:nt,player:ne,isFallbackTransition:On}),On||(Ql(u,j),ne.onStart(()=>{pg(u,j)})),ne.onDone(()=>{let Pn=this.players.indexOf(ne);Pn>=0&&this.players.splice(Pn,1);const mr=this._engine.playersByElement.get(u);if(mr){let jr=mr.indexOf(ne);jr>=0&&mr.splice(jr,1)}}),this.players.push(ne),Bn.push(ne),ne}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(l=>l.delete(u)),this._elementListeners.forEach((l,p)=>{this._elementListeners.set(p,l.filter(T=>T.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const l=this._engine.playersByElement.get(u);l&&(l.forEach(p=>p.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,l){const p=this._engine.driver.query(u,Rc,!0);p.forEach(T=>{if(T[as])return;const V=this._engine.fetchNamespacesByElement(T);V.size?V.forEach(ne=>ne.triggerLeaveAnimation(T,l,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(u,l,p,T){const V=this._engine.statesByElement.get(u),ne=new Map;if(V){const le=[];if(V.forEach((Fe,nt)=>{if(ne.set(nt,Fe.value),this._triggers.has(nt)){const Ct=this.trigger(u,nt,za,T);Ct&&le.push(Ct)}}),le.length)return this._engine.markElementAsRemoved(this.id,u,!0,l,ne),p&&Ha(le).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const l=this._elementListeners.get(u),p=this._engine.statesByElement.get(u);if(l&&p){const T=new Set;l.forEach(V=>{const ne=V.name;if(T.has(ne))return;T.add(ne);const Fe=this._triggers.get(ne).fallbackTransition,nt=p.get(ne)||Uo,Ct=new go(za),an=new oy(this.id,ne,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:ne,transition:Fe,fromState:nt,toState:Ct,player:an,isFallbackTransition:!0})})}}removeNode(u,l){const p=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,l),this.triggerLeaveAnimation(u,l,!0))return;let T=!1;if(p.totalAnimations){const V=p.players.length?p.playersByQueriedElement.get(u):[];if(V&&V.length)T=!0;else{let ne=u;for(;ne=ne.parentNode;)if(p.statesByElement.get(ne)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(u),T)p.markElementAsRemoved(this.id,u,!1,l);else{const V=u[as];(!V||V===oo)&&(p.afterFlush(()=>this.clearElementCache(u)),p.destroyInnerAnimations(u),p._onRemovalComplete(u,l))}}insertNode(u,l){Ql(u,this._hostClassName)}drainQueuedTransitions(u){const l=[];return this._queue.forEach(p=>{const T=p.player;if(T.destroyed)return;const V=p.element,ne=this._elementListeners.get(V);ne&&ne.forEach(le=>{if(le.name==p.triggerName){const Fe=du(V,p.triggerName,p.fromState.value,p.toState.value);Fe._data=u,ng(p.player,le.phase,Fe,le.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):l.push(p)}),this._queue=[],l.sort((p,T)=>{const V=p.transition.ast.depCount,ne=T.transition.ast.depCount;return 0==V||0==ne?V-ne:this._engine.driver.containsElement(p.element,T.element)?1:-1})}destroy(u){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}}class Bf{_onRemovalComplete(u,l){this.onRemovalComplete(u,l)}constructor(u,l,p){this.bodyNode=u,this.driver=l,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,V)=>{}}get queuedPlayers(){const u=[];return this._namespaceList.forEach(l=>{l.players.forEach(p=>{p.queued&&u.push(p)})}),u}createNamespace(u,l){const p=new $f(u,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(p,l):(this.newHostElements.set(l,p),this.collectEnterElement(l)),this._namespaceLookup[u]=p}_balanceNamespaceList(u,l){const p=this._namespaceList,T=this.namespacesByHostElement;if(p.length-1>=0){let ne=!1,le=this.driver.getParentElement(l);for(;le;){const Fe=T.get(le);if(Fe){const nt=p.indexOf(Fe);p.splice(nt+1,0,u),ne=!0;break}le=this.driver.getParentElement(le)}ne||p.unshift(u)}else p.push(u);return T.set(l,u),u}register(u,l){let p=this._namespaceLookup[u];return p||(p=this.createNamespace(u,l)),p}registerTrigger(u,l,p){let T=this._namespaceLookup[u];T&&T.register(l,p)&&this.totalAnimations++}destroy(u,l){u&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(u);this.namespacesByHostElement.delete(p.hostElement);const T=this._namespaceList.indexOf(p);T>=0&&this._namespaceList.splice(T,1),p.destroy(l),delete this._namespaceLookup[u]}))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const l=new Set,p=this.statesByElement.get(u);if(p)for(let T of p.values())if(T.namespaceId){const V=this._fetchNamespace(T.namespaceId);V&&l.add(V)}return l}trigger(u,l,p,T){if(Fm(l)){const V=this._fetchNamespace(u);if(V)return V.trigger(l,p,T),!0}return!1}insertNode(u,l,p,T){if(!Fm(l))return;const V=l[as];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const ne=this.collectedLeaveElements.indexOf(l);ne>=0&&this.collectedLeaveElements.splice(ne,1)}if(u){const ne=this._fetchNamespace(u);ne&&ne.insertNode(l,p)}T&&this.collectEnterElement(l)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,l){l?this.disabledNodes.has(u)||(this.disabledNodes.add(u),Ql(u,ve)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),pg(u,ve))}removeNode(u,l,p){if(Fm(l)){const T=u?this._fetchNamespace(u):null;T?T.removeNode(l,p):this.markElementAsRemoved(u,l,!1,p);const V=this.namespacesByHostElement.get(l);V&&V.id!==u&&V.removeNode(l,p)}else this._onRemovalComplete(l,p)}markElementAsRemoved(u,l,p,T,V){this.collectedLeaveElements.push(l),l[as]={namespaceId:u,setForRemoval:T,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:V}}listen(u,l,p,T,V){return Fm(l)?this._fetchNamespace(u).listen(l,p,T,V):()=>{}}_buildInstruction(u,l,p,T,V){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,p,T,u.fromState.options,u.toState.options,l,V)}destroyInnerAnimations(u){let l=this.driver.query(u,Rc,!0);l.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(u,ql,!0),l.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(u){const l=this.playersByElement.get(u);l&&l.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(u){const l=this.playersByQueriedElement.get(u);l&&l.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return Ha(this.players).onDone(()=>u());u()})}processLeaveNode(u){const l=u[as];if(l&&l.setForRemoval){if(u[as]=oo,l.namespaceId){this.destroyInnerAnimations(u);const p=this._fetchNamespace(l.namespaceId);p&&p.clearElementCache(u)}this._onRemovalComplete(u,l.setForRemoval)}u.classList?.contains(ve)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(u=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,T)=>this._balanceNamespaceList(p,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)Ql(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{l=this._flushAnimations(p,u)}finally{for(let T=0;T<p.length;T++)p[T]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],l.length?Ha(l).onDone(()=>{p.forEach(T=>T())}):p.forEach(T=>T())}}reportError(u){throw function wf(_){return new n.wOt(3402,!1)}()}_flushAnimations(u,l){const p=new Of,T=[],V=new Map,ne=[],le=new Map,Fe=new Map,nt=new Map,Ct=new Set;this.disabledNodes.forEach(Gn=>{Ct.add(Gn);const tr=this.driver.query(Gn,".ng-animate-queued",!0);for(let Ir=0;Ir<tr.length;Ir++)Ct.add(tr[Ir])});const an=this.bodyNode,Bn=Array.from(this.statesByElement.keys()),wn=vd(Bn,this.collectedEnterElements),On=new Map;let Pn=0;wn.forEach((Gn,tr)=>{const Ir=hl+Pn++;On.set(tr,Ir),Gn.forEach(di=>Ql(di,Ir))});const mr=[],jr=new Set,ti=new Set;for(let Gn=0;Gn<this.collectedLeaveElements.length;Gn++){const tr=this.collectedLeaveElements[Gn],Ir=tr[as];Ir&&Ir.setForRemoval&&(mr.push(tr),jr.add(tr),Ir.hasAnimation?this.driver.query(tr,".ng-star-inserted",!0).forEach(di=>jr.add(di)):ti.add(tr))}const vi=new Map,Cr=vd(Bn,Array.from(jr));Cr.forEach((Gn,tr)=>{const Ir=uh+Pn++;vi.set(tr,Ir),Gn.forEach(di=>Ql(di,Ir))}),u.push(()=>{wn.forEach((Gn,tr)=>{const Ir=On.get(tr);Gn.forEach(di=>pg(di,Ir))}),Cr.forEach((Gn,tr)=>{const Ir=vi.get(tr);Gn.forEach(di=>pg(di,Ir))}),mr.forEach(Gn=>{this.processLeaveNode(Gn)})});const Si=[],pi=[];for(let Gn=this._namespaceList.length-1;Gn>=0;Gn--)this._namespaceList[Gn].drainQueuedTransitions(l).forEach(Ir=>{const di=Ir.player,Ks=Ir.element;if(Si.push(di),this.collectedEnterElements.length){const ao=Ks[as];if(ao&&ao.setForMove){if(ao.previousTriggersValues&&ao.previousTriggersValues.has(Ir.triggerName)){const Aa=ao.previousTriggersValues.get(Ir.triggerName),na=this.statesByElement.get(Ir.element);if(na&&na.has(Ir.triggerName)){const Wf=na.get(Ir.triggerName);Wf.value=Aa,na.set(Ir.triggerName,Wf)}}return void di.destroy()}}const Wa=!an||!this.driver.containsElement(an,Ks),Do=vi.get(Ks),gl=On.get(Ks),Xi=this._buildInstruction(Ir,p,gl,Do,Wa);if(Xi.errors&&Xi.errors.length)return void pi.push(Xi);if(Wa)return di.onStart(()=>to(Ks,Xi.fromStyles)),di.onDestroy(()=>zs(Ks,Xi.toStyles)),void T.push(di);if(Ir.isFallbackTransition)return di.onStart(()=>to(Ks,Xi.fromStyles)),di.onDestroy(()=>zs(Ks,Xi.toStyles)),void T.push(di);const Fc=[];Xi.timelines.forEach(ao=>{ao.stretchStartingKeyframe=!0,this.disabledNodes.has(ao.element)||Fc.push(ao)}),Xi.timelines=Fc,p.append(Ks,Xi.timelines),ne.push({instruction:Xi,player:di,element:Ks}),Xi.queriedElements.forEach(ao=>Lo(le,ao,[]).push(di)),Xi.preStyleProps.forEach((ao,Aa)=>{if(ao.size){let na=Fe.get(Aa);na||Fe.set(Aa,na=new Set),ao.forEach((Wf,bh)=>na.add(bh))}}),Xi.postStyleProps.forEach((ao,Aa)=>{let na=nt.get(Aa);na||nt.set(Aa,na=new Set),ao.forEach((Wf,bh)=>na.add(bh))})});if(pi.length){const Gn=[];pi.forEach(tr=>{Gn.push(function ea(_,u){return new n.wOt(3505,!1)}())}),Si.forEach(tr=>tr.destroy()),this.reportError(Gn)}const Ei=new Map,ls=new Map;ne.forEach(Gn=>{const tr=Gn.element;p.has(tr)&&(ls.set(tr,tr),this._beforeAnimationBuild(Gn.player.namespaceId,Gn.instruction,Ei))}),T.forEach(Gn=>{const tr=Gn.element;this._getPreviousPlayers(tr,!1,Gn.namespaceId,Gn.triggerName,null).forEach(di=>{Lo(Ei,tr,[]).push(di),di.destroy()})});const ns=mr.filter(Gn=>ly(Gn,Fe,nt)),Yi=new Map;km(Yi,this.driver,ti,nt,zi.kp).forEach(Gn=>{ly(Gn,Fe,nt)&&ns.push(Gn)});const ta=new Map;wn.forEach((Gn,tr)=>{km(ta,this.driver,new Set(Gn),Fe,zi.FX)}),ns.forEach(Gn=>{const tr=Yi.get(Gn),Ir=ta.get(Gn);Yi.set(Gn,new Map([...tr?.entries()??[],...Ir?.entries()??[]]))});const Ws=[],_u=[],yu={};ne.forEach(Gn=>{const{element:tr,player:Ir,instruction:di}=Gn;if(p.has(tr)){if(Ct.has(tr))return Ir.onDestroy(()=>zs(tr,di.toStyles)),Ir.disabled=!0,Ir.overrideTotalTime(di.totalTime),void T.push(Ir);let Ks=yu;if(ls.size>1){let Do=tr;const gl=[];for(;Do=Do.parentNode;){const Xi=ls.get(Do);if(Xi){Ks=Xi;break}gl.push(Do)}gl.forEach(Xi=>ls.set(Xi,Ks))}const Wa=this._buildAnimation(Ir.namespaceId,di,Ei,V,ta,Yi);if(Ir.setRealPlayer(Wa),Ks===yu)Ws.push(Ir);else{const Do=this.playersByElement.get(Ks);Do&&Do.length&&(Ir.parentPlayer=Ha(Do)),T.push(Ir)}}else to(tr,di.fromStyles),Ir.onDestroy(()=>zs(tr,di.toStyles)),_u.push(Ir),Ct.has(tr)&&T.push(Ir)}),_u.forEach(Gn=>{const tr=V.get(Gn.element);if(tr&&tr.length){const Ir=Ha(tr);Gn.setRealPlayer(Ir)}}),T.forEach(Gn=>{Gn.parentPlayer?Gn.syncPlayerEvents(Gn.parentPlayer):Gn.destroy()});for(let Gn=0;Gn<mr.length;Gn++){const tr=mr[Gn],Ir=tr[as];if(pg(tr,uh),Ir&&Ir.hasAnimation)continue;let di=[];if(le.size){let Wa=le.get(tr);Wa&&Wa.length&&di.push(...Wa);let Do=this.driver.query(tr,ql,!0);for(let gl=0;gl<Do.length;gl++){let Xi=le.get(Do[gl]);Xi&&Xi.length&&di.push(...Xi)}}const Ks=di.filter(Wa=>!Wa.destroyed);Ks.length?Iv(this,tr,Ks):this.processLeaveNode(tr)}return mr.length=0,Ws.forEach(Gn=>{this.players.push(Gn),Gn.onDone(()=>{Gn.destroy();const tr=this.players.indexOf(Gn);this.players.splice(tr,1)}),Gn.play()}),Ws}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,l,p,T,V){let ne=[];if(l){const le=this.playersByQueriedElement.get(u);le&&(ne=le)}else{const le=this.playersByElement.get(u);if(le){const Fe=!V||V==za;le.forEach(nt=>{nt.queued||!Fe&&nt.triggerName!=T||ne.push(nt)})}}return(p||T)&&(ne=ne.filter(le=>!(p&&p!=le.namespaceId||T&&T!=le.triggerName))),ne}_beforeAnimationBuild(u,l,p){const V=l.element,ne=l.isRemovalTransition?void 0:u,le=l.isRemovalTransition?void 0:l.triggerName;for(const Fe of l.timelines){const nt=Fe.element,Ct=nt!==V,an=Lo(p,nt,[]);this._getPreviousPlayers(nt,Ct,ne,le,l.toState).forEach(wn=>{const On=wn.getRealPlayer();On.beforeDestroy&&On.beforeDestroy(),wn.destroy(),an.push(wn)})}to(V,l.fromStyles)}_buildAnimation(u,l,p,T,V,ne){const le=l.triggerName,Fe=l.element,nt=[],Ct=new Set,an=new Set,Bn=l.timelines.map(On=>{const Pn=On.element;Ct.add(Pn);const mr=Pn[as];if(mr&&mr.removedBeforeQueried)return new zi.sf(On.duration,On.delay);const jr=Pn!==Fe,ti=function Gf(_){const u=[];return ay(_,u),u}((p.get(Pn)||qi).map(Ei=>Ei.getRealPlayer())).filter(Ei=>!!Ei.element&&Ei.element===Pn),vi=V.get(Pn),Cr=ne.get(Pn),Si=ch(this._normalizer,On.keyframes,vi,Cr),pi=this._buildPlayer(On,Si,ti);if(On.subTimeline&&T&&an.add(Pn),jr){const Ei=new oy(u,le,Pn);Ei.setRealPlayer(pi),nt.push(Ei)}return pi});nt.forEach(On=>{Lo(this.playersByQueriedElement,On.element,[]).push(On),On.onDone(()=>function wE(_,u,l){let p=_.get(u);if(p){if(p.length){const T=p.indexOf(l);p.splice(T,1)}0==p.length&&_.delete(u)}return p}(this.playersByQueriedElement,On.element,On))}),Ct.forEach(On=>Ql(On,po));const wn=Ha(Bn);return wn.onDestroy(()=>{Ct.forEach(On=>pg(On,po)),zs(Fe,l.toStyles)}),an.forEach(On=>{Lo(T,On,[]).push(wn)}),wn}_buildPlayer(u,l,p){return l.length>0?this.driver.animate(u.element,l,u.duration,u.delay,u.easing,p):new zi.sf(u.duration,u.delay)}}class oy{constructor(u,l,p){this.namespaceId=u,this.triggerName=l,this.element=p,this._player=new zi.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((l,p)=>{l.forEach(T=>ng(u,p,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const l=this._player;l.triggerCallback&&u.onStart(()=>l.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,l){Lo(this._queuedCallbacks,u,[]).push(l)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const l=this._player;l.triggerCallback&&l.triggerCallback(u)}}function Fm(_){return _&&1===_.nodeType}function Cv(_,u){const l=_.style.display;return _.style.display=u??"none",l}function km(_,u,l,p,T){const V=[];l.forEach(Fe=>V.push(Cv(Fe)));const ne=[];p.forEach((Fe,nt)=>{const Ct=new Map;Fe.forEach(an=>{const Bn=u.computeStyle(nt,an,T);Ct.set(an,Bn),(!Bn||0==Bn.length)&&(nt[as]=ji,ne.push(nt))}),_.set(nt,Ct)});let le=0;return l.forEach(Fe=>Cv(Fe,V[le++])),ne}function vd(_,u){const l=new Map;if(_.forEach(le=>l.set(le,[])),0==u.length)return l;const T=new Set(u),V=new Map;function ne(le){if(!le)return 1;let Fe=V.get(le);if(Fe)return Fe;const nt=le.parentNode;return Fe=l.has(nt)?nt:T.has(nt)?1:ne(nt),V.set(le,Fe),Fe}return u.forEach(le=>{const Fe=ne(le);1!==Fe&&l.get(Fe).push(le)}),l}function Ql(_,u){_.classList?.add(u)}function pg(_,u){_.classList?.remove(u)}function Iv(_,u,l){Ha(l).onDone(()=>_.processLeaveNode(u))}function ay(_,u){for(let l=0;l<_.length;l++){const p=_[l];p instanceof zi.ui?ay(p.players,u):u.push(p)}}function ly(_,u,l){const p=l.get(_);if(!p)return!1;let T=u.get(_);return T?p.forEach(V=>T.add(V)):u.set(_,p),l.delete(_),!0}class wv{constructor(u,l,p){this.bodyNode=u,this._driver=l,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(T,V)=>{},this._transitionEngine=new Bf(u,l,p),this._timelineEngine=new E(u,l,p),this._transitionEngine.onRemovalComplete=(T,V)=>this.onRemovalComplete(T,V)}registerTrigger(u,l,p,T,V){const ne=u+"-"+T;let le=this._triggerCache[ne];if(!le){const Fe=[],Ct=pu(this._driver,V,Fe,[]);if(Fe.length)throw function Zp(_,u){return new n.wOt(3404,!1)}();le=function Eh(_,u,l){return new ha(_,u,l)}(T,Ct,this._normalizer),this._triggerCache[ne]=le}this._transitionEngine.registerTrigger(l,T,le)}register(u,l){this._transitionEngine.register(u,l)}destroy(u,l){this._transitionEngine.destroy(u,l)}onInsert(u,l,p,T){this._transitionEngine.insertNode(u,l,p,T)}onRemove(u,l,p){this._transitionEngine.removeNode(u,l,p)}disableAnimations(u,l){this._transitionEngine.markElementAsDisabled(u,l)}process(u,l,p,T){if("@"==p.charAt(0)){const[V,ne]=q_(p);this._timelineEngine.command(V,l,ne,T)}else this._transitionEngine.trigger(u,l,p,T)}listen(u,l,p,T,V){if("@"==p.charAt(0)){const[ne,le]=q_(p);return this._timelineEngine.listen(ne,l,le,V)}return this._transitionEngine.listen(u,l,p,T,V)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(u){this._transitionEngine.afterFlushAnimationsDone(u)}}let f0=(()=>{class _{static{this.initialStylesByElement=new WeakMap}constructor(l,p,T){this._element=l,this._startStyles=p,this._endStyles=T,this._state=0;let V=_.initialStylesByElement.get(l);V||_.initialStylesByElement.set(l,V=new Map),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&zs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zs(this._element,this._initialStyles),this._endStyles&&(zs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_.initialStylesByElement.delete(this._element),this._startStyles&&(to(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(to(this._element,this._endStyles),this._endStyles=null),zs(this._element,this._initialStyles),this._state=3)}}return _})();function Av(_){let u=null;return _.forEach((l,p)=>{(function DE(_){return"display"===_||"position"===_})(p)&&(u=u||new Map,u.set(p,l))}),u}class RE{constructor(u,l,p,T){this.element=u,this.keyframes=l,this.options=p,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const l=[];return u.forEach(p=>{l.push(Object.fromEntries(p))}),l}_triggerWebAnimation(u,l,p){return u.animate(this._convertKeyframesToObject(l),p)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,T)=>{"offset"!==T&&u.set(T,this._finished?p:pv(this.element,T))}),this.currentSnapshot=u}triggerCallback(u){const l="start"===u?this._onStartFns:this._onDoneFns;l.forEach(p=>p()),l.length=0}}class Ao{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}matchesElement(u,l){return!1}containsElement(u,l){return og(u,l)}getParentElement(u){return ig(u)}query(u,l,p){return Q_(u,l,p)}computeStyle(u,l,p){return window.getComputedStyle(u)[l]}animate(u,l,p,T,V,ne=[]){const Fe={duration:p,delay:T,fill:0==T?"both":"forwards"};V&&(Fe.easing=V);const nt=new Map,Ct=ne.filter(wn=>wn instanceof RE);(function ey(_,u){return 0===_||0===u})(p,T)&&Ct.forEach(wn=>{wn.currentSnapshot.forEach((On,Pn)=>nt.set(Pn,On))});let an=function hd(_){return _.length?_[0]instanceof Map?_:_.map(u=>dd(u)):[]}(l).map(wn=>Ca(wn));an=function Rm(_,u,l){if(l.size&&u.length){let p=u[0],T=[];if(l.forEach((V,ne)=>{p.has(ne)||T.push(ne),p.set(ne,V)}),T.length)for(let V=1;V<u.length;V++){let ne=u[V];T.forEach(le=>ne.set(le,pv(_,le)))}}return u}(u,an,nt);const Bn=function cb(_,u){let l=null,p=null;return Array.isArray(u)&&u.length?(l=Av(u[0]),u.length>1&&(p=Av(u[u.length-1]))):u instanceof Map&&(l=Av(u)),l||p?new f0(_,l,p):null}(u,an);return new RE(u,an,Fe,Bn)}}let xE=(()=>{class _ extends zi.S6{constructor(l,p){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(p.body,{id:"0",encapsulation:n.gXe.None,styles:[],data:{animation:[]}})}build(l){const p=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(l)?(0,zi.K2)(l):l;return Sv(this._renderer,null,p,"register",[T]),new p0(p,this._renderer)}static{this.\u0275fac=function(p){return new(p||_)(n.KVO(n._9s),n.KVO(Re.qQ))}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac})}}return _})();class p0 extends zi.Ro{constructor(u,l){super(),this._id=u,this._renderer=l}create(u,l){return new g0(this._id,u,l||{},this._renderer)}}class g0{constructor(u,l,p,T){this.id=u,this.element=l,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(u,l){return this._renderer.listen(this.element,`@@${this.id}:${u}`,l)}_command(u,...l){return Sv(this._renderer,this.element,this.id,u,l)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Sv(_,u,l,p,T){return _.setProperty(u,`@@${l}:${p}`,T)}const Dv="@.disabled";let PE=(()=>{class _{constructor(l,p,T){this.delegate=l,this.engine=p,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(V,ne)=>{const le=ne?.parentNode(V);le&&ne.removeChild(le,V)}}createRenderer(l,p){const V=this.delegate.createRenderer(l,p);if(!(l&&p&&p.data&&p.data.animation)){let Ct=this._rendererCache.get(V);return Ct||(Ct=new Hf("",V,this.engine,()=>this._rendererCache.delete(V)),this._rendererCache.set(V,Ct)),Ct}const ne=p.id,le=p.id+"-"+this._currentId;this._currentId++,this.engine.register(le,l);const Fe=Ct=>{Array.isArray(Ct)?Ct.forEach(Fe):this.engine.registerTrigger(ne,le,l,Ct.name,Ct)};return p.data.animation.forEach(Fe),new m0(this,le,V,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,p,T){l>=0&&l<this._microtaskId?this._zone.run(()=>p(T)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(V=>{const[ne,le]=V;ne(le)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(p){return new(p||_)(n.KVO(n._9s),n.KVO(wv),n.KVO(n.SKi))}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac})}}return _})();class Hf{constructor(u,l,p,T){this.namespaceId=u,this.delegate=l,this.engine=p,this._onDestroy=T}get data(){return this.delegate.data}destroyNode(u){this.delegate.destroyNode?.(u)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(u,l){return this.delegate.createElement(u,l)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,l){this.delegate.appendChild(u,l),this.engine.onInsert(this.namespaceId,l,u,!1)}insertBefore(u,l,p,T=!0){this.delegate.insertBefore(u,l,p),this.engine.onInsert(this.namespaceId,l,u,T)}removeChild(u,l,p){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(u,l){return this.delegate.selectRootElement(u,l)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,l,p,T){this.delegate.setAttribute(u,l,p,T)}removeAttribute(u,l,p){this.delegate.removeAttribute(u,l,p)}addClass(u,l){this.delegate.addClass(u,l)}removeClass(u,l){this.delegate.removeClass(u,l)}setStyle(u,l,p,T){this.delegate.setStyle(u,l,p,T)}removeStyle(u,l,p){this.delegate.removeStyle(u,l,p)}setProperty(u,l,p){"@"==l.charAt(0)&&l==Dv?this.disableAnimations(u,!!p):this.delegate.setProperty(u,l,p)}setValue(u,l){this.delegate.setValue(u,l)}listen(u,l,p){return this.delegate.listen(u,l,p)}disableAnimations(u,l){this.engine.disableAnimations(u,l)}}class m0 extends Hf{constructor(u,l,p,T,V){super(l,p,T,V),this.factory=u,this.namespaceId=l}setProperty(u,l,p){"@"==l.charAt(0)?"."==l.charAt(1)&&l==Dv?this.disableAnimations(u,p=void 0===p||!!p):this.engine.process(this.namespaceId,u,l.slice(1),p):this.delegate.setProperty(u,l,p)}listen(u,l,p){if("@"==l.charAt(0)){const T=function _0(_){switch(_){case"body":return document.body;case"document":return document;case"window":return window;default:return _}}(u);let V=l.slice(1),ne="";return"@"!=V.charAt(0)&&([V,ne]=function ME(_){const u=_.indexOf(".");return[_.substring(0,u),_.slice(u+1)]}(V)),this.engine.listen(this.namespaceId,T,V,ne,le=>{this.factory.scheduleListenerCallback(le._data||-1,p,le)})}return this.delegate.listen(u,l,p)}}const uy=[{provide:zi.S6,useClass:xE},{provide:md,useFactory:function OE(){return new _d}},{provide:wv,useClass:(()=>{class _ extends wv{constructor(l,p,T,V){super(l.body,p,T)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(p){return new(p||_)(n.KVO(Re.qQ),n.KVO(Sf),n.KVO(md),n.KVO(n.o8S))}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac})}}return _})()},{provide:n._9s,useFactory:function ub(_,u,l){return new PE(_,u,l)},deps:[ie.B7,wv,n.SKi]}],Lm=[{provide:Sf,useFactory:()=>new Ao},{provide:n.bc$,useValue:"BrowserAnimations"},...uy],Nc=[{provide:Sf,useClass:Dm},{provide:n.bc$,useValue:"NoopAnimations"},...uy];let v0=(()=>{class _{static withConfig(l){return{ngModule:_,providers:l.disableAnimations?Nc:Lm}}static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275mod=n.$C({type:_})}static{this.\u0275inj=n.G2t({providers:Lm,imports:[ie.Bb]})}}return _})();const pl={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","elderlyhomecareafh.com":"SJgFxBYkopnPR4WibCAf","www.elderlyhomecareafh.com":"SJgFxBYkopnPR4WibCAf","prestigecareafh.com":"pDJgpl34XUnRblyIlBA7","www.prestigecareafh.com":"pDJgpl34XUnRblyIlBA7","countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","www.countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","sp.sbmediahub.com":"KyQfU7hjez0uXRfAjqcu","elderlyhc.sbmediahub.com":"SJgFxBYkopnPR4WibCAf","prestige.sbmediahub.com":"pDJgpl34XUnRblyIlBA7","cc.sbmediahub.com":"yrNc50SvfPqwTSkvvygA","hh.sbmediahub.com":"vfCMoPjAu2ROVBbKvk0D","ae.sbmediahub.com":"UiSDf9elSjwcbQs2HZb1","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7"};function NE(_,u,l){return()=>{const p=window.location.hostname,T=new URL(window.location.href);let V=pl[p]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return _.loadTheme(V)}}function FE(_,u,l){const p=window.location.hostname,T=new URL(window.location.href);let V=pl[p]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return()=>{_.loadBusinessData(V).toPromise().then(()=>{}).catch(ne=>{console.error("Error loading business data:",ne)})}}let b0=(()=>{class _{static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275mod=n.$C({type:_,bootstrap:[Jg]})}static{this.\u0275inj=n.G2t({providers:[{provide:n.hnV,useFactory:NE,deps:[sh,Re.aZ,oe.Ix],multi:!0},{provide:n.hnV,useFactory:FE,deps:[Nt.A,Re.aZ,oe.Ix],multi:!0}],imports:[ie.Bb,oe.iI,Ry,Ju.cM,Zn.y5,pr.X8,cn.bf.initializeApp(Rp_firebase),b_(()=>df(Rp_firebase)),N_(()=>sv()),Ac(()=>ko()),oi.X1,oi.YN,Ce.q1,v0]})}}return _})();ie.sG().bootstrapModule(b0).catch(_=>console.error(_))},4412:(sn,et,O)=>{O.d(et,{t:()=>ie});var i=O(1413);class ie extends i.B{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const oe=super._subscribe(Ce);return!oe.closed&&Ce.next(this._value),oe}getValue(){const{hasError:Ce,thrownError:oe,_value:Te}=this;if(Ce)throw oe;return this._throwIfClosed(),Te}next(Ce){super.next(this._value=Ce)}}},1985:(sn,et,O)=>{O.d(et,{c:()=>be});var i=O(7707),ie=O(8359),n=O(3494),Ce=O(1203),oe=O(1026),Te=O(8071),Ae=O(9786);let be=(()=>{class me{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const Je=new me;return Je.source=this,Je.operator=Be,Je}subscribe(Be,Je,qe){const fe=function Q(me){return me&&me instanceof i.vU||function z(me){return me&&(0,Te.T)(me.next)&&(0,Te.T)(me.error)&&(0,Te.T)(me.complete)}(me)&&(0,ie.Uv)(me)}(Be)?Be:new i.Ms(Be,Je,qe);return(0,Ae.Y)(()=>{const{operator:He,source:Nt}=this;fe.add(He?He.call(fe,Nt):Nt?this._subscribe(fe):this._trySubscribe(fe))}),fe}_trySubscribe(Be){try{return this._subscribe(Be)}catch(Je){Be.error(Je)}}forEach(Be,Je){return new(Je=Ne(Je))((qe,fe)=>{const He=new i.Ms({next:Nt=>{try{Be(Nt)}catch(Re){fe(Re),He.unsubscribe()}},error:fe,complete:qe});this.subscribe(He)})}_subscribe(Be){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(Be)}[n.s](){return this}pipe(...Be){return(0,Ce.m)(Be)(this)}toPromise(Be){return new(Be=Ne(Be))((Je,qe)=>{let fe;this.subscribe(He=>fe=He,He=>qe(He),()=>Je(fe))})}}return me.create=ke=>new me(ke),me})();function Ne(me){var ke;return null!==(ke=me??oe.$.Promise)&&void 0!==ke?ke:Promise}},1413:(sn,et,O)=>{O.d(et,{B:()=>Ae});var i=O(1985),ie=O(8359);const Ce=(0,O(1853).L)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=O(7908),Te=O(9786);let Ae=(()=>{class Ne extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const me=new be(this,this);return me.operator=Q,me}_throwIfClosed(){if(this.closed)throw new Ce}next(Q){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(Q)}})}error(Q){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:me}=this;for(;me.length;)me.shift().error(Q)}})}complete(){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:me,isStopped:ke,observers:Be}=this;return me||ke?ie.Kn:(this.currentObservers=null,Be.push(Q),new ie.yU(()=>{this.currentObservers=null,(0,oe.o)(Be,Q)}))}_checkFinalizedStatuses(Q){const{hasError:me,thrownError:ke,isStopped:Be}=this;me?Q.error(ke):Be&&Q.complete()}asObservable(){const Q=new i.c;return Q.source=this,Q}}return Ne.create=(z,Q)=>new be(z,Q),Ne})();class be extends Ae{constructor(z,Q){super(),this.destination=z,this.source=Q}next(z){var Q,me;null===(me=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===me||me.call(Q,z)}error(z){var Q,me;null===(me=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===me||me.call(Q,z)}complete(){var z,Q;null===(Q=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===Q||Q.call(z)}_subscribe(z){var Q,me;return null!==(me=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(z))&&void 0!==me?me:ie.Kn}}},7707:(sn,et,O)=>{O.d(et,{Ms:()=>qe,vU:()=>me});var i=O(8071),ie=O(8359),n=O(1026),Ce=O(5334),oe=O(5343);const Te=Ne("C",void 0,void 0);function Ne(Ie,dt,ot){return{kind:Ie,value:dt,error:ot}}var z=O(9270),Q=O(9786);class me extends ie.yU{constructor(dt){super(),this.isStopped=!1,dt?(this.destination=dt,(0,ie.Uv)(dt)&&dt.add(this)):this.destination=Re}static create(dt,ot,_t){return new qe(dt,ot,_t)}next(dt){this.isStopped?Nt(function be(Ie){return Ne("N",Ie,void 0)}(dt),this):this._next(dt)}error(dt){this.isStopped?Nt(function Ae(Ie){return Ne("E",void 0,Ie)}(dt),this):(this.isStopped=!0,this._error(dt))}complete(){this.isStopped?Nt(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(dt){this.destination.next(dt)}_error(dt){try{this.destination.error(dt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Be(Ie,dt){return ke.call(Ie,dt)}class Je{constructor(dt){this.partialObserver=dt}next(dt){const{partialObserver:ot}=this;if(ot.next)try{ot.next(dt)}catch(_t){fe(_t)}}error(dt){const{partialObserver:ot}=this;if(ot.error)try{ot.error(dt)}catch(_t){fe(_t)}else fe(dt)}complete(){const{partialObserver:dt}=this;if(dt.complete)try{dt.complete()}catch(ot){fe(ot)}}}class qe extends me{constructor(dt,ot,_t){let Lt;if(super(),(0,i.T)(dt)||!dt)Lt={next:dt??void 0,error:ot??void 0,complete:_t??void 0};else{let $t;this&&n.$.useDeprecatedNextContext?($t=Object.create(dt),$t.unsubscribe=()=>this.unsubscribe(),Lt={next:dt.next&&Be(dt.next,$t),error:dt.error&&Be(dt.error,$t),complete:dt.complete&&Be(dt.complete,$t)}):Lt=dt}this.destination=new Je(Lt)}}function fe(Ie){n.$.useDeprecatedSynchronousErrorHandling?(0,Q.l)(Ie):(0,Ce.m)(Ie)}function Nt(Ie,dt){const{onStoppedNotification:ot}=n.$;ot&&z.f.setTimeout(()=>ot(Ie,dt))}const Re={closed:!0,next:oe.l,error:function He(Ie){throw Ie},complete:oe.l}},8359:(sn,et,O)=>{O.d(et,{Kn:()=>Te,yU:()=>oe,Uv:()=>Ae});var i=O(8071);const n=(0,O(1853).L)(Ne=>function(Q){Ne(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((me,ke)=>`${ke+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var Ce=O(7908);class oe{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const Be of Q)Be.remove(this);else Q.remove(this);const{initialTeardown:me}=this;if((0,i.T)(me))try{me()}catch(Be){z=Be instanceof n?Be.errors:[Be]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Be of ke)try{be(Be)}catch(Je){z=z??[],Je instanceof n?z=[...z,...Je.errors]:z.push(Je)}}if(z)throw new n(z)}}add(z){var Q;if(z&&z!==this)if(this.closed)be(z);else{if(z instanceof oe){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(z)}}_hasParent(z){const{_parentage:Q}=this;return Q===z||Array.isArray(Q)&&Q.includes(z)}_addParent(z){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(z),Q):Q?[Q,z]:z}_removeParent(z){const{_parentage:Q}=this;Q===z?this._parentage=null:Array.isArray(Q)&&(0,Ce.o)(Q,z)}remove(z){const{_finalizers:Q}=this;Q&&(0,Ce.o)(Q,z),z instanceof oe&&z._removeParent(this)}}oe.EMPTY=(()=>{const Ne=new oe;return Ne.closed=!0,Ne})();const Te=oe.EMPTY;function Ae(Ne){return Ne instanceof oe||Ne&&"closed"in Ne&&(0,i.T)(Ne.remove)&&(0,i.T)(Ne.add)&&(0,i.T)(Ne.unsubscribe)}function be(Ne){(0,i.T)(Ne)?Ne():Ne.unsubscribe()}},1026:(sn,et,O)=>{O.d(et,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(sn,et,O)=>{O.d(et,{x:()=>oe});var i=O(6365),n=O(3794),Ce=O(8455);function oe(...Te){return function ie(){return(0,i.U)(1)}()((0,Ce.H)(Te,(0,n.lI)(Te)))}},983:(sn,et,O)=>{O.d(et,{w:()=>ie});const ie=new(O(1985).c)(oe=>oe.complete())},8455:(sn,et,O)=>{O.d(et,{H:()=>dt});var i=O(8750),ie=O(941),n=O(6745),Te=O(1985),be=O(4761),Ne=O(8071),z=O(5225);function me(ot,_t){if(!ot)throw new Error("Iterable cannot be null");return new Te.c(Lt=>{(0,z.N)(Lt,_t,()=>{const $t=ot[Symbol.asyncIterator]();(0,z.N)(Lt,_t,()=>{$t.next().then(xe=>{xe.done?Lt.complete():Lt.next(xe.value)})},0,!0)})})}var ke=O(5055),Be=O(9858),Je=O(7441),qe=O(5397),fe=O(7953),He=O(591),Nt=O(5196);function dt(ot,_t){return _t?function Ie(ot,_t){if(null!=ot){if((0,ke.l)(ot))return function Ce(ot,_t){return(0,i.Tg)(ot).pipe((0,n._)(_t),(0,ie.Q)(_t))}(ot,_t);if((0,Je.X)(ot))return function Ae(ot,_t){return new Te.c(Lt=>{let $t=0;return _t.schedule(function(){$t===ot.length?Lt.complete():(Lt.next(ot[$t++]),Lt.closed||this.schedule())})})}(ot,_t);if((0,Be.y)(ot))return function oe(ot,_t){return(0,i.Tg)(ot).pipe((0,n._)(_t),(0,ie.Q)(_t))}(ot,_t);if((0,fe.T)(ot))return me(ot,_t);if((0,qe.x)(ot))return function Q(ot,_t){return new Te.c(Lt=>{let $t;return(0,z.N)(Lt,_t,()=>{$t=ot[be.l](),(0,z.N)(Lt,_t,()=>{let xe,tn;try{({value:xe,done:tn}=$t.next())}catch(un){return void Lt.error(un)}tn?Lt.complete():Lt.next(xe)},0,!0)}),()=>(0,Ne.T)($t?.return)&&$t.return()})}(ot,_t);if((0,Nt.U)(ot))return function Re(ot,_t){return me((0,Nt.C)(ot),_t)}(ot,_t)}throw(0,He.L)(ot)}(ot,_t):(0,i.Tg)(ot)}},8750:(sn,et,O)=>{O.d(et,{Tg:()=>ke});var i=O(1635),ie=O(7441),n=O(9858),Ce=O(1985),oe=O(5055),Te=O(7953),Ae=O(591),be=O(5397),Ne=O(5196),z=O(8071),Q=O(5334),me=O(3494);function ke(Ie){if(Ie instanceof Ce.c)return Ie;if(null!=Ie){if((0,oe.l)(Ie))return function Be(Ie){return new Ce.c(dt=>{const ot=Ie[me.s]();if((0,z.T)(ot.subscribe))return ot.subscribe(dt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,ie.X)(Ie))return function Je(Ie){return new Ce.c(dt=>{for(let ot=0;ot<Ie.length&&!dt.closed;ot++)dt.next(Ie[ot]);dt.complete()})}(Ie);if((0,n.y)(Ie))return function qe(Ie){return new Ce.c(dt=>{Ie.then(ot=>{dt.closed||(dt.next(ot),dt.complete())},ot=>dt.error(ot)).then(null,Q.m)})}(Ie);if((0,Te.T)(Ie))return He(Ie);if((0,be.x)(Ie))return function fe(Ie){return new Ce.c(dt=>{for(const ot of Ie)if(dt.next(ot),dt.closed)return;dt.complete()})}(Ie);if((0,Ne.U)(Ie))return function Nt(Ie){return He((0,Ne.C)(Ie))}(Ie)}throw(0,Ae.L)(Ie)}function He(Ie){return new Ce.c(dt=>{(function Re(Ie,dt){var ot,_t,Lt,$t;return(0,i.sH)(this,void 0,void 0,function*(){try{for(ot=(0,i.xN)(Ie);!(_t=yield ot.next()).done;)if(dt.next(_t.value),dt.closed)return}catch(xe){Lt={error:xe}}finally{try{_t&&!_t.done&&($t=ot.return)&&(yield $t.call(ot))}finally{if(Lt)throw Lt.error}}dt.complete()})})(Ie,dt).catch(ot=>dt.error(ot))})}},7786:(sn,et,O)=>{O.d(et,{h:()=>Te});var i=O(6365),ie=O(8750),n=O(983),Ce=O(3794),oe=O(8455);function Te(...Ae){const be=(0,Ce.lI)(Ae),Ne=(0,Ce.R0)(Ae,1/0),z=Ae;return z.length?1===z.length?(0,ie.Tg)(z[0]):(0,i.U)(Ne)((0,oe.H)(z,be)):n.w}},7673:(sn,et,O)=>{O.d(et,{of:()=>n});var i=O(3794),ie=O(8455);function n(...Ce){const oe=(0,i.lI)(Ce);return(0,ie.H)(Ce,oe)}},8810:(sn,et,O)=>{O.d(et,{$:()=>n});var i=O(1985),ie=O(8071);function n(Ce,oe){const Te=(0,ie.T)(Ce)?Ce:()=>Ce,Ae=be=>be.error(Te());return new i.c(oe?be=>oe.schedule(Ae,0,be):Ae)}},4360:(sn,et,O)=>{O.d(et,{_:()=>ie});var i=O(7707);function ie(Ce,oe,Te,Ae,be){return new n(Ce,oe,Te,Ae,be)}class n extends i.vU{constructor(oe,Te,Ae,be,Ne,z){super(oe),this.onFinalize=Ne,this.shouldUnsubscribe=z,this._next=Te?function(Q){try{Te(Q)}catch(me){oe.error(me)}}:super._next,this._error=be?function(Q){try{be(Q)}catch(me){oe.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(Q){oe.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},9437:(sn,et,O)=>{O.d(et,{W:()=>Ce});var i=O(8750),ie=O(4360),n=O(9974);function Ce(oe){return(0,n.N)((Te,Ae)=>{let z,be=null,Ne=!1;be=Te.subscribe((0,ie._)(Ae,void 0,void 0,Q=>{z=(0,i.Tg)(oe(Q,Ce(oe)(Te))),be?(be.unsubscribe(),be=null,z.subscribe(Ae)):Ne=!0})),Ne&&(be.unsubscribe(),be=null,z.subscribe(Ae))})}},274:(sn,et,O)=>{O.d(et,{H:()=>n});var i=O(1397),ie=O(8071);function n(Ce,oe){return(0,ie.T)(oe)?(0,i.Z)(Ce,oe,1):(0,i.Z)(Ce,1)}},9901:(sn,et,O)=>{O.d(et,{U:()=>n});var i=O(9974),ie=O(4360);function n(Ce){return(0,i.N)((oe,Te)=>{let Ae=!1;oe.subscribe((0,ie._)(Te,be=>{Ae=!0,Te.next(be)},()=>{Ae||Te.next(Ce),Te.complete()}))})}},3294:(sn,et,O)=>{O.d(et,{F:()=>Ce});var i=O(3669),ie=O(9974),n=O(4360);function Ce(Te,Ae=i.D){return Te=Te??oe,(0,ie.N)((be,Ne)=>{let z,Q=!0;be.subscribe((0,n._)(Ne,me=>{const ke=Ae(me);(Q||!Te(z,ke))&&(Q=!1,z=ke,Ne.next(me))}))})}function oe(Te,Ae){return Te===Ae}},5964:(sn,et,O)=>{O.d(et,{p:()=>n});var i=O(9974),ie=O(4360);function n(Ce,oe){return(0,i.N)((Te,Ae)=>{let be=0;Te.subscribe((0,ie._)(Ae,Ne=>Ce.call(oe,Ne,be++)&&Ae.next(Ne)))})}},980:(sn,et,O)=>{O.d(et,{j:()=>ie});var i=O(9974);function ie(n){return(0,i.N)((Ce,oe)=>{try{Ce.subscribe(oe)}finally{oe.add(n)}})}},1594:(sn,et,O)=>{O.d(et,{$:()=>Ae});var i=O(9350),ie=O(5964),n=O(6697),Ce=O(9901),oe=O(3774),Te=O(3669);function Ae(be,Ne){const z=arguments.length>=2;return Q=>Q.pipe(be?(0,ie.p)((me,ke)=>be(me,ke,Q)):Te.D,(0,n.s)(1),z?(0,Ce.U)(Ne):(0,oe.v)(()=>new i.G))}},6354:(sn,et,O)=>{O.d(et,{T:()=>n});var i=O(9974),ie=O(4360);function n(Ce,oe){return(0,i.N)((Te,Ae)=>{let be=0;Te.subscribe((0,ie._)(Ae,Ne=>{Ae.next(Ce.call(oe,Ne,be++))}))})}},6365:(sn,et,O)=>{O.d(et,{U:()=>n});var i=O(1397),ie=O(3669);function n(Ce=1/0){return(0,i.Z)(ie.D,Ce)}},1397:(sn,et,O)=>{O.d(et,{Z:()=>be});var i=O(6354),ie=O(8750),n=O(9974),Ce=O(5225),oe=O(4360),Ae=O(8071);function be(Ne,z,Q=1/0){return(0,Ae.T)(z)?be((me,ke)=>(0,i.T)((Be,Je)=>z(me,Be,ke,Je))((0,ie.Tg)(Ne(me,ke))),Q):("number"==typeof z&&(Q=z),(0,n.N)((me,ke)=>function Te(Ne,z,Q,me,ke,Be,Je,qe){const fe=[];let He=0,Nt=0,Re=!1;const Ie=()=>{Re&&!fe.length&&!He&&z.complete()},dt=_t=>He<me?ot(_t):fe.push(_t),ot=_t=>{Be&&z.next(_t),He++;let Lt=!1;(0,ie.Tg)(Q(_t,Nt++)).subscribe((0,oe._)(z,$t=>{ke?.($t),Be?dt($t):z.next($t)},()=>{Lt=!0},void 0,()=>{if(Lt)try{for(He--;fe.length&&He<me;){const $t=fe.shift();Je?(0,Ce.N)(z,Je,()=>ot($t)):ot($t)}Ie()}catch($t){z.error($t)}}))};return Ne.subscribe((0,oe._)(z,dt,()=>{Re=!0,Ie()})),()=>{qe?.()}}(me,ke,Ne,Q)))}},941:(sn,et,O)=>{O.d(et,{Q:()=>Ce});var i=O(5225),ie=O(9974),n=O(4360);function Ce(oe,Te=0){return(0,ie.N)((Ae,be)=>{Ae.subscribe((0,n._)(be,Ne=>(0,i.N)(be,oe,()=>be.next(Ne),Te),()=>(0,i.N)(be,oe,()=>be.complete(),Te),Ne=>(0,i.N)(be,oe,()=>be.error(Ne),Te)))})}},2816:(sn,et,O)=>{O.d(et,{S:()=>Ce});var i=O(9974),ie=O(4360);function Ce(oe,Te){return(0,i.N)(function n(oe,Te,Ae,be,Ne){return(z,Q)=>{let me=Ae,ke=Te,Be=0;z.subscribe((0,ie._)(Q,Je=>{const qe=Be++;ke=me?oe(ke,Je,qe):(me=!0,Je),be&&Q.next(ke)},Ne&&(()=>{me&&Q.next(ke),Q.complete()})))}}(oe,Te,arguments.length>=2,!0))}},7647:(sn,et,O)=>{O.d(et,{u:()=>oe});var i=O(8750),ie=O(1413),n=O(7707),Ce=O(9974);function oe(Ae={}){const{connector:be=(()=>new ie.B),resetOnError:Ne=!0,resetOnComplete:z=!0,resetOnRefCountZero:Q=!0}=Ae;return me=>{let ke,Be,Je,qe=0,fe=!1,He=!1;const Nt=()=>{Be?.unsubscribe(),Be=void 0},Re=()=>{Nt(),ke=Je=void 0,fe=He=!1},Ie=()=>{const dt=ke;Re(),dt?.unsubscribe()};return(0,Ce.N)((dt,ot)=>{qe++,!He&&!fe&&Nt();const _t=Je=Je??be();ot.add(()=>{qe--,0===qe&&!He&&!fe&&(Be=Te(Ie,Q))}),_t.subscribe(ot),!ke&&qe>0&&(ke=new n.Ms({next:Lt=>_t.next(Lt),error:Lt=>{He=!0,Nt(),Be=Te(Re,Ne,Lt),_t.error(Lt)},complete:()=>{fe=!0,Nt(),Be=Te(Re,z),_t.complete()}}),(0,i.Tg)(dt).subscribe(ke))})(me)}}function Te(Ae,be,...Ne){if(!0===be)return void Ae();if(!1===be)return;const z=new n.Ms({next:()=>{z.unsubscribe(),Ae()}});return(0,i.Tg)(be(...Ne)).subscribe(z)}},9172:(sn,et,O)=>{O.d(et,{Z:()=>Ce});var i=O(8793),ie=O(3794),n=O(9974);function Ce(...oe){const Te=(0,ie.lI)(oe);return(0,n.N)((Ae,be)=>{(Te?(0,i.x)(oe,Ae,Te):(0,i.x)(oe,Ae)).subscribe(be)})}},6745:(sn,et,O)=>{O.d(et,{_:()=>ie});var i=O(9974);function ie(n,Ce=0){return(0,i.N)((oe,Te)=>{Te.add(n.schedule(()=>oe.subscribe(Te),Ce))})}},5558:(sn,et,O)=>{O.d(et,{n:()=>Ce});var i=O(8750),ie=O(9974),n=O(4360);function Ce(oe,Te){return(0,ie.N)((Ae,be)=>{let Ne=null,z=0,Q=!1;const me=()=>Q&&!Ne&&be.complete();Ae.subscribe((0,n._)(be,ke=>{Ne?.unsubscribe();let Be=0;const Je=z++;(0,i.Tg)(oe(ke,Je)).subscribe(Ne=(0,n._)(be,qe=>be.next(Te?Te(ke,qe,Je,Be++):qe),()=>{Ne=null,me()}))},()=>{Q=!0,me()}))})}},6697:(sn,et,O)=>{O.d(et,{s:()=>Ce});var i=O(983),ie=O(9974),n=O(4360);function Ce(oe){return oe<=0?()=>i.w:(0,ie.N)((Te,Ae)=>{let be=0;Te.subscribe((0,n._)(Ae,Ne=>{++be<=oe&&(Ae.next(Ne),oe<=be&&Ae.complete())}))})}},8141:(sn,et,O)=>{O.d(et,{M:()=>oe});var i=O(8071),ie=O(9974),n=O(4360),Ce=O(3669);function oe(Te,Ae,be){const Ne=(0,i.T)(Te)||Ae||be?{next:Te,error:Ae,complete:be}:Te;return Ne?(0,ie.N)((z,Q)=>{var me;null===(me=Ne.subscribe)||void 0===me||me.call(Ne);let ke=!0;z.subscribe((0,n._)(Q,Be=>{var Je;null===(Je=Ne.next)||void 0===Je||Je.call(Ne,Be),Q.next(Be)},()=>{var Be;ke=!1,null===(Be=Ne.complete)||void 0===Be||Be.call(Ne),Q.complete()},Be=>{var Je;ke=!1,null===(Je=Ne.error)||void 0===Je||Je.call(Ne,Be),Q.error(Be)},()=>{var Be,Je;ke&&(null===(Be=Ne.unsubscribe)||void 0===Be||Be.call(Ne)),null===(Je=Ne.finalize)||void 0===Je||Je.call(Ne)}))}):Ce.D}},3774:(sn,et,O)=>{O.d(et,{v:()=>Ce});var i=O(9350),ie=O(9974),n=O(4360);function Ce(Te=oe){return(0,ie.N)((Ae,be)=>{let Ne=!1;Ae.subscribe((0,n._)(be,z=>{Ne=!0,be.next(z)},()=>Ne?be.complete():be.error(Te())))})}function oe(){return new i.G}},6780:(sn,et,O)=>{O.d(et,{R:()=>oe});var i=O(8359);class ie extends i.yU{constructor(Ae,be){super()}schedule(Ae,be=0){return this}}const n={setInterval(Te,Ae,...be){const{delegate:Ne}=n;return Ne?.setInterval?Ne.setInterval(Te,Ae,...be):setInterval(Te,Ae,...be)},clearInterval(Te){const{delegate:Ae}=n;return(Ae?.clearInterval||clearInterval)(Te)},delegate:void 0};var Ce=O(7908);class oe extends ie{constructor(Ae,be){super(Ae,be),this.scheduler=Ae,this.work=be,this.pending=!1}schedule(Ae,be=0){var Ne;if(this.closed)return this;this.state=Ae;const z=this.id,Q=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(Q,z,be)),this.pending=!0,this.delay=be,this.id=null!==(Ne=this.id)&&void 0!==Ne?Ne:this.requestAsyncId(Q,this.id,be),this}requestAsyncId(Ae,be,Ne=0){return n.setInterval(Ae.flush.bind(Ae,this),Ne)}recycleAsyncId(Ae,be,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return be;null!=be&&n.clearInterval(be)}execute(Ae,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute(Ae,be);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,be){let z,Ne=!1;try{this.work(Ae)}catch(Q){Ne=!0,z=Q||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:be}=this,{actions:Ne}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.o)(Ne,this),null!=Ae&&(this.id=this.recycleAsyncId(be,Ae,null)),this.delay=null,super.unsubscribe()}}}},9687:(sn,et,O)=>{O.d(et,{q:()=>n});var i=O(6129);class ie{constructor(oe,Te=ie.now){this.schedulerActionCtor=oe,this.now=Te}schedule(oe,Te=0,Ae){return new this.schedulerActionCtor(this,oe).schedule(Ae,Te)}}ie.now=i.U.now;class n extends ie{constructor(oe,Te=ie.now){super(oe,Te),this.actions=[],this._active=!1}flush(oe){const{actions:Te}=this;if(this._active)return void Te.push(oe);let Ae;this._active=!0;do{if(Ae=oe.execute(oe.state,oe.delay))break}while(oe=Te.shift());if(this._active=!1,Ae){for(;oe=Te.shift();)oe.unsubscribe();throw Ae}}}},3236:(sn,et,O)=>{O.d(et,{E:()=>n});var i=O(6780);const n=new(O(9687).q)(i.R)},6129:(sn,et,O)=>{O.d(et,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},9270:(sn,et,O)=>{O.d(et,{f:()=>i});const i={setTimeout(ie,n,...Ce){const{delegate:oe}=i;return oe?.setTimeout?oe.setTimeout(ie,n,...Ce):setTimeout(ie,n,...Ce)},clearTimeout(ie){const{delegate:n}=i;return(n?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},4761:(sn,et,O)=>{O.d(et,{l:()=>ie});const ie=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(sn,et,O)=>{O.d(et,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(sn,et,O)=>{O.d(et,{G:()=>ie});const ie=(0,O(1853).L)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(sn,et,O)=>{O.d(et,{R0:()=>Te,ms:()=>Ce,lI:()=>oe});var i=O(8071);function n(Ae){return Ae[Ae.length-1]}function Ce(Ae){return(0,i.T)(n(Ae))?Ae.pop():void 0}function oe(Ae){return function ie(Ae){return Ae&&(0,i.T)(Ae.schedule)}(n(Ae))?Ae.pop():void 0}function Te(Ae,be){return"number"==typeof n(Ae)?Ae.pop():be}},3073:(sn,et,O)=>{O.d(et,{D:()=>oe});const{isArray:i}=Array,{getPrototypeOf:ie,prototype:n,keys:Ce}=Object;function oe(Ae){if(1===Ae.length){const be=Ae[0];if(i(be))return{args:be,keys:null};if(function Te(Ae){return Ae&&"object"==typeof Ae&&ie(Ae)===n}(be)){const Ne=Ce(be);return{args:Ne.map(z=>be[z]),keys:Ne}}}return{args:Ae,keys:null}}},7908:(sn,et,O)=>{function i(ie,n){if(ie){const Ce=ie.indexOf(n);0<=Ce&&ie.splice(Ce,1)}}O.d(et,{o:()=>i})},1853:(sn,et,O)=>{function i(ie){const Ce=ie(oe=>{Error.call(oe),oe.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}O.d(et,{L:()=>i})},8496:(sn,et,O)=>{function i(ie,n){return ie.reduce((Ce,oe,Te)=>(Ce[oe]=n[Te],Ce),{})}O.d(et,{e:()=>i})},9786:(sn,et,O)=>{O.d(et,{Y:()=>n,l:()=>Ce});var i=O(1026);let ie=null;function n(oe){if(i.$.useDeprecatedSynchronousErrorHandling){const Te=!ie;if(Te&&(ie={errorThrown:!1,error:null}),oe(),Te){const{errorThrown:Ae,error:be}=ie;if(ie=null,Ae)throw be}}else oe()}function Ce(oe){i.$.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=oe)}},5225:(sn,et,O)=>{function i(ie,n,Ce,oe=0,Te=!1){const Ae=n.schedule(function(){Ce(),Te?ie.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(ie.add(Ae),!Te)return Ae}O.d(et,{N:()=>i})},3669:(sn,et,O)=>{function i(ie){return ie}O.d(et,{D:()=>i})},7441:(sn,et,O)=>{O.d(et,{X:()=>i});const i=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},7953:(sn,et,O)=>{O.d(et,{T:()=>ie});var i=O(8071);function ie(n){return Symbol.asyncIterator&&(0,i.T)(n?.[Symbol.asyncIterator])}},8071:(sn,et,O)=>{function i(ie){return"function"==typeof ie}O.d(et,{T:()=>i})},5055:(sn,et,O)=>{O.d(et,{l:()=>n});var i=O(3494),ie=O(8071);function n(Ce){return(0,ie.T)(Ce[i.s])}},5397:(sn,et,O)=>{O.d(et,{x:()=>n});var i=O(4761),ie=O(8071);function n(Ce){return(0,ie.T)(Ce?.[i.l])}},9858:(sn,et,O)=>{O.d(et,{y:()=>ie});var i=O(8071);function ie(n){return(0,i.T)(n?.then)}},5196:(sn,et,O)=>{O.d(et,{C:()=>n,U:()=>Ce});var i=O(1635),ie=O(8071);function n(oe){return(0,i.AQ)(this,arguments,function*(){const Ae=oe.getReader();try{for(;;){const{value:be,done:Ne}=yield(0,i.N3)(Ae.read());if(Ne)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(be)}}finally{Ae.releaseLock()}})}function Ce(oe){return(0,ie.T)(oe?.getReader)}},9974:(sn,et,O)=>{O.d(et,{N:()=>n,S:()=>ie});var i=O(8071);function ie(Ce){return(0,i.T)(Ce?.lift)}function n(Ce){return oe=>{if(ie(oe))return oe.lift(function(Te){try{return Ce(Te,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(sn,et,O)=>{O.d(et,{I:()=>Ce});var i=O(6354);const{isArray:ie}=Array;function Ce(oe){return(0,i.T)(Te=>function n(oe,Te){return ie(Te)?oe(...Te):oe(Te)}(oe,Te))}},5343:(sn,et,O)=>{function i(){}O.d(et,{l:()=>i})},1203:(sn,et,O)=>{O.d(et,{F:()=>ie,m:()=>n});var i=O(3669);function ie(...Ce){return n(Ce)}function n(Ce){return 0===Ce.length?i.D:1===Ce.length?Ce[0]:function(Te){return Ce.reduce((Ae,be)=>be(Ae),Te)}}},5334:(sn,et,O)=>{O.d(et,{m:()=>n});var i=O(1026),ie=O(9270);function n(Ce){ie.f.setTimeout(()=>{const{onUnhandledError:oe}=i.$;if(!oe)throw Ce;oe(Ce)})}},591:(sn,et,O)=>{function i(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(et,{L:()=>i})},9969:(sn,et,O)=>{O.d(et,{FX:()=>Nt,K2:()=>Ae,P:()=>Je,Ro:()=>ie,S6:()=>i,hZ:()=>Ce,i0:()=>oe,iF:()=>be,kY:()=>Q,kp:()=>n,sf:()=>fe,ui:()=>He,yc:()=>qe});class i{}class ie{}const n="*";function Ce(Re,Ie){return{type:7,name:Re,definitions:Ie,options:{}}}function oe(Re,Ie=null){return{type:4,styles:Ie,timings:Re}}function Ae(Re,Ie=null){return{type:2,steps:Re,options:Ie}}function be(Re){return{type:6,styles:Re,offset:null}}function Q(Re,Ie,dt=null){return{type:1,expr:Re,animation:Ie,options:dt}}function Je(Re,Ie,dt=null){return{type:11,selector:Re,animation:Ie,options:dt}}function qe(Re,Ie){return{type:12,timings:Re,animation:Ie}}class fe{constructor(Ie=0,dt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ie+dt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ie=>Ie()),this._onDoneFns=[])}onStart(Ie){this._originalOnStartFns.push(Ie),this._onStartFns.push(Ie)}onDone(Ie){this._originalOnDoneFns.push(Ie),this._onDoneFns.push(Ie)}onDestroy(Ie){this._onDestroyFns.push(Ie)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ie=>Ie()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ie=>Ie()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ie){this._position=this.totalTime?Ie*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ie){const dt="start"==Ie?this._onStartFns:this._onDoneFns;dt.forEach(ot=>ot()),dt.length=0}}class He{constructor(Ie){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ie;let dt=0,ot=0,_t=0;const Lt=this.players.length;0==Lt?queueMicrotask(()=>this._onFinish()):this.players.forEach($t=>{$t.onDone(()=>{++dt==Lt&&this._onFinish()}),$t.onDestroy(()=>{++ot==Lt&&this._onDestroy()}),$t.onStart(()=>{++_t==Lt&&this._onStart()})}),this.totalTime=this.players.reduce(($t,xe)=>Math.max($t,xe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ie=>Ie()),this._onDoneFns=[])}init(){this.players.forEach(Ie=>Ie.init())}onStart(Ie){this._onStartFns.push(Ie)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ie=>Ie()),this._onStartFns=[])}onDone(Ie){this._onDoneFns.push(Ie)}onDestroy(Ie){this._onDestroyFns.push(Ie)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ie=>Ie.play())}pause(){this.players.forEach(Ie=>Ie.pause())}restart(){this.players.forEach(Ie=>Ie.restart())}finish(){this._onFinish(),this.players.forEach(Ie=>Ie.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ie=>Ie.destroy()),this._onDestroyFns.forEach(Ie=>Ie()),this._onDestroyFns=[])}reset(){this.players.forEach(Ie=>Ie.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ie){const dt=Ie*this.totalTime;this.players.forEach(ot=>{const _t=ot.totalTime?Math.min(1,dt/ot.totalTime):1;ot.setPosition(_t)})}getPosition(){const Ie=this.players.reduce((dt,ot)=>null===dt||ot.totalTime>dt.totalTime?ot:dt,null);return null!=Ie?Ie.getPosition():0}beforeDestroy(){this.players.forEach(Ie=>{Ie.beforeDestroy&&Ie.beforeDestroy()})}triggerCallback(Ie){const dt="start"==Ie?this._onStartFns:this._onDoneFns;dt.forEach(ot=>ot()),dt.length=0}}const Nt="!"},177:(sn,et,O)=>{O.d(et,{AJ:()=>ui,B3:()=>xr,Jj:()=>Xs,MD:()=>Qs,N0:()=>Nn,P9:()=>hs,PV:()=>Ps,QT:()=>n,QX:()=>ci,Sm:()=>Je,Sq:()=>Fi,VF:()=>oe,Vy:()=>bs,Xr:()=>We,YU:()=>Fn,ZD:()=>Ce,_b:()=>fn,aZ:()=>fe,bT:()=>qs,e1:()=>rs,fG:()=>us,fw:()=>qe,hb:()=>ke,hj:()=>be,lG:()=>Cs,qQ:()=>Te,ux:()=>Jr});var i=O(7705);let ie=null;function n(){return ie}function Ce(x){ie||(ie=x)}class oe{}const Te=new i.nKC("DocumentToken");let Ae=(()=>{class x{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275prov=i.jDH({token:x,factory:function(){return(0,i.WQX)(Ne)},providedIn:"platform"})}}return x})();const be=new i.nKC("Location Initialized");let Ne=(()=>{class x extends Ae{constructor(){super(),this._doc=(0,i.WQX)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return n().getBaseHref(this._doc)}onPopState($){const Y=n().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",$,!1),()=>Y.removeEventListener("popstate",$)}onHashChange($){const Y=n().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",$,!1),()=>Y.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,Y,$e){this._history.pushState($,Y,$e)}replaceState($,Y,$e){this._history.replaceState($,Y,$e)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275prov=i.jDH({token:x,factory:function(){return new x},providedIn:"platform"})}}return x})();function z(x,re){if(0==x.length)return re;if(0==re.length)return x;let $=0;return x.endsWith("/")&&$++,re.startsWith("/")&&$++,2==$?x+re.substring(1):1==$?x+re:x+"/"+re}function Q(x){const re=x.match(/#|\?|$/),$=re&&re.index||x.length;return x.slice(0,$-("/"===x[$-1]?1:0))+x.slice($)}function me(x){return x&&"?"!==x[0]?"?"+x:x}let ke=(()=>{class x{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275prov=i.jDH({token:x,factory:function(){return(0,i.WQX)(Je)},providedIn:"root"})}}return x})();const Be=new i.nKC("appBaseHref");let Je=(()=>{class x extends ke{constructor($,Y){super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return z(this._baseHref,$)}path($=!1){const Y=this._platformLocation.pathname+me(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&$?`${Y}${$e}`:Y}pushState($,Y,$e,xt){const Wt=this.prepareExternalUrl($e+me(xt));this._platformLocation.pushState($,Y,Wt)}replaceState($,Y,$e,xt){const Wt=this.prepareExternalUrl($e+me(xt));this._platformLocation.replaceState($,Y,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(Y){return new(Y||x)(i.KVO(Ae),i.KVO(Be,8))}}static{this.\u0275prov=i.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})(),qe=(()=>{class x extends ke{constructor($,Y){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl($){const Y=z(this._baseHref,$);return Y.length>0?"#"+Y:Y}pushState($,Y,$e,xt){let Wt=this.prepareExternalUrl($e+me(xt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.pushState($,Y,Wt)}replaceState($,Y,$e,xt){let Wt=this.prepareExternalUrl($e+me(xt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.replaceState($,Y,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(Y){return new(Y||x)(i.KVO(Ae),i.KVO(Be,8))}}static{this.\u0275prov=i.jDH({token:x,factory:x.\u0275fac})}}return x})(),fe=(()=>{class x{constructor($){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const Y=this._locationStrategy.getBaseHref();this._basePath=function Ie(x){if(new RegExp("^(https?:)?//").test(x)){const[,$]=x.split(/\/\/[^\/]+/);return $}return x}(Q(Re(Y))),this._locationStrategy.onPopState($e=>{this._subject.emit({url:this.path(!0),pop:!0,state:$e.state,type:$e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,Y=""){return this.path()==this.normalize($+me(Y))}normalize($){return x.stripTrailingSlash(function Nt(x,re){if(!x||!re.startsWith(x))return re;const $=re.substring(x.length);return""===$||["/",";","?","#"].includes($[0])?$:re}(this._basePath,Re($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,Y="",$e=null){this._locationStrategy.pushState($e,"",$,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl($+me(Y)),$e)}replaceState($,Y="",$e=null){this._locationStrategy.replaceState($e,"",$,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl($+me(Y)),$e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){this._locationStrategy.historyGo?.($)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf($);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",Y){this._urlChangeListeners.forEach($e=>$e($,Y))}subscribe($,Y,$e){return this._subject.subscribe({next:$,error:Y,complete:$e})}static{this.normalizeQueryParams=me}static{this.joinWithSlash=z}static{this.stripTrailingSlash=Q}static{this.\u0275fac=function(Y){return new(Y||x)(i.KVO(ke))}}static{this.\u0275prov=i.jDH({token:x,factory:function(){return function He(){return new fe((0,i.KVO)(ke))}()},providedIn:"root"})}}return x})();function Re(x){return x.replace(/\/index.html$/,"")}var ot=function(x){return x[x.Decimal=0]="Decimal",x[x.Percent=1]="Percent",x[x.Currency=2]="Currency",x[x.Scientific=3]="Scientific",x}(ot||{}),tn=function(x){return x[x.Decimal=0]="Decimal",x[x.Group=1]="Group",x[x.List=2]="List",x[x.PercentSign=3]="PercentSign",x[x.PlusSign=4]="PlusSign",x[x.MinusSign=5]="MinusSign",x[x.Exponential=6]="Exponential",x[x.SuperscriptingExponent=7]="SuperscriptingExponent",x[x.PerMille=8]="PerMille",x[x.Infinity=9]="Infinity",x[x.NaN=10]="NaN",x[x.TimeSeparator=11]="TimeSeparator",x[x.CurrencyDecimal=12]="CurrencyDecimal",x[x.CurrencyGroup=13]="CurrencyGroup",x}(tn||{});function Ee(x,re){const $=(0,i.H5H)(x),Y=$[i.KH2.NumberSymbols][re];if(typeof Y>"u"){if(re===tn.CurrencyDecimal)return $[i.KH2.NumberSymbols][tn.Decimal];if(re===tn.CurrencyGroup)return $[i.KH2.NumberSymbols][tn.Group]}return Y}const k=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gn(x){const re=parseInt(x);if(isNaN(re))throw new Error("Invalid integer literal when parsing "+x);return re}function fn(x,re){re=encodeURIComponent(re);for(const $ of x.split(";")){const Y=$.indexOf("="),[$e,xt]=-1==Y?[$,""]:[$.slice(0,Y),$.slice(Y+1)];if($e.trim()===re)return decodeURIComponent(xt)}return null}const Kn=/\s+/,_n=[];let Fn=(()=>{class x{constructor($,Y,$e,xt){this._iterableDiffers=$,this._keyValueDiffers=Y,this._ngEl=$e,this._renderer=xt,this.initialClasses=_n,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(Kn):_n}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(Kn):$}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const Y of $)this._updateState(Y,!0);else if(null!=$)for(const Y of Object.keys($))this._updateState(Y,!!$[Y]);this._applyStateDiff()}_updateState($,Y){const $e=this.stateMap.get($);void 0!==$e?($e.enabled!==Y&&($e.changed=!0,$e.enabled=Y),$e.touched=!0):this.stateMap.set($,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const Y=$[0],$e=$[1];$e.changed?(this._toggleClass(Y,$e.enabled),$e.changed=!1):$e.touched||($e.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),$e.touched=!1}}_toggleClass($,Y){($=$.trim()).length>0&&$.split(Kn).forEach($e=>{Y?this._renderer.addClass(this._ngEl.nativeElement,$e):this._renderer.removeClass(this._ngEl.nativeElement,$e)})}static{this.\u0275fac=function(Y){return new(Y||x)(i.rXU(i._q3),i.rXU(i.MKu),i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return x})();class er{constructor(re,$,Y,$e){this.$implicit=re,this.ngForOf=$,this.index=Y,this.count=$e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fi=(()=>{class x{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,Y,$e){this._viewContainer=$,this._template=Y,this._differs=$e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const Y=this._viewContainer;$.forEachOperation(($e,xt,Wt)=>{if(null==$e.previousIndex)Y.createEmbeddedView(this._template,new er($e.item,this._ngForOf,-1,-1),null===Wt?void 0:Wt);else if(null==Wt)Y.remove(null===xt?void 0:xt);else if(null!==xt){const Xn=Y.get(xt);Y.move(Xn,Wt),cs(Xn,$e)}});for(let $e=0,xt=Y.length;$e<xt;$e++){const Xn=Y.get($e).context;Xn.index=$e,Xn.count=xt,Xn.ngForOf=this._ngForOf}$.forEachIdentityChange($e=>{cs(Y.get($e.currentIndex),$e)})}static ngTemplateContextGuard($,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||x)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return x})();function cs(x,re){x.context.$implicit=re.item}let qs=(()=>{class x{constructor($,Y){this._viewContainer=$,this._context=new mo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){$i("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){$i("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||x)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return x})();class mo{constructor(){this.$implicit=null,this.ngIf=null}}function $i(x,re){if(re&&!re.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,i.Tbb)(re)}'.`)}class jo{constructor(re,$){this._viewContainerRef=re,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(re){re&&!this._created?this.create():!re&&this._created&&this.destroy()}}let Jr=(()=>{class x{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews.push($)}_matchCase($){const Y=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases($){if(this._defaultViews.length>0&&$!==this._defaultUsed){this._defaultUsed=$;for(const Y of this._defaultViews)Y.enforceState($)}}static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return x})(),rs=(()=>{class x{constructor($,Y,$e){this.ngSwitch=$e,$e._addCase(),this._view=new jo($,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Y){return new(Y||x)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(Jr,9))}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return x})(),us=(()=>{class x{constructor($,Y,$e){$e._addDefault(new jo($,Y))}static{this.\u0275fac=function(Y){return new(Y||x)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(Jr,9))}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return x})(),xr=(()=>{class x{constructor($,Y,$e){this._ngEl=$,this._differs=Y,this._renderer=$e,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,Y){const[$e,xt]=$.split("."),Wt=-1===$e.indexOf("-")?void 0:i.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,$e,xt?`${Y}${xt}`:Y,Wt):this._renderer.removeStyle(this._ngEl.nativeElement,$e,Wt)}_applyChanges($){$.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),$.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),$.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static{this.\u0275fac=function(Y){return new(Y||x)(i.rXU(i.aKT),i.rXU(i.MKu),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return x})();function Zr(x,re){return new i.wOt(2100,!1)}class ra{createSubscription(re,$){return(0,i.O8t)(()=>re.subscribe({next:$,error:Y=>{throw Y}}))}dispose(re){(0,i.O8t)(()=>re.unsubscribe())}}class Ka{createSubscription(re,$){return re.then($,Y=>{throw Y})}dispose(re){}}const Di=new Ka,fa=new ra;let Xs=(()=>{class x{constructor($){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=$}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,Y=>this._updateLatestValue($,Y))}_selectStrategy($){if((0,i.jNT)($))return Di;if((0,i.zjR)($))return fa;throw Zr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,Y){$===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static{this.\u0275fac=function(Y){return new(Y||x)(i.rXU(i.gRc,16))}}static{this.\u0275pipe=i.EJ8({name:"async",type:x,pure:!1,standalone:!0})}}return x})();const is=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ps=(()=>{class x{transform($){if(null==$)return null;if("string"!=typeof $)throw Zr();return $.replace(is,Y=>Y[0].toUpperCase()+Y.slice(1).toLowerCase())}static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275pipe=i.EJ8({name:"titlecase",type:x,pure:!0,standalone:!0})}}return x})(),Cs=(()=>{class x{constructor($){this.differs=$,this.keyValues=[],this.compareFn=Es}transform($,Y=Es){if(!$||!($ instanceof Map)&&"object"!=typeof $)return null;this.differ||(this.differ=this.differs.find($).create());const $e=this.differ.diff($),xt=Y!==this.compareFn;return $e&&(this.keyValues=[],$e.forEachItem(Wt=>{this.keyValues.push(function Ji(x,re){return{key:x,value:re}}(Wt.key,Wt.currentValue))})),($e||xt)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static{this.\u0275fac=function(Y){return new(Y||x)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:x,pure:!1,standalone:!0})}}return x})();function Es(x,re){const $=x.key,Y=re.key;if($===Y)return 0;if(void 0===$)return 1;if(void 0===Y)return-1;if(null===$)return 1;if(null===Y)return-1;if("string"==typeof $&&"string"==typeof Y)return $<Y?-1:1;if("number"==typeof $&&"number"==typeof Y)return $-Y;if("boolean"==typeof $&&"boolean"==typeof Y)return $<Y?-1:1;const $e=String($),xt=String(Y);return $e==xt?0:$e<xt?-1:1}let ci=(()=>{class x{constructor($){this._locale=$}transform($,Y,$e){if(!function Er(x){return!(null==x||""===x||x!=x)}($))return null;$e=$e||this._locale;try{return function Gt(x,re,$){return function Se(x,re,$,Y,$e,xt,Wt=!1){let Xn="",ei=!1;if(isFinite(x)){let mi=function hn(x){let Y,$e,xt,Wt,Xn,re=Math.abs(x)+"",$=0;for(($e=re.indexOf("."))>-1&&(re=re.replace(".","")),(xt=re.search(/e/i))>0?($e<0&&($e=xt),$e+=+re.slice(xt+1),re=re.substring(0,xt)):$e<0&&($e=re.length),xt=0;"0"===re.charAt(xt);xt++);if(xt===(Xn=re.length))Y=[0],$e=1;else{for(Xn--;"0"===re.charAt(Xn);)Xn--;for($e-=xt,Y=[],Wt=0;xt<=Xn;xt++,Wt++)Y[Wt]=Number(re.charAt(xt))}return $e>22&&(Y=Y.splice(0,21),$=$e-1,$e=1),{digits:Y,exponent:$,integerLen:$e}}(x);Wt&&(mi=function En(x){if(0===x.digits[0])return x;const re=x.digits.length-x.integerLen;return x.exponent?x.exponent+=2:(0===re?x.digits.push(0,0):1===re&&x.digits.push(0),x.integerLen+=2),x}(mi));let Gr=re.minInt,hr=re.minFrac,Hr=re.maxFrac;if(xt){const Bs=xt.match(k);if(null===Bs)throw new Error(`${xt} is not a valid digit info`);const Ho=Bs[1],Ts=Bs[3],Mo=Bs[5];null!=Ho&&(Gr=gn(Ho)),null!=Ts&&(hr=gn(Ts)),null!=Mo?Hr=gn(Mo):null!=Ts&&hr>Hr&&(Hr=hr)}!function lr(x,re,$){if(re>$)throw new Error(`The minimum number of digits after fraction (${re}) is higher than the maximum (${$}).`);let Y=x.digits,$e=Y.length-x.integerLen;const xt=Math.min(Math.max(re,$e),$);let Wt=xt+x.integerLen,Xn=Y[Wt];if(Wt>0){Y.splice(Math.max(x.integerLen,Wt));for(let hr=Wt;hr<Y.length;hr++)Y[hr]=0}else{$e=Math.max(0,$e),x.integerLen=1,Y.length=Math.max(1,Wt=xt+1),Y[0]=0;for(let hr=1;hr<Wt;hr++)Y[hr]=0}if(Xn>=5)if(Wt-1<0){for(let hr=0;hr>Wt;hr--)Y.unshift(0),x.integerLen++;Y.unshift(1),x.integerLen++}else Y[Wt-1]++;for(;$e<Math.max(0,xt);$e++)Y.push(0);let ei=0!==xt;const mi=re+x.integerLen,Gr=Y.reduceRight(function(hr,Hr,_i,Ni){return Ni[_i]=(Hr+=hr)<10?Hr:Hr-10,ei&&(0===Ni[_i]&&_i>=mi?Ni.pop():ei=!1),Hr>=10?1:0},0);Gr&&(Y.unshift(Gr),x.integerLen++)}(mi,hr,Hr);let _i=mi.digits,Ni=mi.integerLen;const Js=mi.exponent;let Fs=[];for(ei=_i.every(Bs=>!Bs);Ni<Gr;Ni++)_i.unshift(0);for(;Ni<0;Ni++)_i.unshift(0);Ni>0?Fs=_i.splice(Ni,_i.length):(Fs=_i,_i=[0]);const sa=[];for(_i.length>=re.lgSize&&sa.unshift(_i.splice(-re.lgSize,_i.length).join(""));_i.length>re.gSize;)sa.unshift(_i.splice(-re.gSize,_i.length).join(""));_i.length&&sa.unshift(_i.join("")),Xn=sa.join(Ee($,Y)),Fs.length&&(Xn+=Ee($,$e)+Fs.join("")),Js&&(Xn+=Ee($,tn.Exponential)+"+"+Js)}else Xn=Ee($,tn.Infinity);return Xn=x<0&&!ei?re.negPre+Xn+re.negSuf:re.posPre+Xn+re.posSuf,Xn}(x,function rn(x,re="-"){const $={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Y=x.split(";"),$e=Y[0],xt=Y[1],Wt=-1!==$e.indexOf(".")?$e.split("."):[$e.substring(0,$e.lastIndexOf("0")+1),$e.substring($e.lastIndexOf("0")+1)],Xn=Wt[0],ei=Wt[1]||"";$.posPre=Xn.substring(0,Xn.indexOf("#"));for(let Gr=0;Gr<ei.length;Gr++){const hr=ei.charAt(Gr);"0"===hr?$.minFrac=$.maxFrac=Gr+1:"#"===hr?$.maxFrac=Gr+1:$.posSuf+=hr}const mi=Xn.split(",");if($.gSize=mi[1]?mi[1].length:0,$.lgSize=mi[2]||mi[1]?(mi[2]||mi[1]).length:0,xt){const Gr=$e.length-$.posPre.length-$.posSuf.length,hr=xt.indexOf("#");$.negPre=xt.substring(0,hr).replace(/'/g,""),$.negSuf=xt.slice(hr+Gr).replace(/'/g,"")}else $.negPre=re+$.posPre,$.negSuf=$.posSuf;return $}(function je(x,re){return(0,i.H5H)(x)[i.KH2.NumberFormats][re]}(re,ot.Decimal),Ee(re,tn.MinusSign)),re,tn.Group,tn.Decimal,$)}(function ss(x){if("string"==typeof x&&!isNaN(Number(x)-parseFloat(x)))return Number(x);if("number"!=typeof x)throw new Error(`${x} is not a number`);return x}($),$e,Y)}catch(xt){throw Zr()}}static{this.\u0275fac=function(Y){return new(Y||x)(i.rXU(i.xe9,16))}}static{this.\u0275pipe=i.EJ8({name:"number",type:x,pure:!0,standalone:!0})}}return x})();let hs=(()=>{class x{transform($,Y,$e){if(null==$)return null;if(!this.supports($))throw Zr();return $.slice(Y,$e)}supports($){return"string"==typeof $||Array.isArray($)}static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275pipe=i.EJ8({name:"slice",type:x,pure:!1,standalone:!0})}}return x})(),Qs=(()=>{class x{static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275mod=i.$C({type:x})}static{this.\u0275inj=i.G2t({})}}return x})();const ui="browser",fs="server";function bs(x){return x===fs}let We=(()=>{class x{static{this.\u0275prov=(0,i.jDH)({token:x,providedIn:"root",factory:()=>new ht((0,i.KVO)(Te),window)})}}return x})();class ht{constructor(re,$){this.document=re,this.window=$,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const $=function It(x,re){const $=x.getElementById(re)||x.getElementsByName(re)[0];if($)return $;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const Y=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let $e=Y.currentNode;for(;$e;){const xt=$e.shadowRoot;if(xt){const Wt=xt.getElementById(re)||xt.querySelector(`[name="${re}"]`);if(Wt)return Wt}$e=Y.nextNode()}}return null}(this.document,re);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const $=re.getBoundingClientRect(),Y=$.left+this.window.pageXOffset,$e=$.top+this.window.pageYOffset,xt=this.offset();this.window.scrollTo(Y-xt[0],$e-xt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Nn{}},1626:(sn,et,O)=>{O.d(et,{Qq:()=>lt,q1:()=>k});var i=O(7705),ie=O(7673),n=O(8455),Ce=O(1985),oe=O(274),Te=O(5964),Ae=O(6354),be=O(980),Ne=O(5558),z=O(177);class Q{}class me{}class ke{constructor(Ge){this.normalizedNames=new Map,this.lazyUpdate=null,Ge?"string"==typeof Ge?this.lazyInit=()=>{this.headers=new Map,Ge.split("\n").forEach(Ye=>{const Gt=Ye.indexOf(":");if(Gt>0){const rn=Ye.slice(0,Gt),En=rn.toLowerCase(),hn=Ye.slice(Gt+1).trim();this.maybeSetNormalizedName(rn,En),this.headers.has(En)?this.headers.get(En).push(hn):this.headers.set(En,[hn])}})}:typeof Headers<"u"&&Ge instanceof Headers?(this.headers=new Map,Ge.forEach((Ye,Gt)=>{this.setHeaderEntries(Gt,Ye)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ge).forEach(([Ye,Gt])=>{this.setHeaderEntries(Ye,Gt)})}:this.headers=new Map}has(Ge){return this.init(),this.headers.has(Ge.toLowerCase())}get(Ge){this.init();const Ye=this.headers.get(Ge.toLowerCase());return Ye&&Ye.length>0?Ye[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ge){return this.init(),this.headers.get(Ge.toLowerCase())||null}append(Ge,Ye){return this.clone({name:Ge,value:Ye,op:"a"})}set(Ge,Ye){return this.clone({name:Ge,value:Ye,op:"s"})}delete(Ge,Ye){return this.clone({name:Ge,value:Ye,op:"d"})}maybeSetNormalizedName(Ge,Ye){this.normalizedNames.has(Ye)||this.normalizedNames.set(Ye,Ge)}init(){this.lazyInit&&(this.lazyInit instanceof ke?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ge=>this.applyUpdate(Ge)),this.lazyUpdate=null))}copyFrom(Ge){Ge.init(),Array.from(Ge.headers.keys()).forEach(Ye=>{this.headers.set(Ye,Ge.headers.get(Ye)),this.normalizedNames.set(Ye,Ge.normalizedNames.get(Ye))})}clone(Ge){const Ye=new ke;return Ye.lazyInit=this.lazyInit&&this.lazyInit instanceof ke?this.lazyInit:this,Ye.lazyUpdate=(this.lazyUpdate||[]).concat([Ge]),Ye}applyUpdate(Ge){const Ye=Ge.name.toLowerCase();switch(Ge.op){case"a":case"s":let Gt=Ge.value;if("string"==typeof Gt&&(Gt=[Gt]),0===Gt.length)return;this.maybeSetNormalizedName(Ge.name,Ye);const rn=("a"===Ge.op?this.headers.get(Ye):void 0)||[];rn.push(...Gt),this.headers.set(Ye,rn);break;case"d":const En=Ge.value;if(En){let hn=this.headers.get(Ye);if(!hn)return;hn=hn.filter(lr=>-1===En.indexOf(lr)),0===hn.length?(this.headers.delete(Ye),this.normalizedNames.delete(Ye)):this.headers.set(Ye,hn)}else this.headers.delete(Ye),this.normalizedNames.delete(Ye)}}setHeaderEntries(Ge,Ye){const Gt=(Array.isArray(Ye)?Ye:[Ye]).map(En=>En.toString()),rn=Ge.toLowerCase();this.headers.set(rn,Gt),this.maybeSetNormalizedName(Ge,rn)}forEach(Ge){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ye=>Ge(this.normalizedNames.get(Ye),this.headers.get(Ye)))}}class Je{encodeKey(Ge){return Nt(Ge)}encodeValue(Ge){return Nt(Ge)}decodeKey(Ge){return decodeURIComponent(Ge)}decodeValue(Ge){return decodeURIComponent(Ge)}}const fe=/%(\d[a-f0-9])/gi,He={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Nt(Se){return encodeURIComponent(Se).replace(fe,(Ge,Ye)=>He[Ye]??Ge)}function Re(Se){return`${Se}`}class Ie{constructor(Ge={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ge.encoder||new Je,Ge.fromString){if(Ge.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function qe(Se,Ge){const Ye=new Map;return Se.length>0&&Se.replace(/^\?/,"").split("&").forEach(rn=>{const En=rn.indexOf("="),[hn,lr]=-1==En?[Ge.decodeKey(rn),""]:[Ge.decodeKey(rn.slice(0,En)),Ge.decodeValue(rn.slice(En+1))],gn=Ye.get(hn)||[];gn.push(lr),Ye.set(hn,gn)}),Ye}(Ge.fromString,this.encoder)}else Ge.fromObject?(this.map=new Map,Object.keys(Ge.fromObject).forEach(Ye=>{const Gt=Ge.fromObject[Ye],rn=Array.isArray(Gt)?Gt.map(Re):[Re(Gt)];this.map.set(Ye,rn)})):this.map=null}has(Ge){return this.init(),this.map.has(Ge)}get(Ge){this.init();const Ye=this.map.get(Ge);return Ye?Ye[0]:null}getAll(Ge){return this.init(),this.map.get(Ge)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ge,Ye){return this.clone({param:Ge,value:Ye,op:"a"})}appendAll(Ge){const Ye=[];return Object.keys(Ge).forEach(Gt=>{const rn=Ge[Gt];Array.isArray(rn)?rn.forEach(En=>{Ye.push({param:Gt,value:En,op:"a"})}):Ye.push({param:Gt,value:rn,op:"a"})}),this.clone(Ye)}set(Ge,Ye){return this.clone({param:Ge,value:Ye,op:"s"})}delete(Ge,Ye){return this.clone({param:Ge,value:Ye,op:"d"})}toString(){return this.init(),this.keys().map(Ge=>{const Ye=this.encoder.encodeKey(Ge);return this.map.get(Ge).map(Gt=>Ye+"="+this.encoder.encodeValue(Gt)).join("&")}).filter(Ge=>""!==Ge).join("&")}clone(Ge){const Ye=new Ie({encoder:this.encoder});return Ye.cloneFrom=this.cloneFrom||this,Ye.updates=(this.updates||[]).concat(Ge),Ye}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ge=>this.map.set(Ge,this.cloneFrom.map.get(Ge))),this.updates.forEach(Ge=>{switch(Ge.op){case"a":case"s":const Ye=("a"===Ge.op?this.map.get(Ge.param):void 0)||[];Ye.push(Re(Ge.value)),this.map.set(Ge.param,Ye);break;case"d":if(void 0===Ge.value){this.map.delete(Ge.param);break}{let Gt=this.map.get(Ge.param)||[];const rn=Gt.indexOf(Re(Ge.value));-1!==rn&&Gt.splice(rn,1),Gt.length>0?this.map.set(Ge.param,Gt):this.map.delete(Ge.param)}}}),this.cloneFrom=this.updates=null)}}class ot{constructor(){this.map=new Map}set(Ge,Ye){return this.map.set(Ge,Ye),this}get(Ge){return this.map.has(Ge)||this.map.set(Ge,Ge.defaultValue()),this.map.get(Ge)}delete(Ge){return this.map.delete(Ge),this}has(Ge){return this.map.has(Ge)}keys(){return this.map.keys()}}function Lt(Se){return typeof ArrayBuffer<"u"&&Se instanceof ArrayBuffer}function $t(Se){return typeof Blob<"u"&&Se instanceof Blob}function xe(Se){return typeof FormData<"u"&&Se instanceof FormData}class un{constructor(Ge,Ye,Gt,rn){let En;if(this.url=Ye,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ge.toUpperCase(),function _t(Se){switch(Se){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||rn?(this.body=void 0!==Gt?Gt:null,En=rn):En=Gt,En&&(this.reportProgress=!!En.reportProgress,this.withCredentials=!!En.withCredentials,En.responseType&&(this.responseType=En.responseType),En.headers&&(this.headers=En.headers),En.context&&(this.context=En.context),En.params&&(this.params=En.params)),this.headers||(this.headers=new ke),this.context||(this.context=new ot),this.params){const hn=this.params.toString();if(0===hn.length)this.urlWithParams=Ye;else{const lr=Ye.indexOf("?");this.urlWithParams=Ye+(-1===lr?"?":lr<Ye.length-1?"&":"")+hn}}else this.params=new Ie,this.urlWithParams=Ye}serializeBody(){return null===this.body?null:Lt(this.body)||$t(this.body)||xe(this.body)||function tn(Se){return typeof URLSearchParams<"u"&&Se instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ie?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xe(this.body)?null:$t(this.body)?this.body.type||null:Lt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ie?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ge={}){const Ye=Ge.method||this.method,Gt=Ge.url||this.url,rn=Ge.responseType||this.responseType,En=void 0!==Ge.body?Ge.body:this.body,hn=void 0!==Ge.withCredentials?Ge.withCredentials:this.withCredentials,lr=void 0!==Ge.reportProgress?Ge.reportProgress:this.reportProgress;let gn=Ge.headers||this.headers,Ii=Ge.params||this.params;const Dt=Ge.context??this.context;return void 0!==Ge.setHeaders&&(gn=Object.keys(Ge.setHeaders).reduce((ct,Vt)=>ct.set(Vt,Ge.setHeaders[Vt]),gn)),Ge.setParams&&(Ii=Object.keys(Ge.setParams).reduce((ct,Vt)=>ct.set(Vt,Ge.setParams[Vt]),Ii)),new un(Ye,Gt,En,{params:Ii,headers:gn,context:Dt,reportProgress:lr,responseType:rn,withCredentials:hn})}}var Wn=function(Se){return Se[Se.Sent=0]="Sent",Se[Se.UploadProgress=1]="UploadProgress",Se[Se.ResponseHeader=2]="ResponseHeader",Se[Se.DownloadProgress=3]="DownloadProgress",Se[Se.Response=4]="Response",Se[Se.User=5]="User",Se}(Wn||{});class it{constructor(Ge,Ye=200,Gt="OK"){this.headers=Ge.headers||new ke,this.status=void 0!==Ge.status?Ge.status:Ye,this.statusText=Ge.statusText||Gt,this.url=Ge.url||null,this.ok=this.status>=200&&this.status<300}}class Ut extends it{constructor(Ge={}){super(Ge),this.type=Wn.ResponseHeader}clone(Ge={}){return new Ut({headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class Oe extends it{constructor(Ge={}){super(Ge),this.type=Wn.Response,this.body=void 0!==Ge.body?Ge.body:null}clone(Ge={}){return new Oe({body:void 0!==Ge.body?Ge.body:this.body,headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class mt extends it{constructor(Ge){super(Ge,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ge.url||"(unknown url)"}`:`Http failure response for ${Ge.url||"(unknown url)"}: ${Ge.status} ${Ge.statusText}`,this.error=Ge.error||null}}function Ve(Se,Ge){return{body:Ge,headers:Se.headers,context:Se.context,observe:Se.observe,params:Se.params,reportProgress:Se.reportProgress,responseType:Se.responseType,withCredentials:Se.withCredentials}}let lt=(()=>{class Se{constructor(Ye){this.handler=Ye}request(Ye,Gt,rn={}){let En;if(Ye instanceof un)En=Ye;else{let gn,Ii;gn=rn.headers instanceof ke?rn.headers:new ke(rn.headers),rn.params&&(Ii=rn.params instanceof Ie?rn.params:new Ie({fromObject:rn.params})),En=new un(Ye,Gt,void 0!==rn.body?rn.body:null,{headers:gn,context:rn.context,params:Ii,reportProgress:rn.reportProgress,responseType:rn.responseType||"json",withCredentials:rn.withCredentials})}const hn=(0,ie.of)(En).pipe((0,oe.H)(gn=>this.handler.handle(gn)));if(Ye instanceof un||"events"===rn.observe)return hn;const lr=hn.pipe((0,Te.p)(gn=>gn instanceof Oe));switch(rn.observe||"body"){case"body":switch(En.responseType){case"arraybuffer":return lr.pipe((0,Ae.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return gn.body}));case"blob":return lr.pipe((0,Ae.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof Blob))throw new Error("Response is not a Blob.");return gn.body}));case"text":return lr.pipe((0,Ae.T)(gn=>{if(null!==gn.body&&"string"!=typeof gn.body)throw new Error("Response is not a string.");return gn.body}));default:return lr.pipe((0,Ae.T)(gn=>gn.body))}case"response":return lr;default:throw new Error(`Unreachable: unhandled observe type ${rn.observe}}`)}}delete(Ye,Gt={}){return this.request("DELETE",Ye,Gt)}get(Ye,Gt={}){return this.request("GET",Ye,Gt)}head(Ye,Gt={}){return this.request("HEAD",Ye,Gt)}jsonp(Ye,Gt){return this.request("JSONP",Ye,{params:(new Ie).append(Gt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ye,Gt={}){return this.request("OPTIONS",Ye,Gt)}patch(Ye,Gt,rn={}){return this.request("PATCH",Ye,Ve(rn,Gt))}post(Ye,Gt,rn={}){return this.request("POST",Ye,Ve(rn,Gt))}put(Ye,Gt,rn={}){return this.request("PUT",Ye,Ve(rn,Gt))}static{this.\u0275fac=function(Gt){return new(Gt||Se)(i.KVO(Q))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();function Ht(Se,Ge){return Ge(Se)}function Sn(Se,Ge){return(Ye,Gt)=>Ge.intercept(Ye,{handle:rn=>Se(rn,Gt)})}const dn=new i.nKC(""),kn=new i.nKC(""),nn=new i.nKC("");function Jn(){let Se=null;return(Ge,Ye)=>{null===Se&&(Se=((0,i.WQX)(dn,{optional:!0})??[]).reduceRight(Sn,Ht));const Gt=(0,i.WQX)(i.$K3),rn=Gt.add();return Se(Ge,Ye).pipe((0,be.j)(()=>Gt.remove(rn)))}}let Ln=(()=>{class Se extends Q{constructor(Ye,Gt){super(),this.backend=Ye,this.injector=Gt,this.chain=null,this.pendingTasks=(0,i.WQX)(i.$K3)}handle(Ye){if(null===this.chain){const rn=Array.from(new Set([...this.injector.get(kn),...this.injector.get(nn,[])]));this.chain=rn.reduceRight((En,hn)=>function cr(Se,Ge,Ye){return(Gt,rn)=>Ye.runInContext(()=>Ge(Gt,En=>Se(En,rn)))}(En,hn,this.injector),Ht)}const Gt=this.pendingTasks.add();return this.chain(Ye,rn=>this.backend.handle(rn)).pipe((0,be.j)(()=>this.pendingTasks.remove(Gt)))}static{this.\u0275fac=function(Gt){return new(Gt||Se)(i.KVO(me),i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();const Sr=/^\)\]\}',?\n/;let zn=(()=>{class Se{constructor(Ye){this.xhrFactory=Ye}handle(Ye){if("JSONP"===Ye.method)throw new i.wOt(-2800,!1);const Gt=this.xhrFactory;return(Gt.\u0275loadImpl?(0,n.H)(Gt.\u0275loadImpl()):(0,ie.of)(null)).pipe((0,Ne.n)(()=>new Ce.c(En=>{const hn=Gt.build();if(hn.open(Ye.method,Ye.urlWithParams),Ye.withCredentials&&(hn.withCredentials=!0),Ye.headers.forEach((_n,Fn)=>hn.setRequestHeader(_n,Fn.join(","))),Ye.headers.has("Accept")||hn.setRequestHeader("Accept","application/json, text/plain, */*"),!Ye.headers.has("Content-Type")){const _n=Ye.detectContentTypeHeader();null!==_n&&hn.setRequestHeader("Content-Type",_n)}if(Ye.responseType){const _n=Ye.responseType.toLowerCase();hn.responseType="json"!==_n?_n:"text"}const lr=Ye.serializeBody();let gn=null;const Ii=()=>{if(null!==gn)return gn;const _n=hn.statusText||"OK",Fn=new ke(hn.getAllResponseHeaders()),gr=function Vr(Se){return"responseURL"in Se&&Se.responseURL?Se.responseURL:/^X-Request-URL:/m.test(Se.getAllResponseHeaders())?Se.getResponseHeader("X-Request-URL"):null}(hn)||Ye.url;return gn=new Ut({headers:Fn,status:hn.status,statusText:_n,url:gr}),gn},Dt=()=>{let{headers:_n,status:Fn,statusText:gr,url:$r}=Ii(),er=null;204!==Fn&&(er=typeof hn.response>"u"?hn.responseText:hn.response),0===Fn&&(Fn=er?200:0);let Fi=Fn>=200&&Fn<300;if("json"===Ye.responseType&&"string"==typeof er){const cs=er;er=er.replace(Sr,"");try{er=""!==er?JSON.parse(er):null}catch(ki){er=cs,Fi&&(Fi=!1,er={error:ki,text:er})}}Fi?(En.next(new Oe({body:er,headers:_n,status:Fn,statusText:gr,url:$r||void 0})),En.complete()):En.error(new mt({error:er,headers:_n,status:Fn,statusText:gr,url:$r||void 0}))},ct=_n=>{const{url:Fn}=Ii(),gr=new mt({error:_n,status:hn.status||0,statusText:hn.statusText||"Unknown Error",url:Fn||void 0});En.error(gr)};let Vt=!1;const fn=_n=>{Vt||(En.next(Ii()),Vt=!0);let Fn={type:Wn.DownloadProgress,loaded:_n.loaded};_n.lengthComputable&&(Fn.total=_n.total),"text"===Ye.responseType&&hn.responseText&&(Fn.partialText=hn.responseText),En.next(Fn)},Kn=_n=>{let Fn={type:Wn.UploadProgress,loaded:_n.loaded};_n.lengthComputable&&(Fn.total=_n.total),En.next(Fn)};return hn.addEventListener("load",Dt),hn.addEventListener("error",ct),hn.addEventListener("timeout",ct),hn.addEventListener("abort",ct),Ye.reportProgress&&(hn.addEventListener("progress",fn),null!==lr&&hn.upload&&hn.upload.addEventListener("progress",Kn)),hn.send(lr),En.next({type:Wn.Sent}),()=>{hn.removeEventListener("error",ct),hn.removeEventListener("abort",ct),hn.removeEventListener("load",Dt),hn.removeEventListener("timeout",ct),Ye.reportProgress&&(hn.removeEventListener("progress",fn),null!==lr&&hn.upload&&hn.upload.removeEventListener("progress",Kn)),hn.readyState!==hn.DONE&&hn.abort()}})))}static{this.\u0275fac=function(Gt){return new(Gt||Se)(i.KVO(z.N0))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();const Kr=new i.nKC("XSRF_ENABLED"),pn=new i.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nr=new i.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class vr{}let Qn=(()=>{class Se{constructor(Ye,Gt,rn){this.doc=Ye,this.platform=Gt,this.cookieName=rn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ye=this.doc.cookie||"";return Ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,z._b)(Ye,this.cookieName),this.lastCookieString=Ye),this.lastToken}static{this.\u0275fac=function(Gt){return new(Gt||Se)(i.KVO(z.qQ),i.KVO(i.Agw),i.KVO(pn))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();function Ci(Se,Ge){const Ye=Se.url.toLowerCase();if(!(0,i.WQX)(Kr)||"GET"===Se.method||"HEAD"===Se.method||Ye.startsWith("http://")||Ye.startsWith("https://"))return Ge(Se);const Gt=(0,i.WQX)(vr).getToken(),rn=(0,i.WQX)(nr);return null!=Gt&&!Se.headers.has(rn)&&(Se=Se.clone({headers:Se.headers.set(rn,Gt)})),Ge(Se)}var Et=function(Se){return Se[Se.Interceptors=0]="Interceptors",Se[Se.LegacyInterceptors=1]="LegacyInterceptors",Se[Se.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Se[Se.NoXsrfProtection=3]="NoXsrfProtection",Se[Se.JsonpSupport=4]="JsonpSupport",Se[Se.RequestsMadeViaParent=5]="RequestsMadeViaParent",Se[Se.Fetch=6]="Fetch",Se}(Et||{});function de(Se,Ge){return{\u0275kind:Se,\u0275providers:Ge}}function ze(...Se){const Ge=[lt,zn,Ln,{provide:Q,useExisting:Ln},{provide:me,useExisting:zn},{provide:kn,useValue:Ci,multi:!0},{provide:Kr,useValue:!0},{provide:vr,useClass:Qn}];for(const Ye of Se)Ge.push(...Ye.\u0275providers);return(0,i.EmA)(Ge)}const zt=new i.nKC("LEGACY_INTERCEPTOR_FN");let k=(()=>{class Se{static{this.\u0275fac=function(Gt){return new(Gt||Se)}}static{this.\u0275mod=i.$C({type:Se})}static{this.\u0275inj=i.G2t({providers:[ze(de(Et.LegacyInterceptors,[{provide:zt,useFactory:Jn},{provide:kn,useExisting:zt,multi:!0}]))]})}}return Se})()},7705:(sn,et,O)=>{O.d(et,{$C:()=>ni,$GK:()=>Tn,$K3:()=>qT,$MX:()=>tf,AVh:()=>Lm,Agw:()=>im,B4B:()=>Dp,BIS:()=>qv,BMQ:()=>cd,C4Q:()=>$v,C5r:()=>RT,Co$:()=>Ub,DNE:()=>Ff,EFF:()=>wn,EJ8:()=>Us,EmA:()=>Rs,FS9:()=>za,FsC:()=>yo,G2t:()=>nn,GBs:()=>CT,GFd:()=>Dm,H3F:()=>KT,H5H:()=>hy,H8p:()=>xp,HJs:()=>qw,HbH:()=>E0,Hbi:()=>Fw,JRh:()=>jr,JZv:()=>zn,Jv_:()=>Vb,KH2:()=>fy,KVO:()=>Qe,Kcf:()=>Sy,L39:()=>Ww,LHq:()=>Si,LfX:()=>Ln,Lme:()=>vi,MKu:()=>nb,Mz_:()=>Uo,NEm:()=>dw,NYb:()=>aw,Njj:()=>ys,O8t:()=>xt,OA$:()=>hr,OM3:()=>bc,Ocv:()=>k1,Ol2:()=>$b,PLl:()=>Kv,QTQ:()=>d,Ql9:()=>U1,QuC:()=>Ms,R7$:()=>yE,RV6:()=>yd,Rfq:()=>Je,RxE:()=>Wy,SKi:()=>wo,SpI:()=>ti,TL$:()=>Gg,Tbb:()=>me,UyX:()=>Ap,VBU:()=>Ka,Vns:()=>Vm,Vt3:()=>Af,WHO:()=>JT,WPN:()=>td,WQX:()=>De,XpG:()=>oo,Xx1:()=>Bl,Y8G:()=>Om,Z63:()=>nd,ZF7:()=>qd,_9s:()=>Lp,_q3:()=>tb,aKT:()=>nh,aNF:()=>Bb,bIt:()=>q,bMT:()=>lT,bVm:()=>jf,bc$:()=>Mp,bkB:()=>wc,brH:()=>uT,c1b:()=>YE,cWb:()=>u_,czy:()=>Hd,e01:()=>ZT,e5t:()=>Dy,eBV:()=>zo,eq3:()=>Xb,eu8:()=>Eh,fpN:()=>Nw,gRc:()=>Ew,gXe:()=>hn,giA:()=>eC,h9k:()=>Sp,hnV:()=>WT,i5U:()=>cT,iLQ:()=>Y0,j41:()=>kf,jDH:()=>dn,jNT:()=>E,k0s:()=>_d,kS0:()=>Md,kdw:()=>Bu,l4e:()=>tT,lJ4:()=>Yb,lNU:()=>Re,l_i:()=>Qb,lsd:()=>wT,mGM:()=>TT,mq5:()=>Mv,n$t:()=>y_,nI1:()=>aT,nKC:()=>pn,naY:()=>vw,npT:()=>Qg,nrm:()=>Lf,o8S:()=>_y,oH4:()=>iC,osQ:()=>Kg,plB:()=>U0,qex:()=>Uf,rXU:()=>cu,rcV:()=>yc,s1E:()=>eT,sFG:()=>Jv,sMw:()=>Jb,sZ2:()=>w_,sdS:()=>Mm,tSv:()=>Zy,uvJ:()=>Ai,w6W:()=>xI,wOt:()=>Ie,wni:()=>IT,xGo:()=>Wc,xc7:()=>uy,xe9:()=>QE,xvI:()=>Ky,yjJ:()=>Bf,zZn:()=>Tc,zcH:()=>ul,ziG:()=>Zb,zjR:()=>j});var i=O(1413),ie=O(8359),n=O(1985),Ce=O(7786),oe=O(4412),Te=O(7673),Ae=O(7647),be=O(5558),Ne=O(3294);function z(t){for(let r in t)if(t[r]===z)return r;throw Error("Could not find renamed property on target object.")}function Q(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function ke(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Be=z({__forward_ref__:z});function Je(t){return t.__forward_ref__=Je,t.toString=function(){return me(this())},t}function qe(t){return fe(t)?t():t}function fe(t){return"function"==typeof t&&t.hasOwnProperty(Be)&&t.__forward_ref__===Je}function He(t){return t&&!!t.\u0275providers}const Re="https://g.co/ng/security#xss";class Ie extends Error{constructor(r,o){super(function dt(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function ot(t){return"string"==typeof t?t:null==t?"":String(t)}function tn(t,r){throw new Ie(-201,!1)}function gt(t,r){null==t&&function at(t,r,o,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${o} ${c} ${r} <=Actual]`))}(r,t,null,"!=")}function dn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jn(t){return Qt(t,Zt)||Qt(t,Un)}function Ln(t){return null!==Jn(t)}function Qt(t,r){return t.hasOwnProperty(r)?t[r]:null}function yr(t){return t&&(t.hasOwnProperty(ar)||t.hasOwnProperty(Bt))?t[ar]:null}const Zt=z({\u0275prov:z}),ar=z({\u0275inj:z}),Un=z({ngInjectableDef:z}),Bt=z({ngInjectorDef:z});var Tn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tn||{});let jn;function Fr(t){const r=jn;return jn=t,r}function Sr(t,r,o){const c=Jn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&Tn.Optional?null:void 0!==r?r:void tn(me(t))}const zn=globalThis;class pn{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=dn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Rn={},Rr="__NG_DI_FLAG__",ir="ngTempTokenPath",Pt=/\n/gm,P="__source";let k;function ye(t){const r=k;return k=t,r}function ce(t,r=Tn.Default){if(void 0===k)throw new Ie(-203,!1);return null===k?Sr(t,void 0,r):k.get(t,r&Tn.Optional?null:void 0,r)}function Qe(t,r=Tn.Default){return(function Cn(){return jn}()||ce)(qe(t),r)}function De(t,r=Tn.Default){return Qe(t,St(r))}function St(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Dn(t){const r=[];for(let o=0;o<t.length;o++){const c=qe(t[o]);if(Array.isArray(c)){if(0===c.length)throw new Ie(900,!1);let f,g=Tn.Default;for(let C=0;C<c.length;C++){const A=c[C],M=Ge(A);"number"==typeof M?-1===M?f=A.token:g|=M:f=A}r.push(Qe(f,g))}else r.push(Qe(c))}return r}function Se(t,r){return t[Rr]=r,t.prototype[Rr]=r,t}function Ge(t){return t[Rr]}function rn(t){return{toString:t}.toString()}var En=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(En||{}),hn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(hn||{});const lr={},gn=[],Ii=z({\u0275cmp:z}),Dt=z({\u0275dir:z}),ct=z({\u0275pipe:z}),Vt=z({\u0275mod:z}),fn=z({\u0275fac:z}),Kn=z({__NG_ELEMENT_ID__:z}),_n=z({__NG_ENV_ID__:z});function Fn(t,r,o){let c=t.length;for(;;){const f=t.indexOf(r,o);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const g=r.length;if(f+g===c||t.charCodeAt(f+g)<=32)return f}o=f+1}}function gr(t,r,o){let c=0;for(;c<o.length;){const f=o[c];if("number"==typeof f){if(0!==f)break;c++;const g=o[c++],C=o[c++],A=o[c++];t.setAttribute(r,C,A,g)}else{const g=f,C=o[++c];er(g)?t.setProperty(r,g,C):t.setAttribute(r,g,C),c++}}return c}function $r(t){return 3===t||4===t||6===t}function er(t){return 64===t.charCodeAt(0)}function Fi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let c=0;c<r.length;c++){const f=r[c];"number"==typeof f?o=f:0===o||cs(t,o,f,null,-1===o||2===o?r[++c]:null)}}return t}function cs(t,r,o,c,f){let g=0,C=t.length;if(-1===r)C=-1;else for(;g<t.length;){const A=t[g++];if("number"==typeof A){if(A===r){C=-1;break}if(A>r){C=g-1;break}}}for(;g<t.length;){const A=t[g];if("number"==typeof A)break;if(A===o){if(null===c)return void(null!==f&&(t[g+1]=f));if(c===t[g+1])return void(t[g+2]=f)}g++,null!==c&&g++,null!==f&&g++}-1!==C&&(t.splice(C,0,r),g=C+1),t.splice(g++,0,o),null!==c&&t.splice(g++,0,c),null!==f&&t.splice(g++,0,f)}const ki="ng-template";function qs(t,r,o){let c=0,f=!0;for(;c<t.length;){let g=t[c++];if("string"==typeof g&&f){const C=t[c++];if(o&&"class"===g&&-1!==Fn(C.toLowerCase(),r,0))return!0}else{if(1===g){for(;c<t.length&&"string"==typeof(g=t[c++]);)if(g.toLowerCase()===r)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function mo(t){return 4===t.type&&t.value!==ki}function $i(t,r,o){return r===(4!==t.type||o?t.value:ki)}function jo(t,r,o){let c=4;const f=t.attrs||[],g=function Li(t){for(let r=0;r<t.length;r++)if($r(t[r]))return r;return t.length}(f);let C=!1;for(let A=0;A<r.length;A++){const M=r[A];if("number"!=typeof M){if(!C)if(4&c){if(c=2|1&c,""!==M&&!$i(t,M,o)||""===M&&1===r.length){if(Jr(c))return!1;C=!0}}else{const H=8&c?M:r[++A];if(8&c&&null!==t.attrs){if(!qs(t.attrs,H,o)){if(Jr(c))return!1;C=!0}continue}const Pe=rs(8&c?"class":M,f,mo(t),o);if(-1===Pe){if(Jr(c))return!1;C=!0;continue}if(""!==H){let ut;ut=Pe>g?"":f[Pe+1].toLowerCase();const bt=8&c?ut:null;if(bt&&-1!==Fn(bt,H,0)||2&c&&H!==ut){if(Jr(c))return!1;C=!0}}}}else{if(!C&&!Jr(c)&&!Jr(M))return!1;if(C&&Jr(M))continue;C=!1,c=M|1&c}}return Jr(c)||C}function Jr(t){return 0==(1&t)}function rs(t,r,o,c){if(null===r)return-1;let f=0;if(c||!o){let g=!1;for(;f<r.length;){const C=r[f];if(C===t)return f;if(3===C||6===C)g=!0;else{if(1===C||2===C){let A=r[++f];for(;"string"==typeof A;)A=r[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=g?1:2}return-1}return function Vi(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const c=t[o];if("number"==typeof c)return-1;if(c===r)return o;o++}return-1}(r,t)}function us(t,r,o=!1){for(let c=0;c<r.length;c++)if(jo(t,r[c],o))return!0;return!1}function Ys(t,r){return t?":not("+r.trim()+")":r}function _o(t){let r=t[0],o=1,c=2,f="",g=!1;for(;o<t.length;){let C=t[o];if("string"==typeof C)if(2&c){const A=t[++o];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&c?f+="."+C:4&c&&(f+=" "+C);else""!==f&&!Jr(C)&&(r+=Ys(g,f),f=""),c=C,g=g||!Jr(c);o++}return""!==f&&(r+=Ys(g,f)),r}function Ka(t){return rn(()=>{const r=ds(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||hn.Emulated,styles:t.styles||gn,_:null,schemas:t.schemas||null,tView:null,id:""};lo(o);const c=t.dependencies;return o.directiveDefs=Ji(c,!1),o.pipeDefs=Ji(c,!0),o.id=function Es(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of o)r=Math.imul(31,r)+f.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function fa(t){return Pr(t)||hi(t)}function Xs(t){return null!==t}function ni(t){return rn(()=>({type:t.type,bootstrap:t.bootstrap||gn,declarations:t.declarations||gn,imports:t.imports||gn,exports:t.exports||gn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ps(t,r){if(null==t)return lr;const o={};for(const c in t)if(t.hasOwnProperty(c)){let f=t[c],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),o[f]=c,r&&(r[f]=g)}return o}function yo(t){return rn(()=>{const r=ds(t);return lo(r),r})}function Us(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pr(t){return t[Ii]||null}function hi(t){return t[Dt]||null}function wi(t){return t[ct]||null}function Ms(t){const r=Pr(t)||hi(t)||wi(t);return null!==r&&r.standalone}function fi(t,r){const o=t[Vt]||null;if(!o&&!0===r)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return o}function ds(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||lr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||gn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ps(t.inputs,r),outputs:Ps(t.outputs)}}function lo(t){t.features?.forEach(r=>r(t))}function Ji(t,r){if(!t)return null;const o=r?wi:fa;return()=>("function"==typeof t?t():t).map(c=>o(c)).filter(Xs)}const ci=0,bn=1,ur=2,Er=3,ss=4,hs=5,Bi=6,Qs=7,ui=8,fs=9,Os=10,or=11,ps=12,bs=13,te=14,J=15,Me=16,We=17,ht=18,It=19,on=20,Nn=21,In=22,rr=23,Mr=24,qn=25,dr=1,gi=2,kr=7,Ui=9,Or=11;function bi(t){return Array.isArray(t)&&"object"==typeof t[dr]}function Xr(t){return Array.isArray(t)&&!0===t[dr]}function vo(t){return 0!=(4&t.flags)}function gs(t){return t.componentOffset>-1}function Gi(t){return 1==(1&t.flags)}function Wi(t){return!!t.template}function Zi(t){return 0!=(512&t[ur])}function $s(t,r){return t.hasOwnProperty(fn)?t[fn]:null}let Oi=null,$o=!1;function Mn(t){const r=Oi;return Oi=t,r}const Ra={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function yl(t){if(!Eo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ma(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Is(t){t.dirty=!0,function ro(t){if(void 0===t.liveConsumerNode)return;const r=$o;$o=!0;try{for(const o of t.liveConsumerNode)o.dirty||Is(o)}finally{$o=r}}(t),t.consumerMarkedDirty?.(t)}function xa(t){return t&&(t.nextProducerIndex=0),Mn(t)}function Pa(t,r){if(Mn(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Eo(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)tc(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ma(t){Bo(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],c=t.producerLastReadVersion[r];if(c!==o.version||(yl(o),c!==o.version))return!0}return!1}function vu(t){if(Bo(t),Eo(t))for(let r=0;r<t.producerNode.length;r++)tc(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function tc(t,r){if(function Oa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Bo(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)tc(t.producerNode[c],t.producerIndexOfThis[c]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[r],f=t.liveConsumerNode[r];Bo(f),f.producerIndexOfThis[c]=r}}function Eo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Bo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Go=null;function xt(t){const r=Mn(null);try{return t()}finally{Mn(r)}}const Xn=()=>{},ei=(()=>({...Ra,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Xn}))();class Gr{constructor(r,o,c){this.previousValue=r,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function hr(){return Hr}function Hr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ni),_i}function _i(){const t=Fs(this),r=t?.current;if(r){const o=t.previous;if(o===lr)t.previous=r;else for(let c in r)o[c]=r[c];t.current=null,this.ngOnChanges(r)}}function Ni(t,r,o,c){const f=this.declaredInputs[o],g=Fs(t)||function sa(t,r){return t[Js]=r}(t,{previous:lr,current:null}),C=g.current||(g.current={}),A=g.previous,M=A[f];C[f]=new Gr(M&&M.currentValue,r,A===lr),t[c]=r}hr.ngInherit=!0;const Js="__ngSimpleChanges__";function Fs(t){return t[Js]||null}const Ts=function(t,r,o){};function Ar(t){for(;Array.isArray(t);)t=t[ci];return t}function El(t,r){return Ar(r[t])}function io(t,r){return Ar(r[t.index])}function Td(t,r){return t.data[r]}function bl(t,r){return t[r]}function Hi(t,r){const o=r[t];return bi(o)?o:o[ci]}function ws(t,r){return null==r?null:t[r]}function Fa(t){t[We]=0}function rc(t){1024&t[ur]||(t[ur]|=1024,Id(t,1))}function Cd(t){1024&t[ur]&&(t[ur]&=-1025,Id(t,-1))}function Id(t,r){let o=t[Er];if(null===o)return;o[hs]+=r;let c=o;for(o=o[Er];null!==o&&(1===r&&1===c[hs]||-1===r&&0===c[hs]);)o[hs]+=r,c=o,o=o[Er]}const br={lFrame:he(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Au(){return br.bindingsEnabled}function en(){return br.lFrame.lView}function Lr(){return br.lFrame.tView}function zo(t){return br.lFrame.contextLView=t,t[ui]}function ys(t){return br.lFrame.contextLView=null,t}function As(){let t=sc();for(;null!==t&&64===t.type;)t=t.parent;return t}function sc(){return br.lFrame.currentTNode}function Zs(t,r){const o=br.lFrame;o.currentTNode=t,o.isParent=r}function Il(){return br.lFrame.isParent}function wd(){br.lFrame.isParent=!1}function Gs(){const t=br.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function ho(){return br.lFrame.bindingIndex}function Ja(){return br.lFrame.bindingIndex++}function bo(t){const r=br.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function Yf(t,r){const o=br.lFrame;o.bindingIndex=o.bindingRootIndex=t,Bc(r)}function Bc(t){br.lFrame.currentDirectiveIndex=t}function Wo(){return br.lFrame.currentQueryIndex}function S(t){br.lFrame.currentQueryIndex=t}function N(t){const r=t[bn];return 2===r.type?r.declTNode:1===r.type?t[Bi]:null}function w(t,r,o){if(o&Tn.SkipSelf){let f=r,g=t;for(;!(f=f.parent,null!==f||o&Tn.Host||(f=N(g),null===f||(g=g[te],10&f.type))););if(null===f)return!1;r=f,t=g}const c=br.lFrame=G();return c.currentTNode=r,c.lView=t,!0}function F(t){const r=G(),o=t[bn];br.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function G(){const t=br.lFrame,r=null===t?null:t.child;return null===r?he(t):r}function he(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ue(){const t=br.lFrame;return br.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Rt=Ue;function At(){const t=Ue();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Dr(){return br.lFrame.selectedIndex}function Br(t){br.lFrame.selectedIndex=t}function yi(){const t=br.lFrame;return Td(t.tView,t.selectedIndex)}let wh=!0;function el(){return wh}function Ss(t){wh=t}function Ua(t,r){for(let o=r.directiveStart,c=r.directiveEnd;o<c;o++){const g=t.data[o].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:M,ngAfterViewChecked:H,ngOnDestroy:ae}=g;C&&(t.contentHooks??=[]).push(-o,C),A&&((t.contentHooks??=[]).push(o,A),(t.contentCheckHooks??=[]).push(o,A)),M&&(t.viewHooks??=[]).push(-o,M),H&&((t.viewHooks??=[]).push(o,H),(t.viewCheckHooks??=[]).push(o,H)),null!=ae&&(t.destroyHooks??=[]).push(o,ae)}}function ac(t,r,o){Pu(t,r,3,o)}function Gc(t,r,o,c){(3&t[ur])===o&&Pu(t,r,o,c)}function xu(t,r){let o=t[ur];(3&o)===r&&(o&=8191,o+=1,t[ur]=o)}function Pu(t,r,o,c){const g=c??-1,C=r.length-1;let A=0;for(let M=void 0!==c?65535&t[We]:0;M<C;M++)if("number"==typeof r[M+1]){if(A=r[M],null!=c&&A>=c)break}else r[M]<0&&(t[We]+=65536),(A<g||-1==g)&&(Ou(t,o,r,M),t[We]=(4294901760&t[We])+M+2),M++}function Mu(t,r){Ts(4,t,r);const o=Mn(null);try{r.call(t)}finally{Mn(o),Ts(5,t,r)}}function Ou(t,r,o,c){const f=o[c]<0,g=o[c+1],A=t[f?-o[c]:o[c]];f?t[ur]>>13<t[We]>>16&&(3&t[ur])===r&&(t[ur]+=8192,Mu(A,g)):Mu(A,g)}const Ko=-1;class To{constructor(r,o,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function Hc(t){return t!==Ko}function tl(t){return 32767&t}function Rl(t,r){let o=function lc(t){return t>>16}(t),c=r;for(;o>0;)c=c[te],o--;return c}let cc=!0;function nl(t){const r=cc;return cc=t,r}const Oo=255,Ea=5;let Fu=0;const Co={};function xl(t,r){const o=Dh(t,r);if(-1!==o)return o;const c=r[bn];c.firstCreatePass&&(t.injectorIndex=r.length,Ds(c.data,t),Ds(r,null),Ds(c.blueprint,null));const f=Pl(t,r),g=t.injectorIndex;if(Hc(f)){const C=tl(f),A=Rl(f,r),M=A[bn].data;for(let H=0;H<8;H++)r[g+H]=A[C+H]|M[C+H]}return r[g+8]=f,g}function Ds(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Dh(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Pl(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,c=null,f=r;for(;null!==f;){if(c=Pd(f),null===c)return Ko;if(o++,f=f[te],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return Ko}function uc(t,r,o){!function xd(t,r,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(Kn)&&(c=o[Kn]),null==c&&(c=o[Kn]=Fu++);const f=c&Oo;r.data[t+(f>>Ea)]|=1<<f}(t,r,o)}function rl(t,r,o){if(o&Tn.Optional||void 0!==t)return t;tn()}function dc(t,r,o,c){if(o&Tn.Optional&&void 0===c&&(c=null),!(o&(Tn.Self|Tn.Host))){const f=t[fs],g=Fr(void 0);try{return f?f.get(r,c,o&Tn.Optional):Sr(r,c,o&Tn.Optional)}finally{Fr(g)}}return rl(c,0,o)}function zc(t,r,o,c=Tn.Default,f){if(null!==t){if(2048&r[ur]&&!(c&Tn.Self)){const C=function Ph(t,r,o,c,f){let g=t,C=r;for(;null!==g&&null!==C&&2048&C[ur]&&!(512&C[ur]);){const A=Ml(g,C,o,c|Tn.Self,Co);if(A!==Co)return A;let M=g.parent;if(!M){const H=C[on];if(H){const ae=H.get(o,Co,c);if(ae!==Co)return ae}M=Pd(C),C=C[te]}g=M}return f}(t,r,o,c,Co);if(C!==Co)return C}const g=Ml(t,r,o,c,Co);if(g!==Co)return g}return dc(r,o,c,f)}function Ml(t,r,o,c,f){const g=function Nl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Kn)?t[Kn]:void 0;return"number"==typeof r?r>=0?r&Oo:Zf:r}(o);if("function"==typeof g){if(!w(r,t,c))return c&Tn.Host?rl(f,0,c):dc(r,o,c,f);try{let C;if(C=g(c),null!=C||c&Tn.Optional)return C;tn()}finally{Rt()}}else if("number"==typeof g){let C=null,A=Dh(t,r),M=Ko,H=c&Tn.Host?r[J][Bi]:null;for((-1===A||c&Tn.SkipSelf)&&(M=-1===A?Pl(t,r):r[A+8],M!==Ko&&Jf(c,!1)?(C=r[bn],A=tl(M),r=Rl(M,r)):A=-1);-1!==A;){const ae=r[bn];if(ku(g,A,ae.data)){const Pe=Qf(A,r,o,C,c,H);if(Pe!==Co)return Pe}M=r[A+8],M!==Ko&&Jf(c,r[bn].data[A+8]===H)&&ku(g,A,r)?(C=ae,A=tl(M),r=Rl(M,r)):A=-1}}return f}function Qf(t,r,o,c,f,g){const C=r[bn],A=C.data[t+8],ae=qo(A,C,o,null==c?gs(A)&&cc:c!=C&&0!=(3&A.type),f&Tn.Host&&g===A);return null!==ae?Ol(r,C,ae,A):Co}function qo(t,r,o,c,f){const g=t.providerIndexes,C=r.data,A=1048575&g,M=t.directiveStart,ae=g>>20,ut=f?A+ae:t.directiveEnd;for(let bt=c?A:A+ae;bt<ut;bt++){const Kt=C[bt];if(bt<M&&o===Kt||bt>=M&&Kt.type===o)return bt}if(f){const bt=C[M];if(bt&&Wi(bt)&&bt.type===o)return M}return null}function Ol(t,r,o,c){let f=t[o];const g=r.data;if(function Dl(t){return t instanceof To}(f)){const C=f;C.resolving&&function Lt(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${t}${o}`)}(function _t(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ot(t)}(g[o]));const A=nl(C.canSeeViewProviders);C.resolving=!0;const H=C.injectImpl?Fr(C.injectImpl):null;w(t,c,Tn.Default);try{f=t[o]=C.factory(void 0,g,t,c),r.firstCreatePass&&o>=c.directiveStart&&function Sd(t,r,o){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:g}=r.type.prototype;if(c){const C=Hr(r);(o.preOrderHooks??=[]).push(t,C),(o.preOrderCheckHooks??=[]).push(t,C)}f&&(o.preOrderHooks??=[]).push(0-t,f),g&&((o.preOrderHooks??=[]).push(t,g),(o.preOrderCheckHooks??=[]).push(t,g))}(o,g[o],r)}finally{null!==H&&Fr(H),nl(A),C.resolving=!1,Rt()}}return f}function ku(t,r,o){return!!(o[r+(t>>Ea)]&1<<t)}function Jf(t,r){return!(t&Tn.Self||t&Tn.Host&&r)}class os{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,c){return zc(this._tNode,this._lView,r,St(c),o)}}function Zf(){return new os(As(),en())}function Wc(t){return rn(()=>{const r=t.prototype.constructor,o=r[fn]||la(r),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const g=f[fn]||la(f);if(g&&g!==o)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function la(t){return fe(t)?()=>{const r=la(qe(t));return r&&r()}:$s(t)}function Pd(t){const r=t[bn],o=r.type;return 2===o?r.declTNode:1===o?t[Bi]:null}function Md(t){return function Rh(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const c=o.length;let f=0;for(;f<c;){const g=o[f];if($r(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<c&&"string"==typeof o[f];)f++;else{if(g===r)return o[f+1];f+=2}}}return null}(As(),t)}const No="__parameters__";function Kc(t,r,o){return rn(()=>{const c=function Lu(t){return function(...o){if(t){const c=t(...o);for(const f in c)this[f]=c[f]}}}(r);function f(...g){if(this instanceof f)return c.apply(this,g),this;const C=new f(...g);return A.annotation=C,A;function A(M,H,ae){const Pe=M.hasOwnProperty(No)?M[No]:Object.defineProperty(M,No,{value:[]})[No];for(;Pe.length<=ae;)Pe.push(null);return(Pe[ae]=Pe[ae]||[]).push(C),M}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Vl(t,r){t.forEach(o=>Array.isArray(o)?Vl(o,r):r(o))}function Od(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Ul(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Io(t,r,o){let c=ca(t,r);return c>=0?t[1|c]=o:(c=~c,function Eg(t,r,o,c){let f=t.length;if(f==r)t.push(o,c);else if(1===f)t.push(c,t[0]),t[0]=o;else{for(f--,t.push(t[f-1],t[f]);f>r;)t[f]=t[f-2],f--;t[r]=o,t[r+1]=c}}(t,c,r,o)),c}function Fd(t,r){const o=ca(t,r);if(o>=0)return t[1|o]}function ca(t,r){return function Fh(t,r,o){let c=0,f=t.length>>o;for(;f!==c;){const g=c+(f-c>>1),C=t[g<<o];if(r===C)return g<<o;C>r?f=g:c=g+1}return~(f<<o)}(t,r,1)}const Bl=Se(Kc("Optional"),8),Bu=Se(Kc("SkipSelf"),4);function Gd(t){return 128==(128&t.flags)}var Hd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Hd||{});const zm=/^>|^->|<!--|-->|--!>|<!-$/g,Hh=/(<|>)/g,Wm="\u200b$1\u200b";const Wu=new Map;let zh=0;const qu="__ngContext__";function Fo(t,r){bi(r)?(t[qu]=r[It],function Ku(t){Wu.set(t[It],t)}(r)):t[qu]=r}let Wh;function Zc(t,r){return Wh(t,r)}function hc(t){const r=t[Er];return Xr(r)?r[Er]:r}function Xm(t){return eu(t[ps])}function Wd(t){return eu(t[ss])}function eu(t){for(;null!==t&&!Xr(t);)t=t[ss];return t}function pc(t,r,o,c,f){if(null!=c){let g,C=!1;Xr(c)?g=c:bi(c)&&(C=!0,c=c[ci]);const A=Ar(c);0===t&&null!==o?null==f?mp(r,o,A):Xu(r,o,A,f||null,!0):1===t&&null!==o?Xu(r,o,A,f||null,!0):2===t?function tu(t,r,o){const c=Kd(t,r);c&&function Ng(t,r,o,c){t.removeChild(r,o,c)}(t,c,r,o)}(r,A,C):3===t&&r.destroyNode(A),null!=g&&function Ug(t,r,o,c,f){const g=o[kr];g!==Ar(o)&&pc(r,t,c,g,f);for(let A=Or;A<o.length;A++){const M=o[A];Qh(M[bn],M,t,r,c,g)}}(r,t,g,o,f)}}function Rg(t,r){return t.createComment(function zl(t){return t.replace(zm,r=>r.replace(Hh,Wm))}(r))}function Kh(t,r,o){return t.createElement(r,o)}function Zm(t,r){const o=t[Ui],c=o.indexOf(r);Cd(r),o.splice(c,1)}function qh(t,r){if(t.length<=Or)return;const o=Or+r,c=t[o];if(c){const f=c[Me];null!==f&&f!==t&&Zm(f,c),r>0&&(t[o-1][ss]=c[ss]);const g=Ul(t,Or+r);!function xg(t,r){Qh(t,r,r[or],2,null,null),r[ci]=null,r[Bi]=null}(c[bn],c);const C=g[ht];null!==C&&C.detachView(g[bn]),c[Er]=null,c[ss]=null,c[ur]&=-129}return c}function pp(t,r){if(!(256&r[ur])){const o=r[or];r[rr]&&vu(r[rr]),r[Mr]&&vu(r[Mr]),o.destroyNode&&Qh(t,r,o,3,null,null),function Mg(t){let r=t[ps];if(!r)return gp(t[bn],t);for(;r;){let o=null;if(bi(r))o=r[ps];else{const c=r[Or];c&&(o=c)}if(!o){for(;r&&!r[ss]&&r!==t;)bi(r)&&gp(r[bn],r),r=r[Er];null===r&&(r=t),bi(r)&&gp(r[bn],r),o=r&&r[ss]}r=o}}(r)}}function gp(t,r){if(!(256&r[ur])){r[ur]&=-129,r[ur]|=256,function Ty(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let c=0;c<o.length;c+=2){const f=r[o[c]];if(!(f instanceof To)){const g=o[c+1];if(Array.isArray(g))for(let C=0;C<g.length;C+=2){const A=f[g[C]],M=g[C+1];Ts(4,A,M);try{M.call(A)}finally{Ts(5,A,M)}}else{Ts(4,f,g);try{g.call(f)}finally{Ts(5,f,g)}}}}}(t,r),function e_(t,r){const o=t.cleanup,c=r[Qs];if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const C=o[g+3];C>=0?c[C]():c[-C].unsubscribe(),g+=2}else o[g].call(c[o[g+1]]);null!==c&&(r[Qs]=null);const f=r[Nn];if(null!==f){r[Nn]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(t,r),1===r[bn].type&&r[or].destroy();const o=r[Me];if(null!==o&&Xr(r[Er])){o!==r[Er]&&Zm(o,r);const c=r[ht];null!==c&&c.detachView(t)}!function wg(t){Wu.delete(t[It])}(r)}}function Og(t,r,o){return function t_(t,r,o){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return o[ci];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:g}=t.data[c.directiveStart+f];if(g===hn.None||g===hn.Emulated)return null}return io(c,o)}}(t,r.parent,o)}function Xu(t,r,o,c,f){t.insertBefore(r,o,c,f)}function mp(t,r,o){t.appendChild(r,o)}function n_(t,r,o,c,f){null!==c?Xu(t,r,o,c,f):mp(t,r,o)}function Kd(t,r){return t.parentNode(r)}let kg,gc,Ip,wp,yp=function r_(t,r,o){return 40&t.type?io(t,o):null};function Ep(t,r,o,c){const f=Og(t,c,r),g=r[or],A=function _p(t,r,o){return yp(t,r,o)}(c.parent||r[Bi],c,r);if(null!=f)if(Array.isArray(o))for(let M=0;M<o.length;M++)n_(g,f,o[M],A,!1);else n_(g,f,o,A,!1);void 0!==kg&&kg(g,c,r,o,f)}function Qu(t,r){if(null!==r){const o=r.type;if(3&o)return io(r,t);if(4&o)return Yh(-1,t[r.index]);if(8&o){const c=r.child;if(null!==c)return Qu(t,c);{const f=t[r.index];return Xr(f)?Yh(-1,f):Ar(f)}}if(32&o)return Zc(r,t)()||Ar(t[r.index]);{const c=Lg(t,r);return null!==c?Array.isArray(c)?c[0]:Qu(hc(t[J]),c):Qu(t,r.next)}}return null}function Lg(t,r){return null!==r?t[J][Bi].projection[r.projection]:null}function Yh(t,r){const o=Or+t+1;if(o<r.length){const c=r[o],f=c[bn].firstChild;if(null!==f)return Qu(c,f)}return r[kr]}function Xh(t,r,o,c,f,g,C){for(;null!=o;){const A=c[o.index],M=o.type;if(C&&0===r&&(A&&Fo(Ar(A),c),o.flags|=2),32!=(32&o.flags))if(8&M)Xh(t,r,o.child,c,f,g,!1),pc(r,t,f,A,g);else if(32&M){const H=Zc(o,c);let ae;for(;ae=H();)pc(r,t,f,ae,g);pc(r,t,f,A,g)}else 16&M?s_(t,r,c,o,f,g):pc(r,t,f,A,g);o=C?o.projectionNext:o.next}}function Qh(t,r,o,c,f,g){Xh(o,c,t.firstChild,r,f,g,!1)}function s_(t,r,o,c,f,g){const C=o[J],M=C[Bi].projection[c.projection];if(Array.isArray(M))for(let H=0;H<M.length;H++)pc(r,t,f,M[H],g);else{let H=M;const ae=C[Er];Gd(c)&&(H.flags|=128),Xh(t,r,H,ae,f,g,!0)}}function bp(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function Tp(t,r,o){const{mergedAttrs:c,classes:f,styles:g}=o;null!==c&&gr(t,r,c),null!==f&&bp(t,r,f),null!==g&&function jg(t,r,o){t.setAttribute(r,"style",o)}(t,r,g)}function nu(t){return function Cp(){if(void 0===gc&&(gc=null,zn.trustedTypes))try{gc=zn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gc}()?.createHTML(t)||t}function Gg(t){Ip=t}function Ju(){if(void 0!==Ip)return Ip;if(typeof document<"u")return document;throw new Ie(210,!1)}function Jh(){if(void 0===wp&&(wp=null,zn.trustedTypes))try{wp=zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wp}function o_(t){return Jh()?.createHTML(t)||t}function a_(t){return Jh()?.createScriptURL(t)||t}class _c{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Re})`}}class Ay extends _c{getTypeName(){return"HTML"}}class Hg extends _c{getTypeName(){return"Style"}}class l_ extends _c{getTypeName(){return"Script"}}class zg extends _c{getTypeName(){return"URL"}}class c_ extends _c{getTypeName(){return"ResourceURL"}}function yc(t){return t instanceof _c?t.changingThisBreaksApplicationSecurity:t}function qd(t,r){const o=function Wg(t){return t instanceof _c&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${Re})`)}return o===r}function Sy(t){return new Ay(t)}function u_(t){return new Hg(t)}function Ap(t){return new l_(t)}function Kg(t){return new zg(t)}function Dy(t){return new c_(t)}class Ry{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(nu(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class ef{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=nu(r),o}}const Yd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function tf(t){return(t=String(t)).match(Yd)?t:"unsafe:"+t}function Ba(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function nf(...t){const r={};for(const o of t)for(const c in o)o.hasOwnProperty(c)&&(r[c]=!0);return r}const h_=Ba("area,br,col,hr,img,wbr"),f_=Ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),p_=Ba("rp,rt"),rf=nf(h_,nf(f_,Ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nf(p_,Ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nf(p_,f_)),sf=Ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ed=nf(sf,Ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lf=Ba("script,style,template");class vc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,c=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!rf.hasOwnProperty(o))return this.sanitizedSomething=!0,!lf.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=r.attributes;for(let f=0;f<c.length;f++){const g=c.item(f),C=g.name,A=C.toLowerCase();if(!ed.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let M=g.value;sf[A]&&(M=tf(M)),this.buf.push(" ",C,'="',Yg(M),'"')}return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();rf.hasOwnProperty(o)&&!h_.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(Yg(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const cf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qg=/([^\#-~ |!])/g;function Yg(t){return t.replace(/&/g,"&amp;").replace(cf,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(qg,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wl;function Sp(t,r){let o=null;try{Wl=Wl||function Zu(t){const r=new ef(t);return function d_(){try{return!!(new window.DOMParser).parseFromString(nu(""),"text/html")}catch{return!1}}()?new Ry(r):r}(t);let c=r?String(r):"";o=Wl.getInertBodyElement(c);let f=5,g=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=g,g=o.innerHTML,o=Wl.getInertBodyElement(c)}while(c!==g);return nu((new vc).sanitizeChildren(Xg(o)||o))}finally{if(o){const c=Xg(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Xg(t){return"content"in t&&function Py(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var td=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(td||{});function Qg(t){const r=Xd();return r?o_(r.sanitize(td.HTML,t)||""):qd(t,"HTML")?o_(yc(t)):Sp(Ju(),ot(t))}function Dp(t){const r=Xd();return r?r.sanitize(td.URL,t)||"":qd(t,"URL")?yc(t):tf(ot(t))}function __(t){const r=Xd();if(r)return a_(r.sanitize(td.RESOURCE_URL,t)||"");if(qd(t,"ResourceURL"))return a_(yc(t));throw new Ie(904,!1)}function y_(t,r,o){return function ky(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?__:Dp}(r,o)(t)}function Xd(){const t=en();return t&&t[Os].sanitizer}const nd=new pn("ENVIRONMENT_INITIALIZER"),Jg=new pn("INJECTOR",-1),Rp=new pn("INJECTOR_DEF_TYPES");class ll{get(r,o=Rn){if(o===Rn){const c=new Error(`NullInjectorError: No provider for ${me(r)}!`);throw c.name="NullInjectorError",c}return o}}function Rs(t){return{\u0275providers:t}}function zr(...t){return{\u0275providers:uf(0,t),\u0275fromNgModule:!0}}function uf(t,...r){const o=[],c=new Set;let f;const g=C=>{o.push(C)};return Vl(r,C=>{const A=C;iu(A,g,[],c)&&(f||=[],f.push(A))}),void 0!==f&&v_(f,g),o}function v_(t,r){for(let o=0;o<t.length;o++){const{ngModule:c,providers:f}=t[o];so(f,g=>{r(g,c)})}}function iu(t,r,o,c){if(!(t=qe(t)))return!1;let f=null,g=yr(t);const C=!g&&Pr(t);if(g||C){if(C&&!C.standalone)return!1;f=t}else{const M=t.ngModule;if(g=yr(M),!g)return!1;f=M}const A=c.has(f);if(C){if(A)return!1;if(c.add(f),C.dependencies){const M="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const H of M)iu(H,r,o,c)}}else{if(!g)return!1;{if(null!=g.imports&&!A){let H;c.add(f);try{Vl(g.imports,ae=>{iu(ae,r,o,c)&&(H||=[],H.push(ae))})}finally{}void 0!==H&&v_(H,r)}if(!A){const H=$s(f)||(()=>new f);r({provide:f,useFactory:H,deps:gn},f),r({provide:Rp,useValue:f,multi:!0},f),r({provide:nd,useValue:()=>Qe(f),multi:!0},f)}const M=g.providers;if(null!=M&&!A){const H=t;so(M,ae=>{r(ae,H)})}}}return f!==t&&void 0!==t.providers}function so(t,r){for(let o of t)He(o)&&(o=o.\u0275providers),Array.isArray(o)?so(o,r):r(o)}const Ls=z({provide:String,useValue:z});function Ga(t){return null!==t&&"object"==typeof t&&Ls in t}function rd(t){return"function"==typeof t}const xp=new pn("Set Injector scope."),df={},T_={};let C_;function em(){return void 0===C_&&(C_=new ll),C_}class Ai{}class Pp extends Ai{get destroyed(){return this._destroyed}constructor(r,o,c,f){super(),this.parent=o,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rm(r,C=>this.processProvider(C)),this.records.set(Jg,su(void 0,this)),f.has("environment")&&this.records.set(Ai,su(void 0,this));const g=this.records.get(xp);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Rp.multi,gn,Tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=ye(this),c=Fr(void 0);try{return r()}finally{ye(o),Fr(c)}}get(r,o=Rn,c=Tn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(_n))return r[_n](this);c=St(c);const g=ye(this),C=Fr(void 0);try{if(!(c&Tn.SkipSelf)){let M=this.records.get(r);if(void 0===M){const H=function nm(t){return"function"==typeof t||"object"==typeof t&&t instanceof pn}(r)&&Jn(r);M=H&&this.injectableDefInScope(H)?su(I_(r),df):null,this.records.set(r,M)}if(null!=M)return this.hydrate(r,M)}return(c&Tn.Self?em():this.parent).get(r,o=c&Tn.Optional&&o===Rn?null:o)}catch(A){if("NullInjectorError"===A.name){if((A[ir]=A[ir]||[]).unshift(me(r)),g)throw A;return function Ye(t,r,o,c){const f=t[ir];throw r[P]&&f.unshift(r[P]),t.message=function Gt(t,r,o,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=me(r);if(Array.isArray(r))f=r.map(me).join(" -> ");else if("object"==typeof r){let g=[];for(let C in r)if(r.hasOwnProperty(C)){let A=r[C];g.push(C+":"+("string"==typeof A?JSON.stringify(A):me(A)))}f=`{${g.join(", ")}}`}return`${o}${c?"("+c+")":""}[${f}]: ${t.replace(Pt,"\n  ")}`}("\n"+t.message,f,o,c),t.ngTokenPath=f,t[ir]=null,t}(A,r,"R3InjectorError",this.source)}throw A}finally{Fr(C),ye(g)}}resolveInjectorInitializers(){const r=ye(this),o=Fr(void 0);try{const f=this.get(nd.multi,gn,Tn.Self);for(const g of f)g()}finally{ye(r),Fr(o)}}toString(){const r=[],o=this.records;for(const c of o.keys())r.push(me(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(r){let o=rd(r=qe(r))?r:qe(r&&r.provide);const c=function Vy(t){return Ga(t)?su(void 0,t.useValue):su(tm(t),df)}(r);if(rd(r)||!0!==r.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=su(void 0,df,!0),f.factory=()=>Dn(f.multi),this.records.set(o,f)),o=r,f.multi.push(r)}this.records.set(o,c)}hydrate(r,o){return o.value===df&&(o.value=T_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Uy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=qe(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function I_(t){const r=Jn(t),o=null!==r?r.factory:$s(t);if(null!==o)return o;if(t instanceof pn)throw new Ie(204,!1);if(t instanceof Function)return function xs(t){const r=t.length;if(r>0)throw function jl(t,r){const o=[];for(let c=0;c<t;c++)o.push(r);return o}(r,"?"),new Ie(204,!1);const o=function qt(t){return t&&(t[Zt]||t[Un])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Ie(204,!1)}function tm(t,r,o){let c;if(rd(t)){const f=qe(t);return $s(f)||I_(f)}if(Ga(t))c=()=>qe(t.useValue);else if(function b_(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Dn(t.deps||[]));else if(function E_(t){return!(!t||!t.useExisting)}(t))c=()=>Qe(qe(t.useExisting));else{const f=qe(t&&(t.useClass||t.provide));if(!function hf(t){return!!t.deps}(t))return $s(f)||I_(f);c=()=>new f(...Dn(t.deps))}return c}function su(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function rm(t,r){for(const o of t)Array.isArray(o)?rm(o,r):o&&He(o)?rm(o.\u0275providers,r):r(o)}const w_=new pn("AppId",{providedIn:"root",factory:()=>Wv}),Wv="ng",Kv=new pn("Platform Initializer"),im=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Mp=new pn("AnimationModuleType"),qv=new pn("CSP nonce",{providedIn:"root",factory:()=>Ju().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cm=(t,r,o)=>null;function ou(t,r,o=!1){return cm(t,r,o)}class Hy{}class dm{}class Xv{resolveComponentFactory(r){throw function Fp(t){const r=Error(`No component factory found for ${me(t)}.`);return r.ngComponent=t,r}(r)}}let bc=(()=>{class t{static{this.NULL=new Xv}}return t})();function s0(){return kp(As(),en())}function kp(t,r){return new nh(io(t,r))}let nh=(()=>{class t{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=s0}}return t})();function Qv(t){return t instanceof nh?t.nativeElement:t}class Lp{}let Jv=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Zv(){const t=en(),o=Hi(As().index,t);return(bi(o)?o:t)[or]}()}}return t})(),fm=(()=>{class t{static{this.\u0275prov=dn({token:t,providedIn:"root",factory:()=>null})}}return t})();class Wy{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Ky=new Wy("16.2.12"),yf={};function Yy(t,r=null,o=null,c){const f=N_(t,r,o,c);return f.resolveInjectorInitializers(),f}function N_(t,r=null,o=null,c,f=new Set){const g=[o||gn,zr(t)];return c=c||("object"==typeof t?void 0:me(t)),new Pp(g,r||em(),c||null,f)}let Tc=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Rn}static{this.NULL=new ll}static create(o,c){if(Array.isArray(o))return Yy({name:""},c,o,"");{const f=o.name??"";return Yy({name:f},o.parent,o.providers,f)}}static{this.\u0275prov=dn({token:t,providedIn:"any",factory:()=>Qe(Jg)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function au(t){return t.ngOriginalError}class ul{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&au(r);for(;o&&au(o);)o=au(o);return o||null}}function Ic(t){return r=>{setTimeout(t,void 0,r)}}const wc=class rE extends i.B{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,c){let f=r,g=o||(()=>null),C=c;if(r&&"object"==typeof r){const M=r;f=M.next?.bind(M),g=M.error?.bind(M),C=M.complete?.bind(M)}this.__isAsync&&(g=Ic(g),f&&(f=Ic(f)),C&&(C=Ic(C)));const A=super.subscribe({next:f,error:g,complete:C});return r instanceof ie.yU&&r.add(A),A}};function Xy(...t){}class wo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wc(!1),this.onMicrotaskEmpty=new wc(!1),this.onStable=new wc(!1),this.onError=new wc(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&o,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function iE(){const t="function"==typeof zn.requestAnimationFrame;let r=zn[t?"requestAnimationFrame":"setTimeout"],o=zn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function aE(t){const r=()=>{!function oE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(zn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,k_(t),t.isCheckStableRunning=!0,F_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),k_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,f,g,C,A)=>{if(function cE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return o.invokeTask(f,g,C,A);try{return Qy(t),o.invokeTask(f,g,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&r(),rh(t)}},onInvoke:(o,c,f,g,C,A,M)=>{try{return Qy(t),o.invoke(f,g,C,A,M)}finally{t.shouldCoalesceRunChangeDetection&&r(),rh(t)}},onHasTask:(o,c,f,g)=>{o.hasTask(f,g),c===f&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,k_(t),F_(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,c,f,g)=>(o.handleError(f,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wo.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(wo.isInAngularZone())throw new Ie(909,!1)}run(r,o,c){return this._inner.run(r,o,c)}runTask(r,o,c,f){const g=this._inner,C=g.scheduleEventTask("NgZoneEvent: "+f,r,sE,Xy,Xy);try{return g.runTask(C,o,c)}finally{g.cancelTask(C)}}runGuarded(r,o,c){return this._inner.runGuarded(r,o,c)}runOutsideAngular(r){return this._outer.run(r)}}const sE={};function F_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function k_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Qy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rh(t){t._nesting--,F_(t)}class L_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wc,this.onMicrotaskEmpty=new wc,this.onStable=new wc,this.onError=new wc}run(r,o,c){return r.apply(o,c)}runGuarded(r,o,c){return r.apply(o,c)}runOutsideAngular(r){return r()}runTask(r,o,c,f){return r.apply(o,c)}}const lE=new pn("",{providedIn:"root",factory:Jy});function Jy(){const t=De(wo);let r=!0;const o=new n.c(f=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(r),f.complete()})}),c=new n.c(f=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{wo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{wo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),C.unsubscribe()}});return(0,Ce.h)(o,c.pipe((0,Ae.u)()))}function Zy(t){return t.ownerDocument.defaultView}function od(t){return t instanceof Function?t():t}let rv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=dn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Gp(t){for(;t;){t[ur]|=64;const r=hc(t);if(Zi(t)&&!r)return t;t=r}return null}const iv=new pn("",{providedIn:"root",factory:()=>!1});let U_=null;function gE(t,r){return t[r]??_E()}function mE(t,r){const o=_E();o.producerNode?.length&&(t[r]=U_,o.lView=t,U_=j_())}const lv={...Ra,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gp(t.lView)},lView:null};function j_(){return Object.create(lv)}function _E(){return U_??=j_(),U_}const Qr={};function yE(t){mm(Lr(),en(),Dr()+t,!1)}function mm(t,r,o,c){if(!c)if(3==(3&r[ur])){const g=t.preOrderCheckHooks;null!==g&&ac(r,g,o)}else{const g=t.preOrderHooks;null!==g&&Gc(r,g,0,o)}Br(o)}function cu(t,r=Tn.Default){const o=en();return null===o?Qe(t,r):zc(As(),o,qe(t),r)}function d(){throw new Error("invalid")}function s(t,r,o,c,f,g,C,A,M,H,ae){const Pe=r.blueprint.slice();return Pe[ci]=f,Pe[ur]=140|c,(null!==H||t&&2048&t[ur])&&(Pe[ur]|=2048),Fa(Pe),Pe[Er]=Pe[te]=t,Pe[ui]=o,Pe[Os]=C||t&&t[Os],Pe[or]=A||t&&t[or],Pe[fs]=M||t&&t[fs]||null,Pe[Bi]=g,Pe[It]=function Km(){return zh++}(),Pe[In]=ae,Pe[on]=H,Pe[J]=2==r.type?t[J]:Pe,Pe}function a(t,r,o,c,f){let g=t.data[r];if(null===g)g=function h(t,r,o,c,f){const g=sc(),C=Il(),M=t.data[r]=function sr(t,r,o,c,f,g){let C=r?r.injectorIndex:-1,A=0;return function aa(){return null!==br.skipHydrationRootTNode}()&&(A|=128),{type:o,index:c,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?g:g&&g.parent,o,r,c,f);return null===t.firstChild&&(t.firstChild=M),null!==g&&(C?null==g.child&&null!==M.parent&&(g.child=M):null===g.next&&(g.next=M,M.prev=g)),M}(t,r,o,c,f),function Ad(){return br.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=o,g.value=c,g.attrs=f;const C=function Cl(){const t=br.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();g.injectorIndex=null===C?-1:C.injectorIndex}return Zs(g,!0),g}function y(t,r,o,c){if(0===o)return-1;const f=r.length;for(let g=0;g<o;g++)r.push(c),t.blueprint.push(c),t.data.push(null);return f}function b(t,r,o,c,f){const g=gE(r,rr),C=Dr(),A=2&c;try{Br(-1),A&&r.length>qn&&mm(t,r,qn,!1),Ts(A?2:0,f);const H=A?g:null,ae=xa(H);try{null!==H&&(H.dirty=!1),o(c,f)}finally{Pa(H,ae)}}finally{A&&null===r[rr]&&mE(r,rr),Br(C),Ts(A?3:1,f)}}function R(t,r,o){if(vo(r)){const c=Mn(null);try{const g=r.directiveEnd;for(let C=r.directiveStart;C<g;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,o[C],C)}}finally{Mn(c)}}}function L(t,r,o){Au()&&(function vE(t,r,o,c){const f=o.directiveStart,g=o.directiveEnd;gs(o)&&function Kp(t,r,o){const c=io(r,t),f=ue(o);let C=16;o.signals?C=4096:o.onPush&&(C=64);const A=sh(t,s(t,f,null,C,c,r,null,t[Os].rendererFactory.createRenderer(c,o),null,null,null));t[r.index]=A}(r,o,t.data[f+o.componentOffset]),t.firstCreatePass||xl(o,r),Fo(c,r);const C=o.initialInputs;for(let A=f;A<g;A++){const M=t.data[A],H=Ol(r,t,A,o);Fo(H,r),null!==C&&TE(0,A-f,H,M,0,C),Wi(M)&&(Hi(o.index,r)[ui]=Ol(r,t,A,o))}}(t,r,o,io(o,r)),64==(64&o.flags)&&bf(t,r,o))}function K(t,r,o=io){const c=r.localNames;if(null!==c){let f=r.index+1;for(let g=0;g<c.length;g+=2){const C=c[g+1],A=-1===C?o(r,t):t[C];t[f++]=A}}}function ue(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=we(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function we(t,r,o,c,f,g,C,A,M,H,ae){const Pe=qn+c,ut=Pe+f,bt=function Ze(t,r){const o=[];for(let c=0;c<r;c++)o.push(c<t?null:Qr);return o}(Pe,ut),Kt="function"==typeof H?H():H;return bt[bn]={type:t,blueprint:bt,template:o,queries:null,viewQuery:A,declTNode:r,data:bt.slice().fill(null,Pe),bindingStartIndex:Pe,expandoStartIndex:ut,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:M,consts:Kt,incompleteFirstPass:!1,ssrId:ae}}let mn=t=>null;function Nr(t,r,o,c){for(let f in t)if(t.hasOwnProperty(f)){o=null===o?{}:o;const g=t[f];null===c?Pi(o,r,f,g):c.hasOwnProperty(f)&&Pi(o,r,c[f],g)}return o}function Pi(t,r,o,c){t.hasOwnProperty(o)?t[o].push(r,c):t[o]=[r,c]}function Ke(t,r,o,c,f,g,C,A){const M=io(r,o);let ae,H=r.inputs;!A&&null!=H&&(ae=H[c])?(Qp(t,o,ae,c,f),gs(r)&&function st(t,r){const o=Hi(r,t);16&o[ur]||(o[ur]|=64)}(o,r.index)):3&r.type&&(c=function yt(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=C?C(f,r.value||"",c):f,g.setProperty(M,c,f))}function Ot(t,r,o,c){if(Au()){const f=null===c?null:{"":-1},g=function $_(t,r){const o=t.directiveRegistry;let c=null,f=null;if(o)for(let g=0;g<o.length;g++){const C=o[g];if(us(r,C.selectors,!1))if(c||(c=[]),Wi(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),c.unshift(...A,C),_m(t,r,A.length)}else c.unshift(C),_m(t,r,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,c,f),c.push(C)}return null===c?null:[c,f]}(t,o);let C,A;null===g?C=A=null:[C,A]=g,null!==C&&tt(t,r,o,C,f,A),f&&function EE(t,r,o){if(r){const c=t.localNames=[];for(let f=0;f<r.length;f+=2){const g=o[r[f+1]];if(null==g)throw new Ie(-301,!1);c.push(r[f],g)}}}(o,c,f)}o.mergedAttrs=Fi(o.mergedAttrs,o.attrs)}function tt(t,r,o,c,f,g){for(let H=0;H<c.length;H++)uc(xl(o,r),t,c[H].type);!function ko(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,c.length);for(let H=0;H<c.length;H++){const ae=c[H];ae.providersResolver&&ae.providersResolver(ae)}let C=!1,A=!1,M=y(t,r,c.length,null);for(let H=0;H<c.length;H++){const ae=c[H];o.mergedAttrs=Fi(o.mergedAttrs,ae.hostAttrs),bE(t,o,r,M,ae),ad(M,ae,f),null!==ae.contentQueries&&(o.flags|=4),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(o.flags|=64);const Pe=ae.type.prototype;!C&&(Pe.ngOnChanges||Pe.ngOnInit||Pe.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),C=!0),!A&&(Pe.ngOnChanges||Pe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),A=!0),M++}!function ai(t,r,o){const f=r.directiveEnd,g=t.data,C=r.attrs,A=[];let M=null,H=null;for(let ae=r.directiveStart;ae<f;ae++){const Pe=g[ae],ut=o?o.get(Pe):null,Kt=ut?ut.outputs:null;M=Nr(Pe.inputs,ae,M,ut?ut.inputs:null),H=Nr(Pe.outputs,ae,H,Kt);const yn=null===M||null===C||mo(r)?null:ym(M,ae,C);A.push(yn)}null!==M&&(M.hasOwnProperty("class")&&(r.flags|=8),M.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=A,r.inputs=M,r.outputs=H}(t,o,g)}function bf(t,r,o){const c=o.directiveStart,f=o.directiveEnd,g=o.index,C=function Du(){return br.lFrame.currentDirectiveIndex}();try{Br(g);for(let A=c;A<f;A++){const M=t.data[A],H=r[A];Bc(A),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Wp(M,H)}}finally{Br(-1),Bc(C)}}function Wp(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function _m(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function ad(t,r,o){if(o){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)o[r.exportAs[c]]=t;Wi(r)&&(o[""]=t)}}function bE(t,r,o,c,f){t.data[c]=f;const g=f.factory||(f.factory=$s(f.type)),C=new To(g,Wi(f),cu);t.blueprint[c]=C,o[c]=C,function Ac(t,r,o,c,f){const g=f.hostBindings;if(g){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~r.index;(function zp(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(C)!=A&&C.push(A),C.push(o,c,g)}}(t,r,c,y(t,o,f.hostVars,Qr),f)}function Sc(t,r,o,c,f,g){const C=io(t,r);!function ih(t,r,o,c,f,g,C){if(null==g)t.removeAttribute(r,f,o);else{const A=null==C?ot(g):C(g,c||"",f);t.setAttribute(r,f,A,o)}}(r[or],C,g,t.value,o,c,f)}function TE(t,r,o,c,f,g){const C=g[r];if(null!==C)for(let A=0;A<C.length;)cv(c,o,C[A++],C[A++],C[A++])}function cv(t,r,o,c,f){const g=Mn(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(c)&&(f=C[c].call(r,f)),null!==t.setInput?t.setInput(r,f,o,c):r[c]=f}finally{Mn(g)}}function ym(t,r,o){let c=null,f=0;for(;f<o.length;){const g=o[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===c&&(c=[]);const C=t[g];for(let A=0;A<C.length;A+=2)if(C[A]===r){c.push(g,C[A+1],o[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function qp(t,r,o,c){return[t,!0,!1,r,null,0,c,o,null,null,null]}function Yp(t,r){const o=t.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const g=o[c+1];if(-1!==g){const C=t.data[g];S(o[c]),C.contentQueries(2,r[g],g)}}}function sh(t,r){return t[ps]?t[bs][ss]=r:t[ps]=r,t[bs]=r,r}function zi(t,r,o){S(0);const c=Mn(null);try{r(t,o)}finally{Mn(c)}}function Xp(t){return t[Qs]||(t[Qs]=[])}function vm(t){return t.cleanup||(t.cleanup=[])}function Em(t,r){const o=t[fs],c=o?o.get(ul,null):null;c&&c.handleError(r)}function Qp(t,r,o,c,f){for(let g=0;g<o.length;){const C=o[g++],A=o[g++];cv(t.data[C],r[C],c,A,f)}}function dl(t,r,o){const c=El(r,t);!function fp(t,r,o){t.setValue(r,o)}(t[or],c,o)}function G_(t,r){const o=Hi(r,t),c=o[bn];!function dv(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(c,o);const f=o[ci];null!==f&&null===o[In]&&(o[In]=ou(f,o[fs])),Tf(c,o,o[ui])}function Tf(t,r,o){F(r);try{const c=t.viewQuery;null!==c&&zi(1,c,o);const f=t.template;null!==f&&b(t,r,f,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Yp(t,r),t.staticViewQueries&&zi(2,t.viewQuery,o);const g=t.components;null!==g&&function bm(t,r){for(let o=0;o<r.length;o++)G_(t,r[o])}(r,g)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{r[ur]&=-5,At()}}let Jp=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,c,f){const g=typeof Zone>"u"?null:Zone.current,C=function Wt(t,r,o){const c=Object.create(ei);o&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=r;const f=C=>{c.cleanupFn=C};return c.ref={notify:()=>Is(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Ma(c))return;c.hasRun=!0;const C=xa(c);try{c.cleanupFn(),c.cleanupFn=Xn,c.fn(f)}finally{Pa(c,C)}},cleanup:()=>c.cleanupFn()},c.ref}(o,H=>{this.all.has(H)&&this.queue.set(H,g)},f);let A;this.all.add(C),C.notify();const M=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=c?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[o,c]of this.queue)this.queue.delete(o),c?c.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=dn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function fo(t,r,o){let c=o?t.styles:null,f=o?t.classes:null,g=0;if(null!==r)for(let C=0;C<r.length;C++){const A=r[C];"number"==typeof A?g=A:1==g?f=ke(f,A):2==g&&(c=ke(c,A+": "+r[++C]+";"))}o?t.styles=c:t.stylesWithoutHost=c,o?t.classes=f:t.classesWithoutHost=f}function uu(t,r,o,c,f=!1){for(;null!==o;){const g=r[o.index];null!==g&&c.push(Ar(g)),Xr(g)&&Tm(g,c);const C=o.type;if(8&C)uu(t,r,o.child,c);else if(32&C){const A=Zc(o,r);let M;for(;M=A();)c.push(M)}else if(16&C){const A=Lg(r,o);if(Array.isArray(A))c.push(...A);else{const M=hc(r[J]);uu(M[bn],M,A,c,!0)}}o=f?o.projectionNext:o.next}return c}function Tm(t,r){for(let o=Or;o<t.length;o++){const c=t[o],f=c[bn].firstChild;null!==f&&uu(c[bn],c,f,r)}t[kr]!==t[ci]&&r.push(t[kr])}function Cf(t,r,o,c=!0){const f=r[Os],g=f.rendererFactory,C=f.afterRenderEventManager;g.begin?.(),C?.begin();try{Cm(t,r,t.template,o)}catch(M){throw c&&Em(r,M),M}finally{g.end?.(),f.effectManager?.flush(),C?.end()}}function Cm(t,r,o,c){const f=r[ur];if(256!=(256&f)){r[Os].effectManager?.flush(),F(r);try{Fa(r),function ya(t){return br.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&b(t,r,o,2,c);const C=3==(3&f);if(C){const H=t.preOrderCheckHooks;null!==H&&ac(r,H,null)}else{const H=t.preOrderHooks;null!==H&&Gc(r,H,0,null),xu(r,0)}if(function wm(t){for(let r=Xm(t);null!==r;r=Wd(r)){if(!r[gi])continue;const o=r[Ui];for(let c=0;c<o.length;c++){rc(o[c])}}}(r),Im(r,2),null!==t.contentQueries&&Yp(t,r),C){const H=t.contentCheckHooks;null!==H&&ac(r,H)}else{const H=t.contentHooks;null!==H&&Gc(r,H,1),xu(r,1)}!function e(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const c=gE(r,Mr);try{for(let f=0;f<o.length;f++){const g=o[f];if(g<0)Br(~g);else{const C=g,A=o[++f],M=o[++f];Yf(A,C),c.dirty=!1;const H=xa(c);try{M(2,r[C])}finally{Pa(c,H)}}}}finally{null===r[Mr]&&mE(r,Mr),Br(-1)}}(t,r);const A=t.components;null!==A&&Zp(r,A,0);const M=t.viewQuery;if(null!==M&&zi(2,M,c),C){const H=t.viewCheckHooks;null!==H&&ac(r,H)}else{const H=t.viewHooks;null!==H&&Gc(r,H,2),xu(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[ur]&=-73,Cd(r)}finally{At()}}}function Im(t,r){for(let o=Xm(t);null!==o;o=Wd(o))for(let c=Or;c<o.length;c++)H_(o[c],r)}function hv(t,r,o){H_(Hi(r,t),o)}function H_(t,r){if(!function Cu(t){return 128==(128&t[ur])}(t))return;const o=t[bn],c=t[ur];if(80&c&&0===r||1024&c||2===r)Cm(o,t,o.template,t[ui]);else if(t[hs]>0){Im(t,1);const f=o.components;null!==f&&Zp(t,f,1)}}function Zp(t,r,o){for(let c=0;c<r.length;c++)hv(t,r[c],o)}class oh{get rootNodes(){const r=this._lView,o=r[bn];return uu(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ui]}set context(r){this._lView[ui]=r}get destroyed(){return 256==(256&this._lView[ur])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Er];if(Xr(r)){const o=r[8],c=o?o.indexOf(this):-1;c>-1&&(qh(r,c),Ul(o,c))}this._attachedToViewContainer=!1}pp(this._lView[bn],this._lView)}onDestroy(r){!function Tl(t,r){if(256==(256&t[ur]))throw new Ie(911,!1);null===t[Nn]&&(t[Nn]=[]),t[Nn].push(r)}(this._lView,r)}markForCheck(){Gp(this._cdRefInjectingView||this._lView)}detach(){this._lView[ur]&=-129}reattach(){this._lView[ur]|=128}detectChanges(){Cf(this._lView[bn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qm(t,r){Qh(t,r,r[or],2,null,null)}(this._lView[bn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=r}}class z_ extends oh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Cf(r[bn],r,r[ui],!1)}checkNoChanges(){}get context(){return null}}class ah extends bc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Pr(r);return new lh(o,this.ngModule)}}function eg(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class ld{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,c){c=St(c);const f=this.injector.get(r,yf,c);return f!==yf||o===yf?f:this.parentInjector.get(r,o,c)}}class lh extends dm{get inputs(){const r=this.componentDef,o=r.inputTransforms,c=eg(r.inputs);if(null!==o)for(const f of c)o.hasOwnProperty(f.propName)&&(f.transform=o[f.propName]);return c}get outputs(){return eg(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Zr(t){return t.map(_o).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,c,f){let g=(f=f||this.ngModule)instanceof Ai?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const C=g?new ld(r,g):r,A=C.get(Lp,null);if(null===A)throw new Ie(407,!1);const Pe={rendererFactory:A,sanitizer:C.get(fm,null),effectManager:C.get(Jp,null),afterRenderEventManager:C.get(rv,null)},ut=A.createRenderer(null,this.componentDef),bt=this.componentDef.selectors[0][0]||"div",Kt=c?function Mt(t,r,o,c){const g=c.get(iv,!1)||o===hn.ShadowDom,C=t.selectRootElement(r,g);return function Xt(t){mn(t)}(C),C}(ut,c,this.componentDef.encapsulation,C):Kh(ut,bt,function Am(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(bt)),_r=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ln=null;null!==Kt&&(ln=ou(Kt,C,!0));const Wr=we(0,null,null,1,0,null,null,null,null,null,null),Ti=s(null,Wr,null,_r,null,null,Pe,ut,C,null,ln);let vs,ec;F(Ti);try{const qf=this.componentDef;let yy,ib=null;qf.findHostDirectiveDefs?(yy=[],ib=new Map,qf.findHostDirectiveDefs(qf,yy,ib),yy.push(qf)):yy=[qf];const Yw=function W_(t,r){const o=t[bn],c=qn;return t[c]=r,a(o,c,2,"#host",null)}(Ti,Kt),Xw=function wf(t,r,o,c,f,g,C){const A=f[bn];!function fv(t,r,o,c){for(const f of t)r.mergedAttrs=Fi(r.mergedAttrs,f.hostAttrs);null!==r.mergedAttrs&&(fo(r,r.mergedAttrs,!0),null!==o&&Tp(c,o,r))}(c,t,r,C);let M=null;null!==r&&(M=ou(r,f[fs]));const H=g.rendererFactory.createRenderer(r,o);let ae=16;o.signals?ae=4096:o.onPush&&(ae=64);const Pe=s(f,ue(o),null,ae,f[t.index],t,g,H,null,null,M);return A.firstCreatePass&&_m(A,t,c.length-1),sh(f,Pe),f[t.index]=Pe}(Yw,Kt,qf,yy,Ti,Pe,ut);ec=Td(Wr,qn),Kt&&function K_(t,r,o,c){if(c)gr(t,o,["ng-version",Ky.full]);else{const{attrs:f,classes:g}=function ra(t){const r=[],o=[];let c=1,f=2;for(;c<t.length;){let g=t[c];if("string"==typeof g)2===f?""!==g&&r.push(g,t[++c]):8===f&&o.push(g);else{if(!Jr(f))break;f=g}c++}return{attrs:r,classes:o}}(r.selectors[0]);f&&gr(t,o,f),g&&g.length>0&&bp(t,o,g.join(" "))}}(ut,qf,Kt,c),void 0!==o&&function Ha(t,r,o){const c=t.projection=[];for(let f=0;f<r.length;f++){const g=o[f];c.push(null!=g?Array.from(g):null)}}(ec,this.ngContentSelectors,o),vs=function ea(t,r,o,c,f,g){const C=As(),A=f[bn],M=io(C,f);tt(A,f,C,o,null,c);for(let ae=0;ae<o.length;ae++)Fo(Ol(f,A,C.directiveStart+ae,C),f);bf(A,f,C),M&&Fo(M,f);const H=Ol(f,A,C.directiveStart+C.componentOffset,C);if(t[ui]=f[ui]=H,null!==g)for(const ae of g)ae(H,r);return R(A,C,t),H}(Xw,qf,yy,ib,Ti,[ch]),Tf(Wr,Ti,null)}finally{At()}return new tg(this.componentType,vs,kp(ec,Ti),Ti,ec)}}class tg extends Hy{constructor(r,o,c,f,g){super(),this.location=c,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new z_(f),this.componentType=r}setInput(r,o){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const g=this._rootLView;Qp(g[bn],g,f,r,o),this.previousInputValues.set(r,o),Gp(Hi(this._tNode.index,g))}}get injector(){return new os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ch(){const t=As();Ua(en()[bn],t)}function Af(t){let r=function ng(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const c=[t];for(;r;){let f;if(Wi(t))f=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ie(903,!1);f=r.\u0275dir}if(f){if(o){c.push(f);const C=t;C.inputs=Lo(t.inputs),C.inputTransforms=Lo(t.inputTransforms),C.declaredInputs=Lo(t.declaredInputs),C.outputs=Lo(t.outputs);const A=f.hostBindings;A&&ig(t,A);const M=f.viewQuery,H=f.contentQueries;if(M&&q_(t,M),H&&rg(t,H),Q(t.inputs,f.inputs),Q(t.declaredInputs,f.declaredInputs),Q(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),Q(C.inputTransforms,f.inputTransforms)),Wi(f)&&f.data.animation){const ae=t.data;ae.animation=(ae.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let C=0;C<g.length;C++){const A=g[C];A&&A.ngInherit&&A(t),A===Af&&(o=!1)}}r=Object.getPrototypeOf(r)}!function du(t){let r=0,o=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=r+=f.hostVars,f.hostAttrs=Fi(f.hostAttrs,o=Fi(o,f.hostAttrs))}}(c)}function Lo(t){return t===lr?{}:t===gn?[]:t}function q_(t,r){const o=t.viewQuery;t.viewQuery=o?(c,f)=>{r(c,f),o(c,f)}:r}function rg(t,r){const o=t.contentQueries;t.contentQueries=o?(c,f,g)=>{r(c,f,g),o(c,f,g)}:r}function ig(t,r){const o=t.hostBindings;t.hostBindings=o?(c,f)=>{r(c,f),o(c,f)}:r}function Dm(t){const r=t.inputConfig,o={};for(const c in r)if(r.hasOwnProperty(c)){const f=r[c];Array.isArray(f)&&f[2]&&(o[c]=f[2])}t.inputTransforms=o}function Df(t){return!!hl(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function hl(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ta(t,r,o){return t[r]=o}function Rc(t,r){return t[r]}function po(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function ql(t,r,o,c){const f=po(t,r,o);return po(t,r+1,c)||f}function da(t,r,o,c,f){const g=ql(t,r,o,c);return po(t,r+2,f)||g}function Vo(t,r,o,c,f,g){const C=ql(t,r,o,c);return ql(t,r+2,f,g)||C}function cd(t,r,o,c){const f=en();return po(f,Ja(),r)&&(Lr(),Sc(yi(),f,t,r,o,c)),cd}function Yl(t,r,o,c){return po(t,Ja(),o)?r+ot(o)+c:Qr}function Ff(t,r,o,c,f,g,C,A){const M=en(),H=Lr(),ae=t+qn,Pe=H.firstCreatePass?function Nf(t,r,o,c,f,g,C,A,M){const H=r.consts,ae=a(r,t,4,C||null,ws(H,A));Ot(r,o,ae,ws(H,M)),Ua(r,ae);const Pe=ae.tView=we(2,ae,c,f,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H,null);return null!==r.queries&&(r.queries.template(r,ae),Pe.queries=r.queries.embeddedTView(ae)),ae}(ae,H,M,r,o,c,f,g,C):H.data[ae];Zs(Pe,!1);const ut=yh(H,M,Pe,t);el()&&Ep(H,M,ut,Pe),Fo(ut,M),sh(M,M[ae]=qp(ut,M,ut,Pe)),Gi(Pe)&&L(H,M,Pe),null!=C&&K(M,Pe,A)}let yh=function gd(t,r,o,c){return Ss(!0),r[or].createComment("")};function Mm(t){return bl(function Va(){return br.lFrame.contextLView}(),qn+t)}function Om(t,r,o){const c=en();return po(c,Ja(),r)&&Ke(Lr(),yi(),c,t,r,c[or],o,!1),Om}function md(t,r,o,c,f){const C=f?"class":"style";Qp(t,o,r.inputs[C],C,c)}function kf(t,r,o,c){const f=en(),g=Lr(),C=qn+t,A=f[or],M=g.firstCreatePass?function ry(t,r,o,c,f,g){const C=r.consts,M=a(r,t,2,c,ws(C,f));return Ot(r,o,M,ws(C,g)),null!==M.attrs&&fo(M,M.attrs,!1),null!==M.mergedAttrs&&fo(M,M.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,M),M}(C,g,f,r,o,c):g.data[C],H=Vf(g,f,M,A,r,t);f[C]=H;const ae=Gi(M);return Zs(M,!0),Tp(A,H,M),32!=(32&M.flags)&&el()&&Ep(g,f,H,M),0===function _a(){return br.lFrame.elementDepthCount}()&&Fo(H,f),function Uc(){br.lFrame.elementDepthCount++}(),ae&&(L(g,f,M),R(g,M,f)),null!==c&&K(f,M),kf}function _d(){let t=As();Il()?wd():(t=t.parent,Zs(t,!1));const r=t;(function jc(t){return br.skipHydrationRootTNode===t})(r)&&function Su(){br.skipHydrationRootTNode=null}(),function Ih(){br.lFrame.elementDepthCount--}();const o=Lr();return o.firstCreatePass&&(Ua(o,t),vo(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Rd(t){return 0!=(8&t.flags)}(r)&&md(o,r,en(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Nu(t){return 0!=(16&t.flags)}(r)&&md(o,r,en(),r.stylesWithoutHost,!1),_d}function Lf(t,r,o,c){return kf(t,r,o,c),_d(),Lf}let Vf=(t,r,o,c,f,g)=>(Ss(!0),Kh(c,f,function Ru(){return br.lFrame.currentNamespace}()));function Uf(t,r,o){const c=en(),f=Lr(),g=t+qn,C=f.firstCreatePass?function iy(t,r,o,c,f){const g=r.consts,C=ws(g,c),A=a(r,t,8,"ng-container",C);return null!==C&&fo(A,C,!0),Ot(r,o,A,ws(g,f)),null!==r.queries&&r.queries.elementStart(r,A),A}(g,f,c,r,o):f.data[g];Zs(C,!0);const A=ha(f,c,C,t);return c[g]=A,el()&&Ep(f,c,A,C),Fo(A,c),Gi(C)&&(L(f,c,C),R(f,C,c)),null!=o&&K(c,C),Uf}function jf(){let t=As();const r=Lr();return Il()?wd():(t=t.parent,Zs(t,!1)),r.firstCreatePass&&(Ua(r,t),vo(t)&&r.queries.elementEnd(t)),jf}function Eh(t,r,o){return Uf(t,r,o),jf(),Eh}let ha=(t,r,o,c)=>(Ss(!0),Rg(r[or],""));function yd(){return en()}function E(t){return!!t&&"function"==typeof t.then}function j(t){return!!t&&"function"==typeof t.subscribe}function q(t,r,o,c){const f=en(),g=Lr(),C=As();return function jt(t,r,o,c,f,g,C){const A=Gi(c),H=t.firstCreatePass&&vm(t),ae=r[ui],Pe=Xp(r);let ut=!0;if(3&c.type||C){const yn=io(c,r),Hn=C?C(yn):yn,_r=Pe.length,ln=C?Ti=>C(Ar(Ti[c.index])):c.index;let Wr=null;if(!C&&A&&(Wr=function wt(t,r,o,c){const f=t.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const C=f[g];if(C===o&&f[g+1]===c){const A=r[Qs],M=f[g+2];return A.length>M?A[M]:null}"string"==typeof C&&(g+=2)}return null}(t,r,f,c.index)),null!==Wr)(Wr.__ngLastListenerFn__||Wr).__ngNextListenerFn__=g,Wr.__ngLastListenerFn__=g,ut=!1;else{g=qi(c,r,ae,g,!1);const Ti=o.listen(Hn,f,g);Pe.push(g,Ti),H&&H.push(f,ln,_r,_r+1)}}else g=qi(c,r,ae,g,!1);const bt=c.outputs;let Kt;if(ut&&null!==bt&&(Kt=bt[f])){const yn=Kt.length;if(yn)for(let Hn=0;Hn<yn;Hn+=2){const vs=r[Kt[Hn]][Kt[Hn+1]].subscribe(g),ec=Pe.length;Pe.push(g,vs),H&&H.push(f,c.index,ec,-(ec+1))}}}(g,f,f[or],C,t,r,c),q}function xn(t,r,o,c){try{return Ts(6,r,o),!1!==o(c)}catch(f){return Em(t,f),!1}finally{Ts(7,r,o)}}function qi(t,r,o,c,f){return function g(C){if(C===Function)return c;Gp(t.componentOffset>-1?Hi(t.index,r):r);let M=xn(r,o,c,C),H=g.__ngNextListenerFn__;for(;H;)M=xn(r,o,H,C)&&M,H=H.__ngNextListenerFn__;return f&&!1===M&&C.preventDefault(),M}}function oo(t=1){return function An(t){return(br.lFrame.contextLView=function Tr(t,r){for(;t>0;)r=r[te],t--;return r}(t,br.lFrame.contextLView))[ui]}(t)}function za(t,r,o){return Uo(t,"",r,"",o),za}function Uo(t,r,o,c,f){const g=en(),C=Yl(g,r,o,c);return C!==Qr&&Ke(Lr(),yi(),g,t,C,g[or],f,!1),Uo}function Bf(t,r,o,c,f,g,C,A,M){const H=en(),ae=function hd(t,r,o,c,f,g,C,A){const H=da(t,ho(),o,f,C);return bo(3),H?r+ot(o)+c+ot(f)+g+ot(C)+A:Qr}(H,r,o,c,f,g,C,A);return ae!==Qr&&Ke(Lr(),yi(),H,t,ae,H[or],M,!1),Bf}function km(t,r){return t<<17|r<<2}function vd(t){return t>>17&32767}function Iv(t){return 2|t}function Gf(t){return(131068&t)>>2}function ay(t,r){return-131069&t|r<<2}function ly(t){return 1|t}function DE(t,r,o,c,f){const g=t[o+1],C=null===r;let A=c?vd(g):Gf(g),M=!1;for(;0!==A&&(!1===M||C);){const ae=t[A+1];RE(t[A],r)&&(M=!0,t[A+1]=c?ly(ae):Iv(ae)),A=c?vd(ae):Gf(ae)}M&&(t[o+1]=c?Iv(g):ly(g))}function RE(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&ca(t,r)>=0}const Ao={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xE(t){return t.substring(Ao.key,Ao.keyEnd)}function Sv(t,r){const o=Ao.textEnd;return o===r?-1:(r=Ao.keyEnd=function m0(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,Ao.key=r,o),Hf(t,r,o))}function Hf(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function uy(t,r,o){return mu(t,r,o,!1),uy}function Lm(t,r){return mu(t,r,null,!0),Lm}function E0(t){!function pl(t,r,o,c){const f=Lr(),g=bo(2);f.firstUpdatePass&&FE(f,null,g,c);const C=en();if(o!==Qr&&po(C,g,o)){const A=f.data[Dr()];if(Bn(A,c)&&!NE(f,g)){let M=c?A.classesWithoutHost:A.stylesWithoutHost;null!==M&&(o=ke(M,o||"")),md(f,A,C,o,c)}else!function le(t,r,o,c,f,g,C,A){f===Qr&&(f=gn);let M=0,H=0,ae=0<f.length?f[0]:null,Pe=0<g.length?g[0]:null;for(;null!==ae||null!==Pe;){const ut=M<f.length?f[M+1]:void 0,bt=H<g.length?g[H+1]:void 0;let yn,Kt=null;ae===Pe?(M+=2,H+=2,ut!==bt&&(Kt=Pe,yn=bt)):null===Pe||null!==ae&&ae<Pe?(M+=2,Kt=ae):(H+=2,Kt=Pe,yn=bt),null!==Kt&&Fe(t,r,o,c,Kt,yn,C,A),ae=M<f.length?f[M]:null,Pe=H<g.length?g[H]:null}}(f,A,C,C[or],C[g+1],C[g+1]=function T(t,r,o){if(null==o||""===o)return gn;const c=[],f=yc(o);if(Array.isArray(f))for(let g=0;g<f.length;g++)t(c,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&t(c,g,f[g]);else"string"==typeof f&&r(c,f);return c}(t,r,o),c,g)}}(ne,Ed,t,!0)}function Ed(t,r){for(let o=function g0(t){return function PE(t){Ao.key=0,Ao.keyEnd=0,Ao.value=0,Ao.valueEnd=0,Ao.textEnd=t.length}(t),Sv(t,Hf(t,0,Ao.textEnd))}(r);o>=0;o=Sv(r,o))Io(t,xE(r),!0)}function mu(t,r,o,c){const f=en(),g=Lr(),C=bo(2);g.firstUpdatePass&&FE(g,t,C,c),r!==Qr&&po(f,C,r)&&Fe(g,g.data[Dr()],f,f[or],t,f[C+1]=function an(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=me(yc(t)))),t}(r,o),c,C)}function NE(t,r){return r>=t.expandoStartIndex}function FE(t,r,o,c){const f=t.data;if(null===f[o+1]){const g=f[Dr()],C=NE(t,o);Bn(g,c)&&null===r&&!C&&(r=!1),r=function db(t,r,o,c){const f=function va(t){const r=br.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let g=c?r.residualClasses:r.residualStyles;if(null===f)0===(c?r.classBindings:r.styleBindings)&&(o=p(o=l(null,t,r,o,c),r.attrs,c),g=null);else{const C=r.directiveStylingLast;if(-1===C||t[C]!==f)if(o=l(f,t,r,o,c),null===g){let M=function b0(t,r,o){const c=o?r.classBindings:r.styleBindings;if(0!==Gf(c))return t[vd(c)]}(t,r,c);void 0!==M&&Array.isArray(M)&&(M=l(null,t,r,M[1],c),M=p(M,r.attrs,c),function _(t,r,o,c){t[vd(o?r.classBindings:r.styleBindings)]=c}(t,r,c,M))}else g=function u(t,r,o){let c;const f=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<f;g++)c=p(c,t[g].hostAttrs,o);return p(c,r.attrs,o)}(t,r,c)}return void 0!==g&&(c?r.residualClasses=g:r.residualStyles=g),o}(f,g,r,c),function f0(t,r,o,c,f,g){let C=g?r.classBindings:r.styleBindings,A=vd(C),M=Gf(C);t[c]=o;let ae,H=!1;if(Array.isArray(o)?(ae=o[1],(null===ae||ca(o,ae)>0)&&(H=!0)):ae=o,f)if(0!==M){const ut=vd(t[A+1]);t[c+1]=km(ut,A),0!==ut&&(t[ut+1]=ay(t[ut+1],c)),t[A+1]=function pg(t,r){return 131071&t|r<<17}(t[A+1],c)}else t[c+1]=km(A,0),0!==A&&(t[A+1]=ay(t[A+1],c)),A=c;else t[c+1]=km(M,0),0===A?A=c:t[M+1]=ay(t[M+1],c),M=c;H&&(t[c+1]=Iv(t[c+1])),DE(t,ae,c,!0),DE(t,ae,c,!1),function Av(t,r,o,c,f){const g=f?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof r&&ca(g,r)>=0&&(o[c+1]=ly(o[c+1]))}(r,ae,t,c,g),C=km(A,M),g?r.classBindings=C:r.styleBindings=C}(f,g,r,o,C,c)}}function l(t,r,o,c,f){let g=null;const C=o.directiveEnd;let A=o.directiveStylingLast;for(-1===A?A=o.directiveStart:A++;A<C&&(g=r[A],c=p(c,g.hostAttrs,f),g!==t);)A++;return null!==t&&(o.directiveStylingLast=A),c}function p(t,r,o){const c=o?1:2;let f=-1;if(null!==r)for(let g=0;g<r.length;g++){const C=r[g];"number"==typeof C?f=C:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Io(t,C,!!o||r[++g]))}return void 0===t?null:t}function ne(t,r,o){const c=String(r);""!==c&&!c.includes(" ")&&Io(t,c,o)}function Fe(t,r,o,c,f,g,C,A){if(!(3&r.type))return;const M=t.data,H=M[A+1],ae=function h0(t){return 1==(1&t)}(H)?nt(M,r,o,f,Gf(H),C):void 0;Ct(ae)||(Ct(g)||function Ql(t){return 2==(2&t)}(H)&&(g=nt(M,null,o,f,A,C)),function Iy(t,r,o,c,f){if(r)f?t.addClass(o,c):t.removeClass(o,c);else{let g=-1===c.indexOf("-")?void 0:Hd.DashCase;null==f?t.removeStyle(o,c,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Hd.Important),t.setStyle(o,c,f,g))}}(c,C,El(Dr(),o),f,g))}function nt(t,r,o,c,f,g){const C=null===r;let A;for(;f>0;){const M=t[f],H=Array.isArray(M),ae=H?M[1]:M,Pe=null===ae;let ut=o[f+1];ut===Qr&&(ut=Pe?gn:void 0);let bt=Pe?Fd(ut,c):ae===c?ut:void 0;if(H&&!Ct(bt)&&(bt=Fd(M,c)),Ct(bt)&&(A=bt,C))return A;const Kt=t[f+1];f=C?vd(Kt):Gf(Kt)}if(null!==r){let M=g?r.residualClasses:r.residualStyles;null!=M&&(A=Fd(M,c))}return A}function Ct(t){return void 0!==t}function Bn(t,r){return 0!=(t.flags&(r?8:16))}function wn(t,r=""){const o=en(),c=Lr(),f=t+qn,g=c.firstCreatePass?a(c,f,1,r,null):c.data[f],C=On(c,o,g,r,t);o[f]=C,el()&&Ep(c,o,C,g),Zs(g,!1)}let On=(t,r,o,c,f)=>(Ss(!0),function oi(t,r){return t.createText(r)}(r[or],c));function jr(t){return ti("",t,""),jr}function ti(t,r,o){const c=en(),f=Yl(c,t,r,o);return f!==Qr&&dl(c,Dr(),f),ti}function vi(t,r,o,c,f){const g=en(),C=function dd(t,r,o,c,f,g){const A=ql(t,ho(),o,f);return bo(2),A?r+ot(o)+c+ot(f)+g:Qr}(g,t,r,o,c,f);return C!==Qr&&dl(g,Dr(),C),vi}function Si(t,r,o,c,f,g,C,A,M){const H=en(),ae=function hu(t,r,o,c,f,g,C,A,M,H){const Pe=Vo(t,ho(),o,f,C,M);return bo(4),Pe?r+ot(o)+c+ot(f)+g+ot(C)+A+ot(M)+H:Qr}(H,t,r,o,c,f,g,C,A,M);return ae!==Qr&&dl(H,Dr(),ae),Si}const ml=void 0;var $E=["en",[["a","p"],["AM","PM"],ml],[["AM","PM"],ml,ml],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ml,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ml,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ml,"{1} 'at' {0}",ml],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dy(t){const o=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let Kf={};function hy(t){const r=function PC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=Ov(r);if(o)return o;const c=r.split("-")[0];if(o=Ov(c),o)return o;if("en"===c)return $E;throw new Ie(701,!1)}function Mv(t){return hy(t)[fy.PluralCase]}function Ov(t){return t in Kf||(Kf[t]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[t]),Kf[t]}var fy=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(fy||{});const py="en-US";let hb=py;function w0(t,r,o,c,f){if(t=qe(t),Array.isArray(t))for(let g=0;g<t.length;g++)w0(t[g],r,o,c,f);else{const g=Lr(),C=en(),A=As();let M=rd(t)?t:qe(t.provide);const H=tm(t),ae=1048575&A.providerIndexes,Pe=A.directiveStart,ut=A.providerIndexes>>20;if(rd(t)||!t.multi){const bt=new To(H,f,cu),Kt=S0(M,r,f?ae:ae+ut,Pe);-1===Kt?(uc(xl(A,C),g,M),A0(g,t,r.length),r.push(M),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),o.push(bt),C.push(bt)):(o[Kt]=bt,C[Kt]=bt)}else{const bt=S0(M,r,ae+ut,Pe),Kt=S0(M,r,ae,ae+ut),Hn=Kt>=0&&o[Kt];if(f&&!Hn||!f&&!(bt>=0&&o[bt])){uc(xl(A,C),g,M);const _r=function RI(t,r,o,c,f){const g=new To(t,o,cu);return g.multi=[],g.index=r,g.componentProviders=0,Lb(g,f,c&&!o),g}(f?DI:SI,o.length,f,c,H);!f&&Hn&&(o[Kt].providerFactory=_r),A0(g,t,r.length,0),r.push(M),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),o.push(_r),C.push(_r)}else A0(g,t,bt>-1?bt:Kt,Lb(o[f?Kt:bt],H,!f&&c));!f&&c&&Hn&&o[Kt].componentProviders++}}}function A0(t,r,o,c){const f=rd(r),g=function zv(t){return!!t.useClass}(r);if(f||g){const M=(g?qe(r.useClass):r).prototype.ngOnDestroy;if(M){const H=t.destroyHooks||(t.destroyHooks=[]);if(!f&&r.multi){const ae=H.indexOf(o);-1===ae?H.push(o,[c,M]):H[ae+1].push(c,M)}else H.push(o,M)}}}function Lb(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function S0(t,r,o,c){for(let f=o;f<c;f++)if(r[f]===t)return f;return-1}function SI(t,r,o,c){return D0(this.multi,[])}function DI(t,r,o,c){const f=this.multi;let g;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=Ol(o,o[bn],this.providerFactory.index,c);g=A.slice(0,C),D0(f,g);for(let M=C;M<A.length;M++)g.push(A[M])}else g=[],D0(f,g);return g}function D0(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function Vb(t,r=[]){return o=>{o.providersResolver=(c,f)=>function AI(t,r,o){const c=Lr();if(c.firstCreatePass){const f=Wi(t);w0(o,c.data,c.blueprint,f,!0),w0(r,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,r)}}class Vm{}class Ub{}function xI(t,r){return new R0(t,r??null,[])}class R0 extends Vm{constructor(r,o,c){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ah(this);const f=fi(r);this._bootstrapComponents=od(f.bootstrap),this._r3Injector=N_(r,o,[{provide:Vm,useValue:this},{provide:bc,useValue:this.componentFactoryResolver},...c],me(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class x0 extends Ub{constructor(r){super(),this.moduleType=r}create(r){return new R0(this.moduleType,r,[])}}class jb extends Vm{constructor(r){super(),this.componentFactoryResolver=new ah(this),this.instance=null;const o=new Pp([...r.providers,{provide:Vm,useValue:this},{provide:bc,useValue:this.componentFactoryResolver}],r.parent||em(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function $b(t,r,o=null){return new jb({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let MI=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const c=uf(0,o.type),f=c.length>0?$b([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,f)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=dn({token:t,providedIn:"environment",factory:()=>new t(Qe(Ai))})}}return t})();function Bb(t){t.getStandaloneInjector=r=>r.get(MI).getOrCreateStandaloneInjector(t)}function Yb(t,r,o){const c=Gs()+t,f=en();return f[c]===Qr?Ta(f,c,o?r.call(o):r()):Rc(f,c)}function Xb(t,r,o,c){return nT(en(),Gs(),t,r,o,c)}function Qb(t,r,o,c,f){return rT(en(),Gs(),t,r,o,c,f)}function Jb(t,r,o,c,f,g){return iT(en(),Gs(),t,r,o,c,f,g)}function Zb(t,r,o,c,f,g,C){return function sT(t,r,o,c,f,g,C,A,M){const H=r+o;return Vo(t,H,f,g,C,A)?Ta(t,H+4,M?c.call(M,f,g,C,A):c(f,g,C,A)):Uv(t,H+4)}(en(),Gs(),t,r,o,c,f,g,C)}function eT(t,r,o,c,f,g,C,A){const M=Gs()+t,H=en(),ae=Vo(H,M,o,c,f,g);return po(H,M+4,C)||ae?Ta(H,M+5,A?r.call(A,o,c,f,g,C):r(o,c,f,g,C)):Rc(H,M+5)}function tT(t,r,o,c,f,g,C,A,M){const H=Gs()+t,ae=en(),Pe=Vo(ae,H,o,c,f,g);return ql(ae,H+4,C,A)||Pe?Ta(ae,H+6,M?r.call(M,o,c,f,g,C,A):r(o,c,f,g,C,A)):Rc(ae,H+6)}function Uv(t,r){const o=t[r];return o===Qr?void 0:o}function nT(t,r,o,c,f,g){const C=r+o;return po(t,C,f)?Ta(t,C+1,g?c.call(g,f):c(f)):Uv(t,C+1)}function rT(t,r,o,c,f,g,C){const A=r+o;return ql(t,A,f,g)?Ta(t,A+2,C?c.call(C,f,g):c(f,g)):Uv(t,A+2)}function iT(t,r,o,c,f,g,C,A){const M=r+o;return da(t,M,f,g,C)?Ta(t,M+3,A?c.call(A,f,g,C):c(f,g,C)):Uv(t,M+3)}function aT(t,r){const o=Lr();let c;const f=t+qn;o.firstCreatePass?(c=function HI(t,r){if(r)for(let o=r.length-1;o>=0;o--){const c=r[o];if(t===c.name)return c}}(r,o.pipeRegistry),o.data[f]=c,c.onDestroy&&(o.destroyHooks??=[]).push(f,c.onDestroy)):c=o.data[f];const g=c.factory||(c.factory=$s(c.type)),A=Fr(cu);try{const M=nl(!1),H=g();return nl(M),function vh(t,r,o,c){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=c}(o,en(),f,H),H}finally{Fr(A)}}function lT(t,r,o){const c=t+qn,f=en(),g=bl(f,c);return jv(f,c)?nT(f,Gs(),r,g.transform,o,g):g.transform(o)}function cT(t,r,o,c){const f=t+qn,g=en(),C=bl(g,f);return jv(g,f)?rT(g,Gs(),r,C.transform,o,c,C):C.transform(o,c)}function uT(t,r,o,c,f){const g=t+qn,C=en(),A=bl(C,g);return jv(C,g)?iT(C,Gs(),r,A.transform,o,c,f,A):A.transform(o,c,f)}function jv(t,r){return t[bn].data[r].pure}function KI(){return this._results[Symbol.iterator]()}class M0{get changes(){return this._changes||(this._changes=new wc)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=M0.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=KI)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const c=this;c.dirty=!1;const f=function Xo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Nh(t,r,o){if(t.length!==r.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],g=r[c];if(o&&(f=o(f),g=o(g)),g!==f)return!1}return!0}(c._results,f,o))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function YI(t,r,o,c=!0){const f=r[bn];if(function by(t,r,o,c){const f=Or+c,g=o.length;c>0&&(o[f-1][ss]=r),c<g-Or?(r[ss]=o[f],Od(o,Or+c,r)):(o.push(r),r[ss]=null),r[Er]=o;const C=r[Me];null!==C&&o!==C&&function Jm(t,r){const o=t[Ui];r[J]!==r[Er][Er][J]&&(t[gi]=!0),null===o?t[Ui]=[r]:o.push(r)}(C,r);const A=r[ht];null!==A&&A.insertView(t),r[ur]|=128}(f,r,t,o),c){const g=Yh(o,t),C=r[or],A=Kd(C,t[kr]);null!==A&&function Pg(t,r,o,c,f,g){c[ci]=f,c[Bi]=r,Qh(t,c,o,1,f,g)}(f,t[Bi],C,r,A,g)}}let $v=(()=>{class t{static{this.__NG_ELEMENT_ID__=JI}}return t})();const XI=$v,QI=class extends XI{constructor(r,o,c){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,c){const f=function qI(t,r,o,c){const f=r.tView,A=s(t,f,o,4096&t[ur]?4096:16,null,r,null,null,null,c?.injector??null,c?.hydrationInfo??null);A[Me]=t[r.index];const H=t[ht];return null!==H&&(A[ht]=H.createEmbeddedView(f)),Tf(f,A,o),A}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:c});return new oh(f)}};function JI(){return KE(As(),en())}function KE(t,r){return 4&t.type?new QI(r,t,kp(t,r)):null}let YE=(()=>{class t{static{this.__NG_ELEMENT_ID__=i1}}return t})();function i1(){return _T(As(),en())}const s1=YE,gT=class extends s1{constructor(r,o,c){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=c}get element(){return kp(this._hostTNode,this._hostLView)}get injector(){return new os(this._hostTNode,this._hostLView)}get parentInjector(){const r=Pl(this._hostTNode,this._hostLView);if(Hc(r)){const o=Rl(r,this._hostLView),c=tl(r);return new os(o[bn].data[c+8],o)}return new os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=mT(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Or}createEmbeddedView(r,o,c){let f,g;"number"==typeof c?f=c:null!=c&&(f=c.index,g=c.injector);const A=r.createEmbeddedViewImpl(o||{},g,null);return this.insertImpl(A,f,false),A}createComponent(r,o,c,f,g){const C=r&&!function Ll(t){return"function"==typeof t}(r);let A;if(C)A=o;else{const yn=o||{};A=yn.index,c=yn.injector,f=yn.projectableNodes,g=yn.environmentInjector||yn.ngModuleRef}const M=C?r:new lh(Pr(r)),H=c||this.parentInjector;if(!g&&null==M.ngModule){const Hn=(C?H:this.parentInjector).get(Ai,null);Hn&&(g=Hn)}Pr(M.componentType??{});const bt=M.create(H,f,null,g);return this.insertImpl(bt.hostView,A,false),bt}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,c){const f=r._lView;if(function oa(t){return Xr(t[Er])}(f)){const M=this.indexOf(r);if(-1!==M)this.detach(M);else{const H=f[Er],ae=new gT(H,H[Bi],H[Er]);ae.detach(ae.indexOf(r))}}const C=this._adjustIndex(o),A=this._lContainer;return YI(A,f,C,!c),r.attachToViewContainerRef(),Od(O0(A),C,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=mT(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),c=qh(this._lContainer,o);c&&(Ul(O0(this._lContainer),o),pp(c[bn],c))}detach(r){const o=this._adjustIndex(r,-1),c=qh(this._lContainer,o);return c&&null!=Ul(O0(this._lContainer),o)?new oh(c):null}_adjustIndex(r,o=0){return r??this.length+o}};function mT(t){return t[8]}function O0(t){return t[8]||(t[8]=[])}function _T(t,r){let o;const c=r[t.index];return Xr(c)?o=c:(o=qp(c,r,null,t),r[t.index]=o,sh(r,o)),yT(o,r,t,c),new gT(o,t,r)}let yT=function vT(t,r,o,c){if(t[kr])return;let f;f=8&o.type?Ar(c):function o1(t,r){const o=t[or],c=o.createComment(""),f=io(r,t);return Xu(o,Kd(o,f),c,function Fg(t,r){return t.nextSibling(r)}(o,f),!1),c}(r,o),t[kr]=f};class N0{constructor(r){this.queryList=r,this.matches=null}clone(){return new N0(this.queryList)}setDirty(){this.queryList.setDirty()}}class F0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const c=null!==r.contentQueries?r.contentQueries[0]:o.length,f=[];for(let g=0;g<c;g++){const C=o.getByIndex(g);f.push(this.queries[C.indexInDeclarationView].clone())}return new F0(f)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==DT(r,o).matches&&this.queries[o].setDirty()}}class ET{constructor(r,o,c=null){this.predicate=r,this.flags=o,this.read=c}}class k0{constructor(r=[]){this.queries=r}elementStart(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let c=0;c<this.length;c++){const f=null!==o?o.length:0,g=this.getByIndex(c).embeddedTView(r,f);g&&(g.indexInDeclarationView=c,null!==o?o.push(g):o=[g])}return null!==o?new k0(o):null}template(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class L0{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new L0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const g=c[f];this.matchTNodeWithReadOption(r,o,c1(o,g)),this.matchTNodeWithReadOption(r,o,qo(o,r,g,!1,!1))}else c===$v?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,qo(o,r,c,!1,!1))}matchTNodeWithReadOption(r,o,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===nh||f===YE||f===$v&&4&o.type)this.addMatch(o.index,-2);else{const g=qo(o,r,f,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,c)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function c1(t,r){const o=t.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===r)return o[c+1];return null}function d1(t,r,o,c){return-1===o?function u1(t,r){return 11&t.type?kp(t,r):4&t.type?KE(t,r):null}(r,t):-2===o?function h1(t,r,o){return o===nh?kp(r,t):o===$v?KE(r,t):o===YE?_T(r,t):void 0}(t,r,c):Ol(t,t[bn],o,r)}function bT(t,r,o,c){const f=r[ht].queries[c];if(null===f.matches){const g=t.data,C=o.matches,A=[];for(let M=0;M<C.length;M+=2){const H=C[M];A.push(H<0?null:d1(r,g[H],C[M+1],o.metadata.read))}f.matches=A}return f.matches}function V0(t,r,o,c){const f=t.queries.getByIndex(o),g=f.matches;if(null!==g){const C=bT(t,r,f,o);for(let A=0;A<g.length;A+=2){const M=g[A];if(M>0)c.push(C[A/2]);else{const H=g[A+1],ae=r[-M];for(let Pe=Or;Pe<ae.length;Pe++){const ut=ae[Pe];ut[Me]===ut[Er]&&V0(ut[bn],ut,H,c)}if(null!==ae[Ui]){const Pe=ae[Ui];for(let ut=0;ut<Pe.length;ut++){const bt=Pe[ut];V0(bt[bn],bt,H,c)}}}}}return c}function TT(t){const r=en(),o=Lr(),c=Wo();S(c+1);const f=DT(o,c);if(t.dirty&&function Ch(t){return 4==(4&t[ur])}(r)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const g=f.crossesNgTemplate?V0(o,r,c,[]):bT(o,r,f,c);t.reset(g,Qv),t.notifyOnChanges()}return!0}return!1}function CT(t,r,o){const c=Lr();c.firstCreatePass&&(ST(c,new ET(t,r,o),-1),2==(2&r)&&(c.staticViewQueries=!0)),AT(c,en(),r)}function IT(t,r,o,c){const f=Lr();if(f.firstCreatePass){const g=As();ST(f,new ET(r,o,c),g.index),function p1(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(f,t),2==(2&o)&&(f.staticContentQueries=!0)}AT(f,en(),o)}function wT(){return function f1(t,r){return t[ht].queries[r].queryList}(en(),Wo())}function AT(t,r,o){const c=new M0(4==(4&o));(function pr(t,r,o,c){const f=Xp(r);f.push(o),t.firstCreatePass&&vm(t).push(c,f.length-1)})(t,r,c,c.destroy),null===r[ht]&&(r[ht]=new F0),r[ht].queries.push(new N0(c))}function ST(t,r,o){null===t.queries&&(t.queries=new k0),t.queries.track(new L0(r,o))}function DT(t,r){return t.queries.getByIndex(r)}function RT(t,r){return KE(t,r)}function U0(t){return!!fi(t)}const WT=new pn("Application Initializer");let H0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c}),this.appInits=De(WT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const f of this.appInits){const g=f();if(E(g))o.push(g);else if(j(g)){const C=new Promise((A,M)=>{g.subscribe({complete:A,error:M})});o.push(C)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{c()}).catch(f=>{this.reject(f)}),0===o.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),KT=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const QE=new pn("LocaleId",{providedIn:"root",factory:()=>De(QE,Tn.Optional|Tn.SkipSelf)||function F1(){return typeof $localize<"u"&&$localize.locale||py}()}),k1=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let qT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new oe.t(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class V1{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let U1=(()=>{class t{compileModuleSync(o){return new x0(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),g=od(fi(o).declarations).reduce((C,A)=>{const M=Pr(A);return M&&C.push(new lh(M)),C},[]);return new V1(c,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const JT=new pn(""),ZT=new pn("");let K0,aw=(()=>{class t{constructor(o,c,f){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,K0||(function lw(t){K0=t}(f),f.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,f){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:f})}whenStable(o,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,f){return[]}static{this.\u0275fac=function(c){return new(c||t)(Qe(wo),Qe(eC),Qe(ZT))}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac})}}return t})(),eC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return K0?.findTestabilityInTree(this,o,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),gg=null;const tC=new pn("AllowMultipleToken"),q0=new pn("PlatformDestroyListeners"),Y0=new pn("appBootstrapListener");class dw{constructor(r,o){this.name=r,this.token=o}}function iC(t,r,o=[]){const c=`Platform: ${r}`,f=new pn(c);return(g=[])=>{let C=X0();if(!C||C.injector.get(tC,!1)){const A=[...o,...g,{provide:f,useValue:!0}];t?t(A):function hw(t){if(gg&&!gg.get(tC,!1))throw new Ie(400,!1);(function nC(){!function Na(t){Go=t}(()=>{throw new Ie(600,!1)})})(),gg=t;const r=t.get(oC);(function rC(t){t.get(Kv,null)?.forEach(o=>o())})(t)}(function sC(t=[],r){return Tc.create({name:r,providers:[{provide:xp,useValue:"platform"},{provide:q0,useValue:new Set([()=>gg=null])},...t]})}(A,c))}return function pw(t){const r=X0();if(!r)throw new Ie(401,!1);return r}()}}function X0(){return gg?.get(oC)??null}let oC=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const f=function gw(t="zone.js",r){return"noop"===t?new L_:"zone.js"===t?new wo(r):t}(c?.ngZone,function aC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const g=function PI(t,r,o){return new R0(t,r,o)}(o.moduleType,this.injector,function hC(t){return[{provide:wo,useFactory:t},{provide:nd,multi:!0,useFactory:()=>{const r=De(_w,{optional:!0});return()=>r.initialize()}},{provide:dC,useFactory:mw},{provide:lE,useFactory:Jy}]}(()=>f)),C=g.injector.get(ul,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:M=>{C.handleError(M)}});g.onDestroy(()=>{ZE(this._modules,g),A.unsubscribe()})}),function lC(t,r,o){try{const c=o();return E(c)?c.catch(f=>{throw r.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw r.runOutsideAngular(()=>t.handleError(c)),c}}(C,f,()=>{const A=g.injector.get(H0);return A.runInitializers(),A.donePromise.then(()=>(function fb(t){gt(t,"Expected localeId to be defined"),"string"==typeof t&&(hb=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(QE,py)||py),this._moduleDoBootstrap(g),g))})})}bootstrapModule(o,c=[]){const f=cC({},c);return function cw(t,r,o){const c=new x0(o);return Promise.resolve(c)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(o){const c=o.injector.get(_y);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new Ie(-403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(q0,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(Qe(Tc))}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function cC(t,r){return Array.isArray(r)?r.reduce(cC,t):{...t,...r}}let _y=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=De(dC),this.zoneIsStable=De(lE),this.componentTypes=[],this.components=[],this.isStable=De(qT).hasPendingTasks.pipe((0,be.n)(o=>o?(0,Te.of)(!1):this.zoneIsStable),(0,Ne.F)(),(0,Ae.u)()),this._injector=De(Ai)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const f=o instanceof dm;if(!this._injector.get(H0).done)throw!f&&Ms(o),new Ie(405,!1);let C;C=f?o:this._injector.get(bc).resolveComponentFactory(o),this.componentTypes.push(C.componentType);const A=function uw(t){return t.isBoundToModule}(C)?void 0:this._injector.get(Vm),H=C.create(Tc.NULL,[],c||C.selector,A),ae=H.location.nativeElement,Pe=H.injector.get(JT,null);return Pe?.registerApplication(ae),H.onDestroy(()=>{this.detachView(H.hostView),ZE(this.components,H),Pe?.unregisterApplication(ae)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;ZE(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const c=this._injector.get(Y0,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>ZE(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ie(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ZE(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const dC=new pn("",{providedIn:"root",factory:()=>De(ul).handleError.bind(void 0)});function mw(){const t=De(wo),r=De(ul);return o=>t.runOutsideAngular(()=>r.handleError(o))}let _w=(()=>{class t{constructor(){this.zone=De(wo),this.applicationRef=De(_y)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vw(){return!1}let Ew=(()=>{class t{static{this.__NG_ELEMENT_ID__=bw}}return t})();function bw(t){return function Tw(t,r,o){if(gs(t)&&!o){const c=Hi(t.index,r);return new oh(c,c)}return 47&t.type?new oh(r[J],r):null}(As(),en(),16==(16&t))}class _C{constructor(){}supports(r){return Df(r)}create(r){return new Sw(r)}}const Aw=(t,r)=>r;class Sw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Aw}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,c=this._removalsHead,f=0,g=null;for(;o||c;){const C=!c||o&&o.currentIndex<vC(c,f,g)?o:c,A=vC(C,f,g),M=C.currentIndex;if(C===c)f--,c=c._nextRemoved;else if(o=o._next,null==C.previousIndex)f++;else{g||(g=[]);const H=A-f,ae=M-f;if(H!=ae){for(let ut=0;ut<H;ut++){const bt=ut<g.length?g[ut]:g[ut]=0,Kt=bt+ut;ae<=Kt&&Kt<H&&(g[ut]=bt+1)}g[C.previousIndex]=ae-H}}A!==M&&r(C,A,M)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Df(r))throw new Ie(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let f,g,C,o=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let A=0;A<this.length;A++)g=r[A],C=this._trackByFn(A,g),null!==o&&Object.is(o.trackById,C)?(c&&(o=this._verifyReinsertion(o,g,C,A)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,C,A),c=!0),o=o._next}else f=0,function Rf(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let c;for(;!(c=o.next()).done;)r(c.value)}}(r,A=>{C=this._trackByFn(f,A),null!==o&&Object.is(o.trackById,C)?(c&&(o=this._verifyReinsertion(o,A,C,f)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,C,f),c=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,c,f){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,g,f)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,g,f)):r=this._addAfter(new Dw(o,c),g,f),r}_verifyReinsertion(r,o,c,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?r=this._reinsertAfter(g,r._prev,f):r.currentIndex!=f&&(r.currentIndex=f,this._addToMoves(r,f)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const f=r._prevRemoved,g=r._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(r,o,c),this._addToMoves(r,c),r}_moveAfter(r,o,c){return this._unlink(r),this._insertAfter(r,o,c),this._addToMoves(r,c),r}_addAfter(r,o,c){return this._insertAfter(r,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,c){const f=null===o?this._itHead:o._next;return r._next=f,r._prev=o,null===f?this._itTail=r:f._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new yC),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,c=r._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yC),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Dw{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Rw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const o=r._prevDup,c=r._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class yC{constructor(){this.map=new Map}put(r){const o=r.trackById;let c=this.map.get(o);c||(c=new Rw,this.map.set(o,c)),c.add(r)}get(r,o){const f=this.map.get(r);return f?f.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vC(t,r,o){const c=t.previousIndex;if(null===c)return c;let f=0;return o&&c<o.length&&(f=o[c]),c+r+f}class EC{constructor(){}supports(r){return r instanceof Map||hl(r)}create(){return new xw}}class xw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||hl(r)))throw new Ie(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(f,c);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const c=r._prev;return o._next=r,o._prev=c,r._prev=o,c&&(c._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const f=this._records.get(r);this._maybeAddToChanges(f,o);const g=f._prev,C=f._next;return g&&(g._next=C),C&&(C._prev=g),f._next=null,f._prev=null,f}const c=new Pw(r);return this._records.set(r,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(c=>o(r[c],c))}}class Pw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bC(){return new tb([new _C])}let tb=(()=>{class t{static{this.\u0275prov=dn({token:t,providedIn:"root",factory:bC})}constructor(o){this.factories=o}static create(o,c){if(null!=c){const f=c.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||bC()),deps:[[t,new Bu,new Bl]]}}find(o){const c=this.factories.find(f=>f.supports(o));if(null!=c)return c;throw new Ie(901,!1)}}return t})();function TC(){return new nb([new EC])}let nb=(()=>{class t{static{this.\u0275prov=dn({token:t,providedIn:"root",factory:TC})}constructor(o){this.factories=o}static create(o,c){if(c){const f=c.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||TC()),deps:[[t,new Bu,new Bl]]}}find(o){const c=this.factories.find(f=>f.supports(o));if(c)return c;throw new Ie(901,!1)}}return t})();const Nw=iC(null,"core",[]);let Fw=(()=>{class t{constructor(o){}static{this.\u0275fac=function(c){return new(c||t)(Qe(_y))}}static{this.\u0275mod=ni({type:t})}static{this.\u0275inj=nn({})}}return t})();function Ww(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function qw(t){const r=Pr(t);if(!r)return null;const o=new lh(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},1977:(sn,et,O)=>{O.d(et,{DS:()=>Ut,X8:()=>Oe,$z:()=>tn,UB:()=>Wn,yy:()=>$t,ZP:()=>xe,AU:()=>un,CP:()=>Lt,gF:()=>it}),O(2438);var ie=O(177),n=O(7705),Ce=O(5407),oe=O(9253),Te=O(1413),Ae=O(7673),be=O(1985),Ne=O(8455),z=O(7786),Q=O(941),me=O(5558),ke=O(6354),Be=O(6129);class Je extends Te.B{constructor(Ve=1/0,lt=1/0,ft=Be.U){super(),this._bufferSize=Ve,this._windowTime=lt,this._timestampProvider=ft,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=lt===1/0,this._bufferSize=Math.max(1,Ve),this._windowTime=Math.max(1,lt)}next(Ve){const{isStopped:lt,_buffer:ft,_infiniteTimeWindow:Le,_timestampProvider:Z,_windowTime:Ee}=this;lt||(ft.push(Ve),!Le&&ft.push(Z.now()+Ee)),this._trimBuffer(),super.next(Ve)}_subscribe(Ve){this._throwIfClosed(),this._trimBuffer();const lt=this._innerSubscribe(Ve),{_infiniteTimeWindow:ft,_buffer:Le}=this,Z=Le.slice();for(let Ee=0;Ee<Z.length&&!Ve.closed;Ee+=ft?1:2)Ve.next(Z[Ee]);return this._checkFinalizedStatuses(Ve),lt}_trimBuffer(){const{_bufferSize:Ve,_timestampProvider:lt,_buffer:ft,_infiniteTimeWindow:Le}=this,Z=(Le?1:2)*Ve;if(Ve<1/0&&Z<ft.length&&ft.splice(0,ft.length-Z),!Le){const Ee=lt.now();let je=0;for(let gt=1;gt<ft.length&&ft[gt]<=Ee;gt+=2)je=gt;je&&ft.splice(0,je+1)}}}var qe=O(7647);function fe(mt,Ve,lt){let ft,Le=!1;return mt&&"object"==typeof mt?({bufferSize:ft=1/0,windowTime:Ve=1/0,refCount:Le=!1,scheduler:lt}=mt):ft=mt??1/0,(0,qe.u)({connector:()=>new Je(ft,Ve,lt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Le})}var He=O(1594),Nt=O(8071);function Re(mt,Ve){return(0,Nt.T)(Ve)?(0,me.n)(()=>mt,Ve):(0,me.n)(()=>mt)}var Ie=O(6745),dt=O(5964),ot=O(7935);const Lt=new n.nKC("angularfire2.auth.use-emulator"),$t=new n.nKC("angularfire2.auth.settings"),xe=new n.nKC("angularfire2.auth.tenant-id"),tn=new n.nKC("angularfire2.auth.langugage-code"),un=new n.nKC("angularfire2.auth.use-device-language"),Wn=new n.nKC("angularfire.auth.persistence"),it=(mt,Ve,lt,ft,Le,Z,Ee,je)=>(0,oe.BM)(`${mt.name}.auth`,"AngularFireAuth",mt.name,()=>{const gt=Ve.runOutsideAngular(()=>mt.auth());if(lt&&gt.useEmulator(...lt),ft&&(gt.tenantId=ft),gt.languageCode=Le,Z&&gt.useDeviceLanguage(),Ee)for(const[at,Ht]of Object.entries(Ee))gt.settings[at]=Ht;return je&&gt.setPersistence(je),gt},[lt,ft,Le,Z,Ee,je]);let Ut=(()=>{class mt{authState;idToken;user;idTokenResult;credential;constructor(lt,ft,Le,Z,Ee,je,gt,at,Ht,Sn,cr,dn){const kn=new Te.B,nn=(0,Ae.of)(void 0).pipe((0,Q.Q)(Ee.outsideAngular),(0,me.n)(()=>Z.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2438)))),(0,ke.T)(()=>(0,oe.iB)(lt,Z,ft)),(0,ke.T)(Jn=>it(Jn,Z,je,at,Ht,Sn,gt,cr)),fe({bufferSize:1,refCount:!1}));if((0,ie.Vy)(Le))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ae.of)(null);else{nn.pipe((0,He.$)()).subscribe();const Jn=nn.pipe((0,me.n)(qt=>qt.getRedirectResult().then(yr=>yr,()=>null)),Ce.U0,fe({bufferSize:1,refCount:!1})),Ln=nn.pipe((0,me.n)(qt=>new be.c(yr=>({unsubscribe:Z.runOutsideAngular(()=>qt.onAuthStateChanged(Zt=>yr.next(Zt),Zt=>yr.error(Zt),()=>yr.complete()))})))),Qt=nn.pipe((0,me.n)(qt=>new be.c(yr=>({unsubscribe:Z.runOutsideAngular(()=>qt.onIdTokenChanged(Zt=>yr.next(Zt),Zt=>yr.error(Zt),()=>yr.complete()))}))));this.authState=Jn.pipe(Re(Ln),(0,Ie._)(Ee.outsideAngular),(0,Q.Q)(Ee.insideAngular)),this.user=Jn.pipe(Re(Qt),(0,Ie._)(Ee.outsideAngular),(0,Q.Q)(Ee.insideAngular)),this.idToken=this.user.pipe((0,me.n)(qt=>qt?(0,Ne.H)(qt.getIdToken()):(0,Ae.of)(null))),this.idTokenResult=this.user.pipe((0,me.n)(qt=>qt?(0,Ne.H)(qt.getIdTokenResult()):(0,Ae.of)(null))),this.credential=(0,z.h)(Jn,kn,this.authState.pipe((0,dt.p)(qt=>!qt))).pipe((0,ke.T)(qt=>qt?.user?qt:null),(0,Ie._)(Ee.outsideAngular),(0,Q.Q)(Ee.insideAngular))}return(0,oe.Gt)(this,nn,Z,{spy:{apply:(Jn,Ln,Qt)=>{(Jn.startsWith("signIn")||Jn.startsWith("createUser"))&&Qt.then(qt=>kn.next(qt))}}})}static \u0275fac=function(ft){return new(ft||mt)(n.KVO(oe.rx),n.KVO(oe.uP,8),n.KVO(n.Agw),n.KVO(n.SKi),n.KVO(Ce.u0),n.KVO(Lt,8),n.KVO($t,8),n.KVO(xe,8),n.KVO(tn,8),n.KVO(un,8),n.KVO(Wn,8),n.KVO(Ce.Jv,8))};static \u0275prov=n.jDH({token:mt,factory:mt.\u0275fac,providedIn:"any"})}return mt})(),Oe=(()=>{class mt{constructor(){ot.A.registerVersion("angularfire",Ce.xv.full,"auth-compat")}static \u0275fac=function(ft){return new(ft||mt)};static \u0275mod=n.$C({type:mt});static \u0275inj=n.G2t({providers:[Ut]})}return mt})()},6340:(sn,et,O)=>{O.d(et,{Qe:()=>Ci,cM:()=>pt});var i=O(177),ie=O(7705),n=O(5407),Ce=O(9253),oe=O(1977),Te=O(3236),Ae=O(1985),be=O(8455),Ne=O(7673),z=O(9172),Q=O(9974),me=O(4360);function ke(){return(0,Q.N)((Et,de)=>{let ze,Ft=!1;Et.subscribe((0,me._)(de,zt=>{const Rn=ze;ze=zt,Ft&&de.next([Rn,zt]),Ft=!0}))})}var Be=O(6354),Je=O(2816),qe=O(3294),fe=O(5964),Nt=(O(2438),O(3345)),Re=O(9583),Ie=O(1076),dt=O(1362);function Lt(Et,de){if(void 0===de)return{merge:!1};if(void 0!==de.mergeFields&&void 0!==de.merge)throw new Re.W6("invalid-argument",`Invalid options passed to function ${Et}(): You cannot specify both "merge" and "mergeFields".`);return de}function $t(){if(typeof Uint8Array>"u")throw new Re.W6("unimplemented","Uint8Arrays are not available in this environment.")}function xe(){if(!(0,Re.qG)())throw new Re.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class tn{constructor(de){this._delegate=de}static fromBase64String(de){return xe(),new tn(Re.Ix.fromBase64String(de))}static fromUint8Array(de){return $t(),new tn(Re.Ix.fromUint8Array(de))}toBase64(){return xe(),this._delegate.toBase64()}toUint8Array(){return $t(),this._delegate.toUint8Array()}isEqual(de){return this._delegate.isEqual(de._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function un(Et){return function Wn(Et,de){if("object"!=typeof Et||null===Et)return!1;const ze=Et;for(const Ft of de)if(Ft in ze&&"function"==typeof ze[Ft])return!0;return!1}(Et,["next","error","complete"])}class it{enableIndexedDbPersistence(de,ze){return(0,Re.ol)(de._delegate,{forceOwnership:ze})}enableMultiTabIndexedDbPersistence(de){return(0,Re.Q5)(de._delegate)}clearIndexedDbPersistence(de){return(0,Re.me)(de._delegate)}}class Ut{constructor(de,ze,Ft){this._delegate=ze,this._persistenceProvider=Ft,this.INTERNAL={delete:()=>this.terminate()},de instanceof Re.cm||(this._appCompat=de)}get _databaseId(){return this._delegate._databaseId}settings(de){const ze=this._delegate._getSettings();!de.merge&&ze.host!==de.host&&(0,Re.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),de.merge&&delete(de=Object.assign(Object.assign({},ze),de)).merge,this._delegate._setSettings(de)}useEmulator(de,ze,Ft={}){(0,Re.vN)(this._delegate,de,ze,Ft)}enableNetwork(){return(0,Re.Os)(this._delegate)}disableNetwork(){return(0,Re.LA)(this._delegate)}enablePersistence(de){let ze=!1,Ft=!1;return de&&(ze=!!de.synchronizeTabs,Ft=!!de.experimentalForceOwningTab,(0,Re.c8)("synchronizeTabs",ze,"experimentalForceOwningTab",Ft)),ze?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ft)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Re.iB)(this._delegate)}onSnapshotsInSync(de){return(0,Re.FC)(this._delegate,de)}get app(){if(!this._appCompat)throw new Re.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(de){try{return new dn(this,(0,Re.rJ)(this._delegate,de))}catch(ze){throw Z(ze,"collection()","Firestore.collection()")}}doc(de){try{return new Le(this,(0,Re.H9)(this._delegate,de))}catch(ze){throw Z(ze,"doc()","Firestore.doc()")}}collectionGroup(de){try{return new Ht(this,(0,Re.Cs)(this._delegate,de))}catch(ze){throw Z(ze,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(de){return(0,Re.c4)(this._delegate,ze=>de(new Ve(this,ze)))}batch(){return(0,Re.Ws)(this._delegate),new lt(new Re.GA(this._delegate,de=>(0,Re.z6)(this._delegate,de)))}loadBundle(de){return(0,Re.po)(this._delegate,de)}namedQuery(de){return(0,Re.St)(this._delegate,de).then(ze=>ze?new Ht(this,ze):null)}}class Oe extends Re.fS{constructor(de){super(),this.firestore=de}convertBytes(de){return new tn(new Re.Ix(de))}convertReference(de){const ze=this.convertDocumentKey(de,this.firestore._databaseId);return Le.forKey(ze,this.firestore,null)}}class Ve{constructor(de,ze){this._firestore=de,this._delegate=ze,this._userDataWriter=new Oe(de)}get(de){const ze=kn(de);return this._delegate.get(ze).then(Ft=>new gt(this._firestore,new Re.Wq(this._firestore._delegate,this._userDataWriter,Ft._key,Ft._document,Ft.metadata,ze.converter)))}set(de,ze,Ft){const zt=kn(de);return Ft?(Lt("Transaction.set",Ft),this._delegate.set(zt,ze,Ft)):this._delegate.set(zt,ze),this}update(de,ze,Ft,...zt){const Rn=kn(de);return 2===arguments.length?this._delegate.update(Rn,ze):this._delegate.update(Rn,ze,Ft,...zt),this}delete(de){const ze=kn(de);return this._delegate.delete(ze),this}}class lt{constructor(de){this._delegate=de}set(de,ze,Ft){const zt=kn(de);return Ft?(Lt("WriteBatch.set",Ft),this._delegate.set(zt,ze,Ft)):this._delegate.set(zt,ze),this}update(de,ze,Ft,...zt){const Rn=kn(de);return 2===arguments.length?this._delegate.update(Rn,ze):this._delegate.update(Rn,ze,Ft,...zt),this}delete(de){const ze=kn(de);return this._delegate.delete(ze),this}commit(){return this._delegate.commit()}}class ft{constructor(de,ze,Ft){this._firestore=de,this._userDataWriter=ze,this._delegate=Ft}fromFirestore(de,ze){const Ft=new Re.YQ(this._firestore._delegate,this._userDataWriter,de._key,de._document,de.metadata,null);return this._delegate.fromFirestore(new at(this._firestore,Ft),ze??{})}toFirestore(de,ze){return ze?this._delegate.toFirestore(de,ze):this._delegate.toFirestore(de)}static getInstance(de,ze){const Ft=ft.INSTANCES;let zt=Ft.get(de);zt||(zt=new WeakMap,Ft.set(de,zt));let Rn=zt.get(ze);return Rn||(Rn=new ft(de,new Oe(de),ze),zt.set(ze,Rn)),Rn}}ft.INSTANCES=new WeakMap;class Le{constructor(de,ze){this.firestore=de,this._delegate=ze,this._userDataWriter=new Oe(de)}static forPath(de,ze,Ft){if(de.length%2!=0)throw new Re.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${de.canonicalString()} has ${de.length}`);return new Le(ze,new Re.T1(ze._delegate,Ft,new Re.K$(de)))}static forKey(de,ze,Ft){return new Le(ze,new Re.T1(ze._delegate,Ft,de))}get id(){return this._delegate.id}get parent(){return new dn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(de){try{return new dn(this.firestore,(0,Re.rJ)(this._delegate,de))}catch(ze){throw Z(ze,"collection()","DocumentReference.collection()")}}isEqual(de){return(de=(0,Ie.Ku)(de))instanceof Re.T1&&(0,Re.yx)(this._delegate,de)}set(de,ze){ze=Lt("DocumentReference.set",ze);try{return ze?(0,Re.BN)(this._delegate,de,ze):(0,Re.BN)(this._delegate,de)}catch(Ft){throw Z(Ft,"setDoc()","DocumentReference.set()")}}update(de,ze,...Ft){try{return 1===arguments.length?(0,Re.mZ)(this._delegate,de):(0,Re.mZ)(this._delegate,de,ze,...Ft)}catch(zt){throw Z(zt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Re.kd)(this._delegate)}onSnapshot(...de){const ze=Ee(de),Ft=je(de,zt=>new gt(this.firestore,new Re.Wq(this.firestore._delegate,this._userDataWriter,zt._key,zt._document,zt.metadata,this._delegate.converter)));return(0,Re.aQ)(this._delegate,ze,Ft)}get(de){let ze;return ze="cache"===de?.source?(0,Re.nY)(this._delegate):"server"===de?.source?(0,Re._e)(this._delegate):(0,Re.x7)(this._delegate),ze.then(Ft=>new gt(this.firestore,new Re.Wq(this.firestore._delegate,this._userDataWriter,Ft._key,Ft._document,Ft.metadata,this._delegate.converter)))}withConverter(de){return new Le(this.firestore,this._delegate.withConverter(de?ft.getInstance(this.firestore,de):null))}}function Z(Et,de,ze){return Et.message=Et.message.replace(de,ze),Et}function Ee(Et){for(const de of Et)if("object"==typeof de&&!un(de))return de;return{}}function je(Et,de){var ze,Ft;let zt;return zt=un(Et[0])?Et[0]:un(Et[1])?Et[1]:"function"==typeof Et[0]?{next:Et[0],error:Et[1],complete:Et[2]}:{next:Et[1],error:Et[2],complete:Et[3]},{next:Rn=>{zt.next&&zt.next(de(Rn))},error:null===(ze=zt.error)||void 0===ze?void 0:ze.bind(zt),complete:null===(Ft=zt.complete)||void 0===Ft?void 0:Ft.bind(zt)}}class gt{constructor(de,ze){this._firestore=de,this._delegate=ze}get ref(){return new Le(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(de){return this._delegate.data(de)}get(de,ze){return this._delegate.get(de,ze)}isEqual(de){return(0,Re.lN)(this._delegate,de._delegate)}}class at extends gt{data(de){const ze=this._delegate.data(de);return this._delegate._converter||(0,Re.bI)(void 0!==ze,"Document in a QueryDocumentSnapshot should exist"),ze}}class Ht{constructor(de,ze){this.firestore=de,this._delegate=ze,this._userDataWriter=new Oe(de)}where(de,ze,Ft){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re._M)(de,ze,Ft)))}catch(zt){throw Z(zt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(de,ze){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.My)(de,ze)))}catch(Ft){throw Z(Ft,/(orderBy|where)\(\)/,"Query.$1()")}}limit(de){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.AB)(de)))}catch(ze){throw Z(ze,"limit()","Query.limit()")}}limitToLast(de){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.$1)(de)))}catch(ze){throw Z(ze,"limitToLast()","Query.limitToLast()")}}startAt(...de){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.EO)(...de)))}catch(ze){throw Z(ze,"startAt()","Query.startAt()")}}startAfter(...de){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.HM)(...de)))}catch(ze){throw Z(ze,"startAfter()","Query.startAfter()")}}endBefore(...de){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.rf)(...de)))}catch(ze){throw Z(ze,"endBefore()","Query.endBefore()")}}endAt(...de){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.FD)(...de)))}catch(ze){throw Z(ze,"endAt()","Query.endAt()")}}isEqual(de){return(0,Re.B)(this._delegate,de._delegate)}get(de){let ze;return ze="cache"===de?.source?(0,Re.kU)(this._delegate):"server"===de?.source?(0,Re.Rr)(this._delegate):(0,Re.GG)(this._delegate),ze.then(Ft=>new cr(this.firestore,new Re.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Ft._snapshot)))}onSnapshot(...de){const ze=Ee(de),Ft=je(de,zt=>new cr(this.firestore,new Re.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,zt._snapshot)));return(0,Re.aQ)(this._delegate,ze,Ft)}withConverter(de){return new Ht(this.firestore,this._delegate.withConverter(de?ft.getInstance(this.firestore,de):null))}}class Sn{constructor(de,ze){this._firestore=de,this._delegate=ze}get type(){return this._delegate.type}get doc(){return new at(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cr{constructor(de,ze){this._firestore=de,this._delegate=ze}get query(){return new Ht(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(de=>new at(this._firestore,de))}docChanges(de){return this._delegate.docChanges(de).map(ze=>new Sn(this._firestore,ze))}forEach(de,ze){this._delegate.forEach(Ft=>{de.call(ze,new at(this._firestore,Ft))})}isEqual(de){return(0,Re.lN)(this._delegate,de._delegate)}}class dn extends Ht{constructor(de,ze){super(de,ze),this.firestore=de,this._delegate=ze}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const de=this._delegate.parent;return de?new Le(this.firestore,de):null}doc(de){try{return new Le(this.firestore,void 0===de?(0,Re.H9)(this._delegate):(0,Re.H9)(this._delegate,de))}catch(ze){throw Z(ze,"doc()","CollectionReference.doc()")}}add(de){return(0,Re.gS)(this._delegate,de).then(ze=>new Le(this.firestore,ze))}isEqual(de){return(0,Re.yx)(this._delegate,de._delegate)}withConverter(de){return new dn(this.firestore,this._delegate.withConverter(de?ft.getInstance(this.firestore,de):null))}}function kn(Et){return(0,Re.lo)(Et,Re.T1)}class nn{constructor(...de){this._delegate=new Re.uY(...de)}static documentId(){return new nn(Re.FA.keyField().canonicalString())}isEqual(de){return(de=(0,Ie.Ku)(de))instanceof Re.uY&&this._delegate._internalPath.isEqual(de._internalPath)}}class Jn{constructor(de){this._delegate=de}static serverTimestamp(){const de=(0,Re.O5)();return de._methodName="FieldValue.serverTimestamp",new Jn(de)}static delete(){const de=(0,Re.CL)();return de._methodName="FieldValue.delete",new Jn(de)}static arrayUnion(...de){const ze=(0,Re.hq)(...de);return ze._methodName="FieldValue.arrayUnion",new Jn(ze)}static arrayRemove(...de){const ze=(0,Re.C3)(...de);return ze._methodName="FieldValue.arrayRemove",new Jn(ze)}static increment(de){const ze=(0,Re.GV)(de);return ze._methodName="FieldValue.increment",new Jn(ze)}isEqual(de){return this._delegate.isEqual(de._delegate)}}const Ln={Firestore:Ut,GeoPoint:Re.Ci,Timestamp:Re.Dc,Blob:tn,Transaction:Ve,WriteBatch:lt,DocumentReference:Le,DocumentSnapshot:gt,Query:Ht,QueryDocumentSnapshot:at,QuerySnapshot:cr,CollectionReference:dn,FieldPath:nn,FieldValue:Jn,setLogLevel:function mt(Et){(0,Re.He)(Et)},CACHE_SIZE_UNLIMITED:Re.H6};!function qt(Et){(function Qt(Et,de){Et.INTERNAL.registerComponent(new dt.uA("firestore-compat",ze=>{const Ft=ze.getProvider("app-compat").getImmediate(),zt=ze.getProvider("firestore").getImmediate();return de(Ft,zt)},"PUBLIC").setServiceProps(Object.assign({},Ln)))})(Et,(de,ze)=>new Ut(de,ze,new it)),Et.registerVersion("@firebase/firestore-compat","0.3.38")}(Nt.A);var yr=O(7935);function ar(Et,de){return function Zt(Et,de=Te.E){return new Ae.c(ze=>{let Ft;return null!=de?de.schedule(()=>{Ft=Et.onSnapshot({includeMetadataChanges:!0},ze)}):Ft=Et.onSnapshot({includeMetadataChanges:!0},ze),()=>{Ft?.()}})}(Et,de)}function Bt(Et,de){return ar(Et,de).pipe((0,Be.T)(ze=>({payload:ze,type:"query"})))}class Tn{ref;afs;constructor(de,ze){this.ref=de,this.afs=ze}set(de,ze){return this.ref.set(de,ze)}update(de){return this.ref.update(de)}delete(){return this.ref.delete()}collection(de,ze){const Ft=this.ref.collection(de),{ref:zt,query:Rn}=Qn(Ft,ze);return new Kr(zt,Rn,this.afs)}snapshotChanges(){return function Un(Et,de){return ar(Et,de).pipe((0,z.Z)(void 0),ke(),(0,Be.T)(ze=>{const[Ft,zt]=ze;return zt.exists?Ft?.exists?{payload:zt,type:"modified"}:{payload:zt,type:"added"}:{payload:zt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(n.U0)}valueChanges(de={}){return this.snapshotChanges().pipe((0,Be.T)(({payload:ze})=>de.idField?{...ze.data(),[de.idField]:ze.id}:ze.data()))}get(de){return(0,be.H)(this.ref.get(de)).pipe(n.U0)}}function jn(Et,de){return Bt(Et,de).pipe((0,z.Z)(void 0),ke(),(0,Be.T)(ze=>{const[Ft,zt]=ze,Rn=zt.payload.docChanges(),Rr=Rn.map(ir=>({type:ir.type,payload:ir}));return Ft&&JSON.stringify(Ft.payload.metadata)!==JSON.stringify(zt.payload.metadata)&&zt.payload.docs.forEach((ir,li)=>{const Pt=Rn.find(P=>P.doc.ref.isEqual(ir.ref)),B=Ft?.payload.docs.find(P=>P.ref.isEqual(ir.ref));Pt&&JSON.stringify(Pt.doc.metadata)===JSON.stringify(ir.metadata)||!Pt&&B&&JSON.stringify(B.metadata)===JSON.stringify(ir.metadata)||Rr.push({type:"modified",payload:{oldIndex:li,newIndex:li,type:"modified",doc:ir}})}),Rr}))}function Cn(Et,de,ze){return jn(Et,ze).pipe((0,Je.S)((Ft,zt)=>function Fr(Et,de,ze){return de.forEach(Ft=>{ze.indexOf(Ft.type)>-1&&(Et=function Vr(Et,de){switch(de.type){case"added":if(!Et[de.newIndex]||!Et[de.newIndex].doc.ref.isEqual(de.doc.ref))return Sr(Et,de.newIndex,0,de);break;case"modified":if(null==Et[de.oldIndex]||Et[de.oldIndex].doc.ref.isEqual(de.doc.ref)){if(de.oldIndex!==de.newIndex){const ze=Et.slice();return ze.splice(de.oldIndex,1),ze.splice(de.newIndex,0,de),ze}return Sr(Et,de.newIndex,1,de)}break;case"removed":if(Et[de.oldIndex]&&Et[de.oldIndex].doc.ref.isEqual(de.doc.ref))return Sr(Et,de.oldIndex,1)}return Et}(Et,Ft))}),Et}(Ft,zt.map(Rn=>Rn.payload),de),[]),(0,qe.F)(),(0,Be.T)(Ft=>Ft.map(zt=>({type:zt.type,payload:zt}))))}function Sr(Et,de,ze,...Ft){const zt=Et.slice();return zt.splice(de,ze,...Ft),zt}function zn(Et){return(!Et||0===Et.length)&&(Et=["added","removed","modified"]),Et}class Kr{ref;query;afs;constructor(de,ze,Ft){this.ref=de,this.query=ze,this.afs=Ft}stateChanges(de){let ze=jn(this.query,this.afs.schedulers.outsideAngular);return de&&de.length>0&&(ze=ze.pipe((0,Be.T)(Ft=>Ft.filter(zt=>de.indexOf(zt.type)>-1)))),ze.pipe((0,z.Z)(void 0),ke(),(0,fe.p)(([Ft,zt])=>zt.length>0||!Ft),(0,Be.T)(([,Ft])=>Ft),n.U0)}auditTrail(de){return this.stateChanges(de).pipe((0,Je.S)((ze,Ft)=>[...ze,...Ft],[]))}snapshotChanges(de){const ze=zn(de);return Cn(this.query,ze,this.afs.schedulers.outsideAngular).pipe(n.U0)}valueChanges(de={}){return Bt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(ze=>ze.payload.docs.map(Ft=>de.idField?{...Ft.data(),[de.idField]:Ft.id}:Ft.data())),n.U0)}get(de){return(0,be.H)(this.query.get(de)).pipe(n.U0)}add(de){return this.ref.add(de)}doc(de){return new Tn(this.ref.doc(de),this.afs)}}class Qi{query;afs;constructor(de,ze){this.query=de,this.afs=ze}stateChanges(de){return de&&0!==de.length?jn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(ze=>ze.filter(Ft=>de.indexOf(Ft.type)>-1)),(0,fe.p)(ze=>ze.length>0),n.U0):jn(this.query,this.afs.schedulers.outsideAngular).pipe(n.U0)}auditTrail(de){return this.stateChanges(de).pipe((0,Je.S)((ze,Ft)=>[...ze,...Ft],[]))}snapshotChanges(de){const ze=zn(de);return Cn(this.query,ze,this.afs.schedulers.outsideAngular).pipe(n.U0)}valueChanges(de={}){return Bt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(Ft=>Ft.payload.docs.map(zt=>de.idField?{[de.idField]:zt.id,...zt.data()}:zt.data())),n.U0)}get(de){return(0,be.H)(this.query.get(de)).pipe(n.U0)}}const pn=new ie.nKC("angularfire2.enableFirestorePersistence"),qr=new ie.nKC("angularfire2.firestore.persistenceSettings"),nr=new ie.nKC("angularfire2.firestore.settings"),vr=new ie.nKC("angularfire2.firestore.use-emulator");function Qn(Et,de=(ze=>ze)){return{query:de(Et),ref:Et}}let Ci=(()=>{class Et{schedulers;firestore;persistenceEnabled$;constructor(ze,Ft,zt,Rn,Rr,ir,li,Pt,B,P,k,se,ye,ce,Qe,_e,De){this.schedulers=li;const St=(0,Ce.iB)(ze,ir,Ft),Dn=B;P&&(0,oe.gF)(St,ir,k,ye,ce,Qe,se,_e),[this.firestore,this.persistenceEnabled$]=(0,Ce.BM)(`${St.name}.firestore`,"AngularFirestore",St.name,()=>{const Se=ir.runOutsideAngular(()=>St.firestore());if(Rn&&Se.settings(Rn),Dn&&Se.useEmulator(...Dn),zt&&!(0,i.Vy)(Rr)){const Ge=()=>{try{return(0,be.H)(Se.enablePersistence(Pt||void 0).then(()=>!0,()=>!1))}catch(Ye){return typeof console<"u"&&console.warn(Ye),(0,Ne.of)(!1)}};return[Se,ir.runOutsideAngular(Ge)]}return[Se,(0,Ne.of)(!1)]},[Rn,Dn,zt])}collection(ze,Ft){let zt;zt="string"==typeof ze?this.firestore.collection(ze):ze;const{ref:Rn,query:Rr}=Qn(zt,Ft),ir=this.schedulers.ngZone.run(()=>Rn);return new Kr(ir,Rr,this)}collectionGroup(ze,Ft){const zt=Ft||(Rr=>Rr),Rn=this.firestore.collectionGroup(ze);return new Qi(zt(Rn),this)}doc(ze){let Ft;Ft="string"==typeof ze?this.firestore.doc(ze):ze;const zt=this.schedulers.ngZone.run(()=>Ft);return new Tn(zt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(Ft){return new(Ft||Et)(ie.KVO(Ce.rx),ie.KVO(Ce.uP,8),ie.KVO(pn,8),ie.KVO(nr,8),ie.KVO(ie.Agw),ie.KVO(ie.SKi),ie.KVO(n.u0),ie.KVO(qr,8),ie.KVO(vr,8),ie.KVO(oe.DS,8),ie.KVO(oe.CP,8),ie.KVO(oe.yy,8),ie.KVO(oe.ZP,8),ie.KVO(oe.$z,8),ie.KVO(oe.AU,8),ie.KVO(oe.UB,8),ie.KVO(n.Jv,8))};static \u0275prov=ie.jDH({token:Et,factory:Et.\u0275fac,providedIn:"any"})}return Et})(),pt=(()=>{class Et{constructor(){yr.A.registerVersion("angularfire",n.xv.full,"fst-compat")}static enablePersistence(ze){return{ngModule:Et,providers:[{provide:pn,useValue:!0},{provide:qr,useValue:ze}]}}static \u0275fac=function(Ft){return new(Ft||Et)};static \u0275mod=ie.$C({type:Et});static \u0275inj=ie.G2t({providers:[Ci]})}return Et})()},8721:(sn,et,O)=>{O.d(et,{ap:()=>Ve,y5:()=>Le});var i=O(5407),ie=O(1985),n=O(7673),Ce=O(8455),oe=O(3236),Te=O(9974),Ae=O(4360),Ne=O(6354),z=O(5558),Q=O(7705),me=O(9253),ke=O(3345),Be=O(4535),Je=O(1362);class qe{constructor(Ee,je,gt){this._delegate=Ee,this.task=je,this.ref=gt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class fe{constructor(Ee,je){this._delegate=Ee,this._ref=je,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new qe(this._delegate.snapshot,this,this._ref)}then(Ee,je){return this._delegate.then(gt=>{if(Ee)return Ee(new qe(gt,this,this._ref))},je)}on(Ee,je,gt,at){let Ht;return je&&(Ht="function"==typeof je?Sn=>je(new qe(Sn,this,this._ref)):{next:je.next?Sn=>je.next(new qe(Sn,this,this._ref)):void 0,complete:je.complete||void 0,error:je.error||void 0}),this._delegate.on(Ee,Ht,gt||void 0,at||void 0)}}class He{constructor(Ee,je){this._delegate=Ee,this._service=je}get prefixes(){return this._delegate.prefixes.map(Ee=>new Nt(Ee,this._service))}get items(){return this._delegate.items.map(Ee=>new Nt(Ee,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Nt{constructor(Ee,je){this._delegate=Ee,this.storage=je}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ee){const je=(0,Be.Mp)(this._delegate,Ee);return new Nt(je,this.storage)}get root(){return new Nt(this._delegate.root,this.storage)}get parent(){const Ee=this._delegate.parent;return null==Ee?null:new Nt(Ee,this.storage)}put(Ee,je){return this._throwIfRoot("put"),new fe((0,Be.bp)(this._delegate,Ee,je),this)}putString(Ee,je=Be.nw.RAW,gt){this._throwIfRoot("putString");const at=(0,Be.ZH)(je,Ee),Ht=Object.assign({},gt);return null==Ht.contentType&&null!=at.contentType&&(Ht.contentType=at.contentType),new fe(new Be.UC(this._delegate,new Be.Mx(at.data,!0),Ht),this)}listAll(){return(0,Be._w)(this._delegate).then(Ee=>new He(Ee,this.storage))}list(Ee){return(0,Be.p_)(this._delegate,Ee||void 0).then(je=>new He(je,this.storage))}getMetadata(){return(0,Be.yb)(this._delegate)}updateMetadata(Ee){return(0,Be.D5)(this._delegate,Ee)}getDownloadURL(){return(0,Be.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Be.XR)(this._delegate)}_throwIfRoot(Ee){if(""===this._delegate._location.path)throw(0,Be.UY)(Ee)}}class Re{constructor(Ee,je){this.app=Ee,this._delegate=je}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ee){if(Ie(Ee))throw(0,Be.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new Nt((0,Be.KR)(this._delegate,Ee),this)}refFromURL(Ee){if(!Ie(Ee))throw(0,Be.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Be.TZ.makeFromUrl(Ee,this._delegate.host)}catch{throw(0,Be.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Nt((0,Be.KR)(this._delegate,Ee),this)}setMaxUploadRetryTime(Ee){this._delegate.maxUploadRetryTime=Ee}setMaxOperationRetryTime(Ee){this._delegate.maxOperationRetryTime=Ee}useEmulator(Ee,je,gt={}){(0,Be.nb)(this._delegate,Ee,je,gt)}}function Ie(Z){return/^[A-Za-z]+:\/\//.test(Z)}function Lt(Z,{instanceIdentifier:Ee}){const je=Z.getProvider("app-compat").getImmediate(),gt=Z.getProvider("storage").getImmediate({identifier:Ee});return new Re(je,gt)}!function $t(Z){const Ee={TaskState:Be.Ad,TaskEvent:Be.xc,StringFormat:Be.nw,Storage:Re,Reference:Nt};Z.INTERNAL.registerComponent(new Je.uA("storage-compat",Lt,"PUBLIC").setServiceProps(Ee).setMultipleInstances(!0)),Z.registerVersion("@firebase/storage-compat","0.3.12")}(ke.A);var xe=O(7935);function un(Z){const Ee=function tn(Z){return new ie.c(Ee=>{const je=Sn=>Ee.next(Sn);je(Z.snapshot);const Ht=Z.on("state_changed",je);return Z.then(Sn=>{je(Sn),Ee.complete()},Sn=>{je(Z.snapshot),(Sn=>{Ee.error(Sn)})(Sn)}),function(){Ht()}}).pipe(function be(Z,Ee=oe.E){return(0,Te.N)((je,gt)=>{let at=null,Ht=null,Sn=null;const cr=()=>{if(at){at.unsubscribe(),at=null;const kn=Ht;Ht=null,gt.next(kn)}};function dn(){const kn=Sn+Z,nn=Ee.now();if(nn<kn)return at=this.schedule(void 0,kn-nn),void gt.add(at);cr()}je.subscribe((0,Ae._)(gt,kn=>{Ht=kn,Sn=Ee.now(),at||(at=Ee.schedule(dn,Z),gt.add(at))},()=>{cr(),gt.complete()},void 0,()=>{Ht=at=null}))})}(0))}(Z);return{task:Z,then:Z.then.bind(Z),catch:Z.catch.bind(Z),pause:Z.pause.bind(Z),cancel:Z.cancel.bind(Z),resume:Z.resume.bind(Z),snapshotChanges:()=>Ee,percentageChanges:()=>Ee.pipe((0,Ne.T)(je=>je.bytesTransferred/je.totalBytes*100))}}function Wn(Z){return{getDownloadURL:()=>(0,n.of)(void 0).pipe(i.Oe,(0,z.n)(()=>Z.getDownloadURL()),i.U0),getMetadata:()=>(0,n.of)(void 0).pipe(i.Oe,(0,z.n)(()=>Z.getMetadata()),i.U0),delete:()=>(0,Ce.H)(Z.delete()),child:Ee=>Wn(Z.child(Ee)),updateMetadata:Ee=>(0,Ce.H)(Z.updateMetadata(Ee)),put:(Ee,je)=>un(Z.put(Ee,je)),putString:(Ee,je,gt)=>un(Z.putString(Ee,je,gt)),list:Ee=>(0,Ce.H)(Z.list(Ee)),listAll:()=>(0,Ce.H)(Z.listAll())}}const it=new Q.nKC("angularfire2.storageBucket"),Ut=new Q.nKC("angularfire2.storage.maxUploadRetryTime"),Oe=new Q.nKC("angularfire2.storage.maxOperationRetryTime"),mt=new Q.nKC("angularfire2.storage.use-emulator");let Ve=(()=>{class Z{storage;constructor(je,gt,at,Ht,Sn,cr,dn,kn,nn,Jn){const Ln=(0,me.iB)(je,Sn,gt);this.storage=(0,me.BM)(`${Ln.name}.storage.${at}`,"AngularFireStorage",Ln.name,()=>{const Qt=Sn.runOutsideAngular(()=>Ln.storage(at||void 0)),qt=nn;return qt&&Qt.useEmulator(...qt),dn&&Qt.setMaxUploadRetryTime(dn),kn&&Qt.setMaxOperationRetryTime(kn),Qt},[dn,kn])}ref(je){return Wn(this.storage.ref(je))}refFromURL(je){return Wn(this.storage.refFromURL(je))}upload(je,gt,at){return Wn(this.storage.ref(je)).put(gt,at)}static \u0275fac=function(gt){return new(gt||Z)(Q.KVO(me.rx),Q.KVO(me.uP,8),Q.KVO(it,8),Q.KVO(Q.Agw),Q.KVO(Q.SKi),Q.KVO(i.u0),Q.KVO(Ut,8),Q.KVO(Oe,8),Q.KVO(mt,8),Q.KVO(i.Jv,8))};static \u0275prov=Q.jDH({token:Z,factory:Z.\u0275fac,providedIn:"any"})}return Z})(),ft=(()=>{class Z{static \u0275fac=function(gt){return new(gt||Z)};static \u0275mod=Q.$C({type:Z});static \u0275inj=Q.G2t({})}return Z})(),Le=(()=>{class Z{constructor(){xe.A.registerVersion("angularfire",i.xv.full,"gcs-compat")}static \u0275fac=function(gt){return new(gt||Z)};static \u0275mod=Q.$C({type:Z});static \u0275inj=Q.G2t({providers:[Ve],imports:[ft]})}return Z})()},9253:(sn,et,O)=>{O.d(et,{BM:()=>Be,Gt:()=>oe,bf:()=>ke,e7:()=>Te,iB:()=>z,rx:()=>be,uP:()=>Ne});var i=O(7705),ie=O(5407),n=O(7935);const Ce=["ngOnDestroy"],oe=(He,Nt,Re,Ie={})=>new Proxy(He,{get:(dt,ot)=>Re.runOutsideAngular(()=>{if(He[ot])return Ie?.spy?.get&&Ie.spy.get(ot,He[ot]),He[ot];if(Ce.indexOf(ot)>-1)return()=>{};const _t=Nt.toPromise().then(Lt=>{const $t=Lt?.[ot];return"function"==typeof $t?$t.bind(Lt):$t?.then?$t.then(xe=>Re.run(()=>xe)):Re.run(()=>$t)});return new Proxy(()=>{},{get:(Lt,$t)=>_t[$t],apply:(Lt,$t,xe)=>_t.then(tn=>{const un=tn?.(...xe);return Ie?.spy?.apply&&Ie.spy.apply(ot,xe,un),un})})})}),Te=(He,Nt)=>{Nt.forEach(Re=>{Object.getOwnPropertyNames(Re.prototype||Re).forEach(Ie=>{Object.defineProperty(He.prototype,Ie,Object.getOwnPropertyDescriptor(Re.prototype||Re,Ie))})})};class Ae{constructor(Nt){return Nt}}const be=new i.nKC("angularfire2.app.options"),Ne=new i.nKC("angularfire2.app.name");function z(He,Nt,Re){const dt="object"==typeof Re&&Re||{};dt.name=dt.name||"string"==typeof Re&&Re||"[DEFAULT]";const _t=n.A.apps.filter(Lt=>Lt&&Lt.name===dt.name)[0]||Nt.runOutsideAngular(()=>n.A.initializeApp(He,dt));try{if(JSON.stringify(He)!==JSON.stringify(_t.options)){const Lt=!!module.hot;Q("error",`${_t.name} Firebase App already initialized with different options${Lt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ae(_t)}const Q=(He,...Nt)=>{(0,i.naY)()&&typeof console<"u"&&console[He](...Nt)},me={provide:Ae,useFactory:z,deps:[be,i.SKi,[new i.Xx1,Ne]]};let ke=(()=>{class He{static initializeApp(Re,Ie){return{ngModule:He,providers:[{provide:be,useValue:Re},{provide:Ne,useValue:Ie}]}}constructor(Re){n.A.registerVersion("angularfire",ie.xv.full,"core"),n.A.registerVersion("angularfire",ie.xv.full,"app-compat"),n.A.registerVersion("angular",i.xvI.full,Re.toString())}static \u0275fac=function(Ie){return new(Ie||He)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:He});static \u0275inj=i.G2t({providers:[me]})}return He})();function Be(He,Nt,Re,Ie,dt){const[,ot,_t]=globalThis.\u0275AngularfireInstanceCache.find(Lt=>Lt[0]===He)||[];if(ot)return function Je(He,Nt){try{return He.toString()===Nt.toString()}catch{return He===Nt}}(dt,_t)||(fe("error",`${Nt} was already initialized on the ${Re} Firebase App with different settings.${qe?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:dt,was:_t})),ot;{const Lt=Ie();return globalThis.\u0275AngularfireInstanceCache.push([He,Lt,dt]),Lt}}const qe=typeof module<"u"&&!!module.hot,fe=(He,...Nt)=>{(0,i.naY)()&&typeof console<"u"&&console[He](...Nt)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(sn,et,O)=>{O.d(et,{xv:()=>Be,U0:()=>un,Oe:()=>xe,u0:()=>ot,Jv:()=>He,CA:()=>fe,lR:()=>qe,S3:()=>Ut});var i=O(7705),ie=O(2214),n=O(6780),oe=O(9687);const Ae=new class Te extends oe.q{}(class Ce extends n.R{constructor(mt,Ve){super(mt,Ve),this.scheduler=mt,this.work=Ve}schedule(mt,Ve=0){return Ve>0?super.schedule(mt,Ve):(this.delay=Ve,this.state=mt,this.scheduler.flush(this),this)}execute(mt,Ve){return Ve>0||this.closed?super.execute(mt,Ve):this._execute(mt,Ve)}requestAsyncId(mt,Ve,lt=0){return null!=lt&&lt>0||null==lt&&this.delay>0?super.requestAsyncId(mt,Ve,lt):(mt.flush(this),0)}});var Ne=O(3236),z=O(1985),Q=O(8141),me=O(941),ke=O(6745);const Be=new i.RxE("ANGULARFIRE2_VERSION");function qe(Oe,mt,Ve){if(mt){if(1===mt.length)return mt[0];const Le=mt.filter(Z=>Z.app===Ve);if(1===Le.length)return Le[0]}return Ve.container.getProvider(Oe).getImmediate({optional:!0})}const fe=(Oe,mt)=>{const Ve=mt?[mt]:(0,ie.Dk)(),lt=[];return Ve.forEach(ft=>{ft.container.getProvider(Oe).instances.forEach(Z=>{lt.includes(Z)||lt.push(Z)})}),lt};class He{constructor(){return fe(Nt)}}const Nt="app-check";function Re(){}class Ie{zone;delegate;constructor(mt,Ve=Ae){this.zone=mt,this.delegate=Ve}now(){return this.delegate.now()}schedule(mt,Ve,lt){const ft=this.zone;return this.delegate.schedule(function(Z){ft.runGuarded(()=>{mt.apply(this,[Z])})},Ve,lt)}}class dt{zone;task=null;constructor(mt){this.zone=mt}call(mt,Ve){const lt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Re,{},Re,Re)),Ve.pipe((0,Q.M)({next:lt,complete:lt,error:lt})).subscribe(mt).add(lt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ot=(()=>{class Oe{ngZone;outsideAngular;insideAngular;constructor(Ve){this.ngZone=Ve,this.outsideAngular=Ve.runOutsideAngular(()=>new Ie(Zone.current)),this.insideAngular=Ve.run(()=>new Ie(Zone.current,Ne.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(lt){return new(lt||Oe)(i.KVO(i.SKi))};static \u0275prov=i.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})();function _t(){const Oe=globalThis.\u0275AngularFireScheduler;if(!Oe)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Oe}function $t(Oe){return _t().ngZone.run(()=>Oe())}function xe(Oe){return Oe.pipe((0,me.Q)(_t().outsideAngular))}function un(Oe){return function Wn(Oe){return function(Ve){return(Ve=Ve.lift(new dt(Oe.ngZone))).pipe((0,ke._)(Oe.outsideAngular),(0,me.Q)(Oe.insideAngular))}}(_t())(Oe)}const it=(Oe,mt)=>function(){const lt=arguments;return mt&&setTimeout(()=>{"scheduled"===mt.state&&mt.invoke()},10),$t(()=>Oe.apply(void 0,lt))},Ut=(Oe,mt)=>function(){let Ve;const lt=arguments;for(let Le=0;Le<arguments.length;Le++)"function"==typeof lt[Le]&&(mt&&(Ve||=$t(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Re,{},Re,Re))),lt[Le]=it(lt[Le],Ve));const ft=function Lt(Oe){return _t().ngZone.runOutsideAngular(()=>Oe())}(()=>Oe.apply(this,lt));if(!mt){if(ft instanceof z.c){const Le=_t();return ft.pipe((0,ke._)(Le.outsideAngular),(0,me.Q)(Le.insideAngular))}return $t(()=>ft)}return ft instanceof z.c?ft.pipe(un):ft instanceof Promise?$t(()=>new Promise((Le,Z)=>ft.then(Ee=>$t(()=>Le(Ee)),Ee=>$t(()=>Z(Ee))))):"function"==typeof ft&&Ve?function(){return setTimeout(()=>{Ve&&"scheduled"===Ve.state&&Ve.invoke()},10),ft.apply(this,arguments)}:$t(()=>ft)}},4341:(sn,et,O)=>{O.d(et,{Zm:()=>fe,me:()=>Ie,Yp:()=>Ro,v8:()=>hs,ok:()=>co,MJ:()=>Li,l_:()=>Es,JD:()=>ui,gE:()=>Qe,j4:()=>bn,$R:()=>Er,YN:()=>ia,BC:()=>jn,cb:()=>Cn,cV:()=>rs,vS:()=>is,xH:()=>bs,Q0:()=>Us,Fm:()=>fi,X1:()=>xo,YS:()=>kr,wz:()=>ps,k0:()=>xe,qT:()=>Ps,y7:()=>It});var i=O(7705),ie=O(177),n=O(8455),Ce=O(1985),oe=O(3073),Te=O(8750),Ae=O(3794),be=O(4360),Ne=O(6450),z=O(8496),me=O(6354);let ke=(()=>{class W{constructor(U,pe){this._renderer=U,this._elementRef=pe,this.onChange=Xe=>{},this.onTouched=()=>{}}setProperty(U,pe){this._renderer.setProperty(this._elementRef.nativeElement,U,pe)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:W})}}return W})(),Be=(()=>{class W extends ke{static{this.\u0275fac=function(){let U;return function(Xe){return(U||(U=i.xGo(W)))(Xe||W)}}()}static{this.\u0275dir=i.FsC({type:W,features:[i.Vt3]})}}return W})();const Je=new i.nKC("NgValueAccessor"),qe={provide:Je,useExisting:(0,i.Rfq)(()=>fe),multi:!0};let fe=(()=>{class W extends Be{writeValue(U){this.setProperty("checked",U)}static{this.\u0275fac=function(){let U;return function(Xe){return(U||(U=i.xGo(W)))(Xe||W)}}()}static{this.\u0275dir=i.FsC({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(pe,Xe){1&pe&&i.bIt("change",function(fr){return Xe.onChange(fr.target.checked)})("blur",function(){return Xe.onTouched()})},features:[i.Jv_([qe]),i.Vt3]})}}return W})();const He={provide:Je,useExisting:(0,i.Rfq)(()=>Ie),multi:!0},Re=new i.nKC("CompositionEventMode");let Ie=(()=>{class W extends ke{constructor(U,pe,Xe){super(U,pe),this._compositionMode=Xe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Nt(){const W=(0,ie.QT)()?(0,ie.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Re,8))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(pe,Xe){1&pe&&i.bIt("input",function(fr){return Xe._handleInput(fr.target.value)})("blur",function(){return Xe.onTouched()})("compositionstart",function(){return Xe._compositionStart()})("compositionend",function(fr){return Xe._compositionEnd(fr.target.value)})},features:[i.Jv_([He]),i.Vt3]})}}return W})();function dt(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function ot(W){return null!=W&&"number"==typeof W.length}const _t=new i.nKC("NgValidators"),Lt=new i.nKC("NgAsyncValidators"),$t=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xe{static min(ee){return function tn(W){return ee=>{if(dt(ee.value)||dt(W))return null;const U=parseFloat(ee.value);return!isNaN(U)&&U<W?{min:{min:W,actual:ee.value}}:null}}(ee)}static max(ee){return function un(W){return ee=>{if(dt(ee.value)||dt(W))return null;const U=parseFloat(ee.value);return!isNaN(U)&&U>W?{max:{max:W,actual:ee.value}}:null}}(ee)}static required(ee){return Wn(ee)}static requiredTrue(ee){return function it(W){return!0===W.value?null:{required:!0}}(ee)}static email(ee){return function Ut(W){return dt(W.value)||$t.test(W.value)?null:{email:!0}}(ee)}static minLength(ee){return function Oe(W){return ee=>dt(ee.value)||!ot(ee.value)?null:ee.value.length<W?{minlength:{requiredLength:W,actualLength:ee.value.length}}:null}(ee)}static maxLength(ee){return function mt(W){return ee=>ot(ee.value)&&ee.value.length>W?{maxlength:{requiredLength:W,actualLength:ee.value.length}}:null}(ee)}static pattern(ee){return function Ve(W){if(!W)return lt;let ee,U;return"string"==typeof W?(U="","^"!==W.charAt(0)&&(U+="^"),U+=W,"$"!==W.charAt(W.length-1)&&(U+="$"),ee=new RegExp(U)):(U=W.toString(),ee=W),pe=>{if(dt(pe.value))return null;const Xe=pe.value;return ee.test(Xe)?null:{pattern:{requiredPattern:U,actualValue:Xe}}}}(ee)}static nullValidator(ee){return null}static compose(ee){return at(ee)}static composeAsync(ee){return Sn(ee)}}function Wn(W){return dt(W.value)?{required:!0}:null}function lt(W){return null}function ft(W){return null!=W}function Le(W){return(0,i.jNT)(W)?(0,n.H)(W):W}function Z(W){let ee={};return W.forEach(U=>{ee=null!=U?{...ee,...U}:ee}),0===Object.keys(ee).length?null:ee}function Ee(W,ee){return ee.map(U=>U(W))}function gt(W){return W.map(ee=>function je(W){return!W.validate}(ee)?ee:U=>ee.validate(U))}function at(W){if(!W)return null;const ee=W.filter(ft);return 0==ee.length?null:function(U){return Z(Ee(U,ee))}}function Ht(W){return null!=W?at(gt(W)):null}function Sn(W){if(!W)return null;const ee=W.filter(ft);return 0==ee.length?null:function(U){return function Q(...W){const ee=(0,Ae.ms)(W),{args:U,keys:pe}=(0,oe.D)(W),Xe=new Ce.c(vn=>{const{length:fr}=U;if(!fr)return void vn.complete();const ms=new Array(fr);let Yt=fr,es=fr;for(let uo=0;uo<fr;uo++){let $s=!1;(0,Te.Tg)(U[uo]).subscribe((0,be._)(vn,Mi=>{$s||($s=!0,es--),ms[uo]=Mi},()=>Yt--,void 0,()=>{(!Yt||!$s)&&(es||vn.next(pe?(0,z.e)(pe,ms):ms),vn.complete())}))}});return ee?Xe.pipe((0,Ne.I)(ee)):Xe}(Ee(U,ee).map(Le)).pipe((0,me.T)(Z))}}function cr(W){return null!=W?Sn(gt(W)):null}function dn(W,ee){return null===W?[ee]:Array.isArray(W)?[...W,ee]:[W,ee]}function kn(W){return W._rawValidators}function nn(W){return W._rawAsyncValidators}function Jn(W){return W?Array.isArray(W)?W:[W]:[]}function Ln(W,ee){return Array.isArray(W)?W.includes(ee):W===ee}function Qt(W,ee){const U=Jn(ee);return Jn(W).forEach(Xe=>{Ln(U,Xe)||U.push(Xe)}),U}function qt(W,ee){return Jn(ee).filter(U=>!Ln(W,U))}class yr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=Ht(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=cr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,U){return!!this.control&&this.control.hasError(ee,U)}getError(ee,U){return this.control?this.control.getError(ee,U):null}}class Zt extends yr{get formDirective(){return null}get path(){return null}}class ar extends yr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Un{constructor(ee){this._cd=ee}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jn=(()=>{class W extends Un{constructor(U){super(U)}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(ar,2))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(pe,Xe){2&pe&&i.AVh("ng-untouched",Xe.isUntouched)("ng-touched",Xe.isTouched)("ng-pristine",Xe.isPristine)("ng-dirty",Xe.isDirty)("ng-valid",Xe.isValid)("ng-invalid",Xe.isInvalid)("ng-pending",Xe.isPending)},features:[i.Vt3]})}}return W})(),Cn=(()=>{class W extends Un{constructor(U){super(U)}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(Zt,10))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(pe,Xe){2&pe&&i.AVh("ng-untouched",Xe.isUntouched)("ng-touched",Xe.isTouched)("ng-pristine",Xe.isPristine)("ng-dirty",Xe.isDirty)("ng-valid",Xe.isValid)("ng-invalid",Xe.isInvalid)("ng-pending",Xe.isPending)("ng-submitted",Xe.isSubmitted)},features:[i.Vt3]})}}return W})();const zt="VALID",Rn="INVALID",Rr="PENDING",ir="DISABLED";function li(W){return(k(W)?W.validators:W)||null}function B(W,ee){return(k(ee)?ee.asyncValidators:W)||null}function k(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function se(W,ee,U){const pe=W.controls;if(!(ee?Object.keys(pe):pe).length)throw new i.wOt(1e3,"");if(!pe[U])throw new i.wOt(1001,"")}function ye(W,ee,U){W._forEachChild((pe,Xe)=>{if(void 0===U[Xe])throw new i.wOt(1002,"")})}class ce{constructor(ee,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get valid(){return this.status===zt}get invalid(){return this.status===Rn}get pending(){return this.status==Rr}get disabled(){return this.status===ir}get enabled(){return this.status!==ir}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(Qt(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(Qt(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(qt(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(qt(ee,this._rawAsyncValidators))}hasValidator(ee){return Ln(this._rawValidators,ee)}hasAsyncValidator(ee){return Ln(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){this.touched=!0,this._parent&&!ee.onlySelf&&this._parent.markAsTouched(ee)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ee=>ee.markAllAsTouched())}markAsUntouched(ee={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}markAsDirty(ee={}){this.pristine=!1,this._parent&&!ee.onlySelf&&this._parent.markAsDirty(ee)}markAsPristine(ee={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}markAsPending(ee={}){this.status=Rr,!1!==ee.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ee.onlySelf&&this._parent.markAsPending(ee)}disable(ee={}){const U=this._parentMarkedDirty(ee.onlySelf);this.status=ir,this.errors=null,this._forEachChild(pe=>{pe.disable({...ee,onlySelf:!0})}),this._updateValue(),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:U}),this._onDisabledChange.forEach(pe=>pe(!0))}enable(ee={}){const U=this._parentMarkedDirty(ee.onlySelf);this.status=zt,this._forEachChild(pe=>{pe.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:U}),this._onDisabledChange.forEach(pe=>pe(!1))}_updateAncestors(ee){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zt||this.status===Rr)&&this._runAsyncValidator(ee.emitEvent)),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(ee)}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ir:zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee){if(this.asyncValidator){this.status=Rr,this._hasOwnPendingAsyncValidator=!0;const U=Le(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(pe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(pe,{emitEvent:ee})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ee,U={}){this.errors=ee,this._updateControlsErrors(!1!==U.emitEvent)}get(ee){let U=ee;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((pe,Xe)=>pe&&pe._find(Xe),this)}getError(ee,U){const pe=U?this.get(U):this;return pe&&pe.errors?pe.errors[ee]:null}hasError(ee,U){return!!this.getError(ee,U)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ee)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?ir:this.errors?Rn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rr)?Rr:this._anyControlsHaveStatus(Rn)?Rn:zt}_anyControlsHaveStatus(ee){return this._anyControls(U=>U.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}_updateTouched(ee={}){this.touched=this._anyControlsTouched(),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){k(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function Pt(W){return Array.isArray(W)?Ht(W):W||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function P(W){return Array.isArray(W)?cr(W):W||null}(this._rawAsyncValidators)}}class Qe extends ce{constructor(ee,U,pe){super(li(U),B(pe,U)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ee,U){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(ee,U,pe={}){this.registerControl(ee,U),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}removeControl(ee,U={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(ee,U,pe={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],U&&this.registerControl(ee,U),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,U={}){ye(this,0,ee),Object.keys(ee).forEach(pe=>{se(this,!0,pe),this.controls[pe].setValue(ee[pe],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(ee,U={}){null!=ee&&(Object.keys(ee).forEach(pe=>{const Xe=this.controls[pe];Xe&&Xe.patchValue(ee[pe],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(ee={},U={}){this._forEachChild((pe,Xe)=>{pe.reset(ee?ee[Xe]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(ee,U,pe)=>(ee[pe]=U.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(U,pe)=>!!pe._syncPendingControls()||U);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(U=>{const pe=this.controls[U];pe&&ee(pe,U)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(const[U,pe]of Object.entries(this.controls))if(this.contains(U)&&ee(pe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,pe,Xe)=>((pe.enabled||this.disabled)&&(U[Xe]=pe.value),U))}_reduceChildren(ee,U){let pe=ee;return this._forEachChild((Xe,vn)=>{pe=U(pe,Xe,vn)}),pe}_allControlsDisabled(){for(const ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}}class St extends Qe{}const Se=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ge}),Ge="always";function Ye(W,ee){return[...ee.path,W]}function Gt(W,ee,U=Ge){lr(W,ee),ee.valueAccessor.writeValue(W.value),(W.disabled||"always"===U)&&ee.valueAccessor.setDisabledState?.(W.disabled),function Ii(W,ee){ee.valueAccessor.registerOnChange(U=>{W._pendingValue=U,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&ct(W,ee)})}(W,ee),function Vt(W,ee){const U=(pe,Xe)=>{ee.valueAccessor.writeValue(pe),Xe&&ee.viewToModelUpdate(pe)};W.registerOnChange(U),ee._registerOnDestroy(()=>{W._unregisterOnChange(U)})}(W,ee),function Dt(W,ee){ee.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&ct(W,ee),"submit"!==W.updateOn&&W.markAsTouched()})}(W,ee),function hn(W,ee){if(ee.valueAccessor.setDisabledState){const U=pe=>{ee.valueAccessor.setDisabledState(pe)};W.registerOnDisabledChange(U),ee._registerOnDestroy(()=>{W._unregisterOnDisabledChange(U)})}}(W,ee)}function rn(W,ee,U=!0){const pe=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(pe),ee.valueAccessor.registerOnTouched(pe)),gn(W,ee),W&&(ee._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function En(W,ee){W.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(ee)})}function lr(W,ee){const U=kn(W);null!==ee.validator?W.setValidators(dn(U,ee.validator)):"function"==typeof U&&W.setValidators([U]);const pe=nn(W);null!==ee.asyncValidator?W.setAsyncValidators(dn(pe,ee.asyncValidator)):"function"==typeof pe&&W.setAsyncValidators([pe]);const Xe=()=>W.updateValueAndValidity();En(ee._rawValidators,Xe),En(ee._rawAsyncValidators,Xe)}function gn(W,ee){let U=!1;if(null!==W){if(null!==ee.validator){const Xe=kn(W);if(Array.isArray(Xe)&&Xe.length>0){const vn=Xe.filter(fr=>fr!==ee.validator);vn.length!==Xe.length&&(U=!0,W.setValidators(vn))}}if(null!==ee.asyncValidator){const Xe=nn(W);if(Array.isArray(Xe)&&Xe.length>0){const vn=Xe.filter(fr=>fr!==ee.asyncValidator);vn.length!==Xe.length&&(U=!0,W.setAsyncValidators(vn))}}}const pe=()=>{};return En(ee._rawValidators,pe),En(ee._rawAsyncValidators,pe),U}function ct(W,ee){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function fn(W,ee){lr(W,ee)}function Fi(W,ee){if(!W.hasOwnProperty("model"))return!1;const U=W.model;return!!U.isFirstChange()||!Object.is(ee,U.currentValue)}function ki(W,ee){W._syncPendingControls(),ee.forEach(U=>{const pe=U.control;"submit"===pe.updateOn&&pe._pendingChange&&(U.viewToModelUpdate(pe._pendingValue),pe._pendingChange=!1)})}function qs(W,ee){if(!ee)return null;let U,pe,Xe;return Array.isArray(ee),ee.forEach(vn=>{vn.constructor===Ie?U=vn:function cs(W){return Object.getPrototypeOf(W.constructor)===Be}(vn)?pe=vn:Xe=vn}),Xe||pe||U||null}const jo={provide:Zt,useExisting:(0,i.Rfq)(()=>rs)},Jr=(()=>Promise.resolve())();let rs=(()=>{class W extends Zt{constructor(U,pe,Xe){super(),this.callSetDisabledState=Xe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new Qe({},Ht(U),cr(pe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){Jr.then(()=>{const pe=this._findContainer(U.path);U.control=pe.registerControl(U.name,U.control),Gt(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){Jr.then(()=>{const pe=this._findContainer(U.path);pe&&pe.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){Jr.then(()=>{const pe=this._findContainer(U.path),Xe=new Qe({});fn(Xe,U),pe.registerControl(U.name,Xe),Xe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){Jr.then(()=>{const pe=this._findContainer(U.path);pe&&pe.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,pe){Jr.then(()=>{this.form.get(U.path).setValue(pe)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,ki(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(_t,10),i.rXU(Lt,10),i.rXU(Se,8))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(pe,Xe){1&pe&&i.bIt("submit",function(fr){return Xe.onSubmit(fr)})("reset",function(){return Xe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([jo]),i.Vt3]})}}return W})();function us(W,ee){const U=W.indexOf(ee);U>-1&&W.splice(U,1)}function Yr(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Li=class extends ce{constructor(ee=null,U,pe){super(li(U),B(pe,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=Yr(ee)?ee.value:ee)}setValue(ee,U={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(pe=>pe(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(ee,U={}){this.setValue(ee,U)}reset(ee=this.defaultValue,U={}){this._applyFormState(ee),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){us(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){us(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){Yr(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}};let Ys=(()=>{class W extends Zt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ye(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let U;return function(Xe){return(U||(U=i.xGo(W)))(Xe||W)}}()}static{this.\u0275dir=i.FsC({type:W,features:[i.Vt3]})}}return W})();const Xs={provide:ar,useExisting:(0,i.Rfq)(()=>is)},ni=(()=>Promise.resolve())();let is=(()=>{class W extends ar{constructor(U,pe,Xe,vn,fr,ms){super(),this._changeDetectorRef=fr,this.callSetDisabledState=ms,this.control=new Li,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=U,this._setValidators(pe),this._setAsyncValidators(Xe),this.valueAccessor=qs(0,vn)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const pe=U.name.previousValue;this.formDirective.removeControl({name:pe,path:this._getPath(pe)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),Fi(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){ni.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const pe=U.isDisabled.currentValue,Xe=0!==pe&&(0,i.L39)(pe);ni.then(()=>{Xe&&!this.control.disabled?this.control.disable():!Xe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?Ye(U,this._parent):[U]}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(Zt,9),i.rXU(_t,10),i.rXU(Lt,10),i.rXU(Je,10),i.rXU(i.gRc,8),i.rXU(Se,8))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([Xs]),i.Vt3,i.OA$]})}}return W})(),Ps=(()=>{class W{static{this.\u0275fac=function(pe){return new(pe||W)}}static{this.\u0275dir=i.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return W})();const yo={provide:Je,useExisting:(0,i.Rfq)(()=>Us),multi:!0};let Us=(()=>{class W extends Be{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=pe=>{U(""==pe?null:parseFloat(pe))}}static{this.\u0275fac=function(){let U;return function(Xe){return(U||(U=i.xGo(W)))(Xe||W)}}()}static{this.\u0275dir=i.FsC({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(pe,Xe){1&pe&&i.bIt("input",function(fr){return Xe.onChange(fr.target.value)})("blur",function(){return Xe.onTouched()})},features:[i.Jv_([yo]),i.Vt3]})}}return W})();const Pr={provide:Je,useExisting:(0,i.Rfq)(()=>fi),multi:!0};let wi=(()=>{class W{static{this.\u0275fac=function(pe){return new(pe||W)}}static{this.\u0275mod=i.$C({type:W})}static{this.\u0275inj=i.G2t({})}}return W})(),Ms=(()=>{class W{constructor(){this._accessors=[]}add(U,pe){this._accessors.push([U,pe])}remove(U){for(let pe=this._accessors.length-1;pe>=0;--pe)if(this._accessors[pe][1]===U)return void this._accessors.splice(pe,1)}select(U){this._accessors.forEach(pe=>{this._isSameGroup(pe,U)&&pe[1]!==U&&pe[1].fireUncheck(U.value)})}_isSameGroup(U,pe){return!!U[0].control&&U[0]._parent===pe._control._parent&&U[1].name===pe.name}static{this.\u0275fac=function(pe){return new(pe||W)}}static{this.\u0275prov=i.jDH({token:W,factory:W.\u0275fac,providedIn:wi})}}return W})(),fi=(()=>{class W extends Be{constructor(U,pe,Xe,vn){super(U,pe),this._registry=Xe,this._injector=vn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(Se,{optional:!0})??Ge}ngOnInit(){this._control=this._injector.get(ar),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(U){this._state=U===this.value,this.setProperty("checked",this._state)}registerOnChange(U){this._fn=U,this.onChange=()=>{U(this.value),this._registry.select(this)}}setDisabledState(U){(this.setDisabledStateFired||U||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",U),this.setDisabledStateFired=!0}fireUncheck(U){this.writeValue(U)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Ms),i.rXU(i.zZn))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(pe,Xe){1&pe&&i.bIt("change",function(){return Xe.onChange()})("blur",function(){return Xe.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([Pr]),i.Vt3]})}}return W})();const Ji=new i.nKC("NgModelWithFormControlWarning"),Cs={provide:ar,useExisting:(0,i.Rfq)(()=>Es)};let Es=(()=>{class W extends ar{set isDisabled(U){}static{this._ngModelWarningSentOnce=!1}constructor(U,pe,Xe,vn,fr){super(),this._ngModelWarningConfig=vn,this.callSetDisabledState=fr,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(U),this._setAsyncValidators(pe),this.valueAccessor=qs(0,Xe)}ngOnChanges(U){if(this._isControlChanged(U)){const pe=U.form.previousValue;pe&&rn(pe,this,!1),Gt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Fi(U,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&rn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_isControlChanged(U){return U.hasOwnProperty("form")}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(_t,10),i.rXU(Lt,10),i.rXU(Je,10),i.rXU(Ji,8),i.rXU(Se,8))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([Cs]),i.Vt3,i.OA$]})}}return W})();const ci={provide:Zt,useExisting:(0,i.Rfq)(()=>bn)};let bn=(()=>{class W extends Zt{constructor(U,pe,Xe){super(),this.callSetDisabledState=Xe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(U),this._setAsyncValidators(pe)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const pe=this.form.get(U.path);return Gt(pe,U,this.callSetDisabledState),pe.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),pe}getControl(U){return this.form.get(U.path)}removeControl(U){rn(U.control||null,U,!1),function mo(W,ee){const U=W.indexOf(ee);U>-1&&W.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,pe){this.form.get(U.path).setValue(pe)}onSubmit(U){return this.submitted=!0,ki(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const pe=U.control,Xe=this.form.get(U.path);pe!==Xe&&(rn(pe||null,U),(W=>W instanceof Li)(Xe)&&(Gt(Xe,U,this.callSetDisabledState),U.control=Xe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const pe=this.form.get(U.path);fn(pe,U),pe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const pe=this.form.get(U.path);pe&&function Kn(W,ee){return gn(W,ee)}(pe,U)&&pe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lr(this.form,this),this._oldForm&&gn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(_t,10),i.rXU(Lt,10),i.rXU(Se,8))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(pe,Xe){1&pe&&i.bIt("submit",function(fr){return Xe.onSubmit(fr)})("reset",function(){return Xe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([ci]),i.Vt3,i.OA$]})}}return W})();const ur={provide:Zt,useExisting:(0,i.Rfq)(()=>Er)};let Er=(()=>{class W extends Ys{constructor(U,pe,Xe){super(),this.name=null,this._parent=U,this._setValidators(pe),this._setAsyncValidators(Xe)}_checkParentType(){Bi(this._parent)}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(Zt,13),i.rXU(_t,10),i.rXU(Lt,10))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.Jv_([ur]),i.Vt3]})}}return W})();const ss={provide:Zt,useExisting:(0,i.Rfq)(()=>hs)};let hs=(()=>{class W extends Zt{constructor(U,pe,Xe){super(),this.name=null,this._parent=U,this._setValidators(pe),this._setAsyncValidators(Xe)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ye(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Bi(this._parent)}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(Zt,13),i.rXU(_t,10),i.rXU(Lt,10))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.Jv_([ss]),i.Vt3]})}}return W})();function Bi(W){return!(W instanceof Er||W instanceof bn||W instanceof hs)}const Qs={provide:ar,useExisting:(0,i.Rfq)(()=>ui)};let ui=(()=>{class W extends ar{set isDisabled(U){}static{this._ngModelWarningSentOnce=!1}constructor(U,pe,Xe,vn,fr){super(),this._ngModelWarningConfig=fr,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(pe),this._setAsyncValidators(Xe),this.valueAccessor=qs(0,vn)}ngOnChanges(U){this._added||this._setUpControl(),Fi(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return Ye(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(Zt,13),i.rXU(_t,10),i.rXU(Lt,10),i.rXU(Je,10),i.rXU(Ji,8))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([Qs]),i.Vt3,i.OA$]})}}return W})();const fs={provide:Je,useExisting:(0,i.Rfq)(()=>ps),multi:!0};function Os(W,ee){return null==W?`${ee}`:(ee&&"object"==typeof ee&&(ee="Object"),`${W}: ${ee}`.slice(0,50))}let ps=(()=>{class W extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const Xe=Os(this._getOptionId(U),U);this.setProperty("value",Xe)}registerOnChange(U){this.onChange=pe=>{this.value=this._getOptionValue(pe),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const pe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(pe),U))return pe;return null}_getOptionValue(U){const pe=function or(W){return W.split(":")[0]}(U);return this._optionMap.has(pe)?this._optionMap.get(pe):U}static{this.\u0275fac=function(){let U;return function(Xe){return(U||(U=i.xGo(W)))(Xe||W)}}()}static{this.\u0275dir=i.FsC({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(pe,Xe){1&pe&&i.bIt("change",function(fr){return Xe.onChange(fr.target.value)})("blur",function(){return Xe.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([fs]),i.Vt3]})}}return W})(),bs=(()=>{class W{constructor(U,pe,Xe){this._element=U,this._renderer=pe,this._select=Xe,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(Os(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(ps,9))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})();const te={provide:Je,useExisting:(0,i.Rfq)(()=>ht),multi:!0};function J(W,ee){return null==W?`${ee}`:("string"==typeof ee&&(ee=`'${ee}'`),ee&&"object"==typeof ee&&(ee="Object"),`${W}: ${ee}`.slice(0,50))}let ht=(()=>{class W extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let pe;if(this.value=U,Array.isArray(U)){const Xe=U.map(vn=>this._getOptionId(vn));pe=(vn,fr)=>{vn._setSelected(Xe.indexOf(fr.toString())>-1)}}else pe=(Xe,vn)=>{Xe._setSelected(!1)};this._optionMap.forEach(pe)}registerOnChange(U){this.onChange=pe=>{const Xe=[],vn=pe.selectedOptions;if(void 0!==vn){const fr=vn;for(let ms=0;ms<fr.length;ms++){const es=this._getOptionValue(fr[ms].value);Xe.push(es)}}else{const fr=pe.options;for(let ms=0;ms<fr.length;ms++){const Yt=fr[ms];if(Yt.selected){const es=this._getOptionValue(Yt.value);Xe.push(es)}}}this.value=Xe,U(Xe)}}_registerOption(U){const pe=(this._idCounter++).toString();return this._optionMap.set(pe,U),pe}_getOptionId(U){for(const pe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(pe)._value,U))return pe;return null}_getOptionValue(U){const pe=function Me(W){return W.split(":")[0]}(U);return this._optionMap.has(pe)?this._optionMap.get(pe)._value:U}static{this.\u0275fac=function(){let U;return function(Xe){return(U||(U=i.xGo(W)))(Xe||W)}}()}static{this.\u0275dir=i.FsC({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(pe,Xe){1&pe&&i.bIt("change",function(fr){return Xe.onChange(fr.target)})("blur",function(){return Xe.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([te]),i.Vt3]})}}return W})(),It=(()=>{class W{constructor(U,pe,Xe){this._element=U,this._renderer=pe,this._select=Xe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(J(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(J(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(pe){return new(pe||W)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(ht,9))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})(),In=(()=>{class W{constructor(){this._validator=lt}ngOnChanges(U){if(this.inputName in U){const pe=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(pe),this._validator=this._enabled?this.createValidator(pe):lt,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static{this.\u0275fac=function(pe){return new(pe||W)}}static{this.\u0275dir=i.FsC({type:W,features:[i.OA$]})}}return W})();const dr={provide:_t,useExisting:(0,i.Rfq)(()=>kr),multi:!0};let kr=(()=>{class W extends In{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=U=>Wn}enabled(U){return U}static{this.\u0275fac=function(){let U;return function(Xe){return(U||(U=i.xGo(W)))(Xe||W)}}()}static{this.\u0275dir=i.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(pe,Xe){2&pe&&i.BMQ("required",Xe._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([dr]),i.Vt3]})}}return W})(),Sa=(()=>{class W{static{this.\u0275fac=function(pe){return new(pe||W)}}static{this.\u0275mod=i.$C({type:W})}static{this.\u0275inj=i.G2t({imports:[wi]})}}return W})();class Ro extends ce{constructor(ee,U,pe){super(li(U),B(pe,U)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ee){return this.controls[this._adjustIndex(ee)]}push(ee,U={}){this.controls.push(ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(ee,U,pe={}){this.controls.splice(ee,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:pe.emitEvent})}removeAt(ee,U={}){let pe=this._adjustIndex(ee);pe<0&&(pe=0),this.controls[pe]&&this.controls[pe]._registerOnCollectionChange(()=>{}),this.controls.splice(pe,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(ee,U,pe={}){let Xe=this._adjustIndex(ee);Xe<0&&(Xe=0),this.controls[Xe]&&this.controls[Xe]._registerOnCollectionChange(()=>{}),this.controls.splice(Xe,1),U&&(this.controls.splice(Xe,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ee,U={}){ye(this,0,ee),ee.forEach((pe,Xe)=>{se(this,!1,Xe),this.at(Xe).setValue(pe,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(ee,U={}){null!=ee&&(ee.forEach((pe,Xe)=>{this.at(Xe)&&this.at(Xe).patchValue(pe,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(ee=[],U={}){this._forEachChild((pe,Xe)=>{pe.reset(ee[Xe],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(ee=>ee.getRawValue())}clear(ee={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ee.emitEvent}))}_adjustIndex(ee){return ee<0?ee+this.length:ee}_syncPendingControls(){let ee=this.controls.reduce((U,pe)=>!!pe._syncPendingControls()||U,!1);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){this.controls.forEach((U,pe)=>{ee(U,pe)})}_updateValue(){this.value=this.controls.filter(ee=>ee.enabled||this.disabled).map(ee=>ee.value)}_anyControls(ee){return this.controls.some(U=>U.enabled&&ee(U))}_setUpControls(){this._forEachChild(ee=>this._registerControl(ee))}_allControlsDisabled(){for(const ee of this.controls)if(ee.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ee){ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)}_find(ee){return this.at(ee)??null}}function Ns(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let co=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new W;return U.useNonNullable=!0,U}group(U,pe=null){const Xe=this._reduceControls(U);let vn={};return Ns(pe)?vn=pe:null!==pe&&(vn.validators=pe.validator,vn.asyncValidators=pe.asyncValidator),new Qe(Xe,vn)}record(U,pe=null){const Xe=this._reduceControls(U);return new St(Xe,pe)}control(U,pe,Xe){let vn={};return this.useNonNullable?(Ns(pe)?vn=pe:(vn.validators=pe,vn.asyncValidators=Xe),new Li(U,{...vn,nonNullable:!0})):new Li(U,pe,Xe)}array(U,pe,Xe){const vn=U.map(fr=>this._createControl(fr));return new Ro(vn,pe,Xe)}_reduceControls(U){const pe={};return Object.keys(U).forEach(Xe=>{pe[Xe]=this._createControl(U[Xe])}),pe}_createControl(U){return U instanceof Li||U instanceof ce?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static{this.\u0275fac=function(pe){return new(pe||W)}}static{this.\u0275prov=i.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})(),ia=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:Se,useValue:U.callSetDisabledState??Ge}]}}static{this.\u0275fac=function(pe){return new(pe||W)}}static{this.\u0275mod=i.$C({type:W})}static{this.\u0275inj=i.G2t({imports:[Sa]})}}return W})(),xo=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:Ji,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:Se,useValue:U.callSetDisabledState??Ge}]}}static{this.\u0275fac=function(pe){return new(pe||W)}}static{this.\u0275mod=i.$C({type:W})}static{this.\u0275inj=i.G2t({imports:[Sa]})}}return W})()},345:(sn,et,O)=>{O.d(et,{B7:()=>$t,Bb:()=>Ln,W8:()=>qt,hE:()=>ar,sG:()=>dn,up:()=>Ci});var i=O(7705),ie=O(177);class n extends ie.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends n{static makeCurrent(){(0,ie.ZD)(new Ce)}onAndCancel(B,P,k){return B.addEventListener(P,k),()=>{B.removeEventListener(P,k)}}dispatchEvent(B,P){B.dispatchEvent(P)}remove(B){B.parentNode&&B.parentNode.removeChild(B)}createElement(B,P){return(P=P||this.getDefaultDocument()).createElement(B)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(B){return B.nodeType===Node.ELEMENT_NODE}isShadowRoot(B){return B instanceof DocumentFragment}getGlobalEventTarget(B,P){return"window"===P?window:"document"===P?B:"body"===P?B.body:null}getBaseHref(B){const P=function Te(){return oe=oe||document.querySelector("base"),oe?oe.getAttribute("href"):null}();return null==P?null:function be(Pt){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",Pt);const B=Ae.pathname;return"/"===B.charAt(0)?B:`/${B}`}(P)}resetBaseElement(){oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(B){return(0,ie._b)(document.cookie,B)}}let Ae,oe=null,z=(()=>{class Pt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(k){return new(k||Pt)}}static{this.\u0275prov=i.jDH({token:Pt,factory:Pt.\u0275fac})}}return Pt})();const Q=new i.nKC("EventManagerPlugins");let me=(()=>{class Pt{constructor(P,k){this._zone=k,this._eventNameToPlugin=new Map,P.forEach(se=>{se.manager=this}),this._plugins=P.slice().reverse()}addEventListener(P,k,se){return this._findPluginFor(k).addEventListener(P,k,se)}getZone(){return this._zone}_findPluginFor(P){let k=this._eventNameToPlugin.get(P);if(k)return k;if(k=this._plugins.find(ye=>ye.supports(P)),!k)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(P,k),k}static{this.\u0275fac=function(k){return new(k||Pt)(i.KVO(Q),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:Pt,factory:Pt.\u0275fac})}}return Pt})();class ke{constructor(B){this._doc=B}}const Be="ng-app-id";let Je=(()=>{class Pt{constructor(P,k,se,ye={}){this.doc=P,this.appId=k,this.nonce=se,this.platformId=ye,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ie.Vy)(ye),this.resetHostNodes()}addStyles(P){for(const k of P)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(P){for(const k of P)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const P=this.styleNodesInDOM;P&&(P.forEach(k=>k.remove()),P.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(P){this.hostNodes.add(P);for(const k of this.getAllStyles())this.addStyleToHost(P,k)}removeHost(P){this.hostNodes.delete(P)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(P){for(const k of this.hostNodes)this.addStyleToHost(k,P)}onStyleRemoved(P){const k=this.styleRef;k.get(P)?.elements?.forEach(se=>se.remove()),k.delete(P)}collectServerRenderedStyles(){const P=this.doc.head?.querySelectorAll(`style[${Be}="${this.appId}"]`);if(P?.length){const k=new Map;return P.forEach(se=>{null!=se.textContent&&k.set(se.textContent,se)}),k}return null}changeUsageCount(P,k){const se=this.styleRef;if(se.has(P)){const ye=se.get(P);return ye.usage+=k,ye.usage}return se.set(P,{usage:k,elements:[]}),k}getStyleElement(P,k){const se=this.styleNodesInDOM,ye=se?.get(k);if(ye?.parentNode===P)return se.delete(k),ye.removeAttribute(Be),ye;{const ce=this.doc.createElement("style");return this.nonce&&ce.setAttribute("nonce",this.nonce),ce.textContent=k,this.platformIsServer&&ce.setAttribute(Be,this.appId),ce}}addStyleToHost(P,k){const se=this.getStyleElement(P,k);P.appendChild(se);const ye=this.styleRef,ce=ye.get(k)?.elements;ce?ce.push(se):ye.set(k,{elements:[se],usage:1})}resetHostNodes(){const P=this.hostNodes;P.clear(),P.add(this.doc.head)}static{this.\u0275fac=function(k){return new(k||Pt)(i.KVO(ie.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:Pt,factory:Pt.\u0275fac})}}return Pt})();const qe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fe=/%COMP%/g,dt=new i.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Lt(Pt,B){return B.map(P=>P.replace(fe,Pt))}let $t=(()=>{class Pt{constructor(P,k,se,ye,ce,Qe,_e,De=null){this.eventManager=P,this.sharedStylesHost=k,this.appId=se,this.removeStylesOnCompDestroy=ye,this.doc=ce,this.platformId=Qe,this.ngZone=_e,this.nonce=De,this.rendererByCompId=new Map,this.platformIsServer=(0,ie.Vy)(Qe),this.defaultRenderer=new xe(P,ce,_e,this.platformIsServer)}createRenderer(P,k){if(!P||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===i.gXe.ShadowDom&&(k={...k,encapsulation:i.gXe.Emulated});const se=this.getOrCreateRenderer(P,k);return se instanceof Oe?se.applyToHost(P):se instanceof Ut&&se.applyStyles(),se}getOrCreateRenderer(P,k){const se=this.rendererByCompId;let ye=se.get(k.id);if(!ye){const ce=this.doc,Qe=this.ngZone,_e=this.eventManager,De=this.sharedStylesHost,St=this.removeStylesOnCompDestroy,Dn=this.platformIsServer;switch(k.encapsulation){case i.gXe.Emulated:ye=new Oe(_e,De,k,this.appId,St,ce,Qe,Dn);break;case i.gXe.ShadowDom:return new it(_e,De,P,k,ce,Qe,this.nonce,Dn);default:ye=new Ut(_e,De,k,St,ce,Qe,Dn)}se.set(k.id,ye)}return ye}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(k){return new(k||Pt)(i.KVO(me),i.KVO(Je),i.KVO(i.sZ2),i.KVO(dt),i.KVO(ie.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))}}static{this.\u0275prov=i.jDH({token:Pt,factory:Pt.\u0275fac})}}return Pt})();class xe{constructor(B,P,k,se){this.eventManager=B,this.doc=P,this.ngZone=k,this.platformIsServer=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(B,P){return P?this.doc.createElementNS(qe[P]||P,B):this.doc.createElement(B)}createComment(B){return this.doc.createComment(B)}createText(B){return this.doc.createTextNode(B)}appendChild(B,P){(Wn(B)?B.content:B).appendChild(P)}insertBefore(B,P,k){B&&(Wn(B)?B.content:B).insertBefore(P,k)}removeChild(B,P){B&&B.removeChild(P)}selectRootElement(B,P){let k="string"==typeof B?this.doc.querySelector(B):B;if(!k)throw new i.wOt(-5104,!1);return P||(k.textContent=""),k}parentNode(B){return B.parentNode}nextSibling(B){return B.nextSibling}setAttribute(B,P,k,se){if(se){P=se+":"+P;const ye=qe[se];ye?B.setAttributeNS(ye,P,k):B.setAttribute(P,k)}else B.setAttribute(P,k)}removeAttribute(B,P,k){if(k){const se=qe[k];se?B.removeAttributeNS(se,P):B.removeAttribute(`${k}:${P}`)}else B.removeAttribute(P)}addClass(B,P){B.classList.add(P)}removeClass(B,P){B.classList.remove(P)}setStyle(B,P,k,se){se&(i.czy.DashCase|i.czy.Important)?B.style.setProperty(P,k,se&i.czy.Important?"important":""):B.style[P]=k}removeStyle(B,P,k){k&i.czy.DashCase?B.style.removeProperty(P):B.style[P]=""}setProperty(B,P,k){B[P]=k}setValue(B,P){B.nodeValue=P}listen(B,P,k){if("string"==typeof B&&!(B=(0,ie.QT)().getGlobalEventTarget(this.doc,B)))throw new Error(`Unsupported event target ${B} for event ${P}`);return this.eventManager.addEventListener(B,P,this.decoratePreventDefault(k))}decoratePreventDefault(B){return P=>{if("__ngUnwrap__"===P)return B;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>B(P)):B(P))&&P.preventDefault()}}}function Wn(Pt){return"TEMPLATE"===Pt.tagName&&void 0!==Pt.content}class it extends xe{constructor(B,P,k,se,ye,ce,Qe,_e){super(B,ye,ce,_e),this.sharedStylesHost=P,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const De=Lt(se.id,se.styles);for(const St of De){const Dn=document.createElement("style");Qe&&Dn.setAttribute("nonce",Qe),Dn.textContent=St,this.shadowRoot.appendChild(Dn)}}nodeOrShadowRoot(B){return B===this.hostEl?this.shadowRoot:B}appendChild(B,P){return super.appendChild(this.nodeOrShadowRoot(B),P)}insertBefore(B,P,k){return super.insertBefore(this.nodeOrShadowRoot(B),P,k)}removeChild(B,P){return super.removeChild(this.nodeOrShadowRoot(B),P)}parentNode(B){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(B)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ut extends xe{constructor(B,P,k,se,ye,ce,Qe,_e){super(B,ye,ce,Qe),this.sharedStylesHost=P,this.removeStylesOnCompDestroy=se,this.styles=_e?Lt(_e,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Oe extends Ut{constructor(B,P,k,se,ye,ce,Qe,_e){const De=se+"-"+k.id;super(B,P,k,ye,ce,Qe,_e,De),this.contentAttr=function ot(Pt){return"_ngcontent-%COMP%".replace(fe,Pt)}(De),this.hostAttr=function _t(Pt){return"_nghost-%COMP%".replace(fe,Pt)}(De)}applyToHost(B){this.applyStyles(),this.setAttribute(B,this.hostAttr,"")}createElement(B,P){const k=super.createElement(B,P);return super.setAttribute(k,this.contentAttr,""),k}}let mt=(()=>{class Pt extends ke{constructor(P){super(P)}supports(P){return!0}addEventListener(P,k,se){return P.addEventListener(k,se,!1),()=>this.removeEventListener(P,k,se)}removeEventListener(P,k,se){return P.removeEventListener(k,se)}static{this.\u0275fac=function(k){return new(k||Pt)(i.KVO(ie.qQ))}}static{this.\u0275prov=i.jDH({token:Pt,factory:Pt.\u0275fac})}}return Pt})();const Ve=["alt","control","meta","shift"],lt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={alt:Pt=>Pt.altKey,control:Pt=>Pt.ctrlKey,meta:Pt=>Pt.metaKey,shift:Pt=>Pt.shiftKey};let Le=(()=>{class Pt extends ke{constructor(P){super(P)}supports(P){return null!=Pt.parseEventName(P)}addEventListener(P,k,se){const ye=Pt.parseEventName(k),ce=Pt.eventCallback(ye.fullKey,se,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ie.QT)().onAndCancel(P,ye.domEventName,ce))}static parseEventName(P){const k=P.toLowerCase().split("."),se=k.shift();if(0===k.length||"keydown"!==se&&"keyup"!==se)return null;const ye=Pt._normalizeKey(k.pop());let ce="",Qe=k.indexOf("code");if(Qe>-1&&(k.splice(Qe,1),ce="code."),Ve.forEach(De=>{const St=k.indexOf(De);St>-1&&(k.splice(St,1),ce+=De+".")}),ce+=ye,0!=k.length||0===ye.length)return null;const _e={};return _e.domEventName=se,_e.fullKey=ce,_e}static matchEventFullKeyCode(P,k){let se=lt[P.key]||P.key,ye="";return k.indexOf("code.")>-1&&(se=P.code,ye="code."),!(null==se||!se)&&(se=se.toLowerCase()," "===se?se="space":"."===se&&(se="dot"),Ve.forEach(ce=>{ce!==se&&(0,ft[ce])(P)&&(ye+=ce+".")}),ye+=se,ye===k)}static eventCallback(P,k,se){return ye=>{Pt.matchEventFullKeyCode(ye,P)&&se.runGuarded(()=>k(ye))}}static _normalizeKey(P){return"esc"===P?"escape":P}static{this.\u0275fac=function(k){return new(k||Pt)(i.KVO(ie.qQ))}}static{this.\u0275prov=i.jDH({token:Pt,factory:Pt.\u0275fac})}}return Pt})();const dn=(0,i.oH4)(i.fpN,"browser",[{provide:i.Agw,useValue:ie.AJ},{provide:i.PLl,useValue:function at(){Ce.makeCurrent()},multi:!0},{provide:ie.qQ,useFactory:function Sn(){return(0,i.TL$)(document),document},deps:[]}]),kn=new i.nKC(""),nn=[{provide:i.e01,useClass:class Ne{addToWindow(B){i.JZv.getAngularTestability=(k,se=!0)=>{const ye=B.findTestabilityInTree(k,se);if(null==ye)throw new i.wOt(5103,!1);return ye},i.JZv.getAllAngularTestabilities=()=>B.getAllTestabilities(),i.JZv.getAllAngularRootElements=()=>B.getAllRootElements(),i.JZv.frameworkStabilizers||(i.JZv.frameworkStabilizers=[]),i.JZv.frameworkStabilizers.push(k=>{const se=i.JZv.getAllAngularTestabilities();let ye=se.length,ce=!1;const Qe=function(_e){ce=ce||_e,ye--,0==ye&&k(ce)};se.forEach(_e=>{_e.whenStable(Qe)})})}findTestabilityInTree(B,P,k){return null==P?null:B.getTestability(P)??(k?(0,ie.QT)().isShadowRoot(P)?this.findTestabilityInTree(B,P.host,!0):this.findTestabilityInTree(B,P.parentElement,!0):null)}},deps:[]},{provide:i.WHO,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]},{provide:i.NYb,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]}],Jn=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function Ht(){return new i.zcH},deps:[]},{provide:Q,useClass:mt,multi:!0,deps:[ie.qQ,i.SKi,i.Agw]},{provide:Q,useClass:Le,multi:!0,deps:[ie.qQ]},$t,Je,me,{provide:i._9s,useExisting:$t},{provide:ie.N0,useClass:z,deps:[]},[]];let Ln=(()=>{class Pt{constructor(P){}static withServerTransition(P){return{ngModule:Pt,providers:[{provide:i.sZ2,useValue:P.appId}]}}static{this.\u0275fac=function(k){return new(k||Pt)(i.KVO(kn,12))}}static{this.\u0275mod=i.$C({type:Pt})}static{this.\u0275inj=i.G2t({providers:[...Jn,...nn],imports:[ie.MD,i.Hbi]})}}return Pt})(),qt=(()=>{class Pt{constructor(P){this._doc=P,this._dom=(0,ie.QT)()}addTag(P,k=!1){return P?this._getOrCreateElement(P,k):null}addTags(P,k=!1){return P?P.reduce((se,ye)=>(ye&&se.push(this._getOrCreateElement(ye,k)),se),[]):[]}getTag(P){return P&&this._doc.querySelector(`meta[${P}]`)||null}getTags(P){if(!P)return[];const k=this._doc.querySelectorAll(`meta[${P}]`);return k?[].slice.call(k):[]}updateTag(P,k){if(!P)return null;k=k||this._parseSelector(P);const se=this.getTag(k);return se?this._setMetaElementAttributes(P,se):this._getOrCreateElement(P,!0)}removeTag(P){this.removeTagElement(this.getTag(P))}removeTagElement(P){P&&this._dom.remove(P)}_getOrCreateElement(P,k=!1){if(!k){const ce=this._parseSelector(P),Qe=this.getTags(ce).filter(_e=>this._containsAttributes(P,_e))[0];if(void 0!==Qe)return Qe}const se=this._dom.createElement("meta");return this._setMetaElementAttributes(P,se),this._doc.getElementsByTagName("head")[0].appendChild(se),se}_setMetaElementAttributes(P,k){return Object.keys(P).forEach(se=>k.setAttribute(this._getMetaKeyMap(se),P[se])),k}_parseSelector(P){const k=P.name?"name":"property";return`${k}="${P[k]}"`}_containsAttributes(P,k){return Object.keys(P).every(se=>k.getAttribute(this._getMetaKeyMap(se))===P[se])}_getMetaKeyMap(P){return yr[P]||P}static{this.\u0275fac=function(k){return new(k||Pt)(i.KVO(ie.qQ))}}static{this.\u0275prov=i.jDH({token:Pt,factory:function(k){let se=null;return se=k?new k:function Qt(){return new qt((0,i.KVO)(ie.qQ))}(),se},providedIn:"root"})}}return Pt})();const yr={httpEquiv:"http-equiv"};let ar=(()=>{class Pt{constructor(P){this._doc=P}getTitle(){return this._doc.title}setTitle(P){this._doc.title=P||""}static{this.\u0275fac=function(k){return new(k||Pt)(i.KVO(ie.qQ))}}static{this.\u0275prov=i.jDH({token:Pt,factory:function(k){let se=null;return se=k?new k:function Zt(){return new ar((0,i.KVO)(ie.qQ))}(),se},providedIn:"root"})}}return Pt})();typeof window<"u"&&window;let Ci=(()=>{class Pt{static{this.\u0275fac=function(k){return new(k||Pt)}}static{this.\u0275prov=i.jDH({token:Pt,factory:function(k){let se=null;return se=k?new(k||Pt):i.KVO(Et),se},providedIn:"root"})}}return Pt})(),Et=(()=>{class Pt extends Ci{constructor(P){super(),this._doc=P}sanitize(P,k){if(null==k)return null;switch(P){case i.WPN.NONE:return k;case i.WPN.HTML:return(0,i.ZF7)(k,"HTML")?(0,i.rcV)(k):(0,i.h9k)(this._doc,String(k)).toString();case i.WPN.STYLE:return(0,i.ZF7)(k,"Style")?(0,i.rcV)(k):k;case i.WPN.SCRIPT:if((0,i.ZF7)(k,"Script"))return(0,i.rcV)(k);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(k,"URL")?(0,i.rcV)(k):(0,i.$MX)(String(k));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(k,"ResourceURL"))return(0,i.rcV)(k);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(P){return(0,i.Kcf)(P)}bypassSecurityTrustStyle(P){return(0,i.cWb)(P)}bypassSecurityTrustScript(P){return(0,i.UyX)(P)}bypassSecurityTrustUrl(P){return(0,i.osQ)(P)}bypassSecurityTrustResourceUrl(P){return(0,i.e5t)(P)}static{this.\u0275fac=function(k){return new(k||Pt)(i.KVO(ie.qQ))}}static{this.\u0275prov=i.jDH({token:Pt,factory:function(k){let se=null;return se=k?new k:function pt(Pt){return new Et(Pt.get(ie.qQ))}(i.KVO(i.zZn)),se},providedIn:"root"})}}return Pt})()},6814:(sn,et,O)=>{O.d(et,{nX:()=>Er,wF:()=>Li,Ix:()=>Hi,Wk:()=>oa,wQ:()=>ws,iI:()=>wl,n3:()=>ps});var i=O(7705),ie=O(1985),n=O(8071),oe=O(8455),Te=O(7673),Ae=O(4412),be=O(3073),Ne=O(3669),z=O(6450),Q=O(3794),me=O(8496),ke=O(4360),Be=O(5225);function Je(...S){const N=(0,Q.lI)(S),w=(0,Q.ms)(S),{args:F,keys:G}=(0,be.D)(S);if(0===F.length)return(0,oe.H)([],N);const he=new ie.c(function qe(S,N,w=Ne.D){return F=>{fe(N,()=>{const{length:G}=S,he=new Array(G);let Ue=G,Rt=G;for(let At=0;At<G;At++)fe(N,()=>{const An=(0,oe.H)(S[At],N);let Tr=!1;An.subscribe((0,ke._)(F,Dr=>{he[At]=Dr,Tr||(Tr=!0,Rt--),Rt||F.next(w(he.slice()))},()=>{--Ue||F.complete()}))},F)},F)}}(F,N,G?Ue=>(0,me.e)(G,Ue):Ne.D));return w?he.pipe((0,z.I)(w)):he}function fe(S,N,w){S?(0,Be.N)(w,S,N):N()}var He=O(9350),Nt=O(8793),Re=O(8750);function Ie(S){return new ie.c(N=>{(0,Re.Tg)(S()).subscribe(N)})}var dt=O(1203),ot=O(8810),_t=O(983),Lt=O(8359),$t=O(9974);function xe(){return(0,$t.N)((S,N)=>{let w=null;S._refCount++;const F=(0,ke._)(N,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const G=S._connection,he=w;w=null,G&&(!he||G===he)&&G.unsubscribe(),N.unsubscribe()});S.subscribe(F),F.closed||(w=S.connect())})}class tn extends ie.c{constructor(N,w){super(),this.source=N,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,$t.S)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new Lt.yU;const w=this.getSubject();N.add(this.source.subscribe((0,ke._)(w,void 0,()=>{this._teardown(),w.complete()},F=>{this._teardown(),w.error(F)},()=>this._teardown()))),N.closed&&(this._connection=null,N=Lt.yU.EMPTY)}return N}refCount(){return xe()(this)}}var un=O(1413),Wn=O(177),it=O(6354),Ut=O(5558),Oe=O(6697),mt=O(9172),Ve=O(5964),lt=O(1397),ft=O(1594),Le=O(274),Z=O(8141),Ee=O(9437),je=O(2816),gt=O(9901);function at(S){return S<=0?()=>_t.w:(0,$t.N)((N,w)=>{let F=[];N.subscribe((0,ke._)(w,G=>{F.push(G),S<F.length&&F.shift()},()=>{for(const G of F)w.next(G);w.complete()},void 0,()=>{F=null}))})}var Ht=O(3774),dn=O(980),kn=O(5343),Jn=O(6365),Ln=O(345);const Qt="primary",qt=Symbol("RouteTitle");class yr{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w[0]:w}return null}getAll(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Zt(S){return new yr(S)}function ar(S,N,w){const F=w.path.split("/");if(F.length>S.length||"full"===w.pathMatch&&(N.hasChildren()||F.length<S.length))return null;const G={};for(let he=0;he<F.length;he++){const Ue=F[he],Rt=S[he];if(Ue.startsWith(":"))G[Ue.substring(1)]=Rt;else if(Ue!==Rt.path)return null}return{consumed:S.slice(0,F.length),posParams:G}}function Bt(S,N){const w=S?Object.keys(S):void 0,F=N?Object.keys(N):void 0;if(!w||!F||w.length!=F.length)return!1;let G;for(let he=0;he<w.length;he++)if(G=w[he],!Tn(S[G],N[G]))return!1;return!0}function Tn(S,N){if(Array.isArray(S)&&Array.isArray(N)){if(S.length!==N.length)return!1;const w=[...S].sort(),F=[...N].sort();return w.every((G,he)=>F[he]===G)}return S===N}function jn(S){return S.length>0?S[S.length-1]:null}function Cn(S){return function Ce(S){return!!S&&(S instanceof ie.c||(0,n.T)(S.lift)&&(0,n.T)(S.subscribe))}(S)?S:(0,i.jNT)(S)?(0,oe.H)(Promise.resolve(S)):(0,Te.of)(S)}const Fr={exact:function Kr(S,N,w){if(!Et(S.segments,N.segments)||!nr(S.segments,N.segments,w)||S.numberOfChildren!==N.numberOfChildren)return!1;for(const F in N.children)if(!S.children[F]||!Kr(S.children[F],N.children[F],w))return!1;return!0},subset:pn},Sr={exact:function zn(S,N){return Bt(S,N)},subset:function Qi(S,N){return Object.keys(N).length<=Object.keys(S).length&&Object.keys(N).every(w=>Tn(S[w],N[w]))},ignored:()=>!0};function Vr(S,N,w){return Fr[w.paths](S.root,N.root,w.matrixParams)&&Sr[w.queryParams](S.queryParams,N.queryParams)&&!("exact"===w.fragment&&S.fragment!==N.fragment)}function pn(S,N,w){return qr(S,N,N.segments,w)}function qr(S,N,w,F){if(S.segments.length>w.length){const G=S.segments.slice(0,w.length);return!(!Et(G,w)||N.hasChildren()||!nr(G,w,F))}if(S.segments.length===w.length){if(!Et(S.segments,w)||!nr(S.segments,w,F))return!1;for(const G in N.children)if(!S.children[G]||!pn(S.children[G],N.children[G],F))return!1;return!0}{const G=w.slice(0,S.segments.length),he=w.slice(S.segments.length);return!!(Et(S.segments,G)&&nr(S.segments,G,F)&&S.children[Qt])&&qr(S.children[Qt],N,he,F)}}function nr(S,N,w){return N.every((F,G)=>Sr[w](S[G].parameters,F.parameters))}class vr{constructor(N=new Qn([],{}),w={},F=null){this.root=N,this.queryParams=w,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zt(this.queryParams)),this._queryParamMap}toString(){return zt.serialize(this)}}class Qn{constructor(N,w){this.segments=N,this.children=w,this.parent=null,Object.values(w).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rn(this)}}class Ci{constructor(N,w){this.path=N,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Zt(this.parameters)),this._parameterMap}toString(){return se(this)}}function Et(S,N){return S.length===N.length&&S.every((w,F)=>w.path===N[F].path)}let ze=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:function(){return new Ft},providedIn:"root"})}}return S})();class Ft{parse(N){const w=new Gt(N);return new vr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(N){const w=`/${Rr(N.root,!0)}`,F=function ce(S){const N=Object.keys(S).map(w=>{const F=S[w];return Array.isArray(F)?F.map(G=>`${li(w)}=${li(G)}`).join("&"):`${li(w)}=${li(F)}`}).filter(w=>!!w);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${w}${F}${"string"==typeof N.fragment?`#${function Pt(S){return encodeURI(S)}(N.fragment)}`:""}`}}const zt=new Ft;function Rn(S){return S.segments.map(N=>se(N)).join("/")}function Rr(S,N){if(!S.hasChildren())return Rn(S);if(N){const w=S.children[Qt]?Rr(S.children[Qt],!1):"",F=[];return Object.entries(S.children).forEach(([G,he])=>{G!==Qt&&F.push(`${G}:${Rr(he,!1)}`)}),F.length>0?`${w}(${F.join("//")})`:w}{const w=function de(S,N){let w=[];return Object.entries(S.children).forEach(([F,G])=>{F===Qt&&(w=w.concat(N(G,F)))}),Object.entries(S.children).forEach(([F,G])=>{F!==Qt&&(w=w.concat(N(G,F)))}),w}(S,(F,G)=>G===Qt?[Rr(S.children[Qt],!1)]:[`${G}:${Rr(F,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Qt]?`${Rn(S)}/${w[0]}`:`${Rn(S)}/(${w.join("//")})`}}function ir(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function li(S){return ir(S).replace(/%3B/gi,";")}function B(S){return ir(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function P(S){return decodeURIComponent(S)}function k(S){return P(S.replace(/\+/g,"%20"))}function se(S){return`${B(S.path)}${function ye(S){return Object.keys(S).map(N=>`;${B(N)}=${B(S[N])}`).join("")}(S.parameters)}`}const Qe=/^[^\/()?;#]+/;function _e(S){const N=S.match(Qe);return N?N[0]:""}const De=/^[^\/()?;=#]+/,Dn=/^[^=?&#]+/,Ge=/^[^&#]+/;class Gt{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qn([],{}):new Qn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(N.length>0||Object.keys(w).length>0)&&(F[Qt]=new Qn(N,w)),F}parseSegment(){const N=_e(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new i.wOt(4009,!1);return this.capture(N),new Ci(P(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const w=function St(S){const N=S.match(De);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let F="";if(this.consumeOptional("=")){const G=_e(this.remaining);G&&(F=G,this.capture(F))}N[P(w)]=P(F)}parseQueryParam(N){const w=function Se(S){const N=S.match(Dn);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let F="";if(this.consumeOptional("=")){const Ue=function Ye(S){const N=S.match(Ge);return N?N[0]:""}(this.remaining);Ue&&(F=Ue,this.capture(F))}const G=k(w),he=k(F);if(N.hasOwnProperty(G)){let Ue=N[G];Array.isArray(Ue)||(Ue=[Ue],N[G]=Ue),Ue.push(he)}else N[G]=he}parseParens(N){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=_e(this.remaining),G=this.remaining[F.length];if("/"!==G&&")"!==G&&";"!==G)throw new i.wOt(4010,!1);let he;F.indexOf(":")>-1?(he=F.slice(0,F.indexOf(":")),this.capture(he),this.capture(":")):N&&(he=Qt);const Ue=this.parseChildren();w[he]=1===Object.keys(Ue).length?Ue[Qt]:new Qn([],Ue),this.consumeOptional("//")}return w}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new i.wOt(4011,!1)}}function rn(S){return S.segments.length>0?new Qn([],{[Qt]:S}):S}function En(S){const N={};for(const F of Object.keys(S.children)){const he=En(S.children[F]);if(F===Qt&&0===he.segments.length&&he.hasChildren())for(const[Ue,Rt]of Object.entries(he.children))N[Ue]=Rt;else(he.segments.length>0||he.hasChildren())&&(N[F]=he)}return function hn(S){if(1===S.numberOfChildren&&S.children[Qt]){const N=S.children[Qt];return new Qn(S.segments.concat(N.segments),N.children)}return S}(new Qn(S.segments,N))}function lr(S){return S instanceof vr}function Ii(S){let N;const G=rn(function w(he){const Ue={};for(const At of he.children){const An=w(At);Ue[At.outlet]=An}const Rt=new Qn(he.url,Ue);return he===S&&(N=Rt),Rt}(S.root));return N??G}function Dt(S,N,w,F){let G=S;for(;G.parent;)G=G.parent;if(0===N.length)return fn(G,G,G,w,F);const he=function Fn(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new _n(!0,0,S);let N=0,w=!1;const F=S.reduce((G,he,Ue)=>{if("object"==typeof he&&null!=he){if(he.outlets){const Rt={};return Object.entries(he.outlets).forEach(([At,An])=>{Rt[At]="string"==typeof An?An.split("/"):An}),[...G,{outlets:Rt}]}if(he.segmentPath)return[...G,he.segmentPath]}return"string"!=typeof he?[...G,he]:0===Ue?(he.split("/").forEach((Rt,At)=>{0==At&&"."===Rt||(0==At&&""===Rt?w=!0:".."===Rt?N++:""!=Rt&&G.push(Rt))}),G):[...G,he]},[]);return new _n(w,N,F)}(N);if(he.toRoot())return fn(G,G,new Qn([],{}),w,F);const Ue=function $r(S,N,w){if(S.isAbsolute)return new gr(N,!0,0);if(!w)return new gr(N,!1,NaN);if(null===w.parent)return new gr(w,!0,0);const F=ct(S.commands[0])?0:1;return function er(S,N,w){let F=S,G=N,he=w;for(;he>G;){if(he-=G,F=F.parent,!F)throw new i.wOt(4005,!1);G=F.segments.length}return new gr(F,!1,G-he)}(w,w.segments.length-1+F,S.numberOfDoubleDots)}(he,G,S),Rt=Ue.processChildren?ki(Ue.segmentGroup,Ue.index,he.commands):cs(Ue.segmentGroup,Ue.index,he.commands);return fn(G,Ue.segmentGroup,Rt,w,F)}function ct(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Vt(S){return"object"==typeof S&&null!=S&&S.outlets}function fn(S,N,w,F,G){let Ue,he={};F&&Object.entries(F).forEach(([At,An])=>{he[At]=Array.isArray(An)?An.map(Tr=>`${Tr}`):`${An}`}),Ue=S===N?w:Kn(S,N,w);const Rt=rn(En(Ue));return new vr(Rt,he,G)}function Kn(S,N,w){const F={};return Object.entries(S.children).forEach(([G,he])=>{F[G]=he===N?w:Kn(he,N,w)}),new Qn(S.segments,F)}class _n{constructor(N,w,F){if(this.isAbsolute=N,this.numberOfDoubleDots=w,this.commands=F,N&&F.length>0&&ct(F[0]))throw new i.wOt(4003,!1);const G=F.find(Vt);if(G&&G!==jn(F))throw new i.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gr{constructor(N,w,F){this.segmentGroup=N,this.processChildren=w,this.index=F}}function cs(S,N,w){if(S||(S=new Qn([],{})),0===S.segments.length&&S.hasChildren())return ki(S,N,w);const F=function qs(S,N,w){let F=0,G=N;const he={match:!1,pathIndex:0,commandIndex:0};for(;G<S.segments.length;){if(F>=w.length)return he;const Ue=S.segments[G],Rt=w[F];if(Vt(Rt))break;const At=`${Rt}`,An=F<w.length-1?w[F+1]:null;if(G>0&&void 0===At)break;if(At&&An&&"object"==typeof An&&void 0===An.outlets){if(!Jr(At,An,Ue))return he;F+=2}else{if(!Jr(At,{},Ue))return he;F++}G++}return{match:!0,pathIndex:G,commandIndex:F}}(S,N,w),G=w.slice(F.commandIndex);if(F.match&&F.pathIndex<S.segments.length){const he=new Qn(S.segments.slice(0,F.pathIndex),{});return he.children[Qt]=new Qn(S.segments.slice(F.pathIndex),S.children),ki(he,0,G)}return F.match&&0===G.length?new Qn(S.segments,{}):F.match&&!S.hasChildren()?mo(S,N,w):F.match?ki(S,0,G):mo(S,N,w)}function ki(S,N,w){if(0===w.length)return new Qn(S.segments,{});{const F=function Fi(S){return Vt(S[0])?S[0].outlets:{[Qt]:S}}(w),G={};if(Object.keys(F).some(he=>he!==Qt)&&S.children[Qt]&&1===S.numberOfChildren&&0===S.children[Qt].segments.length){const he=ki(S.children[Qt],N,w);return new Qn(S.segments,he.children)}return Object.entries(F).forEach(([he,Ue])=>{"string"==typeof Ue&&(Ue=[Ue]),null!==Ue&&(G[he]=cs(S.children[he],N,Ue))}),Object.entries(S.children).forEach(([he,Ue])=>{void 0===F[he]&&(G[he]=Ue)}),new Qn(S.segments,G)}}function mo(S,N,w){const F=S.segments.slice(0,N);let G=0;for(;G<w.length;){const he=w[G];if(Vt(he)){const At=$i(he.outlets);return new Qn(F,At)}if(0===G&&ct(w[0])){F.push(new Ci(S.segments[N].path,jo(w[0]))),G++;continue}const Ue=Vt(he)?he.outlets[Qt]:`${he}`,Rt=G<w.length-1?w[G+1]:null;Ue&&Rt&&ct(Rt)?(F.push(new Ci(Ue,jo(Rt))),G+=2):(F.push(new Ci(Ue,{})),G++)}return new Qn(F,{})}function $i(S){const N={};return Object.entries(S).forEach(([w,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(N[w]=mo(new Qn([],{}),0,F))}),N}function jo(S){const N={};return Object.entries(S).forEach(([w,F])=>N[w]=`${F}`),N}function Jr(S,N,w){return S==w.path&&Bt(N,w.parameters)}const rs="imperative";class us{constructor(N,w){this.id=N,this.url=w}}class Yr extends us{constructor(N,w,F="imperative",G=null){super(N,w),this.type=0,this.navigationTrigger=F,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Li extends us{constructor(N,w,F){super(N,w),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vi extends us{constructor(N,w,F,G){super(N,w),this.reason=F,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xr extends us{constructor(N,w,F,G){super(N,w),this.reason=F,this.code=G,this.type=16}}class Ys extends us{constructor(N,w,F,G){super(N,w),this.error=F,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _o extends us{constructor(N,w,F,G){super(N,w),this.urlAfterRedirects=F,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zr extends us{constructor(N,w,F,G){super(N,w),this.urlAfterRedirects=F,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ra extends us{constructor(N,w,F,G,he){super(N,w),this.urlAfterRedirects=F,this.state=G,this.shouldActivate=he,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ka extends us{constructor(N,w,F,G){super(N,w),this.urlAfterRedirects=F,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di extends us{constructor(N,w,F,G){super(N,w),this.urlAfterRedirects=F,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fa{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xs{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ni{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class is{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ps{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yo{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Us{constructor(N,w,F){this.routerEvent=N,this.position=w,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pr{}class hi{constructor(N){this.url=N}}class Ms{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new fi,this.attachRef=null}}let fi=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,F){const G=this.getOrCreateContext(w);G.outlet=F,this.contexts.set(w,G)}onChildOutletDestroyed(w){const F=this.getContext(w);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let F=this.getContext(w);return F||(F=new Ms,this.contexts.set(w,F)),F}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();class ds{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const w=this.pathFromRoot(N);return w.length>1?w[w.length-2]:null}children(N){const w=lo(N,this._root);return w?w.children.map(F=>F.value):[]}firstChild(N){const w=lo(N,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(N){const w=Ji(N,this._root);return w.length<2?[]:w[w.length-2].children.map(G=>G.value).filter(G=>G!==N)}pathFromRoot(N){return Ji(N,this._root).map(w=>w.value)}}function lo(S,N){if(S===N.value)return N;for(const w of N.children){const F=lo(S,w);if(F)return F}return null}function Ji(S,N){if(S===N.value)return[N];for(const w of N.children){const F=Ji(S,w);if(F.length)return F.unshift(N),F}return[]}class Cs{constructor(N,w){this.value=N,this.children=w}toString(){return`TreeNode(${this.value})`}}function Es(S){const N={};return S&&S.children.forEach(w=>N[w.value.outlet]=w),N}class ci extends ds{constructor(N,w){super(N),this.snapshot=w,ui(this,N)}toString(){return this.snapshot.toString()}}function bn(S,N){const w=function ur(S,N){const Ue=new Bi([],{},{},"",{},Qt,N,null,{});return new Qs("",new Cs(Ue,[]))}(0,N),F=new Ae.t([new Ci("",{})]),G=new Ae.t({}),he=new Ae.t({}),Ue=new Ae.t({}),Rt=new Ae.t(""),At=new Er(F,G,Ue,Rt,he,Qt,N,w.root);return At.snapshot=w.root,new ci(new Cs(At,[]),w)}class Er{constructor(N,w,F,G,he,Ue,Rt,At){this.urlSubject=N,this.paramsSubject=w,this.queryParamsSubject=F,this.fragmentSubject=G,this.dataSubject=he,this.outlet=Ue,this.component=Rt,this._futureSnapshot=At,this.title=this.dataSubject?.pipe((0,it.T)(An=>An[qt]))??(0,Te.of)(void 0),this.url=N,this.params=w,this.queryParams=F,this.fragment=G,this.data=he}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.T)(N=>Zt(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.T)(N=>Zt(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ss(S,N="emptyOnly"){const w=S.pathFromRoot;let F=0;if("always"!==N)for(F=w.length-1;F>=1;){const G=w[F],he=w[F-1];if(G.routeConfig&&""===G.routeConfig.path)F--;else{if(he.component)break;F--}}return function hs(S){return S.reduce((N,w)=>({params:{...N.params,...w.params},data:{...N.data,...w.data},resolve:{...w.data,...N.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(F))}class Bi{get title(){return this.data?.[qt]}constructor(N,w,F,G,he,Ue,Rt,At,An){this.url=N,this.params=w,this.queryParams=F,this.fragment=G,this.data=he,this.outlet=Ue,this.component=Rt,this.routeConfig=At,this._resolve=An}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qs extends ds{constructor(N,w){super(w),this.url=N,ui(this,w)}toString(){return fs(this._root)}}function ui(S,N){N.value._routerState=S,N.children.forEach(w=>ui(S,w))}function fs(S){const N=S.children.length>0?` { ${S.children.map(fs).join(", ")} } `:"";return`${S.value}${N}`}function Os(S){if(S.snapshot){const N=S.snapshot,w=S._futureSnapshot;S.snapshot=w,Bt(N.queryParams,w.queryParams)||S.queryParamsSubject.next(w.queryParams),N.fragment!==w.fragment&&S.fragmentSubject.next(w.fragment),Bt(N.params,w.params)||S.paramsSubject.next(w.params),function Un(S,N){if(S.length!==N.length)return!1;for(let w=0;w<S.length;++w)if(!Bt(S[w],N[w]))return!1;return!0}(N.url,w.url)||S.urlSubject.next(w.url),Bt(N.data,w.data)||S.dataSubject.next(w.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function or(S,N){const w=Bt(S.params,N.params)&&function pt(S,N){return Et(S,N)&&S.every((w,F)=>Bt(w.parameters,N[F].parameters))}(S.url,N.url);return w&&!(!S.parent!=!N.parent)&&(!S.parent||or(S.parent,N.parent))}let ps=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qt,this.activateEvents=new i.bkB,this.deactivateEvents=new i.bkB,this.attachEvents=new i.bkB,this.detachEvents=new i.bkB,this.parentContexts=(0,i.WQX)(fi),this.location=(0,i.WQX)(i.c1b),this.changeDetector=(0,i.WQX)(i.gRc),this.environmentInjector=(0,i.WQX)(i.uvJ),this.inputBinder=(0,i.WQX)(te,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:F,previousValue:G}=w.name;if(F)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,F){this.activated=w,this._activatedRoute=F,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,F){if(this.isActivated)throw new i.wOt(4013,!1);this._activatedRoute=w;const G=this.location,Ue=w.snapshot.component,Rt=this.parentContexts.getOrCreateContext(this.name).children,At=new bs(w,Rt,G.injector);this.activated=G.createComponent(Ue,{index:G.length,injector:At,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275dir=i.FsC({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[i.OA$]})}}return S})();class bs{constructor(N,w,F){this.route=N,this.childContexts=w,this.parent=F}get(N,w){return N===Er?this.route:N===fi?this.childContexts:this.parent.get(N,w)}}const te=new i.nKC("");let J=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:F}=w,G=Je([F.queryParams,F.params,F.data]).pipe((0,Ut.n)(([he,Ue,Rt],At)=>(Rt={...he,...Ue,...Rt},0===At?(0,Te.of)(Rt):Promise.resolve(Rt)))).subscribe(he=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(w);const Ue=(0,i.HJs)(F.component);if(Ue)for(const{templateName:Rt}of Ue.inputs)w.activatedComponentRef.setInput(Rt,he[Rt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,G)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac})}}return S})();function We(S,N,w){if(w&&S.shouldReuseRoute(N.value,w.value.snapshot)){const F=w.value;F._futureSnapshot=N.value;const G=function ht(S,N,w){return N.children.map(F=>{for(const G of w.children)if(S.shouldReuseRoute(F.value,G.value.snapshot))return We(S,F,G);return We(S,F)})}(S,N,w);return new Cs(F,G)}{if(S.shouldAttach(N.value)){const he=S.retrieve(N.value);if(null!==he){const Ue=he.route;return Ue.value._futureSnapshot=N.value,Ue.children=N.children.map(Rt=>We(S,Rt)),Ue}}const F=function It(S){return new Er(new Ae.t(S.url),new Ae.t(S.params),new Ae.t(S.queryParams),new Ae.t(S.fragment),new Ae.t(S.data),S.outlet,S.component,S)}(N.value),G=N.children.map(he=>We(S,he));return new Cs(F,G)}}const on="ngNavigationCancelingError";function Nn(S,N){const{redirectTo:w,navigationBehaviorOptions:F}=lr(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,G=In(!1,0,N);return G.url=w,G.navigationBehaviorOptions=F,G}function In(S,N,w){const F=new Error("NavigationCancelingError: "+(S||""));return F[on]=!0,F.cancellationCode=N,w&&(F.url=w),F}function Mr(S){return S&&S[on]}let qn=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275cmp=i.VBU({type:S,selectors:[["ng-component"]],standalone:!0,features:[i.aNF],decls:1,vars:0,template:function(F,G){1&F&&i.nrm(0,"router-outlet")},dependencies:[ps],encapsulation:2})}}return S})();function bi(S){const N=S.children&&S.children.map(bi),w=N?{...S,children:N}:{...S};return!w.component&&!w.loadComponent&&(N||w.loadChildren)&&w.outlet&&w.outlet!==Qt&&(w.component=qn),w}function Xr(S){return S.outlet||Qt}function gs(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let N=S.parent;N;N=N.parent){const w=N.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class Zi{constructor(N,w,F,G,he){this.routeReuseStrategy=N,this.futureState=w,this.currState=F,this.forwardEvent=G,this.inputBindingEnabled=he}activate(N){const w=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,F,N),Os(this.futureState.root),this.activateChildRoutes(w,F,N)}deactivateChildRoutes(N,w,F){const G=Es(w);N.children.forEach(he=>{const Ue=he.value.outlet;this.deactivateRoutes(he,G[Ue],F),delete G[Ue]}),Object.values(G).forEach(he=>{this.deactivateRouteAndItsChildren(he,F)})}deactivateRoutes(N,w,F){const G=N.value,he=w?w.value:null;if(G===he)if(G.component){const Ue=F.getContext(G.outlet);Ue&&this.deactivateChildRoutes(N,w,Ue.children)}else this.deactivateChildRoutes(N,w,F);else he&&this.deactivateRouteAndItsChildren(w,F)}deactivateRouteAndItsChildren(N,w){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,w):this.deactivateRouteAndOutlet(N,w)}detachAndStoreRouteSubtree(N,w){const F=w.getContext(N.value.outlet),G=F&&N.value.component?F.children:w,he=Es(N);for(const Ue of Object.keys(he))this.deactivateRouteAndItsChildren(he[Ue],G);if(F&&F.outlet){const Ue=F.outlet.detach(),Rt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Ue,route:N,contexts:Rt})}}deactivateRouteAndOutlet(N,w){const F=w.getContext(N.value.outlet),G=F&&N.value.component?F.children:w,he=Es(N);for(const Ue of Object.keys(he))this.deactivateRouteAndItsChildren(he[Ue],G);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(N,w,F){const G=Es(w);N.children.forEach(he=>{this.activateRoutes(he,G[he.value.outlet],F),this.forwardEvent(new yo(he.value.snapshot))}),N.children.length&&this.forwardEvent(new is(N.value.snapshot))}activateRoutes(N,w,F){const G=N.value,he=w?w.value:null;if(Os(G),G===he)if(G.component){const Ue=F.getOrCreateContext(G.outlet);this.activateChildRoutes(N,w,Ue.children)}else this.activateChildRoutes(N,w,F);else if(G.component){const Ue=F.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Rt=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Ue.children.onOutletReAttached(Rt.contexts),Ue.attachRef=Rt.componentRef,Ue.route=Rt.route.value,Ue.outlet&&Ue.outlet.attach(Rt.componentRef,Rt.route.value),Os(Rt.route.value),this.activateChildRoutes(N,null,Ue.children)}else{const Rt=gs(G.snapshot);Ue.attachRef=null,Ue.route=G,Ue.injector=Rt,Ue.outlet&&Ue.outlet.activateWith(G,Ue.injector),this.activateChildRoutes(N,null,Ue.children)}}else this.activateChildRoutes(N,null,F)}}class Sa{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class Ro{constructor(N,w){this.component=N,this.route=w}}function kc(S,N,w){const F=S._root;return co(F,N?N._root:null,w,[F.value])}function Ns(S,N){const w=Symbol(),F=N.get(S,w);return F===w?"function"!=typeof S||(0,i.LfX)(S)?N.get(S):S:F}function co(S,N,w,F,G={canDeactivateChecks:[],canActivateChecks:[]}){const he=Es(N);return S.children.forEach(Ue=>{(function Da(S,N,w,F,G={canDeactivateChecks:[],canActivateChecks:[]}){const he=S.value,Ue=N?N.value:null,Rt=w?w.getContext(S.value.outlet):null;if(Ue&&he.routeConfig===Ue.routeConfig){const At=function pa(S,N,w){if("function"==typeof w)return w(S,N);switch(w){case"pathParamsChange":return!Et(S.url,N.url);case"pathParamsOrQueryParamsChange":return!Et(S.url,N.url)||!Bt(S.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!or(S,N)||!Bt(S.queryParams,N.queryParams);default:return!or(S,N)}}(Ue,he,he.routeConfig.runGuardsAndResolvers);At?G.canActivateChecks.push(new Sa(F)):(he.data=Ue.data,he._resolvedData=Ue._resolvedData),co(S,N,he.component?Rt?Rt.children:null:w,F,G),At&&Rt&&Rt.outlet&&Rt.outlet.isActivated&&G.canDeactivateChecks.push(new Ro(Rt.outlet.component,Ue))}else Ue&&xi(N,Rt,G),G.canActivateChecks.push(new Sa(F)),co(S,null,he.component?Rt?Rt.children:null:w,F,G)})(Ue,he[Ue.value.outlet],w,F.concat([Ue.value]),G),delete he[Ue.value.outlet]}),Object.entries(he).forEach(([Ue,Rt])=>xi(Rt,w.getContext(Ue),G)),G}function xi(S,N,w){const F=Es(S),G=S.value;Object.entries(F).forEach(([he,Ue])=>{xi(Ue,G.component?N?N.children.getContext(he):null:N,w)}),w.canDeactivateChecks.push(new Ro(G.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,G))}function ia(S){return"function"==typeof S}function ms(S){return S instanceof He.G||"EmptyError"===S?.name}const Yt=Symbol("INITIAL_VALUE");function es(){return(0,Ut.n)(S=>Je(S.map(N=>N.pipe((0,Oe.s)(1),(0,mt.Z)(Yt)))).pipe((0,it.T)(N=>{for(const w of N)if(!0!==w){if(w===Yt)return Yt;if(!1===w||w instanceof vr)return w}return!0}),(0,Ve.p)(N=>N!==Yt),(0,Oe.s)(1)))}function _s(S){return(0,dt.F)((0,Z.M)(N=>{if(lr(N))throw Nn(0,N)}),(0,it.T)(N=>!0===N))}class ro{constructor(N){this.segmentGroup=N||null}}class ga{constructor(N){this.urlTree=N}}function Is(S){return(0,ot.$)(new ro(S))}function xa(S){return(0,ot.$)(new ga(S))}class vu{constructor(N,w){this.urlSerializer=N,this.urlTree=w}noMatchError(N){return new i.wOt(4002,!1)}lineralizeSegments(N,w){let F=[],G=w.root;for(;;){if(F=F.concat(G.segments),0===G.numberOfChildren)return(0,Te.of)(F);if(G.numberOfChildren>1||!G.children[Qt])return(0,ot.$)(new i.wOt(4e3,!1));G=G.children[Qt]}}applyRedirectCommands(N,w,F){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),N,F)}applyRedirectCreateUrlTree(N,w,F,G){const he=this.createSegmentGroup(N,w.root,F,G);return new vr(he,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(N,w){const F={};return Object.entries(N).forEach(([G,he])=>{if("string"==typeof he&&he.startsWith(":")){const Rt=he.substring(1);F[G]=w[Rt]}else F[G]=he}),F}createSegmentGroup(N,w,F,G){const he=this.createSegments(N,w.segments,F,G);let Ue={};return Object.entries(w.children).forEach(([Rt,At])=>{Ue[Rt]=this.createSegmentGroup(N,At,F,G)}),new Qn(he,Ue)}createSegments(N,w,F,G){return w.map(he=>he.path.startsWith(":")?this.findPosParam(N,he,G):this.findOrReturn(he,F))}findPosParam(N,w,F){const G=F[w.path.substring(1)];if(!G)throw new i.wOt(4001,!1);return G}findOrReturn(N,w){let F=0;for(const G of w){if(G.path===N.path)return w.splice(F),G;F++}return N}}const wr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tc(S,N,w,F,G){const he=Eo(S,N,w);return he.matched?(F=function Yn(S,N){return S.providers&&!S._injector&&(S._injector=(0,i.Ol2)(S.providers,N,`Route: ${S.path}`)),S._injector??N}(N,F),function yl(S,N,w,F){const G=N.canMatch;if(!G||0===G.length)return(0,Te.of)(!0);const he=G.map(Ue=>{const Rt=Ns(Ue,S);return Cn(function Xe(S){return S&&ia(S.canMatch)}(Rt)?Rt.canMatch(N,w):S.runInContext(()=>Rt(N,w)))});return(0,Te.of)(he).pipe(es(),_s())}(F,N,w).pipe((0,it.T)(Ue=>!0===Ue?he:{...wr}))):(0,Te.of)(he)}function Eo(S,N,w){if(""===N.path)return"full"===N.pathMatch&&(S.hasChildren()||w.length>0)?{...wr}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const G=(N.matcher||ar)(w,S,N);if(!G)return{...wr};const he={};Object.entries(G.posParams??{}).forEach(([Rt,At])=>{he[Rt]=At.path});const Ue=G.consumed.length>0?{...he,...G.consumed[G.consumed.length-1].parameters}:he;return{matched:!0,consumedSegments:G.consumed,remainingSegments:w.slice(G.consumed.length),parameters:Ue,positionalParamSegments:G.posParams??{}}}function Bo(S,N,w,F){return w.length>0&&function ma(S,N,w){return w.some(F=>Po(S,N,F)&&Xr(F)!==Qt)}(S,w,F)?{segmentGroup:new Qn(N,Eu(F,new Qn(w,S.children))),slicedSegments:[]}:0===w.length&&function Th(S,N,w){return w.some(F=>Po(S,N,F))}(S,w,F)?{segmentGroup:new Qn(S.segments,Oa(S,0,w,F,S.children)),slicedSegments:w}:{segmentGroup:new Qn(S.segments,S.children),slicedSegments:w}}function Oa(S,N,w,F,G){const he={};for(const Ue of F)if(Po(S,w,Ue)&&!G[Xr(Ue)]){const Rt=new Qn([],{});he[Xr(Ue)]=Rt}return{...G,...he}}function Eu(S,N){const w={};w[Qt]=N;for(const F of S)if(""===F.path&&Xr(F)!==Qt){const G=new Qn([],{});w[Xr(F)]=G}return w}function Po(S,N,w){return(!(S.hasChildren()||N.length>0)||"full"!==w.pathMatch)&&""===w.path}class nc{constructor(N,w,F,G,he,Ue,Rt){this.injector=N,this.configLoader=w,this.rootComponentType=F,this.config=G,this.urlTree=he,this.paramsInheritanceStrategy=Ue,this.urlSerializer=Rt,this.allowRedirects=!0,this.applyRedirects=new vu(this.urlSerializer,this.urlTree)}noMatchError(N){return new i.wOt(4002,!1)}recognize(){const N=Bo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,Qt).pipe((0,Ee.W)(w=>{if(w instanceof ga)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof ro?this.noMatchError(w):w}),(0,it.T)(w=>{const F=new Bi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,{}),G=new Cs(F,w),he=new Qs("",G),Ue=function gn(S,N,w=null,F=null){return Dt(Ii(S),N,w,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return Ue.queryParams=this.urlTree.queryParams,he.url=this.urlSerializer.serialize(Ue),this.inheritParamsAndData(he._root),{state:he,tree:Ue}}))}match(N){return this.processSegmentGroup(this.injector,this.config,N.root,Qt).pipe((0,Ee.W)(F=>{throw F instanceof ro?this.noMatchError(F):F}))}inheritParamsAndData(N){const w=N.value,F=ss(w,this.paramsInheritanceStrategy);w.params=Object.freeze(F.params),w.data=Object.freeze(F.data),N.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(N,w,F,G){return 0===F.segments.length&&F.hasChildren()?this.processChildren(N,w,F):this.processSegment(N,w,F,F.segments,G,!0)}processChildren(N,w,F){const G=[];for(const he of Object.keys(F.children))"primary"===he?G.unshift(he):G.push(he);return(0,oe.H)(G).pipe((0,Le.H)(he=>{const Ue=F.children[he],Rt=function vo(S,N){const w=S.filter(F=>Xr(F)===N);return w.push(...S.filter(F=>Xr(F)!==N)),w}(w,he);return this.processSegmentGroup(N,Rt,Ue,he)}),(0,je.S)((he,Ue)=>(he.push(...Ue),he)),(0,gt.U)(null),function Sn(S,N){const w=arguments.length>=2;return F=>F.pipe(S?(0,Ve.p)((G,he)=>S(G,he,F)):Ne.D,at(1),w?(0,gt.U)(N):(0,Ht.v)(()=>new He.G))}(),(0,lt.Z)(he=>{if(null===he)return Is(F);const Ue=Ya(he);return function Na(S){S.sort((N,w)=>N.value.outlet===Qt?-1:w.value.outlet===Qt?1:N.value.outlet.localeCompare(w.value.outlet))}(Ue),(0,Te.of)(Ue)}))}processSegment(N,w,F,G,he,Ue){return(0,oe.H)(w).pipe((0,Le.H)(Rt=>this.processSegmentAgainstRoute(Rt._injector??N,w,Rt,F,G,he,Ue).pipe((0,Ee.W)(At=>{if(At instanceof ro)return(0,Te.of)(null);throw At}))),(0,ft.$)(Rt=>!!Rt),(0,Ee.W)(Rt=>{if(ms(Rt))return function vl(S,N,w){return 0===N.length&&!S.children[w]}(F,G,he)?(0,Te.of)([]):Is(F);throw Rt}))}processSegmentAgainstRoute(N,w,F,G,he,Ue,Rt){return function bu(S,N,w,F){return!!(Xr(S)===F||F!==Qt&&Po(N,w,S))&&("**"===S.path||Eo(N,S,w).matched)}(F,G,he,Ue)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(N,G,F,he,Ue,Rt):Rt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,G,w,F,he,Ue):Is(G):Is(G)}expandSegmentAgainstRouteUsingRedirect(N,w,F,G,he,Ue){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,F,G,Ue):this.expandRegularSegmentAgainstRouteUsingRedirect(N,w,F,G,he,Ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,w,F,G){const he=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?xa(he):this.applyRedirects.lineralizeSegments(F,he).pipe((0,lt.Z)(Ue=>{const Rt=new Qn(Ue,{});return this.processSegment(N,w,Rt,Ue,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,w,F,G,he,Ue){const{matched:Rt,consumedSegments:At,remainingSegments:An,positionalParamSegments:Tr}=Eo(w,G,he);if(!Rt)return Is(w);const Dr=this.applyRedirects.applyRedirectCommands(At,G.redirectTo,Tr);return G.redirectTo.startsWith("/")?xa(Dr):this.applyRedirects.lineralizeSegments(G,Dr).pipe((0,lt.Z)(Br=>this.processSegment(N,F,w,Br.concat(An),Ue,!1)))}matchSegmentAgainstRoute(N,w,F,G,he,Ue){let Rt;if("**"===F.path){const At=G.length>0?jn(G).parameters:{},An=new Bi(G,At,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vc(F),Xr(F),F.component??F._loadedComponent??null,F,x(F));Rt=(0,Te.of)({snapshot:An,consumedSegments:[],remainingSegments:[]}),w.children={}}else Rt=tc(w,F,G,N).pipe((0,it.T)(({matched:At,consumedSegments:An,remainingSegments:Tr,parameters:Dr})=>At?{snapshot:new Bi(An,Dr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vc(F),Xr(F),F.component??F._loadedComponent??null,F,x(F)),consumedSegments:An,remainingSegments:Tr}:null));return Rt.pipe((0,Ut.n)(At=>null===At?Is(w):this.getChildConfig(N=F._injector??N,F,G).pipe((0,Ut.n)(({routes:An})=>{const Tr=F._loadedInjector??N,{snapshot:Dr,consumedSegments:Br,remainingSegments:yi}=At,{segmentGroup:Za,slicedSegments:Al}=Bo(w,Br,yi,An);if(0===Al.length&&Za.hasChildren())return this.processChildren(Tr,An,Za).pipe((0,it.T)(Sl=>null===Sl?null:[new Cs(Dr,Sl)]));if(0===An.length&&0===Al.length)return(0,Te.of)([new Cs(Dr,[])]);const oc=Xr(F)===he;return this.processSegment(Tr,An,Za,Al,oc?Qt:he,!0).pipe((0,it.T)(Sl=>[new Cs(Dr,Sl)]))}))))}getChildConfig(N,w,F){return w.children?(0,Te.of)({routes:w.children,injector:N}):w.loadChildren?void 0!==w._loadedRoutes?(0,Te.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Ra(S,N,w,F){const G=N.canLoad;if(void 0===G||0===G.length)return(0,Te.of)(!0);const he=G.map(Ue=>{const Rt=Ns(Ue,S);return Cn(function W(S){return S&&ia(S.canLoad)}(Rt)?Rt.canLoad(N,w):S.runInContext(()=>Rt(N,w)))});return(0,Te.of)(he).pipe(es(),_s())}(N,w,F).pipe((0,lt.Z)(G=>G?this.configLoader.loadChildren(N,w).pipe((0,Z.M)(he=>{w._loadedRoutes=he.routes,w._loadedInjector=he.injector})):function Ma(S){return(0,ot.$)(In(!1,3))}())):(0,Te.of)({routes:[],injector:N})}}function qa(S){const N=S.value.routeConfig;return N&&""===N.path}function Ya(S){const N=[],w=new Set;for(const F of S){if(!qa(F)){N.push(F);continue}const G=N.find(he=>F.value.routeConfig===he.value.routeConfig);void 0!==G?(G.children.push(...F.children),w.add(G)):N.push(F)}for(const F of w){const G=Ya(F.children);N.push(new Cs(F.value,G))}return N.filter(F=>!w.has(F))}function Vc(S){return S.data||{}}function x(S){return S.resolve||{}}function Xn(S){return"string"==typeof S.title||null===S.title}function ei(S){return(0,Ut.n)(N=>{const w=S(N);return w?(0,oe.H)(w).pipe((0,it.T)(()=>N)):(0,Te.of)(N)})}const mi=new i.nKC("ROUTES");let Gr=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,i.WQX)(i.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Te.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const F=Cn(w.loadComponent()).pipe((0,it.T)(_i),(0,Z.M)(he=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=he}),(0,dn.j)(()=>{this.componentLoaders.delete(w)})),G=new tn(F,()=>new un.B).pipe(xe());return this.componentLoaders.set(w,G),G}loadChildren(w,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,Te.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const he=function hr(S,N,w,F){return Cn(S.loadChildren()).pipe((0,it.T)(_i),(0,lt.Z)(G=>G instanceof i.Co$||Array.isArray(G)?(0,Te.of)(G):(0,oe.H)(N.compileModuleAsync(G))),(0,it.T)(G=>{F&&F(S);let he,Ue,Rt=!1;return Array.isArray(G)?(Ue=G,!0):(he=G.create(w).injector,Ue=he.get(mi,[],{optional:!0,self:!0}).flat()),{routes:Ue.map(bi),injector:he}}))}(F,this.compiler,w,this.onLoadEndListener).pipe((0,dn.j)(()=>{this.childrenLoaders.delete(F)})),Ue=new tn(he,()=>new un.B).pipe(xe());return this.childrenLoaders.set(F,Ue),Ue}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function _i(S){return function Hr(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Ni=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new un.B,this.transitionAbortSubject=new un.B,this.configLoader=(0,i.WQX)(Gr),this.environmentInjector=(0,i.WQX)(i.uvJ),this.urlSerializer=(0,i.WQX)(ze),this.rootContexts=(0,i.WQX)(fi),this.inputBindingEnabled=null!==(0,i.WQX)(te,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Te.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new Xs(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new fa(G))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:F})}setupNavigations(w,F,G){return this.transitions=new Ae.t({id:0,currentUrlTree:F,currentRawUrl:F,currentBrowserUrl:F,extractedUrl:w.urlHandlingStrategy.extract(F),urlAfterRedirects:w.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rs,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ve.p)(he=>0!==he.id),(0,it.T)(he=>({...he,extractedUrl:w.urlHandlingStrategy.extract(he.rawUrl)})),(0,Ut.n)(he=>{this.currentTransition=he;let Ue=!1,Rt=!1;return(0,Te.of)(he).pipe((0,Z.M)(At=>{this.currentNavigation={id:At.id,initialUrl:At.rawUrl,extractedUrl:At.extractedUrl,trigger:At.source,extras:At.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ut.n)(At=>{const An=At.currentBrowserUrl.toString(),Tr=!w.navigated||At.extractedUrl.toString()!==An||An!==At.currentUrlTree.toString();if(!Tr&&"reload"!==(At.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Br="";return this.events.next(new xr(At.id,this.urlSerializer.serialize(At.rawUrl),Br,0)),At.resolve(null),_t.w}if(w.urlHandlingStrategy.shouldProcessUrl(At.rawUrl))return(0,Te.of)(At).pipe((0,Ut.n)(Br=>{const yi=this.transitions?.getValue();return this.events.next(new Yr(Br.id,this.urlSerializer.serialize(Br.extractedUrl),Br.source,Br.restoredState)),yi!==this.transitions?.getValue()?_t.w:Promise.resolve(Br)}),function re(S,N,w,F,G,he){return(0,lt.Z)(Ue=>function Go(S,N,w,F,G,he,Ue="emptyOnly"){return new nc(S,N,w,F,G,Ue,he).recognize()}(S,N,w,F,Ue.extractedUrl,G,he).pipe((0,it.T)(({state:Rt,tree:At})=>({...Ue,targetSnapshot:Rt,urlAfterRedirects:At}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Z.M)(Br=>{he.targetSnapshot=Br.targetSnapshot,he.urlAfterRedirects=Br.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Br.urlAfterRedirects};const yi=new _o(Br.id,this.urlSerializer.serialize(Br.extractedUrl),this.urlSerializer.serialize(Br.urlAfterRedirects),Br.targetSnapshot);this.events.next(yi)}));if(Tr&&w.urlHandlingStrategy.shouldProcessUrl(At.currentRawUrl)){const{id:Br,extractedUrl:yi,source:Za,restoredState:Al,extras:oc}=At,Sl=new Yr(Br,this.urlSerializer.serialize(yi),Za,Al);this.events.next(Sl);const Ru=bn(0,this.rootComponentType).snapshot;return this.currentTransition=he={...At,targetSnapshot:Ru,urlAfterRedirects:yi,extras:{...oc,skipLocationChange:!1,replaceUrl:!1}},(0,Te.of)(he)}{const Br="";return this.events.next(new xr(At.id,this.urlSerializer.serialize(At.extractedUrl),Br,1)),At.resolve(null),_t.w}}),(0,Z.M)(At=>{const An=new Zr(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(An)}),(0,it.T)(At=>(this.currentTransition=he={...At,guards:kc(At.targetSnapshot,At.currentSnapshot,this.rootContexts)},he)),function uo(S,N){return(0,lt.Z)(w=>{const{targetSnapshot:F,currentSnapshot:G,guards:{canActivateChecks:he,canDeactivateChecks:Ue}}=w;return 0===Ue.length&&0===he.length?(0,Te.of)({...w,guardsResult:!0}):function $s(S,N,w,F){return(0,oe.H)(S).pipe((0,lt.Z)(G=>function Mn(S,N,w,F,G){const he=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!he||0===he.length)return(0,Te.of)(!0);const Ue=he.map(Rt=>{const At=gs(N)??G,An=Ns(Rt,At);return Cn(function pe(S){return S&&ia(S.canDeactivate)}(An)?An.canDeactivate(S,N,w,F):At.runInContext(()=>An(S,N,w,F))).pipe((0,ft.$)())});return(0,Te.of)(Ue).pipe(es())}(G.component,G.route,w,N,F)),(0,ft.$)(G=>!0!==G,!0))}(Ue,F,G,S).pipe((0,lt.Z)(Rt=>Rt&&function xo(S){return"boolean"==typeof S}(Rt)?function Mi(S,N,w,F){return(0,oe.H)(N).pipe((0,Le.H)(G=>(0,Nt.x)(function Lc(S,N){return null!==S&&N&&N(new ni(S)),(0,Te.of)(!0)}(G.route.parent,F),function no(S,N){return null!==S&&N&&N(new Ps(S)),(0,Te.of)(!0)}(G.route,F),function $o(S,N,w){const F=N[N.length-1],he=N.slice(0,N.length-1).reverse().map(Ue=>function js(S){const N=S.routeConfig?S.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:S,guards:N}:null}(Ue)).filter(Ue=>null!==Ue).map(Ue=>Ie(()=>{const Rt=Ue.guards.map(At=>{const An=gs(Ue.node)??w,Tr=Ns(At,An);return Cn(function U(S){return S&&ia(S.canActivateChild)}(Tr)?Tr.canActivateChild(F,S):An.runInContext(()=>Tr(F,S))).pipe((0,ft.$)())});return(0,Te.of)(Rt).pipe(es())}));return(0,Te.of)(he).pipe(es())}(S,G.path,w),function Oi(S,N,w){const F=N.routeConfig?N.routeConfig.canActivate:null;if(!F||0===F.length)return(0,Te.of)(!0);const G=F.map(he=>Ie(()=>{const Ue=gs(N)??w,Rt=Ns(he,Ue);return Cn(function ee(S){return S&&ia(S.canActivate)}(Rt)?Rt.canActivate(N,S):Ue.runInContext(()=>Rt(N,S))).pipe((0,ft.$)())}));return(0,Te.of)(G).pipe(es())}(S,G.route,w))),(0,ft.$)(G=>!0!==G,!0))}(F,he,S,N):(0,Te.of)(Rt)),(0,it.T)(Rt=>({...w,guardsResult:Rt})))})}(this.environmentInjector,At=>this.events.next(At)),(0,Z.M)(At=>{if(he.guardsResult=At.guardsResult,lr(At.guardsResult))throw Nn(0,At.guardsResult);const An=new ra(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot,!!At.guardsResult);this.events.next(An)}),(0,Ve.p)(At=>!!At.guardsResult||(this.cancelNavigationTransition(At,"",3),!1)),ei(At=>{if(At.guards.canActivateChecks.length)return(0,Te.of)(At).pipe((0,Z.M)(An=>{const Tr=new Ka(An.id,this.urlSerializer.serialize(An.extractedUrl),this.urlSerializer.serialize(An.urlAfterRedirects),An.targetSnapshot);this.events.next(Tr)}),(0,Ut.n)(An=>{let Tr=!1;return(0,Te.of)(An).pipe(function $(S,N){return(0,lt.Z)(w=>{const{targetSnapshot:F,guards:{canActivateChecks:G}}=w;if(!G.length)return(0,Te.of)(w);let he=0;return(0,oe.H)(G).pipe((0,Le.H)(Ue=>function Y(S,N,w,F){const G=S.routeConfig,he=S._resolve;return void 0!==G?.title&&!Xn(G)&&(he[qt]=G.title),function $e(S,N,w,F){const G=function xt(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===G.length)return(0,Te.of)({});const he={};return(0,oe.H)(G).pipe((0,lt.Z)(Ue=>function Wt(S,N,w,F){const G=gs(N)??F,he=Ns(S,G);return Cn(he.resolve?he.resolve(N,w):G.runInContext(()=>he(N,w)))}(S[Ue],N,w,F).pipe((0,ft.$)(),(0,Z.M)(Rt=>{he[Ue]=Rt}))),at(1),function cr(S){return(0,it.T)(()=>S)}(he),(0,Ee.W)(Ue=>ms(Ue)?_t.w:(0,ot.$)(Ue)))}(he,S,N,F).pipe((0,it.T)(Ue=>(S._resolvedData=Ue,S.data=ss(S,w).resolve,G&&Xn(G)&&(S.data[qt]=G.title),null)))}(Ue.route,F,S,N)),(0,Z.M)(()=>he++),at(1),(0,lt.Z)(Ue=>he===G.length?(0,Te.of)(w):_t.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Z.M)({next:()=>Tr=!0,complete:()=>{Tr||this.cancelNavigationTransition(An,"",2)}}))}),(0,Z.M)(An=>{const Tr=new Di(An.id,this.urlSerializer.serialize(An.extractedUrl),this.urlSerializer.serialize(An.urlAfterRedirects),An.targetSnapshot);this.events.next(Tr)}))}),ei(At=>{const An=Tr=>{const Dr=[];Tr.routeConfig?.loadComponent&&!Tr.routeConfig._loadedComponent&&Dr.push(this.configLoader.loadComponent(Tr.routeConfig).pipe((0,Z.M)(Br=>{Tr.component=Br}),(0,it.T)(()=>{})));for(const Br of Tr.children)Dr.push(...An(Br));return Dr};return Je(An(At.targetSnapshot.root)).pipe((0,gt.U)(),(0,Oe.s)(1))}),ei(()=>this.afterPreactivation()),(0,it.T)(At=>{const An=function Me(S,N,w){const F=We(S,N._root,w?w._root:void 0);return new ci(F,N)}(w.routeReuseStrategy,At.targetSnapshot,At.currentRouterState);return this.currentTransition=he={...At,targetRouterState:An},he}),(0,Z.M)(()=>{this.events.next(new Pr)}),((S,N,w,F)=>(0,it.T)(G=>(new Zi(N,G.targetRouterState,G.currentRouterState,w,F).activate(S),G)))(this.rootContexts,w.routeReuseStrategy,At=>this.events.next(At),this.inputBindingEnabled),(0,Oe.s)(1),(0,Z.M)({next:At=>{Ue=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Li(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects))),w.titleStrategy?.updateTitle(At.targetRouterState.snapshot),At.resolve(!0)},complete:()=>{Ue=!0}}),function nn(S){return(0,$t.N)((N,w)=>{(0,Re.Tg)(S).subscribe((0,ke._)(w,()=>w.complete(),kn.l)),!w.closed&&N.subscribe(w)})}(this.transitionAbortSubject.pipe((0,Z.M)(At=>{throw At}))),(0,dn.j)(()=>{Ue||Rt||this.cancelNavigationTransition(he,"",1),this.currentNavigation?.id===he.id&&(this.currentNavigation=null)}),(0,Ee.W)(At=>{if(Rt=!0,Mr(At))this.events.next(new Vi(he.id,this.urlSerializer.serialize(he.extractedUrl),At.message,At.cancellationCode)),function rr(S){return Mr(S)&&lr(S.url)}(At)?this.events.next(new hi(At.url)):he.resolve(!1);else{this.events.next(new Ys(he.id,this.urlSerializer.serialize(he.extractedUrl),At,he.targetSnapshot??void 0));try{he.resolve(w.errorHandler(At))}catch(An){he.reject(An)}}return _t.w}))}))}cancelNavigationTransition(w,F,G){const he=new Vi(w.id,this.urlSerializer.serialize(w.extractedUrl),F,G);this.events.next(he),w.resolve(!1)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Js(S){return S!==rs}let Fs=(()=>{class S{buildTitle(w){let F,G=w.root;for(;void 0!==G;)F=this.getResolvedTitleForRoute(G)??F,G=G.children.find(he=>he.outlet===Qt);return F}getResolvedTitleForRoute(w){return w.data[qt]}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:function(){return(0,i.WQX)(sa)},providedIn:"root"})}}return S})(),sa=(()=>{class S extends Fs{constructor(w){super(),this.title=w}updateTitle(w){const F=this.buildTitle(w);void 0!==F&&this.title.setTitle(F)}static{this.\u0275fac=function(F){return new(F||S)(i.KVO(Ln.hE))}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),Bs=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:function(){return(0,i.WQX)(Ts)},providedIn:"root"})}}return S})();class Ho{shouldDetach(N){return!1}store(N,w){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,w){return N.routeConfig===w.routeConfig}}let Ts=(()=>{class S extends Ho{static{this.\u0275fac=function(){let w;return function(G){return(w||(w=i.xGo(S)))(G||S)}}()}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const Mo=new i.nKC("",{providedIn:"root",factory:()=>({})});let bd=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:function(){return(0,i.WQX)(Ar)},providedIn:"root"})}}return S})(),Ar=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,F){return w}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();var Ur=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Ur||{});function El(S,N){S.events.pipe((0,Ve.p)(w=>w instanceof Li||w instanceof Vi||w instanceof Ys||w instanceof xr),(0,it.T)(w=>w instanceof Li||w instanceof xr?Ur.COMPLETE:w instanceof Vi&&(0===w.code||1===w.code)?Ur.REDIRECTING:Ur.FAILED),(0,Ve.p)(w=>w!==Ur.REDIRECTING),(0,Oe.s)(1)).subscribe(()=>{N()})}function io(S){throw S}function Tu(S,N,w){return N.parse("/")}const Td={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hi=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,i.WQX)(i.H3F),this.isNgZoneEnabled=!1,this._events=new un.B,this.options=(0,i.WQX)(Mo,{optional:!0})||{},this.pendingTasks=(0,i.WQX)(i.$K3),this.errorHandler=this.options.errorHandler||io,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Tu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,i.WQX)(bd),this.routeReuseStrategy=(0,i.WQX)(Bs),this.titleStrategy=(0,i.WQX)(Fs),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,i.WQX)(mi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,i.WQX)(Ni),this.urlSerializer=(0,i.WQX)(ze),this.location=(0,i.WQX)(Wn.aZ),this.componentInputBindingEnabled=!!(0,i.WQX)(te,{optional:!0}),this.eventsSubscription=new Lt.yU,this.isNgZoneEnabled=(0,i.WQX)(i.SKi)instanceof i.SKi&&i.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(F=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(Cu(F)&&this._events.next(F));if(F instanceof Yr)Js(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(F instanceof xr)this.rawUrlTree=G.rawUrl;else if(F instanceof _o){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const he=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(he,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(F instanceof Pr)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(F instanceof Vi)0!==F.code&&1!==F.code&&(this.navigated=!0),(3===F.code||2===F.code)&&this.restoreHistory(G);else if(F instanceof hi){const he=this.urlHandlingStrategy.merge(F.url,G.currentRawUrl),Ue={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Js(G.source)};this.scheduleNavigation(he,rs,null,Ue,{resolve:G.resolve,reject:G.reject,promise:G.promise})}F instanceof Ys&&this.restoreHistory(G,!0),F instanceof Li&&(this.navigated=!0),Cu(F)&&this._events.next(F)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rs,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const F="popstate"===w.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,F,w.state)},0)}))}navigateToSyncWithBrowser(w,F,G){const he={replaceUrl:!0},Ue=G?.navigationId?G:null;if(G){const At={...G};delete At.navigationId,delete At.\u0275routerPageId,0!==Object.keys(At).length&&(he.state=At)}const Rt=this.parseUrl(w);this.scheduleNavigation(Rt,F,Ue,he)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(bi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,F={}){const{relativeTo:G,queryParams:he,fragment:Ue,queryParamsHandling:Rt,preserveFragment:At}=F,An=At?this.currentUrlTree.fragment:Ue;let Dr,Tr=null;switch(Rt){case"merge":Tr={...this.currentUrlTree.queryParams,...he};break;case"preserve":Tr=this.currentUrlTree.queryParams;break;default:Tr=he||null}null!==Tr&&(Tr=this.removeEmptyProps(Tr));try{Dr=Ii(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),Dr=this.currentUrlTree.root}return Dt(Dr,w,Tr,An??null)}navigateByUrl(w,F={skipLocationChange:!1}){const G=lr(w)?w:this.parseUrl(w),he=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(he,rs,null,F)}navigate(w,F={skipLocationChange:!1}){return function Ch(S){for(let N=0;N<S.length;N++)if(null==S[N])throw new i.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,F),F)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let F;try{F=this.urlSerializer.parse(w)}catch(G){F=this.malformedUriErrorHandler(G,this.urlSerializer,w)}return F}isActive(w,F){let G;if(G=!0===F?{...Td}:!1===F?{...bl}:F,lr(w))return Vr(this.currentUrlTree,w,G);const he=this.parseUrl(w);return Vr(this.currentUrlTree,he,G)}removeEmptyProps(w){return Object.keys(w).reduce((F,G)=>{const he=w[G];return null!=he&&(F[G]=he),F},{})}scheduleNavigation(w,F,G,he,Ue){if(this.disposed)return Promise.resolve(!1);let Rt,At,An;Ue?(Rt=Ue.resolve,At=Ue.reject,An=Ue.promise):An=new Promise((Dr,Br)=>{Rt=Dr,At=Br});const Tr=this.pendingTasks.add();return El(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Tr))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:he,resolve:Rt,reject:At,promise:An,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),An.catch(Dr=>Promise.reject(Dr))}setBrowserUrl(w,F){const G=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(G)||F.extras.replaceUrl){const Ue={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(G,"",Ue)}else{const he={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(G,"",he)}}restoreHistory(w,F=!1){if("computed"===this.canceledNavigationResolution){const he=this.currentPageId-this.browserPageId;0!==he?this.location.historyGo(he):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===he&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,F){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:F}:{navigationId:w}}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Cu(S){return!(S instanceof Pr||S instanceof hi)}let oa=(()=>{class S{constructor(w,F,G,he,Ue,Rt){this.router=w,this.route=F,this.tabIndexAttribute=G,this.renderer=he,this.el=Ue,this.locationStrategy=Rt,this.href=null,this.commands=null,this.onChanges=new un.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const At=Ue.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===At||"area"===At,this.isAnchorElement?this.subscription=w.events.subscribe(An=>{An instanceof Li&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,F,G,he,Ue){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||F||G||he||Ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,i.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,F){const G=this.renderer,he=this.el.nativeElement;null!==F?G.setAttribute(he,w,F):G.removeAttribute(he,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(F){return new(F||S)(i.rXU(Hi),i.rXU(Er),i.kS0("tabindex"),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Wn.hb))}}static{this.\u0275dir=i.FsC({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,G){1&F&&i.bIt("click",function(Ue){return G.onClick(Ue.button,Ue.ctrlKey,Ue.shiftKey,Ue.altKey,Ue.metaKey)}),2&F&&i.BMQ("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",i.L39],skipLocationChange:["skipLocationChange","skipLocationChange",i.L39],replaceUrl:["replaceUrl","replaceUrl",i.L39],routerLink:"routerLink"},standalone:!0,features:[i.GFd,i.OA$]})}}return S})(),ws=(()=>{class S{get isActive(){return this._isActive}constructor(w,F,G,he,Ue){this.router=w,this.element=F,this.renderer=G,this.cdr=he,this.link=Ue,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new i.bkB,this.routerEventsSubscription=w.events.subscribe(Rt=>{Rt instanceof Li&&this.update()})}ngAfterContentInit(){(0,Te.of)(this.links.changes,(0,Te.of)(null)).pipe((0,Jn.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,oe.H)(w).pipe((0,Jn.U)()).subscribe(F=>{this._isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(w){const F=Array.isArray(w)?w:w.split(" ");this.classes=F.filter(G=>!!G)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(F=>{w?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const F=function Fa(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return G=>!!G.urlTree&&w.isActive(G.urlTree,F)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(F){return new(F||S)(i.rXU(Hi),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.gRc),i.rXU(oa,8))}}static{this.\u0275dir=i.FsC({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(F,G,he){if(1&F&&i.wni(he,oa,5),2&F){let Ue;i.mGM(Ue=i.lsd())&&(G.links=Ue)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[i.OA$]})}}return S})();class rc{}let Tl=(()=>{class S{constructor(w,F,G,he,Ue){this.router=w,this.injector=G,this.preloadingStrategy=he,this.loader=Ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ve.p)(w=>w instanceof Li),(0,Le.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,F){const G=[];for(const he of F){he.providers&&!he._injector&&(he._injector=(0,i.Ol2)(he.providers,w,`Route: ${he.path}`));const Ue=he._injector??w,Rt=he._loadedInjector??Ue;(he.loadChildren&&!he._loadedRoutes&&void 0===he.canLoad||he.loadComponent&&!he._loadedComponent)&&G.push(this.preloadConfig(Ue,he)),(he.children||he._loadedRoutes)&&G.push(this.processRoutes(Rt,he.children??he._loadedRoutes))}return(0,oe.H)(G).pipe((0,Jn.U)())}preloadConfig(w,F){return this.preloadingStrategy.preload(F,()=>{let G;G=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(w,F):(0,Te.of)(null);const he=G.pipe((0,lt.Z)(Ue=>null===Ue?(0,Te.of)(void 0):(F._loadedRoutes=Ue.routes,F._loadedInjector=Ue.injector,this.processRoutes(Ue.injector??w,Ue.routes))));if(F.loadComponent&&!F._loadedComponent){const Ue=this.loader.loadComponent(F);return(0,oe.H)([he,Ue]).pipe((0,Jn.U)())}return he})}static{this.\u0275fac=function(F){return new(F||S)(i.KVO(Hi),i.KVO(i.Ql9),i.KVO(i.uvJ),i.KVO(rc),i.KVO(Gr))}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const Iu=new i.nKC("");let br=(()=>{class S{constructor(w,F,G,he,Ue={}){this.urlSerializer=w,this.transitions=F,this.viewportScroller=G,this.zone=he,this.options=Ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ue.scrollPositionRestoration=Ue.scrollPositionRestoration||"disabled",Ue.anchorScrolling=Ue.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Li?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof xr&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Us&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Us(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(F){i.QTQ()}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac})}}return S})();function _a(S,N){return{\u0275kind:S,\u0275providers:N}}function jc(){const S=(0,i.WQX)(i.zZn);return N=>{const w=S.get(i.o8S);if(N!==w.components[0])return;const F=S.get(Hi),G=S.get(La);1===S.get(Ki)&&F.initialNavigation(),S.get(Lr,null,i.$GK.Optional)?.setUpPreloading(),S.get(Iu,null,i.$GK.Optional)?.init(),F.resetRootComponentType(w.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const La=new i.nKC("",{factory:()=>new un.B}),Ki=new i.nKC("",{providedIn:"root",factory:()=>1}),Lr=new i.nKC("");function zo(S){return _a(0,[{provide:Lr,useExisting:Tl},{provide:rc,useExisting:S}])}const Il=new i.nKC("ROUTER_FORROOT_GUARD"),wd=[Wn.aZ,{provide:ze,useClass:Ft},Hi,fi,{provide:Er,useFactory:function wu(S){return S.routerState.root},deps:[Hi]},Gr,[]];function Va(){return new i.NEm("Router",Hi)}let wl=(()=>{class S{constructor(w){}static forRoot(w,F){return{ngModule:S,providers:[wd,[],{provide:mi,multi:!0,useValue:w},{provide:Il,useFactory:ya,deps:[[Hi,new i.Xx1,new i.kdw]]},{provide:Mo,useValue:F||{}},F?.useHash?{provide:Wn.hb,useClass:Wn.fw}:{provide:Wn.hb,useClass:Wn.Sm},{provide:Iu,useFactory:()=>{const S=(0,i.WQX)(Wn.Xr),N=(0,i.WQX)(i.SKi),w=(0,i.WQX)(Mo),F=(0,i.WQX)(Ni),G=(0,i.WQX)(ze);return w.scrollOffset&&S.setOffset(w.scrollOffset),new br(G,F,S,N,w)}},F?.preloadingStrategy?zo(F.preloadingStrategy).\u0275providers:[],{provide:i.NEm,multi:!0,useFactory:Va},F?.initialNavigation?Ja(F):[],F?.bindToComponentInputs?_a(8,[J,{provide:te,useExisting:J}]).\u0275providers:[],[{provide:bo,useFactory:jc},{provide:i.iLQ,multi:!0,useExisting:bo}]]}}static forChild(w){return{ngModule:S,providers:[{provide:mi,multi:!0,useValue:w}]}}static{this.\u0275fac=function(F){return new(F||S)(i.KVO(Il,8))}}static{this.\u0275mod=i.$C({type:S})}static{this.\u0275inj=i.G2t({})}}return S})();function ya(S){return"guarded"}function Ja(S){return["disabled"===S.initialNavigation?_a(3,[{provide:i.hnV,multi:!0,useFactory:()=>{const N=(0,i.WQX)(Hi);return()=>{N.setUpLocationChangeListener()}}},{provide:Ki,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?_a(2,[{provide:Ki,useValue:0},{provide:i.hnV,multi:!0,deps:[i.zZn],useFactory:N=>{const w=N.get(Wn.hj,Promise.resolve());return()=>w.then(()=>new Promise(F=>{const G=N.get(Hi),he=N.get(La);El(G,()=>{F(!0)}),N.get(Ni).afterPreactivation=()=>(F(!0),he.closed?(0,Te.of)(void 0):he),G.initialNavigation()}))}}]).\u0275providers:[]]}const bo=new i.nKC("")},3345:(sn,et,O)=>{O.d(et,{A:()=>Je});var i=O(1076),ie=O(1362),n=O(7852),Ce=O(8041);class oe{constructor(fe,He){this._delegate=fe,this.firebase=He,(0,n._addComponent)(fe,new ie.uA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,n.deleteApp)(this._delegate)))}_getService(fe,He=n._DEFAULT_ENTRY_NAME){var Nt;this._delegate.checkDestroyed();const Re=this._delegate.container.getProvider(fe);return!Re.isInitialized()&&"EXPLICIT"===(null===(Nt=Re.getComponent())||void 0===Nt?void 0:Nt.instantiationMode)&&Re.initialize(),Re.getImmediate({identifier:He})}_removeServiceInstance(fe,He=n._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(He)}_addComponent(fe){(0,n._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,n._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new i.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function Ne(){const qe=function be(qe){const fe={},He={__esModule:!0,initializeApp:function Ie(Lt,$t={}){const xe=n.initializeApp(Lt,$t);if((0,i.gR)(fe,xe.name))return fe[xe.name];const tn=new qe(xe,He);return fe[xe.name]=tn,tn},app:Re,registerVersion:n.registerVersion,setLogLevel:n.setLogLevel,onLog:n.onLog,apps:null,SDK_VERSION:n.SDK_VERSION,INTERNAL:{registerComponent:function ot(Lt){const $t=Lt.name,xe=$t.replace("-compat","");if(n._registerComponent(Lt)&&"PUBLIC"===Lt.type){const tn=(un=Re())=>{if("function"!=typeof un[xe])throw Ae.create("invalid-app-argument",{appName:$t});return un[xe]()};void 0!==Lt.serviceProps&&(0,i.zw)(tn,Lt.serviceProps),He[xe]=tn,qe.prototype[xe]=function(...un){return this._getService.bind(this,$t).apply(this,Lt.multipleInstances?un:[])}}return"PUBLIC"===Lt.type?He[xe]:null},removeApp:function Nt(Lt){delete fe[Lt]},useAsService:function _t(Lt,$t){return"serverAuth"===$t?null:$t},modularAPIs:n}};function Re(Lt){if(!(0,i.gR)(fe,Lt=Lt||n._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:Lt});return fe[Lt]}return He.default=He,Object.defineProperty(He,"apps",{get:function dt(){return Object.keys(fe).map(Lt=>fe[Lt])}}),Re.App=qe,He}(oe);return qe.INTERNAL=Object.assign(Object.assign({},qe.INTERNAL),{createFirebaseNamespace:Ne,extendNamespace:function fe(He){(0,i.zw)(qe,He)},createSubscribe:i.tD,ErrorFactory:i.FA,deepExtend:i.zw}),qe}(),Q=new Ce.Vy("@firebase/app-compat");try{const qe=(0,i.mS)();if(void 0!==qe.firebase){Q.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const fe=qe.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&Q.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Je=z;!function Be(qe){(0,n.registerVersion)("@firebase/app-compat","0.2.43",qe)}()},7852:(sn,et,O)=>{O.r(et),O.d(et,{FirebaseError:()=>Ce.g,SDK_VERSION:()=>Ft,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>Kr,_addOrOverwriteComponent:()=>Qi,_apps:()=>Sr,_clearComponents:()=>Ci,_components:()=>zn,_getProvider:()=>qr,_isFirebaseApp:()=>vr,_isFirebaseServerApp:()=>Qn,_registerComponent:()=>pn,_removeServiceInstance:()=>nr,_serverApps:()=>Vr,deleteApp:()=>li,getApp:()=>Rr,getApps:()=>ir,initializeApp:()=>zt,initializeServerApp:()=>Rn,onLog:()=>P,registerVersion:()=>B,setLogLevel:()=>k});var i=O(467),ie=O(1362),n=O(8041),Ce=O(1076);const oe=(Dt,ct)=>ct.some(Vt=>Dt instanceof Vt);let Te,Ae;const z=new WeakMap,Q=new WeakMap,me=new WeakMap,ke=new WeakMap,Be=new WeakMap;let fe={get(Dt,ct,Vt){if(Dt instanceof IDBTransaction){if("done"===ct)return Q.get(Dt);if("objectStoreNames"===ct)return Dt.objectStoreNames||me.get(Dt);if("store"===ct)return Vt.objectStoreNames[1]?void 0:Vt.objectStore(Vt.objectStoreNames[0])}return Ie(Dt[ct])},set:(Dt,ct,Vt)=>(Dt[ct]=Vt,!0),has:(Dt,ct)=>Dt instanceof IDBTransaction&&("done"===ct||"store"===ct)||ct in Dt};function Re(Dt){return"function"==typeof Dt?function Nt(Dt){return Dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Dt)?function(...ct){return Dt.apply(dt(this),ct),Ie(z.get(this))}:function(...ct){return Ie(Dt.apply(dt(this),ct))}:function(ct,...Vt){const fn=Dt.call(dt(this),ct,...Vt);return me.set(fn,ct.sort?ct.sort():[ct]),Ie(fn)}}(Dt):(Dt instanceof IDBTransaction&&function qe(Dt){if(Q.has(Dt))return;const ct=new Promise((Vt,fn)=>{const Kn=()=>{Dt.removeEventListener("complete",_n),Dt.removeEventListener("error",Fn),Dt.removeEventListener("abort",Fn)},_n=()=>{Vt(),Kn()},Fn=()=>{fn(Dt.error||new DOMException("AbortError","AbortError")),Kn()};Dt.addEventListener("complete",_n),Dt.addEventListener("error",Fn),Dt.addEventListener("abort",Fn)});Q.set(Dt,ct)}(Dt),oe(Dt,function be(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Dt,fe):Dt)}function Ie(Dt){if(Dt instanceof IDBRequest)return function Je(Dt){const ct=new Promise((Vt,fn)=>{const Kn=()=>{Dt.removeEventListener("success",_n),Dt.removeEventListener("error",Fn)},_n=()=>{Vt(Ie(Dt.result)),Kn()},Fn=()=>{fn(Dt.error),Kn()};Dt.addEventListener("success",_n),Dt.addEventListener("error",Fn)});return ct.then(Vt=>{Vt instanceof IDBCursor&&z.set(Vt,Dt)}).catch(()=>{}),Be.set(ct,Dt),ct}(Dt);if(ke.has(Dt))return ke.get(Dt);const ct=Re(Dt);return ct!==Dt&&(ke.set(Dt,ct),Be.set(ct,Dt)),ct}const dt=Dt=>Be.get(Dt),Lt=["get","getKey","getAll","getAllKeys","count"],$t=["put","add","delete","clear"],xe=new Map;function tn(Dt,ct){if(!(Dt instanceof IDBDatabase)||ct in Dt||"string"!=typeof ct)return;if(xe.get(ct))return xe.get(ct);const Vt=ct.replace(/FromIndex$/,""),fn=ct!==Vt,Kn=$t.includes(Vt);if(!(Vt in(fn?IDBIndex:IDBObjectStore).prototype)||!Kn&&!Lt.includes(Vt))return;const _n=function(){var Fn=(0,i.A)(function*(gr,...$r){const er=this.transaction(gr,Kn?"readwrite":"readonly");let Fi=er.store;return fn&&(Fi=Fi.index($r.shift())),(yield Promise.all([Fi[Vt](...$r),Kn&&er.done]))[0]});return function($r){return Fn.apply(this,arguments)}}();return xe.set(ct,_n),_n}!function He(Dt){fe=Dt(fe)}(Dt=>({...Dt,get:(ct,Vt,fn)=>tn(ct,Vt)||Dt.get(ct,Vt,fn),has:(ct,Vt)=>!!tn(ct,Vt)||Dt.has(ct,Vt)}));class un{constructor(ct){this.container=ct}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function Wn(Dt){const ct=Dt.getComponent();return"VERSION"===ct?.type}(Vt)){const fn=Vt.getImmediate();return`${fn.library}/${fn.version}`}return null}).filter(Vt=>Vt).join(" ")}}const it="@firebase/app",Ut="0.10.13",Oe=new n.Vy("@firebase/app"),Cn="[DEFAULT]",Fr={[it]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Sr=new Map,Vr=new Map,zn=new Map;function Kr(Dt,ct){try{Dt.container.addComponent(ct)}catch(Vt){Oe.debug(`Component ${ct.name} failed to register with FirebaseApp ${Dt.name}`,Vt)}}function Qi(Dt,ct){Dt.container.addOrOverwriteComponent(ct)}function pn(Dt){const ct=Dt.name;if(zn.has(ct))return Oe.debug(`There were multiple attempts to register component ${ct}.`),!1;zn.set(ct,Dt);for(const Vt of Sr.values())Kr(Vt,Dt);for(const Vt of Vr.values())Kr(Vt,Dt);return!0}function qr(Dt,ct){const Vt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Vt&&Vt.triggerHeartbeat(),Dt.container.getProvider(ct)}function nr(Dt,ct,Vt=Cn){qr(Dt,ct).clearInstance(Vt)}function vr(Dt){return void 0!==Dt.options}function Qn(Dt){return void 0!==Dt.settings}function Ci(){zn.clear()}const Et=new Ce.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class de{constructor(ct,Vt,fn){this._isDeleted=!1,this._options=Object.assign({},ct),this._config=Object.assign({},Vt),this._name=Vt.name,this._automaticDataCollectionEnabled=Vt.automaticDataCollectionEnabled,this._container=fn,this.container.addComponent(new ie.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ct){this._isDeleted=ct}checkDestroyed(){if(this.isDeleted)throw Et.create("app-deleted",{appName:this._name})}}class ze extends de{constructor(ct,Vt,fn,Kn){const _n=void 0!==Vt.automaticDataCollectionEnabled&&Vt.automaticDataCollectionEnabled,Fn={name:fn,automaticDataCollectionEnabled:_n};super(void 0!==ct.apiKey?ct:ct.options,Fn,Kn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:_n},Vt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Vt.releaseOnDeref=void 0,B(it,Ut,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ct){this.isDeleted||(this._refCount++,void 0!==ct&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ct,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){li(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Et.create("server-app-deleted")}}const Ft="10.14.1";function zt(Dt,ct={}){let Vt=Dt;"object"!=typeof ct&&(ct={name:ct});const fn=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},ct),Kn=fn.name;if("string"!=typeof Kn||!Kn)throw Et.create("bad-app-name",{appName:String(Kn)});if(Vt||(Vt=(0,Ce.T9)()),!Vt)throw Et.create("no-options");const _n=Sr.get(Kn);if(_n){if((0,Ce.bD)(Vt,_n.options)&&(0,Ce.bD)(fn,_n.config))return _n;throw Et.create("duplicate-app",{appName:Kn})}const Fn=new ie.h1(Kn);for(const $r of zn.values())Fn.addComponent($r);const gr=new de(Vt,fn,Fn);return Sr.set(Kn,gr),gr}function Rn(Dt,ct){if((0,Ce.Bd)()&&!(0,Ce.p7)())throw Et.create("invalid-server-app-environment");let Vt;void 0===ct.automaticDataCollectionEnabled&&(ct.automaticDataCollectionEnabled=!1),Vt=vr(Dt)?Dt.options:Dt;const fn=Object.assign(Object.assign({},ct),Vt);if(void 0!==fn.releaseOnDeref&&delete fn.releaseOnDeref,void 0!==ct.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Et.create("finalization-registry-not-supported",{});const _n=""+(er=JSON.stringify(fn),[...er].reduce((Fi,cs)=>Math.imul(31,Fi)+cs.charCodeAt(0)|0,0)),Fn=Vr.get(_n);var er;if(Fn)return Fn.incRefCount(ct.releaseOnDeref),Fn;const gr=new ie.h1(_n);for(const er of zn.values())gr.addComponent(er);const $r=new ze(Vt,ct,_n,gr);return Vr.set(_n,$r),$r}function Rr(Dt=Cn){const ct=Sr.get(Dt);if(!ct&&Dt===Cn&&(0,Ce.T9)())return zt();if(!ct)throw Et.create("no-app",{appName:Dt});return ct}function ir(){return Array.from(Sr.values())}function li(Dt){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,i.A)(function*(Dt){let ct=!1;const Vt=Dt.name;Sr.has(Vt)?(ct=!0,Sr.delete(Vt)):Vr.has(Vt)&&Dt.decRefCount()<=0&&(Vr.delete(Vt),ct=!0),ct&&(yield Promise.all(Dt.container.getProviders().map(fn=>fn.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function B(Dt,ct,Vt){var fn;let Kn=null!==(fn=Fr[Dt])&&void 0!==fn?fn:Dt;Vt&&(Kn+=`-${Vt}`);const _n=Kn.match(/\s|\//),Fn=ct.match(/\s|\//);if(_n||Fn){const gr=[`Unable to register library "${Kn}" with version "${ct}":`];return _n&&gr.push(`library name "${Kn}" contains illegal characters (whitespace or "/")`),_n&&Fn&&gr.push("and"),Fn&&gr.push(`version name "${ct}" contains illegal characters (whitespace or "/")`),void Oe.warn(gr.join(" "))}pn(new ie.uA(`${Kn}-version`,()=>({library:Kn,version:ct}),"VERSION"))}function P(Dt,ct){if(null!==Dt&&"function"!=typeof Dt)throw Et.create("invalid-log-argument");(0,n.Ey)(Dt,ct)}function k(Dt){(0,n.He)(Dt)}const se="firebase-heartbeat-database",ye=1,ce="firebase-heartbeat-store";let Qe=null;function _e(){return Qe||(Qe=function ot(Dt,ct,{blocked:Vt,upgrade:fn,blocking:Kn,terminated:_n}={}){const Fn=indexedDB.open(Dt,ct),gr=Ie(Fn);return fn&&Fn.addEventListener("upgradeneeded",$r=>{fn(Ie(Fn.result),$r.oldVersion,$r.newVersion,Ie(Fn.transaction),$r)}),Vt&&Fn.addEventListener("blocked",$r=>Vt($r.oldVersion,$r.newVersion,$r)),gr.then($r=>{_n&&$r.addEventListener("close",()=>_n()),Kn&&$r.addEventListener("versionchange",er=>Kn(er.oldVersion,er.newVersion,er))}).catch(()=>{}),gr}(se,ye,{upgrade:(Dt,ct)=>{if(0===ct)try{Dt.createObjectStore(ce)}catch(Vt){console.warn(Vt)}}}).catch(Dt=>{throw Et.create("idb-open",{originalErrorMessage:Dt.message})})),Qe}function St(){return(St=(0,i.A)(function*(Dt){try{const Vt=(yield _e()).transaction(ce),fn=yield Vt.objectStore(ce).get(Ge(Dt));return yield Vt.done,fn}catch(ct){if(ct instanceof Ce.g)Oe.warn(ct.message);else{const Vt=Et.create("idb-get",{originalErrorMessage:ct?.message});Oe.warn(Vt.message)}}})).apply(this,arguments)}function Dn(Dt,ct){return Se.apply(this,arguments)}function Se(){return(Se=(0,i.A)(function*(Dt,ct){try{const fn=(yield _e()).transaction(ce,"readwrite");yield fn.objectStore(ce).put(ct,Ge(Dt)),yield fn.done}catch(Vt){if(Vt instanceof Ce.g)Oe.warn(Vt.message);else{const fn=Et.create("idb-set",{originalErrorMessage:Vt?.message});Oe.warn(fn.message)}}})).apply(this,arguments)}function Ge(Dt){return`${Dt.name}!${Dt.options.appId}`}class rn{constructor(ct){this.container=ct,this._heartbeatsCache=null;const Vt=this.container.getProvider("app").getImmediate();this._storage=new lr(Vt),this._heartbeatsCachePromise=this._storage.read().then(fn=>(this._heartbeatsCache=fn,fn))}triggerHeartbeat(){var ct=this;return(0,i.A)(function*(){var Vt,fn;try{const _n=ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Fn=En();return null==(null===(Vt=ct._heartbeatsCache)||void 0===Vt?void 0:Vt.heartbeats)&&(ct._heartbeatsCache=yield ct._heartbeatsCachePromise,null==(null===(fn=ct._heartbeatsCache)||void 0===fn?void 0:fn.heartbeats))||ct._heartbeatsCache.lastSentHeartbeatDate===Fn||ct._heartbeatsCache.heartbeats.some(gr=>gr.date===Fn)?void 0:(ct._heartbeatsCache.heartbeats.push({date:Fn,agent:_n}),ct._heartbeatsCache.heartbeats=ct._heartbeatsCache.heartbeats.filter(gr=>{const $r=new Date(gr.date).valueOf();return Date.now()-$r<=2592e6}),ct._storage.overwrite(ct._heartbeatsCache))}catch(Kn){Oe.warn(Kn)}})()}getHeartbeatsHeader(){var ct=this;return(0,i.A)(function*(){var Vt;try{if(null===ct._heartbeatsCache&&(yield ct._heartbeatsCachePromise),null==(null===(Vt=ct._heartbeatsCache)||void 0===Vt?void 0:Vt.heartbeats)||0===ct._heartbeatsCache.heartbeats.length)return"";const fn=En(),{heartbeatsToSend:Kn,unsentEntries:_n}=function hn(Dt,ct=1024){const Vt=[];let fn=Dt.slice();for(const Kn of Dt){const _n=Vt.find(Fn=>Fn.agent===Kn.agent);if(_n){if(_n.dates.push(Kn.date),gn(Vt)>ct){_n.dates.pop();break}}else if(Vt.push({agent:Kn.agent,dates:[Kn.date]}),gn(Vt)>ct){Vt.pop();break}fn=fn.slice(1)}return{heartbeatsToSend:Vt,unsentEntries:fn}}(ct._heartbeatsCache.heartbeats),Fn=(0,Ce.Uj)(JSON.stringify({version:2,heartbeats:Kn}));return ct._heartbeatsCache.lastSentHeartbeatDate=fn,_n.length>0?(ct._heartbeatsCache.heartbeats=_n,yield ct._storage.overwrite(ct._heartbeatsCache)):(ct._heartbeatsCache.heartbeats=[],ct._storage.overwrite(ct._heartbeatsCache)),Fn}catch(fn){return Oe.warn(fn),""}})()}}function En(){return(new Date).toISOString().substring(0,10)}class lr{constructor(ct){this.app=ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,i.A)(function*(){return!!(0,Ce.zW)()&&(0,Ce.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ct=this;return(0,i.A)(function*(){if(yield ct._canUseIndexedDBPromise){const fn=yield function De(Dt){return St.apply(this,arguments)}(ct.app);return fn?.heartbeats?fn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ct){var Vt=this;return(0,i.A)(function*(){var fn;if(yield Vt._canUseIndexedDBPromise){const _n=yield Vt.read();return Dn(Vt.app,{lastSentHeartbeatDate:null!==(fn=ct.lastSentHeartbeatDate)&&void 0!==fn?fn:_n.lastSentHeartbeatDate,heartbeats:ct.heartbeats})}})()}add(ct){var Vt=this;return(0,i.A)(function*(){var fn;if(yield Vt._canUseIndexedDBPromise){const _n=yield Vt.read();return Dn(Vt.app,{lastSentHeartbeatDate:null!==(fn=ct.lastSentHeartbeatDate)&&void 0!==fn?fn:_n.lastSentHeartbeatDate,heartbeats:[..._n.heartbeats,...ct.heartbeats]})}})()}}function gn(Dt){return(0,Ce.Uj)(JSON.stringify({version:2,heartbeats:Dt})).length}!function Ii(Dt){pn(new ie.uA("platform-logger",ct=>new un(ct),"PRIVATE")),pn(new ie.uA("heartbeat",ct=>new rn(ct),"PRIVATE")),B(it,Ut,Dt),B(it,Ut,"esm2017"),B("fire-js","")}("")},1362:(sn,et,O)=>{O.d(et,{h1:()=>be,uA:()=>n});var i=O(467),ie=O(1076);class n{constructor(z,Q,me){this.name=z,this.instanceFactory=Q,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const Ce="[DEFAULT]";class oe{constructor(z,Q){this.name=z,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const Q=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(Q)){const me=new ie.cY;if(this.instancesDeferred.set(Q,me),this.isInitialized(Q)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:Q});ke&&me.resolve(ke)}catch{}}return this.instancesDeferred.get(Q).promise}getImmediate(z){var Q;const me=this.normalizeInstanceIdentifier(z?.identifier),ke=null!==(Q=z?.optional)&&void 0!==Q&&Q;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(Be){if(ke)return null;throw Be}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function Ae(Ne){return"EAGER"===Ne.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[Q,me]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(Q);try{const Be=this.getOrInitializeService({instanceIdentifier:ke});me.resolve(Be)}catch{}}}}clearInstance(z=Ce){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,i.A)(function*(){const Q=Array.from(z.instances.values());yield Promise.all([...Q.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...Q.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=Ce){return this.instances.has(z)}getOptions(z=Ce){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:Q={}}=z,me=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:me,options:Q});for(const[Be,Je]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(Be)&&Je.resolve(ke);return ke}onInit(z,Q){var me;const ke=this.normalizeInstanceIdentifier(Q),Be=null!==(me=this.onInitCallbacks.get(ke))&&void 0!==me?me:new Set;Be.add(z),this.onInitCallbacks.set(ke,Be);const Je=this.instances.get(ke);return Je&&z(Je,ke),()=>{Be.delete(z)}}invokeOnInitCallbacks(z,Q){const me=this.onInitCallbacks.get(Q);if(me)for(const ke of me)try{ke(z,Q)}catch{}}getOrInitializeService({instanceIdentifier:z,options:Q={}}){let me=this.instances.get(z);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=z,Ne===Ce?void 0:Ne),options:Q}),this.instances.set(z,me),this.instancesOptions.set(z,Q),this.invokeOnInitCallbacks(me,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,me)}catch{}var Ne;return me||null}normalizeInstanceIdentifier(z=Ce){return this.component?this.component.multipleInstances?z:Ce:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const Q=this.getProvider(z.name);if(Q.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);Q.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const Q=new oe(z,this);return this.providers.set(z,Q),Q}getProviders(){return Array.from(this.providers.values())}}},8041:(sn,et,O)=>{O.d(et,{$b:()=>ie,Ey:()=>Ne,He:()=>be,Vy:()=>Ae});const i=[];var ie=function(z){return z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",z}(ie||{});const n={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Ce=ie.INFO,oe={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Te=(z,Q,...me)=>{if(Q<z.logLevel)return;const ke=(new Date).toISOString(),Be=oe[Q];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[Be](`[${ke}]  ${z.name}:`,...me)};class Ae{constructor(Q){this.name=Q,this._logLevel=Ce,this._logHandler=Te,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in ie))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?n[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...Q),this._logHandler(this,ie.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...Q),this._logHandler(this,ie.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...Q),this._logHandler(this,ie.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...Q),this._logHandler(this,ie.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...Q),this._logHandler(this,ie.ERROR,...Q)}}function be(z){i.forEach(Q=>{Q.setLogLevel(z)})}function Ne(z,Q){for(const me of i){let ke=null;Q&&Q.level&&(ke=n[Q.level]),me.userLogHandler=null===z?null:(Be,Je,...qe)=>{const fe=qe.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch{return null}}).filter(He=>He).join(" ");Je>=(ke??Be.logLevel)&&z({level:ie[Je].toLowerCase(),message:fe,args:qe,type:Be.name})}}}},2214:(sn,et,O)=>{O.d(et,{Dk:()=>i.getApps,KO:()=>i.registerVersion,Sx:()=>i.getApp,Wp:()=>i.initializeApp});var i=O(7852);(0,i.registerVersion)("firebase","10.14.1","app")},7935:(sn,et,O)=>{O.d(et,{A:()=>i.A});var i=O(3345);i.A.registerVersion("firebase","10.14.1","app-compat")},2438:(sn,et,O)=>{var i=O(467),ie=O(3345),n=O(5504),Ce=O(1076),Ae=(O(7852),O(8041),O(1362));function be(){return window}function Q(){return Q=(0,i.A)(function*(B,P,k){var se;const{BuildInfo:ye}=be();(0,n.au)(P.sessionId,"AuthEvent did not contain a session ID");const ce=yield function He(B){return Nt.apply(this,arguments)}(P.sessionId),Qe={};return(0,n.av)()?Qe.ibi=ye.packageName:(0,n.aw)()?Qe.apn=ye.packageName:(0,n.ax)(B,"operation-not-supported-in-this-environment"),ye.displayName&&(Qe.appDisplayName=ye.displayName),Qe.sessionId=ce,(0,n.ay)(B,k,P.type,void 0,null!==(se=P.eventId)&&void 0!==se?se:void 0,Qe)}),Q.apply(this,arguments)}function ke(){return(ke=(0,i.A)(function*(B){const{BuildInfo:P}=be(),k={};(0,n.av)()?k.iosBundleId=P.packageName:(0,n.aw)()?k.androidPackageName=P.packageName:(0,n.ax)(B,"operation-not-supported-in-this-environment"),yield(0,n.az)(B,k)})).apply(this,arguments)}function qe(){return(qe=(0,i.A)(function*(B,P,k){const{cordova:se}=be();let ye=()=>{};try{yield new Promise((ce,Qe)=>{let _e=null;function De(){var Se;ce();const Ge=null===(Se=se.plugins.browsertab)||void 0===Se?void 0:Se.close;"function"==typeof Ge&&Ge(),"function"==typeof k?.close&&k.close()}function St(){_e||(_e=window.setTimeout(()=>{Qe((0,n.aB)(B,"redirect-cancelled-by-user"))},2e3))}function Dn(){"visible"===document?.visibilityState&&St()}P.addPassiveListener(De),document.addEventListener("resume",St,!1),(0,n.aw)()&&document.addEventListener("visibilitychange",Dn,!1),ye=()=>{P.removePassiveListener(De),document.removeEventListener("resume",St,!1),document.removeEventListener("visibilitychange",Dn,!1),_e&&window.clearTimeout(_e)}})}finally{ye()}})).apply(this,arguments)}function Nt(){return(Nt=(0,i.A)(function*(B){const P=function Re(B){if((0,n.au)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(B);const P=new ArrayBuffer(B.length),k=new Uint8Array(P);for(let se=0;se<B.length;se++)k[se]=B.charCodeAt(se);return k}(B),k=yield crypto.subtle.digest("SHA-256",P);return Array.from(new Uint8Array(k)).map(ye=>ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class dt extends n.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(P=>{this.resolveInitialized=P})}addPassiveListener(P){this.passiveListeners.add(P)}removePassiveListener(P){this.passiveListeners.delete(P)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(P){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(P)),super.onEvent(P)}initialized(){var P=this;return(0,i.A)(function*(){yield P.initPromise})()}}function Lt(B){return $t.apply(this,arguments)}function $t(){return($t=(0,i.A)(function*(B){const P=yield un()._get(Wn(B));return P&&(yield un()._remove(Wn(B))),P})).apply(this,arguments)}function tn(){const B=[];for(let k=0;k<20;k++){const se=Math.floor(62*Math.random());B.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(se))}return B.join("")}function un(){return(0,n.aE)(n.b)}function Wn(B){return(0,n.aF)("authEvent",B.config.apiKey,B.name)}function Oe(B){if(!B?.includes("?"))return{};const[P,...k]=B.split("?");return(0,Ce.I9)(k.join("?"))}const lt=class Ve{constructor(){this._redirectPersistence=n.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=n.aG,this._overrideRedirectResult=n.aH}_initialize(P){var k=this;return(0,i.A)(function*(){const se=P._key();let ye=k.eventManagers.get(se);return ye||(ye=new dt(P),k.eventManagers.set(se,ye),k.attachCallbackListeners(P,ye)),ye})()}_openPopup(P){(0,n.ax)(P,"operation-not-supported-in-this-environment")}_openRedirect(P,k,se,ye){var ce=this;return(0,i.A)(function*(){!function fe(B){var P,k,se,ye,ce,Qe,_e,De,St,Dn;const Se=be();(0,n.aC)("function"==typeof(null===(P=Se?.universalLinks)||void 0===P?void 0:P.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,n.aC)(typeof(null===(k=Se?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,n.aC)("function"==typeof(null===(ce=null===(ye=null===(se=Se?.cordova)||void 0===se?void 0:se.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===ce?void 0:ce.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,n.aC)("function"==typeof(null===(De=null===(_e=null===(Qe=Se?.cordova)||void 0===Qe?void 0:Qe.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===De?void 0:De.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,n.aC)("function"==typeof(null===(Dn=null===(St=Se?.cordova)||void 0===St?void 0:St.InAppBrowser)||void 0===Dn?void 0:Dn.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(P);const Qe=yield ce._initialize(P);yield Qe.initialized(),Qe.resetRedirect(),(0,n.aI)(),yield ce._originValidation(P);const _e=function ot(B,P,k=null){return{type:P,eventId:k,urlResponse:null,sessionId:tn(),postBody:null,tenantId:B.tenantId,error:(0,n.aB)(B,"no-auth-event")}}(P,se,ye);yield function _t(B,P){return un()._set(Wn(B),P)}(P,_e);const De=yield function z(B,P,k){return Q.apply(this,arguments)}(P,_e,k),St=yield function Be(B){const{cordova:P}=be();return new Promise(k=>{P.plugins.browsertab.isAvailable(se=>{let ye=null;se?P.plugins.browsertab.openUrl(B):ye=P.InAppBrowser.open(B,(0,n.aA)()?"_blank":"_system","location=yes"),k(ye)})})}(De);return function Je(B,P,k){return qe.apply(this,arguments)}(P,Qe,St)})()}_isIframeWebStorageSupported(P,k){throw new Error("Method not implemented.")}_originValidation(P){const k=P._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function me(B){return ke.apply(this,arguments)}(P)),this.originValidationPromises[k]}attachCallbackListeners(P,k){const{universalLinks:se,handleOpenURL:ye,BuildInfo:ce}=be(),Qe=setTimeout((0,i.A)(function*(){yield Lt(P),k.onEvent(ft())}),500),_e=function(){var Dn=(0,i.A)(function*(Se){clearTimeout(Qe);const Ge=yield Lt(P);let Ye=null;Ge&&Se?.url&&(Ye=function xe(B,P){var k,se;const ye=function Ut(B){const P=Oe(B),k=P.link?decodeURIComponent(P.link):void 0,se=Oe(k).link,ye=P.deep_link_id?decodeURIComponent(P.deep_link_id):void 0;return Oe(ye).link||ye||se||k||B}(P);if(ye.includes("/__/auth/callback")){const ce=Oe(ye),Qe=ce.firebaseError?function it(B){try{return JSON.parse(B)}catch{return null}}(decodeURIComponent(ce.firebaseError)):null,_e=null===(se=null===(k=Qe?.code)||void 0===k?void 0:k.split("auth/"))||void 0===se?void 0:se[1],De=_e?(0,n.aB)(_e):null;return De?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:De,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:ye,postBody:null}}return null}(Ge,Se.url)),k.onEvent(Ye||ft())});return function(Ge){return Dn.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,_e);const De=ye,St=`${ce.packageName.toLowerCase()}://`;be().handleOpenURL=function(){var Dn=(0,i.A)(function*(Se){if(Se.toLowerCase().startsWith(St)&&_e({url:Se}),"function"==typeof De)try{De(Se)}catch(Ge){console.error(Ge)}});return function(Se){return Dn.apply(this,arguments)}}()}};function ft(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,n.aB)("no-auth-event")}}function gt(){var B;return(null===(B=self?.location)||void 0===B?void 0:B.protocol)||null}function Ht(B=(0,Ce.ZQ)()){return!("file:"!==gt()&&"ionic:"!==gt()&&"capacitor:"!==gt()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}function nn(){try{const B=self.localStorage,P=n.aN();if(B)return B.setItem(P,"1"),B.removeItem(P),!function kn(B=(0,Ce.ZQ)()){return function cr(){return(0,Ce.lT)()&&11===document?.documentMode}()||function dn(B=(0,Ce.ZQ)()){return/Edge\/\d+/.test(B)}(B)}()||(0,Ce.zW)()}catch{return Jn()&&(0,Ce.zW)()}return!1}function Jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ln(){return(function at(){return"http:"===gt()||"https:"===gt()}()||(0,Ce.sr)()||Ht())&&!function Sn(){return(0,Ce.lV)()||(0,Ce.Ll)()}()&&nn()&&!Jn()}function Qt(){return Ht()&&typeof document<"u"}function yr(){return(yr=(0,i.A)(function*(){return!!Qt()&&new Promise(B=>{const P=setTimeout(()=>{B(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(P),B(!0)})})})).apply(this,arguments)}const ar={LOCAL:"local",NONE:"none",SESSION:"session"},Un=n.aC,Bt="persistence";function jn(B){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,i.A)(function*(B){yield B._initializationPromise;const P=Sr(),k=n.aF(Bt,B.config.apiKey,B.name);P&&P.setItem(k,B._getPersistence())})).apply(this,arguments)}function Sr(){var B;try{return(null===(B=function Zt(){return typeof window<"u"?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch{return null}}const Vr=n.aC;class zn{constructor(){this.browserResolver=n.aE(n.k),this.cordovaResolver=n.aE(lt),this.underlyingResolver=null,this._redirectPersistence=n.a,this._completeRedirectFn=n.aG,this._overrideRedirectResult=n.aH}_initialize(P){var k=this;return(0,i.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(P)})()}_openPopup(P,k,se,ye){var ce=this;return(0,i.A)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openPopup(P,k,se,ye)})()}_openRedirect(P,k,se,ye){var ce=this;return(0,i.A)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openRedirect(P,k,se,ye)})()}_isIframeWebStorageSupported(P,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(P,k)}_originValidation(P){return this.assertedUnderlyingResolver._originValidation(P)}get _shouldInitProactively(){return Qt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var P=this;return(0,i.A)(function*(){if(P.underlyingResolver)return;const k=yield function qt(){return yr.apply(this,arguments)}();P.underlyingResolver=k?P.cordovaResolver:P.browserResolver})()}}function Kr(B){return B.unwrap()}function pn(B){return nr(B)}function nr(B){const{_tokenResponse:P}=B instanceof Ce.g?B.customData:B;if(!P)return null;if(!(B instanceof Ce.g)&&"temporaryProof"in P&&"phoneNumber"in P)return n.P.credentialFromResult(B);const k=P.providerId;if(!k||k===n.p.PASSWORD)return null;let se;switch(k){case n.p.GOOGLE:se=n.X;break;case n.p.FACEBOOK:se=n.W;break;case n.p.GITHUB:se=n.Y;break;case n.p.TWITTER:se=n.$;break;default:const{oauthIdToken:ye,oauthAccessToken:ce,oauthTokenSecret:Qe,pendingToken:_e,nonce:De}=P;return ce||Qe||ye||_e?_e?k.startsWith("saml.")?n.aQ._create(k,_e):n.N._fromParams({providerId:k,signInMethod:k,pendingToken:_e,idToken:ye,accessToken:ce}):new n.Z(k).credential({idToken:ye,accessToken:ce,rawNonce:De}):null}return B instanceof Ce.g?se.credentialFromError(B):se.credentialFromResult(B)}function vr(B,P){return P.catch(k=>{throw k instanceof Ce.g&&function qr(B,P){var k;const se=null===(k=P.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===P?.code)P.resolver=new pt(B,n.as(B,P));else if(se){const ye=nr(P),ce=P;ye&&(ce.credential=ye,ce.tenantId=se.tenantId||void 0,ce.email=se.email||void 0,ce.phoneNumber=se.phoneNumber||void 0)}}(B,k),k}).then(k=>{const ye=k.user;return{operationType:k.operationType,credential:pn(k),additionalUserInfo:n.aq(k),user:Et.getOrCreate(ye)}})}function Qn(B,P){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,i.A)(function*(B,P){const k=yield P;return{verificationId:k.verificationId,confirm:se=>vr(B,k.confirm(se))}})).apply(this,arguments)}class pt{constructor(P,k){this.resolver=k,this.auth=function Qi(B){return B.wrapped()}(P)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(P){return vr(Kr(this.auth),this.resolver.resolveSignIn(P))}}class Et{constructor(P){this._delegate=P,this.multiFactor=n.at(P)}static getOrCreate(P){return Et.USER_MAP.has(P)||Et.USER_MAP.set(P,new Et(P)),Et.USER_MAP.get(P)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(P){return this._delegate.getIdTokenResult(P)}getIdToken(P){return this._delegate.getIdToken(P)}linkAndRetrieveDataWithCredential(P){return this.linkWithCredential(P)}linkWithCredential(P){var k=this;return(0,i.A)(function*(){return vr(k.auth,n.a2(k._delegate,P))})()}linkWithPhoneNumber(P,k){var se=this;return(0,i.A)(function*(){return Qn(se.auth,n.l(se._delegate,P,k))})()}linkWithPopup(P){var k=this;return(0,i.A)(function*(){return vr(k.auth,n.d(k._delegate,P,zn))})()}linkWithRedirect(P){var k=this;return(0,i.A)(function*(){return yield jn(n.aJ(k.auth)),n.g(k._delegate,P,zn)})()}reauthenticateAndRetrieveDataWithCredential(P){return this.reauthenticateWithCredential(P)}reauthenticateWithCredential(P){var k=this;return(0,i.A)(function*(){return vr(k.auth,n.a3(k._delegate,P))})()}reauthenticateWithPhoneNumber(P,k){return Qn(this.auth,n.r(this._delegate,P,k))}reauthenticateWithPopup(P){return vr(this.auth,n.e(this._delegate,P,zn))}reauthenticateWithRedirect(P){var k=this;return(0,i.A)(function*(){return yield jn(n.aJ(k.auth)),n.h(k._delegate,P,zn)})()}sendEmailVerification(P){return n.ag(this._delegate,P)}unlink(P){var k=this;return(0,i.A)(function*(){return yield n.ap(k._delegate,P),k})()}updateEmail(P){return n.al(this._delegate,P)}updatePassword(P){return n.am(this._delegate,P)}updatePhoneNumber(P){return n.u(this._delegate,P)}updateProfile(P){return n.ak(this._delegate,P)}verifyBeforeUpdateEmail(P,k){return n.ah(this._delegate,P,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Et.USER_MAP=new WeakMap;const de=n.aC;let ze=(()=>{class B{constructor(k,se){if(this.app=k,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ye}=k.options;de(ye,"invalid-api-key",{appName:k.name}),de(ye,"invalid-api-key",{appName:k.name});const ce=typeof window<"u"?zn:void 0;this._delegate=se.initialize({options:{persistence:zt(ye,k.name),popupRedirectResolver:ce}}),this._delegate._updateErrorMap(n.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Et.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,se){n.K(this._delegate,k,se)}applyActionCode(k){return n.a7(this._delegate,k)}checkActionCode(k){return n.a8(this._delegate,k)}confirmPasswordReset(k,se){return n.a6(this._delegate,k,se)}createUserWithEmailAndPassword(k,se){var ye=this;return(0,i.A)(function*(){return vr(ye._delegate,n.aa(ye._delegate,k,se))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return n.af(this._delegate,k)}isSignInWithEmailLink(k){return n.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,i.A)(function*(){de(Ln(),k._delegate,"operation-not-supported-in-this-environment");const se=yield n.j(k._delegate,zn);return se?vr(k._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Le(B,P){(0,n.aJ)(B)._logFramework(P)}(this._delegate,k)}onAuthStateChanged(k,se,ye){const{next:ce,error:Qe,complete:_e}=Ft(k,se,ye);return this._delegate.onAuthStateChanged(ce,Qe,_e)}onIdTokenChanged(k,se,ye){const{next:ce,error:Qe,complete:_e}=Ft(k,se,ye);return this._delegate.onIdTokenChanged(ce,Qe,_e)}sendSignInLinkToEmail(k,se){return n.ac(this._delegate,k,se)}sendPasswordResetEmail(k,se){return n.a5(this._delegate,k,se||void 0)}setPersistence(k){var se=this;return(0,i.A)(function*(){let ye;switch(function Tn(B,P){Un(Object.values(ar).includes(P),B,"invalid-persistence-type"),(0,Ce.lV)()?Un(P!==ar.SESSION,B,"unsupported-persistence-type"):(0,Ce.Ll)()?Un(P===ar.NONE,B,"unsupported-persistence-type"):Jn()?Un(P===ar.NONE||P===ar.LOCAL&&(0,Ce.zW)(),B,"unsupported-persistence-type"):Un(P===ar.NONE||nn(),B,"unsupported-persistence-type")}(se._delegate,k),k){case ar.SESSION:ye=n.a;break;case ar.LOCAL:ye=(yield n.aE(n.i)._isAvailable())?n.i:n.b;break;case ar.NONE:ye=n.U;break;default:return n.ax("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(ye)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return vr(this._delegate,n.a0(this._delegate))}signInWithCredential(k){return vr(this._delegate,n.a1(this._delegate,k))}signInWithCustomToken(k){return vr(this._delegate,n.a4(this._delegate,k))}signInWithEmailAndPassword(k,se){return vr(this._delegate,n.ab(this._delegate,k,se))}signInWithEmailLink(k,se){return vr(this._delegate,n.ae(this._delegate,k,se))}signInWithPhoneNumber(k,se){return Qn(this._delegate,n.s(this._delegate,k,se))}signInWithPopup(k){var se=this;return(0,i.A)(function*(){return de(Ln(),se._delegate,"operation-not-supported-in-this-environment"),vr(se._delegate,n.c(se._delegate,k,zn))})()}signInWithRedirect(k){var se=this;return(0,i.A)(function*(){return de(Ln(),se._delegate,"operation-not-supported-in-this-environment"),yield jn(se._delegate),n.f(se._delegate,k,zn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return n.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return B.Persistence=ar,B})();function Ft(B,P,k){let se=B;"function"!=typeof B&&({next:se,error:P,complete:k}=B);const ye=se;return{next:Qe=>ye(Qe&&Et.getOrCreate(Qe)),error:P,complete:k}}function zt(B,P){const k=function Fr(B,P){const k=Sr();if(!k)return[];const se=n.aF(Bt,B,P);switch(k.getItem(se)){case ar.NONE:return[n.U];case ar.LOCAL:return[n.i,n.a];case ar.SESSION:return[n.a];default:return[]}}(B,P);if(typeof self<"u"&&!k.includes(n.i)&&k.push(n.i),typeof window<"u")for(const se of[n.b,n.a])k.includes(se)||k.push(se);return k.includes(n.U)||k.push(n.U),k}class Rn{constructor(){this.providerId="phone",this._delegate=new n.P(Kr(ie.A.auth()))}static credential(P,k){return n.P.credential(P,k)}verifyPhoneNumber(P,k){return this._delegate.verifyPhoneNumber(P,k)}unwrap(){return this._delegate}}Rn.PHONE_SIGN_IN_METHOD=n.P.PHONE_SIGN_IN_METHOD,Rn.PROVIDER_ID=n.P.PROVIDER_ID;const Rr=n.aC;class ir{constructor(P,k,se=ie.A.app()){var ye;Rr(null===(ye=se.options)||void 0===ye?void 0:ye.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new n.R(se.auth(),P,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Pt(B){B.INTERNAL.registerComponent(new Ae.uA("auth-compat",P=>{const k=P.getProvider("app-compat").getImmediate(),se=P.getProvider("auth");return new ze(k,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:n.A.EMAIL_SIGNIN,PASSWORD_RESET:n.A.PASSWORD_RESET,RECOVER_EMAIL:n.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:n.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:n.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:n.A.VERIFY_EMAIL}},EmailAuthProvider:n.V,FacebookAuthProvider:n.W,GithubAuthProvider:n.Y,GoogleAuthProvider:n.X,OAuthProvider:n.Z,SAMLAuthProvider:n._,PhoneAuthProvider:Rn,PhoneMultiFactorGenerator:n.m,RecaptchaVerifier:ir,TwitterAuthProvider:n.$,Auth:ze,AuthCredential:n.L,Error:Ce.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.5.14")}(ie.A)},467:(sn,et,O)=>{function i(n,Ce,oe,Te,Ae,be,Ne){try{var z=n[be](Ne),Q=z.value}catch(me){return void oe(me)}z.done?Ce(Q):Promise.resolve(Q).then(Te,Ae)}function ie(n){return function(){var Ce=this,oe=arguments;return new Promise(function(Te,Ae){var be=n.apply(Ce,oe);function Ne(Q){i(be,Te,Ae,Ne,z,"next",Q)}function z(Q){i(be,Te,Ae,Ne,z,"throw",Q)}Ne(void 0)})}}O.d(et,{A:()=>ie})},1635:(sn,et,O)=>{function Ce(Le,Z){var Ee={};for(var je in Le)Object.prototype.hasOwnProperty.call(Le,je)&&Z.indexOf(je)<0&&(Ee[je]=Le[je]);if(null!=Le&&"function"==typeof Object.getOwnPropertySymbols){var gt=0;for(je=Object.getOwnPropertySymbols(Le);gt<je.length;gt++)Z.indexOf(je[gt])<0&&Object.prototype.propertyIsEnumerable.call(Le,je[gt])&&(Ee[je[gt]]=Le[je[gt]])}return Ee}function me(Le,Z,Ee,je){return new(Ee||(Ee=Promise))(function(at,Ht){function Sn(kn){try{dn(je.next(kn))}catch(nn){Ht(nn)}}function cr(kn){try{dn(je.throw(kn))}catch(nn){Ht(nn)}}function dn(kn){kn.done?at(kn.value):function gt(at){return at instanceof Ee?at:new Ee(function(Ht){Ht(at)})}(kn.value).then(Sn,cr)}dn((je=je.apply(Le,Z||[])).next())})}function Ie(Le){return this instanceof Ie?(this.v=Le,this):new Ie(Le)}function dt(Le,Z,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt,je=Ee.apply(Le,Z||[]),at=[];return gt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Sn("next"),Sn("throw"),Sn("return",function Ht(Ln){return function(Qt){return Promise.resolve(Qt).then(Ln,nn)}}),gt[Symbol.asyncIterator]=function(){return this},gt;function Sn(Ln,Qt){je[Ln]&&(gt[Ln]=function(qt){return new Promise(function(yr,Zt){at.push([Ln,qt,yr,Zt])>1||cr(Ln,qt)})},Qt&&(gt[Ln]=Qt(gt[Ln])))}function cr(Ln,Qt){try{!function dn(Ln){Ln.value instanceof Ie?Promise.resolve(Ln.value.v).then(kn,nn):Jn(at[0][2],Ln)}(je[Ln](Qt))}catch(qt){Jn(at[0][3],qt)}}function kn(Ln){cr("next",Ln)}function nn(Ln){cr("throw",Ln)}function Jn(Ln,Qt){Ln(Qt),at.shift(),at.length&&cr(at[0][0],at[0][1])}}function _t(Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,Z=Le[Symbol.asyncIterator];return Z?Z.call(Le):(Le=function qe(Le){var Z="function"==typeof Symbol&&Symbol.iterator,Ee=Z&&Le[Z],je=0;if(Ee)return Ee.call(Le);if(Le&&"number"==typeof Le.length)return{next:function(){return Le&&je>=Le.length&&(Le=void 0),{value:Le&&Le[je++],done:!Le}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}(Le),Ee={},je("next"),je("throw"),je("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function je(at){Ee[at]=Le[at]&&function(Ht){return new Promise(function(Sn,cr){!function gt(at,Ht,Sn,cr){Promise.resolve(cr).then(function(dn){at({value:dn,done:Sn})},Ht)}(Sn,cr,(Ht=Le[at](Ht)).done,Ht.value)})}}}O.d(et,{AQ:()=>dt,N3:()=>Ie,Tt:()=>Ce,sH:()=>me,xN:()=>_t}),"function"==typeof SuppressedError&&SuppressedError}},sn=>{sn(sn.s=6282)}]);