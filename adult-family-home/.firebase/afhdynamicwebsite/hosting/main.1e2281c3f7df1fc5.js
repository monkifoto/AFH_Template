"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[179],{35:(on,et,k)=>{k.d(et,{$:()=>Wo,A:()=>re,G:()=>We,K:()=>Hi,L:()=>to,N:()=>Ee,P:()=>as,R:()=>qu,U:()=>nn,V:()=>Pi,W:()=>Tr,X:()=>Go,Y:()=>Ri,Z:()=>zr,_:()=>fo,a:()=>Ft,a0:()=>fs,a1:()=>ts,a2:()=>Co,a3:()=>yc,a4:()=>tu,a5:()=>Ra,a6:()=>qs,a7:()=>Uo,a8:()=>ca,a9:()=>da,aA:()=>Wn,aB:()=>Xe,aC:()=>ge,aD:()=>Oc,aE:()=>gt,aF:()=>Zt,aG:()=>_d,aH:()=>wh,aI:()=>Ia,aJ:()=>lr,aN:()=>pa,aQ:()=>Zi,aa:()=>ha,ab:()=>vc,ac:()=>Bs,ad:()=>Bu,ae:()=>js,af:()=>b,ag:()=>N,ah:()=>_e,ak:()=>pr,al:()=>Pr,am:()=>or,ap:()=>U,aq:()=>Bo,as:()=>Cc,at:()=>Dc,au:()=>Jt,av:()=>Fr,aw:()=>Gr,ax:()=>ke,ay:()=>wa,az:()=>vd,b:()=>is,c:()=>lu,d:()=>Ih,e:()=>Hs,f:()=>Ca,g:()=>Th,h:()=>Rc,i:()=>S,j:()=>ip,k:()=>Td,l:()=>De,m:()=>El,p:()=>Le,r:()=>zt,s:()=>he,u:()=>ro});var l=k(5861),y=k(534),z=k(9058),Ce=k(7879),me=k(7582),be=k(4537);const Le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},re={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function Re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Rt=function mt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vt=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bt=new Ce.Yd("@firebase/auth");function qe(v,...h){bt.logLevel<=Ce.in.ERROR&&bt.error(`Auth (${y.SDK_VERSION}): ${v}`,...h)}function ke(v,...h){throw St(v,...h)}function Xe(v,...h){return St(v,...h)}function Ye(v,h,p){const w=Object.assign(Object.assign({},Rt()),{[h]:p});return new z.LL("auth","Firebase",w).create(h,{appName:v.name})}function Qe(v){return Ye(v,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yt(v,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&ke(v,"argument-error"),Ye(v,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function St(v,...h){if("string"!=typeof v){const p=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(p,...w)}return vt.create(v,...h)}function ge(v,h,...p){if(!v)throw St(h,...p)}function Ht(v){const h="INTERNAL ASSERTION FAILED: "+v;throw qe(h),new Error(h)}function Jt(v,h){v||Ht(h)}function xn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function $e(){return"http:"===Tt()||"https:"===Tt()}function Tt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class le{constructor(h,p){this.shortDelay=h,this.longDelay=p,Jt(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function it(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($e()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function se(v,h){Jt(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Ae{static initialize(h,p,w){this.fetchImpl=h,p&&(this.headersImpl=p),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new le(3e4,6e4);function Ie(v,h){return v.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:v.tenantId}):h}function Fe(v,h,p,w){return Et.apply(this,arguments)}function Et(){return(Et=(0,l.Z)(function*(v,h,p,w,H={}){return It(v,H,(0,l.Z)(function*(){let ne={},Ne={};w&&("GET"===h?Ne=w:ne={body:JSON.stringify(w)});const lt=(0,z.xO)(Object.assign({key:v.config.apiKey},Ne)).slice(1),Lt=yield v._getAdditionalHeaders();return Lt["Content-Type"]="application/json",v.languageCode&&(Lt["X-Firebase-Locale"]=v.languageCode),Ae.fetch()(_n(v,v.config.apiHost,p,lt),Object.assign({method:h,headers:Lt,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function It(v,h,p){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(v,h,p){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},Ge),h);try{const H=new xt(v),ne=yield Promise.race([p(),H.promise]);H.clearNetworkTimeout();const Ne=yield ne.json();if("needConfirmation"in Ne)throw En(v,"account-exists-with-different-credential",Ne);if(ne.ok&&!("errorMessage"in Ne))return Ne;{const lt=ne.ok?Ne.errorMessage:Ne.error.message,[Lt,In]=lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Lt)throw En(v,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Lt)throw En(v,"email-already-in-use",Ne);if("USER_DISABLED"===Lt)throw En(v,"user-disabled",Ne);const Un=w[Lt]||Lt.toLowerCase().replace(/[_\s]+/g,"-");if(In)throw Ye(v,Un,In);ke(v,Un)}}catch(H){if(H instanceof z.ZR)throw H;ke(v,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function qt(v,h,p,w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(v,h,p,w,H={}){const ne=yield Fe(v,h,p,w,H);return"mfaPendingCredential"in ne&&ke(v,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function _n(v,h,p,w){const H=`${h}${p}?${w}`;return v.config.emulator?se(v.config,H):`${v.config.apiScheme}://${H}`}function tr(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,w)=>{this.timer=setTimeout(()=>w(Xe(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function En(v,h,p){const w={appName:v.name};p.email&&(w.email=p.email),p.phoneNumber&&(w.phoneNumber=p.phoneNumber);const H=Xe(v,h,w);return H.customData._tokenResponse=p,H}function On(v){return void 0!==v&&void 0!==v.getResponse}function Ut(v){return void 0!==v&&void 0!==v.enterprise}class Nt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return tr(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function tn(){return(tn=(0,l.Z)(function*(v){return(yield Fe(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function sr(v,h){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(v,h){return Fe(v,"GET","/v2/recaptchaConfig",Ie(v,h))})).apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ir(v,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function xr(v){if(v)try{const h=new Date(Number(v));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Ci(){return(Ci=(0,l.Z)(function*(v,h=!1){const p=(0,z.m9)(v),w=yield p.getIdToken(h),H=Nr(w);ge(H&&H.exp&&H.auth_time&&H.iat,p.auth,"internal-error");const ne="object"==typeof H.firebase?H.firebase:void 0,Ne=ne?.sign_in_provider;return{claims:H,token:w,authTime:xr(Xt(H.auth_time)),issuedAtTime:xr(Xt(H.iat)),expirationTime:xr(Xt(H.exp)),signInProvider:Ne||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function Xt(v){return 1e3*Number(v)}function Nr(v){const[h,p,w]=v.split(".");if(void 0===h||void 0===p||void 0===w)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,z.tV)(p);return H?JSON.parse(H):(qe("Failed to decode base64 JWT payload"),null)}catch(H){return qe("Caught error parsing JWT payload as JSON",H?.toString()),null}}function $n(v){const h=Nr(v);return ge(h,"internal-error"),ge(typeof h.exp<"u","internal-error"),ge(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function nr(v,h){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(v,h,p=!1){if(p)return h;try{return yield h}catch(w){throw w instanceof z.ZR&&function di({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}class Be{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const H=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,l.Z)(function*(){yield p.iteration()}),w)}iteration(){var h=this;return(0,l.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class pt{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=xr(this.lastLoginAt),this.creationTime=xr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function J(v){return ye.apply(this,arguments)}function ye(){return(ye=(0,l.Z)(function*(v){var h;const p=v.auth,w=yield v.getIdToken(),H=yield nr(v,ir(p,{idToken:w}));ge(H?.users.length,p,"internal-error");const ne=H.users[0];v._notifyReloadListener(ne);const Ne=null!==(h=ne.providerUserInfo)&&void 0!==h&&h.length?gr(ne.providerUserInfo):[],lt=function Tn(v,h){return[...v.filter(w=>!h.some(H=>H.providerId===w.providerId)),...h]}(v.providerData,Ne),Un=!!v.isAnonymous&&!(v.email&&ne.passwordHash||lt?.length),Rr={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:lt,metadata:new pt(ne.createdAt,ne.lastLoginAt),isAnonymous:Un};Object.assign(v,Rr)})).apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(v){const h=(0,z.m9)(v);yield J(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function gr(v){return v.map(h=>{var{providerId:p}=h,w=(0,me._T)(h,["providerId"]);return{providerId:p,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function we(){return(we=(0,l.Z)(function*(v,h){const p=yield It(v,{},(0,l.Z)(function*(){const w=(0,z.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:H,apiKey:ne}=v.config,Ne=_n(v,H,"/v1/token",`key=${ne}`),lt=yield v._getAdditionalHeaders();return lt["Content-Type"]="application/x-www-form-urlencoded",Ae.fetch()(Ne,{method:"POST",headers:lt,body:w})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v2/accounts:revokeToken",Ie(v,h))})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ge(h.idToken,"internal-error"),ge(typeof h.idToken<"u","internal-error"),ge(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):$n(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}updateFromIdToken(h){ge(0!==h.length,"internal-error");const p=$n(h);this.updateTokensAndExpiration(h,null,p)}getToken(h,p=!1){var w=this;return(0,l.Z)(function*(){return p||!w.accessToken||w.isExpired?(ge(w.refreshToken,h,"user-token-expired"),w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null):w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var w=this;return(0,l.Z)(function*(){const{accessToken:H,refreshToken:ne,expiresIn:Ne}=yield function Yn(v,h){return we.apply(this,arguments)}(h,p);w.updateTokensAndExpiration(H,ne,Number(Ne))})()}updateTokensAndExpiration(h,p,w){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,p){const{refreshToken:w,accessToken:H,expirationTime:ne}=p,Ne=new x;return w&&(ge("string"==typeof w,"internal-error",{appName:h}),Ne.refreshToken=w),H&&(ge("string"==typeof H,"internal-error",{appName:h}),Ne.accessToken=H),ne&&(ge("number"==typeof ne,"internal-error",{appName:h}),Ne.expirationTime=ne),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function O(v,h){ge("string"==typeof v||typeof v>"u","internal-error",{appName:h})}class ae{constructor(h){var{uid:p,auth:w,stsTokenManager:H}=h,ne=(0,me._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Be(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=w,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new pt(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,l.Z)(function*(){const w=yield nr(p,p.stsTokenManager.getToken(p.auth,h));return ge(w,p.auth,"internal-error"),p.accessToken!==w&&(p.accessToken=w,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),w})()}getIdTokenResult(h){return function Or(v){return Ci.apply(this,arguments)}(this,h)}reload(){return function ft(v){return Bt.apply(this,arguments)}(this)}_assign(h){this!==h&&(ge(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new ae(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var w=this;return(0,l.Z)(function*(){let H=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),H=!0),p&&(yield J(w)),yield w.auth._persistUserIfCurrent(w),H&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,l.Z)(function*(){if((0,y._isFirebaseServerApp)(h.auth.app))return Promise.reject(Qe(h.auth));const p=yield h.getIdToken();return yield nr(h,function Ot(v,h){return cn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var w,H,ne,Ne,lt,Lt,In,Un;const Rr=null!==(w=p.displayName)&&void 0!==w?w:void 0,_s=null!==(H=p.email)&&void 0!==H?H:void 0,za=null!==(ne=p.phoneNumber)&&void 0!==ne?ne:void 0,Ga=null!==(Ne=p.photoURL)&&void 0!==Ne?Ne:void 0,nc=null!==(lt=p.tenantId)&&void 0!==lt?lt:void 0,Eu=null!==(Lt=p._redirectEventId)&&void 0!==Lt?Lt:void 0,Sd=null!==(In=p.createdAt)&&void 0!==In?In:void 0,Iu=null!==(Un=p.lastLoginAt)&&void 0!==Un?Un:void 0,{uid:Cu,emailVerified:Pd,isAnonymous:kh,providerData:Cl,stsTokenManager:Rd}=p;ge(Cu&&Rd,h,"internal-error");const Wa=x.fromJSON(this.name,Rd);ge("string"==typeof Cu,h,"internal-error"),O(Rr,h.name),O(_s,h.name),ge("boolean"==typeof Pd,h,"internal-error"),ge("boolean"==typeof kh,h,"internal-error"),O(za,h.name),O(Ga,h.name),O(nc,h.name),O(Eu,h.name),O(Sd,h.name),O(Iu,h.name);const wu=new ae({uid:Cu,auth:h,email:_s,emailVerified:Pd,displayName:Rr,isAnonymous:kh,photoURL:Ga,phoneNumber:za,tenantId:nc,stsTokenManager:Wa,createdAt:Sd,lastLoginAt:Iu});return Cl&&Array.isArray(Cl)&&(wu.providerData=Cl.map(wl=>Object.assign({},wl))),Eu&&(wu._redirectEventId=Eu),wu}static _fromIdTokenResponse(h,p,w=!1){return(0,l.Z)(function*(){const H=new x;H.updateFromServerResponse(p);const ne=new ae({uid:p.localId,auth:h,stsTokenManager:H,isAnonymous:w});return yield J(ne),ne})()}static _fromGetAccountInfoResponse(h,p,w){return(0,l.Z)(function*(){const H=p.users[0];ge(void 0!==H.localId,"internal-error");const ne=void 0!==H.providerUserInfo?gr(H.providerUserInfo):[],Ne=!(H.email&&H.passwordHash||ne?.length),lt=new x;lt.updateFromIdToken(w);const Lt=new ae({uid:H.localId,auth:h,stsTokenManager:lt,isAnonymous:Ne}),In={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:ne,metadata:new pt(H.createdAt,H.lastLoginAt),isAnonymous:!(H.email&&H.passwordHash||ne?.length)};return Object.assign(Lt,In),Lt})()}}const xe=new Map;function gt(v){Jt(v instanceof Function,"Expected a class definition");let h=xe.get(v);return h?(Jt(h instanceof v,"Instance stored in cache mismatched with class"),h):(h=new v,xe.set(v,h),h)}const nn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(p,w){var H=this;return(0,l.Z)(function*(){H.storage[p]=w})()}_get(p){var w=this;return(0,l.Z)(function*(){const H=w.storage[p];return void 0===H?null:H})()}_remove(p){var w=this;return(0,l.Z)(function*(){delete w.storage[p]})()}_addListener(p,w){}_removeListener(p,w){}}return v.type="NONE",v})();function Zt(v,h,p){return`firebase:${v}:${h}:${p}`}class Qt{constructor(h,p,w){this.persistence=h,this.auth=p,this.userKey=w;const{config:H,name:ne}=this.auth;this.fullUserKey=Zt(this.userKey,H.apiKey,ne),this.fullPersistenceKey=Zt("persistence",H.apiKey,ne),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,l.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?ae._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,l.Z)(function*(){if(p.persistence===h)return;const w=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,w?p.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,w="authUser"){return(0,l.Z)(function*(){if(!p.length)return new Qt(gt(nn),h,w);const H=(yield Promise.all(p.map(function(){var In=(0,l.Z)(function*(Un){if(yield Un._isAvailable())return Un});return function(Un){return In.apply(this,arguments)}}()))).filter(In=>In);let ne=H[0]||gt(nn);const Ne=Zt(w,h.config.apiKey,h.name);let lt=null;for(const In of p)try{const Un=yield In._get(Ne);if(Un){const Rr=ae._fromJSON(h,Un);In!==ne&&(lt=Rr),ne=In;break}}catch{}const Lt=H.filter(In=>In._shouldAllowMigration);return ne._shouldAllowMigration&&Lt.length?(ne=Lt[0],lt&&(yield ne._set(Ne,lt.toJSON())),yield Promise.all(p.map(function(){var In=(0,l.Z)(function*(Un){if(Un!==ne)try{yield Un._remove(Ne)}catch{}});return function(Un){return In.apply(this,arguments)}}())),new Qt(ne,h,w)):new Qt(ne,h,w)})()}}function Gn(v){const h=v.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Di(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(vn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Xi(h))return"Blackberry";if($i(h))return"Webos";if(Qn(h))return"Safari";if((h.includes("chrome/")||ki(h))&&!h.includes("edge/"))return"Chrome";if(Gr(h))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function vn(v=(0,z.z$)()){return/firefox\//i.test(v)}function Qn(v=(0,z.z$)()){const h=v.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ki(v=(0,z.z$)()){return/crios\//i.test(v)}function Di(v=(0,z.z$)()){return/iemobile/i.test(v)}function Gr(v=(0,z.z$)()){return/android/i.test(v)}function Xi(v=(0,z.z$)()){return/blackberry/i.test(v)}function $i(v=(0,z.z$)()){return/webos/i.test(v)}function Fr(v=(0,z.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Wn(v=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Ct(v=(0,z.z$)()){return Fr(v)||Gr(v)||$i(v)||Xi(v)||/windows phone/i.test(v)||Di(v)}function bn(v,h=[]){let p;switch(v){case"Browser":p=Gn((0,z.z$)());break;case"Worker":p=`${Gn((0,z.z$)())}-${v}`;break;default:p=v}const w=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${y.SDK_VERSION}/${w}`}class Pn{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const w=ne=>new Promise((Ne,lt)=>{try{Ne(h(ne))}catch(Lt){lt(Lt)}});w.onAbort=p,this.queue.push(w);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,l.Z)(function*(){if(p.auth.currentUser===h)return;const w=[];try{for(const H of p.queue)yield H(h),H.onAbort&&w.push(H.onAbort)}catch(H){w.reverse();for(const ne of w)try{ne()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}function Er(){return(Er=(0,l.Z)(function*(v,h={}){return Fe(v,"GET","/v2/passwordPolicy",Ie(v,h))})).apply(this,arguments)}class ci{constructor(h){var p,w,H,ne;const Ne=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Ne.minPasswordLength)&&void 0!==p?p:6,Ne.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ne.maxPasswordLength),void 0!==Ne.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ne.containsLowercaseCharacter),void 0!==Ne.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ne.containsUppercaseCharacter),void 0!==Ne.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ne.containsNumericCharacter),void 0!==Ne.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ne.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(H=null===(w=h.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==H?H:"",this.forceUpgradeOnSignin=null!==(ne=h.forceUpgradeOnSignin)&&void 0!==ne&&ne,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,w,H,ne,Ne,lt;const Lt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Lt),this.validatePasswordCharacterOptions(h,Lt),Lt.isValid&&(Lt.isValid=null===(p=Lt.meetsMinPasswordLength)||void 0===p||p),Lt.isValid&&(Lt.isValid=null===(w=Lt.meetsMaxPasswordLength)||void 0===w||w),Lt.isValid&&(Lt.isValid=null===(H=Lt.containsLowercaseLetter)||void 0===H||H),Lt.isValid&&(Lt.isValid=null===(ne=Lt.containsUppercaseLetter)||void 0===ne||ne),Lt.isValid&&(Lt.isValid=null===(Ne=Lt.containsNumericCharacter)||void 0===Ne||Ne),Lt.isValid&&(Lt.isValid=null===(lt=Lt.containsNonAlphanumericCharacter)||void 0===lt||lt),Lt}validatePasswordLengthOptions(h,p){const w=this.customStrengthOptions.minPasswordLength,H=this.customStrengthOptions.maxPasswordLength;w&&(p.meetsMinPasswordLength=h.length>=w),H&&(p.meetsMaxPasswordLength=h.length<=H)}validatePasswordCharacterOptions(h,p){let w;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let H=0;H<h.length;H++)w=h.charAt(H),this.updatePasswordCharacterOptionsStatuses(p,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(h,p,w,H,ne){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=H)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ne))}}class ho{constructor(h,p,w,H){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=w,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lo(this),this.idTokenSubscription=new Lo(this),this.beforeStateQueue=new Pn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(h,p){var w=this;return p&&(this._popupRedirectResolver=gt(p)),this._initializationPromise=this.queue((0,l.Z)(function*(){var H,ne;if(!w._deleted&&(w.persistenceManager=yield Qt.create(w,h),!w._deleted)){if(null!==(H=w._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(p),w.lastNotifiedUid=(null===(ne=w.currentUser)||void 0===ne?void 0:ne.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,l.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(h){var p=this;return(0,l.Z)(function*(){try{const w=yield ir(p,{idToken:h}),H=yield ae._fromGetAccountInfoResponse(p,w,h);yield p.directlySetCurrentUser(H)}catch(w){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var p=this;return(0,l.Z)(function*(){var w;if((0,y._isFirebaseServerApp)(p.app)){const lt=p.app.settings.authIdToken;return lt?new Promise(Lt=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(lt).then(Lt,Lt))}):p.directlySetCurrentUser(null)}const H=yield p.assertedPersistence.getCurrentUser();let ne=H,Ne=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const lt=null===(w=p.redirectUser)||void 0===w?void 0:w._redirectEventId,Lt=ne?._redirectEventId,In=yield p.tryRedirectSignIn(h);(!lt||lt===Lt)&&In?.user&&(ne=In.user,Ne=!0)}if(!ne)return p.directlySetCurrentUser(null);if(!ne._redirectEventId){if(Ne)try{yield p.beforeStateQueue.runMiddleware(ne)}catch(lt){ne=H,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(lt))}return ne?p.reloadAndSetCurrentUserOrClear(ne):p.directlySetCurrentUser(null)}return ge(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ne._redirectEventId?p.directlySetCurrentUser(ne):p.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(h){var p=this;return(0,l.Z)(function*(){let w=null;try{w=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,l.Z)(function*(){try{yield J(h)}catch(w){if("auth/network-request-failed"!==w?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Pe(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var h=this;return(0,l.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,l.Z)(function*(){if((0,y._isFirebaseServerApp)(p.app))return Promise.reject(Qe(p));const w=h?(0,z.m9)(h):null;return w&&ge(w.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(w&&w._clone(p))})()}_updateCurrentUser(h,p=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return h&&ge(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),p||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,l.Z)(function*(){return(0,y._isFirebaseServerApp)(h.app)?Promise.reject(Qe(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var p=this;return(0,y._isFirebaseServerApp)(this.app)?Promise.reject(Qe(this)):this.queue((0,l.Z)(function*(){yield p.assertedPersistence.setPersistence(gt(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,l.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const w=p._getPasswordPolicyInternal();return w.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,l.Z)(function*(){const p=yield function dn(v){return Er.apply(this,arguments)}(h),w=new ci(p);null===h.tenantId?h._projectPasswordPolicy=w:h._tenantPasswordPolicies[h.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new z.LL("auth","Firebase",h())}onAuthStateChanged(h,p,w){return this.registerStateListener(this.authStateSubscription,h,p,w)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,w){return this.registerStateListener(this.idTokenSubscription,h,p,w)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const w=this.onAuthStateChanged(()=>{w(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,l.Z)(function*(){if(p.currentUser){const w=yield p.currentUser.getIdToken(),H={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:w};null!=p.tenantId&&(H.tenantId=p.tenantId),yield function Y(v,h){return V.apply(this,arguments)}(p,H)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var w=this;return(0,l.Z)(function*(){const H=yield w.getOrInitRedirectPersistenceManager(p);return null===h?H.removeCurrentUser():H.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,l.Z)(function*(){if(!p.redirectPersistenceManager){const w=h&&gt(h)||p._popupRedirectResolver;ge(w,p,"argument-error"),p.redirectPersistenceManager=yield Qt.create(p,[gt(w._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,l.Z)(function*(){var w,H;return p._isInitialized&&(yield p.queue((0,l.Z)(function*(){}))),(null===(w=p._currentUser)||void 0===w?void 0:w._redirectEventId)===h?p._currentUser:(null===(H=p.redirectUser)||void 0===H?void 0:H._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,l.Z)(function*(){if(h===p.currentUser)return p.queue((0,l.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,w,H){if(this._deleted)return()=>{};const ne="function"==typeof p?p:p.next.bind(p);let Ne=!1;const lt=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(lt,this,"internal-error"),lt.then(()=>{Ne||ne(this.currentUser)}),"function"==typeof p){const Lt=h.addObserver(p,w,H);return()=>{Ne=!0,Lt()}}{const Lt=h.addObserver(p);return()=>{Ne=!0,Lt()}}}directlySetCurrentUser(h){var p=this;return(0,l.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,l.Z)(function*(){var p;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const H=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();H&&(w["X-Firebase-Client"]=H);const ne=yield h._getAppCheckToken();return ne&&(w["X-Firebase-AppCheck"]=ne),w})()}_getAppCheckToken(){var h=this;return(0,l.Z)(function*(){var p;const w=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return w?.error&&function sn(v,...h){bt.logLevel<=Ce.in.WARN&&bt.warn(`Auth (${y.SDK_VERSION}): ${v}`,...h)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function lr(v){return(0,z.m9)(v)}class Lo{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,z.ne)(p=>this.observer=p)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let oi={loadJS:()=>(0,l.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wr(v){return oi.loadJS(v)}function mi(v){return`__${v}${Math.floor(1e6*Math.random())}`}class mr{constructor(h){this.type="recaptcha-enterprise",this.auth=lr(h)}verify(h="verify",p=!1){var w=this;return(0,l.Z)(function*(){function ne(){return ne=(0,l.Z)(function*(lt){if(!p){if(null==lt.tenantId&&null!=lt._agentRecaptchaConfig)return lt._agentRecaptchaConfig.siteKey;if(null!=lt.tenantId&&void 0!==lt._tenantRecaptchaConfigs[lt.tenantId])return lt._tenantRecaptchaConfigs[lt.tenantId].siteKey}return new Promise(function(){var Lt=(0,l.Z)(function*(In,Un){sr(lt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Rr=>{if(void 0!==Rr.recaptchaKey){const _s=new Nt(Rr);return null==lt.tenantId?lt._agentRecaptchaConfig=_s:lt._tenantRecaptchaConfigs[lt.tenantId]=_s,In(_s.siteKey)}Un(new Error("recaptcha Enterprise site key undefined"))}).catch(Rr=>{Un(Rr)})});return function(In,Un){return Lt.apply(this,arguments)}}())}),ne.apply(this,arguments)}function Ne(lt,Lt,In){const Un=window.grecaptcha;Ut(Un)?Un.enterprise.ready(()=>{Un.enterprise.execute(lt,{action:h}).then(Rr=>{Lt(Rr)}).catch(()=>{Lt("NO_RECAPTCHA")})}):In(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((lt,Lt)=>{(function H(lt){return ne.apply(this,arguments)})(w.auth).then(In=>{if(!p&&Ut(window.grecaptcha))Ne(In,lt,Lt);else{if(typeof window>"u")return void Lt(new Error("RecaptchaVerifier is only supported in browser"));let Un=function eo(){return oi.recaptchaEnterpriseScript}();0!==Un.length&&(Un+=In),Wr(Un).then(()=>{Ne(In,lt,Lt)}).catch(Rr=>{Lt(Rr)})}}).catch(In=>{Lt(In)})})})()}}function _r(v,h,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(v,h,p,w=!1){const H=new mr(v);let ne;try{ne=yield H.verify(p)}catch{ne=yield H.verify(p,!0)}const Ne=Object.assign({},h);return Object.assign(Ne,w?{captchaResp:ne}:{captchaResponse:ne}),Object.assign(Ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ne})).apply(this,arguments)}function Ai(v,h,p,w){return _i.apply(this,arguments)}function _i(){return _i=(0,l.Z)(function*(v,h,p,w){var H;if(null!==(H=v._getRecaptchaConfig())&&void 0!==H&&H.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ne=yield _r(v,h,p,"getOobCode"===p);return w(v,ne)}return w(v,h).catch(function(){var ne=(0,l.Z)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const lt=yield _r(v,h,p,"getOobCode"===p);return w(v,lt)}return Promise.reject(Ne)});return function(Ne){return ne.apply(this,arguments)}}())}),_i.apply(this,arguments)}function Hi(v,h,p){const w=lr(v);ge(w._canInitEmulator,w,"emulator-config-failed"),ge(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const H=!!p?.disableWarnings,ne=yr(h),{host:Ne,port:lt}=function Ir(v){const h=yr(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(h.length));if(!p)return{host:"",port:null};const w=p[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(w);if(H){const ne=H[1];return{host:ne,port:zi(w.substr(ne.length+1))}}{const[ne,Ne]=w.split(":");return{host:ne,port:zi(Ne)}}}(h);w.config.emulator={url:`${ne}//${Ne}${null===lt?"":`:${lt}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Ne,port:lt,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function Eo(){function v(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function yr(v){const h=v.indexOf(":");return h<0?"":v.substr(0,h+1)}function zi(v){if(!v)return null;const h=Number(v);return isNaN(h)?null:h}class to{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Ht("not implemented")}_getIdTokenResponse(h){return Ht("not implemented")}_linkToIdToken(h,p){return Ht("not implemented")}_getReauthenticationResolver(h){return Ht("not implemented")}}function zo(v,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:resetPassword",Ie(v,h))})).apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Si(v,h){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:update",Ie(v,h))})).apply(this,arguments)}function Po(v,h){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithPassword",Ie(v,h))})).apply(this,arguments)}function Li(v,h){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:sendOobCode",Ie(v,h))})).apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(v,h){return Li(v,h)})).apply(this,arguments)}function Jn(v,h){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(v,h){return Li(v,h)})).apply(this,arguments)}function Ro(v,h){return qr.apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(v,h){return Li(v,h)})).apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(v,h){return Li(v,h)})).apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithEmailLink",Ie(v,h))})).apply(this,arguments)}function Vi(){return(Vi=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithEmailLink",Ie(v,h))})).apply(this,arguments)}class Qr extends to{constructor(h,p,w,H=null){super("password",w),this._email=h,this._password=p,this._tenantId=H}static _fromEmailAndPassword(h,p){return new Qr(h,p,"password")}static _fromEmailAndCode(h,p,w=null){return new Qr(h,p,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,l.Z)(function*(){switch(p.signInMethod){case"password":return Ai(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Po);case"emailLink":return function Wi(v,h){return qi.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:ke(h,"internal-error")}})()}_linkToIdToken(h,p){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Ai(h,{idToken:p,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Si);case"emailLink":return function Vn(v,h){return Vi.apply(this,arguments)}(h,{idToken:p,email:w._email,oobCode:w._password});default:ke(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function q(v,h){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithIdp",Ie(v,h))})).apply(this,arguments)}class Ee extends to{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Ee(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):ke("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:H}=p,ne=(0,me._T)(p,["providerId","signInMethod"]);if(!w||!H)return null;const Ne=new Ee(w,H);return Ne.idToken=ne.idToken||void 0,Ne.accessToken=ne.accessToken||void 0,Ne.secret=ne.secret,Ne.nonce=ne.nonce,Ne.pendingToken=ne.pendingToken||null,Ne}_getIdTokenResponse(h){return q(h,this.buildRequest())}_linkToIdToken(h,p){const w=this.buildRequest();return w.idToken=p,q(h,w)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,q(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,z.xO)(p)}return h}}function _t(){return(_t=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:sendVerificationCode",Ie(v,h))})).apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,h))})).apply(this,arguments)}function un(){return(un=(0,l.Z)(function*(v,h){const p=yield qt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,h));if(p.temporaryProof)throw En(v,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Zn={USER_NOT_FOUND:"user-not-found"};function Jr(){return(Jr=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Zn)})).apply(this,arguments)}class Hr extends to{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Hr({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Hr({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Gt(v,h){return hn.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function Mt(v,h){return un.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function wn(v,h){return Jr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:w,verificationCode:H}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:w,code:H}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:w,phoneNumber:H,temporaryProof:ne}=h;return w||p||H||ne?new Hr({verificationId:p,verificationCode:w,phoneNumber:H,temporaryProof:ne}):null}}class Lr{constructor(h){var p,w,H,ne,Ne,lt;const Lt=(0,z.zd)((0,z.pd)(h)),In=null!==(p=Lt.apiKey)&&void 0!==p?p:null,Un=null!==(w=Lt.oobCode)&&void 0!==w?w:null,Rr=function Xr(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=Lt.mode)&&void 0!==H?H:null);ge(In&&Un&&Rr,"argument-error"),this.apiKey=In,this.operation=Rr,this.code=Un,this.continueUrl=null!==(ne=Lt.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Ne=Lt.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(lt=Lt.tenantId)&&void 0!==lt?lt:null}static parseLink(h){const p=function Zr(v){const h=(0,z.zd)((0,z.pd)(v)).link,p=h?(0,z.zd)((0,z.pd)(h)).deep_link_id:null,w=(0,z.zd)((0,z.pd)(v)).deep_link_id;return(w?(0,z.zd)((0,z.pd)(w)).link:null)||w||p||h||v}(h);try{return new Lr(p)}catch{return null}}}let Pi=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,w){return Qr._fromEmailAndPassword(p,w)}static credentialWithLink(p,w){const H=Lr.parseLink(w);return ge(H,"argument-error"),Qr._fromEmailAndCode(p,H.code,H.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Xn{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ai extends Xn{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class zr extends ai{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return ge("providerId"in p&&"signInMethod"in p,"argument-error"),Ee._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ge(h.idToken||h.accessToken,"argument-error"),Ee._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return zr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return zr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:w,oauthTokenSecret:H,pendingToken:ne,nonce:Ne,providerId:lt}=h;if(!w&&!H&&!p&&!ne||!lt)return null;try{return new zr(lt)._credential({idToken:p,accessToken:w,nonce:Ne,pendingToken:ne})}catch{return null}}}let Tr=(()=>{class v extends ai{constructor(){super("facebook.com")}static credential(p){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Go=(()=>{class v extends ai{constructor(){super("google.com"),this.addScope("profile")}static credential(p,w){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:w})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:w,oauthAccessToken:H}=p;if(!w&&!H)return null;try{return v.credential(w,H)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Ri=(()=>{class v extends ai{constructor(){super("github.com")}static credential(p){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Zi extends to{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return q(h,this.buildRequest())}_linkToIdToken(h,p){const w=this.buildRequest();return w.idToken=p,q(h,w)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,q(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:H,pendingToken:ne}=p;return w&&H&&ne&&w===H?new Zi(w,ne):null}static _create(h,p){return new Zi(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fo extends Xn{constructor(h){ge(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return fo.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return fo.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Zi.fromJSON(h);return ge(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:w}=h;if(!p||!w)return null;try{return Zi._create(w,p)}catch{return null}}}let Wo=(()=>{class v extends ai{constructor(){super("twitter.com")}static credential(p,w){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:w})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:w,oauthTokenSecret:H}=p;if(!w||!H)return null;try{return v.credential(w,H)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function aa(v,h){return Is.apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signUp",Ie(v,h))})).apply(this,arguments)}class vi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,w,H=!1){return(0,l.Z)(function*(){const ne=yield ae._fromIdTokenResponse(h,w,H),Ne=hs(w);return new vi({user:ne,providerId:Ne,_tokenResponse:w,operationType:p})})()}static _forOperation(h,p,w){return(0,l.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const H=hs(w);return new vi({user:h,providerId:H,_tokenResponse:w,operationType:p})})()}}function hs(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function fs(v){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,l.Z)(function*(v){var h;if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Qe(v));const p=lr(v);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new vi({user:p.currentUser,providerId:null,operationType:"signIn"});const w=yield aa(p,{returnSecureToken:!0}),H=yield vi._fromIdTokenResponse(p,"signIn",w,!0);return yield p._updateCurrentUser(H.user),H})).apply(this,arguments)}class Ar extends z.ZR{constructor(h,p,w,H){var ne;super(p.code,p.message),this.operationType=w,this.user=H,Object.setPrototypeOf(this,Ar.prototype),this.customData={appName:h.name,tenantId:null!==(ne=h.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:p.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,p,w,H){return new Ar(h,p,w,H)}}function Cs(v,h,p,w){return("reauthenticate"===h?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?Ar._fromErrorAndOperation(v,ne,h,w):ne})}function ua(v){return new Set(v.map(({providerId:h})=>h).filter(h=>!!h))}function U(v,h){return G.apply(this,arguments)}function G(){return G=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v);yield Se(!0,p,h);const{providerUserInfo:w}=yield function Cn(v,h){return gn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),H=ua(w||[]);return p.providerData=p.providerData.filter(ne=>H.has(ne.providerId)),H.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),G.apply(this,arguments)}function P(v,h){return te.apply(this,arguments)}function te(){return(te=(0,l.Z)(function*(v,h,p=!1){const w=yield nr(v,h._linkToIdToken(v.auth,yield v.getIdToken()),p);return vi._forOperation(v,"link",w)})).apply(this,arguments)}function Se(v,h,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(v,h,p){yield J(h);const H=!1===v?"provider-already-linked":"no-such-provider";ge(ua(h.providerData).has(p)===v,h.auth,H)})).apply(this,arguments)}function kn(v,h){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,l.Z)(function*(v,h,p=!1){const{auth:w}=v;if((0,y._isFirebaseServerApp)(w.app))return Promise.reject(Qe(w));const H="reauthenticate";try{const ne=yield nr(v,Cs(w,H,h,v),p);ge(ne.idToken,w,"internal-error");const Ne=Nr(ne.idToken);ge(Ne,w,"internal-error");const{sub:lt}=Ne;return ge(v.uid===lt,w,"user-mismatch"),vi._forOperation(v,H,ne)}catch(ne){throw"auth/user-not-found"===ne?.code&&ke(w,"user-mismatch"),ne}})).apply(this,arguments)}function no(v,h){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(v,h,p=!1){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Qe(v));const w="signIn",H=yield Cs(v,w,h),ne=yield vi._fromIdTokenResponse(v,w,H);return p||(yield v._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function ts(v,h){return po.apply(this,arguments)}function po(){return(po=(0,l.Z)(function*(v,h){return no(lr(v),h)})).apply(this,arguments)}function Co(v,h){return go.apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v);return yield Se(!1,p,h.providerId),P(p,h)})).apply(this,arguments)}function yc(v,h){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,l.Z)(function*(v,h){return kn((0,z.m9)(v),h)})).apply(this,arguments)}function Oi(){return(Oi=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithCustomToken",Ie(v,h))})).apply(this,arguments)}function tu(v,h){return wo.apply(this,arguments)}function wo(){return wo=(0,l.Z)(function*(v,h){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Qe(v));const p=lr(v),w=yield function Vs(v,h){return Oi.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),H=yield vi._fromIdTokenResponse(p,"signIn",w);return yield p._updateCurrentUser(H.user),H}),wo.apply(this,arguments)}class ws{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Mo._fromServerResponse(h,p):"totpInfo"in p?Us._fromServerResponse(h,p):ke(h,"internal-error")}}class Mo extends ws{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Mo(p)}}class Us extends ws{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new Us(p)}}function xo(v,h,p){var w;ge((null===(w=p.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),ge(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ge(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(ge(p.android.packageName.length>0,v,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function zn(v){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(v){const h=lr(v);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Ra(v,h,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(v,h,p){const w=lr(v),H={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};p&&xo(w,H,p),yield Ai(w,H,"getOobCode",Jn)})).apply(this,arguments)}function qs(v,h,p){return bs.apply(this,arguments)}function bs(){return bs=(0,l.Z)(function*(v,h,p){yield zo((0,z.m9)(v),{oobCode:h,newPassword:p}).catch(function(){var w=(0,l.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&zn(v),H});return function(H){return w.apply(this,arguments)}}())}),bs.apply(this,arguments)}function Uo(v,h){return ns.apply(this,arguments)}function ns(){return ns=(0,l.Z)(function*(v,h){yield function Io(v,h){return Gi.apply(this,arguments)}((0,z.m9)(v),{oobCode:h})}),ns.apply(this,arguments)}function ca(v,h){return la.apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v),w=yield zo(p,{oobCode:h}),H=w.requestType;switch(ge(H,p,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(w.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(w.mfaInfo,p,"internal-error");default:ge(w.email,p,"internal-error")}let ne=null;return w.mfaInfo&&(ne=ws._fromServerResponse(lr(p),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:ne},operation:H}})).apply(this,arguments)}function da(v,h){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(v,h){const{data:p}=yield ca((0,z.m9)(v),h);return p.email})).apply(this,arguments)}function ha(v,h,p){return ps.apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Qe(v));const w=lr(v),Ne=yield Ai(w,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aa).catch(Lt=>{throw"auth/password-does-not-meet-requirements"===Lt.code&&zn(v),Lt}),lt=yield vi._fromIdTokenResponse(w,"signIn",Ne);return yield w._updateCurrentUser(lt.user),lt})).apply(this,arguments)}function vc(v,h,p){return(0,y._isFirebaseServerApp)(v.app)?Promise.reject(Qe(v)):ts((0,z.m9)(v),Pi.credential(h,p)).catch(function(){var w=(0,l.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&zn(v),H});return function(H){return w.apply(this,arguments)}}())}function Bs(v,h,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(v,h,p){const w=lr(v),H={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ne(Ne,lt){ge(lt.handleCodeInApp,w,"argument-error"),lt&&xo(w,Ne,lt)})(H,p),yield Ai(w,H,"getOobCode",Ro)})).apply(this,arguments)}function Bu(v,h){const p=Lr.parseLink(h);return"EMAIL_SIGNIN"===p?.operation}function js(v,h,p){return nu.apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Qe(v));const w=(0,z.m9)(v),H=Pi.credentialWithLink(h,p||xn());return ge(H._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ts(w,H)})).apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:createAuthUri",Ie(v,h))})).apply(this,arguments)}function b(v,h){return Z.apply(this,arguments)}function Z(){return Z=(0,l.Z)(function*(v,h){const w={identifier:h,continueUri:$e()?xn():"http://localhost"},{signinMethods:H}=yield function ru(v,h){return ei.apply(this,arguments)}((0,z.m9)(v),w);return H||[]}),Z.apply(this,arguments)}function N(v,h){return W.apply(this,arguments)}function W(){return W=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v),H={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};h&&xo(p.auth,H,h);const{email:ne}=yield function Yt(v,h){return Ln.apply(this,arguments)}(p.auth,H);ne!==v.email&&(yield v.reload())}),W.apply(this,arguments)}function _e(v,h,p){return ht.apply(this,arguments)}function ht(){return ht=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:h};p&&xo(w.auth,ne,p);const{email:Ne}=yield function ao(v,h){return wr.apply(this,arguments)}(w.auth,ne);Ne!==v.email&&(yield v.reload())}),ht.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function pr(v,h){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,l.Z)(function*(v,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const w=(0,z.m9)(v),ne={idToken:yield w.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},Ne=yield nr(w,function At(v,h){return mn.apply(this,arguments)}(w.auth,ne));w.displayName=Ne.displayName||null,w.photoURL=Ne.photoUrl||null;const lt=w.providerData.find(({providerId:Lt})=>"password"===Lt);lt&&(lt.displayName=w.displayName,lt.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Ne)}),Sr.apply(this,arguments)}function Pr(v,h){const p=(0,z.m9)(v);return(0,y._isFirebaseServerApp)(p.auth.app)?Promise.reject(Qe(p.auth)):Kr(p,h,null)}function or(v,h){return Kr((0,z.m9)(v),null,h)}function Kr(v,h,p){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,l.Z)(function*(v,h,p){const{auth:w}=v,ne={idToken:yield v.getIdToken(),returnSecureToken:!0};h&&(ne.email=h),p&&(ne.password=p);const Ne=yield nr(v,function $r(v,h){return Yr.apply(this,arguments)}(w,ne));yield v._updateTokensIfNecessary(Ne,!0)}),Ur.apply(this,arguments)}class Ki{constructor(h,p,w={}){this.isNewUser=h,this.providerId=p,this.profile=w}}class mo extends Ki{constructor(h,p,w,H){super(h,p,w),this.username=H}}class As extends Ki{constructor(h,p){super(h,"facebook.com",p)}}class To extends mo{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class ti extends Ki{constructor(h,p){super(h,"google.com",p)}}class Hn extends mo{constructor(h,p,w){super(h,"twitter.com",p,w)}}function Bo(v){const{user:h,_tokenResponse:p}=v;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function hi(v){var h,p;if(!v)return null;const{providerId:w}=v,H=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},ne=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const Ne=null===(p=null===(h=Nr(v.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(Ne)return new Ki(ne,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!w)return null;switch(w){case"facebook.com":return new As(ne,H);case"github.com":return new To(ne,H);case"google.com":return new ti(ne,H);case"twitter.com":return new Hn(ne,H,v.screenName||null);case"custom":case"anonymous":return new Ki(ne,null);default:return new Ki(ne,w,H)}}(p)}class Ps{constructor(h,p,w){this.type=h,this.credential=p,this.user=w}static _fromIdtoken(h,p){return new Ps("enroll",h,p)}static _fromMfaPendingCredential(h){return new Ps("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,w;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Ps._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(w=h.multiFactorSession)&&void 0!==w&&w.idToken)return Ps._fromIdtoken(h.multiFactorSession.idToken)}return null}}class su{constructor(h,p,w){this.session=h,this.hints=p,this.signInResolver=w}static _fromError(h,p){const w=lr(h),H=p.customData._serverResponse,ne=(H.mfaInfo||[]).map(lt=>ws._fromServerResponse(w,lt));ge(H.mfaPendingCredential,w,"internal-error");const Ne=Ps._fromMfaPendingCredential(H.mfaPendingCredential);return new su(Ne,ne,function(){var lt=(0,l.Z)(function*(Lt){const In=yield Lt._process(w,Ne);delete H.mfaInfo,delete H.mfaPendingCredential;const Un=Object.assign(Object.assign({},H),{idToken:In.idToken,refreshToken:In.refreshToken});switch(p.operationType){case"signIn":const Rr=yield vi._fromIdTokenResponse(w,p.operationType,Un);return yield w._updateCurrentUser(Rr.user),Rr;case"reauthenticate":return ge(p.user,w,"internal-error"),vi._forOperation(p.user,p.operationType,Un);default:ke(w,"internal-error")}});return function(Lt){return lt.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,l.Z)(function*(){return p.signInResolver(h)})()}}function Cc(v,h){var p;const w=(0,z.m9)(v),H=h;return ge(h.customData.operationType,w,"argument-error"),ge(null===(p=H.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,w,"argument-error"),su._fromError(w,H)}class xa{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(w=>ws._fromServerResponse(h.auth,w)))})}static _fromUser(h){return new xa(h)}getSession(){var h=this;return(0,l.Z)(function*(){return Ps._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,p){var w=this;return(0,l.Z)(function*(){const H=h,ne=yield w.getSession(),Ne=yield nr(w.user,H._process(w.user.auth,ne,p));return yield w.user._updateTokensIfNecessary(Ne),w.user.reload()})()}unenroll(h){var p=this;return(0,l.Z)(function*(){const w="string"==typeof h?h:h.uid,H=yield p.user.getIdToken();try{const ne=yield nr(p.user,function dl(v,h){return Fe(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(v,h))}(p.user.auth,{idToken:H,mfaEnrollmentId:w}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Ne})=>Ne!==w),yield p.user._updateTokensIfNecessary(ne),yield p.user.reload()}catch(ne){throw ne}})()}}const _o=new WeakMap;function Dc(v){const h=(0,z.m9)(v);return _o.has(h)||_o.set(h,xa._fromUser(h)),_o.get(h)}const $u="__sak";class Ti{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem($u,"1"),this.storage.removeItem($u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const is=(()=>{class v extends Ti{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,w)=>this.onStorageEvent(p,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qs(){const v=(0,z.z$)();return Qn(v)||Fr(v)}()&&function en(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ct(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const w of Object.keys(this.listeners)){const H=this.storage.getItem(w),ne=this.localCache[w];H!==ne&&p(w,ne,H)}}onStorageEvent(p,w=!1){if(!p.key)return void this.forAllChangedKeys((lt,Lt,In)=>{this.notifyListeners(lt,In)});const H=p.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const lt=this.storage.getItem(H);if(p.newValue!==lt)null!==p.newValue?this.storage.setItem(H,p.newValue):this.storage.removeItem(H);else if(this.localCache[H]===p.newValue&&!w)return}const ne=()=>{const lt=this.storage.getItem(H);!w&&this.localCache[H]===lt||this.notifyListeners(H,lt)},Ne=this.storage.getItem(H);!function Ze(){return(0,z.w1)()&&10===document.documentMode}()||Ne===p.newValue||p.newValue===p.oldValue?ne():setTimeout(ne,10)}notifyListeners(p,w){this.localCache[p]=w;const H=this.listeners[p];if(H)for(const ne of Array.from(H))ne(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,w,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:w,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,w){var H=()=>super._set,ne=this;return(0,l.Z)(function*(){yield H().call(ne,p,w),ne.localCache[p]=JSON.stringify(w)})()}_get(p){var w=()=>super._get,H=this;return(0,l.Z)(function*(){const ne=yield w().call(H,p);return H.localCache[p]=JSON.stringify(ne),ne})()}_remove(p){var w=()=>super._remove,H=this;return(0,l.Z)(function*(){yield w().call(H,p),delete H.localCache[p]})()}}return v.type="LOCAL",v})(),Ft=(()=>{class v extends Ti{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,w){}_removeListener(p,w){}}return v.type="SESSION",v})();let zu=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const w=this.receivers.find(ne=>ne.isListeningto(p));if(w)return w;const H=new v(p);return this.receivers.push(H),H}isListeningto(p){return this.eventTarget===p}handleEvent(p){var w=this;return(0,l.Z)(function*(){const H=p,{eventId:ne,eventType:Ne,data:lt}=H.data,Lt=w.handlersMap[Ne];if(!Lt?.size)return;H.ports[0].postMessage({status:"ack",eventId:ne,eventType:Ne});const In=Array.from(Lt).map(function(){var Rr=(0,l.Z)(function*(_s){return _s(H.origin,lt)});return function(_s){return Rr.apply(this,arguments)}}()),Un=yield function br(v){return Promise.all(v.map(function(){var h=(0,l.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(w){return{fulfilled:!1,reason:w}}});return function(p){return h.apply(this,arguments)}}()))}(In);H.ports[0].postMessage({status:"done",eventId:ne,eventType:Ne,response:Un})})()}_subscribe(p,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(w)}_unsubscribe(p,w){this.handlersMap[p]&&w&&this.handlersMap[p].delete(w),(!w||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function pa(v="",h=10){let p="";for(let w=0;w<h;w++)p+=Math.floor(10*Math.random());return v+p}class uo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,w=50){var H=this;return(0,l.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let Ne,lt;return new Promise((Lt,In)=>{const Un=pa("",20);ne.port1.start();const Rr=setTimeout(()=>{In(new Error("unsupported_event"))},w);lt={messageChannel:ne,onMessage(_s){const za=_s;if(za.data.eventId===Un)switch(za.data.status){case"ack":clearTimeout(Rr),Ne=setTimeout(()=>{In(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Lt(za.data.response);break;default:clearTimeout(Rr),clearTimeout(Ne),In(new Error("invalid_response"))}}},H.handlers.add(lt),ne.port1.addEventListener("message",lt.onMessage),H.target.postMessage({eventType:h,eventId:Un,data:p},[ne.port2])}).finally(()=>{lt&&H.removeMessageHandler(lt)})})()}}function Bi(){return window}function Do(){return typeof Bi().WorkerGlobalScope<"u"&&"function"==typeof Bi().importScripts}function Na(){return(Na=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const uu="firebaseLocalStorageDb",jo="firebaseLocalStorage",ka="fbase_key";class os{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Oo(v,h){return v.transaction([jo],h?"readwrite":"readonly").objectStore(jo)}function qo(){const v=indexedDB.open(uu,1);return new Promise((h,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(jo,{keyPath:ka})}catch(H){p(H)}}),v.addEventListener("success",(0,l.Z)(function*(){const w=v.result;w.objectStoreNames.contains(jo)?h(w):(w.close(),yield function cu(){const v=indexedDB.deleteDatabase(uu);return new os(v).toPromise()}(),h(yield qo()))}))})}function Js(v,h,p){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,l.Z)(function*(v,h,p){const w=Oo(v,!0).put({[ka]:h,value:p});return new os(w).toPromise()})).apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(v,h){const p=Oo(v,!1).get(h),w=yield new os(p).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ss(v,h){const p=Oo(v,!0).delete(h);return new os(p).toPromise()}const S=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,l.Z)(function*(){return p.db||(p.db=yield qo()),p.db})()}_withRetries(p){var w=this;return(0,l.Z)(function*(){let H=0;for(;;)try{const ne=yield w._openDb();return yield p(ne)}catch(ne){if(H++>3)throw ne;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,l.Z)(function*(){return Do()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,l.Z)(function*(){p.receiver=zu._getInstance(function Gu(){return Do()?self:null}()),p.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(H,ne){return{keyProcessed:(yield p._poll()).includes(ne.key)}});return function(H,ne){return w.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(H,ne){return["keyChanged"]});return function(H,ne){return w.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,l.Z)(function*(){var w,H;if(p.activeServiceWorker=yield function ga(){return Na.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new uo(p.activeServiceWorker);const ne=yield p.sender._send("ping",{},800);ne&&null!==(w=ne[0])&&void 0!==w&&w.fulfilled&&null!==(H=ne[0])&&void 0!==H&&H.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ac(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:p},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const p=yield qo();return yield Js(p,$u,"1"),yield ss(p,$u),!0}catch{}return!1})()}_withPendingWrite(p){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield p()}finally{w.pendingWrites--}})()}_set(p,w){var H=this;return(0,l.Z)(function*(){return H._withPendingWrite((0,l.Z)(function*(){return yield H._withRetries(ne=>Js(ne,p,w)),H.localCache[p]=w,H.notifyServiceWorker(p)}))})()}_get(p){var w=this;return(0,l.Z)(function*(){const H=yield w._withRetries(ne=>function Fa(v,h){return ma.apply(this,arguments)}(ne,p));return w.localCache[p]=H,H})()}_remove(p){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(H=>ss(H,p)),delete w.localCache[p],w.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,l.Z)(function*(){const w=yield p._withRetries(Ne=>{const lt=Oo(Ne,!1).getAll();return new os(lt).toPromise()});if(!w)return[];if(0!==p.pendingWrites)return[];const H=[],ne=new Set;if(0!==w.length)for(const{fbase_key:Ne,value:lt}of w)ne.add(Ne),JSON.stringify(p.localCache[Ne])!==JSON.stringify(lt)&&(p.notifyListeners(Ne,lt),H.push(Ne));for(const Ne of Object.keys(p.localCache))p.localCache[Ne]&&!ne.has(Ne)&&(p.notifyListeners(Ne,null),H.push(Ne));return H})()}notifyListeners(p,w){this.localCache[p]=w;const H=this.listeners[p];if(H)for(const ne of Array.from(H))ne(w)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),ln=1e12;class er{constructor(h){this.auth=h,this.counter=ln,this._widgets=new Map}render(h,p){const w=this.counter;return this._widgets.set(w,new ar(h,this.auth.name,p||{})),this.counter++,w}reset(h){var p;const w=h||ln;null===(p=this._widgets.get(w))||void 0===p||p.delete(),this._widgets.delete(w)}getResponse(h){var p;return(null===(p=this._widgets.get(h||ln))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,l.Z)(function*(){var w;return null===(w=p._widgets.get(h||ln))||void 0===w||w.execute(),""})()}}class ar{constructor(h,p,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof h?document.getElementById(h):h;ge(H,"argument-error",{appName:p}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ur(v){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)h.push(p.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Br=mi("rcb"),_a=new le(3e4,6e4);class ya{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Bi().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return ge(function va(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&On(Bi().grecaptcha)?Promise.resolve(Bi().grecaptcha):new Promise((w,H)=>{const ne=Bi().setTimeout(()=>{H(Xe(h,"network-request-failed"))},_a.get());Bi()[Br]=()=>{Bi().clearTimeout(ne),delete Bi()[Br];const lt=Bi().grecaptcha;if(!lt||!On(lt))return void H(Xe(h,"internal-error"));const Lt=lt.render;lt.render=(In,Un)=>{const Rr=Lt(In,Un);return this.counter++,Rr},this.hostLanguage=p,w(lt)},Wr(`${function vs(){return oi.recaptchaV2Script}()}?${(0,z.xO)({onload:Br,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ne),H(Xe(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=Bi().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gs{load(h){return(0,l.Z)(function*(){return new er(h)})()}clearedOneInstance(){}}const Rs="recaptcha",pd={theme:"light",type:"image"};class qu{constructor(h,p,w=Object.assign({},pd)){this.parameters=w,this.type=Rs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lr(h),this.isInvisible="invisible"===this.parameters.size,ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof p?document.getElementById(p):p;ge(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gs:new ya,this.validateStartingState()}verify(){var h=this;return(0,l.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),w=h.getAssertedRecaptcha();return w.getResponse(p)||new Promise(ne=>{const Ne=lt=>{lt&&(h.tokenChangeListeners.delete(Ne),ne(lt))};h.tokenChangeListeners.add(Ne),h.isInvisible&&w.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(w=>w(p)),"function"==typeof h)h(p);else if("string"==typeof h){const w=Bi()[h];"function"==typeof w&&w(p)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,l.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const w=document.createElement("div");p.appendChild(w),p=w}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,l.Z)(function*(){ge($e()&&!Do(),h.auth,"internal-error"),yield function Xs(){let v=null;return new Promise(h=>{"complete"!==document.readyState?(v=()=>h(),window.addEventListener("load",v)):h()}).catch(h=>{throw v&&window.removeEventListener("load",v),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Dr(v){return tn.apply(this,arguments)}(h.auth);ge(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oe{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Hr._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function he(v,h,p){return X.apply(this,arguments)}function X(){return(X=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Qe(v));const w=lr(v),H=yield fi(w,h,(0,z.m9)(p));return new oe(H,ne=>ts(w,ne))})).apply(this,arguments)}function De(v,h,p){return ot.apply(this,arguments)}function ot(){return(ot=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);yield Se(!1,w,"phone");const H=yield fi(w.auth,h,(0,z.m9)(p));return new oe(H,ne=>Co(w,ne))})).apply(this,arguments)}function zt(v,h,p){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);if((0,y._isFirebaseServerApp)(w.auth.app))return Promise.reject(Qe(w.auth));const H=yield fi(w.auth,h,(0,z.m9)(p));return new oe(H,ne=>yc(w,ne))})).apply(this,arguments)}function fi(v,h,p){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,l.Z)(function*(v,h,p){var w;const H=yield p.verify();try{let ne;if(ge("string"==typeof H,v,"argument-error"),ge(p.type===Rs,v,"argument-error"),ne="string"==typeof h?{phoneNumber:h}:h,"session"in ne){const Ne=ne.session;if("phoneNumber"in ne)return ge("enroll"===Ne.type,v,"internal-error"),(yield function wc(v,h){return Fe(v,"POST","/v2/accounts/mfaEnrollment:start",Ie(v,h))}(v,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{ge("signin"===Ne.type,v,"internal-error");const lt=(null===(w=ne.multiFactorHint)||void 0===w?void 0:w.uid)||ne.multiFactorUid;return ge(lt,v,"missing-multi-factor-info"),(yield function F(v,h){return Fe(v,"POST","/v2/accounts/mfaSignIn:start",Ie(v,h))}(v,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:lt,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield function He(v,h){return _t.apply(this,arguments)}(v,{phoneNumber:ne.phoneNumber,recaptchaToken:H});return Ne}}finally{p._reset()}}),Kn.apply(this,arguments)}function ro(v,h){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v);if((0,y._isFirebaseServerApp)(p.auth.app))return Promise.reject(Qe(p.auth));yield P(p,h)})).apply(this,arguments)}let as=(()=>{class v{constructor(p){this.providerId=v.PROVIDER_ID,this.auth=lr(p)}verifyPhoneNumber(p,w){return fi(this.auth,p,(0,z.m9)(w))}static credential(p,w){return Hr._fromVerification(p,w)}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:w,temporaryProof:H}=p;return w&&H?Hr._fromTokenResponse(w,H):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ni(v,h){return h?gt(h):(ge(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class La extends to{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return q(h,this._buildIdpRequest())}_linkToIdToken(h,p){return q(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return q(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Va(v){return no(v.auth,new La(v),v.bypassAuthState)}function pi(v){const{auth:h,user:p}=v;return ge(p,h,"internal-error"),kn(p,new La(v),v.bypassAuthState)}function Yi(v){return xs.apply(this,arguments)}function xs(){return(xs=(0,l.Z)(function*(v){const{auth:h,user:p}=v;return ge(p,h,"internal-error"),P(p,new La(v),v.bypassAuthState)})).apply(this,arguments)}class $s{constructor(h,p,w,H,ne=!1){this.auth=h,this.resolver=w,this.user=H,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,l.Z)(function*(w,H){h.pendingPromise={resolve:w,reject:H};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ne){h.reject(ne)}});return function(w,H){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:H,postBody:ne,tenantId:Ne,error:lt,type:Lt}=h;if(lt)return void p.reject(lt);const In={auth:p.auth,requestUri:w,sessionId:H,tenantId:Ne||void 0,postBody:ne||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Lt)(In))}catch(Un){p.reject(Un)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Va;case"linkViaPopup":case"linkViaRedirect":return Yi;case"reauthViaPopup":case"reauthViaRedirect":return pi;default:ke(this.auth,"internal-error")}}resolve(h){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const io=new le(2e3,1e4);function lu(v,h,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Xe(v,"operation-not-supported-in-this-environment"));const w=lr(v);yt(v,h,Xn);const H=Ni(w,p);return new yo(w,"signInViaPopup",h,H).executeNotNull()})).apply(this,arguments)}function Hs(v,h,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);if((0,y._isFirebaseServerApp)(w.auth.app))return Promise.reject(Xe(w.auth,"operation-not-supported-in-this-environment"));yt(w.auth,h,Xn);const H=Ni(w.auth,p);return new yo(w.auth,"reauthViaPopup",h,H,w).executeNotNull()})).apply(this,arguments)}function Ih(v,h,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);yt(w.auth,h,Xn);const H=Ni(w.auth,p);return new yo(w.auth,"linkViaPopup",h,H,w).executeNotNull()})).apply(this,arguments)}let yo=(()=>{class v extends $s{constructor(p,w,H,ne,Ne){super(p,w,ne,Ne),this.provider=H,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var p=this;return(0,l.Z)(function*(){const w=yield p.execute();return ge(w,p.auth,"internal-error"),w})()}onExecution(){var p=this;return(0,l.Z)(function*(){Jt(1===p.filter.length,"Popup operations only handle one event");const w=pa();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],w),p.authWindow.associatedEvent=w,p.resolver._originValidation(p.auth).catch(H=>{p.reject(H)}),p.resolver._isIframeWebStorageSupported(p.auth,H=>{H||p.reject(Xe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const p=()=>{var w,H;this.pollId=null!==(H=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,io.get())};p()}}return v.currentPopupAction=null,v})();const Ch="pendingRedirect",No=new Map;class fl extends $s{constructor(h,p,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,l.Z)(function*(){let w=No.get(p.auth._key());if(!w){try{const ne=(yield function Pc(v,h){return Ns.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;w=()=>Promise.resolve(ne)}catch(H){w=()=>Promise.reject(H)}No.set(p.auth._key(),w)}return p.bypassAuthState||No.set(p.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(w,h);if("unknown"!==h.type){if(h.eventId){const H=yield w.auth._redirectUserForId(h.eventId);if(H)return w.user=H,p().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Ns(){return(Ns=(0,l.Z)(function*(v,h){const p=pl(h),w=Ua(v);if(!(yield w._isAvailable()))return!1;const H="true"===(yield w._get(p));return yield w._remove(p),H})).apply(this,arguments)}function Ea(v,h){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(v,h){return Ua(v)._set(pl(h),"true")})).apply(this,arguments)}function Ia(){No.clear()}function wh(v,h){No.set(v._key(),h)}function Ua(v){return gt(v._redirectPersistence)}function pl(v){return Zt(Ch,v.config.apiKey,v.name)}function Ca(v,h,p){return function gd(v,h,p){return md.apply(this,arguments)}(v,h,p)}function md(){return(md=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Qe(v));const w=lr(v);yt(v,h,Xn),yield w._initializationPromise;const H=Ni(w,p);return yield Ea(H,w),H._openRedirect(w,h,"signInViaRedirect")})).apply(this,arguments)}function Rc(v,h,p){return function hu(v,h,p){return gl.apply(this,arguments)}(v,h,p)}function gl(){return(gl=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);if(yt(w.auth,h,Xn),(0,y._isFirebaseServerApp)(w.auth.app))return Promise.reject(Qe(w.auth));yield w.auth._initializationPromise;const H=Ni(w.auth,p);yield Ea(H,w.auth);const ne=yield ea(w);return H._openRedirect(w.auth,h,"reauthViaRedirect",ne)})).apply(this,arguments)}function Th(v,h,p){return function Mc(v,h,p){return Ba.apply(this,arguments)}(v,h,p)}function Ba(){return(Ba=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);yt(w.auth,h,Xn),yield w.auth._initializationPromise;const H=Ni(w.auth,p);yield Se(!1,w,h.providerId),yield Ea(H,w.auth);const ne=yield ea(w);return H._openRedirect(w.auth,h,"linkViaRedirect",ne)})).apply(this,arguments)}function ip(v,h){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(v,h){return yield lr(v)._initializationPromise,_d(v,h,!1)})).apply(this,arguments)}function _d(v,h){return xc.apply(this,arguments)}function xc(){return(xc=(0,l.Z)(function*(v,h,p=!1){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Qe(v));const w=lr(v),H=Ni(w,h),Ne=yield new fl(w,H,p).execute();return Ne&&!p&&(delete Ne.user._redirectEventId,yield w._persistUserIfCurrent(Ne.user),yield w._setRedirectUser(null,h)),Ne})).apply(this,arguments)}function ea(v){return fu.apply(this,arguments)}function fu(){return(fu=(0,l.Z)(function*(v){const h=pa(`${v.uid}:::`);return v._redirectEventId=h,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),h})).apply(this,arguments)}class Oc{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(p=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Zu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ja(v);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var w;if(h.error&&!ja(h)){const H=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";p.onError(Xe(this.auth,H))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const w=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pu(h))}saveEventToCache(h){this.cachedEventUids.add(pu(h)),this.lastProcessedEventTime=Date.now()}}function pu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(h=>h).join("-")}function ja({type:v,error:h}){return"unknown"===v&&"auth/no-auth-event"===h?.code}function vd(v){return gu.apply(this,arguments)}function gu(){return(gu=(0,l.Z)(function*(v,h={}){return Fe(v,"GET","/v1/projects",h)})).apply(this,arguments)}const ji=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qg=/^https?/;function bh(){return(bh=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:h}=yield vd(v);for(const p of h)try{if(Zg(p))return}catch{}ke(v,"unauthorized-domain")})).apply(this,arguments)}function Zg(v){const h=xn(),{protocol:p,hostname:w}=new URL(h);if(v.startsWith("chrome-extension://")){const Ne=new URL(v);return""===Ne.hostname&&""===w?"chrome-extension:"===p&&v.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Ne.hostname===w}if(!qg.test(p))return!1;if(ji.test(v))return w===v;const H=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(w)}const Dh=new le(3e4,6e4);function sp(){const v=Bi().___jsl;if(v?.H)for(const h of Object.keys(v.H))if(v.H[h].r=v.H[h].r||[],v.H[h].L=v.H[h].L||[],v.H[h].r=[...v.H[h].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let Ku=null;const Ah=new le(5e3,15e3),Id="__/auth/iframe",oo="emulator/auth/iframe",Nc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$a=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cd(v){const h=v.config;ge(h.authDomain,v,"auth-domain-config-required");const p=h.emulator?se(h,oo):`https://${v.config.authDomain}/${Id}`,w={apiKey:h.apiKey,appName:v.name,v:y.SDK_VERSION},H=$a.get(v.config.apiHost);H&&(w.eid=H);const ne=v._getFrameworks();return ne.length&&(w.fw=ne.join(",")),`${p}?${(0,z.xO)(w).slice(1)}`}function Ha(){return Ha=(0,l.Z)(function*(v){const h=yield function Yu(v){return Ku=Ku||function Ed(v){return new Promise((h,p)=>{var w,H,ne;function Ne(){sp(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{sp(),p(Xe(v,"network-request-failed"))},timeout:Dh.get()})}if(null!==(H=null===(w=Bi().gapi)||void 0===w?void 0:w.iframes)&&void 0!==H&&H.Iframe)h(gapi.iframes.getContext());else{if(null===(ne=Bi().gapi)||void 0===ne||!ne.load){const lt=mi("iframefcb");return Bi()[lt]=()=>{gapi.load?Ne():p(Xe(v,"network-request-failed"))},Wr(`${function si(){return oi.gapiScript}()}?onload=${lt}`).catch(Lt=>p(Lt))}Ne()}}).catch(h=>{throw Ku=null,h})}(v),Ku}(v),p=Bi().gapi;return ge(p,v,"internal-error"),h.open({where:document.body,url:Cd(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nc,dontclear:!0},w=>new Promise(function(){var H=(0,l.Z)(function*(ne,Ne){yield w.restyle({setHideOnLeave:!1});const lt=Xe(v,"network-request-failed"),Lt=Bi().setTimeout(()=>{Ne(lt)},Ah.get());function In(){Bi().clearTimeout(Lt),ne(w)}w.ping(In).then(In,()=>{Ne(lt)})});return function(ne,Ne){return H.apply(this,arguments)}}()))}),Ha.apply(this,arguments)}const wd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rh{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _l="__/auth/handler",Ju="emulator/auth/handler",kc=encodeURIComponent("fac");function wa(v,h,p,w,H,ne){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(v,h,p,w,H,ne){ge(v.config.authDomain,v,"auth-domain-config-required"),ge(v.config.apiKey,v,"invalid-api-key");const Ne={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:w,v:y.SDK_VERSION,eventId:H};if(h instanceof Xn){h.setDefaultLanguage(v.languageCode),Ne.providerId=h.providerId||"",(0,z.xb)(h.getCustomParameters())||(Ne.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Un,Rr]of Object.entries(ne||{}))Ne[Un]=Rr}if(h instanceof ai){const Un=h.getScopes().filter(Rr=>""!==Rr);Un.length>0&&(Ne.scopes=Un.join(","))}v.tenantId&&(Ne.tid=v.tenantId);const lt=Ne;for(const Un of Object.keys(lt))void 0===lt[Un]&&delete lt[Un];const Lt=yield v._getAppCheckToken(),In=Lt?`#${kc}=${encodeURIComponent(Lt)}`:"";return`${function yl({config:v}){return v.emulator?se(v,Ju):`https://${v.authDomain}/${_l}`}(v)}?${(0,z.xO)(lt).slice(1)}${In}`})).apply(this,arguments)}const vl="webStorageSupport",Td=class Mh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ft,this._completeRedirectFn=_d,this._overrideRedirectResult=wh}_openPopup(h,p,w,H){var ne=this;return(0,l.Z)(function*(){var Ne;Jt(null===(Ne=ne.eventManagers[h._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const lt=yield wa(h,p,w,xn(),H);return function ap(v,h,p,w=500,H=600){const ne=Math.max((window.screen.availHeight-H)/2,0).toString(),Ne=Math.max((window.screen.availWidth-w)/2,0).toString();let lt="";const Lt=Object.assign(Object.assign({},wd),{width:w.toString(),height:H.toString(),top:ne,left:Ne}),In=(0,z.z$)().toLowerCase();p&&(lt=ki(In)?"_blank":p),vn(In)&&(h=h||"http://localhost",Lt.scrollbars="yes");const Un=Object.entries(Lt).reduce((_s,[za,Ga])=>`${_s}${za}=${Ga},`,"");if(function ut(v=(0,z.z$)()){var h;return Fr(v)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(In)&&"_self"!==lt)return function ms(v,h){const p=document.createElement("a");p.href=v,p.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(w)}(h||"",lt),new Rh(null);const Rr=window.open(h||"",lt,Un);ge(Rr,v,"popup-blocked");try{Rr.focus()}catch{}return new Rh(Rr)}(h,lt,pa())})()}_openRedirect(h,p,w,H){var ne=this;return(0,l.Z)(function*(){return yield ne._originValidation(h),function Oa(v){Bi().location.href=v}(yield wa(h,p,w,xn(),H)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:H,promise:ne}=this.eventManagers[p];return H?Promise.resolve(H):(Jt(ne,"If manager is not set, promise should be"),ne)}const w=this.initAndGetManager(h);return this.eventManagers[p]={promise:w},w.catch(()=>{delete this.eventManagers[p]}),w}initAndGetManager(h){var p=this;return(0,l.Z)(function*(){const w=yield function us(v){return Ha.apply(this,arguments)}(h),H=new Oc(h);return w.register("authEvent",ne=>(ge(ne?.authEvent,h,"invalid-auth-event"),{status:H.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:H},p.iframes[h._key()]=w,H})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(vl,{type:vl},H=>{var ne;const Ne=null===(ne=H?.[0])||void 0===ne?void 0:ne[vl];void 0!==Ne&&p(!!Ne),ke(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function op(v){return bh.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ct()||Qn()||Fr()}};class up{constructor(h){this.factorId=h}_process(h,p,w){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,w);case"signin":return this._finalizeSignIn(h,p.credential);default:return Ht("unexpected MultiFactorSessionType")}}}class mu extends up{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new mu(h)}_finalizeEnroll(h,p,w){return function Tc(v,h){return Fe(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(v,h))}(h,{idToken:p,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Q(v,h){return Fe(v,"POST","/v2/accounts/mfaSignIn:finalize",Ie(v,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let El=(()=>{class v{constructor(){}static assertion(p){return mu._fromCredential(p)}}return v.FACTOR_ID="phone",v})();var Lc="@firebase/auth";class Xu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,l.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(w=>{h(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,z.Pz)("authIdTokenMaxAge"),function Vo(v){oi=v}({loadJS:v=>new Promise((h,p)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=h,w.onerror=H=>{const ne=Xe("internal-error");ne.customData=H,p(ne)},w.type="text/javascript",w.charset="UTF-8",function Nh(){var v,h;return null!==(h=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==h?h:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Il(v){(0,y._registerComponent)(new be.wA("auth",(h,{options:p})=>{const w=h.getProvider("app").getImmediate(),H=h.getProvider("heartbeat"),ne=h.getProvider("app-check-internal"),{apiKey:Ne,authDomain:lt}=w.options;ge(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:w.name});const Lt={apiKey:Ne,authDomain:lt,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bn(v)},In=new ho(w,H,ne,Lt);return function Fs(v,h){const p=h?.persistence||[],w=(Array.isArray(p)?p:[p]).map(gt);h?.errorMap&&v._updateErrorMap(h.errorMap),v._initializeWithPersistence(w,h?.popupRedirectResolver)}(In,p),In},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,w)=>{h.getProvider("auth-internal").initialize()})),(0,y._registerComponent)(new be.wA("auth-internal",h=>{const p=lr(h.getProvider("auth").getImmediate());return new Xu(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,y.registerVersion)(Lc,"1.7.4",function ec(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),(0,y.registerVersion)(Lc,"1.7.4","esm2017")}("Browser")},5588:(on,et,k)=>{k.d(et,{u7:()=>Lm,Jj:()=>oc,IX:()=>qc,my:()=>lo,xU:()=>el,Lz:()=>Au,WA:()=>se,F8:()=>Kp,$q:()=>Df,W:()=>ac,EK:()=>Ut,PU:()=>nl,l7:()=>Nn,Ky:()=>Ot,Xb:()=>Fn,Cf:()=>vr,K9:()=>it,Me:()=>ds,yq:()=>Jt,Wi:()=>Tm,ET:()=>$m,Ab:()=>Af,vr:()=>Kd,Fc:()=>Zp,hJ:()=>bm,B$:()=>pf,at:()=>ff,oe:()=>Ya,AK:()=>Zm,TF:()=>Sm,JU:()=>vy,ST:()=>yf,fH:()=>Za,Ix:()=>Iy,Wu:()=>Ny,Lx:()=>Nm,qY:()=>Qi,GL:()=>so,QT:()=>jm,kl:()=>ig,Xk:()=>uc,PL:()=>og,UQ:()=>Fy,zN:()=>cE,ad:()=>mf,nP:()=>Km,b9:()=>Oy,vh:()=>Cf,Pb:()=>Cy,L$:()=>wy,cf:()=>Vy,sc:()=>lE,Xo:()=>Om,IO:()=>My,iE:()=>Wp,Eo:()=>Gp,i3:()=>qm,Bt:()=>cg,pl:()=>Ly,Ub:()=>St,qK:()=>Aa,TQ:()=>qd,e0:()=>Zl,r7:()=>sg,Mx:()=>Ey,ar:()=>Xp});var Le,ze,l=k(5861),y=k(534),z=k(4537),Ce=k(7879),me=k(9058),be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je={};(function(){var a;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Ke,Te,Ve){Ve||(Ve=0);var Je=Array(16);if("string"==typeof Te)for(var nt=0;16>nt;++nt)Je[nt]=Te.charCodeAt(Ve++)|Te.charCodeAt(Ve++)<<8|Te.charCodeAt(Ve++)<<16|Te.charCodeAt(Ve++)<<24;else for(nt=0;16>nt;++nt)Je[nt]=Te[Ve++]|Te[Ve++]<<8|Te[Ve++]<<16|Te[Ve++]<<24;var dt=Ke.g[3],Oe=(Te=Ke.g[0])+(dt^(Ve=Ke.g[1])&((nt=Ke.g[2])^dt))+Je[0]+3614090360&4294967295;Oe=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=(Ve=(nt=(dt=(Te=Ve+(Oe<<7&4294967295|Oe>>>25))+((Oe=dt+(nt^Te&(Ve^nt))+Je[1]+3905402710&4294967295)<<12&4294967295|Oe>>>20))+((Oe=nt+(Ve^dt&(Te^Ve))+Je[2]+606105819&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Ve+(Te^nt&(dt^Te))+Je[3]+3250441966&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Te+(dt^Ve&(nt^dt))+Je[4]+4118548399&4294967295)<<7&4294967295|Oe>>>25))+((Oe=dt+(nt^Te&(Ve^nt))+Je[5]+1200080426&4294967295)<<12&4294967295|Oe>>>20))+((Oe=nt+(Ve^dt&(Te^Ve))+Je[6]+2821735955&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Ve+(Te^nt&(dt^Te))+Je[7]+4249261313&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Te+(dt^Ve&(nt^dt))+Je[8]+1770035416&4294967295)<<7&4294967295|Oe>>>25))+((Oe=dt+(nt^Te&(Ve^nt))+Je[9]+2336552879&4294967295)<<12&4294967295|Oe>>>20))+((Oe=nt+(Ve^dt&(Te^Ve))+Je[10]+4294925233&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Ve+(Te^nt&(dt^Te))+Je[11]+2304563134&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Te+(dt^Ve&(nt^dt))+Je[12]+1804603682&4294967295)<<7&4294967295|Oe>>>25))+((Oe=dt+(nt^Te&(Ve^nt))+Je[13]+4254626195&4294967295)<<12&4294967295|Oe>>>20))+((Oe=nt+(Ve^dt&(Te^Ve))+Je[14]+2792965006&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Ve+(Te^nt&(dt^Te))+Je[15]+1236535329&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Te+(nt^dt&(Ve^nt))+Je[1]+4129170786&4294967295)<<5&4294967295|Oe>>>27))+((Oe=dt+(Ve^nt&(Te^Ve))+Je[6]+3225465664&4294967295)<<9&4294967295|Oe>>>23))+((Oe=nt+(Te^Ve&(dt^Te))+Je[11]+643717713&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Ve+(dt^Te&(nt^dt))+Je[0]+3921069994&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Te+(nt^dt&(Ve^nt))+Je[5]+3593408605&4294967295)<<5&4294967295|Oe>>>27))+((Oe=dt+(Ve^nt&(Te^Ve))+Je[10]+38016083&4294967295)<<9&4294967295|Oe>>>23))+((Oe=nt+(Te^Ve&(dt^Te))+Je[15]+3634488961&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Ve+(dt^Te&(nt^dt))+Je[4]+3889429448&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Te+(nt^dt&(Ve^nt))+Je[9]+568446438&4294967295)<<5&4294967295|Oe>>>27))+((Oe=dt+(Ve^nt&(Te^Ve))+Je[14]+3275163606&4294967295)<<9&4294967295|Oe>>>23))+((Oe=nt+(Te^Ve&(dt^Te))+Je[3]+4107603335&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Ve+(dt^Te&(nt^dt))+Je[8]+1163531501&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Te+(nt^dt&(Ve^nt))+Je[13]+2850285829&4294967295)<<5&4294967295|Oe>>>27))+((Oe=dt+(Ve^nt&(Te^Ve))+Je[2]+4243563512&4294967295)<<9&4294967295|Oe>>>23))+((Oe=nt+(Te^Ve&(dt^Te))+Je[7]+1735328473&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Ve+(dt^Te&(nt^dt))+Je[12]+2368359562&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Te+(Ve^nt^dt)+Je[5]+4294588738&4294967295)<<4&4294967295|Oe>>>28))+((Oe=dt+(Te^Ve^nt)+Je[8]+2272392833&4294967295)<<11&4294967295|Oe>>>21))+((Oe=nt+(dt^Te^Ve)+Je[11]+1839030562&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Ve+(nt^dt^Te)+Je[14]+4259657740&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Te+(Ve^nt^dt)+Je[1]+2763975236&4294967295)<<4&4294967295|Oe>>>28))+((Oe=dt+(Te^Ve^nt)+Je[4]+1272893353&4294967295)<<11&4294967295|Oe>>>21))+((Oe=nt+(dt^Te^Ve)+Je[7]+4139469664&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Ve+(nt^dt^Te)+Je[10]+3200236656&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Te+(Ve^nt^dt)+Je[13]+681279174&4294967295)<<4&4294967295|Oe>>>28))+((Oe=dt+(Te^Ve^nt)+Je[0]+3936430074&4294967295)<<11&4294967295|Oe>>>21))+((Oe=nt+(dt^Te^Ve)+Je[3]+3572445317&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Ve+(nt^dt^Te)+Je[6]+76029189&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Te+(Ve^nt^dt)+Je[9]+3654602809&4294967295)<<4&4294967295|Oe>>>28))+((Oe=dt+(Te^Ve^nt)+Je[12]+3873151461&4294967295)<<11&4294967295|Oe>>>21))+((Oe=nt+(dt^Te^Ve)+Je[15]+530742520&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Ve+(nt^dt^Te)+Je[2]+3299628645&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Te+(nt^(Ve|~dt))+Je[0]+4096336452&4294967295)<<6&4294967295|Oe>>>26))+((Oe=dt+(Ve^(Te|~nt))+Je[7]+1126891415&4294967295)<<10&4294967295|Oe>>>22))+((Oe=nt+(Te^(dt|~Ve))+Je[14]+2878612391&4294967295)<<15&4294967295|Oe>>>17))+((Oe=Ve+(dt^(nt|~Te))+Je[5]+4237533241&4294967295)<<21&4294967295|Oe>>>11))+((Oe=Te+(nt^(Ve|~dt))+Je[12]+1700485571&4294967295)<<6&4294967295|Oe>>>26))+((Oe=dt+(Ve^(Te|~nt))+Je[3]+2399980690&4294967295)<<10&4294967295|Oe>>>22))+((Oe=nt+(Te^(dt|~Ve))+Je[10]+4293915773&4294967295)<<15&4294967295|Oe>>>17))+((Oe=Ve+(dt^(nt|~Te))+Je[1]+2240044497&4294967295)<<21&4294967295|Oe>>>11))+((Oe=Te+(nt^(Ve|~dt))+Je[8]+1873313359&4294967295)<<6&4294967295|Oe>>>26))+((Oe=dt+(Ve^(Te|~nt))+Je[15]+4264355552&4294967295)<<10&4294967295|Oe>>>22))+((Oe=nt+(Te^(dt|~Ve))+Je[6]+2734768916&4294967295)<<15&4294967295|Oe>>>17))+((Oe=Ve+(dt^(nt|~Te))+Je[13]+1309151649&4294967295)<<21&4294967295|Oe>>>11))+((dt=(Te=Ve+((Oe=Te+(nt^(Ve|~dt))+Je[4]+4149444226&4294967295)<<6&4294967295|Oe>>>26))+((Oe=dt+(Ve^(Te|~nt))+Je[11]+3174756917&4294967295)<<10&4294967295|Oe>>>22))^((nt=dt+((Oe=nt+(Te^(dt|~Ve))+Je[2]+718787259&4294967295)<<15&4294967295|Oe>>>17))|~Te))+Je[9]+3951481745&4294967295,Ke.g[0]=Ke.g[0]+Te&4294967295,Ke.g[1]=Ke.g[1]+(nt+(Oe<<21&4294967295|Oe>>>11))&4294967295,Ke.g[2]=Ke.g[2]+nt&4294967295,Ke.g[3]=Ke.g[3]+dt&4294967295}function m(Ke,Te){this.h=Te;for(var Ve=[],Je=!0,nt=Ke.length-1;0<=nt;nt--){var dt=0|Ke[nt];Je&&dt==Te||(Ve[nt]=dt,Je=!1)}this.g=Ve}(function e(Ke,Te){function Ve(){}Ve.prototype=Te.prototype,Ke.D=Te.prototype,Ke.prototype=new Ve,Ke.prototype.constructor=Ke,Ke.C=function(Je,nt,dt){for(var Oe=Array(arguments.length-2),Mu=2;Mu<arguments.length;Mu++)Oe[Mu-2]=arguments[Mu];return Te.prototype[nt].apply(Je,Oe)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(Ke,Te){void 0===Te&&(Te=Ke.length);for(var Ve=Te-this.blockSize,Je=this.B,nt=this.h,dt=0;dt<Te;){if(0==nt)for(;dt<=Ve;)u(this,Ke,dt),dt+=this.blockSize;if("string"==typeof Ke){for(;dt<Te;)if(Je[nt++]=Ke.charCodeAt(dt++),nt==this.blockSize){u(this,Je),nt=0;break}}else for(;dt<Te;)if(Je[nt++]=Ke[dt++],nt==this.blockSize){u(this,Je),nt=0;break}}this.h=nt,this.o+=Te},o.prototype.v=function(){var Ke=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ke[0]=128;for(var Te=1;Te<Ke.length-8;++Te)Ke[Te]=0;var Ve=8*this.o;for(Te=Ke.length-8;Te<Ke.length;++Te)Ke[Te]=255&Ve,Ve/=256;for(this.u(Ke),Ke=Array(16),Te=Ve=0;4>Te;++Te)for(var Je=0;32>Je;Je+=8)Ke[Ve++]=this.g[Te]>>>Je&255;return Ke};var T={};function R(Ke){return-128<=Ke&&128>Ke?function f(Ke,Te){var Ve=T;return Object.prototype.hasOwnProperty.call(Ve,Ke)?Ve[Ke]:Ve[Ke]=Te(Ke)}(Ke,function(Te){return new m([0|Te],0>Te?-1:0)}):new m([0|Ke],0>Ke?-1:0)}function B(Ke){if(isNaN(Ke)||!isFinite(Ke))return ce;if(0>Ke)return $t(B(-Ke));for(var Te=[],Ve=1,Je=0;Ke>=Ve;Je++)Te[Je]=Ke/Ve|0,Ve*=4294967296;return new m(Te,0)}var ce=R(0),Me=R(1),st=R(16777216);function kt(Ke){if(0!=Ke.h)return!1;for(var Te=0;Te<Ke.g.length;Te++)if(0!=Ke.g[Te])return!1;return!0}function Kt(Ke){return-1==Ke.h}function $t(Ke){for(var Te=Ke.g.length,Ve=[],Je=0;Je<Te;Je++)Ve[Je]=~Ke.g[Je];return new m(Ve,~Ke.h).add(Me)}function An(Ke,Te){return Ke.add($t(Te))}function Bn(Ke,Te){for(;(65535&Ke[Te])!=Ke[Te];)Ke[Te+1]+=Ke[Te]>>>16,Ke[Te]&=65535,Te++}function Rn(Ke,Te){this.g=Ke,this.h=Te}function dr(Ke,Te){if(kt(Te))throw Error("division by zero");if(kt(Ke))return new Rn(ce,ce);if(Kt(Ke))return Te=dr($t(Ke),Te),new Rn($t(Te.g),$t(Te.h));if(Kt(Te))return Te=dr(Ke,$t(Te)),new Rn($t(Te.g),Te.h);if(30<Ke.g.length){if(Kt(Ke)||Kt(Te))throw Error("slowDivide_ only works with positive integers.");for(var Ve=Me,Je=Te;0>=Je.l(Ke);)Ve=ui(Ve),Je=ui(Je);var nt=Mr(Ve,1),dt=Mr(Je,1);for(Je=Mr(Je,2),Ve=Mr(Ve,2);!kt(Je);){var Oe=dt.add(Je);0>=Oe.l(Ke)&&(nt=nt.add(Ve),dt=Oe),Je=Mr(Je,1),Ve=Mr(Ve,1)}return Te=An(Ke,nt.j(Te)),new Rn(nt,Te)}for(nt=ce;0<=Ke.l(Te);){for(Ve=Math.max(1,Math.floor(Ke.m()/Te.m())),Je=48>=(Je=Math.ceil(Math.log(Ve)/Math.LN2))?1:Math.pow(2,Je-48),Oe=(dt=B(Ve)).j(Te);Kt(Oe)||0<Oe.l(Ke);)Oe=(dt=B(Ve-=Je)).j(Te);kt(dt)&&(dt=Me),nt=nt.add(dt),Ke=An(Ke,Oe)}return new Rn(nt,Ke)}function ui(Ke){for(var Te=Ke.g.length+1,Ve=[],Je=0;Je<Te;Je++)Ve[Je]=Ke.i(Je)<<1|Ke.i(Je-1)>>>31;return new m(Ve,Ke.h)}function Mr(Ke,Te){var Ve=Te>>5;Te%=32;for(var Je=Ke.g.length-Ve,nt=[],dt=0;dt<Je;dt++)nt[dt]=0<Te?Ke.i(dt+Ve)>>>Te|Ke.i(dt+Ve+1)<<32-Te:Ke.i(dt+Ve);return new m(nt,Ke.h)}(a=m.prototype).m=function(){if(Kt(this))return-$t(this).m();for(var Ke=0,Te=1,Ve=0;Ve<this.g.length;Ve++){var Je=this.i(Ve);Ke+=(0<=Je?Je:4294967296+Je)*Te,Te*=4294967296}return Ke},a.toString=function(Ke){if(2>(Ke=Ke||10)||36<Ke)throw Error("radix out of range: "+Ke);if(kt(this))return"0";if(Kt(this))return"-"+$t(this).toString(Ke);for(var Te=B(Math.pow(Ke,6)),Ve=this,Je="";;){var nt=dr(Ve,Te).g,dt=((0<(Ve=An(Ve,nt.j(Te))).g.length?Ve.g[0]:Ve.h)>>>0).toString(Ke);if(kt(Ve=nt))return dt+Je;for(;6>dt.length;)dt="0"+dt;Je=dt+Je}},a.i=function(Ke){return 0>Ke?0:Ke<this.g.length?this.g[Ke]:this.h},a.l=function(Ke){return Kt(Ke=An(this,Ke))?-1:kt(Ke)?0:1},a.abs=function(){return Kt(this)?$t(this):this},a.add=function(Ke){for(var Te=Math.max(this.g.length,Ke.g.length),Ve=[],Je=0,nt=0;nt<=Te;nt++){var dt=Je+(65535&this.i(nt))+(65535&Ke.i(nt)),Oe=(dt>>>16)+(this.i(nt)>>>16)+(Ke.i(nt)>>>16);Je=Oe>>>16,Ve[nt]=(Oe&=65535)<<16|(dt&=65535)}return new m(Ve,-2147483648&Ve[Ve.length-1]?-1:0)},a.j=function(Ke){if(kt(this)||kt(Ke))return ce;if(Kt(this))return Kt(Ke)?$t(this).j($t(Ke)):$t($t(this).j(Ke));if(Kt(Ke))return $t(this.j($t(Ke)));if(0>this.l(st)&&0>Ke.l(st))return B(this.m()*Ke.m());for(var Te=this.g.length+Ke.g.length,Ve=[],Je=0;Je<2*Te;Je++)Ve[Je]=0;for(Je=0;Je<this.g.length;Je++)for(var nt=0;nt<Ke.g.length;nt++){var dt=this.i(Je)>>>16,Oe=65535&this.i(Je),Mu=Ke.i(nt)>>>16,Qd=65535&Ke.i(nt);Ve[2*Je+2*nt]+=Oe*Qd,Bn(Ve,2*Je+2*nt),Ve[2*Je+2*nt+1]+=dt*Qd,Bn(Ve,2*Je+2*nt+1),Ve[2*Je+2*nt+1]+=Oe*Mu,Bn(Ve,2*Je+2*nt+1),Ve[2*Je+2*nt+2]+=dt*Mu,Bn(Ve,2*Je+2*nt+2)}for(Je=0;Je<Te;Je++)Ve[Je]=Ve[2*Je+1]<<16|Ve[2*Je];for(Je=Te;Je<2*Te;Je++)Ve[Je]=0;return new m(Ve,0)},a.A=function(Ke){return dr(this,Ke).h},a.and=function(Ke){for(var Te=Math.max(this.g.length,Ke.g.length),Ve=[],Je=0;Je<Te;Je++)Ve[Je]=this.i(Je)&Ke.i(Je);return new m(Ve,this.h&Ke.h)},a.or=function(Ke){for(var Te=Math.max(this.g.length,Ke.g.length),Ve=[],Je=0;Je<Te;Je++)Ve[Je]=this.i(Je)|Ke.i(Je);return new m(Ve,this.h|Ke.h)},a.xor=function(Ke){for(var Te=Math.max(this.g.length,Ke.g.length),Ve=[],Je=0;Je<Te;Je++)Ve[Je]=this.i(Je)^Ke.i(Je);return new m(Ve,this.h^Ke.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,ze=je.Md5=o,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=B,m.fromString=function ee(Ke,Te){if(0==Ke.length)throw Error("number format error: empty string");if(2>(Te=Te||10)||36<Te)throw Error("radix out of range: "+Te);if("-"==Ke.charAt(0))return $t(ee(Ke.substring(1),Te));if(0<=Ke.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ve=B(Math.pow(Te,8)),Je=ce,nt=0;nt<Ke.length;nt+=8){var dt=Math.min(8,Ke.length-nt),Oe=parseInt(Ke.substring(nt,nt+dt),Te);8>dt?(dt=B(Math.pow(Te,dt)),Je=Je.j(dt).add(B(Oe))):Je=(Je=Je.j(Ve)).add(B(Oe))}return Je},Le=je.Integer=m}).apply(typeof be<"u"?be:typeof self<"u"?self:typeof window<"u"?window:{});var Re,mt,We,Rt,vt,Vt,bt,sn,qe,ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(g,M,$){return g==Array.prototype||g==Object.prototype||(g[M]=$.value),g},o=function r(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ie&&ie];for(var M=0;M<g.length;++M){var $=g[M];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}(this);!function u(g,M){if(M)e:{var $=o;g=g.split(".");for(var ue=0;ue<g.length-1;ue++){var rt=g[ue];if(!(rt in $))break e;$=$[rt]}(M=M(ue=$[g=g[g.length-1]]))!=ue&&null!=M&&e($,g,{configurable:!0,writable:!0,value:M})}}("Array.prototype.values",function(g){return g||function(){return function f(g,M){g instanceof String&&(g+="");var $=0,ue=!1,rt={next:function(){if(!ue&&$<g.length){var wt=$++;return{value:M(wt,g[wt]),done:!1}}return ue=!0,{done:!0,value:void 0}}};return rt[Symbol.iterator]=function(){return rt},rt}(this,function(M,$){return $})}});var m=m||{},T=this||self;function R(g){var M=typeof g;return"array"==(M="object"!=M?M:g?Array.isArray(g)?"array":M:"null")||"object"==M&&"number"==typeof g.length}function B(g){var M=typeof g;return"object"==M&&null!=g||"function"==M}function ee(g,M,$){return g.call.apply(g.bind,arguments)}function ce(g,M,$){if(!g)throw Error();if(2<arguments.length){var ue=Array.prototype.slice.call(arguments,2);return function(){var rt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(rt,ue),g.apply(M,rt)}}return function(){return g.apply(M,arguments)}}function Me(g,M,$){return(Me=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ee:ce).apply(null,arguments)}function st(g,M){var $=Array.prototype.slice.call(arguments,1);return function(){var ue=$.slice();return ue.push.apply(ue,arguments),g.apply(this,ue)}}function kt(g,M){function $(){}$.prototype=M.prototype,g.aa=M.prototype,g.prototype=new $,g.prototype.constructor=g,g.Qb=function(ue,rt,wt){for(var pn=Array(arguments.length-2),Ii=2;Ii<arguments.length;Ii++)pn[Ii-2]=arguments[Ii];return M.prototype[rt].apply(ue,pn)}}function Kt(g){const M=g.length;if(0<M){const $=Array(M);for(let ue=0;ue<M;ue++)$[ue]=g[ue];return $}return[]}function $t(g,M){for(let $=1;$<arguments.length;$++){const ue=arguments[$];if(R(ue)){const rt=g.length||0,wt=ue.length||0;g.length=rt+wt;for(let pn=0;pn<wt;pn++)g[rt+pn]=ue[pn]}else g.push(ue)}}function Bn(g){return/^[\s\xa0]*$/.test(g)}function Rn(){var g=T.navigator;return g&&(g=g.userAgent)?g:""}function dr(g){return dr[" "](g),g}dr[" "]=function(){};var ui=!(-1==Rn().indexOf("Gecko")||-1!=Rn().toLowerCase().indexOf("webkit")&&-1==Rn().indexOf("Edge")||-1!=Rn().indexOf("Trident")||-1!=Rn().indexOf("MSIE")||-1!=Rn().indexOf("Edge"));function Mr(g,M,$){for(const ue in g)M.call($,g[ue],ue,g)}function Te(g){const M={};for(const $ in g)M[$]=g[$];return M}const Ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Je(g,M){let $,ue;for(let rt=1;rt<arguments.length;rt++){for($ in ue=arguments[rt],ue)g[$]=ue[$];for(let wt=0;wt<Ve.length;wt++)$=Ve[wt],Object.prototype.hasOwnProperty.call(ue,$)&&(g[$]=ue[$])}}function nt(g){var M=1;g=g.split(":");const $=[];for(;0<M&&g.length;)$.push(g.shift()),M--;return g.length&&$.push(g.join(":")),$}function dt(g){T.setTimeout(()=>{throw g},0)}function Oe(){var g=Qm;let M=null;return g.g&&(M=g.g,g.g=g.g.next,g.g||(g.h=null),M.next=null),M}var Qd=new class An{constructor(M,$){this.i=M,this.j=$,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}(()=>new zs,g=>g.reset());class zs{constructor(){this.next=this.g=this.h=null}set(M,$){this.h=M,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let Jd,Xd=!1,Qm=new class Mu{constructor(){this.h=this.g=null}add(M,$){const ue=Qd.get();ue.set(M,$),this.h?this.h.next=ue:this.g=ue,this.h=ue}},Sf=()=>{const g=T.Promise.resolve(void 0);Jd=()=>{g.then(Jm)}};var Jm=()=>{for(var g;g=Oe();){try{g.h.call(g.g)}catch($){dt($)}var M=Qd;M.j(g),100>M.h&&(M.h++,g.next=M.g,M.g=g)}Xd=!1};function lc(){this.s=this.s,this.C=this.C}function cs(g,M){this.type=g,this.g=this.target=M,this.defaultPrevented=!1}lc.prototype.s=!1,lc.prototype.ma=function(){this.s||(this.s=!0,this.N())},lc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},cs.prototype.h=function(){this.defaultPrevented=!0};var Xy=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var g=!1,M=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const $=()=>{};T.addEventListener("test",$,M),T.removeEventListener("test",$,M)}catch{}return g}();function Ql(g,M){if(cs.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var $=this.type=g.type,ue=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=M,M=g.relatedTarget){if(ui){e:{try{dr(M.nodeName);var rt=!0;break e}catch{}rt=!1}rt||(M=null)}}else"mouseover"==$?M=g.fromElement:"mouseout"==$&&(M=g.toElement);this.relatedTarget=M,ue?(this.clientX=void 0!==ue.clientX?ue.clientX:ue.pageX,this.clientY=void 0!==ue.clientY?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=void 0!==g.clientX?g.clientX:g.pageX,this.clientY=void 0!==g.clientY?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType="string"==typeof g.pointerType?g.pointerType:ev[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ql.aa.h.call(this)}}kt(Ql,cs);var ev={2:"touch",3:"pen",4:"mouse"};Ql.prototype.h=function(){Ql.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var eh="closure_listenable_"+(1e6*Math.random()|0),lg=0;function tv(g,M,$,ue,rt){this.listener=g,this.proxy=null,this.src=M,this.type=$,this.capture=!!ue,this.ha=rt,this.key=++lg,this.da=this.fa=!1}function Pf(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Rf(g){this.src=g,this.g={},this.h=0}function dg(g,M){var $=M.type;if($ in g.g){var wt,ue=g.g[$],rt=Array.prototype.indexOf.call(ue,M,void 0);(wt=0<=rt)&&Array.prototype.splice.call(ue,rt,1),wt&&(Pf(M),0==g.g[$].length&&(delete g.g[$],g.h--))}}function hg(g,M,$,ue){for(var rt=0;rt<g.length;++rt){var wt=g[rt];if(!wt.da&&wt.listener==M&&wt.capture==!!$&&wt.ha==ue)return rt}return-1}Rf.prototype.add=function(g,M,$,ue,rt){var wt=g.toString();(g=this.g[wt])||(g=this.g[wt]=[],this.h++);var pn=hg(g,M,ue,rt);return-1<pn?(M=g[pn],$||(M.fa=!1)):((M=new tv(M,this.src,wt,!!ue,rt)).fa=$,g.push(M)),M};var ta="closure_lm_"+(1e6*Math.random()|0),th={};function Xm(g,M,$,ue,rt){if(ue&&ue.once)return pg(g,M,$,ue,rt);if(Array.isArray(M)){for(var wt=0;wt<M.length;wt++)Xm(g,M[wt],$,ue,rt);return null}return $=Nf($),g&&g[eh]?g.K(M,$,B(ue)?!!ue.capture:!!ue,rt):fg(g,M,$,!1,ue,rt)}function fg(g,M,$,ue,rt,wt){if(!M)throw Error("Invalid event type");var pn=B(rt)?!!rt.capture:!!rt,Ii=xf(g);if(Ii||(g[ta]=Ii=new Rf(g)),($=Ii.add(M,$,ue,pn,wt)).proxy)return $;if(ue=function nv(){const M=mE;return function g($){return M.call(g.src,g.listener,$)}}(),$.proxy=ue,ue.src=g,ue.listener=$,g.addEventListener)Xy||(rt=pn),void 0===rt&&(rt=!1),g.addEventListener(M.toString(),ue,rt);else if(g.attachEvent)g.attachEvent(Mf(M.toString()),ue);else{if(!g.addListener||!g.removeListener)throw Error("addEventListener and attachEvent are unavailable.");g.addListener(ue)}return $}function pg(g,M,$,ue,rt){if(Array.isArray(M)){for(var wt=0;wt<M.length;wt++)pg(g,M[wt],$,ue,rt);return null}return $=Nf($),g&&g[eh]?g.L(M,$,B(ue)?!!ue.capture:!!ue,rt):fg(g,M,$,!0,ue,rt)}function gg(g,M,$,ue,rt){if(Array.isArray(M))for(var wt=0;wt<M.length;wt++)gg(g,M[wt],$,ue,rt);else ue=B(ue)?!!ue.capture:!!ue,$=Nf($),g&&g[eh]?(g=g.i,(M=String(M).toString())in g.g&&-1<($=hg(wt=g.g[M],$,ue,rt))&&(Pf(wt[$]),Array.prototype.splice.call(wt,$,1),0==wt.length&&(delete g.g[M],g.h--))):g&&(g=xf(g))&&(M=g.g[M.toString()],g=-1,M&&(g=hg(M,$,ue,rt)),($=-1<g?M[g]:null)&&Jl($))}function Jl(g){if("number"!=typeof g&&g&&!g.da){var M=g.src;if(M&&M[eh])dg(M.i,g);else{var $=g.type,ue=g.proxy;M.removeEventListener?M.removeEventListener($,ue,g.capture):M.detachEvent?M.detachEvent(Mf($),ue):M.addListener&&M.removeListener&&M.removeListener(ue),($=xf(M))?(dg($,g),0==$.h&&($.src=null,M[ta]=null)):Pf(g)}}}function Mf(g){return g in th?th[g]:th[g]="on"+g}function mE(g,M){if(g.da)g=!0;else{M=new Ql(M,this);var $=g.listener,ue=g.ha||g.src;g.fa&&Jl(g),g=$.call(ue,M)}return g}function xf(g){return(g=g[ta])instanceof Rf?g:null}var Of="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nf(g){return"function"==typeof g?g:(g[Of]||(g[Of]=function(M){return g.handleEvent(M)}),g[Of])}function Yo(){lc.call(this),this.i=new Rf(this),this.M=this,this.F=null}function Qo(g,M){var $,ue=g.F;if(ue)for($=[];ue;ue=ue.F)$.push(ue);if(g=g.M,ue=M.type||M,"string"==typeof M)M=new cs(M,g);else if(M instanceof cs)M.target=M.target||g;else{var rt=M;Je(M=new cs(ue,g),rt)}if(rt=!0,$)for(var wt=$.length-1;0<=wt;wt--){var pn=M.g=$[wt];rt=na(pn,ue,!0,M)&&rt}if(rt=na(pn=M.g=g,ue,!0,M)&&rt,rt=na(pn,ue,!1,M)&&rt,$)for(wt=0;wt<$.length;wt++)rt=na(pn=M.g=$[wt],ue,!1,M)&&rt}function na(g,M,$,ue){if(!(M=g.i.g[String(M)]))return!0;M=M.concat();for(var rt=!0,wt=0;wt<M.length;++wt){var pn=M[wt];if(pn&&!pn.da&&pn.capture==$){var Ii=pn.listener,Fo=pn.ha||pn.src;pn.fa&&dg(g.i,pn),rt=!1!==Ii.call(Fo,ue)&&rt}}return rt&&!ue.defaultPrevented}function e_(g,M,$){if("function"==typeof g)$&&(g=Me(g,$));else{if(!g||"function"!=typeof g.handleEvent)throw Error("Invalid listener argument");g=Me(g.handleEvent,g)}return 2147483647<Number(M)?-1:T.setTimeout(g,M||0)}function t_(g){g.g=e_(()=>{g.g=null,g.i&&(g.i=!1,t_(g))},g.l);const M=g.h;g.h=null,g.m.apply(null,M)}kt(Yo,lc),Yo.prototype[eh]=!0,Yo.prototype.removeEventListener=function(g,M,$,ue){gg(this,g,M,$,ue)},Yo.prototype.N=function(){if(Yo.aa.N.call(this),this.i){var M,g=this.i;for(M in g.g){for(var $=g.g[M],ue=0;ue<$.length;ue++)Pf($[ue]);delete g.g[M],g.h--}}this.F=null},Yo.prototype.K=function(g,M,$,ue){return this.i.add(String(g),M,!1,$,ue)},Yo.prototype.L=function(g,M,$,ue){return this.i.add(String(g),M,!0,$,ue)};class mg extends lc{constructor(M,$){super(),this.m=M,this.l=$,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:t_(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nh(g){lc.call(this),this.h=g,this.g={}}kt(nh,lc);var _g=[];function n_(g){Mr(g.g,function(M,$){this.g.hasOwnProperty($)&&Jl(M)},g),g.g={}}nh.prototype.N=function(){nh.aa.N.call(this),n_(this)},nh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xl=T.JSON.stringify,rh=T.JSON.parse,r_=class{stringify(g){return T.JSON.stringify(g,void 0)}parse(g){return T.JSON.parse(g,void 0)}};function ed(){}function i_(){}ed.prototype.h=null;var td={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kf(){cs.call(this,"d")}function yg(){cs.call(this,"c")}kt(kf,cs),kt(yg,cs);var rl={},vg=null;function ih(){return vg=vg||new Yo}function nd(g){cs.call(this,rl.La,g)}function oh(g){const M=ih();Qo(M,new nd(M))}function Eg(g,M){cs.call(this,rl.STAT_EVENT,g),this.stat=M}function ls(g){const M=ih();Qo(M,new Eg(M,g))}function o_(g,M){cs.call(this,rl.Ma,g),this.size=M}function sh(g,M){if("function"!=typeof g)throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){g()},M)}function xu(){this.g=!0}function rd(g,M,$,ue){g.info(function(){return"XMLHTTP TEXT ("+M+"): "+function av(g,M){if(!g.g)return M;if(!M)return null;try{var $=JSON.parse(M);if($)for(g=0;g<$.length;g++)if(Array.isArray($[g])){var ue=$[g];if(!(2>ue.length)){var rt=ue[1];if(Array.isArray(rt)&&!(1>rt.length)){var wt=rt[0];if("noop"!=wt&&"stop"!=wt&&"close"!=wt)for(var pn=1;pn<rt.length;pn++)rt[pn]=""}}}return Xl($)}catch{return M}}(g,$)+(ue?" "+ue:"")})}rl.La="serverreachability",kt(nd,cs),rl.STAT_EVENT="statevent",kt(Eg,cs),rl.Ma="timingevent",kt(o_,cs),xu.prototype.xa=function(){this.g=!1},xu.prototype.info=function(){};var Ig,Ff={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},s_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ah(){}function Qa(g,M,$,ue){this.j=g,this.i=M,this.l=$,this.R=ue||1,this.U=new nh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new a_}function a_(){this.i=null,this.g="",this.h=!1}kt(ah,ed),ah.prototype.g=function(){return new XMLHttpRequest},ah.prototype.i=function(){return{}},Ig=new ah;var uh={},Cg={};function wg(g,M,$){g.L=1,g.v=ku(Sa(M)),g.m=$,g.P=!0,u_(g,null)}function u_(g,M){g.F=Date.now(),Lf(g),g.A=Sa(g.v);var $=g.A,ue=g.R;Array.isArray(ue)||(ue=[String(ue)]),Pg($.i,"t",ue),g.C=0,$=g.j.J,g.h=new a_,g.g=P_(g.j,$?M:null,!g.m),0<g.O&&(g.M=new mg(Me(g.Y,g,g.g),g.O)),M=g.U,$=g.g,ue=g.ca;var rt="readystatechange";Array.isArray(rt)||(rt&&(_g[0]=rt.toString()),rt=_g);for(var wt=0;wt<rt.length;wt++){var pn=Xm($,rt[wt],ue||M.handleEvent,!1,M.h||M);if(!pn)break;M.g[pn.key]=pn}M=g.H?Te(g.H):{},g.m?(g.u||(g.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,M)):(g.u="GET",g.g.ea(g.A,g.u,null,M)),oh(),function iv(g,M,$,ue,rt,wt){g.info(function(){if(g.g)if(wt)for(var pn="",Ii=wt.split("&"),Fo=0;Fo<Ii.length;Fo++){var ii=Ii[Fo].split("=");if(1<ii.length){var Ho=ii[0];ii=ii[1];var Xo=Ho.split("_");pn=2<=Xo.length&&"type"==Xo[1]?pn+(Ho+"=")+ii+"&":pn+(Ho+"=redacted&")}}else pn=null;else pn=wt;return"XMLHTTP REQ ("+ue+") [attempt "+rt+"]: "+M+"\n"+$+"\n"+pn})}(g.i,g.u,g.A,g.l,g.R,g.m)}function c_(g){return!!g.g&&"GET"==g.u&&2!=g.L&&g.j.Ca}function uv(g,M){var $=g.C,ue=M.indexOf("\n",$);return-1==ue?Cg:($=Number(M.substring($,ue)),isNaN($)?uh:(ue+=1)+$>M.length?Cg:(M=M.slice(ue,ue+$),g.C=ue+$,M))}function Lf(g){g.S=Date.now()+g.I,l_(g,g.I)}function l_(g,M){if(null!=g.B)throw Error("WatchDog timer not null");g.B=sh(Me(g.ba,g),M)}function Vf(g){g.B&&(T.clearTimeout(g.B),g.B=null)}function id(g){0==g.j.G||g.J||A_(g.j,g)}function il(g){Vf(g);var M=g.M;M&&"function"==typeof M.ma&&M.ma(),g.M=null,n_(g.U),g.g&&(M=g.g,g.g=null,M.abort(),M.ma())}function d_(g,M){try{var $=g.j;if(0!=$.G&&($.g==g||bg($.h,g)))if(!g.K&&bg($.h,g)&&3==$.G){try{var ue=$.Da.g.parse(M)}catch{ue=null}if(Array.isArray(ue)&&3==ue.length){var rt=ue;if(0==rt[0]){e:if(!$.u){if($.g){if(!($.g.F+3e3<g.F))break e;Wf($),xg($)}zf($),ls(18)}}else $.za=rt[1],0<$.za-$.T&&37500>rt[2]&&$.F&&0==$.v&&!$.C&&($.C=sh(Me($.Za,$),6e3));if(1>=ch($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else gc($,11)}else if((g.K||$.g==g)&&Wf($),!Bn(M))for(rt=$.Da.g.parse(M),M=0;M<rt.length;M++){let ii=rt[M];if($.T=ii[0],ii=ii[1],2==$.G)if("c"==ii[0]){$.K=ii[1],$.ia=ii[2];const Ho=ii[3];null!=Ho&&($.la=Ho,$.j.info("VER="+$.la));const Xo=ii[4];null!=Xo&&($.Aa=Xo,$.j.info("SVER="+$.Aa));const dd=ii[5];null!=dd&&"number"==typeof dd&&0<dd&&($.L=ue=1.5*dd,$.j.info("backChannelRequestTimeoutMs_="+ue)),ue=$;const ra=g.g;if(ra){const mh=ra.g?ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mh){var wt=ue.h;wt.g||-1==mh.indexOf("spdy")&&-1==mh.indexOf("quic")&&-1==mh.indexOf("h2")||(wt.j=wt.l,wt.g=new Set,wt.h&&(Dg(wt,wt.h),wt.h=null))}if(ue.D){const Kf=ra.g?ra.g.getResponseHeader("X-HTTP-Session-Id"):null;Kf&&(ue.ya=Kf,gi(ue.I,ue.D,Kf))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-g.F,$.j.info("Handshake RTT: "+$.R+"ms"));var pn=g;if((ue=$).qa=Zf(ue,ue.J?ue.ia:null,ue.W),pn.K){Uf(ue.h,pn);var Ii=pn,Fo=ue.L;Fo&&(Ii.I=Fo),Ii.B&&(Vf(Ii),Lf(Ii)),ue.g=pn}else D_(ue);0<$.i.length&&Hf($)}else"stop"!=ii[0]&&"close"!=ii[0]||gc($,7);else 3==$.G&&("stop"==ii[0]||"close"==ii[0]?"stop"==ii[0]?gc($,7):ud($):"noop"!=ii[0]&&$.l&&$.l.ta(ii),$.v=0)}oh()}catch{}}function Tg(g){this.l=g||10,g=T.PerformanceNavigationTiming?0<(g=T.performance.getEntriesByType("navigation")).length&&("hq"==g[0].nextHopProtocol||"h2"==g[0].nextHopProtocol):!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cv(g){return!!g.h||!!g.g&&g.g.size>=g.j}function ch(g){return g.h?1:g.g?g.g.size:0}function bg(g,M){return g.h?g.h==M:!!g.g&&g.g.has(M)}function Dg(g,M){g.g?g.g.add(M):g.h=M}function Uf(g,M){g.h&&g.h==M?g.h=null:g.g&&g.g.has(M)&&g.g.delete(M)}function f_(g){if(null!=g.h)return g.i.concat(g.h.D);if(null!=g.g&&0!==g.g.size){let M=g.i;for(const $ of g.g.values())M=M.concat($.D);return M}return Kt(g.i)}function Jo(g,M){if(g.forEach&&"function"==typeof g.forEach)g.forEach(M,void 0);else if(R(g)||"string"==typeof g)Array.prototype.forEach.call(g,M,void 0);else for(var $=function lh(g){if(g.na&&"function"==typeof g.na)return g.na();if(!g.V||"function"!=typeof g.V){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(R(g)||"string"==typeof g){var M=[];g=g.length;for(var $=0;$<g;$++)M.push($);return M}M=[],$=0;for(const ue in g)M[$++]=ue;return M}}}(g),ue=function Ja(g){if(g.V&&"function"==typeof g.V)return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if("string"==typeof g)return g.split("");if(R(g)){for(var M=[],$=g.length,ue=0;ue<$;ue++)M.push(g[ue]);return M}for(ue in M=[],$=0,g)M[$++]=g[ue];return M}(g),rt=ue.length,wt=0;wt<rt;wt++)M.call(void 0,ue[wt],$&&$[wt],g)}Qa.prototype.ca=function(g){g=g.target;const M=this.M;M&&3==Lu(g)?M.j():this.Y(g)},Qa.prototype.Y=function(g){try{if(g==this.g)e:{const Xo=Lu(this.g);var M=this.g.Ba();if(this.g.Z(),!(3>Xo)&&(3!=Xo||this.g&&(this.h.h||this.g.oa()||C_(this.g)))){this.J||4!=Xo||7==M||oh(),Vf(this);var $=this.g.Z();this.X=$;t:if(c_(this)){var ue=C_(this.g);g="";var rt=ue.length,wt=4==Lu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){il(this),id(this);var pn="";break t}this.h.i=new T.TextDecoder}for(M=0;M<rt;M++)this.h.h=!0,g+=this.h.i.decode(ue[M],{stream:!(wt&&M==rt-1)});ue.length=0,this.h.g+=g,this.C=0,pn=this.h.g}else pn=this.g.oa();if(this.o=200==$,function ov(g,M,$,ue,rt,wt,pn){g.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+rt+"]: "+M+"\n"+$+"\n"+wt+" "+pn})}(this.i,this.u,this.A,this.l,this.R,Xo,$),this.o){if(this.T&&!this.K){t:{if(this.g){var Ii,Fo=this.g;if((Ii=Fo.g?Fo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bn(Ii)){var ii=Ii;break t}}ii=null}if(!($=ii)){this.o=!1,this.s=3,ls(12),il(this),id(this);break e}rd(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,d_(this,$)}if(this.P){let ra;for($=!0;!this.J&&this.C<pn.length;){if(ra=uv(this,pn),ra==Cg){4==Xo&&(this.s=4,ls(14),$=!1),rd(this.i,this.l,null,"[Incomplete Response]");break}if(ra==uh){this.s=4,ls(15),rd(this.i,this.l,pn,"[Invalid Chunk]"),$=!1;break}rd(this.i,this.l,ra,null),d_(this,ra)}if(c_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Xo||0!=pn.length||this.h.h||(this.s=1,ls(16),$=!1),this.o=this.o&&$,$){if(0<pn.length&&!this.W){this.W=!0;var Ho=this.j;Ho.g==this&&Ho.ba&&!Ho.M&&(Ho.j.info("Great, no buffering proxy detected. Bytes received: "+pn.length),Gf(Ho),Ho.M=!0,ls(11))}}else rd(this.i,this.l,pn,"[Invalid Chunked Response]"),il(this),id(this)}else rd(this.i,this.l,pn,null),d_(this,pn);4==Xo&&il(this),this.o&&!this.J&&(4==Xo?A_(this.j,this):(this.o=!1,Lf(this)))}else(function hv(g){const M={};g=(g.g&&2<=Lu(g)&&g.g.getAllResponseHeaders()||"").split("\r\n");for(let ue=0;ue<g.length;ue++){if(Bn(g[ue]))continue;var $=nt(g[ue]);const rt=$[0];if("string"!=typeof($=$[1]))continue;$=$.trim();const wt=M[rt]||[];M[rt]=wt,wt.push($)}!function Ke(g,M){for(const $ in g)M.call(void 0,g[$],$,g)}(M,function(ue){return ue.join(", ")})})(this.g),400==$&&0<pn.indexOf("Unknown SID")?(this.s=3,ls(12)):(this.s=0,ls(13)),il(this),id(this)}}}catch{}},Qa.prototype.cancel=function(){this.J=!0,il(this)},Qa.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(function sv(g,M){g.info(function(){return"TIMEOUT: "+M})}(this.i,this.A),2!=this.L&&(oh(),ls(17)),il(this),this.s=2,id(this)):l_(this,this.S-g)},Tg.prototype.cancel=function(){if(this.i=f_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const g of this.g.values())g.cancel();this.g.clear()}};var dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $o(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof $o){this.h=g.h,Ou(this,g.j),this.o=g.o,this.g=g.g,Nu(this,g.s),this.l=g.l;var M=g.i,$=new sd;$.i=M.i,M.g&&($.g=new Map(M.g),$.h=M.h),ol(this,$),this.m=g.m}else g&&(M=String(g).match(dc))?(this.h=!1,Ou(this,M[1]||"",!0),this.o=Xa(M[2]||""),this.g=Xa(M[3]||"",!0),Nu(this,M[4]),this.l=Xa(M[5]||"",!0),ol(this,M[6]||"",!0),this.m=Xa(M[7]||"")):(this.h=!1,this.i=new sd(null,this.h))}function Sa(g){return new $o(g)}function Ou(g,M,$){g.j=$?Xa(M,!0):M,g.j&&(g.j=g.j.replace(/:$/,""))}function Nu(g,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);g.s=M}else g.s=null}function ol(g,M,$){M instanceof sd?(g.i=M,function lv(g,M){M&&!g.j&&(Fu(g),g.i=null,g.g.forEach(function($,ue){var rt=ue.toLowerCase();ue!=rt&&(Ag(this,ue),Pg(this,rt,$))},g)),g.j=M}(g.i,g.h)):($||(M=eu(M,m_)),g.i=new sd(M,g.h))}function gi(g,M,$){g.i.set(M,$)}function ku(g){return gi(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Xa(g,M){return g?M?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function eu(g,M,$){return"string"==typeof g?(g=encodeURI(g).replace(M,od),$&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function od(g){return"%"+((g=g.charCodeAt(0))>>4&15).toString(16)+(15&g).toString(16)}$o.prototype.toString=function(){var g=[],M=this.j;M&&g.push(eu(M,sl,!0),":");var $=this.g;return($||"file"==M)&&(g.push("//"),(M=this.o)&&g.push(eu(M,sl,!0),"@"),g.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=($=this.s)&&g.push(":",String($))),($=this.l)&&(this.g&&"/"!=$.charAt(0)&&g.push("/"),g.push(eu($,"/"==$.charAt(0)?g_:p_,!0))),($=this.i.toString())&&g.push("?",$),($=this.m)&&g.push("#",eu($,__)),g.join("")};var g,sl=/[#\/\?@]/g,p_=/[#\?:]/g,g_=/[#\?]/g,m_=/[#\?@]/g,__=/#/g;function sd(g,M){this.h=this.g=null,this.i=g||null,this.j=!!M}function Fu(g){g.g||(g.g=new Map,g.h=0,g.i&&function Bf(g,M){if(g){g=g.split("&");for(var $=0;$<g.length;$++){var ue=g[$].indexOf("="),rt=null;if(0<=ue){var wt=g[$].substring(0,ue);rt=g[$].substring(ue+1)}else wt=g[$];M(wt,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}(g.i,function(M,$){g.add(decodeURIComponent(M.replace(/\+/g," ")),$)}))}function Ag(g,M){Fu(g),M=hc(g,M),g.g.has(M)&&(g.i=null,g.h-=g.g.get(M).length,g.g.delete(M))}function Sg(g,M){return Fu(g),M=hc(g,M),g.g.has(M)}function Pg(g,M,$){Ag(g,M),0<$.length&&(g.i=null,g.g.set(hc(g,M),Kt($)),g.h+=$.length)}function hc(g,M){return M=String(M),g.j&&(M=M.toLowerCase()),M}function fc(g,M,$,ue,rt){try{rt&&(rt.onload=null,rt.onerror=null,rt.onabort=null,rt.ontimeout=null),ue($)}catch{}}function dv(){this.g=new r_}function vE(g,M,$){const ue=$||"";try{Jo(g,function(rt,wt){let pn=rt;B(rt)&&(pn=Xl(rt)),M.push(ue+wt+"="+encodeURIComponent(pn))})}catch(rt){throw M.push(ue+"type="+encodeURIComponent("_badmap")),rt}}function dh(g){this.l=g.Ub||null,this.j=g.eb||!1}function Rg(g,M){Yo.call(this),this.D=g,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function y_(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}function hh(g){g.readyState=4,g.l=null,g.j=null,g.v=null,fh(g)}function fh(g){g.onreadystatechange&&g.onreadystatechange.call(g)}function jf(g){let M="";return Mr(g,function($,ue){M+=ue,M+=":",M+=$,M+="\r\n"}),M}function al(g,M,$){e:{for(ue in $){var ue=!1;break e}ue=!0}ue||($=jf($),"string"==typeof g?null!=$&&encodeURIComponent(String($)):gi(g,M,$))}function Ji(g){Yo.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=sd.prototype).add=function(g,M){Fu(this),this.i=null,g=hc(this,g);var $=this.g.get(g);return $||this.g.set(g,$=[]),$.push(M),this.h+=1,this},a.forEach=function(g,M){Fu(this),this.g.forEach(function($,ue){$.forEach(function(rt){g.call(M,rt,ue,this)},this)},this)},a.na=function(){Fu(this);const g=Array.from(this.g.values()),M=Array.from(this.g.keys()),$=[];for(let ue=0;ue<M.length;ue++){const rt=g[ue];for(let wt=0;wt<rt.length;wt++)$.push(M[ue])}return $},a.V=function(g){Fu(this);let M=[];if("string"==typeof g)Sg(this,g)&&(M=M.concat(this.g.get(hc(this,g))));else{g=Array.from(this.g.values());for(let $=0;$<g.length;$++)M=M.concat(g[$])}return M},a.set=function(g,M){return Fu(this),this.i=null,Sg(this,g=hc(this,g))&&(this.h-=this.g.get(g).length),this.g.set(g,[M]),this.h+=1,this},a.get=function(g,M){return g&&0<(g=this.V(g)).length?String(g[0]):M},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],M=Array.from(this.g.keys());for(var $=0;$<M.length;$++){var ue=M[$];const wt=encodeURIComponent(String(ue)),pn=this.V(ue);for(ue=0;ue<pn.length;ue++){var rt=wt;""!==pn[ue]&&(rt+="="+encodeURIComponent(String(pn[ue]))),g.push(rt)}}return this.i=g.join("&")},kt(dh,ed),dh.prototype.g=function(){return new Rg(this.l,this.j)},dh.prototype.i=(g={},function(){return g}),kt(Rg,Yo),(a=Rg.prototype).open=function(g,M){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=M,this.readyState=1,fh(this)},a.send=function(g){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(M.body=g),(this.D||T).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hh(this)),this.readyState=0},a.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,fh(this)),this.g&&(this.readyState=3,fh(this),this.g)))if("arraybuffer"===this.responseType)g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;y_(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var M=g.value?g.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!g.done}))&&(this.response=this.responseText+=M)}g.done?hh(this):fh(this),3==this.readyState&&y_(this)}},a.Ra=function(g){this.g&&(this.response=this.responseText=g,hh(this))},a.Qa=function(g){this.g&&(this.response=g,hh(this))},a.ga=function(){this.g&&hh(this)},a.setRequestHeader=function(g,M){this.u.append(g,M)},a.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],M=this.h.entries();for(var $=M.next();!$.done;)g.push(($=$.value)[0]+": "+$[1]),$=M.next();return g.join("\r\n")},Object.defineProperty(Rg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(g){this.m=g?"include":"same-origin"}}),kt(Ji,Yo);var $f=/^https?$/i,v_=["POST","PUT"];function ad(g,M){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=M,g.m=5,Mg(g),pc(g)}function Mg(g){g.A||(g.A=!0,Qo(g,"complete"),Qo(g,"error"))}function E_(g){if(g.h&&typeof m<"u"&&(!g.v[1]||4!=Lu(g)||2!=g.Z()))if(g.u&&4==Lu(g))e_(g.Ea,0,g);else if(Qo(g,"readystatechange"),4==Lu(g)){g.h=!1;try{const pn=g.Z();e:switch(pn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var $;if(!($=M)){var ue;if(ue=0===pn){var rt=String(g.D).match(dc)[1]||null;!rt&&T.self&&T.self.location&&(rt=T.self.location.protocol.slice(0,-1)),ue=!$f.test(rt?rt.toLowerCase():"")}$=ue}if($)Qo(g,"complete"),Qo(g,"success");else{g.m=6;try{var wt=2<Lu(g)?g.g.statusText:""}catch{wt=""}g.l=wt+" ["+g.Z()+"]",Mg(g)}}finally{pc(g)}}}function pc(g,M){if(g.g){I_(g);const $=g.g,ue=g.v[0]?()=>{}:null;g.g=null,g.v=null,M||Qo(g,"ready");try{$.onreadystatechange=ue}catch{}}}function I_(g){g.I&&(T.clearTimeout(g.I),g.I=null)}function Lu(g){return g.g?g.g.readyState:0}function C_(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ul(g,M,$){return $&&$.internalChannelParams&&$.internalChannelParams[g]||M}function ph(g){this.Aa=0,this.i=[],this.j=new xu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ul("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ul("baseRetryDelayMs",5e3,g),this.cb=ul("retryDelaySeedMs",1e4,g),this.Wa=ul("forwardChannelMaxRetries",2,g),this.wa=ul("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Tg(g&&g.concurrentRequestLimit),this.Da=new dv,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ud(g){if(w_(g),3==g.G){var M=g.U++,$=Sa(g.I);if(gi($,"SID",g.K),gi($,"RID",M),gi($,"TYPE","terminate"),cd(g,$),(M=new Qa(g,g.j,M)).L=2,M.v=ku(Sa($)),$=!1,T.navigator&&T.navigator.sendBeacon)try{$=T.navigator.sendBeacon(M.v.toString(),"")}catch{}!$&&T.Image&&((new Image).src=M.v,$=!0),$||(M.g=P_(M.j,null),M.g.ea(M.v)),M.F=Date.now(),Lf(M)}qf(g)}function xg(g){g.g&&(Gf(g),g.g.cancel(),g.g=null)}function w_(g){xg(g),g.u&&(T.clearTimeout(g.u),g.u=null),Wf(g),g.h.cancel(),g.s&&("number"==typeof g.s&&T.clearTimeout(g.s),g.s=null)}function Hf(g){if(!cv(g.h)&&!g.s){g.s=!0;var M=g.Ga;Jd||Sf(),Xd||(Jd(),Xd=!0),Qm.add(M,g),g.B=0}}function T_(g,M){var $;$=M?M.l:g.U++;const ue=Sa(g.I);gi(ue,"SID",g.K),gi(ue,"RID",$),gi(ue,"AID",g.T),cd(g,ue),g.m&&g.o&&al(ue,g.m,g.o),$=new Qa(g,g.j,$,g.B+1),null===g.m&&($.H=g.o),M&&(g.i=M.D.concat(g.i)),M=b_(g,$,1e3),$.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Dg(g.h,$),wg($,ue,M)}function cd(g,M){g.H&&Mr(g.H,function($,ue){gi(M,ue,$)}),g.l&&Jo({},function($,ue){gi(M,ue,$)})}function b_(g,M,$){$=Math.min(g.i.length,$);var ue=g.l?Me(g.l.Na,g.l,g):null;e:{var rt=g.i;let wt=-1;for(;;){const pn=["count="+$];-1==wt?0<$?(wt=rt[0].g,pn.push("ofs="+wt)):wt=0:pn.push("ofs="+wt);let Ii=!0;for(let Fo=0;Fo<$;Fo++){let ii=rt[Fo].g;const Ho=rt[Fo].map;if(ii-=wt,0>ii)wt=Math.max(0,rt[Fo].g-100),Ii=!1;else try{vE(Ho,pn,"req"+ii+"_")}catch{ue&&ue(Ho)}}if(Ii){ue=pn.join("&");break e}}}return g=g.i.splice(0,$),M.D=g,ue}function D_(g){if(!g.g&&!g.u){g.Y=1;var M=g.Fa;Jd||Sf(),Xd||(Jd(),Xd=!0),Qm.add(M,g),g.v=0}}function zf(g){return!(g.g||g.u||3<=g.v||(g.Y++,g.u=sh(Me(g.Fa,g),S_(g,g.v)),g.v++,0))}function Gf(g){null!=g.A&&(T.clearTimeout(g.A),g.A=null)}function Ng(g){g.g=new Qa(g,g.j,"rpc",g.Y),null===g.m&&(g.g.H=g.o),g.g.O=0;var M=Sa(g.qa);gi(M,"RID","rpc"),gi(M,"SID",g.K),gi(M,"AID",g.T),gi(M,"CI",g.F?"0":"1"),!g.F&&g.ja&&gi(M,"TO",g.ja),gi(M,"TYPE","xmlhttp"),cd(g,M),g.m&&g.o&&al(M,g.m,g.o),g.L&&(g.g.I=g.L);var $=g.g;g=g.ia,$.L=1,$.v=ku(Sa(M)),$.m=null,$.P=!0,u_($,g)}function Wf(g){null!=g.C&&(T.clearTimeout(g.C),g.C=null)}function A_(g,M){var $=null;if(g.g==M){Wf(g),Gf(g),g.g=null;var ue=2}else{if(!bg(g.h,M))return;$=M.D,Uf(g.h,M),ue=1}if(0!=g.G)if(M.o)if(1==ue){$=M.m?M.m.length:0,M=Date.now()-M.F;var rt=g.B;Qo(ue=ih(),new o_(ue,$)),Hf(g)}else D_(g);else if(3==(rt=M.s)||0==rt&&0<M.X||!(1==ue&&function Og(g,M){return!(ch(g.h)>=g.h.j-(g.s?1:0)||(g.s?(g.i=M.D.concat(g.i),0):1==g.G||2==g.G||g.B>=(g.Va?0:g.Wa)||(g.s=sh(Me(g.Ga,g,M),S_(g,g.B)),g.B++,0)))}(g,M)||2==ue&&zf(g)))switch($&&0<$.length&&(M=g.h,M.i=M.i.concat($)),rt){case 1:gc(g,5);break;case 4:gc(g,10);break;case 3:gc(g,6);break;default:gc(g,2)}}function S_(g,M){let $=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||($*=2),$*M}function gc(g,M){if(g.j.info("Error code "+M),2==M){var $=Me(g.fb,g),ue=g.Xa;const rt=!ue;ue=new $o(ue||"//www.google.com/images/cleardot.gif"),T.location&&"http"==T.location.protocol||Ou(ue,"https"),ku(ue),rt?function _E(g,M){const $=new xu;if(T.Image){const ue=new Image;ue.onload=st(fc,$,"TestLoadImage: loaded",!0,M,ue),ue.onerror=st(fc,$,"TestLoadImage: error",!1,M,ue),ue.onabort=st(fc,$,"TestLoadImage: abort",!1,M,ue),ue.ontimeout=st(fc,$,"TestLoadImage: timeout",!1,M,ue),T.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=g}else M(!1)}(ue.toString(),$):function yE(g,M){new xu;const ue=new AbortController,rt=setTimeout(()=>{ue.abort(),fc(0,0,!1,M)},1e4);fetch(g,{signal:ue.signal}).then(wt=>{clearTimeout(rt),fc(0,0,!!wt.ok,M)}).catch(()=>{clearTimeout(rt),fc(0,0,!1,M)})}(ue.toString(),$)}else ls(2);g.G=0,g.l&&g.l.sa(M),qf(g),w_(g)}function qf(g){if(g.G=0,g.ka=[],g.l){const M=f_(g.h);(0!=M.length||0!=g.i.length)&&($t(g.ka,M),$t(g.ka,g.i),g.h.i.length=0,Kt(g.i),g.i.length=0),g.l.ra()}}function Zf(g,M,$){var ue=$ instanceof $o?Sa($):new $o($);if(""!=ue.g)M&&(ue.g=M+"."+ue.g),Nu(ue,ue.s);else{var rt=T.location;ue=rt.protocol,M=M?M+"."+rt.hostname:rt.hostname,rt=+rt.port;var wt=new $o(null);ue&&Ou(wt,ue),M&&(wt.g=M),rt&&Nu(wt,rt),$&&(wt.l=$),ue=wt}return M=g.ya,($=g.D)&&M&&gi(ue,$,M),gi(ue,"VER",g.la),cd(g,ue),ue}function P_(g,M,$){if(M&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return(M=new Ji(g.Ca&&!g.pa?new dh({eb:$}):g.pa)).Ha(g.J),M}function gh(){}function cl(){}function ys(g,M){Yo.call(this),this.g=new ph(M),this.l=g,this.h=M&&M.messageUrlParams||null,g=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(g?g["X-WebChannel-Content-Type"]=M.messageContentType:g={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(g?g["X-WebChannel-Client-Profile"]=M.va:g={"X-WebChannel-Client-Profile":M.va}),this.g.S=g,(g=M&&M.Sb)&&!Bn(g)&&(this.g.m=g),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!Bn(M)&&(this.g.D=M,null!==(g=this.h)&&M in g&&M in(g=this.h)&&delete g[M]),this.j=new ld(this)}function kg(g){kf.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var M=g.__sm__;if(M){e:{for(const $ in M){g=$;break e}g=void 0}(this.i=g)&&(g=this.i,M=null!==M&&g in M?M[g]:void 0),this.data=M}else this.data=g}function R_(){yg.call(this),this.status=1}function ld(g){this.g=g}(a=Ji.prototype).Ha=function(g){this.J=g},a.ea=function(g,M,$,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);M=M?M.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ig.g(),this.v=function rv(g){return g.h||(g.h=g.i())}(this.o?this.o:Ig),this.g.onreadystatechange=Me(this.Ea,this);try{this.B=!0,this.g.open(M,String(g),!0),this.B=!1}catch(wt){return void ad(this,wt)}if(g=$||"",$=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var rt in ue)$.set(rt,ue[rt]);else{if("function"!=typeof ue.keys||"function"!=typeof ue.get)throw Error("Unknown input type for opt_headers: "+String(ue));for(const wt of ue.keys())$.set(wt,ue.get(wt))}ue=Array.from($.keys()).find(wt=>"content-type"==wt.toLowerCase()),rt=T.FormData&&g instanceof T.FormData,!(0<=Array.prototype.indexOf.call(v_,M,void 0))||ue||rt||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[wt,pn]of $)this.g.setRequestHeader(wt,pn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{I_(this),this.u=!0,this.g.send(g),this.u=!1}catch(wt){ad(this,wt)}},a.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Qo(this,"complete"),Qo(this,"abort"),pc(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pc(this,!0)),Ji.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?E_(this):this.bb())},a.bb=function(){E_(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Lu(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(g){if(this.g){var M=this.g.responseText;return g&&0==M.indexOf(g)&&(M=M.substring(g.length)),rh(M)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=ph.prototype).la=8,a.G=1,a.connect=function(g,M,$,ue){ls(0),this.W=g,this.H=M||{},$&&void 0!==ue&&(this.H.OSID=$,this.H.OAID=ue),this.F=this.X,this.I=Zf(this,null,this.W),Hf(this)},a.Ga=function(g){if(this.s)if(this.s=null,1==this.G){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const rt=new Qa(this,this.j,g);let wt=this.o;if(this.S&&(wt?(wt=Te(wt),Je(wt,this.S)):wt=this.S),null!==this.m||this.O||(rt.H=wt,wt=null),this.P)e:{for(var M=0,$=0;$<this.i.length;$++){var ue=this.i[$];if(void 0===(ue="__data__"in ue.map&&"string"==typeof(ue=ue.map.__data__)?ue.length:void 0))break;if(4096<(M+=ue)){M=$;break e}if(4096===M||$===this.i.length-1){M=$+1;break e}}M=1e3}else M=1e3;M=b_(this,rt,M),gi($=Sa(this.I),"RID",g),gi($,"CVER",22),this.D&&gi($,"X-HTTP-Session-Id",this.D),cd(this,$),wt&&(this.O?M="headers="+encodeURIComponent(String(jf(wt)))+"&"+M:this.m&&al($,this.m,wt)),Dg(this.h,rt),this.Ua&&gi($,"TYPE","init"),this.P?(gi($,"$req",M),gi($,"SID","null"),rt.T=!0,wg(rt,$,null)):wg(rt,$,M),this.G=2}}else 3==this.G&&(g?T_(this,g):0==this.i.length||cv(this.h)||T_(this))},a.Fa=function(){if(this.u=null,Ng(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=sh(Me(this.ab,this),g)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ls(10),xg(this),Ng(this))},a.Za=function(){null!=this.C&&(this.C=null,xg(this),zf(this),ls(19))},a.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ls(2)):(this.j.info("Failed to ping google.com"),ls(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=gh.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},cl.prototype.g=function(g,M){return new ys(g,M)},kt(ys,Yo),ys.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ys.prototype.close=function(){ud(this.g)},ys.prototype.o=function(g){var M=this.g;if("string"==typeof g){var $={};$.__data__=g,g=$}else this.u&&(($={}).__data__=Xl(g),g=$);M.i.push(new class{constructor(g,M){this.g=g,this.map=M}}(M.Ya++,g)),3==M.G&&Hf(M)},ys.prototype.N=function(){this.g.l=null,delete this.j,ud(this.g),delete this.g,ys.aa.N.call(this)},kt(kg,kf),kt(R_,yg),kt(ld,gh),ld.prototype.ua=function(){Qo(this.g,"a")},ld.prototype.ta=function(g){Qo(this.g,new kg(g))},ld.prototype.sa=function(g){Qo(this.g,new R_)},ld.prototype.ra=function(){Qo(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,ys.prototype.send=ys.prototype.o,ys.prototype.open=ys.prototype.m,ys.prototype.close=ys.prototype.close,qe=re.createWebChannelTransport=function(){return new cl},sn=re.getStatEventTarget=function(){return ih()},bt=re.Event=rl,Vt=re.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ff.NO_ERROR=0,Ff.TIMEOUT=8,Ff.HTTP_ERROR=6,vt=re.ErrorCode=Ff,s_.COMPLETE="complete",Rt=re.EventType=s_,i_.EventType=td,td.OPEN="a",td.CLOSE="b",td.ERROR="c",td.MESSAGE="d",Yo.prototype.listen=Yo.prototype.K,We=re.WebChannel=i_,mt=re.FetchXmlHttpFactory=dh,Ji.prototype.listenOnce=Ji.prototype.L,Ji.prototype.getLastError=Ji.prototype.Ka,Ji.prototype.getLastErrorCode=Ji.prototype.Ba,Ji.prototype.getStatus=Ji.prototype.Z,Ji.prototype.getResponseJson=Ji.prototype.Oa,Ji.prototype.getResponseText=Ji.prototype.oa,Ji.prototype.send=Ji.prototype.ea,Ji.prototype.setWithCredentials=Ji.prototype.Ha,Re=re.XhrIo=Ji}).apply(typeof ie<"u"?ie:typeof self<"u"?self:typeof window<"u"?window:{});const ke="@firebase/firestore";class Xe{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let Ye="10.12.1";const Qe=new Ce.Yd("@firebase/firestore");function yt(){return Qe.logLevel}function St(a){Qe.setLogLevel(a)}function ge(a,...e){if(Qe.logLevel<=Ce.in.DEBUG){const r=e.map(xn);Qe.debug(`Firestore (${Ye}): ${a}`,...r)}}function Ht(a,...e){if(Qe.logLevel<=Ce.in.ERROR){const r=e.map(xn);Qe.error(`Firestore (${Ye}): ${a}`,...r)}}function Jt(a,...e){if(Qe.logLevel<=Ce.in.WARN){const r=e.map(xn);Qe.warn(`Firestore (${Ye}): ${a}`,...r)}}function xn(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function $e(a="Unexpected state"){const e=`FIRESTORE (${Ye}) INTERNAL ASSERTION FAILED: `+a;throw Ht(e),new Error(e)}function Tt(a,e){a||$e()}function it(a,e){a||$e()}function Pe(a,e){return a}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends me.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ae{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Ge{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Xe.UNAUTHENTICATED))}shutdown(){}}class Ie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Fe{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let u=this.i;const f=B=>this.i!==u?(u=this.i,r(B)):Promise.resolve();let m=new Ae;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Ae,e.enqueueRetryable(()=>f(this.currentUser))};const T=()=>{const B=m;e.enqueueRetryable((0,l.Z)(function*(){yield B.promise,yield f(o.currentUser)}))},R=B=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=B,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(B=>R(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?R(B):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Ae)}},0),T()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Tt("string"==typeof o.accessToken),new Ge(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new Xe(e)}}class Et{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class It{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new Et(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class an{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const o=f=>{null!=f.error&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,ge("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const u=f=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Tt("string"==typeof r.token),this.R=r.token,new an(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _n(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<a;o++)r[o]=Math.floor(256*Math.random());return r}class tr{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=_n(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return o}}function xt(a,e){return a<e?-1:a>e?1:0}function En(a,e,r){return a.length===e.length&&a.every((o,u)=>r(o,e[u]))}function On(a){return a+"\0"}class Ut{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Ut(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Ut(0,0))}static max(){return new Nt(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Dr{constructor(e,r,o){void 0===r?r=0:r>e.length&&$e(),void 0===o?o=e.length-r:o>e.length-r&&$e(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===Dr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const f=e.get(u),m=r.get(u);if(f<m)return-1;if(f>m)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class tn extends Dr{construct(e,r,o){return new tn(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new se(le.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new tn(r)}static emptyPath(){return new tn([])}}const sr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Dr{construct(e,r,o){return new Fn(e,r,o)}static isValidIdentifier(e){return sr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fn(["__name__"])}static fromServerFormat(e){const r=[];let o="",u=0;const f=()=>{if(0===o.length)throw new se(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let m=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new se(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new se(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=R,u+=2}else"`"===T?(m=!m,u++):"."!==T||m?(o+=T,u++):(f(),u++)}if(f(),m)throw new se(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(r)}static emptyPath(){return new Fn([])}}class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(tn.fromString(e))}static fromName(e){return new Ot(tn.fromString(e).popFirst(5))}static empty(){return new Ot(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return tn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new tn(e.slice()))}}class cn{constructor(e,r,o,u){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=u}}function Cn(a){return a.fields.find(e=>2===e.kind)}function gn(a){return a.fields.filter(e=>2!==e.kind)}cn.UNKNOWN_ID=-1;class cr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Mn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Mn(0,Xt.min())}}function Or(a,e){const r=a.toTimestamp().seconds,o=a.toTimestamp().nanoseconds+1,u=Nt.fromTimestamp(1e9===o?new Ut(r+1,0):new Ut(r,o));return new Xt(u,Ot.empty(),e)}function Ci(a){return new Xt(a.readTime,a.key,-1)}class Xt{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Xt(Nt.min(),Ot.empty(),-1)}static max(){return new Xt(Nt.max(),Ot.empty(),-1)}}function Nr(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ot.comparator(a.documentKey,e.documentKey),0!==r?r:xt(a.largestBatchId,e.largestBatchId))}const $n="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dn(a){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(a){if(a.code!==le.FAILED_PRECONDITION||a.message!==$n)throw a;ge("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&$e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Be((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Be?r:Be.resolve(r)}catch(r){return Be.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Be.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Be.reject(r)}static resolve(e){return new Be((r,o)=>{r(e)})}static reject(e){return new Be((r,o)=>{o(e)})}static waitFor(e){return new Be((r,o)=>{let u=0,f=0,m=!1;e.forEach(T=>{++u,T.next(()=>{++f,m&&f===u&&r()},R=>o(R))}),m=!0,f===u&&r()})}static or(e){let r=Be.resolve(!1);for(const o of e)r=r.next(u=>u?Be.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,f)=>{o.push(r.call(this,u,f))}),this.waitFor(o)}static mapArray(e,r){return new Be((o,u)=>{const f=e.length,m=new Array(f);let T=0;for(let R=0;R<f;R++){const B=R;r(e[B]).next(ee=>{m[B]=ee,++T,T===f&&o(m)},ee=>u(ee))}})}static doWhile(e,r){return new Be((o,u)=>{const f=()=>{!0===e()?r().next(()=>{f()},u):o()};f()})}}class pt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ae,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Bt(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const u=Y(o.target.error);this.V.reject(new Bt(e,u))}}static open(e,r,o,u){try{return new pt(r,e.transaction(u,o))}catch(f){throw new Bt(r,f)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new gr(r)}}class J{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===J.S((0,me.z$)())&&Ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ge("SimpleDb","Removing database:",e),Yn(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,me.hl)())return!1;if(J.C())return!0;const e=(0,me.z$)(),r=J.S(e),o=0<r&&r<10,u=ye(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(e){var r=this;return(0,l.Z)(function*(){return r.db||(ge("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=m=>{o(m.target.result)},f.onblocked=()=>{u(new Bt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=m=>{const T=m.target.error;u("VersionError"===T.name?new se(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new se(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new Bt(e,T))},f.onupgradeneeded=m=>{ge("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.p.O(m.target.result,f.transaction,m.oldVersion,r.version).next(()=>{ge("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,u){var f=this;return(0,l.Z)(function*(){const m="readonly"===r;let T=0;for(;;){++T;try{f.db=yield f.M(e);const R=pt.open(f.db,e,m?"readonly":"readwrite",o),B=u(R).next(ee=>(R.g(),ee)).catch(ee=>(R.abort(ee),Be.reject(ee))).toPromise();return B.catch(()=>{}),yield R.m,B}catch(R){const B=R,ee="FirebaseError"!==B.name&&T<3;if(ge("SimpleDb","Transaction failed with error:",B.message,"Retrying:",ee),f.close(),!ee)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function ye(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ft{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Yn(this.B.delete())}}class Bt extends se{constructor(e,r){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Tn(a){return"IndexedDbTransactionError"===a.name}class gr{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(ge("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Yn(o)}add(e){return ge("SimpleDb","ADD",this.store.name,e,e),Yn(this.store.add(e))}get(e){return Yn(this.store.get(e)).next(r=>(void 0===r&&(r=null),ge("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return ge("SimpleDb","DELETE",this.store.name,e),Yn(this.store.delete(e))}count(){return ge("SimpleDb","COUNT",this.store.name),Yn(this.store.count())}U(e,r){const o=this.options(e,r),u=o.index?this.store.index(o.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(o.range);return new Be((m,T)=>{f.onerror=R=>{T(R.target.error)},f.onsuccess=R=>{m(R.target.result)}})}{const f=this.cursor(o),m=[];return this.W(f,(T,R)=>{m.push(R)}).next(()=>m)}}G(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new Be((u,f)=>{o.onerror=m=>{f(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}j(e,r){ge("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const u=this.cursor(o);return this.W(u,(f,m,T)=>T.delete())}J(e,r){let o;r?o=e:(o={},r=e);const u=this.cursor(o);return this.W(u,r)}Y(e){const r=this.cursor({});return new Be((o,u)=>{r.onerror=f=>{const m=Y(f.target.error);u(m)},r.onsuccess=f=>{const m=f.target.result;m?e(m.primaryKey,m.value).next(T=>{T?m.continue():o()}):o()}})}W(e,r){const o=[];return new Be((u,f)=>{e.onerror=m=>{f(m.target.error)},e.onsuccess=m=>{const T=m.target.result;if(!T)return void u();const R=new ft(T),B=r(T.primaryKey,T.value,R);if(B instanceof Be){const ee=B.catch(ce=>(R.done(),Be.reject(ce)));o.push(ee)}R.isDone?u():null===R.K?T.continue():T.continue(R.K)}}).next(()=>Be.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Yn(a){return new Be((e,r)=>{a.onsuccess=o=>{e(o.target.result)},a.onerror=o=>{const u=Y(o.target.error);r(u)}})}let we=!1;function Y(a){const e=J.S((0,me.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const o=new se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return we||(we=!0,setTimeout(()=>{throw o},0)),o}}return a}class V{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;ge("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.Z)(function*(){r.task=null;try{ge("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){Tn(o)?ge("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield Dn(o)}yield r.X(6e4)}))}}class x{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,l.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.te(o,e))})()}te(e,r){const o=new Set;let u=r,f=!0;return Be.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!o.has(m))return ge("IndexBackfiller",`Processing collection: ${m}`),this.ne(e,m,u).next(T=>{u-=T,o.add(m)});f=!1})).next(()=>r-u)}ne(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,o).next(f=>{const m=f.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.re(u,f)).next(T=>(ge("IndexBackfiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(e,r,T))).next(()=>m.size)}))}re(e,r){let o=e;return r.changes.forEach((u,f)=>{const m=Ci(f);Nr(m,o)>0&&(o=m)}),new Xt(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let O=(()=>{class a{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=u=>this.ie(u),this.se=u=>o.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function ae(a){return null==a}function xe(a){return 0===a&&1/a==-1/0}function gt(a){return"number"==typeof a&&Number.isInteger(a)&&!xe(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function Pt(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=Zt(e)),e=nn(a.get(r),e);return Zt(e)}function nn(a,e){let r=e;const o=a.length;for(let u=0;u<o;u++){const f=a.charAt(u);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function Zt(a){return a+"\x01\x01"}function Qt(a){const e=a.length;if(Tt(e>=2),2===e)return Tt("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),tn.emptyPath();const r=e-2,o=[];let u="";for(let f=0;f<e;){const m=a.indexOf("\x01",f);switch((m<0||m>r)&&$e(),a.charAt(m+1)){case"\x01":const T=a.substring(f,m);let R;0===u.length?R=T:(u+=T,R=u,u=""),o.push(R);break;case"\x10":u+=a.substring(f,m),u+="\0";break;case"\x11":u+=a.substring(f,m+1);break;default:$e()}f=m+2}return new tn(o)}const Gn=["userId","batchId"];function vn(a,e){return[a,Pt(e)]}function Qn(a,e,r){return[a,Pt(e),r]}const ki={},Di=["prefixPath","collectionGroup","readTime","documentId"],Gr=["prefixPath","collectionGroup","documentId"],Xi=["collectionGroup","readTime","prefixPath","documentId"],$i=["canonicalId","targetId"],Fr=["targetId","path"],Wn=["path","targetId"],ut=["collectionId","parent"],Ze=["indexId","uid"],Ct=["uid","sequenceNumber"],en=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bn=["indexId","uid","orderedDocumentKey"],Pn=["userId","collectionPath","documentId"],dn=["userId","collectionPath","largestBatchId"],Er=["userId","collectionGroup","largestBatchId"],fr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ci=[...fr,"documentOverlays"],ho=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lr=ho,Lo=[...lr,"indexConfiguration","indexState","indexEntries"],oi=Lo;class Vo extends nr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Wr(a,e){const r=Pe(a);return J.F(r._e,e)}function vs(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function eo(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function mi(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class rr{constructor(e,r){this.comparator=e,this.root=r||mr.EMPTY}insert(e,r){return new rr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new So(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new So(this.root,e,this.comparator,!1)}getReverseIterator(){return new So(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new So(this.root,e,this.comparator,!0)}}class So{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?o(e.key,r):1,r&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,r,o,u,f){this.key=e,this.value=r,this.color=o??mr.RED,this.left=u??mr.EMPTY,this.right=f??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,f){return new mr(e??this.key,r??this.value,o??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return mr.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();const e=this.left.check();if(e!==this.right.check())throw $e();return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1,mr.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(e,r,o,u,f){return this}insert(e,r,o){return new mr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _r{constructor(e){this.comparator=e,this.data=new rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new vo(this.data.getIterator())}getIteratorFrom(e){return new vo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new _r(this.comparator);return r.data=e,r}}class vo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ai(a){return a.hasNext()?a.getNext():void 0}class _i{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new _i([])}unionWith(e){let r=new _r(Fn.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new _i(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return En(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Fi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function ds(){return typeof atob<"u"}class li{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Fi("Invalid base64 string: "+f):f}}(e);return new li(r)}static fromUint8Array(e){const r=function(u){let f="";for(let m=0;m<u.length;++m)f+=String.fromCharCode(u[m]);return f}(e);return new li(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}li.EMPTY_BYTE_STRING=new li("");const Fs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(a){if(Tt(!!a),"string"==typeof a){let e=0;const r=Fs.exec(a);if(Tt(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(a);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:yr(a.seconds),nanos:yr(a.nanos)}}function yr(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Ir(a){return"string"==typeof a?li.fromBase64String(a):li.fromUint8Array(a)}function zi(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Eo(a){const e=a.mapValue.fields.__previous_value__;return zi(e)?Eo(e):e}function to(a){const e=Hi(a.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}class zo{constructor(e,r,o,u,f,m,T,R,B){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=T,this.longPollingOptions=R,this.useFetchStreams=B}}class Nn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Nn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Nn&&e.projectId===this.projectId&&e.database===this.database}}const $r={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yr={nullValue:"NULL_VALUE"};function Si(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?zi(a)?4:wr(a)?9007199254740991:10:$e()}function Cr(a,e){if(a===e)return!0;const r=Si(a);if(r!==Si(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return to(a).isEqual(to(e));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const m=Hi(u.timestampValue),T=Hi(f.timestampValue);return m.seconds===T.seconds&&m.nanos===T.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return f=e,Ir(a.bytesValue).isEqual(Ir(f.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,f){return yr(u.geoPointValue.latitude)===yr(f.geoPointValue.latitude)&&yr(u.geoPointValue.longitude)===yr(f.geoPointValue.longitude)}(a,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return yr(u.integerValue)===yr(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const m=yr(u.doubleValue),T=yr(f.doubleValue);return m===T?xe(m)===xe(T):isNaN(m)&&isNaN(T)}return!1}(a,e);case 9:return En(a.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:return function(u,f){const m=u.mapValue.fields||{},T=f.mapValue.fields||{};if(vs(m)!==vs(T))return!1;for(const R in m)if(m.hasOwnProperty(R)&&(void 0===T[R]||!Cr(m[R],T[R])))return!1;return!0}(a,e);default:return $e()}var f}function Io(a,e){return void 0!==(a.values||[]).find(r=>Cr(r,e))}function Gi(a,e){if(a===e)return 0;const r=Si(a),o=Si(e);if(r!==o)return xt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return xt(a.booleanValue,e.booleanValue);case 2:return function(f,m){const T=yr(f.integerValue||f.doubleValue),R=yr(m.integerValue||m.doubleValue);return T<R?-1:T>R?1:T===R?0:isNaN(T)?isNaN(R)?0:-1:1}(a,e);case 3:return Po(a.timestampValue,e.timestampValue);case 4:return Po(to(a),to(e));case 5:return xt(a.stringValue,e.stringValue);case 6:return function(f,m){const T=Ir(f),R=Ir(m);return T.compareTo(R)}(a.bytesValue,e.bytesValue);case 7:return function(f,m){const T=f.split("/"),R=m.split("/");for(let B=0;B<T.length&&B<R.length;B++){const ee=xt(T[B],R[B]);if(0!==ee)return ee}return xt(T.length,R.length)}(a.referenceValue,e.referenceValue);case 8:return function(f,m){const T=xt(yr(f.latitude),yr(m.latitude));return 0!==T?T:xt(yr(f.longitude),yr(m.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return function(f,m){const T=f.values||[],R=m.values||[];for(let B=0;B<T.length&&B<R.length;++B){const ee=Gi(T[B],R[B]);if(ee)return ee}return xt(T.length,R.length)}(a.arrayValue,e.arrayValue);case 10:return function(f,m){if(f===$r.mapValue&&m===$r.mapValue)return 0;if(f===$r.mapValue)return 1;if(m===$r.mapValue)return-1;const T=f.fields||{},R=Object.keys(T),B=m.fields||{},ee=Object.keys(B);R.sort(),ee.sort();for(let ce=0;ce<R.length&&ce<ee.length;++ce){const Me=xt(R[ce],ee[ce]);if(0!==Me)return Me;const st=Gi(T[R[ce]],B[ee[ce]]);if(0!==st)return st}return xt(R.length,ee.length)}(a.mapValue,e.mapValue);default:throw $e()}}function Po(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return xt(a,e);const r=Hi(a),o=Hi(e),u=xt(r.seconds,o.seconds);return 0!==u?u:xt(r.nanos,o.nanos)}function wi(a){return Li(a)}function Li(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const o=Hi(r);return`time(${o.seconds},${o.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Ir(a.bytesValue).toBase64():"referenceValue"in a?Ot.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let o="[",u=!0;for(const f of r.values||[])u?u=!1:o+=",",o+=Li(f);return o+"]"}(a.arrayValue):"mapValue"in a?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const m of o)f?f=!1:u+=",",u+=`${m}:${Li(r.fields[m])}`;return u+"}"}(a.mapValue):$e()}function Yt(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Ln(a){return!!a&&"integerValue"in a}function Jn(a){return!!a&&"arrayValue"in a}function yi(a){return!!a&&"nullValue"in a}function Ro(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function qr(a){return!!a&&"mapValue"in a}function ao(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return eo(a.mapValue.fields,(r,o)=>e.mapValue.fields[r]=ao(o)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ao(a.arrayValue.values[r]);return e}return Object.assign({},a)}function wr(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wi(a){return"nullValue"in a?Yr:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Yt(Nn.empty(),Ot.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?{mapValue:{}}:$e()}function qi(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Yt(Nn.empty(),Ot.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?{mapValue:{}}:"mapValue"in a?$r:$e()}function Vn(a,e){const r=Gi(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function Vi(a,e){const r=Gi(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!qr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ao(r)}setAll(e){let r=Fn.emptyPath(),o={},u=[];e.forEach((m,T)=>{if(!r.isImmediateParentOf(T)){const R=this.getFieldsMap(r);this.applyChanges(R,o,u),o={},u=[],r=T.popLast()}m?o[T.lastSegment()]=ao(m):u.push(T.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,o,u)}delete(e){const r=this.field(e.popLast());qr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];qr(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){eo(r,(u,f)=>e[u]=f);for(const u of o)delete e[u]}clone(){return new Qr(ao(this.value))}}function q(a){const e=[];return eo(a.fields,(r,o)=>{const u=new Fn([r]);if(qr(o)){const f=q(o.mapValue).fields;if(0===f.length)e.push(u);else for(const m of f)e.push(u.child(m))}else e.push(u)}),new _i(e)}class j{constructor(e,r,o,u,f,m,T){this.key=e,this.documentType=r,this.version=o,this.readTime=u,this.createTime=f,this.data=m,this.documentState=T}static newInvalidDocument(e){return new j(e,0,Nt.min(),Nt.min(),Nt.min(),Qr.empty(),0)}static newFoundDocument(e,r,o,u){return new j(e,1,r,Nt.min(),o,u,0)}static newNoDocument(e,r){return new j(e,2,r,Nt.min(),Nt.min(),Qr.empty(),0)}static newUnknownDocument(e,r){return new j(e,3,r,Nt.min(),Nt.min(),Qr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof j&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new j(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fe{constructor(e,r){this.position=e,this.inclusive=r}}function Ee(a,e,r){let o=0;for(let u=0;u<a.position.length;u++){const f=e[u],m=a.position[u];if(o=f.field.isKeyField()?Ot.comparator(Ot.fromName(m.referenceValue),r.key):Gi(m,r.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function He(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Cr(a.position[r],e.position[r]))return!1;return!0}class _t{constructor(e,r="asc"){this.field=e,this.dir=r}}function Gt(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class hn{}class Mt extends hn{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new Pi(e,r,o):"array-contains"===r?new Tr(e,o):"in"===r?new Go(e,o):"not-in"===r?new Ri(e,o):"array-contains-any"===r?new Es(e,o):new Mt(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new Xn(e,o):new ai(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Gi(r,this.value)):null!==r&&Si(this.value)===Si(r)&&this.matchesComparison(Gi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class un extends hn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new un(e,r)}matches(e){return Zn(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zn(a){return"and"===a.op}function wn(a){return"or"===a.op}function Jr(a){return Hr(a)&&Zn(a)}function Hr(a){for(const e of a.filters)if(e instanceof un)return!1;return!0}function Xr(a){if(a instanceof Mt)return a.field.canonicalString()+a.op.toString()+wi(a.value);if(Jr(a))return a.filters.map(e=>Xr(e)).join(",");{const e=a.filters.map(r=>Xr(r)).join(",");return`${a.op}(${e})`}}function Zr(a,e){return a instanceof Mt?(o=a,(u=e)instanceof Mt&&o.op===u.op&&o.field.isEqual(u.field)&&Cr(o.value,u.value)):a instanceof un?function(o,u){return u instanceof un&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((f,m,T)=>f&&Zr(m,u.filters[T]),!0)}(a,e):void $e();var o,u}function Lr(a,e){const r=a.filters.concat(e);return un.create(r,a.op)}function Ui(a){return a instanceof Mt?`${(r=a).field.canonicalString()} ${r.op} ${wi(r.value)}`:a instanceof un?function(r){return r.op.toString()+" {"+r.getFilters().map(Ui).join(" ,")+"}"}(a):"Filter";var r}class Pi extends Mt{constructor(e,r,o){super(e,r,o),this.key=Ot.fromName(o.referenceValue)}matches(e){const r=Ot.comparator(e.key,this.key);return this.matchesComparison(r)}}class Xn extends Mt{constructor(e,r){super(e,"in",r),this.keys=zr(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ai extends Mt{constructor(e,r){super(e,"not-in",r),this.keys=zr(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function zr(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Ot.fromName(o.referenceValue))}class Tr extends Mt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Jn(r)&&Io(r.arrayValue,this.value)}}class Go extends Mt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Io(this.value.arrayValue,r)}}class Ri extends Mt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Io(this.value.arrayValue,r)}}class Es extends Mt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Jn(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Io(this.value.arrayValue,o))}}class Zi{constructor(e,r=null,o=[],u=[],f=null,m=null,T=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=m,this.endAt=T,this.ue=null}}function Ls(a,e=null,r=[],o=[],u=null,f=null,m=null){return new Zi(a,e,r,o,u,f,m)}function fo(a){const e=Pe(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Xr(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(f=o).field.canonicalString()+f.dir;var f}).join(","),ae(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>wi(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>wi(o)).join(",")),e.ue=r}return e.ue}function Wo(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Gt(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!Zr(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!He(a.startAt,e.startAt)&&He(a.endAt,e.endAt)}function aa(a){return Ot.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function Is(a,e){return a.filters.filter(r=>r instanceof Mt&&r.field.isEqual(e))}function vi(a,e,r){let o=Yr,u=!0;for(const f of Is(a,e)){let m=Yr,T=!0;switch(f.op){case"<":case"<=":m=Wi(f.value);break;case"==":case"in":case">=":m=f.value;break;case">":m=f.value,T=!1;break;case"!=":case"not-in":m=Yr}Vn({value:o,inclusive:u},{value:m,inclusive:T})<0&&(o=m,u=T)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const m=r.position[f];Vn({value:o,inclusive:u},{value:m,inclusive:r.inclusive})<0&&(o=m,u=r.inclusive);break}return{value:o,inclusive:u}}function hs(a,e,r){let o=$r,u=!0;for(const f of Is(a,e)){let m=$r,T=!0;switch(f.op){case">=":case">":m=qi(f.value),T=!1;break;case"==":case"in":case"<=":m=f.value;break;case"<":m=f.value,T=!1;break;case"!=":case"not-in":m=$r}Vi({value:o,inclusive:u},{value:m,inclusive:T})>0&&(o=m,u=T)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const m=r.position[f];Vi({value:o,inclusive:u},{value:m,inclusive:r.inclusive})>0&&(o=m,u=r.inclusive);break}return{value:o,inclusive:u}}class fs{constructor(e,r=null,o=[],u=[],f=null,m="F",T=null,R=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=m,this.startAt=T,this.endAt=R,this.ce=null,this.le=null,this.he=null}}function Pa(a,e,r,o,u,f,m,T){return new fs(a,e,r,o,u,f,m,T)}function Ar(a){return new fs(a)}function Cs(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function ua(a){return null!==a.collectionGroup}function U(a){const e=Pe(a);if(null===e.ce){e.ce=[];const r=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),r.add(f.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let T=new _r(Fn.comparator);return m.filters.forEach(R=>{R.getFlattenedFilters().forEach(B=>{B.isInequality()&&(T=T.add(B.field))})}),T})(e).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||e.ce.push(new _t(f,o))}),r.has(Fn.keyField().canonicalString())||e.ce.push(new _t(Fn.keyField(),o))}return e.ce}function G(a){const e=Pe(a);return e.le||(e.le=function te(a,e){if("F"===a.limitType)return Ls(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>new _t(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new fe(a.endAt.position,a.endAt.inclusive):null,o=a.startAt?new fe(a.startAt.position,a.startAt.inclusive):null;return Ls(a.path,a.collectionGroup,e,a.filters,a.limit,r,o)}}(e,U(a))),e.le}function Se(a,e){const r=a.filters.concat([e]);return new fs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function fn(a,e,r){return new fs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function kn(a,e){return Wo(G(a),G(e))&&a.limitType===e.limitType}function Mi(a){return`${fo(G(a))}|lt:${a.limitType}`}function no(a){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(u=>Ui(u)).join(", ")}]`),ae(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(u=>{return`${(m=u).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(u=>wi(u)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(u=>wi(u)).join(",")),`Target(${o})`}(G(a))}; limitType=${a.limitType})`}function xi(a,e){return e.isFoundDocument()&&function(o,u){const f=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(f):Ot.isDocumentKey(o.path)?o.path.isEqual(f):o.path.isImmediateParentOf(f)}(a,e)&&function(o,u){for(const f of U(o))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(a,e)&&function(o,u){for(const f of o.filters)if(!f.matches(u))return!1;return!0}(a,e)&&(u=e,!((o=a).startAt&&!function(m,T,R){const B=Ee(m,T,R);return m.inclusive?B<=0:B<0}(o.startAt,U(o),u)||o.endAt&&!function(m,T,R){const B=Ee(m,T,R);return m.inclusive?B>=0:B>0}(o.endAt,U(o),u)));var o,u}function ts(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function po(a){return(e,r)=>{let o=!1;for(const u of U(a)){const f=Co(u,e,r);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function Co(a,e,r){const o=a.field.isKeyField()?Ot.comparator(e.key,r.key):function(f,m,T){const R=m.data.field(f),B=T.data.field(f);return null!==R&&null!==B?Gi(R,B):$e()}(a.field,e,r);switch(a.dir){case"asc":return o;case"desc":return-1*o;default:return $e()}}class go{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,r]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(r,o)=>{for(const[u,f]of o)e(u,f)})}isEmpty(){return mi(this.inner)}size(){return this.innerSize}}const yc=new rr(Ot.comparator);function Vr(){return yc}const Vs=new rr(Ot.comparator);function Oi(...a){let e=Vs;for(const r of a)e=e.insert(r.key,r);return e}function tu(a){let e=Vs;return a.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function wo(){return Mo()}function ws(){return Mo()}function Mo(){return new go(a=>a.toString(),(a,e)=>a.isEqual(e))}const Us=new rr(Ot.comparator),xo=new _r(Ot.comparator);function zn(...a){let e=xo;for(const r of a)e=e.add(r);return e}const Ws=new _r(xt);function Ra(){return Ws}function Ts(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xe(e)?"-0":e}}function qs(a){return{integerValue:""+a}}function bs(a,e){return gt(e)?qs(e):Ts(a,e)}class Uo{constructor(){this._=void 0}}function ns(a,e,r){return a instanceof da?function(u,f){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&zi(f)&&(f=Eo(f)),f&&(m.fields.__previous_value__=f),{mapValue:m}}(r,e):a instanceof Ds?ha(a,e):a instanceof ps?vc(a,e):function(u,f){const m=la(u,f),T=Zs(m)+Zs(u.Pe);return Ln(m)&&Ln(u.Pe)?qs(T):Ts(u.serializer,T)}(a,e)}function ca(a,e,r){return a instanceof Ds?ha(a,e):a instanceof ps?vc(a,e):r}function la(a,e){return a instanceof Bs?Ln(o=e)||(f=o)&&"doubleValue"in f?e:{integerValue:0}:null;var o,f}class da extends Uo{}class Ds extends Uo{constructor(e){super(),this.elements=e}}function ha(a,e){const r=Bu(e);for(const o of a.elements)r.some(u=>Cr(u,o))||r.push(o);return{arrayValue:{values:r}}}class ps extends Uo{constructor(e){super(),this.elements=e}}function vc(a,e){let r=Bu(e);for(const o of a.elements)r=r.filter(u=>!Cr(u,o));return{arrayValue:{values:r}}}class Bs extends Uo{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Zs(a){return yr(a.integerValue||a.doubleValue)}function Bu(a){return Jn(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class js{constructor(e,r){this.field=e,this.transform=r}}class ru{constructor(e,r){this.version=e,this.transformResults=r}}class ei{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class Z{}function N(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new Kr(a.key,ei.none()):new mn(a.key,a.data,ei.none());{const r=a.data,o=Qr.empty();let u=new _r(Fn.comparator);for(let f of e.fields)if(!u.has(f)){let m=r.field(f);null===m&&f.length>1&&(f=f.popLast(),m=r.field(f)),null===m?o.delete(f):o.set(f,m),u=u.add(f)}return new pr(a.key,o,new _i(u.toArray()),ei.none())}}function W(a,e,r){a instanceof mn?function(u,f,m){const T=u.value.clone(),R=Pr(u.fieldTransforms,f,m.transformResults);T.setAll(R),f.convertToFoundDocument(m.version,T).setHasCommittedMutations()}(a,e,r):a instanceof pr?function(u,f,m){if(!b(u.precondition,f))return void f.convertToUnknownDocument(m.version);const T=Pr(u.fieldTransforms,f,m.transformResults),R=f.data;R.setAll(Sr(u)),R.setAll(T),f.convertToFoundDocument(m.version,R).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function _e(a,e,r,o){return a instanceof mn?function(f,m,T,R){if(!b(f.precondition,m))return T;const B=f.value.clone(),ee=or(f.fieldTransforms,R,m);return B.setAll(ee),m.convertToFoundDocument(m.version,B).setHasLocalMutations(),null}(a,e,r,o):a instanceof pr?function(f,m,T,R){if(!b(f.precondition,m))return T;const B=or(f.fieldTransforms,R,m),ee=m.data;return ee.setAll(Sr(f)),ee.setAll(B),m.convertToFoundDocument(m.version,ee).setHasLocalMutations(),null===T?null:T.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(ce=>ce.field))}(a,e,r,o):(T=r,b(a.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):T);var m,T}function ht(a,e){let r=null;for(const o of a.fieldTransforms){const u=e.data.field(o.field),f=la(o.transform,u||null);null!=f&&(null===r&&(r=Qr.empty()),r.set(o.field,f))}return r||null}function At(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===u||o&&u&&En(o,u,(f,m)=>function nu(a,e){return a.field.isEqual(e.field)&&(u=e.transform,(o=a.transform)instanceof Ds&&u instanceof Ds||o instanceof ps&&u instanceof ps?En(o.elements,u.elements,Cr):o instanceof Bs&&u instanceof Bs?Cr(o.Pe,u.Pe):o instanceof da&&u instanceof da);var o,u}(f,m))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var o,u}class mn extends Z{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class pr extends Z{constructor(e,r,o,u,f=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Sr(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=a.data.field(r);e.set(r,o)}}),e}function Pr(a,e,r){const o=new Map;Tt(a.length===r.length);for(let u=0;u<r.length;u++){const f=a[u],m=f.transform,T=e.data.field(f.field);o.set(f.field,ca(m,T,r[u]))}return o}function or(a,e,r){const o=new Map;for(const u of a){const f=u.transform,m=r.data.field(u.field);o.set(u.field,ns(f,m,e))}return o}class Kr extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ur extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hi{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&W(f,e,o[u])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=_e(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=_e(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=ws();return this.mutations.forEach(u=>{const f=e.get(u.key),m=f.overlayedDocument;let T=this.applyToLocalView(m,f.mutatedFields);T=r.has(u.key)?null:T;const R=N(m,T);null!==R&&o.set(u.key,R),m.isValidDocument()||m.convertToNoDocument(Nt.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),zn())}isEqual(e){return this.batchId===e.batchId&&En(this.mutations,e.mutations,(r,o)=>At(r,o))&&En(this.baseMutations,e.baseMutations,(r,o)=>At(r,o))}}class Ki{constructor(e,r,o,u){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(e,r,o){Tt(e.mutations.length===o.length);let u=Us;const f=e.mutations;for(let m=0;m<f.length;m++)u=u.insert(f[m].key,o[m].version);return new Ki(e,r,o,u)}}class mo{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class To{constructor(e,r){this.count=e,this.unchangedNames=r}}var ti,Hn;function Bo(a){switch(a){default:return $e();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function Ec(a){if(void 0===a)return Ht("GRPC error has no .code"),le.UNKNOWN;switch(a){case ti.OK:return le.OK;case ti.CANCELLED:return le.CANCELLED;case ti.UNKNOWN:return le.UNKNOWN;case ti.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case ti.INTERNAL:return le.INTERNAL;case ti.UNAVAILABLE:return le.UNAVAILABLE;case ti.UNAUTHENTICATED:return le.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case ti.NOT_FOUND:return le.NOT_FOUND;case ti.ALREADY_EXISTS:return le.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return le.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case ti.ABORTED:return le.ABORTED;case ti.OUT_OF_RANGE:return le.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return le.UNIMPLEMENTED;case ti.DATA_LOSS:return le.DATA_LOSS;default:return $e()}}(Hn=ti||(ti={}))[Hn.OK=0]="OK",Hn[Hn.CANCELLED=1]="CANCELLED",Hn[Hn.UNKNOWN=2]="UNKNOWN",Hn[Hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hn[Hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hn[Hn.NOT_FOUND=5]="NOT_FOUND",Hn[Hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hn[Hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hn[Hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hn[Hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hn[Hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hn[Hn.ABORTED=10]="ABORTED",Hn[Hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hn[Hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hn[Hn.INTERNAL=13]="INTERNAL",Hn[Hn.UNAVAILABLE=14]="UNAVAILABLE",Hn[Hn.DATA_LOSS=15]="DATA_LOSS";function Ks(){return new TextEncoder}const Ys=new Le([4294967295,4294967295],0);function bo(a){const e=Ks().encode(a),r=new ze;return r.update(e),new Uint8Array(r.digest())}function Ic(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Le([r,o],0),new Le([u,f],0)]}class ju{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Ss(`Invalid padding: ${r}`);if(o<0)throw new Ss(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Ss(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new Ss(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Le.fromNumber(this.Ie)}Ee(e,r,o){let u=e.add(r.multiply(Le.fromNumber(o)));return 1===u.compare(Ys)&&(u=new Le([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=bo(e),[o,u]=Ic(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(o,u,f);if(!this.de(m))return!1}return!0}static create(e,r,o){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),m=new ju(f,u,r);return o.forEach(T=>m.insert(T)),m}insert(e){if(0===this.Ie)return;const r=bo(e),[o,u]=Ic(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(o,u,f);this.Ae(m)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Ss extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ri{constructor(e,r,o,u,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const u=new Map;return u.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new ri(Nt.min(),u,new rr(xt),Vr(),zn())}}class iu{constructor(e,r,o,u,f){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new iu(o,r,zn(),zn(),zn())}}class Ma{constructor(e,r,o,u){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=u}}class ou{constructor(e,r){this.targetId=e,this.me=r}}class rs{constructor(e,r,o=li.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class Ps{constructor(){this.fe=0,this.ge=wc(),this.pe=li.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=zn(),r=zn(),o=zn();return this.ge.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:$e()}}),new iu(this.pe,this.ye,e,r,o)}ve(){this.we=!1,this.ge=wc()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class su{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=Cc(),this.Qe=new rr(xt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.ve(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:$e()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,o=e.me.count,u=this.Je(r);if(u){const f=u.target;if(aa(f))if(0===o){const m=new Ot(f.path);this.Ue(r,m,j.newNoDocument(m,Nt.min()))}else Tt(1===o);else{const m=this.Ye(r);if(m!==o){const T=this.Ze(e),R=T?this.Xe(T,e,m):1;0!==R&&(this.je(r),this.Qe=this.Qe.insert(r,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:f=0}=r;let m,T;try{m=Ir(o).toUint8Array()}catch(R){if(R instanceof Fi)return Jt("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{T=new ju(m,u,f)}catch(R){return Jt(R instanceof Ss?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===T.Ie?null:T}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let u=0;return o.forEach(f=>{const m=this.Le.tt(),T=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;e.mightContain(T)||(this.Ue(r,f,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((f,m)=>{const T=this.Je(m);if(T){if(f.current&&aa(T.target)){const R=new Ot(T.target.path);null!==this.ke.get(R)||this.it(m,R)||this.Ue(m,R,j.newNoDocument(R,e))}f.be&&(r.set(m,f.Ce()),f.ve())}});let o=zn();this.qe.forEach((f,m)=>{let T=!0;m.forEachWhile(R=>{const B=this.Je(R);return!B||"TargetPurposeLimboResolution"===B.purpose||(T=!1,!1)}),T&&(o=o.add(f))}),this.ke.forEach((f,m)=>m.setReadTime(e));const u=new ri(e,r,this.Qe,this.ke,o);return this.ke=Vr(),this.qe=Cc(),this.Qe=new rr(xt),u}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Ps,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new _r(xt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||ge("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ps),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Cc(){return new rr(Ot.comparator)}function wc(){return new rr(Ot.comparator)}const Tc={asc:"ASCENDING",desc:"DESCENDING"},bc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qn={and:"AND",or:"OR"};class dl{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function xa(a,e){return a.useProto3Json||ae(e)?e:{value:e}}function _o(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dc(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function $u(a,e){return _o(a,e.toTimestamp())}function Ti(a){return Tt(!!a),Nt.fromTimestamp(function(r){const o=Hi(r);return new Ut(o.seconds,o.nanos)}(a))}function Qs(a,e){return au(a,e).canonicalString()}function au(a,e){const r=(u=a,new tn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function Hu(a){const e=tn.fromString(a);return Tt(ma(e)),e}function fa(a,e){return Qs(a.databaseId,e.path)}function is(a,e){const r=Hu(e);if(r.get(1)!==a.databaseId.projectId)throw new se(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new se(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Ot(zu(r))}function hl(a,e){return Qs(a.databaseId,e)}function Ft(a){const e=Hu(a);return 4===e.length?tn.emptyPath():zu(e)}function br(a){return new tn(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function zu(a){return Tt(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function pa(a,e,r){return{name:fa(a,e),fields:r.value.mapValue.fields}}function uo(a,e,r){const o=is(a,e.name),u=Ti(e.updateTime),f=e.createTime?Ti(e.createTime):Nt.min(),m=new Qr({mapValue:{fields:e.fields}}),T=j.newFoundDocument(o,u,f,m);return r&&T.setHasCommittedMutations(),r?T.setHasCommittedMutations():T}function Do(a,e){let r;if(e instanceof mn)r={update:pa(a,e.key,e.value)};else if(e instanceof Kr)r={delete:fa(a,e.key)};else if(e instanceof pr)r={update:pa(a,e.key,e.data),updateMask:Fa(e.fieldMask)};else{if(!(e instanceof Ur))return $e();r={verify:fa(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(f,m){const T=m.transform;if(T instanceof da)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof Ds)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof ps)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof Bs)return{fieldPath:m.field.canonicalString(),increment:T.Pe};throw $e()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:$u(a,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:$e()),r;var f}function ga(a,e){const r=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?ei.updateTime(Ti(f.updateTime)):void 0!==f.exists?ei.exists(f.exists):ei.none():ei.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(m,T){let R=null;"setToServerValue"in T?(Tt("REQUEST_TIME"===T.setToServerValue),R=new da):"appendMissingElements"in T?R=new Ds(T.appendMissingElements.values||[]):"removeAllFromArray"in T?R=new ps(T.removeAllFromArray.values||[]):"increment"in T?R=new Bs(m,T.increment):$e();const B=Fn.fromServerFormat(T.fieldPath);return new js(B,R)}(a,u)):[];var f;if(e.update){const u=is(a,e.update.name),f=new Qr({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new _i((e.updateMask.fieldPaths||[]).map(ee=>Fn.fromServerFormat(ee)));return new pr(u,f,m,r,o)}return new mn(u,f,r,o)}if(e.delete){const u=is(a,e.delete);return new Kr(u,r)}if(e.verify){const u=is(a,e.verify);return new Ur(u,r)}return $e()}function Ac(a,e){return{documents:[hl(a,e.path)]}}function Gu(a,e){const r={structuredQuery:{}},o=e.path;let u;null!==e.collectionGroup?(u=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=hl(a,u);const f=function(B){if(0!==B.length)return Wu(un.create(B,"and"))}(e.filters);f&&(r.structuredQuery.where=f);const m=function(B){if(0!==B.length)return B.map(ee=>{return{field:qo((Me=ee).field),direction:os(Me.dir)};var Me})}(e.orderBy);m&&(r.structuredQuery.orderBy=m);const T=xa(a,e.limit);return null!==T&&(r.structuredQuery.limit=T),e.startAt&&(r.structuredQuery.startAt={before:(B=e.startAt).inclusive,values:B.position}),e.endAt&&(r.structuredQuery.endAt=function(B){return{before:!B.inclusive,values:B.position}}(e.endAt)),{_t:r,parent:u};var B}function co(a){let e=Ft(a.parent);const r=a.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){Tt(1===o);const ee=r.from[0];ee.allDescendants?u=ee.collectionId:e=e.child(ee.collectionId)}let f=[];r.where&&(f=function(ce){const Me=ka(ce);return Me instanceof un&&Jr(Me)?Me.getFilters():[Me]}(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(Me=>{return new _t(Js((kt=Me).field),function($t){switch($t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(kt.direction));var kt}));let T=null;r.limit&&(T=function(ce){let Me;return Me="object"==typeof ce?ce.value:ce,ae(Me)?null:Me}(r.limit));let R=null;var ce;r.startAt&&(R=new fe((ce=r.startAt).values||[],!!ce.before));let B=null;return r.endAt&&(B=function(ce){return new fe(ce.values||[],!ce.before)}(r.endAt)),Pa(e,u,m,f,T,"F",R,B)}function ka(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Js(r.unaryFilter.field);return Mt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Js(r.unaryFilter.field);return Mt.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Js(r.unaryFilter.field);return Mt.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Js(r.unaryFilter.field);return Mt.create(m,"!=",{nullValue:"NULL_VALUE"});default:return $e()}}(a):void 0!==a.fieldFilter?Mt.create(Js((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $e()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return un.create(r.compositeFilter.filters.map(o=>ka(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return $e()}}(r.compositeFilter.op))}(a):$e();var r}function os(a){return Tc[a]}function Oo(a){return bc[a]}function cu(a){return qn[a]}function qo(a){return{fieldPath:a.canonicalString()}}function Js(a){return Fn.fromServerFormat(a.fieldPath)}function Wu(a){return a instanceof Mt?function(r){if("=="===r.op){if(Ro(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NAN"}};if(yi(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Ro(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NOT_NAN"}};if(yi(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(r.field),op:Oo(r.op),value:r.value}}}(a):a instanceof un?function(r){const o=r.getFilters().map(u=>Wu(u));return 1===o.length?o[0]:{compositeFilter:{op:cu(r.op),filters:o}}}(a):$e()}function Fa(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ma(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class ss{constructor(e,r,o,u,f=Nt.min(),m=Nt.min(),T=li.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=T,this.expectedCount=R}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class C{constructor(e){this.ct=e}}function E(a,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:S(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:fa(f=a.ct,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:_o(f,m.version.toTimestamp()),createTime:_o(f,m.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:F(e.version)};else{if(!e.isUnknownDocument())return $e();o.unknownDocument={path:r.path.toArray(),version:F(e.version)}}var f,m;return o}function S(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function F(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Q(a){const e=new Ut(a.seconds,a.nanoseconds);return Nt.fromTimestamp(e)}function pe(a,e){const r=(e.baseMutations||[]).map(f=>ga(a.ct,f));for(let f=0;f<e.mutations.length-1;++f)f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(e.mutations[f].updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f);const o=e.mutations.map(f=>ga(a.ct,f)),u=Ut.fromMillis(e.localWriteTimeMs);return new hi(e.batchId,u,r,o)}function ct(a){const e=Q(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?Q(a.lastLimboFreeSnapshotVersion):Nt.min();let o;return o=void 0!==a.query.documents?(Tt(1===(f=a.query).documents.length),G(Ar(Ft(f.documents[0])))):function(f){return G(co(f))}(a.query),new ss(o,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,r,li.fromBase64String(a.resumeToken));var f}function at(a,e){const r=F(e.snapshotVersion),o=F(e.lastLimboFreeSnapshotVersion);let u;u=aa(e.target)?Ac(a.ct,e.target):Gu(a.ct,e.target)._t;const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fo(e.target),readTime:r,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function ln(a){const e=co({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?fn(e,e.limit,"L"):e}function er(a,e){return new mo(e.largestBatchId,ga(a.ct,e.overlayMutation))}function ar(a,e){const r=e.path.lastSegment();return[a,Pt(e.path.popLast()),r]}function ur(a,e,r,o){return{indexId:a,uid:e,sequenceNumber:r,readTime:F(o.readTime),documentKey:Pt(o.documentKey.path),largestBatchId:o.largestBatchId}}class Br{getBundleMetadata(e,r){return _a(e).get(r).next(o=>{if(o)return{id:(f=o).bundleId,createTime:Q(f.createTime),version:f.version};var f})}saveBundleMetadata(e,r){return _a(e).put({bundleId:(u=r).id,createTime:F(Ti(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return ya(e).get(r).next(o=>{if(o)return{name:(f=o).name,query:ln(f.bundledQuery),readTime:Q(f.readTime)};var f})}saveNamedQuery(e,r){return ya(e).put({name:(u=r).name,readTime:F(Ti(u.readTime)),bundledQuery:u.bundledQuery});var u}}function _a(a){return Wr(a,"bundles")}function ya(a){return Wr(a,"namedQueries")}class va{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new va(e,r.uid||"")}getOverlay(e,r){return gs(e).get(ar(this.userId,r)).next(o=>o?er(this.serializer,o):null)}getOverlays(e,r){const o=wo();return Be.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,r,o){const u=[];return o.forEach((f,m)=>{const T=new mo(r,m);u.push(this.ht(e,T))}),Be.waitFor(u)}removeOverlaysForBatchId(e,r,o){const u=new Set;r.forEach(m=>u.add(Pt(m.getCollectionPath())));const f=[];return u.forEach(m=>{const T=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,o+1],!1,!0);f.push(gs(e).j("collectionPathOverlayIndex",T))}),Be.waitFor(f)}getOverlaysForCollection(e,r,o){const u=wo(),f=Pt(r),m=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return gs(e).U("collectionPathOverlayIndex",m).next(T=>{for(const R of T){const B=er(this.serializer,R);u.set(B.getKey(),B)}return u})}getOverlaysForCollectionGroup(e,r,o,u){const f=wo();let m;const T=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return gs(e).J({index:"collectionGroupOverlayIndex",range:T},(R,B,ee)=>{const ce=er(this.serializer,B);f.size()<u||ce.largestBatchId===m?(f.set(ce.getKey(),ce),m=ce.largestBatchId):ee.done()}).next(()=>f)}ht(e,r){return gs(e).put(function(u,f,m){const[T,R,B]=ar(f,m.mutation.key);return{userId:f,collectionPath:R,documentId:B,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Do(u.ct,m.mutation)}}(this.serializer,this.userId,r))}}function gs(a){return Wr(a,"documentOverlays")}class Rs{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(yr(e.integerValue));else if("doubleValue"in e){const o=yr(e.doubleValue);isNaN(o)?this.Et(r,13):(this.Et(r,15),xe(o)?r.dt(0):r.dt(o))}else if("timestampValue"in e){let o=e.timestampValue;this.Et(r,20),"string"==typeof o&&(o=Hi(o)),r.At(`${o.seconds||""}`),r.dt(o.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Ir(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.Et(r,45),r.dt(o.latitude||0),r.dt(o.longitude||0)}else"mapValue"in e?wr(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):$e()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const o=e.fields||{};this.Et(r,55);for(const u of Object.keys(o))this.Rt(u,r),this.It(o[u],r)}wt(e,r){const o=e.values||[];this.Et(r,50);for(const u of o)this.It(u,r)}gt(e,r){this.Et(r,37),Ot.fromName(e).path.forEach(o=>{this.Et(r,60),this.St(o,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function pd(a){if(0===a)return 8;let e=0;return!(a>>4)&&(e+=4,a<<=4),!(a>>6)&&(e+=2,a<<=2),!(a>>7)&&(e+=1),e}function qu(a){const e=64-function(o){let u=0;for(let f=0;f<8;++f){const m=pd(255&o[f]);if(u+=m,8!==m)break}return u}(a);return Math.ceil(e/8)}Rs.bt=new Rs;class Xs{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ct(o.value),o=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Mt(o.value),o=r.next();this.xt()}Ot(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ct(o);else if(o<2048)this.Ct(960|o>>>6),this.Ct(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|o>>>12),this.Ct(128|63&o>>>6),this.Ct(128|63&o);else{const u=r.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Mt(o);else if(o<2048)this.Mt(960|o>>>6),this.Mt(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|o>>>12),this.Mt(128|63&o>>>6),this.Mt(128|63&o);else{const u=r.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(e){const r=this.Bt(e),o=qu(r);this.kt(1+o),this.buffer[this.position++]=255&o;for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=255&r[u]}qt(e){const r=this.Bt(e),o=qu(r);this.kt(1+o),this.buffer[this.position++]=~(255&o);for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(f){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,f,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let u=1;u<r.length;++u)r[u]^=o?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class oe{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class he{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class X{constructor(){this.Gt=new Xs,this.zt=new oe(this.Gt),this.jt=new he(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class De{constructor(e,r,o,u){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=u}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new De(this.indexId,this.documentKey,this.arrayValue,o)}}function ot(a,e){let r=a.indexId-e.indexId;return 0!==r?r:(r=zt(a.arrayValue,e.arrayValue),0!==r?r:(r=zt(a.directionalValue,e.directionalValue),0!==r?r:Ot.comparator(a.documentKey,e.documentKey)))}function zt(a,e){for(let r=0;r<a.length&&r<e.length;++r){const o=a[r]-e[r];if(0!==o)return o}return a.length-e.length}class rn{constructor(e){this.Yt=new _r((r,o)=>Fn.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const o=r;o.isInequality()?this.Yt=this.Yt.add(o):this.Xt.push(o)}}get en(){return this.Yt.size>1}tn(e){if(Tt(e.collectionGroup===this.collectionId),this.en)return!1;const r=Cn(e);if(void 0!==r&&!this.nn(r))return!1;const o=gn(e);let u=new Set,f=0,m=0;for(;f<o.length&&this.nn(o[f]);++f)u=u.add(o[f].fieldPath.canonicalString());if(f===o.length)return!0;if(this.Yt.size>0){const T=this.Yt.getIterator().getNext();if(!u.has(T.field.canonicalString())){const R=o[f];if(!this.rn(T,R)||!this.sn(this.Zt[m++],R))return!1}++f}for(;f<o.length;++f)if(m>=this.Zt.length||!this.sn(this.Zt[m++],o[f]))return!1;return!0}on(){if(this.en)return null;let e=new _r(Fn.comparator);const r=[];for(const o of this.Xt)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new cr(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new cr(o.field,0))}for(const o of this.Zt)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new cr(o.field,"asc"===o.dir?0:1)));return new cn(cn.UNKNOWN_ID,this.collectionId,r,Mn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function fi(a){var e,r;if(Tt(a instanceof Mt||a instanceof un),a instanceof Mt){if(a instanceof Go){const u=(null===(r=null===(e=a.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(f=>Mt.create(a.field,"==",f)))||[];return un.create(u,"or")}return a}const o=a.filters.map(u=>fi(u));return un.create(o,a.op)}function Kn(a){if(0===a.getFilters().length)return[];const e=Ni(fi(a));return Tt(as(e)),ro(e)||Ms(e)?[e]:e.getFilters()}function ro(a){return a instanceof Mt}function Ms(a){return a instanceof un&&Jr(a)}function as(a){return ro(a)||Ms(a)||function(r){if(r instanceof un&&wn(r)){for(const o of r.getFilters())if(!ro(o)&&!Ms(o))return!1;return!0}return!1}(a)}function Ni(a){if(Tt(a instanceof Mt||a instanceof un),a instanceof Mt)return a;if(1===a.filters.length)return Ni(a.filters[0]);const e=a.filters.map(o=>Ni(o));let r=un.create(e,a.op);return r=pi(r),as(r)?r:(Tt(r instanceof un),Tt(Zn(r)),Tt(r.filters.length>1),r.filters.reduce((o,u)=>La(o,u)))}function La(a,e){let r;return Tt(a instanceof Mt||a instanceof un),Tt(e instanceof Mt||e instanceof un),r=a instanceof Mt?e instanceof Mt?un.create([a,e],"and"):Va(a,e):e instanceof Mt?Va(e,a):function(u,f){if(Tt(u.filters.length>0&&f.filters.length>0),Zn(u)&&Zn(f))return Lr(u,f.getFilters());const m=wn(u)?u:f,T=wn(u)?f:u,R=m.filters.map(B=>La(B,T));return un.create(R,"or")}(a,e),pi(r)}function Va(a,e){if(Zn(e))return Lr(e,a.getFilters());{const r=e.filters.map(o=>La(a,o));return un.create(r,"or")}}function pi(a){if(Tt(a instanceof Mt||a instanceof un),a instanceof Mt)return a;const e=a.getFilters();if(1===e.length)return pi(e[0]);if(Hr(a))return a;const r=e.map(u=>pi(u)),o=[];return r.forEach(u=>{u instanceof Mt?o.push(u):u instanceof un&&(u.op===a.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:un.create(o,a.op)}class Yi{constructor(){this._n=new xs}addToCollectionParentIndex(e,r){return this._n.add(r),Be.resolve()}getCollectionParents(e,r){return Be.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return Be.resolve()}deleteFieldIndex(e,r){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,r){return Be.resolve()}getDocumentsMatchingTarget(e,r){return Be.resolve(null)}getIndexType(e,r){return Be.resolve(0)}getFieldIndexes(e,r){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,r){return Be.resolve(Xt.min())}getMinOffsetFromCollectionGroup(e,r){return Be.resolve(Xt.min())}updateCollectionGroup(e,r,o){return Be.resolve()}updateIndexEntries(e,r){return Be.resolve()}}class xs{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new _r(tn.comparator),f=!u.has(o);return this.index[r]=u.add(o),f}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new _r(tn.comparator)).toArray()}}const $s=new Uint8Array(0);class io{constructor(e,r){this.databaseId=r,this.an=new xs,this.un=new go(o=>fo(o),(o,u)=>Wo(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const o=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const f={collectionId:o,parent:Pt(u)};return lu(e).put(f)}return Be.resolve()}getCollectionParents(e,r){const o=[],u=IDBKeyRange.bound([r,""],[On(r),""],!1,!0);return lu(e).U(u).next(f=>{for(const m of f){if(m.collectionId!==r)break;o.push(Qt(m.parent))}return o})}addFieldIndex(e,r){const o=Hs(e),u={indexId:(T=r).indexId,collectionGroup:T.collectionGroup,fields:T.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var T;delete u.indexId;const f=o.add(u);if(r.indexState){const m=Os(e);return f.next(T=>{m.put(ur(T,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return f.next()}deleteFieldIndex(e,r){const o=Hs(e),u=Os(e),f=Zo(e);return o.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Hs(e),o=Zo(e),u=Os(e);return r.j().next(()=>o.j()).next(()=>u.j())}createTargetIndexes(e,r){return Be.forEach(this.cn(r),o=>this.getIndexType(e,o).next(u=>{if(0===u||1===u){const f=new rn(o).on();if(null!=f)return this.addFieldIndex(e,f)}}))}getDocumentsMatchingTarget(e,r){const o=Zo(e);let u=!0;const f=new Map;return Be.forEach(this.cn(r),m=>this.ln(e,m).next(T=>{u&&(u=!!T),f.set(m,T)})).next(()=>{if(u){let m=zn();const T=[];return Be.forEach(f,(R,B)=>{var Rn;ge("IndexedDbIndexManager",`Using index ${Rn=R,`id=${Rn.indexId}|cg=${Rn.collectionGroup}|f=${Rn.fields.map(dr=>`${dr.fieldPath}:${dr.kind}`).join(",")}`} to execute ${fo(r)}`);const ee=function(Rn,dr){const ui=Cn(dr);if(void 0===ui)return null;for(const Mr of Is(Rn,ui.fieldPath))switch(Mr.op){case"array-contains-any":return Mr.value.arrayValue.values||[];case"array-contains":return[Mr.value]}return null}(B,R),ce=function(Rn,dr){const ui=new Map;for(const Mr of gn(dr))for(const Ke of Is(Rn,Mr.fieldPath))switch(Ke.op){case"==":case"in":ui.set(Mr.fieldPath.canonicalString(),Ke.value);break;case"not-in":case"!=":return ui.set(Mr.fieldPath.canonicalString(),Ke.value),Array.from(ui.values())}return null}(B,R),Me=function(Rn,dr){const ui=[];let Mr=!0;for(const Ke of gn(dr)){const Te=0===Ke.kind?vi(Rn,Ke.fieldPath,Rn.startAt):hs(Rn,Ke.fieldPath,Rn.startAt);ui.push(Te.value),Mr&&(Mr=Te.inclusive)}return new fe(ui,Mr)}(B,R),st=function(Rn,dr){const ui=[];let Mr=!0;for(const Ke of gn(dr)){const Te=0===Ke.kind?hs(Rn,Ke.fieldPath,Rn.endAt):vi(Rn,Ke.fieldPath,Rn.endAt);ui.push(Te.value),Mr&&(Mr=Te.inclusive)}return new fe(ui,Mr)}(B,R),kt=this.hn(R,B,Me),Kt=this.hn(R,B,st),$t=this.Pn(R,B,ce),An=this.In(R.indexId,ee,kt,Me.inclusive,Kt,st.inclusive,$t);return Be.forEach(An,Bn=>o.G(Bn,r.limit).next(Rn=>{Rn.forEach(dr=>{const ui=Ot.fromSegments(dr.documentKey);m.has(ui)||(m=m.add(ui),T.push(ui))})}))}).next(()=>T)}return Be.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Kn(un.create(e.filters,"and")).map(o=>Ls(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,o,u,f,m,T){const R=(null!=r?r.length:1)*Math.max(o.length,f.length),B=R/(null!=r?r.length:1),ee=[];for(let ce=0;ce<R;++ce){const Me=r?this.Tn(r[ce/B]):$s,st=this.En(e,Me,o[ce%B],u),kt=this.dn(e,Me,f[ce%B],m),Kt=T.map($t=>this.En(e,Me,$t,!0));ee.push(...this.createRange(st,kt,Kt))}return ee}En(e,r,o,u){const f=new De(e,Ot.empty(),r,o);return u?f:f.Jt()}dn(e,r,o,u){const f=new De(e,Ot.empty(),r,o);return u?f.Jt():f}ln(e,r){const o=new rn(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(f=>{let m=null;for(const T of f)o.tn(T)&&(!m||T.fields.length>m.fields.length)&&(m=T);return m})}getIndexType(e,r){let o=2;const u=this.cn(r);return Be.forEach(u,f=>this.ln(e,f).next(m=>{m?0!==o&&m.fields.length<function(R){let B=new _r(Fn.comparator),ee=!1;for(const ce of R.filters)for(const Me of ce.getFlattenedFilters())Me.field.isKeyField()||("array-contains"===Me.op||"array-contains-any"===Me.op?ee=!0:B=B.add(Me.field));for(const ce of R.orderBy)ce.field.isKeyField()||(B=B.add(ce.field));return B.size+(ee?1:0)}(f)&&(o=1):o=0})).next(()=>null!==r.limit&&u.length>1&&2===o?1:o)}An(e,r){const o=new X;for(const u of gn(e)){const f=r.data.field(u.fieldPath);if(null==f)return null;const m=o.Ht(u.kind);Rs.bt.Pt(f,m)}return o.Wt()}Tn(e){const r=new X;return Rs.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const o=new X;return Rs.bt.Pt(Yt(this.databaseId,r),o.Ht(function(f){const m=gn(f);return 0===m.length?0:m[m.length-1].kind}(e))),o.Wt()}Pn(e,r,o){if(null===o)return[];let u=[];u.push(new X);let f=0;for(const m of gn(e)){const T=o[f++];for(const R of u)if(this.Vn(r,m.fieldPath)&&Jn(T))u=this.mn(u,m,T);else{const B=R.Ht(m.kind);Rs.bt.Pt(T,B)}}return this.fn(u)}hn(e,r,o){return this.Pn(e,r,o.position)}fn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].Wt();return r}mn(e,r,o){const u=[...e],f=[];for(const m of o.arrayValue.values||[])for(const T of u){const R=new X;R.seed(T.Wt()),Rs.bt.Pt(m,R.Ht(r.kind)),f.push(R)}return f}Vn(e,r){return!!e.filters.find(o=>o instanceof Mt&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=Hs(e),u=Os(e);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(f=>{const m=[];return Be.forEach(f,T=>u.get([T.indexId,this.uid]).next(R=>{m.push(function(ee,ce){const Me=ce?new Mn(ce.sequenceNumber,new Xt(Q(ce.readTime),new Ot(Qt(ce.documentKey)),ce.largestBatchId)):Mn.empty(),st=ee.fields.map(([kt,Kt])=>new cr(Fn.fromServerFormat(kt),Kt));return new cn(ee.indexId,ee.collectionGroup,st,Me)}(T,R))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,u)=>{const f=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:xt(o.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const u=Hs(e),f=Os(e);return this.gn(e).next(m=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(T=>Be.forEach(T,R=>f.put(ur(R.indexId,this.uid,m,o)))))}updateIndexEntries(e,r){const o=new Map;return Be.forEach(r,(u,f)=>{const m=o.get(u.collectionGroup);return(m?Be.resolve(m):this.getFieldIndexes(e,u.collectionGroup)).next(T=>(o.set(u.collectionGroup,T),Be.forEach(T,R=>this.pn(e,u,R).next(B=>{const ee=this.yn(f,R);return B.isEqual(ee)?Be.resolve():this.wn(e,f,R,B,ee)}))))})}Sn(e,r,o,u){return Zo(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(o,r.key),documentKey:r.key.path.toArray()})}bn(e,r,o,u){return Zo(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(o,r.key),r.key.path.toArray()])}pn(e,r,o){const u=Zo(e);let f=new _r(ot);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.Rn(o,r)])},(m,T)=>{f=f.add(new De(o.indexId,r,T.arrayValue,T.directionalValue))}).next(()=>f)}yn(e,r){let o=new _r(ot);const u=this.An(r,e);if(null==u)return o;const f=Cn(r);if(null!=f){const m=e.data.field(f.fieldPath);if(Jn(m))for(const T of m.arrayValue.values||[])o=o.add(new De(r.indexId,e.key,this.Tn(T),u))}else o=o.add(new De(r.indexId,e.key,$s,u));return o}wn(e,r,o,u,f){ge("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const m=[];return function(R,B,ee,ce,Me){const st=R.getIterator(),kt=B.getIterator();let Kt=Ai(st),$t=Ai(kt);for(;Kt||$t;){let An=!1,Bn=!1;if(Kt&&$t){const Rn=ee(Kt,$t);Rn<0?Bn=!0:Rn>0&&(An=!0)}else null!=Kt?Bn=!0:An=!0;An?(ce($t),$t=Ai(kt)):Bn?(Me(Kt),Kt=Ai(st)):(Kt=Ai(st),$t=Ai(kt))}}(u,f,ot,T=>{m.push(this.Sn(e,r,o,T))},T=>{m.push(this.bn(e,r,o,T))}),Be.waitFor(m)}gn(e){let r=1;return Os(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,f)=>{f.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((m,T)=>ot(m,T)).filter((m,T,R)=>!T||0!==ot(m,R[T-1]));const u=[];u.push(e);for(const m of o){const T=ot(m,e),R=ot(m,r);if(0===T)u[0]=e.Jt();else if(T>0&&R<0)u.push(m),u.push(m.Jt());else if(R>0)break}u.push(r);const f=[];for(let m=0;m<u.length;m+=2){if(this.Dn(u[m],u[m+1]))return[];f.push(IDBKeyRange.bound([u[m].indexId,this.uid,u[m].arrayValue,u[m].directionalValue,$s,[]],[u[m+1].indexId,this.uid,u[m+1].arrayValue,u[m+1].directionalValue,$s,[]]))}return f}Dn(e,r){return ot(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Ih)}getMinOffset(e,r){return Be.mapArray(this.cn(r),o=>this.ln(e,o).next(u=>u||$e())).next(Ih)}}function lu(a){return Wr(a,"collectionParents")}function Zo(a){return Wr(a,"indexEntries")}function Hs(a){return Wr(a,"indexConfiguration")}function Os(a){return Wr(a,"indexState")}function Ih(a){Tt(0!==a.length);let e=a[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<a.length;o++){const u=a[o].indexState.offset;Nr(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new Xt(e.readTime,e.documentKey,r)}const Sc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yo{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new yo(e,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ch(a,e,r){const o=a.store("mutations"),u=a.store("documentMutations"),f=[],m=IDBKeyRange.only(r.batchId);let T=0;const R=o.J({range:m},(ee,ce,Me)=>(T++,Me.delete()));f.push(R.next(()=>{Tt(1===T)}));const B=[];for(const ee of r.mutations){const ce=Qn(e,ee.key.path,r.batchId);f.push(u.delete(ce)),B.push(ee.key)}return Be.waitFor(f).next(()=>B)}function No(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw $e();e=a.noDocument}return JSON.stringify(e).length}yo.DEFAULT_COLLECTION_PERCENTILE=10,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yo.DEFAULT=new yo(41943040,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yo.DISABLED=new yo(-1,0,0);class fl{constructor(e,r,o,u){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=u,this.Cn={}}static lt(e,r,o,u){Tt(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new fl(f,r,o,u)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ns(e).J({index:"userMutationsIndex",range:o},(u,f,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(e,r,o,u){const f=Ea(e),m=Ns(e);return m.add({}).next(T=>{Tt("number"==typeof T);const R=new hi(T,r,o,u),B=function(st,kt,Kt){const $t=Kt.baseMutations.map(Bn=>Do(st.ct,Bn)),An=Kt.mutations.map(Bn=>Do(st.ct,Bn));return{userId:kt,batchId:Kt.batchId,localWriteTimeMs:Kt.localWriteTime.toMillis(),baseMutations:$t,mutations:An}}(this.serializer,this.userId,R),ee=[];let ce=new _r((Me,st)=>xt(Me.canonicalString(),st.canonicalString()));for(const Me of u){const st=Qn(this.userId,Me.key.path,T);ce=ce.add(Me.key.path.popLast()),ee.push(m.put(B)),ee.push(f.put(st,ki))}return ce.forEach(Me=>{ee.push(this.indexManager.addToCollectionParentIndex(e,Me))}),e.addOnCommittedListener(()=>{this.Cn[T]=R.keys()}),Be.waitFor(ee).next(()=>R)})}lookupMutationBatch(e,r){return Ns(e).get(r).next(o=>o?(Tt(o.userId===this.userId),pe(this.serializer,o)):null)}vn(e,r){return this.Cn[r]?Be.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const u=o.keys();return this.Cn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return Ns(e).J({index:"userMutationsIndex",range:u},(m,T,R)=>{T.userId===this.userId&&(Tt(T.batchId>=o),f=pe(this.serializer,T)),R.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ns(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,f,m)=>{o=f.batchId,m.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ns(e).U("userMutationsIndex",r).next(o=>o.map(u=>pe(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=vn(this.userId,r.path),u=IDBKeyRange.lowerBound(o),f=[];return Ea(e).J({range:u},(m,T,R)=>{const[B,ee,ce]=m,Me=Qt(ee);if(B===this.userId&&r.path.isEqual(Me))return Ns(e).get(ce).next(st=>{if(!st)throw $e();Tt(st.userId===this.userId),f.push(pe(this.serializer,st))});R.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new _r(xt);const u=[];return r.forEach(f=>{const m=vn(this.userId,f.path),T=IDBKeyRange.lowerBound(m),R=Ea(e).J({range:T},(B,ee,ce)=>{const[Me,st,kt]=B,Kt=Qt(st);Me===this.userId&&f.path.isEqual(Kt)?o=o.add(kt):ce.done()});u.push(R)}),Be.waitFor(u).next(()=>this.Fn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1,f=vn(this.userId,o),m=IDBKeyRange.lowerBound(f);let T=new _r(xt);return Ea(e).J({range:m},(R,B,ee)=>{const[ce,Me,st]=R,kt=Qt(Me);ce===this.userId&&o.isPrefixOf(kt)?kt.length===u&&(T=T.add(st)):ee.done()}).next(()=>this.Fn(e,T))}Fn(e,r){const o=[],u=[];return r.forEach(f=>{u.push(Ns(e).get(f).next(m=>{if(null===m)throw $e();Tt(m.userId===this.userId),o.push(pe(this.serializer,m))}))}),Be.waitFor(u).next(()=>o)}removeMutationBatch(e,r){return Ch(e._e,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),Be.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Be.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Ea(e).J({range:o},(f,m,T)=>{if(f[0]===this.userId){const R=Qt(f[1]);u.push(R)}else T.done()}).next(()=>{Tt(0===u.length)})})}containsKey(e,r){return Pc(e,this.userId,r)}xn(e){return du(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pc(a,e,r){const o=vn(e,r.path),u=o[1],f=IDBKeyRange.lowerBound(o);let m=!1;return Ea(a).J({range:f,H:!0},(T,R,B)=>{const[ee,ce,Me]=T;ee===e&&ce===u&&(m=!0),B.done()}).next(()=>m)}function Ns(a){return Wr(a,"mutations")}function Ea(a){return Wr(a,"documentMutations")}function du(a){return Wr(a,"mutationQueues")}class Ia{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ia(0)}static Ln(){return new Ia(-1)}}class wh{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const o=new Ia(r.highestTargetId);return r.highestTargetId=o.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Nt.fromTimestamp(new Ut(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.kn(e,u)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(o=>(o.targetCount+=1,this.Qn(r,o),this.kn(e,o))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Ua(e).delete(r.targetId)).next(()=>this.Bn(e)).next(o=>(Tt(o.targetCount>0),o.targetCount-=1,this.kn(e,o)))}removeTargets(e,r,o){let u=0;const f=[];return Ua(e).J((m,T)=>{const R=ct(T);R.sequenceNumber<=r&&null===o.get(R.targetId)&&(u++,f.push(this.removeTargetData(e,R)))}).next(()=>Be.waitFor(f)).next(()=>u)}forEachTarget(e,r){return Ua(e).J((o,u)=>{const f=ct(u);r(f)})}Bn(e){return pl(e).get("targetGlobalKey").next(r=>(Tt(null!==r),r))}kn(e,r){return pl(e).put("targetGlobalKey",r)}qn(e,r){return Ua(e).put(at(this.serializer,r))}Qn(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=fo(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return Ua(e).J({range:u,index:"queryTargetsIndex"},(m,T,R)=>{const B=ct(T);Wo(r,B.target)&&(f=B,R.done())}).next(()=>f)}addMatchingKeys(e,r,o){const u=[],f=Ca(e);return r.forEach(m=>{const T=Pt(m.path);u.push(f.put({targetId:o,path:T})),u.push(this.referenceDelegate.addReference(e,o,m))}),Be.waitFor(u)}removeMatchingKeys(e,r,o){const u=Ca(e);return Be.forEach(r,f=>{const m=Pt(f.path);return Be.waitFor([u.delete([o,m]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,r){const o=Ca(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=Ca(e);let f=zn();return u.J({range:o,H:!0},(m,T,R)=>{const B=Qt(m[1]),ee=new Ot(B);f=f.add(ee)}).next(()=>f)}containsKey(e,r){const o=Pt(r.path),u=IDBKeyRange.bound([o],[On(o)],!1,!0);let f=0;return Ca(e).J({index:"documentTargetsIndex",H:!0,range:u},([m,T],R,B)=>{0!==m&&(f++,B.done())}).next(()=>f>0)}ot(e,r){return Ua(e).get(r).next(o=>o?ct(o):null)}}function Ua(a){return Wr(a,"targets")}function pl(a){return Wr(a,"targetGlobal")}function Ca(a){return Wr(a,"targetDocuments")}function gd([a,e],[r,o]){const u=xt(a,r);return 0===u?xt(e,o):u}class md{constructor(e){this.Kn=e,this.buffer=new _r(gd),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();gd(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Rc{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){Tn(o)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Dn(o)}yield r.zn(3e5)}))}}class hu{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return Be.resolve(O.oe);const o=new md(r);return this.jn.forEachTarget(e,u=>o.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>o.Wn(u))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.jn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(Sc)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sc):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let o,u,f,m,T,R,B;const ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ce=>(ce>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ce}`),u=this.params.maximumSequenceNumbersToCollect):u=ce,m=Date.now(),this.nthSequenceNumber(e,u))).next(ce=>(o=ce,T=Date.now(),this.removeTargets(e,o,r))).next(ce=>(f=ce,R=Date.now(),this.removeOrphanedDocuments(e,o))).next(ce=>(B=Date.now(),yt()<=Ce.in.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-ee}ms\n\tDetermined least recently used ${u} in `+(T-m)+`ms\n\tRemoved ${f} targets in `+(R-T)+`ms\n\tRemoved ${ce} documents in `+(B-R)+`ms\nTotal Duration: ${B-ee}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:ce})))}}class Th{constructor(e,r){this.db=e,this.garbageCollector=function gl(a,e){return new hu(a,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(u=>o+u))}Zn(e){let r=0;return this.Jn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(o,u)=>r(u))}addReference(e,r,o){return Mc(e,o)}removeReference(e,r,o){return Mc(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Mc(e,r)}er(e,r){return function(u,f){let m=!1;return du(u).Y(T=>Pc(u,T,f).next(R=>(R&&(m=!0),Be.resolve(!R)))).next(()=>m)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.Xn(e,(m,T)=>{if(T<=r){const R=this.er(e,m).next(B=>{if(!B)return f++,o.getEntry(e,m).next(()=>(o.removeEntry(m,Nt.min()),Ca(e).delete([0,Pt(m.path)])))});u.push(R)}}).next(()=>Be.waitFor(u)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Mc(e,r)}Xn(e,r){const o=Ca(e);let u,f=O.oe;return o.J({index:"documentTargetsIndex"},([m,T],{path:R,sequenceNumber:B})=>{0===m?(f!==O.oe&&r(new Ot(Qt(u)),f),f=B,u=R):f=O.oe}).next(()=>{f!==O.oe&&r(new Ot(Qt(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mc(a,e){return Ca(a).put((u=a.currentSequenceNumber,{targetId:0,path:Pt(e.path),sequenceNumber:u}));var u}class Ba{constructor(){this.changes=new go(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,j.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?Be.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ip{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return ea(e).put(o)}removeEntry(e,r,o){return ea(e).delete(function(f,m){const T=f.path.toArray();return[T.slice(0,T.length-2),T[T.length-2],S(m),T[T.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.tr(e,o)))}getEntry(e,r){let o=j.newInvalidDocument(r);return ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fu(r))},(u,f)=>{o=this.nr(r,f)}).next(()=>o)}rr(e,r){let o={size:0,document:j.newInvalidDocument(r)};return ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fu(r))},(u,f)=>{o={document:this.nr(r,f),size:No(f)}}).next(()=>o)}getEntries(e,r){let o=Vr();return this.ir(e,r,(u,f)=>{const m=this.nr(u,f);o=o.insert(u,m)}).next(()=>o)}sr(e,r){let o=Vr(),u=new rr(Ot.comparator);return this.ir(e,r,(f,m)=>{const T=this.nr(f,m);o=o.insert(f,T),u=u.insert(f,No(m))}).next(()=>({documents:o,_r:u}))}ir(e,r,o){if(r.isEmpty())return Be.resolve();let u=new _r(Oc);r.forEach(R=>u=u.add(R));const f=IDBKeyRange.bound(fu(u.first()),fu(u.last())),m=u.getIterator();let T=m.getNext();return ea(e).J({index:"documentKeyIndex",range:f},(R,B,ee)=>{const ce=Ot.fromSegments([...B.prefixPath,B.collectionGroup,B.documentId]);for(;T&&Oc(T,ce)<0;)o(T,null),T=m.getNext();T&&T.isEqual(ce)&&(o(T,B),T=m.hasNext()?m.getNext():null),T?ee.$(fu(T)):ee.done()}).next(()=>{for(;T;)o(T,null),T=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,r,o,u,f){const m=r.path,T=[m.popLast().toArray(),m.lastSegment(),S(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],R=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ea(e).U(IDBKeyRange.bound(T,R,!0)).next(B=>{f?.incrementDocumentReadCount(B.length);let ee=Vr();for(const ce of B){const Me=this.nr(Ot.fromSegments(ce.prefixPath.concat(ce.collectionGroup,ce.documentId)),ce);Me.isFoundDocument()&&(xi(r,Me)||u.has(Me.key))&&(ee=ee.insert(Me.key,Me))}return ee})}getAllFromCollectionGroup(e,r,o,u){let f=Vr();const m=yd(r,o),T=yd(r,Xt.max());return ea(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,T,!0)},(R,B,ee)=>{const ce=this.nr(Ot.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);f=f.insert(ce.key,ce),f.size===u&&ee.done()}).next(()=>f)}newChangeBuffer(e){return new _d(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return xc(e).get("remoteDocumentGlobalKey").next(r=>(Tt(!!r),r))}tr(e,r){return xc(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const o=function A(a,e){let r;if(e.document)r=uo(a.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Ot.fromSegments(e.noDocument.path),u=Q(e.noDocument.readTime);r=j.newNoDocument(o,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return $e();{const o=Ot.fromSegments(e.unknownDocument.path),u=Q(e.unknownDocument.version);r=j.newUnknownDocument(o,u)}}return e.readTime&&r.setReadTime(function(u){const f=new Ut(u[0],u[1]);return Nt.fromTimestamp(f)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(Nt.min()))return o}return j.newInvalidDocument(e)}}function Ao(a){return new ip(a)}class _d extends Ba{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new go(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const r=[];let o=0,u=new _r((f,m)=>xt(f.canonicalString(),m.canonicalString()));return this.changes.forEach((f,m)=>{const T=this.ur.get(f);if(r.push(this.ar.removeEntry(e,f,T.readTime)),m.isValidDocument()){const R=E(this.ar.serializer,m);u=u.add(f.path.popLast());const B=No(R);o+=B-T.size,r.push(this.ar.addEntry(e,f,R))}else if(o-=T.size,this.trackRemovals){const R=E(this.ar.serializer,m.convertToNoDocument(Nt.min()));r.push(this.ar.addEntry(e,f,R))}}),u.forEach(f=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,f))}),r.push(this.ar.updateMetadata(e,o)),Be.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(o=>(this.ur.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:o,_r:u})=>(u.forEach((f,m)=>{this.ur.set(f,{size:m,readTime:o.get(f).readTime})}),o))}}function xc(a){return Wr(a,"remoteDocumentGlobal")}function ea(a){return Wr(a,"remoteDocumentsV14")}function fu(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yd(a,e){const r=e.documentKey.path.toArray();return[a,S(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Oc(a,e){const r=a.path.toArray(),o=e.path.toArray();let u=0;for(let f=0;f<r.length-2&&f<o.length-2;++f)if(u=xt(r[f],o[f]),u)return u;return u=xt(r.length,o.length),u||(u=xt(r[r.length-2],o[o.length-2]),u||xt(r[r.length-1],o[o.length-1]))}class pu{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class ja{constructor(e,r,o,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==o&&_e(o.mutation,u,_i.empty(),Ut.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,zn()).next(()=>o))}getLocalViewOfDocuments(e,r,o=zn()){const u=wo();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,o).next(f=>{let m=Oi();return f.forEach((T,R)=>{m=m.insert(T,R.overlayedDocument)}),m}))}getOverlayedDocuments(e,r){const o=wo();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,zn()))}populateOverlays(e,r,o){const u=[];return o.forEach(f=>{r.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((m,T)=>{r.set(m,T)})})}computeViews(e,r,o,u){let f=Vr();const m=Mo(),T=Mo();return r.forEach((R,B)=>{const ee=o.get(B.key);u.has(B.key)&&(void 0===ee||ee.mutation instanceof pr)?f=f.insert(B.key,B):void 0!==ee?(m.set(B.key,ee.mutation.getFieldMask()),_e(ee.mutation,B,ee.mutation.getFieldMask(),Ut.now())):m.set(B.key,_i.empty())}),this.recalculateAndSaveOverlays(e,f).next(R=>(R.forEach((B,ee)=>m.set(B,ee)),r.forEach((B,ee)=>{var ce;return T.set(B,new pu(ee,null!==(ce=m.get(B))&&void 0!==ce?ce:null))}),T))}recalculateAndSaveOverlays(e,r){const o=Mo();let u=new rr((m,T)=>m-T),f=zn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(m=>{for(const T of m)T.keys().forEach(R=>{const B=r.get(R);if(null===B)return;let ee=o.get(R)||_i.empty();ee=T.applyToLocalView(B,ee),o.set(R,ee);const ce=(u.get(T.batchId)||zn()).add(R);u=u.insert(T.batchId,ce)})}).next(()=>{const m=[],T=u.getReverseIterator();for(;T.hasNext();){const R=T.getNext(),B=R.key,ee=R.value,ce=ws();ee.forEach(Me=>{if(!f.has(Me)){const st=N(r.get(Me),o.get(Me));null!==st&&ce.set(Me,st),f=f.add(Me)}}),m.push(this.documentOverlayCache.saveOverlays(e,B,ce))}return Be.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,u){return Ot.isDocumentKey((m=r).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ua(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,u):this.getDocumentsMatchingCollectionQuery(e,r,o,u);var m}getNextDocuments(e,r,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,u).next(f=>{const m=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,u-f.size):Be.resolve(wo());let T=-1,R=f;return m.next(B=>Be.forEach(B,(ee,ce)=>(T<ce.largestBatchId&&(T=ce.largestBatchId),f.get(ee)?Be.resolve():this.remoteDocumentCache.getEntry(e,ee).next(Me=>{R=R.insert(ee,Me)}))).next(()=>this.populateOverlays(e,B,f)).next(()=>this.computeViews(e,R,B,zn())).next(ee=>({batchId:T,changes:tu(ee)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ot(r)).next(o=>{let u=Oi();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,o,u){const f=r.collectionGroup;let m=Oi();return this.indexManager.getCollectionParents(e,f).next(T=>Be.forEach(T,R=>{const B=(ce=r,Me=R.child(f),new fs(Me,null,ce.explicitOrderBy.slice(),ce.filters.slice(),ce.limit,ce.limitType,ce.startAt,ce.endAt));var ce,Me;return this.getDocumentsMatchingCollectionQuery(e,B,o,u).next(ee=>{ee.forEach((ce,Me)=>{m=m.insert(ce,Me)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,r,o,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,f,u))).next(m=>{f.forEach((R,B)=>{const ee=B.getKey();null===m.get(ee)&&(m=m.insert(ee,j.newInvalidDocument(ee)))});let T=Oi();return m.forEach((R,B)=>{const ee=f.get(R);void 0!==ee&&_e(ee.mutation,B,_i.empty(),Ut.now()),xi(r,B)&&(T=T.insert(R,B))}),T})}}class Zu{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return Be.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(u=r).id,version:u.version,createTime:Ti(u.createTime)}),Be.resolve();var u}getNamedQuery(e,r){return Be.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(u=r).name,query:ln(u.bundledQuery),readTime:Ti(u.readTime)}),Be.resolve();var u}}class vd{constructor(){this.overlays=new rr(Ot.comparator),this.hr=new Map}getOverlay(e,r){return Be.resolve(this.overlays.get(r))}getOverlays(e,r){const o=wo();return Be.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((u,f)=>{this.ht(e,r,f)}),Be.resolve()}removeOverlaysForBatchId(e,r,o){const u=this.hr.get(o);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.hr.delete(o)),Be.resolve()}getOverlaysForCollection(e,r,o){const u=wo(),f=r.length+1,m=new Ot(r.child("")),T=this.overlays.getIteratorFrom(m);for(;T.hasNext();){const R=T.getNext().value,B=R.getKey();if(!r.isPrefixOf(B.path))break;B.path.length===f&&R.largestBatchId>o&&u.set(R.getKey(),R)}return Be.resolve(u)}getOverlaysForCollectionGroup(e,r,o,u){let f=new rr((B,ee)=>B-ee);const m=this.overlays.getIterator();for(;m.hasNext();){const B=m.getNext().value;if(B.getKey().getCollectionGroup()===r&&B.largestBatchId>o){let ee=f.get(B.largestBatchId);null===ee&&(ee=wo(),f=f.insert(B.largestBatchId,ee)),ee.set(B.getKey(),B)}}const T=wo(),R=f.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((B,ee)=>T.set(B,ee)),!(T.size()>=u)););return Be.resolve(T)}ht(e,r,o){const u=this.overlays.get(o.key);if(null!==u){const m=this.hr.get(u.largestBatchId).delete(o.key);this.hr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new mo(r,o));let f=this.hr.get(r);void 0===f&&(f=zn(),this.hr.set(r,f)),this.hr.set(r,f.add(o.key))}}class gu{constructor(){this.Pr=new _r(ji.Ir),this.Tr=new _r(ji.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const o=new ji(e,r);this.Pr=this.Pr.add(o),this.Tr=this.Tr.add(o)}dr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Ar(new ji(e,r))}Rr(e,r){e.forEach(o=>this.removeReference(o,r))}Vr(e){const r=new Ot(new tn([])),o=new ji(r,e),u=new ji(r,e+1),f=[];return this.Tr.forEachInRange([o,u],m=>{this.Ar(m),f.push(m.key)}),f}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Ot(new tn([])),o=new ji(r,e),u=new ji(r,e+1);let f=zn();return this.Tr.forEachInRange([o,u],m=>{f=f.add(m.key)}),f}containsKey(e){const r=new ji(e,0),o=this.Pr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class ji{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Ot.comparator(e.key,r.key)||xt(e.pr,r.pr)}static Er(e,r){return xt(e.pr,r.pr)||Ot.comparator(e.key,r.key)}}class qg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new _r(ji.Ir)}checkEmpty(e){return Be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,u){const f=this.yr;this.yr++;const m=new hi(f,r,o,u);this.mutationQueue.push(m);for(const T of u)this.wr=this.wr.add(new ji(T.key,f)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Be.resolve(m)}lookupMutationBatch(e,r){return Be.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.br(r+1),f=u<0?0:u;return Be.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new ji(r,0),u=new ji(r,Number.POSITIVE_INFINITY),f=[];return this.wr.forEachInRange([o,u],m=>{const T=this.Sr(m.pr);f.push(T)}),Be.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new _r(xt);return r.forEach(u=>{const f=new ji(u,0),m=new ji(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([f,m],T=>{o=o.add(T.pr)})}),Be.resolve(this.Dr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let f=o;Ot.isDocumentKey(f)||(f=f.child(""));const m=new ji(new Ot(f),0);let T=new _r(xt);return this.wr.forEachWhile(R=>{const B=R.key.path;return!!o.isPrefixOf(B)&&(B.length===u&&(T=T.add(R.pr)),!0)},m),Be.resolve(this.Dr(T))}Dr(e){const r=[];return e.forEach(o=>{const u=this.Sr(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Tt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.wr;return Be.forEach(r.mutations,u=>{const f=new ji(u.key,r.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=o})}Mn(e){}containsKey(e,r){const o=new ji(r,0),u=this.wr.firstAfterOrEqual(o);return Be.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return Be.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class op{constructor(e){this.vr=e,this.docs=new rr(Ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,u=this.docs.get(o),f=u?u.size:0,m=this.vr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return Be.resolve(o?o.document.mutableCopy():j.newInvalidDocument(r))}getEntries(e,r){let o=Vr();return r.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.mutableCopy():j.newInvalidDocument(u))}),Be.resolve(o)}getDocumentsMatchingQuery(e,r,o,u){let f=Vr();const m=r.path,T=new Ot(m.child("")),R=this.docs.getIteratorFrom(T);for(;R.hasNext();){const{key:B,value:{document:ee}}=R.getNext();if(!m.isPrefixOf(B.path))break;B.path.length>m.length+1||Nr(Ci(ee),o)<=0||(u.has(ee.key)||xi(r,ee))&&(f=f.insert(ee.key,ee.mutableCopy()))}return Be.resolve(f)}getAllFromCollectionGroup(e,r,o,u){$e()}Fr(e,r){return Be.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new bh(this)}getSize(e){return Be.resolve(this.size)}}class bh extends Ba{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this.ar.addEntry(e,u)):this.ar.removeEntry(o)}),Be.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Zg{constructor(e){this.persistence=e,this.Mr=new go(r=>fo(r),Wo),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new gu,this.targetCount=0,this.Lr=Ia.Nn()}forEachTarget(e,r){return this.Mr.forEach((o,u)=>r(u)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Or&&(this.Or=r),Be.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Ia(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,Be.resolve()}updateTargetData(e,r){return this.qn(r),Be.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,r,o){let u=0;const f=[];return this.Mr.forEach((m,T)=>{T.sequenceNumber<=r&&null===o.get(T.targetId)&&(this.Mr.delete(m),f.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),Be.waitFor(f).next(()=>u)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,r){const o=this.Mr.get(r)||null;return Be.resolve(o)}addMatchingKeys(e,r,o){return this.Nr.dr(r,o),Be.resolve()}removeMatchingKeys(e,r,o){this.Nr.Rr(r,o);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach(m=>{f.push(u.markPotentiallyOrphaned(e,m))}),Be.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),Be.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Nr.gr(r);return Be.resolve(o)}containsKey(e,r){return Be.resolve(this.Nr.containsKey(r))}}class Dh{constructor(e,r){this.Br={},this.overlays={},this.kr=new O(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Zg(this),this.indexManager=new Yi,this.remoteDocumentCache=new op(o=>this.referenceDelegate.Kr(o)),this.serializer=new C(r),this.$r=new Zu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new vd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Br[e.toKey()];return o||(o=new qg(r,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,o){ge("MemoryPersistence","Starting transaction:",e);const u=new sp(this.kr.next());return this.referenceDelegate.Ur(),o(u).next(f=>this.referenceDelegate.Wr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Gr(e,r){return Be.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,r)))}}class sp extends nr{constructor(e){super(),this.currentSequenceNumber=e}}class Ed{constructor(e){this.persistence=e,this.zr=new gu,this.jr=null}static Hr(e){return new Ed(e)}get Jr(){if(this.jr)return this.jr;throw $e()}addReference(e,r,o){return this.zr.addReference(o,r),this.Jr.delete(o.toString()),Be.resolve()}removeReference(e,r,o){return this.zr.removeReference(o,r),this.Jr.add(o.toString()),Be.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),Be.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(u=>this.Jr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(f=>this.Jr.add(f.toString()))}).next(()=>o.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.Jr,o=>{const u=Ot.fromPath(o);return this.Yr(e,u).next(f=>{f||r.removeEntry(u,Nt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(o=>{o?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return Be.or([()=>Be.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Yu{constructor(e){this.serializer=e}O(e,r,o,u){const f=new pt("createOrUpgrade",r);var R;o<1&&u>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gn,{unique:!0}),R.createObjectStore("documentMutations"),Ah(e),function(R){R.createObjectStore("remoteDocuments")}(e));let m=Be.resolve();return o<3&&u>=3&&(0!==o&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),Ah(e)),m=m.next(()=>function(R){const B=R.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",ee)}(f))),o<4&&u>=4&&(0!==o&&(m=m.next(()=>function(R,B){return B.store("mutations").U().next(ee=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gn,{unique:!0});const ce=B.store("mutations"),Me=ee.map(st=>ce.put(st));return Be.waitFor(Me)})}(e,f))),m=m.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(m=m.next(()=>this.Xr(f))),o<6&&u>=6&&(m=m.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.ei(f)))),o<7&&u>=7&&(m=m.next(()=>this.ti(f))),o<8&&u>=8&&(m=m.next(()=>this.ni(e,f))),o<9&&u>=9&&(m=m.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(m=m.next(()=>this.ri(f))),o<11&&u>=11&&(m=m.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(m=m.next(()=>{!function(R){const B=R.createObjectStore("documentOverlays",{keyPath:Pn});B.createIndex("collectionPathOverlayIndex",dn,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",Er,{unique:!1})}(e)})),o<13&&u>=13&&(m=m.next(()=>function(R){const B=R.createObjectStore("remoteDocumentsV14",{keyPath:Di});B.createIndex("documentKeyIndex",Gr),B.createIndex("collectionGroupIndex",Xi)}(e)).next(()=>this.ii(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(m=m.next(()=>this.si(e,f))),o<15&&u>=15&&(m=m.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:Ze}).createIndex("sequenceNumberIndex",Ct,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:en}).createIndex("documentKeyIndex",bn,{unique:!1})}(e))),o<16&&u>=16&&(m=m.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),m}ei(e){let r=0;return e.store("remoteDocuments").J((o,u)=>{r+=No(u)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Xr(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.U().next(u=>Be.forEach(u,f=>{const m=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",m).next(T=>Be.forEach(T,R=>{Tt(R.userId===f.userId);const B=pe(this.serializer,R);return Ch(e,f.userId,B).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return o.J((m,T)=>{const R=new tn(m),B=[0,Pt(R)];f.push(r.get(B).next(ee=>ee?Be.resolve():r.put({targetId:0,path:Pt(R),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Be.waitFor(f))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:ut});const o=r.store("collectionParents"),u=new xs,f=m=>{if(u.add(m)){const T=m.lastSegment(),R=m.popLast();return o.put({collectionId:T,parent:Pt(R)})}};return r.store("remoteDocuments").J({H:!0},(m,T)=>{const R=new tn(m);return f(R.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([m,T,R],B)=>{const ee=Qt(T);return f(ee.popLast())}))}ri(e){const r=e.store("targets");return r.J((o,u)=>{const f=ct(u),m=at(this.serializer,f);return r.put(m)})}ii(e,r){const o=r.store("remoteDocuments"),u=[];return o.J((f,m)=>{const T=r.store("remoteDocumentsV14"),R=(ce=m,ce.document?new Ot(tn.fromString(ce.document.name).popFirst(5)):ce.noDocument?Ot.fromSegments(ce.noDocument.path):ce.unknownDocument?Ot.fromSegments(ce.unknownDocument.path):$e()).path.toArray(),B={prefixPath:R.slice(0,R.length-2),collectionGroup:R[R.length-2],documentId:R[R.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};var ce;u.push(T.put(B))}).next(()=>Be.waitFor(u))}si(e,r){const o=r.store("mutations"),u=Ao(this.serializer),f=new Dh(Ed.Hr,this.serializer.ct);return o.U().next(m=>{const T=new Map;return m.forEach(R=>{var B;let ee=null!==(B=T.get(R.userId))&&void 0!==B?B:zn();pe(this.serializer,R).keys().forEach(ce=>ee=ee.add(ce)),T.set(R.userId,ee)}),Be.forEach(T,(R,B)=>{const ee=new Xe(B),ce=va.lt(this.serializer,ee),Me=f.getIndexManager(ee),st=fl.lt(ee,this.serializer,Me,f.referenceDelegate);return new ja(u,st,ce,Me).recalculateAndSaveOverlaysForDocumentKeys(new Vo(r,O.oe),R).next()})})}}function Ah(a){a.createObjectStore("targetDocuments",{keyPath:Fr}).createIndex("documentTargetsIndex",Wn,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$i,{unique:!0}),a.createObjectStore("targetGlobal")}const Id="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class oo{constructor(e,r,o,u,f,m,T,R,B,ee,ce=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.oi=f,this.window=m,this.document=T,this._i=B,this.ai=ee,this.ui=ce,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Me=>Promise.resolve(),!oo.D())throw new se(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Th(this,u),this.Ti=r+"main",this.serializer=new C(R),this.Ei=new J(this.Ti,this.ui,new Yu(this.serializer)),this.Qr=new wh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ao(this.serializer),this.$r=new Br,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ee&&Ht("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new se(le.FAILED_PRECONDITION,Id);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new O(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var o=(0,l.Z)(function*(u){if(r.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,l.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,l.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$a(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Tn(e))return ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Nc(e).get("owner").next(r=>Be.resolve(this.Si(r)))}bi(e){return $a(e).delete(this.clientId)}Di(){var e=this;return(0,l.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Wr(o,"clientMetadata");return u.U().next(f=>{const m=e.vi(f,18e5),T=f.filter(R=>-1===m.indexOf(R));return Be.forEach(T,R=>u.delete(R.clientId)).next(()=>T)})}).catch(()=>[]);if(e.di)for(const o of r)e.di.removeItem(e.Fi(o.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Be.resolve(!0):Nc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new se(le.FAILED_PRECONDITION,Id);return!1}}return!(!this.networkEnabled||!this.inForeground)||$a(e).U().next(o=>void 0===this.vi(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&ge("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,l.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new Vo(r,O.oe);return e.yi(o).next(()=>e.bi(o))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(o=>this.Ci(o.updateTimeMs,r)&&!this.Mi(o.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>$a(e).U().next(r=>this.vi(r,18e5).map(o=>o.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return fl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new io(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return va.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,o){ge("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",f=16===(R=this.ui)?oi:15===R?Lo:14===R?lr:13===R?ho:12===R?ci:11===R?fr:void $e();var R;let m;return this.Ei.runTransaction(e,u,f,T=>(m=new Vo(T,this.kr?this.kr.next():O.oe),"readwrite-primary"===r?this.gi(m).next(R=>!!R||this.pi(m)).next(R=>{if(!R)throw Ht(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new se(le.FAILED_PRECONDITION,$n);return o(m)}).next(R=>this.wi(m).next(()=>R)):this.ki(m).next(()=>o(m)))).then(T=>(m.raiseOnCommittedEvent(),T))}ki(e){return Nc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new se(le.FAILED_PRECONDITION,Id)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nc(e).put("owner",r)}static D(){return J.D()}yi(e){const r=Nc(e);return r.get("owner").next(o=>this.Si(o)?(ge("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Be.resolve())}Ci(e,r){const o=Date.now();return!(e<o-r||e>o&&(Ht(`Detected an update time that is in the future: ${e} > ${o}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,me.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const o=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return ge("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ht("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ht("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Nc(a){return Wr(a,"owner")}function $a(a){return Wr(a,"clientMetadata")}function Cd(a,e){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+e+"/"+r+"/"}class us{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.qi=o,this.Qi=u}static Ki(e,r){let o=zn(),u=zn();for(const f of r.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new us(e,r.fromCache,o,u)}}class Ha{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wd{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,me.G6)()?8:ye((0,me.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,o,u){const f={result:null};return this.ji(e,r).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.Hi(e,r,u,o).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new Ha;return this.Ji(e,r,m).next(T=>{if(f.result=T,this.Ui)return this.Yi(e,r,m,T.size)})}).next(()=>f.result)}Yi(e,r,o,u){return o.documentReadCount<this.Wi?(yt()<=Ce.in.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",no(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Be.resolve()):(yt()<=Ce.in.DEBUG&&ge("QueryEngine","Query:",no(r),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Gi*u?(yt()<=Ce.in.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",no(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,G(r))):Be.resolve())}ji(e,r){if(Cs(r))return Be.resolve(null);let o=G(r);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=fn(r,null,"F"),o=G(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(f=>{const m=zn(...f);return this.zi.getDocuments(e,m).next(T=>this.indexManager.getMinOffset(e,o).next(R=>{const B=this.Zi(r,T);return this.Xi(r,B,m,R.readTime)?this.ji(e,fn(r,null,"F")):this.es(e,B,r,R)}))})))}Hi(e,r,o,u){return Cs(r)||u.isEqual(Nt.min())?Be.resolve(null):this.zi.getDocuments(e,o).next(f=>{const m=this.Zi(r,f);return this.Xi(r,m,o,u)?Be.resolve(null):(yt()<=Ce.in.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),no(r)),this.es(e,m,r,Or(u,-1)).next(T=>T))})}Zi(e,r){let o=new _r(po(e));return r.forEach((u,f)=>{xi(e,f)&&(o=o.add(f))}),o}Xi(e,r,o,u){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const f="F"===e.limitType?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ji(e,r,o){return yt()<=Ce.in.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",no(r)),this.zi.getDocumentsMatchingQuery(e,r,Xt.min(),o)}es(e,r,o,u){return this.zi.getDocumentsMatchingQuery(e,o,u).next(f=>(r.forEach(m=>{f=f.insert(m.key,m)}),f))}}class ml{constructor(e,r,o,u){this.persistence=e,this.ts=r,this.serializer=u,this.ns=new rr(xt),this.rs=new go(f=>fo(f),Wo),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(o)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ja(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Qu(a,e,r,o){return new ml(a,e,r,o)}function Sh(a,e){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,l.Z)(function*(a,e){const r=Pe(a);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.mutationQueue.getAllMutationBatches(o).next(f=>(u=f,r._s(e),r.mutationQueue.getAllMutationBatches(o))).next(f=>{const m=[],T=[];let R=zn();for(const B of u){m.push(B.batchId);for(const ee of B.mutations)R=R.add(ee.key)}for(const B of f){T.push(B.batchId);for(const ee of B.mutations)R=R.add(ee.key)}return r.localDocuments.getDocuments(o,R).next(B=>({us:B,removedBatchIds:m,addedBatchIds:T}))})})})).apply(this,arguments)}function ap(a){const e=Pe(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function _l(a,e,r){let o=zn(),u=zn();return r.forEach(f=>o=o.add(f)),e.getEntries(a,o).next(f=>{let m=Vr();return r.forEach((T,R)=>{const B=f.get(T);R.isFoundDocument()!==B.isFoundDocument()&&(u=u.add(T)),R.isNoDocument()&&R.version.isEqual(Nt.min())?(e.removeEntry(T,R.readTime),m=m.insert(T,R)):!B.isValidDocument()||R.version.compareTo(B.version)>0||0===R.version.compareTo(B.version)&&B.hasPendingWrites?(e.addEntry(R),m=m.insert(T,R)):ge("LocalStore","Ignoring outdated watch update for ",T,". Current version:",B.version," Watch version:",R.version)}),{cs:m,ls:u}})}function Ju(a,e){const r=Pe(a);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function kc(a,e){const r=Pe(a);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.Qr.getTargetData(o,e).next(f=>f?(u=f,Be.resolve(u)):r.Qr.allocateTargetId(o).next(m=>(u=new ss(e,m,"TargetPurposeListen",o.currentSequenceNumber),r.Qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.ns.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ns=r.ns.insert(o.targetId,o),r.rs.set(e,o.targetId)),o})}function wa(a,e,r){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(a,e,r){const o=Pe(a),u=o.ns.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",f,m=>o.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!Tn(m))throw m;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.ns=o.ns.remove(e),o.rs.delete(u.target)})).apply(this,arguments)}function yl(a,e,r){const o=Pe(a);let u=Nt.min(),f=zn();return o.persistence.runTransaction("Execute query","readwrite",m=>function(R,B,ee){const ce=Pe(R),Me=ce.rs.get(ee);return void 0!==Me?Be.resolve(ce.ns.get(Me)):ce.Qr.getTargetData(B,ee)}(o,m,G(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Qr.getMatchingKeysForTargetId(m,T.targetId).next(R=>{f=R})}).next(()=>o.ts.getDocumentsMatchingQuery(m,e,r?u:Nt.min(),r?f:zn())).next(T=>(Td(o,ts(e),T),{documents:T,hs:f})))}function vl(a,e){const r=Pe(a),o=Pe(r.Qr),u=r.ns.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",f=>o.ot(f,e).next(m=>m?m.target:null))}function Mh(a,e){const r=Pe(a),o=r.ss.get(e)||Nt.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.os.getAllFromCollectionGroup(u,e,Or(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Td(r,e,u),u))}function Td(a,e,r){let o=a.ss.get(e)||Nt.min();r.forEach((u,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),a.ss.set(e,o)}function mu(){return(mu=(0,l.Z)(function*(a,e,r,o){const u=Pe(a);let f=zn(),m=Vr();for(const B of r){const ee=e.Ps(B.metadata.name);B.document&&(f=f.add(ee));const ce=e.Is(B);ce.setReadTime(e.Ts(B.metadata.readTime)),m=m.insert(ee,ce)}const T=u.os.newChangeBuffer({trackRemovals:!0}),R=yield kc(u,(ee=o,G(Ar(tn.fromString(`__bundle__/docs/${ee}`)))));var ee;return u.persistence.runTransaction("Apply bundle documents","readwrite",B=>_l(B,T,m).next(ee=>(T.apply(B),ee)).next(ee=>u.Qr.removeMatchingKeysForTargetId(B,R.targetId).next(()=>u.Qr.addMatchingKeys(B,f,R.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(B,ee.cs,ee.ls)).next(()=>ee.cs)))})).apply(this,arguments)}function El(a,e){return xh.apply(this,arguments)}function xh(){return(xh=(0,l.Z)(function*(a,e,r=zn()){const o=yield kc(a,G(ln(e.bundledQuery))),u=Pe(a);return u.persistence.runTransaction("Save named query","readwrite",f=>{const m=Ti(e.readTime);if(o.snapshotVersion.compareTo(m)>=0)return u.$r.saveNamedQuery(f,e);const T=o.withResumeToken(li.EMPTY_BYTE_STRING,m);return u.ns=u.ns.insert(T.targetId,T),u.Qr.updateTargetData(f,T).next(()=>u.Qr.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>u.Qr.addMatchingKeys(f,r,o.targetId)).next(()=>u.$r.saveNamedQuery(f,e))})})).apply(this,arguments)}function _u(a,e){return`firestore_clients_${a}_${e}`}function bd(a,e,r){let o=`firestore_mutations_${a}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Ta(a,e){return`firestore_targets_${a}_${e}`}class Lc{constructor(e,r,o,u){this.user=e,this.batchId=r,this.state=o,this.error=u}static Es(e,r,o){const u=JSON.parse(o);let f,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(f=new se(u.error.code,u.error.message))),m?new Lc(e,r,u.state,f):(Ht("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yu{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Es(e,r){const o=JSON.parse(r);let u,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new se(o.error.code,o.error.message))),f?new yu(e,o.state,u):(Ht("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xu{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,f=Ra();for(let m=0;u&&m<o.activeTargetIds.length;++m)u=gt(o.activeTargetIds[m]),f=f.add(o.activeTargetIds[m]);return u?new Xu(e,f):(Ht("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class ec{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new ec(r.clientId,r.onlineState):(Ht("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Il{constructor(){this.activeTargetIds=Ra()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dd{constructor(e,r,o,u,f){this.window=e,this.oi=r,this.persistenceKey=o,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new rr(xt),this.started=!1,this.ys=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.ws=_u(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Il),this.bs=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.Z)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Vs)continue;const f=e.getItem(_u(e.persistenceKey,u));if(f){const m=Xu.Es(u,f);m&&(e.ps=e.ps.insert(m.clientId,m))}}e.Ms();const o=e.storage.getItem(e.vs);if(o){const u=e.xs(o);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((o,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,o){this.Ls(e,r,o),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Ta(this.persistenceKey,e));if(o){const u=yu.Es(e,o);u&&(r=u.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ta(this.persistenceKey,e))}updateQueryState(e,r,o){this.qs(e,r,o)}handleUserChange(e,r,o){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return ge("SharedClientState","READ",e,r),r}setItem(e,r){ge("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const o=e;if(o.storageArea===this.storage){if(ge("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ws)return void Ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,l.Z)(function*(){if(r.started){if(null!==o.key)if(r.bs.test(o.key)){if(null==o.newValue){const u=r.$s(o.key);return r.Us(u,null)}{const u=r.Ws(o.key,o.newValue);if(u)return r.Us(u.clientId,u)}}else if(r.Ds.test(o.key)){if(null!==o.newValue){const u=r.Gs(o.key,o.newValue);if(u)return r.zs(u)}}else if(r.Cs.test(o.key)){if(null!==o.newValue){const u=r.js(o.key,o.newValue);if(u)return r.Hs(u)}}else if(o.key===r.vs){if(null!==o.newValue){const u=r.xs(o.newValue);if(u)return r.Os(u)}}else if(o.key===r.Ss){const u=function(m){let T=O.oe;if(null!=m)try{const R=JSON.parse(m);Tt("number"==typeof R),T=R}catch(R){Ht("SharedClientState","Failed to read sequence number from WebStorage",R)}return T}(o.newValue);u!==O.oe&&r.sequenceNumberHandler(u)}else if(o.key===r.Fs){const u=r.Js(o.newValue);yield Promise.all(u.map(f=>r.syncEngine.Ys(f)))}}else r.ys.push(o)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,o){const u=new Lc(this.currentUser,e,r,o),f=bd(this.persistenceKey,this.currentUser,e);this.setItem(f,u.ds())}Bs(e){const r=bd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,o){const u=Ta(this.persistenceKey,e),f=new yu(e,r,o);this.setItem(u,f.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const o=this.$s(e);return Xu.Es(o,r)}Gs(e,r){const o=this.Ds.exec(e),u=Number(o[1]);return Lc.Es(new Xe(void 0!==o[2]?o[2]:null),u,r)}js(e,r){const o=this.Cs.exec(e),u=Number(o[1]);return yu.Es(u,r)}xs(e){return ec.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,l.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const o=r?this.ps.insert(e,r):this.ps.remove(e),u=this.Ns(this.ps),f=this.Ns(o),m=[],T=[];return f.forEach(R=>{u.has(R)||m.push(R)}),u.forEach(R=>{f.has(R)||T.push(R)}),this.syncEngine.eo(m,T).then(()=>{this.ps=o})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Ra();return e.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class Oh{constructor(){this.no=new Il,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,o){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Il,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vu{io(e){}shutdown(){}}class tc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ad=null;function Nh(){return null===Ad?Ad=268435456+Math.round(2147483648*Math.random()):Ad++,"0x"+Ad.toString(16)}const v={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const p="WebChannelConnection";class w extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.wo=o+"://"+r.host,this.So=`projects/${u}/databases/${f}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Do(){return!1}Co(r,o,u,f,m){const T=Nh(),R=this.vo(r,o.toUriEncodedString());ge("RestConnection",`Sending RPC '${r}' ${T}:`,R,u);const B={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(B,f,m),this.Mo(r,R,B,u).then(ee=>(ge("RestConnection",`Received RPC '${r}' ${T}: `,ee),ee),ee=>{throw Jt("RestConnection",`RPC '${r}' ${T} failed with error: `,ee,"url: ",R,"request:",u),ee})}xo(r,o,u,f,m,T){return this.Co(r,o,u,f,m)}Fo(r,o,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ye,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((f,m)=>r[m]=f),u&&u.headers.forEach((f,m)=>r[m]=f)}vo(r,o){return`${this.wo}/v1/${o}:${v[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,o,u){const f=Nh();return new Promise((m,T)=>{const R=new Re;R.setWithCredentials(!0),R.listenOnce(Rt.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case vt.NO_ERROR:const ee=R.getResponseJson();ge(p,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(ee)),m(ee);break;case vt.TIMEOUT:ge(p,`RPC '${e}' ${f} timed out`),T(new se(le.DEADLINE_EXCEEDED,"Request time out"));break;case vt.HTTP_ERROR:const ce=R.getStatus();if(ge(p,`RPC '${e}' ${f} failed with status:`,ce,"response text:",R.getResponseText()),ce>0){let Me=R.getResponseJson();Array.isArray(Me)&&(Me=Me[0]);const st=Me?.error;if(st&&st.status&&st.message){const kt=function($t){const An=$t.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(An)>=0?An:le.UNKNOWN}(st.status);T(new se(kt,st.message))}else T(new se(le.UNKNOWN,"Server responded with status "+R.getStatus()))}else T(new se(le.UNAVAILABLE,"Connection failed."));break;default:$e()}}finally{ge(p,`RPC '${e}' ${f} completed.`)}});const B=JSON.stringify(u);ge(p,`RPC '${e}' ${f} sending request:`,u),R.send(r,"POST",B,o,15)})}Oo(e,r,o){const u=Nh(),f=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=qe(),T=sn(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},B=this.longPollingOptions.timeoutSeconds;void 0!==B&&(R.longPollingTimeout=Math.round(1e3*B)),this.useFetchStreams&&(R.xmlHttpFactory=new mt({})),this.Fo(R.initMessageHeaders,r,o),R.encodeInitMessageHeaders=!0;const ee=f.join("");ge(p,`Creating RPC '${e}' stream ${u}: ${ee}`,R);const ce=m.createWebChannel(ee,R);let Me=!1,st=!1;const kt=new h({lo:$t=>{st?ge(p,`Not sending because RPC '${e}' stream ${u} is closed:`,$t):(Me||(ge(p,`Opening RPC '${e}' stream ${u} transport.`),ce.open(),Me=!0),ge(p,`RPC '${e}' stream ${u} sending:`,$t),ce.send($t))},ho:()=>ce.close()}),Kt=($t,An,Bn)=>{$t.listen(An,Rn=>{try{Bn(Rn)}catch(dr){setTimeout(()=>{throw dr},0)}})};return Kt(ce,We.EventType.OPEN,()=>{st||(ge(p,`RPC '${e}' stream ${u} transport opened.`),kt.mo())}),Kt(ce,We.EventType.CLOSE,()=>{st||(st=!0,ge(p,`RPC '${e}' stream ${u} transport closed`),kt.po())}),Kt(ce,We.EventType.ERROR,$t=>{st||(st=!0,Jt(p,`RPC '${e}' stream ${u} transport errored:`,$t),kt.po(new se(le.UNAVAILABLE,"The operation could not be completed")))}),Kt(ce,We.EventType.MESSAGE,$t=>{var An;if(!st){const Bn=$t.data[0];Tt(!!Bn);const dr=Bn.error||(null===(An=Bn[0])||void 0===An?void 0:An.error);if(dr){ge(p,`RPC '${e}' stream ${u} received error:`,dr);const ui=dr.status;let Mr=function(Ve){const Je=ti[Ve];if(void 0!==Je)return Ec(Je)}(ui),Ke=dr.message;void 0===Mr&&(Mr=le.INTERNAL,Ke="Unknown error status: "+ui+" with message "+dr.message),st=!0,kt.po(new se(Mr,Ke)),ce.close()}else ge(p,`RPC '${e}' stream ${u} received:`,Bn),kt.yo(Bn)}}),Kt(T,bt.STAT_EVENT,$t=>{$t.stat===Vt.PROXY?ge(p,`RPC '${e}' stream ${u} detected buffering proxy`):$t.stat===Vt.NOPROXY&&ge(p,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{kt.fo()},0),kt}}function H(){return typeof window<"u"?window:null}function ne(){return typeof document<"u"?document:null}function Ne(a){return new dl(a,!0)}class lt{constructor(e,r,o=1e3,u=1.5,f=6e4){this.oi=e,this.timerId=r,this.No=o,this.Lo=u,this.Bo=f,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),o=Math.max(0,Date.now()-this.Qo),u=Math.max(0,r-o);u>0&&ge("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Lt{constructor(e,r,o,u,f,m,T,R){this.oi=e,this.Go=o,this.zo=u,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=T,this.listener=R,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new lt(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,l.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,l.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var o=this;return(0,l.Z)(function*(){o.s_(),o.o_(),o.Yo.cancel(),o.jo++,4!==e?o.Yo.reset():r&&r.code===le.RESOURCE_EXHAUSTED?(Ht(r.toString()),Ht("Using maximum backoff delay to prevent overloading the backend."),o.Yo.Ko()):r&&r.code===le.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.__(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.jo===r&&this.u_(o,u)},o=>{e(()=>{const u=new se(le.UNKNOWN,"Fetching auth token failed: "+o.message);return this.c_(u)})})}u_(e,r){const o=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{o(()=>this.listener.Po())}),this.stream.To(()=>{o(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{o(()=>this.c_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}e_(){var e=this;this.state=5,this.Yo.$o((0,l.Z)(function*(){e.state=0,e.start()}))}c_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class In extends Lt{constructor(e,r,o,u,f,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,m),this.serializer=f}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Oa(a,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:$e(),u=e.targetChange.targetIds||[],f=function(B,ee){return B.useProto3Json?(Tt(void 0===ee||"string"==typeof ee),li.fromBase64String(ee||"")):(Tt(void 0===ee||ee instanceof Buffer||ee instanceof Uint8Array),li.fromUint8Array(ee||new Uint8Array))}(a,e.targetChange.resumeToken),m=e.targetChange.cause,T=m&&function(B){const ee=void 0===B.code?le.UNKNOWN:Ec(B.code);return new se(ee,B.message||"")}(m);r=new rs(o,u,f,T||null)}else if("documentChange"in e){const o=e.documentChange,u=is(a,o.document.name),f=Ti(o.document.updateTime),m=o.document.createTime?Ti(o.document.createTime):Nt.min(),T=new Qr({mapValue:{fields:o.document.fields}}),R=j.newFoundDocument(u,f,m,T);r=new Ma(o.targetIds||[],o.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const o=e.documentDelete,u=is(a,o.document),f=o.readTime?Ti(o.readTime):Nt.min(),m=j.newNoDocument(u,f);r=new Ma([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,u=is(a,o.document);r=new Ma([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return $e();{const o=e.filter,{count:u=0,unchangedNames:f}=o,m=new To(u,f);r=new ou(o.targetId,m)}}var B;return r}(this.serializer,e),o=function(f){if(!("targetChange"in f))return Nt.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?Nt.min():m.readTime?Ti(m.readTime):Nt.min()}(e);return this.listener.h_(r,o)}P_(e){const r={};r.database=br(this.serializer),r.addTarget=function(f,m){let T;const R=m.target;if(T=aa(R)?{documents:Ac(f,R)}:{query:Gu(f,R)._t},T.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){T.resumeToken=Dc(f,m.resumeToken);const B=xa(f,m.expectedCount);null!==B&&(T.expectedCount=B)}else if(m.snapshotVersion.compareTo(Nt.min())>0){T.readTime=_o(f,m.snapshotVersion.toTimestamp());const B=xa(f,m.expectedCount);null!==B&&(T.expectedCount=B)}return T}(this.serializer,e);const o=function jo(a,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.i_(r)}I_(e){const r={};r.database=br(this.serializer),r.removeTarget=e,this.i_(r)}}class Un extends Lt{constructor(e,r,o,u,f,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,m),this.serializer=f,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Na(a,e){return a&&a.length>0?(Tt(void 0!==e),a.map(r=>function(u,f){let m=Ti(u.updateTime?u.updateTime:f);return m.isEqual(Nt.min())&&(m=Ti(f)),new ru(m,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Ti(e.commitTime);return this.listener.A_(o,r)}return Tt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=br(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Do(this.serializer,o))};this.i_(r)}}class Rr extends class{}{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new se(le.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,o,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,au(r,o),u,f,m)).catch(f=>{throw"FirebaseError"===f.name?(f.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se(le.UNKNOWN,f.toString())})}xo(e,r,o,u,f){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,T])=>this.connection.xo(e,au(r,o),u,m,T,f)).catch(m=>{throw"FirebaseError"===m.name?(m.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new se(le.UNKNOWN,m.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class _s{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ht(r),this.y_=!1):ge("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class za{constructor(e,r,o,u,f){var m=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=f,this.O_.io(T=>{o.enqueueAndForget((0,l.Z)(function*(){var R;Wa(m)&&(ge("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,l.Z)(function*(ee){const ce=Pe(ee);ce.M_.add(4),yield Eu(ce),ce.N_.set("Unknown"),ce.M_.delete(4),yield Ga(ce)}),function B(ee){return R.apply(this,arguments)})(m))}))}),this.N_=new _s(o,u)}}function Ga(a){return nc.apply(this,arguments)}function nc(){return(nc=(0,l.Z)(function*(a){if(Wa(a))for(const e of a.x_)yield e(!0)})).apply(this,arguments)}function Eu(a){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,l.Z)(function*(a){for(const e of a.x_)yield e(!1)})).apply(this,arguments)}function Iu(a,e){const r=Pe(a);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Rd(r)?Cl(r):Sl(r).Xo()&&Pd(r,e))}function Cu(a,e){const r=Pe(a),o=Sl(r);r.F_.delete(e),o.Xo()&&kh(r,e),0===r.F_.size&&(o.Xo()?o.n_():Wa(r)&&r.N_.set("Unknown"))}function Pd(a,e){if(a.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Sl(a).P_(e)}function kh(a,e){a.L_.xe(e),Sl(a).I_(e)}function Cl(a){a.L_=new su({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.F_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),Sl(a).start(),a.N_.w_()}function Rd(a){return Wa(a)&&!Sl(a).Zo()&&a.F_.size>0}function Wa(a){return 0===Pe(a).M_.size}function wu(a){a.L_=void 0}function wl(a){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,l.Z)(function*(a){a.N_.set("Online")})).apply(this,arguments)}function Kg(a){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,l.Z)(function*(a){a.F_.forEach((e,r)=>{Pd(a,e)})})).apply(this,arguments)}function Tl(a,e){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,l.Z)(function*(a,e){wu(a),Rd(a)?(a.N_.D_(e),Cl(a)):a.N_.set("Unknown")})).apply(this,arguments)}function Yg(a,e,r){return bl.apply(this,arguments)}function bl(){return bl=(0,l.Z)(function*(a,e,r){if(a.N_.set("Online"),e instanceof rs&&2===e.state&&e.cause)try{yield(o=(0,l.Z)(function*(f,m){const T=m.cause;for(const R of m.targetIds)f.F_.has(R)&&(yield f.remoteSyncer.rejectListen(R,T),f.F_.delete(R),f.L_.removeTarget(R))}),function u(f,m){return o.apply(this,arguments)})(a,e)}catch(o){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Vc(a,o)}else if(e instanceof Ma?a.L_.Ke(e):e instanceof ou?a.L_.He(e):a.L_.We(e),!r.isEqual(Nt.min()))try{const o=yield ap(a.localStore);r.compareTo(o)>=0&&(yield function(f,m){const T=f.L_.rt(m);return T.targetChanges.forEach((R,B)=>{if(R.resumeToken.approximateByteSize()>0){const ee=f.F_.get(B);ee&&f.F_.set(B,ee.withResumeToken(R.resumeToken,m))}}),T.targetMismatches.forEach((R,B)=>{const ee=f.F_.get(R);if(!ee)return;f.F_.set(R,ee.withResumeToken(li.EMPTY_BYTE_STRING,ee.snapshotVersion)),kh(f,R);const ce=new ss(ee.target,R,B,ee.sequenceNumber);Pd(f,ce)}),f.remoteSyncer.applyRemoteEvent(T)}(a,r))}catch(o){ge("RemoteStore","Failed to raise snapshot:",o),yield Vc(a,o)}var o}),bl.apply(this,arguments)}function Vc(a,e,r){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,l.Z)(function*(a,e,r){if(!Tn(e))throw e;a.M_.add(1),yield Eu(a),a.N_.set("Offline"),r||(r=()=>ap(a.localStore)),a.asyncQueue.enqueueRetryable((0,l.Z)(function*(){ge("RemoteStore","Retrying IndexedDB access"),yield r(),a.M_.delete(1),yield Ga(a)}))})).apply(this,arguments)}function Qg(a,e){return e().catch(r=>Vc(a,r,e))}function Al(a){return cp.apply(this,arguments)}function cp(){return(cp=(0,l.Z)(function*(a){const e=Pe(a),r=Tu(e);let o=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Jg(e);)try{const u=yield Ju(e.localStore,o);if(null===u){0===e.v_.length&&r.n_();break}o=u.batchId,lp(e,u)}catch(u){yield Vc(e,u)}Xg(e)&&em(e)})).apply(this,arguments)}function Jg(a){return Wa(a)&&a.v_.length<10}function lp(a,e){a.v_.push(e);const r=Tu(a);r.Xo()&&r.E_&&r.d_(e.mutations)}function Xg(a){return Wa(a)&&!Tu(a).Zo()&&a.v_.length>0}function em(a){Tu(a).start()}function K_(a){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,l.Z)(function*(a){Tu(a).V_()})).apply(this,arguments)}function Y_(a){return dp.apply(this,arguments)}function dp(){return(dp=(0,l.Z)(function*(a){const e=Tu(a);for(const r of a.v_)e.d_(r.mutations)})).apply(this,arguments)}function ks(a,e,r){return Md.apply(this,arguments)}function Md(){return(Md=(0,l.Z)(function*(a,e,r){const o=a.v_.shift(),u=Ki.from(o,e,r);yield Qg(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield Al(a)})).apply(this,arguments)}function tm(a,e){return xd.apply(this,arguments)}function xd(){return xd=(0,l.Z)(function*(a,e){var r;e&&Tu(a).E_&&(yield(r=(0,l.Z)(function*(u,f){if(Bo(T=f.code)&&T!==le.ABORTED){const m=u.v_.shift();Tu(u).t_(),yield Qg(u,()=>u.remoteSyncer.rejectFailedWrite(m.batchId,f)),yield Al(u)}var T}),function o(u,f){return r.apply(this,arguments)})(a,e)),Xg(a)&&em(a)}),xd.apply(this,arguments)}function Ko(a,e){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,l.Z)(function*(a,e){const r=Pe(a);r.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const o=Wa(r);r.M_.add(3),yield Eu(r),o&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Ga(r)})).apply(this,arguments)}function Bh(a,e){return jh.apply(this,arguments)}function jh(){return(jh=(0,l.Z)(function*(a,e){const r=Pe(a);e?(r.M_.delete(2),yield Ga(r)):e||(r.M_.add(2),yield Eu(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Sl(a){return a.B_||(a.B_=function(r,o,u){const f=Pe(r);return f.f_(),new In(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Po:wl.bind(null,a),To:Kg.bind(null,a),Ao:Tl.bind(null,a),h_:Yg.bind(null,a)}),a.x_.push(function(){var e=(0,l.Z)(function*(r){r?(a.B_.t_(),Rd(a)?Cl(a):a.N_.set("Unknown")):(yield a.B_.stop(),wu(a))});return function(r){return e.apply(this,arguments)}}())),a.B_}function Tu(a){return a.k_||(a.k_=function(r,o,u){const f=Pe(r);return f.f_(),new Un(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Po:()=>Promise.resolve(),To:K_.bind(null,a),Ao:tm.bind(null,a),R_:Y_.bind(null,a),A_:ks.bind(null,a)}),a.x_.push(function(){var e=(0,l.Z)(function*(r){r?(a.k_.t_(),yield Al(a)):(yield a.k_.stop(),a.v_.length>0&&(ge("RemoteStore",`Stopping write stream with ${a.v_.length} pending writes`),a.v_=[]))});return function(r){return e.apply(this,arguments)}}())),a.k_}class hp{constructor(e,r,o,u,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new Ae,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,u,f){const m=Date.now()+o,T=new hp(e,r,m,u,f);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new se(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bc(a,e){if(Ht("AsyncQueue",`${e}: ${a}`),Tn(a))return new se(le.UNAVAILABLE,`${e}: ${a}`);throw a}class Pl{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Ot.comparator(r.key,o.key):(r,o)=>Ot.comparator(r.key,o.key),this.keyedMap=Oi(),this.sortedSet=new rr(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Pl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class fp{constructor(){this.q_=new rr(Ot.comparator)}track(e){const r=e.doc.key,o=this.q_.get(r);o?0!==e.type&&3===o.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==o.type?this.q_=this.q_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.q_=this.q_.remove(r):1===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):$e():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,o)=>{e.push(o)}),e}}class Rl{constructor(e,r,o,u,f,m,T,R,B){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=T,this.excludesMetadataChanges=R,this.hasCachedResults=B}static fromInitialDocuments(e,r,o,u,f){const m=[];return r.forEach(T=>{m.push({type:0,doc:T})}),new Rl(e,r,Pl.emptySet(r),m,o,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class Q_{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class pp{constructor(){this.queries=new go(e=>Mi(e),kn),this.onlineState="Unknown",this.z_=new Set}}function Od(a,e){return gp.apply(this,arguments)}function gp(){return(gp=(0,l.Z)(function*(a,e){const r=Pe(a);let o=3;const u=e.query;let f=r.queries.get(u);f?!f.W_()&&e.G_()&&(o=2):(f=new Q_,o=e.G_()?0:1);try{switch(o){case 0:f.K_=yield r.onListen(u,!0);break;case 1:f.K_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(m){const T=Bc(m,`Initialization of query '${no(e.query)}' failed`);return void e.onError(T)}r.queries.set(u,f),f.U_.push(e),e.j_(r.onlineState),f.K_&&e.H_(f.K_)&&$h(r)})).apply(this,arguments)}function jc(a,e){return mp.apply(this,arguments)}function mp(){return(mp=(0,l.Z)(function*(a,e){const r=Pe(a),o=e.query;let u=3;const f=r.queries.get(o);if(f){const m=f.U_.indexOf(e);m>=0&&(f.U_.splice(m,1),0===f.U_.length?u=e.G_()?0:1:!f.W_()&&e.G_()&&(u=2))}switch(u){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function J_(a,e){const r=Pe(a);let o=!1;for(const u of e){const m=r.queries.get(u.query);if(m){for(const T of m.U_)T.H_(u)&&(o=!0);m.K_=u}}o&&$h(r)}function nm(a,e,r){const o=Pe(a),u=o.queries.get(e);if(u)for(const f of u.U_)f.onError(r);o.queries.delete(e)}function $h(a){a.z_.forEach(e=>{e.next()})}var Hh,$c;($c=Hh||(Hh={})).J_="default",$c.Cache="cache";class Ml{constructor(e,r,o){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=o||{}}H_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Rl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Hh.Cache}}class rm{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class zh{constructor(e){this.serializer=e}Ps(e){return is(this.serializer,e)}Is(e){return e.metadata.exists?uo(this.serializer,e.document,!1):j.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ti(e)}}class Gh{constructor(e,r,o){this.oa=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=im(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const o=tn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,o=new zh(this.serializer);for(const u of e)if(u.metadata.queries){const f=o.Ps(u.metadata.name);for(const m of u.metadata.queries){const T=(r.get(m)||zn()).add(f);r.set(m,T)}}return r}complete(){var e=this;return(0,l.Z)(function*(){const r=yield function up(a,e,r,o){return mu.apply(this,arguments)}(e.localStore,new zh(e.serializer),e.documents,e.oa.id),o=e.aa(e.documents);for(const u of e.queries)yield El(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function im(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class om{constructor(e){this.key=e}}class sm{constructor(e){this.key=e}}class am{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=zn(),this.mutatedKeys=zn(),this.Ia=po(e),this.Ta=new Pl(this.Ia)}get Ea(){return this.la}da(e,r){const o=r?r.Aa:new fp,u=r?r.Ta:this.Ta;let f=r?r.mutatedKeys:this.mutatedKeys,m=u,T=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,B="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ee,ce)=>{const Me=u.get(ee),st=xi(this.query,ce)?ce:null,kt=!!Me&&this.mutatedKeys.has(Me.key),Kt=!!st&&(st.hasLocalMutations||this.mutatedKeys.has(st.key)&&st.hasCommittedMutations);let $t=!1;Me&&st?Me.data.isEqual(st.data)?kt!==Kt&&(o.track({type:3,doc:st}),$t=!0):this.Ra(Me,st)||(o.track({type:2,doc:st}),$t=!0,(R&&this.Ia(st,R)>0||B&&this.Ia(st,B)<0)&&(T=!0)):!Me&&st?(o.track({type:0,doc:st}),$t=!0):Me&&!st&&(o.track({type:1,doc:Me}),$t=!0,(R||B)&&(T=!0)),$t&&(st?(m=m.add(st),f=Kt?f.add(ee):f.delete(ee)):(m=m.delete(ee),f=f.delete(ee)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const ee="F"===this.query.limitType?m.last():m.first();m=m.delete(ee.key),f=f.delete(ee.key),o.track({type:1,doc:ee})}return{Ta:m,Aa:o,Xi:T,mutatedKeys:f}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,u){const f=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const m=e.Aa.Q_();m.sort((ee,ce)=>function(st,kt){const Kt=$t=>{switch($t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e()}};return Kt(st)-Kt(kt)}(ee.type,ce.type)||this.Ia(ee.doc,ce.doc)),this.Va(o),u=null!=u&&u;const T=r&&!u?this.ma():[],R=0===this.Pa.size&&this.current&&!u?1:0,B=R!==this.ha;return this.ha=R,0!==m.length||B?{snapshot:new Rl(this.query,e.Ta,f,m,e.mutatedKeys,0===R,B,!1,!!o&&o.resumeToken.approximateByteSize()>0),fa:T}:{fa:T}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new fp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=zn(),this.Ta.forEach(o=>{this.ga(o.key)&&(this.Pa=this.Pa.add(o.key))});const r=[];return e.forEach(o=>{this.Pa.has(o)||r.push(new sm(o))}),this.Pa.forEach(o=>{e.has(o)||r.push(new om(o))}),r}pa(e){this.la=e.hs,this.Pa=zn();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Rl.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class X_{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class ey{constructor(e){this.key=e,this.wa=!1}}class um{constructor(e,r,o,u,f,m){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.Sa={},this.ba=new go(T=>Mi(T),kn),this.Da=new Map,this.Ca=new Set,this.va=new rr(Ot.comparator),this.Fa=new Map,this.Ma=new gu,this.xa={},this.Oa=new Map,this.Na=Ia.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Wh(a,e){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,l.Z)(function*(a,e,r=!0){const o=af(a);let u;const f=o.ba.get(e);return f?(o.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.ya()):u=yield cm(o,e,r,!0),u})).apply(this,arguments)}function _p(a,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,l.Z)(function*(a,e){const r=af(a);yield cm(r,e,!0,!1)})).apply(this,arguments)}function cm(a,e,r,o){return kd.apply(this,arguments)}function kd(){return(kd=(0,l.Z)(function*(a,e,r,o){const u=yield kc(a.localStore,G(e)),f=u.targetId,m=r?a.sharedClientState.addLocalQueryTarget(f):"not-current";let T;return o&&(T=yield qh(a,e,f,"current"===m,u.resumeToken)),a.isPrimaryClient&&r&&Iu(a.remoteStore,u),T})).apply(this,arguments)}function qh(a,e,r,o,u){return bu.apply(this,arguments)}function bu(){return bu=(0,l.Z)(function*(a,e,r,o,u){a.Ba=(ce,Me,st)=>{return(kt=(0,l.Z)(function*($t,An,Bn,Rn){let dr=An.view.da(Bn);dr.Xi&&(dr=yield yl($t.localStore,An.query,!1).then(({documents:Te})=>An.view.da(Te,dr)));const ui=Rn&&Rn.targetChanges.get(An.targetId),Mr=Rn&&null!=Rn.targetMismatches.get(An.targetId),Ke=An.view.applyChanges(dr,$t.isPrimaryClient,ui,Mr);return Tp($t,An.targetId,Ke.fa),Ke.snapshot}),function Kt($t,An,Bn,Rn){return kt.apply(this,arguments)})(a,ce,Me,st);var kt};const f=yield yl(a.localStore,e,!0),m=new am(e,f.hs),T=m.da(f.documents),R=iu.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==a.onlineState,u),B=m.applyChanges(T,a.isPrimaryClient,R);Tp(a,r,B.fa);const ee=new X_(e,r,m);return a.ba.set(e,ee),a.Da.has(r)?a.Da.get(r).push(e):a.Da.set(r,[e]),B.snapshot}),bu.apply(this,arguments)}function lm(a,e,r){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,l.Z)(function*(a,e,r){const o=Pe(a),u=o.ba.get(e),f=o.Da.get(u.targetId);if(f.length>1)return o.Da.set(u.targetId,f.filter(m=>!kn(m,e))),void o.ba.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield wa(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),r&&Cu(o.remoteStore,u.targetId),xl(o,u.targetId)}).catch(Dn))):(xl(o,u.targetId),yield wa(o.localStore,u.targetId,!0))})).apply(this,arguments)}function ty(a,e){return dm.apply(this,arguments)}function dm(){return(dm=(0,l.Z)(function*(a,e){const r=Pe(a),o=r.ba.get(e),u=r.Da.get(o.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),Cu(r.remoteStore,o.targetId))})).apply(this,arguments)}function vp(){return(vp=(0,l.Z)(function*(a,e,r){const o=Op(a);try{const u=yield function(m,T){const R=Pe(m),B=Ut.now(),ee=T.reduce((st,kt)=>st.add(kt.key),zn());let ce,Me;return R.persistence.runTransaction("Locally write mutations","readwrite",st=>{let kt=Vr(),Kt=zn();return R.os.getEntries(st,ee).next($t=>{kt=$t,kt.forEach((An,Bn)=>{Bn.isValidDocument()||(Kt=Kt.add(An))})}).next(()=>R.localDocuments.getOverlayedDocuments(st,kt)).next($t=>{ce=$t;const An=[];for(const Bn of T){const Rn=ht(Bn,ce.get(Bn.key).overlayedDocument);null!=Rn&&An.push(new pr(Bn.key,Rn,q(Rn.value.mapValue),ei.exists(!0)))}return R.mutationQueue.addMutationBatch(st,B,An,T)}).next($t=>{Me=$t;const An=$t.applyToLocalDocumentSet(ce,Kt);return R.documentOverlayCache.saveOverlays(st,$t.batchId,An)})}).then(()=>({batchId:Me.batchId,changes:tu(ce)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(m,T,R){let B=m.xa[m.currentUser.toKey()];B||(B=new rr(xt)),B=B.insert(T,R),m.xa[m.currentUser.toKey()]=B}(o,u.batchId,r),yield qa(o,u.changes),yield Al(o.remoteStore)}catch(u){const f=Bc(u,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function Ep(a,e){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,l.Z)(function*(a,e){const r=Pe(a);try{const o=yield function ms(a,e){const r=Pe(a),o=e.snapshotVersion;let u=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=r.os.newChangeBuffer({trackRemovals:!0});u=r.ns;const T=[];e.targetChanges.forEach((ee,ce)=>{const Me=u.get(ce);if(!Me)return;T.push(r.Qr.removeMatchingKeys(f,ee.removedDocuments,ce).next(()=>r.Qr.addMatchingKeys(f,ee.addedDocuments,ce)));let st=Me.withSequenceNumber(f.currentSequenceNumber);var Kt,$t,An;null!==e.targetMismatches.get(ce)?st=st.withResumeToken(li.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):ee.resumeToken.approximateByteSize()>0&&(st=st.withResumeToken(ee.resumeToken,o)),u=u.insert(ce,st),$t=st,An=ee,(0===(Kt=Me).resumeToken.approximateByteSize()||$t.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||An.addedDocuments.size+An.modifiedDocuments.size+An.removedDocuments.size>0)&&T.push(r.Qr.updateTargetData(f,st))});let R=Vr(),B=zn();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&T.push(r.persistence.referenceDelegate.updateLimboDocument(f,ee))}),T.push(_l(f,m,e.documentUpdates).next(ee=>{R=ee.cs,B=ee.ls})),!o.isEqual(Nt.min())){const ee=r.Qr.getLastRemoteSnapshotVersion(f).next(ce=>r.Qr.setTargetsMetadata(f,f.currentSequenceNumber,o));T.push(ee)}return Be.waitFor(T).next(()=>m.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,R,B)).next(()=>R)}).then(f=>(r.ns=u,f))}(r.localStore,e);e.targetChanges.forEach((u,f)=>{const m=r.Fa.get(f);m&&(Tt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.wa=!0:u.modifiedDocuments.size>0?Tt(m.wa):u.removedDocuments.size>0&&(Tt(m.wa),m.wa=!1))}),yield qa(r,o,e)}catch(o){yield Dn(o)}})).apply(this,arguments)}function Ip(a,e,r){const o=Pe(a);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.ba.forEach((f,m)=>{const T=m.view.j_(e);T.snapshot&&u.push(T.snapshot)}),function(m,T){const R=Pe(m);R.onlineState=T;let B=!1;R.queries.forEach((ee,ce)=>{for(const Me of ce.U_)Me.j_(T)&&(B=!0)}),B&&$h(R)}(o.eventManager,e),u.length&&o.Sa.h_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Cp(a,e,r){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,l.Z)(function*(a,e,r){const o=Pe(a);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.Fa.get(e),f=u&&u.key;if(f){let m=new rr(Ot.comparator);m=m.insert(f,j.newNoDocument(f,Nt.min()));const T=zn().add(f),R=new ri(Nt.min(),new Map,new rr(xt),m,T);yield Ep(o,R),o.va=o.va.remove(f),o.Fa.delete(e),bp(o)}else yield wa(o.localStore,e,!1).then(()=>xl(o,e,r)).catch(Dn)})).apply(this,arguments)}function Jh(a,e){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.Z)(function*(a,e){const r=Pe(a),o=e.batch.batchId;try{const u=yield function Rh(a,e){const r=Pe(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),f=r.os.newChangeBuffer({trackRemovals:!0});return function(T,R,B,ee){const ce=B.batch,Me=ce.keys();let st=Be.resolve();return Me.forEach(kt=>{st=st.next(()=>ee.getEntry(R,kt)).next(Kt=>{const $t=B.docVersions.get(kt);Tt(null!==$t),Kt.version.compareTo($t)<0&&(ce.applyToRemoteDocument(Kt,B),Kt.isValidDocument()&&(Kt.setReadTime(B.commitVersion),ee.addEntry(Kt)))})}),st.next(()=>T.mutationQueue.removeMutationBatch(R,ce))}(r,o,e,f).next(()=>f.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(T){let R=zn();for(let B=0;B<T.mutationResults.length;++B)T.mutationResults[B].transformResults.length>0&&(R=R.add(T.batch.mutations[B].key));return R}(e))).next(()=>r.localDocuments.getDocuments(o,u))})}(r.localStore,e);zc(r,o,null),Ld(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield qa(r,u)}catch(u){yield Dn(u)}})).apply(this,arguments)}function hm(a,e,r){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,l.Z)(function*(a,e,r){const o=Pe(a);try{const u=yield function(m,T){const R=Pe(m);return R.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let ee;return R.mutationQueue.lookupMutationBatch(B,T).next(ce=>(Tt(null!==ce),ee=ce.keys(),R.mutationQueue.removeMutationBatch(B,ce))).next(()=>R.mutationQueue.performConsistencyCheck(B)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(B,ee,T)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,ee)).next(()=>R.localDocuments.getDocuments(B,ee))})}(o.localStore,e);zc(o,e,r),Ld(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield qa(o,u)}catch(u){yield Dn(u)}})).apply(this,arguments)}function ef(){return(ef=(0,l.Z)(function*(a,e){const r=Pe(a);Wa(r.remoteStore)||ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const T=Pe(m);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>T.mutationQueue.getHighestUnacknowledgedBatchId(R))}(r.localStore);if(-1===o)return void e.resolve();const u=r.Oa.get(o)||[];u.push(e),r.Oa.set(o,u)}catch(o){const u=Bc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function Ld(a,e){(a.Oa.get(e)||[]).forEach(r=>{r.resolve()}),a.Oa.delete(e)}function zc(a,e,r){const o=Pe(a);let u=o.xa[o.currentUser.toKey()];if(u){const f=u.get(e);f&&(r?f.reject(r):f.resolve(),u=u.remove(e)),o.xa[o.currentUser.toKey()]=u}}function xl(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const o of a.Da.get(e))a.ba.delete(o),r&&a.Sa.ka(o,r);a.Da.delete(e),a.isPrimaryClient&&a.Ma.Vr(e).forEach(o=>{a.Ma.containsKey(o)||wp(a,o)})}function wp(a,e){a.Ca.delete(e.path.canonicalString());const r=a.va.get(e);null!==r&&(Cu(a.remoteStore,r),a.va=a.va.remove(e),a.Fa.delete(r),bp(a))}function Tp(a,e,r){for(const o of r)o instanceof om?(a.Ma.addReference(o.key,e),ny(a,o)):o instanceof sm?(ge("SyncEngine","Document no longer in limbo: "+o.key),a.Ma.removeReference(o.key,e),a.Ma.containsKey(o.key)||wp(a,o.key)):$e()}function ny(a,e){const r=e.key,o=r.path.canonicalString();a.va.get(r)||a.Ca.has(o)||(ge("SyncEngine","New document in limbo: "+r),a.Ca.add(o),bp(a))}function bp(a){for(;a.Ca.size>0&&a.va.size<a.maxConcurrentLimboResolutions;){const e=a.Ca.values().next().value;a.Ca.delete(e);const r=new Ot(tn.fromString(e)),o=a.Na.next();a.Fa.set(o,new ey(r)),a.va=a.va.insert(r,o),Iu(a.remoteStore,new ss(G(Ar(r.path)),o,"TargetPurposeLimboResolution",O.oe))}}function qa(a,e,r){return tf.apply(this,arguments)}function tf(){return tf=(0,l.Z)(function*(a,e,r){const o=Pe(a),u=[],f=[],m=[];var T;o.ba.isEmpty()||(o.ba.forEach((T,R)=>{m.push(o.Ba(R,e,r).then(B=>{if((B||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(R.targetId,B&&!B.fromCache?"current":"not-current"),B){u.push(B);const ee=us.Ki(R.targetId,B);f.push(ee)}}))}),yield Promise.all(m),o.Sa.h_(u),yield(T=(0,l.Z)(function*(B,ee){const ce=Pe(B);try{yield ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",Me=>Be.forEach(ee,st=>Be.forEach(st.qi,kt=>ce.persistence.referenceDelegate.addReference(Me,st.targetId,kt)).next(()=>Be.forEach(st.Qi,kt=>ce.persistence.referenceDelegate.removeReference(Me,st.targetId,kt)))))}catch(Me){if(!Tn(Me))throw Me;ge("LocalStore","Failed to update sequence numbers: "+Me)}for(const Me of ee){const st=Me.targetId;if(!Me.fromCache){const kt=ce.ns.get(st),$t=kt.withLastLimboFreeSnapshotVersion(kt.snapshotVersion);ce.ns=ce.ns.insert(st,$t)}}}),function R(B,ee){return T.apply(this,arguments)})(o.localStore,f))}),tf.apply(this,arguments)}function nf(a,e){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,l.Z)(function*(a,e){const r=Pe(a);if(!r.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const o=yield Sh(r.localStore,e);r.currentUser=e,(f=r).Oa.forEach(T=>{T.forEach(R=>{R.reject(new se(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Oa.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield qa(r,o.us)}var f})).apply(this,arguments)}function Ol(a,e){const r=Pe(a),o=r.Fa.get(e);if(o&&o.wa)return zn().add(o.key);{let u=zn();const f=r.Da.get(e);if(!f)return u;for(const m of f){const T=r.ba.get(m);u=u.unionWith(T.view.Ea)}return u}}function ry(a,e){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,l.Z)(function*(a,e){const r=Pe(a),o=yield yl(r.localStore,e.query,!0),u=e.view.pa(o);return r.isPrimaryClient&&Tp(r,e.targetId,u.fa),u})).apply(this,arguments)}function iE(a,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,l.Z)(function*(a,e){const r=Pe(a);return Mh(r.localStore,e).then(o=>qa(r,o))})).apply(this,arguments)}function Sp(a,e,r,o){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,l.Z)(function*(a,e,r,o){const u=Pe(a),f=yield function(T,R){const B=Pe(T),ee=Pe(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",ce=>ee.vn(ce,R).next(Me=>Me?B.localDocuments.getDocuments(ce,Me):Be.resolve(null)))}(u.localStore,e);var R;null!==f?("pending"===r?yield Al(u.remoteStore):"acknowledged"===r||"rejected"===r?(zc(u,e,o||null),Ld(u,e),R=e,Pe(Pe(u.localStore).mutationQueue).Mn(R)):$e(),yield qa(u,f)):ge("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function kl(){return(kl=(0,l.Z)(function*(a,e){const r=Pe(a);if(af(r),Op(r),!0===e&&!0!==r.La){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield rf(r,o.toArray());r.La=!0,yield Bh(r.remoteStore,!0);for(const f of u)Iu(r.remoteStore,f)}else if(!1===e&&!1!==r.La){const o=[];let u=Promise.resolve();r.Da.forEach((f,m)=>{r.sharedClientState.isLocalQueryTarget(m)?o.push(m):u=u.then(()=>(xl(r,m),wa(r.localStore,m,!0))),Cu(r.remoteStore,m)}),yield u,yield rf(r,o),function(m){const T=Pe(m);T.Fa.forEach((R,B)=>{Cu(T.remoteStore,B)}),T.Ma.mr(),T.Fa=new Map,T.va=new rr(Ot.comparator)}(r),r.La=!1,yield Bh(r.remoteStore,!1)}})).apply(this,arguments)}function rf(a,e,r){return sf.apply(this,arguments)}function sf(){return(sf=(0,l.Z)(function*(a,e,r){const o=Pe(a),u=[],f=[];for(const m of e){let T;const R=o.Da.get(m);if(R&&0!==R.length){T=yield kc(o.localStore,G(R[0]));for(const B of R){const ee=o.ba.get(B),ce=yield ry(o,ee);ce.snapshot&&f.push(ce.snapshot)}}else{const B=yield vl(o.localStore,m);T=yield kc(o.localStore,B),yield qh(o,Rp(B),m,!1,T.resumeToken)}u.push(T)}return o.Sa.h_(f),u})).apply(this,arguments)}function Rp(a){return Pa(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function fm(a){return r=Pe(a).localStore,Pe(Pe(r).persistence).Bi();var r}function pm(a,e,r,o){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,l.Z)(function*(a,e,r,o){const u=Pe(a);if(u.La)return void ge("SyncEngine","Ignoring unexpected query state notification.");const f=u.Da.get(e);if(f&&f.length>0)switch(r){case"current":case"not-current":{const m=yield Mh(u.localStore,ts(f[0])),T=ri.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,li.EMPTY_BYTE_STRING);yield qa(u,m,T);break}case"rejected":yield wa(u.localStore,e,!0),xl(u,e,o);break;default:$e()}})).apply(this,arguments)}function iy(a,e,r){return xp.apply(this,arguments)}function xp(){return(xp=(0,l.Z)(function*(a,e,r){const o=af(a);if(o.La){for(const u of e){if(o.Da.has(u)&&o.sharedClientState.isActiveQueryTarget(u)){ge("SyncEngine","Adding an already active target "+u);continue}const f=yield vl(o.localStore,u),m=yield kc(o.localStore,f);yield qh(o,Rp(f),m.targetId,!1,m.resumeToken),Iu(o.remoteStore,m)}for(const u of r)o.Da.has(u)&&(yield wa(o.localStore,u,!1).then(()=>{Cu(o.remoteStore,u),xl(o,u)}).catch(Dn))}})).apply(this,arguments)}function af(a){const e=Pe(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ep.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ol.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cp.bind(null,e),e.Sa.h_=J_.bind(null,e.eventManager),e.Sa.ka=nm.bind(null,e.eventManager),e}function Op(a){const e=Pe(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hm.bind(null,e),e}class Du{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,l.Z)(function*(){r.serializer=Ne(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Qu(this.persistence,new wd,e.initialUser,this.serializer)}createPersistence(e){return new Dh(Ed.Hr,this.serializer)}createSharedClientState(e){return new Oh}terminate(){var e=this;return(0,l.Z)(function*(){var r,o;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(o=e.indexBackfillerScheduler)||void 0===o||o.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gm extends Du{constructor(e,r,o){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,l.Z)(function*(){yield r().call(o,e),yield o.Qa.initialize(o,e),yield Op(o.Qa.syncEngine),yield Al(o.Qa.remoteStore),yield o.persistence.fi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Qu(this.persistence,new wd,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Rc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const o=new x(r,this.persistence);return new V(e.asyncQueue,o)}createPersistence(e){const r=Cd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?yo.withCacheSize(this.cacheSizeBytes):yo.DEFAULT;return new oo(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,H(),ne(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Oh}}class sy extends gm{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,l.Z)(function*(){yield r().call(o,e);const u=o.Qa.syncEngine;o.sharedClientState instanceof Dd&&(o.sharedClientState.syncEngine={Zs:Sp.bind(null,u),Xs:pm.bind(null,u),eo:iy.bind(null,u),Bi:fm.bind(null,u),Ys:iE.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.fi(function(){var f=(0,l.Z)(function*(m){yield function Nl(a,e){return kl.apply(this,arguments)}(o.Qa.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start():m||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(m&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():m||o.indexBackfillerScheduler.stop())});return function(m){return f.apply(this,arguments)}}())})()}createSharedClientState(e){const r=H();if(!Dd.D(r))throw new se(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Cd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Dd(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class Ud{initialize(e,r){var o=this;return(0,l.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Ip(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=nf.bind(null,o.syncEngine),yield Bh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pp}createDatastore(e){const r=Ne(e.databaseInfo.databaseId),o=new w(e.databaseInfo);return new Rr(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return o=this.localStore,u=this.datastore,f=e.asyncQueue,m=r=>Ip(this.syncEngine,r,0),T=tc.D()?new tc:new vu,new za(o,u,f,m,T);var o,u,f,m,T}createSyncEngine(e,r){return function(u,f,m,T,R,B,ee){const ce=new um(u,f,m,T,R,B);return ee&&(ce.La=!0),ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,l.Z)(function*(){var r,o;yield(o=(0,l.Z)(function*(f){const m=Pe(f);ge("RemoteStore","RemoteStore shutting down."),m.M_.add(5),yield Eu(m),m.O_.shutdown(),m.N_.set("Unknown")}),function u(f){return o.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function ay(a,e=10240){let r=0;return{read:()=>(0,l.Z)(function*(){if(r<a.byteLength){const o={value:a.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,l.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Np{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ht("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class mm{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Ae,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(o=>{o&&o.sa()?this.metadata.resolve(o.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.ia)}`))},o=>this.metadata.reject(o))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,l.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,l.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,l.Z)(function*(){const r=yield e.za();if(null===r)return null;const o=e.Wa.decode(r),u=Number(o);isNaN(u)&&e.ja(`length string (${o}) is not valid number`);const f=yield e.Ha(u);return new rm(JSON.parse(f),r.length+u)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,l.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}Ha(e){var r=this;return(0,l.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const o=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,l.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class uy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,l.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new se(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(u=(0,l.Z)(function*(m,T){const R=Pe(m),B={documents:T.map(st=>fa(R.serializer,st))},ee=yield R.xo("BatchGetDocuments",R.serializer.databaseId,tn.emptyPath(),B,T.length),ce=new Map;ee.forEach(st=>{const kt=function Bi(a,e){return"found"in e?function(o,u){Tt(!!u.found);const f=is(o,u.found.name),m=Ti(u.found.updateTime),T=u.found.createTime?Ti(u.found.createTime):Nt.min(),R=new Qr({mapValue:{fields:u.found.fields}});return j.newFoundDocument(f,m,T,R)}(a,e):"missing"in e?function(o,u){Tt(!!u.missing),Tt(!!u.readTime);const f=is(o,u.missing),m=Ti(u.readTime);return j.newNoDocument(f,m)}(a,e):$e()}(R.serializer,st);ce.set(kt.key.toString(),kt)});const Me=[];return T.forEach(st=>{const kt=ce.get(st.toString());Tt(!!kt),Me.push(kt)}),Me}),function f(m,T){return u.apply(this,arguments)})(r.datastore,e);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Kr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const f=Ot.fromPath(u);e.mutations.push(new Ur(f,e.precondition(f)))}),yield(o=(0,l.Z)(function*(f,m){const T=Pe(f),R={writes:m.map(B=>Do(T.serializer,B))};yield T.Co("Commit",T.serializer.databaseId,tn.emptyPath(),R)}),function u(f,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw $e();r=Nt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new se(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Nt.min())?ei.exists(!1):ei.updateTime(r):ei.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Nt.min()))throw new se(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ei.updateTime(r)}return ei.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cy{constructor(e,r,o,u,f){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=u,this.deferred=f,this.Za=o.maxAttempts,this.Yo=new lt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,l.Z)(function*(){const r=new uy(e.datastore),o=e.tu(r);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.nu(f)}))}).catch(u=>{e.nu(u)})}))}tu(e){try{const r=this.updateFunction(e);return!ae(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Bo(r)}return!1}}class ly{constructor(e,r,o,u){var f=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=Xe.UNAUTHENTICATED,this.clientId=tr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,l.Z)(function*(T){ge("FirestoreClient","Received user=",T.uid),yield f.authCredentialListener(T),f.user=T});return function(T){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(ge("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ae;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=Bc(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function uf(a,e){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,l.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let o=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,l.Z)(function*(f){o.isEqual(f)||(yield Sh(e.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),Bd.apply(this,arguments)}function ba(a,e){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,l.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield cf(a);ge("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(o=>Ko(e.remoteStore,o)),a.setAppCheckTokenChangeListener((o,u)=>Ko(e.remoteStore,u)),a._onlineComponents=e})).apply(this,arguments)}function kp(a){return"FirebaseError"===a.name?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}function cf(a){return lf.apply(this,arguments)}function lf(){return(lf=(0,l.Z)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uf(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!kp(r))throw r;Jt("Error using user provided cache. Falling back to memory cache: "+r),yield uf(a,new Du)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),yield uf(a,new Du);return a._offlineComponents})).apply(this,arguments)}function Fp(a){return _m.apply(this,arguments)}function _m(){return(_m=(0,l.Z)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),yield ba(a,a._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),yield ba(a,new Ud))),a._onlineComponents})).apply(this,arguments)}function dy(a){return cf(a).then(e=>e.persistence)}function ic(a){return cf(a).then(e=>e.localStore)}function df(a){return Fp(a).then(e=>e.remoteStore)}function ym(a){return Fp(a).then(e=>e.syncEngine)}function Wc(a){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,l.Z)(function*(a){const e=yield Fp(a),r=e.eventManager;return r.onListen=Wh.bind(null,e.syncEngine),r.onUnlisten=lm.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=_p.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ty.bind(null,e.syncEngine),r})).apply(this,arguments)}function Vp(a,e,r={}){const o=new Ae;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(f,m,T,R,B){const ee=new Np({next:Me=>{m.enqueueAndForget(()=>jc(f,ce));const st=Me.docs.has(T);!st&&Me.fromCache?B.reject(new se(le.UNAVAILABLE,"Failed to get document because the client is offline.")):st&&Me.fromCache&&R&&"server"===R.source?B.reject(new se(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Me)},error:Me=>B.reject(Me)}),ce=new Ml(Ar(T.path),ee,{includeMetadataChanges:!0,ra:!0});return Od(f,ce)}(yield Wc(a),a.asyncQueue,e,r,o)})),o.promise}function vm(a,e,r={}){const o=new Ae;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(f,m,T,R,B){const ee=new Np({next:Me=>{m.enqueueAndForget(()=>jc(f,ce)),Me.fromCache&&"server"===R.source?B.reject(new se(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Me)},error:Me=>B.reject(Me)}),ce=new Ml(T,ee,{includeMetadataChanges:!0,ra:!0});return Od(f,ce)}(yield Wc(a),a.asyncQueue,e,r,o)})),o.promise}function Cm(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const wm=new Map;function jp(a,e,r){if(!r)throw new se(le.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Tm(a,e,r,o){if(!0===e&&!0===o)throw new se(le.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function $p(a){if(!Ot.isDocumentKey(a))throw new se(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function yy(a){if(Ot.isDocumentKey(a))throw new se(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Hp(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(o=a).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof a?"a function":$e()}function vr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new se(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Hp(a);throw new se(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}function Ll(a,e){if(e<=0)throw new se(le.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}class zp{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new se(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new se(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Cm(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vl{constructor(e,r,o,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new se(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zp(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new ve;switch(o.type){case"firstParty":return new It(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new se(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=wm.get(r);o&&(ge("ComponentProvider","Removing Datastore"),wm.delete(r),o.terminate())}(this),Promise.resolve()}}function ff(a,e,r,o={}){var u;const f=(a=vr(a,Vl))._getSettings(),m=`${e}:${r}`;if("firestore.googleapis.com"!==f.host&&f.host!==m&&Jt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},f),{host:m,ssl:!1})),o.mockUserToken){let T,R;if("string"==typeof o.mockUserToken)T=o.mockUserToken,R=Xe.MOCK_USER;else{T=(0,me.Sg)(o.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const B=o.mockUserToken.sub||o.mockUserToken.user_id;if(!B)throw new se(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Xe(B)}a._authCredentials=new Ie(new Ge(T,R))}}class ko{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class lo{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lo(this.firestore,e,this._key)}}class Da extends ko{constructor(e,r,o){super(e,r,Ar(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lo(this.firestore,null,new Ot(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function bm(a,e,...r){if(a=(0,me.m9)(a),jp("collection","path",e),a instanceof Vl){const o=tn.fromString(e,...r);return yy(o),new Da(a,null,o)}{if(!(a instanceof lo||a instanceof Da))throw new se(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(tn.fromString(e,...r));return yy(o),new Da(a.firestore,null,o)}}function pf(a,e){if(a=vr(a,Vl),jp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new se(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ko(a,null,(o=e,new fs(tn.emptyPath(),o)));var o}function vy(a,e,...r){if(a=(0,me.m9)(a),1===arguments.length&&(e=tr.newId()),jp("doc","path",e),a instanceof Vl){const o=tn.fromString(e,...r);return $p(o),new lo(a,null,new Ot(o))}{if(!(a instanceof lo||a instanceof Da))throw new se(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(tn.fromString(e,...r));return $p(o),new lo(a.firestore,a instanceof Da?a.converter:null,new Ot(o))}}function Gp(a,e){return a=(0,me.m9)(a),e=(0,me.m9)(e),(a instanceof lo||a instanceof Da)&&(e instanceof lo||e instanceof Da)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function Wp(a,e){return a=(0,me.m9)(a),e=(0,me.m9)(e),a instanceof ko&&e instanceof ko&&a.firestore===e.firestore&&kn(a._query,e._query)&&a.converter===e.converter}class qp{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new lt(this,"async_queue_retry"),this.hu=()=>{const r=ne();r&&ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=ne();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=ne();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Ae;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,l.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Tn(r))throw r;ge("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(o=>{throw this.au=o,this.uu=!1,Ht("INTERNAL UNHANDLED ERROR: ",function(m){let T=m.message||"";return m.stack&&(T=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),T}(o)),o}).then(o=>(this.uu=!1,o))));return this.iu=r,r}enqueueAfterDelay(e,r,o){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const u=hp.createAndSchedule(this,e,r,o,f=>this.Eu(f));return this._u.push(u),u}Pu(){this.au&&$e()}verifyOperationInProgress(){}du(){var e=this;return(0,l.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function gf(a){return function(r,o){if("object"!=typeof r||null===r)return!1;const u=r;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(a)}class Dm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ae,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const qc=-1;class Ei extends Vl{constructor(e,r,o,u){super(e,r,o,u),this.type="firestore",this._queue=new qp,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_f(this),this._firestoreClient.terminate()}}function mf(a,e){const r="object"==typeof a?a:(0,y.getApp)(),o="string"==typeof a?a:e||"(default)",u=(0,y._getProvider)(r,"firestore").getImmediate({identifier:o});if(!u._initialized){const f=(0,me.P0)("firestore");f&&ff(u,...f)}return u}function Qi(a){return a._firestoreClient||_f(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function _f(a){var e,r,o;const u=a._freezeSettings(),f=(R=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new zo(a._databaseId,R,a._persistenceKey,(ee=u).host,ee.ssl,ee.experimentalForceLongPolling,ee.experimentalAutoDetectLongPolling,Cm(ee.experimentalLongPollingOptions),ee.useFetchStreams));var R,ee;a._firestoreClient=new ly(a._authCredentials,a._appCheckCredentials,a._queue,f),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function yf(a,e){Pm(a=vr(a,Ei));const r=Qi(a);if(r._uninitializedComponentsProvider)throw new se(le.FAILED_PRECONDITION,"SDK cache is already specified.");Jt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=a._freezeSettings(),u=new Ud;return Zc(r,u,new gm(u,o.cacheSizeBytes,e?.forceOwnership))}function Za(a){Pm(a=vr(a,Ei));const e=Qi(a);if(e._uninitializedComponentsProvider)throw new se(le.FAILED_PRECONDITION,"SDK cache is already specified.");Jt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings(),o=new Ud;return Zc(e,o,new sy(o,r.cacheSizeBytes))}function Zc(a,e,r){const o=new Ae;return a.asyncQueue.enqueue((0,l.Z)(function*(){try{yield uf(a,r),yield ba(a,e),o.resolve()}catch(u){const f=u;if(!kp(f))throw f;Jt("Error enabling indexeddb cache. Falling back to memory cache: "+f),o.reject(f)}})).then(()=>o.promise)}function Zp(a){if(a._initialized&&!a._terminated)throw new se(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ae;return a._queue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{yield(r=(0,l.Z)(function*(u){if(!J.D())return Promise.resolve();const f=u+"main";yield J.delete(f)}),function o(u){return r.apply(this,arguments)})(Cd(a._databaseId,a._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Ey(a){return function(r){const o=new Ae;return r.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function Xh(a,e){return ef.apply(this,arguments)}(yield ym(r),o)})),o.promise}(Qi(a=vr(a,Ei)))}function Iy(a){return function fy(a){return a.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield dy(a),r=yield df(a);return e.setNetworkEnabled(!0),function(u){const f=Pe(u);return f.M_.delete(0),Ga(f)}(r)}))}(Qi(a=vr(a,Ei)))}function Sm(a){return function py(a){return a.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield dy(a),r=yield df(a);return e.setNetworkEnabled(!1),(o=(0,l.Z)(function*(f){const m=Pe(f);m.M_.add(0),yield Eu(m),m.N_.set("Offline")}),function u(f){return o.apply(this,arguments)})(r);var o}))}(Qi(a=vr(a,Ei)))}function Cy(a,e){const r=Qi(a=vr(a,Ei)),o=new Dm;return function Fl(a,e,r,o){const u=function(m,T){let R;return R="string"==typeof m?Ks().encode(m):m,ee=function(ee,ce){if(ee instanceof Uint8Array)return ay(ee,void 0);if(ee instanceof ArrayBuffer)return ay(new Uint8Array(ee),void 0);if(ee instanceof ReadableStream)return ee.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new mm(ee,T);var ee}(r,Ne(e));a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){!function rc(a,e,r){const o=Pe(a);var u;(u=(0,l.Z)(function*(m,T,R){try{const B=yield T.getMetadata();if(yield function(kt,Kt){const $t=Pe(kt),An=Ti(Kt.createTime);return $t.persistence.runTransaction("hasNewerBundle","readonly",Bn=>$t.$r.getBundleMetadata(Bn,Kt.id)).then(Bn=>!!Bn&&Bn.createTime.compareTo(An)>=0)}(m.localStore,B))return yield T.close(),R._completeWith({taskState:"Success",documentsLoaded:(kt=B).totalDocuments,bytesLoaded:kt.totalBytes,totalDocuments:kt.totalDocuments,totalBytes:kt.totalBytes}),Promise.resolve(new Set);R._updateProgress(im(B));const ee=new Gh(B,m.localStore,T.serializer);let ce=yield T.qa();for(;ce;){const st=yield ee._a(ce);st&&R._updateProgress(st),ce=yield T.qa()}const Me=yield ee.complete();return yield qa(m,Me.ca,void 0),yield function(kt,Kt){const $t=Pe(kt);return $t.persistence.runTransaction("Save bundle","readwrite",An=>$t.$r.saveBundleMetadata(An,Kt))}(m.localStore,B),R._completeWith(Me.progress),Promise.resolve(Me.ua)}catch(B){return Jt("SyncEngine",`Loading bundle failed with ${B}`),R._failWith(B),Promise.resolve(new Set)}var kt}),function f(m,T,R){return u.apply(this,arguments)})(o,e,r).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield ym(a),u,o)}))}(r,a._databaseId,e,o),o}function wy(a,e){return function Em(a,e){return a.asyncQueue.enqueue((0,l.Z)(function*(){return function(o,u){const f=Pe(o);return f.persistence.runTransaction("Get named query","readonly",m=>f.$r.getNamedQuery(m,u))}(yield ic(a),e)}))}(Qi(a=vr(a,Ei)),e).then(r=>r?new ko(a,null,r.query):null)}function Pm(a){if(a._initialized||a._terminated)throw new se(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oc(li.fromBase64String(e))}catch(r){throw new se(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new oc(li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Au{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new se(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ul{constructor(e){this._methodName=e}}class Kp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new se(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new se(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const Ty=/^__.*__$/;class by{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new pr(e,this.data,this.fieldMask,r,this.fieldTransforms):new mn(e,this.data,r,this.fieldTransforms)}}class Dy{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new pr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ay(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e()}}class Yc{constructor(e,r,o,u,f,m){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===f&&this.mu(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Yc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:o,yu:!1});return u.wu(e),u}Su(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:o,yu:!1});return u.mu(),u}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Gl(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Ay(this.fu)&&Ty.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Sy{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Ne(e)}Fu(e,r,o,u=!1){return new Yc({fu:e,methodName:r,vu:o,path:Fn.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(a){const e=a._freezeSettings(),r=Ne(a._databaseId);return new Sy(a._databaseId,!!e.ignoreUndefinedProperties,r)}function Bl(a,e,r,o,u,f={}){const m=a.Fu(f.merge||f.mergeFields?2:0,e,r,u);Yp("Data must be an object, but it was:",m,o);const T=Ef(o,m);let R,B;if(f.merge)R=new _i(m.fieldMask),B=m.fieldTransforms;else if(f.mergeFields){const ee=[];for(const ce of f.mergeFields){const Me=zl(e,ce,r);if(!m.contains(Me))throw new se(le.INVALID_ARGUMENT,`Field '${Me}' is specified in your field mask but missing from your input data.`);Qp(ee,Me)||ee.push(Me)}R=new _i(ee),B=m.fieldTransforms.filter(ce=>R.covers(ce.field))}else R=null,B=m.fieldTransforms;return new by(new Qr(T),R,B)}class Ka extends Ul{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ka}}function vf(a,e,r){return new Yc({fu:3,vu:e.settings.vu,methodName:a._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $d extends Ul{_toFieldTransform(e){return new js(e.path,new da)}isEqual(e){return e instanceof $d}}class Qc extends Ul{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=vf(this,e,!0),o=this.Mu.map(f=>$l(f,r)),u=new Ds(o);return new js(e.path,u)}isEqual(e){return e instanceof Qc&&(0,me.vZ)(this.Mu,e.Mu)}}class jl extends Ul{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=vf(this,e,!0),o=this.Mu.map(f=>$l(f,r)),u=new ps(o);return new js(e.path,u)}isEqual(e){return e instanceof jl&&(0,me.vZ)(this.Mu,e.Mu)}}class sc extends Ul{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Bs(e.serializer,bs(e.serializer,this.xu));return new js(e.path,r)}isEqual(e){return e instanceof sc&&this.xu===e.xu}}function Hd(a,e,r,o){const u=a.Fu(1,e,r);Yp("Data must be an object, but it was:",u,o);const f=[],m=Qr.empty();eo(o,(R,B)=>{const ee=If(e,R,r);B=(0,me.m9)(B);const ce=u.Su(ee);if(B instanceof Ka)f.push(ee);else{const Me=$l(B,ce);null!=Me&&(f.push(ee),m.set(ee,Me))}});const T=new _i(f);return new Dy(m,T,u.fieldTransforms)}function zd(a,e,r,o,u,f){const m=a.Fu(1,e,r),T=[zl(e,o,r)],R=[u];if(f.length%2!=0)throw new se(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Me=0;Me<f.length;Me+=2)T.push(zl(e,f[Me])),R.push(f[Me+1]);const B=[],ee=Qr.empty();for(let Me=T.length-1;Me>=0;--Me)if(!Qp(B,T[Me])){const st=T[Me];let kt=R[Me];kt=(0,me.m9)(kt);const Kt=m.Su(st);if(kt instanceof Ka)B.push(st);else{const $t=$l(kt,Kt);null!=$t&&(B.push(st),ee.set(st,$t))}}const ce=new _i(B);return new Dy(ee,ce,m.fieldTransforms)}function Gd(a,e,r,o=!1){return $l(r,a.Fu(o?4:3,e))}function $l(a,e){if(Hl(a=(0,me.m9)(a)))return Yp("Unsupported field value:",e,a),Ef(a,e);if(a instanceof Ul)return function(o,u){if(!Ay(u.fu))throw u.Du(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${o._methodName}() is not currently supported inside arrays`);const f=o._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(o,u){const f=[];let m=0;for(const T of o){let R=$l(T,u.bu(m));null==R&&(R={nullValue:"NULL_VALUE"}),f.push(R),m++}return{arrayValue:{values:f}}}(a,e)}return function(o,u){if(null===(o=(0,me.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return bs(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const f=Ut.fromDate(o);return{timestampValue:_o(u.serializer,f)}}if(o instanceof Ut){const f=new Ut(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:_o(u.serializer,f)}}if(o instanceof Kp)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof oc)return{bytesValue:Dc(u.serializer,o._byteString)};if(o instanceof lo){const f=u.databaseId,m=o.firestore._databaseId;if(!m.isEqual(f))throw u.Du(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Qs(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.Du(`Unsupported field value: ${Hp(o)}`)}(a,e)}function Ef(a,e){const r={};return mi(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(a,(o,u)=>{const f=$l(u,e.pu(o));null!=f&&(r[o]=f)}),{mapValue:{fields:r}}}function Hl(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Ut||a instanceof Kp||a instanceof oc||a instanceof lo||a instanceof Ul)}function Yp(a,e,r){if(!Hl(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=Hp(r);throw e.Du("an object"===o?a+" a custom object":a+" "+o)}var u}function zl(a,e,r){if((e=(0,me.m9)(e))instanceof Au)return e._internalPath;if("string"==typeof e)return If(a,e);throw Gl("Field path arguments must be of type string or ",a,!1,void 0,r)}const Py=new RegExp("[~\\*/\\[\\]]");function If(a,e,r){if(e.search(Py)>=0)throw Gl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Au(...e.split("."))._internalPath}catch{throw Gl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Gl(a,e,r,o,u){const f=o&&!o.isEmpty(),m=void 0!==u;let T=`Function ${e}() called with invalid data`;r&&(T+=" (via `toFirestore()`)"),T+=". ";let R="";return(f||m)&&(R+=" (found",f&&(R+=` in field ${o}`),m&&(R+=` in document ${u}`),R+=")"),new se(le.INVALID_ARGUMENT,T+a+R)}function Qp(a,e){return a.some(r=>r.isEqual(e))}class Wd{constructor(e,r,o,u,f){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new lo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Jp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Ry extends Wd{data(){return super.data()}}function Jp(a,e){return"string"==typeof e?If(a,e):e instanceof Au?e._internalPath:e._delegate._internalPath}function xm(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new se(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wl{}class Jc extends Wl{}function My(a,e,...r){let o=[];e instanceof Wl&&o.push(e),o=o.concat(r),function(f){const m=f.filter(R=>R instanceof Pu).length,T=f.filter(R=>R instanceof ql).length;if(m>1||m>0&&T>0)throw new se(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)a=u._apply(a);return a}class ql extends Jc{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new ql(e,r,o)}_apply(e){const r=this._parse(e);return rg(e._query,r),new ko(e.firestore,e.converter,Se(e._query,r))}_parse(e){const r=Su(e.firestore);return function(f,m,T,R,B,ee,ce){let Me;if(B.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new se(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){ng(ce,ee);const st=[];for(const kt of ce)st.push(Fm(R,f,kt));Me={arrayValue:{values:st}}}else Me=Fm(R,f,ce)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||ng(ce,ee),Me=Gd(T,"where",ce,"in"===ee||"not-in"===ee);return Mt.create(B,ee,Me)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Xp(a,e,r){const o=e,u=Jp("where",a);return ql._create(u,o,r)}class Pu extends Wl{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Pu(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:un.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,f){let m=u;const T=f.getFlattenedFilters();for(const R of T)rg(m,R),m=Se(m,R)}(e._query,r),new ko(e.firestore,e.converter,Se(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class eg extends Jc{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new eg(e,r)}_apply(e){const r=function(u,f,m){if(null!==u.startAt)throw new se(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new se(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _t(f,m)}(e._query,this._field,this._direction);return new ko(e.firestore,e.converter,function(u,f){const m=u.explicitOrderBy.concat([f]);return new fs(u.path,u.collectionGroup,m,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function Om(a,e="asc"){const r=e,o=Jp("orderBy",a);return eg._create(o,r)}class tg extends Jc{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new tg(e,r,o)}_apply(e){return new ko(e.firestore,e.converter,fn(e._query,this._limit,this._limitType))}}function Oy(a){return Ll("limit",a),tg._create("limit",a,"F")}function Cf(a){return Ll("limitToLast",a),tg._create("limitToLast",a,"L")}class wf extends Jc{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new wf(e,r,o)}_apply(e){const r=km(e,this.type,this._docOrFields,this._inclusive);return new ko(e.firestore,e.converter,(f=r,new fs((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}function Zl(...a){return wf._create("startAt",a,!0)}function qd(...a){return wf._create("startAfter",a,!1)}class Tf extends Jc{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new Tf(e,r,o)}_apply(e){const r=km(e,this.type,this._docOrFields,this._inclusive);return new ko(e.firestore,e.converter,(f=r,new fs((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function Nm(...a){return Tf._create("endBefore",a,!1)}function Ny(...a){return Tf._create("endAt",a,!0)}function km(a,e,r,o){if(r[0]=(0,me.m9)(r[0]),r[0]instanceof Wd)return function(f,m,T,R,B){if(!R)throw new se(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const ee=[];for(const ce of U(f))if(ce.field.isKeyField())ee.push(Yt(m,R.key));else{const Me=R.data.field(ce.field);if(zi(Me))throw new se(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Me){const st=ce.field.canonicalString();throw new se(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${st}' (used as the orderBy) does not exist.`)}ee.push(Me)}return new fe(ee,B)}(a._query,a.firestore._databaseId,e,r[0]._document,o);{const u=Su(a.firestore);return function(m,T,R,B,ee,ce){const Me=m.explicitOrderBy;if(ee.length>Me.length)throw new se(le.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const st=[];for(let kt=0;kt<ee.length;kt++){const Kt=ee[kt];if(Me[kt].field.isKeyField()){if("string"!=typeof Kt)throw new se(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof Kt}`);if(!ua(m)&&-1!==Kt.indexOf("/"))throw new se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${Kt}' contains a slash.`);const $t=m.path.child(tn.fromString(Kt));if(!Ot.isDocumentKey($t))throw new se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${$t}' is not because it contains an odd number of segments.`);const An=new Ot($t);st.push(Yt(T,An))}else{const $t=Gd(R,B,Kt);st.push($t)}}return new fe(st,ce)}(a._query,a.firestore._databaseId,u,e,r,o)}}function Fm(a,e,r){if("string"==typeof(r=(0,me.m9)(r))){if(""===r)throw new se(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ua(e)&&-1!==r.indexOf("/"))throw new se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(tn.fromString(r));if(!Ot.isDocumentKey(o))throw new se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Yt(a,new Ot(o))}if(r instanceof lo)return Yt(a,r._key);throw new se(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hp(r)}.`)}function ng(a,e){if(!Array.isArray(a)||0===a.length)throw new se(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rg(a,e){const r=function(u,f){for(const m of u)for(const T of m.getFlattenedFilters())if(f.indexOf(T.op)>=0)return T.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new se(le.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Lm{convertValue(e,r="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw $e()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return eo(e,(u,f)=>{o[u]=this.convertValue(f,r)}),o}convertGeoPoint(e){return new Kp(yr(e.latitude),yr(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Eo(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(to(e));default:return null}}convertTimestamp(e){const r=Hi(e);return new Ut(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=tn.fromString(e);Tt(ma(o));const u=new Nn(o.get(1),o.get(3)),f=new Ot(o.popFirst(5));return u.isEqual(r)||Ht(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function Kl(a,e,r){let o;return o=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,o}class Vm extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new lo(this.firestore,null,r)}}class Xc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class el extends Wd{constructor(e,r,o,u,f,m){super(e,r,o,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Jp("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Df extends el{data(e={}){return super.data(e)}}class ac{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Xc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Df(this._firestore,this._userDataWriter,o.key,o,new Xc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new se(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map(T=>({type:"added",doc:new Df(u._firestore,u._userDataWriter,T.doc.key,T.doc,new Xc(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:m++}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(T=>f||3!==T.type).map(T=>{const R=new Df(u._firestore,u._userDataWriter,T.doc.key,T.doc,new Xc(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter);let B=-1,ee=-1;return 0!==T.type&&(B=m.indexOf(T.doc.key),m=m.delete(T.doc.key)),1!==T.type&&(m=m.add(T.doc),ee=m.indexOf(T.doc.key)),{type:Bm(T.type),doc:R,oldIndex:B,newIndex:ee}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Bm(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e()}}function Aa(a,e){return a instanceof el&&e instanceof el?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(null===a._document?null===e._document:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof ac&&e instanceof ac&&a._firestore===e._firestore&&Wp(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}function jm(a){a=vr(a,lo);const e=vr(a.firestore,Ei);return Vp(Qi(e),a._key).then(r=>ag(e,a,r))}class tl extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new lo(this.firestore,null,r)}}function ig(a){a=vr(a,lo);const e=vr(a.firestore,Ei),r=Qi(e),o=new tl(e);return function gy(a,e){const r=new Ae;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(o=(0,l.Z)(function*(f,m,T){try{const R=yield function(ee,ce){const Me=Pe(ee);return Me.persistence.runTransaction("read document","readonly",st=>Me.localDocuments.getDocument(st,ce))}(f,m);R.isFoundDocument()?T.resolve(R):R.isNoDocument()?T.resolve(null):T.reject(new se(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const B=Bc(R,`Failed to get document '${m} from cache`);T.reject(B)}}),function u(f,m,T){return o.apply(this,arguments)})(yield ic(a),e,r);var o})),r.promise}(r,a._key).then(u=>new el(e,o,a._key,u,new Xc(null!==u&&u.hasLocalMutations,!0),a.converter))}function uc(a){a=vr(a,lo);const e=vr(a.firestore,Ei);return Vp(Qi(e),a._key,{source:"server"}).then(r=>ag(e,a,r))}function og(a){a=vr(a,ko);const e=vr(a.firestore,Ei),r=Qi(e),o=new tl(e);return xm(a._query),vm(r,a._query).then(u=>new ac(e,o,a,u))}function Fy(a){a=vr(a,ko);const e=vr(a.firestore,Ei),r=Qi(e),o=new tl(e);return function hf(a,e){const r=new Ae;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(o=(0,l.Z)(function*(f,m,T){try{const R=yield yl(f,m,!0),B=new am(m,R.hs),ee=B.da(R.documents),ce=B.applyChanges(ee,!1);T.resolve(ce.snapshot)}catch(R){const B=Bc(R,`Failed to execute query '${m} against cache`);T.reject(B)}}),function u(f,m,T){return o.apply(this,arguments)})(yield ic(a),e,r);var o})),r.promise}(r,a._query).then(u=>new ac(e,o,a,u))}function cE(a){a=vr(a,ko);const e=vr(a.firestore,Ei),r=Qi(e),o=new tl(e);return vm(r,a._query,{source:"server"}).then(u=>new ac(e,o,a,u))}function Ly(a,e,r){a=vr(a,lo);const o=vr(a.firestore,Ei),u=Kl(a.converter,e,r);return so(o,[Bl(Su(o),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,ei.none())])}function sg(a,e,r,...o){a=vr(a,lo);const u=vr(a.firestore,Ei),f=Su(u);let m;return m="string"==typeof(e=(0,me.m9)(e))||e instanceof Au?zd(f,"updateDoc",a._key,e,r,o):Hd(f,"updateDoc",a._key,e),so(u,[m.toMutation(a._key,ei.exists(!0))])}function Ya(a){return so(vr(a.firestore,Ei),[new Kr(a._key,ei.none())])}function $m(a,e){const r=vr(a.firestore,Ei),o=vy(a),u=Kl(a.converter,e);return so(r,[Bl(Su(a.firestore),"addDoc",o._key,u,null!==a.converter,{}).toMutation(o._key,ei.exists(!1))]).then(()=>o)}function Vy(a,...e){var r,o,u;a=(0,me.m9)(a);let f={includeMetadataChanges:!1,source:"default"},m=0;"object"!=typeof e[m]||gf(e[m])||(f=e[m],m++);const T={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(gf(e[m])){const ce=e[m];e[m]=null===(r=ce.next)||void 0===r?void 0:r.bind(ce),e[m+1]=null===(o=ce.error)||void 0===o?void 0:o.bind(ce),e[m+2]=null===(u=ce.complete)||void 0===u?void 0:u.bind(ce)}let R,B,ee;if(a instanceof lo)B=vr(a.firestore,Ei),ee=Ar(a._key.path),R={next:ce=>{e[m]&&e[m](ag(B,a,ce))},error:e[m+1],complete:e[m+2]};else{const ce=vr(a,ko);B=vr(ce.firestore,Ei),ee=ce._query;const Me=new tl(B);R={next:st=>{e[m]&&e[m](new ac(B,Me,ce,st))},error:e[m+1],complete:e[m+2]},xm(a._query)}return function(Me,st,kt,Kt){const $t=new Np(Kt),An=new Ml(st,$t,kt);return Me.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return Od(yield Wc(Me),An)})),()=>{$t.$a(),Me.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return jc(yield Wc(Me),An)}))}}(Qi(B),ee,T,R)}function lE(a,e){return function my(a,e){const r=new Np(e);return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return u=yield Wc(a),f=r,Pe(u).z_.add(f),void f.next();var u,f})),()=>{r.$a(),a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return u=yield Wc(a),f=r,void Pe(u).z_.delete(f);var u,f}))}}(Qi(a=vr(a,Ei)),gf(e)?e:{next:e})}function so(a,e){return function(o,u){const f=new Ae;return o.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function Kh(a,e,r){return vp.apply(this,arguments)}(yield ym(o),u,f)})),f.promise}(Qi(a),e)}function ag(a,e,r){const o=r.docs.get(e._key),u=new tl(a);return new el(a,u,e._key,o,new Xc(r.hasPendingWrites,r.fromCache),e.converter)}const Ru={maxAttempts:5};class nl{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Su(e)}set(e,r,o){this._verifyNotCommitted();const u=cc(e,this._firestore),f=Kl(u.converter,r,o),m=Bl(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,o);return this._mutations.push(m.toMutation(u._key,ei.none())),this}update(e,r,o,...u){this._verifyNotCommitted();const f=cc(e,this._firestore);let m;return m="string"==typeof(r=(0,me.m9)(r))||r instanceof Au?zd(this._dataReader,"WriteBatch.update",f._key,r,o,u):Hd(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(m.toMutation(f._key,ei.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=cc(e,this._firestore);return this._mutations=this._mutations.concat(new Kr(r._key,ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cc(a,e){if((a=(0,me.m9)(a)).firestore!==e)throw new se(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class Gy extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=Su(r)}get(r){const o=cc(r,this._firestore),u=new Vm(this._firestore);return this._transaction.lookup([o._key]).then(f=>{if(!f||1!==f.length)return $e();const m=f[0];if(m.isFoundDocument())return new Wd(this._firestore,u,m.key,m,o.converter);if(m.isNoDocument())return new Wd(this._firestore,u,o._key,null,o.converter);throw $e()})}set(r,o,u){const f=cc(r,this._firestore),m=Kl(f.converter,o,u),T=Bl(this._dataReader,"Transaction.set",f._key,m,null!==f.converter,u);return this._transaction.set(f._key,T),this}update(r,o,u,...f){const m=cc(r,this._firestore);let T;return T="string"==typeof(o=(0,me.m9)(o))||o instanceof Au?zd(this._dataReader,"Transaction.update",m._key,o,u,f):Hd(this._dataReader,"Transaction.update",m._key,o),this._transaction.update(m._key,T),this}delete(r){const o=cc(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=cc(e,this._firestore),o=new tl(this._firestore);return super.get(e).then(u=>new el(this._firestore,o,r._key,u._document,new Xc(!1,!1),r.converter))}}function qm(a,e,r){a=vr(a,Ei);const o=Object.assign(Object.assign({},Ru),r);return function(f){if(f.maxAttempts<1)throw new se(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(f,m,T){const R=new Ae;return f.asyncQueue.enqueueAndForget((0,l.Z)(function*(){const B=yield function hy(a){return Fp(a).then(e=>e.datastore)}(f);new cy(f.asyncQueue,B,T,m,R).Xa()})),R.promise}(Qi(a),u=>e(new Gy(a,u)),o)}function Zm(){return new Ka("deleteField")}function cg(){return new $d("serverTimestamp")}function Kd(...a){return new Qc("arrayUnion",a)}function Af(...a){return new jl("arrayRemove",a)}function Km(a){return new sc("increment",a)}!function(e,r=!0){Ye=y.SDK_VERSION,(0,y._registerComponent)(new z.wA("firestore",(o,{instanceIdentifier:u,options:f})=>{const m=o.getProvider("app").getImmediate(),T=new Ei(new Fe(o.getProvider("auth-internal")),new qt(o.getProvider("app-check-internal")),function(B,ee){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new se(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nn(B.options.projectId,ee)}(m,u),m);return f=Object.assign({useFetchStreams:r},f),T._setSettings(f),T},"PUBLIC").setMultipleInstances(!0)),(0,y.registerVersion)(ke,"4.6.3",e),(0,y.registerVersion)(ke,"4.6.3","esm2017")}()},8153:(on,et,k)=>{k.d(et,{$Y:()=>dn,B0:()=>Li,FN:()=>Pn,IX:()=>si,Jt:()=>yi,UJ:()=>Nr,Ym:()=>Yt,a1:()=>Wi,aF:()=>Jn,bm:()=>cn,cF:()=>wr,g6:()=>ao,gE:()=>it,gH:()=>Ht,iH:()=>qr,oq:()=>Ro,pb:()=>Ln,qm:()=>gn,sd:()=>kr,y4:()=>xn});var l=k(5861),y=k(534),z=k(9058),Ce=k(4537);const me="firebasestorage.googleapis.com",be="storageBucket";class ie extends z.ZR{constructor(j,fe,Ee=0){super(Re(j),`Firebase Storage: ${fe} (${Re(j)})`),this.status_=Ee,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ie.prototype)}get status(){return this.status_}set status(j){this.status_=j}_codeEquals(j){return Re(j)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(j){this.customData.serverResponse=j,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var re=function(q){return q.UNKNOWN="unknown",q.OBJECT_NOT_FOUND="object-not-found",q.BUCKET_NOT_FOUND="bucket-not-found",q.PROJECT_NOT_FOUND="project-not-found",q.QUOTA_EXCEEDED="quota-exceeded",q.UNAUTHENTICATED="unauthenticated",q.UNAUTHORIZED="unauthorized",q.UNAUTHORIZED_APP="unauthorized-app",q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",q.INVALID_CHECKSUM="invalid-checksum",q.CANCELED="canceled",q.INVALID_EVENT_NAME="invalid-event-name",q.INVALID_URL="invalid-url",q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",q.NO_DEFAULT_BUCKET="no-default-bucket",q.CANNOT_SLICE_BLOB="cannot-slice-blob",q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",q.NO_DOWNLOAD_URL="no-download-url",q.INVALID_ARGUMENT="invalid-argument",q.INVALID_ARGUMENT_COUNT="invalid-argument-count",q.APP_DELETED="app-deleted",q.INVALID_ROOT_OPERATION="invalid-root-operation",q.INVALID_FORMAT="invalid-format",q.INTERNAL_ERROR="internal-error",q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",q}(re||{});function Re(q){return"storage/"+q}function mt(){return new ie(re.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sn(){return new ie(re.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qe(){return new ie(re.CANCELED,"User canceled the upload/download.")}function Qe(){return new ie(re.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ht(q){return new ie(re.INVALID_ARGUMENT,q)}function Jt(){return new ie(re.APP_DELETED,"The Firebase app was deleted.")}function xn(q){return new ie(re.INVALID_ROOT_OPERATION,"The operation '"+q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $e(q,j){return new ie(re.INVALID_FORMAT,"String does not match format '"+q+"': "+j)}function Tt(q){throw new ie(re.INTERNAL_ERROR,"Internal error: "+q)}class it{constructor(j,fe){this.bucket=j,this.path_=fe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const j=encodeURIComponent;return"/b/"+j(this.bucket)+"/o/"+j(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(j,fe){let Ee;try{Ee=it.makeFromUrl(j,fe)}catch{return new it(j,"")}if(""===Ee.path)return Ee;throw function Xe(q){return new ie(re.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+q+"'.")}(j)}static makeFromUrl(j,fe){let Ee=null;const He="([A-Za-z0-9.\\-_]+)",hn=new RegExp("^gs://"+He+"(/(.*))?$","i");function un(ai){ai.path_=decodeURIComponent(ai.path)}const wn=fe.replace(/[.]/g,"\\."),Xn=[{regex:hn,indices:{bucket:1,path:3},postModify:function _t(ai){"/"===ai.path.charAt(ai.path.length-1)&&(ai.path_=ai.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${wn}/v[A-Za-z0-9_]+/b/${He}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:un},{regex:new RegExp(`^https?://${fe===me?"(?:storage.googleapis.com|storage.cloud.google.com)":fe}/${He}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:un}];for(let ai=0;ai<Xn.length;ai++){const zr=Xn[ai],Tr=zr.regex.exec(j);if(Tr){let Ri=Tr[zr.indices.path];Ri||(Ri=""),Ee=new it(Tr[zr.indices.bucket],Ri),zr.postModify(Ee);break}}if(null==Ee)throw function ke(q){return new ie(re.INVALID_URL,"Invalid URL '"+q+"'.")}(j);return Ee}}class Pe{constructor(j){this.promise_=Promise.reject(j)}getPromise(){return this.promise_}cancel(j=!1){}}function Ie(q){return"string"==typeof q||q instanceof String}function Fe(q){return Et()&&q instanceof Blob}function Et(){return typeof Blob<"u"}function It(q,j,fe,Ee){if(Ee<j)throw Ht(`Invalid value for '${q}'. Expected ${j} or greater.`);if(Ee>fe)throw Ht(`Invalid value for '${q}'. Expected ${fe} or less.`)}function an(q,j,fe){let Ee=j;return null==fe&&(Ee=`https://${j}`),`${fe}://${Ee}/v0${q}`}function qt(q){const j=encodeURIComponent;let fe="?";for(const Ee in q)q.hasOwnProperty(Ee)&&(fe=fe+(j(Ee)+"=")+j(q[Ee])+"&");return fe=fe.slice(0,-1),fe}var Sn=function(q){return q[q.NO_ERROR=0]="NO_ERROR",q[q.NETWORK_ERROR=1]="NETWORK_ERROR",q[q.ABORT=2]="ABORT",q}(Sn||{});function _n(q,j){const fe=q>=500&&q<600,He=-1!==[408,429].indexOf(q),_t=-1!==j.indexOf(q);return fe||He||_t}class tr{constructor(j,fe,Ee,He,_t,Gt,hn,Mt,un,Zn,wn,Jr=!0){this.url_=j,this.method_=fe,this.headers_=Ee,this.body_=He,this.successCodes_=_t,this.additionalRetryCodes_=Gt,this.callback_=hn,this.errorCallback_=Mt,this.timeout_=un,this.progressCallback_=Zn,this.connectionFactory_=wn,this.retry=Jr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Hr,Xr)=>{this.resolve_=Hr,this.reject_=Xr,this.start_()})}start_(){const fe=(Ee,He)=>{const _t=this.resolve_,Gt=this.reject_,hn=He.connection;if(He.wasSuccessCode)try{const Mt=this.callback_(hn,hn.getResponse());!function Ae(q){return void 0!==q}(Mt)?_t():_t(Mt)}catch(Mt){Gt(Mt)}else if(null!==hn){const Mt=mt();Mt.serverResponse=hn.getErrorText(),Gt(this.errorCallback_?this.errorCallback_(hn,Mt):Mt)}else Gt(He.canceled?this.appDelete_?Jt():qe():sn())};this.canceled_?fe(0,new xt(!1,null,!0)):this.backoffId_=function le(q,j,fe){let Ee=1,He=null,_t=null,Gt=!1,hn=0;function Mt(){return 2===hn}let un=!1;function Zn(...Lr){un||(un=!0,j.apply(null,Lr))}function wn(Lr){He=setTimeout(()=>{He=null,q(Hr,Mt())},Lr)}function Jr(){_t&&clearTimeout(_t)}function Hr(Lr,...Ui){if(un)return void Jr();if(Lr)return Jr(),void Zn.call(null,Lr,...Ui);if(Mt()||Gt)return Jr(),void Zn.call(null,Lr,...Ui);let Xn;Ee<64&&(Ee*=2),1===hn?(hn=2,Xn=0):Xn=1e3*(Ee+Math.random()),wn(Xn)}let Xr=!1;function Zr(Lr){Xr||(Xr=!0,Jr(),!un&&(null!==He?(Lr||(hn=2),clearTimeout(He),wn(0)):Lr||(hn=1)))}return wn(0),_t=setTimeout(()=>{Gt=!0,Zr(!0)},fe),Zr}((Ee,He)=>{if(He)return void Ee(!1,new xt(!1,null,!0));const _t=this.connectionFactory_();this.pendingConnection_=_t;const Gt=hn=>{null!==this.progressCallback_&&this.progressCallback_(hn.loaded,hn.lengthComputable?hn.total:-1)};null!==this.progressCallback_&&_t.addUploadProgressListener(Gt),_t.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&_t.removeUploadProgressListener(Gt),this.pendingConnection_=null;const hn=_t.getErrorCode()===Sn.NO_ERROR,Mt=_t.getStatus();if(!hn||_n(Mt,this.additionalRetryCodes_)&&this.retry){const Zn=_t.getErrorCode()===Sn.ABORT;return void Ee(!1,new xt(!1,null,Zn))}const un=-1!==this.successCodes_.indexOf(Mt);Ee(!0,new xt(un,_t))})},fe,this.timeout_)}getPromise(){return this.promise_}cancel(j){this.canceled_=!0,this.appDelete_=j||!1,null!==this.backoffId_&&function se(q){q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class xt{constructor(j,fe,Ee){this.wasSuccessCode=j,this.connection=fe,this.canceled=!!Ee}}function sr(...q){const j=function tn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==j){const fe=new j;for(let Ee=0;Ee<q.length;Ee++)fe.append(q[Ee]);return fe.getBlob()}if(Et())return new Blob(q);throw new ie(re.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const cn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cn{constructor(j,fe){this.data=j,this.contentType=fe||null}}function gn(q,j){switch(q){case cn.RAW:return new Cn(ir(j));case cn.BASE64:case cn.BASE64URL:return new Cn(xr(q,j));case cn.DATA_URL:return new Cn(function Or(q){const j=new Mn(q);return j.base64?xr(cn.BASE64,j.rest):function cr(q){let j;try{j=decodeURIComponent(q)}catch{throw $e(cn.DATA_URL,"Malformed data URL.")}return ir(j)}(j.rest)}(j),function Ci(q){return new Mn(q).contentType}(j))}throw mt()}function ir(q){const j=[];for(let fe=0;fe<q.length;fe++){let Ee=q.charCodeAt(fe);Ee<=127?j.push(Ee):Ee<=2047?j.push(192|Ee>>6,128|63&Ee):55296==(64512&Ee)?fe<q.length-1&&56320==(64512&q.charCodeAt(fe+1))?(Ee=65536|(1023&Ee)<<10|1023&q.charCodeAt(++fe),j.push(240|Ee>>18,128|Ee>>12&63,128|Ee>>6&63,128|63&Ee)):j.push(239,191,189):56320==(64512&Ee)?j.push(239,191,189):j.push(224|Ee>>12,128|Ee>>6&63,128|63&Ee)}return new Uint8Array(j)}function xr(q,j){switch(q){case cn.BASE64:{const He=-1!==j.indexOf("-"),_t=-1!==j.indexOf("_");if(He||_t)throw $e(q,"Invalid character '"+(He?"-":"_")+"' found: is it base64url encoded?");break}case cn.BASE64URL:{const He=-1!==j.indexOf("+"),_t=-1!==j.indexOf("/");if(He||_t)throw $e(q,"Invalid character '"+(He?"+":"/")+"' found: is it base64 encoded?");j=j.replace(/-/g,"+").replace(/_/g,"/");break}}let fe;try{fe=function Ot(q){if(typeof atob>"u")throw function ge(q){return new ie(re.UNSUPPORTED_ENVIRONMENT,`${q} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(q)}(j)}catch(He){throw He.message.includes("polyfill")?He:$e(q,"Invalid character found")}const Ee=new Uint8Array(fe.length);for(let He=0;He<fe.length;He++)Ee[He]=fe.charCodeAt(He);return Ee}class Mn{constructor(j){this.base64=!1,this.contentType=null;const fe=j.match(/^data:([^,]+)?,/);if(null===fe)throw $e(cn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ee=fe[1]||null;null!=Ee&&(this.base64=function Xt(q,j){return q.length>=j.length&&q.substring(q.length-j.length)===j}(Ee,";base64"),this.contentType=this.base64?Ee.substring(0,Ee.length-7):Ee),this.rest=j.substring(j.indexOf(",")+1)}}class Nr{constructor(j,fe){let Ee=0,He="";Fe(j)?(this.data_=j,Ee=j.size,He=j.type):j instanceof ArrayBuffer?(fe?this.data_=new Uint8Array(j):(this.data_=new Uint8Array(j.byteLength),this.data_.set(new Uint8Array(j))),Ee=this.data_.length):j instanceof Uint8Array&&(fe?this.data_=j:(this.data_=new Uint8Array(j.length),this.data_.set(j)),Ee=j.length),this.size_=Ee,this.type_=He}size(){return this.size_}type(){return this.type_}slice(j,fe){if(Fe(this.data_)){const He=function Fn(q,j,fe){return q.webkitSlice?q.webkitSlice(j,fe):q.mozSlice?q.mozSlice(j,fe):q.slice?q.slice(j,fe):null}(this.data_,j,fe);return null===He?null:new Nr(He)}{const Ee=new Uint8Array(this.data_.buffer,j,fe-j);return new Nr(Ee,!0)}}static getBlob(...j){if(Et()){const fe=j.map(Ee=>Ee instanceof Nr?Ee.data_:Ee);return new Nr(sr.apply(null,fe))}{const fe=j.map(Gt=>Ie(Gt)?gn(cn.RAW,Gt).data:Gt.data_);let Ee=0;fe.forEach(Gt=>{Ee+=Gt.byteLength});const He=new Uint8Array(Ee);let _t=0;return fe.forEach(Gt=>{for(let hn=0;hn<Gt.length;hn++)He[_t++]=Gt[hn]}),new Nr(He,!0)}}uploadData(){return this.data_}}function $n(q){let j;try{j=JSON.parse(q)}catch{return null}return function ve(q){return"object"==typeof q&&!Array.isArray(q)}(j)?j:null}function di(q){const j=q.lastIndexOf("/",q.length-2);return-1===j?q:q.slice(j+1)}function Be(q,j){return j}class pt{constructor(j,fe,Ee,He){this.server=j,this.local=fe||j,this.writable=!!Ee,this.xform=He||Be}}let J=null;function ft(){if(J)return J;const q=[];q.push(new pt("bucket")),q.push(new pt("generation")),q.push(new pt("metageneration")),q.push(new pt("name","fullPath",!0));const fe=new pt("name");fe.xform=function j(_t,Gt){return function ye(q){return!Ie(q)||q.length<2?q:di(q)}(Gt)},q.push(fe);const He=new pt("size");return He.xform=function Ee(_t,Gt){return void 0!==Gt?Number(Gt):Gt},q.push(He),q.push(new pt("timeCreated")),q.push(new pt("updated")),q.push(new pt("md5Hash",null,!0)),q.push(new pt("cacheControl",null,!0)),q.push(new pt("contentDisposition",null,!0)),q.push(new pt("contentEncoding",null,!0)),q.push(new pt("contentLanguage",null,!0)),q.push(new pt("contentType",null,!0)),q.push(new pt("metadata","customMetadata",!0)),J=q,J}function gr(q,j,fe){const Ee=$n(j);return null===Ee?null:function Tn(q,j,fe){const Ee={type:"file"},He=fe.length;for(let _t=0;_t<He;_t++){const Gt=fe[_t];Ee[Gt.local]=Gt.xform(Ee,j[Gt.server])}return function Bt(q,j){Object.defineProperty(q,"ref",{get:function fe(){const _t=new it(q.bucket,q.fullPath);return j._makeStorageReference(_t)}})}(Ee,q),Ee}(q,Ee,fe)}function we(q,j){const fe={},Ee=j.length;for(let He=0;He<Ee;He++){const _t=j[He];_t.writable&&(fe[_t.server]=q[_t.local])}return JSON.stringify(fe)}const Y="prefixes",V="items";class ae{constructor(j,fe,Ee,He){this.url=j,this.method=fe,this.handler=Ee,this.timeout=He,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xe(q){if(!q)throw mt()}function gt(q,j){return function fe(Ee,He){const _t=gr(q,He,j);return xe(null!==_t),_t}}function Zt(q){return function j(fe,Ee){let He;return He=401===fe.getStatus()?fe.getErrorText().includes("Firebase App Check token is invalid")?function Vt(){return new ie(re.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function vt(){return new ie(re.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===fe.getStatus()?function Rt(q){return new ie(re.QUOTA_EXCEEDED,"Quota for bucket '"+q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(q.bucket):403===fe.getStatus()?function bt(q){return new ie(re.UNAUTHORIZED,"User does not have permission to access '"+q+"'.")}(q.path):Ee,He.status=fe.getStatus(),He.serverResponse=Ee.serverResponse,He}}function Qt(q){const j=Zt(q);return function fe(Ee,He){let _t=j(Ee,He);return 404===Ee.getStatus()&&(_t=function We(q){return new ie(re.OBJECT_NOT_FOUND,"Object '"+q+"' does not exist.")}(q.path)),_t.serverResponse=He.serverResponse,_t}}function Gn(q,j,fe){const He=an(j.fullServerUrl(),q.host,q._protocol),Gt=q.maxOperationRetryTime,hn=new ae(He,"GET",gt(q,fe),Gt);return hn.errorHandler=Qt(j),hn}function vn(q,j,fe,Ee,He){const _t={};_t.prefix=j.isRoot?"":j.path+"/",fe&&fe.length>0&&(_t.delimiter=fe),Ee&&(_t.pageToken=Ee),He&&(_t.maxResults=He);const hn=an(j.bucketOnlyServerUrl(),q.host,q._protocol),un=q.maxOperationRetryTime,Zn=new ae(hn,"GET",function Pt(q,j){return function fe(Ee,He){const _t=function O(q,j,fe){const Ee=$n(fe);return null===Ee?null:function x(q,j,fe){const Ee={prefixes:[],items:[],nextPageToken:fe.nextPageToken};if(fe[Y])for(const He of fe[Y]){const _t=He.replace(/\/$/,""),Gt=q._makeStorageReference(new it(j,_t));Ee.prefixes.push(Gt)}if(fe[V])for(const He of fe[V]){const _t=q._makeStorageReference(new it(j,He.name));Ee.items.push(_t)}return Ee}(q,j,Ee)}(q,j,He);return xe(null!==_t),_t}}(q,j.bucket),un);return Zn.urlParams=_t,Zn.errorHandler=Zt(j),Zn}function $i(q,j,fe){const Ee=Object.assign({},fe);return Ee.fullPath=q.path,Ee.size=j.size(),Ee.contentType||(Ee.contentType=function Xi(q,j){return q&&q.contentType||j&&j.type()||"application/octet-stream"}(null,j)),Ee}class Wn{constructor(j,fe,Ee,He){this.current=j,this.total=fe,this.finalized=!!Ee,this.metadata=He||null}}function ut(q,j){let fe=null;try{fe=q.getResponseHeader("X-Goog-Upload-Status")}catch{xe(!1)}return xe(!!fe&&-1!==(j||["active"]).indexOf(fe)),fe}const Pn={STATE_CHANGED:"state_changed"},dn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Er(q){switch(q){case"running":case"pausing":case"canceling":return dn.RUNNING;case"paused":return dn.PAUSED;case"success":return dn.SUCCESS;case"canceled":return dn.CANCELED;default:return dn.ERROR}}class fr{constructor(j,fe,Ee){if(function Ge(q){return"function"==typeof q}(j)||null!=fe||null!=Ee)this.next=j,this.error=fe??void 0,this.complete=Ee??void 0;else{const _t=j;this.next=_t.next,this.error=_t.error,this.complete=_t.complete}}}function ci(q){return(...j)=>{Promise.resolve().then(()=>q(...j))}}let ho=null;class lr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sn.NO_ERROR,this.sendPromise_=new Promise(j=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sn.ABORT,j()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sn.NETWORK_ERROR,j()}),this.xhr_.addEventListener("load",()=>{j()})})}send(j,fe,Ee,He){if(this.sent_)throw Tt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(fe,j,!0),void 0!==He)for(const _t in He)He.hasOwnProperty(_t)&&this.xhr_.setRequestHeader(_t,He[_t].toString());return void 0!==Ee?this.xhr_.send(Ee):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(j){return this.xhr_.getResponseHeader(j)}addUploadProgressListener(j){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",j)}removeUploadProgressListener(j){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",j)}}class Lo extends lr{initXhr(){this.xhr_.responseType="text"}}function oi(){return ho?ho():new Lo}class si{constructor(j,fe,Ee=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=j,this._blob=fe,this._metadata=Ee,this._mappings=ft(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=He=>{if(this._request=void 0,this._chunkMultiplier=1,He._codeEquals(re.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const _t=this.isExponentialBackoffExpired();if(_n(He.status,[])){if(!_t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();He=sn()}this._error=He,this._transition("error")}},this._metadataErrorHandler=He=>{this._request=void 0,He._codeEquals(re.CANCELED)?this.completeTransitions_():(this._error=He,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((He,_t)=>{this._resolve=He,this._reject=_t,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const j=this._transferred;return fe=>this._updateProgress(j+fe)}_shouldDoResumable(j){return j.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(j){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([fe,Ee])=>{switch(this._state){case"running":j(fe,Ee);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((j,fe)=>{const Ee=function Ze(q,j,fe,Ee,He){const _t=j.bucketOnlyServerUrl(),Gt=$i(j,Ee,He),hn={name:Gt.fullPath},Mt=an(_t,q.host,q._protocol),Zn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ee.size()}`,"X-Goog-Upload-Header-Content-Type":Gt.contentType,"Content-Type":"application/json; charset=utf-8"},wn=we(Gt,fe),Xr=new ae(Mt,"POST",function Hr(Zr){let Lr;ut(Zr);try{Lr=Zr.getResponseHeader("X-Goog-Upload-URL")}catch{xe(!1)}return xe(Ie(Lr)),Lr},q.maxUploadRetryTime);return Xr.urlParams=hn,Xr.headers=Zn,Xr.body=wn,Xr.errorHandler=Zt(j),Xr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),He=this._ref.storage._makeRequest(Ee,oi,j,fe);this._request=He,He.getPromise().then(_t=>{this._request=void 0,this._uploadUrl=_t,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const j=this._uploadUrl;this._resolveToken((fe,Ee)=>{const He=function Ct(q,j,fe,Ee){const Mt=new ae(fe,"POST",function _t(un){const Zn=ut(un,["active","final"]);let wn=null;try{wn=un.getResponseHeader("X-Goog-Upload-Size-Received")}catch{xe(!1)}wn||xe(!1);const Jr=Number(wn);return xe(!isNaN(Jr)),new Wn(Jr,Ee.size(),"final"===Zn)},q.maxUploadRetryTime);return Mt.headers={"X-Goog-Upload-Command":"query"},Mt.errorHandler=Zt(j),Mt}(this._ref.storage,this._ref._location,j,this._blob),_t=this._ref.storage._makeRequest(He,oi,fe,Ee);this._request=_t,_t.getPromise().then(Gt=>{this._request=void 0,this._updateProgress(Gt.current),this._needToFetchStatus=!1,Gt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const j=262144*this._chunkMultiplier,fe=new Wn(this._transferred,this._blob.size()),Ee=this._uploadUrl;this._resolveToken((He,_t)=>{let Gt;try{Gt=function bn(q,j,fe,Ee,He,_t,Gt,hn){const Mt=new Wn(0,0);if(Gt?(Mt.current=Gt.current,Mt.total=Gt.total):(Mt.current=0,Mt.total=Ee.size()),Ee.size()!==Mt.total)throw function yt(){return new ie(re.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const un=Mt.total-Mt.current;let Zn=un;He>0&&(Zn=Math.min(Zn,He));const wn=Mt.current;let Hr="";Hr=0===Zn?"finalize":un===Zn?"upload, finalize":"upload";const Xr={"X-Goog-Upload-Command":Hr,"X-Goog-Upload-Offset":`${Mt.current}`},Zr=Ee.slice(wn,wn+Zn);if(null===Zr)throw Qe();const Xn=new ae(fe,"POST",function Lr(ai,zr){const Tr=ut(ai,["active","final"]),Go=Mt.current+Zn,Ri=Ee.size();let Es;return Es="final"===Tr?gt(j,_t)(ai,zr):null,new Wn(Go,Ri,"final"===Tr,Es)},j.maxUploadRetryTime);return Xn.headers=Xr,Xn.body=Zr.uploadData(),Xn.progressCallback=hn||null,Xn.errorHandler=Zt(q),Xn}(this._ref._location,this._ref.storage,Ee,this._blob,j,this._mappings,fe,this._makeProgressCallback())}catch(Mt){return this._error=Mt,void this._transition("error")}const hn=this._ref.storage._makeRequest(Gt,oi,He,_t,!1);this._request=hn,hn.getPromise().then(Mt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Mt.current),Mt.finalized?(this._metadata=Mt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((j,fe)=>{const Ee=Gn(this._ref.storage,this._ref._location,this._mappings),He=this._ref.storage._makeRequest(Ee,oi,j,fe);this._request=He,He.getPromise().then(_t=>{this._request=void 0,this._metadata=_t,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((j,fe)=>{const Ee=function Fr(q,j,fe,Ee,He){const _t=j.bucketOnlyServerUrl(),Gt={"X-Goog-Upload-Protocol":"multipart"},Mt=function hn(){let Xn="";for(let ai=0;ai<2;ai++)Xn+=Math.random().toString().slice(2);return Xn}();Gt["Content-Type"]="multipart/related; boundary="+Mt;const un=$i(j,Ee,He),Zn=we(un,fe),Hr=Nr.getBlob("--"+Mt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Zn+"\r\n--"+Mt+"\r\nContent-Type: "+un.contentType+"\r\n\r\n",Ee,"\r\n--"+Mt+"--");if(null===Hr)throw Qe();const Xr={name:un.fullPath},Zr=an(_t,q.host,q._protocol),Ui=q.maxUploadRetryTime,Pi=new ae(Zr,"POST",gt(q,fe),Ui);return Pi.urlParams=Xr,Pi.headers=Gt,Pi.body=Hr.uploadData(),Pi.errorHandler=Zt(j),Pi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),He=this._ref.storage._makeRequest(Ee,oi,j,fe);this._request=He,He.getPromise().then(_t=>{this._request=void 0,this._metadata=_t,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(j){const fe=this._transferred;this._transferred=j,this._transferred!==fe&&this._notifyObservers()}_transition(j){if(this._state!==j)switch(j){case"canceling":case"pausing":this._state=j,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const fe="paused"===this._state;this._state=j,fe&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=j,this._notifyObservers();break;case"canceled":this._error=qe(),this._state=j,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const j=Er(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:j,metadata:this._metadata,task:this,ref:this._ref}}on(j,fe,Ee,He){const _t=new fr(fe||void 0,Ee||void 0,He||void 0);return this._addObserver(_t),()=>{this._removeObserver(_t)}}then(j,fe){return this._promise.then(j,fe)}catch(j){return this.then(null,j)}_addObserver(j){this._observers.push(j),this._notifyObserver(j)}_removeObserver(j){const fe=this._observers.indexOf(j);-1!==fe&&this._observers.splice(fe,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(fe=>{this._notifyObserver(fe)})}_finishPromise(){if(void 0!==this._resolve){let j=!0;switch(Er(this._state)){case dn.SUCCESS:ci(this._resolve.bind(null,this.snapshot))();break;case dn.CANCELED:case dn.ERROR:ci(this._reject.bind(null,this._error))();break;default:j=!1}j&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(j){switch(Er(this._state)){case dn.RUNNING:case dn.PAUSED:j.next&&ci(j.next.bind(j,this.snapshot))();break;case dn.SUCCESS:j.complete&&ci(j.complete.bind(j))();break;default:j.error&&ci(j.error.bind(j,this._error))()}}resume(){const j="paused"===this._state||"pausing"===this._state;return j&&this._transition("running"),j}pause(){const j="running"===this._state;return j&&this._transition("pausing"),j}cancel(){const j="running"===this._state||"pausing"===this._state;return j&&this._transition("canceling"),j}}class mi{constructor(j,fe){this._service=j,this._location=fe instanceof it?fe:it.makeFromUrl(fe,j.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(j,fe){return new mi(j,fe)}get root(){const j=new it(this._location.bucket,"");return this._newRef(this._service,j)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return di(this._location.path)}get storage(){return this._service}get parent(){const j=function nr(q){if(0===q.length)return null;const j=q.lastIndexOf("/");return-1===j?"":q.slice(0,j)}(this._location.path);if(null===j)return null;const fe=new it(this._location.bucket,j);return new mi(this._service,fe)}_throwIfRoot(j){if(""===this._location.path)throw xn(j)}}function _i(q,j,fe){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(q,j,fe){const He=yield ds(q,{pageToken:fe});j.prefixes.push(...He.prefixes),j.items.push(...He.items),null!=He.nextPageToken&&(yield _i(q,j,He.nextPageToken))})).apply(this,arguments)}function ds(q,j){null!=j&&"number"==typeof j.maxResults&&It("options.maxResults",1,1e3,j.maxResults);const fe=j||{},Ee=vn(q.storage,q._location,"/",fe.pageToken,fe.maxResults);return q.storage.makeRequestWithTokens(Ee,oi)}function Hi(q){q._throwIfRoot("getDownloadURL");const j=function ki(q,j,fe){const He=an(j.fullServerUrl(),q.host,q._protocol),Gt=q.maxOperationRetryTime,hn=new ae(He,"GET",function nn(q,j){return function fe(Ee,He){const _t=gr(q,He,j);return xe(null!==_t),function Yn(q,j,fe,Ee){const He=$n(j);if(null===He||!Ie(He.downloadTokens))return null;const _t=He.downloadTokens;if(0===_t.length)return null;const Gt=encodeURIComponent;return _t.split(",").map(un=>{const wn=q.fullPath;return an("/b/"+Gt(q.bucket)+"/o/"+Gt(wn),fe,Ee)+qt({alt:"media",token:un})})[0]}(_t,He,q.host,q._protocol)}}(q,fe),Gt);return hn.errorHandler=Qt(j),hn}(q.storage,q._location,ft());return q.storage.makeRequestWithTokens(j,oi).then(fe=>{if(null===fe)throw function St(){return new ie(re.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return fe})}function Ir(q,j){const fe=function Dn(q,j){const fe=j.split("/").filter(Ee=>Ee.length>0).join("/");return 0===q.length?fe:q+"/"+fe}(q._location.path,j),Ee=new it(q._location.bucket,fe);return new mi(q.storage,Ee)}function to(q,j){if(q instanceof Yr){const fe=q;if(null==fe._bucket)throw function Ye(){return new ie(re.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+be+"' property when initializing the app?")}();const Ee=new mi(fe,fe._bucket);return null!=j?to(Ee,j):Ee}return void 0!==j?Ir(q,j):q}function zo(q,j){if(j&&function zi(q){return/^[A-Za-z]+:\/\//.test(q)}(j)){if(q instanceof Yr)return function Eo(q,j){return new mi(q,j)}(q,j);throw Ht("To use ref(service, url), the first argument must be a Storage instance.")}return to(q,j)}function Nn(q,j){const fe=j?.[be];return null==fe?null:it.makeFromBucketSpec(fe,q)}class Yr{constructor(j,fe,Ee,He,_t){this.app=j,this._authProvider=fe,this._appCheckProvider=Ee,this._url=He,this._firebaseVersion=_t,this._bucket=null,this._host=me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=He?it.makeFromBucketSpec(He,this._host):Nn(this._host,this.app.options)}get host(){return this._host}set host(j){this._host=j,this._bucket=null!=this._url?it.makeFromBucketSpec(this._url,j):Nn(j,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(j){It("time",0,Number.POSITIVE_INFINITY,j),this._maxUploadRetryTime=j}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(j){It("time",0,Number.POSITIVE_INFINITY,j),this._maxOperationRetryTime=j}_getAuthToken(){var j=this;return(0,l.Z)(function*(){if(j._overrideAuthToken)return j._overrideAuthToken;const fe=j._authProvider.getImmediate({optional:!0});if(fe){const Ee=yield fe.getToken();if(null!==Ee)return Ee.accessToken}return null})()}_getAppCheckToken(){var j=this;return(0,l.Z)(function*(){const fe=j._appCheckProvider.getImmediate({optional:!0});return fe?(yield fe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(j=>j.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(j){return new mi(this,j)}_makeRequest(j,fe,Ee,He,_t=!0){if(this._deleted)return new Pe(Jt());{const Gt=function Dr(q,j,fe,Ee,He,_t,Gt=!0){const hn=qt(q.urlParams),Mt=q.url+hn,un=Object.assign({},q.headers);return function Ut(q,j){j&&(q["X-Firebase-GMPID"]=j)}(un,j),function En(q,j){null!==j&&j.length>0&&(q.Authorization="Firebase "+j)}(un,fe),function On(q,j){q["X-Firebase-Storage-Version"]="webjs/"+(j??"AppManager")}(un,_t),function Nt(q,j){null!==j&&(q["X-Firebase-AppCheck"]=j)}(un,Ee),new tr(Mt,q.method,un,q.body,q.successCodes,q.additionalRetryCodes,q.handler,q.errorHandler,q.timeout,q.progressCallback,He,Gt)}(j,this._appId,Ee,He,fe,this._firebaseVersion,_t);return this._requests.add(Gt),Gt.getPromise().then(()=>this._requests.delete(Gt),()=>this._requests.delete(Gt)),Gt}}makeRequestWithTokens(j,fe){var Ee=this;return(0,l.Z)(function*(){const[He,_t]=yield Promise.all([Ee._getAuthToken(),Ee._getAppCheckToken()]);return Ee._makeRequest(j,fe,He,_t).getPromise()})()}}const Si="@firebase/storage",Io="storage";function Li(q,j,fe){return function _r(q,j,fe){return q._throwIfRoot("uploadBytesResumable"),new si(q,new Nr(j),fe)}(q=(0,z.m9)(q),j,fe)}function kr(q){return function li(q){q._throwIfRoot("getMetadata");const j=Gn(q.storage,q._location,ft());return q.storage.makeRequestWithTokens(j,oi)}(q=(0,z.m9)(q))}function Yt(q,j){return function Fs(q,j){q._throwIfRoot("updateMetadata");const fe=function Di(q,j,fe,Ee){const _t=an(j.fullServerUrl(),q.host,q._protocol),hn=we(fe,Ee),un=q.maxOperationRetryTime,Zn=new ae(_t,"PATCH",gt(q,Ee),un);return Zn.headers={"Content-Type":"application/json; charset=utf-8"},Zn.body=hn,Zn.errorHandler=Qt(j),Zn}(q.storage,q._location,j,ft());return q.storage.makeRequestWithTokens(fe,oi)}(q=(0,z.m9)(q),j)}function Ln(q,j){return ds(q=(0,z.m9)(q),j)}function Jn(q){return function Ai(q){const j={prefixes:[],items:[]};return _i(q,j).then(()=>j)}(q=(0,z.m9)(q))}function yi(q){return Hi(q=(0,z.m9)(q))}function Ro(q){return function yr(q){q._throwIfRoot("deleteObject");const j=function Gr(q,j){const Ee=an(j.fullServerUrl(),q.host,q._protocol),hn=new ae(Ee,"DELETE",function Gt(Mt,un){},q.maxOperationRetryTime);return hn.successCodes=[200,204],hn.errorHandler=Qt(j),hn}(q.storage,q._location);return q.storage.makeRequestWithTokens(j,oi)}(q=(0,z.m9)(q))}function qr(q,j){return zo(q=(0,z.m9)(q),j)}function ao(q,j){return Ir(q,j)}function wr(q=(0,y.getApp)(),j){q=(0,z.m9)(q);const Ee=(0,y._getProvider)(q,Io).getImmediate({identifier:j}),He=(0,z.P0)("storage");return He&&Wi(Ee,...He),Ee}function Wi(q,j,fe,Ee={}){!function $r(q,j,fe,Ee={}){q.host=`${j}:${fe}`,q._protocol="http";const{mockUserToken:He}=Ee;He&&(q._overrideAuthToken="string"==typeof He?He:(0,z.Sg)(He,q.app.options.projectId))}(q,j,fe,Ee)}function Vi(q,{instanceIdentifier:j}){const fe=q.getProvider("app").getImmediate(),Ee=q.getProvider("auth-internal"),He=q.getProvider("app-check-internal");return new Yr(fe,Ee,He,j,y.SDK_VERSION)}!function Qr(){(0,y._registerComponent)(new Ce.wA(Io,Vi,"PUBLIC").setMultipleInstances(!0)),(0,y.registerVersion)(Si,"0.12.5",""),(0,y.registerVersion)(Si,"0.12.5","esm2017")}()},9058:(on,et,k)=>{k.d(et,{BH:()=>Ye,G6:()=>le,L:()=>ze,LL:()=>Fe,P0:()=>qe,Pz:()=>Xe,Sg:()=>Qe,UG:()=>ge,ZB:()=>Re,ZR:()=>Ie,aH:()=>ke,b$:()=>xn,eu:()=>Ae,hl:()=>se,jU:()=>Ht,m9:()=>Yn,ne:()=>ir,pd:()=>Cn,r3:()=>On,ru:()=>Jt,tV:()=>ie,uI:()=>St,vZ:()=>tn,w1:()=>Tt,xO:()=>Ot,xb:()=>Nt,z$:()=>yt,zd:()=>cn});const Ce=function(we){const Y=[];let V=0;for(let x=0;x<we.length;x++){let O=we.charCodeAt(x);O<128?Y[V++]=O:O<2048?(Y[V++]=O>>6|192,Y[V++]=63&O|128):55296==(64512&O)&&x+1<we.length&&56320==(64512&we.charCodeAt(x+1))?(O=65536+((1023&O)<<10)+(1023&we.charCodeAt(++x)),Y[V++]=O>>18|240,Y[V++]=O>>12&63|128,Y[V++]=O>>6&63|128,Y[V++]=63&O|128):(Y[V++]=O>>12|224,Y[V++]=O>>6&63|128,Y[V++]=63&O|128)}return Y},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(we,Y){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let O=0;O<we.length;O+=3){const ae=we[O],xe=O+1<we.length,gt=xe?we[O+1]:0,Pt=O+2<we.length,nn=Pt?we[O+2]:0;let Gn=(15&gt)<<2|nn>>6,vn=63&nn;Pt||(vn=64,xe||(Gn=64)),x.push(V[ae>>2],V[(3&ae)<<4|gt>>4],V[Gn],V[vn])}return x.join("")},encodeString(we,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(we):this.encodeByteArray(Ce(we),Y)},decodeString(we,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(we):function(we){const Y=[];let V=0,x=0;for(;V<we.length;){const O=we[V++];if(O<128)Y[x++]=String.fromCharCode(O);else if(O>191&&O<224){const ae=we[V++];Y[x++]=String.fromCharCode((31&O)<<6|63&ae)}else if(O>239&&O<365){const Pt=((7&O)<<18|(63&we[V++])<<12|(63&we[V++])<<6|63&we[V++])-65536;Y[x++]=String.fromCharCode(55296+(Pt>>10)),Y[x++]=String.fromCharCode(56320+(1023&Pt))}else{const ae=we[V++],xe=we[V++];Y[x++]=String.fromCharCode((15&O)<<12|(63&ae)<<6|63&xe)}}return Y.join("")}(this.decodeStringToByteArray(we,Y))},decodeStringToByteArray(we,Y){this.init_();const V=Y?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let O=0;O<we.length;){const ae=V[we.charAt(O++)],gt=O<we.length?V[we.charAt(O)]:0;++O;const nn=O<we.length?V[we.charAt(O)]:64;++O;const Qt=O<we.length?V[we.charAt(O)]:64;if(++O,null==ae||null==gt||null==nn||null==Qt)throw new je;x.push(ae<<2|gt>>4),64!==nn&&(x.push(gt<<4&240|nn>>2),64!==Qt&&x.push(nn<<6&192|Qt))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}};class je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(we){return function(we){const Y=Ce(we);return be.encodeByteArray(Y,!0)}(we).replace(/\./g,"")},ie=function(we){try{return be.decodeString(we,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function Re(we,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===we&&(we={});break;case Array:we=[];break;default:return Y}for(const V in Y)!Y.hasOwnProperty(V)||!mt(V)||(we[V]=Re(we[V],Y[V]));return we}function mt(we){return"__proto__"!==we}const bt=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const we=process.env.__FIREBASE_DEFAULTS__;return we?JSON.parse(we):void 0})()||(()=>{if(typeof document>"u")return;let we;try{we=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Y=we&&ie(we[1]);return Y&&JSON.parse(Y)})()}catch(we){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${we}`)}},qe=we=>{const Y=(we=>{var Y,V;return null===(V=null===(Y=bt())||void 0===Y?void 0:Y.emulatorHosts)||void 0===V?void 0:V[we]})(we);if(!Y)return;const V=Y.lastIndexOf(":");if(V<=0||V+1===Y.length)throw new Error(`Invalid host ${Y} with no separate hostname and port!`);const x=parseInt(Y.substring(V+1),10);return"["===Y[0]?[Y.substring(1,V-1),x]:[Y.substring(0,V),x]},ke=()=>{var we;return null===(we=bt())||void 0===we?void 0:we.config},Xe=we=>{var Y;return null===(Y=bt())||void 0===Y?void 0:Y[`_${we}`]};class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,V)=>{this.resolve=Y,this.reject=V})}wrapCallback(Y){return(V,x)=>{V?this.reject(V):this.resolve(x),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(V):Y(V,x))}}}function Qe(we,Y){if(we.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=Y||"demo-project",O=we.iat||0,ae=we.sub||we.user_id;if(!ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xe=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:O,exp:O+3600,auth_time:O,sub:ae,user_id:ae,firebase:{sign_in_provider:"custom",identities:{}}},we);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(xe)),""].join(".")}function yt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function St(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function ge(){var we;const Y=null===(we=bt())||void 0===we?void 0:we.forceEnvironment;if("node"===Y)return!0;if("browser"===Y)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ht(){return"object"==typeof self&&self.self===self}function Jt(){const we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function xn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Tt(){const we=yt();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function le(){return!ge()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function Ae(){return new Promise((we,Y)=>{try{let V=!0;const x="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(x);O.onsuccess=()=>{O.result.close(),V||self.indexedDB.deleteDatabase(x),we(!0)},O.onupgradeneeded=()=>{V=!1},O.onerror=()=>{var ae;Y((null===(ae=O.error)||void 0===ae?void 0:ae.message)||"")}}catch(V){Y(V)}})}class Ie extends Error{constructor(Y,V,x){super(V),this.code=Y,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(Y,V,x){this.service=Y,this.serviceName=V,this.errors=x}create(Y,...V){const x=V[0]||{},O=`${this.service}/${Y}`,ae=this.errors[Y],xe=ae?function Et(we,Y){return we.replace(It,(V,x)=>{const O=Y[x];return null!=O?String(O):`<${x}?>`})}(ae,x):"Error";return new Ie(O,`${this.serviceName}: ${xe} (${O}).`,x)}}const It=/\{\$([^}]+)}/g;function On(we,Y){return Object.prototype.hasOwnProperty.call(we,Y)}function Nt(we){for(const Y in we)if(Object.prototype.hasOwnProperty.call(we,Y))return!1;return!0}function tn(we,Y){if(we===Y)return!0;const V=Object.keys(we),x=Object.keys(Y);for(const O of V){if(!x.includes(O))return!1;const ae=we[O],xe=Y[O];if(sr(ae)&&sr(xe)){if(!tn(ae,xe))return!1}else if(ae!==xe)return!1}for(const O of x)if(!V.includes(O))return!1;return!0}function sr(we){return null!==we&&"object"==typeof we}function Ot(we){const Y=[];for(const[V,x]of Object.entries(we))Array.isArray(x)?x.forEach(O=>{Y.push(encodeURIComponent(V)+"="+encodeURIComponent(O))}):Y.push(encodeURIComponent(V)+"="+encodeURIComponent(x));return Y.length?"&"+Y.join("&"):""}function cn(we){const Y={};return we.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[O,ae]=x.split("=");Y[decodeURIComponent(O)]=decodeURIComponent(ae)}}),Y}function Cn(we){const Y=we.indexOf("?");if(!Y)return"";const V=we.indexOf("#",Y);return we.substring(Y,V>0?V:void 0)}function ir(we,Y){const V=new cr(we,Y);return V.subscribe.bind(V)}class cr{constructor(Y,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{Y(this)}).catch(x=>{this.error(x)})}next(Y){this.forEachObserver(V=>{V.next(Y)})}error(Y){this.forEachObserver(V=>{V.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,V,x){let O;if(void 0===Y&&void 0===V&&void 0===x)throw new Error("Missing Observer.");O=function Mn(we,Y){if("object"!=typeof we||null===we)return!1;for(const V of Y)if(V in we&&"function"==typeof we[V])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:V,complete:x},void 0===O.next&&(O.next=Or),void 0===O.error&&(O.error=Or),void 0===O.complete&&(O.complete=Or);const ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),ae}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,Y)}sendOne(Y,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{V(this.observers[Y])}catch(x){typeof console<"u"&&console.error&&console.error(x)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Or(){}function Yn(we){return we&&we._delegate?we._delegate:we}},9730:(on,et,k)=>{k.d(et,{O:()=>xn});var l=k(5879),y=k(3768),z=k(518),Ce=k(5377),me=k(6814);function be($e,Tt){if(1&$e&&l._UZ(0,"button",11),2&$e){const it=Tt.index;l.ekj("active",0===it),l.uIk("data-bs-slide-to",it)("aria-current",0===it?"true":null)("aria-label","Slide "+(it+1))}}function je($e,Tt){if(1&$e){const it=l.EpF();l.TgZ(0,"div",12),l._UZ(1,"img",13),l.TgZ(2,"div",14)(3,"h1"),l._uU(4,"Welcome to "),l._UZ(5,"br"),l._uU(6),l.qZA(),l.TgZ(7,"div",15),l._UZ(8,"br"),l.TgZ(9,"p"),l._uU(10),l.qZA()(),l.TgZ(11,"button",16),l.NdJ("click",function(){l.CHM(it);const le=l.oxw(2);return l.KtG(le.navigateToContact())}),l._uU(12," Book Consultation "),l.qZA()()()}if(2&$e){const it=Tt.$implicit,Pe=Tt.index,le=l.oxw(2);l.ekj("active",0===Pe),l.xp6(1),l.Q6J("src",it,l.LSH),l.xp6(5),l.hij(" ",le.business.businessName,""),l.xp6(4),l.Oqu(le.business.tagline)}}function Le($e,Tt){if(1&$e&&(l.TgZ(0,"div",1)(1,"div",2),l.YNc(2,be,1,5,"button",3),l.qZA(),l.TgZ(3,"div",4),l.YNc(4,je,13,5,"div",5),l.qZA(),l.TgZ(5,"button",6),l._UZ(6,"span",7),l.TgZ(7,"span",8),l._uU(8,"Previous"),l.qZA()(),l.TgZ(9,"button",9),l._UZ(10,"span",10),l.TgZ(11,"span",8),l._uU(12,"Next"),l.qZA()()()),2&$e){const it=l.oxw();l.xp6(2),l.Q6J("ngForOf",it.business.heroImages),l.xp6(2),l.Q6J("ngForOf",it.business.heroImages)}}let ze=(()=>{class $e{constructor(it){this.router=it}ngOnInit(){this.fetchBusinessData()}navigateToContact(){this.router.navigate(["/contact-us"])}fetchBusinessData(){this.business={businessName:"#1 Helping Hand AFH",tagline:"We\u2019re Family, Not Just Care.",heroImages:["../../../assets/sharedAssets/istockphoto-804432288-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-613308420-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-918529390-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1324090651-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1170514008-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1315315044-2048x2048.jpg"]}}static#e=this.\u0275fac=function(Pe){return new(Pe||$e)(l.Y36(z.F0))};static#t=this.\u0275cmp=l.Xpm({type:$e,selectors:[["app-hero-carousel"]],inputs:{businessID:"businessID"},decls:1,vars:1,consts:[["id","heroCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hero-overlay"],[1,"business-subtitle","garamond"],[1,"action-btn",3,"click"]],template:function(Pe,le){1&Pe&&l.YNc(0,Le,13,2,"div",0),2&Pe&&l.Q6J("ngIf",le.business)},dependencies:[me.sg,me.O5],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]{position:relative;height:800px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--accent-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-size:100%,100%}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}"]})}return $e})();function ie($e,Tt){if(1&$e&&(l.TgZ(0,"div",5)(1,"div",6),l._UZ(2,"img",7),l.qZA(),l.TgZ(3,"div")(4,"div",8)(5,"div",9)(6,"p"),l._uU(7),l.qZA(),l.TgZ(8,"strong"),l._uU(9),l.qZA()()()()()),2&$e){const it=Tt.$implicit;l.xp6(2),l.s9C("src",it.photoURL,l.LSH),l.s9C("alt",it.name),l.xp6(5),l.hij('" ',it.quote,' "'),l.xp6(2),l.Oqu(it.name)}}let re=(()=>{class $e{static#e=this.\u0275fac=function(Pe){return new(Pe||$e)};static#t=this.\u0275cmp=l.Xpm({type:$e,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials"},decls:6,vars:1,consts:[[1,"testimonial-comp"],[1,"testimonial-heading"],[1,"section-heading"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-image"],[3,"src","alt"],[1,"testimonial-content","garamond"],[1,""]],template:function(Pe,le){1&Pe&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2),l._uU(3,"Testimonials"),l.qZA()(),l.TgZ(4,"div",3),l.YNc(5,ie,10,4,"div",4),l.qZA()()),2&Pe&&(l.xp6(5),l.Q6J("ngForOf",le.testimonials))},dependencies:[me.sg],styles:[".testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-content[_ngcontent-%COMP%]{max-width:300px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);line-height:1.7}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--accent-color)}"]})}return $e})(),Re=(()=>{class $e{static#e=this.\u0275fac=function(Pe){return new(Pe||$e)};static#t=this.\u0275cmp=l.Xpm({type:$e,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(Pe,le){1&Pe&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2),l._UZ(3,"i",3),l.TgZ(4,"p"),l._uU(5),l.qZA()(),l.TgZ(6,"div",2),l._UZ(7,"i",4),l.TgZ(8,"p"),l._uU(9),l.qZA()(),l.TgZ(10,"div",2),l._UZ(11,"i",5),l.TgZ(12,"p"),l._uU(13),l.qZA()()()()),2&Pe&&(l.xp6(5),l.Oqu(le.phoneNumber),l.xp6(4),l.Oqu(le.address),l.xp6(4),l.Oqu(le.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return $e})();function mt($e,Tt){if(1&$e&&(l.TgZ(0,"div",7),l._UZ(1,"i",8),l.TgZ(2,"h3"),l._uU(3),l.qZA(),l.TgZ(4,"p"),l._uU(5),l.qZA()()),2&$e){const it=Tt.$implicit;l.xp6(1),l.Q6J("ngClass",it.icon),l.xp6(2),l.Oqu(it.title),l.xp6(2),l.Oqu(it.description)}}let We=(()=>{class $e{static#e=this.\u0275fac=function(Pe){return new(Pe||$e)};static#t=this.\u0275cmp=l.Xpm({type:$e,selectors:[["app-our-services-home"]],inputs:{services:"services"},decls:10,vars:1,consts:[[1,"services-section"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"services-container"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[3,"ngClass"]],template:function(Pe,le){1&Pe&&(l.TgZ(0,"section",0)(1,"div",1)(2,"span",2),l._uU(3,"Our"),l.qZA(),l.TgZ(4,"span",3),l._uU(5,"Services"),l.qZA()(),l.TgZ(6,"p",4),l._uU(7," Home Care From Trained Professionals "),l.qZA(),l.TgZ(8,"div",5),l.YNc(9,mt,6,3,"div",6),l.qZA()()),2&Pe&&(l.xp6(9),l.Q6J("ngForOf",le.services))},dependencies:[me.mk,me.sg],styles:[".services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}@media (max-width: 768px){.services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.service-item[_ngcontent-%COMP%]{margin-bottom:20px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.service-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}"]})}return $e})(),Rt=(()=>{class $e{constructor(it){this.router=it}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(Pe){return new(Pe||$e)(l.Y36(z.F0))};static#t=this.\u0275cmp=l.Xpm({type:$e,selectors:[["app-welcome"]],inputs:{welcomeMsg:"welcomeMsg",keyServicesHighlights:"keyServicesHighlights"},decls:14,vars:2,consts:[[1,"info-container"],[1,"overlay"],[1,"content","garamond"],[1,"brand-name"],[1,"buttons"],[1,"contact-btn",3,"click"]],template:function(Pe,le){1&Pe&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),l._uU(4,"We Are "),l.TgZ(5,"span",3),l._uU(6,"Helping Hand"),l.qZA()(),l.TgZ(7,"h1"),l._uU(8),l.qZA(),l.TgZ(9,"p"),l._uU(10),l.qZA(),l.TgZ(11,"div",4)(12,"button",5),l.NdJ("click",function(){return le.navigateToContact()}),l._uU(13,"Contact Us"),l.qZA()()()()()),2&Pe&&(l.xp6(8),l.Oqu(le.welcomeMsg),l.xp6(2),l.Oqu(le.keyServicesHighlights))},styles:[".info-container[_ngcontent-%COMP%]{position:relative;width:100%;height:600px;background-color:var(--background-color);color:var( --text-color)}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--accent-color)}h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700}p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.learn-more-btn[_ngcontent-%COMP%], .contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--accent-color);font-size:1.4rem}.learn-more-btn[_ngcontent-%COMP%]{background-color:#888;color:#000}.contact-btn[_ngcontent-%COMP%]{background-color:var(--accent-color);color:var(--primary-color)}"]})}return $e})(),vt=(()=>{class $e{constructor(it){this.router=it}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(Pe){return new(Pe||$e)(l.Y36(z.F0))};static#t=this.\u0275cmp=l.Xpm({type:$e,selectors:[["app-consultation"]],decls:10,vars:0,consts:[[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"btn-book-consultation",3,"click"]],template:function(Pe,le){1&Pe&&(l.TgZ(0,"div",0)(1,"div",1)(2,"span",2),l._uU(3,"Book a "),l.qZA(),l.TgZ(4,"span",3),l._uU(5," Consultation"),l.qZA()(),l.TgZ(6,"p",4),l._uU(7," We\u2019ll prepare a proposal and walk you through every step of the process. "),l.qZA(),l.TgZ(8,"button",5),l.NdJ("click",function(){return le.navigateToContact()}),l._uU(9,"Book Consultation"),l.qZA()())},styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--accent-color);font-size:1.4rem;border:none;color:var(--primary-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--accent-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}"]})}return $e})();function Vt($e,Tt){if(1&$e&&(l.TgZ(0,"div",8),l._UZ(1,"div",9)(2,"div",10),l.qZA()),2&$e){const it=Tt.$implicit;l.xp6(1),l.Q6J("innerHTML",it.name,l.oJD),l.xp6(1),l.Q6J("innerHTML",it.description,l.oJD)}}let bt=(()=>{class $e{constructor(it,Pe){this.webContent=it,this.route=Pe}ngOnInit(){this.route.queryParams.subscribe(it=>{this.webContent.getBusinessData(it.id).subscribe(le=>{le&&(this.business=le)})})}static#e=this.\u0275fac=function(Pe){return new(Pe||$e)(l.Y36(y._),l.Y36(z.gz))};static#t=this.\u0275cmp=l.Xpm({type:$e,selectors:[["app-features"]],decls:11,vars:1,consts:[[1,"services-section"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"features-section"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(Pe,le){1&Pe&&(l.TgZ(0,"section",0)(1,"div",1)(2,"span",2),l._uU(3,"Our Unique "),l.qZA(),l.TgZ(4,"span",3),l._uU(5," Features"),l.qZA()(),l.TgZ(6,"p",4),l._uU(7," What sets us appart. "),l.qZA(),l.TgZ(8,"div",5)(9,"div",6),l.YNc(10,Vt,3,2,"div",7),l.qZA()()()),2&Pe&&(l.xp6(10),l.Q6J("ngForOf",le.business.uniqueService))},dependencies:[me.sg],styles:[".services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.service-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return $e})();function sn($e,Tt){if(1&$e&&(l.TgZ(0,"div",9),l._UZ(1,"div",10)(2,"div",11),l.qZA()),2&$e){const it=Tt.$implicit;l.xp6(1),l.Q6J("innerHTML",it.name,l.oJD),l.xp6(1),l.Q6J("innerHTML",it.description,l.oJD)}}const qe=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Wheelchair accessible"}},ke="Duis aute irure dolor in reprehenderit in voluptate velit esse.",Xe=function(){return{icon:"fas fa-users",title:"Companionship Care",description:ke}},Qe=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences"}},yt=function(){return{icon:"fas fa-pills",title:"Medication Reminders",description:ke}},ge=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"Bathing and personal care, Daily housekeeping and laundry"}},Ht=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"Medications management, including diabetes care"}},Jt=function($e,Tt,it,Pe,le,se){return[$e,Tt,it,Pe,le,se]};let xn=(()=>{class $e{constructor(it,Pe,le){this.webContent=it,this.route=Pe,this.metaService=le,this.business={businessName:"",businessURL:"",keyWords:"",tagline:"",uniqueService:[],whyChoose:[],businessStory:"",motivation:"",mission:"",vision:"",certifications:"",targetAudience:"",services:[],specialPrograms:"",tours:"",freeConsulting:"",websiteGoals:"",logoImage:"",ownerImagesBios:"",staffImagesBios:"",facilityImages:[],lifestyleImages:[],mediaFeatures:"",ratings:"",testimonials:[],address:"",phone:"",fax:"",email:"",businessHours:"",socialMedia:"",welcomeMessage:"",keyServicesHighlights:"",teamValues:"",benefits:[],pricingStructure:"",contactFormDetails:"",mapDirections:"",photoGalleryText:"",employees:[],id:"",faqs:"",blogNews:"",mapIframe:"",isActive:!1}}ngOnInit(){this.route.queryParams.subscribe(it=>{let Pe=it.id;this.metaService.getMetaData(Pe).subscribe(le=>{console.log("Metadata",le),this.metaService.updateMetaTags(le)}),this.webContent.getBusinessData(Pe).subscribe(le=>{le&&(this.business=le)})})}static#e=this.\u0275fac=function(Pe){return new(Pe||$e)(l.Y36(y._),l.Y36(z.gz),l.Y36(Ce.R))};static#t=this.\u0275cmp=l.Xpm({type:$e,selectors:[["app-home"]],decls:12,vars:22,consts:[[3,"businessID"],[3,"welcomeMsg","keyServicesHighlights"],[3,"services"],[1,"features-section"],[1,"section-heading"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[3,"testimonials"],[3,"phoneNumber","address","email"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(Pe,le){1&Pe&&(l._UZ(0,"app-hero-carousel",0)(1,"app-welcome",1)(2,"app-our-services-home",2),l.TgZ(3,"div",3)(4,"div",4),l._uU(5,"Why Choose Us"),l.qZA(),l.TgZ(6,"div",5),l.YNc(7,sn,3,2,"div",6),l.qZA()(),l._UZ(8,"app-features")(9,"app-testimonials",7)(10,"app-consultation")(11,"app-information",8)),2&Pe&&(l.Q6J("businessID",le.business.id),l.xp6(1),l.Q6J("welcomeMsg",le.business.welcomeMessage)("keyServicesHighlights",le.business.keyServicesHighlights),l.xp6(1),l.Q6J("services",l.HTZ(15,Jt,l.DdM(9,qe),l.DdM(10,Xe),l.DdM(11,Qe),l.DdM(12,yt),l.DdM(13,ge),l.DdM(14,Ht))),l.xp6(5),l.Q6J("ngForOf",le.business.whyChoose),l.xp6(2),l.Q6J("testimonials",le.business.testimonials),l.xp6(2),l.Q6J("phoneNumber",le.business.phone)("address",le.business.address)("email",le.business.email))},dependencies:[me.sg,ze,re,Re,We,Rt,vt,bt],styles:[".container[_ngcontent-%COMP%]{padding:40px 20px}.intro-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;align-items:center;max-width:1200px;margin:0 auto;padding:40px 20px;text-align:left;min-height:400px}.left[_ngcontent-%COMP%]{flex:1;margin-right:20px}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:400;margin:0}.right[_ngcontent-%COMP%]{flex:1;margin-left:20px}.right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;line-height:1.6;margin:0}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{margin:0;text-align:center}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1024px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;background-color:var(--background-color);text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return $e})()},2333:(on,et,k)=>{k.d(et,{e:()=>me});var l=k(7398),y=k(5879),z=k(7213),Ce=k(518);let me=(()=>{class be{constructor(Le,ze){this.afAuth=Le,this.router=ze,this.user$=Le.authState}login(Le,ze){return this.afAuth.signInWithEmailAndPassword(Le,ze)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,l.U)(Le=>!!Le))}isLoggedIn(){return!!localStorage.getItem("user")}static#e=this.\u0275fac=function(ze){return new(ze||be)(y.LFG(z.zQ),y.LFG(Ce.F0))};static#t=this.\u0275prov=y.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},5377:(on,et,k)=>{k.d(et,{R:()=>me});var l=k(7398),y=k(5879),z=k(6593),Ce=k(7104);let me=(()=>{class be{constructor(Le,ze,ie){this.meta=Le,this.title=ze,this.firestore=ie,this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}updateMetaTags(Le){this.title.setTitle(Le.title),this.meta.updateTag({name:"description",content:Le.description}),this.meta.updateTag({name:"keywords",content:Le.keywords}),this.meta.updateTag({property:"og:title",content:Le.title}),this.meta.updateTag({property:"og:description",content:Le.description})}getMetaData(Le){return(null==Le||""==Le||""===Le)&&(Le=this.defaultBusinessId),this.firestore.collection("businesses").doc(Le).valueChanges().pipe((0,l.U)(ze=>(console.log("Fetched business metadata:",ze),ze?{title:ze.metaTitle||"Default Title",description:ze.metaDescription||"Default Description",keywords:ze.metaKeywords||"default, keywords"}:{title:"Default Title",description:"Default Description",keywords:"default, keywords"})))}static#e=this.\u0275fac=function(ze){return new(ze||be)(y.LFG(z.h_),y.LFG(z.Dx),y.LFG(Ce.ST))};static#t=this.\u0275prov=y.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},3768:(on,et,k)=>{k.d(et,{_:()=>je});var l=k(7398),y=k(6306),z=k(2096),Ce=k(5879),me=k(7104),be=k(778);let je=(()=>{class Le{constructor(ie,re){this.firestore=ie,this.storage=re,this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}getBusinessData(ie){return(null==ie||""==ie||""===ie)&&(ie=this.defaultBusinessId),this.firestore.collection("businesses").doc(ie).snapshotChanges().pipe((0,l.U)(re=>{const Re=re.payload.data(),mt=re.payload.id;if(Re){const{id:We,...Rt}=Re;return{id:mt,...Rt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(ie){return this.storage.ref(ie).getDownloadURL().pipe((0,y.K)(re=>(console.error("Error fetching photo URL:",re),(0,z.of)(""))))}getEmployeesByBusinessId(ie){return(null==ie||""==ie||""===ie)&&(ie=this.defaultBusinessId),this.firestore.collection("businesses").doc(ie).get().pipe((0,l.U)(re=>{if(re.exists){const Re=re.data();return Re&&Re.employees?(console.log("Fetched employees:",Re.employees),Re.employees):(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,y.K)(re=>(console.error("Error fetching employees:",re),(0,z.of)([]))))}getBusinessGalleryImagesById(ie){return console.log("Webcontent getBusinessGalleryImagesByID: ",ie),(null==ie||""==ie||""===ie)&&(ie=this.defaultBusinessId),this.firestore.collection("businesses").doc(ie).collection("gallery").valueChanges()}static#e=this.\u0275fac=function(re){return new(re||Le)(Ce.LFG(me.ST),Ce.LFG(be.Q1))};static#t=this.\u0275prov=Ce.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})()},7877:(on,et,k)=>{var l=k(6593),y=k(5879),z=k(2096),Ce=k(2459),me=k(5592),be=k(6328),je=k(2181),Le=k(7398),ze=k(4716),ie=k(4664),re=k(6814);class Re{}class mt{}class We{constructor(he){this.normalizedNames=new Map,this.lazyUpdate=null,he?"string"==typeof he?this.lazyInit=()=>{this.headers=new Map,he.split("\n").forEach(X=>{const De=X.indexOf(":");if(De>0){const ot=X.slice(0,De),zt=ot.toLowerCase(),rn=X.slice(De+1).trim();this.maybeSetNormalizedName(ot,zt),this.headers.has(zt)?this.headers.get(zt).push(rn):this.headers.set(zt,[rn])}})}:typeof Headers<"u"&&he instanceof Headers?(this.headers=new Map,he.forEach((X,De)=>{this.setHeaderEntries(De,X)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(he).forEach(([X,De])=>{this.setHeaderEntries(X,De)})}:this.headers=new Map}has(he){return this.init(),this.headers.has(he.toLowerCase())}get(he){this.init();const X=this.headers.get(he.toLowerCase());return X&&X.length>0?X[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(he){return this.init(),this.headers.get(he.toLowerCase())||null}append(he,X){return this.clone({name:he,value:X,op:"a"})}set(he,X){return this.clone({name:he,value:X,op:"s"})}delete(he,X){return this.clone({name:he,value:X,op:"d"})}maybeSetNormalizedName(he,X){this.normalizedNames.has(X)||this.normalizedNames.set(X,he)}init(){this.lazyInit&&(this.lazyInit instanceof We?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(he=>this.applyUpdate(he)),this.lazyUpdate=null))}copyFrom(he){he.init(),Array.from(he.headers.keys()).forEach(X=>{this.headers.set(X,he.headers.get(X)),this.normalizedNames.set(X,he.normalizedNames.get(X))})}clone(he){const X=new We;return X.lazyInit=this.lazyInit&&this.lazyInit instanceof We?this.lazyInit:this,X.lazyUpdate=(this.lazyUpdate||[]).concat([he]),X}applyUpdate(he){const X=he.name.toLowerCase();switch(he.op){case"a":case"s":let De=he.value;if("string"==typeof De&&(De=[De]),0===De.length)return;this.maybeSetNormalizedName(he.name,X);const ot=("a"===he.op?this.headers.get(X):void 0)||[];ot.push(...De),this.headers.set(X,ot);break;case"d":const zt=he.value;if(zt){let rn=this.headers.get(X);if(!rn)return;rn=rn.filter(fi=>-1===zt.indexOf(fi)),0===rn.length?(this.headers.delete(X),this.normalizedNames.delete(X)):this.headers.set(X,rn)}else this.headers.delete(X),this.normalizedNames.delete(X)}}setHeaderEntries(he,X){const De=(Array.isArray(X)?X:[X]).map(zt=>zt.toString()),ot=he.toLowerCase();this.headers.set(ot,De),this.maybeSetNormalizedName(he,ot)}forEach(he){this.init(),Array.from(this.normalizedNames.keys()).forEach(X=>he(this.normalizedNames.get(X),this.headers.get(X)))}}class vt{encodeKey(he){return qe(he)}encodeValue(he){return qe(he)}decodeKey(he){return decodeURIComponent(he)}decodeValue(he){return decodeURIComponent(he)}}const bt=/%(\d[a-f0-9])/gi,sn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qe(oe){return encodeURIComponent(oe).replace(bt,(he,X)=>sn[X]??he)}function ke(oe){return`${oe}`}class Xe{constructor(he={}){if(this.updates=null,this.cloneFrom=null,this.encoder=he.encoder||new vt,he.fromString){if(he.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Vt(oe,he){const X=new Map;return oe.length>0&&oe.replace(/^\?/,"").split("&").forEach(ot=>{const zt=ot.indexOf("="),[rn,fi]=-1==zt?[he.decodeKey(ot),""]:[he.decodeKey(ot.slice(0,zt)),he.decodeValue(ot.slice(zt+1))],Kn=X.get(rn)||[];Kn.push(fi),X.set(rn,Kn)}),X}(he.fromString,this.encoder)}else he.fromObject?(this.map=new Map,Object.keys(he.fromObject).forEach(X=>{const De=he.fromObject[X],ot=Array.isArray(De)?De.map(ke):[ke(De)];this.map.set(X,ot)})):this.map=null}has(he){return this.init(),this.map.has(he)}get(he){this.init();const X=this.map.get(he);return X?X[0]:null}getAll(he){return this.init(),this.map.get(he)||null}keys(){return this.init(),Array.from(this.map.keys())}append(he,X){return this.clone({param:he,value:X,op:"a"})}appendAll(he){const X=[];return Object.keys(he).forEach(De=>{const ot=he[De];Array.isArray(ot)?ot.forEach(zt=>{X.push({param:De,value:zt,op:"a"})}):X.push({param:De,value:ot,op:"a"})}),this.clone(X)}set(he,X){return this.clone({param:he,value:X,op:"s"})}delete(he,X){return this.clone({param:he,value:X,op:"d"})}toString(){return this.init(),this.keys().map(he=>{const X=this.encoder.encodeKey(he);return this.map.get(he).map(De=>X+"="+this.encoder.encodeValue(De)).join("&")}).filter(he=>""!==he).join("&")}clone(he){const X=new Xe({encoder:this.encoder});return X.cloneFrom=this.cloneFrom||this,X.updates=(this.updates||[]).concat(he),X}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(he=>this.map.set(he,this.cloneFrom.map.get(he))),this.updates.forEach(he=>{switch(he.op){case"a":case"s":const X=("a"===he.op?this.map.get(he.param):void 0)||[];X.push(ke(he.value)),this.map.set(he.param,X);break;case"d":if(void 0===he.value){this.map.delete(he.param);break}{let De=this.map.get(he.param)||[];const ot=De.indexOf(ke(he.value));-1!==ot&&De.splice(ot,1),De.length>0?this.map.set(he.param,De):this.map.delete(he.param)}}}),this.cloneFrom=this.updates=null)}}class Qe{constructor(){this.map=new Map}set(he,X){return this.map.set(he,X),this}get(he){return this.map.has(he)||this.map.set(he,he.defaultValue()),this.map.get(he)}delete(he){return this.map.delete(he),this}has(he){return this.map.has(he)}keys(){return this.map.keys()}}function St(oe){return typeof ArrayBuffer<"u"&&oe instanceof ArrayBuffer}function ge(oe){return typeof Blob<"u"&&oe instanceof Blob}function Ht(oe){return typeof FormData<"u"&&oe instanceof FormData}class xn{constructor(he,X,De,ot){let zt;if(this.url=X,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=he.toUpperCase(),function yt(oe){switch(oe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ot?(this.body=void 0!==De?De:null,zt=ot):zt=De,zt&&(this.reportProgress=!!zt.reportProgress,this.withCredentials=!!zt.withCredentials,zt.responseType&&(this.responseType=zt.responseType),zt.headers&&(this.headers=zt.headers),zt.context&&(this.context=zt.context),zt.params&&(this.params=zt.params)),this.headers||(this.headers=new We),this.context||(this.context=new Qe),this.params){const rn=this.params.toString();if(0===rn.length)this.urlWithParams=X;else{const fi=X.indexOf("?");this.urlWithParams=X+(-1===fi?"?":fi<X.length-1?"&":"")+rn}}else this.params=new Xe,this.urlWithParams=X}serializeBody(){return null===this.body?null:St(this.body)||ge(this.body)||Ht(this.body)||function Jt(oe){return typeof URLSearchParams<"u"&&oe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ht(this.body)?null:ge(this.body)?this.body.type||null:St(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(he={}){const X=he.method||this.method,De=he.url||this.url,ot=he.responseType||this.responseType,zt=void 0!==he.body?he.body:this.body,rn=void 0!==he.withCredentials?he.withCredentials:this.withCredentials,fi=void 0!==he.reportProgress?he.reportProgress:this.reportProgress;let Kn=he.headers||this.headers,ro=he.params||this.params;const Ms=he.context??this.context;return void 0!==he.setHeaders&&(Kn=Object.keys(he.setHeaders).reduce((as,Ni)=>as.set(Ni,he.setHeaders[Ni]),Kn)),he.setParams&&(ro=Object.keys(he.setParams).reduce((as,Ni)=>as.set(Ni,he.setParams[Ni]),ro)),new xn(X,De,zt,{params:ro,headers:Kn,context:Ms,reportProgress:fi,responseType:ot,withCredentials:rn})}}var $e=function(oe){return oe[oe.Sent=0]="Sent",oe[oe.UploadProgress=1]="UploadProgress",oe[oe.ResponseHeader=2]="ResponseHeader",oe[oe.DownloadProgress=3]="DownloadProgress",oe[oe.Response=4]="Response",oe[oe.User=5]="User",oe}($e||{});class Tt{constructor(he,X=200,De="OK"){this.headers=he.headers||new We,this.status=void 0!==he.status?he.status:X,this.statusText=he.statusText||De,this.url=he.url||null,this.ok=this.status>=200&&this.status<300}}class it extends Tt{constructor(he={}){super(he),this.type=$e.ResponseHeader}clone(he={}){return new it({headers:he.headers||this.headers,status:void 0!==he.status?he.status:this.status,statusText:he.statusText||this.statusText,url:he.url||this.url||void 0})}}class Pe extends Tt{constructor(he={}){super(he),this.type=$e.Response,this.body=void 0!==he.body?he.body:null}clone(he={}){return new Pe({body:void 0!==he.body?he.body:this.body,headers:he.headers||this.headers,status:void 0!==he.status?he.status:this.status,statusText:he.statusText||this.statusText,url:he.url||this.url||void 0})}}class le extends Tt{constructor(he){super(he,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${he.url||"(unknown url)"}`:`Http failure response for ${he.url||"(unknown url)"}: ${he.status} ${he.statusText}`,this.error=he.error||null}}function se(oe,he){return{body:he,headers:oe.headers,context:oe.context,observe:oe.observe,params:oe.params,reportProgress:oe.reportProgress,responseType:oe.responseType,withCredentials:oe.withCredentials}}let Ae=(()=>{class oe{constructor(X){this.handler=X}request(X,De,ot={}){let zt;if(X instanceof xn)zt=X;else{let Kn,ro;Kn=ot.headers instanceof We?ot.headers:new We(ot.headers),ot.params&&(ro=ot.params instanceof Xe?ot.params:new Xe({fromObject:ot.params})),zt=new xn(X,De,void 0!==ot.body?ot.body:null,{headers:Kn,context:ot.context,params:ro,reportProgress:ot.reportProgress,responseType:ot.responseType||"json",withCredentials:ot.withCredentials})}const rn=(0,z.of)(zt).pipe((0,be.b)(Kn=>this.handler.handle(Kn)));if(X instanceof xn||"events"===ot.observe)return rn;const fi=rn.pipe((0,je.h)(Kn=>Kn instanceof Pe));switch(ot.observe||"body"){case"body":switch(zt.responseType){case"arraybuffer":return fi.pipe((0,Le.U)(Kn=>{if(null!==Kn.body&&!(Kn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Kn.body}));case"blob":return fi.pipe((0,Le.U)(Kn=>{if(null!==Kn.body&&!(Kn.body instanceof Blob))throw new Error("Response is not a Blob.");return Kn.body}));case"text":return fi.pipe((0,Le.U)(Kn=>{if(null!==Kn.body&&"string"!=typeof Kn.body)throw new Error("Response is not a string.");return Kn.body}));default:return fi.pipe((0,Le.U)(Kn=>Kn.body))}case"response":return fi;default:throw new Error(`Unreachable: unhandled observe type ${ot.observe}}`)}}delete(X,De={}){return this.request("DELETE",X,De)}get(X,De={}){return this.request("GET",X,De)}head(X,De={}){return this.request("HEAD",X,De)}jsonp(X,De){return this.request("JSONP",X,{params:(new Xe).append(De,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(X,De={}){return this.request("OPTIONS",X,De)}patch(X,De,ot={}){return this.request("PATCH",X,se(ot,De))}post(X,De,ot={}){return this.request("POST",X,se(ot,De))}put(X,De,ot={}){return this.request("PUT",X,se(ot,De))}static#e=this.\u0275fac=function(De){return new(De||oe)(y.LFG(Re))};static#t=this.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac})}return oe})();function qt(oe,he){return he(oe)}function Sn(oe,he){return(X,De)=>he.intercept(X,{handle:ot=>oe(ot,De)})}const tr=new y.OlP(""),xt=new y.OlP(""),En=new y.OlP("");function On(){let oe=null;return(he,X)=>{null===oe&&(oe=((0,y.f3M)(tr,{optional:!0})??[]).reduceRight(Sn,qt));const De=(0,y.f3M)(y.HDt),ot=De.add();return oe(he,X).pipe((0,ze.x)(()=>De.remove(ot)))}}let Ut=(()=>{class oe extends Re{constructor(X,De){super(),this.backend=X,this.injector=De,this.chain=null,this.pendingTasks=(0,y.f3M)(y.HDt)}handle(X){if(null===this.chain){const ot=Array.from(new Set([...this.injector.get(xt),...this.injector.get(En,[])]));this.chain=ot.reduceRight((zt,rn)=>function _n(oe,he,X){return(De,ot)=>X.runInContext(()=>he(De,zt=>oe(zt,ot)))}(zt,rn,this.injector),qt)}const De=this.pendingTasks.add();return this.chain(X,ot=>this.backend.handle(ot)).pipe((0,ze.x)(()=>this.pendingTasks.remove(De)))}static#e=this.\u0275fac=function(De){return new(De||oe)(y.LFG(mt),y.LFG(y.lqb))};static#t=this.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac})}return oe})();const xr=/^\)\]\}',?\n/;let Or=(()=>{class oe{constructor(X){this.xhrFactory=X}handle(X){if("JSONP"===X.method)throw new y.vHH(-2800,!1);const De=this.xhrFactory;return(De.\u0275loadImpl?(0,Ce.D)(De.\u0275loadImpl()):(0,z.of)(null)).pipe((0,ie.w)(()=>new me.y(zt=>{const rn=De.build();if(rn.open(X.method,X.urlWithParams),X.withCredentials&&(rn.withCredentials=!0),X.headers.forEach((pi,Yi)=>rn.setRequestHeader(pi,Yi.join(","))),X.headers.has("Accept")||rn.setRequestHeader("Accept","application/json, text/plain, */*"),!X.headers.has("Content-Type")){const pi=X.detectContentTypeHeader();null!==pi&&rn.setRequestHeader("Content-Type",pi)}if(X.responseType){const pi=X.responseType.toLowerCase();rn.responseType="json"!==pi?pi:"text"}const fi=X.serializeBody();let Kn=null;const ro=()=>{if(null!==Kn)return Kn;const pi=rn.statusText||"OK",Yi=new We(rn.getAllResponseHeaders()),xs=function Mn(oe){return"responseURL"in oe&&oe.responseURL?oe.responseURL:/^X-Request-URL:/m.test(oe.getAllResponseHeaders())?oe.getResponseHeader("X-Request-URL"):null}(rn)||X.url;return Kn=new it({headers:Yi,status:rn.status,statusText:pi,url:xs}),Kn},Ms=()=>{let{headers:pi,status:Yi,statusText:xs,url:$s}=ro(),io=null;204!==Yi&&(io=typeof rn.response>"u"?rn.responseText:rn.response),0===Yi&&(Yi=io?200:0);let lu=Yi>=200&&Yi<300;if("json"===X.responseType&&"string"==typeof io){const Zo=io;io=io.replace(xr,"");try{io=""!==io?JSON.parse(io):null}catch(Hs){io=Zo,lu&&(lu=!1,io={error:Hs,text:io})}}lu?(zt.next(new Pe({body:io,headers:pi,status:Yi,statusText:xs,url:$s||void 0})),zt.complete()):zt.error(new le({error:io,headers:pi,status:Yi,statusText:xs,url:$s||void 0}))},as=pi=>{const{url:Yi}=ro(),xs=new le({error:pi,status:rn.status||0,statusText:rn.statusText||"Unknown Error",url:Yi||void 0});zt.error(xs)};let Ni=!1;const La=pi=>{Ni||(zt.next(ro()),Ni=!0);let Yi={type:$e.DownloadProgress,loaded:pi.loaded};pi.lengthComputable&&(Yi.total=pi.total),"text"===X.responseType&&rn.responseText&&(Yi.partialText=rn.responseText),zt.next(Yi)},Va=pi=>{let Yi={type:$e.UploadProgress,loaded:pi.loaded};pi.lengthComputable&&(Yi.total=pi.total),zt.next(Yi)};return rn.addEventListener("load",Ms),rn.addEventListener("error",as),rn.addEventListener("timeout",as),rn.addEventListener("abort",as),X.reportProgress&&(rn.addEventListener("progress",La),null!==fi&&rn.upload&&rn.upload.addEventListener("progress",Va)),rn.send(fi),zt.next({type:$e.Sent}),()=>{rn.removeEventListener("error",as),rn.removeEventListener("abort",as),rn.removeEventListener("load",Ms),rn.removeEventListener("timeout",as),X.reportProgress&&(rn.removeEventListener("progress",La),null!==fi&&rn.upload&&rn.upload.removeEventListener("progress",Va)),rn.readyState!==rn.DONE&&rn.abort()}})))}static#e=this.\u0275fac=function(De){return new(De||oe)(y.LFG(re.JF))};static#t=this.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac})}return oe})();const Ci=new y.OlP("XSRF_ENABLED"),Nr=new y.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nr=new y.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dn{}let di=(()=>{class oe{constructor(X,De,ot){this.doc=X,this.platform=De,this.cookieName=ot,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const X=this.doc.cookie||"";return X!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,re.Mx)(X,this.cookieName),this.lastCookieString=X),this.lastToken}static#e=this.\u0275fac=function(De){return new(De||oe)(y.LFG(re.K0),y.LFG(y.Lbi),y.LFG(Nr))};static#t=this.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac})}return oe})();function Be(oe,he){const X=oe.url.toLowerCase();if(!(0,y.f3M)(Ci)||"GET"===oe.method||"HEAD"===oe.method||X.startsWith("http://")||X.startsWith("https://"))return he(oe);const De=(0,y.f3M)(Dn).getToken(),ot=(0,y.f3M)(nr);return null!=De&&!oe.headers.has(ot)&&(oe=oe.clone({headers:oe.headers.set(ot,De)})),he(oe)}var J=function(oe){return oe[oe.Interceptors=0]="Interceptors",oe[oe.LegacyInterceptors=1]="LegacyInterceptors",oe[oe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",oe[oe.NoXsrfProtection=3]="NoXsrfProtection",oe[oe.JsonpSupport=4]="JsonpSupport",oe[oe.RequestsMadeViaParent=5]="RequestsMadeViaParent",oe[oe.Fetch=6]="Fetch",oe}(J||{});function ft(...oe){const he=[Ae,Or,Ut,{provide:Re,useExisting:Ut},{provide:mt,useExisting:Or},{provide:xt,useValue:Be,multi:!0},{provide:Ci,useValue:!0},{provide:Dn,useClass:di}];for(const X of oe)he.push(...X.\u0275providers);return(0,y.MR2)(he)}const Tn=new y.OlP("LEGACY_INTERCEPTOR_FN");function gr(){return function ye(oe,he){return{\u0275kind:oe,\u0275providers:he}}(J.LegacyInterceptors,[{provide:Tn,useFactory:On},{provide:xt,useExisting:Tn,multi:!0}])}let ae=(()=>{class oe{static#e=this.\u0275fac=function(De){return new(De||oe)};static#t=this.\u0275mod=y.oAB({type:oe});static#n=this.\u0275inj=y.cJS({providers:[ft(gr())]})}return oe})();var Qn=k(518),ki=k(9730),Di=k(3768),Gr=k(5377),Xi=k(6306);function $i(oe,he){if(1&oe&&(y.TgZ(0,"div",4),y._UZ(1,"img",5),y.TgZ(2,"h3"),y._uU(3),y.qZA(),y.TgZ(4,"h4"),y._uU(5),y.qZA(),y.TgZ(6,"p"),y._uU(7),y.qZA()()),2&oe){const X=he.$implicit;y.xp6(1),y.s9C("alt",X.name),y.Q6J("src",X.photoURL,y.LSH),y.xp6(2),y.Oqu(X.name),y.xp6(2),y.Oqu(X.role),y.xp6(2),y.Oqu(X.bio)}}function Fr(oe,he){if(1&oe&&(y.TgZ(0,"div",1)(1,"h2"),y._uU(2,"Meet the Team"),y.qZA(),y.TgZ(3,"div",2),y.YNc(4,$i,8,5,"div",3),y.ALo(5,"async"),y.qZA()()),2&oe){const X=y.oxw();y.xp6(4),y.Q6J("ngForOf",y.lcZ(5,1,X.employees$))}}let Wn=(()=>{class oe{constructor(X,De){this.route=X,this.employeeService=De}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Le.U)(X=>X.get("id")||""),(0,ie.w)(X=>this.employeeService.getEmployeesByBusinessId(X)),(0,Xi.K)(X=>(console.error("Error fetching employees:",X),(0,z.of)([]))))}static#e=this.\u0275fac=function(De){return new(De||oe)(y.Y36(Qn.gz),y.Y36(Di._))};static#t=this.\u0275cmp=y.Xpm({type:oe,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(De,ot){1&De&&y.YNc(0,Fr,6,3,"div",0),2&De&&y.Q6J("ngIf",ot.employees$)},dependencies:[re.sg,re.O5,re.Ov],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--primary-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}return oe})();function ut(oe,he){if(1&oe){const X=y.EpF();y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"About Us"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5)(10,"div",6)(11,"h2",7),y._uU(12,"Our Story"),y.qZA()(),y._UZ(13,"div",8),y.qZA(),y.TgZ(14,"section",9)(15,"div",10),y._UZ(16,"img",11),y.TgZ(17,"div",6)(18,"h2",7),y._uU(19,"Our Mission"),y.qZA()(),y._UZ(20,"div",8),y.qZA(),y.TgZ(21,"div",12),y._UZ(22,"img",11),y.TgZ(23,"div",6)(24,"h2",7),y._uU(25,"Our Vision"),y.qZA()(),y._UZ(26,"div",8),y.qZA()(),y.TgZ(27,"section",13),y._UZ(28,"app-meet-the-team",14),y.qZA()(),y.TgZ(29,"div",15)(30,"div",16)(31,"h2"),y._uU(32,"Come Meet Our Family"),y.qZA(),y.TgZ(33,"p"),y._uU(34,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),y.qZA(),y.TgZ(35,"button",17),y.NdJ("click",function(){y.CHM(X);const ot=y.oxw();return y.KtG(ot.navigateToContact())}),y._uU(36,"Schedule a Visit"),y.qZA()()()()}if(2&oe){const X=y.oxw();y.xp6(13),y.Q6J("innerHTML",X.business.businessStory,y.oJD),y.xp6(3),y.Q6J("src",X.business.lifestyleImages,y.LSH),y.xp6(4),y.Q6J("innerHTML",X.business.mission,y.oJD),y.xp6(2),y.Q6J("src",X.business.facilityImages,y.LSH),y.xp6(4),y.Q6J("innerHTML",X.business.vision,y.oJD),y.xp6(2),y.Q6J("businessId",X.business.id)}}let Ze=(()=>{class oe{constructor(X,De,ot,zt){this.webContent=X,this.route=De,this.router=ot,this.metaService=zt}navigateToContact(){this.router.navigate(["/contact-us"])}ngOnInit(){this.route.queryParams.subscribe(X=>{this.businessId=X.id}),this.metaService.getMetaData(this.businessId).subscribe(X=>{this.metaService.updateMetaTags(X)}),this.webContent.getBusinessData(this.businessId).subscribe(X=>{X&&(this.business=X)})}static#e=this.\u0275fac=function(De){return new(De||oe)(y.Y36(Di._),y.Y36(Qn.gz),y.Y36(Qn.F0),y.Y36(Gr.R))};static#t=this.\u0275cmp=y.Xpm({type:oe,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],[3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"]],template:function(De,ot){1&De&&y.YNc(0,ut,37,6,"div",0),2&De&&y.Q6J("ngIf",ot.business)},dependencies:[re.O5,Wn],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return oe})();function Ct(oe,he){if(1&oe&&(y.TgZ(0,"li")(1,"h3"),y._uU(2),y.qZA()()),2&oe){const X=he.$implicit;y.xp6(2),y.Oqu(X.name)}}function en(oe,he){if(1&oe&&(y.TgZ(0,"li")(1,"h3"),y._uU(2),y.qZA()()),2&oe){const X=he.$implicit;y.xp6(2),y.Oqu(X.name)}}function bn(oe,he){if(1&oe){const X=y.EpF();y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"Our Services"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"Providing exceptional care tailored to your needs"),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5),y._UZ(10,"img",6),y.TgZ(11,"h2"),y._uU(12,"Our Comprehensive Services"),y.qZA(),y.TgZ(13,"ul"),y.YNc(14,Ct,3,1,"li",7),y.qZA()(),y.TgZ(15,"section",5),y._UZ(16,"img",6),y.TgZ(17,"h2"),y._uU(18,"Our Benefits"),y.qZA(),y.TgZ(19,"ul"),y.YNc(20,en,3,1,"li",7),y.qZA()(),y.TgZ(21,"section",8)(22,"h2"),y._uU(23,"Special Programs"),y.qZA(),y.TgZ(24,"h3"),y._uU(25),y.qZA()(),y.TgZ(26,"section",9)(27,"div",10),y._UZ(28,"img",11),y.TgZ(29,"div",12)(30,"h2",13),y._uU(31,"Tours"),y.qZA()(),y._UZ(32,"div",14),y.qZA(),y.TgZ(33,"div",15),y._UZ(34,"img",16),y.TgZ(35,"div",12)(36,"h2",13),y._uU(37,"Free Consulting"),y.qZA()(),y._UZ(38,"div",14),y.qZA()()(),y.TgZ(39,"div",17)(40,"div",18)(41,"h2"),y._uU(42,"Ready to Experience Exceptional Care?"),y.qZA(),y.TgZ(43,"p"),y._uU(44,"Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services."),y.qZA(),y.TgZ(45,"button",19),y.NdJ("click",function(){y.CHM(X);const ot=y.oxw();return y.KtG(ot.navigateToContact())}),y._uU(46,"Book a Consultation"),y.qZA()()()()}if(2&oe){const X=y.oxw();y.xp6(14),y.Q6J("ngForOf",X.business.services),y.xp6(6),y.Q6J("ngForOf",X.business.benefits),y.xp6(5),y.Oqu(X.business.specialPrograms),y.xp6(7),y.Q6J("innerHTML",X.business.tours,y.oJD),y.xp6(6),y.Q6J("innerHTML",X.business.freeConsulting,y.oJD)}}let Pn=(()=>{class oe{constructor(X,De,ot,zt){this.webContent=X,this.route=De,this.router=ot,this.metaService=zt}navigateToContact(){this.router.navigate(["/contact-us"])}ngOnInit(){this.route.queryParams.subscribe(X=>{let De=X.id;this.metaService.getMetaData(De).subscribe(ot=>{this.metaService.updateMetaTags(ot)}),this.webContent.getBusinessData(De).subscribe(ot=>{ot&&(this.business=ot)})})}static#e=this.\u0275fac=function(De){return new(De||oe)(y.Y36(Di._),y.Y36(Qn.gz),y.Y36(Qn.F0),y.Y36(Gr.R))};static#t=this.\u0275cmp=y.Xpm({type:oe,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","/assets/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_ (3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_ (1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"]],template:function(De,ot){1&De&&y.YNc(0,bn,47,5,"div",0),2&De&&y.Q6J("ngIf",ot.business)},dependencies:[re.sg,re.O5],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return oe})();var dn=k(95);function Er(oe,he){if(1&oe&&(y.TgZ(0,"div",8)(1,"h3"),y._uU(2,"Email"),y.qZA(),y.TgZ(3,"p")(4,"a",24),y._uU(5),y.qZA()()()),2&oe){const X=y.oxw(2);y.xp6(4),y.MGl("href","mailto:",X.business.email,"",y.LSH),y.xp6(1),y.Oqu(X.business.email)}}function fr(oe,he){if(1&oe&&(y.TgZ(0,"div",8)(1,"h3"),y._uU(2,"Fax"),y.qZA(),y.TgZ(3,"p"),y._uU(4),y.qZA()()),2&oe){const X=y.oxw(2);y.xp6(4),y.Oqu(X.business.fax)}}function ci(oe,he){if(1&oe&&(y.TgZ(0,"div",8)(1,"h3"),y._uU(2,"Social Media"),y.qZA(),y.TgZ(3,"p")(4,"a",24),y._uU(5),y.qZA()()()),2&oe){const X=y.oxw(2);y.xp6(4),y.s9C("href",X.business.socialMedia,y.LSH),y.xp6(1),y.Oqu(X.business.socialMedia)}}function ho(oe,he){if(1&oe){const X=y.EpF();y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"Contact Us"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"We're here to answer any questions you have"),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5)(10,"div",6),y._uU(11,"Get in Touch"),y.qZA(),y.TgZ(12,"div",7)(13,"div",8)(14,"h3"),y._uU(15,"Address"),y.qZA(),y.TgZ(16,"p"),y._uU(17),y.qZA()(),y.TgZ(18,"div",8)(19,"h3"),y._uU(20,"Phone"),y.qZA(),y.TgZ(21,"p"),y._uU(22),y.qZA()(),y.YNc(23,Er,6,2,"div",9),y.YNc(24,fr,5,1,"div",9),y.YNc(25,ci,6,2,"div",9),y.TgZ(26,"div")(27,"h3"),y._uU(28,"Visitation Hours"),y.qZA(),y.TgZ(29,"ul")(30,"li")(31,"strong"),y._uU(32,"Monday:"),y.qZA(),y._uU(33," 7.30am\u20135pm"),y.qZA(),y.TgZ(34,"li")(35,"strong"),y._uU(36,"Tuesday:"),y.qZA(),y._uU(37," 7.30am\u20135pm"),y.qZA(),y.TgZ(38,"li")(39,"strong"),y._uU(40,"Wednesday:"),y.qZA(),y._uU(41," 7.30am\u20135pm"),y.qZA(),y.TgZ(42,"li")(43,"strong"),y._uU(44,"Thursday:"),y.qZA(),y._uU(45," 7.30am\u20135pm"),y.qZA(),y.TgZ(46,"li")(47,"strong"),y._uU(48,"Friday:"),y.qZA(),y._uU(49," 7.30am\u20135pm"),y.qZA(),y.TgZ(50,"li")(51,"strong"),y._uU(52,"Saturday:"),y.qZA(),y._uU(53,"Closed"),y.qZA(),y.TgZ(54,"li")(55,"strong"),y._uU(56,"Sunday:"),y.qZA(),y._uU(57,"Closed"),y.qZA()()()()(),y.TgZ(58,"section",10)(59,"div",6),y._uU(60,"Send Us a Message"),y.qZA(),y.TgZ(61,"form",11,12),y.NdJ("ngSubmit",function(){y.CHM(X);const ot=y.oxw();return y.KtG(ot.onSubmit())}),y.TgZ(63,"div",13)(64,"label",14),y._uU(65,"Name"),y.qZA(),y.TgZ(66,"input",15),y.NdJ("ngModelChange",function(ot){y.CHM(X);const zt=y.oxw();return y.KtG(zt.formData.name=ot)}),y.qZA()(),y.TgZ(67,"div",13)(68,"label",16),y._uU(69,"Email"),y.qZA(),y.TgZ(70,"input",17),y.NdJ("ngModelChange",function(ot){y.CHM(X);const zt=y.oxw();return y.KtG(zt.formData.email=ot)}),y.qZA()(),y.TgZ(71,"div",13)(72,"label",18),y._uU(73,"Message"),y.qZA(),y.TgZ(74,"textarea",19),y.NdJ("ngModelChange",function(ot){y.CHM(X);const zt=y.oxw();return y.KtG(zt.formData.message=ot)}),y.qZA()(),y.TgZ(75,"button",20),y._uU(76,"Submit"),y.qZA()()(),y.TgZ(77,"section",21)(78,"div",6),y._uU(79,"Find Us Here"),y.qZA(),y.TgZ(80,"div",22),y._UZ(81,"iframe",23),y.qZA()()()()}if(2&oe){const X=y.MAs(62),De=y.oxw();y.xp6(17),y.Oqu(De.business.address),y.xp6(5),y.Oqu(De.business.phone),y.xp6(1),y.Q6J("ngIf",De.business.email),y.xp6(1),y.Q6J("ngIf",De.business.fax),y.xp6(1),y.Q6J("ngIf",De.business.socialMedia),y.xp6(41),y.Q6J("ngModel",De.formData.name),y.xp6(4),y.Q6J("ngModel",De.formData.email),y.xp6(4),y.Q6J("ngModel",De.formData.message),y.xp6(1),y.Q6J("disabled",!X.form.valid)}}let lr=(()=>{class oe{constructor(X,De,ot,zt){this.webContent=X,this.route=De,this.http=ot,this.metaService=zt,this.formData={name:"",email:"",message:""}}ngOnInit(){this.route.queryParams.subscribe(X=>{let De=X.id;this.metaService.getMetaData(De).subscribe(ot=>{this.metaService.updateMetaTags(ot)}),this.webContent.getBusinessData(De).subscribe(ot=>{ot&&(this.business=ot)})})}onSubmit(){console.log(this.formData),this.http.post("https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail",this.formData).subscribe(X=>console.log("Email sent successfully",X),X=>console.error("Error sending email",X))}static#e=this.\u0275fac=function(De){return new(De||oe)(y.Y36(Di._),y.Y36(Qn.gz),y.Y36(Ae),y.Y36(Gr.R))};static#t=this.\u0275cmp=y.Xpm({type:oe,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[1,"contact-form"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",3,"disabled"],[1,"map-section"],[1,"map-container"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7460.530516506536!2d-122.18471088983462!3d47.54600478154801!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x549069117965856f%3A0xa36b023f16c07440!2s11805%20SE%2064th%20St%2C%20Bellevue%2C%20WA%2098006!5e0!3m2!1sen!2sus!4v1719851446084!5m2!1sen!2sus","width","600","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"],[3,"href"]],template:function(De,ot){1&De&&y.YNc(0,ho,82,9,"div",0),2&De&&y.Q6J("ngIf",ot.business)},dependencies:[re.O5,dn._Y,dn.Fj,dn.JJ,dn.JL,dn.Q7,dn.On,dn.F],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(/assets/splash2.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.button[_ngcontent-%COMP%]{background-color:#4caf50;color:var(--primary-color);padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:1rem}.button[_ngcontent-%COMP%]:hover{background-color:#45a049}.map-section[_ngcontent-%COMP%]{margin-bottom:50px}.map-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background-color:var(--primary-color);border-radius:8px;box-shadow:0 2px 5px #0000001a}.map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}"]})}return oe})(),Lo=(()=>{class oe{constructor(){this.closeModal=new y.vpe}close(){this.closeModal.emit()}static#e=this.\u0275fac=function(De){return new(De||oe)};static#t=this.\u0275cmp=y.Xpm({type:oe,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(De,ot){1&De&&(y.TgZ(0,"div",0),y.NdJ("click",function(){return ot.close()}),y.TgZ(1,"div",1),y.NdJ("click",function(rn){return rn.stopPropagation()}),y.TgZ(2,"button",2),y.NdJ("click",function(){return ot.close()}),y._uU(3,"Close"),y.qZA(),y._UZ(4,"img",3),y.qZA()()),2&De&&(y.xp6(4),y.Q6J("src",ot.imageUrl,y.LSH))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}return oe})();function oi(oe,he){if(1&oe){const X=y.EpF();y.TgZ(0,"div",11),y.NdJ("click",function(){const zt=y.CHM(X).$implicit,rn=y.oxw(2);return y.KtG(rn.onImageClick(zt.url))}),y._UZ(1,"img",12),y.qZA()}if(2&oe){const X=he.$implicit;y.xp6(1),y.Q6J("src",X.url,y.LSH)}}function Vo(oe,he){if(1&oe){const X=y.EpF();y.TgZ(0,"app-image-viewer-modal",13),y.NdJ("closeModal",function(){y.CHM(X);const ot=y.oxw(2);return y.KtG(ot.onCloseModal())}),y.qZA()}if(2&oe){const X=y.oxw(2);y.Q6J("imageUrl",X.selectedImageUrl)}}function Wr(oe,he){if(1&oe&&(y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"Our Home"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"Feel at Home: A Peek into Our Caring Environment"),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5)(10,"div",6),y._uU(11,"Welcome to Our Home"),y.qZA(),y.TgZ(12,"p"),y._uU(13),y.qZA()(),y.TgZ(14,"section",7)(15,"div",6),y._uU(16,"Explore Our Gallery"),y.qZA(),y.TgZ(17,"div",8),y.YNc(18,oi,2,1,"div",9),y.ALo(19,"async"),y.qZA()()(),y.YNc(20,Vo,1,1,"app-image-viewer-modal",10),y.qZA()),2&oe){const X=y.oxw();y.xp6(13),y.hij(" ",X.business.photoGalleryText," "),y.xp6(5),y.Q6J("ngForOf",y.lcZ(19,3,X.images$)),y.xp6(2),y.Q6J("ngIf",X.selectedImageUrl)}}let vs=(()=>{class oe{constructor(X,De,ot){this.route=X,this.webContent=De,this.metaService=ot,this.selectedImageUrl=null}ngOnInit(){this.route.queryParams.subscribe(X=>{this.businessId=X.id}),this.loadImages(),this.metaService.getMetaData(this.businessId).subscribe(X=>{this.metaService.updateMetaTags(X)}),this.webContent.getBusinessData(this.businessId).subscribe(X=>{X&&(this.business=X)})}loadImages(){this.images$=this.webContent.getBusinessGalleryImagesById(this.businessId)}onImageClick(X){this.selectedImageUrl=X}onCloseModal(){this.selectedImageUrl=null}static#e=this.\u0275fac=function(De){return new(De||oe)(y.Y36(Qn.gz),y.Y36(Di._),y.Y36(Gr.R))};static#t=this.\u0275cmp=y.Xpm({type:oe,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(De,ot){1&De&&y.YNc(0,Wr,21,5,"div",0),2&De&&y.Q6J("ngIf",ot.business)},dependencies:[re.sg,re.O5,Lo,re.Ov],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background-color:var(--primary-color);border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}"]})}return oe})();var eo=k(2333);function si(oe,he){if(1&oe&&(y.TgZ(0,"div",11),y._uU(1),y.qZA()),2&oe){const X=y.oxw();y.xp6(1),y.Oqu(X.errorMessage)}}let mi=(()=>{class oe{constructor(X,De){this.authService=X,this.router=De,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(X=>{this.errorMessage=X.message})}static#e=this.\u0275fac=function(De){return new(De||oe)(y.Y36(eo.e),y.Y36(Qn.F0))};static#t=this.\u0275cmp=y.Xpm({type:oe,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"login-button"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(De,ot){1&De&&(y.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),y._uU(3,"Login"),y.qZA(),y.TgZ(4,"form",3),y.NdJ("submit",function(){return ot.login()}),y.TgZ(5,"div",4)(6,"label",5),y._uU(7,"Email"),y.qZA(),y.TgZ(8,"input",6),y.NdJ("ngModelChange",function(rn){return ot.email=rn}),y.qZA()(),y.TgZ(9,"div",4)(10,"label",7),y._uU(11,"Password"),y.qZA(),y.TgZ(12,"input",8),y.NdJ("ngModelChange",function(rn){return ot.password=rn}),y.qZA()(),y.TgZ(13,"button",9),y._uU(14,"Login"),y.qZA(),y.YNc(15,si,2,1,"div",10),y.qZA()()()),2&De&&(y.xp6(8),y.Q6J("ngModel",ot.email),y.xp6(4),y.Q6J("ngModel",ot.password),y.xp6(3),y.Q6J("ngIf",ot.errorMessage))},dependencies:[re.O5,dn._Y,dn.Fj,dn.JJ,dn.JL,dn.Q7,dn.On,dn.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}return oe})();const rr=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:ki.O},{path:"about-us",component:Ze},{path:"services",component:Pn},{path:"contact-us",component:lr},{path:"gallery",component:vs},{path:"login",component:mi},{path:"login",component:mi},{path:"admin",loadChildren:()=>k.e(14).then(k.bind(k,9014)).then(oe=>oe.AdminModule)},{path:":id",component:ki.O},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let So=(()=>{class oe{static#e=this.\u0275fac=function(De){return new(De||oe)};static#t=this.\u0275mod=y.oAB({type:oe});static#n=this.\u0275inj=y.cJS({imports:[Qn.Bz.forRoot(rr),Qn.Bz]})}return oe})();function mr(oe,he){if(1&oe&&y._UZ(0,"img",14),2&oe){const X=y.oxw();y.Q6J("src",null==X.business?null:X.business.logoImage,y.LSH)}}const _r=function(oe){return{"open-bar1":oe}},vo=function(oe){return{"open-bar2":oe}},Ai=function(oe){return{"open-bar3":oe}},_i=function(oe){return{active:oe}};let Fi=(()=>{class oe{constructor(X,De,ot){this.route=X,this.router=De,this.content=ot,this.businessId="",this.menuActive=!1,this.menuOpen=!1}ngOnInit(){this.route.queryParams.subscribe(X=>{this.businessId=X.id||"",this.content.getBusinessData(this.businessId).subscribe(De=>{this.business=De})})}navigateTo(X){const De=this.businessId?{id:this.businessId}:{};console.log("This Business id form query string",this.businessId),this.closeMenu(),this.router.navigate([`/${X}`],{queryParams:De}).then(ot=>{ot||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(De){return new(De||oe)(y.Y36(Qn.gz),y.Y36(Qn.F0),y.Y36(Di._))};static#t=this.\u0275cmp=y.Xpm({type:oe,selectors:[["app-navigation"]],decls:26,vars:13,consts:[[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"number"],[1,"text"],[1,"top"],[1,"bottom"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"]],template:function(De,ot){1&De&&(y.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),y.YNc(3,mr,1,1,"img",3),y.TgZ(4,"span",4),y._uU(5,"#1"),y.qZA(),y.TgZ(6,"div",5)(7,"div",6),y._uU(8,"HELPING HAND"),y.qZA(),y.TgZ(9,"div",7),y._uU(10,"ADULT FAMILY HOME"),y.qZA()()(),y.TgZ(11,"div",8),y.NdJ("click",function(){return ot.toggleMenu()}),y._UZ(12,"div",9)(13,"div",10)(14,"div",11),y.qZA(),y.TgZ(15,"ul",12)(16,"li",13),y.NdJ("click",function(){return ot.navigateTo("home")}),y._uU(17,"Home"),y.qZA(),y.TgZ(18,"li",13),y.NdJ("click",function(){return ot.navigateTo("services")}),y._uU(19,"Services"),y.qZA(),y.TgZ(20,"li",13),y.NdJ("click",function(){return ot.navigateTo("about-us")}),y._uU(21,"About Us"),y.qZA(),y.TgZ(22,"li",13),y.NdJ("click",function(){return ot.navigateTo("gallery")}),y._uU(23,"gallery"),y.qZA(),y.TgZ(24,"li",13),y.NdJ("click",function(){return ot.navigateTo("contact-us")}),y._uU(25,"Contact"),y.qZA()()()()),2&De&&(y.xp6(3),y.Q6J("ngIf",null==ot.business?null:ot.business.logoImage),y.xp6(9),y.Q6J("ngClass",y.VKq(5,_r,ot.menuOpen)),y.xp6(1),y.Q6J("ngClass",y.VKq(7,vo,ot.menuOpen)),y.xp6(1),y.Q6J("ngClass",y.VKq(9,Ai,ot.menuOpen)),y.xp6(1),y.Q6J("ngClass",y.VKq(11,_i,ot.menuOpen)))},dependencies:[re.mk,re.O5],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}return oe})();function ds(oe,he){if(1&oe&&(y.TgZ(0,"p")(1,"span"),y._uU(2),y.qZA(),y._uU(3," | "),y.TgZ(4,"span"),y._uU(5,"Email: "),y.TgZ(6,"a",4),y._uU(7),y.qZA()()()),2&oe){const X=he.ngIf;y.xp6(2),y.hij("Phone: ",X.phone,""),y.xp6(4),y.MGl("href","mailto:",X.email,"",y.LSH),y.xp6(1),y.hij(" ",X.email,"")}}let li=(()=>{class oe{constructor(X,De){this.route=X,this.webContentService=De}ngOnInit(){this.route.queryParams.subscribe(X=>{const De=X.id||this.webContentService.getDefaultBusinessData();console.log("footer param",De),this.business$=this.webContentService.getDefaultBusinessData(),console.log(this.business$)})}static#e=this.\u0275fac=function(De){return new(De||oe)(y.Y36(Qn.gz),y.Y36(Di._))};static#t=this.\u0275cmp=y.Xpm({type:oe,selectors:[["app-footer"]],decls:8,vars:3,consts:[[1,"footer"],[1,"footer-content"],["href","https://www.monkifoto.com","target","_blank"],[4,"ngIf"],[3,"href"]],template:function(De,ot){1&De&&(y.TgZ(0,"footer",0)(1,"div",1)(2,"p"),y._uU(3,"\xa9 2024 #1 Helping Hand AFH. All Rights Reserved. Design by "),y.TgZ(4,"a",2),y._uU(5,"Monkifoto"),y.qZA()(),y.YNc(6,ds,8,3,"p",3),y.ALo(7,"async"),y.qZA()()),2&De&&(y.xp6(6),y.Q6J("ngIf",y.lcZ(7,1,ot.business$)))},dependencies:[re.O5,re.Ov],styles:[".footer[_ngcontent-%COMP%]{width:100vw;position:fixed;bottom:0;background-color:var(--dark-background-color);color:var(--primary-color);text-align:center;padding:10px 0;overflow:hidden;box-sizing:border-box}.footer-content[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0 20px;box-sizing:border-box}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:0 10px}a[_ngcontent-%COMP%]{color:var(--primary-color)}@media (max-width: 768px){.footer[_ngcontent-%COMP%]{padding:8px 0}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}}@media (max-width: 480px){.footer[_ngcontent-%COMP%]{padding:6px 0}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 3px}}"]})}return oe})(),Fs=(()=>{class oe{constructor(){this.title="adult-family-home"}static#e=this.\u0275fac=function(De){return new(De||oe)};static#t=this.\u0275cmp=y.Xpm({type:oe,selectors:[["app-root"]],decls:3,vars:0,template:function(De,ot){1&De&&y._UZ(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[Qn.lC,Fi,li]})}return oe})();const Hi_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var yr=k(3182),Ir=k(1920);class zi{constructor(he){return he}}class Eo{constructor(){return(0,yr.C6)()}}const Nn=new y.OlP("angularfire2._apps"),$r={provide:zi,useFactory:function zo(oe){return oe&&1===oe.length?oe[0]:new zi((0,yr.Mq)())},deps:[[new y.FiY,Nn]]},Yr={provide:Eo,deps:[[new y.FiY,Nn]]};function Si(oe){return(he,X)=>{const De=he.runOutsideAngular(()=>oe(X));return new zi(De)}}let Cr=(()=>{class oe{constructor(X){(0,yr.KN)("angularfire",Ir.q4.full,"core"),(0,yr.KN)("angularfire",Ir.q4.full,"app"),(0,yr.KN)("angular",y.q4F.full,X.toString())}static \u0275fac=function(De){return new(De||oe)(y.LFG(y.Lbi))};static \u0275mod=y.oAB({type:oe});static \u0275inj=y.cJS({providers:[$r,Yr]})}return oe})();function Io(oe,...he){return{ngModule:Cr,providers:[{provide:Nn,useFactory:Si(oe),multi:!0,deps:[y.R0b,y.zs3,Ir.HU,...he]}]}}const Li=(0,Ir.u3)(yr.ZF,!0);k(35),k(534),k(9058),k(7879),k(4537);class qi{constructor(){return(0,Ir.vb)("auth")}}var Us=k(5588);class xo{constructor(he){return he}}const zn="firestore",Ts=new y.OlP("angularfire2.firestore-instances");function bs(oe){return(he,X)=>{const De=he.runOutsideAngular(()=>oe(X));return new xo(De)}}const Uo={provide:class Ws{constructor(){return(0,Ir.vb)(zn)}},deps:[[new y.FiY,Ts]]},ns={provide:xo,useFactory:function qs(oe,he){const X=(0,Ir.JM)(zn,oe,he);return X&&new xo(X)},deps:[[new y.FiY,Ts],zi]};let ca=(()=>{class oe{constructor(){(0,yr.KN)("angularfire",Ir.q4.full,"fst")}static \u0275fac=function(De){return new(De||oe)};static \u0275mod=y.oAB({type:oe});static \u0275inj=y.cJS({providers:[ns,Uo]})}return oe})();function la(oe,...he){return{ngModule:ca,providers:[{provide:Ts,useFactory:bs(oe),multi:!0,deps:[y.R0b,y.zs3,Ir.HU,Eo,[new y.FiY,qi],[new y.FiY,Ir.Rf],...he]}]}}const Ma=(0,Ir.u3)(Us.ad,!0);var co=k(7217),jo=k(7104),ka=k(778),os=k(7213),Oo=k(8153);class cu{constructor(he){return he}}const qo="storage",Fa=new y.OlP("angularfire2.storage-instances");function ss(oe){return(he,X)=>{const De=he.runOutsideAngular(()=>oe(X));return new cu(De)}}const C={provide:class Js{constructor(){return(0,Ir.vb)(qo)}},deps:[[new y.FiY,Fa]]},A={provide:cu,useFactory:function ma(oe,he){const X=(0,Ir.JM)(qo,oe,he);return X&&new cu(X)},deps:[[new y.FiY,Fa],zi]};let E=(()=>{class oe{constructor(){(0,yr.KN)("angularfire",Ir.q4.full,"gcs")}static \u0275fac=function(De){return new(De||oe)};static \u0275mod=y.oAB({type:oe});static \u0275inj=y.cJS({providers:[A,C]})}return oe})();function S(oe,...he){return{ngModule:E,providers:[{provide:Fa,useFactory:ss(oe),multi:!0,deps:[y.R0b,y.zs3,Ir.HU,Eo,[new y.FiY,qi],[new y.FiY,Ir.Rf],...he]}]}}const ur=(0,Ir.u3)(Oo.cF,!0);let Xs=(()=>{class oe{static#e=this.\u0275fac=function(De){return new(De||oe)};static#t=this.\u0275mod=y.oAB({type:oe,bootstrap:[Fs]});static#n=this.\u0275inj=y.cJS({imports:[l.b2,Qn.Bz,So,jo.yb,ka.TE,os.ww,co.hO.initializeApp(Hi_firebase),Io(()=>Li(Hi_firebase)),la(()=>Ma()),S(()=>ur()),dn.UX,dn.u5,ae]})}return oe})();l.q6().bootstrapModule(Xs).catch(oe=>console.error(oe))},5619:(on,et,k)=>{k.d(et,{X:()=>y});var l=k(8645);class y extends l.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const me=super._subscribe(Ce);return!me.closed&&Ce.next(this._value),me}getValue(){const{hasError:Ce,thrownError:me,_value:be}=this;if(Ce)throw me;return this._throwIfClosed(),be}next(Ce){super.next(this._value=Ce)}}},5592:(on,et,k)=>{k.d(et,{y:()=>Le});var l=k(305),y=k(7394),z=k(4850),Ce=k(8407),me=k(2653),be=k(4674),je=k(1441);let Le=(()=>{class Re{constructor(We){We&&(this._subscribe=We)}lift(We){const Rt=new Re;return Rt.source=this,Rt.operator=We,Rt}subscribe(We,Rt,vt){const Vt=function re(Re){return Re&&Re instanceof l.Lv||function ie(Re){return Re&&(0,be.m)(Re.next)&&(0,be.m)(Re.error)&&(0,be.m)(Re.complete)}(Re)&&(0,y.Nn)(Re)}(We)?We:new l.Hp(We,Rt,vt);return(0,je.x)(()=>{const{operator:bt,source:sn}=this;Vt.add(bt?bt.call(Vt,sn):sn?this._subscribe(Vt):this._trySubscribe(Vt))}),Vt}_trySubscribe(We){try{return this._subscribe(We)}catch(Rt){We.error(Rt)}}forEach(We,Rt){return new(Rt=ze(Rt))((vt,Vt)=>{const bt=new l.Hp({next:sn=>{try{We(sn)}catch(qe){Vt(qe),bt.unsubscribe()}},error:Vt,complete:vt});this.subscribe(bt)})}_subscribe(We){var Rt;return null===(Rt=this.source)||void 0===Rt?void 0:Rt.subscribe(We)}[z.L](){return this}pipe(...We){return(0,Ce.U)(We)(this)}toPromise(We){return new(We=ze(We))((Rt,vt)=>{let Vt;this.subscribe(bt=>Vt=bt,bt=>vt(bt),()=>Rt(Vt))})}}return Re.create=mt=>new Re(mt),Re})();function ze(Re){var mt;return null!==(mt=Re??me.config.Promise)&&void 0!==mt?mt:Promise}},8645:(on,et,k)=>{k.d(et,{x:()=>je});var l=k(5592),y=k(7394);const Ce=(0,k(2306).d)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=k(9039),be=k(1441);let je=(()=>{class ze extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(re){const Re=new Le(this,this);return Re.operator=re,Re}_throwIfClosed(){if(this.closed)throw new Ce}next(re){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(re)}})}error(re){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=re;const{observers:Re}=this;for(;Re.length;)Re.shift().error(re)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:re}=this;for(;re.length;)re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var re;return(null===(re=this.observers)||void 0===re?void 0:re.length)>0}_trySubscribe(re){return this._throwIfClosed(),super._trySubscribe(re)}_subscribe(re){return this._throwIfClosed(),this._checkFinalizedStatuses(re),this._innerSubscribe(re)}_innerSubscribe(re){const{hasError:Re,isStopped:mt,observers:We}=this;return Re||mt?y.Lc:(this.currentObservers=null,We.push(re),new y.w0(()=>{this.currentObservers=null,(0,me.P)(We,re)}))}_checkFinalizedStatuses(re){const{hasError:Re,thrownError:mt,isStopped:We}=this;Re?re.error(mt):We&&re.complete()}asObservable(){const re=new l.y;return re.source=this,re}}return ze.create=(ie,re)=>new Le(ie,re),ze})();class Le extends je{constructor(ie,re){super(),this.destination=ie,this.source=re}next(ie){var re,Re;null===(Re=null===(re=this.destination)||void 0===re?void 0:re.next)||void 0===Re||Re.call(re,ie)}error(ie){var re,Re;null===(Re=null===(re=this.destination)||void 0===re?void 0:re.error)||void 0===Re||Re.call(re,ie)}complete(){var ie,re;null===(re=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===re||re.call(ie)}_subscribe(ie){var re,Re;return null!==(Re=null===(re=this.source)||void 0===re?void 0:re.subscribe(ie))&&void 0!==Re?Re:y.Lc}}},305:(on,et,k)=>{k.d(et,{Hp:()=>vt,Lv:()=>Re});var l=k(4674),y=k(7394),z=k(2653),Ce=k(3894),me=k(2420);const be=ze("C",void 0,void 0);function ze(ke,Xe,Ye){return{kind:ke,value:Xe,error:Ye}}var ie=k(7599),re=k(1441);class Re extends y.w0{constructor(Xe){super(),this.isStopped=!1,Xe?(this.destination=Xe,(0,y.Nn)(Xe)&&Xe.add(this)):this.destination=qe}static create(Xe,Ye,Qe){return new vt(Xe,Ye,Qe)}next(Xe){this.isStopped?sn(function Le(ke){return ze("N",ke,void 0)}(Xe),this):this._next(Xe)}error(Xe){this.isStopped?sn(function je(ke){return ze("E",void 0,ke)}(Xe),this):(this.isStopped=!0,this._error(Xe))}complete(){this.isStopped?sn(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Xe){this.destination.next(Xe)}_error(Xe){try{this.destination.error(Xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mt=Function.prototype.bind;function We(ke,Xe){return mt.call(ke,Xe)}class Rt{constructor(Xe){this.partialObserver=Xe}next(Xe){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(Xe)}catch(Qe){Vt(Qe)}}error(Xe){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(Xe)}catch(Qe){Vt(Qe)}else Vt(Xe)}complete(){const{partialObserver:Xe}=this;if(Xe.complete)try{Xe.complete()}catch(Ye){Vt(Ye)}}}class vt extends Re{constructor(Xe,Ye,Qe){let yt;if(super(),(0,l.m)(Xe)||!Xe)yt={next:Xe??void 0,error:Ye??void 0,complete:Qe??void 0};else{let St;this&&z.config.useDeprecatedNextContext?(St=Object.create(Xe),St.unsubscribe=()=>this.unsubscribe(),yt={next:Xe.next&&We(Xe.next,St),error:Xe.error&&We(Xe.error,St),complete:Xe.complete&&We(Xe.complete,St)}):yt=Xe}this.destination=new Rt(yt)}}function Vt(ke){z.config.useDeprecatedSynchronousErrorHandling?(0,re.O)(ke):(0,Ce.h)(ke)}function sn(ke,Xe){const{onStoppedNotification:Ye}=z.config;Ye&&ie.z.setTimeout(()=>Ye(ke,Xe))}const qe={closed:!0,next:me.Z,error:function bt(ke){throw ke},complete:me.Z}},7394:(on,et,k)=>{k.d(et,{Lc:()=>be,w0:()=>me,Nn:()=>je});var l=k(4674);const z=(0,k(2306).d)(ze=>function(re){ze(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((Re,mt)=>`${mt+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re});var Ce=k(9039);class me{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:re}=this;if(re)if(this._parentage=null,Array.isArray(re))for(const We of re)We.remove(this);else re.remove(this);const{initialTeardown:Re}=this;if((0,l.m)(Re))try{Re()}catch(We){ie=We instanceof z?We.errors:[We]}const{_finalizers:mt}=this;if(mt){this._finalizers=null;for(const We of mt)try{Le(We)}catch(Rt){ie=ie??[],Rt instanceof z?ie=[...ie,...Rt.errors]:ie.push(Rt)}}if(ie)throw new z(ie)}}add(ie){var re;if(ie&&ie!==this)if(this.closed)Le(ie);else{if(ie instanceof me){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(re=this._finalizers)&&void 0!==re?re:[]).push(ie)}}_hasParent(ie){const{_parentage:re}=this;return re===ie||Array.isArray(re)&&re.includes(ie)}_addParent(ie){const{_parentage:re}=this;this._parentage=Array.isArray(re)?(re.push(ie),re):re?[re,ie]:ie}_removeParent(ie){const{_parentage:re}=this;re===ie?this._parentage=null:Array.isArray(re)&&(0,Ce.P)(re,ie)}remove(ie){const{_finalizers:re}=this;re&&(0,Ce.P)(re,ie),ie instanceof me&&ie._removeParent(this)}}me.EMPTY=(()=>{const ze=new me;return ze.closed=!0,ze})();const be=me.EMPTY;function je(ze){return ze instanceof me||ze&&"closed"in ze&&(0,l.m)(ze.remove)&&(0,l.m)(ze.add)&&(0,l.m)(ze.unsubscribe)}function Le(ze){(0,l.m)(ze)?ze():ze.unsubscribe()}},2653:(on,et,k)=>{k.d(et,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(on,et,k)=>{k.d(et,{z:()=>me});var l=k(7537),z=k(4564),Ce=k(2459);function me(...be){return function y(){return(0,l.J)(1)}()((0,Ce.D)(be,(0,z.yG)(be)))}},6232:(on,et,k)=>{k.d(et,{E:()=>y});const y=new(k(5592).y)(me=>me.complete())},2459:(on,et,k)=>{k.d(et,{D:()=>Xe});var l=k(4829),y=k(3093),z=k(5137),be=k(5592),Le=k(4971),ze=k(4674),ie=k(7103);function Re(Ye,Qe){if(!Ye)throw new Error("Iterable cannot be null");return new be.y(yt=>{(0,ie.f)(yt,Qe,()=>{const St=Ye[Symbol.asyncIterator]();(0,ie.f)(yt,Qe,()=>{St.next().then(ge=>{ge.done?yt.complete():yt.next(ge.value)})},0,!0)})})}var mt=k(8382),We=k(4026),Rt=k(4266),vt=k(3664),Vt=k(5726),bt=k(9853),sn=k(541);function Xe(Ye,Qe){return Qe?function ke(Ye,Qe){if(null!=Ye){if((0,mt.c)(Ye))return function Ce(Ye,Qe){return(0,l.Xf)(Ye).pipe((0,z.R)(Qe),(0,y.Q)(Qe))}(Ye,Qe);if((0,Rt.z)(Ye))return function je(Ye,Qe){return new be.y(yt=>{let St=0;return Qe.schedule(function(){St===Ye.length?yt.complete():(yt.next(Ye[St++]),yt.closed||this.schedule())})})}(Ye,Qe);if((0,We.t)(Ye))return function me(Ye,Qe){return(0,l.Xf)(Ye).pipe((0,z.R)(Qe),(0,y.Q)(Qe))}(Ye,Qe);if((0,Vt.D)(Ye))return Re(Ye,Qe);if((0,vt.T)(Ye))return function re(Ye,Qe){return new be.y(yt=>{let St;return(0,ie.f)(yt,Qe,()=>{St=Ye[Le.h](),(0,ie.f)(yt,Qe,()=>{let ge,Ht;try{({value:ge,done:Ht}=St.next())}catch(Jt){return void yt.error(Jt)}Ht?yt.complete():yt.next(ge)},0,!0)}),()=>(0,ze.m)(St?.return)&&St.return()})}(Ye,Qe);if((0,sn.L)(Ye))return function qe(Ye,Qe){return Re((0,sn.Q)(Ye),Qe)}(Ye,Qe)}throw(0,bt.z)(Ye)}(Ye,Qe):(0,l.Xf)(Ye)}},4829:(on,et,k)=>{k.d(et,{Xf:()=>mt});var l=k(7582),y=k(4266),z=k(4026),Ce=k(5592),me=k(8382),be=k(5726),je=k(9853),Le=k(3664),ze=k(541),ie=k(4674),re=k(3894),Re=k(4850);function mt(ke){if(ke instanceof Ce.y)return ke;if(null!=ke){if((0,me.c)(ke))return function We(ke){return new Ce.y(Xe=>{const Ye=ke[Re.L]();if((0,ie.m)(Ye.subscribe))return Ye.subscribe(Xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,y.z)(ke))return function Rt(ke){return new Ce.y(Xe=>{for(let Ye=0;Ye<ke.length&&!Xe.closed;Ye++)Xe.next(ke[Ye]);Xe.complete()})}(ke);if((0,z.t)(ke))return function vt(ke){return new Ce.y(Xe=>{ke.then(Ye=>{Xe.closed||(Xe.next(Ye),Xe.complete())},Ye=>Xe.error(Ye)).then(null,re.h)})}(ke);if((0,be.D)(ke))return bt(ke);if((0,Le.T)(ke))return function Vt(ke){return new Ce.y(Xe=>{for(const Ye of ke)if(Xe.next(Ye),Xe.closed)return;Xe.complete()})}(ke);if((0,ze.L)(ke))return function sn(ke){return bt((0,ze.Q)(ke))}(ke)}throw(0,je.z)(ke)}function bt(ke){return new Ce.y(Xe=>{(function qe(ke,Xe){var Ye,Qe,yt,St;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ye=(0,l.KL)(ke);!(Qe=yield Ye.next()).done;)if(Xe.next(Qe.value),Xe.closed)return}catch(ge){yt={error:ge}}finally{try{Qe&&!Qe.done&&(St=Ye.return)&&(yield St.call(Ye))}finally{if(yt)throw yt.error}}Xe.complete()})})(ke,Xe).catch(Ye=>Xe.error(Ye))})}},3019:(on,et,k)=>{k.d(et,{T:()=>be});var l=k(7537),y=k(4829),z=k(6232),Ce=k(4564),me=k(2459);function be(...je){const Le=(0,Ce.yG)(je),ze=(0,Ce._6)(je,1/0),ie=je;return ie.length?1===ie.length?(0,y.Xf)(ie[0]):(0,l.J)(ze)((0,me.D)(ie,Le)):z.E}},2096:(on,et,k)=>{k.d(et,{of:()=>z});var l=k(4564),y=k(2459);function z(...Ce){const me=(0,l.yG)(Ce);return(0,y.D)(Ce,me)}},8251:(on,et,k)=>{k.d(et,{x:()=>y});var l=k(305);function y(Ce,me,be,je,Le){return new z(Ce,me,be,je,Le)}class z extends l.Lv{constructor(me,be,je,Le,ze,ie){super(me),this.onFinalize=ze,this.shouldUnsubscribe=ie,this._next=be?function(re){try{be(re)}catch(Re){me.error(Re)}}:super._next,this._error=Le?function(re){try{Le(re)}catch(Re){me.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=je?function(){try{je()}catch(re){me.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},6306:(on,et,k)=>{k.d(et,{K:()=>Ce});var l=k(4829),y=k(8251),z=k(9360);function Ce(me){return(0,z.e)((be,je)=>{let ie,Le=null,ze=!1;Le=be.subscribe((0,y.x)(je,void 0,void 0,re=>{ie=(0,l.Xf)(me(re,Ce(me)(be))),Le?(Le.unsubscribe(),Le=null,ie.subscribe(je)):ze=!0})),ze&&(Le.unsubscribe(),Le=null,ie.subscribe(je))})}},6328:(on,et,k)=>{k.d(et,{b:()=>z});var l=k(1631),y=k(4674);function z(Ce,me){return(0,y.m)(me)?(0,l.z)(Ce,me,1):(0,l.z)(Ce,1)}},3572:(on,et,k)=>{k.d(et,{d:()=>z});var l=k(9360),y=k(8251);function z(Ce){return(0,l.e)((me,be)=>{let je=!1;me.subscribe((0,y.x)(be,Le=>{je=!0,be.next(Le)},()=>{je||be.next(Ce),be.complete()}))})}},3997:(on,et,k)=>{k.d(et,{x:()=>Ce});var l=k(2737),y=k(9360),z=k(8251);function Ce(be,je=l.y){return be=be??me,(0,y.e)((Le,ze)=>{let ie,re=!0;Le.subscribe((0,z.x)(ze,Re=>{const mt=je(Re);(re||!be(ie,mt))&&(re=!1,ie=mt,ze.next(Re))}))})}function me(be,je){return be===je}},2181:(on,et,k)=>{k.d(et,{h:()=>z});var l=k(9360),y=k(8251);function z(Ce,me){return(0,l.e)((be,je)=>{let Le=0;be.subscribe((0,y.x)(je,ze=>Ce.call(me,ze,Le++)&&je.next(ze)))})}},4716:(on,et,k)=>{k.d(et,{x:()=>y});var l=k(9360);function y(z){return(0,l.e)((Ce,me)=>{try{Ce.subscribe(me)}finally{me.add(z)}})}},1374:(on,et,k)=>{k.d(et,{P:()=>je});var l=k(6973),y=k(2181),z=k(8180),Ce=k(3572),me=k(3026),be=k(2737);function je(Le,ze){const ie=arguments.length>=2;return re=>re.pipe(Le?(0,y.h)((Re,mt)=>Le(Re,mt,re)):be.y,(0,z.q)(1),ie?(0,Ce.d)(ze):(0,me.T)(()=>new l.K))}},7398:(on,et,k)=>{k.d(et,{U:()=>z});var l=k(9360),y=k(8251);function z(Ce,me){return(0,l.e)((be,je)=>{let Le=0;be.subscribe((0,y.x)(je,ze=>{je.next(Ce.call(me,ze,Le++))}))})}},7537:(on,et,k)=>{k.d(et,{J:()=>z});var l=k(1631),y=k(2737);function z(Ce=1/0){return(0,l.z)(y.y,Ce)}},1631:(on,et,k)=>{k.d(et,{z:()=>Le});var l=k(7398),y=k(4829),z=k(9360),Ce=k(7103),me=k(8251),je=k(4674);function Le(ze,ie,re=1/0){return(0,je.m)(ie)?Le((Re,mt)=>(0,l.U)((We,Rt)=>ie(Re,We,mt,Rt))((0,y.Xf)(ze(Re,mt))),re):("number"==typeof ie&&(re=ie),(0,z.e)((Re,mt)=>function be(ze,ie,re,Re,mt,We,Rt,vt){const Vt=[];let bt=0,sn=0,qe=!1;const ke=()=>{qe&&!Vt.length&&!bt&&ie.complete()},Xe=Qe=>bt<Re?Ye(Qe):Vt.push(Qe),Ye=Qe=>{We&&ie.next(Qe),bt++;let yt=!1;(0,y.Xf)(re(Qe,sn++)).subscribe((0,me.x)(ie,St=>{mt?.(St),We?Xe(St):ie.next(St)},()=>{yt=!0},void 0,()=>{if(yt)try{for(bt--;Vt.length&&bt<Re;){const St=Vt.shift();Rt?(0,Ce.f)(ie,Rt,()=>Ye(St)):Ye(St)}ke()}catch(St){ie.error(St)}}))};return ze.subscribe((0,me.x)(ie,Xe,()=>{qe=!0,ke()})),()=>{vt?.()}}(Re,mt,ze,re)))}},3093:(on,et,k)=>{k.d(et,{Q:()=>Ce});var l=k(7103),y=k(9360),z=k(8251);function Ce(me,be=0){return(0,y.e)((je,Le)=>{je.subscribe((0,z.x)(Le,ze=>(0,l.f)(Le,me,()=>Le.next(ze),be),()=>(0,l.f)(Le,me,()=>Le.complete(),be),ze=>(0,l.f)(Le,me,()=>Le.error(ze),be)))})}},6699:(on,et,k)=>{k.d(et,{R:()=>Ce});var l=k(9360),y=k(8251);function Ce(me,be){return(0,l.e)(function z(me,be,je,Le,ze){return(ie,re)=>{let Re=je,mt=be,We=0;ie.subscribe((0,y.x)(re,Rt=>{const vt=We++;mt=Re?me(mt,Rt,vt):(Re=!0,Rt),Le&&re.next(mt)},ze&&(()=>{Re&&re.next(mt),re.complete()})))}}(me,be,arguments.length>=2,!0))}},3020:(on,et,k)=>{k.d(et,{B:()=>me});var l=k(4829),y=k(8645),z=k(305),Ce=k(9360);function me(je={}){const{connector:Le=(()=>new y.x),resetOnError:ze=!0,resetOnComplete:ie=!0,resetOnRefCountZero:re=!0}=je;return Re=>{let mt,We,Rt,vt=0,Vt=!1,bt=!1;const sn=()=>{We?.unsubscribe(),We=void 0},qe=()=>{sn(),mt=Rt=void 0,Vt=bt=!1},ke=()=>{const Xe=mt;qe(),Xe?.unsubscribe()};return(0,Ce.e)((Xe,Ye)=>{vt++,!bt&&!Vt&&sn();const Qe=Rt=Rt??Le();Ye.add(()=>{vt--,0===vt&&!bt&&!Vt&&(We=be(ke,re))}),Qe.subscribe(Ye),!mt&&vt>0&&(mt=new z.Hp({next:yt=>Qe.next(yt),error:yt=>{bt=!0,sn(),We=be(qe,ze,yt),Qe.error(yt)},complete:()=>{Vt=!0,sn(),We=be(qe,ie),Qe.complete()}}),(0,l.Xf)(Xe).subscribe(mt))})(Re)}}function be(je,Le,...ze){if(!0===Le)return void je();if(!1===Le)return;const ie=new z.Hp({next:()=>{ie.unsubscribe(),je()}});return(0,l.Xf)(Le(...ze)).subscribe(ie)}},7921:(on,et,k)=>{k.d(et,{O:()=>Ce});var l=k(5211),y=k(4564),z=k(9360);function Ce(...me){const be=(0,y.yG)(me);return(0,z.e)((je,Le)=>{(be?(0,l.z)(me,je,be):(0,l.z)(me,je)).subscribe(Le)})}},5137:(on,et,k)=>{k.d(et,{R:()=>y});var l=k(9360);function y(z,Ce=0){return(0,l.e)((me,be)=>{be.add(z.schedule(()=>me.subscribe(be),Ce))})}},4664:(on,et,k)=>{k.d(et,{w:()=>Ce});var l=k(4829),y=k(9360),z=k(8251);function Ce(me,be){return(0,y.e)((je,Le)=>{let ze=null,ie=0,re=!1;const Re=()=>re&&!ze&&Le.complete();je.subscribe((0,z.x)(Le,mt=>{ze?.unsubscribe();let We=0;const Rt=ie++;(0,l.Xf)(me(mt,Rt)).subscribe(ze=(0,z.x)(Le,vt=>Le.next(be?be(mt,vt,Rt,We++):vt),()=>{ze=null,Re()}))},()=>{re=!0,Re()}))})}},8180:(on,et,k)=>{k.d(et,{q:()=>Ce});var l=k(6232),y=k(9360),z=k(8251);function Ce(me){return me<=0?()=>l.E:(0,y.e)((be,je)=>{let Le=0;be.subscribe((0,z.x)(je,ze=>{++Le<=me&&(je.next(ze),me<=Le&&je.complete())}))})}},9397:(on,et,k)=>{k.d(et,{b:()=>me});var l=k(4674),y=k(9360),z=k(8251),Ce=k(2737);function me(be,je,Le){const ze=(0,l.m)(be)||je||Le?{next:be,error:je,complete:Le}:be;return ze?(0,y.e)((ie,re)=>{var Re;null===(Re=ze.subscribe)||void 0===Re||Re.call(ze);let mt=!0;ie.subscribe((0,z.x)(re,We=>{var Rt;null===(Rt=ze.next)||void 0===Rt||Rt.call(ze,We),re.next(We)},()=>{var We;mt=!1,null===(We=ze.complete)||void 0===We||We.call(ze),re.complete()},We=>{var Rt;mt=!1,null===(Rt=ze.error)||void 0===Rt||Rt.call(ze,We),re.error(We)},()=>{var We,Rt;mt&&(null===(We=ze.unsubscribe)||void 0===We||We.call(ze)),null===(Rt=ze.finalize)||void 0===Rt||Rt.call(ze)}))}):Ce.y}},3026:(on,et,k)=>{k.d(et,{T:()=>Ce});var l=k(6973),y=k(9360),z=k(8251);function Ce(be=me){return(0,y.e)((je,Le)=>{let ze=!1;je.subscribe((0,z.x)(Le,ie=>{ze=!0,Le.next(ie)},()=>ze?Le.complete():Le.error(be())))})}function me(){return new l.K}},1954:(on,et,k)=>{k.d(et,{o:()=>me});var l=k(7394);class y extends l.w0{constructor(je,Le){super()}schedule(je,Le=0){return this}}const z={setInterval(be,je,...Le){const{delegate:ze}=z;return ze?.setInterval?ze.setInterval(be,je,...Le):setInterval(be,je,...Le)},clearInterval(be){const{delegate:je}=z;return(je?.clearInterval||clearInterval)(be)},delegate:void 0};var Ce=k(9039);class me extends y{constructor(je,Le){super(je,Le),this.scheduler=je,this.work=Le,this.pending=!1}schedule(je,Le=0){var ze;if(this.closed)return this;this.state=je;const ie=this.id,re=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(re,ie,Le)),this.pending=!0,this.delay=Le,this.id=null!==(ze=this.id)&&void 0!==ze?ze:this.requestAsyncId(re,this.id,Le),this}requestAsyncId(je,Le,ze=0){return z.setInterval(je.flush.bind(je,this),ze)}recycleAsyncId(je,Le,ze=0){if(null!=ze&&this.delay===ze&&!1===this.pending)return Le;null!=Le&&z.clearInterval(Le)}execute(je,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ze=this._execute(je,Le);if(ze)return ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(je,Le){let ie,ze=!1;try{this.work(je)}catch(re){ze=!0,ie=re||new Error("Scheduled action threw falsy error")}if(ze)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:je,scheduler:Le}=this,{actions:ze}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(ze,this),null!=je&&(this.id=this.recycleAsyncId(Le,je,null)),this.delay=null,super.unsubscribe()}}}},2631:(on,et,k)=>{k.d(et,{v:()=>z});var l=k(4552);class y{constructor(me,be=y.now){this.schedulerActionCtor=me,this.now=be}schedule(me,be=0,je){return new this.schedulerActionCtor(this,me).schedule(je,be)}}y.now=l.l.now;class z extends y{constructor(me,be=y.now){super(me,be),this.actions=[],this._active=!1}flush(me){const{actions:be}=this;if(this._active)return void be.push(me);let je;this._active=!0;do{if(je=me.execute(me.state,me.delay))break}while(me=be.shift());if(this._active=!1,je){for(;me=be.shift();)me.unsubscribe();throw je}}}},6321:(on,et,k)=>{k.d(et,{z:()=>z});var l=k(1954);const z=new(k(2631).v)(l.o)},4552:(on,et,k)=>{k.d(et,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(on,et,k)=>{k.d(et,{z:()=>l});const l={setTimeout(y,z,...Ce){const{delegate:me}=l;return me?.setTimeout?me.setTimeout(y,z,...Ce):setTimeout(y,z,...Ce)},clearTimeout(y){const{delegate:z}=l;return(z?.clearTimeout||clearTimeout)(y)},delegate:void 0}},4971:(on,et,k)=>{k.d(et,{h:()=>y});const y=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(on,et,k)=>{k.d(et,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(on,et,k)=>{k.d(et,{K:()=>y});const y=(0,k(2306).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(on,et,k)=>{k.d(et,{_6:()=>be,jO:()=>Ce,yG:()=>me});var l=k(4674);function z(je){return je[je.length-1]}function Ce(je){return(0,l.m)(z(je))?je.pop():void 0}function me(je){return function y(je){return je&&(0,l.m)(je.schedule)}(z(je))?je.pop():void 0}function be(je,Le){return"number"==typeof z(je)?je.pop():Le}},7453:(on,et,k)=>{k.d(et,{D:()=>me});const{isArray:l}=Array,{getPrototypeOf:y,prototype:z,keys:Ce}=Object;function me(je){if(1===je.length){const Le=je[0];if(l(Le))return{args:Le,keys:null};if(function be(je){return je&&"object"==typeof je&&y(je)===z}(Le)){const ze=Ce(Le);return{args:ze.map(ie=>Le[ie]),keys:ze}}}return{args:je,keys:null}}},9039:(on,et,k)=>{function l(y,z){if(y){const Ce=y.indexOf(z);0<=Ce&&y.splice(Ce,1)}}k.d(et,{P:()=>l})},2306:(on,et,k)=>{function l(y){const Ce=y(me=>{Error.call(me),me.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}k.d(et,{d:()=>l})},2714:(on,et,k)=>{function l(y,z){return y.reduce((Ce,me,be)=>(Ce[me]=z[be],Ce),{})}k.d(et,{n:()=>l})},1441:(on,et,k)=>{k.d(et,{O:()=>Ce,x:()=>z});var l=k(2653);let y=null;function z(me){if(l.config.useDeprecatedSynchronousErrorHandling){const be=!y;if(be&&(y={errorThrown:!1,error:null}),me(),be){const{errorThrown:je,error:Le}=y;if(y=null,je)throw Le}}else me()}function Ce(me){l.config.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=me)}},7103:(on,et,k)=>{function l(y,z,Ce,me=0,be=!1){const je=z.schedule(function(){Ce(),be?y.add(this.schedule(null,me)):this.unsubscribe()},me);if(y.add(je),!be)return je}k.d(et,{f:()=>l})},2737:(on,et,k)=>{function l(y){return y}k.d(et,{y:()=>l})},4266:(on,et,k)=>{k.d(et,{z:()=>l});const l=y=>y&&"number"==typeof y.length&&"function"!=typeof y},5726:(on,et,k)=>{k.d(et,{D:()=>y});var l=k(4674);function y(z){return Symbol.asyncIterator&&(0,l.m)(z?.[Symbol.asyncIterator])}},4674:(on,et,k)=>{function l(y){return"function"==typeof y}k.d(et,{m:()=>l})},8382:(on,et,k)=>{k.d(et,{c:()=>z});var l=k(4850),y=k(4674);function z(Ce){return(0,y.m)(Ce[l.L])}},3664:(on,et,k)=>{k.d(et,{T:()=>z});var l=k(4971),y=k(4674);function z(Ce){return(0,y.m)(Ce?.[l.h])}},4026:(on,et,k)=>{k.d(et,{t:()=>y});var l=k(4674);function y(z){return(0,l.m)(z?.then)}},541:(on,et,k)=>{k.d(et,{L:()=>Ce,Q:()=>z});var l=k(7582),y=k(4674);function z(me){return(0,l.FC)(this,arguments,function*(){const je=me.getReader();try{for(;;){const{value:Le,done:ze}=yield(0,l.qq)(je.read());if(ze)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Le)}}finally{je.releaseLock()}})}function Ce(me){return(0,y.m)(me?.getReader)}},9360:(on,et,k)=>{k.d(et,{A:()=>y,e:()=>z});var l=k(4674);function y(Ce){return(0,l.m)(Ce?.lift)}function z(Ce){return me=>{if(y(me))return me.lift(function(be){try{return Ce(be,this)}catch(je){this.error(je)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(on,et,k)=>{k.d(et,{Z:()=>Ce});var l=k(7398);const{isArray:y}=Array;function Ce(me){return(0,l.U)(be=>function z(me,be){return y(be)?me(...be):me(be)}(me,be))}},2420:(on,et,k)=>{function l(){}k.d(et,{Z:()=>l})},8407:(on,et,k)=>{k.d(et,{U:()=>z,z:()=>y});var l=k(2737);function y(...Ce){return z(Ce)}function z(Ce){return 0===Ce.length?l.y:1===Ce.length?Ce[0]:function(be){return Ce.reduce((je,Le)=>Le(je),be)}}},3894:(on,et,k)=>{k.d(et,{h:()=>z});var l=k(2653),y=k(7599);function z(Ce){y.z.setTimeout(()=>{const{onUnhandledError:me}=l.config;if(!me)throw Ce;me(Ce)})}},9853:(on,et,k)=>{function l(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(et,{z:()=>l})},6814:(on,et,k)=>{k.d(et,{Do:()=>vt,EM:()=>Ee,HT:()=>Ce,JF:()=>hn,K0:()=>be,Mx:()=>bn,Nd:()=>wi,O5:()=>Vo,Ov:()=>yr,PM:()=>Qr,S$:()=>mt,V_:()=>Le,Ye:()=>Vt,b0:()=>Rt,bD:()=>wr,ez:()=>ao,mk:()=>Er,q:()=>z,sg:()=>lr,w_:()=>me});var l=k(5879);let y=null;function z(){return y}function Ce(b){y||(y=b)}class me{}const be=new l.OlP("DocumentToken");let je=(()=>{class b{historyGo(N){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275prov=l.Yz7({token:b,factory:function(){return(0,l.f3M)(ze)},providedIn:"platform"})}return b})();const Le=new l.OlP("Location Initialized");let ze=(()=>{class b extends je{constructor(){super(),this._doc=(0,l.f3M)(be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(N){const W=z().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",N,!1),()=>W.removeEventListener("popstate",N)}onHashChange(N){const W=z().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",N,!1),()=>W.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,W,_e){this._history.pushState(N,W,_e)}replaceState(N,W,_e){this._history.replaceState(N,W,_e)}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275prov=l.Yz7({token:b,factory:function(){return new b},providedIn:"platform"})}return b})();function ie(b,Z){if(0==b.length)return Z;if(0==Z.length)return b;let N=0;return b.endsWith("/")&&N++,Z.startsWith("/")&&N++,2==N?b+Z.substring(1):1==N?b+Z:b+"/"+Z}function re(b){const Z=b.match(/#|\?|$/),N=Z&&Z.index||b.length;return b.slice(0,N-("/"===b[N-1]?1:0))+b.slice(N)}function Re(b){return b&&"?"!==b[0]?"?"+b:b}let mt=(()=>{class b{historyGo(N){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275prov=l.Yz7({token:b,factory:function(){return(0,l.f3M)(Rt)},providedIn:"root"})}return b})();const We=new l.OlP("appBaseHref");let Rt=(()=>{class b extends mt{constructor(N,W){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return ie(this._baseHref,N)}path(N=!1){const W=this._platformLocation.pathname+Re(this._platformLocation.search),_e=this._platformLocation.hash;return _e&&N?`${W}${_e}`:W}pushState(N,W,_e,ht){const At=this.prepareExternalUrl(_e+Re(ht));this._platformLocation.pushState(N,W,At)}replaceState(N,W,_e,ht){const At=this.prepareExternalUrl(_e+Re(ht));this._platformLocation.replaceState(N,W,At)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static#e=this.\u0275fac=function(W){return new(W||b)(l.LFG(je),l.LFG(We,8))};static#t=this.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),vt=(()=>{class b extends mt{constructor(N,W){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(N){const W=ie(this._baseHref,N);return W.length>0?"#"+W:W}pushState(N,W,_e,ht){let At=this.prepareExternalUrl(_e+Re(ht));0==At.length&&(At=this._platformLocation.pathname),this._platformLocation.pushState(N,W,At)}replaceState(N,W,_e,ht){let At=this.prepareExternalUrl(_e+Re(ht));0==At.length&&(At=this._platformLocation.pathname),this._platformLocation.replaceState(N,W,At)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static#e=this.\u0275fac=function(W){return new(W||b)(l.LFG(je),l.LFG(We,8))};static#t=this.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac})}return b})(),Vt=(()=>{class b{constructor(N){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const W=this._locationStrategy.getBaseHref();this._basePath=function ke(b){if(new RegExp("^(https?:)?//").test(b)){const[,N]=b.split(/\/\/[^\/]+/);return N}return b}(re(qe(W))),this._locationStrategy.onPopState(_e=>{this._subject.emit({url:this.path(!0),pop:!0,state:_e.state,type:_e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,W=""){return this.path()==this.normalize(N+Re(W))}normalize(N){return b.stripTrailingSlash(function sn(b,Z){if(!b||!Z.startsWith(b))return Z;const N=Z.substring(b.length);return""===N||["/",";","?","#"].includes(N[0])?N:Z}(this._basePath,qe(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,W="",_e=null){this._locationStrategy.pushState(_e,"",N,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Re(W)),_e)}replaceState(N,W="",_e=null){this._locationStrategy.replaceState(_e,"",N,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Re(W)),_e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",W){this._urlChangeListeners.forEach(_e=>_e(N,W))}subscribe(N,W,_e){return this._subject.subscribe({next:N,error:W,complete:_e})}static#e=this.normalizeQueryParams=Re;static#t=this.joinWithSlash=ie;static#n=this.stripTrailingSlash=re;static#r=this.\u0275fac=function(W){return new(W||b)(l.LFG(mt))};static#i=this.\u0275prov=l.Yz7({token:b,factory:function(){return function bt(){return new Vt((0,l.LFG)(mt))}()},providedIn:"root"})}return b})();function qe(b){return b.replace(/\/index.html$/,"")}function bn(b,Z){Z=encodeURIComponent(Z);for(const N of b.split(";")){const W=N.indexOf("="),[_e,ht]=-1==W?[N,""]:[N.slice(0,W),N.slice(W+1)];if(_e.trim()===Z)return decodeURIComponent(ht)}return null}const Pn=/\s+/,dn=[];let Er=(()=>{class b{constructor(N,W,_e,ht){this._iterableDiffers=N,this._keyValueDiffers=W,this._ngEl=_e,this._renderer=ht,this.initialClasses=dn,this.stateMap=new Map}set klass(N){this.initialClasses=null!=N?N.trim().split(Pn):dn}set ngClass(N){this.rawClass="string"==typeof N?N.trim().split(Pn):N}ngDoCheck(){for(const W of this.initialClasses)this._updateState(W,!0);const N=this.rawClass;if(Array.isArray(N)||N instanceof Set)for(const W of N)this._updateState(W,!0);else if(null!=N)for(const W of Object.keys(N))this._updateState(W,!!N[W]);this._applyStateDiff()}_updateState(N,W){const _e=this.stateMap.get(N);void 0!==_e?(_e.enabled!==W&&(_e.changed=!0,_e.enabled=W),_e.touched=!0):this.stateMap.set(N,{enabled:W,changed:!0,touched:!0})}_applyStateDiff(){for(const N of this.stateMap){const W=N[0],_e=N[1];_e.changed?(this._toggleClass(W,_e.enabled),_e.changed=!1):_e.touched||(_e.enabled&&this._toggleClass(W,!1),this.stateMap.delete(W)),_e.touched=!1}}_toggleClass(N,W){(N=N.trim()).length>0&&N.split(Pn).forEach(_e=>{W?this._renderer.addClass(this._ngEl.nativeElement,_e):this._renderer.removeClass(this._ngEl.nativeElement,_e)})}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))};static#t=this.\u0275dir=l.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return b})();class ho{constructor(Z,N,W,_e){this.$implicit=Z,this.ngForOf=N,this.index=W,this.count=_e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class b{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,W,_e){this._viewContainer=N,this._template=W,this._differs=_e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const W=this._viewContainer;N.forEachOperation((_e,ht,At)=>{if(null==_e.previousIndex)W.createEmbeddedView(this._template,new ho(_e.item,this._ngForOf,-1,-1),null===At?void 0:At);else if(null==At)W.remove(null===ht?void 0:ht);else if(null!==ht){const mn=W.get(ht);W.move(mn,At),Lo(mn,_e)}});for(let _e=0,ht=W.length;_e<ht;_e++){const mn=W.get(_e).context;mn.index=_e,mn.count=ht,mn.ngForOf=this._ngForOf}N.forEachIdentityChange(_e=>{Lo(W.get(_e.currentIndex),_e)})}static ngTemplateContextGuard(N,W){return!0}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))};static#t=this.\u0275dir=l.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return b})();function Lo(b,Z){b.context.$implicit=Z.item}let Vo=(()=>{class b{constructor(N,W){this._viewContainer=N,this._context=new Wr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){vs("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){vs("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,W){return!0}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.s_b),l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return b})();class Wr{constructor(){this.$implicit=null,this.ngIf=null}}function vs(b,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,l.AaK)(Z)}'.`)}class ds{createSubscription(Z,N){return(0,l.rg0)(()=>Z.subscribe({next:N,error:W=>{throw W}}))}dispose(Z){(0,l.rg0)(()=>Z.unsubscribe())}}class li{createSubscription(Z,N){return Z.then(N,W=>{throw W})}dispose(Z){}}const Fs=new li,Hi=new ds;let yr=(()=>{class b{constructor(N){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=N}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,W=>this._updateLatestValue(N,W))}_selectStrategy(N){if((0,l.QGY)(N))return Fs;if((0,l.F4k)(N))return Hi;throw function Fi(b,Z){return new l.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,W){N===this._obj&&(this._latestValue=W,this._ref.markForCheck())}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.sBO,16))};static#t=this.\u0275pipe=l.Yjl({name:"async",type:b,pure:!1,standalone:!0})}return b})(),wi=(()=>{class b{constructor(N){this.differs=N,this.keyValues=[],this.compareFn=Li}transform(N,W=Li){if(!N||!(N instanceof Map)&&"object"!=typeof N)return null;this.differ||(this.differ=this.differs.find(N).create());const _e=this.differ.diff(N),ht=W!==this.compareFn;return _e&&(this.keyValues=[],_e.forEachItem(At=>{this.keyValues.push(function Po(b,Z){return{key:b,value:Z}}(At.key,At.currentValue))})),(_e||ht)&&(this.keyValues.sort(W),this.compareFn=W),this.keyValues}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.aQg,16))};static#t=this.\u0275pipe=l.Yjl({name:"keyvalue",type:b,pure:!1,standalone:!0})}return b})();function Li(b,Z){const N=b.key,W=Z.key;if(N===W)return 0;if(void 0===N)return 1;if(void 0===W)return-1;if(null===N)return 1;if(null===W)return-1;if("string"==typeof N&&"string"==typeof W)return N<W?-1:1;if("number"==typeof N&&"number"==typeof W)return N-W;if("boolean"==typeof N&&"boolean"==typeof W)return N<W?-1:1;const _e=String(N),ht=String(W);return _e==ht?0:_e<ht?-1:1}let ao=(()=>{class b{static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275mod=l.oAB({type:b});static#n=this.\u0275inj=l.cJS({})}return b})();const wr="browser",Wi="server";function Qr(b){return b===Wi}let Ee=(()=>{class b{static#e=this.\u0275prov=(0,l.Yz7)({token:b,providedIn:"root",factory:()=>new He((0,l.LFG)(be),window)})}return b})();class He{constructor(Z,N){this.document=Z,this.window=N,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const N=function _t(b,Z){const N=b.getElementById(Z)||b.getElementsByName(Z)[0];if(N)return N;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const W=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let _e=W.currentNode;for(;_e;){const ht=_e.shadowRoot;if(ht){const At=ht.getElementById(Z)||ht.querySelector(`[name="${Z}"]`);if(At)return At}_e=W.nextNode()}}return null}(this.document,Z);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(Z){this.supportsScrolling()&&(this.window.history.scrollRestoration=Z)}scrollToElement(Z){const N=Z.getBoundingClientRect(),W=N.left+this.window.pageXOffset,_e=N.top+this.window.pageYOffset,ht=this.offset();this.window.scrollTo(W-ht[0],_e-ht[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class hn{}},5879:(on,et,k)=>{k.d(et,{$8M:()=>Oc,$WT:()=>Si,$Z:()=>R,AFp:()=>Rm,ALo:()=>rI,AaK:()=>Re,BQk:()=>$,CHM:()=>zu,CRH:()=>yI,DdM:()=>K0,EJc:()=>Rb,EpF:()=>Ii,F4k:()=>ii,FYo:()=>Nm,FiY:()=>_u,GfV:()=>ng,Gpc:()=>Rt,HDt:()=>BI,HTZ:()=>Q0,JOm:()=>Dl,KtG:()=>pa,LFG:()=>Pt,LSH:()=>Bp,Lbi:()=>Mm,Lck:()=>mT,MAs:()=>gc,MGl:()=>M_,MMx:()=>j0,MR2:()=>ko,NdJ:()=>Ho,Ojb:()=>Ty,OlP:()=>Xt,Oqu:()=>Ev,P3R:()=>$p,PXZ:()=>oD,Q6J:()=>qf,QGY:()=>Fo,Qsj:()=>Ny,R0b:()=>so,RDi:()=>Pp,Rgc:()=>zg,SBq:()=>qd,Sil:()=>Ob,Suo:()=>_I,TTD:()=>or,TgZ:()=>gh,Udp:()=>_v,VKq:()=>Y0,VuI:()=>jD,X6Q:()=>fD,XFs:()=>cn,Xpm:()=>li,Xq5:()=>Tg,Xts:()=>Ll,Y36:()=>T,YKP:()=>U0,YNc:()=>zf,Yjl:()=>zo,Yz7:()=>_n,Z0I:()=>On,ZZ4:()=>eE,_Bn:()=>V0,_UZ:()=>ys,_c5:()=>PD,_uU:()=>$E,aQg:()=>tE,c2e:()=>UI,cJS:()=>xt,cg1:()=>Iv,dDg:()=>tD,dqk:()=>Mn,eFA:()=>YI,eJc:()=>Vv,ekj:()=>yv,eoX:()=>WI,f3M:()=>Zt,g9A:()=>Au,h0i:()=>vh,hGG:()=>RD,hij:()=>N_,iGM:()=>mI,ifc:()=>$i,ip1:()=>VI,jDz:()=>$0,kL8:()=>l0,lG2:()=>to,lcZ:()=>iI,lqb:()=>Za,lri:()=>zI,n5z:()=>xc,oAB:()=>Ir,oJD:()=>Em,oxw:()=>EE,q4F:()=>rg,qFp:()=>HD,qLn:()=>uc,qOj:()=>Qa,qZA:()=>cl,rWj:()=>GI,rg0:()=>ht,s9C:()=>fv,sBO:()=>pD,s_b:()=>j_,soG:()=>H_,tb:()=>Zv,tp0:()=>Ta,uIk:()=>Sa,vHH:()=>ke,vpe:()=>Ya,wAp:()=>Jf,xp6:()=>f,ynx:()=>M,z2F:()=>np,zSh:()=>Am,zs3:()=>Aa});var l=k(8645),y=k(7394),z=k(5592),Ce=k(3019),me=k(5619),be=k(2096),je=k(3020),Le=k(4664),ze=k(3997);function ie(t){for(let n in t)if(t[n]===ie)return n;throw Error("Could not find renamed property on target object.")}function re(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function mt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const We=ie({__forward_ref__:ie});function Rt(t){return t.__forward_ref__=Rt,t.toString=function(){return Re(this())},t}function vt(t){return Vt(t)?t():t}function Vt(t){return"function"==typeof t&&t.hasOwnProperty(We)&&t.__forward_ref__===Rt}function bt(t){return t&&!!t.\u0275providers}const qe="https://g.co/ng/security#xss";class ke extends Error{constructor(n,i){super(function Xe(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ye(t){return"string"==typeof t?t:null==t?"":String(t)}function Ht(t,n){throw new ke(-201,!1)}function Et(t,n){null==t&&function It(t,n,i,s){throw new Error(`ASSERTION ERROR: ${t}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,t,null,"!=")}function _n(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function En(t){return Ut(t,tn)||Ut(t,Fn)}function On(t){return null!==En(t)}function Ut(t,n){return t.hasOwnProperty(n)?t[n]:null}function Dr(t){return t&&(t.hasOwnProperty(sr)||t.hasOwnProperty(Ot))?t[sr]:null}const tn=ie({\u0275prov:ie}),sr=ie({\u0275inj:ie}),Fn=ie({ngInjectableDef:ie}),Ot=ie({ngInjectorDef:ie});var cn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(cn||{});let Cn;function ir(t){const n=Cn;return Cn=t,n}function cr(t,n,i){const s=En(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&cn.Optional?null:void 0!==n?n:void Ht(Re(t))}const Mn=globalThis;class Xt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=_n({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Tn={},gr="__NG_DI_FLAG__",Yn="ngTempTokenPath",Y=/\n/gm,x="__source";let O;function xe(t){const n=O;return O=t,n}function gt(t,n=cn.Default){if(void 0===O)throw new ke(-203,!1);return null===O?cr(t,void 0,n):O.get(t,n&cn.Optional?null:void 0,n)}function Pt(t,n=cn.Default){return(function gn(){return Cn}()||gt)(vt(t),n)}function Zt(t,n=cn.Default){return Pt(t,Qt(n))}function Qt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Gn(t){const n=[];for(let i=0;i<t.length;i++){const s=vt(t[i]);if(Array.isArray(s)){if(0===s.length)throw new ke(900,!1);let c,d=cn.Default;for(let _=0;_<s.length;_++){const I=s[_],D=Qn(I);"number"==typeof D?-1===D?c=I.token:d|=D:c=I}n.push(Pt(c,d))}else n.push(Pt(s))}return n}function vn(t,n){return t[gr]=n,t.prototype[gr]=n,t}function Qn(t){return t[gr]}function Gr(t){return{toString:t}.toString()}var Xi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Xi||{}),$i=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($i||{});const Fr={},Wn=[],ut=ie({\u0275cmp:ie}),Ze=ie({\u0275dir:ie}),Ct=ie({\u0275pipe:ie}),en=ie({\u0275mod:ie}),bn=ie({\u0275fac:ie}),Pn=ie({__NG_ELEMENT_ID__:ie}),dn=ie({__NG_ENV_ID__:ie});function Er(t,n,i){let s=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=n.length;if(c+d===s||t.charCodeAt(c+d)<=32)return c}i=c+1}}function fr(t,n,i){let s=0;for(;s<i.length;){const c=i[s];if("number"==typeof c){if(0!==c)break;s++;const d=i[s++],_=i[s++],I=i[s++];t.setAttribute(n,_,I,d)}else{const d=c,_=i[++s];ho(d)?t.setProperty(n,d,_):t.setAttribute(n,d,_),s++}}return s}function ci(t){return 3===t||4===t||6===t}function ho(t){return 64===t.charCodeAt(0)}function lr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c?i=c:0===i||Lo(t,i,c,null,-1===i||2===i?n[++s]:null)}}return t}function Lo(t,n,i,s,c){let d=0,_=t.length;if(-1===n)_=-1;else for(;d<t.length;){const I=t[d++];if("number"==typeof I){if(I===n){_=-1;break}if(I>n){_=d-1;break}}}for(;d<t.length;){const I=t[d];if("number"==typeof I)break;if(I===i){if(null===s)return void(null!==c&&(t[d+1]=c));if(s===t[d+1])return void(t[d+2]=c)}d++,null!==s&&d++,null!==c&&d++}-1!==_&&(t.splice(_,0,n),d=_+1),t.splice(d++,0,i),null!==s&&t.splice(d++,0,s),null!==c&&t.splice(d++,0,c)}const oi="ng-template";function Vo(t,n,i){let s=0,c=!0;for(;s<t.length;){let d=t[s++];if("string"==typeof d&&c){const _=t[s++];if(i&&"class"===d&&-1!==Er(_.toLowerCase(),n,0))return!0}else{if(1===d){for(;s<t.length&&"string"==typeof(d=t[s++]);)if(d.toLowerCase()===n)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Wr(t){return 4===t.type&&t.value!==oi}function vs(t,n,i){return n===(4!==t.type||i?t.value:oi)}function eo(t,n,i){let s=4;const c=t.attrs||[],d=function mr(t){for(let n=0;n<t.length;n++)if(ci(t[n]))return n;return t.length}(c);let _=!1;for(let I=0;I<n.length;I++){const D=n[I];if("number"!=typeof D){if(!_)if(4&s){if(s=2|1&s,""!==D&&!vs(t,D,i)||""===D&&1===n.length){if(si(s))return!1;_=!0}}else{const L=8&s?D:n[++I];if(8&s&&null!==t.attrs){if(!Vo(t.attrs,L,i)){if(si(s))return!1;_=!0}continue}const de=mi(8&s?"class":D,c,Wr(t),i);if(-1===de){if(si(s))return!1;_=!0;continue}if(""!==L){let Ue;Ue=de>d?"":c[de+1].toLowerCase();const tt=8&s?Ue:null;if(tt&&-1!==Er(tt,L,0)||2&s&&L!==Ue){if(si(s))return!1;_=!0}}}}else{if(!_&&!si(s)&&!si(D))return!1;if(_&&si(D))continue;_=!1,s=D|1&s}}return si(s)||_}function si(t){return 0==(1&t)}function mi(t,n,i,s){if(null===n)return-1;let c=0;if(s||!i){let d=!1;for(;c<n.length;){const _=n[c];if(_===t)return c;if(3===_||6===_)d=!0;else{if(1===_||2===_){let I=n[++c];for(;"string"==typeof I;)I=n[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=d?1:2}return-1}return function _r(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const s=t[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,t)}function rr(t,n,i=!1){for(let s=0;s<n.length;s++)if(eo(t,n[s],i))return!0;return!1}function Ai(t,n){return t?":not("+n.trim()+")":n}function _i(t){let n=t[0],i=1,s=2,c="",d=!1;for(;i<t.length;){let _=t[i];if("string"==typeof _)if(2&s){const I=t[++i];c+="["+_+(I.length>0?'="'+I+'"':"")+"]"}else 8&s?c+="."+_:4&s&&(c+=" "+_);else""!==c&&!si(_)&&(n+=Ai(d,c),c=""),s=_,d=d||!si(s);i++}return""!==c&&(n+=Ai(d,c)),n}function li(t){return Gr(()=>{const n=Io(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Xi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$i.Emulated,styles:t.styles||Wn,_:null,schemas:t.schemas||null,tView:null,id:""};Gi(i);const s=t.dependencies;return i.directiveDefs=Po(s,!1),i.pipeDefs=Po(s,!0),i.id=function Li(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of i)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Hi(t){return Nn(t)||$r(t)}function yr(t){return null!==t}function Ir(t){return Gr(()=>({type:t.type,bootstrap:t.bootstrap||Wn,declarations:t.declarations||Wn,imports:t.imports||Wn,exports:t.exports||Wn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Eo(t,n){if(null==t)return Fr;const i={};for(const s in t)if(t.hasOwnProperty(s)){let c=t[s],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),i[c]=s,n&&(n[c]=d)}return i}function to(t){return Gr(()=>{const n=Io(t);return Gi(n),n})}function zo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nn(t){return t[ut]||null}function $r(t){return t[Ze]||null}function Yr(t){return t[Ct]||null}function Si(t){const n=Nn(t)||$r(t)||Yr(t);return null!==n&&n.standalone}function Cr(t,n){const i=t[en]||null;if(!i&&!0===n)throw new Error(`Type ${Re(t)} does not have '\u0275mod' property.`);return i}function Io(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Fr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Wn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Eo(t.inputs,n),outputs:Eo(t.outputs)}}function Gi(t){t.features?.forEach(n=>n(t))}function Po(t,n){if(!t)return null;const i=n?Yr:Hi;return()=>("function"==typeof t?t():t).map(s=>i(s)).filter(yr)}const kr=0,Yt=1,Ln=2,Jn=3,yi=4,Ro=5,qr=6,ao=7,wr=8,Wi=9,qi=10,Vn=11,Vi=12,Qr=13,q=14,j=15,fe=16,Ee=17,He=18,_t=19,Gt=20,hn=21,Mt=22,un=23,Zn=24,wn=25,Hr=1,Xr=2,Zr=7,Ui=9,Xn=11;function zr(t){return Array.isArray(t)&&"object"==typeof t[Hr]}function Tr(t){return Array.isArray(t)&&!0===t[Hr]}function Go(t){return 0!=(4&t.flags)}function Ri(t){return t.componentOffset>-1}function Es(t){return 1==(1&t.flags)}function Zi(t){return!!t.template}function Ls(t){return 0!=(512&t[Ln])}function po(t,n){return t.hasOwnProperty(bn)?t[bn]:null}let Vr=null,Vs=!1;function Oi(t){const n=Vr;return Vr=t,n}const tu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ws(t){if(!Uo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ra(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function xo(t){t.dirty=!0,function Mo(t){if(void 0===t.liveConsumerNode)return;const n=Vs;Vs=!0;try{for(const i of t.liveConsumerNode)i.dirty||xo(i)}finally{Vs=n}}(t),t.consumerMarkedDirty?.(t)}function zn(t){return t&&(t.nextProducerIndex=0),Oi(t)}function Ws(t,n){if(Oi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Uo(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)bs(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ra(t){ns(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],s=t.producerLastReadVersion[n];if(s!==i.version||(ws(i),s!==i.version))return!0}return!1}function Ts(t){if(ns(t),Uo(t))for(let n=0;n<t.producerNode.length;n++)bs(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function bs(t,n){if(function ca(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ns(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)bs(t.producerNode[s],t.producerIndexOfThis[s]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];ns(c),c.producerIndexOfThis[s]=n}}function Uo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ns(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Bs=null;function ht(t){const n=Oi(null);try{return t()}finally{Oi(n)}}const mn=()=>{},pr=(()=>({...tu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:mn}))();class Pr{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function or(){return Kr}function Kr(t){return t.type.prototype.ngOnChanges&&(t.setInput=hi),Ur}function Ur(){const t=mo(this),n=t?.current;if(n){const i=t.previous;if(i===Fr)t.previous=n;else for(let s in n)i[s]=n[s];t.current=null,this.ngOnChanges(n)}}function hi(t,n,i,s){const c=this.declaredInputs[i],d=mo(t)||function As(t,n){return t[Ki]=n}(t,{previous:Fr,current:null}),_=d.current||(d.current={}),I=d.previous,D=I[c];_[c]=new Pr(D&&D.currentValue,n,I===Fr),t[s]=n}or.ngInherit=!0;const Ki="__ngSimpleChanges__";function mo(t){return t[Ki]||null}const Hn=function(t,n,i){};function ni(t){for(;Array.isArray(t);)t=t[kr];return t}function Ys(t,n){return ni(n[t])}function bo(t,n){return ni(n[t.index])}function ju(t,n){return t.data[n]}function Ss(t,n){return t[n]}function ri(t,n){const i=n[t];return zr(i)?i:i[kr]}function rs(t,n){return null==n?null:t[n]}function Ps(t){t[Ee]=0}function su(t){1024&t[Ln]||(t[Ln]|=1024,wc(t,1))}function Cc(t){1024&t[Ln]&&(t[Ln]&=-1025,wc(t,-1))}function wc(t,n){let i=t[Jn];if(null===i)return;i[Ro]+=n;let s=i;for(i=i[Jn];null!==i&&(1===n&&1===s[Ro]||-1===n&&0===s[Ro]);)i[Ro]+=n,s=i,i=i[Jn]}const qn={lFrame:Q(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ti(){return qn.bindingsEnabled}function Ft(){return qn.lFrame.lView}function br(){return qn.lFrame.tView}function zu(t){return qn.lFrame.contextLView=t,t[wr]}function pa(t){return qn.lFrame.contextLView=null,t}function uo(){let t=Bi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bi(){return qn.lFrame.currentTNode}function Do(t,n){const i=qn.lFrame;i.currentTNode=t,i.isParent=n}function ga(){return qn.lFrame.isParent}function Na(){qn.lFrame.isParent=!1}function co(){const t=qn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function os(){return qn.lFrame.bindingIndex++}function Js(t,n){const i=qn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Fa(n)}function Fa(t){qn.lFrame.currentDirectiveIndex=t}function ss(){return qn.lFrame.currentQueryIndex}function C(t){qn.lFrame.currentQueryIndex=t}function A(t){const n=t[Yt];return 2===n.type?n.declTNode:1===n.type?t[qr]:null}function E(t,n,i){if(i&cn.SkipSelf){let c=n,d=t;for(;!(c=c.parent,null!==c||i&cn.Host||(c=A(d),null===c||(d=d[q],10&c.type))););if(null===c)return!1;n=c,t=d}const s=qn.lFrame=F();return s.currentTNode=n,s.lView=t,!0}function S(t){const n=F(),i=t[Yt];qn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function F(){const t=qn.lFrame,n=null===t?null:t.child;return null===n?Q(t):n}function Q(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function pe(){const t=qn.lFrame;return qn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ct=pe;function at(){const t=pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ar(){return qn.lFrame.selectedIndex}function ur(t){qn.lFrame.selectedIndex=t}function Br(){const t=qn.lFrame;return ju(t.tView,t.selectedIndex)}let pd=!0;function qu(){return pd}function Xs(t){pd=t}function he(t,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const d=t.data[i].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:I,ngAfterViewInit:D,ngAfterViewChecked:L,ngOnDestroy:K}=d;_&&(t.contentHooks??=[]).push(-i,_),I&&((t.contentHooks??=[]).push(i,I),(t.contentCheckHooks??=[]).push(i,I)),D&&(t.viewHooks??=[]).push(-i,D),L&&((t.viewHooks??=[]).push(i,L),(t.viewCheckHooks??=[]).push(i,L)),null!=K&&(t.destroyHooks??=[]).push(i,K)}}function X(t,n,i){zt(t,n,3,i)}function De(t,n,i,s){(3&t[Ln])===i&&zt(t,n,i,s)}function ot(t,n){let i=t[Ln];(3&i)===n&&(i&=8191,i+=1,t[Ln]=i)}function zt(t,n,i,s){const d=s??-1,_=n.length-1;let I=0;for(let D=void 0!==s?65535&t[Ee]:0;D<_;D++)if("number"==typeof n[D+1]){if(I=n[D],null!=s&&I>=s)break}else n[D]<0&&(t[Ee]+=65536),(I<d||-1==d)&&(fi(t,i,n,D),t[Ee]=(4294901760&t[Ee])+D+2),D++}function rn(t,n){Hn(4,t,n);const i=Oi(null);try{n.call(t)}finally{Oi(i),Hn(5,t,n)}}function fi(t,n,i,s){const c=i[s]<0,d=i[s+1],I=t[c?-i[s]:i[s]];c?t[Ln]>>13<t[Ee]>>16&&(3&t[Ln])===n&&(t[Ln]+=8192,rn(I,d)):rn(I,d)}const Kn=-1;class ro{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function $s(t){return t!==Kn}function io(t){return 32767&t}function Zo(t,n){let i=function lu(t){return t>>16}(t),s=n;for(;i>0;)s=s[q],i--;return s}let Hs=!0;function Os(t){const n=Hs;return Hs=t,n}const Sc=255,yo=5;let Ch=0;const No={};function Pc(t,n){const i=Ea(t,n);if(-1!==i)return i;const s=n[Yt];s.firstCreatePass&&(t.injectorIndex=n.length,Ns(s.data,t),Ns(n,null),Ns(s.blueprint,null));const c=du(t,n),d=t.injectorIndex;if($s(c)){const _=io(c),I=Zo(c,n),D=I[Yt].data;for(let L=0;L<8;L++)n[d+L]=I[_+L]|D[_+L]}return n[d+8]=c,d}function Ns(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ea(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function du(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,s=null,c=n;for(;null!==c;){if(s=yd(c),null===s)return Kn;if(i++,c=c[q],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return Kn}function Ia(t,n,i){!function fl(t,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(Pn)&&(s=i[Pn]),null==s&&(s=i[Pn]=Ch++);const c=s&Sc;n.data[t+(c>>yo)]|=1<<c}(t,n,i)}function Ua(t,n,i){if(i&cn.Optional||void 0!==t)return t;Ht()}function pl(t,n,i,s){if(i&cn.Optional&&void 0===s&&(s=null),!(i&(cn.Self|cn.Host))){const c=t[Wi],d=ir(void 0);try{return c?c.get(n,s,i&cn.Optional):cr(n,s,i&cn.Optional)}finally{ir(d)}}return Ua(s,0,i)}function Ca(t,n,i,s=cn.Default,c){if(null!==t){if(2048&n[Ln]&&!(s&cn.Self)){const _=function fu(t,n,i,s,c){let d=t,_=n;for(;null!==d&&null!==_&&2048&_[Ln]&&!(512&_[Ln]);){const I=gd(d,_,i,s|cn.Self,No);if(I!==No)return I;let D=d.parent;if(!D){const L=_[Gt];if(L){const K=L.get(i,No,s);if(K!==No)return K}D=yd(_),_=_[q]}d=D}return c}(t,n,i,s,No);if(_!==No)return _}const d=gd(t,n,i,s,No);if(d!==No)return d}return pl(n,i,s,c)}function gd(t,n,i,s,c){const d=function gl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Pn)?t[Pn]:void 0;return"number"==typeof n?n>=0?n&Sc:_d:n}(i);if("function"==typeof d){if(!E(n,t,s))return s&cn.Host?Ua(c,0,s):pl(n,i,s,c);try{let _;if(_=d(s),null!=_||s&cn.Optional)return _;Ht()}finally{ct()}}else if("number"==typeof d){let _=null,I=Ea(t,n),D=Kn,L=s&cn.Host?n[j][qr]:null;for((-1===I||s&cn.SkipSelf)&&(D=-1===I?du(t,n):n[I+8],D!==Kn&&Mc(s,!1)?(_=n[Yt],I=io(D),n=Zo(D,n)):I=-1);-1!==I;){const K=n[Yt];if(Th(d,I,K.data)){const de=md(I,n,i,_,s,L);if(de!==No)return de}D=n[I+8],D!==Kn&&Mc(s,n[Yt].data[I+8]===L)&&Th(d,I,n)?(_=K,I=io(D),n=Zo(D,n)):I=-1}}return c}function md(t,n,i,s,c,d){const _=n[Yt],I=_.data[t+8],K=Rc(I,_,i,null==s?Ri(I)&&Hs:s!=_&&0!=(3&I.type),c&cn.Host&&d===I);return null!==K?hu(n,_,K,I):No}function Rc(t,n,i,s,c){const d=t.providerIndexes,_=n.data,I=1048575&d,D=t.directiveStart,K=d>>20,Ue=c?I+K:t.directiveEnd;for(let tt=s?I:I+K;tt<Ue;tt++){const Dt=_[tt];if(tt<D&&i===Dt||tt>=D&&Dt.type===i)return tt}if(c){const tt=_[D];if(tt&&Zi(tt)&&tt.type===i)return D}return null}function hu(t,n,i,s){let c=t[i];const d=n.data;if(function Ms(t){return t instanceof ro}(c)){const _=c;_.resolving&&function yt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ke(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Qe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ye(t)}(d[i]));const I=Os(_.canSeeViewProviders);_.resolving=!0;const L=_.injectImpl?ir(_.injectImpl):null;E(t,s,cn.Default);try{c=t[i]=_.factory(void 0,d,t,s),n.firstCreatePass&&i>=s.directiveStart&&function oe(t,n,i){const{ngOnChanges:s,ngOnInit:c,ngDoCheck:d}=n.type.prototype;if(s){const _=Kr(n);(i.preOrderHooks??=[]).push(t,_),(i.preOrderCheckHooks??=[]).push(t,_)}c&&(i.preOrderHooks??=[]).push(0-t,c),d&&((i.preOrderHooks??=[]).push(t,d),(i.preOrderCheckHooks??=[]).push(t,d))}(i,d[i],n)}finally{null!==L&&ir(L),Os(I),_.resolving=!1,ct()}}return c}function Th(t,n,i){return!!(i[n+(t>>yo)]&1<<t)}function Mc(t,n){return!(t&cn.Self||t&cn.Host&&n)}class Ao{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return Ca(this._tNode,this._lView,n,Qt(s),i)}}function _d(){return new Ao(uo(),Ft())}function xc(t){return Gr(()=>{const n=t.prototype.constructor,i=n[bn]||ea(n),s=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==s;){const d=c[bn]||ea(c);if(d&&d!==i)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function ea(t){return Vt(t)?()=>{const n=ea(vt(t));return n&&n()}:po(t)}function yd(t){const n=t[Yt],i=n.type;return 2===i?n.declTNode:1===i?t[qr]:null}function Oc(t){return function wh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const s=i.length;let c=0;for(;c<s;){const d=i[c];if(ci(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<s&&"string"==typeof i[c];)c++;else{if(d===n)return i[c+1];c+=2}}}return null}(uo(),t)}const ja="__parameters__";function ji(t,n,i){return Gr(()=>{const s=function gu(t){return function(...i){if(t){const s=t(...i);for(const c in s)this[c]=s[c]}}}(n);function c(...d){if(this instanceof c)return s.apply(this,d),this;const _=new c(...d);return I.annotation=_,I;function I(D,L,K){const de=D.hasOwnProperty(ja)?D[ja]:Object.defineProperty(D,ja,{value:[]})[ja];for(;de.length<=K;)de.push(null);return(de[K]=de[K]||[]).push(_),D}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Ha(t,n){t.forEach(i=>Array.isArray(i)?Ha(i,n):n(i))}function wd(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ml(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ms(t,n,i){let s=Ju(t,n);return s>=0?t[1|s]=i:(s=~s,function Rh(t,n,i,s){let c=t.length;if(c==n)t.push(i,s);else if(1===c)t.push(s,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=s}}(t,s,n,i)),s}function _l(t,n){const i=Ju(t,n);if(i>=0)return t[1|i]}function Ju(t,n){return function wa(t,n,i){let s=0,c=t.length>>i;for(;c!==s;){const d=s+(c-s>>1),_=t[d<<i];if(n===_)return d<<i;_>n?c=d:s=d+1}return~(c<<i)}(t,n,1)}const _u=vn(ji("Optional"),8),Ta=vn(ji("SkipSelf"),4);function bl(t){return 128==(128&t.flags)}var Dl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Dl||{});const Qg=/^>|^->|<!--|-->|--!>|<!-$/g,Al=/(<|>)/g,cp="\u200b$1\u200b";const lp=new Map;let Xg=0;const xd="__ngContext__";function Ko(t,n){zr(n)?(t[xd]=n[_t],function K_(t){lp.set(t[_t],t)}(n)):t[xd]=n}let pp;function Od(t,n){return pp(t,n)}function jc(t){const n=t[Jn];return Tr(n)?n[Jn]:n}function nm(t){return Hh(t[Vi])}function $h(t){return Hh(t[yi])}function Hh(t){for(;null!==t&&!Tr(t);)t=t[yi];return t}function $c(t,n,i,s,c){if(null!=s){let d,_=!1;Tr(s)?d=s:zr(s)&&(_=!0,s=s[kr]);const I=ni(s);0===t&&null!==i?null==c?lm(n,i,I):bu(n,i,I,c||null,!0):1===t&&null!==i?bu(n,i,I,c||null,!0):2===t?function Xh(t,n,i){const s=Kh(t,n);s&&function ty(t,n,i,s){t.removeChild(n,i,s)}(t,s,n,i)}(n,I,_):3===t&&n.destroyNode(I),null!=d&&function Tp(t,n,i,s,c){const d=i[Zr];d!==ni(i)&&$c(n,t,s,d,c);for(let I=Xn;I<i.length;I++){const D=i[I];zc(D[Yt],D,t,n,s,d)}}(n,t,d,i,c)}}function zh(t,n){return t.createComment(function Jg(t){return t.replace(Qg,n=>n.replace(Al,cp))}(n))}function Gh(t,n,i){return t.createElement(n,i)}function um(t,n){const i=t[Ui],s=i.indexOf(n);Cc(n),i.splice(s,1)}function Wh(t,n){if(t.length<=Xn)return;const i=Xn+n,s=t[i];if(s){const c=s[fe];null!==c&&c!==t&&um(c,s),n>0&&(t[i-1][yi]=s[yi]);const d=ml(t,Xn+n);!function im(t,n){zc(t,n,n[Vn],2,null,null),n[kr]=null,n[qr]=null}(s[Yt],s);const _=d[He];null!==_&&_.detachView(d[Yt]),s[Jn]=null,s[yi]=null,s[Ln]&=-129}return s}function Nd(t,n){if(!(256&n[Ln])){const i=n[Vn];n[un]&&Ts(n[un]),n[Zn]&&Ts(n[Zn]),i.destroyNode&&zc(t,n,i,3,null,null),function am(t){let n=t[Vi];if(!n)return _p(t[Yt],t);for(;n;){let i=null;if(zr(n))i=n[Vi];else{const s=n[Xn];s&&(i=s)}if(!i){for(;n&&!n[yi]&&n!==t;)zr(n)&&_p(n[Yt],n),n=n[Jn];null===n&&(n=t),zr(n)&&_p(n[Yt],n),i=n&&n[yi]}n=i}}(n)}}function _p(t,n){if(!(256&n[Ln])){n[Ln]&=-129,n[Ln]|=256,function cm(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let s=0;s<i.length;s+=2){const c=n[i[s]];if(!(c instanceof ro)){const d=i[s+1];if(Array.isArray(d))for(let _=0;_<d.length;_+=2){const I=c[d[_]],D=d[_+1];Hn(4,I,D);try{D.call(I)}finally{Hn(5,I,D)}}else{Hn(4,c,d);try{d.call(c)}finally{Hn(5,c,d)}}}}}(t,n),function yp(t,n){const i=t.cleanup,s=n[ao];if(null!==i)for(let d=0;d<i.length-1;d+=2)if("string"==typeof i[d]){const _=i[d+3];_>=0?s[_]():s[-_].unsubscribe(),d+=2}else i[d].call(s[i[d+1]]);null!==s&&(n[ao]=null);const c=n[hn];if(null!==c){n[hn]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,n),1===n[Yt].type&&n[Vn].destroy();const i=n[fe];if(null!==i&&Tr(n[Jn])){i!==n[Jn]&&um(i,n);const s=n[He];null!==s&&s.detachView(t)}!function Y_(t){lp.delete(t[_t])}(n)}}function kd(t,n,i){return function qh(t,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[kr];{const{componentOffset:c}=s;if(c>-1){const{encapsulation:d}=t.data[s.directiveStart+c];if(d===$i.None||d===$i.Emulated)return null}return bo(s,i)}}(t,n.parent,i)}function bu(t,n,i,s,c){t.insertBefore(n,i,s,c)}function lm(t,n,i){t.appendChild(n,i)}function Zh(t,n,i,s,c){null!==s?bu(t,n,i,s,c):lm(t,n,i)}function Kh(t,n){return t.parentNode(n)}let Cp,nf,Sp,kl,Ip=function Yh(t,n,i){return 40&t.type?bo(t,i):null};function Jh(t,n,i,s){const c=kd(t,s,n),d=n[Vn],I=function Ep(t,n,i){return Ip(t,n,i)}(s.parent||n[qr],s,n);if(null!=c)if(Array.isArray(i))for(let D=0;D<i.length;D++)Zh(d,c,i[D],I,!1);else Zh(d,c,i,I,!1);void 0!==Cp&&Cp(d,s,n,i,c)}function Hc(t,n){if(null!==n){const i=n.type;if(3&i)return bo(n,t);if(4&i)return Fd(-1,t[n.index]);if(8&i){const s=n.child;if(null!==s)return Hc(t,s);{const c=t[n.index];return Tr(c)?Fd(-1,c):ni(c)}}if(32&i)return Od(n,t)()||ni(t[n.index]);{const s=hm(t,n);return null!==s?Array.isArray(s)?s[0]:Hc(jc(t[j]),s):Hc(t,n.next)}}return null}function hm(t,n){return null!==n?t[j][qr].projection[n.projection]:null}function Fd(t,n){const i=Xn+t+1;if(i<n.length){const s=n[i],c=s[Yt].firstChild;if(null!==c)return Hc(s,c)}return n[Zr]}function Ld(t,n,i,s,c,d,_){for(;null!=i;){const I=s[i.index],D=i.type;if(_&&0===n&&(I&&Ko(ni(I),s),i.flags|=2),32!=(32&i.flags))if(8&D)Ld(t,n,i.child,s,c,d,!1),$c(n,t,c,I,d);else if(32&D){const L=Od(i,s);let K;for(;K=L();)$c(n,t,c,K,d);$c(n,t,c,I,d)}else 16&D?wp(t,n,s,i,c,d):$c(n,t,c,I,d);i=_?i.projectionNext:i.next}}function zc(t,n,i,s,c,d){Ld(i,s,t.firstChild,n,c,d,!1)}function wp(t,n,i,s,c,d){const _=i[j],D=_[qr].projection[s.projection];if(Array.isArray(D))for(let L=0;L<D.length;L++)$c(n,t,c,D[L],d);else{let L=D;const K=_[Jn];bl(s)&&(L.flags|=128),Ld(t,n,L,K,c,d,!0)}}function qa(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function tf(t,n,i){const{mergedAttrs:s,classes:c,styles:d}=i;null!==s&&fr(t,n,s),null!==c&&qa(t,n,c),null!==d&&function bp(t,n,i){t.setAttribute(n,"style",i)}(t,n,d)}function Ol(t){return function Vd(){if(void 0===nf&&(nf=null,Mn.trustedTypes))try{nf=Mn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nf}()?.createHTML(t)||t}function Pp(t){Sp=t}function Nl(){if(void 0!==Sp)return Sp;if(typeof document<"u")return document;throw new ke(210,!1)}function rf(){if(void 0===kl&&(kl=null,Mn.trustedTypes))try{kl=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kl}function sf(t){return rf()?.createHTML(t)||t}function fm(t){return rf()?.createScriptURL(t)||t}class pm{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qe})`}}function rc(t){return t instanceof pm?t.changingThisBreaksApplicationSecurity:t}function Du(t,n){const i=function oy(t){return t instanceof pm&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${qe})`)}return i===n}class uy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Ol(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class cy{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=Ol(n),i}}const uf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bd(t){return(t=String(t)).match(uf)?t:"unsafe:"+t}function ba(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Gc(...t){const n={};for(const i of t)for(const s in i)i.hasOwnProperty(s)&&(n[s]=!0);return n}const kp=ba("area,br,col,hr,img,wbr"),cf=ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lf=ba("rp,rt"),ic=Gc(kp,Gc(cf,ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gc(lf,ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gc(lf,cf)),df=ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wc=Gc(df,ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lp=ba("script,style,template");class fy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,s=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?s=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,s&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let c=this.checkClobberedElement(i,i.nextSibling);if(c){i=c;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!ic.hasOwnProperty(i))return this.sanitizedSomething=!0,!Lp.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const s=n.attributes;for(let c=0;c<s.length;c++){const d=s.item(c),_=d.name,I=_.toLowerCase();if(!Wc.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let D=d.value;df[I]&&(D=Bd(D)),this.buf.push(" ",_,'="',Vp(D),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();ic.hasOwnProperty(i)&&!kp.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Vp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const py=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gy=/([^\#-~ |!])/g;function Vp(t){return t.replace(/&/g,"&amp;").replace(py,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(gy,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hf;function Up(t){return"content"in t&&function my(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Fl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fl||{});function Em(t){const n=vr();return n?sf(n.sanitize(Fl.HTML,t)||""):Du(t,"HTML")?sf(rc(t)):function vm(t,n){let i=null;try{hf=hf||function mm(t){const n=new cy(t);return function ly(){try{return!!(new window.DOMParser).parseFromString(Ol(""),"text/html")}catch{return!1}}()?new uy(n):n}(t);let s=n?String(n):"";i=hf.getInertBodyElement(s);let c=5,d=s;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,s=d,d=i.innerHTML,i=hf.getInertBodyElement(s)}while(s!==d);return Ol((new fy).sanitizeChildren(Up(i)||i))}finally{if(i){const s=Up(i)||i;for(;s.firstChild;)s.removeChild(s.firstChild)}}}(Nl(),Ye(t))}function Bp(t){const n=vr();return n?n.sanitize(Fl.URL,t)||"":Du(t,"URL")?rc(t):Bd(Ye(t))}function Im(t){const n=vr();if(n)return fm(n.sanitize(Fl.RESOURCE_URL,t)||"");if(Du(t,"ResourceURL"))return fm(rc(t));throw new ke(904,!1)}function $p(t,n,i){return function Tm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Im:Bp}(n,i)(t)}function vr(){const t=Ft();return t&&t[qi].sanitizer}const Ll=new Xt("ENVIRONMENT_INITIALIZER"),zp=new Xt("INJECTOR",-1),Vl=new Xt("INJECTOR_DEF_TYPES");class ff{get(n,i=Tn){if(i===Tn){const s=new Error(`NullInjectorError: No provider for ${Re(n)}!`);throw s.name="NullInjectorError",s}return i}}function ko(t){return{\u0275providers:t}}function lo(...t){return{\u0275providers:Da(0,t),\u0275fromNgModule:!0}}function Da(t,...n){const i=[],s=new Set;let c;const d=_=>{i.push(_)};return Ha(n,_=>{const I=_;pf(I,d,[],s)&&(c||=[],c.push(I))}),void 0!==c&&bm(c,d),i}function bm(t,n){for(let i=0;i<t.length;i++){const{ngModule:s,providers:c}=t[i];Gp(c,d=>{n(d,s)})}}function pf(t,n,i,s){if(!(t=vt(t)))return!1;let c=null,d=Dr(t);const _=!d&&Nn(t);if(d||_){if(_&&!_.standalone)return!1;c=t}else{const D=t.ngModule;if(d=Dr(D),!d)return!1;c=D}const I=s.has(c);if(_){if(I)return!1;if(s.add(c),_.dependencies){const D="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const L of D)pf(L,n,i,s)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let L;s.add(c);try{Ha(d.imports,K=>{pf(K,n,i,s)&&(L||=[],L.push(K))})}finally{}void 0!==L&&bm(L,n)}if(!I){const L=po(c)||(()=>new c);n({provide:c,useFactory:L,deps:Wn},c),n({provide:Vl,useValue:c,multi:!0},c),n({provide:Ll,useValue:()=>Pt(c),multi:!0},c)}const D=d.providers;if(null!=D&&!I){const L=t;Gp(D,K=>{n(K,L)})}}}return c!==t&&void 0!==t.providers}function Gp(t,n){for(let i of t)bt(i)&&(i=i.\u0275providers),Array.isArray(i)?Gp(i,n):n(i)}const Wp=ie({provide:String,useValue:ie});function qp(t){return null!==t&&"object"==typeof t&&Wp in t}function qc(t){return"function"==typeof t}const Am=new Xt("Set Injector scope."),mf={},Qi={};let _f;function yf(){return void 0===_f&&(_f=new ff),_f}class Za{}class Zc extends Za{get destroyed(){return this._destroyed}constructor(n,i,s,c){super(),this.parent=i,this.source=s,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kc(n,_=>this.processProvider(_)),this.records.set(zp,jd(void 0,this)),c.has("environment")&&this.records.set(Za,jd(void 0,this));const d=this.records.get(Am);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Vl.multi,Wn,cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=xe(this),s=ir(void 0);try{return n()}finally{xe(i),ir(s)}}get(n,i=Tn,s=cn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(dn))return n[dn](this);s=Qt(s);const d=xe(this),_=ir(void 0);try{if(!(s&cn.SkipSelf)){let D=this.records.get(n);if(void 0===D){const L=function Pm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Xt}(n)&&En(n);D=L&&this.injectableDefInScope(L)?jd(Zp(n),mf):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(s&cn.Self?yf():this.parent).get(n,i=s&cn.Optional&&i===Tn?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[Yn]=I[Yn]||[]).unshift(Re(n)),d)throw I;return function ki(t,n,i,s){const c=t[Yn];throw n[x]&&c.unshift(n[x]),t.message=function Di(t,n,i,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Re(n);if(Array.isArray(n))c=n.map(Re).join(" -> ");else if("object"==typeof n){let d=[];for(let _ in n)if(n.hasOwnProperty(_)){let I=n[_];d.push(_+":"+("string"==typeof I?JSON.stringify(I):Re(I)))}c=`{${d.join(", ")}}`}return`${i}${s?"("+s+")":""}[${c}]: ${t.replace(Y,"\n  ")}`}("\n"+t.message,c,i,s),t.ngTokenPath=c,t[Yn]=null,t}(I,n,"R3InjectorError",this.source)}throw I}finally{ir(_),xe(d)}}resolveInjectorInitializers(){const n=xe(this),i=ir(void 0);try{const c=this.get(Ll.multi,Wn,cn.Self);for(const d of c)d()}finally{xe(n),ir(i)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(Re(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processProvider(n){let i=qc(n=vt(n))?n:vt(n&&n.provide);const s=function Iy(t){return qp(t)?jd(void 0,t.useValue):jd(Sm(t),mf)}(n);if(qc(n)||!0!==n.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=jd(void 0,mf,!0),c.factory=()=>Gn(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,s)}hydrate(n,i){return i.value===mf&&(i.value=Qi,i.value=i.factory()),"object"==typeof i.value&&i.value&&function wy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=vt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Zp(t){const n=En(t),i=null!==n?n.factory:po(t);if(null!==i)return i;if(t instanceof Xt)throw new ke(204,!1);if(t instanceof Function)return function Ey(t){const n=t.length;if(n>0)throw function Qu(t,n){const i=[];for(let s=0;s<t;s++)i.push(n);return i}(n,"?"),new ke(204,!1);const i=function Nt(t){return t&&(t[tn]||t[Fn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new ke(204,!1)}function Sm(t,n,i){let s;if(qc(t)){const c=vt(t);return po(c)||Zp(c)}if(qp(t))s=()=>vt(t.useValue);else if(function Dm(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...Gn(t.deps||[]));else if(function gf(t){return!(!t||!t.useExisting)}(t))s=()=>Pt(vt(t.useExisting));else{const c=vt(t&&(t.useClass||t.provide));if(!function Cy(t){return!!t.deps}(t))return po(c)||Zp(c);s=()=>new c(...Gn(t.deps))}return s}function jd(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Kc(t,n){for(const i of t)Array.isArray(i)?Kc(i,n):i&&bt(i)?Kc(i.\u0275providers,n):n(i)}const Rm=new Xt("AppId",{providedIn:"root",factory:()=>oc}),oc="ng",Au=new Xt("Platform Initializer"),Mm=new Xt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ty=new Xt("CSP nonce",{providedIn:"root",factory:()=>Nl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let zl=(t,n,i)=>null;function Gl(t,n,i=!1){return zl(t,n,i)}class oE{}class xy{}class Oy{resolveComponentFactory(n){throw function eg(t){const n=Error(`No component factory found for ${Re(t)}.`);return n.ngComponent=t,n}(n)}}let Cf=(()=>{class t{static#e=this.NULL=new Oy}return t})();function wf(){return Zl(uo(),Ft())}function Zl(t,n){return new qd(bo(t,n))}let qd=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=wf}return t})();function Tf(t){return t instanceof qd?t.nativeElement:t}class Nm{}let Ny=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function km(){const t=Ft(),i=ri(uo().index,t);return(zr(i)?i:t)[Vn]}()}return t})(),Fm=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>null})}return t})();class ng{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const rg=new ng("16.2.12"),bf={};function ac(t,n=null,i=null,s){const c=Bm(t,n,i,s);return c.resolveInjectorInitializers(),c}function Bm(t,n=null,i=null,s,c=new Set){const d=[i||Wn,lo(t)];return s=s||("object"==typeof t?void 0:Re(t)),new Zc(d,n||yf(),s||null,c)}let Aa=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Tn;static#t=this.NULL=new ff;static create(i,s){if(Array.isArray(i))return ac({name:""},s,i,"");{const c=i.name??"";return ac({name:c},i.parent,i.providers,c)}}static#n=this.\u0275prov=_n({token:t,providedIn:"any",factory:()=>Pt(zp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ig(t){return t.ngOriginalError}class uc{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&ig(n);for(;i&&ig(i);)i=ig(i);return i||null}}function sg(t){return n=>{setTimeout(t,void 0,n)}}const Ya=class Ly extends l.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){let c=n,d=i||(()=>null),_=s;if(n&&"object"==typeof n){const D=n;c=D.next?.bind(D),d=D.error?.bind(D),_=D.complete?.bind(D)}this.__isAsync&&(d=sg(d),c&&(c=sg(c)),_&&(_=sg(_)));const I=super.subscribe({next:c,error:d,complete:_});return n instanceof y.w0&&n.add(I),I}};function $m(...t){}class so{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ya(!1),this.onMicrotaskEmpty=new Ya(!1),this.onStable=new Ya(!1),this.onError=new Ya(!1),typeof Zone>"u")throw new ke(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!s&&i,c.shouldCoalesceRunChangeDetection=s,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Vy(){const t="function"==typeof Mn.requestAnimationFrame;let n=Mn[t?"requestAnimationFrame":"setTimeout"],i=Mn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function By(t){const n=()=>{!function Uy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ug(t),t.isCheckStableRunning=!0,Hm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ug(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,c,d,_,I)=>{if(function hE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return i.invokeTask(c,d,_,I);try{return zm(t),i.invokeTask(c,d,_,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),Gm(t)}},onInvoke:(i,s,c,d,_,I,D)=>{try{return zm(t),i.invoke(c,d,_,I,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),Gm(t)}},onHasTask:(i,s,c,d)=>{i.hasTask(c,d),s===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,ug(t),Hm(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(i,s,c,d)=>(i.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!so.isInAngularZone())throw new ke(909,!1)}static assertNotInAngularZone(){if(so.isInAngularZone())throw new ke(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,c){const d=this._inner,_=d.scheduleEventTask("NgZoneEvent: "+c,n,ag,$m,$m);try{return d.runTask(_,i,s)}finally{d.cancelTask(_)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const ag={};function Hm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ug(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gm(t){t._nesting--,Hm(t)}class dE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ya,this.onMicrotaskEmpty=new Ya,this.onStable=new Ya,this.onError=new Ya}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,c){return n.apply(i,s)}}const jy=new Xt("",{providedIn:"root",factory:$y});function $y(){const t=Zt(so);let n=!0;const i=new z.y(c=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(n),c.complete()})}),s=new z.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{so.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,c.next(!0))})})});const _=t.onUnstable.subscribe(()=>{so.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),_.unsubscribe()}});return(0,Ce.T)(i,s.pipe((0,je.B)()))}function Ru(t){return t instanceof Function?t():t}let cg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>new t})}return t})();function Kd(t){for(;t;){t[Ln]|=64;const n=jc(t);if(Ls(t)&&!n)return t;t=n}return null}const Wy=new Xt("",{providedIn:"root",factory:()=>!1});let Yl=null;function Yd(t,n){return t[n]??o()}function a(t,n){const i=o();i.producerNode?.length&&(t[n]=Yl,i.lView=t,Yl=r())}const e={...tu,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kd(t.lView)},lView:null};function r(){return Object.create(e)}function o(){return Yl??=r(),Yl}const u={};function f(t){m(br(),Ft(),ar()+t,!1)}function m(t,n,i,s){if(!s)if(3==(3&n[Ln])){const d=t.preOrderCheckHooks;null!==d&&X(n,d,i)}else{const d=t.preOrderHooks;null!==d&&De(n,d,0,i)}ur(i)}function T(t,n=cn.Default){const i=Ft();return null===i?Pt(t,n):Ca(uo(),i,vt(t),n)}function R(){throw new Error("invalid")}function ee(t,n,i,s,c,d,_,I,D,L,K){const de=n.blueprint.slice();return de[kr]=c,de[Ln]=140|s,(null!==L||t&&2048&t[Ln])&&(de[Ln]|=2048),Ps(de),de[Jn]=de[q]=t,de[wr]=i,de[qi]=_||t&&t[qi],de[Vn]=I||t&&t[Vn],de[Wi]=D||t&&t[Wi]||null,de[qr]=d,de[_t]=function em(){return Xg++}(),de[Mt]=K,de[Gt]=L,de[j]=2==n.type?t[j]:de,de}function ce(t,n,i,s,c){let d=t.data[n];if(null===d)d=function Me(t,n,i,s,c){const d=Bi(),_=ga(),D=t.data[n]=function nt(t,n,i,s,c,d){let _=n?n.injectorIndex:-1,I=0;return function Qs(){return null!==qn.skipHydrationRootTNode}()&&(I|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?d:d&&d.parent,i,n,s,c);return null===t.firstChild&&(t.firstChild=D),null!==d&&(_?null==d.child&&null!==D.parent&&(d.child=D):null===d.next&&(d.next=D,D.prev=d)),D}(t,n,i,s,c),function cu(){return qn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=s,d.attrs=c;const _=function Oa(){const t=qn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();d.injectorIndex=null===_?-1:_.injectorIndex}return Do(d,!0),d}function st(t,n,i,s){if(0===i)return-1;const c=n.length;for(let d=0;d<i;d++)n.push(s),t.blueprint.push(s),t.data.push(null);return c}function kt(t,n,i,s,c){const d=Yd(n,un),_=ar(),I=2&s;try{ur(-1),I&&n.length>wn&&m(t,n,wn,!1),Hn(I?2:0,c);const L=I?d:null,K=zn(L);try{null!==L&&(L.dirty=!1),i(s,c)}finally{Ws(L,K)}}finally{I&&null===n[un]&&a(n,un),ur(_),Hn(I?3:1,c)}}function Kt(t,n,i){if(Go(n)){const s=Oi(null);try{const d=n.directiveEnd;for(let _=n.directiveStart;_<d;_++){const I=t.data[_];I.contentQueries&&I.contentQueries(1,i[_],_)}}finally{Oi(s)}}}function $t(t,n,i){Ti()&&(function Xy(t,n,i,s){const c=i.directiveStart,d=i.directiveEnd;Ri(i)&&function hg(t,n,i){const s=bo(n,t),c=Bn(i);let _=16;i.signals?_=4096:i.onPush&&(_=64);const I=Jl(t,ee(t,c,null,_,s,n,null,t[qi].rendererFactory.createRenderer(s,i),null,null,null));t[n.index]=I}(n,i,t.data[c+i.componentOffset]),t.firstCreatePass||Pc(i,n),Ko(s,n);const _=i.initialInputs;for(let I=c;I<d;I++){const D=t.data[I],L=hu(n,t,I,i);Ko(L,n),null!==_&&Xm(0,I-c,L,D,0,_),Zi(D)&&(ri(i.index,n)[wr]=hu(n,t,I,i))}}(t,n,i,bo(i,n)),64==(64&i.flags)&&Ql(t,n,i))}function An(t,n,i=bo){const s=n.localNames;if(null!==s){let c=n.index+1;for(let d=0;d<s.length;d+=2){const _=s[d+1],I=-1===_?i(n,t):t[_];t[c++]=I}}}function Bn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Rn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Rn(t,n,i,s,c,d,_,I,D,L,K){const de=wn+s,Ue=de+c,tt=function dr(t,n){const i=[];for(let s=0;s<n;s++)i.push(s<t?null:u);return i}(de,Ue),Dt="function"==typeof L?L():L;return tt[Yt]={type:t,blueprint:tt,template:i,queries:null,viewQuery:I,declTNode:n,data:tt.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:Dt,incompleteFirstPass:!1,ssrId:K}}let Ke=t=>null;function dt(t,n,i,s){for(let c in t)if(t.hasOwnProperty(c)){i=null===i?{}:i;const d=t[c];null===s?Oe(i,n,c,d):s.hasOwnProperty(c)&&Oe(i,n,s[c],d)}return i}function Oe(t,n,i,s){t.hasOwnProperty(i)?t[i].push(n,s):t[i]=[n,s]}function zs(t,n,i,s,c,d,_,I){const D=bo(n,i);let K,L=n.inputs;!I&&null!=L&&(K=L[s])?(Qo(t,i,K,s,c),Ri(n)&&function Jd(t,n){const i=ri(n,t);16&i[Ln]||(i[Ln]|=64)}(i,n.index)):3&n.type&&(s=function Qd(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),c=null!=_?_(c,n.value||"",s):c,d.setProperty(D,s,c))}function Sf(t,n,i,s){if(Ti()){const c=null===s?null:{"":-1},d=function eh(t,n){const i=t.directiveRegistry;let s=null,c=null;if(i)for(let d=0;d<i.length;d++){const _=i[d];if(rr(n,_.selectors,!1))if(s||(s=[]),Zi(_))if(null!==_.findHostDirectiveDefs){const I=[];c=c||new Map,_.findHostDirectiveDefs(_,I,c),s.unshift(...I,_),lg(t,n,I.length)}else s.unshift(_),lg(t,n,0);else c=c||new Map,_.findHostDirectiveDefs?.(_,s,c),s.push(_)}return null===s?null:[s,c]}(t,i);let _,I;null===d?_=I=null:[_,I]=d,null!==_&&Jm(t,n,i,_,c,I),c&&function tv(t,n,i){if(n){const s=t.localNames=[];for(let c=0;c<n.length;c+=2){const d=i[n[c+1]];if(null==d)throw new ke(-301,!1);s.push(n[c],d)}}}(i,s,c)}i.mergedAttrs=lr(i.mergedAttrs,i.attrs)}function Jm(t,n,i,s,c,d){for(let L=0;L<s.length;L++)Ia(Pc(i,n),t,s[L].type);!function Rf(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,s.length);for(let L=0;L<s.length;L++){const K=s[L];K.providersResolver&&K.providersResolver(K)}let _=!1,I=!1,D=st(t,n,s.length,null);for(let L=0;L<s.length;L++){const K=s[L];i.mergedAttrs=lr(i.mergedAttrs,K.hostAttrs),dg(t,i,n,D,K),Pf(D,K,c),null!==K.contentQueries&&(i.flags|=4),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(i.flags|=64);const de=K.type.prototype;!_&&(de.ngOnChanges||de.ngOnInit||de.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),_=!0),!I&&(de.ngOnChanges||de.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),I=!0),D++}!function Mu(t,n,i){const c=n.directiveEnd,d=t.data,_=n.attrs,I=[];let D=null,L=null;for(let K=n.directiveStart;K<c;K++){const de=d[K],Ue=i?i.get(de):null,Dt=Ue?Ue.outputs:null;D=dt(de.inputs,K,D,Ue?Ue.inputs:null),L=dt(de.outputs,K,L,Dt);const Wt=null===D||null===_||Wr(n)?null:nv(D,K,_);I.push(Wt)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=D,n.outputs=L}(t,i,d)}function Ql(t,n,i){const s=i.directiveStart,c=i.directiveEnd,d=i.index,_=function Wu(){return qn.lFrame.currentDirectiveIndex}();try{ur(d);for(let I=s;I<c;I++){const D=t.data[I],L=n[I];Fa(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&ev(D,L)}}finally{ur(-1),Fa(_)}}function ev(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function lg(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Pf(t,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=t;Zi(n)&&(i[""]=t)}}function dg(t,n,i,s,c){t.data[s]=c;const d=c.factory||(c.factory=po(c.type)),_=new ro(d,Zi(c),T);t.blueprint[s]=_,i[s]=_,function lc(t,n,i,s,c){const d=c.hostBindings;if(d){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const I=~n.index;(function cs(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(_)!=I&&_.push(I),_.push(i,s,d)}}(t,n,s,st(t,i,c.hostVars,u),c)}function ta(t,n,i,s,c,d){const _=bo(t,n);!function th(t,n,i,s,c,d,_){if(null==d)t.removeAttribute(n,c,i);else{const I=null==_?Ye(d):_(d,s||"",c);t.setAttribute(n,c,I,i)}}(n[Vn],_,d,t.value,i,s,c)}function Xm(t,n,i,s,c,d){const _=d[n];if(null!==_)for(let I=0;I<_.length;)fg(s,i,_[I++],_[I++],_[I++])}function fg(t,n,i,s,c){const d=Oi(null);try{const _=t.inputTransforms;null!==_&&_.hasOwnProperty(s)&&(c=_[s].call(n,c)),null!==t.setInput?t.setInput(n,c,i,s):n[s]=c}finally{Oi(d)}}function nv(t,n,i){let s=null,c=0;for(;c<i.length;){const d=i[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===s&&(s=[]);const _=t[d];for(let I=0;I<_.length;I+=2)if(_[I]===n){s.push(d,_[I+1],i[c+1]);break}}c+=2}else c+=2;else c+=4}return s}function pg(t,n,i,s){return[t,!0,!1,n,null,0,s,i,null,null,null]}function gg(t,n){const i=t.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const d=i[s+1];if(-1!==d){const _=t.data[d];C(i[s]),_.contentQueries(2,n[d],d)}}}function Jl(t,n){return t[Vi]?t[Qr][yi]=n:t[Vi]=n,t[Qr]=n,n}function Mf(t,n,i){C(0);const s=Oi(null);try{n(t,i)}finally{Oi(s)}}function xf(t){return t[ao]||(t[ao]=[])}function Of(t){return t.cleanup||(t.cleanup=[])}function Yo(t,n){const i=t[Wi],s=i?i.get(uc,null):null;s&&s.handleError(n)}function Qo(t,n,i,s,c){for(let d=0;d<i.length;){const _=i[d++],I=i[d++];fg(t.data[_],n[_],s,I,c)}}function e_(t,n){const i=ri(n,t),s=i[Yt];!function t_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(s,i);const c=i[kr];null!==c&&null===i[Mt]&&(i[Mt]=Gl(c,i[Wi])),mg(s,i,i[wr])}function mg(t,n,i){S(n);try{const s=t.viewQuery;null!==s&&Mf(1,s,i);const c=t.template;null!==c&&kt(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gg(t,n),t.staticViewQueries&&Mf(2,t.viewQuery,i);const d=t.components;null!==d&&function nh(t,n){for(let i=0;i<n.length;i++)e_(t,n[i])}(n,d)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{n[Ln]&=-5,at()}}let _g=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,s,c){const d=typeof Zone>"u"?null:Zone.current,_=function At(t,n,i){const s=Object.create(pr);i&&(s.consumerAllowSignalWrites=!0),s.fn=t,s.schedule=n;const c=_=>{s.cleanupFn=_};return s.ref={notify:()=>xo(s),run:()=>{if(s.dirty=!1,s.hasRun&&!Ra(s))return;s.hasRun=!0;const _=zn(s);try{s.cleanupFn(),s.cleanupFn=mn,s.fn(c)}finally{Ws(s,_)}},cleanup:()=>s.cleanupFn()},s.ref}(i,L=>{this.all.has(L)&&this.queue.set(L,d)},c);let I;this.all.add(_),_.notify();const D=()=>{_.cleanup(),I?.(),this.all.delete(_),this.queue.delete(_)};return I=s?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[i,s]of this.queue)this.queue.delete(i),s?s.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xl(t,n,i){let s=i?t.styles:null,c=i?t.classes:null,d=0;if(null!==n)for(let _=0;_<n.length;_++){const I=n[_];"number"==typeof I?d=I:1==d?c=mt(c,I):2==d&&(s=mt(s,I+": "+n[++_]+";"))}i?t.styles=s:t.stylesWithoutHost=s,i?t.classes=c:t.classesWithoutHost=c}function rh(t,n,i,s,c=!1){for(;null!==i;){const d=n[i.index];null!==d&&s.push(ni(d)),Tr(d)&&r_(d,s);const _=i.type;if(8&_)rh(t,n,i.child,s);else if(32&_){const I=Od(i,n);let D;for(;D=I();)s.push(D)}else if(16&_){const I=hm(n,i);if(Array.isArray(I))s.push(...I);else{const D=jc(n[j]);rh(D[Yt],D,I,s,!0)}}i=c?i.projectionNext:i.next}return s}function r_(t,n){for(let i=Xn;i<t.length;i++){const s=t[i],c=s[Yt].firstChild;null!==c&&rh(s[Yt],s,c,n)}t[Zr]!==t[kr]&&n.push(t[Zr])}function ed(t,n,i,s=!0){const c=n[qi],d=c.rendererFactory,_=c.afterRenderEventManager;d.begin?.(),_?.begin();try{td(t,n,t.template,i)}catch(D){throw s&&Yo(n,D),D}finally{d.end?.(),c.effectManager?.flush(),_?.end()}}function td(t,n,i,s){const c=n[Ln];if(256!=(256&c)){n[qi].effectManager?.flush(),S(n);try{Ps(n),function ka(t){return qn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&kt(t,n,i,2,s);const _=3==(3&c);if(_){const L=t.preOrderCheckHooks;null!==L&&X(n,L,null)}else{const L=t.preOrderHooks;null!==L&&De(n,L,0,null),ot(n,0)}if(function yg(t){for(let n=nm(t);null!==n;n=$h(n)){if(!n[Xr])continue;const i=n[Ui];for(let s=0;s<i.length;s++){su(i[s])}}}(n),kf(n,2),null!==t.contentQueries&&gg(t,n),_){const L=t.contentCheckHooks;null!==L&&X(n,L)}else{const L=t.contentHooks;null!==L&&De(n,L,1),ot(n,1)}!function B(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const s=Yd(n,Zn);try{for(let c=0;c<i.length;c++){const d=i[c];if(d<0)ur(~d);else{const _=d,I=i[++c],D=i[++c];Js(I,_),s.dirty=!1;const L=zn(s);try{D(2,n[_])}finally{Ws(s,L)}}}}finally{null===n[Zn]&&a(n,Zn),ur(-1)}}(t,n);const I=t.components;null!==I&&ih(n,I,0);const D=t.viewQuery;if(null!==D&&Mf(2,D,s),_){const L=t.viewCheckHooks;null!==L&&X(n,L)}else{const L=t.viewHooks;null!==L&&De(n,L,2),ot(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Ln]&=-73,Cc(n)}finally{at()}}}function kf(t,n){for(let i=nm(t);null!==i;i=$h(i))for(let s=Xn;s<i.length;s++)vg(i[s],n)}function rl(t,n,i){vg(ri(n,t),i)}function vg(t,n){if(!function Ma(t){return 128==(128&t[Ln])}(t))return;const i=t[Yt],s=t[Ln];if(80&s&&0===n||1024&s||2===n)td(i,t,i.template,t[wr]);else if(t[Ro]>0){kf(t,1);const c=i.components;null!==c&&ih(t,c,1)}}function ih(t,n,i){for(let s=0;s<n.length;s++)rl(t,n[s],i)}class nd{get rootNodes(){const n=this._lView,i=n[Yt];return rh(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wr]}set context(n){this._lView[wr]=n}get destroyed(){return 256==(256&this._lView[Ln])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Jn];if(Tr(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(Wh(n,s),ml(i,s))}this._attachedToViewContainer=!1}Nd(this._lView[Yt],this._lView)}onDestroy(n){!function Tc(t,n){if(256==(256&t[Ln]))throw new ke(911,!1);null===t[hn]&&(t[hn]=[]),t[hn].push(n)}(this._lView,n)}markForCheck(){Kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ln]&=-129}reattach(){this._lView[Ln]|=128}detectChanges(){ed(this._lView[Yt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sm(t,n){zc(t,n,n[Vn],2,null,null)}(this._lView[Yt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ke(902,!1);this._appRef=n}}class oh extends nd{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ed(n[Yt],n,n[wr],!1)}checkNoChanges(){}get context(){return null}}class Eg extends Cf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Nn(n);return new xu(i,this.ngModule)}}function ls(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class sh{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=Qt(s);const c=this.injector.get(n,bf,s);return c!==bf||i===bf?c:this.parentInjector.get(n,i,s)}}class xu extends xy{get inputs(){const n=this.componentDef,i=n.inputTransforms,s=ls(n.inputs);if(null!==i)for(const c of s)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return s}get outputs(){return ls(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Fi(t){return t.map(_i).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,s,c){let d=(c=c||this.ngModule)instanceof Za?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const _=d?new sh(n,d):n,I=_.get(Nm,null);if(null===I)throw new ke(407,!1);const de={rendererFactory:I,sanitizer:_.get(Fm,null),effectManager:_.get(_g,null),afterRenderEventManager:_.get(cg,null)},Ue=I.createRenderer(null,this.componentDef),tt=this.componentDef.selectors[0][0]||"div",Dt=s?function ui(t,n,i,s){const d=s.get(Wy,!1)||i===$i.ShadowDom,_=t.selectRootElement(n,d);return function Mr(t){Ke(t)}(_),_}(Ue,s,this.componentDef.encapsulation,_):Gh(Ue,tt,function o_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(tt)),jn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let jt=null;null!==Dt&&(jt=Gl(Dt,_,!0));const hr=Rn(0,null,null,1,0,null,null,null,null,null,null),jr=ee(null,hr,null,jn,null,null,de,Ue,_,null,jt);let bi,sa;S(jr);try{const ll=this.componentDef;let rp,rE=null;ll.findHostDirectiveDefs?(rp=[],rE=new Map,ll.findHostDirectiveDefs(ll,rp,rE),rp.push(ll)):rp=[ll];const zD=function ov(t,n){const i=t[Yt],s=wn;return t[s]=n,ce(i,s,2,"#host",null)}(jr,Dt),GD=function rd(t,n,i,s,c,d,_){const I=c[Yt];!function sv(t,n,i,s){for(const c of t)n.mergedAttrs=lr(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Xl(n,n.mergedAttrs,!0),null!==i&&tf(s,i,n))}(s,t,n,_);let D=null;null!==n&&(D=Gl(n,c[Wi]));const L=d.rendererFactory.createRenderer(n,i);let K=16;i.signals?K=4096:i.onPush&&(K=64);const de=ee(c,Bn(i),null,K,c[t.index],t,d,L,null,null,D);return I.firstCreatePass&&lg(I,t,s.length-1),Jl(c,de),c[t.index]=de}(zD,Dt,ll,rp,jr,de,Ue);sa=ju(hr,wn),Dt&&function Ff(t,n,i,s){if(s)fr(t,i,["ng-version",rg.full]);else{const{attrs:c,classes:d}=function ds(t){const n=[],i=[];let s=1,c=2;for(;s<t.length;){let d=t[s];if("string"==typeof d)2===c?""!==d&&n.push(d,t[++s]):8===c&&i.push(d);else{if(!si(c))break;c=d}s++}return{attrs:n,classes:i}}(n.selectors[0]);c&&fr(t,i,c),d&&d.length>0&&qa(t,i,d.join(" "))}}(Ue,ll,Dt,s),void 0!==i&&function s_(t,n,i){const s=t.projection=[];for(let c=0;c<n.length;c++){const d=i[c];s.push(null!=d?Array.from(d):null)}}(sa,this.ngContentSelectors,i),bi=function av(t,n,i,s,c,d){const _=uo(),I=c[Yt],D=bo(_,c);Jm(I,c,_,i,null,s);for(let K=0;K<i.length;K++)Ko(hu(c,I,_.directiveStart+K,_),c);Ql(I,c,_),D&&Ko(D,c);const L=hu(c,I,_.directiveStart+_.componentOffset,_);if(t[wr]=c[wr]=L,null!==d)for(const K of d)K(L,n);return Kt(I,_,t),L}(GD,ll,rp,rE,jr,[Ig]),mg(hr,jr,null)}finally{at()}return new iv(this.componentType,bi,Zl(sa,jr),jr,sa)}}class iv extends oE{constructor(n,i,s,c,d){super(),this.location=s,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new oh(c),this.componentType=n}setInput(n,i){const s=this._tNode.inputs;let c;if(null!==s&&(c=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const d=this._rootLView;Qo(d[Yt],d,c,n,i),this.previousInputValues.set(n,i),Kd(ri(this._tNode.index,d))}}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Ig(){const t=uo();he(Ft()[Yt],t)}function Qa(t){let n=function ah(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const s=[t];for(;n;){let c;if(Zi(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ke(903,!1);c=n.\u0275dir}if(c){if(i){s.push(c);const _=t;_.inputs=uh(t.inputs),_.inputTransforms=uh(t.inputTransforms),_.declaredInputs=uh(t.declaredInputs),_.outputs=uh(t.outputs);const I=c.hostBindings;I&&u_(t,I);const D=c.viewQuery,L=c.contentQueries;if(D&&Cg(t,D),L&&wg(t,L),re(t.inputs,c.inputs),re(t.declaredInputs,c.declaredInputs),re(t.outputs,c.outputs),null!==c.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),re(_.inputTransforms,c.inputTransforms)),Zi(c)&&c.data.animation){const K=t.data;K.animation=(K.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let _=0;_<d.length;_++){const I=d[_];I&&I.ngInherit&&I(t),I===Qa&&(i=!1)}}n=Object.getPrototypeOf(n)}!function a_(t){let n=0,i=null;for(let s=t.length-1;s>=0;s--){const c=t[s];c.hostVars=n+=c.hostVars,c.hostAttrs=lr(c.hostAttrs,i=lr(i,c.hostAttrs))}}(s)}function uh(t){return t===Fr?{}:t===Wn?[]:t}function Cg(t,n){const i=t.viewQuery;t.viewQuery=i?(s,c)=>{n(s,c),i(s,c)}:n}function wg(t,n){const i=t.contentQueries;t.contentQueries=i?(s,c,d)=>{n(s,c,d),i(s,c,d)}:n}function u_(t,n){const i=t.hostBindings;t.hostBindings=i?(s,c)=>{n(s,c),i(s,c)}:n}function Tg(t){const n=t.inputConfig,i={};for(const s in n)if(n.hasOwnProperty(s)){const c=n[s];Array.isArray(c)&&c[2]&&(i[s]=c[2])}t.inputTransforms=i}function ch(t){return!!Uf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Uf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ja(t,n,i){return t[n]=i}function lh(t,n){return t[n]}function Jo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function dc(t,n,i,s){const c=Jo(t,n,i);return Jo(t,n+1,s)||c}function Sa(t,n,i,s){const c=Ft();return Jo(c,os(),n)&&(br(),ta(Br(),c,t,n,i,s)),Sa}function Nu(t,n,i,s){return Jo(t,os(),i)?n+Ye(i)+s:u}function zf(t,n,i,s,c,d,_,I){const D=Ft(),L=br(),K=t+wn,de=L.firstCreatePass?function D_(t,n,i,s,c,d,_,I,D){const L=n.consts,K=ce(n,t,4,_||null,rs(L,I));Sf(n,i,K,rs(L,D)),he(n,K);const de=K.tView=Rn(2,K,s,c,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,L,null);return null!==n.queries&&(n.queries.template(n,K),de.queries=n.queries.embeddedTView(K)),K}(K,L,D,n,i,s,c,d,_):L.data[K];Do(de,!1);const Ue=Gf(L,D,de,t);qu()&&Jh(L,D,Ue,de),Ko(Ue,D),Jl(D,D[K]=pg(Ue,D,Ue,de)),Es(de)&&$t(L,D,de),null!=_&&An(D,de,I)}let Gf=function Ng(t,n,i,s){return Xs(!0),n[Vn].createComment("")};function gc(t){return Ss(function Ac(){return qn.lFrame.contextLView}(),wn+t)}function qf(t,n,i){const s=Ft();return Jo(s,os(),n)&&zs(br(),Br(),s,t,n,s[Vn],i,!1),qf}function Zf(t,n,i,s,c){const _=c?"class":"style";Qo(t,i,n.inputs[_],_,s)}function gh(t,n,i,s){const c=Ft(),d=br(),_=wn+t,I=c[Vn],D=d.firstCreatePass?function P_(t,n,i,s,c,d){const _=n.consts,D=ce(n,t,2,s,rs(_,c));return Sf(n,i,D,rs(_,d)),null!==D.attrs&&Xl(D,D.attrs,!1),null!==D.mergedAttrs&&Xl(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(_,d,c,n,i,s):d.data[_],L=kg(d,c,D,I,n,t);c[_]=L;const K=Es(D);return Do(D,!0),tf(I,L,D),32!=(32&D.flags)&&qu()&&Jh(d,c,L,D),0===function _o(){return qn.lFrame.elementDepthCount}()&&Ko(L,c),function Dc(){qn.lFrame.elementDepthCount++}(),K&&($t(d,c,D),Kt(d,D,c)),null!==s&&An(c,D),gh}function cl(){let t=uo();ga()?Na():(t=t.parent,Do(t,!1));const n=t;(function au(t){return qn.skipHydrationRootTNode===t})(n)&&function hl(){qn.skipHydrationRootTNode=null}(),function $u(){qn.lFrame.elementDepthCount--}();const i=br();return i.firstCreatePass&&(he(i,t),Go(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Va(t){return 0!=(8&t.flags)}(n)&&Zf(i,n,Ft(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function pi(t){return 0!=(16&t.flags)}(n)&&Zf(i,n,Ft(),n.stylesWithoutHost,!1),cl}function ys(t,n,i,s){return gh(t,n,i,s),cl(),ys}let kg=(t,n,i,s,c,d)=>(Xs(!0),Gh(s,c,function Rs(){return qn.lFrame.currentNamespace}()));function M(t,n,i){const s=Ft(),c=br(),d=t+wn,_=c.firstCreatePass?function g(t,n,i,s,c){const d=n.consts,_=rs(d,s),I=ce(n,t,8,"ng-container",_);return null!==_&&Xl(I,_,!0),Sf(n,i,I,rs(d,c)),null!==n.queries&&n.queries.elementStart(n,I),I}(d,c,s,n,i):c.data[d];Do(_,!0);const I=rt(c,s,_,t);return s[d]=I,qu()&&Jh(c,s,I,_),Ko(I,s),Es(_)&&($t(c,s,_),Kt(c,_,s)),null!=i&&An(s,_),M}function $(){let t=uo();const n=br();return ga()?Na():(t=t.parent,Do(t,!1)),n.firstCreatePass&&(he(n,t),Go(t)&&n.queries.elementEnd(t)),$}let rt=(t,n,i,s)=>(Xs(!0),zh(n[Vn],""));function Ii(){return Ft()}function Fo(t){return!!t&&"function"==typeof t.then}function ii(t){return!!t&&"function"==typeof t.subscribe}function Ho(t,n,i,s){const c=Ft(),d=br(),_=uo();return function ra(t,n,i,s,c,d,_){const I=Es(s),L=t.firstCreatePass&&Of(t),K=n[wr],de=xf(n);let Ue=!0;if(3&s.type||_){const Wt=bo(s,n),yn=_?_(Wt):Wt,jn=de.length,jt=_?jr=>_(ni(jr[s.index])):s.index;let hr=null;if(!_&&I&&(hr=function dd(t,n,i,s){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const _=c[d];if(_===i&&c[d+1]===s){const I=n[ao],D=c[d+2];return I.length>D?I[D]:null}"string"==typeof _&&(d+=2)}return null}(t,n,c,s.index)),null!==hr)(hr.__ngLastListenerFn__||hr).__ngNextListenerFn__=d,hr.__ngLastListenerFn__=d,Ue=!1;else{d=Kf(s,n,K,d,!1);const jr=i.listen(yn,c,d);de.push(d,jr),L&&L.push(c,jt,jn,jn+1)}}else d=Kf(s,n,K,d,!1);const tt=s.outputs;let Dt;if(Ue&&null!==tt&&(Dt=tt[c])){const Wt=Dt.length;if(Wt)for(let yn=0;yn<Wt;yn+=2){const bi=n[Dt[yn]][Dt[yn+1]].subscribe(d),sa=de.length;de.push(d,bi),L&&L.push(c,s.index,sa,-(sa+1))}}}(d,c,c[Vn],_,t,n,s),Ho}function mh(t,n,i,s){try{return Hn(6,n,i),!1!==i(s)}catch(c){return Yo(t,c),!1}finally{Hn(7,n,i)}}function Kf(t,n,i,s,c){return function d(_){if(_===Function)return s;Kd(t.componentOffset>-1?ri(t.index,n):n);let D=mh(n,i,s,_),L=d.__ngNextListenerFn__;for(;L;)D=mh(n,i,L,_)&&D,L=L.__ngNextListenerFn__;return c&&!1===D&&_.preventDefault(),D}}function EE(t=1){return function ln(t){return(qn.lFrame.contextLView=function er(t,n){for(;t>0;)n=n[q],t--;return n}(t,qn.lFrame.contextLView))[wr]}(t)}function fv(t,n,i){return M_(t,"",n,"",i),fv}function M_(t,n,i,s,c){const d=Ft(),_=Nu(d,n,i,s);return _!==u&&zs(br(),Br(),d,t,_,d[Vn],c,!1),M_}function x_(t,n){return t<<17|n<<2}function hd(t){return t>>17&32767}function pv(t){return 2|t}function _h(t){return(131068&t)>>2}function gv(t,n){return-131069&t|n<<2}function mv(t){return 1|t}function PE(t,n,i,s,c){const d=t[i+1],_=null===n;let I=s?hd(d):_h(d),D=!1;for(;0!==I&&(!1===D||_);){const K=t[I+1];xC(t[I],n)&&(D=!0,t[I+1]=s?mv(K):pv(K)),I=s?hd(K):_h(K)}D&&(t[i+1]=s?pv(d):mv(d))}function xC(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ju(t,n)>=0}function _v(t,n,i){return Vu(t,n,i,!1),_v}function yv(t,n){return Vu(t,n,null,!0),yv}function Vu(t,n,i,s){const c=Ft(),d=br(),_=function Oo(t){const n=qn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);d.firstUpdatePass&&function LE(t,n,i,s){const c=t.data;if(null===c[i+1]){const d=c[ar()],_=function FE(t,n){return n>=t.expandoStartIndex}(t,i);(function jE(t,n){return 0!=(t.flags&(n?8:16))})(d,s)&&null===n&&!_&&(n=!1),n=function jC(t,n,i,s){const c=function ma(t){const n=qn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let d=s?n.residualClasses:n.residualStyles;if(null===c)0===(s?n.classBindings:n.styleBindings)&&(i=Fg(i=vv(null,t,n,i,s),n.attrs,s),d=null);else{const _=n.directiveStylingLast;if(-1===_||t[_]!==c)if(i=vv(c,t,n,i,s),null===d){let D=function $C(t,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==_h(s))return t[hd(s)]}(t,n,s);void 0!==D&&Array.isArray(D)&&(D=vv(null,t,n,D[1],s),D=Fg(D,n.attrs,s),function HC(t,n,i,s){t[hd(i?n.classBindings:n.styleBindings)]=s}(t,n,s,D))}else d=function zC(t,n,i){let s;const c=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<c;d++)s=Fg(s,t[d].hostAttrs,i);return Fg(s,n.attrs,i)}(t,n,s)}return void 0!==d&&(s?n.residualClasses=d:n.residualStyles=d),i}(c,d,n,s),function RC(t,n,i,s,c,d){let _=d?n.classBindings:n.styleBindings,I=hd(_),D=_h(_);t[s]=i;let K,L=!1;if(Array.isArray(i)?(K=i[1],(null===K||Ju(i,K)>0)&&(L=!0)):K=i,c)if(0!==D){const Ue=hd(t[I+1]);t[s+1]=x_(Ue,I),0!==Ue&&(t[Ue+1]=gv(t[Ue+1],s)),t[I+1]=function SC(t,n){return 131071&t|n<<17}(t[I+1],s)}else t[s+1]=x_(I,0),0!==I&&(t[I+1]=gv(t[I+1],s)),I=s;else t[s+1]=x_(D,0),0===I?I=s:t[D+1]=gv(t[D+1],s),D=s;L&&(t[s+1]=pv(t[s+1])),PE(t,K,s,!0),PE(t,K,s,!1),function MC(t,n,i,s,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof n&&Ju(d,n)>=0&&(i[s+1]=mv(i[s+1]))}(n,K,t,s,d),_=x_(I,D),d?n.classBindings=_:n.styleBindings=_}(c,d,n,i,_,s)}}(d,t,_,s),n!==u&&Jo(c,_,n)&&function UE(t,n,i,s,c,d,_,I){if(!(3&n.type))return;const D=t.data,L=D[I+1],K=function PC(t){return 1==(1&t)}(L)?BE(D,n,i,c,_h(L),_):void 0;O_(K)||(O_(d)||function AC(t){return 2==(2&t)}(L)&&(d=BE(D,null,i,c,I,_)),function ny(t,n,i,s,c){if(n)c?t.addClass(i,s):t.removeClass(i,s);else{let d=-1===s.indexOf("-")?void 0:Dl.DashCase;null==c?t.removeStyle(i,s,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Dl.Important),t.setStyle(i,s,c,d))}}(s,_,Ys(ar(),i),c,d))}(d,d.data[ar()],c,c[Vn],t,c[_+1]=function ZC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Re(rc(t)))),t}(n,i),s,_)}function vv(t,n,i,s,c){let d=null;const _=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<_&&(d=n[I],s=Fg(s,d.hostAttrs,c),d!==t);)I++;return null!==t&&(i.directiveStylingLast=I),s}function Fg(t,n,i){const s=i?1:2;let c=-1;if(null!==n)for(let d=0;d<n.length;d++){const _=n[d];"number"==typeof _?c=_:c===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ms(t,_,!!i||n[++d]))}return void 0===t?null:t}function BE(t,n,i,s,c,d){const _=null===n;let I;for(;c>0;){const D=t[c],L=Array.isArray(D),K=L?D[1]:D,de=null===K;let Ue=i[c+1];Ue===u&&(Ue=de?Wn:void 0);let tt=de?_l(Ue,s):K===s?Ue:void 0;if(L&&!O_(tt)&&(tt=_l(D,s)),O_(tt)&&(I=tt,_))return I;const Dt=t[c+1];c=_?hd(Dt):_h(Dt)}if(null!==n){let D=d?n.residualClasses:n.residualStyles;null!=D&&(I=_l(D,s))}return I}function O_(t){return void 0!==t}function $E(t,n=""){const i=Ft(),s=br(),c=t+wn,d=s.firstCreatePass?ce(s,c,1,n,null):s.data[c],_=HE(s,i,d,n,t);i[c]=_,qu()&&Jh(s,i,_,d),Do(d,!1)}let HE=(t,n,i,s,c)=>(Xs(!0),function Ml(t,n){return t.createText(n)}(n[Vn],s));function Ev(t){return N_("",t,""),Ev}function N_(t,n,i){const s=Ft(),c=Nu(s,t,n,i);return c!==u&&function na(t,n,i){const s=Ys(n,t);!function rm(t,n,i){t.setValue(n,i)}(t[Vn],s,i)}(s,ar(),c),N_}const yh=void 0;var mw=["en",[["a","p"],["AM","PM"],yh],[["AM","PM"],yh,yh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yh,"{1} 'at' {0}",yh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gw(t){const i=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let Qf={};function Iv(t){const n=function _w(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=d0(n);if(i)return i;const s=n.split("-")[0];if(i=d0(s),i)return i;if("en"===s)return mw;throw new ke(701,!1)}function l0(t){return Iv(t)[Jf.PluralCase]}function d0(t){return t in Qf||(Qf[t]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[t]),Qf[t]}var Jf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Jf||{});const Xf="en-US";let h0=Xf;function Tv(t,n,i,s,c){if(t=vt(t),Array.isArray(t))for(let d=0;d<t.length;d++)Tv(t[d],n,i,s,c);else{const d=br(),_=Ft(),I=uo();let D=qc(t)?t:vt(t.provide);const L=Sm(t),K=1048575&I.providerIndexes,de=I.directiveStart,Ue=I.providerIndexes>>20;if(qc(t)||!t.multi){const tt=new ro(L,c,T),Dt=Dv(D,n,c?K:K+Ue,de);-1===Dt?(Ia(Pc(I,_),d,D),bv(d,t,n.length),n.push(D),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(tt),_.push(tt)):(i[Dt]=tt,_[Dt]=tt)}else{const tt=Dv(D,n,K+Ue,de),Dt=Dv(D,n,K,K+Ue),yn=Dt>=0&&i[Dt];if(c&&!yn||!c&&!(tt>=0&&i[tt])){Ia(Pc(I,_),d,D);const jn=function gT(t,n,i,s,c){const d=new ro(t,i,T);return d.multi=[],d.index=n,d.componentProviders=0,L0(d,c,s&&!i),d}(c?pT:fT,i.length,c,s,L);!c&&yn&&(i[Dt].providerFactory=jn),bv(d,t,n.length,0),n.push(D),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(jn),_.push(jn)}else bv(d,t,tt>-1?tt:Dt,L0(i[c?Dt:tt],L,!c&&s));!c&&s&&yn&&i[Dt].componentProviders++}}}function bv(t,n,i,s){const c=qc(n),d=function Ei(t){return!!t.useClass}(n);if(c||d){const D=(d?vt(n.useClass):n).prototype.ngOnDestroy;if(D){const L=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const K=L.indexOf(i);-1===K?L.push(i,[s,D]):L[K+1].push(s,D)}else L.push(i,D)}}}function L0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Dv(t,n,i,s){for(let c=i;c<s;c++)if(n[c]===t)return c;return-1}function fT(t,n,i,s){return Av(this.multi,[])}function pT(t,n,i,s){const c=this.multi;let d;if(this.providerFactory){const _=this.providerFactory.componentProviders,I=hu(i,i[Yt],this.providerFactory.index,s);d=I.slice(0,_),Av(c,d);for(let D=_;D<I.length;D++)d.push(I[D])}else d=[],Av(c,d);return d}function Av(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function V0(t,n=[]){return i=>{i.providersResolver=(s,c)=>function hT(t,n,i){const s=br();if(s.firstCreatePass){const c=Zi(t);Tv(i,s.data,s.blueprint,c,!0),Tv(n,s.data,s.blueprint,c,!1)}}(s,c?c(t):t,n)}}class vh{}class U0{}function mT(t,n){return new Sv(t,n??null,[])}class Sv extends vh{constructor(n,i,s){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eg(this);const c=Cr(n);this._bootstrapComponents=Ru(c.bootstrap),this._r3Injector=Bm(n,i,[{provide:vh,useValue:this},{provide:Cf,useValue:this.componentFactoryResolver},...s],Re(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Pv extends U0{constructor(n){super(),this.moduleType=n}create(n){return new Sv(this.moduleType,n,[])}}class B0 extends vh{constructor(n){super(),this.componentFactoryResolver=new Eg(this),this.instance=null;const i=new Zc([...n.providers,{provide:vh,useValue:this},{provide:Cf,useValue:this.componentFactoryResolver}],n.parent||yf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function j0(t,n,i=null){return new B0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let yT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=Da(0,i.type),c=s.length>0?j0([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=_n({token:t,providedIn:"environment",factory:()=>new t(Pt(Za))})}return t})();function $0(t){t.getStandaloneInjector=n=>n.get(yT).getOrCreateStandaloneInjector(t)}function K0(t,n,i){const s=co()+t,c=Ft();return c[s]===u?Ja(c,s,i?n.call(i):n()):lh(c,s)}function Y0(t,n,i,s){return J0(Ft(),co(),t,n,i,s)}function Q0(t,n,i,s,c,d,_,I,D){const L=co()+t,K=Ft(),de=function $o(t,n,i,s,c,d){const _=dc(t,n,i,s);return dc(t,n+2,c,d)||_}(K,L,i,s,c,d);return dc(K,L+4,_,I)||de?Ja(K,L+6,D?n.call(D,i,s,c,d,_,I):n(i,s,c,d,_,I)):lh(K,L+6)}function J0(t,n,i,s,c,d){const _=n+i;return Jo(t,_,c)?Ja(t,_+1,d?s.call(d,c):s(c)):function $g(t,n){const i=t[n];return i===u?void 0:i}(t,_+1)}function rI(t,n){const i=br();let s;const c=t+wn;i.firstCreatePass?(s=function NT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(t===s.name)return s}}(n,i.pipeRegistry),i.data[c]=s,s.onDestroy&&(i.destroyHooks??=[]).push(c,s.onDestroy)):s=i.data[c];const d=s.factory||(s.factory=po(s.type)),I=ir(T);try{const D=Os(!1),L=d();return Os(D),function S_(t,n,i,s){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=s}(i,Ft(),c,L),L}finally{ir(I)}}function iI(t,n,i){const s=t+wn,c=Ft(),d=Ss(c,s);return function Hg(t,n){return t[Yt].data[n].pure}(c,s)?J0(c,co(),n,d.transform,i,d):d.transform(i)}function UT(){return this._results[Symbol.iterator]()}class Mv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ya)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Mv.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=UT)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const c=function us(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Cd(t,n,i){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let c=t[s],d=n[s];if(i&&(c=i(c),d=i(d)),d!==c)return!1}return!0}(s._results,c,i))&&(s._results=c,s.length=c.length,s.last=c[this.length-1],s.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function jT(t,n,i,s=!0){const c=n[Yt];if(function X_(t,n,i,s){const c=Xn+s,d=i.length;s>0&&(i[c-1][yi]=n),s<d-Xn?(n[yi]=i[c],wd(i,Xn+s,n)):(i.push(n),n[yi]=null),n[Jn]=i;const _=n[fe];null!==_&&i!==_&&function ey(t,n){const i=t[Ui];n[j]!==n[Jn][Jn][j]&&(t[Xr]=!0),null===i?t[Ui]=[n]:i.push(n)}(_,n);const I=n[He];null!==I&&I.insertView(t),n[Ln]|=128}(c,n,t,i),s){const d=Fd(i,t),_=n[Vn],I=Kh(_,t[Zr]);null!==I&&function om(t,n,i,s,c,d){s[kr]=c,s[qr]=n,zc(t,s,i,1,c,d)}(c,t[qr],_,n,I,d)}}let zg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=zT}return t})();const $T=zg,HT=class extends $T{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const c=function BT(t,n,i,s){const c=n.tView,I=ee(t,c,i,4096&t[Ln]?4096:16,null,n,null,null,null,s?.injector??null,s?.hydrationInfo??null);I[fe]=t[n.index];const L=t[He];return null!==L&&(I[He]=L.createEmbeddedView(c)),mg(c,I,i),I}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:s});return new nd(c)}};function zT(){return U_(uo(),Ft())}function U_(t,n){return 4&t.type?new HT(n,t,Zl(t,n)):null}let j_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=YT}return t})();function YT(){return dI(uo(),Ft())}const QT=j_,cI=class extends QT{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){const n=du(this._hostTNode,this._hostLView);if($s(n)){const i=Zo(n,this._hostLView),s=io(n);return new Ao(i[Yt].data[s+8],i)}return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=lI(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Xn}createEmbeddedView(n,i,s){let c,d;"number"==typeof s?c=s:null!=s&&(c=s.index,d=s.injector);const I=n.createEmbeddedViewImpl(i||{},d,null);return this.insertImpl(I,c,false),I}createComponent(n,i,s,c,d){const _=n&&!function $a(t){return"function"==typeof t}(n);let I;if(_)I=i;else{const Wt=i||{};I=Wt.index,s=Wt.injector,c=Wt.projectableNodes,d=Wt.environmentInjector||Wt.ngModuleRef}const D=_?n:new xu(Nn(n)),L=s||this.parentInjector;if(!d&&null==D.ngModule){const yn=(_?L:this.parentInjector).get(Za,null);yn&&(d=yn)}Nn(D.componentType??{});const tt=D.create(L,c,null,d);return this.insertImpl(tt.hostView,I,false),tt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,s){const c=n._lView;if(function ou(t){return Tr(t[Jn])}(c)){const D=this.indexOf(n);if(-1!==D)this.detach(D);else{const L=c[Jn],K=new cI(L,L[qr],L[Jn]);K.detach(K.indexOf(n))}}const _=this._adjustIndex(i),I=this._lContainer;return jT(I,c,_,!s),n.attachToViewContainerRef(),wd(xv(I),_,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=lI(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Wh(this._lContainer,i);s&&(ml(xv(this._lContainer),i),Nd(s[Yt],s))}detach(n){const i=this._adjustIndex(n,-1),s=Wh(this._lContainer,i);return s&&null!=ml(xv(this._lContainer),i)?new nd(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function lI(t){return t[8]}function xv(t){return t[8]||(t[8]=[])}function dI(t,n){let i;const s=n[t.index];return Tr(s)?i=s:(i=pg(s,n,null,t),n[t.index]=i,Jl(n,i)),hI(i,n,t,s),new cI(i,t,n)}let hI=function fI(t,n,i,s){if(t[Zr])return;let c;c=8&i.type?ni(s):function JT(t,n){const i=t[Vn],s=i.createComment(""),c=bo(n,t);return bu(i,Kh(i,c),s,function vp(t,n){return t.nextSibling(n)}(i,c),!1),s}(n,i),t[Zr]=c};class Ov{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let d=0;d<s;d++){const _=i.getByIndex(d);c.push(this.queries[_.indexInDeclarationView].clone())}return new Nv(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==II(n,i).matches&&this.queries[i].setDirty()}}class pI{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class kv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const c=null!==i?i.length:0,d=this.getByIndex(s).embeddedTView(n,c);d&&(d.indexInDeclarationView=s,null!==i?i.push(d):i=[d])}return null!==i?new kv(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Fv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Fv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let c=0;c<s.length;c++){const d=s[c];this.matchTNodeWithReadOption(n,i,tb(i,d)),this.matchTNodeWithReadOption(n,i,Rc(i,n,d,!1,!1))}else s===zg?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Rc(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const c=this.metadata.read;if(null!==c)if(c===qd||c===j_||c===zg&&4&i.type)this.addMatch(i.index,-2);else{const d=Rc(i,n,c,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function tb(t,n){const i=t.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function rb(t,n,i,s){return-1===i?function nb(t,n){return 11&t.type?Zl(t,n):4&t.type?U_(t,n):null}(n,t):-2===i?function ib(t,n,i){return i===qd?Zl(n,t):i===zg?U_(n,t):i===j_?dI(n,t):void 0}(t,n,s):hu(t,t[Yt],i,n)}function gI(t,n,i,s){const c=n[He].queries[s];if(null===c.matches){const d=t.data,_=i.matches,I=[];for(let D=0;D<_.length;D+=2){const L=_[D];I.push(L<0?null:rb(n,d[L],_[D+1],i.metadata.read))}c.matches=I}return c.matches}function Lv(t,n,i,s){const c=t.queries.getByIndex(i),d=c.matches;if(null!==d){const _=gI(t,n,c,i);for(let I=0;I<d.length;I+=2){const D=d[I];if(D>0)s.push(_[I/2]);else{const L=d[I+1],K=n[-D];for(let de=Xn;de<K.length;de++){const Ue=K[de];Ue[fe]===Ue[Jn]&&Lv(Ue[Yt],Ue,L,s)}if(null!==K[Ui]){const de=K[Ui];for(let Ue=0;Ue<de.length;Ue++){const tt=de[Ue];Lv(tt[Yt],tt,L,s)}}}}}return s}function mI(t){const n=Ft(),i=br(),s=ss();C(s+1);const c=II(i,s);if(t.dirty&&function iu(t){return 4==(4&t[Ln])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?Lv(i,n,s,[]):gI(i,n,c,s);t.reset(d,Tf),t.notifyOnChanges()}return!0}return!1}function _I(t,n,i,s){const c=br();if(c.firstCreatePass){const d=uo();(function EI(t,n,i){null===t.queries&&(t.queries=new kv),t.queries.track(new Fv(n,i))})(c,new pI(n,i,s),d.index),function ab(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}!function vI(t,n,i){const s=new Mv(4==(4&i));(function Je(t,n,i,s){const c=xf(n);c.push(i),t.firstCreatePass&&Of(t).push(s,c.length-1)})(t,n,s,s.destroy),null===n[He]&&(n[He]=new Nv),n[He].queries.push(new Ov(s))}(c,Ft(),i)}function yI(){return function sb(t,n){return t[He].queries[n].queryList}(Ft(),ss())}function II(t,n){return t.queries.getByIndex(n)}function Vv(t){return!!Cr(t)}const VI=new Xt("Application Initializer");let Hv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s}),this.appInits=Zt(VI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const d=c();if(Fo(d))i.push(d);else if(ii(d)){const _=new Promise((I,D)=>{d.subscribe({complete:I,error:D})});i.push(_)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(c=>{this.reject(c)}),0===i.length&&s(),this.initialized=!0}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UI=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const H_=new Xt("LocaleId",{providedIn:"root",factory:()=>Zt(H_,cn.Optional|cn.SkipSelf)||function Pb(){return typeof $localize<"u"&&$localize.locale||Xf}()}),Rb=new Xt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let BI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class xb{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Ob=(()=>{class t{compileModuleSync(i){return new Pv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),d=Ru(Cr(i).declarations).reduce((_,I)=>{const D=Nn(I);return D&&_.push(new xu(D)),_},[]);return new xb(s,d)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zI=new Xt(""),GI=new Xt("");let Wv,tD=(()=>{class t{constructor(i,s,c){this._ngZone=i,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wv||(function nD(t){Wv=t}(c),c.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{so.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,c){let d=-1;s&&s>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==d),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:d,updateCb:c})}whenStable(i,s,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,c){return[]}static#e=this.\u0275fac=function(s){return new(s||t)(Pt(so),Pt(WI),Pt(GI))};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac})}return t})(),WI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return Wv?.findTestabilityInTree(this,i,s)??null}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),fd=null;const qI=new Xt("AllowMultipleToken"),qv=new Xt("PlatformDestroyListeners"),Zv=new Xt("appBootstrapListener");class oD{constructor(n,i){this.name=n,this.token=i}}function YI(t,n,i=[]){const s=`Platform: ${n}`,c=new Xt(s);return(d=[])=>{let _=Kv();if(!_||_.injector.get(qI,!1)){const I=[...i,...d,{provide:c,useValue:!0}];t?t(I):function sD(t){if(fd&&!fd.get(qI,!1))throw new ke(400,!1);(function ZI(){!function Bu(t){Bs=t}(()=>{throw new ke(600,!1)})})(),fd=t;const n=t.get(JI);(function KI(t){t.get(Au,null)?.forEach(i=>i())})(t)}(function QI(t=[],n){return Aa.create({name:n,providers:[{provide:Am,useValue:"platform"},{provide:qv,useValue:new Set([()=>fd=null])},...t]})}(I,s))}return function uD(t){const n=Kv();if(!n)throw new ke(401,!1);return n}()}}function Kv(){return fd?.get(JI)??null}let JI=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const c=function cD(t="zone.js",n){return"noop"===t?new dE:"zone.js"===t?new so(n):t}(s?.ngZone,function XI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return c.run(()=>{const d=function _T(t,n,i){return new Sv(t,n,i)}(i.moduleType,this.injector,function iC(t){return[{provide:so,useFactory:t},{provide:Ll,multi:!0,useFactory:()=>{const n=Zt(dD,{optional:!0});return()=>n.initialize()}},{provide:rC,useFactory:lD},{provide:jy,useFactory:$y}]}(()=>c)),_=d.injector.get(uc,null);return c.runOutsideAngular(()=>{const I=c.onError.subscribe({next:D=>{_.handleError(D)}});d.onDestroy(()=>{G_(this._modules,d),I.unsubscribe()})}),function eC(t,n,i){try{const s=i();return Fo(s)?s.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(_,c,()=>{const I=d.injector.get(Hv);return I.runInitializers(),I.donePromise.then(()=>(function f0(t){Et(t,"Expected localeId to be defined"),"string"==typeof t&&(h0=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(H_,Xf)||Xf),this._moduleDoBootstrap(d),d))})})}bootstrapModule(i,s=[]){const c=tC({},s);return function rD(t,n,i){const s=new Pv(i);return Promise.resolve(s)}(0,0,i).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(i){const s=i.injector.get(np);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>s.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new ke(-403,!1);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(qv,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(s){return new(s||t)(Pt(Aa))};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function tC(t,n){return Array.isArray(n)?n.reduce(tC,t):{...t,...n}}let np=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Zt(rC),this.zoneIsStable=Zt(jy),this.componentTypes=[],this.components=[],this.isStable=Zt(BI).hasPendingTasks.pipe((0,Le.w)(i=>i?(0,be.of)(!1):this.zoneIsStable),(0,ze.x)(),(0,je.B)()),this._injector=Zt(Za)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,s){const c=i instanceof xy;if(!this._injector.get(Hv).done)throw!c&&Si(i),new ke(405,!1);let _;_=c?i:this._injector.get(Cf).resolveComponentFactory(i),this.componentTypes.push(_.componentType);const I=function iD(t){return t.isBoundToModule}(_)?void 0:this._injector.get(vh),L=_.create(Aa.NULL,[],s||_.selector,I),K=L.location.nativeElement,de=L.injector.get(zI,null);return de?.registerApplication(K),L.onDestroy(()=>{this.detachView(L.hostView),G_(this.components,L),de?.unregisterApplication(K)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new ke(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;G_(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const s=this._injector.get(Zv,[]);s.push(...this._bootstrapListeners),s.forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>G_(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ke(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function G_(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const rC=new Xt("",{providedIn:"root",factory:()=>Zt(uc).handleError.bind(void 0)});function lD(){const t=Zt(so),n=Zt(uc);return i=>t.runOutsideAngular(()=>n.handleError(i))}let dD=(()=>{class t{constructor(){this.zone=Zt(so),this.applicationRef=Zt(np)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fD(){return!1}let pD=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=gD}return t})();function gD(t){return function mD(t,n,i){if(Ri(t)&&!i){const s=ri(t.index,n);return new nd(s,s)}return 47&t.type?new nd(n[j],n):null}(uo(),Ft(),16==(16&t))}class uC{constructor(){}supports(n){return ch(n)}create(n){return new CD(n)}}const ID=(t,n)=>n;class CD{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||ID}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,c=0,d=null;for(;i||s;){const _=!s||i&&i.currentIndex<lC(s,c,d)?i:s,I=lC(_,c,d),D=_.currentIndex;if(_===s)c--,s=s._nextRemoved;else if(i=i._next,null==_.previousIndex)c++;else{d||(d=[]);const L=I-c,K=D-c;if(L!=K){for(let Ue=0;Ue<L;Ue++){const tt=Ue<d.length?d[Ue]:d[Ue]=0,Dt=tt+Ue;K<=Dt&&Dt<L&&(d[Ue]=tt+1)}d[_.previousIndex]=K-L}}I!==D&&n(_,I,D)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!ch(n))throw new ke(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,d,_,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)d=n[I],_=this._trackByFn(I,d),null!==i&&Object.is(i.trackById,_)?(s&&(i=this._verifyReinsertion(i,d,_,I)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,_,I),s=!0),i=i._next}else c=0,function Dg(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,I=>{_=this._trackByFn(c,I),null!==i&&Object.is(i.trackById,_)?(s&&(i=this._verifyReinsertion(i,I,_,c)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,_,c),s=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,c){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,d,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,d,c)):n=this._addAfter(new wD(i,s),d,c),n}_verifyReinsertion(n,i,s,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==d?n=this._reinsertAfter(d,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,d=n._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new cC),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class wD{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TD{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class cC{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new TD,this.map.set(i,s)),s.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lC(t,n,i){const s=t.previousIndex;if(null===s)return s;let c=0;return i&&s<i.length&&(c=i[s]),s+n+c}class dC{constructor(){}supports(n){return n instanceof Map||Uf(n)}create(){return new bD}}class bD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Uf(n)))throw new ke(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(c,s);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const d=c._prev,_=c._next;return d&&(d._next=_),_&&(_._prev=d),c._next=null,c._prev=null,c}const s=new DD(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class DD{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hC(){return new eE([new uC])}let eE=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:hC});constructor(i){this.factories=i}static create(i,s){if(null!=s){const c=s.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||hC()),deps:[[t,new Ta,new _u]]}}find(i){const s=this.factories.find(c=>c.supports(i));if(null!=s)return s;throw new ke(901,!1)}}return t})();function fC(){return new tE([new dC])}let tE=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:fC});constructor(i){this.factories=i}static create(i,s){if(s){const c=s.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||fC()),deps:[[t,new Ta,new _u]]}}find(i){const s=this.factories.find(c=>c.supports(i));if(s)return s;throw new ke(901,!1)}}return t})();const PD=YI(null,"core",[]);let RD=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(s){return new(s||t)(Pt(np))};static#t=this.\u0275mod=Ir({type:t});static#n=this.\u0275inj=xt({})}return t})();function jD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function HD(t){const n=Nn(t);if(!n)return null;const i=new xu(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7213:(on,et,k)=>{k.d(et,{zQ:()=>Tt,ww:()=>it,rT:()=>Ht,f7:()=>xn,L6:()=>St,_Q:()=>ge,lh:()=>Jt,Qv:()=>yt,nw:()=>$e}),k(6365);var y=k(6814),z=k(5879),Ce=k(1920),me=k(7217),be=k(8645),je=k(2096),Le=k(5592),ze=k(2459),ie=k(3019),re=k(3093),Re=k(4664),mt=k(7398),We=k(4552);class Rt extends be.x{constructor(le=1/0,se=1/0,Ae=We.l){super(),this._bufferSize=le,this._windowTime=se,this._timestampProvider=Ae,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=se===1/0,this._bufferSize=Math.max(1,le),this._windowTime=Math.max(1,se)}next(le){const{isStopped:se,_buffer:Ae,_infiniteTimeWindow:Ge,_timestampProvider:ve,_windowTime:Ie}=this;se||(Ae.push(le),!Ge&&Ae.push(ve.now()+Ie)),this._trimBuffer(),super.next(le)}_subscribe(le){this._throwIfClosed(),this._trimBuffer();const se=this._innerSubscribe(le),{_infiniteTimeWindow:Ae,_buffer:Ge}=this,ve=Ge.slice();for(let Ie=0;Ie<ve.length&&!le.closed;Ie+=Ae?1:2)le.next(ve[Ie]);return this._checkFinalizedStatuses(le),se}_trimBuffer(){const{_bufferSize:le,_timestampProvider:se,_buffer:Ae,_infiniteTimeWindow:Ge}=this,ve=(Ge?1:2)*le;if(le<1/0&&ve<Ae.length&&Ae.splice(0,Ae.length-ve),!Ge){const Ie=se.now();let Fe=0;for(let Et=1;Et<Ae.length&&Ae[Et]<=Ie;Et+=2)Fe=Et;Fe&&Ae.splice(0,Fe+1)}}}var vt=k(3020);function Vt(Pe,le,se){let Ae,Ge=!1;return Pe&&"object"==typeof Pe?({bufferSize:Ae=1/0,windowTime:le=1/0,refCount:Ge=!1,scheduler:se}=Pe):Ae=Pe??1/0,(0,vt.B)({connector:()=>new Rt(Ae,le,se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ge})}var bt=k(1374),sn=k(4674);function qe(Pe,le){return(0,sn.m)(le)?(0,Re.w)(()=>Pe,le):(0,Re.w)(()=>Pe)}var ke=k(5137),Xe=k(2181),Ye=k(7142);const yt=new z.OlP("angularfire2.auth.use-emulator"),St=new z.OlP("angularfire2.auth.settings"),ge=new z.OlP("angularfire2.auth.tenant-id"),Ht=new z.OlP("angularfire2.auth.langugage-code"),Jt=new z.OlP("angularfire2.auth.use-device-language"),xn=new z.OlP("angularfire.auth.persistence"),$e=(Pe,le,se,Ae,Ge,ve,Ie,Fe)=>(0,me.cc)(`${Pe.name}.auth`,"AngularFireAuth",Pe.name,()=>{const Et=le.runOutsideAngular(()=>Pe.auth());if(se&&Et.useEmulator(...se),Ae&&(Et.tenantId=Ae),Et.languageCode=Ge,ve&&Et.useDeviceLanguage(),Ie)for(const[It,an]of Object.entries(Ie))Et.settings[It]=an;return Fe&&Et.setPersistence(Fe),Et},[se,Ae,Ge,ve,Ie,Fe]);let Tt=(()=>{class Pe{authState;idToken;user;idTokenResult;credential;constructor(se,Ae,Ge,ve,Ie,Fe,Et,It,an,qt,Sn,_n){const tr=new be.x,xt=(0,je.of)(void 0).pipe((0,re.Q)(Ie.outsideAngular),(0,Re.w)(()=>ve.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,mt.U)(()=>(0,me.on)(se,ve,Ae)),(0,mt.U)(En=>$e(En,ve,Fe,It,an,qt,Et,Sn)),Vt({bufferSize:1,refCount:!1}));if((0,y.PM)(Ge))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,je.of)(null);else{xt.pipe((0,bt.P)()).subscribe();const En=xt.pipe((0,Re.w)(Nt=>Nt.getRedirectResult().then(Dr=>Dr,()=>null)),Ce.iC,Vt({bufferSize:1,refCount:!1})),On=xt.pipe((0,Re.w)(Nt=>new Le.y(Dr=>({unsubscribe:ve.runOutsideAngular(()=>Nt.onAuthStateChanged(tn=>Dr.next(tn),tn=>Dr.error(tn),()=>Dr.complete()))})))),Ut=xt.pipe((0,Re.w)(Nt=>new Le.y(Dr=>({unsubscribe:ve.runOutsideAngular(()=>Nt.onIdTokenChanged(tn=>Dr.next(tn),tn=>Dr.error(tn),()=>Dr.complete()))}))));this.authState=En.pipe(qe(On),(0,ke.R)(Ie.outsideAngular),(0,re.Q)(Ie.insideAngular)),this.user=En.pipe(qe(Ut),(0,ke.R)(Ie.outsideAngular),(0,re.Q)(Ie.insideAngular)),this.idToken=this.user.pipe((0,Re.w)(Nt=>Nt?(0,ze.D)(Nt.getIdToken()):(0,je.of)(null))),this.idTokenResult=this.user.pipe((0,Re.w)(Nt=>Nt?(0,ze.D)(Nt.getIdTokenResult()):(0,je.of)(null))),this.credential=(0,ie.T)(En,tr,this.authState.pipe((0,Xe.h)(Nt=>!Nt))).pipe((0,mt.U)(Nt=>Nt?.user?Nt:null),(0,ke.R)(Ie.outsideAngular),(0,re.Q)(Ie.insideAngular))}return(0,me.pX)(this,xt,ve,{spy:{apply:(En,On,Ut)=>{(En.startsWith("signIn")||En.startsWith("createUser"))&&Ut.then(Nt=>tr.next(Nt))}}})}static \u0275fac=function(Ae){return new(Ae||Pe)(z.LFG(me.Dh),z.LFG(me.xv,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(Ce.HU),z.LFG(yt,8),z.LFG(St,8),z.LFG(ge,8),z.LFG(Ht,8),z.LFG(Jt,8),z.LFG(xn,8),z.LFG(Ce.Rf,8))};static \u0275prov=z.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"any"})}return Pe})(),it=(()=>{class Pe{constructor(){Ye.Z.registerVersion("angularfire",Ce.q4.full,"auth-compat")}static \u0275fac=function(Ae){return new(Ae||Pe)};static \u0275mod=z.oAB({type:Pe});static \u0275inj=z.cJS({providers:[Tt]})}return Pe})()},7104:(on,et,k)=>{k.d(et,{ST:()=>di,yb:()=>Be});var l=k(6814),y=k(5879),z=k(1920),Ce=k(7217),me=k(7213),be=k(6321),je=k(5592),Le=k(2459),ze=k(2096),ie=k(7921),re=k(9360),Re=k(8251);function mt(){return(0,re.e)((pt,J)=>{let ye,ft=!1;pt.subscribe((0,Re.x)(J,Bt=>{const Tn=ye;ye=Bt,ft&&J.next([Tn,Bt]),ft=!0}))})}var We=k(7398),Rt=k(6699),vt=k(3997),Vt=k(2181),sn=(k(6365),k(3106)),qe=k(5588),ke=k(9058),Xe=k(4537);function yt(pt,J){if(void 0===J)return{merge:!1};if(void 0!==J.mergeFields&&void 0!==J.merge)throw new qe.WA("invalid-argument",`Invalid options passed to function ${pt}(): You cannot specify both "merge" and "mergeFields".`);return J}function St(){if(typeof Uint8Array>"u")throw new qe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ge(){if(!(0,qe.Me)())throw new qe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ht{constructor(J){this._delegate=J}static fromBase64String(J){return ge(),new Ht(qe.Jj.fromBase64String(J))}static fromUint8Array(J){return St(),new Ht(qe.Jj.fromUint8Array(J))}toBase64(){return ge(),this._delegate.toBase64()}toUint8Array(){return St(),this._delegate.toUint8Array()}isEqual(J){return this._delegate.isEqual(J._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Jt(pt){return function xn(pt,J){if("object"!=typeof pt||null===pt)return!1;const ye=pt;for(const ft of J)if(ft in ye&&"function"==typeof ye[ft])return!0;return!1}(pt,["next","error","complete"])}class $e{enableIndexedDbPersistence(J,ye){return(0,qe.ST)(J._delegate,{forceOwnership:ye})}enableMultiTabIndexedDbPersistence(J){return(0,qe.fH)(J._delegate)}clearIndexedDbPersistence(J){return(0,qe.Fc)(J._delegate)}}class Tt{constructor(J,ye,ft){this._delegate=ye,this._persistenceProvider=ft,this.INTERNAL={delete:()=>this.terminate()},J instanceof qe.l7||(this._appCompat=J)}get _databaseId(){return this._delegate._databaseId}settings(J){const ye=this._delegate._getSettings();!J.merge&&ye.host!==J.host&&(0,qe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),J.merge&&delete(J=Object.assign(Object.assign({},ye),J)).merge,this._delegate._setSettings(J)}useEmulator(J,ye,ft={}){(0,qe.at)(this._delegate,J,ye,ft)}enableNetwork(){return(0,qe.Ix)(this._delegate)}disableNetwork(){return(0,qe.TF)(this._delegate)}enablePersistence(J){let ye=!1,ft=!1;return J&&(ye=!!J.synchronizeTabs,ft=!!J.experimentalForceOwningTab,(0,qe.Wi)("synchronizeTabs",ye,"experimentalForceOwningTab",ft)),ye?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ft)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,qe.Mx)(this._delegate)}onSnapshotsInSync(J){return(0,qe.sc)(this._delegate,J)}get app(){if(!this._appCompat)throw new qe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(J){try{return new _n(this,(0,qe.hJ)(this._delegate,J))}catch(ye){throw ve(ye,"collection()","Firestore.collection()")}}doc(J){try{return new Ge(this,(0,qe.JU)(this._delegate,J))}catch(ye){throw ve(ye,"doc()","Firestore.doc()")}}collectionGroup(J){try{return new an(this,(0,qe.B$)(this._delegate,J))}catch(ye){throw ve(ye,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(J){return(0,qe.i3)(this._delegate,ye=>J(new le(this,ye)))}batch(){return(0,qe.qY)(this._delegate),new se(new qe.PU(this._delegate,J=>(0,qe.GL)(this._delegate,J)))}loadBundle(J){return(0,qe.Pb)(this._delegate,J)}namedQuery(J){return(0,qe.L$)(this._delegate,J).then(ye=>ye?new an(this,ye):null)}}class it extends qe.u7{constructor(J){super(),this.firestore=J}convertBytes(J){return new Ht(new qe.Jj(J))}convertReference(J){const ye=this.convertDocumentKey(J,this.firestore._databaseId);return Ge.forKey(ye,this.firestore,null)}}class le{constructor(J,ye){this._firestore=J,this._delegate=ye,this._userDataWriter=new it(J)}get(J){const ye=tr(J);return this._delegate.get(ye).then(ft=>new Et(this._firestore,new qe.xU(this._firestore._delegate,this._userDataWriter,ft._key,ft._document,ft.metadata,ye.converter)))}set(J,ye,ft){const Bt=tr(J);return ft?(yt("Transaction.set",ft),this._delegate.set(Bt,ye,ft)):this._delegate.set(Bt,ye),this}update(J,ye,ft,...Bt){const Tn=tr(J);return 2===arguments.length?this._delegate.update(Tn,ye):this._delegate.update(Tn,ye,ft,...Bt),this}delete(J){const ye=tr(J);return this._delegate.delete(ye),this}}class se{constructor(J){this._delegate=J}set(J,ye,ft){const Bt=tr(J);return ft?(yt("WriteBatch.set",ft),this._delegate.set(Bt,ye,ft)):this._delegate.set(Bt,ye),this}update(J,ye,ft,...Bt){const Tn=tr(J);return 2===arguments.length?this._delegate.update(Tn,ye):this._delegate.update(Tn,ye,ft,...Bt),this}delete(J){const ye=tr(J);return this._delegate.delete(ye),this}commit(){return this._delegate.commit()}}class Ae{constructor(J,ye,ft){this._firestore=J,this._userDataWriter=ye,this._delegate=ft}fromFirestore(J,ye){const ft=new qe.$q(this._firestore._delegate,this._userDataWriter,J._key,J._document,J.metadata,null);return this._delegate.fromFirestore(new It(this._firestore,ft),ye??{})}toFirestore(J,ye){return ye?this._delegate.toFirestore(J,ye):this._delegate.toFirestore(J)}static getInstance(J,ye){const ft=Ae.INSTANCES;let Bt=ft.get(J);Bt||(Bt=new WeakMap,ft.set(J,Bt));let Tn=Bt.get(ye);return Tn||(Tn=new Ae(J,new it(J),ye),Bt.set(ye,Tn)),Tn}}Ae.INSTANCES=new WeakMap;class Ge{constructor(J,ye){this.firestore=J,this._delegate=ye,this._userDataWriter=new it(J)}static forPath(J,ye,ft){if(J.length%2!=0)throw new qe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${J.canonicalString()} has ${J.length}`);return new Ge(ye,new qe.my(ye._delegate,ft,new qe.Ky(J)))}static forKey(J,ye,ft){return new Ge(ye,new qe.my(ye._delegate,ft,J))}get id(){return this._delegate.id}get parent(){return new _n(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(J){try{return new _n(this.firestore,(0,qe.hJ)(this._delegate,J))}catch(ye){throw ve(ye,"collection()","DocumentReference.collection()")}}isEqual(J){return(J=(0,ke.m9)(J))instanceof qe.my&&(0,qe.Eo)(this._delegate,J)}set(J,ye){ye=yt("DocumentReference.set",ye);try{return ye?(0,qe.pl)(this._delegate,J,ye):(0,qe.pl)(this._delegate,J)}catch(ft){throw ve(ft,"setDoc()","DocumentReference.set()")}}update(J,ye,...ft){try{return 1===arguments.length?(0,qe.r7)(this._delegate,J):(0,qe.r7)(this._delegate,J,ye,...ft)}catch(Bt){throw ve(Bt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,qe.oe)(this._delegate)}onSnapshot(...J){const ye=Ie(J),ft=Fe(J,Bt=>new Et(this.firestore,new qe.xU(this.firestore._delegate,this._userDataWriter,Bt._key,Bt._document,Bt.metadata,this._delegate.converter)));return(0,qe.cf)(this._delegate,ye,ft)}get(J){let ye;return ye="cache"===J?.source?(0,qe.kl)(this._delegate):"server"===J?.source?(0,qe.Xk)(this._delegate):(0,qe.QT)(this._delegate),ye.then(ft=>new Et(this.firestore,new qe.xU(this.firestore._delegate,this._userDataWriter,ft._key,ft._document,ft.metadata,this._delegate.converter)))}withConverter(J){return new Ge(this.firestore,this._delegate.withConverter(J?Ae.getInstance(this.firestore,J):null))}}function ve(pt,J,ye){return pt.message=pt.message.replace(J,ye),pt}function Ie(pt){for(const J of pt)if("object"==typeof J&&!Jt(J))return J;return{}}function Fe(pt,J){var ye,ft;let Bt;return Bt=Jt(pt[0])?pt[0]:Jt(pt[1])?pt[1]:"function"==typeof pt[0]?{next:pt[0],error:pt[1],complete:pt[2]}:{next:pt[1],error:pt[2],complete:pt[3]},{next:Tn=>{Bt.next&&Bt.next(J(Tn))},error:null===(ye=Bt.error)||void 0===ye?void 0:ye.bind(Bt),complete:null===(ft=Bt.complete)||void 0===ft?void 0:ft.bind(Bt)}}class Et{constructor(J,ye){this._firestore=J,this._delegate=ye}get ref(){return new Ge(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(J){return this._delegate.data(J)}get(J,ye){return this._delegate.get(J,ye)}isEqual(J){return(0,qe.qK)(this._delegate,J._delegate)}}class It extends Et{data(J){const ye=this._delegate.data(J);return this._delegate._converter||(0,qe.K9)(void 0!==ye,"Document in a QueryDocumentSnapshot should exist"),ye}}class an{constructor(J,ye){this.firestore=J,this._delegate=ye,this._userDataWriter=new it(J)}where(J,ye,ft){try{return new an(this.firestore,(0,qe.IO)(this._delegate,(0,qe.ar)(J,ye,ft)))}catch(Bt){throw ve(Bt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(J,ye){try{return new an(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Xo)(J,ye)))}catch(ft){throw ve(ft,/(orderBy|where)\(\)/,"Query.$1()")}}limit(J){try{return new an(this.firestore,(0,qe.IO)(this._delegate,(0,qe.b9)(J)))}catch(ye){throw ve(ye,"limit()","Query.limit()")}}limitToLast(J){try{return new an(this.firestore,(0,qe.IO)(this._delegate,(0,qe.vh)(J)))}catch(ye){throw ve(ye,"limitToLast()","Query.limitToLast()")}}startAt(...J){try{return new an(this.firestore,(0,qe.IO)(this._delegate,(0,qe.e0)(...J)))}catch(ye){throw ve(ye,"startAt()","Query.startAt()")}}startAfter(...J){try{return new an(this.firestore,(0,qe.IO)(this._delegate,(0,qe.TQ)(...J)))}catch(ye){throw ve(ye,"startAfter()","Query.startAfter()")}}endBefore(...J){try{return new an(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Lx)(...J)))}catch(ye){throw ve(ye,"endBefore()","Query.endBefore()")}}endAt(...J){try{return new an(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Wu)(...J)))}catch(ye){throw ve(ye,"endAt()","Query.endAt()")}}isEqual(J){return(0,qe.iE)(this._delegate,J._delegate)}get(J){let ye;return ye="cache"===J?.source?(0,qe.UQ)(this._delegate):"server"===J?.source?(0,qe.zN)(this._delegate):(0,qe.PL)(this._delegate),ye.then(ft=>new Sn(this.firestore,new qe.W(this.firestore._delegate,this._userDataWriter,this._delegate,ft._snapshot)))}onSnapshot(...J){const ye=Ie(J),ft=Fe(J,Bt=>new Sn(this.firestore,new qe.W(this.firestore._delegate,this._userDataWriter,this._delegate,Bt._snapshot)));return(0,qe.cf)(this._delegate,ye,ft)}withConverter(J){return new an(this.firestore,this._delegate.withConverter(J?Ae.getInstance(this.firestore,J):null))}}class qt{constructor(J,ye){this._firestore=J,this._delegate=ye}get type(){return this._delegate.type}get doc(){return new It(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Sn{constructor(J,ye){this._firestore=J,this._delegate=ye}get query(){return new an(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(J=>new It(this._firestore,J))}docChanges(J){return this._delegate.docChanges(J).map(ye=>new qt(this._firestore,ye))}forEach(J,ye){this._delegate.forEach(ft=>{J.call(ye,new It(this._firestore,ft))})}isEqual(J){return(0,qe.qK)(this._delegate,J._delegate)}}class _n extends an{constructor(J,ye){super(J,ye),this.firestore=J,this._delegate=ye}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const J=this._delegate.parent;return J?new Ge(this.firestore,J):null}doc(J){try{return new Ge(this.firestore,void 0===J?(0,qe.JU)(this._delegate):(0,qe.JU)(this._delegate,J))}catch(ye){throw ve(ye,"doc()","CollectionReference.doc()")}}add(J){return(0,qe.ET)(this._delegate,J).then(ye=>new Ge(this.firestore,ye))}isEqual(J){return(0,qe.Eo)(this._delegate,J._delegate)}withConverter(J){return new _n(this.firestore,this._delegate.withConverter(J?Ae.getInstance(this.firestore,J):null))}}function tr(pt){return(0,qe.Cf)(pt,qe.my)}class xt{constructor(...J){this._delegate=new qe.Lz(...J)}static documentId(){return new xt(qe.Xb.keyField().canonicalString())}isEqual(J){return(J=(0,ke.m9)(J))instanceof qe.Lz&&this._delegate._internalPath.isEqual(J._internalPath)}}class En{constructor(J){this._delegate=J}static serverTimestamp(){const J=(0,qe.Bt)();return J._methodName="FieldValue.serverTimestamp",new En(J)}static delete(){const J=(0,qe.AK)();return J._methodName="FieldValue.delete",new En(J)}static arrayUnion(...J){const ye=(0,qe.vr)(...J);return ye._methodName="FieldValue.arrayUnion",new En(ye)}static arrayRemove(...J){const ye=(0,qe.Ab)(...J);return ye._methodName="FieldValue.arrayRemove",new En(ye)}static increment(J){const ye=(0,qe.nP)(J);return ye._methodName="FieldValue.increment",new En(ye)}isEqual(J){return this._delegate.isEqual(J._delegate)}}const On={Firestore:Tt,GeoPoint:qe.F8,Timestamp:qe.EK,Blob:Ht,Transaction:le,WriteBatch:se,DocumentReference:Ge,DocumentSnapshot:Et,Query:an,QueryDocumentSnapshot:It,QuerySnapshot:Sn,CollectionReference:_n,FieldPath:xt,FieldValue:En,setLogLevel:function Pe(pt){(0,qe.Ub)(pt)},CACHE_SIZE_UNLIMITED:qe.IX};!function Nt(pt){(function Ut(pt,J){pt.INTERNAL.registerComponent(new Xe.wA("firestore-compat",ye=>{const ft=ye.getProvider("app-compat").getImmediate(),Bt=ye.getProvider("firestore").getImmediate();return J(ft,Bt)},"PUBLIC").setServiceProps(Object.assign({},On)))})(pt,(J,ye)=>new Tt(J,ye,new $e)),pt.registerVersion("@firebase/firestore-compat","0.3.32")}(sn.Z);var Dr=k(7142);function sr(pt,J){return function tn(pt,J=be.z){return new je.y(ye=>{let ft;return null!=J?J.schedule(()=>{ft=pt.onSnapshot({includeMetadataChanges:!0},ye)}):ft=pt.onSnapshot({includeMetadataChanges:!0},ye),()=>{ft?.()}})}(pt,J)}function Ot(pt,J){return sr(pt,J).pipe((0,We.U)(ye=>({payload:ye,type:"query"})))}class cn{ref;afs;constructor(J,ye){this.ref=J,this.afs=ye}set(J,ye){return this.ref.set(J,ye)}update(J){return this.ref.update(J)}delete(){return this.ref.delete()}collection(J,ye){const ft=this.ref.collection(J),{ref:Bt,query:Tn}=Dn(ft,ye);return new Or(Bt,Tn,this.afs)}snapshotChanges(){return function Fn(pt,J){return sr(pt,J).pipe((0,ie.O)(void 0),mt(),(0,We.U)(ye=>{const[ft,Bt]=ye;return Bt.exists?ft?.exists?{payload:Bt,type:"modified"}:{payload:Bt,type:"added"}:{payload:Bt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(J={}){return this.snapshotChanges().pipe((0,We.U)(({payload:ye})=>J.idField?{...ye.data(),[J.idField]:ye.id}:ye.data()))}get(J){return(0,Le.D)(this.ref.get(J)).pipe(z.iC)}}function Cn(pt,J){return Ot(pt,J).pipe((0,ie.O)(void 0),mt(),(0,We.U)(ye=>{const[ft,Bt]=ye,Tn=Bt.payload.docChanges(),gr=Tn.map(Yn=>({type:Yn.type,payload:Yn}));return ft&&JSON.stringify(ft.payload.metadata)!==JSON.stringify(Bt.payload.metadata)&&Bt.payload.docs.forEach((Yn,we)=>{const Y=Tn.find(x=>x.doc.ref.isEqual(Yn.ref)),V=ft?.payload.docs.find(x=>x.ref.isEqual(Yn.ref));Y&&JSON.stringify(Y.doc.metadata)===JSON.stringify(Yn.metadata)||!Y&&V&&JSON.stringify(V.metadata)===JSON.stringify(Yn.metadata)||gr.push({type:"modified",payload:{oldIndex:we,newIndex:we,type:"modified",doc:Yn}})}),gr}))}function gn(pt,J,ye){return Cn(pt,ye).pipe((0,Rt.R)((ft,Bt)=>function ir(pt,J,ye){return J.forEach(ft=>{ye.indexOf(ft.type)>-1&&(pt=function xr(pt,J){switch(J.type){case"added":if(!pt[J.newIndex]||!pt[J.newIndex].doc.ref.isEqual(J.doc.ref))return cr(pt,J.newIndex,0,J);break;case"modified":if(null==pt[J.oldIndex]||pt[J.oldIndex].doc.ref.isEqual(J.doc.ref)){if(J.oldIndex!==J.newIndex){const ye=pt.slice();return ye.splice(J.oldIndex,1),ye.splice(J.newIndex,0,J),ye}return cr(pt,J.newIndex,1,J)}break;case"removed":if(pt[J.oldIndex]&&pt[J.oldIndex].doc.ref.isEqual(J.doc.ref))return cr(pt,J.oldIndex,1)}return pt}(pt,ft))}),pt}(ft,Bt.map(Tn=>Tn.payload),J),[]),(0,vt.x)(),(0,We.U)(ft=>ft.map(Bt=>({type:Bt.type,payload:Bt}))))}function cr(pt,J,ye,...ft){const Bt=pt.slice();return Bt.splice(J,ye,...ft),Bt}function Mn(pt){return(!pt||0===pt.length)&&(pt=["added","removed","modified"]),pt}class Or{ref;query;afs;constructor(J,ye,ft){this.ref=J,this.query=ye,this.afs=ft}stateChanges(J){let ye=Cn(this.query,this.afs.schedulers.outsideAngular);return J&&J.length>0&&(ye=ye.pipe((0,We.U)(ft=>ft.filter(Bt=>J.indexOf(Bt.type)>-1)))),ye.pipe((0,ie.O)(void 0),mt(),(0,Vt.h)(([ft,Bt])=>Bt.length>0||!ft),(0,We.U)(([,ft])=>ft),z.iC)}auditTrail(J){return this.stateChanges(J).pipe((0,Rt.R)((ye,ft)=>[...ye,...ft],[]))}snapshotChanges(J){const ye=Mn(J);return gn(this.query,ye,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(J={}){return Ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(ye=>ye.payload.docs.map(ft=>J.idField?{...ft.data(),[J.idField]:ft.id}:ft.data())),z.iC)}get(J){return(0,Le.D)(this.query.get(J)).pipe(z.iC)}add(J){return this.ref.add(J)}doc(J){return new cn(this.ref.doc(J),this.afs)}}class Ci{query;afs;constructor(J,ye){this.query=J,this.afs=ye}stateChanges(J){return J&&0!==J.length?Cn(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(ye=>ye.filter(ft=>J.indexOf(ft.type)>-1)),(0,Vt.h)(ye=>ye.length>0),z.iC):Cn(this.query,this.afs.schedulers.outsideAngular).pipe(z.iC)}auditTrail(J){return this.stateChanges(J).pipe((0,Rt.R)((ye,ft)=>[...ye,...ft],[]))}snapshotChanges(J){const ye=Mn(J);return gn(this.query,ye,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(J={}){return Ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(ft=>ft.payload.docs.map(Bt=>J.idField?{[J.idField]:Bt.id,...Bt.data()}:Bt.data())),z.iC)}get(J){return(0,Le.D)(this.query.get(J)).pipe(z.iC)}}const Xt=new y.OlP("angularfire2.enableFirestorePersistence"),Nr=new y.OlP("angularfire2.firestore.persistenceSettings"),$n=new y.OlP("angularfire2.firestore.settings"),nr=new y.OlP("angularfire2.firestore.use-emulator");function Dn(pt,J=(ye=>ye)){return{query:J(pt),ref:pt}}let di=(()=>{class pt{schedulers;firestore;persistenceEnabled$;constructor(ye,ft,Bt,Tn,gr,Yn,we,Y,V,x,O,ae,xe,gt,Pt,nn,Zt){this.schedulers=we;const Qt=(0,Ce.on)(ye,Yn,ft),Gn=V;x&&(0,me.nw)(Qt,Yn,O,xe,gt,Pt,ae,nn),[this.firestore,this.persistenceEnabled$]=(0,Ce.cc)(`${Qt.name}.firestore`,"AngularFirestore",Qt.name,()=>{const vn=Yn.runOutsideAngular(()=>Qt.firestore());if(Tn&&vn.settings(Tn),Gn&&vn.useEmulator(...Gn),Bt&&!(0,l.PM)(gr)){const Qn=()=>{try{return(0,Le.D)(vn.enablePersistence(Y||void 0).then(()=>!0,()=>!1))}catch(ki){return typeof console<"u"&&console.warn(ki),(0,ze.of)(!1)}};return[vn,Yn.runOutsideAngular(Qn)]}return[vn,(0,ze.of)(!1)]},[Tn,Gn,Bt])}collection(ye,ft){let Bt;Bt="string"==typeof ye?this.firestore.collection(ye):ye;const{ref:Tn,query:gr}=Dn(Bt,ft),Yn=this.schedulers.ngZone.run(()=>Tn);return new Or(Yn,gr,this)}collectionGroup(ye,ft){const Bt=ft||(gr=>gr),Tn=this.firestore.collectionGroup(ye);return new Ci(Bt(Tn),this)}doc(ye){let ft;ft="string"==typeof ye?this.firestore.doc(ye):ye;const Bt=this.schedulers.ngZone.run(()=>ft);return new cn(Bt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(ft){return new(ft||pt)(y.LFG(Ce.Dh),y.LFG(Ce.xv,8),y.LFG(Xt,8),y.LFG($n,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(z.HU),y.LFG(Nr,8),y.LFG(nr,8),y.LFG(me.zQ,8),y.LFG(me.Qv,8),y.LFG(me.L6,8),y.LFG(me._Q,8),y.LFG(me.rT,8),y.LFG(me.lh,8),y.LFG(me.f7,8),y.LFG(z.Rf,8))};static \u0275prov=y.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"any"})}return pt})(),Be=(()=>{class pt{constructor(){Dr.Z.registerVersion("angularfire",z.q4.full,"fst-compat")}static enablePersistence(ye){return{ngModule:pt,providers:[{provide:Xt,useValue:!0},{provide:Nr,useValue:ye}]}}static \u0275fac=function(ft){return new(ft||pt)};static \u0275mod=y.oAB({type:pt});static \u0275inj=y.cJS({providers:[di]})}return pt})()},778:(on,et,k)=>{k.d(et,{Q1:()=>le,TE:()=>Ge});var l=k(1920),y=k(5592),z=k(2096),Ce=k(2459),me=k(6321),be=k(9360),je=k(8251),ze=k(7398),ie=k(4664),re=k(5879),Re=k(7217),mt=k(3106),We=k(8153),Rt=k(4537);class vt{constructor(Ie,Fe,Et){this._delegate=Ie,this.task=Fe,this.ref=Et}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Vt{constructor(Ie,Fe){this._delegate=Ie,this._ref=Fe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new vt(this._delegate.snapshot,this,this._ref)}then(Ie,Fe){return this._delegate.then(Et=>{if(Ie)return Ie(new vt(Et,this,this._ref))},Fe)}on(Ie,Fe,Et,It){let an;return Fe&&(an="function"==typeof Fe?qt=>Fe(new vt(qt,this,this._ref)):{next:Fe.next?qt=>Fe.next(new vt(qt,this,this._ref)):void 0,complete:Fe.complete||void 0,error:Fe.error||void 0}),this._delegate.on(Ie,an,Et||void 0,It||void 0)}}class bt{constructor(Ie,Fe){this._delegate=Ie,this._service=Fe}get prefixes(){return this._delegate.prefixes.map(Ie=>new sn(Ie,this._service))}get items(){return this._delegate.items.map(Ie=>new sn(Ie,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class sn{constructor(Ie,Fe){this._delegate=Ie,this.storage=Fe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ie){const Fe=(0,We.g6)(this._delegate,Ie);return new sn(Fe,this.storage)}get root(){return new sn(this._delegate.root,this.storage)}get parent(){const Ie=this._delegate.parent;return null==Ie?null:new sn(Ie,this.storage)}put(Ie,Fe){return this._throwIfRoot("put"),new Vt((0,We.B0)(this._delegate,Ie,Fe),this)}putString(Ie,Fe=We.bm.RAW,Et){this._throwIfRoot("putString");const It=(0,We.qm)(Fe,Ie),an=Object.assign({},Et);return null==an.contentType&&null!=It.contentType&&(an.contentType=It.contentType),new Vt(new We.IX(this._delegate,new We.UJ(It.data,!0),an),this)}listAll(){return(0,We.aF)(this._delegate).then(Ie=>new bt(Ie,this.storage))}list(Ie){return(0,We.pb)(this._delegate,Ie||void 0).then(Fe=>new bt(Fe,this.storage))}getMetadata(){return(0,We.sd)(this._delegate)}updateMetadata(Ie){return(0,We.Ym)(this._delegate,Ie)}getDownloadURL(){return(0,We.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,We.oq)(this._delegate)}_throwIfRoot(Ie){if(""===this._delegate._location.path)throw(0,We.y4)(Ie)}}class qe{constructor(Ie,Fe){this.app=Ie,this._delegate=Fe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ie){if(ke(Ie))throw(0,We.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new sn((0,We.iH)(this._delegate,Ie),this)}refFromURL(Ie){if(!ke(Ie))throw(0,We.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{We.gE.makeFromUrl(Ie,this._delegate.host)}catch{throw(0,We.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new sn((0,We.iH)(this._delegate,Ie),this)}setMaxUploadRetryTime(Ie){this._delegate.maxUploadRetryTime=Ie}setMaxOperationRetryTime(Ie){this._delegate.maxOperationRetryTime=Ie}useEmulator(Ie,Fe,Et={}){(0,We.a1)(this._delegate,Ie,Fe,Et)}}function ke(ve){return/^[A-Za-z]+:\/\//.test(ve)}function yt(ve,{instanceIdentifier:Ie}){const Fe=ve.getProvider("app-compat").getImmediate(),Et=ve.getProvider("storage").getImmediate({identifier:Ie});return new qe(Fe,Et)}!function St(ve){const Ie={TaskState:We.$Y,TaskEvent:We.FN,StringFormat:We.bm,Storage:qe,Reference:sn};ve.INTERNAL.registerComponent(new Rt.wA("storage-compat",yt,"PUBLIC").setServiceProps(Ie).setMultipleInstances(!0)),ve.registerVersion("@firebase/storage-compat","0.3.8")}(mt.Z);var ge=k(7142);function Jt(ve){const Ie=function Ht(ve){return new y.y(Ie=>{const Fe=qt=>Ie.next(qt);Fe(ve.snapshot);const an=ve.on("state_changed",Fe);return ve.then(qt=>{Fe(qt),Ie.complete()},qt=>{Fe(ve.snapshot),(qt=>{Ie.error(qt)})(qt)}),function(){an()}}).pipe(function Le(ve,Ie=me.z){return(0,be.e)((Fe,Et)=>{let It=null,an=null,qt=null;const Sn=()=>{if(It){It.unsubscribe(),It=null;const tr=an;an=null,Et.next(tr)}};function _n(){const tr=qt+ve,xt=Ie.now();if(xt<tr)return It=this.schedule(void 0,tr-xt),void Et.add(It);Sn()}Fe.subscribe((0,je.x)(Et,tr=>{an=tr,qt=Ie.now(),It||(It=Ie.schedule(_n,ve),Et.add(It))},()=>{Sn(),Et.complete()},void 0,()=>{an=It=null}))})}(0))}(ve);return{task:ve,then:ve.then.bind(ve),catch:ve.catch.bind(ve),pause:ve.pause.bind(ve),cancel:ve.cancel.bind(ve),resume:ve.resume.bind(ve),snapshotChanges:()=>Ie,percentageChanges:()=>Ie.pipe((0,ze.U)(Fe=>Fe.bytesTransferred/Fe.totalBytes*100))}}function xn(ve){return{getDownloadURL:()=>(0,z.of)(void 0).pipe(l.fc,(0,ie.w)(()=>ve.getDownloadURL()),l.iC),getMetadata:()=>(0,z.of)(void 0).pipe(l.fc,(0,ie.w)(()=>ve.getMetadata()),l.iC),delete:()=>(0,Ce.D)(ve.delete()),child:Ie=>xn(ve.child(Ie)),updateMetadata:Ie=>(0,Ce.D)(ve.updateMetadata(Ie)),put:(Ie,Fe)=>Jt(ve.put(Ie,Fe)),putString:(Ie,Fe,Et)=>Jt(ve.putString(Ie,Fe,Et)),list:Ie=>(0,Ce.D)(ve.list(Ie)),listAll:()=>(0,Ce.D)(ve.listAll())}}const $e=new re.OlP("angularfire2.storageBucket"),Tt=new re.OlP("angularfire2.storage.maxUploadRetryTime"),it=new re.OlP("angularfire2.storage.maxOperationRetryTime"),Pe=new re.OlP("angularfire2.storage.use-emulator");let le=(()=>{class ve{storage;constructor(Fe,Et,It,an,qt,Sn,_n,tr,xt,En){const On=(0,Re.on)(Fe,qt,Et);this.storage=(0,Re.cc)(`${On.name}.storage.${It}`,"AngularFireStorage",On.name,()=>{const Ut=qt.runOutsideAngular(()=>On.storage(It||void 0)),Nt=xt;return Nt&&Ut.useEmulator(...Nt),_n&&Ut.setMaxUploadRetryTime(_n),tr&&Ut.setMaxOperationRetryTime(tr),Ut},[_n,tr])}ref(Fe){return xn(this.storage.ref(Fe))}refFromURL(Fe){return xn(this.storage.refFromURL(Fe))}upload(Fe,Et,It){return xn(this.storage.ref(Fe)).put(Et,It)}static \u0275fac=function(Et){return new(Et||ve)(re.LFG(Re.Dh),re.LFG(Re.xv,8),re.LFG($e,8),re.LFG(re.Lbi),re.LFG(re.R0b),re.LFG(l.HU),re.LFG(Tt,8),re.LFG(it,8),re.LFG(Pe,8),re.LFG(l.Rf,8))};static \u0275prov=re.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"any"})}return ve})(),Ae=(()=>{class ve{static \u0275fac=function(Et){return new(Et||ve)};static \u0275mod=re.oAB({type:ve});static \u0275inj=re.cJS({})}return ve})(),Ge=(()=>{class ve{constructor(){ge.Z.registerVersion("angularfire",l.q4.full,"gcs-compat")}static \u0275fac=function(Et){return new(Et||ve)};static \u0275mod=re.oAB({type:ve});static \u0275inj=re.cJS({providers:[le],imports:[Ae]})}return ve})()},7217:(on,et,k)=>{k.d(et,{Dh:()=>Le,GT:()=>be,cc:()=>We,hO:()=>mt,on:()=>ie,pX:()=>me,xv:()=>ze});var l=k(5879),y=k(1920),z=k(7142);const Ce=["ngOnDestroy"],me=(bt,sn,qe,ke={})=>new Proxy(bt,{get:(Xe,Ye)=>qe.runOutsideAngular(()=>{if(bt[Ye])return ke?.spy?.get&&ke.spy.get(Ye,bt[Ye]),bt[Ye];if(Ce.indexOf(Ye)>-1)return()=>{};const Qe=sn.toPromise().then(yt=>{const St=yt?.[Ye];return"function"==typeof St?St.bind(yt):St?.then?St.then(ge=>qe.run(()=>ge)):qe.run(()=>St)});return new Proxy(()=>{},{get:(yt,St)=>Qe[St],apply:(yt,St,ge)=>Qe.then(Ht=>{const Jt=Ht?.(...ge);return ke?.spy?.apply&&ke.spy.apply(Ye,ge,Jt),Jt})})})}),be=(bt,sn)=>{sn.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(ke=>{Object.defineProperty(bt.prototype,ke,Object.getOwnPropertyDescriptor(qe.prototype||qe,ke))})})};class je{constructor(sn){return sn}}const Le=new l.OlP("angularfire2.app.options"),ze=new l.OlP("angularfire2.app.name");function ie(bt,sn,qe){const Xe="object"==typeof qe&&qe||{};Xe.name=Xe.name||"string"==typeof qe&&qe||"[DEFAULT]";const Qe=z.Z.apps.filter(yt=>yt&&yt.name===Xe.name)[0]||sn.runOutsideAngular(()=>z.Z.initializeApp(bt,Xe));try{if(JSON.stringify(bt)!==JSON.stringify(Qe.options)){const yt=!!module.hot;re("error",`${Qe.name} Firebase App already initialized with different options${yt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new je(Qe)}const re=(bt,...sn)=>{(0,l.X6Q)()&&typeof console<"u"&&console[bt](...sn)},Re={provide:je,useFactory:ie,deps:[Le,l.R0b,[new l.FiY,ze]]};let mt=(()=>{class bt{static initializeApp(qe,ke){return{ngModule:bt,providers:[{provide:Le,useValue:qe},{provide:ze,useValue:ke}]}}constructor(qe){z.Z.registerVersion("angularfire",y.q4.full,"core"),z.Z.registerVersion("angularfire",y.q4.full,"app-compat"),z.Z.registerVersion("angular",l.q4F.full,qe.toString())}static \u0275fac=function(ke){return new(ke||bt)(l.LFG(l.Lbi))};static \u0275mod=l.oAB({type:bt});static \u0275inj=l.cJS({providers:[Re]})}return bt})();function We(bt,sn,qe,ke,Xe){const[,Ye,Qe]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===bt)||[];if(Ye)return function Rt(bt,sn){try{return bt.toString()===sn.toString()}catch{return bt===sn}}(Xe,Qe)||(Vt("error",`${sn} was already initialized on the ${qe} Firebase App with different settings.${vt?" You may need to reload as Firebase is not HMR aware.":""}`),Vt("warn",{is:Xe,was:Qe})),Ye;{const yt=ke();return globalThis.\u0275AngularfireInstanceCache.push([bt,yt,Xe]),yt}}const vt=typeof module<"u"&&!!module.hot,Vt=(bt,...sn)=>{(0,l.X6Q)()&&typeof console<"u"&&console[bt](...sn)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(on,et,k)=>{k.d(et,{q4:()=>We,iC:()=>Jt,fc:()=>ge,HU:()=>Ye,Rf:()=>bt,vb:()=>Vt,JM:()=>vt,u3:()=>Tt});var l=k(5879),y=k(3182),z=k(1954),me=k(2631);const je=new class be extends me.v{}(class Ce extends z.o{constructor(Pe,le){super(Pe,le),this.scheduler=Pe,this.work=le}schedule(Pe,le=0){return le>0?super.schedule(Pe,le):(this.delay=le,this.state=Pe,this.scheduler.flush(this),this)}execute(Pe,le){return le>0||this.closed?super.execute(Pe,le):this._execute(Pe,le)}requestAsyncId(Pe,le,se=0){return null!=se&&se>0||null==se&&this.delay>0?super.requestAsyncId(Pe,le,se):(Pe.flush(this),0)}});var ze=k(6321),ie=k(5592),re=k(9397),Re=k(3093),mt=k(5137);const We=new l.GfV("ANGULARFIRE2_VERSION");function vt(it,Pe,le){if(Pe){if(1===Pe.length)return Pe[0];const Ge=Pe.filter(ve=>ve.app===le);if(1===Ge.length)return Ge[0]}return le.container.getProvider(it).getImmediate({optional:!0})}const Vt=(it,Pe)=>{const le=Pe?[Pe]:(0,y.C6)(),se=[];return le.forEach(Ae=>{Ae.container.getProvider(it).instances.forEach(ve=>{se.includes(ve)||se.push(ve)})}),se};class bt{constructor(){return Vt(sn)}}const sn="app-check";function qe(){}class ke{zone;delegate;constructor(Pe,le=je){this.zone=Pe,this.delegate=le}now(){return this.delegate.now()}schedule(Pe,le,se){const Ae=this.zone;return this.delegate.schedule(function(ve){Ae.runGuarded(()=>{Pe.apply(this,[ve])})},le,se)}}class Xe{zone;task=null;constructor(Pe){this.zone=Pe}call(Pe,le){const se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe)),le.pipe((0,re.b)({next:se,complete:se,error:se})).subscribe(Pe).add(se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ye=(()=>{class it{ngZone;outsideAngular;insideAngular;constructor(le){this.ngZone=le,this.outsideAngular=le.runOutsideAngular(()=>new ke(Zone.current)),this.insideAngular=le.run(()=>new ke(Zone.current,ze.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(se){return new(se||it)(l.LFG(l.R0b))};static \u0275prov=l.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})();function Qe(){const it=globalThis.\u0275AngularFireScheduler;if(!it)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return it}function St(it){return Qe().ngZone.run(()=>it())}function ge(it){return it.pipe((0,Re.Q)(Qe().outsideAngular))}function Jt(it){return function xn(it){return function(le){return(le=le.lift(new Xe(it.ngZone))).pipe((0,mt.R)(it.outsideAngular),(0,Re.Q)(it.insideAngular))}}(Qe())(it)}const $e=(it,Pe)=>function(){const se=arguments;return Pe&&setTimeout(()=>{"scheduled"===Pe.state&&Pe.invoke()},10),St(()=>it.apply(void 0,se))},Tt=(it,Pe)=>function(){let le;const se=arguments;for(let Ge=0;Ge<arguments.length;Ge++)"function"==typeof se[Ge]&&(Pe&&(le||=St(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe))),se[Ge]=$e(se[Ge],le));const Ae=function yt(it){return Qe().ngZone.runOutsideAngular(()=>it())}(()=>it.apply(this,se));if(!Pe){if(Ae instanceof ie.y){const Ge=Qe();return Ae.pipe((0,mt.R)(Ge.outsideAngular),(0,Re.Q)(Ge.insideAngular))}return St(()=>Ae)}return Ae instanceof ie.y?Ae.pipe(Jt):Ae instanceof Promise?St(()=>new Promise((Ge,ve)=>Ae.then(Ie=>St(()=>Ge(Ie)),Ie=>St(()=>ve(Ie))))):"function"==typeof Ae&&le?function(){return setTimeout(()=>{le&&"scheduled"===le.state&&le.invoke()},10),Ae.apply(this,arguments)}:St(()=>Ae)}},95:(on,et,k)=>{k.d(et,{Wl:()=>Vt,Fj:()=>ke,CE:()=>Ro,qu:()=>hs,u:()=>wr,sg:()=>Yt,x0:()=>Jn,u5:()=>Cs,JJ:()=>Cn,JL:()=>gn,F:()=>mi,On:()=>zi,UX:()=>ua,Q7:()=>Zr,kI:()=>ge,_Y:()=>Eo});var l=k(5879),y=k(6814),z=k(2459),Ce=k(5592),me=k(7453),be=k(4829),je=k(4564),Le=k(8251),ze=k(7400),ie=k(2714),Re=k(7398);let mt=(()=>{class U{constructor(P,te){this._renderer=P,this._elementRef=te,this.onChange=Se=>{},this.onTouched=()=>{}}setProperty(P,te){this._renderer.setProperty(this._elementRef.nativeElement,P,te)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(l.Qsj),l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:U})}return U})(),We=(()=>{class U extends mt{static#e=this.\u0275fac=function(){let P;return function(Se){return(P||(P=l.n5z(U)))(Se||U)}}();static#t=this.\u0275dir=l.lG2({type:U,features:[l.qOj]})}return U})();const Rt=new l.OlP("NgValueAccessor"),vt={provide:Rt,useExisting:(0,l.Gpc)(()=>Vt),multi:!0};let Vt=(()=>{class U extends We{writeValue(P){this.setProperty("checked",P)}static#e=this.\u0275fac=function(){let P;return function(Se){return(P||(P=l.n5z(U)))(Se||U)}}();static#t=this.\u0275dir=l.lG2({type:U,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(te,Se){1&te&&l.NdJ("change",function(kn){return Se.onChange(kn.target.checked)})("blur",function(){return Se.onTouched()})},features:[l._Bn([vt]),l.qOj]})}return U})();const bt={provide:Rt,useExisting:(0,l.Gpc)(()=>ke),multi:!0},qe=new l.OlP("CompositionEventMode");let ke=(()=>{class U extends mt{constructor(P,te,Se){super(P,te),this._compositionMode=Se,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sn(){const U=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(qe,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(te,Se){1&te&&l.NdJ("input",function(kn){return Se._handleInput(kn.target.value)})("blur",function(){return Se.onTouched()})("compositionstart",function(){return Se._compositionStart()})("compositionend",function(kn){return Se._compositionEnd(kn.target.value)})},features:[l._Bn([bt]),l.qOj]})}return U})();function Xe(U){return null==U||("string"==typeof U||Array.isArray(U))&&0===U.length}function Ye(U){return null!=U&&"number"==typeof U.length}const Qe=new l.OlP("NgValidators"),yt=new l.OlP("NgAsyncValidators"),St=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ge{static min(G){return function Ht(U){return G=>{if(Xe(G.value)||Xe(U))return null;const P=parseFloat(G.value);return!isNaN(P)&&P<U?{min:{min:U,actual:G.value}}:null}}(G)}static max(G){return function Jt(U){return G=>{if(Xe(G.value)||Xe(U))return null;const P=parseFloat(G.value);return!isNaN(P)&&P>U?{max:{max:U,actual:G.value}}:null}}(G)}static required(G){return xn(G)}static requiredTrue(G){return function $e(U){return!0===U.value?null:{required:!0}}(G)}static email(G){return function Tt(U){return Xe(U.value)||St.test(U.value)?null:{email:!0}}(G)}static minLength(G){return function it(U){return G=>Xe(G.value)||!Ye(G.value)?null:G.value.length<U?{minlength:{requiredLength:U,actualLength:G.value.length}}:null}(G)}static maxLength(G){return function Pe(U){return G=>Ye(G.value)&&G.value.length>U?{maxlength:{requiredLength:U,actualLength:G.value.length}}:null}(G)}static pattern(G){return function le(U){if(!U)return se;let G,P;return"string"==typeof U?(P="","^"!==U.charAt(0)&&(P+="^"),P+=U,"$"!==U.charAt(U.length-1)&&(P+="$"),G=new RegExp(P)):(P=U.toString(),G=U),te=>{if(Xe(te.value))return null;const Se=te.value;return G.test(Se)?null:{pattern:{requiredPattern:P,actualValue:Se}}}}(G)}static nullValidator(G){return null}static compose(G){return It(G)}static composeAsync(G){return qt(G)}}function xn(U){return Xe(U.value)?{required:!0}:null}function se(U){return null}function Ae(U){return null!=U}function Ge(U){return(0,l.QGY)(U)?(0,z.D)(U):U}function ve(U){let G={};return U.forEach(P=>{G=null!=P?{...G,...P}:G}),0===Object.keys(G).length?null:G}function Ie(U,G){return G.map(P=>P(U))}function Et(U){return U.map(G=>function Fe(U){return!U.validate}(G)?G:P=>G.validate(P))}function It(U){if(!U)return null;const G=U.filter(Ae);return 0==G.length?null:function(P){return ve(Ie(P,G))}}function an(U){return null!=U?It(Et(U)):null}function qt(U){if(!U)return null;const G=U.filter(Ae);return 0==G.length?null:function(P){return function re(...U){const G=(0,je.jO)(U),{args:P,keys:te}=(0,me.D)(U),Se=new Ce.y(fn=>{const{length:kn}=P;if(!kn)return void fn.complete();const Mi=new Array(kn);let no=kn,xi=kn;for(let ts=0;ts<kn;ts++){let po=!1;(0,be.Xf)(P[ts]).subscribe((0,Le.x)(fn,Co=>{po||(po=!0,xi--),Mi[ts]=Co},()=>no--,void 0,()=>{(!no||!po)&&(xi||fn.next(te?(0,ie.n)(te,Mi):Mi),fn.complete())}))}});return G?Se.pipe((0,ze.Z)(G)):Se}(Ie(P,G).map(Ge)).pipe((0,Re.U)(ve))}}function Sn(U){return null!=U?qt(Et(U)):null}function _n(U,G){return null===U?[G]:Array.isArray(U)?[...U,G]:[U,G]}function tr(U){return U._rawValidators}function xt(U){return U._rawAsyncValidators}function En(U){return U?Array.isArray(U)?U:[U]:[]}function On(U,G){return Array.isArray(U)?U.includes(G):U===G}function Ut(U,G){const P=En(G);return En(U).forEach(Se=>{On(P,Se)||P.push(Se)}),P}function Nt(U,G){return En(G).filter(P=>!On(U,P))}class Dr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(G){this._rawValidators=G||[],this._composedValidatorFn=an(this._rawValidators)}_setAsyncValidators(G){this._rawAsyncValidators=G||[],this._composedAsyncValidatorFn=Sn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(G){this._onDestroyCallbacks.push(G)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(G=>G()),this._onDestroyCallbacks=[]}reset(G=void 0){this.control&&this.control.reset(G)}hasError(G,P){return!!this.control&&this.control.hasError(G,P)}getError(G,P){return this.control?this.control.getError(G,P):null}}class tn extends Dr{get formDirective(){return null}get path(){return null}}class sr extends Dr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fn{constructor(G){this._cd=G}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cn=(()=>{class U extends Fn{constructor(P){super(P)}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(sr,2))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(te,Se){2&te&&l.ekj("ng-untouched",Se.isUntouched)("ng-touched",Se.isTouched)("ng-pristine",Se.isPristine)("ng-dirty",Se.isDirty)("ng-valid",Se.isValid)("ng-invalid",Se.isInvalid)("ng-pending",Se.isPending)},features:[l.qOj]})}return U})(),gn=(()=>{class U extends Fn{constructor(P){super(P)}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(tn,10))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(te,Se){2&te&&l.ekj("ng-untouched",Se.isUntouched)("ng-touched",Se.isTouched)("ng-pristine",Se.isPristine)("ng-dirty",Se.isDirty)("ng-valid",Se.isValid)("ng-invalid",Se.isInvalid)("ng-pending",Se.isPending)("ng-submitted",Se.isSubmitted)},features:[l.qOj]})}return U})();const Bt="VALID",Tn="INVALID",gr="PENDING",Yn="DISABLED";function we(U){return(O(U)?U.validators:U)||null}function V(U,G){return(O(G)?G.asyncValidators:U)||null}function O(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function ae(U,G,P){const te=U.controls;if(!(G?Object.keys(te):te).length)throw new l.vHH(1e3,"");if(!te[P])throw new l.vHH(1001,"")}function xe(U,G,P){U._forEachChild((te,Se)=>{if(void 0===P[Se])throw new l.vHH(1002,"")})}class gt{constructor(G,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(G),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(G){this._rawValidators=this._composedValidatorFn=G}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(G){this._rawAsyncValidators=this._composedAsyncValidatorFn=G}get parent(){return this._parent}get valid(){return this.status===Bt}get invalid(){return this.status===Tn}get pending(){return this.status==gr}get disabled(){return this.status===Yn}get enabled(){return this.status!==Yn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(G){this._assignValidators(G)}setAsyncValidators(G){this._assignAsyncValidators(G)}addValidators(G){this.setValidators(Ut(G,this._rawValidators))}addAsyncValidators(G){this.setAsyncValidators(Ut(G,this._rawAsyncValidators))}removeValidators(G){this.setValidators(Nt(G,this._rawValidators))}removeAsyncValidators(G){this.setAsyncValidators(Nt(G,this._rawAsyncValidators))}hasValidator(G){return On(this._rawValidators,G)}hasAsyncValidator(G){return On(this._rawAsyncValidators,G)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(G={}){this.touched=!0,this._parent&&!G.onlySelf&&this._parent.markAsTouched(G)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(G=>G.markAllAsTouched())}markAsUntouched(G={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}markAsDirty(G={}){this.pristine=!1,this._parent&&!G.onlySelf&&this._parent.markAsDirty(G)}markAsPristine(G={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}markAsPending(G={}){this.status=gr,!1!==G.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!G.onlySelf&&this._parent.markAsPending(G)}disable(G={}){const P=this._parentMarkedDirty(G.onlySelf);this.status=Yn,this.errors=null,this._forEachChild(te=>{te.disable({...G,onlySelf:!0})}),this._updateValue(),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...G,skipPristineCheck:P}),this._onDisabledChange.forEach(te=>te(!0))}enable(G={}){const P=this._parentMarkedDirty(G.onlySelf);this.status=Bt,this._forEachChild(te=>{te.enable({...G,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent}),this._updateAncestors({...G,skipPristineCheck:P}),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(G){this._parent&&!G.onlySelf&&(this._parent.updateValueAndValidity(G),G.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(G){this._parent=G}getRawValue(){return this.value}updateValueAndValidity(G={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bt||this.status===gr)&&this._runAsyncValidator(G.emitEvent)),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!G.onlySelf&&this._parent.updateValueAndValidity(G)}_updateTreeValidity(G={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(G)),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yn:Bt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(G){if(this.asyncValidator){this.status=gr,this._hasOwnPendingAsyncValidator=!0;const P=Ge(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(te,{emitEvent:G})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(G,P={}){this.errors=G,this._updateControlsErrors(!1!==P.emitEvent)}get(G){let P=G;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((te,Se)=>te&&te._find(Se),this)}getError(G,P){const te=P?this.get(P):this;return te&&te.errors?te.errors[G]:null}hasError(G,P){return!!this.getError(G,P)}get root(){let G=this;for(;G._parent;)G=G._parent;return G}_updateControlsErrors(G){this.status=this._calculateStatus(),G&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(G)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Yn:this.errors?Tn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gr)?gr:this._anyControlsHaveStatus(Tn)?Tn:Bt}_anyControlsHaveStatus(G){return this._anyControls(P=>P.status===G)}_anyControlsDirty(){return this._anyControls(G=>G.dirty)}_anyControlsTouched(){return this._anyControls(G=>G.touched)}_updatePristine(G={}){this.pristine=!this._anyControlsDirty(),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}_updateTouched(G={}){this.touched=this._anyControlsTouched(),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}_registerOnCollectionChange(G){this._onCollectionChange=G}_setUpdateStrategy(G){O(G)&&null!=G.updateOn&&(this._updateOn=G.updateOn)}_parentMarkedDirty(G){return!G&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(G){return null}_assignValidators(G){this._rawValidators=Array.isArray(G)?G.slice():G,this._composedValidatorFn=function Y(U){return Array.isArray(U)?an(U):U||null}(this._rawValidators)}_assignAsyncValidators(G){this._rawAsyncValidators=Array.isArray(G)?G.slice():G,this._composedAsyncValidatorFn=function x(U){return Array.isArray(U)?Sn(U):U||null}(this._rawAsyncValidators)}}class Pt extends gt{constructor(G,P,te){super(we(P),V(te,P)),this.controls=G,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(G,P){return this.controls[G]?this.controls[G]:(this.controls[G]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(G,P,te={}){this.registerControl(G,P),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(G,P={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(G,P,te={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],P&&this.registerControl(G,P),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(G){return this.controls.hasOwnProperty(G)&&this.controls[G].enabled}setValue(G,P={}){xe(this,0,G),Object.keys(G).forEach(te=>{ae(this,!0,te),this.controls[te].setValue(G[te],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(G,P={}){null!=G&&(Object.keys(G).forEach(te=>{const Se=this.controls[te];Se&&Se.patchValue(G[te],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(G={},P={}){this._forEachChild((te,Se)=>{te.reset(G?G[Se]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(G,P,te)=>(G[te]=P.getRawValue(),G))}_syncPendingControls(){let G=this._reduceChildren(!1,(P,te)=>!!te._syncPendingControls()||P);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){Object.keys(this.controls).forEach(P=>{const te=this.controls[P];te&&G(te,P)})}_setUpControls(){this._forEachChild(G=>{G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(G){for(const[P,te]of Object.entries(this.controls))if(this.contains(P)&&G(te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,te,Se)=>((te.enabled||this.disabled)&&(P[Se]=te.value),P))}_reduceChildren(G,P){let te=G;return this._forEachChild((Se,fn)=>{te=P(te,Se,fn)}),te}_allControlsDisabled(){for(const G of Object.keys(this.controls))if(this.controls[G].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(G){return this.controls.hasOwnProperty(G)?this.controls[G]:null}}class Qt extends Pt{}const vn=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Qn}),Qn="always";function ki(U,G){return[...G.path,U]}function Di(U,G,P=Qn){Fr(U,G),G.valueAccessor.writeValue(U.value),(U.disabled||"always"===P)&&G.valueAccessor.setDisabledState?.(U.disabled),function ut(U,G){G.valueAccessor.registerOnChange(P=>{U._pendingValue=P,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&Ct(U,G)})}(U,G),function en(U,G){const P=(te,Se)=>{G.valueAccessor.writeValue(te),Se&&G.viewToModelUpdate(te)};U.registerOnChange(P),G._registerOnDestroy(()=>{U._unregisterOnChange(P)})}(U,G),function Ze(U,G){G.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&Ct(U,G),"submit"!==U.updateOn&&U.markAsTouched()})}(U,G),function $i(U,G){if(G.valueAccessor.setDisabledState){const P=te=>{G.valueAccessor.setDisabledState(te)};U.registerOnDisabledChange(P),G._registerOnDestroy(()=>{U._unregisterOnDisabledChange(P)})}}(U,G)}function Gr(U,G,P=!0){const te=()=>{};G.valueAccessor&&(G.valueAccessor.registerOnChange(te),G.valueAccessor.registerOnTouched(te)),Wn(U,G),U&&(G._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function Xi(U,G){U.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(G)})}function Fr(U,G){const P=tr(U);null!==G.validator?U.setValidators(_n(P,G.validator)):"function"==typeof P&&U.setValidators([P]);const te=xt(U);null!==G.asyncValidator?U.setAsyncValidators(_n(te,G.asyncValidator)):"function"==typeof te&&U.setAsyncValidators([te]);const Se=()=>U.updateValueAndValidity();Xi(G._rawValidators,Se),Xi(G._rawAsyncValidators,Se)}function Wn(U,G){let P=!1;if(null!==U){if(null!==G.validator){const Se=tr(U);if(Array.isArray(Se)&&Se.length>0){const fn=Se.filter(kn=>kn!==G.validator);fn.length!==Se.length&&(P=!0,U.setValidators(fn))}}if(null!==G.asyncValidator){const Se=xt(U);if(Array.isArray(Se)&&Se.length>0){const fn=Se.filter(kn=>kn!==G.asyncValidator);fn.length!==Se.length&&(P=!0,U.setAsyncValidators(fn))}}}const te=()=>{};return Xi(G._rawValidators,te),Xi(G._rawAsyncValidators,te),P}function Ct(U,G){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),G.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function bn(U,G){Fr(U,G)}function lr(U,G){if(!U.hasOwnProperty("model"))return!1;const P=U.model;return!!P.isFirstChange()||!Object.is(G,P.currentValue)}function oi(U,G){U._syncPendingControls(),G.forEach(P=>{const te=P.control;"submit"===te.updateOn&&te._pendingChange&&(P.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}function Vo(U,G){if(!G)return null;let P,te,Se;return Array.isArray(G),G.forEach(fn=>{fn.constructor===ke?P=fn:function Lo(U){return Object.getPrototypeOf(U.constructor)===We}(fn)?te=fn:Se=fn}),Se||te||P||null}const eo={provide:tn,useExisting:(0,l.Gpc)(()=>mi)},si=(()=>Promise.resolve())();let mi=(()=>{class U extends tn{constructor(P,te,Se){super(),this.callSetDisabledState=Se,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Pt({},an(P),Sn(te))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){si.then(()=>{const te=this._findContainer(P.path);P.control=te.registerControl(P.name,P.control),Di(P.control,P,this.callSetDisabledState),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){si.then(()=>{const te=this._findContainer(P.path);te&&te.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){si.then(()=>{const te=this._findContainer(P.path),Se=new Pt({});bn(Se,P),te.registerControl(P.name,Se),Se.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){si.then(()=>{const te=this._findContainer(P.path);te&&te.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,te){si.then(()=>{this.form.get(P.path).setValue(te)})}setValue(P){this.control.setValue(P)}onSubmit(P){return this.submitted=!0,oi(this.form,this._directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(Qe,10),l.Y36(yt,10),l.Y36(vn,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(te,Se){1&te&&l.NdJ("submit",function(kn){return Se.onSubmit(kn)})("reset",function(){return Se.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([eo]),l.qOj]})}return U})();function rr(U,G){const P=U.indexOf(G);P>-1&&U.splice(P,1)}function So(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const mr=class extends gt{constructor(G=null,P,te){super(we(P),V(te,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(G),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),O(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=So(G)?G.value:G)}setValue(G,P={}){this.value=this._pendingValue=G,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(G,P={}){this.setValue(G,P)}reset(G=this.defaultValue,P={}){this._applyFormState(G),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(G){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(G){this._onChange.push(G)}_unregisterOnChange(G){rr(this._onChange,G)}registerOnDisabledChange(G){this._onDisabledChange.push(G)}_unregisterOnDisabledChange(G){rr(this._onDisabledChange,G)}_forEachChild(G){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(G){So(G)?(this.value=this._pendingValue=G.value,G.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=G}};let Ai=(()=>{class U extends tn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ki(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let P;return function(Se){return(P||(P=l.n5z(U)))(Se||U)}}();static#t=this.\u0275dir=l.lG2({type:U,features:[l.qOj]})}return U})();const yr={provide:sr,useExisting:(0,l.Gpc)(()=>zi)},Ir=(()=>Promise.resolve())();let zi=(()=>{class U extends sr{constructor(P,te,Se,fn,kn,Mi){super(),this._changeDetectorRef=kn,this.callSetDisabledState=Mi,this.control=new mr,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=P,this._setValidators(te),this._setAsyncValidators(Se),this.valueAccessor=Vo(0,fn)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const te=P.name.previousValue;this.formDirective.removeControl({name:te,path:this._getPath(te)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),lr(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Di(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){Ir.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const te=P.isDisabled.currentValue,Se=0!==te&&(0,l.VuI)(te);Ir.then(()=>{Se&&!this.control.disabled?this.control.disable():!Se&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?ki(P,this._parent):[P]}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(tn,9),l.Y36(Qe,10),l.Y36(yt,10),l.Y36(Rt,10),l.Y36(l.sBO,8),l.Y36(vn,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([yr]),l.qOj,l.TTD]})}return U})(),Eo=(()=>{class U{static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return U})(),Yr=(()=>{class U{static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({})}return U})();const Po=new l.OlP("NgModelWithFormControlWarning"),kr={provide:tn,useExisting:(0,l.Gpc)(()=>Yt)};let Yt=(()=>{class U extends tn{constructor(P,te,Se){super(),this.callSetDisabledState=Se,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(P),this._setAsyncValidators(te)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const te=this.form.get(P.path);return Di(te,P,this.callSetDisabledState),te.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),te}getControl(P){return this.form.get(P.path)}removeControl(P){Gr(P.control||null,P,!1),function Wr(U,G){const P=U.indexOf(G);P>-1&&U.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,te){this.form.get(P.path).setValue(te)}onSubmit(P){return this.submitted=!0,oi(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const te=P.control,Se=this.form.get(P.path);te!==Se&&(Gr(te||null,P),(U=>U instanceof mr)(Se)&&(Di(Se,P,this.callSetDisabledState),P.control=Se))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const te=this.form.get(P.path);bn(te,P),te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const te=this.form.get(P.path);te&&function Pn(U,G){return Wn(U,G)}(te,P)&&te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fr(this.form,this),this._oldForm&&Wn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(Qe,10),l.Y36(yt,10),l.Y36(vn,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(te,Se){1&te&&l.NdJ("submit",function(kn){return Se.onSubmit(kn)})("reset",function(){return Se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([kr]),l.qOj,l.TTD]})}return U})();const Ln={provide:tn,useExisting:(0,l.Gpc)(()=>Jn)};let Jn=(()=>{class U extends Ai{constructor(P,te,Se){super(),this.name=null,this._parent=P,this._setValidators(te),this._setAsyncValidators(Se)}_checkParentType(){qr(this._parent)}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(tn,13),l.Y36(Qe,10),l.Y36(yt,10))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([Ln]),l.qOj]})}return U})();const yi={provide:tn,useExisting:(0,l.Gpc)(()=>Ro)};let Ro=(()=>{class U extends tn{constructor(P,te,Se){super(),this.name=null,this._parent=P,this._setValidators(te),this._setAsyncValidators(Se)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ki(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){qr(this._parent)}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(tn,13),l.Y36(Qe,10),l.Y36(yt,10))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([yi]),l.qOj]})}return U})();function qr(U){return!(U instanceof Jn||U instanceof Yt||U instanceof Ro)}const ao={provide:sr,useExisting:(0,l.Gpc)(()=>wr)};let wr=(()=>{class U extends sr{set isDisabled(P){}static#e=this._ngModelWarningSentOnce=!1;constructor(P,te,Se,fn,kn){super(),this._ngModelWarningConfig=kn,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(te),this._setAsyncValidators(Se),this.valueAccessor=Vo(0,fn)}ngOnChanges(P){this._added||this._setUpControl(),lr(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return ki(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(te){return new(te||U)(l.Y36(tn,13),l.Y36(Qe,10),l.Y36(yt,10),l.Y36(Rt,10),l.Y36(Po,8))};static#n=this.\u0275dir=l.lG2({type:U,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([ao]),l.qOj,l.TTD]})}return U})(),Mt=(()=>{class U{constructor(){this._validator=se}ngOnChanges(P){if(this.inputName in P){const te=this.normalizeInput(P[this.inputName].currentValue);this._enabled=this.enabled(te),this._validator=this._enabled?this.createValidator(te):se,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(P){return null!=P}static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275dir=l.lG2({type:U,features:[l.TTD]})}return U})();const Hr={provide:Qe,useExisting:(0,l.Gpc)(()=>Zr),multi:!0};let Zr=(()=>{class U extends Mt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.VuI,this.createValidator=P=>xn}enabled(P){return P}static#e=this.\u0275fac=function(){let P;return function(Se){return(P||(P=l.n5z(U)))(Se||U)}}();static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(te,Se){2&te&&l.uIk("required",Se._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Hr]),l.qOj]})}return U})(),fo=(()=>{class U{static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({imports:[Yr]})}return U})();class Wo extends gt{constructor(G,P,te){super(we(P),V(te,P)),this.controls=G,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(G){return this.controls[this._adjustIndex(G)]}push(G,P={}){this.controls.push(G),this._registerControl(G),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(G,P,te={}){this.controls.splice(G,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:te.emitEvent})}removeAt(G,P={}){let te=this._adjustIndex(G);te<0&&(te=0),this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),this.controls.splice(te,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(G,P,te={}){let Se=this._adjustIndex(G);Se<0&&(Se=0),this.controls[Se]&&this.controls[Se]._registerOnCollectionChange(()=>{}),this.controls.splice(Se,1),P&&(this.controls.splice(Se,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(G,P={}){xe(this,0,G),G.forEach((te,Se)=>{ae(this,!1,Se),this.at(Se).setValue(te,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(G,P={}){null!=G&&(G.forEach((te,Se)=>{this.at(Se)&&this.at(Se).patchValue(te,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(G=[],P={}){this._forEachChild((te,Se)=>{te.reset(G[Se],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(G=>G.getRawValue())}clear(G={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:G.emitEvent}))}_adjustIndex(G){return G<0?G+this.length:G}_syncPendingControls(){let G=this.controls.reduce((P,te)=>!!te._syncPendingControls()||P,!1);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){this.controls.forEach((P,te)=>{G(P,te)})}_updateValue(){this.value=this.controls.filter(G=>G.enabled||this.disabled).map(G=>G.value)}_anyControls(G){return this.controls.some(P=>P.enabled&&G(P))}_setUpControls(){this._forEachChild(G=>this._registerControl(G))}_allControlsDisabled(){for(const G of this.controls)if(G.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(G){G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)}_find(G){return this.at(G)??null}}function vi(U){return!!U&&(void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn)}let hs=(()=>{class U{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new U;return P.useNonNullable=!0,P}group(P,te=null){const Se=this._reduceControls(P);let fn={};return vi(te)?fn=te:null!==te&&(fn.validators=te.validator,fn.asyncValidators=te.asyncValidator),new Pt(Se,fn)}record(P,te=null){const Se=this._reduceControls(P);return new Qt(Se,te)}control(P,te,Se){let fn={};return this.useNonNullable?(vi(te)?fn=te:(fn.validators=te,fn.asyncValidators=Se),new mr(P,{...fn,nonNullable:!0})):new mr(P,te,Se)}array(P,te,Se){const fn=P.map(kn=>this._createControl(kn));return new Wo(fn,te,Se)}_reduceControls(P){const te={};return Object.keys(P).forEach(Se=>{te[Se]=this._createControl(P[Se])}),te}_createControl(P){return P instanceof mr||P instanceof gt?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275prov=l.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),Cs=(()=>{class U{static withConfig(P){return{ngModule:U,providers:[{provide:vn,useValue:P.callSetDisabledState??Qn}]}}static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({imports:[fo]})}return U})(),ua=(()=>{class U{static withConfig(P){return{ngModule:U,providers:[{provide:Po,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:vn,useValue:P.callSetDisabledState??Qn}]}}static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({imports:[fo]})}return U})()},6593:(on,et,k)=>{k.d(et,{Dx:()=>sr,b2:()=>On,h_:()=>Nt,q6:()=>_n});var l=k(5879),y=k(6814);class z extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends z{static makeCurrent(){(0,y.HT)(new Ce)}onAndCancel(V,x,O){return V.addEventListener(x,O),()=>{V.removeEventListener(x,O)}}dispatchEvent(V,x){V.dispatchEvent(x)}remove(V){V.parentNode&&V.parentNode.removeChild(V)}createElement(V,x){return(x=x||this.getDefaultDocument()).createElement(V)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(V){return V.nodeType===Node.ELEMENT_NODE}isShadowRoot(V){return V instanceof DocumentFragment}getGlobalEventTarget(V,x){return"window"===x?window:"document"===x?V:"body"===x?V.body:null}getBaseHref(V){const x=function be(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==x?null:function Le(Y){je=je||document.createElement("a"),je.setAttribute("href",Y);const V=je.pathname;return"/"===V.charAt(0)?V:`/${V}`}(x)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(V){return(0,y.Mx)(document.cookie,V)}}let je,me=null,ie=(()=>{class Y{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(O){return new(O||Y)};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();const re=new l.OlP("EventManagerPlugins");let Re=(()=>{class Y{constructor(x,O){this._zone=O,this._eventNameToPlugin=new Map,x.forEach(ae=>{ae.manager=this}),this._plugins=x.slice().reverse()}addEventListener(x,O,ae){return this._findPluginFor(O).addEventListener(x,O,ae)}getZone(){return this._zone}_findPluginFor(x){let O=this._eventNameToPlugin.get(x);if(O)return O;if(O=this._plugins.find(xe=>xe.supports(x)),!O)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(x,O),O}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(re),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();class mt{constructor(V){this._doc=V}}const We="ng-app-id";let Rt=(()=>{class Y{constructor(x,O,ae,xe={}){this.doc=x,this.appId=O,this.nonce=ae,this.platformId=xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,y.PM)(xe),this.resetHostNodes()}addStyles(x){for(const O of x)1===this.changeUsageCount(O,1)&&this.onStyleAdded(O)}removeStyles(x){for(const O of x)this.changeUsageCount(O,-1)<=0&&this.onStyleRemoved(O)}ngOnDestroy(){const x=this.styleNodesInDOM;x&&(x.forEach(O=>O.remove()),x.clear());for(const O of this.getAllStyles())this.onStyleRemoved(O);this.resetHostNodes()}addHost(x){this.hostNodes.add(x);for(const O of this.getAllStyles())this.addStyleToHost(x,O)}removeHost(x){this.hostNodes.delete(x)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(x){for(const O of this.hostNodes)this.addStyleToHost(O,x)}onStyleRemoved(x){const O=this.styleRef;O.get(x)?.elements?.forEach(ae=>ae.remove()),O.delete(x)}collectServerRenderedStyles(){const x=this.doc.head?.querySelectorAll(`style[${We}="${this.appId}"]`);if(x?.length){const O=new Map;return x.forEach(ae=>{null!=ae.textContent&&O.set(ae.textContent,ae)}),O}return null}changeUsageCount(x,O){const ae=this.styleRef;if(ae.has(x)){const xe=ae.get(x);return xe.usage+=O,xe.usage}return ae.set(x,{usage:O,elements:[]}),O}getStyleElement(x,O){const ae=this.styleNodesInDOM,xe=ae?.get(O);if(xe?.parentNode===x)return ae.delete(O),xe.removeAttribute(We),xe;{const gt=this.doc.createElement("style");return this.nonce&&gt.setAttribute("nonce",this.nonce),gt.textContent=O,this.platformIsServer&&gt.setAttribute(We,this.appId),gt}}addStyleToHost(x,O){const ae=this.getStyleElement(x,O);x.appendChild(ae);const xe=this.styleRef,gt=xe.get(O)?.elements;gt?gt.push(ae):xe.set(O,{elements:[ae],usage:1})}resetHostNodes(){const x=this.hostNodes;x.clear(),x.add(this.doc.head)}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(y.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vt=/%COMP%/g,Xe=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function yt(Y,V){return V.map(x=>x.replace(Vt,Y))}let St=(()=>{class Y{constructor(x,O,ae,xe,gt,Pt,nn,Zt=null){this.eventManager=x,this.sharedStylesHost=O,this.appId=ae,this.removeStylesOnCompDestroy=xe,this.doc=gt,this.platformId=Pt,this.ngZone=nn,this.nonce=Zt,this.rendererByCompId=new Map,this.platformIsServer=(0,y.PM)(Pt),this.defaultRenderer=new ge(x,gt,nn,this.platformIsServer)}createRenderer(x,O){if(!x||!O)return this.defaultRenderer;this.platformIsServer&&O.encapsulation===l.ifc.ShadowDom&&(O={...O,encapsulation:l.ifc.Emulated});const ae=this.getOrCreateRenderer(x,O);return ae instanceof it?ae.applyToHost(x):ae instanceof Tt&&ae.applyStyles(),ae}getOrCreateRenderer(x,O){const ae=this.rendererByCompId;let xe=ae.get(O.id);if(!xe){const gt=this.doc,Pt=this.ngZone,nn=this.eventManager,Zt=this.sharedStylesHost,Qt=this.removeStylesOnCompDestroy,Gn=this.platformIsServer;switch(O.encapsulation){case l.ifc.Emulated:xe=new it(nn,Zt,O,this.appId,Qt,gt,Pt,Gn);break;case l.ifc.ShadowDom:return new $e(nn,Zt,x,O,gt,Pt,this.nonce,Gn);default:xe=new Tt(nn,Zt,O,Qt,gt,Pt,Gn)}ae.set(O.id,xe)}return xe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(Re),l.LFG(Rt),l.LFG(l.AFp),l.LFG(Xe),l.LFG(y.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();class ge{constructor(V,x,O,ae){this.eventManager=V,this.doc=x,this.ngZone=O,this.platformIsServer=ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(V,x){return x?this.doc.createElementNS(vt[x]||x,V):this.doc.createElement(V)}createComment(V){return this.doc.createComment(V)}createText(V){return this.doc.createTextNode(V)}appendChild(V,x){(xn(V)?V.content:V).appendChild(x)}insertBefore(V,x,O){V&&(xn(V)?V.content:V).insertBefore(x,O)}removeChild(V,x){V&&V.removeChild(x)}selectRootElement(V,x){let O="string"==typeof V?this.doc.querySelector(V):V;if(!O)throw new l.vHH(-5104,!1);return x||(O.textContent=""),O}parentNode(V){return V.parentNode}nextSibling(V){return V.nextSibling}setAttribute(V,x,O,ae){if(ae){x=ae+":"+x;const xe=vt[ae];xe?V.setAttributeNS(xe,x,O):V.setAttribute(x,O)}else V.setAttribute(x,O)}removeAttribute(V,x,O){if(O){const ae=vt[O];ae?V.removeAttributeNS(ae,x):V.removeAttribute(`${O}:${x}`)}else V.removeAttribute(x)}addClass(V,x){V.classList.add(x)}removeClass(V,x){V.classList.remove(x)}setStyle(V,x,O,ae){ae&(l.JOm.DashCase|l.JOm.Important)?V.style.setProperty(x,O,ae&l.JOm.Important?"important":""):V.style[x]=O}removeStyle(V,x,O){O&l.JOm.DashCase?V.style.removeProperty(x):V.style[x]=""}setProperty(V,x,O){V[x]=O}setValue(V,x){V.nodeValue=x}listen(V,x,O){if("string"==typeof V&&!(V=(0,y.q)().getGlobalEventTarget(this.doc,V)))throw new Error(`Unsupported event target ${V} for event ${x}`);return this.eventManager.addEventListener(V,x,this.decoratePreventDefault(O))}decoratePreventDefault(V){return x=>{if("__ngUnwrap__"===x)return V;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>V(x)):V(x))&&x.preventDefault()}}}function xn(Y){return"TEMPLATE"===Y.tagName&&void 0!==Y.content}class $e extends ge{constructor(V,x,O,ae,xe,gt,Pt,nn){super(V,xe,gt,nn),this.sharedStylesHost=x,this.hostEl=O,this.shadowRoot=O.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Zt=yt(ae.id,ae.styles);for(const Qt of Zt){const Gn=document.createElement("style");Pt&&Gn.setAttribute("nonce",Pt),Gn.textContent=Qt,this.shadowRoot.appendChild(Gn)}}nodeOrShadowRoot(V){return V===this.hostEl?this.shadowRoot:V}appendChild(V,x){return super.appendChild(this.nodeOrShadowRoot(V),x)}insertBefore(V,x,O){return super.insertBefore(this.nodeOrShadowRoot(V),x,O)}removeChild(V,x){return super.removeChild(this.nodeOrShadowRoot(V),x)}parentNode(V){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(V)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Tt extends ge{constructor(V,x,O,ae,xe,gt,Pt,nn){super(V,xe,gt,Pt),this.sharedStylesHost=x,this.removeStylesOnCompDestroy=ae,this.styles=nn?yt(nn,O.styles):O.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class it extends Tt{constructor(V,x,O,ae,xe,gt,Pt,nn){const Zt=ae+"-"+O.id;super(V,x,O,xe,gt,Pt,nn,Zt),this.contentAttr=function Ye(Y){return"_ngcontent-%COMP%".replace(Vt,Y)}(Zt),this.hostAttr=function Qe(Y){return"_nghost-%COMP%".replace(Vt,Y)}(Zt)}applyToHost(V){this.applyStyles(),this.setAttribute(V,this.hostAttr,"")}createElement(V,x){const O=super.createElement(V,x);return super.setAttribute(O,this.contentAttr,""),O}}let Pe=(()=>{class Y extends mt{constructor(x){super(x)}supports(x){return!0}addEventListener(x,O,ae){return x.addEventListener(O,ae,!1),()=>this.removeEventListener(x,O,ae)}removeEventListener(x,O,ae){return x.removeEventListener(O,ae)}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(y.K0))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();const le=["alt","control","meta","shift"],se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ae={alt:Y=>Y.altKey,control:Y=>Y.ctrlKey,meta:Y=>Y.metaKey,shift:Y=>Y.shiftKey};let Ge=(()=>{class Y extends mt{constructor(x){super(x)}supports(x){return null!=Y.parseEventName(x)}addEventListener(x,O,ae){const xe=Y.parseEventName(O),gt=Y.eventCallback(xe.fullKey,ae,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(x,xe.domEventName,gt))}static parseEventName(x){const O=x.toLowerCase().split("."),ae=O.shift();if(0===O.length||"keydown"!==ae&&"keyup"!==ae)return null;const xe=Y._normalizeKey(O.pop());let gt="",Pt=O.indexOf("code");if(Pt>-1&&(O.splice(Pt,1),gt="code."),le.forEach(Zt=>{const Qt=O.indexOf(Zt);Qt>-1&&(O.splice(Qt,1),gt+=Zt+".")}),gt+=xe,0!=O.length||0===xe.length)return null;const nn={};return nn.domEventName=ae,nn.fullKey=gt,nn}static matchEventFullKeyCode(x,O){let ae=se[x.key]||x.key,xe="";return O.indexOf("code.")>-1&&(ae=x.code,xe="code."),!(null==ae||!ae)&&(ae=ae.toLowerCase()," "===ae?ae="space":"."===ae&&(ae="dot"),le.forEach(gt=>{gt!==ae&&(0,Ae[gt])(x)&&(xe+=gt+".")}),xe+=ae,xe===O)}static eventCallback(x,O,ae){return xe=>{Y.matchEventFullKeyCode(xe,x)&&ae.runGuarded(()=>O(xe))}}static _normalizeKey(x){return"esc"===x?"escape":x}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(y.K0))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();const _n=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:y.bD},{provide:l.g9A,useValue:function It(){Ce.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function qt(){return(0,l.RDi)(document),document},deps:[]}]),tr=new l.OlP(""),xt=[{provide:l.rWj,useClass:class ze{addToWindow(V){l.dqk.getAngularTestability=(O,ae=!0)=>{const xe=V.findTestabilityInTree(O,ae);if(null==xe)throw new l.vHH(5103,!1);return xe},l.dqk.getAllAngularTestabilities=()=>V.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>V.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(O=>{const ae=l.dqk.getAllAngularTestabilities();let xe=ae.length,gt=!1;const Pt=function(nn){gt=gt||nn,xe--,0==xe&&O(gt)};ae.forEach(nn=>{nn.whenStable(Pt)})})}findTestabilityInTree(V,x,O){return null==x?null:V.getTestability(x)??(O?(0,y.q)().isShadowRoot(x)?this.findTestabilityInTree(V,x.host,!0):this.findTestabilityInTree(V,x.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],En=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function an(){return new l.qLn},deps:[]},{provide:re,useClass:Pe,multi:!0,deps:[y.K0,l.R0b,l.Lbi]},{provide:re,useClass:Ge,multi:!0,deps:[y.K0]},St,Rt,Re,{provide:l.FYo,useExisting:St},{provide:y.JF,useClass:ie,deps:[]},[]];let On=(()=>{class Y{constructor(x){}static withServerTransition(x){return{ngModule:Y,providers:[{provide:l.AFp,useValue:x.appId}]}}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(tr,12))};static#t=this.\u0275mod=l.oAB({type:Y});static#n=this.\u0275inj=l.cJS({providers:[...En,...xt],imports:[y.ez,l.hGG]})}return Y})(),Nt=(()=>{class Y{constructor(x){this._doc=x,this._dom=(0,y.q)()}addTag(x,O=!1){return x?this._getOrCreateElement(x,O):null}addTags(x,O=!1){return x?x.reduce((ae,xe)=>(xe&&ae.push(this._getOrCreateElement(xe,O)),ae),[]):[]}getTag(x){return x&&this._doc.querySelector(`meta[${x}]`)||null}getTags(x){if(!x)return[];const O=this._doc.querySelectorAll(`meta[${x}]`);return O?[].slice.call(O):[]}updateTag(x,O){if(!x)return null;O=O||this._parseSelector(x);const ae=this.getTag(O);return ae?this._setMetaElementAttributes(x,ae):this._getOrCreateElement(x,!0)}removeTag(x){this.removeTagElement(this.getTag(x))}removeTagElement(x){x&&this._dom.remove(x)}_getOrCreateElement(x,O=!1){if(!O){const gt=this._parseSelector(x),Pt=this.getTags(gt).filter(nn=>this._containsAttributes(x,nn))[0];if(void 0!==Pt)return Pt}const ae=this._dom.createElement("meta");return this._setMetaElementAttributes(x,ae),this._doc.getElementsByTagName("head")[0].appendChild(ae),ae}_setMetaElementAttributes(x,O){return Object.keys(x).forEach(ae=>O.setAttribute(this._getMetaKeyMap(ae),x[ae])),O}_parseSelector(x){const O=x.name?"name":"property";return`${O}="${x[O]}"`}_containsAttributes(x,O){return Object.keys(x).every(ae=>O.getAttribute(this._getMetaKeyMap(ae))===x[ae])}_getMetaKeyMap(x){return Dr[x]||x}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(y.K0))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:function(O){let ae=null;return ae=O?new O:function Ut(){return new Nt((0,l.LFG)(y.K0))}(),ae},providedIn:"root"})}return Y})();const Dr={httpEquiv:"http-equiv"};let sr=(()=>{class Y{constructor(x){this._doc=x}getTitle(){return this._doc.title}setTitle(x){this._doc.title=x||""}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(y.K0))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:function(O){let ae=null;return ae=O?new O:function tn(){return new sr((0,l.LFG)(y.K0))}(),ae},providedIn:"root"})}return Y})();typeof window<"u"&&window},518:(on,et,k)=>{k.d(et,{gz:()=>Jn,F0:()=>ri,rH:()=>ou,Bz:()=>Gu,lC:()=>Vi});var l=k(5879),y=k(5592),z=k(4674),me=k(2459),be=k(2096),je=k(5619),Le=k(7453),ze=k(2737),ie=k(7400),re=k(4564),Re=k(2714),mt=k(8251),We=k(7103);function Rt(...C){const A=(0,re.yG)(C),E=(0,re.jO)(C),{args:S,keys:F}=(0,Le.D)(C);if(0===S.length)return(0,me.D)([],A);const Q=new y.y(function vt(C,A,E=ze.y){return S=>{Vt(A,()=>{const{length:F}=C,Q=new Array(F);let pe=F,ct=F;for(let at=0;at<F;at++)Vt(A,()=>{const ln=(0,me.D)(C[at],A);let er=!1;ln.subscribe((0,mt.x)(S,ar=>{Q[at]=ar,er||(er=!0,ct--),ct||S.next(E(Q.slice()))},()=>{--pe||S.complete()}))},S)},S)}}(S,A,F?pe=>(0,Re.n)(F,pe):ze.y));return E?Q.pipe((0,ie.Z)(E)):Q}function Vt(C,A,E){C?(0,We.f)(E,C,A):A()}var bt=k(6973),sn=k(5211),qe=k(4829);function ke(C){return new y.y(A=>{(0,qe.Xf)(C()).subscribe(A)})}var Xe=k(8407);function Ye(C,A){const E=(0,z.m)(C)?C:()=>C,S=F=>F.error(E());return new y.y(A?F=>A.schedule(S,0,F):S)}var Qe=k(6232),yt=k(7394),St=k(9360);function ge(){return(0,St.e)((C,A)=>{let E=null;C._refCount++;const S=(0,mt.x)(A,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(E=null);const F=C._connection,Q=E;E=null,F&&(!Q||F===Q)&&F.unsubscribe(),A.unsubscribe()});C.subscribe(S),S.closed||(E=C.connect())})}class Ht extends y.y{constructor(A,E){super(),this.source=A,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,St.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new yt.w0;const E=this.getSubject();A.add(this.source.subscribe((0,mt.x)(E,void 0,()=>{this._teardown(),E.complete()},S=>{this._teardown(),E.error(S)},()=>this._teardown()))),A.closed&&(this._connection=null,A=yt.w0.EMPTY)}return A}refCount(){return ge()(this)}}var Jt=k(8645),xn=k(6814),$e=k(7398),Tt=k(4664),it=k(8180),Pe=k(7921),le=k(2181),se=k(1631),Ae=k(1374),Ge=k(6328),ve=k(9397),Ie=k(6306),Fe=k(6699),Et=k(3572);function It(C){return C<=0?()=>Qe.E:(0,St.e)((A,E)=>{let S=[];A.subscribe((0,mt.x)(E,F=>{S.push(F),C<S.length&&S.shift()},()=>{for(const F of S)E.next(F);E.complete()},void 0,()=>{S=null}))})}var an=k(3026),_n=k(4716),tr=k(2420),En=k(7537),On=k(6593);const Ut="primary",Nt=Symbol("RouteTitle");class Dr{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E[0]:E}return null}getAll(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function tn(C){return new Dr(C)}function sr(C,A,E){const S=E.path.split("/");if(S.length>C.length||"full"===E.pathMatch&&(A.hasChildren()||S.length<C.length))return null;const F={};for(let Q=0;Q<S.length;Q++){const pe=S[Q],ct=C[Q];if(pe.startsWith(":"))F[pe.substring(1)]=ct;else if(pe!==ct.path)return null}return{consumed:C.slice(0,S.length),posParams:F}}function Ot(C,A){const E=C?Object.keys(C):void 0,S=A?Object.keys(A):void 0;if(!E||!S||E.length!=S.length)return!1;let F;for(let Q=0;Q<E.length;Q++)if(F=E[Q],!cn(C[F],A[F]))return!1;return!0}function cn(C,A){if(Array.isArray(C)&&Array.isArray(A)){if(C.length!==A.length)return!1;const E=[...C].sort(),S=[...A].sort();return E.every((F,Q)=>S[Q]===F)}return C===A}function Cn(C){return C.length>0?C[C.length-1]:null}function gn(C){return function Ce(C){return!!C&&(C instanceof y.y||(0,z.m)(C.lift)&&(0,z.m)(C.subscribe))}(C)?C:(0,l.QGY)(C)?(0,me.D)(Promise.resolve(C)):(0,be.of)(C)}const ir={exact:function Or(C,A,E){if(!pt(C.segments,A.segments)||!$n(C.segments,A.segments,E)||C.numberOfChildren!==A.numberOfChildren)return!1;for(const S in A.children)if(!C.children[S]||!Or(C.children[S],A.children[S],E))return!1;return!0},subset:Xt},cr={exact:function Mn(C,A){return Ot(C,A)},subset:function Ci(C,A){return Object.keys(A).length<=Object.keys(C).length&&Object.keys(A).every(E=>cn(C[E],A[E]))},ignored:()=>!0};function xr(C,A,E){return ir[E.paths](C.root,A.root,E.matrixParams)&&cr[E.queryParams](C.queryParams,A.queryParams)&&!("exact"===E.fragment&&C.fragment!==A.fragment)}function Xt(C,A,E){return Nr(C,A,A.segments,E)}function Nr(C,A,E,S){if(C.segments.length>E.length){const F=C.segments.slice(0,E.length);return!(!pt(F,E)||A.hasChildren()||!$n(F,E,S))}if(C.segments.length===E.length){if(!pt(C.segments,E)||!$n(C.segments,E,S))return!1;for(const F in A.children)if(!C.children[F]||!Xt(C.children[F],A.children[F],S))return!1;return!0}{const F=E.slice(0,C.segments.length),Q=E.slice(C.segments.length);return!!(pt(C.segments,F)&&$n(C.segments,F,S)&&C.children[Ut])&&Nr(C.children[Ut],A,Q,S)}}function $n(C,A,E){return A.every((S,F)=>cr[E](C[F].parameters,S.parameters))}class nr{constructor(A=new Dn([],{}),E={},S=null){this.root=A,this.queryParams=E,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return Bt.serialize(this)}}class Dn{constructor(A,E){this.segments=A,this.children=E,this.parent=null,Object.values(E).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tn(this)}}class di{constructor(A,E){this.path=A,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=tn(this.parameters)),this._parameterMap}toString(){return ae(this)}}function pt(C,A){return C.length===A.length&&C.every((E,S)=>E.path===A[S].path)}let ye=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return new ft},providedIn:"root"})}return C})();class ft{parse(A){const E=new Di(A);return new nr(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(A){const E=`/${gr(A.root,!0)}`,S=function gt(C){const A=Object.keys(C).map(E=>{const S=C[E];return Array.isArray(S)?S.map(F=>`${we(E)}=${we(F)}`).join("&"):`${we(E)}=${we(S)}`}).filter(E=>!!E);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${E}${S}${"string"==typeof A.fragment?`#${function Y(C){return encodeURI(C)}(A.fragment)}`:""}`}}const Bt=new ft;function Tn(C){return C.segments.map(A=>ae(A)).join("/")}function gr(C,A){if(!C.hasChildren())return Tn(C);if(A){const E=C.children[Ut]?gr(C.children[Ut],!1):"",S=[];return Object.entries(C.children).forEach(([F,Q])=>{F!==Ut&&S.push(`${F}:${gr(Q,!1)}`)}),S.length>0?`${E}(${S.join("//")})`:E}{const E=function J(C,A){let E=[];return Object.entries(C.children).forEach(([S,F])=>{S===Ut&&(E=E.concat(A(F,S)))}),Object.entries(C.children).forEach(([S,F])=>{S!==Ut&&(E=E.concat(A(F,S)))}),E}(C,(S,F)=>F===Ut?[gr(C.children[Ut],!1)]:[`${F}:${gr(S,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Ut]?`${Tn(C)}/${E[0]}`:`${Tn(C)}/(${E.join("//")})`}}function Yn(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function we(C){return Yn(C).replace(/%3B/gi,";")}function V(C){return Yn(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function x(C){return decodeURIComponent(C)}function O(C){return x(C.replace(/\+/g,"%20"))}function ae(C){return`${V(C.path)}${function xe(C){return Object.keys(C).map(A=>`;${V(A)}=${V(C[A])}`).join("")}(C.parameters)}`}const Pt=/^[^\/()?;#]+/;function nn(C){const A=C.match(Pt);return A?A[0]:""}const Zt=/^[^\/()?;=#]+/,Gn=/^[^=?&#]+/,Qn=/^[^&#]+/;class Di{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(A.length>0||Object.keys(E).length>0)&&(S[Ut]=new Dn(A,E)),S}parseSegment(){const A=nn(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(A),new di(x(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const E=function Qt(C){const A=C.match(Zt);return A?A[0]:""}(this.remaining);if(!E)return;this.capture(E);let S="";if(this.consumeOptional("=")){const F=nn(this.remaining);F&&(S=F,this.capture(S))}A[x(E)]=x(S)}parseQueryParam(A){const E=function vn(C){const A=C.match(Gn);return A?A[0]:""}(this.remaining);if(!E)return;this.capture(E);let S="";if(this.consumeOptional("=")){const pe=function ki(C){const A=C.match(Qn);return A?A[0]:""}(this.remaining);pe&&(S=pe,this.capture(S))}const F=O(E),Q=O(S);if(A.hasOwnProperty(F)){let pe=A[F];Array.isArray(pe)||(pe=[pe],A[F]=pe),pe.push(Q)}else A[F]=Q}parseParens(A){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=nn(this.remaining),F=this.remaining[S.length];if("/"!==F&&")"!==F&&";"!==F)throw new l.vHH(4010,!1);let Q;S.indexOf(":")>-1?(Q=S.slice(0,S.indexOf(":")),this.capture(Q),this.capture(":")):A&&(Q=Ut);const pe=this.parseChildren();E[Q]=1===Object.keys(pe).length?pe[Ut]:new Dn([],pe),this.consumeOptional("//")}return E}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new l.vHH(4011,!1)}}function Gr(C){return C.segments.length>0?new Dn([],{[Ut]:C}):C}function Xi(C){const A={};for(const S of Object.keys(C.children)){const Q=Xi(C.children[S]);if(S===Ut&&0===Q.segments.length&&Q.hasChildren())for(const[pe,ct]of Object.entries(Q.children))A[pe]=ct;else(Q.segments.length>0||Q.hasChildren())&&(A[S]=Q)}return function $i(C){if(1===C.numberOfChildren&&C.children[Ut]){const A=C.children[Ut];return new Dn(C.segments.concat(A.segments),A.children)}return C}(new Dn(C.segments,A))}function Fr(C){return C instanceof nr}function ut(C){let A;const F=Gr(function E(Q){const pe={};for(const at of Q.children){const ln=E(at);pe[at.outlet]=ln}const ct=new Dn(Q.url,pe);return Q===C&&(A=ct),ct}(C.root));return A??F}function Ze(C,A,E,S){let F=C;for(;F.parent;)F=F.parent;if(0===A.length)return bn(F,F,F,E,S);const Q=function Er(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new dn(!0,0,C);let A=0,E=!1;const S=C.reduce((F,Q,pe)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const ct={};return Object.entries(Q.outlets).forEach(([at,ln])=>{ct[at]="string"==typeof ln?ln.split("/"):ln}),[...F,{outlets:ct}]}if(Q.segmentPath)return[...F,Q.segmentPath]}return"string"!=typeof Q?[...F,Q]:0===pe?(Q.split("/").forEach((ct,at)=>{0==at&&"."===ct||(0==at&&""===ct?E=!0:".."===ct?A++:""!=ct&&F.push(ct))}),F):[...F,Q]},[]);return new dn(E,A,S)}(A);if(Q.toRoot())return bn(F,F,new Dn([],{}),E,S);const pe=function ci(C,A,E){if(C.isAbsolute)return new fr(A,!0,0);if(!E)return new fr(A,!1,NaN);if(null===E.parent)return new fr(E,!0,0);const S=Ct(C.commands[0])?0:1;return function ho(C,A,E){let S=C,F=A,Q=E;for(;Q>F;){if(Q-=F,S=S.parent,!S)throw new l.vHH(4005,!1);F=S.segments.length}return new fr(S,!1,F-Q)}(E,E.segments.length-1+S,C.numberOfDoubleDots)}(Q,F,C),ct=pe.processChildren?oi(pe.segmentGroup,pe.index,Q.commands):Lo(pe.segmentGroup,pe.index,Q.commands);return bn(F,pe.segmentGroup,ct,E,S)}function Ct(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function en(C){return"object"==typeof C&&null!=C&&C.outlets}function bn(C,A,E,S,F){let pe,Q={};S&&Object.entries(S).forEach(([at,ln])=>{Q[at]=Array.isArray(ln)?ln.map(er=>`${er}`):`${ln}`}),pe=C===A?E:Pn(C,A,E);const ct=Gr(Xi(pe));return new nr(ct,Q,F)}function Pn(C,A,E){const S={};return Object.entries(C.children).forEach(([F,Q])=>{S[F]=Q===A?E:Pn(Q,A,E)}),new Dn(C.segments,S)}class dn{constructor(A,E,S){if(this.isAbsolute=A,this.numberOfDoubleDots=E,this.commands=S,A&&S.length>0&&Ct(S[0]))throw new l.vHH(4003,!1);const F=S.find(en);if(F&&F!==Cn(S))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fr{constructor(A,E,S){this.segmentGroup=A,this.processChildren=E,this.index=S}}function Lo(C,A,E){if(C||(C=new Dn([],{})),0===C.segments.length&&C.hasChildren())return oi(C,A,E);const S=function Vo(C,A,E){let S=0,F=A;const Q={match:!1,pathIndex:0,commandIndex:0};for(;F<C.segments.length;){if(S>=E.length)return Q;const pe=C.segments[F],ct=E[S];if(en(ct))break;const at=`${ct}`,ln=S<E.length-1?E[S+1]:null;if(F>0&&void 0===at)break;if(at&&ln&&"object"==typeof ln&&void 0===ln.outlets){if(!si(at,ln,pe))return Q;S+=2}else{if(!si(at,{},pe))return Q;S++}F++}return{match:!0,pathIndex:F,commandIndex:S}}(C,A,E),F=E.slice(S.commandIndex);if(S.match&&S.pathIndex<C.segments.length){const Q=new Dn(C.segments.slice(0,S.pathIndex),{});return Q.children[Ut]=new Dn(C.segments.slice(S.pathIndex),C.children),oi(Q,0,F)}return S.match&&0===F.length?new Dn(C.segments,{}):S.match&&!C.hasChildren()?Wr(C,A,E):S.match?oi(C,0,F):Wr(C,A,E)}function oi(C,A,E){if(0===E.length)return new Dn(C.segments,{});{const S=function lr(C){return en(C[0])?C[0].outlets:{[Ut]:C}}(E),F={};if(Object.keys(S).some(Q=>Q!==Ut)&&C.children[Ut]&&1===C.numberOfChildren&&0===C.children[Ut].segments.length){const Q=oi(C.children[Ut],A,E);return new Dn(C.segments,Q.children)}return Object.entries(S).forEach(([Q,pe])=>{"string"==typeof pe&&(pe=[pe]),null!==pe&&(F[Q]=Lo(C.children[Q],A,pe))}),Object.entries(C.children).forEach(([Q,pe])=>{void 0===S[Q]&&(F[Q]=pe)}),new Dn(C.segments,F)}}function Wr(C,A,E){const S=C.segments.slice(0,A);let F=0;for(;F<E.length;){const Q=E[F];if(en(Q)){const at=vs(Q.outlets);return new Dn(S,at)}if(0===F&&Ct(E[0])){S.push(new di(C.segments[A].path,eo(E[0]))),F++;continue}const pe=en(Q)?Q.outlets[Ut]:`${Q}`,ct=F<E.length-1?E[F+1]:null;pe&&ct&&Ct(ct)?(S.push(new di(pe,eo(ct))),F+=2):(S.push(new di(pe,{})),F++)}return new Dn(S,{})}function vs(C){const A={};return Object.entries(C).forEach(([E,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(A[E]=Wr(new Dn([],{}),0,S))}),A}function eo(C){const A={};return Object.entries(C).forEach(([E,S])=>A[E]=`${S}`),A}function si(C,A,E){return C==E.path&&Ot(A,E.parameters)}const mi="imperative";class rr{constructor(A,E){this.id=A,this.url=E}}class So extends rr{constructor(A,E,S="imperative",F=null){super(A,E),this.type=0,this.navigationTrigger=S,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mr extends rr{constructor(A,E,S){super(A,E),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _r extends rr{constructor(A,E,S,F){super(A,E),this.reason=S,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vo extends rr{constructor(A,E,S,F){super(A,E),this.reason=S,this.code=F,this.type=16}}class Ai extends rr{constructor(A,E,S,F){super(A,E),this.error=S,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _i extends rr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fi extends rr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ds extends rr{constructor(A,E,S,F,Q){super(A,E),this.urlAfterRedirects=S,this.state=F,this.shouldActivate=Q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class li extends rr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fs extends rr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yr{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ir{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zi{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eo{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class to{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(A,E,S){this.routerEvent=A,this.position=E,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nn{}class $r{constructor(A){this.url=A}}class Si{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cr,this.attachRef=null}}let Cr=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(E,S){const F=this.getOrCreateContext(E);F.outlet=S,this.contexts.set(E,F)}onChildOutletDestroyed(E){const S=this.getContext(E);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let S=this.getContext(E);return S||(S=new Si,this.contexts.set(E,S)),S}getContext(E){return this.contexts.get(E)||null}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Io{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const E=this.pathFromRoot(A);return E.length>1?E[E.length-2]:null}children(A){const E=Gi(A,this._root);return E?E.children.map(S=>S.value):[]}firstChild(A){const E=Gi(A,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(A){const E=Po(A,this._root);return E.length<2?[]:E[E.length-2].children.map(F=>F.value).filter(F=>F!==A)}pathFromRoot(A){return Po(A,this._root).map(E=>E.value)}}function Gi(C,A){if(C===A.value)return A;for(const E of A.children){const S=Gi(C,E);if(S)return S}return null}function Po(C,A){if(C===A.value)return[A];for(const E of A.children){const S=Po(C,E);if(S.length)return S.unshift(A),S}return[]}class wi{constructor(A,E){this.value=A,this.children=E}toString(){return`TreeNode(${this.value})`}}function Li(C){const A={};return C&&C.children.forEach(E=>A[E.value.outlet]=E),A}class kr extends Io{constructor(A,E){super(A),this.snapshot=E,wr(this,A)}toString(){return this.snapshot.toString()}}function Yt(C,A){const E=function Ln(C,A){const pe=new qr([],{},{},"",{},Ut,A,null,{});return new ao("",new wi(pe,[]))}(0,A),S=new je.X([new di("",{})]),F=new je.X({}),Q=new je.X({}),pe=new je.X({}),ct=new je.X(""),at=new Jn(S,F,pe,ct,Q,Ut,A,E.root);return at.snapshot=E.root,new kr(new wi(at,[]),E)}class Jn{constructor(A,E,S,F,Q,pe,ct,at){this.urlSubject=A,this.paramsSubject=E,this.queryParamsSubject=S,this.fragmentSubject=F,this.dataSubject=Q,this.outlet=pe,this.component=ct,this._futureSnapshot=at,this.title=this.dataSubject?.pipe((0,$e.U)(ln=>ln[Nt]))??(0,be.of)(void 0),this.url=A,this.params=E,this.queryParams=S,this.fragment=F,this.data=Q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$e.U)(A=>tn(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$e.U)(A=>tn(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yi(C,A="emptyOnly"){const E=C.pathFromRoot;let S=0;if("always"!==A)for(S=E.length-1;S>=1;){const F=E[S],Q=E[S-1];if(F.routeConfig&&""===F.routeConfig.path)S--;else{if(Q.component)break;S--}}return function Ro(C){return C.reduce((A,E)=>({params:{...A.params,...E.params},data:{...A.data,...E.data},resolve:{...E.data,...A.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(S))}class qr{get title(){return this.data?.[Nt]}constructor(A,E,S,F,Q,pe,ct,at,ln){this.url=A,this.params=E,this.queryParams=S,this.fragment=F,this.data=Q,this.outlet=pe,this.component=ct,this.routeConfig=at,this._resolve=ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ao extends Io{constructor(A,E){super(E),this.url=A,wr(this,E)}toString(){return Wi(this._root)}}function wr(C,A){A.value._routerState=C,A.children.forEach(E=>wr(C,E))}function Wi(C){const A=C.children.length>0?` { ${C.children.map(Wi).join(", ")} } `:"";return`${C.value}${A}`}function qi(C){if(C.snapshot){const A=C.snapshot,E=C._futureSnapshot;C.snapshot=E,Ot(A.queryParams,E.queryParams)||C.queryParamsSubject.next(E.queryParams),A.fragment!==E.fragment&&C.fragmentSubject.next(E.fragment),Ot(A.params,E.params)||C.paramsSubject.next(E.params),function Fn(C,A){if(C.length!==A.length)return!1;for(let E=0;E<C.length;++E)if(!Ot(C[E],A[E]))return!1;return!0}(A.url,E.url)||C.urlSubject.next(E.url),Ot(A.data,E.data)||C.dataSubject.next(E.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function Vn(C,A){const E=Ot(C.params,A.params)&&function Be(C,A){return pt(C,A)&&C.every((E,S)=>Ot(E.parameters,A[S].parameters))}(C.url,A.url);return E&&!(!C.parent!=!A.parent)&&(!C.parent||Vn(C.parent,A.parent))}let Vi=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ut,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Cr),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(q,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:S,previousValue:F}=E.name;if(S)return;this.isTrackedInParentContexts(F)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(F)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,S){this.activated=E,this._activatedRoute=S,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,S){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=E;const F=this.location,pe=E.snapshot.component,ct=this.parentContexts.getOrCreateContext(this.name).children,at=new Qr(E,ct,F.injector);this.activated=F.createComponent(pe,{index:F.length,injector:at,environmentInjector:S??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]})}return C})();class Qr{constructor(A,E,S){this.route=A,this.childContexts=E,this.parent=S}get(A,E){return A===Jn?this.route:A===Cr?this.childContexts:this.parent.get(A,E)}}const q=new l.OlP("");let j=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:S}=E,F=Rt([S.queryParams,S.params,S.data]).pipe((0,Tt.w)(([Q,pe,ct],at)=>(ct={...Q,...pe,...ct},0===at?(0,be.of)(ct):Promise.resolve(ct)))).subscribe(Q=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(E);const pe=(0,l.qFp)(S.component);if(pe)for(const{templateName:ct}of pe.inputs)E.activatedComponentRef.setInput(ct,Q[ct]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,F)}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac})}return C})();function Ee(C,A,E){if(E&&C.shouldReuseRoute(A.value,E.value.snapshot)){const S=E.value;S._futureSnapshot=A.value;const F=function He(C,A,E){return A.children.map(S=>{for(const F of E.children)if(C.shouldReuseRoute(S.value,F.value.snapshot))return Ee(C,S,F);return Ee(C,S)})}(C,A,E);return new wi(S,F)}{if(C.shouldAttach(A.value)){const Q=C.retrieve(A.value);if(null!==Q){const pe=Q.route;return pe.value._futureSnapshot=A.value,pe.children=A.children.map(ct=>Ee(C,ct)),pe}}const S=function _t(C){return new Jn(new je.X(C.url),new je.X(C.params),new je.X(C.queryParams),new je.X(C.fragment),new je.X(C.data),C.outlet,C.component,C)}(A.value),F=A.children.map(Q=>Ee(C,Q));return new wi(S,F)}}const Gt="ngNavigationCancelingError";function hn(C,A){const{redirectTo:E,navigationBehaviorOptions:S}=Fr(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,F=Mt(!1,0,A);return F.url=E,F.navigationBehaviorOptions=S,F}function Mt(C,A,E){const S=new Error("NavigationCancelingError: "+(C||""));return S[Gt]=!0,S.cancellationCode=A,E&&(S.url=E),S}function Zn(C){return C&&C[Gt]}let wn=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275cmp=l.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(S,F){1&S&&l._UZ(0,"router-outlet")},dependencies:[Vi],encapsulation:2})}return C})();function zr(C){const A=C.children&&C.children.map(zr),E=A?{...C,children:A}:{...C};return!E.component&&!E.loadComponent&&(A||E.loadChildren)&&E.outlet&&E.outlet!==Ut&&(E.component=wn),E}function Tr(C){return C.outlet||Ut}function Ri(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let A=C.parent;A;A=A.parent){const E=A.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Ls{constructor(A,E,S,F,Q){this.routeReuseStrategy=A,this.futureState=E,this.currState=S,this.forwardEvent=F,this.inputBindingEnabled=Q}activate(A){const E=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,S,A),qi(this.futureState.root),this.activateChildRoutes(E,S,A)}deactivateChildRoutes(A,E,S){const F=Li(E);A.children.forEach(Q=>{const pe=Q.value.outlet;this.deactivateRoutes(Q,F[pe],S),delete F[pe]}),Object.values(F).forEach(Q=>{this.deactivateRouteAndItsChildren(Q,S)})}deactivateRoutes(A,E,S){const F=A.value,Q=E?E.value:null;if(F===Q)if(F.component){const pe=S.getContext(F.outlet);pe&&this.deactivateChildRoutes(A,E,pe.children)}else this.deactivateChildRoutes(A,E,S);else Q&&this.deactivateRouteAndItsChildren(E,S)}deactivateRouteAndItsChildren(A,E){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,E):this.deactivateRouteAndOutlet(A,E)}detachAndStoreRouteSubtree(A,E){const S=E.getContext(A.value.outlet),F=S&&A.value.component?S.children:E,Q=Li(A);for(const pe of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[pe],F);if(S&&S.outlet){const pe=S.outlet.detach(),ct=S.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:pe,route:A,contexts:ct})}}deactivateRouteAndOutlet(A,E){const S=E.getContext(A.value.outlet),F=S&&A.value.component?S.children:E,Q=Li(A);for(const pe of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[pe],F);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(A,E,S){const F=Li(E);A.children.forEach(Q=>{this.activateRoutes(Q,F[Q.value.outlet],S),this.forwardEvent(new to(Q.value.snapshot))}),A.children.length&&this.forwardEvent(new zi(A.value.snapshot))}activateRoutes(A,E,S){const F=A.value,Q=E?E.value:null;if(qi(F),F===Q)if(F.component){const pe=S.getOrCreateContext(F.outlet);this.activateChildRoutes(A,E,pe.children)}else this.activateChildRoutes(A,E,S);else if(F.component){const pe=S.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const ct=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),pe.children.onOutletReAttached(ct.contexts),pe.attachRef=ct.componentRef,pe.route=ct.route.value,pe.outlet&&pe.outlet.attach(ct.componentRef,ct.route.value),qi(ct.route.value),this.activateChildRoutes(A,null,pe.children)}else{const ct=Ri(F.snapshot);pe.attachRef=null,pe.route=F,pe.injector=ct,pe.outlet&&pe.outlet.activateWith(F,pe.injector),this.activateChildRoutes(A,null,pe.children)}}else this.activateChildRoutes(A,null,S)}}class fo{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Wo{constructor(A,E){this.component=A,this.route=E}}function aa(C,A,E){const S=C._root;return hs(S,A?A._root:null,E,[S.value])}function vi(C,A){const E=Symbol(),S=A.get(C,E);return S===E?"function"!=typeof C||(0,l.Z0I)(C)?A.get(C):C:S}function hs(C,A,E,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const Q=Li(A);return C.children.forEach(pe=>{(function fs(C,A,E,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const Q=C.value,pe=A?A.value:null,ct=E?E.getContext(C.value.outlet):null;if(pe&&Q.routeConfig===pe.routeConfig){const at=function Pa(C,A,E){if("function"==typeof E)return E(C,A);switch(E){case"pathParamsChange":return!pt(C.url,A.url);case"pathParamsOrQueryParamsChange":return!pt(C.url,A.url)||!Ot(C.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vn(C,A)||!Ot(C.queryParams,A.queryParams);default:return!Vn(C,A)}}(pe,Q,Q.routeConfig.runGuardsAndResolvers);at?F.canActivateChecks.push(new fo(S)):(Q.data=pe.data,Q._resolvedData=pe._resolvedData),hs(C,A,Q.component?ct?ct.children:null:E,S,F),at&&ct&&ct.outlet&&ct.outlet.isActivated&&F.canDeactivateChecks.push(new Wo(ct.outlet.component,pe))}else pe&&Ar(A,ct,F),F.canActivateChecks.push(new fo(S)),hs(C,null,Q.component?ct?ct.children:null:E,S,F)})(pe,Q[pe.value.outlet],E,S.concat([pe.value]),F),delete Q[pe.value.outlet]}),Object.entries(Q).forEach(([pe,ct])=>Ar(ct,E.getContext(pe),F)),F}function Ar(C,A,E){const S=Li(C),F=C.value;Object.entries(S).forEach(([Q,pe])=>{Ar(pe,F.component?A?A.children.getContext(Q):null:A,E)}),E.canDeactivateChecks.push(new Wo(F.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,F))}function Cs(C){return"function"==typeof C}function Mi(C){return C instanceof bt.K||"EmptyError"===C?.name}const no=Symbol("INITIAL_VALUE");function xi(){return(0,Tt.w)(C=>Rt(C.map(A=>A.pipe((0,it.q)(1),(0,Pe.O)(no)))).pipe((0,$e.U)(A=>{for(const E of A)if(!0!==E){if(E===no)return no;if(!1===E||E instanceof nr)return E}return!0}),(0,le.h)(A=>A!==no),(0,it.q)(1)))}function wo(C){return(0,Xe.z)((0,ve.b)(A=>{if(Fr(A))throw hn(0,A)}),(0,$e.U)(A=>!0===A))}class Mo{constructor(A){this.segmentGroup=A||null}}class Us{constructor(A){this.urlTree=A}}function xo(C){return Ye(new Mo(C))}function zn(C){return Ye(new Us(C))}class Ts{constructor(A,E){this.urlSerializer=A,this.urlTree=E}noMatchError(A){return new l.vHH(4002,!1)}lineralizeSegments(A,E){let S=[],F=E.root;for(;;){if(S=S.concat(F.segments),0===F.numberOfChildren)return(0,be.of)(S);if(F.numberOfChildren>1||!F.children[Ut])return Ye(new l.vHH(4e3,!1));F=F.children[Ut]}}applyRedirectCommands(A,E,S){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),A,S)}applyRedirectCreateUrlTree(A,E,S,F){const Q=this.createSegmentGroup(A,E.root,S,F);return new nr(Q,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(A,E){const S={};return Object.entries(A).forEach(([F,Q])=>{if("string"==typeof Q&&Q.startsWith(":")){const ct=Q.substring(1);S[F]=E[ct]}else S[F]=Q}),S}createSegmentGroup(A,E,S,F){const Q=this.createSegments(A,E.segments,S,F);let pe={};return Object.entries(E.children).forEach(([ct,at])=>{pe[ct]=this.createSegmentGroup(A,at,S,F)}),new Dn(Q,pe)}createSegments(A,E,S,F){return E.map(Q=>Q.path.startsWith(":")?this.findPosParam(A,Q,F):this.findOrReturn(Q,S))}findPosParam(A,E,S){const F=S[E.path.substring(1)];if(!F)throw new l.vHH(4001,!1);return F}findOrReturn(A,E){let S=0;for(const F of E){if(F.path===A.path)return E.splice(S),F;S++}return A}}const qs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bs(C,A,E,S,F){const Q=Uo(C,A,E);return Q.matched?(S=function Jr(C,A){return C.providers&&!C._injector&&(C._injector=(0,l.MMx)(C.providers,A,`Route: ${C.path}`)),C._injector??A}(A,S),function ws(C,A,E,S){const F=A.canMatch;if(!F||0===F.length)return(0,be.of)(!0);const Q=F.map(pe=>{const ct=vi(pe,C);return gn(function Se(C){return C&&Cs(C.canMatch)}(ct)?ct.canMatch(A,E):C.runInContext(()=>ct(A,E)))});return(0,be.of)(Q).pipe(xi(),wo())}(S,A,E).pipe((0,$e.U)(pe=>!0===pe?Q:{...qs}))):(0,be.of)(Q)}function Uo(C,A,E){if(""===A.path)return"full"===A.pathMatch&&(C.hasChildren()||E.length>0)?{...qs}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const F=(A.matcher||sr)(E,C,A);if(!F)return{...qs};const Q={};Object.entries(F.posParams??{}).forEach(([ct,at])=>{Q[ct]=at.path});const pe=F.consumed.length>0?{...Q,...F.consumed[F.consumed.length-1].parameters}:Q;return{matched:!0,consumedSegments:F.consumed,remainingSegments:E.slice(F.consumed.length),parameters:pe,positionalParamSegments:F.posParams??{}}}function ns(C,A,E,S){return E.length>0&&function da(C,A,E){return E.some(S=>ha(C,A,S)&&Tr(S)!==Ut)}(C,E,S)?{segmentGroup:new Dn(A,la(S,new Dn(E,C.children))),slicedSegments:[]}:0===E.length&&function Ds(C,A,E){return E.some(S=>ha(C,A,S))}(C,E,S)?{segmentGroup:new Dn(C.segments,ca(C,0,E,S,C.children)),slicedSegments:E}:{segmentGroup:new Dn(C.segments,C.children),slicedSegments:E}}function ca(C,A,E,S,F){const Q={};for(const pe of S)if(ha(C,E,pe)&&!F[Tr(pe)]){const ct=new Dn([],{});Q[Tr(pe)]=ct}return{...F,...Q}}function la(C,A){const E={};E[Ut]=A;for(const S of C)if(""===S.path&&Tr(S)!==Ut){const F=new Dn([],{});E[Tr(S)]=F}return E}function ha(C,A,E){return(!(C.hasChildren()||A.length>0)||"full"!==E.pathMatch)&&""===E.path}class Zs{constructor(A,E,S,F,Q,pe,ct){this.injector=A,this.configLoader=E,this.rootComponentType=S,this.config=F,this.urlTree=Q,this.paramsInheritanceStrategy=pe,this.urlSerializer=ct,this.allowRedirects=!0,this.applyRedirects=new Ts(this.urlSerializer,this.urlTree)}noMatchError(A){return new l.vHH(4002,!1)}recognize(){const A=ns(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,Ut).pipe((0,Ie.K)(E=>{if(E instanceof Us)return this.allowRedirects=!1,this.urlTree=E.urlTree,this.match(E.urlTree);throw E instanceof Mo?this.noMatchError(E):E}),(0,$e.U)(E=>{const S=new qr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ut,this.rootComponentType,null,{}),F=new wi(S,E),Q=new ao("",F),pe=function Wn(C,A,E=null,S=null){return Ze(ut(C),A,E,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return pe.queryParams=this.urlTree.queryParams,Q.url=this.urlSerializer.serialize(pe),this.inheritParamsAndData(Q._root),{state:Q,tree:pe}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A.root,Ut).pipe((0,Ie.K)(S=>{throw S instanceof Mo?this.noMatchError(S):S}))}inheritParamsAndData(A){const E=A.value,S=yi(E,this.paramsInheritanceStrategy);E.params=Object.freeze(S.params),E.data=Object.freeze(S.data),A.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(A,E,S,F){return 0===S.segments.length&&S.hasChildren()?this.processChildren(A,E,S):this.processSegment(A,E,S,S.segments,F,!0)}processChildren(A,E,S){const F=[];for(const Q of Object.keys(S.children))"primary"===Q?F.unshift(Q):F.push(Q);return(0,me.D)(F).pipe((0,Ge.b)(Q=>{const pe=S.children[Q],ct=function Go(C,A){const E=C.filter(S=>Tr(S)===A);return E.push(...C.filter(S=>Tr(S)!==A)),E}(E,Q);return this.processSegmentGroup(A,ct,pe,Q)}),(0,Fe.R)((Q,pe)=>(Q.push(...pe),Q)),(0,Et.d)(null),function qt(C,A){const E=arguments.length>=2;return S=>S.pipe(C?(0,le.h)((F,Q)=>C(F,Q,S)):ze.y,It(1),E?(0,Et.d)(A):(0,an.T)(()=>new bt.K))}(),(0,se.z)(Q=>{if(null===Q)return xo(S);const pe=nu(Q);return function Bu(C){C.sort((A,E)=>A.value.outlet===Ut?-1:E.value.outlet===Ut?1:A.value.outlet.localeCompare(E.value.outlet))}(pe),(0,be.of)(pe)}))}processSegment(A,E,S,F,Q,pe){return(0,me.D)(E).pipe((0,Ge.b)(ct=>this.processSegmentAgainstRoute(ct._injector??A,E,ct,S,F,Q,pe).pipe((0,Ie.K)(at=>{if(at instanceof Mo)return(0,be.of)(null);throw at}))),(0,Ae.P)(ct=>!!ct),(0,Ie.K)(ct=>{if(Mi(ct))return function vc(C,A,E){return 0===A.length&&!C.children[E]}(S,F,Q)?(0,be.of)([]):xo(S);throw ct}))}processSegmentAgainstRoute(A,E,S,F,Q,pe,ct){return function ps(C,A,E,S){return!!(Tr(C)===S||S!==Ut&&ha(A,E,C))&&("**"===C.path||Uo(A,C,E).matched)}(S,F,Q,pe)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(A,F,S,Q,pe,ct):ct&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,F,E,S,Q,pe):xo(F):xo(F)}expandSegmentAgainstRouteUsingRedirect(A,E,S,F,Q,pe){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,S,F,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(A,E,S,F,Q,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,E,S,F){const Q=this.applyRedirects.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?zn(Q):this.applyRedirects.lineralizeSegments(S,Q).pipe((0,se.z)(pe=>{const ct=new Dn(pe,{});return this.processSegment(A,E,ct,pe,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,E,S,F,Q,pe){const{matched:ct,consumedSegments:at,remainingSegments:ln,positionalParamSegments:er}=Uo(E,F,Q);if(!ct)return xo(E);const ar=this.applyRedirects.applyRedirectCommands(at,F.redirectTo,er);return F.redirectTo.startsWith("/")?zn(ar):this.applyRedirects.lineralizeSegments(F,ar).pipe((0,se.z)(ur=>this.processSegment(A,S,E,ur.concat(ln),pe,!1)))}matchSegmentAgainstRoute(A,E,S,F,Q,pe){let ct;if("**"===S.path){const at=F.length>0?Cn(F).parameters:{},ln=new qr(F,at,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ei(S),Tr(S),S.component??S._loadedComponent??null,S,b(S));ct=(0,be.of)({snapshot:ln,consumedSegments:[],remainingSegments:[]}),E.children={}}else ct=bs(E,S,F,A).pipe((0,$e.U)(({matched:at,consumedSegments:ln,remainingSegments:er,parameters:ar})=>at?{snapshot:new qr(ln,ar,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ei(S),Tr(S),S.component??S._loadedComponent??null,S,b(S)),consumedSegments:ln,remainingSegments:er}:null));return ct.pipe((0,Tt.w)(at=>null===at?xo(E):this.getChildConfig(A=S._injector??A,S,F).pipe((0,Tt.w)(({routes:ln})=>{const er=S._loadedInjector??A,{snapshot:ar,consumedSegments:ur,remainingSegments:Br}=at,{segmentGroup:_a,slicedSegments:ya}=ns(E,ur,Br,ln);if(0===ya.length&&_a.hasChildren())return this.processChildren(er,ln,_a).pipe((0,$e.U)(gs=>null===gs?null:[new wi(ar,gs)]));if(0===ln.length&&0===ya.length)return(0,be.of)([new wi(ar,[])]);const va=Tr(S)===Q;return this.processSegment(er,ln,_a,ya,va?Ut:Q,!0).pipe((0,$e.U)(gs=>[new wi(ar,gs)]))}))))}getChildConfig(A,E,S){return E.children?(0,be.of)({routes:E.children,injector:A}):E.loadChildren?void 0!==E._loadedRoutes?(0,be.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function tu(C,A,E,S){const F=A.canLoad;if(void 0===F||0===F.length)return(0,be.of)(!0);const Q=F.map(pe=>{const ct=vi(pe,C);return gn(function U(C){return C&&Cs(C.canLoad)}(ct)?ct.canLoad(A,E):C.runInContext(()=>ct(A,E)))});return(0,be.of)(Q).pipe(xi(),wo())}(A,E,S).pipe((0,se.z)(F=>F?this.configLoader.loadChildren(A,E).pipe((0,ve.b)(Q=>{E._loadedRoutes=Q.routes,E._loadedInjector=Q.injector})):function Ra(C){return Ye(Mt(!1,3))}())):(0,be.of)({routes:[],injector:A})}}function js(C){const A=C.value.routeConfig;return A&&""===A.path}function nu(C){const A=[],E=new Set;for(const S of C){if(!js(S)){A.push(S);continue}const F=A.find(Q=>S.value.routeConfig===Q.value.routeConfig);void 0!==F?(F.children.push(...S.children),E.add(F)):A.push(S)}for(const S of E){const F=nu(S.children);A.push(new wi(S.value,F))}return A.filter(S=>!E.has(S))}function ei(C){return C.data||{}}function b(C){return C.resolve||{}}function mn(C){return"string"==typeof C.title||null===C.title}function pr(C){return(0,Tt.w)(A=>{const E=C(A);return E?(0,me.D)(E).pipe((0,$e.U)(()=>A)):(0,be.of)(A)})}const Sr=new l.OlP("ROUTES");let Pr=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,be.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const S=gn(E.loadComponent()).pipe((0,$e.U)(Ur),(0,ve.b)(Q=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=Q}),(0,_n.x)(()=>{this.componentLoaders.delete(E)})),F=new Ht(S,()=>new Jt.x).pipe(ge());return this.componentLoaders.set(E,F),F}loadChildren(E,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,be.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const Q=function or(C,A,E,S){return gn(C.loadChildren()).pipe((0,$e.U)(Ur),(0,se.z)(F=>F instanceof l.YKP||Array.isArray(F)?(0,be.of)(F):(0,me.D)(A.compileModuleAsync(F))),(0,$e.U)(F=>{S&&S(C);let Q,pe,ct=!1;return Array.isArray(F)?(pe=F,!0):(Q=F.create(E).injector,pe=Q.get(Sr,[],{optional:!0,self:!0}).flat()),{routes:pe.map(zr),injector:Q}}))}(S,this.compiler,E,this.onLoadEndListener).pipe((0,_n.x)(()=>{this.childrenLoaders.delete(S)})),pe=new Ht(Q,()=>new Jt.x).pipe(ge());return this.childrenLoaders.set(S,pe),pe}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Ur(C){return function Kr(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let hi=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Jt.x,this.transitionAbortSubject=new Jt.x,this.configLoader=(0,l.f3M)(Pr),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(ye),this.rootContexts=(0,l.f3M)(Cr),this.inputBindingEnabled=null!==(0,l.f3M)(q,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,be.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=F=>this.events.next(new yr(F)),this.configLoader.onLoadStartListener=F=>this.events.next(new Hi(F))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:S})}setupNavigations(E,S,F){return this.transitions=new je.X({id:0,currentUrlTree:S,currentRawUrl:S,currentBrowserUrl:S,extractedUrl:E.urlHandlingStrategy.extract(S),urlAfterRedirects:E.urlHandlingStrategy.extract(S),rawUrl:S,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mi,restoredState:null,currentSnapshot:F.snapshot,targetSnapshot:null,currentRouterState:F,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,le.h)(Q=>0!==Q.id),(0,$e.U)(Q=>({...Q,extractedUrl:E.urlHandlingStrategy.extract(Q.rawUrl)})),(0,Tt.w)(Q=>{this.currentTransition=Q;let pe=!1,ct=!1;return(0,be.of)(Q).pipe((0,ve.b)(at=>{this.currentNavigation={id:at.id,initialUrl:at.rawUrl,extractedUrl:at.extractedUrl,trigger:at.source,extras:at.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Tt.w)(at=>{const ln=at.currentBrowserUrl.toString(),er=!E.navigated||at.extractedUrl.toString()!==ln||ln!==at.currentUrlTree.toString();if(!er&&"reload"!==(at.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const ur="";return this.events.next(new vo(at.id,this.urlSerializer.serialize(at.rawUrl),ur,0)),at.resolve(null),Qe.E}if(E.urlHandlingStrategy.shouldProcessUrl(at.rawUrl))return(0,be.of)(at).pipe((0,Tt.w)(ur=>{const Br=this.transitions?.getValue();return this.events.next(new So(ur.id,this.urlSerializer.serialize(ur.extractedUrl),ur.source,ur.restoredState)),Br!==this.transitions?.getValue()?Qe.E:Promise.resolve(ur)}),function Z(C,A,E,S,F,Q){return(0,se.z)(pe=>function Bs(C,A,E,S,F,Q,pe="emptyOnly"){return new Zs(C,A,E,S,F,pe,Q).recognize()}(C,A,E,S,pe.extractedUrl,F,Q).pipe((0,$e.U)(({state:ct,tree:at})=>({...pe,targetSnapshot:ct,urlAfterRedirects:at}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,ve.b)(ur=>{Q.targetSnapshot=ur.targetSnapshot,Q.urlAfterRedirects=ur.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ur.urlAfterRedirects};const Br=new _i(ur.id,this.urlSerializer.serialize(ur.extractedUrl),this.urlSerializer.serialize(ur.urlAfterRedirects),ur.targetSnapshot);this.events.next(Br)}));if(er&&E.urlHandlingStrategy.shouldProcessUrl(at.currentRawUrl)){const{id:ur,extractedUrl:Br,source:_a,restoredState:ya,extras:va}=at,gs=new So(ur,this.urlSerializer.serialize(Br),_a,ya);this.events.next(gs);const Rs=Yt(0,this.rootComponentType).snapshot;return this.currentTransition=Q={...at,targetSnapshot:Rs,urlAfterRedirects:Br,extras:{...va,skipLocationChange:!1,replaceUrl:!1}},(0,be.of)(Q)}{const ur="";return this.events.next(new vo(at.id,this.urlSerializer.serialize(at.extractedUrl),ur,1)),at.resolve(null),Qe.E}}),(0,ve.b)(at=>{const ln=new Fi(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next(ln)}),(0,$e.U)(at=>(this.currentTransition=Q={...at,guards:aa(at.targetSnapshot,at.currentSnapshot,this.rootContexts)},Q)),function ts(C,A){return(0,se.z)(E=>{const{targetSnapshot:S,currentSnapshot:F,guards:{canActivateChecks:Q,canDeactivateChecks:pe}}=E;return 0===pe.length&&0===Q.length?(0,be.of)({...E,guardsResult:!0}):function po(C,A,E,S){return(0,me.D)(C).pipe((0,se.z)(F=>function Oi(C,A,E,S,F){const Q=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,be.of)(!0);const pe=Q.map(ct=>{const at=Ri(A)??F,ln=vi(ct,at);return gn(function te(C){return C&&Cs(C.canDeactivate)}(ln)?ln.canDeactivate(C,A,E,S):at.runInContext(()=>ln(C,A,E,S))).pipe((0,Ae.P)())});return(0,be.of)(pe).pipe(xi())}(F.component,F.route,E,A,S)),(0,Ae.P)(F=>!0!==F,!0))}(pe,S,F,C).pipe((0,se.z)(ct=>ct&&function ua(C){return"boolean"==typeof C}(ct)?function Co(C,A,E,S){return(0,me.D)(A).pipe((0,Ge.b)(F=>(0,sn.z)(function yc(C,A){return null!==C&&A&&A(new Ir(C)),(0,be.of)(!0)}(F.route.parent,S),function go(C,A){return null!==C&&A&&A(new Eo(C)),(0,be.of)(!0)}(F.route,S),function Vs(C,A,E){const S=A[A.length-1],Q=A.slice(0,A.length-1).reverse().map(pe=>function Is(C){const A=C.routeConfig?C.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:C,guards:A}:null}(pe)).filter(pe=>null!==pe).map(pe=>ke(()=>{const ct=pe.guards.map(at=>{const ln=Ri(pe.node)??E,er=vi(at,ln);return gn(function P(C){return C&&Cs(C.canActivateChild)}(er)?er.canActivateChild(S,C):ln.runInContext(()=>er(S,C))).pipe((0,Ae.P)())});return(0,be.of)(ct).pipe(xi())}));return(0,be.of)(Q).pipe(xi())}(C,F.path,E),function Vr(C,A,E){const S=A.routeConfig?A.routeConfig.canActivate:null;if(!S||0===S.length)return(0,be.of)(!0);const F=S.map(Q=>ke(()=>{const pe=Ri(A)??E,ct=vi(Q,pe);return gn(function G(C){return C&&Cs(C.canActivate)}(ct)?ct.canActivate(A,C):pe.runInContext(()=>ct(A,C))).pipe((0,Ae.P)())}));return(0,be.of)(F).pipe(xi())}(C,F.route,E))),(0,Ae.P)(F=>!0!==F,!0))}(S,Q,C,A):(0,be.of)(ct)),(0,$e.U)(ct=>({...E,guardsResult:ct})))})}(this.environmentInjector,at=>this.events.next(at)),(0,ve.b)(at=>{if(Q.guardsResult=at.guardsResult,Fr(at.guardsResult))throw hn(0,at.guardsResult);const ln=new ds(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot,!!at.guardsResult);this.events.next(ln)}),(0,le.h)(at=>!!at.guardsResult||(this.cancelNavigationTransition(at,"",3),!1)),pr(at=>{if(at.guards.canActivateChecks.length)return(0,be.of)(at).pipe((0,ve.b)(ln=>{const er=new li(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(er)}),(0,Tt.w)(ln=>{let er=!1;return(0,be.of)(ln).pipe(function N(C,A){return(0,se.z)(E=>{const{targetSnapshot:S,guards:{canActivateChecks:F}}=E;if(!F.length)return(0,be.of)(E);let Q=0;return(0,me.D)(F).pipe((0,Ge.b)(pe=>function W(C,A,E,S){const F=C.routeConfig,Q=C._resolve;return void 0!==F?.title&&!mn(F)&&(Q[Nt]=F.title),function _e(C,A,E,S){const F=function ht(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===F.length)return(0,be.of)({});const Q={};return(0,me.D)(F).pipe((0,se.z)(pe=>function At(C,A,E,S){const F=Ri(A)??S,Q=vi(C,F);return gn(Q.resolve?Q.resolve(A,E):F.runInContext(()=>Q(A,E)))}(C[pe],A,E,S).pipe((0,Ae.P)(),(0,ve.b)(ct=>{Q[pe]=ct}))),It(1),function Sn(C){return(0,$e.U)(()=>C)}(Q),(0,Ie.K)(pe=>Mi(pe)?Qe.E:Ye(pe)))}(Q,C,A,S).pipe((0,$e.U)(pe=>(C._resolvedData=pe,C.data=yi(C,E).resolve,F&&mn(F)&&(C.data[Nt]=F.title),null)))}(pe.route,S,C,A)),(0,ve.b)(()=>Q++),It(1),(0,se.z)(pe=>Q===F.length?(0,be.of)(E):Qe.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,ve.b)({next:()=>er=!0,complete:()=>{er||this.cancelNavigationTransition(ln,"",2)}}))}),(0,ve.b)(ln=>{const er=new Fs(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(er)}))}),pr(at=>{const ln=er=>{const ar=[];er.routeConfig?.loadComponent&&!er.routeConfig._loadedComponent&&ar.push(this.configLoader.loadComponent(er.routeConfig).pipe((0,ve.b)(ur=>{er.component=ur}),(0,$e.U)(()=>{})));for(const ur of er.children)ar.push(...ln(ur));return ar};return Rt(ln(at.targetSnapshot.root)).pipe((0,Et.d)(),(0,it.q)(1))}),pr(()=>this.afterPreactivation()),(0,$e.U)(at=>{const ln=function fe(C,A,E){const S=Ee(C,A._root,E?E._root:void 0);return new kr(S,A)}(E.routeReuseStrategy,at.targetSnapshot,at.currentRouterState);return this.currentTransition=Q={...at,targetRouterState:ln},Q}),(0,ve.b)(()=>{this.events.next(new Nn)}),((C,A,E,S)=>(0,$e.U)(F=>(new Ls(A,F.targetRouterState,F.currentRouterState,E,S).activate(C),F)))(this.rootContexts,E.routeReuseStrategy,at=>this.events.next(at),this.inputBindingEnabled),(0,it.q)(1),(0,ve.b)({next:at=>{pe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new mr(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects))),E.titleStrategy?.updateTitle(at.targetRouterState.snapshot),at.resolve(!0)},complete:()=>{pe=!0}}),function xt(C){return(0,St.e)((A,E)=>{(0,qe.Xf)(C).subscribe((0,mt.x)(E,()=>E.complete(),tr.Z)),!E.closed&&A.subscribe(E)})}(this.transitionAbortSubject.pipe((0,ve.b)(at=>{throw at}))),(0,_n.x)(()=>{pe||ct||this.cancelNavigationTransition(Q,"",1),this.currentNavigation?.id===Q.id&&(this.currentNavigation=null)}),(0,Ie.K)(at=>{if(ct=!0,Zn(at))this.events.next(new _r(Q.id,this.urlSerializer.serialize(Q.extractedUrl),at.message,at.cancellationCode)),function un(C){return Zn(C)&&Fr(C.url)}(at)?this.events.next(new $r(at.url)):Q.resolve(!1);else{this.events.next(new Ai(Q.id,this.urlSerializer.serialize(Q.extractedUrl),at,Q.targetSnapshot??void 0));try{Q.resolve(E.errorHandler(at))}catch(ln){Q.reject(ln)}}return Qe.E}))}))}cancelNavigationTransition(E,S,F){const Q=new _r(E.id,this.urlSerializer.serialize(E.extractedUrl),S,F);this.events.next(Q),E.resolve(!1)}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Ki(C){return C!==mi}let mo=(()=>{class C{buildTitle(E){let S,F=E.root;for(;void 0!==F;)S=this.getResolvedTitleForRoute(F)??S,F=F.children.find(Q=>Q.outlet===Ut);return S}getResolvedTitleForRoute(E){return E.data[Nt]}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(As)},providedIn:"root"})}return C})(),As=(()=>{class C extends mo{constructor(E){super(),this.title=E}updateTitle(E){const S=this.buildTitle(E);void 0!==S&&this.title.setTitle(S)}static#e=this.\u0275fac=function(S){return new(S||C)(l.LFG(On.Dx))};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),To=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(Hn)},providedIn:"root"})}return C})();class ti{shouldDetach(A){return!1}store(A,E){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,E){return A.routeConfig===E.routeConfig}}let Hn=(()=>{class C extends ti{static#e=this.\u0275fac=function(){let E;return function(F){return(E||(E=l.n5z(C)))(F||C)}}();static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Bo=new l.OlP("",{providedIn:"root",factory:()=>({})});let Ec=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(ni)},providedIn:"root"})}return C})(),ni=(()=>{class C{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,S){return E}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var Ks=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(Ks||{});function Ys(C,A){C.events.pipe((0,le.h)(E=>E instanceof mr||E instanceof _r||E instanceof Ai||E instanceof vo),(0,$e.U)(E=>E instanceof mr||E instanceof vo?Ks.COMPLETE:E instanceof _r&&(0===E.code||1===E.code)?Ks.REDIRECTING:Ks.FAILED),(0,le.h)(E=>E!==Ks.REDIRECTING),(0,it.q)(1)).subscribe(()=>{A()})}function bo(C){throw C}function Ic(C,A,E){return A.parse("/")}const ju={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ss={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ri=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this._events=new Jt.x,this.options=(0,l.f3M)(Bo,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||bo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ic,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Ec),this.routeReuseStrategy=(0,l.f3M)(To),this.titleStrategy=(0,l.f3M)(mo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(Sr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(hi),this.urlSerializer=(0,l.f3M)(ye),this.location=(0,l.f3M)(xn.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(q,{optional:!0}),this.eventsSubscription=new yt.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(S=>{try{const{currentTransition:F}=this.navigationTransitions;if(null===F)return void(Ma(S)&&this._events.next(S));if(S instanceof So)Ki(F.source)&&(this.browserUrlTree=F.extractedUrl);else if(S instanceof vo)this.rawUrlTree=F.rawUrl;else if(S instanceof _i){if("eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(Q,F)}this.browserUrlTree=F.urlAfterRedirects}}else if(S instanceof Nn)this.currentUrlTree=F.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F),this.browserUrlTree=F.urlAfterRedirects);else if(S instanceof _r)0!==S.code&&1!==S.code&&(this.navigated=!0),(3===S.code||2===S.code)&&this.restoreHistory(F);else if(S instanceof $r){const Q=this.urlHandlingStrategy.merge(S.url,F.currentRawUrl),pe={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ki(F.source)};this.scheduleNavigation(Q,mi,null,pe,{resolve:F.resolve,reject:F.reject,promise:F.promise})}S instanceof Ai&&this.restoreHistory(F,!0),S instanceof mr&&(this.navigated=!0),Ma(S)&&this._events.next(S)}catch(F){this.navigationTransitions.transitionAbortSubject.next(F)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mi,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const S="popstate"===E.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,S,E.state)},0)}))}navigateToSyncWithBrowser(E,S,F){const Q={replaceUrl:!0},pe=F?.navigationId?F:null;if(F){const at={...F};delete at.navigationId,delete at.\u0275routerPageId,0!==Object.keys(at).length&&(Q.state=at)}const ct=this.parseUrl(E);this.scheduleNavigation(ct,S,pe,Q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(zr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,S={}){const{relativeTo:F,queryParams:Q,fragment:pe,queryParamsHandling:ct,preserveFragment:at}=S,ln=at?this.currentUrlTree.fragment:pe;let ar,er=null;switch(ct){case"merge":er={...this.currentUrlTree.queryParams,...Q};break;case"preserve":er=this.currentUrlTree.queryParams;break;default:er=Q||null}null!==er&&(er=this.removeEmptyProps(er));try{ar=ut(F?F.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),ar=this.currentUrlTree.root}return Ze(ar,E,er,ln??null)}navigateByUrl(E,S={skipLocationChange:!1}){const F=Fr(E)?E:this.parseUrl(E),Q=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(Q,mi,null,S)}navigate(E,S={skipLocationChange:!1}){return function iu(C){for(let A=0;A<C.length;A++)if(null==C[A])throw new l.vHH(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,S),S)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let S;try{S=this.urlSerializer.parse(E)}catch(F){S=this.malformedUriErrorHandler(F,this.urlSerializer,E)}return S}isActive(E,S){let F;if(F=!0===S?{...ju}:!1===S?{...Ss}:S,Fr(E))return xr(this.currentUrlTree,E,F);const Q=this.parseUrl(E);return xr(this.currentUrlTree,Q,F)}removeEmptyProps(E){return Object.keys(E).reduce((S,F)=>{const Q=E[F];return null!=Q&&(S[F]=Q),S},{})}scheduleNavigation(E,S,F,Q,pe){if(this.disposed)return Promise.resolve(!1);let ct,at,ln;pe?(ct=pe.resolve,at=pe.reject,ln=pe.promise):ln=new Promise((ar,ur)=>{ct=ar,at=ur});const er=this.pendingTasks.add();return Ys(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(er))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:E,extras:Q,resolve:ct,reject:at,promise:ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ln.catch(ar=>Promise.reject(ar))}setBrowserUrl(E,S){const F=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(F)||S.extras.replaceUrl){const pe={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(F,"",pe)}else{const Q={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId+1)};this.location.go(F,"",Q)}}restoreHistory(E,S=!1){if("computed"===this.canceledNavigationResolution){const Q=this.currentPageId-this.browserPageId;0!==Q?this.location.historyGo(Q):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Q&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,S){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:S}:{navigationId:E}}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Ma(C){return!(C instanceof Nn||C instanceof $r)}let ou=(()=>{class C{constructor(E,S,F,Q,pe,ct){this.router=E,this.route=S,this.tabIndexAttribute=F,this.renderer=Q,this.el=pe,this.locationStrategy=ct,this.href=null,this.commands=null,this.onChanges=new Jt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const at=pe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===at||"area"===at,this.isAnchorElement?this.subscription=E.events.subscribe(ln=>{ln instanceof mr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,S,F,Q,pe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||S||F||Q||pe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,S){const F=this.renderer,Q=this.el.nativeElement;null!==S?F.setAttribute(Q,E,S):F.removeAttribute(Q,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(S){return new(S||C)(l.Y36(ri),l.Y36(Jn),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(xn.S$))};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,F){1&S&&l.NdJ("click",function(pe){return F.onClick(pe.button,pe.ctrlKey,pe.shiftKey,pe.altKey,pe.metaKey)}),2&S&&l.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]})}return C})();class su{}let Tc=(()=>{class C{constructor(E,S,F,Q,pe){this.router=E,this.injector=F,this.preloadingStrategy=Q,this.loader=pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,le.h)(E=>E instanceof mr),(0,Ge.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,S){const F=[];for(const Q of S){Q.providers&&!Q._injector&&(Q._injector=(0,l.MMx)(Q.providers,E,`Route: ${Q.path}`));const pe=Q._injector??E,ct=Q._loadedInjector??pe;(Q.loadChildren&&!Q._loadedRoutes&&void 0===Q.canLoad||Q.loadComponent&&!Q._loadedComponent)&&F.push(this.preloadConfig(pe,Q)),(Q.children||Q._loadedRoutes)&&F.push(this.processRoutes(ct,Q.children??Q._loadedRoutes))}return(0,me.D)(F).pipe((0,En.J)())}preloadConfig(E,S){return this.preloadingStrategy.preload(S,()=>{let F;F=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(E,S):(0,be.of)(null);const Q=F.pipe((0,se.z)(pe=>null===pe?(0,be.of)(void 0):(S._loadedRoutes=pe.routes,S._loadedInjector=pe.injector,this.processRoutes(pe.injector??E,pe.routes))));if(S.loadComponent&&!S._loadedComponent){const pe=this.loader.loadComponent(S);return(0,me.D)([Q,pe]).pipe((0,En.J)())}return Q})}static#e=this.\u0275fac=function(S){return new(S||C)(l.LFG(ri),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(su),l.LFG(Pr))};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const bc=new l.OlP("");let qn=(()=>{class C{constructor(E,S,F,Q,pe={}){this.urlSerializer=E,this.transitions=S,this.viewportScroller=F,this.zone=Q,this.options=pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},pe.scrollPositionRestoration=pe.scrollPositionRestoration||"disabled",pe.anchorScrolling=pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof So?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof mr?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof vo&&0===E.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof zo&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zo(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(S){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac})}return C})();function _o(C,A){return{\u0275kind:C,\u0275providers:A}}function au(){const C=(0,l.f3M)(l.zs3);return A=>{const E=C.get(l.z2F);if(A!==E.components[0])return;const S=C.get(ri),F=C.get(Hu);1===C.get(fa)&&S.initialNavigation(),C.get(br,null,l.XFs.Optional)?.setUpPreloading(),C.get(bc,null,l.XFs.Optional)?.init(),S.resetRootComponentType(E.componentTypes[0]),F.closed||(F.next(),F.complete(),F.unsubscribe())}}const Hu=new l.OlP("",{factory:()=>new Jt.x}),fa=new l.OlP("",{providedIn:"root",factory:()=>1}),br=new l.OlP("");function zu(C){return _o(0,[{provide:br,useExisting:Tc},{provide:su,useExisting:C}])}const ga=new l.OlP("ROUTER_FORROOT_GUARD"),Na=[xn.Ye,{provide:ye,useClass:ft},ri,Cr,{provide:Jn,useFactory:function xa(C){return C.routerState.root},deps:[ri]},Pr,[]];function Ac(){return new l.PXZ("Router",ri)}let Gu=(()=>{class C{constructor(E){}static forRoot(E,S){return{ngModule:C,providers:[Na,[],{provide:Sr,multi:!0,useValue:E},{provide:ga,useFactory:ka,deps:[[ri,new l.FiY,new l.tp0]]},{provide:Bo,useValue:S||{}},S?.useHash?{provide:xn.S$,useClass:xn.Do}:{provide:xn.S$,useClass:xn.b0},{provide:bc,useFactory:()=>{const C=(0,l.f3M)(xn.EM),A=(0,l.f3M)(l.R0b),E=(0,l.f3M)(Bo),S=(0,l.f3M)(hi),F=(0,l.f3M)(ye);return E.scrollOffset&&C.setOffset(E.scrollOffset),new qn(F,S,C,A,E)}},S?.preloadingStrategy?zu(S.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Ac},S?.initialNavigation?os(S):[],S?.bindToComponentInputs?_o(8,[j,{provide:q,useExisting:j}]).\u0275providers:[],[{provide:Oo,useFactory:au},{provide:l.tb,multi:!0,useExisting:Oo}]]}}static forChild(E){return{ngModule:C,providers:[{provide:Sr,multi:!0,useValue:E}]}}static#e=this.\u0275fac=function(S){return new(S||C)(l.LFG(ga,8))};static#t=this.\u0275mod=l.oAB({type:C});static#n=this.\u0275inj=l.cJS({})}return C})();function ka(C){return"guarded"}function os(C){return["disabled"===C.initialNavigation?_o(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const A=(0,l.f3M)(ri);return()=>{A.setUpLocationChangeListener()}}},{provide:fa,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?_o(2,[{provide:fa,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:A=>{const E=A.get(xn.V_,Promise.resolve());return()=>E.then(()=>new Promise(S=>{const F=A.get(ri),Q=A.get(Hu);Ys(F,()=>{S(!0)}),A.get(hi).afterPreactivation=()=>(S(!0),Q.closed?(0,be.of)(void 0):Q),F.initialNavigation()}))}}]).\u0275providers:[]]}const Oo=new l.OlP("")},3106:(on,et,k)=>{k.d(et,{Z:()=>Rt});var l=k(9058),y=k(4537),z=k(534),Ce=k(7879);class me{constructor(Vt,bt){this._delegate=Vt,this.firebase=bt,(0,z._addComponent)(Vt,new y.wA("app-compat",()=>this,"PUBLIC")),this.container=Vt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Vt){this._delegate.automaticDataCollectionEnabled=Vt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Vt=>{this._delegate.checkDestroyed(),Vt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Vt,bt=z._DEFAULT_ENTRY_NAME){var sn;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(Vt);return!qe.isInitialized()&&"EXPLICIT"===(null===(sn=qe.getComponent())||void 0===sn?void 0:sn.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:bt})}_removeServiceInstance(Vt,bt=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Vt).clearInstance(bt)}_addComponent(Vt){(0,z._addComponent)(this._delegate,Vt)}_addOrOverwriteComponent(Vt){(0,z._addOrOverwriteComponent)(this._delegate,Vt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const je=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ie=function ze(){const vt=function Le(vt){const Vt={},bt={__esModule:!0,initializeApp:function ke(yt,St={}){const ge=z.initializeApp(yt,St);if((0,l.r3)(Vt,ge.name))return Vt[ge.name];const Ht=new vt(ge,bt);return Vt[ge.name]=Ht,Ht},app:qe,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Ye(yt){const St=yt.name,ge=St.replace("-compat","");if(z._registerComponent(yt)&&"PUBLIC"===yt.type){const Ht=(Jt=qe())=>{if("function"!=typeof Jt[ge])throw je.create("invalid-app-argument",{appName:St});return Jt[ge]()};void 0!==yt.serviceProps&&(0,l.ZB)(Ht,yt.serviceProps),bt[ge]=Ht,vt.prototype[ge]=function(...Jt){return this._getService.bind(this,St).apply(this,yt.multipleInstances?Jt:[])}}return"PUBLIC"===yt.type?bt[ge]:null},removeApp:function sn(yt){delete Vt[yt]},useAsService:function Qe(yt,St){return"serverAuth"===St?null:St},modularAPIs:z}};function qe(yt){if(!(0,l.r3)(Vt,yt=yt||z._DEFAULT_ENTRY_NAME))throw je.create("no-app",{appName:yt});return Vt[yt]}return bt.default=bt,Object.defineProperty(bt,"apps",{get:function Xe(){return Object.keys(Vt).map(yt=>Vt[yt])}}),qe.App=vt,bt}(me);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:ze,extendNamespace:function Vt(bt){(0,l.ZB)(vt,bt)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),vt}(),re=new Ce.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Rt=ie;!function We(vt){(0,z.registerVersion)("@firebase/app-compat","0.2.35",vt)}()},534:(on,et,k)=>{k.r(et),k.d(et,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>ye,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>Mn,_addOrOverwriteComponent:()=>Or,_apps:()=>ir,_clearComponents:()=>Dn,_components:()=>xr,_getProvider:()=>Xt,_isFirebaseApp:()=>$n,_isFirebaseServerApp:()=>nr,_registerComponent:()=>Ci,_removeServiceInstance:()=>Nr,_serverApps:()=>cr,deleteApp:()=>Yn,getApp:()=>Tn,getApps:()=>gr,initializeApp:()=>ft,initializeServerApp:()=>Bt,onLog:()=>V,registerVersion:()=>Y,setLogLevel:()=>x});var l=k(5861),y=k(4537),z=k(7879),Ce=k(9058);const me=(ut,Ze)=>Ze.some(Ct=>ut instanceof Ct);let be,je;const ie=new WeakMap,re=new WeakMap,Re=new WeakMap,mt=new WeakMap,We=new WeakMap;let Vt={get(ut,Ze,Ct){if(ut instanceof IDBTransaction){if("done"===Ze)return re.get(ut);if("objectStoreNames"===Ze)return ut.objectStoreNames||Re.get(ut);if("store"===Ze)return Ct.objectStoreNames[1]?void 0:Ct.objectStore(Ct.objectStoreNames[0])}return ke(ut[Ze])},set:(ut,Ze,Ct)=>(ut[Ze]=Ct,!0),has:(ut,Ze)=>ut instanceof IDBTransaction&&("done"===Ze||"store"===Ze)||Ze in ut};function qe(ut){return"function"==typeof ut?function sn(ut){return ut!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ze(){return je||(je=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ut)?function(...Ze){return ut.apply(Xe(this),Ze),ke(ie.get(this))}:function(...Ze){return ke(ut.apply(Xe(this),Ze))}:function(Ze,...Ct){const en=ut.call(Xe(this),Ze,...Ct);return Re.set(en,Ze.sort?Ze.sort():[Ze]),ke(en)}}(ut):(ut instanceof IDBTransaction&&function vt(ut){if(re.has(ut))return;const Ze=new Promise((Ct,en)=>{const bn=()=>{ut.removeEventListener("complete",Pn),ut.removeEventListener("error",dn),ut.removeEventListener("abort",dn)},Pn=()=>{Ct(),bn()},dn=()=>{en(ut.error||new DOMException("AbortError","AbortError")),bn()};ut.addEventListener("complete",Pn),ut.addEventListener("error",dn),ut.addEventListener("abort",dn)});re.set(ut,Ze)}(ut),me(ut,function Le(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ut,Vt):ut)}function ke(ut){if(ut instanceof IDBRequest)return function Rt(ut){const Ze=new Promise((Ct,en)=>{const bn=()=>{ut.removeEventListener("success",Pn),ut.removeEventListener("error",dn)},Pn=()=>{Ct(ke(ut.result)),bn()},dn=()=>{en(ut.error),bn()};ut.addEventListener("success",Pn),ut.addEventListener("error",dn)});return Ze.then(Ct=>{Ct instanceof IDBCursor&&ie.set(Ct,ut)}).catch(()=>{}),We.set(Ze,ut),Ze}(ut);if(mt.has(ut))return mt.get(ut);const Ze=qe(ut);return Ze!==ut&&(mt.set(ut,Ze),We.set(Ze,ut)),Ze}const Xe=ut=>We.get(ut),yt=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],ge=new Map;function Ht(ut,Ze){if(!(ut instanceof IDBDatabase)||Ze in ut||"string"!=typeof Ze)return;if(ge.get(Ze))return ge.get(Ze);const Ct=Ze.replace(/FromIndex$/,""),en=Ze!==Ct,bn=St.includes(Ct);if(!(Ct in(en?IDBIndex:IDBObjectStore).prototype)||!bn&&!yt.includes(Ct))return;const Pn=function(){var dn=(0,l.Z)(function*(Er,...fr){const ci=this.transaction(Er,bn?"readwrite":"readonly");let ho=ci.store;return en&&(ho=ho.index(fr.shift())),(yield Promise.all([ho[Ct](...fr),bn&&ci.done]))[0]});return function(fr){return dn.apply(this,arguments)}}();return ge.set(Ze,Pn),Pn}!function bt(ut){Vt=ut(Vt)}(ut=>({...ut,get:(Ze,Ct,en)=>Ht(Ze,Ct)||ut.get(Ze,Ct,en),has:(Ze,Ct)=>!!Ht(Ze,Ct)||ut.has(Ze,Ct)}));class Jt{constructor(Ze){this.container=Ze}getPlatformInfoString(){return this.container.getProviders().map(Ct=>{if(function xn(ut){const Ze=ut.getComponent();return"VERSION"===Ze?.type}(Ct)){const en=Ct.getImmediate();return`${en.library}/${en.version}`}return null}).filter(Ct=>Ct).join(" ")}}const $e="@firebase/app",Tt="0.10.5",it=new z.Yd("@firebase/app"),Cn="[DEFAULT]",gn={[$e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ir=new Map,cr=new Map,xr=new Map;function Mn(ut,Ze){try{ut.container.addComponent(Ze)}catch(Ct){it.debug(`Component ${Ze.name} failed to register with FirebaseApp ${ut.name}`,Ct)}}function Or(ut,Ze){ut.container.addOrOverwriteComponent(Ze)}function Ci(ut){const Ze=ut.name;if(xr.has(Ze))return it.debug(`There were multiple attempts to register component ${Ze}.`),!1;xr.set(Ze,ut);for(const Ct of ir.values())Mn(Ct,ut);for(const Ct of cr.values())Mn(Ct,ut);return!0}function Xt(ut,Ze){const Ct=ut.container.getProvider("heartbeat").getImmediate({optional:!0});return Ct&&Ct.triggerHeartbeat(),ut.container.getProvider(Ze)}function Nr(ut,Ze,Ct=Cn){Xt(ut,Ze).clearInstance(Ct)}function $n(ut){return void 0!==ut.options}function nr(ut){return void 0!==ut.settings}function Dn(){xr.clear()}const Be=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class pt{constructor(Ze,Ct,en){this._isDeleted=!1,this._options=Object.assign({},Ze),this._config=Object.assign({},Ct),this._name=Ct.name,this._automaticDataCollectionEnabled=Ct.automaticDataCollectionEnabled,this._container=en,this.container.addComponent(new y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ze){this._isDeleted=Ze}checkDestroyed(){if(this.isDeleted)throw Be.create("app-deleted",{appName:this._name})}}class J extends pt{constructor(Ze,Ct,en,bn){const Pn=void 0!==Ct.automaticDataCollectionEnabled&&Ct.automaticDataCollectionEnabled,dn={name:en,automaticDataCollectionEnabled:Pn};super(void 0!==Ze.apiKey?Ze:Ze.options,dn,bn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Pn},Ct),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Ct.releaseOnDeref=void 0,Y($e,Tt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Ze){this.isDeleted||(this._refCount++,void 0!==Ze&&this._finalizationRegistry.register(Ze,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Yn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Be.create("server-app-deleted")}}const ye="10.12.2";function ft(ut,Ze={}){let Ct=ut;"object"!=typeof Ze&&(Ze={name:Ze});const en=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},Ze),bn=en.name;if("string"!=typeof bn||!bn)throw Be.create("bad-app-name",{appName:String(bn)});if(Ct||(Ct=(0,Ce.aH)()),!Ct)throw Be.create("no-options");const Pn=ir.get(bn);if(Pn){if((0,Ce.vZ)(Ct,Pn.options)&&(0,Ce.vZ)(en,Pn.config))return Pn;throw Be.create("duplicate-app",{appName:bn})}const dn=new y.H0(bn);for(const fr of xr.values())dn.addComponent(fr);const Er=new pt(Ct,en,dn);return ir.set(bn,Er),Er}function Bt(ut,Ze){if((0,Ce.jU)())throw Be.create("invalid-server-app-environment");let Ct;void 0===Ze.automaticDataCollectionEnabled&&(Ze.automaticDataCollectionEnabled=!1),Ct=$n(ut)?ut.options:ut;const en=Object.assign(Object.assign({},Ze),Ct);if(void 0!==en.releaseOnDeref&&delete en.releaseOnDeref,void 0!==Ze.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Be.create("finalization-registry-not-supported",{});const Pn=""+(ci=JSON.stringify(en),[...ci].reduce((ho,lr)=>Math.imul(31,ho)+lr.charCodeAt(0)|0,0)),dn=cr.get(Pn);var ci;if(dn)return dn.incRefCount(Ze.releaseOnDeref),dn;const Er=new y.H0(Pn);for(const ci of xr.values())Er.addComponent(ci);const fr=new J(Ct,Ze,Pn,Er);return cr.set(Pn,fr),fr}function Tn(ut=Cn){const Ze=ir.get(ut);if(!Ze&&ut===Cn&&(0,Ce.aH)())return ft();if(!Ze)throw Be.create("no-app",{appName:ut});return Ze}function gr(){return Array.from(ir.values())}function Yn(ut){return we.apply(this,arguments)}function we(){return(we=(0,l.Z)(function*(ut){let Ze=!1;const Ct=ut.name;ir.has(Ct)?(Ze=!0,ir.delete(Ct)):cr.has(Ct)&&ut.decRefCount()<=0&&(cr.delete(Ct),Ze=!0),Ze&&(yield Promise.all(ut.container.getProviders().map(en=>en.delete())),ut.isDeleted=!0)})).apply(this,arguments)}function Y(ut,Ze,Ct){var en;let bn=null!==(en=gn[ut])&&void 0!==en?en:ut;Ct&&(bn+=`-${Ct}`);const Pn=bn.match(/\s|\//),dn=Ze.match(/\s|\//);if(Pn||dn){const Er=[`Unable to register library "${bn}" with version "${Ze}":`];return Pn&&Er.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),Pn&&dn&&Er.push("and"),dn&&Er.push(`version name "${Ze}" contains illegal characters (whitespace or "/")`),void it.warn(Er.join(" "))}Ci(new y.wA(`${bn}-version`,()=>({library:bn,version:Ze}),"VERSION"))}function V(ut,Ze){if(null!==ut&&"function"!=typeof ut)throw Be.create("invalid-log-argument");(0,z.Am)(ut,Ze)}function x(ut){(0,z.Ub)(ut)}const O="firebase-heartbeat-database",ae=1,xe="firebase-heartbeat-store";let gt=null;function Pt(){return gt||(gt=function Ye(ut,Ze,{blocked:Ct,upgrade:en,blocking:bn,terminated:Pn}={}){const dn=indexedDB.open(ut,Ze),Er=ke(dn);return en&&dn.addEventListener("upgradeneeded",fr=>{en(ke(dn.result),fr.oldVersion,fr.newVersion,ke(dn.transaction),fr)}),Ct&&dn.addEventListener("blocked",fr=>Ct(fr.oldVersion,fr.newVersion,fr)),Er.then(fr=>{Pn&&fr.addEventListener("close",()=>Pn()),bn&&fr.addEventListener("versionchange",ci=>bn(ci.oldVersion,ci.newVersion,ci))}).catch(()=>{}),Er}(O,ae,{upgrade:(ut,Ze)=>{if(0===Ze)try{ut.createObjectStore(xe)}catch(Ct){console.warn(Ct)}}}).catch(ut=>{throw Be.create("idb-open",{originalErrorMessage:ut.message})})),gt}function Zt(){return(Zt=(0,l.Z)(function*(ut){try{const Ct=(yield Pt()).transaction(xe),en=yield Ct.objectStore(xe).get(vn(ut));return yield Ct.done,en}catch(Ze){if(Ze instanceof Ce.ZR)it.warn(Ze.message);else{const Ct=Be.create("idb-get",{originalErrorMessage:Ze?.message});it.warn(Ct.message)}}})).apply(this,arguments)}function Qt(ut,Ze){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(ut,Ze){try{const en=(yield Pt()).transaction(xe,"readwrite");yield en.objectStore(xe).put(Ze,vn(ut)),yield en.done}catch(Ct){if(Ct instanceof Ce.ZR)it.warn(Ct.message);else{const en=Be.create("idb-set",{originalErrorMessage:Ct?.message});it.warn(en.message)}}})).apply(this,arguments)}function vn(ut){return`${ut.name}!${ut.options.appId}`}class Di{constructor(Ze){this.container=Ze,this._heartbeatsCache=null;const Ct=this.container.getProvider("app").getImmediate();this._storage=new $i(Ct),this._heartbeatsCachePromise=this._storage.read().then(en=>(this._heartbeatsCache=en,en))}triggerHeartbeat(){var Ze=this;return(0,l.Z)(function*(){var Ct,en;const Pn=Ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dn=Gr();if((null!=(null===(Ct=Ze._heartbeatsCache)||void 0===Ct?void 0:Ct.heartbeats)||(Ze._heartbeatsCache=yield Ze._heartbeatsCachePromise,null!=(null===(en=Ze._heartbeatsCache)||void 0===en?void 0:en.heartbeats)))&&Ze._heartbeatsCache.lastSentHeartbeatDate!==dn&&!Ze._heartbeatsCache.heartbeats.some(Er=>Er.date===dn))return Ze._heartbeatsCache.heartbeats.push({date:dn,agent:Pn}),Ze._heartbeatsCache.heartbeats=Ze._heartbeatsCache.heartbeats.filter(Er=>{const fr=new Date(Er.date).valueOf();return Date.now()-fr<=2592e6}),Ze._storage.overwrite(Ze._heartbeatsCache)})()}getHeartbeatsHeader(){var Ze=this;return(0,l.Z)(function*(){var Ct;if(null===Ze._heartbeatsCache&&(yield Ze._heartbeatsCachePromise),null==(null===(Ct=Ze._heartbeatsCache)||void 0===Ct?void 0:Ct.heartbeats)||0===Ze._heartbeatsCache.heartbeats.length)return"";const en=Gr(),{heartbeatsToSend:bn,unsentEntries:Pn}=function Xi(ut,Ze=1024){const Ct=[];let en=ut.slice();for(const bn of ut){const Pn=Ct.find(dn=>dn.agent===bn.agent);if(Pn){if(Pn.dates.push(bn.date),Fr(Ct)>Ze){Pn.dates.pop();break}}else if(Ct.push({agent:bn.agent,dates:[bn.date]}),Fr(Ct)>Ze){Ct.pop();break}en=en.slice(1)}return{heartbeatsToSend:Ct,unsentEntries:en}}(Ze._heartbeatsCache.heartbeats),dn=(0,Ce.L)(JSON.stringify({version:2,heartbeats:bn}));return Ze._heartbeatsCache.lastSentHeartbeatDate=en,Pn.length>0?(Ze._heartbeatsCache.heartbeats=Pn,yield Ze._storage.overwrite(Ze._heartbeatsCache)):(Ze._heartbeatsCache.heartbeats=[],Ze._storage.overwrite(Ze._heartbeatsCache)),dn})()}}function Gr(){return(new Date).toISOString().substring(0,10)}class $i{constructor(Ze){this.app=Ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ze=this;return(0,l.Z)(function*(){if(yield Ze._canUseIndexedDBPromise){const en=yield function nn(ut){return Zt.apply(this,arguments)}(Ze.app);return en?.heartbeats?en:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ze){var Ct=this;return(0,l.Z)(function*(){var en;if(yield Ct._canUseIndexedDBPromise){const Pn=yield Ct.read();return Qt(Ct.app,{lastSentHeartbeatDate:null!==(en=Ze.lastSentHeartbeatDate)&&void 0!==en?en:Pn.lastSentHeartbeatDate,heartbeats:Ze.heartbeats})}})()}add(Ze){var Ct=this;return(0,l.Z)(function*(){var en;if(yield Ct._canUseIndexedDBPromise){const Pn=yield Ct.read();return Qt(Ct.app,{lastSentHeartbeatDate:null!==(en=Ze.lastSentHeartbeatDate)&&void 0!==en?en:Pn.lastSentHeartbeatDate,heartbeats:[...Pn.heartbeats,...Ze.heartbeats]})}})()}}function Fr(ut){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:ut})).length}!function Wn(ut){Ci(new y.wA("platform-logger",Ze=>new Jt(Ze),"PRIVATE")),Ci(new y.wA("heartbeat",Ze=>new Di(Ze),"PRIVATE")),Y($e,Tt,ut),Y($e,Tt,"esm2017"),Y("fire-js","")}("")},4537:(on,et,k)=>{k.d(et,{H0:()=>Le,wA:()=>z});var l=k(5861),y=k(9058);class z{constructor(ie,re,Re){this.name=ie,this.instanceFactory=re,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const Ce="[DEFAULT]";class me{constructor(ie,re){this.name=ie,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const re=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(re)){const Re=new y.BH;if(this.instancesDeferred.set(re,Re),this.isInitialized(re)||this.shouldAutoInitialize())try{const mt=this.getOrInitializeService({instanceIdentifier:re});mt&&Re.resolve(mt)}catch{}}return this.instancesDeferred.get(re).promise}getImmediate(ie){var re;const Re=this.normalizeInstanceIdentifier(ie?.identifier),mt=null!==(re=ie?.optional)&&void 0!==re&&re;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(mt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(We){if(mt)return null;throw We}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function je(ze){return"EAGER"===ze.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[re,Re]of this.instancesDeferred.entries()){const mt=this.normalizeInstanceIdentifier(re);try{const We=this.getOrInitializeService({instanceIdentifier:mt});Re.resolve(We)}catch{}}}}clearInstance(ie=Ce){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,l.Z)(function*(){const re=Array.from(ie.instances.values());yield Promise.all([...re.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...re.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=Ce){return this.instances.has(ie)}getOptions(ie=Ce){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:re={}}=ie,Re=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const mt=this.getOrInitializeService({instanceIdentifier:Re,options:re});for(const[We,Rt]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(We)&&Rt.resolve(mt);return mt}onInit(ie,re){var Re;const mt=this.normalizeInstanceIdentifier(re),We=null!==(Re=this.onInitCallbacks.get(mt))&&void 0!==Re?Re:new Set;We.add(ie),this.onInitCallbacks.set(mt,We);const Rt=this.instances.get(mt);return Rt&&ie(Rt,mt),()=>{We.delete(ie)}}invokeOnInitCallbacks(ie,re){const Re=this.onInitCallbacks.get(re);if(Re)for(const mt of Re)try{mt(ie,re)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:re={}}){let Re=this.instances.get(ie);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(ze=ie,ze===Ce?void 0:ze),options:re}),this.instances.set(ie,Re),this.instancesOptions.set(ie,re),this.invokeOnInitCallbacks(Re,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,Re)}catch{}var ze;return Re||null}normalizeInstanceIdentifier(ie=Ce){return this.component?this.component.multipleInstances?ie:Ce:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const re=this.getProvider(ie.name);if(re.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);re.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const re=new me(ie,this);return this.providers.set(ie,re),re}getProviders(){return Array.from(this.providers.values())}}},7879:(on,et,k)=>{k.d(et,{Am:()=>ze,Ub:()=>Le,Yd:()=>je,in:()=>y});const l=[];var y=function(ie){return ie[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",ie}(y||{});const z={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},Ce=y.INFO,me={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},be=(ie,re,...Re)=>{if(re<ie.logLevel)return;const mt=(new Date).toISOString(),We=me[re];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[We](`[${mt}]  ${ie.name}:`,...Re)};class je{constructor(re){this.name=re,this._logLevel=Ce,this._logHandler=be,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in y))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?z[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...re),this._logHandler(this,y.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...re),this._logHandler(this,y.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,y.INFO,...re),this._logHandler(this,y.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,y.WARN,...re),this._logHandler(this,y.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...re),this._logHandler(this,y.ERROR,...re)}}function Le(ie){l.forEach(re=>{re.setLogLevel(ie)})}function ze(ie,re){for(const Re of l){let mt=null;re&&re.level&&(mt=z[re.level]),Re.userLogHandler=null===ie?null:(We,Rt,...vt)=>{const Vt=vt.map(bt=>{if(null==bt)return null;if("string"==typeof bt)return bt;if("number"==typeof bt||"boolean"==typeof bt)return bt.toString();if(bt instanceof Error)return bt.message;try{return JSON.stringify(bt)}catch{return null}}).filter(bt=>bt).join(" ");Rt>=(mt??We.logLevel)&&ie({level:y[Rt].toLowerCase(),message:Vt,args:vt,type:We.name})}}}},3182:(on,et,k)=>{k.d(et,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=k(534);(0,l.registerVersion)("firebase","10.12.2","app")},7142:(on,et,k)=>{k.d(et,{Z:()=>l.Z});var l=k(3106);l.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(on,et,k)=>{k.r(et);var l=k(5861),y=k(3106),z=k(35),Ce=k(9058),je=(k(534),k(7879),k(4537));function Le(){return window}function re(){return re=(0,l.Z)(function*(V,x,O){var ae;const{BuildInfo:xe}=Le();(0,z.au)(x.sessionId,"AuthEvent did not contain a session ID");const gt=yield function bt(V){return sn.apply(this,arguments)}(x.sessionId),Pt={};return(0,z.av)()?Pt.ibi=xe.packageName:(0,z.aw)()?Pt.apn=xe.packageName:(0,z.ax)(V,"operation-not-supported-in-this-environment"),xe.displayName&&(Pt.appDisplayName=xe.displayName),Pt.sessionId=gt,(0,z.ay)(V,O,x.type,void 0,null!==(ae=x.eventId)&&void 0!==ae?ae:void 0,Pt)}),re.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(V){const{BuildInfo:x}=Le(),O={};(0,z.av)()?O.iosBundleId=x.packageName:(0,z.aw)()?O.androidPackageName=x.packageName:(0,z.ax)(V,"operation-not-supported-in-this-environment"),yield(0,z.az)(V,O)})).apply(this,arguments)}function vt(){return(vt=(0,l.Z)(function*(V,x,O){const{cordova:ae}=Le();let xe=()=>{};try{yield new Promise((gt,Pt)=>{let nn=null;function Zt(){var vn;gt();const Qn=null===(vn=ae.plugins.browsertab)||void 0===vn?void 0:vn.close;"function"==typeof Qn&&Qn(),"function"==typeof O?.close&&O.close()}function Qt(){nn||(nn=window.setTimeout(()=>{Pt((0,z.aB)(V,"redirect-cancelled-by-user"))},2e3))}function Gn(){"visible"===document?.visibilityState&&Qt()}x.addPassiveListener(Zt),document.addEventListener("resume",Qt,!1),(0,z.aw)()&&document.addEventListener("visibilitychange",Gn,!1),xe=()=>{x.removePassiveListener(Zt),document.removeEventListener("resume",Qt,!1),document.removeEventListener("visibilitychange",Gn,!1),nn&&window.clearTimeout(nn)}})}finally{xe()}})).apply(this,arguments)}function sn(){return(sn=(0,l.Z)(function*(V){const x=function qe(V){if((0,z.au)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const x=new ArrayBuffer(V.length),O=new Uint8Array(x);for(let ae=0;ae<V.length;ae++)O[ae]=V.charCodeAt(ae);return O}(V),O=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(O)).map(xe=>xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Xe extends z.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(x)),super.onEvent(x)}initialized(){var x=this;return(0,l.Z)(function*(){yield x.initPromise})()}}function yt(V){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(V){const x=yield Jt()._get(xn(V));return x&&(yield Jt()._remove(xn(V))),x})).apply(this,arguments)}function Ht(){const V=[];for(let O=0;O<20;O++){const ae=Math.floor(62*Math.random());V.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ae))}return V.join("")}function Jt(){return(0,z.aE)(z.b)}function xn(V){return(0,z.aF)("authEvent",V.config.apiKey,V.name)}function it(V){if(!V?.includes("?"))return{};const[x,...O]=V.split("?");return(0,Ce.zd)(O.join("?"))}const se=class le{constructor(){this._redirectPersistence=z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z.aG,this._overrideRedirectResult=z.aH}_initialize(x){var O=this;return(0,l.Z)(function*(){const ae=x._key();let xe=O.eventManagers.get(ae);return xe||(xe=new Xe(x),O.eventManagers.set(ae,xe),O.attachCallbackListeners(x,xe)),xe})()}_openPopup(x){(0,z.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,O,ae,xe){var gt=this;return(0,l.Z)(function*(){!function Vt(V){var x,O,ae,xe,gt,Pt,nn,Zt,Qt,Gn;const vn=Le();(0,z.aC)("function"==typeof(null===(x=vn?.universalLinks)||void 0===x?void 0:x.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,z.aC)(typeof(null===(O=vn?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,z.aC)("function"==typeof(null===(gt=null===(xe=null===(ae=vn?.cordova)||void 0===ae?void 0:ae.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===gt?void 0:gt.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aC)("function"==typeof(null===(Zt=null===(nn=null===(Pt=vn?.cordova)||void 0===Pt?void 0:Pt.plugins)||void 0===nn?void 0:nn.browsertab)||void 0===Zt?void 0:Zt.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aC)("function"==typeof(null===(Gn=null===(Qt=vn?.cordova)||void 0===Qt?void 0:Qt.InAppBrowser)||void 0===Gn?void 0:Gn.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const Pt=yield gt._initialize(x);yield Pt.initialized(),Pt.resetRedirect(),(0,z.aI)(),yield gt._originValidation(x);const nn=function Ye(V,x,O=null){return{type:x,eventId:O,urlResponse:null,sessionId:Ht(),postBody:null,tenantId:V.tenantId,error:(0,z.aB)(V,"no-auth-event")}}(x,ae,xe);yield function Qe(V,x){return Jt()._set(xn(V),x)}(x,nn);const Zt=yield function ie(V,x,O){return re.apply(this,arguments)}(x,nn,O),Qt=yield function We(V){const{cordova:x}=Le();return new Promise(O=>{x.plugins.browsertab.isAvailable(ae=>{let xe=null;ae?x.plugins.browsertab.openUrl(V):xe=x.InAppBrowser.open(V,(0,z.aA)()?"_blank":"_system","location=yes"),O(xe)})})}(Zt);return function Rt(V,x,O){return vt.apply(this,arguments)}(x,Pt,Qt)})()}_isIframeWebStorageSupported(x,O){throw new Error("Method not implemented.")}_originValidation(x){const O=x._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function Re(V){return mt.apply(this,arguments)}(x)),this.originValidationPromises[O]}attachCallbackListeners(x,O){const{universalLinks:ae,handleOpenURL:xe,BuildInfo:gt}=Le(),Pt=setTimeout((0,l.Z)(function*(){yield yt(x),O.onEvent(Ae())}),500),nn=function(){var Gn=(0,l.Z)(function*(vn){clearTimeout(Pt);const Qn=yield yt(x);let ki=null;Qn&&vn?.url&&(ki=function ge(V,x){var O,ae;const xe=function Tt(V){const x=it(V),O=x.link?decodeURIComponent(x.link):void 0,ae=it(O).link,xe=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return it(xe).link||xe||ae||O||V}(x);if(xe.includes("/__/auth/callback")){const gt=it(xe),Pt=gt.firebaseError?function $e(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(gt.firebaseError)):null,nn=null===(ae=null===(O=Pt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===ae?void 0:ae[1],Zt=nn?(0,z.aB)(nn):null;return Zt?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Zt,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:xe,postBody:null}}return null}(Qn,vn.url)),O.onEvent(ki||Ae())});return function(Qn){return Gn.apply(this,arguments)}}();typeof ae<"u"&&"function"==typeof ae.subscribe&&ae.subscribe(null,nn);const Zt=xe,Qt=`${gt.packageName.toLowerCase()}://`;Le().handleOpenURL=function(){var Gn=(0,l.Z)(function*(vn){if(vn.toLowerCase().startsWith(Qt)&&nn({url:vn}),"function"==typeof Zt)try{Zt(vn)}catch(Qn){console.error(Qn)}});return function(vn){return Gn.apply(this,arguments)}}()}};function Ae(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,z.aB)("no-auth-event")}}function Et(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function an(V=(0,Ce.z$)()){return!("file:"!==Et()&&"ionic:"!==Et()&&"capacitor:"!==Et()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function xt(){try{const V=self.localStorage,x=z.aN();if(V)return V.setItem(x,"1"),V.removeItem(x),!function tr(V=(0,Ce.z$)()){return function Sn(){return(0,Ce.w1)()&&11===document?.documentMode}()||function _n(V=(0,Ce.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,Ce.hl)()}catch{return En()&&(0,Ce.hl)()}return!1}function En(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function It(){return"http:"===Et()||"https:"===Et()}()||(0,Ce.ru)()||an())&&!function qt(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&xt()&&!En()}function Ut(){return an()&&typeof document<"u"}function Dr(){return(Dr=(0,l.Z)(function*(){return!!Ut()&&new Promise(V=>{const x=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),V(!0)})})})).apply(this,arguments)}const sr={LOCAL:"local",NONE:"none",SESSION:"session"},Fn=z.aC,Ot="persistence";function Cn(V){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(V){yield V._initializationPromise;const x=cr(),O=z.aF(Ot,V.config.apiKey,V.name);x&&x.setItem(O,V._getPersistence())})).apply(this,arguments)}function cr(){var V;try{return(null===(V=function tn(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const xr=z.aC;class Mn{constructor(){this.browserResolver=z.aE(z.k),this.cordovaResolver=z.aE(se),this.underlyingResolver=null,this._redirectPersistence=z.a,this._completeRedirectFn=z.aG,this._overrideRedirectResult=z.aH}_initialize(x){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,O,ae,xe){var gt=this;return(0,l.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openPopup(x,O,ae,xe)})()}_openRedirect(x,O,ae,xe){var gt=this;return(0,l.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openRedirect(x,O,ae,xe)})()}_isIframeWebStorageSupported(x,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,O)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return Ut()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,l.Z)(function*(){if(x.underlyingResolver)return;const O=yield function Nt(){return Dr.apply(this,arguments)}();x.underlyingResolver=O?x.cordovaResolver:x.browserResolver})()}}function Or(V){return V.unwrap()}function Xt(V){return $n(V)}function $n(V){const{_tokenResponse:x}=V instanceof Ce.ZR?V.customData:V;if(!x)return null;if(!(V instanceof Ce.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return z.P.credentialFromResult(V);const O=x.providerId;if(!O||O===z.p.PASSWORD)return null;let ae;switch(O){case z.p.GOOGLE:ae=z.X;break;case z.p.FACEBOOK:ae=z.W;break;case z.p.GITHUB:ae=z.Y;break;case z.p.TWITTER:ae=z.$;break;default:const{oauthIdToken:xe,oauthAccessToken:gt,oauthTokenSecret:Pt,pendingToken:nn,nonce:Zt}=x;return gt||Pt||xe||nn?nn?O.startsWith("saml.")?z.aQ._create(O,nn):z.N._fromParams({providerId:O,signInMethod:O,pendingToken:nn,idToken:xe,accessToken:gt}):new z.Z(O).credential({idToken:xe,accessToken:gt,rawNonce:Zt}):null}return V instanceof Ce.ZR?ae.credentialFromError(V):ae.credentialFromResult(V)}function nr(V,x){return x.catch(O=>{throw O instanceof Ce.ZR&&function Nr(V,x){var O;const ae=null===(O=x.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new Be(V,z.as(V,x));else if(ae){const xe=$n(x),gt=x;xe&&(gt.credential=xe,gt.tenantId=ae.tenantId||void 0,gt.email=ae.email||void 0,gt.phoneNumber=ae.phoneNumber||void 0)}}(V,O),O}).then(O=>{const xe=O.user;return{operationType:O.operationType,credential:Xt(O),additionalUserInfo:z.aq(O),user:pt.getOrCreate(xe)}})}function Dn(V,x){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(V,x){const O=yield x;return{verificationId:O.verificationId,confirm:ae=>nr(V,O.confirm(ae))}})).apply(this,arguments)}class Be{constructor(x,O){this.resolver=O,this.auth=function Ci(V){return V.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return nr(Or(this.auth),this.resolver.resolveSignIn(x))}}class pt{constructor(x){this._delegate=x,this.multiFactor=z.at(x)}static getOrCreate(x){return pt.USER_MAP.has(x)||pt.USER_MAP.set(x,new pt(x)),pt.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var O=this;return(0,l.Z)(function*(){return nr(O.auth,z.a2(O._delegate,x))})()}linkWithPhoneNumber(x,O){var ae=this;return(0,l.Z)(function*(){return Dn(ae.auth,z.l(ae._delegate,x,O))})()}linkWithPopup(x){var O=this;return(0,l.Z)(function*(){return nr(O.auth,z.d(O._delegate,x,Mn))})()}linkWithRedirect(x){var O=this;return(0,l.Z)(function*(){return yield Cn(z.aJ(O.auth)),z.g(O._delegate,x,Mn)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var O=this;return(0,l.Z)(function*(){return nr(O.auth,z.a3(O._delegate,x))})()}reauthenticateWithPhoneNumber(x,O){return Dn(this.auth,z.r(this._delegate,x,O))}reauthenticateWithPopup(x){return nr(this.auth,z.e(this._delegate,x,Mn))}reauthenticateWithRedirect(x){var O=this;return(0,l.Z)(function*(){return yield Cn(z.aJ(O.auth)),z.h(O._delegate,x,Mn)})()}sendEmailVerification(x){return z.ag(this._delegate,x)}unlink(x){var O=this;return(0,l.Z)(function*(){return yield z.ap(O._delegate,x),O})()}updateEmail(x){return z.al(this._delegate,x)}updatePassword(x){return z.am(this._delegate,x)}updatePhoneNumber(x){return z.u(this._delegate,x)}updateProfile(x){return z.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,O){return z.ah(this._delegate,x,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pt.USER_MAP=new WeakMap;const J=z.aC;let ye=(()=>{class V{constructor(O,ae){if(this.app=O,ae.isInitialized())return this._delegate=ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xe}=O.options;J(xe,"invalid-api-key",{appName:O.name}),J(xe,"invalid-api-key",{appName:O.name});const gt=typeof window<"u"?Mn:void 0;this._delegate=ae.initialize({options:{persistence:Bt(xe,O.name),popupRedirectResolver:gt}}),this._delegate._updateErrorMap(z.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,ae){z.K(this._delegate,O,ae)}applyActionCode(O){return z.a7(this._delegate,O)}checkActionCode(O){return z.a8(this._delegate,O)}confirmPasswordReset(O,ae){return z.a6(this._delegate,O,ae)}createUserWithEmailAndPassword(O,ae){var xe=this;return(0,l.Z)(function*(){return nr(xe._delegate,z.aa(xe._delegate,O,ae))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return z.af(this._delegate,O)}isSignInWithEmailLink(O){return z.ad(this._delegate,O)}getRedirectResult(){var O=this;return(0,l.Z)(function*(){J(On(),O._delegate,"operation-not-supported-in-this-environment");const ae=yield z.j(O._delegate,Mn);return ae?nr(O._delegate,Promise.resolve(ae)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function Ge(V,x){(0,z.aJ)(V)._logFramework(x)}(this._delegate,O)}onAuthStateChanged(O,ae,xe){const{next:gt,error:Pt,complete:nn}=ft(O,ae,xe);return this._delegate.onAuthStateChanged(gt,Pt,nn)}onIdTokenChanged(O,ae,xe){const{next:gt,error:Pt,complete:nn}=ft(O,ae,xe);return this._delegate.onIdTokenChanged(gt,Pt,nn)}sendSignInLinkToEmail(O,ae){return z.ac(this._delegate,O,ae)}sendPasswordResetEmail(O,ae){return z.a5(this._delegate,O,ae||void 0)}setPersistence(O){var ae=this;return(0,l.Z)(function*(){let xe;switch(function cn(V,x){Fn(Object.values(sr).includes(x),V,"invalid-persistence-type"),(0,Ce.b$)()?Fn(x!==sr.SESSION,V,"unsupported-persistence-type"):(0,Ce.UG)()?Fn(x===sr.NONE,V,"unsupported-persistence-type"):En()?Fn(x===sr.NONE||x===sr.LOCAL&&(0,Ce.hl)(),V,"unsupported-persistence-type"):Fn(x===sr.NONE||xt(),V,"unsupported-persistence-type")}(ae._delegate,O),O){case sr.SESSION:xe=z.a;break;case sr.LOCAL:xe=(yield z.aE(z.i)._isAvailable())?z.i:z.b;break;case sr.NONE:xe=z.U;break;default:return z.ax("argument-error",{appName:ae._delegate.name})}return ae._delegate.setPersistence(xe)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return nr(this._delegate,z.a0(this._delegate))}signInWithCredential(O){return nr(this._delegate,z.a1(this._delegate,O))}signInWithCustomToken(O){return nr(this._delegate,z.a4(this._delegate,O))}signInWithEmailAndPassword(O,ae){return nr(this._delegate,z.ab(this._delegate,O,ae))}signInWithEmailLink(O,ae){return nr(this._delegate,z.ae(this._delegate,O,ae))}signInWithPhoneNumber(O,ae){return Dn(this._delegate,z.s(this._delegate,O,ae))}signInWithPopup(O){var ae=this;return(0,l.Z)(function*(){return J(On(),ae._delegate,"operation-not-supported-in-this-environment"),nr(ae._delegate,z.c(ae._delegate,O,Mn))})()}signInWithRedirect(O){var ae=this;return(0,l.Z)(function*(){return J(On(),ae._delegate,"operation-not-supported-in-this-environment"),yield Cn(ae._delegate),z.f(ae._delegate,O,Mn)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return z.a9(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=sr,V})();function ft(V,x,O){let ae=V;"function"!=typeof V&&({next:ae,error:x,complete:O}=V);const xe=ae;return{next:Pt=>xe(Pt&&pt.getOrCreate(Pt)),error:x,complete:O}}function Bt(V,x){const O=function ir(V,x){const O=cr();if(!O)return[];const ae=z.aF(Ot,V,x);switch(O.getItem(ae)){case sr.NONE:return[z.U];case sr.LOCAL:return[z.i,z.a];case sr.SESSION:return[z.a];default:return[]}}(V,x);if(typeof self<"u"&&!O.includes(z.i)&&O.push(z.i),typeof window<"u")for(const ae of[z.b,z.a])O.includes(ae)||O.push(ae);return O.includes(z.U)||O.push(z.U),O}class Tn{constructor(){this.providerId="phone",this._delegate=new z.P(Or(y.Z.auth()))}static credential(x,O){return z.P.credential(x,O)}verifyPhoneNumber(x,O){return this._delegate.verifyPhoneNumber(x,O)}unwrap(){return this._delegate}}Tn.PHONE_SIGN_IN_METHOD=z.P.PHONE_SIGN_IN_METHOD,Tn.PROVIDER_ID=z.P.PROVIDER_ID;const gr=z.aC;class Yn{constructor(x,O,ae=y.Z.app()){var xe;gr(null===(xe=ae.options)||void 0===xe?void 0:xe.apiKey,"invalid-api-key",{appName:ae.name}),this._delegate=new z.R(ae.auth(),x,O),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Y(V){V.INTERNAL.registerComponent(new je.wA("auth-compat",x=>{const O=x.getProvider("app-compat").getImmediate(),ae=x.getProvider("auth");return new ye(O,ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:z.A.EMAIL_SIGNIN,PASSWORD_RESET:z.A.PASSWORD_RESET,RECOVER_EMAIL:z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:z.A.VERIFY_EMAIL}},EmailAuthProvider:z.V,FacebookAuthProvider:z.W,GithubAuthProvider:z.Y,GoogleAuthProvider:z.X,OAuthProvider:z.Z,SAMLAuthProvider:z._,PhoneAuthProvider:Tn,PhoneMultiFactorGenerator:z.m,RecaptchaVerifier:Yn,TwitterAuthProvider:z.$,Auth:ye,AuthCredential:z.L,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.5.9")}(y.Z)},5861:(on,et,k)=>{function l(z,Ce,me,be,je,Le,ze){try{var ie=z[Le](ze),re=ie.value}catch(Re){return void me(Re)}ie.done?Ce(re):Promise.resolve(re).then(be,je)}function y(z){return function(){var Ce=this,me=arguments;return new Promise(function(be,je){var Le=z.apply(Ce,me);function ze(re){l(Le,be,je,ze,ie,"next",re)}function ie(re){l(Le,be,je,ze,ie,"throw",re)}ze(void 0)})}}k.d(et,{Z:()=>y})},7582:(on,et,k)=>{function Ce(se,Ae){var Ge={};for(var ve in se)Object.prototype.hasOwnProperty.call(se,ve)&&Ae.indexOf(ve)<0&&(Ge[ve]=se[ve]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(ve=Object.getOwnPropertySymbols(se);Ie<ve.length;Ie++)Ae.indexOf(ve[Ie])<0&&Object.prototype.propertyIsEnumerable.call(se,ve[Ie])&&(Ge[ve[Ie]]=se[ve[Ie]])}return Ge}function Re(se,Ae,Ge,ve){return new(Ge||(Ge=Promise))(function(Fe,Et){function It(Sn){try{qt(ve.next(Sn))}catch(_n){Et(_n)}}function an(Sn){try{qt(ve.throw(Sn))}catch(_n){Et(_n)}}function qt(Sn){Sn.done?Fe(Sn.value):function Ie(Fe){return Fe instanceof Ge?Fe:new Ge(function(Et){Et(Fe)})}(Sn.value).then(It,an)}qt((ve=ve.apply(se,Ae||[])).next())})}function ke(se){return this instanceof ke?(this.v=se,this):new ke(se)}function Xe(se,Ae,Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ve=Ge.apply(se,Ae||[]),Fe=[];return Ie={},It("next"),It("throw"),It("return",function Et(xt){return function(En){return Promise.resolve(En).then(xt,_n)}}),Ie[Symbol.asyncIterator]=function(){return this},Ie;function It(xt,En){ve[xt]&&(Ie[xt]=function(On){return new Promise(function(Ut,Nt){Fe.push([xt,On,Ut,Nt])>1||an(xt,On)})},En&&(Ie[xt]=En(Ie[xt])))}function an(xt,En){try{!function qt(xt){xt.value instanceof ke?Promise.resolve(xt.value.v).then(Sn,_n):tr(Fe[0][2],xt)}(ve[xt](En))}catch(On){tr(Fe[0][3],On)}}function Sn(xt){an("next",xt)}function _n(xt){an("throw",xt)}function tr(xt,En){xt(En),Fe.shift(),Fe.length&&an(Fe[0][0],Fe[0][1])}}function Qe(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,Ae=se[Symbol.asyncIterator];return Ae?Ae.call(se):(se=function vt(se){var Ae="function"==typeof Symbol&&Symbol.iterator,Ge=Ae&&se[Ae],ve=0;if(Ge)return Ge.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&ve>=se.length&&(se=void 0),{value:se&&se[ve++],done:!se}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Ge={},ve("next"),ve("throw"),ve("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge);function ve(Fe){Ge[Fe]=se[Fe]&&function(Et){return new Promise(function(It,an){!function Ie(Fe,Et,It,an){Promise.resolve(an).then(function(qt){Fe({value:qt,done:It})},Et)}(It,an,(Et=se[Fe](Et)).done,Et.value)})}}}k.d(et,{FC:()=>Xe,KL:()=>Qe,_T:()=>Ce,mG:()=>Re,qq:()=>ke}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=7877)}]);