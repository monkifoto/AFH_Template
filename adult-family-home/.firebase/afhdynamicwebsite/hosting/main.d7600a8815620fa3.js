"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(rn,Je,F)=>{F.d(Je,{$:()=>Qa,A:()=>te,G:()=>_e,K:()=>xr,L:()=>ts,N:()=>Se,P:()=>qo,R:()=>Fu,U:()=>an,V:()=>Li,W:()=>Si,X:()=>Kr,Y:()=>$o,Z:()=>xi,_:()=>ta,a:()=>Ua,a0:()=>Ao,a1:()=>ss,a2:()=>no,a3:()=>Qs,a4:()=>Gi,a5:()=>ka,a6:()=>Au,a7:()=>Pl,a8:()=>Ho,a9:()=>Du,aA:()=>sr,aB:()=>Ze,aC:()=>Ce,aD:()=>np,aE:()=>ht,aF:()=>fn,aG:()=>zh,aH:()=>jl,aI:()=>Hh,aJ:()=>mr,aN:()=>Pr,aQ:()=>Ys,aa:()=>kh,ab:()=>Su,ac:()=>nl,ad:()=>Fa,ae:()=>La,af:()=>zc,ag:()=>ne,ah:()=>Y,ak:()=>Un,al:()=>hi,am:()=>Nr,ap:()=>Do,aq:()=>Ci,as:()=>Nl,at:()=>ra,au:()=>pn,av:()=>yi,aw:()=>Fi,ax:()=>we,ay:()=>ml,az:()=>Yo,b:()=>cc,c:()=>cl,d:()=>$u,e:()=>jh,f:()=>hl,g:()=>hc,h:()=>$l,i:()=>O,j:()=>ep,k:()=>Jh,l:()=>Aa,m:()=>tu,p:()=>je,r:()=>Lu,s:()=>oa,u:()=>Bu});var o=F(467),de=F(7852),s=F(1076),ve=F(8041),ye=F(1635),Re=F(1362);const je={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const _e=function ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},it=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new s.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kt=new ve.Vy("@firebase/auth");function ze(C,..._){kt.logLevel<=ve.$b.ERROR&&kt.error(`Auth (${de.SDK_VERSION}): ${C}`,..._)}function we(C,..._){throw Ot(C,..._)}function Ze(C,..._){return Ot(C,..._)}function Ve(C,_,v){const S=Object.assign(Object.assign({},it()),{[_]:v});return new s.FA("auth","Firebase",S).create(_,{appName:C.name})}function et(C){return Ve(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $e(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&we(C,"argument-error"),Ve(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ot(C,..._){if("string"!=typeof C){const v=_[0],S=[..._.slice(1)];return S[0]&&(S[0].appName=C.name),C._errorFactory.create(v,...S)}return lt.create(C,..._)}function Ce(C,_,...v){if(!C)throw Ot(_,...v)}function qt(C){const _="INTERNAL ASSERTION FAILED: "+C;throw ze(_),new Error(_)}function pn(C,_){C||qt(_)}function ir(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Ye(){return"http:"===Pt()||"https:"===Pt()}function Pt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Oe{constructor(_,v){this.shortDelay=_,this.longDelay=v,pn(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,s.jZ)()||(0,s.lV)()}get(){return function Ue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ye()||(0,s.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(C,_){pn(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class tn{static initialize(_,v,S){this.fetchImpl=_,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void qt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void qt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void qt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const We={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Pe=new Oe(3e4,6e4);function Ie(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function ke(C,_,v,S){return ut.apply(this,arguments)}function ut(){return(ut=(0,o.A)(function*(C,_,v,S,X={}){return rt(C,X,(0,o.A)(function*(){let he={},Xe={};S&&("GET"===_?Xe=S:he={body:JSON.stringify(S)});const Rt=(0,s.Am)(Object.assign({key:C.config.apiKey},Xe)).slice(1),zt=yield C._getAdditionalHeaders();zt["Content-Type"]="application/json",C.languageCode&&(zt["X-Firebase-Locale"]=C.languageCode);const xn=Object.assign({method:_,headers:zt},he);return(0,s.c1)()||(xn.referrerPolicy="no-referrer"),tn.fetch()(sn(C,C.config.apiHost,v,Rt),xn)}))})).apply(this,arguments)}function rt(C,_,v){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,o.A)(function*(C,_,v){C._canInitEmulator=!1;const S=Object.assign(Object.assign({},We),_);try{const X=new Jt(C),he=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const Xe=yield he.json();if("needConfirmation"in Xe)throw $n(C,"account-exists-with-different-credential",Xe);if(he.ok&&!("errorMessage"in Xe))return Xe;{const Rt=he.ok?Xe.errorMessage:Xe.error.message,[zt,xn]=Rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===zt)throw $n(C,"credential-already-in-use",Xe);if("EMAIL_EXISTS"===zt)throw $n(C,"email-already-in-use",Xe);if("USER_DISABLED"===zt)throw $n(C,"user-disabled",Xe);const Pn=S[zt]||zt.toLowerCase().replace(/[_\s]+/g,"-");if(xn)throw Ve(C,Pn,xn);we(C,Pn)}}catch(X){if(X instanceof s.g)throw X;we(C,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function wn(C,_,v,S){return nr.apply(this,arguments)}function nr(){return(nr=(0,o.A)(function*(C,_,v,S,X={}){const he=yield ke(C,_,v,S,X);return"mfaPendingCredential"in he&&we(C,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function sn(C,_,v,S){const X=`${_}${v}?${S}`;return C.config.emulator?st(C.config,X):`${C.config.apiScheme}://${X}`}function Vn(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(Ze(this.auth,"network-request-failed")),Pe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(C,_,v){const S={appName:C.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const X=Ze(C,_,S);return X.customData._tokenResponse=v,X}function On(C){return void 0!==C&&void 0!==C.getResponse}function Gt(C){return void 0!==C&&void 0!==C.enterprise}class Bt{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return Vn(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function on(){return(on=(0,o.A)(function*(C){return(yield ke(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function kr(C,_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,o.A)(function*(C,_){return ke(C,"GET","/v2/recaptchaConfig",Ie(C,_))})).apply(this,arguments)}function bn(){return(bn=(0,o.A)(function*(C,_){return ke(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function In(){return(In=(0,o.A)(function*(C,_){return ke(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function $r(C,_){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,o.A)(function*(C,_){return ke(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function ri(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ys(){return(ys=(0,o.A)(function*(C,_=!1){const v=(0,s.Ku)(C),S=yield v.getIdToken(_),X=ii(S);Ce(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const he="object"==typeof X.firebase?X.firebase:void 0,Xe=he?.sign_in_provider;return{claims:X,token:S,authTime:ri(hn(X.auth_time)),issuedAtTime:ri(hn(X.iat)),expirationTime:ri(hn(X.exp)),signInProvider:Xe||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function hn(C){return 1e3*Number(C)}function ii(C){const[_,v,S]=C.split(".");if(void 0===_||void 0===v||void 0===S)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,s.u)(v);return X?JSON.parse(X):(ze("Failed to decode base64 JWT payload"),null)}catch(X){return ze("Caught error parsing JWT payload as JSON",X?.toString()),null}}function Jn(C){const _=ii(C);return Ce(_,"internal-error"),Ce(typeof _.exp<"u","internal-error"),Ce(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function Ir(C,_){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,o.A)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(S){throw S instanceof s.g&&function Ai({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(S)&&C.auth.currentUser===C&&(yield C.auth.signOut()),S}})).apply(this,arguments)}class ot{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(_);this.timerId=setTimeout((0,o.A)(function*(){yield v.iteration()}),S)}iteration(){var _=this;return(0,o.A)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class Tt{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=ri(this.lastLoginAt),this.creationTime=ri(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ue(C){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,o.A)(function*(C){var _;const v=C.auth,S=yield C.getIdToken(),X=yield Ir(C,$r(v,{idToken:S}));Ce(X?.users.length,v,"internal-error");const he=X.users[0];C._notifyReloadListener(he);const Xe=null!==(_=he.providerUserInfo)&&void 0!==_&&_.length?_t(he.providerUserInfo):[],Rt=function Ee(C,_){return[...C.filter(S=>!_.some(X=>X.providerId===S.providerId)),..._]}(C.providerData,Xe),Pn=!!C.isAnonymous&&!(C.email&&he.passwordHash||Rt?.length),ti={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:Rt,metadata:new Tt(he.createdAt,he.lastLoginAt),isAnonymous:Pn};Object.assign(C,ti)})).apply(this,arguments)}function gt(){return(gt=(0,o.A)(function*(C){const _=(0,s.Ku)(C);yield ue(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function _t(C){return C.map(_=>{var{providerId:v}=_,S=(0,ye.Tt)(_,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function Er(){return(Er=(0,o.A)(function*(C,_){const v=yield rt(C,{},(0,o.A)(function*(){const S=(0,s.Am)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:X,apiKey:he}=C.config,Xe=sn(C,X,"/v1/token",`key=${he}`),Rt=yield C._getAdditionalHeaders();return Rt["Content-Type"]="application/x-www-form-urlencoded",tn.fetch()(Xe,{method:"POST",headers:Rt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $(){return($=(0,o.A)(function*(C,_){return ke(C,"POST","/v2/accounts:revokeToken",Ie(C,_))})).apply(this,arguments)}class M{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ce(_.idToken,"internal-error"),Ce(typeof _.idToken<"u","internal-error"),Ce(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):Jn(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}updateFromIdToken(_){Ce(0!==_.length,"internal-error");const v=Jn(_);this.updateTokensAndExpiration(_,null,v)}getToken(_,v=!1){var S=this;return(0,o.A)(function*(){return v||!S.accessToken||S.isExpired?(Ce(S.refreshToken,_,"user-token-expired"),S.refreshToken?(yield S.refresh(_,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var S=this;return(0,o.A)(function*(){const{accessToken:X,refreshToken:he,expiresIn:Xe}=yield function Yt(C,_){return Er.apply(this,arguments)}(_,v);S.updateTokensAndExpiration(X,he,Number(Xe))})()}updateTokensAndExpiration(_,v,S){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(_,v){const{refreshToken:S,accessToken:X,expirationTime:he}=v,Xe=new M;return S&&(Ce("string"==typeof S,"internal-error",{appName:_}),Xe.refreshToken=S),X&&(Ce("string"==typeof X,"internal-error",{appName:_}),Xe.accessToken=X),he&&(Ce("number"==typeof he,"internal-error",{appName:_}),Xe.expirationTime=he),Xe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new M,this.toJSON())}_performRefresh(){return qt("not implemented")}}function L(C,_){Ce("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class ie{constructor(_){var{uid:v,auth:S,stsTokenManager:X}=_,he=(0,ye.Tt)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new Tt(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,o.A)(function*(){const S=yield Ir(v,v.stsTokenManager.getToken(v.auth,_));return Ce(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(_){return function pi(C){return ys.apply(this,arguments)}(this,_)}reload(){return function fe(C){return gt.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ce(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new ie(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var S=this;return(0,o.A)(function*(){let X=!1;_.idToken&&_.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(_),X=!0),v&&(yield ue(S)),yield S.auth._persistUserIfCurrent(S),X&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var _=this;return(0,o.A)(function*(){if((0,de._isFirebaseServerApp)(_.auth.app))return Promise.reject(et(_.auth));const v=yield _.getIdToken();return yield Ir(_,function $t(C,_){return bn.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var S,X,he,Xe,Rt,zt,xn,Pn;const ti=null!==(S=v.displayName)&&void 0!==S?S:void 0,Oo=null!==(X=v.email)&&void 0!==X?X:void 0,la=null!==(he=v.phoneNumber)&&void 0!==he?he:void 0,gc=null!==(Xe=v.photoURL)&&void 0!==Xe?Xe:void 0,zd=null!==(Rt=v.tenantId)&&void 0!==Rt?Rt:void 0,Wd=null!==(zt=v._redirectEventId)&&void 0!==zt?zt:void 0,Ga=null!==(xn=v.createdAt)&&void 0!==xn?xn:void 0,Ag=null!==(Pn=v.lastLoginAt)&&void 0!==Pn?Pn:void 0,{uid:Dg,emailVerified:ca,isAnonymous:op,providerData:iu,stsTokenManager:ef}=v;Ce(Dg&&ef,_,"internal-error");const su=M.fromJSON(this.name,ef);Ce("string"==typeof Dg,_,"internal-error"),L(ti,_.name),L(Oo,_.name),Ce("boolean"==typeof ca,_,"internal-error"),Ce("boolean"==typeof op,_,"internal-error"),L(la,_.name),L(gc,_.name),L(zd,_.name),L(Wd,_.name),L(Ga,_.name),L(Ag,_.name);const Qu=new ie({uid:Dg,auth:_,email:Oo,emailVerified:ca,displayName:ti,isAnonymous:op,photoURL:gc,phoneNumber:la,tenantId:zd,stsTokenManager:su,createdAt:Ga,lastLoginAt:Ag});return iu&&Array.isArray(iu)&&(Qu.providerData=iu.map(Ju=>Object.assign({},Ju))),Wd&&(Qu._redirectEventId=Wd),Qu}static _fromIdTokenResponse(_,v,S=!1){return(0,o.A)(function*(){const X=new M;X.updateFromServerResponse(v);const he=new ie({uid:v.localId,auth:_,stsTokenManager:X,isAnonymous:S});return yield ue(he),he})()}static _fromGetAccountInfoResponse(_,v,S){return(0,o.A)(function*(){const X=v.users[0];Ce(void 0!==X.localId,"internal-error");const he=void 0!==X.providerUserInfo?_t(X.providerUserInfo):[],Xe=!(X.email&&X.passwordHash||he?.length),Rt=new M;Rt.updateFromIdToken(S);const zt=new ie({uid:X.localId,auth:_,stsTokenManager:Rt,isAnonymous:Xe}),xn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:he,metadata:new Tt(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||he?.length)};return Object.assign(zt,xn),zt})()}}const me=new Map;function ht(C){pn(C instanceof Function,"Expected a class definition");let _=me.get(C);return _?(pn(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,me.set(C,_),_)}const an=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.A)(function*(){return!0})()}_set(v,S){var X=this;return(0,o.A)(function*(){X.storage[v]=S})()}_get(v){var S=this;return(0,o.A)(function*(){const X=S.storage[v];return void 0===X?null:X})()}_remove(v){var S=this;return(0,o.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return C.type="NONE",C})();function fn(C,_,v){return`firebase:${C}:${_}:${v}`}class Sn{constructor(_,v,S){this.persistence=_,this.auth=v,this.userKey=S;const{config:X,name:he}=this.auth;this.fullUserKey=fn(this.userKey,X.apiKey,he),this.fullPersistenceKey=fn("persistence",X.apiKey,he),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,o.A)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?ie._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,o.A)(function*(){if(v.persistence===_)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,S="authUser"){return(0,o.A)(function*(){if(!v.length)return new Sn(ht(an),_,S);const X=(yield Promise.all(v.map(function(){var xn=(0,o.A)(function*(Pn){if(yield Pn._isAvailable())return Pn});return function(Pn){return xn.apply(this,arguments)}}()))).filter(xn=>xn);let he=X[0]||ht(an);const Xe=fn(S,_.config.apiKey,_.name);let Rt=null;for(const xn of v)try{const Pn=yield xn._get(Xe);if(Pn){const ti=ie._fromJSON(_,Pn);xn!==he&&(Rt=ti),he=xn;break}}catch{}const zt=X.filter(xn=>xn._shouldAllowMigration);return he._shouldAllowMigration&&zt.length?(he=zt[0],Rt&&(yield he._set(Xe,Rt.toJSON())),yield Promise.all(v.map(function(){var xn=(0,o.A)(function*(Pn){if(Pn!==he)try{yield Pn._remove(Xe)}catch{}});return function(Pn){return xn.apply(this,arguments)}}())),new Sn(he,_,S)):new Sn(he,_,S)})()}}function br(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if($s(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(ln(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(vs(_))return"Blackberry";if(Es(_))return"Webos";if(Wr(_))return"Safari";if((_.includes("chrome/")||dr(_))&&!_.includes("edge/"))return"Chrome";if(Fi(_))return"Android";{const S=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function ln(C=(0,s.ZQ)()){return/firefox\//i.test(C)}function Wr(C=(0,s.ZQ)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function dr(C=(0,s.ZQ)()){return/crios\//i.test(C)}function $s(C=(0,s.ZQ)()){return/iemobile/i.test(C)}function Fi(C=(0,s.ZQ)()){return/android/i.test(C)}function vs(C=(0,s.ZQ)()){return/blackberry/i.test(C)}function Es(C=(0,s.ZQ)()){return/webos/i.test(C)}function yi(C=(0,s.ZQ)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function sr(C=(0,s.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function at(C=(0,s.ZQ)()){return yi(C)||Fi(C)||Es(C)||vs(C)||/windows phone/i.test(C)||$s(C)}function Nt(C,_=[]){let v;switch(C){case"Browser":v=br((0,s.ZQ)());break;case"Worker":v=`${br((0,s.ZQ)())}-${C}`;break;default:v=C}const S=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${de.SDK_VERSION}/${S}`}class cn{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const S=he=>new Promise((Xe,Rt)=>{try{Xe(_(he))}catch(zt){Rt(zt)}});S.onAbort=v,this.queue.push(S);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,o.A)(function*(){if(v.auth.currentUser===_)return;const S=[];try{for(const X of v.queue)yield X(_),X.onAbort&&S.push(X.onAbort)}catch(X){S.reverse();for(const he of S)try{he()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function Ln(){return(Ln=(0,o.A)(function*(C,_={}){return ke(C,"GET","/v2/passwordPolicy",Ie(C,_))})).apply(this,arguments)}class Hr{constructor(_){var v,S,X,he;const Xe=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Xe.minPasswordLength)&&void 0!==v?v:6,Xe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Xe.maxPasswordLength),void 0!==Xe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Xe.containsLowercaseCharacter),void 0!==Xe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Xe.containsUppercaseCharacter),void 0!==Xe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Xe.containsNumericCharacter),void 0!==Xe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Xe.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(S=_.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(he=_.forceUpgradeOnSignin)&&void 0!==he&&he,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,S,X,he,Xe,Rt;const zt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,zt),this.validatePasswordCharacterOptions(_,zt),zt.isValid&&(zt.isValid=null===(v=zt.meetsMinPasswordLength)||void 0===v||v),zt.isValid&&(zt.isValid=null===(S=zt.meetsMaxPasswordLength)||void 0===S||S),zt.isValid&&(zt.isValid=null===(X=zt.containsLowercaseLetter)||void 0===X||X),zt.isValid&&(zt.isValid=null===(he=zt.containsUppercaseLetter)||void 0===he||he),zt.isValid&&(zt.isValid=null===(Xe=zt.containsNumericCharacter)||void 0===Xe||Xe),zt.isValid&&(zt.isValid=null===(Rt=zt.containsNonAlphanumericCharacter)||void 0===Rt||Rt),zt}validatePasswordLengthOptions(_,v){const S=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=_.length>=S),X&&(v.meetsMaxPasswordLength=_.length<=X)}validatePasswordCharacterOptions(_,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<_.length;X++)S=_.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(_,v,S,X,he){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=he))}}class Jr{constructor(_,v,S,X){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ki(this),this.idTokenSubscription=new Ki(this),this.beforeStateQueue=new cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(_,v){var S=this;return v&&(this._popupRedirectResolver=ht(v)),this._initializationPromise=this.queue((0,o.A)(function*(){var X,he;if(!S._deleted&&(S.persistenceManager=yield Sn.create(S,_),!S._deleted)){if(null!==(X=S._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(he=S.currentUser)||void 0===he?void 0:he.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,o.A)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(_){var v=this;return(0,o.A)(function*(){try{const S=yield $r(v,{idToken:_}),X=yield ie._fromGetAccountInfoResponse(v,S,_);yield v.directlySetCurrentUser(X)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var v=this;return(0,o.A)(function*(){var S;if((0,de._isFirebaseServerApp)(v.app)){const Rt=v.app.settings.authIdToken;return Rt?new Promise(zt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Rt).then(zt,zt))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let he=X,Xe=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Rt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,zt=he?._redirectEventId,xn=yield v.tryRedirectSignIn(_);(!Rt||Rt===zt)&&xn?.user&&(he=xn.user,Xe=!0)}if(!he)return v.directlySetCurrentUser(null);if(!he._redirectEventId){if(Xe)try{yield v.beforeStateQueue.runMiddleware(he)}catch(Rt){he=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Rt))}return he?v.reloadAndSetCurrentUserOrClear(he):v.directlySetCurrentUser(null)}return Ce(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===he._redirectEventId?v.directlySetCurrentUser(he):v.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(_){var v=this;return(0,o.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,o.A)(function*(){try{yield ue(_)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function ct(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,o.A)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,o.A)(function*(){if((0,de._isFirebaseServerApp)(v.app))return Promise.reject(et(v));const S=_?(0,s.Ku)(_):null;return S&&Ce(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(_,v=!1){var S=this;return(0,o.A)(function*(){if(!S._deleted)return _&&Ce(S.tenantId===_.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(_)),S.queue((0,o.A)(function*(){yield S.directlySetCurrentUser(_),S.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,o.A)(function*(){return(0,de._isFirebaseServerApp)(_.app)?Promise.reject(et(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var v=this;return(0,de._isFirebaseServerApp)(this.app)?Promise.reject(et(this)):this.queue((0,o.A)(function*(){yield v.assertedPersistence.setPersistence(ht(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,o.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,o.A)(function*(){const v=yield function Bn(C){return Ln.apply(this,arguments)}(_),S=new Hr(v);null===_.tenantId?_._projectPasswordPolicy=S:_._tenantPasswordPolicies[_.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new s.FA("auth","Firebase",_())}onAuthStateChanged(_,v,S){return this.registerStateListener(this.authStateSubscription,_,v,S)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,S){return this.registerStateListener(this.idTokenSubscription,_,v,S)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const S=this.onAuthStateChanged(()=>{S(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,o.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:S};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function vt(C,_){return $.apply(this,arguments)}(v,X)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var S=this;return(0,o.A)(function*(){const X=yield S.getOrInitRedirectPersistenceManager(v);return null===_?X.removeCurrentUser():X.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,o.A)(function*(){if(!v.redirectPersistenceManager){const S=_&&ht(_)||v._popupRedirectResolver;Ce(S,v,"argument-error"),v.redirectPersistenceManager=yield Sn.create(v,[ht(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,o.A)(function*(){var S,X;return v._isInitialized&&(yield v.queue((0,o.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===_?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,o.A)(function*(){if(_===v.currentUser)return v.queue((0,o.A)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,S,X){if(this._deleted)return()=>{};const he="function"==typeof v?v:v.next.bind(v);let Xe=!1;const Rt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(Rt,this,"internal-error"),Rt.then(()=>{Xe||he(this.currentUser)}),"function"==typeof v){const zt=_.addObserver(v,S,X);return()=>{Xe=!0,zt()}}{const zt=_.addObserver(v);return()=>{Xe=!0,zt()}}}directlySetCurrentUser(_){var v=this;return(0,o.A)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Nt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,o.A)(function*(){var v;const S={"X-Client-Version":_.clientVersion};_.app.options.appId&&(S["X-Firebase-gmpid"]=_.app.options.appId);const X=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(S["X-Firebase-Client"]=X);const he=yield _._getAppCheckToken();return he&&(S["X-Firebase-AppCheck"]=he),S})()}_getAppCheckToken(){var _=this;return(0,o.A)(function*(){var v;const S=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function Qt(C,..._){kt.logLevel<=ve.$b.WARN&&kt.warn(`Auth (${de.SDK_VERSION}): ${C}`,..._)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function mr(C){return(0,s.Ku)(C)}class Ki{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,s.tD)(v=>this.observer=v)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fs={loadJS:()=>(0,o.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Io(C){return Fs.loadJS(C)}function di(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Zr{constructor(_){this.type="recaptcha-enterprise",this.auth=mr(_)}verify(_="verify",v=!1){var S=this;return(0,o.A)(function*(){function he(){return he=(0,o.A)(function*(Rt){if(!v){if(null==Rt.tenantId&&null!=Rt._agentRecaptchaConfig)return Rt._agentRecaptchaConfig.siteKey;if(null!=Rt.tenantId&&void 0!==Rt._tenantRecaptchaConfigs[Rt.tenantId])return Rt._tenantRecaptchaConfigs[Rt.tenantId].siteKey}return new Promise(function(){var zt=(0,o.A)(function*(xn,Pn){kr(Rt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ti=>{if(void 0!==ti.recaptchaKey){const Oo=new Bt(ti);return null==Rt.tenantId?Rt._agentRecaptchaConfig=Oo:Rt._tenantRecaptchaConfigs[Rt.tenantId]=Oo,xn(Oo.siteKey)}Pn(new Error("recaptcha Enterprise site key undefined"))}).catch(ti=>{Pn(ti)})});return function(xn,Pn){return zt.apply(this,arguments)}}())}),he.apply(this,arguments)}function Xe(Rt,zt,xn){const Pn=window.grecaptcha;Gt(Pn)?Pn.enterprise.ready(()=>{Pn.enterprise.execute(Rt,{action:_}).then(ti=>{zt(ti)}).catch(()=>{zt("NO_RECAPTCHA")})}):xn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Rt,zt)=>{(function X(Rt){return he.apply(this,arguments)})(S.auth).then(xn=>{if(!v&&Gt(window.grecaptcha))Xe(xn,Rt,zt);else{if(typeof window>"u")return void zt(new Error("RecaptchaVerifier is only supported in browser"));let Pn=function ji(){return Fs.recaptchaEnterpriseScript}();0!==Pn.length&&(Pn+=xn),Io(Pn).then(()=>{Xe(xn,Rt,zt)}).catch(ti=>{zt(ti)})}}).catch(xn=>{zt(xn)})})})()}}function Hi(C,_,v){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,o.A)(function*(C,_,v,S=!1){const X=new Zr(C);let he;try{he=yield X.verify(v)}catch{he=yield X.verify(v,!0)}const Xe=Object.assign({},_);return Object.assign(Xe,S?{captchaResp:he}:{captchaResponse:he}),Object.assign(Xe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Xe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Xe})).apply(this,arguments)}function Ar(C,_,v,S){return uo.apply(this,arguments)}function uo(){return uo=(0,o.A)(function*(C,_,v,S){var X;if(null!==(X=C._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const he=yield Hi(C,_,v,"getOobCode"===v);return S(C,he)}return S(C,_).catch(function(){var he=(0,o.A)(function*(Xe){if("auth/missing-recaptcha-token"===Xe.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Rt=yield Hi(C,_,v,"getOobCode"===v);return S(C,Rt)}return Promise.reject(Xe)});return function(Xe){return he.apply(this,arguments)}}())}),uo.apply(this,arguments)}function xr(C,_,v){const S=mr(C);Ce(S._canInitEmulator,S,"emulator-config-failed"),Ce(/^https?:\/\//.test(_),S,"invalid-emulator-scheme");const X=!!v?.disableWarnings,he=us(_),{host:Xe,port:Rt}=function Pi(C){const _=us(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(S);if(X){const he=X[1];return{host:he,port:fr(S.substr(he.length+1))}}{const[he,Xe]=S.split(":");return{host:he,port:fr(Xe)}}}(_);S.config.emulator={url:`${he}//${Xe}${null===Rt?"":`:${Rt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Xe,port:Rt,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function Ts(){function C(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function us(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function fr(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class ts{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return qt("not implemented")}_getIdTokenResponse(_){return qt("not implemented")}_linkToIdToken(_,v){return qt("not implemented")}_getReauthenticationResolver(_){return qt("not implemented")}}function As(C,_){return ns.apply(this,arguments)}function ns(){return(ns=(0,o.A)(function*(C,_){return ke(C,"POST","/v1/accounts:resetPassword",Ie(C,_))})).apply(this,arguments)}function si(){return(si=(0,o.A)(function*(C,_){return ke(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function oi(C,_){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,o.A)(function*(C,_){return ke(C,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function qi(){return(qi=(0,o.A)(function*(C,_){return ke(C,"POST","/v1/accounts:update",Ie(C,_))})).apply(this,arguments)}function to(C,_){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithPassword",Ie(C,_))})).apply(this,arguments)}function Is(C,_){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,o.A)(function*(C,_){return ke(C,"POST","/v1/accounts:sendOobCode",Ie(C,_))})).apply(this,arguments)}function mn(){return(mn=(0,o.A)(function*(C,_){return Is(C,_)})).apply(this,arguments)}function rr(C,_){return cr.apply(this,arguments)}function cr(){return(cr=(0,o.A)(function*(C,_){return Is(C,_)})).apply(this,arguments)}function Xi(C,_){return rs.apply(this,arguments)}function rs(){return(rs=(0,o.A)(function*(C,_){return Is(C,_)})).apply(this,arguments)}function Mi(){return(Mi=(0,o.A)(function*(C,_){return Is(C,_)})).apply(this,arguments)}function vi(){return(vi=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithEmailLink",Ie(C,_))})).apply(this,arguments)}function Zn(){return(Zn=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithEmailLink",Ie(C,_))})).apply(this,arguments)}class ws extends ts{constructor(_,v,S,X=null){super("password",S),this._email=_,this._password=v,this._tenantId=X}static _fromEmailAndPassword(_,v){return new ws(_,v,"password")}static _fromEmailAndCode(_,v,S=null){return new ws(_,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,o.A)(function*(){switch(v.signInMethod){case"password":return Ar(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",to);case"emailLink":return function Fr(C,_){return vi.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:we(_,"internal-error")}})()}_linkToIdToken(_,v){var S=this;return(0,o.A)(function*(){switch(S.signInMethod){case"password":return Ar(_,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oi);case"emailLink":return function Cs(C,_){return Zn.apply(this,arguments)}(_,{idToken:v,email:S._email,oobCode:S._password});default:we(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Ss(C,_){return ee.apply(this,arguments)}function ee(){return(ee=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithIdp",Ie(C,_))})).apply(this,arguments)}class Se extends ts{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Se(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):we("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:S,signInMethod:X}=v,he=(0,ye.Tt)(v,["providerId","signInMethod"]);if(!S||!X)return null;const Xe=new Se(S,X);return Xe.idToken=he.idToken||void 0,Xe.accessToken=he.accessToken||void 0,Xe.secret=he.secret,Xe.nonce=he.nonce,Xe.pendingToken=he.pendingToken||null,Xe}_getIdTokenResponse(_){return Ss(_,this.buildRequest())}_linkToIdToken(_,v){const S=this.buildRequest();return S.idToken=v,Ss(_,S)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Ss(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,s.Am)(v)}return _}}function tt(){return(tt=(0,o.A)(function*(C,_){return ke(C,"POST","/v1/accounts:sendVerificationCode",Ie(C,_))})).apply(this,arguments)}function Kt(){return(Kt=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ie(C,_))})).apply(this,arguments)}function yn(){return(yn=(0,o.A)(function*(C,_){const v=yield wn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ie(C,_));if(v.temporaryProof)throw $n(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const jn={USER_NOT_FOUND:"user-not-found"};function Rn(){return(Rn=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ie(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),jn)})).apply(this,arguments)}class kn extends ts{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new kn({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new kn({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function It(C,_){return Kt.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function An(C,_){return yn.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Or(C,_){return Rn.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:S,verificationCode:X}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:S,code:X}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:he}=_;return S||v||X||he?new kn({verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:he}):null}}class Vr{constructor(_){var v,S,X,he,Xe,Rt;const zt=(0,s.I9)((0,s.hp)(_)),xn=null!==(v=zt.apiKey)&&void 0!==v?v:null,Pn=null!==(S=zt.oobCode)&&void 0!==S?S:null,ti=function tr(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=zt.mode)&&void 0!==X?X:null);Ce(xn&&Pn&&ti,"argument-error"),this.apiKey=xn,this.operation=ti,this.code=Pn,this.continueUrl=null!==(he=zt.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(Xe=zt.languageCode)&&void 0!==Xe?Xe:null,this.tenantId=null!==(Rt=zt.tenantId)&&void 0!==Rt?Rt:null}static parseLink(_){const v=function Ei(C){const _=(0,s.I9)((0,s.hp)(C)).link,v=_?(0,s.I9)((0,s.hp)(_)).deep_link_id:null,S=(0,s.I9)((0,s.hp)(C)).deep_link_id;return(S?(0,s.I9)((0,s.hp)(S)).link:null)||S||v||_||C}(_);try{return new Vr(v)}catch{return null}}}let Li=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,S){return ws._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const X=Vr.parseLink(S);return Ce(X,"argument-error"),ws._fromEmailAndCode(v,X.code,X.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Di{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Sr extends Di{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class xi extends Sr{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return Ce("providerId"in v&&"signInMethod"in v,"argument-error"),Se._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Ce(_.idToken||_.accessToken,"argument-error"),Se._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return xi.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return xi.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:X,pendingToken:he,nonce:Xe,providerId:Rt}=_;if(!S&&!X&&!v&&!he||!Rt)return null;try{return new xi(Rt)._credential({idToken:v,accessToken:S,nonce:Xe,pendingToken:he})}catch{return null}}}let Si=(()=>{class C extends Sr{constructor(){super("facebook.com")}static credential(v){return Se._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Kr=(()=>{class C extends Sr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Se._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:X}=v;if(!S&&!X)return null;try{return C.credential(S,X)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),$o=(()=>{class C extends Sr{constructor(){super("github.com")}static credential(v){return Se._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Ys extends ts{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return Ss(_,this.buildRequest())}_linkToIdToken(_,v){const S=this.buildRequest();return S.idToken=v,Ss(_,S)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Ss(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:S,signInMethod:X,pendingToken:he}=v;return S&&X&&he&&S===X?new Ys(S,he):null}static _create(_,v){return new Ys(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ta extends Di{constructor(_){Ce(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return ta.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return ta.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=Ys.fromJSON(_);return Ce(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:S}=_;if(!v||!S)return null;try{return Ys._create(S,v)}catch{return null}}}let Qa=(()=>{class C extends Sr{constructor(){super("twitter.com")}static credential(v,S){return Se._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:X}=v;if(!S||!X)return null;try{return C.credential(S,X)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function na(C,_){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signUp",Ie(C,_))})).apply(this,arguments)}class Ps{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,S,X=!1){return(0,o.A)(function*(){const he=yield ie._fromIdTokenResponse(_,S,X),Xe=hs(S);return new Ps({user:he,providerId:Xe,_tokenResponse:S,operationType:v})})()}static _forOperation(_,v,S){return(0,o.A)(function*(){yield _._updateTokensIfNecessary(S,!0);const X=hs(S);return new Ps({user:_,providerId:X,_tokenResponse:S,operationType:v})})()}}function hs(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Ao(C){return _a.apply(this,arguments)}function _a(){return(_a=(0,o.A)(function*(C){var _;if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const v=mr(C);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new Ps({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield na(v,{returnSecureToken:!0}),X=yield Ps._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class Na extends s.g{constructor(_,v,S,X){var he;super(v.code,v.message),this.operationType=S,this.user=X,Object.setPrototypeOf(this,Na.prototype),this.customData={appName:_.name,tenantId:null!==(he=_.tenantId)&&void 0!==he?he:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(_,v,S,X){return new Na(_,v,S,X)}}function mi(C,_,v,S){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?Na._fromErrorAndOperation(C,he,_,S):he})}function ya(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function Do(C,_){return W.apply(this,arguments)}function W(){return W=(0,o.A)(function*(C,_){const v=(0,s.Ku)(C);yield ce(!0,v,_);const{providerUserInfo:S}=yield function Hn(C,_){return In.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),X=ya(S||[]);return v.providerData=v.providerData.filter(he=>X.has(he.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),W.apply(this,arguments)}function Z(C,_){return U.apply(this,arguments)}function U(){return(U=(0,o.A)(function*(C,_,v=!1){const S=yield Ir(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return Ps._forOperation(C,"link",S)})).apply(this,arguments)}function ce(C,_,v){return He.apply(this,arguments)}function He(){return(He=(0,o.A)(function*(C,_,v){yield ue(_);const X=!1===C?"provider-already-linked":"no-such-provider";Ce(ya(_.providerData).has(v)===C,_.auth,X)})).apply(this,arguments)}function _n(C,_){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,o.A)(function*(C,_,v=!1){const{auth:S}=C;if((0,de._isFirebaseServerApp)(S.app))return Promise.reject(et(S));const X="reauthenticate";try{const he=yield Ir(C,mi(S,X,_,C),v);Ce(he.idToken,S,"internal-error");const Xe=ii(he.idToken);Ce(Xe,S,"internal-error");const{sub:Rt}=Xe;return Ce(C.uid===Rt,S,"user-mismatch"),Ps._forOperation(C,X,he)}catch(he){throw"auth/user-not-found"===he?.code&&we(S,"user-mismatch"),he}})).apply(this,arguments)}function is(C,_){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,o.A)(function*(C,_,v=!1){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const S="signIn",X=yield mi(C,S,_),he=yield Ps._fromIdTokenResponse(C,S,X);return v||(yield C._updateCurrentUser(he.user)),he})).apply(this,arguments)}function ss(C,_){return mo.apply(this,arguments)}function mo(){return(mo=(0,o.A)(function*(C,_){return is(mr(C),_)})).apply(this,arguments)}function no(C,_){return os.apply(this,arguments)}function os(){return(os=(0,o.A)(function*(C,_){const v=(0,s.Ku)(C);return yield ce(!1,v,_.providerId),Z(v,_)})).apply(this,arguments)}function Qs(C,_){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,o.A)(function*(C,_){return _n((0,s.Ku)(C),_)})).apply(this,arguments)}function va(){return(va=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithCustomToken",Ie(C,_))})).apply(this,arguments)}function Gi(C,_){return Rl.apply(this,arguments)}function Rl(){return Rl=(0,o.A)(function*(C,_){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const v=mr(C),S=yield function Ms(C,_){return va.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),X=yield Ps._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(X.user),X}),Rl.apply(this,arguments)}class as{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?Ja._fromServerResponse(_,v):"totpInfo"in v?ro._fromServerResponse(_,v):we(_,"internal-error")}}class Ja extends as{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new Ja(v)}}class ro extends as{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new ro(v)}}function Ea(C,_,v){var S;Ce((null===(S=v.url)||void 0===S?void 0:S.length)>0,C,"invalid-continue-uri"),Ce(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ce(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(Ce(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function xs(C){return ba.apply(this,arguments)}function ba(){return(ba=(0,o.A)(function*(C){const _=mr(C);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function ka(C,_,v){return Za.apply(this,arguments)}function Za(){return(Za=(0,o.A)(function*(C,_,v){const S=mr(C),X={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&Ea(S,X,v),yield Ar(S,X,"getOobCode",rr)})).apply(this,arguments)}function Au(C,_,v){return _r.apply(this,arguments)}function _r(){return _r=(0,o.A)(function*(C,_,v){yield As((0,s.Ku)(C),{oobCode:_,newPassword:v}).catch(function(){var S=(0,o.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&xs(C),X});return function(X){return S.apply(this,arguments)}}())}),_r.apply(this,arguments)}function Pl(C,_){return _o.apply(this,arguments)}function _o(){return _o=(0,o.A)(function*(C,_){yield function ai(C,_){return qi.apply(this,arguments)}((0,s.Ku)(C),{oobCode:_})}),_o.apply(this,arguments)}function Ho(C,_){return el.apply(this,arguments)}function el(){return(el=(0,o.A)(function*(C,_){const v=(0,s.Ku)(C),S=yield As(v,{oobCode:_}),X=S.requestType;switch(Ce(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(S.mfaInfo,v,"internal-error");default:Ce(S.email,v,"internal-error")}let he=null;return S.mfaInfo&&(he=as._fromServerResponse(mr(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:he},operation:X}})).apply(this,arguments)}function Du(C,_){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,o.A)(function*(C,_){const{data:v}=yield Ho((0,s.Ku)(C),_);return v.email})).apply(this,arguments)}function kh(C,_,v){return tl.apply(this,arguments)}function tl(){return(tl=(0,o.A)(function*(C,_,v){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const S=mr(C),Xe=yield Ar(S,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",na).catch(zt=>{throw"auth/password-does-not-meet-requirements"===zt.code&&xs(C),zt}),Rt=yield Ps._fromIdTokenResponse(S,"signIn",Xe);return yield S._updateCurrentUser(Rt.user),Rt})).apply(this,arguments)}function Su(C,_,v){return(0,de._isFirebaseServerApp)(C.app)?Promise.reject(et(C)):ss((0,s.Ku)(C),Li.credential(_,v)).catch(function(){var S=(0,o.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&xs(C),X});return function(X){return S.apply(this,arguments)}}())}function nl(C,_,v){return So.apply(this,arguments)}function So(){return(So=(0,o.A)(function*(C,_,v){const S=mr(C),X={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function he(Xe,Rt){Ce(Rt.handleCodeInApp,S,"argument-error"),Rt&&Ea(S,Xe,Rt)})(X,v),yield Ar(S,X,"getOobCode",Xi)})).apply(this,arguments)}function Fa(C,_){const v=Vr.parseLink(_);return"EMAIL_SIGNIN"===v?.operation}function La(C,_,v){return rl.apply(this,arguments)}function rl(){return(rl=(0,o.A)(function*(C,_,v){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const S=(0,s.Ku)(C),X=Li.credentialWithLink(_,v||ir());return Ce(X._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),ss(S,X)})).apply(this,arguments)}function il(){return(il=(0,o.A)(function*(C,_){return ke(C,"POST","/v1/accounts:createAuthUri",Ie(C,_))})).apply(this,arguments)}function zc(C,_){return P.apply(this,arguments)}function P(){return P=(0,o.A)(function*(C,_){const S={identifier:_,continueUri:Ye()?ir():"http://localhost"},{signinMethods:X}=yield function Ta(C,_){return il.apply(this,arguments)}((0,s.Ku)(C),S);return X||[]}),P.apply(this,arguments)}function ne(C,_){return j.apply(this,arguments)}function j(){return j=(0,o.A)(function*(C,_){const v=(0,s.Ku)(C),X={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&Ea(v.auth,X,_);const{email:he}=yield function ei(C,_){return mn.apply(this,arguments)}(v.auth,X);he!==C.email&&(yield C.reload())}),j.apply(this,arguments)}function Y(C,_,v){return xe.apply(this,arguments)}function xe(){return xe=(0,o.A)(function*(C,_,v){const S=(0,s.Ku)(C),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&Ea(S.auth,he,v);const{email:Xe}=yield function li(C,_){return Mi.apply(this,arguments)}(S.auth,he);Xe!==C.email&&(yield C.reload())}),xe.apply(this,arguments)}function Vt(){return(Vt=(0,o.A)(function*(C,_){return ke(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Un(C,_){return qr.apply(this,arguments)}function qr(){return qr=(0,o.A)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const S=(0,s.Ku)(C),he={idToken:yield S.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Xe=yield Ir(S,function Dt(C,_){return Vt.apply(this,arguments)}(S.auth,he));S.displayName=Xe.displayName||null,S.photoURL=Xe.photoUrl||null;const Rt=S.providerData.find(({providerId:zt})=>"password"===zt);Rt&&(Rt.displayName=S.displayName,Rt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Xe)}),qr.apply(this,arguments)}function hi(C,_){const v=(0,s.Ku)(C);return(0,de._isFirebaseServerApp)(v.auth.app)?Promise.reject(et(v.auth)):er(v,_,null)}function Nr(C,_){return er((0,s.Ku)(C),null,_)}function er(C,_,v){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,o.A)(function*(C,_,v){const{auth:S}=C,he={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(he.email=_),v&&(he.password=v);const Xe=yield Ir(C,function Dr(C,_){return si.apply(this,arguments)}(S,he));yield C._updateTokensIfNecessary(Xe,!0)}),Ur.apply(this,arguments)}class wi{constructor(_,v,S={}){this.isNewUser=_,this.providerId=v,this.profile=S}}class Hs extends wi{constructor(_,v,S,X){super(_,v,S),this.username=X}}class ls extends wi{constructor(_,v){super(_,"facebook.com",v)}}class Go extends Hs{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Os extends wi{constructor(_,v){super(_,"google.com",v)}}class zo extends Hs{constructor(_,v,S){super(_,"twitter.com",v,S)}}function Ci(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Yr(C){var _,v;if(!C)return null;const{providerId:S}=C,X=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},he=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!S&&C?.idToken){const Xe=null===(v=null===(_=ii(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Xe)return new wi(he,"anonymous"!==Xe&&"custom"!==Xe?Xe:null)}if(!S)return null;switch(S){case"facebook.com":return new ls(he,X);case"github.com":return new Go(he,X);case"google.com":return new Os(he,X);case"twitter.com":return new zo(he,X,C.screenName||null);case"custom":case"anonymous":return new wi(he,null);default:return new wi(he,S,X)}}(v)}class Ns{constructor(_,v,S){this.type=_,this.credential=v,this.user=S}static _fromIdtoken(_,v){return new Ns("enroll",_,v)}static _fromMfaPendingCredential(_){return new Ns("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,S;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Ns._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(S=_.multiFactorSession)&&void 0!==S&&S.idToken)return Ns._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Va{constructor(_,v,S){this.session=_,this.hints=v,this.signInResolver=S}static _fromError(_,v){const S=mr(_),X=v.customData._serverResponse,he=(X.mfaInfo||[]).map(Rt=>as._fromServerResponse(S,Rt));Ce(X.mfaPendingCredential,S,"internal-error");const Xe=Ns._fromMfaPendingCredential(X.mfaPendingCredential);return new Va(Xe,he,function(){var Rt=(0,o.A)(function*(zt){const xn=yield zt._process(S,Xe);delete X.mfaInfo,delete X.mfaPendingCredential;const Pn=Object.assign(Object.assign({},X),{idToken:xn.idToken,refreshToken:xn.refreshToken});switch(v.operationType){case"signIn":const ti=yield Ps._fromIdTokenResponse(S,v.operationType,Pn);return yield S._updateCurrentUser(ti.user),ti;case"reauthenticate":return Ce(v.user,S,"internal-error"),Ps._forOperation(v.user,v.operationType,Pn);default:we(S,"internal-error")}});return function(zt){return Rt.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,o.A)(function*(){return v.signInResolver(_)})()}}function Nl(C,_){var v;const S=(0,s.Ku)(C),X=_;return Ce(_.customData.operationType,S,"argument-error"),Ce(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),Va._fromError(S,X)}class Zt{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>as._fromServerResponse(_.auth,S)))})}static _fromUser(_){return new Zt(_)}getSession(){var _=this;return(0,o.A)(function*(){return Ns._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var S=this;return(0,o.A)(function*(){const X=_,he=yield S.getSession(),Xe=yield Ir(S.user,X._process(S.user.auth,he,v));return yield S.user._updateTokensIfNecessary(Xe),S.user.reload()})()}unenroll(_){var v=this;return(0,o.A)(function*(){const S="string"==typeof _?_:_.uid,X=yield v.user.getIdToken();try{const he=yield Ir(v.user,function or(C,_){return ke(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(C,_))}(v.user.auth,{idToken:X,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Xe})=>Xe!==S),yield v.user._updateTokensIfNecessary(he),yield v.user.reload()}catch(he){throw he}})()}}const lc=new WeakMap;function ra(C){const _=(0,s.Ku)(C);return lc.has(_)||lc.set(_,Zt._fromUser(_)),lc.get(_)}const kl="__sak";class Ia{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(kl,"1"),this.storage.removeItem(kl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const cc=(()=>{class C extends Ia{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=at(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const X=this.storage.getItem(S),he=this.localCache[S];X!==he&&v(S,he,X)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((Rt,zt,xn)=>{this.notifyListeners(Rt,xn)});const X=v.key;S?this.detachListener():this.stopPolling();const he=()=>{const Rt=this.storage.getItem(X);!S&&this.localCache[X]===Rt||this.notifyListeners(X,Rt)},Xe=this.storage.getItem(X);!function At(){return(0,s.lT)()&&10===document.documentMode}()||Xe===v.newValue||v.newValue===v.oldValue?he():setTimeout(he,10)}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const he of Array.from(X))he(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var X=()=>super._set,he=this;return(0,o.A)(function*(){yield X().call(he,v,S),he.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,X=this;return(0,o.A)(function*(){const he=yield S().call(X,v);return X.localCache[v]=JSON.stringify(he),he})()}_remove(v){var S=()=>super._remove,X=this;return(0,o.A)(function*(){yield S().call(X,v),delete X.localCache[v]})()}}return C.type="LOCAL",C})(),Ua=(()=>{class C extends Ia{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return C.type="SESSION",C})();let Wt=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(he=>he.isListeningto(v));if(S)return S;const X=new C(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,o.A)(function*(){const X=v,{eventId:he,eventType:Xe,data:Rt}=X.data,zt=S.handlersMap[Xe];if(!zt?.size)return;X.ports[0].postMessage({status:"ack",eventId:he,eventType:Xe});const xn=Array.from(zt).map(function(){var ti=(0,o.A)(function*(Oo){return Oo(X.origin,Rt)});return function(Oo){return ti.apply(this,arguments)}}()),Pn=yield function Ou(C){return Promise.all(C.map(function(){var _=(0,o.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return _.apply(this,arguments)}}()))}(xn);X.ports[0].postMessage({status:"done",eventId:he,eventType:Xe,response:Pn})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Pr(C="",_=10){let v="";for(let S=0;S<_;S++)v+=Math.floor(10*Math.random());return C+v}class Ko{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,S=50){var X=this;return(0,o.A)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let Xe,Rt;return new Promise((zt,xn)=>{const Pn=Pr("",20);he.port1.start();const ti=setTimeout(()=>{xn(new Error("unsupported_event"))},S);Rt={messageChannel:he,onMessage(Oo){const la=Oo;if(la.data.eventId===Pn)switch(la.data.status){case"ack":clearTimeout(ti),Xe=setTimeout(()=>{xn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Xe),zt(la.data.response);break;default:clearTimeout(ti),clearTimeout(Xe),xn(new Error("invalid_response"))}}},X.handlers.add(Rt),he.port1.addEventListener("message",Rt.onMessage),X.target.postMessage({eventType:_,eventId:Pn,data:v},[he.port2])}).finally(()=>{Rt&&X.removeMessageHandler(Rt)})})()}}function fs(){return window}function uc(){return typeof fs().WorkerGlobalScope<"u"&&"function"==typeof fs().importScripts}function Po(){return(Po=(0,o.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Sd="firebaseLocalStorageDb",Ba="firebaseLocalStorage",Js="fbase_key";class zs{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function ja(C,_){return C.transaction([Ba],_?"readwrite":"readonly").objectStore(Ba)}function yo(){const C=indexedDB.open(Sd,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const S=C.result;try{S.createObjectStore(Ba,{keyPath:Js})}catch(X){v(X)}}),C.addEventListener("success",(0,o.A)(function*(){const S=C.result;S.objectStoreNames.contains(Ba)?_(S):(S.close(),yield function Mo(){const C=indexedDB.deleteDatabase(Sd);return new zs(C).toPromise()}(),_(yield yo()))}))})}function Rd(C,_,v){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,o.A)(function*(C,_,v){const S=ja(C,!0).put({[Js]:_,value:v});return new zs(S).toPromise()})).apply(this,arguments)}function Pd(){return(Pd=(0,o.A)(function*(C,_){const v=ja(C,!1).get(_),S=yield new zs(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function ku(C,_){const v=ja(C,!0).delete(_);return new zs(v).toPromise()}const O=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,o.A)(function*(){return v.db||(v.db=yield yo()),v.db})()}_withRetries(v){var S=this;return(0,o.A)(function*(){let X=0;for(;;)try{const he=yield S._openDb();return yield v(he)}catch(he){if(X++>3)throw he;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,o.A)(function*(){return uc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,o.A)(function*(){v.receiver=Wt._getInstance(function Nu(){return uc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,o.A)(function*(X,he){return{keyProcessed:(yield v._poll()).includes(he.key)}});return function(X,he){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,o.A)(function*(X,he){return["keyChanged"]});return function(X,he){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,o.A)(function*(){var S,X;if(v.activeServiceWorker=yield function Ca(){return Po.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Ko(v.activeServiceWorker);const he=yield v.sender._send("ping",{},800);he&&null!==(S=he[0])&&void 0!==S&&S.fulfilled&&null!==(X=he[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,o.A)(function*(){if(S.sender&&S.activeServiceWorker&&function Yc(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.A)(function*(){try{if(!indexedDB)return!1;const v=yield yo();return yield Rd(v,kl,"1"),yield ku(v,kl),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,o.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var X=this;return(0,o.A)(function*(){return X._withPendingWrite((0,o.A)(function*(){return yield X._withRetries(he=>Rd(he,v,S)),X.localCache[v]=S,X.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,o.A)(function*(){const X=yield S._withRetries(he=>function Xf(C,_){return Pd.apply(this,arguments)}(he,v));return S.localCache[v]=X,X})()}_remove(v){var S=this;return(0,o.A)(function*(){return S._withPendingWrite((0,o.A)(function*(){return yield S._withRetries(X=>ku(X,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,o.A)(function*(){const S=yield v._withRetries(Xe=>{const Rt=ja(Xe,!1).getAll();return new zs(Rt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const X=[],he=new Set;if(0!==S.length)for(const{fbase_key:Xe,value:Rt}of S)he.add(Xe),JSON.stringify(v.localCache[Xe])!==JSON.stringify(Rt)&&(v.notifyListeners(Xe,Rt),X.push(Xe));for(const Xe of Object.keys(v.localCache))v.localCache[Xe]&&!he.has(Xe)&&(v.notifyListeners(Xe,null),X.push(Xe));return X})()}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const he of Array.from(X))he(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,o.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),Ct=1e12;class bt{constructor(_){this.auth=_,this.counter=Ct,this._widgets=new Map}render(_,v){const S=this.counter;return this._widgets.set(S,new En(_,this.auth.name,v||{})),this.counter++,S}reset(_){var v;const S=_||Ct;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(_){var v;return(null===(v=this._widgets.get(_||Ct))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,o.A)(function*(){var S;return null===(S=v._widgets.get(_||Ct))||void 0===S||S.execute(),""})()}}class En{constructor(_,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof _?document.getElementById(_):_;Ce(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pr(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<C;S++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ur=di("rcb"),wr=new Oe(3e4,6e4);class Gr{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=fs().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return Ce(function sa(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&On(fs().grecaptcha)?Promise.resolve(fs().grecaptcha):new Promise((S,X)=>{const he=fs().setTimeout(()=>{X(Ze(_,"network-request-failed"))},wr.get());fs()[ur]=()=>{fs().clearTimeout(he),delete fs()[ur];const Rt=fs().grecaptcha;if(!Rt||!On(Rt))return void X(Ze(_,"internal-error"));const zt=Rt.render;Rt.render=(xn,Pn)=>{const ti=zt(xn,Pn);return this.counter++,ti},this.hostLanguage=v,S(Rt)},Io(`${function Co(){return Fs.recaptchaV2Script}()}?${(0,s.Am)({onload:ur,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(he),X(Ze(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=fs().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ll{load(_){return(0,o.A)(function*(){return new bt(_)})()}clearedOneInstance(){}}const ol="recaptcha",Vl={theme:"light",type:"image"};class Fu{constructor(_,v,S=Object.assign({},Vl)){this.parameters=S,this.type=ol,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mr(_),this.isInvisible="invisible"===this.parameters.size,Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;Ce(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ll:new Gr,this.validateStartingState()}verify(){var _=this;return(0,o.A)(function*(){_.assertNotDestroyed();const v=yield _.render(),S=_.getAssertedRecaptcha();return S.getResponse(v)||new Promise(he=>{const Xe=Rt=>{Rt&&(_.tokenChangeListeners.delete(Xe),he(Rt))};_.tokenChangeListeners.add(Xe),_.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof _)_(v);else if("string"==typeof _){const S=fs()[_];"function"==typeof S&&S(v)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,o.A)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,o.A)(function*(){Ce(Ye()&&!uc(),_.auth,"internal-error"),yield function Lh(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function vr(C){return on.apply(this,arguments)}(_.auth);Ce(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class al{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=kn._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function oa(C,_,v){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,o.A)(function*(C,_,v){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const S=mr(C),X=yield Uu(S,_,(0,s.Ku)(v));return new al(X,he=>ss(S,he))})).apply(this,arguments)}function Aa(C,_,v){return ll.apply(this,arguments)}function ll(){return(ll=(0,o.A)(function*(C,_,v){const S=(0,s.Ku)(C);yield ce(!1,S,"phone");const X=yield Uu(S.auth,_,(0,s.Ku)(v));return new al(X,he=>no(S,he))})).apply(this,arguments)}function Lu(C,_,v){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,o.A)(function*(C,_,v){const S=(0,s.Ku)(C);if((0,de._isFirebaseServerApp)(S.auth.app))return Promise.reject(et(S.auth));const X=yield Uu(S.auth,_,(0,s.Ku)(v));return new al(X,he=>Qs(S,he))})).apply(this,arguments)}function Uu(C,_,v){return Md.apply(this,arguments)}function Md(){return Md=(0,o.A)(function*(C,_,v){var S;const X=yield v.verify();try{let he;if(Ce("string"==typeof X,C,"argument-error"),Ce(v.type===ol,C,"argument-error"),he="string"==typeof _?{phoneNumber:_}:_,"session"in he){const Xe=he.session;if("phoneNumber"in he)return Ce("enroll"===Xe.type,C,"internal-error"),(yield function Pu(C,_){return ke(C,"POST","/v2/accounts/mfaEnrollment:start",Ie(C,_))}(C,{idToken:Xe.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{Ce("signin"===Xe.type,C,"internal-error");const Rt=(null===(S=he.multiFactorHint)||void 0===S?void 0:S.uid)||he.multiFactorUid;return Ce(Rt,C,"missing-multi-factor-info"),(yield function w(C,_){return ke(C,"POST","/v2/accounts/mfaSignIn:start",Ie(C,_))}(C,{mfaPendingCredential:Xe.credential,mfaEnrollmentId:Rt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Xe}=yield function Le(C,_){return tt.apply(this,arguments)}(C,{phoneNumber:he.phoneNumber,recaptchaToken:X});return Xe}}finally{v._reset()}}),Md.apply(this,arguments)}function Bu(C,_){return vo.apply(this,arguments)}function vo(){return(vo=(0,o.A)(function*(C,_){const v=(0,s.Ku)(C);if((0,de._isFirebaseServerApp)(v.auth.app))return Promise.reject(et(v.auth));yield Z(v,_)})).apply(this,arguments)}let qo=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=mr(v)}verifyPhoneNumber(v,S){return Uu(this.auth,v,(0,s.Ku)(S))}static credential(v,S){return kn._fromVerification(v,S)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:X}=v;return S&&X?kn._fromTokenResponse(S,X):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Ul(C,_){return _?ht(_):(Ce(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Uh extends ts{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Ss(_,this._buildIdpRequest())}_linkToIdToken(_,v){return Ss(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return Ss(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function xd(C){return is(C.auth,new Uh(C),C.bypassAuthState)}function Zm(C){const{auth:_,user:v}=C;return Ce(v,_,"internal-error"),_n(v,new Uh(C),C.bypassAuthState)}function Bh(C){return ju.apply(this,arguments)}function ju(){return(ju=(0,o.A)(function*(C){const{auth:_,user:v}=C;return Ce(v,_,"internal-error"),Z(v,new Uh(C),C.bypassAuthState)})).apply(this,arguments)}class Qf{constructor(_,v,S,X,he=!1){this.auth=_,this.resolver=S,this.user=X,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,o.A)(function*(S,X){_.pendingPromise={resolve:S,reject:X};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(he){_.reject(he)}});return function(S,X){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,o.A)(function*(){const{urlResponse:S,sessionId:X,postBody:he,tenantId:Xe,error:Rt,type:zt}=_;if(Rt)return void v.reject(Rt);const xn={auth:v.auth,requestUri:S,sessionId:X,tenantId:Xe||void 0,postBody:he||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(zt)(xn))}catch(Pn){v.reject(Pn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return xd;case"linkViaPopup":case"linkViaRedirect":return Bh;case"reauthViaPopup":case"reauthViaRedirect":return Zm;default:we(this.auth,"internal-error")}}resolve(_){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jf=new Oe(2e3,1e4);function cl(C,_,v){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,o.A)(function*(C,_,v){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(Ze(C,"operation-not-supported-in-this-environment"));const S=mr(C);$e(C,_,Di);const X=Ul(S,v);return new Zf(S,"signInViaPopup",_,X).executeNotNull()})).apply(this,arguments)}function jh(C,_,v){return Da.apply(this,arguments)}function Da(){return(Da=(0,o.A)(function*(C,_,v){const S=(0,s.Ku)(C);if((0,de._isFirebaseServerApp)(S.auth.app))return Promise.reject(Ze(S.auth,"operation-not-supported-in-this-environment"));$e(S.auth,_,Di);const X=Ul(S.auth,v);return new Zf(S.auth,"reauthViaPopup",_,X,S).executeNotNull()})).apply(this,arguments)}function $u(C,_,v){return ul.apply(this,arguments)}function ul(){return(ul=(0,o.A)(function*(C,_,v){const S=(0,s.Ku)(C);$e(S.auth,_,Di);const X=Ul(S.auth,v);return new Zf(S.auth,"linkViaPopup",_,X,S).executeNotNull()})).apply(this,arguments)}let Zf=(()=>{class C extends Qf{constructor(v,S,X,he,Xe){super(v,S,he,Xe),this.provider=X,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,o.A)(function*(){const S=yield v.execute();return Ce(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,o.A)(function*(){pn(1===v.filter.length,"Popup operations only handle one event");const S=Pr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(Ze(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,X;this.pollId=null!==(X=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Jf.get())};v()}}return C.currentPopupAction=null,C})();const $h="pendingRedirect",Sa=new Map;class Hu extends Qf{constructor(_,v,S=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,o.A)(function*(){let S=Sa.get(v.auth._key());if(!S){try{const he=(yield function so(C,_){return dl.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;S=()=>Promise.resolve(he)}catch(X){S=()=>Promise.reject(X)}Sa.set(v.auth._key(),S)}return v.bypassAuthState||Sa.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,S=this;return(0,o.A)(function*(){if("signInViaRedirect"===_.type)return v().call(S,_);if("unknown"!==_.type){if(_.eventId){const X=yield S.auth._redirectUserForId(_.eventId);if(X)return S.user=X,v().call(S,_);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.A)(function*(){})()}cleanUp(){}}function dl(){return(dl=(0,o.A)(function*(C,_){const v=Gh(_),S=dc(C);if(!(yield S._isAvailable()))return!1;const X="true"===(yield S._get(v));return yield S._remove(v),X})).apply(this,arguments)}function $a(C,_){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,o.A)(function*(C,_){return dc(C)._set(Gh(_),"true")})).apply(this,arguments)}function Hh(){Sa.clear()}function jl(C,_){Sa.set(C._key(),_)}function dc(C){return ht(C._redirectPersistence)}function Gh(C){return fn($h,C.config.apiKey,C.name)}function hl(C,_,v){return function fl(C,_,v){return Gu.apply(this,arguments)}(C,_,v)}function Gu(){return(Gu=(0,o.A)(function*(C,_,v){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const S=mr(C);$e(C,_,Di),yield S._initializationPromise;const X=Ul(S,v);return yield $a(X,S),X._openRedirect(S,_,"signInViaRedirect")})).apply(this,arguments)}function $l(C,_,v){return function zu(C,_,v){return aa.apply(this,arguments)}(C,_,v)}function aa(){return(aa=(0,o.A)(function*(C,_,v){const S=(0,s.Ku)(C);if($e(S.auth,_,Di),(0,de._isFirebaseServerApp)(S.auth.app))return Promise.reject(et(S.auth));yield S.auth._initializationPromise;const X=Ul(S.auth,v);yield $a(X,S.auth);const he=yield tp(S);return X._openRedirect(S.auth,_,"reauthViaRedirect",he)})).apply(this,arguments)}function hc(C,_,v){return function xo(C,_,v){return fc.apply(this,arguments)}(C,_,v)}function fc(){return(fc=(0,o.A)(function*(C,_,v){const S=(0,s.Ku)(C);$e(S.auth,_,Di),yield S.auth._initializationPromise;const X=Ul(S.auth,v);yield ce(!1,S,_.providerId),yield $a(X,S.auth);const he=yield tp(S);return X._openRedirect(S.auth,_,"linkViaRedirect",he)})).apply(this,arguments)}function ep(C,_){return pl.apply(this,arguments)}function pl(){return(pl=(0,o.A)(function*(C,_){return yield mr(C)._initializationPromise,zh(C,_,!1)})).apply(this,arguments)}function zh(C,_){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,o.A)(function*(C,_,v=!1){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const S=mr(C),X=Ul(S,_),Xe=yield new Hu(S,X,v).execute();return Xe&&!v&&(delete Xe.user._redirectEventId,yield S._persistUserIfCurrent(Xe.user),yield S._setRedirectUser(null,_)),Xe})).apply(this,arguments)}function tp(C){return pc.apply(this,arguments)}function pc(){return(pc=(0,o.A)(function*(C){const _=Pr(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class np{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(_,S)&&(v=!0,this.sendToConsumer(_,S),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Hl(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wu(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var S;if(_.error&&!Wu(_)){const X=(null===(S=_.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(Ze(this.auth,X))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const S=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&S}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nd(_))}saveEventToCache(_){this.cachedEventUids.add(Nd(_)),this.lastProcessedEventTime=Date.now()}}function Nd(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function Wu({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===_?.code}function Yo(C){return oo.apply(this,arguments)}function oo(){return(oo=(0,o.A)(function*(C,_={}){return ke(C,"GET","/v1/projects",_)})).apply(this,arguments)}const Wh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kd=/^https?/;function Kh(){return(Kh=(0,o.A)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield Yo(C);for(const v of _)try{if(bg(v))return}catch{}we(C,"unauthorized-domain")})).apply(this,arguments)}function bg(C){const _=ir(),{protocol:v,hostname:S}=new URL(_);if(C.startsWith("chrome-extension://")){const Xe=new URL(C);return""===Xe.hostname&&""===S?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Xe.hostname===S}if(!kd.test(v))return!1;if(Wh.test(C))return S===C;const X=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(S)}const Zc=new Oe(3e4,6e4);function Tg(){const C=fs().___jsl;if(C?.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Us=null;const t_=new Oe(5e3,15e3),eu="__/auth/iframe",Ig="emulator/auth/iframe",qh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ks=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fd(C){const _=C.config;Ce(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?st(_,Ig):`https://${C.config.authDomain}/${eu}`,S={apiKey:_.apiKey,appName:C.name,v:de.SDK_VERSION},X=Ks.get(C.config.apiHost);X&&(S.eid=X);const he=C._getFrameworks();return he.length&&(S.fw=he.join(",")),`${v}?${(0,s.Am)(S).slice(1)}`}function Yh(){return Yh=(0,o.A)(function*(C){const _=yield function e_(C){return Us=Us||function Ku(C){return new Promise((_,v)=>{var S,X,he;function Xe(){Tg(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Tg(),v(Ze(C,"network-request-failed"))},timeout:Zc.get()})}if(null!==(X=null===(S=fs().gapi)||void 0===S?void 0:S.iframes)&&void 0!==X&&X.Iframe)_(gapi.iframes.getContext());else{if(null===(he=fs().gapi)||void 0===he||!he.load){const Rt=di("iframefcb");return fs()[Rt]=()=>{gapi.load?Xe():v(Ze(C,"network-request-failed"))},Io(`${function jo(){return Fs.gapiScript}()}?onload=${Rt}`).catch(zt=>v(zt))}Xe()}}).catch(_=>{throw Us=null,_})}(C),Us}(C),v=fs().gapi;return Ce(v,C,"internal-error"),_.open({where:document.body,url:Fd(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qh,dontclear:!0},S=>new Promise(function(){var X=(0,o.A)(function*(he,Xe){yield S.restyle({setHideOnLeave:!1});const Rt=Ze(C,"network-request-failed"),zt=fs().setTimeout(()=>{Xe(Rt)},t_.get());function xn(){fs().clearTimeout(zt),he(S)}S.ping(xn).then(xn,()=>{Xe(Rt)})});return function(he,Xe){return X.apply(this,arguments)}}()))}),Yh.apply(this,arguments)}const Xo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vd{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Cg="__/auth/handler",Qo="emulator/auth/handler",qu=encodeURIComponent("fac");function ml(C,_,v,S,X,he){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,o.A)(function*(C,_,v,S,X,he){Ce(C.config.authDomain,C,"auth-domain-config-required"),Ce(C.config.apiKey,C,"invalid-api-key");const Xe={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:S,v:de.SDK_VERSION,eventId:X};if(_ instanceof Di){_.setDefaultLanguage(C.languageCode),Xe.providerId=_.providerId||"",(0,s.Im)(_.getCustomParameters())||(Xe.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Pn,ti]of Object.entries(he||{}))Xe[Pn]=ti}if(_ instanceof Sr){const Pn=_.getScopes().filter(ti=>""!==ti);Pn.length>0&&(Xe.scopes=Pn.join(","))}C.tenantId&&(Xe.tid=C.tenantId);const Rt=Xe;for(const Pn of Object.keys(Rt))void 0===Rt[Pn]&&delete Rt[Pn];const zt=yield C._getAppCheckToken(),xn=zt?`#${qu}=${encodeURIComponent(zt)}`:"";return`${function Yu({config:C}){return C.emulator?st(C,Qo):`https://${C.authDomain}/${Cg}`}(C)}?${(0,s.Am)(Rt).slice(1)}${xn}`})).apply(this,arguments)}const Ud="webStorageSupport",Jh=class wg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ua,this._completeRedirectFn=zh,this._overrideRedirectResult=jl}_openPopup(_,v,S,X){var he=this;return(0,o.A)(function*(){var Xe;pn(null===(Xe=he.eventManagers[_._key()])||void 0===Xe?void 0:Xe.manager,"_initialize() not called before _openPopup()");const Rt=yield ml(_,v,S,ir(),X);return function Xh(C,_,v,S=500,X=600){const he=Math.max((window.screen.availHeight-X)/2,0).toString(),Xe=Math.max((window.screen.availWidth-S)/2,0).toString();let Rt="";const zt=Object.assign(Object.assign({},Xo),{width:S.toString(),height:X.toString(),top:he,left:Xe}),xn=(0,s.ZQ)().toLowerCase();v&&(Rt=dr(xn)?"_blank":v),ln(xn)&&(_=_||"http://localhost",zt.scrollbars="yes");const Pn=Object.entries(zt).reduce((Oo,[la,gc])=>`${Oo}${la}=${gc},`,"");if(function ks(C=(0,s.ZQ)()){var _;return yi(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(xn)&&"_self"!==Rt)return function rp(C,_){const v=document.createElement("a");v.href=C,v.target=_;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(_||"",Rt),new Vd(null);const ti=window.open(_||"",Rt,Pn);Ce(ti,C,"popup-blocked");try{ti.focus()}catch{}return new Vd(ti)}(_,Rt,Pr())})()}_openRedirect(_,v,S,X){var he=this;return(0,o.A)(function*(){return yield he._originValidation(_),function Gs(C){fs().location.href=C}(yield ml(_,v,S,ir(),X)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:X,promise:he}=this.eventManagers[v];return X?Promise.resolve(X):(pn(he,"If manager is not set, promise should be"),he)}const S=this.initAndGetManager(_);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(_){var v=this;return(0,o.A)(function*(){const S=yield function Gl(C){return Yh.apply(this,arguments)}(_),X=new np(_);return S.register("authEvent",he=>(Ce(he?.authEvent,_,"invalid-auth-event"),{status:X.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:X},v.iframes[_._key()]=S,X})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(Ud,{type:Ud},X=>{var he;const Xe=null===(he=X?.[0])||void 0===he?void 0:he[Ud];void 0!==Xe&&v(!!Xe),we(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Jc(C){return Kh.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return at()||Wr()||yi()}};class ip{constructor(_){this.factorId=_}_process(_,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,S);case"signin":return this._finalizeSignIn(_,v.credential);default:return qt("unexpected MultiFactorSessionType")}}}class _l extends ip{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new _l(_)}_finalizeEnroll(_,v,S){return function Mu(C,_){return ke(C,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(C,_))}(_,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function N(C,_){return ke(C,"POST","/v2/accounts/mfaSignIn:finalize",Ie(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let tu=(()=>{class C{constructor(){}static assertion(v){return _l._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var nu="@firebase/auth";class Xu{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,o.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(S=>{_(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,s.XA)("authIdTokenMaxAge"),function Zi(C){Fs=C}({loadJS:C=>new Promise((_,v)=>{const S=document.createElement("script");S.setAttribute("src",C),S.onload=_,S.onerror=X=>{const he=Ze("internal-error");he.customData=X,v(he)},S.type="text/javascript",S.charset="UTF-8",function El(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function $d(C){(0,de._registerComponent)(new Re.uA("auth",(_,{options:v})=>{const S=_.getProvider("app").getImmediate(),X=_.getProvider("heartbeat"),he=_.getProvider("app-check-internal"),{apiKey:Xe,authDomain:Rt}=S.options;Ce(Xe&&!Xe.includes(":"),"invalid-api-key",{appName:S.name});const zt={apiKey:Xe,authDomain:Rt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nt(C)},xn=new Jr(S,X,he,zt);return function Xa(C,_){const v=_?.persistence||[],S=(Array.isArray(v)?v:[v]).map(ht);_?.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(S,_?.popupRedirectResolver)}(xn,v),xn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,S)=>{_.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new Re.uA("auth-internal",_=>{const v=mr(_.getProvider("auth").getImmediate());return new Xu(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(nu,"1.7.9",function sp(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,de.registerVersion)(nu,"1.7.9","esm2017")}("Browser")},9583:(rn,Je,F)=>{F.d(Je,{fS:()=>vm,Ix:()=>mu,H6:()=>ud,T1:()=>Bs,Wq:()=>yu,uY:()=>dd,W6:()=>st,Ci:()=>Np,YQ:()=>Tl,NJ:()=>Sc,Dc:()=>Gt,GA:()=>Gp,cm:()=>si,K$:()=>$t,FA:()=>Yn,lo:()=>fi,bI:()=>Ue,qG:()=>Xa,qi:()=>pn,c8:()=>sm,gS:()=>yE,C3:()=>$_,hq:()=>av,me:()=>By,rJ:()=>w_,Cs:()=>A_,vN:()=>Vy,kd:()=>_E,CL:()=>sv,LA:()=>jy,H9:()=>pu,ol:()=>D_,Q5:()=>uh,Os:()=>R_,FD:()=>N_,rf:()=>w0,Ws:()=>Ji,z6:()=>gh,x7:()=>pE,nY:()=>Pc,_e:()=>Zy,GG:()=>gE,kU:()=>A0,Rr:()=>Eo,aU:()=>ch,GV:()=>S0,AB:()=>aE,$1:()=>lE,po:()=>hm,St:()=>nE,aQ:()=>V_,FC:()=>ev,My:()=>oE,P:()=>O_,B:()=>yf,yx:()=>Uy,c4:()=>iv,O5:()=>ov,BN:()=>mE,He:()=>Ot,lN:()=>fE,HM:()=>qy,EO:()=>Ky,mZ:()=>L_,iB:()=>dm,_M:()=>iE});var je,Fe,o=F(467),de=F(7852),s=F(1362),ve=F(8041),ye=F(1076),Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},be={};(function(){var d;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(dt,Be,Qe){Qe||(Qe=0);var ft=Array(16);if("string"==typeof Be)for(var yt=0;16>yt;++yt)ft[yt]=Be.charCodeAt(Qe++)|Be.charCodeAt(Qe++)<<8|Be.charCodeAt(Qe++)<<16|Be.charCodeAt(Qe++)<<24;else for(yt=0;16>yt;++yt)ft[yt]=Be[Qe++]|Be[Qe++]<<8|Be[Qe++]<<16|Be[Qe++]<<24;var St=dt.g[3],qe=(Be=dt.g[0])+(St^(Qe=dt.g[1])&((yt=dt.g[2])^St))+ft[0]+3614090360&4294967295;qe=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=(Qe=(yt=(St=(Be=Qe+(qe<<7&4294967295|qe>>>25))+((qe=St+(yt^Be&(Qe^yt))+ft[1]+3905402710&4294967295)<<12&4294967295|qe>>>20))+((qe=yt+(Qe^St&(Be^Qe))+ft[2]+606105819&4294967295)<<17&4294967295|qe>>>15))+((qe=Qe+(Be^yt&(St^Be))+ft[3]+3250441966&4294967295)<<22&4294967295|qe>>>10))+((qe=Be+(St^Qe&(yt^St))+ft[4]+4118548399&4294967295)<<7&4294967295|qe>>>25))+((qe=St+(yt^Be&(Qe^yt))+ft[5]+1200080426&4294967295)<<12&4294967295|qe>>>20))+((qe=yt+(Qe^St&(Be^Qe))+ft[6]+2821735955&4294967295)<<17&4294967295|qe>>>15))+((qe=Qe+(Be^yt&(St^Be))+ft[7]+4249261313&4294967295)<<22&4294967295|qe>>>10))+((qe=Be+(St^Qe&(yt^St))+ft[8]+1770035416&4294967295)<<7&4294967295|qe>>>25))+((qe=St+(yt^Be&(Qe^yt))+ft[9]+2336552879&4294967295)<<12&4294967295|qe>>>20))+((qe=yt+(Qe^St&(Be^Qe))+ft[10]+4294925233&4294967295)<<17&4294967295|qe>>>15))+((qe=Qe+(Be^yt&(St^Be))+ft[11]+2304563134&4294967295)<<22&4294967295|qe>>>10))+((qe=Be+(St^Qe&(yt^St))+ft[12]+1804603682&4294967295)<<7&4294967295|qe>>>25))+((qe=St+(yt^Be&(Qe^yt))+ft[13]+4254626195&4294967295)<<12&4294967295|qe>>>20))+((qe=yt+(Qe^St&(Be^Qe))+ft[14]+2792965006&4294967295)<<17&4294967295|qe>>>15))+((qe=Qe+(Be^yt&(St^Be))+ft[15]+1236535329&4294967295)<<22&4294967295|qe>>>10))+((qe=Be+(yt^St&(Qe^yt))+ft[1]+4129170786&4294967295)<<5&4294967295|qe>>>27))+((qe=St+(Qe^yt&(Be^Qe))+ft[6]+3225465664&4294967295)<<9&4294967295|qe>>>23))+((qe=yt+(Be^Qe&(St^Be))+ft[11]+643717713&4294967295)<<14&4294967295|qe>>>18))+((qe=Qe+(St^Be&(yt^St))+ft[0]+3921069994&4294967295)<<20&4294967295|qe>>>12))+((qe=Be+(yt^St&(Qe^yt))+ft[5]+3593408605&4294967295)<<5&4294967295|qe>>>27))+((qe=St+(Qe^yt&(Be^Qe))+ft[10]+38016083&4294967295)<<9&4294967295|qe>>>23))+((qe=yt+(Be^Qe&(St^Be))+ft[15]+3634488961&4294967295)<<14&4294967295|qe>>>18))+((qe=Qe+(St^Be&(yt^St))+ft[4]+3889429448&4294967295)<<20&4294967295|qe>>>12))+((qe=Be+(yt^St&(Qe^yt))+ft[9]+568446438&4294967295)<<5&4294967295|qe>>>27))+((qe=St+(Qe^yt&(Be^Qe))+ft[14]+3275163606&4294967295)<<9&4294967295|qe>>>23))+((qe=yt+(Be^Qe&(St^Be))+ft[3]+4107603335&4294967295)<<14&4294967295|qe>>>18))+((qe=Qe+(St^Be&(yt^St))+ft[8]+1163531501&4294967295)<<20&4294967295|qe>>>12))+((qe=Be+(yt^St&(Qe^yt))+ft[13]+2850285829&4294967295)<<5&4294967295|qe>>>27))+((qe=St+(Qe^yt&(Be^Qe))+ft[2]+4243563512&4294967295)<<9&4294967295|qe>>>23))+((qe=yt+(Be^Qe&(St^Be))+ft[7]+1735328473&4294967295)<<14&4294967295|qe>>>18))+((qe=Qe+(St^Be&(yt^St))+ft[12]+2368359562&4294967295)<<20&4294967295|qe>>>12))+((qe=Be+(Qe^yt^St)+ft[5]+4294588738&4294967295)<<4&4294967295|qe>>>28))+((qe=St+(Be^Qe^yt)+ft[8]+2272392833&4294967295)<<11&4294967295|qe>>>21))+((qe=yt+(St^Be^Qe)+ft[11]+1839030562&4294967295)<<16&4294967295|qe>>>16))+((qe=Qe+(yt^St^Be)+ft[14]+4259657740&4294967295)<<23&4294967295|qe>>>9))+((qe=Be+(Qe^yt^St)+ft[1]+2763975236&4294967295)<<4&4294967295|qe>>>28))+((qe=St+(Be^Qe^yt)+ft[4]+1272893353&4294967295)<<11&4294967295|qe>>>21))+((qe=yt+(St^Be^Qe)+ft[7]+4139469664&4294967295)<<16&4294967295|qe>>>16))+((qe=Qe+(yt^St^Be)+ft[10]+3200236656&4294967295)<<23&4294967295|qe>>>9))+((qe=Be+(Qe^yt^St)+ft[13]+681279174&4294967295)<<4&4294967295|qe>>>28))+((qe=St+(Be^Qe^yt)+ft[0]+3936430074&4294967295)<<11&4294967295|qe>>>21))+((qe=yt+(St^Be^Qe)+ft[3]+3572445317&4294967295)<<16&4294967295|qe>>>16))+((qe=Qe+(yt^St^Be)+ft[6]+76029189&4294967295)<<23&4294967295|qe>>>9))+((qe=Be+(Qe^yt^St)+ft[9]+3654602809&4294967295)<<4&4294967295|qe>>>28))+((qe=St+(Be^Qe^yt)+ft[12]+3873151461&4294967295)<<11&4294967295|qe>>>21))+((qe=yt+(St^Be^Qe)+ft[15]+530742520&4294967295)<<16&4294967295|qe>>>16))+((qe=Qe+(yt^St^Be)+ft[2]+3299628645&4294967295)<<23&4294967295|qe>>>9))+((qe=Be+(yt^(Qe|~St))+ft[0]+4096336452&4294967295)<<6&4294967295|qe>>>26))+((qe=St+(Qe^(Be|~yt))+ft[7]+1126891415&4294967295)<<10&4294967295|qe>>>22))+((qe=yt+(Be^(St|~Qe))+ft[14]+2878612391&4294967295)<<15&4294967295|qe>>>17))+((qe=Qe+(St^(yt|~Be))+ft[5]+4237533241&4294967295)<<21&4294967295|qe>>>11))+((qe=Be+(yt^(Qe|~St))+ft[12]+1700485571&4294967295)<<6&4294967295|qe>>>26))+((qe=St+(Qe^(Be|~yt))+ft[3]+2399980690&4294967295)<<10&4294967295|qe>>>22))+((qe=yt+(Be^(St|~Qe))+ft[10]+4293915773&4294967295)<<15&4294967295|qe>>>17))+((qe=Qe+(St^(yt|~Be))+ft[1]+2240044497&4294967295)<<21&4294967295|qe>>>11))+((qe=Be+(yt^(Qe|~St))+ft[8]+1873313359&4294967295)<<6&4294967295|qe>>>26))+((qe=St+(Qe^(Be|~yt))+ft[15]+4264355552&4294967295)<<10&4294967295|qe>>>22))+((qe=yt+(Be^(St|~Qe))+ft[6]+2734768916&4294967295)<<15&4294967295|qe>>>17))+((qe=Qe+(St^(yt|~Be))+ft[13]+1309151649&4294967295)<<21&4294967295|qe>>>11))+((St=(Be=Qe+((qe=Be+(yt^(Qe|~St))+ft[4]+4149444226&4294967295)<<6&4294967295|qe>>>26))+((qe=St+(Qe^(Be|~yt))+ft[11]+3174756917&4294967295)<<10&4294967295|qe>>>22))^((yt=St+((qe=yt+(Be^(St|~Qe))+ft[2]+718787259&4294967295)<<15&4294967295|qe>>>17))|~Be))+ft[9]+3951481745&4294967295,dt.g[0]=dt.g[0]+Be&4294967295,dt.g[1]=dt.g[1]+(yt+(qe<<21&4294967295|qe>>>11))&4294967295,dt.g[2]=dt.g[2]+yt&4294967295,dt.g[3]=dt.g[3]+St&4294967295}function b(dt,Be){this.h=Be;for(var Qe=[],ft=!0,yt=dt.length-1;0<=yt;yt--){var St=0|dt[yt];ft&&St==Be||(Qe[yt]=St,ft=!1)}this.g=Qe}(function e(dt,Be){function Qe(){}Qe.prototype=Be.prototype,dt.D=Be.prototype,dt.prototype=new Qe,dt.prototype.constructor=dt,dt.C=function(ft,yt,St){for(var qe=Array(arguments.length-2),Eu=2;Eu<arguments.length;Eu++)qe[Eu-2]=arguments[Eu];return Be.prototype[yt].apply(ft,qe)}})(a,function r(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(dt,Be){void 0===Be&&(Be=dt.length);for(var Qe=Be-this.blockSize,ft=this.B,yt=this.h,St=0;St<Be;){if(0==yt)for(;St<=Qe;)h(this,dt,St),St+=this.blockSize;if("string"==typeof dt){for(;St<Be;)if(ft[yt++]=dt.charCodeAt(St++),yt==this.blockSize){h(this,ft),yt=0;break}}else for(;St<Be;)if(ft[yt++]=dt[St++],yt==this.blockSize){h(this,ft),yt=0;break}}this.h=yt,this.o+=Be},a.prototype.v=function(){var dt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);dt[0]=128;for(var Be=1;Be<dt.length-8;++Be)dt[Be]=0;var Qe=8*this.o;for(Be=dt.length-8;Be<dt.length;++Be)dt[Be]=255&Qe,Qe/=256;for(this.u(dt),dt=Array(16),Be=Qe=0;4>Be;++Be)for(var ft=0;32>ft;ft+=8)dt[Qe++]=this.g[Be]>>>ft&255;return dt};var R={};function V(dt){return-128<=dt&&128>dt?function y(dt,Be){var Qe=R;return Object.prototype.hasOwnProperty.call(Qe,dt)?Qe[dt]:Qe[dt]=Be(dt)}(dt,function(Be){return new b([0|Be],0>Be?-1:0)}):new b([0|dt],0>dt?-1:0)}function K(dt){if(isNaN(dt)||!isFinite(dt))return Te;if(0>dt)return nn(K(-dt));for(var Be=[],Qe=1,ft=0;dt>=Qe;ft++)Be[ft]=dt/Qe|0,Qe*=4294967296;return new b(Be,0)}var Te=V(0),Ke=V(1),wt=V(16777216);function Ht(dt){if(0!=dt.h)return!1;for(var Be=0;Be<dt.g.length;Be++)if(0!=dt.g[Be])return!1;return!0}function un(dt){return-1==dt.h}function nn(dt){for(var Be=dt.g.length,Qe=[],ft=0;ft<Be;ft++)Qe[ft]=~dt.g[ft];return new b(Qe,~dt.h).add(Ke)}function Kn(dt,Be){return dt.add(nn(Be))}function ar(dt,Be){for(;(65535&dt[Be])!=dt[Be];)dt[Be+1]+=dt[Be]>>>16,dt[Be]&=65535,Be++}function Qn(dt,Be){this.g=dt,this.h=Be}function Lr(dt,Be){if(Ht(Be))throw Error("division by zero");if(Ht(dt))return new Qn(Te,Te);if(un(dt))return Be=Lr(nn(dt),Be),new Qn(nn(Be.g),nn(Be.h));if(un(Be))return Be=Lr(dt,nn(Be)),new Qn(nn(Be.g),Be.h);if(30<dt.g.length){if(un(dt)||un(Be))throw Error("slowDivide_ only works with positive integers.");for(var Qe=Ke,ft=Be;0>=ft.l(dt);)Qe=Oi(Qe),ft=Oi(ft);var yt=ui(Qe,1),St=ui(ft,1);for(ft=ui(ft,2),Qe=ui(Qe,2);!Ht(ft);){var qe=St.add(ft);0>=qe.l(dt)&&(yt=yt.add(Qe),St=qe),ft=ui(ft,1),Qe=ui(Qe,1)}return Be=Kn(dt,yt.j(Be)),new Qn(yt,Be)}for(yt=Te;0<=dt.l(Be);){for(Qe=Math.max(1,Math.floor(dt.m()/Be.m())),ft=48>=(ft=Math.ceil(Math.log(Qe)/Math.LN2))?1:Math.pow(2,ft-48),qe=(St=K(Qe)).j(Be);un(qe)||0<qe.l(dt);)qe=(St=K(Qe-=ft)).j(Be);Ht(St)&&(St=Ke),yt=yt.add(St),dt=Kn(dt,qe)}return new Qn(yt,dt)}function Oi(dt){for(var Be=dt.g.length+1,Qe=[],ft=0;ft<Be;ft++)Qe[ft]=dt.i(ft)<<1|dt.i(ft-1)>>>31;return new b(Qe,dt.h)}function ui(dt,Be){var Qe=Be>>5;Be%=32;for(var ft=dt.g.length-Qe,yt=[],St=0;St<ft;St++)yt[St]=0<Be?dt.i(St+Qe)>>>Be|dt.i(St+Qe+1)<<32-Be:dt.i(St+Qe);return new b(yt,dt.h)}(d=b.prototype).m=function(){if(un(this))return-nn(this).m();for(var dt=0,Be=1,Qe=0;Qe<this.g.length;Qe++){var ft=this.i(Qe);dt+=(0<=ft?ft:4294967296+ft)*Be,Be*=4294967296}return dt},d.toString=function(dt){if(2>(dt=dt||10)||36<dt)throw Error("radix out of range: "+dt);if(Ht(this))return"0";if(un(this))return"-"+nn(this).toString(dt);for(var Be=K(Math.pow(dt,6)),Qe=this,ft="";;){var yt=Lr(Qe,Be).g,St=((0<(Qe=Kn(Qe,yt.j(Be))).g.length?Qe.g[0]:Qe.h)>>>0).toString(dt);if(Ht(Qe=yt))return St+ft;for(;6>St.length;)St="0"+St;ft=St+ft}},d.i=function(dt){return 0>dt?0:dt<this.g.length?this.g[dt]:this.h},d.l=function(dt){return un(dt=Kn(this,dt))?-1:Ht(dt)?0:1},d.abs=function(){return un(this)?nn(this):this},d.add=function(dt){for(var Be=Math.max(this.g.length,dt.g.length),Qe=[],ft=0,yt=0;yt<=Be;yt++){var St=ft+(65535&this.i(yt))+(65535&dt.i(yt)),qe=(St>>>16)+(this.i(yt)>>>16)+(dt.i(yt)>>>16);ft=qe>>>16,Qe[yt]=(qe&=65535)<<16|(St&=65535)}return new b(Qe,-2147483648&Qe[Qe.length-1]?-1:0)},d.j=function(dt){if(Ht(this)||Ht(dt))return Te;if(un(this))return un(dt)?nn(this).j(nn(dt)):nn(nn(this).j(dt));if(un(dt))return nn(this.j(nn(dt)));if(0>this.l(wt)&&0>dt.l(wt))return K(this.m()*dt.m());for(var Be=this.g.length+dt.g.length,Qe=[],ft=0;ft<2*Be;ft++)Qe[ft]=0;for(ft=0;ft<this.g.length;ft++)for(var yt=0;yt<dt.g.length;yt++){var St=this.i(ft)>>>16,qe=65535&this.i(ft),Eu=dt.i(yt)>>>16,zp=65535&dt.i(yt);Qe[2*ft+2*yt]+=qe*zp,ar(Qe,2*ft+2*yt),Qe[2*ft+2*yt+1]+=St*zp,ar(Qe,2*ft+2*yt+1),Qe[2*ft+2*yt+1]+=qe*Eu,ar(Qe,2*ft+2*yt+1),Qe[2*ft+2*yt+2]+=St*Eu,ar(Qe,2*ft+2*yt+2)}for(ft=0;ft<Be;ft++)Qe[ft]=Qe[2*ft+1]<<16|Qe[2*ft];for(ft=Be;ft<2*Be;ft++)Qe[ft]=0;return new b(Qe,0)},d.A=function(dt){return Lr(this,dt).h},d.and=function(dt){for(var Be=Math.max(this.g.length,dt.g.length),Qe=[],ft=0;ft<Be;ft++)Qe[ft]=this.i(ft)&dt.i(ft);return new b(Qe,this.h&dt.h)},d.or=function(dt){for(var Be=Math.max(this.g.length,dt.g.length),Qe=[],ft=0;ft<Be;ft++)Qe[ft]=this.i(ft)|dt.i(ft);return new b(Qe,this.h|dt.h)},d.xor=function(dt){for(var Be=Math.max(this.g.length,dt.g.length),Qe=[],ft=0;ft<Be;ft++)Qe[ft]=this.i(ft)^dt.i(ft);return new b(Qe,this.h^dt.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Fe=be.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=K,b.fromString=function oe(dt,Be){if(0==dt.length)throw Error("number format error: empty string");if(2>(Be=Be||10)||36<Be)throw Error("radix out of range: "+Be);if("-"==dt.charAt(0))return nn(oe(dt.substring(1),Be));if(0<=dt.indexOf("-"))throw Error('number format error: interior "-" character');for(var Qe=K(Math.pow(Be,8)),ft=Te,yt=0;yt<dt.length;yt+=8){var St=Math.min(8,dt.length-yt),qe=parseInt(dt.substring(yt,yt+St),Be);8>St?(St=K(Math.pow(Be,St)),ft=ft.j(St).add(K(qe))):ft=(ft=ft.j(Qe)).add(K(qe))}return ft},je=be.Integer=b}).apply(typeof Re<"u"?Re:typeof self<"u"?self:typeof window<"u"?window:{});var ae,_e,it,lt,xt,kt,Qt,ze,J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,B,q){return E==Array.prototype||E==Object.prototype||(E[B]=q.value),E},a=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof J&&J];for(var B=0;B<E.length;++B){var q=E[B];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(E,B){if(B)e:{var q=a;E=E.split(".");for(var pe=0;pe<E.length-1;pe++){var Et=E[pe];if(!(Et in q))break e;q=q[Et]}(B=B(pe=q[E=E[E.length-1]]))!=pe&&null!=B&&e(q,E,{configurable:!0,writable:!0,value:B})}}("Array.prototype.values",function(E){return E||function(){return function y(E,B){E instanceof String&&(E+="");var q=0,pe=!1,Et={next:function(){if(!pe&&q<E.length){var Ft=q++;return{value:B(Ft,E[Ft]),done:!1}}return pe=!0,{done:!0,value:void 0}}};return Et[Symbol.iterator]=function(){return Et},Et}(this,function(B,q){return q})}});var b=b||{},R=this||self;function V(E){var B=typeof E;return"array"==(B="object"!=B?B:E?Array.isArray(E)?"array":B:"null")||"object"==B&&"number"==typeof E.length}function K(E){var B=typeof E;return"object"==B&&null!=E||"function"==B}function oe(E,B,q){return E.call.apply(E.bind,arguments)}function Te(E,B,q){if(!E)throw Error();if(2<arguments.length){var pe=Array.prototype.slice.call(arguments,2);return function(){var Et=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Et,pe),E.apply(B,Et)}}return function(){return E.apply(B,arguments)}}function Ke(E,B,q){return(Ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oe:Te).apply(null,arguments)}function wt(E,B){var q=Array.prototype.slice.call(arguments,1);return function(){var pe=q.slice();return pe.push.apply(pe,arguments),E.apply(this,pe)}}function Ht(E,B){function q(){}q.prototype=B.prototype,E.aa=B.prototype,E.prototype=new q,E.prototype.constructor=E,E.Qb=function(pe,Et,Ft){for(var Cn=Array(arguments.length-2),zi=2;zi<arguments.length;zi++)Cn[zi-2]=arguments[zi];return B.prototype[Et].apply(pe,Cn)}}function un(E){const B=E.length;if(0<B){const q=Array(B);for(let pe=0;pe<B;pe++)q[pe]=E[pe];return q}return[]}function nn(E,B){for(let q=1;q<arguments.length;q++){const pe=arguments[q];if(V(pe)){const Et=E.length||0,Ft=pe.length||0;E.length=Et+Ft;for(let Cn=0;Cn<Ft;Cn++)E[Et+Cn]=pe[Cn]}else E.push(pe)}}function ar(E){return/^[\s\xa0]*$/.test(E)}function Qn(){var E=R.navigator;return E&&(E=E.userAgent)?E:""}function Lr(E){return Lr[" "](E),E}Lr[" "]=function(){};var Oi=!(-1==Qn().indexOf("Gecko")||-1!=Qn().toLowerCase().indexOf("webkit")&&-1==Qn().indexOf("Edge")||-1!=Qn().indexOf("Trident")||-1!=Qn().indexOf("MSIE")||-1!=Qn().indexOf("Edge"));function ui(E,B,q){for(const pe in E)B.call(q,E[pe],pe,E)}function Be(E){const B={};for(const q in E)B[q]=E[q];return B}const Qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(E,B){let q,pe;for(let Et=1;Et<arguments.length;Et++){for(q in pe=arguments[Et],pe)E[q]=pe[q];for(let Ft=0;Ft<Qe.length;Ft++)q=Qe[Ft],Object.prototype.hasOwnProperty.call(pe,q)&&(E[q]=pe[q])}}function yt(E){var B=1;E=E.split(":");const q=[];for(;0<B&&E.length;)q.push(E.shift()),B--;return E.length&&q.push(E.join(":")),q}function St(E){R.setTimeout(()=>{throw E},0)}function qe(){var E=W_;let B=null;return E.g&&(B=E.g,E.g=E.g.next,E.g||(E.h=null),B.next=null),B}var zp=new class Kn{constructor(B,q){this.i=B,this.j=q,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}(()=>new DE,E=>E.reset());class DE{constructor(){this.next=this.g=this.h=null}set(B,q){this.h=B,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Pf,Wp=!1,W_=new class Eu{constructor(){this.h=this.g=null}add(B,q){const pe=zp.get();pe.set(B,q),this.h?this.h.next=pe:this.g=pe,this.h=pe}},Im=()=>{const E=R.Promise.resolve(void 0);Pf=()=>{E.then(SE)}};var SE=()=>{for(var E;E=qe();){try{E.h.call(E.g)}catch(q){St(q)}var B=zp;B.j(E),100>B.h&&(B.h++,E.next=B.g,B.g=E)}Wp=!1};function _d(){this.s=this.s,this.C=this.C}function Zo(E,B){this.type=E,this.g=this.target=B,this.defaultPrevented=!1}_d.prototype.s=!1,_d.prototype.ma=function(){this.s||(this.s=!0,this.N())},_d.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Zo.prototype.h=function(){this.defaultPrevented=!0};var RE=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var E=!1,B=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const q=()=>{};R.addEventListener("test",q,B),R.removeEventListener("test",q,B)}catch{}return E}();function Kp(E,B){if(Zo.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var q=this.type=E.type,pe=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=B,B=E.relatedTarget){if(Oi){e:{try{Lr(B.nodeName);var Et=!0;break e}catch{}Et=!1}Et||(B=null)}}else"mouseover"==q?B=E.fromElement:"mouseout"==q&&(B=E.toElement);this.relatedTarget=B,pe?(this.clientX=void 0!==pe.clientX?pe.clientX:pe.pageX,this.clientY=void 0!==pe.clientY?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Mc[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Kp.aa.h.call(this)}}Ht(Kp,Zo);var Mc={2:"touch",3:"pen",4:"mouse"};Kp.prototype.h=function(){Kp.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var mh="closure_listenable_"+(1e6*Math.random()|0),PE=0;function uv(E,B,q,pe,Et){this.listener=E,this.proxy=null,this.src=B,this.type=q,this.capture=!!pe,this.ha=Et,this.key=++PE,this.da=this.fa=!1}function Cm(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function qp(E){this.src=E,this.g={},this.h=0}function wm(E,B){var q=B.type;if(q in E.g){var Ft,pe=E.g[q],Et=Array.prototype.indexOf.call(pe,B,void 0);(Ft=0<=Et)&&Array.prototype.splice.call(pe,Et,1),Ft&&(Cm(B),0==E.g[q].length&&(delete E.g[q],E.h--))}}function Mf(E,B,q,pe){for(var Et=0;Et<E.length;++Et){var Ft=E[Et];if(!Ft.da&&Ft.listener==B&&Ft.capture==!!q&&Ft.ha==pe)return Et}return-1}qp.prototype.add=function(E,B,q,pe,Et){var Ft=E.toString();(E=this.g[Ft])||(E=this.g[Ft]=[],this.h++);var Cn=Mf(E,B,pe,Et);return-1<Cn?(B=E[Cn],q||(B.fa=!1)):((B=new uv(B,this.src,Ft,!!pe,Et)).fa=q,E.push(B)),B};var Yp="closure_lm_"+(1e6*Math.random()|0),dv={};function K_(E,B,q,pe,Et){if(pe&&pe.once)return Y_(E,B,q,pe,Et);if(Array.isArray(B)){for(var Ft=0;Ft<B.length;Ft++)K_(E,B[Ft],q,pe,Et);return null}return q=Qp(q),E&&E[mh]?E.K(B,q,K(pe)?!!pe.capture:!!pe,Et):q_(E,B,q,!1,pe,Et)}function q_(E,B,q,pe,Et,Ft){if(!B)throw Error("Invalid event type");var Cn=K(Et)?!!Et.capture:!!Et,zi=Xp(E);if(zi||(E[Yp]=zi=new qp(E)),(q=zi.add(B,q,pe,Cn,Ft)).proxy)return q;if(pe=function hv(){const B=ME;return function E(q){return B.call(E.src,E.listener,q)}}(),q.proxy=pe,pe.src=E,pe.listener=q,E.addEventListener)RE||(Et=Cn),void 0===Et&&(Et=!1),E.addEventListener(B.toString(),pe,Et);else if(E.attachEvent)E.attachEvent(fv(B.toString()),pe);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(pe)}return q}function Y_(E,B,q,pe,Et){if(Array.isArray(B)){for(var Ft=0;Ft<B.length;Ft++)Y_(E,B[Ft],q,pe,Et);return null}return q=Qp(q),E&&E[mh]?E.L(B,q,K(pe)?!!pe.capture:!!pe,Et):q_(E,B,q,!0,pe,Et)}function Am(E,B,q,pe,Et){if(Array.isArray(B))for(var Ft=0;Ft<B.length;Ft++)Am(E,B[Ft],q,pe,Et);else pe=K(pe)?!!pe.capture:!!pe,q=Qp(q),E&&E[mh]?(E=E.i,(B=String(B).toString())in E.g&&-1<(q=Mf(Ft=E.g[B],q,pe,Et))&&(Cm(Ft[q]),Array.prototype.splice.call(Ft,q,1),0==Ft.length&&(delete E.g[B],E.h--))):E&&(E=Xp(E))&&(B=E.g[B.toString()],E=-1,B&&(E=Mf(B,q,pe,Et)),(q=-1<E?B[E]:null)&&Ql(q))}function Ql(E){if("number"!=typeof E&&E&&!E.da){var B=E.src;if(B&&B[mh])wm(B.i,E);else{var q=E.type,pe=E.proxy;B.removeEventListener?B.removeEventListener(q,pe,E.capture):B.detachEvent?B.detachEvent(fv(q),pe):B.addListener&&B.removeListener&&B.removeListener(pe),(q=Xp(B))?(wm(q,E),0==q.h&&(q.src=null,B[Yp]=null)):Cm(E)}}}function fv(E){return E in dv?dv[E]:dv[E]="on"+E}function ME(E,B){if(E.da)E=!0;else{B=new Kp(B,this);var q=E.listener,pe=E.ha||E.src;E.fa&&Ql(E),E=q.call(pe,B)}return E}function Xp(E){return(E=E[Yp])instanceof qp?E:null}var X_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qp(E){return"function"==typeof E?E:(E[X_]||(E[X_]=function(B){return E.handleEvent(B)}),E[X_])}function ko(){_d.call(this),this.i=new qp(this),this.M=this,this.F=null}function po(E,B){var q,pe=E.F;if(pe)for(q=[];pe;pe=pe.F)q.push(pe);if(E=E.M,pe=B.type||B,"string"==typeof B)B=new Zo(B,E);else if(B instanceof Zo)B.target=B.target||E;else{var Et=B;ft(B=new Zo(pe,E),Et)}if(Et=!0,q)for(var Ft=q.length-1;0<=Ft;Ft--){var Cn=B.g=q[Ft];Et=bu(Cn,pe,!0,B)&&Et}if(Et=bu(Cn=B.g=E,pe,!0,B)&&Et,Et=bu(Cn,pe,!1,B)&&Et,q)for(Ft=0;Ft<q.length;Ft++)Et=bu(Cn=B.g=q[Ft],pe,!1,B)&&Et}function bu(E,B,q,pe){if(!(B=E.i.g[String(B)]))return!0;B=B.concat();for(var Et=!0,Ft=0;Ft<B.length;++Ft){var Cn=B[Ft];if(Cn&&!Cn.da&&Cn.capture==q){var zi=Cn.listener,go=Cn.ha||Cn.src;Cn.fa&&wm(E.i,Cn),Et=!1!==zi.call(go,pe)&&Et}}return Et&&!pe.defaultPrevented}function xf(E,B,q){if("function"==typeof E)q&&(E=Ke(E,q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=Ke(E.handleEvent,E)}return 2147483647<Number(B)?-1:R.setTimeout(E,B||0)}function _h(E){E.g=xf(()=>{E.g=null,E.i&&(E.i=!1,_h(E))},E.l);const B=E.h;E.h=null,E.m.apply(null,B)}Ht(ko,_d),ko.prototype[mh]=!0,ko.prototype.removeEventListener=function(E,B,q,pe){Am(this,E,B,q,pe)},ko.prototype.N=function(){if(ko.aa.N.call(this),this.i){var B,E=this.i;for(B in E.g){for(var q=E.g[B],pe=0;pe<q.length;pe++)Cm(q[pe]);delete E.g[B],E.h--}}this.F=null},ko.prototype.K=function(E,B,q,pe){return this.i.add(String(E),B,!1,q,pe)},ko.prototype.L=function(E,B,q,pe){return this.i.add(String(E),B,!0,q,pe)};class xE extends _d{constructor(B,q){super(),this.m=B,this.l=q,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:_h(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jp(E){_d.call(this),this.h=E,this.g={}}Ht(Jp,_d);var Of=[];function Dm(E){ui(E.g,function(B,q){this.g.hasOwnProperty(q)&&Ql(B)},E),E.g={}}Jp.prototype.N=function(){Jp.aa.N.call(this),Dm(this)},Jp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sm=R.JSON.stringify,pv=R.JSON.parse,Q_=class{stringify(E){return R.JSON.stringify(E,void 0)}parse(E){return R.JSON.parse(E,void 0)}};function Zp(){}function gv(){}Zp.prototype.h=null;var Nf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rm(){Zo.call(this,"d")}function J_(){Zo.call(this,"c")}Ht(Rm,Zo),Ht(J_,Zo);var vh={},kf=null;function Pm(){return kf=kf||new ko}function mv(E){Zo.call(this,vh.La,E)}function Ff(E){const B=Pm();po(B,new mv(B))}function _v(E,B){Zo.call(this,vh.STAT_EVENT,E),this.stat=B}function ha(E){const B=Pm();po(B,new _v(B,E))}function yv(E,B){Zo.call(this,vh.Ma,E),this.size=B}function eg(E,B){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){E()},B)}function tg(){this.g=!0}function Lf(E,B,q,pe){E.info(function(){return"XMLHTTP TEXT ("+B+"): "+function Ev(E,B){if(!E.g)return B;if(!B)return null;try{var q=JSON.parse(B);if(q)for(E=0;E<q.length;E++)if(Array.isArray(q[E])){var pe=q[E];if(!(2>pe.length)){var Et=pe[1];if(Array.isArray(Et)&&!(1>Et.length)){var Ft=Et[0];if("noop"!=Ft&&"stop"!=Ft&&"close"!=Ft)for(var Cn=1;Cn<Et.length;Cn++)Et[Cn]=""}}}return Sm(q)}catch{return B}}(E,q)+(pe?" "+pe:"")})}vh.La="serverreachability",Ht(mv,Zo),vh.STAT_EVENT="statevent",Ht(_v,Zo),vh.Ma="timingevent",Ht(yv,Zo),tg.prototype.xa=function(){this.g=!1},tg.prototype.info=function(){};var rg,$i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ig(){}function Tu(E,B,q,pe){this.j=E,this.i=B,this.l=q,this.R=pe||1,this.U=new Jp(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ey}function ey(){this.i=null,this.g="",this.h=!1}Ht(ig,Zp),ig.prototype.g=function(){return new XMLHttpRequest},ig.prototype.i=function(){return{}},rg=new ig;var Mm={},sg={};function xm(E,B,q){E.L=1,E.v=Bf(pa(B)),E.m=q,E.P=!0,Tv(E,null)}function Tv(E,B){E.F=Date.now(),Nm(E),E.A=pa(E.v);var q=E.A,pe=E.R;Array.isArray(pe)||(pe=[String(pe)]),Um(q.i,"t",pe),E.C=0,q=E.j.J,E.h=new ey,E.g=pg(E.j,q?B:null,!E.m),0<E.O&&(E.M=new xE(Ke(E.Y,E,E.g),E.O)),B=E.U,q=E.g,pe=E.ca;var Et="readystatechange";Array.isArray(Et)||(Et&&(Of[0]=Et.toString()),Et=Of);for(var Ft=0;Ft<Et.length;Ft++){var Cn=K_(q,Et[Ft],pe||B.handleEvent,!1,B.h||B);if(!Cn)break;B.g[Cn.key]=Cn}B=E.H?Be(E.H):{},E.m?(E.u||(E.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,B)):(E.u="GET",E.g.ea(E.A,E.u,null,B)),Ff(),function vv(E,B,q,pe,Et,Ft){E.info(function(){if(E.g)if(Ft)for(var Cn="",zi=Ft.split("&"),go=0;go<zi.length;go++){var Ni=zi[go].split("=");if(1<Ni.length){var Fo=Ni[0];Ni=Ni[1];var Lo=Fo.split("_");Cn=2<=Lo.length&&"type"==Lo[1]?Cn+(Fo+"=")+Ni+"&":Cn+(Fo+"=redacted&")}}else Cn=null;else Cn=Ft;return"XMLHTTP REQ ("+pe+") [attempt "+Et+"]: "+B+"\n"+q+"\n"+Cn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function Om(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function ty(E,B){var q=E.C,pe=B.indexOf("\n",q);return-1==pe?sg:(q=Number(B.substring(q,pe)),isNaN(q)?Mm:(pe+=1)+q>B.length?sg:(B=B.slice(pe,pe+q),E.C=pe+q,B))}function Nm(E){E.S=Date.now()+E.I,og(E,E.I)}function og(E,B){if(null!=E.B)throw Error("WatchDog timer not null");E.B=eg(Ke(E.ba,E),B)}function km(E){E.B&&(R.clearTimeout(E.B),E.B=null)}function Vf(E){0==E.j.G||E.J||Wf(E.j,E)}function xc(E){km(E);var B=E.M;B&&"function"==typeof B.ma&&B.ma(),E.M=null,Dm(E.U),E.g&&(B=E.g,E.g=null,B.abort(),B.ma())}function Fm(E,B){try{var q=E.j;if(0!=q.G&&(q.g==E||bh(q.h,E)))if(!E.K&&bh(q.h,E)&&3==q.G){try{var pe=q.Da.g.parse(B)}catch{pe=null}if(Array.isArray(pe)&&3==pe.length){var Et=pe;if(0==Et[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<E.F))break e;lo(q),Fc(q)}fg(q),ha(18)}}else q.za=Et[1],0<q.za-q.T&&37500>Et[2]&&q.F&&0==q.v&&!q.C&&(q.C=eg(Ke(q.Za,q),6e3));if(1>=Iu(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Mh(q,11)}else if((E.K||q.g==E)&&lo(q),!ar(B))for(Et=q.Da.g.parse(B),B=0;B<Et.length;B++){let Ni=Et[B];if(q.T=Ni[0],Ni=Ni[1],2==q.G)if("c"==Ni[0]){q.K=Ni[1],q.ia=Ni[2];const Fo=Ni[3];null!=Fo&&(q.la=Fo,q.j.info("VER="+q.la));const Lo=Ni[4];null!=Lo&&(q.Aa=Lo,q.j.info("SVER="+q.Aa));const ma=Ni[5];null!=ma&&"number"==typeof ma&&0<ma&&(q.L=pe=1.5*ma,q.j.info("backChannelRequestTimeoutMs_="+pe)),pe=q;const Vo=E.g;if(Vo){const Ad=Vo.g?Vo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ad){var Ft=pe.h;Ft.g||-1==Ad.indexOf("spdy")&&-1==Ad.indexOf("quic")&&-1==Ad.indexOf("h2")||(Ft.j=Ft.l,Ft.g=new Set,Ft.h&&(fa(Ft,Ft.h),Ft.h=null))}if(pe.D){const Dd=Vo.g?Vo.g.getResponseHeader("X-HTTP-Session-Id"):null;Dd&&(pe.ya=Dd,gs(pe.I,pe.D,Dd))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-E.F,q.j.info("Handshake RTT: "+q.R+"ms"));var Cn=E;if((pe=q).qa=Av(pe,pe.J?pe.ia:null,pe.W),Cn.K){ag(pe.h,Cn);var zi=Cn,go=pe.L;go&&(zi.I=go),zi.B&&(km(zi),Nm(zi)),pe.g=Cn}else Ph(pe);0<q.i.length&&wd(q)}else"stop"!=Ni[0]&&"close"!=Ni[0]||Mh(q,7);else 3==q.G&&("stop"==Ni[0]||"close"==Ni[0]?"stop"==Ni[0]?Mh(q,7):kc(q):"noop"!=Ni[0]&&q.l&&q.l.ta(Ni),q.v=0)}Ff()}catch{}}function Eh(E){this.l=E||10,E=R.PerformanceNavigationTiming?0<(E=R.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bo(E){return!!E.h||!!E.g&&E.g.size>=E.j}function Iu(E){return E.h?1:E.g?E.g.size:0}function bh(E,B){return E.h?E.h==B:!!E.g&&E.g.has(B)}function fa(E,B){E.g?E.g.add(B):E.h=B}function ag(E,B){E.h&&E.h==B?E.h=null:E.g&&E.g.has(B)&&E.g.delete(B)}function yd(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let B=E.i;for(const q of E.g.values())B=B.concat(q.D);return B}return un(E.i)}function vd(E,B){if(E.forEach&&"function"==typeof E.forEach)E.forEach(B,void 0);else if(V(E)||"string"==typeof E)Array.prototype.forEach.call(E,B,void 0);else for(var q=function Ih(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(V(E)||"string"==typeof E){var B=[];E=E.length;for(var q=0;q<E;q++)B.push(q);return B}B=[],q=0;for(const pe in E)B[q++]=pe;return B}}}(E),pe=function Th(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(V(E)){for(var B=[],q=E.length,pe=0;pe<q;pe++)B.push(E[pe]);return B}for(pe in B=[],q=0,E)B[q++]=E[pe];return B}(E),Et=pe.length,Ft=0;Ft<Et;Ft++)B.call(void 0,pe[Ft],q&&q[Ft],E)}Tu.prototype.ca=function(E){E=E.target;const B=this.M;B&&3==tc(E)?B.j():this.Y(E)},Tu.prototype.Y=function(E){try{if(E==this.g)e:{const Lo=tc(this.g);var B=this.g.Ba();if(this.g.Z(),!(3>Lo)&&(3!=Lo||this.g&&(this.h.h||this.g.oa()||hg(this.g)))){this.J||4!=Lo||7==B||Ff(),km(this);var q=this.g.Z();this.X=q;t:if(Om(this)){var pe=hg(this.g);E="";var Et=pe.length,Ft=4==tc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xc(this),Vf(this);var Cn="";break t}this.h.i=new R.TextDecoder}for(B=0;B<Et;B++)this.h.h=!0,E+=this.h.i.decode(pe[B],{stream:!(Ft&&B==Et-1)});pe.length=0,this.h.g+=E,this.C=0,Cn=this.h.g}else Cn=this.g.oa();if(this.o=200==q,function Z_(E,B,q,pe,Et,Ft,Cn){E.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+Et+"]: "+B+"\n"+q+"\n"+Ft+" "+Cn})}(this.i,this.u,this.A,this.l,this.R,Lo,q),this.o){if(this.T&&!this.K){t:{if(this.g){var zi,go=this.g;if((zi=go.g?go.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ar(zi)){var Ni=zi;break t}}Ni=null}if(!(q=Ni)){this.o=!1,this.s=3,ha(12),xc(this),Vf(this);break e}Lf(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fm(this,q)}if(this.P){let Vo;for(q=!0;!this.J&&this.C<Cn.length;){if(Vo=ty(this,Cn),Vo==sg){4==Lo&&(this.s=4,ha(14),q=!1),Lf(this.i,this.l,null,"[Incomplete Response]");break}if(Vo==Mm){this.s=4,ha(15),Lf(this.i,this.l,Cn,"[Invalid Chunk]"),q=!1;break}Lf(this.i,this.l,Vo,null),Fm(this,Vo)}if(Om(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Lo||0!=Cn.length||this.h.h||(this.s=1,ha(16),q=!1),this.o=this.o&&q,q){if(0<Cn.length&&!this.W){this.W=!0;var Fo=this.j;Fo.g==this&&Fo.ba&&!Fo.M&&(Fo.j.info("Great, no buffering proxy detected. Bytes received: "+Cn.length),Gm(Fo),Fo.M=!0,ha(11))}}else Lf(this.i,this.l,Cn,"[Invalid Chunked Response]"),xc(this),Vf(this)}else Lf(this.i,this.l,Cn,null),Fm(this,Cn);4==Lo&&xc(this),this.o&&!this.J&&(4==Lo?Wf(this.j,this):(this.o=!1,Nm(this)))}else(function sy(E){const B={};E=(E.g&&2<=tc(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let pe=0;pe<E.length;pe++){if(ar(E[pe]))continue;var q=yt(E[pe]);const Et=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Ft=B[Et]||[];B[Et]=Ft,Ft.push(q)}!function dt(E,B){for(const q in E)B.call(void 0,E[q],q,E)}(B,function(pe){return pe.join(", ")})})(this.g),400==q&&0<Cn.indexOf("Unknown SID")?(this.s=3,ha(12)):(this.s=0,ha(13)),xc(this),Vf(this)}}}catch{}},Tu.prototype.cancel=function(){this.J=!0,xc(this)},Tu.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function ng(E,B){E.info(function(){return"TIMEOUT: "+B})}(this.i,this.A),2!=this.L&&(Ff(),ha(17)),xc(this),this.s=2,Vf(this)):og(this,this.S-E)},Eh.prototype.cancel=function(){if(this.i=yd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var Ed=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Ka){this.h=E.h,Oc(this,E.j),this.o=E.o,this.g=E.g,Uf(this,E.s),this.l=E.l;var B=E.i,q=new cg;q.i=B.i,B.g&&(q.g=new Map(B.g),q.h=B.h),Lm(this,q),this.m=E.m}else E&&(B=String(E).match(Ed))?(this.h=!1,Oc(this,B[1]||"",!0),this.o=wh(B[2]||""),this.g=wh(B[3]||"",!0),Uf(this,B[4]),this.l=wh(B[5]||"",!0),Lm(this,B[6]||"",!0),this.m=wh(B[7]||"")):(this.h=!1,this.i=new cg(null,this.h))}function pa(E){return new Ka(E)}function Oc(E,B,q){E.j=q?wh(B,!0):B,E.j&&(E.j=E.j.replace(/:$/,""))}function Uf(E,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);E.s=B}else E.s=null}function Lm(E,B,q){B instanceof cg?(E.i=B,function OE(E,B){B&&!E.j&&(Zl(E),E.i=null,E.g.forEach(function(q,pe){var Et=pe.toLowerCase();pe!=Et&&(ny(this,pe),Um(this,Et,q))},E)),E.j=B}(E.i,E.h)):(q||(B=Ra(B,Pa)),E.i=new cg(B,E.h))}function gs(E,B,q){E.i.set(B,q)}function Bf(E){return gs(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function wh(E,B){return E?B?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Ra(E,B,q){return"string"==typeof E?(E=encodeURI(E).replace(B,Vm),q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function Vm(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Ka.prototype.toString=function(){var E=[],B=this.j;B&&E.push(Ra(B,jf,!0),":");var q=this.g;return(q||"file"==B)&&(E.push("//"),(B=this.o)&&E.push(Ra(B,jf,!0),"@"),E.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&E.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&E.push("/"),E.push(Ra(q,"/"==q.charAt(0)?$f:lg,!0))),(q=this.i.toString())&&E.push("?",q),(q=this.m)&&E.push("#",Ra(q,Iv)),E.join("")};var E,jf=/[#\/\?@]/g,lg=/[#\?:]/g,$f=/[#\?]/g,Pa=/[#\?@]/g,Iv=/#/g;function cg(E,B){this.h=this.g=null,this.i=E||null,this.j=!!B}function Zl(E){E.g||(E.g=new Map,E.h=0,E.i&&function Ch(E,B){if(E){E=E.split("&");for(var q=0;q<E.length;q++){var pe=E[q].indexOf("="),Et=null;if(0<=pe){var Ft=E[q].substring(0,pe);Et=E[q].substring(pe+1)}else Ft=E[q];B(Ft,Et?decodeURIComponent(Et.replace(/\+/g," ")):"")}}}(E.i,function(B,q){E.add(decodeURIComponent(B.replace(/\+/g," ")),q)}))}function ny(E,B){Zl(E),B=Hf(E,B),E.g.has(B)&&(E.i=null,E.h-=E.g.get(B).length,E.g.delete(B))}function bd(E,B){return Zl(E),B=Hf(E,B),E.g.has(B)}function Um(E,B,q){ny(E,B),0<q.length&&(E.i=null,E.g.set(Hf(E,B),un(q)),E.h+=q.length)}function Hf(E,B){return B=String(B),E.j&&(B=B.toLowerCase()),B}function Cl(E,B,q,pe,Et){try{Et&&(Et.onload=null,Et.onerror=null,Et.onabort=null,Et.ontimeout=null),pe(q)}catch{}}function ug(){this.g=new Q_}function dg(E,B,q){const pe=q||"";try{vd(E,function(Et,Ft){let Cn=Et;K(Et)&&(Cn=Sm(Et)),B.push(pe+Ft+"="+encodeURIComponent(Cn))})}catch(Et){throw B.push(pe+"type="+encodeURIComponent("_badmap")),Et}}function ec(E){this.l=E.Ub||null,this.j=E.eb||!1}function Gf(E,B){ko.call(this),this.D=E,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Td(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function Ah(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Id(E)}function Id(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function Nc(E){let B="";return ui(E,function(q,pe){B+=pe,B+=":",B+=q,B+="\r\n"}),B}function Dh(E,B,q){e:{for(pe in q){var pe=!1;break e}pe=!0}pe||(q=Nc(q),"string"==typeof E?null!=q&&encodeURIComponent(String(q)):gs(E,B,q))}function ms(E){ko.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=cg.prototype).add=function(E,B){Zl(this),this.i=null,E=Hf(this,E);var q=this.g.get(E);return q||this.g.set(E,q=[]),q.push(B),this.h+=1,this},d.forEach=function(E,B){Zl(this),this.g.forEach(function(q,pe){q.forEach(function(Et){E.call(B,Et,pe,this)},this)},this)},d.na=function(){Zl(this);const E=Array.from(this.g.values()),B=Array.from(this.g.keys()),q=[];for(let pe=0;pe<B.length;pe++){const Et=E[pe];for(let Ft=0;Ft<Et.length;Ft++)q.push(B[pe])}return q},d.V=function(E){Zl(this);let B=[];if("string"==typeof E)bd(this,E)&&(B=B.concat(this.g.get(Hf(this,E))));else{E=Array.from(this.g.values());for(let q=0;q<E.length;q++)B=B.concat(E[q])}return B},d.set=function(E,B){return Zl(this),this.i=null,bd(this,E=Hf(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[B]),this.h+=1,this},d.get=function(E,B){return E&&0<(E=this.V(E)).length?String(E[0]):B},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],B=Array.from(this.g.keys());for(var q=0;q<B.length;q++){var pe=B[q];const Ft=encodeURIComponent(String(pe)),Cn=this.V(pe);for(pe=0;pe<Cn.length;pe++){var Et=Ft;""!==Cn[pe]&&(Et+="="+encodeURIComponent(String(Cn[pe]))),E.push(Et)}}return this.i=E.join("&")},Ht(ec,Zp),ec.prototype.g=function(){return new Gf(this.l,this.j)},ec.prototype.i=(E={},function(){return E}),Ht(Gf,ko),(d=Gf.prototype).open=function(E,B){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=B,this.readyState=1,Id(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(B.body=E),(this.D||R).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ah(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Id(this)),this.g&&(this.readyState=3,Id(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Td(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var B=E.value?E.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!E.done}))&&(this.response=this.responseText+=B)}E.done?Ah(this):Id(this),3==this.readyState&&Td(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,Ah(this))},d.Qa=function(E){this.g&&(this.response=E,Ah(this))},d.ga=function(){this.g&&Ah(this)},d.setRequestHeader=function(E,B){this.u.append(E,B)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],B=this.h.entries();for(var q=B.next();!q.done;)E.push((q=q.value)[0]+": "+q[1]),q=B.next();return E.join("\r\n")},Object.defineProperty(Gf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Ht(ms,ko);var iy=/^https?$/i,Bm=["POST","PUT"];function qa(E,B){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=B,E.m=5,Cd(E),jm(E)}function Cd(E){E.A||(E.A=!0,po(E,"complete"),po(E,"error"))}function Cu(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=tc(E)||2!=E.Z()))if(E.u&&4==tc(E))xf(E.Ea,0,E);else if(po(E,"readystatechange"),4==tc(E)){E.h=!1;try{const Cn=E.Z();e:switch(Cn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var q;if(!(q=B)){var pe;if(pe=0===Cn){var Et=String(E.D).match(Ed)[1]||null;!Et&&R.self&&R.self.location&&(Et=R.self.location.protocol.slice(0,-1)),pe=!iy.test(Et?Et.toLowerCase():"")}q=pe}if(q)po(E,"complete"),po(E,"success");else{E.m=6;try{var Ft=2<tc(E)?E.g.statusText:""}catch{Ft=""}E.l=Ft+" ["+E.Z()+"]",Cd(E)}}finally{jm(E)}}}function jm(E,B){if(E.g){Sh(E);const q=E.g,pe=E.v[0]?()=>{}:null;E.g=null,E.v=null,B||po(E,"ready");try{q.onreadystatechange=pe}catch{}}}function Sh(E){E.I&&(R.clearTimeout(E.I),E.I=null)}function tc(E){return E.g?E.g.readyState:0}function hg(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Ma(E,B,q){return q&&q.internalChannelParams&&q.internalChannelParams[E]||B}function wl(E){this.Aa=0,this.i=[],this.j=new tg,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,E),this.cb=Ma("retryDelaySeedMs",1e4,E),this.Wa=Ma("forwardChannelMaxRetries",2,E),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Eh(E&&E.concurrentRequestLimit),this.Da=new ug,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function kc(E){if($m(E),3==E.G){var B=E.U++,q=pa(E.I);if(gs(q,"SID",E.K),gs(q,"RID",B),gs(q,"TYPE","terminate"),wu(E,q),(B=new Tu(E,E.j,B)).L=2,B.v=Bf(pa(q)),q=!1,R.navigator&&R.navigator.sendBeacon)try{q=R.navigator.sendBeacon(B.v.toString(),"")}catch{}!q&&R.Image&&((new Image).src=B.v,q=!0),q||(B.g=pg(B.j,null),B.g.ea(B.v)),B.F=Date.now(),Nm(B)}wv(E)}function Fc(E){E.g&&(Gm(E),E.g.cancel(),E.g=null)}function $m(E){Fc(E),E.u&&(R.clearTimeout(E.u),E.u=null),lo(E),E.h.cancel(),E.s&&("number"==typeof E.s&&R.clearTimeout(E.s),E.s=null)}function wd(E){if(!bo(E.h)&&!E.s){E.s=!0;var B=E.Ga;Pf||Im(),Wp||(Pf(),Wp=!0),W_.add(B,E),E.B=0}}function Rh(E,B){var q;q=B?B.l:E.U++;const pe=pa(E.I);gs(pe,"SID",E.K),gs(pe,"RID",q),gs(pe,"AID",E.T),wu(E,pe),E.m&&E.o&&Dh(pe,E.m,E.o),q=new Tu(E,E.j,q,E.B+1),null===E.m&&(q.H=E.o),B&&(E.i=B.D.concat(E.i)),B=Hm(E,q,1e3),q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),fa(E.h,q),xm(q,pe,B)}function wu(E,B){E.H&&ui(E.H,function(q,pe){gs(B,pe,q)}),E.l&&vd({},function(q,pe){gs(B,pe,q)})}function Hm(E,B,q){q=Math.min(E.i.length,q);var pe=E.l?Ke(E.l.Na,E.l,E):null;e:{var Et=E.i;let Ft=-1;for(;;){const Cn=["count="+q];-1==Ft?0<q?(Ft=Et[0].g,Cn.push("ofs="+Ft)):Ft=0:Cn.push("ofs="+Ft);let zi=!0;for(let go=0;go<q;go++){let Ni=Et[go].g;const Fo=Et[go].map;if(Ni-=Ft,0>Ni)Ft=Math.max(0,Et[go].g-100),zi=!1;else try{dg(Fo,Cn,"req"+Ni+"_")}catch{pe&&pe(Fo)}}if(zi){pe=Cn.join("&");break e}}}return E=E.i.splice(0,q),B.D=E,pe}function Ph(E){if(!E.g&&!E.u){E.Y=1;var B=E.Fa;Pf||Im(),Wp||(Pf(),Wp=!0),W_.add(B,E),E.v=0}}function fg(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=eg(Ke(E.Fa,E),ay(E,E.v)),E.v++,0))}function Gm(E){null!=E.A&&(R.clearTimeout(E.A),E.A=null)}function zf(E){E.g=new Tu(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var B=pa(E.qa);gs(B,"RID","rpc"),gs(B,"SID",E.K),gs(B,"AID",E.T),gs(B,"CI",E.F?"0":"1"),!E.F&&E.ja&&gs(B,"TO",E.ja),gs(B,"TYPE","xmlhttp"),wu(E,B),E.m&&E.o&&Dh(B,E.m,E.o),E.L&&(E.g.I=E.L);var q=E.g;E=E.ia,q.L=1,q.v=Bf(pa(B)),q.m=null,q.P=!0,Tv(q,E)}function lo(E){null!=E.C&&(R.clearTimeout(E.C),E.C=null)}function Wf(E,B){var q=null;if(E.g==B){lo(E),Gm(E),E.g=null;var pe=2}else{if(!bh(E.h,B))return;q=B.D,ag(E.h,B),pe=1}if(0!=E.G)if(B.o)if(1==pe){q=B.m?B.m.length:0,B=Date.now()-B.F;var Et=E.B;po(pe=Pm(),new yv(pe,q)),wd(E)}else Ph(E);else if(3==(Et=B.s)||0==Et&&0<B.X||!(1==pe&&function oy(E,B){return!(Iu(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=B.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=eg(Ke(E.Ga,E,B),ay(E,E.B)),E.B++,0)))}(E,B)||2==pe&&fg(E)))switch(q&&0<q.length&&(B=E.h,B.i=B.i.concat(q)),Et){case 1:Mh(E,5);break;case 4:Mh(E,10);break;case 3:Mh(E,6);break;default:Mh(E,2)}}function ay(E,B){let q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(q*=2),q*B}function Mh(E,B){if(E.j.info("Error code "+B),2==B){var q=Ke(E.fb,E),pe=E.Xa;const Et=!pe;pe=new Ka(pe||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Oc(pe,"https"),Bf(pe),Et?function Cv(E,B){const q=new tg;if(R.Image){const pe=new Image;pe.onload=wt(Cl,q,"TestLoadImage: loaded",!0,B,pe),pe.onerror=wt(Cl,q,"TestLoadImage: error",!1,B,pe),pe.onabort=wt(Cl,q,"TestLoadImage: abort",!1,B,pe),pe.ontimeout=wt(Cl,q,"TestLoadImage: timeout",!1,B,pe),R.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=E}else B(!1)}(pe.toString(),q):function ry(E,B){new tg;const pe=new AbortController,Et=setTimeout(()=>{pe.abort(),Cl(0,0,!1,B)},1e4);fetch(E,{signal:pe.signal}).then(Ft=>{clearTimeout(Et),Cl(0,0,!!Ft.ok,B)}).catch(()=>{clearTimeout(Et),Cl(0,0,!1,B)})}(pe.toString(),q)}else ha(2);E.G=0,E.l&&E.l.sa(B),wv(E),$m(E)}function wv(E){if(E.G=0,E.ka=[],E.l){const B=yd(E.h);(0!=B.length||0!=E.i.length)&&(nn(E.ka,B),nn(E.ka,E.i),E.h.i.length=0,un(E.i),E.i.length=0),E.l.ra()}}function Av(E,B,q){var pe=q instanceof Ka?pa(q):new Ka(q);if(""!=pe.g)B&&(pe.g=B+"."+pe.g),Uf(pe,pe.s);else{var Et=R.location;pe=Et.protocol,B=B?B+"."+Et.hostname:Et.hostname,Et=+Et.port;var Ft=new Ka(null);pe&&Oc(Ft,pe),B&&(Ft.g=B),Et&&Uf(Ft,Et),q&&(Ft.l=q),pe=Ft}return B=E.ya,(q=E.D)&&B&&gs(pe,q,B),gs(pe,"VER",E.la),wu(E,pe),pe}function pg(E,B,q){if(B&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(B=new ms(E.Ca&&!E.pa?new ec({eb:q}):E.pa)).Ha(E.J),B}function gg(){}function Lc(){}function ga(E,B){ko.call(this),this.g=new wl(B),this.l=E,this.h=B&&B.messageUrlParams||null,E=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(E?E["X-WebChannel-Content-Type"]=B.messageContentType:E={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(E?E["X-WebChannel-Client-Profile"]=B.va:E={"X-WebChannel-Client-Profile":B.va}),this.g.S=E,(E=B&&B.Sb)&&!ar(E)&&(this.g.m=E),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!ar(B)&&(this.g.D=B,null!==(E=this.h)&&B in E&&B in(E=this.h)&&delete E[B]),this.j=new nc(this)}function ly(E){Rm.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var B=E.__sm__;if(B){e:{for(const q in B){E=q;break e}E=void 0}(this.i=E)&&(E=this.i,B=null!==B&&E in B?B[E]:void 0),this.data=B}else this.data=E}function cy(){J_.call(this),this.status=1}function nc(E){this.g=E}(d=ms.prototype).Ha=function(E){this.J=E},d.ea=function(E,B,q,pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);B=B?B.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rg.g(),this.v=function yh(E){return E.h||(E.h=E.i())}(this.o?this.o:rg),this.g.onreadystatechange=Ke(this.Ea,this);try{this.B=!0,this.g.open(B,String(E),!0),this.B=!1}catch(Ft){return void qa(this,Ft)}if(E=q||"",q=new Map(this.headers),pe)if(Object.getPrototypeOf(pe)===Object.prototype)for(var Et in pe)q.set(Et,pe[Et]);else{if("function"!=typeof pe.keys||"function"!=typeof pe.get)throw Error("Unknown input type for opt_headers: "+String(pe));for(const Ft of pe.keys())q.set(Ft,pe.get(Ft))}pe=Array.from(q.keys()).find(Ft=>"content-type"==Ft.toLowerCase()),Et=R.FormData&&E instanceof R.FormData,!(0<=Array.prototype.indexOf.call(Bm,B,void 0))||pe||Et||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ft,Cn]of q)this.g.setRequestHeader(Ft,Cn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sh(this),this.u=!0,this.g.send(E),this.u=!1}catch(Ft){qa(this,Ft)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,po(this,"complete"),po(this,"abort"),jm(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jm(this,!0)),ms.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?Cu(this):this.bb())},d.bb=function(){Cu(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<tc(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var B=this.g.responseText;return E&&0==B.indexOf(E)&&(B=B.substring(E.length)),pv(B)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=wl.prototype).la=8,d.G=1,d.connect=function(E,B,q,pe){ha(0),this.W=E,this.H=B||{},q&&void 0!==pe&&(this.H.OSID=q,this.H.OAID=pe),this.F=this.X,this.I=Av(this,null,this.W),wd(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const Et=new Tu(this,this.j,E);let Ft=this.o;if(this.S&&(Ft?(Ft=Be(Ft),ft(Ft,this.S)):Ft=this.S),null!==this.m||this.O||(Et.H=Ft,Ft=null),this.P)e:{for(var B=0,q=0;q<this.i.length;q++){var pe=this.i[q];if(void 0===(pe="__data__"in pe.map&&"string"==typeof(pe=pe.map.__data__)?pe.length:void 0))break;if(4096<(B+=pe)){B=q;break e}if(4096===B||q===this.i.length-1){B=q+1;break e}}B=1e3}else B=1e3;B=Hm(this,Et,B),gs(q=pa(this.I),"RID",E),gs(q,"CVER",22),this.D&&gs(q,"X-HTTP-Session-Id",this.D),wu(this,q),Ft&&(this.O?B="headers="+encodeURIComponent(String(Nc(Ft)))+"&"+B:this.m&&Dh(q,this.m,Ft)),fa(this.h,Et),this.Ua&&gs(q,"TYPE","init"),this.P?(gs(q,"$req",B),gs(q,"SID","null"),Et.T=!0,xm(Et,q,null)):xm(Et,q,B),this.G=2}}else 3==this.G&&(E?Rh(this,E):0==this.i.length||bo(this.h)||Rh(this))},d.Fa=function(){if(this.u=null,zf(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=eg(Ke(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ha(10),Fc(this),zf(this))},d.Za=function(){null!=this.C&&(this.C=null,Fc(this),fg(this),ha(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),ha(2)):(this.j.info("Failed to ping google.com"),ha(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=gg.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},Lc.prototype.g=function(E,B){return new ga(E,B)},Ht(ga,ko),ga.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ga.prototype.close=function(){kc(this.g)},ga.prototype.o=function(E){var B=this.g;if("string"==typeof E){var q={};q.__data__=E,E=q}else this.u&&((q={}).__data__=Sm(E),E=q);B.i.push(new class{constructor(E,B){this.g=E,this.map=B}}(B.Ya++,E)),3==B.G&&wd(B)},ga.prototype.N=function(){this.g.l=null,delete this.j,kc(this.g),delete this.g,ga.aa.N.call(this)},Ht(ly,Rm),Ht(cy,J_),Ht(nc,gg),nc.prototype.ua=function(){po(this.g,"a")},nc.prototype.ta=function(E){po(this.g,new ly(E))},nc.prototype.sa=function(E){po(this.g,new cy)},nc.prototype.ra=function(){po(this.g,"b")},Lc.prototype.createWebChannel=Lc.prototype.g,ga.prototype.send=ga.prototype.o,ga.prototype.open=ga.prototype.m,ga.prototype.close=ga.prototype.close,ze=te.createWebChannelTransport=function(){return new Lc},Qt=te.getStatEventTarget=function(){return Pm()},kt=te.Event=vh,xt=te.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,lt=te.ErrorCode=$i,bv.COMPLETE="complete",it=te.EventType=bv,gv.EventType=Nf,Nf.OPEN="a",Nf.CLOSE="b",Nf.ERROR="c",Nf.MESSAGE="d",ko.prototype.listen=ko.prototype.K,_e=te.WebChannel=gv,te.FetchXmlHttpFactory=ec,ms.prototype.listenOnce=ms.prototype.L,ms.prototype.getLastError=ms.prototype.Ka,ms.prototype.getLastErrorCode=ms.prototype.Ba,ms.prototype.getStatus=ms.prototype.Z,ms.prototype.getResponseJson=ms.prototype.Oa,ms.prototype.getResponseText=ms.prototype.oa,ms.prototype.send=ms.prototype.ea,ms.prototype.setWithCredentials=ms.prototype.Ha,ae=te.XhrIo=ms}).apply(typeof J<"u"?J:typeof self<"u"?self:typeof window<"u"?window:{});const we="@firebase/firestore";class Ze{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let Ve="10.14.0";const et=new ve.Vy("@firebase/firestore");function $e(){return et.logLevel}function Ot(d){et.setLogLevel(d)}function Ce(d,...e){if(et.logLevel<=ve.$b.DEBUG){const r=e.map(ir);et.debug(`Firestore (${Ve}): ${d}`,...r)}}function qt(d,...e){if(et.logLevel<=ve.$b.ERROR){const r=e.map(ir);et.error(`Firestore (${Ve}): ${d}`,...r)}}function pn(d,...e){if(et.logLevel<=ve.$b.WARN){const r=e.map(ir);et.warn(`Firestore (${Ve}): ${d}`,...r)}}function ir(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Ye(d="Unexpected state"){const e=`FIRESTORE (${Ve}) INTERNAL ASSERTION FAILED: `+d;throw qt(e),new Error(e)}function Pt(d,e){d||Ye()}function Ue(d,e){d||Ye()}function ct(d,e){return d}const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ye.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class We{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ze.UNAUTHENTICATED))}shutdown(){}}class Ie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ke{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var a=this;Pt(void 0===this.o);let h=this.i;const y=K=>this.i!==h?(h=this.i,r(K)):Promise.resolve();let b=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new tn,e.enqueueRetryable(()=>y(this.currentUser))};const R=()=>{const K=b;e.enqueueRetryable((0,o.A)(function*(){yield K.promise,yield y(a.currentUser)}))},V=K=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(K=>V(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?V(K):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new tn)}},0),R()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Pt("string"==typeof a.accessToken),new We(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(null===e||"string"==typeof e),new Ze(e)}}class ut{constructor(e,r,a){this.l=e,this.h=r,this.P=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rt{constructor(e,r,a){this.l=e,this.h=r,this.P=a}getToken(){return Promise.resolve(new ut(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Pt(void 0===this.o);const a=y=>{null!=y.error&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const b=y.token!==this.R;return this.R=y.token,Ce("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>a(y))};const h=y=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>h(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?h(y):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Pt("string"==typeof r.token),this.R=r.token,new Lt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let a=0;a<d;a++)r[a]=Math.floor(256*Math.random());return r}class Vn{static newId(){const r=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=sn(40);for(let y=0;y<h.length;++y)a.length<20&&h[y]<r&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[y]%62))}return a}}function Jt(d,e){return d<e?-1:d>e?1:0}function $n(d,e,r){return d.length===e.length&&d.every((a,h)=>r(a,e[h]))}function On(d){return d+"\0"}class Gt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new st(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new st(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new st(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*r));return new Gt(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new Gt(0,0))}static max(){return new Bt(new Gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vr{constructor(e,r,a){void 0===r?r=0:r>e.length&&Ye(),void 0===a?a=e.length-r:a>e.length-r&&Ye(),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return 0===vr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let h=0;h<a;h++){const y=e.get(h),b=r.get(h);if(y<b)return-1;if(y>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class on extends vr{construct(e,r,a){return new on(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new st(Oe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(h=>h.length>0))}return new on(r)}static emptyPath(){return new on([])}}const kr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends vr{construct(e,r,a){return new Yn(e,r,a)}static isValidIdentifier(e){return kr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yn(["__name__"])}static fromServerFormat(e){const r=[];let a="",h=0;const y=()=>{if(0===a.length)throw new st(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let b=!1;for(;h<e.length;){const R=e[h];if("\\"===R){if(h+1===e.length)throw new st(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[h+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new st(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=V,h+=2}else"`"===R?(b=!b,h++):"."!==R||b?(a+=R,h++):(y(),h++)}if(y(),b)throw new st(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(r)}static emptyPath(){return new Yn([])}}class $t{constructor(e){this.path=e}static fromPath(e){return new $t(on.fromString(e))}static fromName(e){return new $t(on.fromString(e).popFirst(5))}static empty(){return new $t(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return on.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new on(e.slice()))}}class bn{constructor(e,r,a,h){this.indexId=e,this.collectionGroup=r,this.fields=a,this.indexState=h}}function Hn(d){return d.fields.find(e=>2===e.kind)}function In(d){return d.fields.filter(e=>2!==e.kind)}bn.UNKNOWN_ID=-1;class Mr{constructor(e,r){this.fieldPath=e,this.kind=r}}class zn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new zn(0,hn.min())}}function pi(d,e){const r=d.toTimestamp().seconds,a=d.toTimestamp().nanoseconds+1,h=Bt.fromTimestamp(1e9===a?new Gt(r+1,0):new Gt(r,a));return new hn(h,$t.empty(),e)}function ys(d){return new hn(d.readTime,d.key,-1)}class hn{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new hn(Bt.min(),$t.empty(),-1)}static max(){return new hn(Bt.max(),$t.empty(),-1)}}function ii(d,e){let r=d.readTime.compareTo(e.readTime);return 0!==r?r:(r=$t.comparator(d.documentKey,e.documentKey),0!==r?r:Jt(d.largestBatchId,e.largestBatchId))}const Jn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ir{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gn(d){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,o.A)(function*(d){if(d.code!==Oe.FAILED_PRECONDITION||d.message!==Jn)throw d;Ce("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ot((a,h)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(a,h)},this.catchCallback=y=>{this.wrapFailure(r,y).next(a,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ot?r:ot.resolve(r)}catch(r){return ot.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ot.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ot.reject(r)}static resolve(e){return new ot((r,a)=>{r(e)})}static reject(e){return new ot((r,a)=>{a(e)})}static waitFor(e){return new ot((r,a)=>{let h=0,y=0,b=!1;e.forEach(R=>{++h,R.next(()=>{++y,b&&y===h&&r()},V=>a(V))}),b=!0,y===h&&r()})}static or(e){let r=ot.resolve(!1);for(const a of e)r=r.next(h=>h?ot.resolve(h):a());return r}static forEach(e,r){const a=[];return e.forEach((h,y)=>{a.push(r.call(this,h,y))}),this.waitFor(a)}static mapArray(e,r){return new ot((a,h)=>{const y=e.length,b=new Array(y);let R=0;for(let V=0;V<y;V++){const K=V;r(e[K]).next(oe=>{b[K]=oe,++R,R===y&&a(b)},oe=>h(oe))}})}static doWhile(e,r){return new ot((a,h)=>{const y=()=>{!0===e()?r().next(()=>{y()},h):a()};y()})}}class Tt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new tn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new gt(e,r.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=vt(a.target.error);this.V.reject(new gt(e,h))}}static open(e,r,a,h){try{return new Tt(r,e.transaction(h,a))}catch(y){throw new gt(r,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ce("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new _t(r)}}class ue{constructor(e,r,a){this.name=e,this.version=r,this.p=a,12.2===ue.S((0,ye.ZQ)())&&qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ce("SimpleDb","Removing database:",e),Yt(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ye.zW)())return!1;if(ue.v())return!0;const e=(0,ye.ZQ)(),r=ue.S(e),a=0<r&&r<10,h=Ne(e),y=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||y)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var r=this;return(0,o.A)(function*(){return r.db||(Ce("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,h)=>{const y=indexedDB.open(r.name,r.version);y.onsuccess=b=>{a(b.target.result)},y.onblocked=()=>{h(new gt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=b=>{const R=b.target.error;h("VersionError"===R.name?new st(Oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new st(Oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new gt(e,R))},y.onupgradeneeded=b=>{Ce("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,y.transaction,b.oldVersion,r.version).next(()=>{Ce("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=a=>r.N(a)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,a,h){var y=this;return(0,o.A)(function*(){const b="readonly"===r;let R=0;for(;;){++R;try{y.db=yield y.M(e);const V=Tt.open(y.db,e,b?"readonly":"readwrite",a),K=h(V).next(oe=>(V.g(),oe)).catch(oe=>(V.abort(oe),ot.reject(oe))).toPromise();return K.catch(()=>{}),yield V.m,K}catch(V){const K=V,oe="FirebaseError"!==K.name&&R<3;if(Ce("SimpleDb","Transaction failed with error:",K.message,"Retrying:",oe),y.close(),!oe)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ne(d){const e=d.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class fe{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Yt(this.B.delete())}}class gt extends st{constructor(e,r){super(Oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ee(d){return"IndexedDbTransactionError"===d.name}class _t{constructor(e){this.store=e}put(e,r){let a;return void 0!==r?(Ce("SimpleDb","PUT",this.store.name,e,r),a=this.store.put(r,e)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Yt(a)}add(e){return Ce("SimpleDb","ADD",this.store.name,e,e),Yt(this.store.add(e))}get(e){return Yt(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ce("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ce("SimpleDb","DELETE",this.store.name,e),Yt(this.store.delete(e))}count(){return Ce("SimpleDb","COUNT",this.store.name),Yt(this.store.count())}U(e,r){const a=this.options(e,r),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const y=h.getAll(a.range);return new ot((b,R)=>{y.onerror=V=>{R(V.target.error)},y.onsuccess=V=>{b(V.target.result)}})}{const y=this.cursor(a),b=[];return this.W(y,(R,V)=>{b.push(V)}).next(()=>b)}}G(e,r){const a=this.store.getAll(e,null===r?void 0:r);return new ot((h,y)=>{a.onerror=b=>{y(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,r){Ce("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,r);a.H=!1;const h=this.cursor(a);return this.W(h,(y,b,R)=>R.delete())}J(e,r){let a;r?a=e:(a={},r=e);const h=this.cursor(a);return this.W(h,r)}Y(e){const r=this.cursor({});return new ot((a,h)=>{r.onerror=y=>{const b=vt(y.target.error);h(b)},r.onsuccess=y=>{const b=y.target.result;b?e(b.primaryKey,b.value).next(R=>{R?b.continue():a()}):a()}})}W(e,r){const a=[];return new ot((h,y)=>{e.onerror=b=>{y(b.target.error)},e.onsuccess=b=>{const R=b.target.result;if(!R)return void h();const V=new fe(R),K=r(R.primaryKey,R.value,V);if(K instanceof ot){const oe=K.catch(Te=>(V.done(),ot.reject(Te)));a.push(oe)}V.isDone?h():null===V.K?R.continue():R.continue(V.K)}}).next(()=>ot.waitFor(a))}options(e,r){let a;return void 0!==e&&("string"==typeof e?a=e:r=e),{index:a,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,r):a.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Yt(d){return new ot((e,r)=>{d.onsuccess=a=>{e(a.target.result)},d.onerror=a=>{const h=vt(a.target.error);r(h)}})}let Er=!1;function vt(d){const e=ue.S((0,ye.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(r)>=0){const a=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Er||(Er=!0,setTimeout(()=>{throw a},0)),a}}return d}class ${constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ce("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,o.A)(function*(){r.task=null;try{Ce("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(a){Ee(a)?Ce("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Gn(a)}yield r.X(6e4)}))}}class M{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,o.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>r.te(a,e))})()}te(e,r){const a=new Set;let h=r,y=!0;return ot.doWhile(()=>!0===y&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return Ce("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(R=>{h-=R,a.add(b)});y=!1})).next(()=>r-h)}ne(e,r,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(h=>this.localStore.localDocuments.getNextDocuments(e,r,h,a).next(y=>{const b=y.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,y)).next(R=>(Ce("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,r,R))).next(()=>b.size)}))}re(e,r){let a=e;return r.changes.forEach((h,y)=>{const b=ys(y);ii(b,a)>0&&(a=b)}),new hn(a.readTime,a.documentKey,Math.max(r.batchId,e.largestBatchId))}}let L=(()=>{class d{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return d.oe=-1,d})();function ie(d){return null==d}function me(d){return 0===d&&1/d==-1/0}function ht(d){return"number"==typeof d&&Number.isInteger(d)&&!me(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function Mt(d){let e="";for(let r=0;r<d.length;r++)e.length>0&&(e=fn(e)),e=an(d.get(r),e);return fn(e)}function an(d,e){let r=e;const a=d.length;for(let h=0;h<a;h++){const y=d.charAt(h);switch(y){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=y}}return r}function fn(d){return d+"\x01\x01"}function Sn(d){const e=d.length;if(Pt(e>=2),2===e)return Pt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),on.emptyPath();const r=e-2,a=[];let h="";for(let y=0;y<e;){const b=d.indexOf("\x01",y);switch((b<0||b>r)&&Ye(),d.charAt(b+1)){case"\x01":const R=d.substring(y,b);let V;0===h.length?V=R:(h+=R,V=h,h=""),a.push(V);break;case"\x10":h+=d.substring(y,b),h+="\0";break;case"\x11":h+=d.substring(y,b+1);break;default:Ye()}y=b+2}return new on(a)}const br=["userId","batchId"];function ln(d,e){return[d,Mt(e)]}function Wr(d,e,r){return[d,Mt(e),r]}const dr={},$s=["prefixPath","collectionGroup","readTime","documentId"],Fi=["prefixPath","collectionGroup","documentId"],vs=["collectionGroup","readTime","prefixPath","documentId"],Es=["canonicalId","targetId"],yi=["targetId","path"],sr=["path","targetId"],ks=["collectionId","parent"],At=["indexId","uid"],at=["uid","sequenceNumber"],Nt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cn=["indexId","uid","orderedDocumentKey"],Bn=["userId","collectionPath","documentId"],Ln=["userId","collectionPath","largestBatchId"],hr=["userId","collectionGroup","largestBatchId"],Hr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jr=[...Hr,"documentOverlays"],mr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ki=mr,Fs=[...Ki,"indexConfiguration","indexState","indexEntries"],Zi=Fs,Io=[...Fs,"globals"];class Co extends Ir{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function ji(d,e){const r=ct(d);return ue.F(r._e,e)}function jo(d){let e=0;for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e++;return e}function di(d,e){for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e(r,d[r])}function bs(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Zr{constructor(e,r){this.comparator=e,this.root=r||Ri.EMPTY}insert(e,r){return new Zr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new Zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return r+a.left.size;h<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hi(this.root,e,this.comparator,!0)}}class Hi{constructor(e,r,a,h){this.isReverse=h,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=r?a(e.key,r):1,r&&h&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,r,a,h,y){this.key=e,this.value=r,this.color=a??Ri.RED,this.left=h??Ri.EMPTY,this.right=y??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,h,y){return new Ri(e??this.key,r??this.value,a??this.color,h??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let h=this;const y=a(e,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(e,r,a),null):0===y?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return Ri.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,r,a,h,y){return this}insert(e,r,a){return new Ri(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new Zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new uo(this.data.getIterator())}getIteratorFrom(e){return new uo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,y=a.getNext().key;if(0!==this.comparator(h,y))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ar(this.comparator);return r.data=e,r}}class uo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wo(d){return d.hasNext()?d.getNext():void 0}class gi{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new gi([])}unionWith(e){let r=new Ar(Yn.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new gi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return $n(this.fields,e.fields,(r,a)=>r.isEqual(a))}}class Oa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Xa(){return typeof atob<"u"}class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new Oa("Invalid base64 string: "+y):y}}(e);return new xr(r)}static fromUint8Array(e){const r=function(h){let y="";for(let b=0;b<h.length;++b)y+=String.fromCharCode(h[b]);return y}(e);return new xr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let h=0;h<r.length;h++)a[h]=r.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const us=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(d){if(Pt(!!d),"string"==typeof d){let e=0;const r=us.exec(d);if(Pt(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(d);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:fr(d.seconds),nanos:fr(d.nanos)}}function fr(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function Ts(d){return"string"==typeof d?xr.fromBase64String(d):xr.fromUint8Array(d)}function ts(d){var e,r;return"server_timestamp"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function As(d){const e=d.mapValue.fields.__previous_value__;return ts(e)?As(e):e}function ns(d){const e=Pi(d.mapValue.fields.__local_write_time__.timestampValue);return new Gt(e.seconds,e.nanos)}class Dr{constructor(e,r,a,h,y,b,R,V,K){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=h,this.ssl=y,this.forceLongPolling=b,this.autoDetectLongPolling=R,this.longPollingOptions=V,this.useFetchStreams=K}}class si{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new si("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof si&&e.projectId===this.projectId&&e.database===this.database}}const oi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ds={nullValue:"NULL_VALUE"};function ai(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?ts(d)?4:Zn(d)?9007199254740991:vi(d)?10:11:Ye()}function qi(d,e){if(d===e)return!0;const r=ai(d);if(r!==ai(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return ns(d).isEqual(ns(e));case 3:return function(h,y){if("string"==typeof h.timestampValue&&"string"==typeof y.timestampValue&&h.timestampValue.length===y.timestampValue.length)return h.timestampValue===y.timestampValue;const b=Pi(h.timestampValue),R=Pi(y.timestampValue);return b.seconds===R.seconds&&b.nanos===R.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return y=e,Ts(d.bytesValue).isEqual(Ts(y.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,y){return fr(h.geoPointValue.latitude)===fr(y.geoPointValue.latitude)&&fr(h.geoPointValue.longitude)===fr(y.geoPointValue.longitude)}(d,e);case 2:return function(h,y){if("integerValue"in h&&"integerValue"in y)return fr(h.integerValue)===fr(y.integerValue);if("doubleValue"in h&&"doubleValue"in y){const b=fr(h.doubleValue),R=fr(y.doubleValue);return b===R?me(b)===me(R):isNaN(b)&&isNaN(R)}return!1}(d,e);case 9:return $n(d.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return function(h,y){const b=h.mapValue.fields||{},R=y.mapValue.fields||{};if(jo(b)!==jo(R))return!1;for(const V in b)if(b.hasOwnProperty(V)&&(void 0===R[V]||!qi(b[V],R[V])))return!1;return!0}(d,e);default:return Ye()}var y}function to(d,e){return void 0!==(d.values||[]).find(r=>qi(r,e))}function Yi(d,e){if(d===e)return 0;const r=ai(d),a=ai(e);if(r!==a)return Jt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Jt(d.booleanValue,e.booleanValue);case 2:return function(y,b){const R=fr(y.integerValue||y.doubleValue),V=fr(b.integerValue||b.doubleValue);return R<V?-1:R>V?1:R===V?0:isNaN(R)?isNaN(V)?0:-1:1}(d,e);case 3:return Is(d.timestampValue,e.timestampValue);case 4:return Is(ns(d),ns(e));case 5:return Jt(d.stringValue,e.stringValue);case 6:return function(y,b){const R=Ts(y),V=Ts(b);return R.compareTo(V)}(d.bytesValue,e.bytesValue);case 7:return function(y,b){const R=y.split("/"),V=b.split("/");for(let K=0;K<R.length&&K<V.length;K++){const oe=Jt(R[K],V[K]);if(0!==oe)return oe}return Jt(R.length,V.length)}(d.referenceValue,e.referenceValue);case 8:return function(y,b){const R=Jt(fr(y.latitude),fr(b.latitude));return 0!==R?R:Jt(fr(y.longitude),fr(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Ls(d.arrayValue,e.arrayValue);case 10:return function(y,b){var R,V,K,oe;const wt=null===(R=(y.fields||{}).value)||void 0===R?void 0:R.arrayValue,Ht=null===(V=(b.fields||{}).value)||void 0===V?void 0:V.arrayValue,un=Jt((null===(K=wt?.values)||void 0===K?void 0:K.length)||0,(null===(oe=Ht?.values)||void 0===oe?void 0:oe.length)||0);return 0!==un?un:Ls(wt,Ht)}(d.mapValue,e.mapValue);case 11:return function(y,b){if(y===oi.mapValue&&b===oi.mapValue)return 0;if(y===oi.mapValue)return 1;if(b===oi.mapValue)return-1;const R=y.fields||{},V=Object.keys(R),K=b.fields||{},oe=Object.keys(K);V.sort(),oe.sort();for(let Te=0;Te<V.length&&Te<oe.length;++Te){const Ke=Jt(V[Te],oe[Te]);if(0!==Ke)return Ke;const wt=Yi(R[V[Te]],K[oe[Te]]);if(0!==wt)return wt}return Jt(V.length,oe.length)}(d.mapValue,e.mapValue);default:throw Ye()}}function Is(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return Jt(d,e);const r=Pi(d),a=Pi(e),h=Jt(r.seconds,a.seconds);return 0!==h?h:Jt(r.nanos,a.nanos)}function Ls(d,e){const r=d.values||[],a=e.values||[];for(let h=0;h<r.length&&h<a.length;++h){const y=Yi(r[h],a[h]);if(y)return y}return Jt(r.length,a.length)}function ei(d){return mn(d)}function mn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(r){const a=Pi(r);return`time(${a.seconds},${a.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?Ts(d.bytesValue).toBase64():"referenceValue"in d?$t.fromName(d.referenceValue).toString():"geoPointValue"in d?function(r){return`geo(${r.latitude},${r.longitude})`}(d.geoPointValue):"arrayValue"in d?function(r){let a="[",h=!0;for(const y of r.values||[])h?h=!1:a+=",",a+=mn(y);return a+"]"}(d.arrayValue):"mapValue"in d?function(r){const a=Object.keys(r.fields||{}).sort();let h="{",y=!0;for(const b of a)y?y=!1:h+=",",h+=`${b}:${mn(r.fields[b])}`;return h+"}"}(d.mapValue):Ye()}function cr(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function Xi(d){return!!d&&"integerValue"in d}function rs(d){return!!d&&"arrayValue"in d}function li(d){return!!d&&"nullValue"in d}function Mi(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function Fr(d){return!!d&&"mapValue"in d}function vi(d){var e,r;return"__vector__"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Cs(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return di(d.mapValue.fields,(r,a)=>e.mapValue.fields[r]=Cs(a)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(d.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Cs(d.arrayValue.values[r]);return e}return Object.assign({},d)}function Zn(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const ws={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Ss(d){return"nullValue"in d?Ds:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?cr(si.empty(),$t.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?vi(d)?ws:{mapValue:{}}:Ye()}function ee(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?cr(si.empty(),$t.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?ws:"mapValue"in d?vi(d)?{mapValue:{}}:oi:Ye()}function Q(d,e){const r=Yi(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Se(d,e){const r=Yi(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Le{constructor(e){this.value=e}static empty(){return new Le({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!Fr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cs(r)}setAll(e){let r=Yn.emptyPath(),a={},h=[];e.forEach((b,R)=>{if(!r.isImmediateParentOf(R)){const V=this.getFieldsMap(r);this.applyChanges(V,a,h),a={},h=[],r=R.popLast()}b?a[R.lastSegment()]=Cs(b):h.push(R.lastSegment())});const y=this.getFieldsMap(r);this.applyChanges(y,a,h)}delete(e){const r=this.field(e.popLast());Fr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=r.mapValue.fields[e.get(a)];Fr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,a){di(r,(h,y)=>e[h]=y);for(const h of a)delete e[h]}clone(){return new Le(Cs(this.value))}}function tt(d){const e=[];return di(d.fields,(r,a)=>{const h=new Yn([r]);if(Fr(a)){const y=tt(a.mapValue).fields;if(0===y.length)e.push(h);else for(const b of y)e.push(h.child(b))}else e.push(h)}),new gi(e)}class It{constructor(e,r,a,h,y,b,R){this.key=e,this.documentType=r,this.version=a,this.readTime=h,this.createTime=y,this.data=b,this.documentState=R}static newInvalidDocument(e){return new It(e,0,Bt.min(),Bt.min(),Bt.min(),Le.empty(),0)}static newFoundDocument(e,r,a,h){return new It(e,1,r,Bt.min(),a,h,0)}static newNoDocument(e,r){return new It(e,2,r,Bt.min(),Bt.min(),Le.empty(),0)}static newUnknownDocument(e,r){return new It(e,3,r,Bt.min(),Bt.min(),Le.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Le.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Le.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kt{constructor(e,r){this.position=e,this.inclusive=r}}function An(d,e,r){let a=0;for(let h=0;h<d.position.length;h++){const y=e[h],b=d.position[h];if(a=y.field.isKeyField()?$t.comparator($t.fromName(b.referenceValue),r.key):Yi(b,r.data.field(y.field)),"desc"===y.dir&&(a*=-1),0!==a)break}return a}function yn(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let r=0;r<d.position.length;r++)if(!qi(d.position[r],e.position[r]))return!1;return!0}class jn{constructor(e,r="asc"){this.field=e,this.dir=r}}function Or(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Rn{}class kn extends Rn{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,a):new Kr(e,r,a):"array-contains"===r?new Rs(e,a):"in"===r?new ta(e,a):"not-in"===r?new Qa(e,a):"array-contains-any"===r?new na(e,a):new kn(e,r,a)}static createKeyFieldInFilter(e,r,a){return"in"===r?new $o(e,a):new ds(e,a)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Yi(r,this.value)):null!==r&&ai(this.value)===ai(r)&&this.matchesComparison(Yi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends Rn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new tr(e,r)}matches(e){return Ei(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ei(d){return"and"===d.op}function Vr(d){return"or"===d.op}function Ii(d){return Li(d)&&Ei(d)}function Li(d){for(const e of d.filters)if(e instanceof tr)return!1;return!0}function Di(d){if(d instanceof kn)return d.field.canonicalString()+d.op.toString()+ei(d.value);if(Ii(d))return d.filters.map(e=>Di(e)).join(",");{const e=d.filters.map(r=>Di(r)).join(",");return`${d.op}(${e})`}}function Sr(d,e){return d instanceof kn?(a=d,(h=e)instanceof kn&&a.op===h.op&&a.field.isEqual(h.field)&&qi(a.value,h.value)):d instanceof tr?function(a,h){return h instanceof tr&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((y,b,R)=>y&&Sr(b,h.filters[R]),!0)}(d,e):void Ye();var a,h}function xi(d,e){const r=d.filters.concat(e);return tr.create(r,d.op)}function Si(d){return d instanceof kn?`${(r=d).field.canonicalString()} ${r.op} ${ei(r.value)}`:d instanceof tr?function(r){return r.op.toString()+" {"+r.getFilters().map(Si).join(" ,")+"}"}(d):"Filter";var r}class Kr extends kn{constructor(e,r,a){super(e,r,a),this.key=$t.fromName(a.referenceValue)}matches(e){const r=$t.comparator(e.key,this.key);return this.matchesComparison(r)}}class $o extends kn{constructor(e,r){super(e,"in",r),this.keys=Ys(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ds extends kn{constructor(e,r){super(e,"not-in",r),this.keys=Ys(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Ys(d,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>$t.fromName(a.referenceValue))}class Rs extends kn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return rs(r)&&to(r.arrayValue,this.value)}}class ta extends kn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&to(this.value.arrayValue,r)}}class Qa extends kn{constructor(e,r){super(e,"not-in",r)}matches(e){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!to(this.value.arrayValue,r)}}class na extends kn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!rs(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>to(this.value.arrayValue,a))}}class Hc{constructor(e,r=null,a=[],h=[],y=null,b=null,R=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=h,this.limit=y,this.startAt=b,this.endAt=R,this.ue=null}}function Ps(d,e=null,r=[],a=[],h=null,y=null,b=null){return new Hc(d,e,r,a,h,y,b)}function hs(d){const e=ct(d);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>Di(a)).join(","),r+="|ob:",r+=e.orderBy.map(a=>{return(y=a).field.canonicalString()+y.dir;var y}).join(","),ie(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>ei(a)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>ei(a)).join(",")),e.ue=r}return e.ue}function Ao(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<d.orderBy.length;r++)if(!Or(d.orderBy[r],e.orderBy[r]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let r=0;r<d.filters.length;r++)if(!Sr(d.filters[r],e.filters[r]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!yn(d.startAt,e.startAt)&&yn(d.endAt,e.endAt)}function _a(d){return $t.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function Na(d,e){return d.filters.filter(r=>r instanceof kn&&r.field.isEqual(e))}function mi(d,e,r){let a=Ds,h=!0;for(const y of Na(d,e)){let b=Ds,R=!0;switch(y.op){case"<":case"<=":b=Ss(y.value);break;case"==":case"in":case">=":b=y.value;break;case">":b=y.value,R=!1;break;case"!=":case"not-in":b=Ds}Q({value:a,inclusive:h},{value:b,inclusive:R})<0&&(a=b,h=R)}if(null!==r)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=r.position[y];Q({value:a,inclusive:h},{value:b,inclusive:r.inclusive})<0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}function ya(d,e,r){let a=oi,h=!0;for(const y of Na(d,e)){let b=oi,R=!0;switch(y.op){case">=":case">":b=ee(y.value),R=!1;break;case"==":case"in":case"<=":b=y.value;break;case"<":b=y.value,R=!1;break;case"!=":case"not-in":b=oi}Se({value:a,inclusive:h},{value:b,inclusive:R})>0&&(a=b,h=R)}if(null!==r)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=r.position[y];Se({value:a,inclusive:h},{value:b,inclusive:r.inclusive})>0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}class Do{constructor(e,r=null,a=[],h=[],y=null,b="F",R=null,V=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=h,this.limit=y,this.limitType=b,this.startAt=R,this.endAt=V,this.ce=null,this.le=null,this.he=null}}function W(d,e,r,a,h,y,b,R){return new Do(d,e,r,a,h,y,b,R)}function Z(d){return new Do(d)}function U(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function ce(d){return null!==d.collectionGroup}function He(d){const e=ct(d);if(null===e.ce){e.ce=[];const r=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),r.add(y.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let R=new Ar(Yn.comparator);return b.filters.forEach(V=>{V.getFlattenedFilters().forEach(K=>{K.isInequality()&&(R=R.add(K.field))})}),R})(e).forEach(y=>{r.has(y.canonicalString())||y.isKeyField()||e.ce.push(new jn(y,a))}),r.has(Yn.keyField().canonicalString())||e.ce.push(new jn(Yn.keyField(),a))}return e.ce}function _n(d){const e=ct(d);return e.le||(e.le=function is(d,e){if("F"===d.limitType)return Ps(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new jn(h.field,"desc"===h.dir?"asc":"desc"));const r=d.endAt?new Kt(d.endAt.position,d.endAt.inclusive):null,a=d.startAt?new Kt(d.startAt.position,d.startAt.inclusive):null;return Ps(d.path,d.collectionGroup,e,d.filters,d.limit,r,a)}}(e,He(d))),e.le}function Xs(d,e){const r=d.filters.concat([e]);return new Do(d.path,d.collectionGroup,d.explicitOrderBy.slice(),r,d.limit,d.limitType,d.startAt,d.endAt)}function ss(d,e,r){return new Do(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,r,d.startAt,d.endAt)}function mo(d,e){return Ao(_n(d),_n(e))&&d.limitType===e.limitType}function no(d){return`${hs(_n(d))}|lt:${d.limitType}`}function os(d){return`Query(target=${function(r){let a=r.path.canonicalString();return null!==r.collectionGroup&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(h=>Si(h)).join(", ")}]`),ie(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(h=>ei(h)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(h=>ei(h)).join(",")),`Target(${a})`}(_n(d))}; limitType=${d.limitType})`}function Qs(d,e){return e.isFoundDocument()&&function(a,h){const y=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(y):$t.isDocumentKey(a.path)?a.path.isEqual(y):a.path.isImmediateParentOf(y)}(d,e)&&function(a,h){for(const y of He(a))if(!y.field.isKeyField()&&null===h.data.field(y.field))return!1;return!0}(d,e)&&function(a,h){for(const y of a.filters)if(!y.matches(h))return!1;return!0}(d,e)&&(h=e,!((a=d).startAt&&!function(b,R,V){const K=An(b,R,V);return b.inclusive?K<=0:K<0}(a.startAt,He(a),h)||a.endAt&&!function(b,R,V){const K=An(b,R,V);return b.inclusive?K>=0:K>0}(a.endAt,He(a),h)));var a,h}function Gc(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function Ms(d){return(e,r)=>{let a=!1;for(const h of He(d)){const y=va(h,e,r);if(0!==y)return y;a=a||h.field.isKeyField()}return 0}}function va(d,e,r){const a=d.field.isKeyField()?$t.comparator(e.key,r.key):function(y,b,R){const V=b.data.field(y),K=R.data.field(y);return null!==V&&null!==K?Yi(V,K):Ye()}(d.field,e,r);switch(d.dir){case"asc":return a;case"desc":return-1*a;default:return Ye()}}class Gi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a)for(const[h,y]of a)if(this.equalsFn(h,e))return y}has(e){return void 0!==this.get(e)}set(e,r){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,r]],void this.innerSize++;for(let y=0;y<h.length;y++)if(this.equalsFn(h[y][0],e))return void(h[y]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[r]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(r,a)=>{for(const[h,y]of a)e(h,y)})}isEmpty(){return bs(this.inner)}size(){return this.innerSize}}const Rl=new Zr($t.comparator);function as(){return Rl}const Ja=new Zr($t.comparator);function ro(...d){let e=Ja;for(const r of d)e=e.insert(r.key,r);return e}function Ea(d){let e=Ja;return d.forEach((r,a)=>e=e.insert(r,a.overlayedDocument)),e}function xs(){return ka()}function ba(){return ka()}function ka(){return new Gi(d=>d.toString(),(d,e)=>d.isEqual(e))}const Za=new Zr($t.comparator),Au=new Ar($t.comparator);function _r(...d){let e=Au;for(const r of d)e=e.add(r);return e}const Pl=new Ar(Jt);function _o(){return Pl}function Ho(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:me(e)?"-0":e}}function el(d){return{integerValue:""+d}}function Du(d,e){return ht(e)?el(e):Ho(d,e)}class Ml{constructor(){this._=void 0}}function kh(d,e,r){return d instanceof nl?function(h,y){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return y&&ts(y)&&(y=As(y)),y&&(b.fields.__previous_value__=y),{mapValue:b}}(r,e):d instanceof So?Fa(d,e):d instanceof La?rl(d,e):function(h,y){const b=Su(h,y),R=il(b)+il(h.Pe);return Xi(b)&&Xi(h.Pe)?el(R):Ho(h.serializer,R)}(d,e)}function tl(d,e,r){return d instanceof So?Fa(d,e):d instanceof La?rl(d,e):r}function Su(d,e){return d instanceof Ta?Xi(a=e)||(y=a)&&"doubleValue"in y?e:{integerValue:0}:null;var a,y}class nl extends Ml{}class So extends Ml{constructor(e){super(),this.elements=e}}function Fa(d,e){const r=zc(e);for(const a of d.elements)r.some(h=>qi(h,a))||r.push(a);return{arrayValue:{values:r}}}class La extends Ml{constructor(e){super(),this.elements=e}}function rl(d,e){let r=zc(e);for(const a of d.elements)r=r.filter(h=>!qi(h,a));return{arrayValue:{values:r}}}class Ta extends Ml{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function il(d){return fr(d.integerValue||d.doubleValue)}function zc(d){return rs(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class P{constructor(e,r){this.field=e,this.transform=r}}class j{constructor(e,r){this.version=e,this.transformResults=r}}class Y{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Y}static exists(e){return new Y(void 0,e)}static updateTime(e){return new Y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xe(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class Dt{}function Vt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new ls(d.key,Y.none()):new er(d.key,d.data,Y.none());{const r=d.data,a=Le.empty();let h=new Ar(Yn.comparator);for(let y of e.fields)if(!h.has(y)){let b=r.field(y);null===b&&y.length>1&&(y=y.popLast(),b=r.field(y)),null===b?a.delete(y):a.set(y,b),h=h.add(y)}return new Ur(d.key,a,new gi(h.toArray()),Y.none())}}function Un(d,e,r){d instanceof er?function(h,y,b){const R=h.value.clone(),V=wi(h.fieldTransforms,y,b.transformResults);R.setAll(V),y.convertToFoundDocument(b.version,R).setHasCommittedMutations()}(d,e,r):d instanceof Ur?function(h,y,b){if(!xe(h.precondition,y))return void y.convertToUnknownDocument(b.version);const R=wi(h.fieldTransforms,y,b.transformResults),V=y.data;V.setAll(Yr(h)),V.setAll(R),y.convertToFoundDocument(b.version,V).setHasCommittedMutations()}(d,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function qr(d,e,r,a){return d instanceof er?function(y,b,R,V){if(!xe(y.precondition,b))return R;const K=y.value.clone(),oe=Hs(y.fieldTransforms,V,b);return K.setAll(oe),b.convertToFoundDocument(b.version,K).setHasLocalMutations(),null}(d,e,r,a):d instanceof Ur?function(y,b,R,V){if(!xe(y.precondition,b))return R;const K=Hs(y.fieldTransforms,V,b),oe=b.data;return oe.setAll(Yr(y)),oe.setAll(K),b.convertToFoundDocument(b.version,oe).setHasLocalMutations(),null===R?null:R.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(Te=>Te.field))}(d,e,r,a):(R=r,xe(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):R);var b,R}function hi(d,e){let r=null;for(const a of d.fieldTransforms){const h=e.data.field(a.field),y=Su(a.transform,h||null);null!=y&&(null===r&&(r=Le.empty()),r.set(a.field,y))}return r||null}function Nr(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=d.fieldTransforms)&&void 0===h||a&&h&&$n(a,h,(y,b)=>function ne(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(a=d.transform)instanceof So&&h instanceof So||a instanceof La&&h instanceof La?$n(a.elements,h.elements,qi):a instanceof Ta&&h instanceof Ta?qi(a.Pe,h.Pe):a instanceof nl&&h instanceof nl);var a,h}(y,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var a,h}class er extends Dt{constructor(e,r,a,h=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Ur extends Dt{constructor(e,r,a,h,y=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=h,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Yr(d){const e=new Map;return d.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=d.data.field(r);e.set(r,a)}}),e}function wi(d,e,r){const a=new Map;Pt(d.length===r.length);for(let h=0;h<r.length;h++){const y=d[h],b=y.transform,R=e.data.field(y.field);a.set(y.field,tl(b,R,r[h]))}return a}function Hs(d,e,r){const a=new Map;for(const h of d){const y=h.transform,b=r.data.field(h.field);a.set(h.field,kh(y,b,e))}return a}class ls extends Dt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Go extends Dt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Os{constructor(e,r,a,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const y=this.mutations[h];y.key.isEqual(e.key)&&Un(y,e,a[h])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=qr(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=qr(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=ba();return this.mutations.forEach(h=>{const y=e.get(h.key),b=y.overlayedDocument;let R=this.applyToLocalView(b,y.mutatedFields);R=r.has(h.key)?null:R;const V=Vt(b,R);null!==V&&a.set(h.key,V),b.isValidDocument()||b.convertToNoDocument(Bt.min())}),a}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),_r())}isEqual(e){return this.batchId===e.batchId&&$n(this.mutations,e.mutations,(r,a)=>Nr(r,a))&&$n(this.baseMutations,e.baseMutations,(r,a)=>Nr(r,a))}}class zo{constructor(e,r,a,h){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=h}static from(e,r,a){Pt(e.mutations.length===a.length);let h=Za;const y=e.mutations;for(let b=0;b<y.length;b++)h=h.insert(y[b].key,a[b].version);return new zo(e,r,a,h)}}class Ci{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ho{constructor(e,r){this.count=e,this.unchangedNames=r}}var Cr,Rr;function xl(d){switch(d){default:return Ye();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0}}function io(d){if(void 0===d)return qt("GRPC error has no .code"),Oe.UNKNOWN;switch(d){case Cr.OK:return Oe.OK;case Cr.CANCELLED:return Oe.CANCELLED;case Cr.UNKNOWN:return Oe.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return Oe.INTERNAL;case Cr.UNAVAILABLE:return Oe.UNAVAILABLE;case Cr.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Cr.NOT_FOUND:return Oe.NOT_FOUND;case Cr.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Cr.ABORTED:return Oe.ABORTED;case Cr.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Cr.DATA_LOSS:return Oe.DATA_LOSS;default:return Ye()}}(Rr=Cr||(Cr={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";function Wc(){return new TextEncoder}const Ol=new je([4294967295,4294967295],0);function Ui(d){const e=Wc().encode(d),r=new Fe;return r.update(e),new Uint8Array(r.digest())}function Fh(d){const e=new DataView(d.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new je([r,a],0),new je([h,y],0)]}class Kc{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Wo(`Invalid padding: ${r}`);if(a<0)throw new Wo(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new Wo(`Invalid hash count: ${a}`);if(0===e.length&&0!==r)throw new Wo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=je.fromNumber(this.Ie)}Ee(e,r,a){let h=e.add(r.multiply(je.fromNumber(a)));return 1===h.compare(Ol)&&(h=new je([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Ui(e),[a,h]=Fh(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,h,y);if(!this.de(b))return!1}return!0}static create(e,r,a){const h=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),b=new Kc(y,h,r);return a.forEach(R=>b.insert(R)),b}insert(e){if(0===this.Ie)return;const r=Ui(e),[a,h]=Fh(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,h,y);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ns{constructor(e,r,a,h,y){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const h=new Map;return h.set(e,Va.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new Ns(Bt.min(),h,new Zr(Jt),as(),_r())}}class Va{constructor(e,r,a,h,y){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new Va(a,r,_r(),_r(),_r())}}class Nl{constructor(e,r,a,h){this.Re=e,this.removedTargetIds=r,this.key=a,this.Ve=h}}class Pu{constructor(e,r){this.targetId=e,this.me=r}}class Mu{constructor(e,r,a=xr.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=h}}class qc{constructor(){this.fe=0,this.ge=Zt(),this.pe=xr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_r(),r=_r(),a=_r();return this.ge.forEach((h,y)=>{switch(y){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:a=a.add(h);break;default:Ye()}}),new Va(this.pe,this.ye,e,r,a)}Ce(){this.we=!1,this.ge=Zt()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xu{constructor(e){this.Le=e,this.Be=new Map,this.ke=as(),this.qe=or(),this.Qe=new Zr(Jt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const a=this.Ge(r);switch(e.state){case 0:this.ze(r)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),a.De(e.resumeToken));break;default:Ye()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((a,h)=>{this.ze(h)&&r(h)})}He(e){const r=e.targetId,a=e.me.count,h=this.Je(r);if(h){const y=h.target;if(_a(y))if(0===a){const b=new $t(y.path);this.Ue(r,b,It.newNoDocument(b,Bt.min()))}else Pt(1===a);else{const b=this.Ye(r);if(b!==a){const R=this.Ze(e),V=R?this.Xe(R,e,b):1;0!==V&&(this.je(r),this.Qe=this.Qe.insert(r,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:y=0}=r;let b,R;try{b=Ts(a).toUint8Array()}catch(V){if(V instanceof Oa)return pn("Decoding the base64 bloom filter in existence filter failed ("+V.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw V}try{R=new Kc(b,h,y)}catch(V){return pn(V instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",V),null}return 0===R.Ie?null:R}Xe(e,r,a){return r.me.count===a-this.nt(e,r.targetId)?0:2}nt(e,r){const a=this.Le.getRemoteKeysForTarget(r);let h=0;return a.forEach(y=>{const b=this.Le.tt(),R=`projects/${b.projectId}/databases/${b.database}/documents/${y.path.canonicalString()}`;e.mightContain(R)||(this.Ue(r,y,null),h++)}),h}rt(e){const r=new Map;this.Be.forEach((y,b)=>{const R=this.Je(b);if(R){if(y.current&&_a(R.target)){const V=new $t(R.target.path);null!==this.ke.get(V)||this.it(b,V)||this.Ue(b,V,It.newNoDocument(V,e))}y.be&&(r.set(b,y.ve()),y.Ce())}});let a=_r();this.qe.forEach((y,b)=>{let R=!0;b.forEachWhile(V=>{const K=this.Je(V);return!K||"TargetPurposeLimboResolution"===K.purpose||(R=!1,!1)}),R&&(a=a.add(y))}),this.ke.forEach((y,b)=>b.setReadTime(e));const h=new Ns(e,r,this.Qe,this.ke,a);return this.ke=as(),this.qe=or(),this.Qe=new Zr(Jt),h}$e(e,r){if(!this.ze(e))return;const a=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,a),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,r)?h.Fe(r,1):h.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),a&&(this.ke=this.ke.insert(r,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new qc,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ar(Jt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ce("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qc),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function or(){return new Zr($t.comparator)}function Zt(){return new Zr($t.comparator)}const lc={asc:"ASCENDING",desc:"DESCENDING"},ra={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kl={and:"AND",or:"OR"};class Ia{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function sl(d,e){return d.useProto3Json||ie(e)?e:{value:e}}function ia(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ro(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function cc(d,e){return ia(d,e.toTimestamp())}function Dn(d){return Pt(!!d),Bt.fromTimestamp(function(r){const a=Pi(r);return new Gt(a.seconds,a.nanos)}(d))}function Ua(d,e){return Ou(d,e).canonicalString()}function Ou(d,e){const r=(h=d,new on(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?r:r.child(e)}function Wt(d){const e=on.fromString(d);return Pt(w(e)),e}function Pr(d,e){return Ua(d.databaseId,e.path)}function Ko(d,e){const r=Wt(e);if(r.get(1)!==d.databaseId.projectId)throw new st(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+d.databaseId.projectId);if(r.get(3)!==d.databaseId.database)throw new st(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+d.databaseId.database);return new $t(Ca(r))}function fs(d,e){return Ua(d.databaseId,e)}function Gs(d){const e=Wt(d);return 4===e.length?on.emptyPath():Ca(e)}function uc(d){return new on(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function Ca(d){return Pt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function Po(d,e,r){return{name:Pr(d,e),fields:r.value.mapValue.fields}}function Yc(d,e,r){const a=Ko(d,e.name),h=Dn(e.updateTime),y=e.createTime?Dn(e.createTime):Bt.min(),b=new Le({mapValue:{fields:e.fields}}),R=It.newFoundDocument(a,h,y,b);return r&&R.setHasCommittedMutations(),r?R.setHasCommittedMutations():R}function Xc(d,e){let r;if(e instanceof er)r={update:Po(d,e.key,e.value)};else if(e instanceof ls)r={delete:Pr(d,e.key)};else if(e instanceof Ur)r={update:Po(d,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof Go))return Ye();r={verify:Pr(d,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(y,b){const R=b.transform;if(R instanceof nl)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof So)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof La)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Ta)return{fieldPath:b.field.canonicalString(),increment:R.Pe};throw Ye()}(0,a))),e.precondition.isNone||(r.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:cc(d,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Ye()),r;var y}function Ba(d,e){const r=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?Y.updateTime(Dn(y.updateTime)):void 0!==y.exists?Y.exists(y.exists):Y.none():Y.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,R){let V=null;"setToServerValue"in R?(Pt("REQUEST_TIME"===R.setToServerValue),V=new nl):"appendMissingElements"in R?V=new So(R.appendMissingElements.values||[]):"removeAllFromArray"in R?V=new La(R.removeAllFromArray.values||[]):"increment"in R?V=new Ta(b,R.increment):Ye();const K=Yn.fromServerFormat(R.fieldPath);return new P(K,V)}(d,h)):[];var y;if(e.update){const h=Ko(d,e.update.name),y=new Le({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new gi((e.updateMask.fieldPaths||[]).map(oe=>Yn.fromServerFormat(oe)));return new Ur(h,y,b,r,a)}return new er(h,y,r,a)}if(e.delete){const h=Ko(d,e.delete);return new ls(h,r)}if(e.verify){const h=Ko(d,e.verify);return new Go(h,r)}return Ye()}function zs(d,e){return{documents:[fs(d,e.path)]}}function ja(d,e){const r={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=fs(d,h);const y=function(K){if(0!==K.length)return D(tr.create(K,"and"))}(e.filters);y&&(r.structuredQuery.where=y);const b=function(K){if(0!==K.length)return K.map(oe=>{return{field:wa((Ke=oe).field),direction:Xf(Ke.dir)};var Ke})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const R=sl(d,e.limit);return null!==R&&(r.structuredQuery.limit=R),e.startAt&&(r.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:r,parent:h};var K}function yo(d){let e=Gs(d.parent);const r=d.structuredQuery,a=r.from?r.from.length:0;let h=null;if(a>0){Pt(1===a);const oe=r.from[0];oe.allDescendants?h=oe.collectionId:e=e.child(oe.collectionId)}let y=[];r.where&&(y=function(Te){const Ke=Qc(Te);return Ke instanceof tr&&Ii(Ke)?Ke.getFilters():[Ke]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(Ke=>{return new jn(Fl((Ht=Ke).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ht.direction));var Ht}));let R=null;r.limit&&(R=function(Te){let Ke;return Ke="object"==typeof Te?Te.value:Te,ie(Ke)?null:Ke}(r.limit));let V=null;var Te;r.startAt&&(V=new Kt((Te=r.startAt).values||[],!!Te.before));let K=null;return r.endAt&&(K=function(Te){return new Kt(Te.values||[],!Te.before)}(r.endAt)),W(e,h,b,y,R,"F",V,K)}function Qc(d){return void 0!==d.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Fl(r.unaryFilter.field);return kn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=Fl(r.unaryFilter.field);return kn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=Fl(r.unaryFilter.field);return kn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Fl(r.unaryFilter.field);return kn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(d):void 0!==d.fieldFilter?kn.create(Fl((r=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==d.compositeFilter?function(r){return tr.create(r.compositeFilter.filters.map(a=>Qc(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Ye()}}(r.compositeFilter.op))}(d):Ye();var r}function Xf(d){return lc[d]}function Pd(d){return ra[d]}function ku(d){return kl[d]}function wa(d){return{fieldPath:d.canonicalString()}}function Fl(d){return Yn.fromServerFormat(d.fieldPath)}function D(d){return d instanceof kn?function(r){if("=="===r.op){if(Mi(r.value))return{unaryFilter:{field:wa(r.field),op:"IS_NAN"}};if(li(r.value))return{unaryFilter:{field:wa(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Mi(r.value))return{unaryFilter:{field:wa(r.field),op:"IS_NOT_NAN"}};if(li(r.value))return{unaryFilter:{field:wa(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(r.field),op:Pd(r.op),value:r.value}}}(d):d instanceof tr?function(r){const a=r.getFilters().map(h=>D(h));return 1===a.length?a[0]:{compositeFilter:{op:ku(r.op),filters:a}}}(d):Ye()}function O(d){const e=[];return d.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class N{constructor(e,r,a,h,y=Bt.min(),b=Bt.min(),R=xr.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=R,this.expectedCount=V}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function Me(d,e){const r=e.key,a={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Ct(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Pr(y=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:ia(y,b.version.toTimestamp()),createTime:ia(y,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:r.path.toArray(),readTime:bt(e.version)};else{if(!e.isUnknownDocument())return Ye();a.unknownDocument={path:r.path.toArray(),version:bt(e.version)}}var y,b;return a}function Ct(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function bt(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function En(d){const e=new Gt(d.seconds,d.nanoseconds);return Bt.fromTimestamp(e)}function pr(d,e){const r=(e.baseMutations||[]).map(y=>Ba(d.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const a=e.mutations.map(y=>Ba(d.ct,y)),h=Gt.fromMillis(e.localWriteTimeMs);return new Os(e.batchId,h,r,a)}function ur(d){const e=En(d.readTime),r=void 0!==d.lastLimboFreeSnapshotVersion?En(d.lastLimboFreeSnapshotVersion):Bt.min();let a;return a=void 0!==d.query.documents?(Pt(1===(y=d.query).documents.length),_n(Z(Gs(y.documents[0])))):function(y){return _n(yo(y))}(d.query),new N(a,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,r,xr.fromBase64String(d.resumeToken));var y}function wr(d,e){const r=bt(e.snapshotVersion),a=bt(e.lastLimboFreeSnapshotVersion);let h;h=_a(e.target)?zs(d.ct,e.target):ja(d.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hs(e.target),readTime:r,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function Gr(d){const e=yo({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?ss(e,e.limit,"L"):e}function sa(d,e){return new Ci(e.largestBatchId,Ba(d.ct,e.overlayMutation))}function Ll(d,e){const r=e.path.lastSegment();return[d,Mt(e.path.popLast()),r]}function ol(d,e,r,a){return{indexId:d,uid:e,sequenceNumber:r,readTime:bt(a.readTime),documentKey:Mt(a.documentKey.path),largestBatchId:a.largestBatchId}}class Vl{getBundleMetadata(e,r){return Fu(e).get(r).next(a=>{if(a)return{id:(y=a).bundleId,createTime:En(y.createTime),version:y.version};var y})}saveBundleMetadata(e,r){return Fu(e).put({bundleId:(h=r).id,createTime:bt(Dn(h.createTime)),version:h.version});var h}getNamedQuery(e,r){return Lh(e).get(r).next(a=>{if(a)return{name:(y=a).name,query:Gr(y.bundledQuery),readTime:En(y.readTime)};var y})}saveNamedQuery(e,r){return Lh(e).put({name:(h=r).name,readTime:bt(Dn(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Fu(d){return ji(d,"bundles")}function Lh(d){return ji(d,"namedQueries")}class al{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new al(e,r.uid||"")}getOverlay(e,r){return oa(e).get(Ll(this.userId,r)).next(a=>a?sa(this.serializer,a):null)}getOverlays(e,r){const a=xs();return ot.forEach(r,h=>this.getOverlay(e,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(e,r,a){const h=[];return a.forEach((y,b)=>{const R=new Ci(r,b);h.push(this.ht(e,R))}),ot.waitFor(h)}removeOverlaysForBatchId(e,r,a){const h=new Set;r.forEach(b=>h.add(Mt(b.getCollectionPath())));const y=[];return h.forEach(b=>{const R=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);y.push(oa(e).j("collectionPathOverlayIndex",R))}),ot.waitFor(y)}getOverlaysForCollection(e,r,a){const h=xs(),y=Mt(r),b=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,Number.POSITIVE_INFINITY],!0);return oa(e).U("collectionPathOverlayIndex",b).next(R=>{for(const V of R){const K=sa(this.serializer,V);h.set(K.getKey(),K)}return h})}getOverlaysForCollectionGroup(e,r,a,h){const y=xs();let b;const R=IDBKeyRange.bound([this.userId,r,a],[this.userId,r,Number.POSITIVE_INFINITY],!0);return oa(e).J({index:"collectionGroupOverlayIndex",range:R},(V,K,oe)=>{const Te=sa(this.serializer,K);y.size()<h||Te.largestBatchId===b?(y.set(Te.getKey(),Te),b=Te.largestBatchId):oe.done()}).next(()=>y)}ht(e,r){return oa(e).put(function(h,y,b){const[R,V,K]=Ll(y,b.mutation.key);return{userId:y,collectionPath:V,documentId:K,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Xc(h.ct,b.mutation)}}(this.serializer,this.userId,r))}}function oa(d){return ji(d,"documentOverlays")}class Vh{Pt(e){return ji(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const a=r?.value;return a?xr.fromUint8Array(a):xr.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class Aa{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(fr(e.integerValue));else if("doubleValue"in e){const a=fr(e.doubleValue);isNaN(a)?this.dt(r,13):(this.dt(r,15),me(a)?r.At(0):r.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(r,20),"string"==typeof a&&(a=Pi(a)),r.Rt(`${a.seconds||""}`),r.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Ts(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(r,45),r.At(a.latitude||0),r.At(a.longitude||0)}else"mapValue"in e?Zn(e)?this.dt(r,Number.MAX_SAFE_INTEGER):vi(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Ye()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const a=e.fields||{};this.dt(r,55);for(const h of Object.keys(a))this.Vt(h,r),this.Tt(a[h],r)}wt(e,r){var a,h;const y=e.fields||{};this.dt(r,53);const b="value",R=(null===(h=null===(a=y[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(r,15),r.At(fr(R)),this.Vt(b,r),this.Tt(y[b],r)}bt(e,r){const a=e.values||[];this.dt(r,50);for(const h of a)this.Tt(h,r)}yt(e,r){this.dt(r,37),$t.fromName(e).path.forEach(a=>{this.dt(r,60),this.Dt(a,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function ll(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Lu(d){const e=64-function(a){let h=0;for(let y=0;y<8;++y){const b=ll(255&a[y]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}Aa.vt=new Aa;class Vu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ft(a.value),a=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ot(a.value),a=r.next();this.Nt()}Lt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=r.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=r.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const r=this.qt(e),a=Lu(r);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Kt(e){const r=this.qt(e),a=Lu(r);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(y){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,y,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&r[0]);r[0]^=a?255:128;for(let h=1;h<r.length;++h)r[h]^=a?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let a=2*this.buffer.length;a<r&&(a=r);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class Uu{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Md{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Bu{constructor(){this.jt=new Vu,this.Ht=new Uu(this.jt),this.Jt=new Md(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class vo{constructor(e,r,a,h){this.indexId=e,this.documentKey=r,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(r);return a.set(this.directionalValue,0),r!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new vo(this.indexId,this.documentKey,this.arrayValue,a)}}function qo(d,e){let r=d.indexId-e.indexId;return 0!==r?r:(r=Ul(d.arrayValue,e.arrayValue),0!==r?r:(r=Ul(d.directionalValue,e.directionalValue),0!==r?r:$t.comparator(d.documentKey,e.documentKey)))}function Ul(d,e){for(let r=0;r<d.length&&r<e.length;++r){const a=d[r]-e[r];if(0!==a)return a}return d.length-e.length}class Uh{constructor(e){this.Xt=new Ar((r,a)=>Yn.comparator(r.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const a=r;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if(Pt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Hn(e);if(void 0!==r&&!this.sn(r))return!1;const a=In(e);let h=new Set,y=0,b=0;for(;y<a.length&&this.sn(a[y]);++y)h=h.add(a[y].fieldPath.canonicalString());if(y===a.length)return!0;if(this.Xt.size>0){const R=this.Xt.getIterator().getNext();if(!h.has(R.field.canonicalString())){const V=a[y];if(!this.on(R,V)||!this._n(this.en[b++],V))return!1}++y}for(;y<a.length;++y)if(b>=this.en.length||!this._n(this.en[b++],a[y]))return!1;return!0}an(){if(this.nn)return null;let e=new Ar(Yn.comparator);const r=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)r.push(new Mr(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),r.push(new Mr(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),r.push(new Mr(a.field,"asc"===a.dir?0:1)));return new bn(bn.UNKNOWN_ID,this.collectionId,r,zn.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function xd(d){var e,r;if(Pt(d instanceof kn||d instanceof tr),d instanceof kn){if(d instanceof ta){const h=(null===(r=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(y=>kn.create(d.field,"==",y)))||[];return tr.create(h,"or")}return d}const a=d.filters.map(h=>xd(h));return tr.create(a,d.op)}function Zm(d){if(0===d.getFilters().length)return[];const e=Jf(xd(d));return Pt(Qf(e)),Bh(e)||ju(e)?[e]:e.getFilters()}function Bh(d){return d instanceof kn}function ju(d){return d instanceof tr&&Ii(d)}function Qf(d){return Bh(d)||ju(d)||function(r){if(r instanceof tr&&Vr(r)){for(const a of r.getFilters())if(!Bh(a)&&!ju(a))return!1;return!0}return!1}(d)}function Jf(d){if(Pt(d instanceof kn||d instanceof tr),d instanceof kn)return d;if(1===d.filters.length)return Jf(d.filters[0]);const e=d.filters.map(a=>Jf(a));let r=tr.create(e,d.op);return r=jh(r),Qf(r)?r:(Pt(r instanceof tr),Pt(Ei(r)),Pt(r.filters.length>1),r.filters.reduce((a,h)=>cl(a,h)))}function cl(d,e){let r;return Pt(d instanceof kn||d instanceof tr),Pt(e instanceof kn||e instanceof tr),r=d instanceof kn?e instanceof kn?tr.create([d,e],"and"):Bl(d,e):e instanceof kn?Bl(e,d):function(h,y){if(Pt(h.filters.length>0&&y.filters.length>0),Ei(h)&&Ei(y))return xi(h,y.getFilters());const b=Vr(h)?h:y,R=Vr(h)?y:h,V=b.filters.map(K=>cl(K,R));return tr.create(V,"or")}(d,e),jh(r)}function Bl(d,e){if(Ei(e))return xi(e,d.getFilters());{const r=e.filters.map(a=>cl(d,a));return tr.create(r,"or")}}function jh(d){if(Pt(d instanceof kn||d instanceof tr),d instanceof kn)return d;const e=d.getFilters();if(1===e.length)return jh(e[0]);if(Li(d))return d;const r=e.map(h=>jh(h)),a=[];return r.forEach(h=>{h instanceof kn?a.push(h):h instanceof tr&&(h.op===d.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:tr.create(a,d.op)}class Da{constructor(){this.un=new $u}addToCollectionParentIndex(e,r){return this.un.add(r),ot.resolve()}getCollectionParents(e,r){return ot.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ot.resolve()}deleteFieldIndex(e,r){return ot.resolve()}deleteAllFieldIndexes(e){return ot.resolve()}createTargetIndexes(e,r){return ot.resolve()}getDocumentsMatchingTarget(e,r){return ot.resolve(null)}getIndexType(e,r){return ot.resolve(0)}getFieldIndexes(e,r){return ot.resolve([])}getNextCollectionGroupToUpdate(e){return ot.resolve(null)}getMinOffset(e,r){return ot.resolve(hn.min())}getMinOffsetFromCollectionGroup(e,r){return ot.resolve(hn.min())}updateCollectionGroup(e,r,a){return ot.resolve()}updateIndexEntries(e,r){return ot.resolve()}}class $u{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r]||new Ar(on.comparator),y=!h.has(a);return this.index[r]=h.add(a),y}has(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r];return h&&h.has(a)}getEntries(e){return(this.index[e]||new Ar(on.comparator)).toArray()}}const ul=new Uint8Array(0);class Zf{constructor(e,r){this.databaseId=r,this.cn=new $u,this.ln=new Gi(a=>hs(a),(a,h)=>Ao(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const a=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const y={collectionId:a,parent:Mt(h)};return $h(e).put(y)}return ot.resolve()}getCollectionParents(e,r){const a=[],h=IDBKeyRange.bound([r,""],[On(r),""],!1,!0);return $h(e).U(h).next(y=>{for(const b of y){if(b.collectionId!==r)break;a.push(Sn(b.parent))}return a})}addFieldIndex(e,r){const a=Hu(e),h={indexId:(R=r).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(V=>[V.fieldPath.canonicalString(),V.kind])};var R;delete h.indexId;const y=a.add(h);if(r.indexState){const b=so(e);return y.next(R=>{b.put(ol(R,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return y.next()}deleteFieldIndex(e,r){const a=Hu(e),h=so(e),y=Sa(e);return a.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Hu(e),a=Sa(e),h=so(e);return r.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,r){return ot.forEach(this.hn(r),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const y=new Uh(a).an();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,r){const a=Sa(e);let h=!0;const y=new Map;return ot.forEach(this.hn(r),b=>this.Pn(e,b).next(R=>{h&&(h=!!R),y.set(b,R)})).next(()=>{if(h){let b=_r();const R=[];return ot.forEach(y,(V,K)=>{var Qn;Ce("IndexedDbIndexManager",`Using index ${Qn=V,`id=${Qn.indexId}|cg=${Qn.collectionGroup}|f=${Qn.fields.map(Lr=>`${Lr.fieldPath}:${Lr.kind}`).join(",")}`} to execute ${hs(r)}`);const oe=function(Qn,Lr){const Oi=Hn(Lr);if(void 0===Oi)return null;for(const ui of Na(Qn,Oi.fieldPath))switch(ui.op){case"array-contains-any":return ui.value.arrayValue.values||[];case"array-contains":return[ui.value]}return null}(K,V),Te=function(Qn,Lr){const Oi=new Map;for(const ui of In(Lr))for(const dt of Na(Qn,ui.fieldPath))switch(dt.op){case"==":case"in":Oi.set(ui.fieldPath.canonicalString(),dt.value);break;case"not-in":case"!=":return Oi.set(ui.fieldPath.canonicalString(),dt.value),Array.from(Oi.values())}return null}(K,V),Ke=function(Qn,Lr){const Oi=[];let ui=!0;for(const dt of In(Lr)){const Be=0===dt.kind?mi(Qn,dt.fieldPath,Qn.startAt):ya(Qn,dt.fieldPath,Qn.startAt);Oi.push(Be.value),ui&&(ui=Be.inclusive)}return new Kt(Oi,ui)}(K,V),wt=function(Qn,Lr){const Oi=[];let ui=!0;for(const dt of In(Lr)){const Be=0===dt.kind?ya(Qn,dt.fieldPath,Qn.endAt):mi(Qn,dt.fieldPath,Qn.endAt);Oi.push(Be.value),ui&&(ui=Be.inclusive)}return new Kt(Oi,ui)}(K,V),Ht=this.In(V,K,Ke),un=this.In(V,K,wt),nn=this.Tn(V,K,Te),Kn=this.En(V.indexId,oe,Ht,Ke.inclusive,un,wt.inclusive,nn);return ot.forEach(Kn,ar=>a.G(ar,r.limit).next(Qn=>{Qn.forEach(Lr=>{const Oi=$t.fromSegments(Lr.documentKey);b.has(Oi)||(b=b.add(Oi),R.push(Oi))})}))}).next(()=>R)}return ot.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:Zm(tr.create(e.filters,"and")).map(a=>Ps(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,a,h,y,b,R){const V=(null!=r?r.length:1)*Math.max(a.length,y.length),K=V/(null!=r?r.length:1),oe=[];for(let Te=0;Te<V;++Te){const Ke=r?this.dn(r[Te/K]):ul,wt=this.An(e,Ke,a[Te%K],h),Ht=this.Rn(e,Ke,y[Te%K],b),un=R.map(nn=>this.An(e,Ke,nn,!0));oe.push(...this.createRange(wt,Ht,un))}return oe}An(e,r,a,h){const y=new vo(e,$t.empty(),r,a);return h?y:y.Zt()}Rn(e,r,a,h){const y=new vo(e,$t.empty(),r,a);return h?y.Zt():y}Pn(e,r){const a=new Uh(r),h=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,h).next(y=>{let b=null;for(const R of y)a.rn(R)&&(!b||R.fields.length>b.fields.length)&&(b=R);return b})}getIndexType(e,r){let a=2;const h=this.hn(r);return ot.forEach(h,y=>this.Pn(e,y).next(b=>{b?0!==a&&b.fields.length<function(V){let K=new Ar(Yn.comparator),oe=!1;for(const Te of V.filters)for(const Ke of Te.getFlattenedFilters())Ke.field.isKeyField()||("array-contains"===Ke.op||"array-contains-any"===Ke.op?oe=!0:K=K.add(Ke.field));for(const Te of V.orderBy)Te.field.isKeyField()||(K=K.add(Te.field));return K.size+(oe?1:0)}(y)&&(a=1):a=0})).next(()=>null!==r.limit&&h.length>1&&2===a?1:a)}Vn(e,r){const a=new Bu;for(const h of In(e)){const y=r.data.field(h.fieldPath);if(null==y)return null;const b=a.Yt(h.kind);Aa.vt.It(y,b)}return a.zt()}dn(e){const r=new Bu;return Aa.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const a=new Bu;return Aa.vt.It(cr(this.databaseId,r),a.Yt(function(y){const b=In(y);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,r,a){if(null===a)return[];let h=[];h.push(new Bu);let y=0;for(const b of In(e)){const R=a[y++];for(const V of h)if(this.fn(r,b.fieldPath)&&rs(R))h=this.gn(h,b,R);else{const K=V.Yt(b.kind);Aa.vt.It(R,K)}}return this.pn(h)}In(e,r,a){return this.Tn(e,r,a.position)}pn(e){const r=[];for(let a=0;a<e.length;++a)r[a]=e[a].zt();return r}gn(e,r,a){const h=[...e],y=[];for(const b of a.arrayValue.values||[])for(const R of h){const V=new Bu;V.seed(R.zt()),Aa.vt.It(b,V.Yt(r.kind)),y.push(V)}return y}fn(e,r){return!!e.filters.find(a=>a instanceof kn&&a.field.isEqual(r)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,r){const a=Hu(e),h=so(e);return(r?a.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):a.U()).next(y=>{const b=[];return ot.forEach(y,R=>h.get([R.indexId,this.uid]).next(V=>{b.push(function(oe,Te){const Ke=Te?new zn(Te.sequenceNumber,new hn(En(Te.readTime),new $t(Sn(Te.documentKey)),Te.largestBatchId)):zn.empty(),wt=oe.fields.map(([Ht,un])=>new Mr(Yn.fromServerFormat(Ht),un));return new bn(oe.indexId,oe.collectionGroup,wt,Ke)}(R,V))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((a,h)=>{const y=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==y?y:Jt(a.collectionGroup,h.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,a){const h=Hu(e),y=so(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(R=>ot.forEach(R,V=>y.put(ol(V.indexId,this.uid,b,a)))))}updateIndexEntries(e,r){const a=new Map;return ot.forEach(r,(h,y)=>{const b=a.get(h.collectionGroup);return(b?ot.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(R=>(a.set(h.collectionGroup,R),ot.forEach(R,V=>this.wn(e,h,V).next(K=>{const oe=this.Sn(y,V);return K.isEqual(oe)?ot.resolve():this.bn(e,y,V,K,oe)}))))})}Dn(e,r,a,h){return Sa(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,r.key),documentKey:r.key.path.toArray()})}vn(e,r,a,h){return Sa(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,r.key),r.key.path.toArray()])}wn(e,r,a){const h=Sa(e);let y=new Ar(qo);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,r)])},(b,R)=>{y=y.add(new vo(a.indexId,r,R.arrayValue,R.directionalValue))}).next(()=>y)}Sn(e,r){let a=new Ar(qo);const h=this.Vn(r,e);if(null==h)return a;const y=Hn(r);if(null!=y){const b=e.data.field(y.fieldPath);if(rs(b))for(const R of b.arrayValue.values||[])a=a.add(new vo(r.indexId,e.key,this.dn(R),h))}else a=a.add(new vo(r.indexId,e.key,ul,h));return a}bn(e,r,a,h,y){Ce("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(V,K,oe,Te,Ke){const wt=V.getIterator(),Ht=K.getIterator();let un=wo(wt),nn=wo(Ht);for(;un||nn;){let Kn=!1,ar=!1;if(un&&nn){const Qn=oe(un,nn);Qn<0?ar=!0:Qn>0&&(Kn=!0)}else null!=un?ar=!0:Kn=!0;Kn?(Te(nn),nn=wo(Ht)):ar?(Ke(un),un=wo(wt)):(un=wo(wt),nn=wo(Ht))}}(h,y,qo,R=>{b.push(this.Dn(e,r,a,R))},R=>{b.push(this.vn(e,r,a,R))}),ot.waitFor(b)}yn(e){let r=1;return so(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,y)=>{y.done(),r=h.sequenceNumber+1}).next(()=>r)}createRange(e,r,a){a=a.sort((b,R)=>qo(b,R)).filter((b,R,V)=>!R||0!==qo(b,V[R-1]));const h=[];h.push(e);for(const b of a){const R=qo(b,e),V=qo(b,r);if(0===R)h[0]=e.Zt();else if(R>0&&V<0)h.push(b),h.push(b.Zt());else if(V>0)break}h.push(r);const y=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];y.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,ul,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,ul,[]]))}return y}Cn(e,r){return qo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(dl)}getMinOffset(e,r){return ot.mapArray(this.hn(r),a=>this.Pn(e,a).next(h=>h||Ye())).next(dl)}}function $h(d){return ji(d,"collectionParents")}function Sa(d){return ji(d,"indexEntries")}function Hu(d){return ji(d,"indexConfiguration")}function so(d){return ji(d,"indexState")}function dl(d){Pt(0!==d.length);let e=d[0].indexState.offset,r=e.largestBatchId;for(let a=1;a<d.length;a++){const h=d[a].indexState.offset;ii(h,e)<0&&(e=h),r<h.largestBatchId&&(r=h.largestBatchId)}return new hn(e.readTime,e.documentKey,r)}const $a={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vs{constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Vs(e,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Hh(d,e,r){const a=d.store("mutations"),h=d.store("documentMutations"),y=[],b=IDBKeyRange.only(r.batchId);let R=0;const V=a.J({range:b},(oe,Te,Ke)=>(R++,Ke.delete()));y.push(V.next(()=>{Pt(1===R)}));const K=[];for(const oe of r.mutations){const Te=Wr(e,oe.key.path,r.batchId);y.push(h.delete(Te)),K.push(oe.key)}return ot.waitFor(y).next(()=>K)}function jl(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Ye();e=d.noDocument}return JSON.stringify(e).length}Vs.DEFAULT_COLLECTION_PERCENTILE=10,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vs.DEFAULT=new Vs(41943040,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vs.DISABLED=new Vs(-1,0,0);class dc{constructor(e,r,a,h){this.userId=e,this.serializer=r,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,r,a,h){Pt(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new dc(y,r,a,h)}checkEmpty(e){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hl(e).J({index:"userMutationsIndex",range:a},(h,y,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,a,h){const y=fl(e),b=hl(e);return b.add({}).next(R=>{Pt("number"==typeof R);const V=new Os(R,r,a,h),K=function(wt,Ht,un){const nn=un.baseMutations.map(ar=>Xc(wt.ct,ar)),Kn=un.mutations.map(ar=>Xc(wt.ct,ar));return{userId:Ht,batchId:un.batchId,localWriteTimeMs:un.localWriteTime.toMillis(),baseMutations:nn,mutations:Kn}}(this.serializer,this.userId,V),oe=[];let Te=new Ar((Ke,wt)=>Jt(Ke.canonicalString(),wt.canonicalString()));for(const Ke of h){const wt=Wr(this.userId,Ke.key.path,R);Te=Te.add(Ke.key.path.popLast()),oe.push(b.put(K)),oe.push(y.put(wt,dr))}return Te.forEach(Ke=>{oe.push(this.indexManager.addToCollectionParentIndex(e,Ke))}),e.addOnCommittedListener(()=>{this.Fn[R]=V.keys()}),ot.waitFor(oe).next(()=>V)})}lookupMutationBatch(e,r){return hl(e).get(r).next(a=>a?(Pt(a.userId===this.userId),pr(this.serializer,a)):null)}Mn(e,r){return this.Fn[r]?ot.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(a=>{if(a){const h=a.keys();return this.Fn[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const a=r+1,h=IDBKeyRange.lowerBound([this.userId,a]);let y=null;return hl(e).J({index:"userMutationsIndex",range:h},(b,R,V)=>{R.userId===this.userId&&(Pt(R.batchId>=a),y=pr(this.serializer,R)),V.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return hl(e).J({index:"userMutationsIndex",range:r,reverse:!0},(h,y,b)=>{a=y.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hl(e).U("userMutationsIndex",r).next(a=>a.map(h=>pr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const a=ln(this.userId,r.path),h=IDBKeyRange.lowerBound(a),y=[];return fl(e).J({range:h},(b,R,V)=>{const[K,oe,Te]=b,Ke=Sn(oe);if(K===this.userId&&r.path.isEqual(Ke))return hl(e).get(Te).next(wt=>{if(!wt)throw Ye();Pt(wt.userId===this.userId),y.push(pr(this.serializer,wt))});V.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Ar(Jt);const h=[];return r.forEach(y=>{const b=ln(this.userId,y.path),R=IDBKeyRange.lowerBound(b),V=fl(e).J({range:R},(K,oe,Te)=>{const[Ke,wt,Ht]=K,un=Sn(wt);Ke===this.userId&&y.path.isEqual(un)?a=a.add(Ht):Te.done()});h.push(V)}),ot.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1,y=ln(this.userId,a),b=IDBKeyRange.lowerBound(y);let R=new Ar(Jt);return fl(e).J({range:b},(V,K,oe)=>{const[Te,Ke,wt]=V,Ht=Sn(Ke);Te===this.userId&&a.isPrefixOf(Ht)?Ht.length===h&&(R=R.add(wt)):oe.done()}).next(()=>this.xn(e,R))}xn(e,r){const a=[],h=[];return r.forEach(y=>{h.push(hl(e).get(y).next(b=>{if(null===b)throw Ye();Pt(b.userId===this.userId),a.push(pr(this.serializer,b))}))}),ot.waitFor(h).next(()=>a)}removeMutationBatch(e,r){return Hh(e._e,this.userId,r).next(a=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),ot.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ot.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return fl(e).J({range:a},(y,b,R)=>{if(y[0]===this.userId){const V=Sn(y[1]);h.push(V)}else R.done()}).next(()=>{Pt(0===h.length)})})}containsKey(e,r){return Gh(e,this.userId,r)}Nn(e){return Gu(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Gh(d,e,r){const a=ln(e,r.path),h=a[1],y=IDBKeyRange.lowerBound(a);let b=!1;return fl(d).J({range:y,H:!0},(R,V,K)=>{const[oe,Te,Ke]=R;oe===e&&Te===h&&(b=!0),K.done()}).next(()=>b)}function hl(d){return ji(d,"mutations")}function fl(d){return ji(d,"documentMutations")}function Gu(d){return ji(d,"mutationQueues")}class $l{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $l(0)}static kn(){return new $l(-1)}}class zu{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const a=new $l(r.highestTargetId);return r.highestTargetId=a.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Bt.fromTimestamp(new Gt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=r,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Qn(e,h)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(r,a),this.Qn(e,a))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>aa(e).delete(r.targetId)).next(()=>this.qn(e)).next(a=>(Pt(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,r,a){let h=0;const y=[];return aa(e).J((b,R)=>{const V=ur(R);V.sequenceNumber<=r&&null===a.get(V.targetId)&&(h++,y.push(this.removeTargetData(e,V)))}).next(()=>ot.waitFor(y)).next(()=>h)}forEachTarget(e,r){return aa(e).J((a,h)=>{const y=ur(h);r(y)})}qn(e){return hc(e).get("targetGlobalKey").next(r=>(Pt(null!==r),r))}Qn(e,r){return hc(e).put("targetGlobalKey",r)}Kn(e,r){return aa(e).put(wr(this.serializer,r))}$n(e,r){let a=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,a=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const a=hs(r),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let y=null;return aa(e).J({range:h,index:"queryTargetsIndex"},(b,R,V)=>{const K=ur(R);Ao(r,K.target)&&(y=K,V.done())}).next(()=>y)}addMatchingKeys(e,r,a){const h=[],y=xo(e);return r.forEach(b=>{const R=Mt(b.path);h.push(y.put({targetId:a,path:R})),h.push(this.referenceDelegate.addReference(e,a,b))}),ot.waitFor(h)}removeMatchingKeys(e,r,a){const h=xo(e);return ot.forEach(r,y=>{const b=Mt(y.path);return ot.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,y)])})}removeMatchingKeysForTargetId(e,r){const a=xo(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),h=xo(e);let y=_r();return h.J({range:a,H:!0},(b,R,V)=>{const K=Sn(b[1]),oe=new $t(K);y=y.add(oe)}).next(()=>y)}containsKey(e,r){const a=Mt(r.path),h=IDBKeyRange.bound([a],[On(a)],!1,!0);let y=0;return xo(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,R],V,K)=>{0!==b&&(y++,K.done())}).next(()=>y>0)}ot(e,r){return aa(e).get(r).next(a=>a?ur(a):null)}}function aa(d){return ji(d,"targets")}function hc(d){return ji(d,"targetGlobal")}function xo(d){return ji(d,"targetDocuments")}function fc([d,e],[r,a]){const h=Jt(d,r);return 0===h?Jt(e,a):h}class ep{constructor(e){this.Un=e,this.buffer=new Ar(fc),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();fc(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class pl{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;Ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,o.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(a){Ee(a)?Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Gn(a)}yield r.Hn(3e5)}))}}class zh{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(0===r)return ot.resolve(L.oe);const a=new ep(r);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.Jn.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve($a)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$a):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let a,h,y,b,R,V,K;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Te=>(Te>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Te}`),h=this.params.maximumSequenceNumbersToCollect):h=Te,b=Date.now(),this.nthSequenceNumber(e,h))).next(Te=>(a=Te,R=Date.now(),this.removeTargets(e,a,r))).next(Te=>(y=Te,V=Date.now(),this.removeOrphanedDocuments(e,a))).next(Te=>(K=Date.now(),$e()<=ve.$b.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-oe}ms\n\tDetermined least recently used ${h} in `+(R-b)+`ms\n\tRemoved ${y} targets in `+(V-R)+`ms\n\tRemoved ${Te} documents in `+(K-V)+`ms\nTotal Duration: ${K-oe}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:y,documentsRemoved:Te})))}}class tp{constructor(e,r){this.db=e,this.garbageCollector=function Ws(d,e){return new zh(d,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>r.next(h=>a+h))}er(e){let r=0;return this.Zn(e,a=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(a,h)=>r(h))}addReference(e,r,a){return pc(e,a)}removeReference(e,r,a){return pc(e,a)}removeTargets(e,r,a){return this.db.getTargetCache().removeTargets(e,r,a)}markPotentiallyOrphaned(e,r){return pc(e,r)}nr(e,r){return function(h,y){let b=!1;return Gu(h).Y(R=>Gh(h,R,y).next(V=>(V&&(b=!0),ot.resolve(!V)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let y=0;return this.tr(e,(b,R)=>{if(R<=r){const V=this.nr(e,b).next(K=>{if(!K)return y++,a.getEntry(e,b).next(()=>(a.removeEntry(b,Bt.min()),xo(e).delete([0,Mt(b.path)])))});h.push(V)}}).next(()=>ot.waitFor(h)).next(()=>a.apply(e)).next(()=>y)}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,r){return pc(e,r)}tr(e,r){const a=xo(e);let h,y=L.oe;return a.J({index:"documentTargetsIndex"},([b,R],{path:V,sequenceNumber:K})=>{0===b?(y!==L.oe&&r(new $t(Sn(h)),y),y=K,h=V):y=L.oe}).next(()=>{y!==L.oe&&r(new $t(Sn(h)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pc(d,e){return xo(d).put((h=d.currentSequenceNumber,{targetId:0,path:Mt(e.path),sequenceNumber:h}));var h}class Od{constructor(){this.changes=new Gi(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?ot.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class np{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,a){return Yo(e).put(a)}removeEntry(e,r,a){return Yo(e).delete(function(y,b){const R=y.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],Ct(b),R[R.length-1]]}(r,a))}updateMetadata(e,r){return this.getMetadata(e).next(a=>(a.byteSize+=r,this.rr(e,a)))}getEntry(e,r){let a=It.newInvalidDocument(r);return Yo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(oo(r))},(h,y)=>{a=this.ir(r,y)}).next(()=>a)}sr(e,r){let a={size:0,document:It.newInvalidDocument(r)};return Yo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(oo(r))},(h,y)=>{a={document:this.ir(r,y),size:jl(y)}}).next(()=>a)}getEntries(e,r){let a=as();return this._r(e,r,(h,y)=>{const b=this.ir(h,y);a=a.insert(h,b)}).next(()=>a)}ar(e,r){let a=as(),h=new Zr($t.comparator);return this._r(e,r,(y,b)=>{const R=this.ir(y,b);a=a.insert(y,R),h=h.insert(y,jl(b))}).next(()=>({documents:a,ur:h}))}_r(e,r,a){if(r.isEmpty())return ot.resolve();let h=new Ar(kd);r.forEach(V=>h=h.add(V));const y=IDBKeyRange.bound(oo(h.first()),oo(h.last())),b=h.getIterator();let R=b.getNext();return Yo(e).J({index:"documentKeyIndex",range:y},(V,K,oe)=>{const Te=$t.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;R&&kd(R,Te)<0;)a(R,null),R=b.getNext();R&&R.isEqual(Te)&&(a(R,K),R=b.hasNext()?b.getNext():null),R?oe.$(oo(R)):oe.done()}).next(()=>{for(;R;)a(R,null),R=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,a,h,y){const b=r.path,R=[b.popLast().toArray(),b.lastSegment(),Ct(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],V=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yo(e).U(IDBKeyRange.bound(R,V,!0)).next(K=>{y?.incrementDocumentReadCount(K.length);let oe=as();for(const Te of K){const Ke=this.ir($t.fromSegments(Te.prefixPath.concat(Te.collectionGroup,Te.documentId)),Te);Ke.isFoundDocument()&&(Qs(r,Ke)||h.has(Ke.key))&&(oe=oe.insert(Ke.key,Ke))}return oe})}getAllFromCollectionGroup(e,r,a,h){let y=as();const b=Wh(r,a),R=Wh(r,hn.max());return Yo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,R,!0)},(V,K,oe)=>{const Te=this.ir($t.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);y=y.insert(Te.key,Te),y.size===h&&oe.done()}).next(()=>y)}newChangeBuffer(e){return new Wu(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Hl(e).get("remoteDocumentGlobalKey").next(r=>(Pt(!!r),r))}rr(e,r){return Hl(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const a=function le(d,e){let r;if(e.document)r=Yc(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=$t.fromSegments(e.noDocument.path),h=En(e.noDocument.readTime);r=It.newNoDocument(a,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ye();{const a=$t.fromSegments(e.unknownDocument.path),h=En(e.unknownDocument.version);r=It.newUnknownDocument(a,h)}}return e.readTime&&r.setReadTime(function(h){const y=new Gt(h[0],h[1]);return Bt.fromTimestamp(y)}(e.readTime)),r}(this.serializer,r);if(!a.isNoDocument()||!a.version.isEqual(Bt.min()))return a}return It.newInvalidDocument(e)}}function Nd(d){return new np(d)}class Wu extends Od{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new Gi(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const r=[];let a=0,h=new Ar((y,b)=>Jt(y.canonicalString(),b.canonicalString()));return this.changes.forEach((y,b)=>{const R=this.lr.get(y);if(r.push(this.cr.removeEntry(e,y,R.readTime)),b.isValidDocument()){const V=Me(this.cr.serializer,b);h=h.add(y.path.popLast());const K=jl(V);a+=K-R.size,r.push(this.cr.addEntry(e,y,V))}else if(a-=R.size,this.trackRemovals){const V=Me(this.cr.serializer,b.convertToNoDocument(Bt.min()));r.push(this.cr.addEntry(e,y,V))}}),h.forEach(y=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,y))}),r.push(this.cr.updateMetadata(e,a)),ot.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(a=>(this.lr.set(r,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:a,ur:h})=>(h.forEach((y,b)=>{this.lr.set(y,{size:b,readTime:a.get(y).readTime})}),a))}}function Hl(d){return ji(d,"remoteDocumentGlobal")}function Yo(d){return ji(d,"remoteDocumentsV14")}function oo(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Wh(d,e){const r=e.documentKey.path.toArray();return[d,Ct(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function kd(d,e){const r=d.path.toArray(),a=e.path.toArray();let h=0;for(let y=0;y<r.length-2&&y<a.length-2;++y)if(h=Jt(r[y],a[y]),h)return h;return h=Jt(r.length,a.length),h||(h=Jt(r[r.length-2],a[a.length-2]),h||Jt(r[r.length-1],a[a.length-1]))}class Jc{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Kh{constructor(e,r,a,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(null!==a&&qr(a.mutation,h,gi.empty(),Gt.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.getLocalViewOfDocuments(e,a,_r()).next(()=>a))}getLocalViewOfDocuments(e,r,a=_r()){const h=xs();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,a).next(y=>{let b=ro();return y.forEach((R,V)=>{b=b.insert(R,V.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const a=xs();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,_r()))}populateOverlays(e,r,a){const h=[];return a.forEach(y=>{r.has(y)||h.push(y)}),this.documentOverlayCache.getOverlays(e,h).next(y=>{y.forEach((b,R)=>{r.set(b,R)})})}computeViews(e,r,a,h){let y=as();const b=ka(),R=ka();return r.forEach((V,K)=>{const oe=a.get(K.key);h.has(K.key)&&(void 0===oe||oe.mutation instanceof Ur)?y=y.insert(K.key,K):void 0!==oe?(b.set(K.key,oe.mutation.getFieldMask()),qr(oe.mutation,K,oe.mutation.getFieldMask(),Gt.now())):b.set(K.key,gi.empty())}),this.recalculateAndSaveOverlays(e,y).next(V=>(V.forEach((K,oe)=>b.set(K,oe)),r.forEach((K,oe)=>{var Te;return R.set(K,new Jc(oe,null!==(Te=b.get(K))&&void 0!==Te?Te:null))}),R))}recalculateAndSaveOverlays(e,r){const a=ka();let h=new Zr((b,R)=>b-R),y=_r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const R of b)R.keys().forEach(V=>{const K=r.get(V);if(null===K)return;let oe=a.get(V)||gi.empty();oe=R.applyToLocalView(K,oe),a.set(V,oe);const Te=(h.get(R.batchId)||_r()).add(V);h=h.insert(R.batchId,Te)})}).next(()=>{const b=[],R=h.getReverseIterator();for(;R.hasNext();){const V=R.getNext(),K=V.key,oe=V.value,Te=ba();oe.forEach(Ke=>{if(!y.has(Ke)){const wt=Vt(r.get(Ke),a.get(Ke));null!==wt&&Te.set(Ke,wt),y=y.add(Ke)}}),b.push(this.documentOverlayCache.saveOverlays(e,K,Te))}return ot.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,r,a,h){return $t.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ce(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,h):this.getDocumentsMatchingCollectionQuery(e,r,a,h);var b}getNextDocuments(e,r,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,h).next(y=>{const b=h-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,h-y.size):ot.resolve(xs());let R=-1,V=y;return b.next(K=>ot.forEach(K,(oe,Te)=>(R<Te.largestBatchId&&(R=Te.largestBatchId),y.get(oe)?ot.resolve():this.remoteDocumentCache.getEntry(e,oe).next(Ke=>{V=V.insert(oe,Ke)}))).next(()=>this.populateOverlays(e,K,y)).next(()=>this.computeViews(e,V,K,_r())).next(oe=>({batchId:R,changes:Ea(oe)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new $t(r)).next(a=>{let h=ro();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,a,h){const y=r.collectionGroup;let b=ro();return this.indexManager.getCollectionParents(e,y).next(R=>ot.forEach(R,V=>{const K=(Te=r,Ke=V.child(y),new Do(Ke,null,Te.explicitOrderBy.slice(),Te.filters.slice(),Te.limit,Te.limitType,Te.startAt,Te.endAt));var Te,Ke;return this.getDocumentsMatchingCollectionQuery(e,K,a,h).next(oe=>{oe.forEach((Te,Ke)=>{b=b.insert(Te,Ke)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,a,h){let y;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next(b=>(y=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,y,h))).next(b=>{y.forEach((V,K)=>{const oe=K.getKey();null===b.get(oe)&&(b=b.insert(oe,It.newInvalidDocument(oe)))});let R=ro();return b.forEach((V,K)=>{const oe=y.get(V);void 0!==oe&&qr(oe.mutation,K,gi.empty(),Gt.now()),Qs(r,K)&&(R=R.insert(V,K))}),R})}}class bg{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ot.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(h=r).id,version:h.version,createTime:Dn(h.createTime)}),ot.resolve();var h}getNamedQuery(e,r){return ot.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(h=r).name,query:Gr(h.bundledQuery),readTime:Dn(h.readTime)}),ot.resolve();var h}}class Zc{constructor(){this.overlays=new Zr($t.comparator),this.Ir=new Map}getOverlay(e,r){return ot.resolve(this.overlays.get(r))}getOverlays(e,r){const a=xs();return ot.forEach(r,h=>this.getOverlay(e,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(e,r,a){return a.forEach((h,y)=>{this.ht(e,r,y)}),ot.resolve()}removeOverlaysForBatchId(e,r,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(y=>this.overlays=this.overlays.remove(y)),this.Ir.delete(a)),ot.resolve()}getOverlaysForCollection(e,r,a){const h=xs(),y=r.length+1,b=new $t(r.child("")),R=this.overlays.getIteratorFrom(b);for(;R.hasNext();){const V=R.getNext().value,K=V.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===y&&V.largestBatchId>a&&h.set(V.getKey(),V)}return ot.resolve(h)}getOverlaysForCollectionGroup(e,r,a,h){let y=new Zr((K,oe)=>K-oe);const b=this.overlays.getIterator();for(;b.hasNext();){const K=b.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>a){let oe=y.get(K.largestBatchId);null===oe&&(oe=xs(),y=y.insert(K.largestBatchId,oe)),oe.set(K.getKey(),K)}}const R=xs(),V=y.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((K,oe)=>R.set(K,oe)),!(R.size()>=h)););return ot.resolve(R)}ht(e,r,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new Ci(r,a));let y=this.Ir.get(r);void 0===y&&(y=_r(),this.Ir.set(r,y)),this.Ir.set(r,y.add(a.key))}}class Tg{constructor(){this.sessionToken=xr.EMPTY_BYTE_STRING}getSessionToken(e){return ot.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ot.resolve()}}class Ku{constructor(){this.Tr=new Ar(Us.Er),this.dr=new Ar(Us.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const a=new Us(e,r);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.Vr(new Us(e,r))}mr(e,r){e.forEach(a=>this.removeReference(a,r))}gr(e){const r=new $t(new on([])),a=new Us(r,e),h=new Us(r,e+1),y=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),y.push(b.key)}),y}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new $t(new on([])),a=new Us(r,e),h=new Us(r,e+1);let y=_r();return this.dr.forEachInRange([a,h],b=>{y=y.add(b.key)}),y}containsKey(e){const r=new Us(e,0),a=this.Tr.firstAfterOrEqual(r);return null!==a&&e.isEqual(a.key)}}class Us{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return $t.comparator(e.key,r.key)||Jt(e.wr,r.wr)}static Ar(e,r){return Jt(e.wr,r.wr)||$t.comparator(e.key,r.key)}}class e_{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ar(Us.Er)}checkEmpty(e){return ot.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,a,h){const y=this.Sr;this.Sr++;const b=new Os(y,r,a,h);this.mutationQueue.push(b);for(const R of h)this.br=this.br.add(new Us(R.key,y)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return ot.resolve(b)}lookupMutationBatch(e,r){return ot.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.vr(r+1),y=h<0?0:h;return ot.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Us(r,0),h=new Us(r,Number.POSITIVE_INFINITY),y=[];return this.br.forEachInRange([a,h],b=>{const R=this.Dr(b.wr);y.push(R)}),ot.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Ar(Jt);return r.forEach(h=>{const y=new Us(h,0),b=new Us(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([y,b],R=>{a=a.add(R.wr)})}),ot.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1;let y=a;$t.isDocumentKey(y)||(y=y.child(""));const b=new Us(new $t(y),0);let R=new Ar(Jt);return this.br.forEachWhile(V=>{const K=V.key.path;return!!a.isPrefixOf(K)&&(K.length===h&&(R=R.add(V.wr)),!0)},b),ot.resolve(this.Cr(R))}Cr(e){const r=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){Pt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return ot.forEach(r.mutations,h=>{const y=new Us(h.key,r.batchId);return a=a.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,r){const a=new Us(r,0),h=this.br.firstAfterOrEqual(a);return ot.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return ot.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class t_{constructor(e){this.Mr=e,this.docs=new Zr($t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,h=this.docs.get(a),y=h?h.size:0,b=this.Mr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:b}),this.size+=b-y,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return ot.resolve(a?a.document.mutableCopy():It.newInvalidDocument(r))}getEntries(e,r){let a=as();return r.forEach(h=>{const y=this.docs.get(h);a=a.insert(h,y?y.document.mutableCopy():It.newInvalidDocument(h))}),ot.resolve(a)}getDocumentsMatchingQuery(e,r,a,h){let y=as();const b=r.path,R=new $t(b.child("")),V=this.docs.getIteratorFrom(R);for(;V.hasNext();){const{key:K,value:{document:oe}}=V.getNext();if(!b.isPrefixOf(K.path))break;K.path.length>b.length+1||ii(ys(oe),a)<=0||(h.has(oe.key)||Qs(r,oe))&&(y=y.insert(oe.key,oe.mutableCopy()))}return ot.resolve(y)}getAllFromCollectionGroup(e,r,a,h){Ye()}Or(e,r){return ot.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new eu(this)}getSize(e){return ot.resolve(this.size)}}class eu extends Od{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?r.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),ot.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class Ig{constructor(e){this.persistence=e,this.Nr=new Gi(r=>hs(r),Ao),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ku,this.targetCount=0,this.kr=$l.Bn()}forEachTarget(e,r){return this.Nr.forEach((a,h)=>r(h)),ot.resolve()}getLastRemoteSnapshotVersion(e){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ot.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Lr&&(this.Lr=r),ot.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new $l(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ot.resolve()}updateTargetData(e,r){return this.Kn(r),ot.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ot.resolve()}removeTargets(e,r,a){let h=0;const y=[];return this.Nr.forEach((b,R)=>{R.sequenceNumber<=r&&null===a.get(R.targetId)&&(this.Nr.delete(b),y.push(this.removeMatchingKeysForTargetId(e,R.targetId)),h++)}),ot.waitFor(y).next(()=>h)}getTargetCount(e){return ot.resolve(this.targetCount)}getTargetData(e,r){const a=this.Nr.get(r)||null;return ot.resolve(a)}addMatchingKeys(e,r,a){return this.Br.Rr(r,a),ot.resolve()}removeMatchingKeys(e,r,a){this.Br.mr(r,a);const h=this.persistence.referenceDelegate,y=[];return h&&r.forEach(b=>{y.push(h.markPotentiallyOrphaned(e,b))}),ot.waitFor(y)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ot.resolve()}getMatchingKeysForTargetId(e,r){const a=this.Br.yr(r);return ot.resolve(a)}containsKey(e,r){return ot.resolve(this.Br.containsKey(r))}}class qh{constructor(e,r){this.qr={},this.overlays={},this.Qr=new L(0),this.Kr=!1,this.Kr=!0,this.$r=new Tg,this.referenceDelegate=e(this),this.Ur=new Ig(this),this.indexManager=new Da,this.remoteDocumentCache=new t_(a=>this.referenceDelegate.Wr(a)),this.serializer=new H(r),this.Gr=new bg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Zc,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.qr[e.toKey()];return a||(a=new e_(r,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,a){Ce("MemoryPersistence","Starting transaction:",e);const h=new Ks(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(y=>this.referenceDelegate.jr(h).next(()=>y)).toPromise().then(y=>(h.raiseOnCommittedEvent(),y))}Hr(e,r){return ot.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,r)))}}class Ks extends Ir{constructor(e){super(),this.currentSequenceNumber=e}}class Fd{constructor(e){this.persistence=e,this.Jr=new Ku,this.Yr=null}static Zr(e){return new Fd(e)}get Xr(){if(this.Yr)return this.Yr;throw Ye()}addReference(e,r,a){return this.Jr.addReference(a,r),this.Xr.delete(a.toString()),ot.resolve()}removeReference(e,r,a){return this.Jr.removeReference(a,r),this.Xr.add(a.toString()),ot.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ot.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(y=>this.Xr.add(y.toString()))}).next(()=>a.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.Xr,a=>{const h=$t.fromPath(a);return this.ei(e,h).next(y=>{y||r.removeEntry(h,Bt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(a=>{a?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ot.or([()=>ot.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Yh{constructor(e){this.serializer=e}O(e,r,a,h){const y=new Tt("createOrUpgrade",r);var V;a<1&&h>=1&&(e.createObjectStore("owner"),(V=e).createObjectStore("mutationQueues",{keyPath:"userId"}),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",br,{unique:!0}),V.createObjectStore("documentMutations"),Xo(e),function(V){V.createObjectStore("remoteDocuments")}(e));let b=ot.resolve();return a<3&&h>=3&&(0!==a&&(function(V){V.deleteObjectStore("targetDocuments"),V.deleteObjectStore("targets"),V.deleteObjectStore("targetGlobal")}(e),Xo(e)),b=b.next(()=>function(V){const K=V.store("targetGlobal"),oe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",oe)}(y))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(V,K){return K.store("mutations").U().next(oe=>{V.deleteObjectStore("mutations"),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",br,{unique:!0});const Te=K.store("mutations"),Ke=oe.map(wt=>Te.put(wt));return ot.waitFor(Ke)})}(e,y))),b=b.next(()=>{!function(V){V.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(y))),a<6&&h>=6&&(b=b.next(()=>(function(V){V.createObjectStore("remoteDocumentGlobal")}(e),this.ri(y)))),a<7&&h>=7&&(b=b.next(()=>this.ii(y))),a<8&&h>=8&&(b=b.next(()=>this.si(e,y))),a<9&&h>=9&&(b=b.next(()=>{!function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(y))),a<11&&h>=11&&(b=b.next(()=>{(function(V){V.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(V){V.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(V){const K=V.createObjectStore("documentOverlays",{keyPath:Bn});K.createIndex("collectionPathOverlayIndex",Ln,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",hr,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(V){const K=V.createObjectStore("remoteDocumentsV14",{keyPath:$s});K.createIndex("documentKeyIndex",Fi),K.createIndex("collectionGroupIndex",vs)}(e)).next(()=>this._i(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,y))),a<15&&h>=15&&(b=b.next(()=>function(V){V.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),V.createObjectStore("indexState",{keyPath:At}).createIndex("sequenceNumberIndex",at,{unique:!1}),V.createObjectStore("indexEntries",{keyPath:Nt}).createIndex("documentKeyIndex",cn,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(V){V.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let r=0;return e.store("remoteDocuments").J((a,h)=>{r+=jl(h)}).next(()=>{const a={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const r=e.store("mutationQueues"),a=e.store("mutations");return r.U().next(h=>ot.forEach(h,y=>{const b=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(R=>ot.forEach(R,V=>{Pt(V.userId===y.userId);const K=pr(this.serializer,V);return Hh(e,y.userId,K).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const y=[];return a.J((b,R)=>{const V=new on(b),K=[0,Mt(V)];y.push(r.get(K).next(oe=>oe?ot.resolve():r.put({targetId:0,path:Mt(V),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>ot.waitFor(y))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:ks});const a=r.store("collectionParents"),h=new $u,y=b=>{if(h.add(b)){const R=b.lastSegment(),V=b.popLast();return a.put({collectionId:R,parent:Mt(V)})}};return r.store("remoteDocuments").J({H:!0},(b,R)=>{const V=new on(b);return y(V.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,R,V],K)=>{const oe=Sn(R);return y(oe.popLast())}))}oi(e){const r=e.store("targets");return r.J((a,h)=>{const y=ur(h),b=wr(this.serializer,y);return r.put(b)})}_i(e,r){const a=r.store("remoteDocuments"),h=[];return a.J((y,b)=>{const R=r.store("remoteDocumentsV14"),V=(Te=b,Te.document?new $t(on.fromString(Te.document.name).popFirst(5)):Te.noDocument?$t.fromSegments(Te.noDocument.path):Te.unknownDocument?$t.fromSegments(Te.unknownDocument.path):Ye()).path.toArray(),K={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var Te;h.push(R.put(K))}).next(()=>ot.waitFor(h))}ai(e,r){const a=r.store("mutations"),h=Nd(this.serializer),y=new qh(Fd.Zr,this.serializer.ct);return a.U().next(b=>{const R=new Map;return b.forEach(V=>{var K;let oe=null!==(K=R.get(V.userId))&&void 0!==K?K:_r();pr(this.serializer,V).keys().forEach(Te=>oe=oe.add(Te)),R.set(V.userId,oe)}),ot.forEach(R,(V,K)=>{const oe=new Ze(K),Te=al.lt(this.serializer,oe),Ke=y.getIndexManager(oe),wt=dc.lt(oe,this.serializer,Ke,y.referenceDelegate);return new Kh(h,wt,Te,Ke).recalculateAndSaveOverlaysForDocumentKeys(new Co(r,L.oe),V).next()})})}}function Xo(d){d.createObjectStore("targetDocuments",{keyPath:yi}).createIndex("documentTargetsIndex",sr,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Es,{unique:!0}),d.createObjectStore("targetGlobal")}const zl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ld{constructor(e,r,a,h,y,b,R,V,K,oe,Te=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=a,this.ui=y,this.window=b,this.document=R,this.ci=K,this.li=oe,this.hi=Te,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Ke=>Promise.resolve(),!Ld.D())throw new st(Oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tp(this,h),this.Ai=r+"main",this.serializer=new H(V),this.Ri=new ue(this.Ai,this.hi,new Yh(this.serializer)),this.$r=new Vh,this.Ur=new zu(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Nd(this.serializer),this.Gr=new Vl,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===oe&&qt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(Oe.FAILED_PRECONDITION,zl);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new L(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var a=(0,o.A)(function*(h){if(r.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,o.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,o.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(Ee(e))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return ao(e).get("owner").next(r=>ot.resolve(this.vi(r)))}Ci(e){return gl(e).delete(this.clientId)}Fi(){var e=this;return(0,o.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=ji(a,"clientMetadata");return h.U().next(y=>{const b=e.xi(y,18e5),R=y.filter(V=>-1===b.indexOf(V));return ot.forEach(R,V=>h.delete(V.clientId)).next(()=>R)})}).catch(()=>[]);if(e.Vi)for(const a of r)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?ot.resolve(!0):ao(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new st(Oe.FAILED_PRECONDITION,zl);return!1}}return!(!this.networkEnabled||!this.inForeground)||gl(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ce("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,o.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const a=new Co(r,L.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(a=>this.Mi(a.updateTimeMs,r)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>gl(e).U().next(r=>this.xi(r,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return dc.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zf(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return al.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,a){Ce("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",y=17===(V=this.hi)?Io:16===V?Zi:15===V?Fs:14===V?Ki:13===V?mr:12===V?Jr:11===V?Hr:void Ye();var V;let b;return this.Ri.runTransaction(e,h,y,R=>(b=new Co(R,this.Qr?this.Qr.next():L.oe),"readwrite-primary"===r?this.wi(b).next(V=>!!V||this.Si(b)).next(V=>{if(!V)throw qt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new st(Oe.FAILED_PRECONDITION,Jn);return a(b)}).next(V=>this.Di(b).next(()=>V)):this.Ki(b).next(()=>a(b)))).then(R=>(b.raiseOnCommittedEvent(),R))}Ki(e){return ao(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new st(Oe.FAILED_PRECONDITION,zl)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ao(e).put("owner",r)}static D(){return ue.D()}bi(e){const r=ao(e);return r.get("owner").next(a=>this.vi(a)?(Ce("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):ot.resolve())}Mi(e,r){const a=Date.now();return!(e<a-r||e>a&&(qt(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,ye.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const a=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return Ce("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return qt("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){qt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ao(d){return ji(d,"owner")}function gl(d){return ji(d,"clientMetadata")}function Vd(d,e){let r=d.projectId;return d.isDefaultDatabase||(r+="."+d.database),"firestore/"+e+"/"+r+"/"}class Xh{constructor(e,r,a,h){this.targetId=e,this.fromCache=r,this.$i=a,this.Ui=h}static Wi(e,r){let a=_r(),h=_r();for(const y of r.docChanges)switch(y.type){case 0:a=a.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}return new Xh(e,r.fromCache,a,h)}}class rp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cg{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,ye.nr)()?8:Ne((0,ye.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,a,h){const y={result:null};return this.Yi(e,r).next(b=>{y.result=b}).next(()=>{if(!y.result)return this.Zi(e,r,h,a).next(b=>{y.result=b})}).next(()=>{if(y.result)return;const b=new rp;return this.Xi(e,r,b).next(R=>{if(y.result=R,this.zi)return this.es(e,r,b,R.size)})}).next(()=>y.result)}es(e,r,a,h){return a.documentReadCount<this.ji?($e()<=ve.$b.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",os(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ot.resolve()):($e()<=ve.$b.DEBUG&&Ce("QueryEngine","Query:",os(r),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?($e()<=ve.$b.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",os(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(r))):ot.resolve())}Yi(e,r){if(U(r))return ot.resolve(null);let a=_n(r);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==r.limit&&1===h&&(r=ss(r,null,"F"),a=_n(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next(y=>{const b=_r(...y);return this.Ji.getDocuments(e,b).next(R=>this.indexManager.getMinOffset(e,a).next(V=>{const K=this.ts(r,R);return this.ns(r,K,b,V.readTime)?this.Yi(e,ss(r,null,"F")):this.rs(e,K,r,V)}))})))}Zi(e,r,a,h){return U(r)||h.isEqual(Bt.min())?ot.resolve(null):this.Ji.getDocuments(e,a).next(y=>{const b=this.ts(r,y);return this.ns(r,b,a,h)?ot.resolve(null):($e()<=ve.$b.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),os(r)),this.rs(e,b,r,pi(h,-1)).next(R=>R))})}ts(e,r){let a=new Ar(Ms(e));return r.forEach((h,y)=>{Qs(e,y)&&(a=a.add(y))}),a}ns(e,r,a,h){if(null===e.limit)return!1;if(a.size!==r.size)return!0;const y="F"===e.limitType?r.last():r.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(h)>0)}Xi(e,r,a){return $e()<=ve.$b.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",os(r)),this.Ji.getDocumentsMatchingQuery(e,r,hn.min(),a)}rs(e,r,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(y=>(r.forEach(b=>{y=y.insert(b.key,b)}),y))}}class Qo{constructor(e,r,a,h){this.persistence=e,this.ss=r,this.serializer=h,this.os=new Zr(Jt),this._s=new Gi(y=>hs(y),Ao),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function qu(d,e,r,a){return new Qo(d,e,r,a)}function ml(d,e){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,o.A)(function*(d,e){const r=ct(d);return yield r.persistence.runTransaction("Handle user change","readonly",a=>{let h;return r.mutationQueue.getAllMutationBatches(a).next(y=>(h=y,r.ls(e),r.mutationQueue.getAllMutationBatches(a))).next(y=>{const b=[],R=[];let V=_r();for(const K of h){b.push(K.batchId);for(const oe of K.mutations)V=V.add(oe.key)}for(const K of y){R.push(K.batchId);for(const oe of K.mutations)V=V.add(oe.key)}return r.localDocuments.getDocuments(a,V).next(K=>({hs:K,removedBatchIds:b,addedBatchIds:R}))})})})).apply(this,arguments)}function Ud(d){const e=ct(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Jh(d,e,r){let a=_r(),h=_r();return r.forEach(y=>a=a.add(y)),e.getEntries(d,a).next(y=>{let b=as();return r.forEach((R,V)=>{const K=y.get(R);V.isFoundDocument()!==K.isFoundDocument()&&(h=h.add(R)),V.isNoDocument()&&V.version.isEqual(Bt.min())?(e.removeEntry(R,V.readTime),b=b.insert(R,V)):!K.isValidDocument()||V.version.compareTo(K.version)>0||0===V.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(V),b=b.insert(R,V)):Ce("LocalStore","Ignoring outdated watch update for ",R,". Current version:",K.version," Watch version:",V.version)}),{Ps:b,Is:h}})}function ip(d,e){const r=ct(d);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function _l(d,e){const r=ct(d);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return r.Ur.getTargetData(a,e).next(y=>y?(h=y,ot.resolve(h)):r.Ur.allocateTargetId(a).next(b=>(h=new N(e,b,"TargetPurposeListen",a.currentSequenceNumber),r.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=r.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.os=r.os.insert(a.targetId,a),r._s.set(e,a.targetId)),a})}function tu(d,e,r){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,o.A)(function*(d,e,r){const a=ct(d),h=a.os.get(e),y=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",y,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!Ee(b))throw b;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function Ha(d,e,r){const a=ct(d);let h=Bt.min(),y=_r();return a.persistence.runTransaction("Execute query","readwrite",b=>function(V,K,oe){const Te=ct(V),Ke=Te._s.get(oe);return void 0!==Ke?ot.resolve(Te.os.get(Ke)):Te.Ur.getTargetData(K,oe)}(a,b,_n(e)).next(R=>{if(R)return h=R.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,R.targetId).next(V=>{y=V})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,r?h:Bt.min(),r?y:_r())).next(R=>(nu(a,Gc(e),R),{documents:R,Ts:y})))}function jd(d,e){const r=ct(d),a=ct(r.Ur),h=r.os.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",y=>a.ot(y,e).next(b=>b?b.target:null))}function yl(d,e){const r=ct(d),a=r.us.get(e)||Bt.min();return r.persistence.runTransaction("Get new document changes","readonly",h=>r.cs.getAllFromCollectionGroup(h,e,pi(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(nu(r,e,h),h))}function nu(d,e,r){let a=d.us.get(e)||Bt.min();r.forEach((h,y)=>{y.readTime.compareTo(a)>0&&(a=y.readTime)}),d.us.set(e,a)}function Xu(){return(Xu=(0,o.A)(function*(d,e,r,a){const h=ct(d);let y=_r(),b=as();for(const K of r){const oe=e.Es(K.metadata.name);K.document&&(y=y.add(oe));const Te=e.ds(K);Te.setReadTime(e.As(K.metadata.readTime)),b=b.insert(oe,Te)}const R=h.cs.newChangeBuffer({trackRemovals:!0}),V=yield _l(h,(oe=a,_n(Z(on.fromString(`__bundle__/docs/${oe}`)))));var oe;return h.persistence.runTransaction("Apply bundle documents","readwrite",K=>Jh(K,R,b).next(oe=>(R.apply(K),oe)).next(oe=>h.Ur.removeMatchingKeysForTargetId(K,V.targetId).next(()=>h.Ur.addMatchingKeys(K,y,V.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(K,oe.Ps,oe.Is)).next(()=>oe.Ps)))})).apply(this,arguments)}function sp(d,e){return $d.apply(this,arguments)}function $d(){return($d=(0,o.A)(function*(d,e,r=_r()){const a=yield _l(d,_n(Gr(e.bundledQuery))),h=ct(d);return h.persistence.runTransaction("Save named query","readwrite",y=>{const b=Dn(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(y,e);const R=a.withResumeToken(xr.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(R.targetId,R),h.Ur.updateTargetData(y,R).next(()=>h.Ur.removeMatchingKeysForTargetId(y,a.targetId)).next(()=>h.Ur.addMatchingKeys(y,r,a.targetId)).next(()=>h.Gr.saveNamedQuery(y,e))})})).apply(this,arguments)}function fo(d,e){return`firestore_clients_${d}_${e}`}function Zh(d,e,r){let a=`firestore_mutations_${d}_${r}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Hd(d,e){return`firestore_targets_${d}_${e}`}class Gd{constructor(e,r,a,h){this.user=e,this.batchId=r,this.state=a,this.error=h}static Rs(e,r,a){const h=JSON.parse(a);let y,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(y=new st(h.error.code,h.error.message))),b?new Gd(e,r,h.state,y):(qt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vl{constructor(e,r,a){this.targetId=e,this.state=r,this.error=a}static Rs(e,r){const a=JSON.parse(r);let h,y="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return y&&a.error&&(y="string"==typeof a.error.message&&"string"==typeof a.error.code,y&&(h=new st(a.error.code,a.error.message))),y?new vl(e,a.state,h):(qt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class El{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const a=JSON.parse(r);let h="object"==typeof a&&a.activeTargetIds instanceof Array,y=_o();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=ht(a.activeTargetIds[b]),y=y.add(a.activeTargetIds[b]);return h?new El(e,y):(qt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class C{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new C(r.clientId,r.onlineState):(qt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _{constructor(){this.activeTargetIds=_o()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,r,a,h,y){this.window=e,this.ui=r,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Zr(Jt),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Ds=fo(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new _),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(V){return`firestore_bundle_loaded_v2_${V}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,o.A)(function*(){const r=yield e.syncEngine.Qi();for(const h of r){if(h===e.ps)continue;const y=e.getItem(fo(e.persistenceKey,h));if(y){const b=El.Rs(h,y);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,a){this.qs(e,r,a),this.Qs(e)}addLocalQueryTarget(e,r=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(Hd(this.persistenceKey,e));if(h){const y=vl.Rs(e,h);y&&(a=y.state)}}return r&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Hd(this.persistenceKey,e))}updateQueryState(e,r,a){this.$s(e,r,a)}handleUserChange(e,r,a){r.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ce("SharedClientState","READ",e,r),r}setItem(e,r){Ce("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ce("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const a=e;if(a.storageArea===this.storage){if(Ce("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,o.A)(function*(){if(r.started){if(null!==a.key)if(r.Cs.test(a.key)){if(null==a.newValue){const h=r.Gs(a.key);return r.zs(h,null)}{const h=r.js(a.key,a.newValue);if(h)return r.zs(h.clientId,h)}}else if(r.Fs.test(a.key)){if(null!==a.newValue){const h=r.Hs(a.key,a.newValue);if(h)return r.Js(h)}}else if(r.Ms.test(a.key)){if(null!==a.newValue){const h=r.Ys(a.key,a.newValue);if(h)return r.Zs(h)}}else if(a.key===r.xs){if(null!==a.newValue){const h=r.Ls(a.newValue);if(h)return r.Bs(h)}}else if(a.key===r.vs){const h=function(b){let R=L.oe;if(null!=b)try{const V=JSON.parse(b);Pt("number"==typeof V),R=V}catch(V){qt("SharedClientState","Failed to read sequence number from WebStorage",V)}return R}(a.newValue);h!==L.oe&&r.sequenceNumberHandler(h)}else if(a.key===r.Os){const h=r.Xs(a.newValue);yield Promise.all(h.map(y=>r.syncEngine.eo(y)))}}else r.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,a){const h=new Gd(this.currentUser,e,r,a),y=Zh(this.persistenceKey,this.currentUser,e);this.setItem(y,h.Vs())}Qs(e){const r=Zh(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,a){const h=Hd(this.persistenceKey,e),y=new vl(e,r,a);this.setItem(h,y.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const a=this.Gs(e);return El.Rs(a,r)}Hs(e,r){const a=this.Fs.exec(e),h=Number(a[1]);return Gd.Rs(new Ze(void 0!==a[2]?a[2]:null),h,r)}Ys(e,r){const a=this.Ms.exec(e),h=Number(a[1]);return vl.Rs(h,r)}Ls(e){return C.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,o.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);Ce("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const a=r?this.Ss.insert(e,r):this.Ss.remove(e),h=this.ks(this.Ss),y=this.ks(a),b=[],R=[];return y.forEach(V=>{h.has(V)||b.push(V)}),h.forEach(V=>{y.has(V)||R.push(V)}),this.syncEngine.io(b,R).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=_o();return e.forEach((a,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class S{constructor(){this.so=new _,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,a){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X{_o(e){}shutdown(){}}class he{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xe=null;function Rt(){return null===Xe?Xe=268435456+Math.round(2147483648*Math.random()):Xe++,"0x"+Xe.toString(16)}const zt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Pn="WebChannelConnection";class ti extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const a=r.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+r.host,this.vo=`projects/${h}/databases/${y}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${y}`}get Fo(){return!1}Mo(r,a,h,y,b){const R=Rt(),V=this.xo(r,a.toUriEncodedString());Ce("RestConnection",`Sending RPC '${r}' ${R}:`,V,h);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,y,b),this.No(r,V,K,h).then(oe=>(Ce("RestConnection",`Received RPC '${r}' ${R}: `,oe),oe),oe=>{throw pn("RestConnection",`RPC '${r}' ${R} failed with error: `,oe,"url: ",V,"request:",h),oe})}Lo(r,a,h,y,b,R){return this.Mo(r,a,h,y,b)}Oo(r,a,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ve,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((y,b)=>r[b]=y),h&&h.headers.forEach((y,b)=>r[b]=y)}xo(r,a){return`${this.Do}/v1/${a}:${zt[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,a,h){const y=Rt();return new Promise((b,R)=>{const V=new ae;V.setWithCredentials(!0),V.listenOnce(it.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case lt.NO_ERROR:const oe=V.getResponseJson();Ce(Pn,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(oe)),b(oe);break;case lt.TIMEOUT:Ce(Pn,`RPC '${e}' ${y} timed out`),R(new st(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case lt.HTTP_ERROR:const Te=V.getStatus();if(Ce(Pn,`RPC '${e}' ${y} failed with status:`,Te,"response text:",V.getResponseText()),Te>0){let Ke=V.getResponseJson();Array.isArray(Ke)&&(Ke=Ke[0]);const wt=Ke?.error;if(wt&&wt.status&&wt.message){const Ht=function(nn){const Kn=nn.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(Kn)>=0?Kn:Oe.UNKNOWN}(wt.status);R(new st(Ht,wt.message))}else R(new st(Oe.UNKNOWN,"Server responded with status "+V.getStatus()))}else R(new st(Oe.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Ce(Pn,`RPC '${e}' ${y} completed.`)}});const K=JSON.stringify(h);Ce(Pn,`RPC '${e}' ${y} sending request:`,h),V.send(r,"POST",K,a,15)})}Bo(e,r,a){const h=Rt(),y=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=ze(),R=Qt(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(V.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(V.useFetchStreams=!0),this.Oo(V.initMessageHeaders,r,a),V.encodeInitMessageHeaders=!0;const oe=y.join("");Ce(Pn,`Creating RPC '${e}' stream ${h}: ${oe}`,V);const Te=b.createWebChannel(oe,V);let Ke=!1,wt=!1;const Ht=new xn({Io:nn=>{wt?Ce(Pn,`Not sending because RPC '${e}' stream ${h} is closed:`,nn):(Ke||(Ce(Pn,`Opening RPC '${e}' stream ${h} transport.`),Te.open(),Ke=!0),Ce(Pn,`RPC '${e}' stream ${h} sending:`,nn),Te.send(nn))},To:()=>Te.close()}),un=(nn,Kn,ar)=>{nn.listen(Kn,Qn=>{try{ar(Qn)}catch(Lr){setTimeout(()=>{throw Lr},0)}})};return un(Te,_e.EventType.OPEN,()=>{wt||(Ce(Pn,`RPC '${e}' stream ${h} transport opened.`),Ht.yo())}),un(Te,_e.EventType.CLOSE,()=>{wt||(wt=!0,Ce(Pn,`RPC '${e}' stream ${h} transport closed`),Ht.So())}),un(Te,_e.EventType.ERROR,nn=>{wt||(wt=!0,pn(Pn,`RPC '${e}' stream ${h} transport errored:`,nn),Ht.So(new st(Oe.UNAVAILABLE,"The operation could not be completed")))}),un(Te,_e.EventType.MESSAGE,nn=>{var Kn;if(!wt){const ar=nn.data[0];Pt(!!ar);const Lr=ar.error||(null===(Kn=ar[0])||void 0===Kn?void 0:Kn.error);if(Lr){Ce(Pn,`RPC '${e}' stream ${h} received error:`,Lr);const Oi=Lr.status;let ui=function(Qe){const ft=Cr[Qe];if(void 0!==ft)return io(ft)}(Oi),dt=Lr.message;void 0===ui&&(ui=Oe.INTERNAL,dt="Unknown error status: "+Oi+" with message "+Lr.message),wt=!0,Ht.So(new st(ui,dt)),Te.close()}else Ce(Pn,`RPC '${e}' stream ${h} received:`,ar),Ht.bo(ar)}}),un(R,kt.STAT_EVENT,nn=>{nn.stat===xt.PROXY?Ce(Pn,`RPC '${e}' stream ${h} detected buffering proxy`):nn.stat===xt.NOPROXY&&Ce(Pn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Ht.wo()},0),Ht}}function Oo(){return typeof window<"u"?window:null}function la(){return typeof document<"u"?document:null}function gc(d){return new Ia(d,!0)}class zd{constructor(e,r,a=1e3,h=1.5,y=6e4){this.ui=e,this.timerId=r,this.ko=a,this.qo=h,this.Qo=y,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,r-a);h>0&&Ce("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Wd{constructor(e,r,a,h,y,b,R,V){this.ui=e,this.Ho=a,this.Jo=h,this.connection=y,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=R,this.listener=V,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zd(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,o.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,o.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var a=this;return(0,o.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():r&&r.code===Oe.RESOURCE_EXHAUSTED?(qt(r.toString()),qt("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):r&&r.code===Oe.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===r&&this.P_(a,h)},a=>{e(()=>{const h=new st(Oe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,r){const a=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,o.A)(function*(){e.state=0,e.start()}))}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ga extends Wd{constructor(e,r,a,h,y,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,h,b),this.serializer=y}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function Sd(d,e){let r;if("targetChange"in e){const a="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Ye(),h=e.targetChange.targetIds||[],y=function(K,oe){return K.useProto3Json?(Pt(void 0===oe||"string"==typeof oe),xr.fromBase64String(oe||"")):(Pt(void 0===oe||oe instanceof Buffer||oe instanceof Uint8Array),xr.fromUint8Array(oe||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,R=b&&function(K){const oe=void 0===K.code?Oe.UNKNOWN:io(K.code);return new st(oe,K.message||"")}(b);r=new Mu(a,h,y,R||null)}else if("documentChange"in e){const a=e.documentChange,h=Ko(d,a.document.name),y=Dn(a.document.updateTime),b=a.document.createTime?Dn(a.document.createTime):Bt.min(),R=new Le({mapValue:{fields:a.document.fields}}),V=It.newFoundDocument(h,y,b,R);r=new Nl(a.targetIds||[],a.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const a=e.documentDelete,h=Ko(d,a.document),y=a.readTime?Dn(a.readTime):Bt.min(),b=It.newNoDocument(h,y);r=new Nl([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=Ko(d,a.document);r=new Nl([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Ye();{const a=e.filter,{count:h=0,unchangedNames:y}=a,b=new ho(h,y);r=new Pu(a.targetId,b)}}var K;return r}(this.serializer,e),a=function(y){if(!("targetChange"in y))return Bt.min();const b=y.targetChange;return b.targetIds&&b.targetIds.length?Bt.min():b.readTime?Dn(b.readTime):Bt.min()}(e);return this.listener.d_(r,a)}A_(e){const r={};r.database=uc(this.serializer),r.addTarget=function(y,b){let R;const V=b.target;if(R=_a(V)?{documents:zs(y,V)}:{query:ja(y,V)._t},R.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){R.resumeToken=Ro(y,b.resumeToken);const K=sl(y,b.expectedCount);null!==K&&(R.expectedCount=K)}else if(b.snapshotVersion.compareTo(Bt.min())>0){R.readTime=ia(y,b.snapshotVersion.toTimestamp());const K=sl(y,b.expectedCount);null!==K&&(R.expectedCount=K)}return R}(this.serializer,e);const a=function Rd(d,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);a&&(r.labels=a),this.a_(r)}R_(e){const r={};r.database=uc(this.serializer),r.removeTarget=e,this.a_(r)}}class Ag extends Wd{constructor(e,r,a,h,y,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,h,b),this.serializer=y}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function Js(d,e){return d&&d.length>0?(Pt(void 0!==e),d.map(r=>function(h,y){let b=Dn(h.updateTime?h.updateTime:y);return b.isEqual(Bt.min())&&(b=Dn(y)),new j(b,h.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),a=Dn(e.commitTime);return this.listener.g_(a,r)}p_(){const e={};e.database=uc(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>Xc(this.serializer,a))};this.a_(r)}}class Dg extends class{}{constructor(e,r,a,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new st(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,b])=>this.connection.Mo(e,Ou(r,a),h,y,b)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new st(Oe.UNKNOWN,y.toString())})}Lo(e,r,a,h,y){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,R])=>this.connection.Lo(e,Ou(r,a),h,b,R,y)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new st(Oe.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ca{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qt(r),this.D_=!1):Ce("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class op{constructor(e,r,a,h,y){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=y,this.k_._o(R=>{a.enqueueAndForget((0,o.A)(function*(){var V;ua(b)&&(Ce("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,o.A)(function*(oe){const Te=ct(oe);Te.L_.add(4),yield su(Te),Te.q_.set("Unknown"),Te.L_.delete(4),yield iu(Te)}),function K(oe){return V.apply(this,arguments)})(b))}))}),this.q_=new ca(a,h)}}function iu(d){return ef.apply(this,arguments)}function ef(){return(ef=(0,o.A)(function*(d){if(ua(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function su(d){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,o.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function Ju(d,e){const r=ct(d);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),lp(r)?ap(r):Xd(r).r_()&&Zu(r,e))}function mc(d,e){const r=ct(d),a=Xd(r);r.N_.delete(e),a.r_()&&Sg(r,e),0===r.N_.size&&(a.r_()?a.o_():ua(r)&&r.q_.set("Unknown"))}function Zu(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const r=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Xd(d).A_(e)}function Sg(d,e){d.Q_.xe(e),Xd(d).R_(e)}function ap(d){d.Q_=new xu({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),Xd(d).start(),d.q_.v_()}function lp(d){return ua(d)&&!Xd(d).n_()&&d.N_.size>0}function ua(d){return 0===ct(d).L_.size}function cp(d){d.Q_=void 0}function n_(d){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,o.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function up(d){return qd.apply(this,arguments)}function qd(){return(qd=(0,o.A)(function*(d){d.N_.forEach((e,r)=>{Zu(d,e)})})).apply(this,arguments)}function Ey(d,e){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,o.A)(function*(d,e){cp(d),lp(d)?(d.q_.M_(e),ap(d)):d.q_.set("Unknown")})).apply(this,arguments)}function ou(d,e,r){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,o.A)(function*(d,e,r){if(d.q_.set("Online"),e instanceof Mu&&2===e.state&&e.cause)try{yield(a=(0,o.A)(function*(y,b){const R=b.cause;for(const V of b.targetIds)y.N_.has(V)&&(yield y.remoteSyncer.rejectListen(V,R),y.N_.delete(V),y.Q_.removeTarget(V))}),function h(y,b){return a.apply(this,arguments)})(d,e)}catch(a){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield ed(d,a)}else if(e instanceof Nl?d.Q_.Ke(e):e instanceof Pu?d.Q_.He(e):d.Q_.We(e),!r.isEqual(Bt.min()))try{const a=yield Ud(d.localStore);r.compareTo(a)>=0&&(yield function(y,b){const R=y.Q_.rt(b);return R.targetChanges.forEach((V,K)=>{if(V.resumeToken.approximateByteSize()>0){const oe=y.N_.get(K);oe&&y.N_.set(K,oe.withResumeToken(V.resumeToken,b))}}),R.targetMismatches.forEach((V,K)=>{const oe=y.N_.get(V);if(!oe)return;y.N_.set(V,oe.withResumeToken(xr.EMPTY_BYTE_STRING,oe.snapshotVersion)),Sg(y,V);const Te=new N(oe.target,V,K,oe.sequenceNumber);Zu(y,Te)}),y.remoteSyncer.applyRemoteEvent(R)}(d,r))}catch(a){Ce("RemoteStore","Failed to raise snapshot:",a),yield ed(d,a)}var a}),Pg.apply(this,arguments)}function ed(d,e,r){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,o.A)(function*(d,e,r){if(!Ee(e))throw e;d.L_.add(1),yield su(d),d.q_.set("Offline"),r||(r=()=>Ud(d.localStore)),d.asyncQueue.enqueueRetryable((0,o.A)(function*(){Ce("RemoteStore","Retrying IndexedDB access"),yield r(),d.L_.delete(1),yield iu(d)}))})).apply(this,arguments)}function r_(d,e){return e().catch(r=>ed(d,r,e))}function Yd(d){return dp.apply(this,arguments)}function dp(){return(dp=(0,o.A)(function*(d){const e=ct(d),r=lu(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;by(e);)try{const h=yield ip(e.localStore,a);if(null===h){0===e.O_.length&&r.o_();break}a=h.batchId,Ty(e,h)}catch(h){yield ed(e,h)}Jo(e)&&hp(e)})).apply(this,arguments)}function by(d){return ua(d)&&d.O_.length<10}function Ty(d,e){d.O_.push(e);const r=lu(d);r.r_()&&r.V_&&r.m_(e.mutations)}function Jo(d){return ua(d)&&!lu(d).n_()&&d.O_.length>0}function hp(d){lu(d).start()}function i_(d){return tf.apply(this,arguments)}function tf(){return(tf=(0,o.A)(function*(d){lu(d).p_()})).apply(this,arguments)}function No(d){return _c.apply(this,arguments)}function _c(){return(_c=(0,o.A)(function*(d){const e=lu(d);for(const r of d.O_)e.m_(r.mutations)})).apply(this,arguments)}function s_(d,e,r){return td.apply(this,arguments)}function td(){return(td=(0,o.A)(function*(d,e,r){const a=d.O_.shift(),h=zo.from(a,e,r);yield r_(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield Yd(d)})).apply(this,arguments)}function Iy(d,e){return nf.apply(this,arguments)}function nf(){return nf=(0,o.A)(function*(d,e){var r;e&&lu(d).V_&&(yield(r=(0,o.A)(function*(h,y){if(xl(R=y.code)&&R!==Oe.ABORTED){const b=h.O_.shift();lu(h).s_(),yield r_(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,y)),yield Yd(h)}var R}),function a(h,y){return r.apply(this,arguments)})(d,e)),Jo(d)&&hp(d)}),nf.apply(this,arguments)}function xg(d,e){return au.apply(this,arguments)}function au(){return(au=(0,o.A)(function*(d,e){const r=ct(d);r.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const a=ua(r);r.L_.add(3),yield su(r),a&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield iu(r)})).apply(this,arguments)}function rf(d,e){return fp.apply(this,arguments)}function fp(){return(fp=(0,o.A)(function*(d,e){const r=ct(d);e?(r.L_.delete(2),yield iu(r)):e||(r.L_.add(2),yield su(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Xd(d){return d.K_||(d.K_=function(r,a,h){const y=ct(r);return y.w_(),new Ga(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:n_.bind(null,d),Ro:up.bind(null,d),mo:Ey.bind(null,d),d_:ou.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.K_.s_(),lp(d)?ap(d):d.q_.set("Unknown")):(yield d.K_.stop(),cp(d))});return function(r){return e.apply(this,arguments)}}())),d.K_}function lu(d){return d.U_||(d.U_=function(r,a,h){const y=ct(r);return y.w_(),new Ag(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:i_.bind(null,d),mo:Iy.bind(null,d),f_:No.bind(null,d),g_:s_.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.U_.s_(),yield Yd(d)):(yield d.U_.stop(),d.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(r){return e.apply(this,arguments)}}())),d.U_}class sf{constructor(e,r,a,h,y){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=h,this.removalCallback=y,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,h,y){const b=Date.now()+a,R=new sf(e,r,b,h,y);return R.start(a),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cu(d,e){if(qt("AsyncQueue",`${e}: ${d}`),Ee(d))return new st(Oe.UNAVAILABLE,`${e}: ${d}`);throw d}class Qd{constructor(e){this.comparator=e?(r,a)=>e(r,a)||$t.comparator(r.key,a.key):(r,a)=>$t.comparator(r.key,a.key),this.keyedMap=ro(),this.sortedSet=new Zr(this.comparator)}static emptySet(e){return new Qd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Qd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,y=a.getNext().key;if(!h.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const a=new Qd;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class Jd{constructor(){this.W_=new Zr($t.comparator)}track(e){const r=e.doc.key,a=this.W_.get(r);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(r,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(r):1===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ye():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,a)=>{e.push(a)}),e}}class Zd{constructor(e,r,a,h,y,b,R,V,K){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=R,this.excludesMetadataChanges=V,this.hasCachedResults=K}static fromInitialDocuments(e,r,a,h,y){const b=[];return r.forEach(R=>{b.push({type:0,doc:R})}),new Zd(e,r,Qd.emptySet(r),b,a,h,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==a[h].type||!r[h].doc.isEqual(a[h].doc))return!1;return!0}}class Cy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class o_{constructor(){this.queries=Og(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,a){const h=ct(r),y=h.queries;h.queries=Og(),y.forEach((b,R)=>{for(const V of R.j_)V.onError(a)})}(this,new st(Oe.ABORTED,"Firestore shutting down"))}}function Og(){return new Gi(d=>no(d),mo)}function pp(d,e){return uu.apply(this,arguments)}function uu(){return(uu=(0,o.A)(function*(d,e){const r=ct(d);let a=3;const h=e.query;let y=r.queries.get(h);y?!y.H_()&&e.J_()&&(a=2):(y=new Cy,a=e.J_()?0:1);try{switch(a){case 0:y.z_=yield r.onListen(h,!0);break;case 1:y.z_=yield r.onListen(h,!1);break;case 2:yield r.onFirstRemoteStoreListen(h)}}catch(b){const R=cu(b,`Initialization of query '${os(e.query)}' failed`);return void e.onError(R)}r.queries.set(h,y),y.j_.push(e),e.Z_(r.onlineState),y.z_&&e.X_(y.z_)&&Ng(r)})).apply(this,arguments)}function eh(d,e){return gp.apply(this,arguments)}function gp(){return(gp=(0,o.A)(function*(d,e){const r=ct(d),a=e.query;let h=3;const y=r.queries.get(a);if(y){const b=y.j_.indexOf(e);b>=0&&(y.j_.splice(b,1),0===y.j_.length?h=e.J_()?0:1:!y.H_()&&e.J_()&&(h=2))}switch(h){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function du(d,e){const r=ct(d);let a=!1;for(const h of e){const b=r.queries.get(h.query);if(b){for(const R of b.j_)R.X_(h)&&(a=!0);b.z_=h}}a&&Ng(r)}function mp(d,e,r){const a=ct(d),h=a.queries.get(e);if(h)for(const y of h.j_)y.onError(r);a.queries.delete(e)}function Ng(d){d.Y_.forEach(e=>{e.next()})}var kg,a_;(a_=kg||(kg={})).ea="default",a_.Cache="cache";class Fg{constructor(e,r,a){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new Zd(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Zd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==kg.Cache}}class Lg{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class l_{constructor(e){this.serializer=e}Es(e){return Ko(this.serializer,e)}ds(e){return e.metadata.exists?Yc(this.serializer,e.document,!1):It.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Dn(e)}}class wy{constructor(e,r,a){this.ca=e,this.localStore=r,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nd(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const a=on.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,a=new l_(this.serializer);for(const h of e)if(h.metadata.queries){const y=a.Es(h.metadata.name);for(const b of h.metadata.queries){const R=(r.get(b)||_r()).add(y);r.set(b,R)}}return r}complete(){var e=this;return(0,o.A)(function*(){const r=yield function ru(d,e,r,a){return Xu.apply(this,arguments)}(e.localStore,new l_(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield sp(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function nd(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class _p{constructor(e){this.key=e}}class yp{constructor(e){this.key=e}}class Vg{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_r(),this.mutatedKeys=_r(),this.Aa=Ms(e),this.Ra=new Qd(this.Aa)}get Va(){return this.Ta}ma(e,r){const a=r?r.fa:new Jd,h=r?r.Ra:this.Ra;let y=r?r.mutatedKeys:this.mutatedKeys,b=h,R=!1;const V="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,K="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((oe,Te)=>{const Ke=h.get(oe),wt=Qs(this.query,Te)?Te:null,Ht=!!Ke&&this.mutatedKeys.has(Ke.key),un=!!wt&&(wt.hasLocalMutations||this.mutatedKeys.has(wt.key)&&wt.hasCommittedMutations);let nn=!1;Ke&&wt?Ke.data.isEqual(wt.data)?Ht!==un&&(a.track({type:3,doc:wt}),nn=!0):this.ga(Ke,wt)||(a.track({type:2,doc:wt}),nn=!0,(V&&this.Aa(wt,V)>0||K&&this.Aa(wt,K)<0)&&(R=!0)):!Ke&&wt?(a.track({type:0,doc:wt}),nn=!0):Ke&&!wt&&(a.track({type:1,doc:Ke}),nn=!0,(V||K)&&(R=!0)),nn&&(wt?(b=b.add(wt),y=un?y.add(oe):y.delete(oe)):(b=b.delete(oe),y=y.delete(oe)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const oe="F"===this.query.limitType?b.last():b.first();b=b.delete(oe.key),y=y.delete(oe.key),a.track({type:1,doc:oe})}return{Ra:b,fa:a,ns:R,mutatedKeys:y}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,h){const y=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((oe,Te)=>function(wt,Ht){const un=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return un(wt)-un(Ht)}(oe.type,Te.type)||this.Aa(oe.doc,Te.doc)),this.pa(a),h=null!=h&&h;const R=r&&!h?this.ya():[],V=0===this.da.size&&this.current&&!h?1:0,K=V!==this.Ea;return this.Ea=V,0!==b.length||K?{snapshot:new Zd(this.query,e.Ra,y,b,e.mutatedKeys,0===V,K,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:R}:{wa:R}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_r(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const r=[];return e.forEach(a=>{this.da.has(a)||r.push(new yp(a))}),this.da.forEach(a=>{e.has(a)||r.push(new _p(a))}),r}ba(e){this.Ta=e.Ts,this.da=_r();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Zd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Ay{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class Ug{constructor(e){this.key=e,this.va=!1}}class rd{constructor(e,r,a,h,y,b){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=h,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new Gi(R=>no(R),mo),this.Ma=new Map,this.xa=new Set,this.Oa=new Zr($t.comparator),this.Na=new Map,this.La=new Ku,this.Ba={},this.ka=new Map,this.qa=$l.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function id(d,e){return th.apply(this,arguments)}function th(){return(th=(0,o.A)(function*(d,e,r=!0){const a=Ap(d);let h;const y=a.Fa.get(e);return y?(a.sharedClientState.addLocalQueryTarget(y.targetId),h=y.view.Da()):h=yield eE(a,e,r,!0),h})).apply(this,arguments)}function c_(d,e){return vp.apply(this,arguments)}function vp(){return(vp=(0,o.A)(function*(d,e){const r=Ap(d);yield eE(r,e,!0,!1)})).apply(this,arguments)}function eE(d,e,r,a){return af.apply(this,arguments)}function af(){return(af=(0,o.A)(function*(d,e,r,a){const h=yield _l(d.localStore,_n(e)),y=h.targetId,b=d.sharedClientState.addLocalQueryTarget(y,r);let R;return a&&(R=yield Bg(d,e,y,"current"===b,h.resumeToken)),d.isPrimaryClient&&r&&Ju(d.remoteStore,h),R})).apply(this,arguments)}function Bg(d,e,r,a,h){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,o.A)(function*(d,e,r,a,h){d.Ka=(Te,Ke,wt)=>{return(Ht=(0,o.A)(function*(nn,Kn,ar,Qn){let Lr=Kn.view.ma(ar);Lr.ns&&(Lr=yield Ha(nn.localStore,Kn.query,!1).then(({documents:Be})=>Kn.view.ma(Be,Lr)));const Oi=Qn&&Qn.targetChanges.get(Kn.targetId),ui=Qn&&null!=Qn.targetMismatches.get(Kn.targetId),dt=Kn.view.applyChanges(Lr,nn.isPrimaryClient,Oi,ui);return vc(nn,Kn.targetId,dt.wa),dt.snapshot}),function un(nn,Kn,ar,Qn){return Ht.apply(this,arguments)})(d,Te,Ke,wt);var Ht};const y=yield Ha(d.localStore,e,!0),b=new Vg(e,y.Ts),R=b.ma(y.documents),V=Va.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==d.onlineState,h),K=b.applyChanges(R,d.isPrimaryClient,V);vc(d,r,K.wa);const oe=new Ay(e,r,b);return d.Fa.set(e,oe),d.Ma.has(r)?d.Ma.get(r).push(e):d.Ma.set(r,[e]),K.snapshot}),Ep.apply(this,arguments)}function u_(d,e,r){return bp.apply(this,arguments)}function bp(){return(bp=(0,o.A)(function*(d,e,r){const a=ct(d),h=a.Fa.get(e),y=a.Ma.get(h.targetId);if(y.length>1)return a.Ma.set(h.targetId,y.filter(b=>!mo(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield tu(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),r&&mc(a.remoteStore,h.targetId),Wl(a,h.targetId)}).catch(Gn))):(Wl(a,h.targetId),yield tu(a.localStore,h.targetId,!0))})).apply(this,arguments)}function jg(d,e){return sd.apply(this,arguments)}function sd(){return(sd=(0,o.A)(function*(d,e){const r=ct(d),a=r.Fa.get(e),h=r.Ma.get(a.targetId);r.isPrimaryClient&&1===h.length&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),mc(r.remoteStore,a.targetId))})).apply(this,arguments)}function nh(){return(nh=(0,o.A)(function*(d,e,r){const a=Dp(d);try{const h=yield function(b,R){const V=ct(b),K=Gt.now(),oe=R.reduce((wt,Ht)=>wt.add(Ht.key),_r());let Te,Ke;return V.persistence.runTransaction("Locally write mutations","readwrite",wt=>{let Ht=as(),un=_r();return V.cs.getEntries(wt,oe).next(nn=>{Ht=nn,Ht.forEach((Kn,ar)=>{ar.isValidDocument()||(un=un.add(Kn))})}).next(()=>V.localDocuments.getOverlayedDocuments(wt,Ht)).next(nn=>{Te=nn;const Kn=[];for(const ar of R){const Qn=hi(ar,Te.get(ar.key).overlayedDocument);null!=Qn&&Kn.push(new Ur(ar.key,Qn,tt(Qn.value.mapValue),Y.exists(!0)))}return V.mutationQueue.addMutationBatch(wt,K,Kn,R)}).next(nn=>{Ke=nn;const Kn=nn.applyToLocalDocumentSet(Te,un);return V.documentOverlayCache.saveOverlays(wt,nn.batchId,Kn)})}).then(()=>({batchId:Ke.batchId,changes:Ea(Te)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,R,V){let K=b.Ba[b.currentUser.toKey()];K||(K=new Zr(Jt)),K=K.insert(R,V),b.Ba[b.currentUser.toKey()]=K}(a,h.batchId,r),yield Ec(a,h.changes),yield Yd(a.remoteStore)}catch(h){const y=cu(h,"Failed to persist write");r.reject(y)}})).apply(this,arguments)}function yc(d,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,o.A)(function*(d,e){const r=ct(d);try{const a=yield function wg(d,e){const r=ct(d),a=e.snapshotVersion;let h=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const b=r.cs.newChangeBuffer({trackRemovals:!0});h=r.os;const R=[];e.targetChanges.forEach((oe,Te)=>{const Ke=h.get(Te);if(!Ke)return;R.push(r.Ur.removeMatchingKeys(y,oe.removedDocuments,Te).next(()=>r.Ur.addMatchingKeys(y,oe.addedDocuments,Te)));let wt=Ke.withSequenceNumber(y.currentSequenceNumber);var un,nn,Kn;null!==e.targetMismatches.get(Te)?wt=wt.withResumeToken(xr.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):oe.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(oe.resumeToken,a)),h=h.insert(Te,wt),nn=wt,Kn=oe,(0===(un=Ke).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-un.snapshotVersion.toMicroseconds()>=3e8||Kn.addedDocuments.size+Kn.modifiedDocuments.size+Kn.removedDocuments.size>0)&&R.push(r.Ur.updateTargetData(y,wt))});let V=as(),K=_r();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&R.push(r.persistence.referenceDelegate.updateLimboDocument(y,oe))}),R.push(Jh(y,b,e.documentUpdates).next(oe=>{V=oe.Ps,K=oe.Is})),!a.isEqual(Bt.min())){const oe=r.Ur.getLastRemoteSnapshotVersion(y).next(Te=>r.Ur.setTargetsMetadata(y,y.currentSequenceNumber,a));R.push(oe)}return ot.waitFor(R).next(()=>b.apply(y)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,V,K)).next(()=>V)}).then(y=>(r.os=h,y))}(r.localStore,e);e.targetChanges.forEach((h,y)=>{const b=r.Na.get(y);b&&(Pt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?Pt(b.va):h.removedDocuments.size>0&&(Pt(b.va),b.va=!1))}),yield Ec(r,a,e)}catch(a){yield Gn(a)}})).apply(this,arguments)}function cf(d,e,r){const a=ct(d);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const h=[];a.Fa.forEach((y,b)=>{const R=b.view.Z_(e);R.snapshot&&h.push(R.snapshot)}),function(b,R){const V=ct(b);V.onlineState=R;let K=!1;V.queries.forEach((oe,Te)=>{for(const Ke of Te.j_)Ke.Z_(R)&&(K=!0)}),K&&Ng(V)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function d_(d,e,r){return uf.apply(this,arguments)}function uf(){return(uf=(0,o.A)(function*(d,e,r){const a=ct(d);a.sharedClientState.updateQueryState(e,"rejected",r);const h=a.Na.get(e),y=h&&h.key;if(y){let b=new Zr($t.comparator);b=b.insert(y,It.newNoDocument(y,Bt.min()));const R=_r().add(y),V=new Ns(Bt.min(),new Map,new Zr(Jt),b,R);yield yc(a,V),a.Oa=a.Oa.remove(y),a.Na.delete(e),Wg(a)}else yield tu(a.localStore,e,!1).then(()=>Wl(a,e,r)).catch(Gn)})).apply(this,arguments)}function df(d,e){return $g.apply(this,arguments)}function $g(){return($g=(0,o.A)(function*(d,e){const r=ct(d),a=e.batch.batchId;try{const h=yield function Yu(d,e){const r=ct(d);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),y=r.cs.newChangeBuffer({trackRemovals:!0});return function(R,V,K,oe){const Te=K.batch,Ke=Te.keys();let wt=ot.resolve();return Ke.forEach(Ht=>{wt=wt.next(()=>oe.getEntry(V,Ht)).next(un=>{const nn=K.docVersions.get(Ht);Pt(null!==nn),un.version.compareTo(nn)<0&&(Te.applyToRemoteDocument(un,K),un.isValidDocument()&&(un.setReadTime(K.commitVersion),oe.addEntry(un)))})}),wt.next(()=>R.mutationQueue.removeMutationBatch(V,Te))}(r,a,e,y).next(()=>y.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(R){let V=_r();for(let K=0;K<R.mutationResults.length;++K)R.mutationResults[K].transformResults.length>0&&(V=V.add(R.batch.mutations[K].key));return V}(e))).next(()=>r.localDocuments.getDocuments(a,h))})}(r.localStore,e);rh(r,a,null),hf(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield Ec(r,h)}catch(h){yield Gn(h)}})).apply(this,arguments)}function h_(d,e,r){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,o.A)(function*(d,e,r){const a=ct(d);try{const h=yield function(b,R){const V=ct(b);return V.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let oe;return V.mutationQueue.lookupMutationBatch(K,R).next(Te=>(Pt(null!==Te),oe=Te.keys(),V.mutationQueue.removeMutationBatch(K,Te))).next(()=>V.mutationQueue.performConsistencyCheck(K)).next(()=>V.documentOverlayCache.removeOverlaysForBatchId(K,oe,R)).next(()=>V.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,oe)).next(()=>V.localDocuments.getDocuments(K,oe))})}(a.localStore,e);rh(a,e,r),hf(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),yield Ec(a,h)}catch(h){yield Gn(h)}})).apply(this,arguments)}function Gg(){return(Gg=(0,o.A)(function*(d,e){const r=ct(d);ua(r.remoteStore)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const R=ct(b);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",V=>R.mutationQueue.getHighestUnacknowledgedBatchId(V))}(r.localStore);if(-1===a)return void e.resolve();const h=r.ka.get(a)||[];h.push(e),r.ka.set(a,h)}catch(a){const h=cu(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function hf(d,e){(d.ka.get(e)||[]).forEach(r=>{r.resolve()}),d.ka.delete(e)}function rh(d,e,r){const a=ct(d);let h=a.Ba[a.currentUser.toKey()];if(h){const y=h.get(e);y&&(r?y.reject(r):y.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function Wl(d,e,r=null){d.sharedClientState.removeLocalQueryTarget(e);for(const a of d.Ma.get(e))d.Fa.delete(a),r&&d.Ca.$a(a,r);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(a=>{d.La.containsKey(a)||Kl(d,a)})}function Kl(d,e){d.xa.delete(e.path.canonicalString());const r=d.Oa.get(e);null!==r&&(mc(d.remoteStore,r),d.Oa=d.Oa.remove(e),d.Na.delete(r),Wg(d))}function vc(d,e,r){for(const a of r)a instanceof _p?(d.La.addReference(a.key,e),zg(d,a)):a instanceof yp?(Ce("SyncEngine","Document no longer in limbo: "+a.key),d.La.removeReference(a.key,e),d.La.containsKey(a.key)||Kl(d,a.key)):Ye()}function zg(d,e){const r=e.key,a=r.path.canonicalString();d.Oa.get(r)||d.xa.has(a)||(Ce("SyncEngine","New document in limbo: "+r),d.xa.add(a),Wg(d))}function Wg(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const r=new $t(on.fromString(e)),a=d.qa.next();d.Na.set(a,new Ug(r)),d.Oa=d.Oa.insert(r,a),Ju(d.remoteStore,new N(_n(Z(r.path)),a,"TargetPurposeLimboResolution",L.oe))}}function Ec(d,e,r){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,o.A)(function*(d,e,r){const a=ct(d),h=[],y=[],b=[];var R;a.Fa.isEmpty()||(a.Fa.forEach((R,V)=>{b.push(a.Ka(V,e,r).then(K=>{var oe;if((K||r)&&a.isPrimaryClient){const Te=K?!K.fromCache:null===(oe=r?.targetChanges.get(V.targetId))||void 0===oe?void 0:oe.current;a.sharedClientState.updateQueryState(V.targetId,Te?"current":"not-current")}if(K){h.push(K);const Te=Xh.Wi(V.targetId,K);y.push(Te)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(R=(0,o.A)(function*(K,oe){const Te=ct(K);try{yield Te.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ke=>ot.forEach(oe,wt=>ot.forEach(wt.$i,Ht=>Te.persistence.referenceDelegate.addReference(Ke,wt.targetId,Ht)).next(()=>ot.forEach(wt.Ui,Ht=>Te.persistence.referenceDelegate.removeReference(Ke,wt.targetId,Ht)))))}catch(Ke){if(!Ee(Ke))throw Ke;Ce("LocalStore","Failed to update sequence numbers: "+Ke)}for(const Ke of oe){const wt=Ke.targetId;if(!Ke.fromCache){const Ht=Te.os.get(wt),nn=Ht.withLastLimboFreeSnapshotVersion(Ht.snapshotVersion);Te.os=Te.os.insert(wt,nn)}}}),function V(K,oe){return R.apply(this,arguments)})(a.localStore,y))}),Kg.apply(this,arguments)}function ff(d,e){return qg.apply(this,arguments)}function qg(){return(qg=(0,o.A)(function*(d,e){const r=ct(d);if(!r.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const a=yield ml(r.localStore,e);r.currentUser=e,(y=r).ka.forEach(R=>{R.forEach(V=>{V.reject(new st(Oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ka.clear(),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Ec(r,a.hs)}var y})).apply(this,arguments)}function ih(d,e){const r=ct(d),a=r.Na.get(e);if(a&&a.va)return _r().add(a.key);{let h=_r();const y=r.Ma.get(e);if(!y)return h;for(const b of y){const R=r.Fa.get(b);h=h.unionWith(R.view.Va)}return h}}function Ip(d,e){return sh.apply(this,arguments)}function sh(){return(sh=(0,o.A)(function*(d,e){const r=ct(d),a=yield Ha(r.localStore,e.query,!0),h=e.view.ba(a);return r.isPrimaryClient&&vc(r,e.targetId,h.wa),h})).apply(this,arguments)}function Cp(d,e){return wp.apply(this,arguments)}function wp(){return(wp=(0,o.A)(function*(d,e){const r=ct(d);return yl(r.localStore,e).then(a=>Ec(r,a))})).apply(this,arguments)}function od(d,e,r,a){return bc.apply(this,arguments)}function bc(){return(bc=(0,o.A)(function*(d,e,r,a){const h=ct(d),y=yield function(R,V){const K=ct(R),oe=ct(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",Te=>oe.Mn(Te,V).next(Ke=>Ke?K.localDocuments.getDocuments(Te,Ke):ot.resolve(null)))}(h.localStore,e);var V;null!==y?("pending"===r?yield Yd(h.remoteStore):"acknowledged"===r||"rejected"===r?(rh(h,e,a||null),hf(h,e),V=e,ct(ct(h.localStore).mutationQueue).On(V)):Ye(),yield Ec(h,y)):Ce("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function ql(){return(ql=(0,o.A)(function*(d,e){const r=ct(d);if(Ap(r),Dp(r),!0===e&&!0!==r.Qa){const a=r.sharedClientState.getAllActiveQueryTargets(),h=yield p_(r,a.toArray());r.Qa=!0,yield rf(r.remoteStore,!0);for(const y of h)Ju(r.remoteStore,y)}else if(!1===e&&!1!==r.Qa){const a=[];let h=Promise.resolve();r.Ma.forEach((y,b)=>{r.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(Wl(r,b),tu(r.localStore,b,!0))),mc(r.remoteStore,b)}),yield h,yield p_(r,a),function(b){const R=ct(b);R.Na.forEach((V,K)=>{mc(R.remoteStore,K)}),R.La.pr(),R.Na=new Map,R.Oa=new Zr($t.comparator)}(r),r.Qa=!1,yield rf(r.remoteStore,!1)}})).apply(this,arguments)}function p_(d,e,r){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,o.A)(function*(d,e,r){const a=ct(d),h=[],y=[];for(const b of e){let R;const V=a.Ma.get(b);if(V&&0!==V.length){R=yield _l(a.localStore,_n(V[0]));for(const K of V){const oe=a.Fa.get(K),Te=yield Ip(a,oe);Te.snapshot&&y.push(Te.snapshot)}}else{const K=yield jd(a.localStore,b);R=yield _l(a.localStore,K),yield Bg(a,g_(K),b,!1,R.resumeToken)}h.push(R)}return a.Ca.d_(y),h})).apply(this,arguments)}function g_(d){return W(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function Tc(d){return r=ct(d).localStore,ct(ct(r).persistence).Qi();var r}function oh(d,e,r,a){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,o.A)(function*(d,e,r,a){const h=ct(d);if(h.Qa)return void Ce("SyncEngine","Ignoring unexpected query state notification.");const y=h.Ma.get(e);if(y&&y.length>0)switch(r){case"current":case"not-current":{const b=yield yl(h.localStore,Gc(y[0])),R=Ns.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,xr.EMPTY_BYTE_STRING);yield Ec(h,b,R);break}case"rejected":yield tu(h.localStore,e,!0),Wl(h,e,a);break;default:Ye()}})).apply(this,arguments)}function Dy(d,e,r){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,o.A)(function*(d,e,r){const a=Ap(d);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){Ce("SyncEngine","Adding an already active target "+h);continue}const y=yield jd(a.localStore,h),b=yield _l(a.localStore,y);yield Bg(a,g_(y),b.targetId,!1,b.resumeToken),Ju(a.remoteStore,b)}for(const h of r)a.Ma.has(h)&&(yield tu(a.localStore,h,!1).then(()=>{mc(a.remoteStore,h),Wl(a,h)}).catch(Gn))}})).apply(this,arguments)}function Ap(d){const e=ct(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=yc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ih.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d_.bind(null,e),e.Ca.d_=du.bind(null,e.eventManager),e.Ca.$a=mp.bind(null,e.eventManager),e}function Dp(d){const e=ct(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=df.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h_.bind(null,e),e}let Yl=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var a=this;return(0,o.A)(function*(){a.serializer=gc(r.databaseInfo.databaseId),a.sharedClientState=a.Wa(r),a.persistence=a.Ga(r),yield a.persistence.start(),a.localStore=a.za(r),a.gcScheduler=a.ja(r,a.localStore),a.indexBackfillerScheduler=a.Ha(r,a.localStore)})()}ja(r,a){return null}Ha(r,a){return null}za(r){return qu(this.persistence,new Cg,r.initialUser,this.serializer)}Ga(r){return new qh(Fd.Zr,this.serializer)}Wa(r){return new S}terminate(){var r=this;return(0,o.A)(function*(){var a,h;null===(a=r.gcScheduler)||void 0===a||a.stop(),null===(h=r.indexBackfillerScheduler)||void 0===h||h.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class Jg extends Yl{constructor(e,r,a){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e),yield a.Ja.initialize(a,e),yield Dp(a.Ja.syncEngine),yield Yd(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return qu(this.persistence,new Cg,e.initialUser,this.serializer)}ja(e,r){return new pl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const a=new M(r,this.persistence);return new $(e.asyncQueue,a)}Ga(e){const r=Vd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Vs.withCacheSize(this.cacheSizeBytes):Vs.DEFAULT;return new Ld(this.synchronizeTabs,r,e.clientId,a,e.asyncQueue,Oo(),la(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class pf extends Jg{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof v&&(a.sharedClientState.syncEngine={no:od.bind(null,h),ro:oh.bind(null,h),io:Dy.bind(null,h),Qi:Tc.bind(null,h),eo:Cp.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var y=(0,o.A)(function*(b){yield function tE(d,e){return ql.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return y.apply(this,arguments)}}())})()}Wa(e){const r=Oo();if(!v.D(r))throw new st(Oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Vd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(r,e.asyncQueue,a,e.clientId,e.initialUser)}}let ad=(()=>{class d{initialize(r,a){var h=this;return(0,o.A)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=y=>cf(h.syncEngine,y,1),h.remoteStore.remoteSyncer.handleCredentialChange=ff.bind(null,h.syncEngine),yield rf(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new o_}createDatastore(r){const a=gc(r.databaseInfo.databaseId),h=new ti(r.databaseInfo);return new Dg(r.authCredentials,r.appCheckCredentials,h,a)}createRemoteStore(r){return h=this.localStore,y=this.datastore,b=r.asyncQueue,R=a=>cf(this.syncEngine,a,0),V=he.D()?new he:new X,new op(h,y,b,R,V);var h,y,b,R,V}createSyncEngine(r,a){return function(y,b,R,V,K,oe,Te){const Ke=new rd(y,b,R,V,K,oe);return Te&&(Ke.Qa=!0),Ke}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){var r=this;return(0,o.A)(function*(){var a,h,y;yield(y=(0,o.A)(function*(R){const V=ct(R);Ce("RemoteStore","RemoteStore shutting down."),V.L_.add(5),yield su(V),V.k_.shutdown(),V.q_.set("Unknown")}),function b(R){return y.apply(this,arguments)})(r.remoteStore),null===(a=r.datastore)||void 0===a||a.terminate(),null===(h=r.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function ci(d,e=10240){let r=0;return{read:()=>(0,o.A)(function*(){if(r<d.byteLength){const a={value:d.slice(r,r+e),done:!1};return r+=e,a}return{done:!0}})(),cancel:()=>(0,o.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class za{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class gf{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new tn,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,o.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,o.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,o.A)(function*(){const r=yield e.nu();if(null===r)return null;const a=e.eu.decode(r),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const y=yield e.iu(h);return new Lg(JSON.parse(y),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,o.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),a})()}iu(e){var r=this;return(0,o.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const a=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,o.A)(function*(){const r=yield e.Xa.read();if(!r.done){const a=new Uint8Array(e.buffer.length+r.value.length);a.set(e.buffer),a.set(r.value,e.buffer.length),e.buffer=a}return r.done})()}}class m_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,o.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new st(Oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const a=yield(h=(0,o.A)(function*(b,R){const V=ct(b),K={documents:R.map(wt=>Pr(V.serializer,wt))},oe=yield V.Lo("BatchGetDocuments",V.serializer.databaseId,on.emptyPath(),K,R.length),Te=new Map;oe.forEach(wt=>{const Ht=function Nu(d,e){return"found"in e?function(a,h){Pt(!!h.found);const y=Ko(a,h.found.name),b=Dn(h.found.updateTime),R=h.found.createTime?Dn(h.found.createTime):Bt.min(),V=new Le({mapValue:{fields:h.found.fields}});return It.newFoundDocument(y,b,R,V)}(d,e):"missing"in e?function(a,h){Pt(!!h.missing),Pt(!!h.readTime);const y=Ko(a,h.missing),b=Dn(h.readTime);return It.newNoDocument(y,b)}(d,e):Ye()}(V.serializer,wt);Te.set(Ht.key.toString(),Ht)});const Ke=[];return R.forEach(wt=>{const Ht=Te.get(wt.toString());Pt(!!Ht),Ke.push(Ht)}),Ke}),function y(b,R){return h.apply(this,arguments)})(r.datastore,e);var h;return a.forEach(h=>r.recordVersion(h)),a})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new ls(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,o.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var a;e.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,h)=>{const y=$t.fromPath(h);e.mutations.push(new Go(y,e.precondition(y)))}),yield(a=(0,o.A)(function*(y,b){const R=ct(y),V={writes:b.map(K=>Xc(R.serializer,K))};yield R.Mo("Commit",R.serializer.databaseId,on.emptyPath(),V)}),function h(y,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Ye();r=Bt.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!r.isEqual(a))throw new st(Oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Bt.min())?Y.exists(!1):Y.updateTime(r):Y.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Bt.min()))throw new st(Oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y.updateTime(r)}return Y.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class __{constructor(e,r,a,h,y){this.asyncQueue=e,this.datastore=r,this.options=a,this.updateFunction=h,this.deferred=y,this._u=a.maxAttempts,this.t_=new zd(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,o.A)(function*(){const r=new m_(e.datastore),a=e.cu(r);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(y=>{e.lu(y)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!ie(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!xl(r)}return!1}}class Zg{constructor(e,r,a,h,y){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=h,this.user=Ze.UNAUTHENTICATED,this.clientId=Vn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=y,this.authCredentials.start(a,function(){var R=(0,o.A)(function*(V){Ce("FirestoreClient","Received user=",V.uid),yield b.authCredentialListener(V),b.user=V});return function(V){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(a,R=>(Ce("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(a){const h=cu(a,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function y_(d,e){return v_.apply(this,arguments)}function v_(){return v_=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const r=d.configuration;yield e.initialize(r);let a=r.initialUser;d.setCredentialChangeListener(function(){var h=(0,o.A)(function*(y){a.isEqual(y)||(yield ml(e.localStore,y),a=y)});return function(y){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),v_.apply(this,arguments)}function Ry(d,e){return mf.apply(this,arguments)}function mf(){return(mf=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const r=yield _f(d);Ce("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,d.configuration),d.setCredentialChangeListener(a=>xg(e.remoteStore,a)),d.setAppCheckTokenChangeListener((a,h)=>xg(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function _f(d){return E_.apply(this,arguments)}function E_(){return(E_=(0,o.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{yield y_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Oe.FAILED_PRECONDITION||h.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;pn("Error using user provided cache. Falling back to memory cache: "+e),yield y_(d,new Yl)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),yield y_(d,new Yl);var h;return d._offlineComponents})).apply(this,arguments)}function em(d){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,o.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ry(d,d._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),yield Ry(d,new ad))),d._onlineComponents})).apply(this,arguments)}function b_(d){return _f(d).then(e=>e.persistence)}function ah(d){return _f(d).then(e=>e.localStore)}function T_(d){return em(d).then(e=>e.remoteStore)}function tm(d){return em(d).then(e=>e.syncEngine)}function Ic(d){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,o.A)(function*(d){const e=yield em(d),r=e.eventManager;return r.onListen=id.bind(null,e.syncEngine),r.onUnlisten=u_.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=c_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=jg.bind(null,e.syncEngine),r})).apply(this,arguments)}function im(d,e,r={}){const a=new tn;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(y,b,R,V,K){const oe=new za({next:Ke=>{oe.Za(),b.enqueueAndForget(()=>eh(y,Te));const wt=Ke.docs.has(R);!wt&&Ke.fromCache?K.reject(new st(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):wt&&Ke.fromCache&&V&&"server"===V.source?K.reject(new st(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Ke)},error:Ke=>K.reject(Ke)}),Te=new Fg(Z(R.path),oe,{includeMetadataChanges:!0,_a:!0});return pp(y,Te)}(yield Ic(d),d.asyncQueue,e,r,a)})),a.promise}function Mp(d,e,r={}){const a=new tn;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(y,b,R,V,K){const oe=new za({next:Ke=>{oe.Za(),b.enqueueAndForget(()=>eh(y,Te)),Ke.fromCache&&"server"===V.source?K.reject(new st(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Ke)},error:Ke=>K.reject(Ke)}),Te=new Fg(R,oe,{includeMetadataChanges:!0,_a:!0});return pp(y,Te)}(yield Ic(d),d.asyncQueue,e,r,a)})),a.promise}function Ly(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const cd=new Map;function hu(d,e,r){if(!r)throw new st(Oe.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function sm(d,e,r,a){if(!0===e&&!0===a)throw new st(Oe.INVALID_ARGUMENT,`${d} and ${r} cannot be used together.`)}function om(d){if(!$t.isDocumentKey(d))throw new st(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function xp(d){if($t.isDocumentKey(d))throw new st(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function lh(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(a=d).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof d?"a function":Ye()}function fi(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new st(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=lh(d);throw new st(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return d}function am(d,e){if(e<=0)throw new st(Oe.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class lm{constructor(e){var r,a;if(void 0===e.host){if(void 0!==e.ssl)throw new st(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ly(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new st(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new st(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new st(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fu{constructor(e,r,a,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lm(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new Pe;switch(a.type){case"firstParty":return new rt(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,o.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=cd.get(r);a&&(Ce("ComponentProvider","Removing Datastore"),cd.delete(r),a.terminate())}(this),Promise.resolve()}}function Vy(d,e,r,a={}){var h;const y=(d=fi(d,fu))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==y.host&&y.host!==b&&pn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},y),{host:b,ssl:!1})),a.mockUserToken){let R,V;if("string"==typeof a.mockUserToken)R=a.mockUserToken,V=Ze.MOCK_USER;else{R=(0,ye.Fy)(a.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const K=a.mockUserToken.sub||a.mockUserToken.user_id;if(!K)throw new st(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new Ze(K)}d._authCredentials=new Ie(new We(R,V))}}class qs{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class Bs{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bs(this.firestore,e,this._key)}}class Wa extends qs{constructor(e,r,a){super(e,r,Z(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bs(this.firestore,null,new $t(e))}withConverter(e){return new Wa(this.firestore,e,this._path)}}function w_(d,e,...r){if(d=(0,ye.Ku)(d),hu("collection","path",e),d instanceof fu){const a=on.fromString(e,...r);return xp(a),new Wa(d,null,a)}{if(!(d instanceof Bs||d instanceof Wa))throw new st(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(on.fromString(e,...r));return xp(a),new Wa(d.firestore,null,a)}}function A_(d,e){if(d=fi(d,fu),hu("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new st(Oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qs(d,null,(a=e,new Do(on.emptyPath(),a)));var a}function pu(d,e,...r){if(d=(0,ye.Ku)(d),1===arguments.length&&(e=Vn.newId()),hu("doc","path",e),d instanceof fu){const a=on.fromString(e,...r);return om(a),new Bs(d,null,new $t(a))}{if(!(d instanceof Bs||d instanceof Wa))throw new st(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(on.fromString(e,...r));return om(a),new Bs(d.firestore,d instanceof Wa?d.converter:null,new $t(a))}}function Uy(d,e){return d=(0,ye.Ku)(d),e=(0,ye.Ku)(e),(d instanceof Bs||d instanceof Wa)&&(e instanceof Bs||e instanceof Wa)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function yf(d,e){return d=(0,ye.Ku)(d),e=(0,ye.Ku)(e),d instanceof qs&&e instanceof qs&&d.firestore===e.firestore&&mo(d._query,e._query)&&d.converter===e.converter}class vf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zd(this,"async_queue_retry"),this.Vu=()=>{const a=la();a&&Ce("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const r=la();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=la();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new tn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,o.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!Ee(r))throw r;Ce("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,qt("INTERNAL UNHANDLED ERROR: ",function(b){let R=b.message||"";return b.stack&&(R=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),R}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=r,r}enqueueAfterDelay(e,r,a){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const h=sf.createAndSchedule(this,e,r,a,y=>this.yu(y));return this.Tu.push(h),h}fu(){this.Eu&&Ye()}verifyOperationInProgress(){}wu(){var e=this;return(0,o.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function cm(d){return function(r,a){if("object"!=typeof r||null===r)return!1;const h=r;for(const y of["next","error","complete"])if(y in h&&"function"==typeof h[y])return!0;return!1}(d)}class um{constructor(){this._progressObserver={},this._taskCompletionResolver=new tn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,a){this._progressObserver={next:e,error:r,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const ud=-1;class Xr extends fu{constructor(e,r,a,h){super(e,r,a,h),this.type="firestore",this._queue=new vf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,o.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new vf(r),e._firestoreClient=void 0,yield r}})()}}function ch(d,e){const r="object"==typeof d?d:(0,de.getApp)(),a="string"==typeof d?d:e||"(default)",h=(0,de._getProvider)(r,"firestore").getImmediate({identifier:a});if(!h._initialized){const y=(0,ye.yU)("firestore");y&&Vy(h,...y)}return h}function Ji(d){if(d._terminated)throw new st(Oe.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||Ef(d),d._firestoreClient}function Ef(d){var e,r,a;const h=d._freezeSettings(),y=(V=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new Dr(d._databaseId,V,d._persistenceKey,(oe=h).host,oe.ssl,oe.experimentalForceLongPolling,oe.experimentalAutoDetectLongPolling,Ly(oe.experimentalLongPollingOptions),oe.useFetchStreams));var V,oe;d._componentsProvider||!(null===(r=h.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new Zg(d._authCredentials,d._appCheckCredentials,d._queue,y,d._componentsProvider&&function(R){const V=R?._online.build();return{_offline:R?._offline.build(V),_online:V}}(d._componentsProvider))}function D_(d,e){pn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=d._freezeSettings();return S_(d,ad.provider,{build:a=>new Jg(a,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function uh(d){return Op.apply(this,arguments)}function Op(){return(Op=(0,o.A)(function*(d){pn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();S_(d,ad.provider,{build:r=>new pf(r,e.cacheSizeBytes)})})).apply(this,arguments)}function S_(d,e,r){if((d=fi(d,Xr))._firestoreClient||d._terminated)throw new st(Oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new st(Oe.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:r},Ef(d)}function By(d){if(d._initialized&&!d._terminated)throw new st(Oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new tn;return d._queue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{yield(r=(0,o.A)(function*(h){if(!ue.D())return Promise.resolve();const y=h+"main";yield ue.delete(y)}),function a(h){return r.apply(this,arguments)})(Vd(d._databaseId,d._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function dm(d){return function(r){const a=new tn;return r.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function f_(d,e){return Gg.apply(this,arguments)}(yield tm(r),a)})),a.promise}(Ji(d=fi(d,Xr)))}function R_(d){return function rm(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield b_(d),r=yield T_(d);return e.setNetworkEnabled(!0),function(h){const y=ct(h);return y.L_.delete(0),iu(y)}(r)}))}(Ji(d=fi(d,Xr)))}function jy(d){return function Py(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield b_(d),r=yield T_(d);return e.setNetworkEnabled(!1),(a=(0,o.A)(function*(y){const b=ct(y);b.L_.add(0),yield su(b),b.q_.set("Offline")}),function h(y){return a.apply(this,arguments)})(r);var a}))}(Ji(d=fi(d,Xr)))}function hm(d,e){const r=Ji(d=fi(d,Xr)),a=new um;return function Oy(d,e,r,a){const h=function(b,R){let V;return V="string"==typeof b?Wc().encode(b):b,oe=function(oe,Te){if(oe instanceof Uint8Array)return ci(oe,void 0);if(oe instanceof ArrayBuffer)return ci(new Uint8Array(oe),void 0);if(oe instanceof ReadableStream)return oe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(V),new gf(oe,R);var oe}(r,gc(e));d.asyncQueue.enqueueAndForget((0,o.A)(function*(){!function Sp(d,e,r){const a=ct(d);var h;(h=(0,o.A)(function*(b,R,V){try{const K=yield R.getMetadata();if(yield function(Ht,un){const nn=ct(Ht),Kn=Dn(un.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",ar=>nn.Gr.getBundleMetadata(ar,un.id)).then(ar=>!!ar&&ar.createTime.compareTo(Kn)>=0)}(b.localStore,K))return yield R.close(),V._completeWith({taskState:"Success",documentsLoaded:(Ht=K).totalDocuments,bytesLoaded:Ht.totalBytes,totalDocuments:Ht.totalDocuments,totalBytes:Ht.totalBytes}),Promise.resolve(new Set);V._updateProgress(nd(K));const oe=new wy(K,b.localStore,R.serializer);let Te=yield R.Ua();for(;Te;){const wt=yield oe.la(Te);wt&&V._updateProgress(wt),Te=yield R.Ua()}const Ke=yield oe.complete();return yield Ec(b,Ke.Ia,void 0),yield function(Ht,un){const nn=ct(Ht);return nn.persistence.runTransaction("Save bundle","readwrite",Kn=>nn.Gr.saveBundleMetadata(Kn,un))}(b.localStore,K),V._completeWith(Ke.progress),Promise.resolve(Ke.Pa)}catch(K){return pn("SyncEngine",`Loading bundle failed with ${K}`),V._failWith(K),Promise.resolve(new Set)}var Ht}),function y(b,R,V){return h.apply(this,arguments)})(a,e,r).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield tm(d),h,a)}))}(r,d._databaseId,e,a),a}function nE(d,e){return function Ny(d,e){return d.asyncQueue.enqueue((0,o.A)(function*(){return function(a,h){const y=ct(a);return y.persistence.runTransaction("Get named query","readonly",b=>y.Gr.getNamedQuery(b,h))}(yield ah(d),e)}))}(Ji(d=fi(d,Xr)),e).then(r=>r?new qs(d,null,r.query):null)}class mu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mu(xr.fromBase64String(e))}catch(r){throw new st(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new mu(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dd{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new st(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xl{constructor(e){this._methodName=e}}class Np{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new st(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new st(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}class dh{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let y=0;y<a.length;++y)if(a[y]!==h[y])return!1;return!0}(this._values,e._values)}}const fm=/^__.*__$/;class hh{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return null!==this.fieldMask?new Ur(e,this.data,this.fieldMask,r,this.fieldTransforms):new er(e,this.data,r,this.fieldTransforms)}}class Tf{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new Ur(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function bl(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class ps{constructor(e,r,a,h,y,b){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===y&&this.vu(),this.fieldTransforms=y||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ps(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return wf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(bl(this.Cu)&&fm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Cc{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||gc(e)}Qu(e,r,a,h=!1){return new ps({Cu:e,methodName:r,qu:a,path:Yn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function da(d){const e=d._freezeSettings(),r=gc(d._databaseId);return new Cc(d._databaseId,!!e.ignoreUndefinedProperties,r)}function If(d,e,r,a,h,y={}){const b=d.Qu(y.merge||y.mergeFields?2:0,e,r,h);x_("Data must be an object, but it was:",b,a);const R=gm(a,b);let V,K;if(y.merge)V=new gi(b.fieldMask),K=b.fieldTransforms;else if(y.mergeFields){const oe=[];for(const Te of y.mergeFields){const Ke=mm(e,Te,r);if(!b.contains(Ke))throw new st(Oe.INVALID_ARGUMENT,`Field '${Ke}' is specified in your field mask but missing from your input data.`);Wy(oe,Ke)||oe.push(Ke)}V=new gi(oe),K=b.fieldTransforms.filter(Te=>V.covers(Te.field))}else V=null,K=b.fieldTransforms;return new hh(new Le(R),V,K)}class hd extends Xl{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hd}}function fd(d,e,r){return new ps({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class P_ extends Xl{_toFieldTransform(e){return new P(e.path,new nl)}isEqual(e){return e instanceof P_}}class Cf extends Xl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=fd(this,e,!0),a=this.Ku.map(y=>_u(y,r)),h=new So(a);return new P(e.path,h)}isEqual(e){return e instanceof Cf&&(0,ye.bD)(this.Ku,e.Ku)}}class pd extends Xl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=fd(this,e,!0),a=this.Ku.map(y=>_u(y,r)),h=new La(a);return new P(e.path,h)}isEqual(e){return e instanceof pd&&(0,ye.bD)(this.Ku,e.Ku)}}class pm extends Xl{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new Ta(e.serializer,Du(e.serializer,this.$u));return new P(e.path,r)}isEqual(e){return e instanceof pm&&this.$u===e.$u}}function kp(d,e,r,a){const h=d.Qu(1,e,r);x_("Data must be an object, but it was:",h,a);const y=[],b=Le.empty();di(a,(V,K)=>{const oe=fh(e,V,r);K=(0,ye.Ku)(K);const Te=h.Nu(oe);if(K instanceof hd)y.push(oe);else{const Ke=_u(K,Te);null!=Ke&&(y.push(oe),b.set(oe,Ke))}});const R=new gi(y);return new Tf(b,R,h.fieldTransforms)}function M_(d,e,r,a,h,y){const b=d.Qu(1,e,r),R=[mm(e,a,r)],V=[h];if(y.length%2!=0)throw new st(Oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ke=0;Ke<y.length;Ke+=2)R.push(mm(e,y[Ke])),V.push(y[Ke+1]);const K=[],oe=Le.empty();for(let Ke=R.length-1;Ke>=0;--Ke)if(!Wy(K,R[Ke])){const wt=R[Ke];let Ht=V[Ke];Ht=(0,ye.Ku)(Ht);const un=b.Nu(wt);if(Ht instanceof hd)K.push(wt);else{const nn=_u(Ht,un);null!=nn&&(K.push(wt),oe.set(wt,nn))}}const Te=new gi(K);return new Tf(oe,Te,b.fieldTransforms)}function Gy(d,e,r,a=!1){return _u(r,d.Qu(a?4:3,e))}function _u(d,e){if(zy(d=(0,ye.Ku)(d)))return x_("Unsupported field value:",e,d),gm(d,e);if(d instanceof Xl)return function(a,h){if(!bl(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const y=a._toFieldTransform(h);y&&h.fieldTransforms.push(y)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const y=[];let b=0;for(const R of a){let V=_u(R,h.Lu(b));null==V&&(V={nullValue:"NULL_VALUE"}),y.push(V),b++}return{arrayValue:{values:y}}}(d,e)}return function(a,h){if(null===(a=(0,ye.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Du(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const y=Gt.fromDate(a);return{timestampValue:ia(h.serializer,y)}}if(a instanceof Gt){const y=new Gt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ia(h.serializer,y)}}if(a instanceof Np)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof mu)return{bytesValue:Ro(h.serializer,a._byteString)};if(a instanceof Bs){const y=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(y))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:Ua(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof dh)return R=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(V=>{if("number"!=typeof V)throw R.Bu("VectorValues must only contain numeric values.");return Ho(R.serializer,V)})}}}}};var R;throw h.Bu(`Unsupported field value: ${lh(a)}`)}(d,e)}function gm(d,e){const r={};return bs(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(d,(a,h)=>{const y=_u(h,e.Mu(a));null!=y&&(r[a]=y)}),{mapValue:{fields:r}}}function zy(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Gt||d instanceof Np||d instanceof mu||d instanceof Bs||d instanceof Xl||d instanceof dh)}function x_(d,e,r){if(!zy(r)||"object"!=typeof(h=r)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=lh(r);throw e.Bu("an object"===a?d+" a custom object":d+" "+a)}var h}function mm(d,e,r){if((e=(0,ye.Ku)(e))instanceof dd)return e._internalPath;if("string"==typeof e)return fh(d,e);throw wf("Field path arguments must be of type string or ",d,!1,void 0,r)}const rE=new RegExp("[~\\*/\\[\\]]");function fh(d,e,r){if(e.search(rE)>=0)throw wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,r);try{return new dd(...e.split("."))._internalPath}catch{throw wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,r)}}function wf(d,e,r,a,h){const y=a&&!a.isEmpty(),b=void 0!==h;let R=`Function ${e}() called with invalid data`;r&&(R+=" (via `toFirestore()`)"),R+=". ";let V="";return(y||b)&&(V+=" (found",y&&(V+=` in field ${a}`),b&&(V+=` in document ${h}`),V+=")"),new st(Oe.INVALID_ARGUMENT,R+d+V)}function Wy(d,e){return d.some(r=>r.isEqual(e))}class Af{constructor(e,r,a,h,y){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=h,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Bs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(wc("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Fp extends Af{data(){return super.data()}}function wc(d,e){return"string"==typeof e?fh(d,e):e instanceof dd?e._internalPath:e._delegate._internalPath}function Lp(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new st(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _m{}class gd extends _m{}function O_(d,e,...r){let a=[];e instanceof _m&&a.push(e),a=a.concat(r),function(y){const b=y.filter(V=>V instanceof Ac).length,R=y.filter(V=>V instanceof Vp).length;if(b>1||b>0&&R>0)throw new st(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)d=h._apply(d);return d}class Vp extends gd{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new Vp(e,r,a)}_apply(e){const r=this._parse(e);return F_(e._query,r),new qs(e.firestore,e.converter,Xs(e._query,r))}_parse(e){const r=da(e.firestore);return function(y,b,R,V,K,oe,Te){let Ke;if(K.isKeyField()){if("array-contains"===oe||"array-contains-any"===oe)throw new st(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${oe}' queries on documentId().`);if("in"===oe||"not-in"===oe){Xy(Te,oe);const wt=[];for(const Ht of Te)wt.push(Yy(V,y,Ht));Ke={arrayValue:{values:wt}}}else Ke=Yy(V,y,Te)}else"in"!==oe&&"not-in"!==oe&&"array-contains-any"!==oe||Xy(Te,oe),Ke=Gy(R,"where",Te,"in"===oe||"not-in"===oe);return kn.create(K,oe,Ke)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function iE(d,e,r){const a=e,h=wc("where",d);return Vp._create(h,a,r)}class Ac extends _m{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Ac(e,r)}_parse(e){const r=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===r.length?r[0]:tr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(h,y){let b=h;const R=y.getFlattenedFilters();for(const V of R)F_(b,V),b=Xs(b,V)}(e._query,r),new qs(e.firestore,e.converter,Xs(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ph extends gd{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new ph(e,r)}_apply(e){const r=function(h,y,b){if(null!==h.startAt)throw new st(Oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new st(Oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jn(y,b)}(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,function(h,y){const b=h.explicitOrderBy.concat([y]);return new Do(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,r))}}function oE(d,e="asc"){const r=e,a=wc("orderBy",d);return ph._create(a,r)}class Bp extends gd{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new Bp(e,r,a)}_apply(e){return new qs(e.firestore,e.converter,ss(e._query,this._limit,this._limitType))}}function aE(d){return am("limit",d),Bp._create("limit",d,"F")}function lE(d){return am("limitToLast",d),Bp._create("limitToLast",d,"L")}class ym extends gd{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new ym(e,r,a)}_apply(e){const r=k_(e,this.type,this._docOrFields,this._inclusive);return new qs(e.firestore,e.converter,(y=r,new Do((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,y,h.endAt)));var h,y}}function Ky(...d){return ym._create("startAt",d,!0)}function qy(...d){return ym._create("startAfter",d,!1)}class Df extends gd{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new Df(e,r,a)}_apply(e){const r=k_(e,this.type,this._docOrFields,this._inclusive);return new qs(e.firestore,e.converter,(y=r,new Do((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,y)));var h,y}}function w0(...d){return Df._create("endBefore",d,!1)}function N_(...d){return Df._create("endAt",d,!0)}function k_(d,e,r,a){if(r[0]=(0,ye.Ku)(r[0]),r[0]instanceof Af)return function(y,b,R,V,K){if(!V)throw new st(Oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const oe=[];for(const Te of He(y))if(Te.field.isKeyField())oe.push(cr(b,V.key));else{const Ke=V.data.field(Te.field);if(ts(Ke))throw new st(Oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ke){const wt=Te.field.canonicalString();throw new st(Oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${wt}' (used as the orderBy) does not exist.`)}oe.push(Ke)}return new Kt(oe,K)}(d._query,d.firestore._databaseId,e,r[0]._document,a);{const h=da(d.firestore);return function(b,R,V,K,oe,Te){const Ke=b.explicitOrderBy;if(oe.length>Ke.length)throw new st(Oe.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const wt=[];for(let Ht=0;Ht<oe.length;Ht++){const un=oe[Ht];if(Ke[Ht].field.isKeyField()){if("string"!=typeof un)throw new st(Oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof un}`);if(!ce(b)&&-1!==un.indexOf("/"))throw new st(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${un}' contains a slash.`);const nn=b.path.child(on.fromString(un));if(!$t.isDocumentKey(nn))throw new st(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const Kn=new $t(nn);wt.push(cr(R,Kn))}else{const nn=Gy(V,K,un);wt.push(nn)}}return new Kt(wt,Te)}(d._query,d.firestore._databaseId,h,e,r,a)}}function Yy(d,e,r){if("string"==typeof(r=(0,ye.Ku)(r))){if(""===r)throw new st(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ce(e)&&-1!==r.indexOf("/"))throw new st(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(on.fromString(r));if(!$t.isDocumentKey(a))throw new st(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return cr(d,new $t(a))}if(r instanceof Bs)return cr(d,r._key);throw new st(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(r)}.`)}function Xy(d,e){if(!Array.isArray(d)||0===d.length)throw new st(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F_(d,e){const r=function(h,y){for(const b of h)for(const R of b.getFlattenedFilters())if(y.indexOf(R.op)>=0)return R.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new st(Oe.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class vm{convertValue(e,r="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return di(e,(h,y)=>{a[h]=this.convertValue(y,r)}),a}convertVectorValue(e){var r,a,h;const y=null===(h=null===(a=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>fr(b.doubleValue));return new dh(y)}convertGeoPoint(e){return new Np(fr(e.latitude),fr(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=As(e);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(ns(e));default:return null}}convertTimestamp(e){const r=Pi(e);return new Gt(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=on.fromString(e);Pt(w(a));const h=new si(a.get(1),a.get(3)),y=new $t(a.popFirst(5));return h.isEqual(r)||qt(`Document ${y} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),y}}function Em(d,e,r){let a;return a=d?r&&(r.merge||r.mergeFields)?d.toFirestore(e,r):d.toFirestore(e):e,a}class cE extends vm{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Bs(this.firestore,null,r)}}class Sf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yu extends Af{constructor(e,r,a,h,y,b){super(e,r,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Tl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(wc("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class Tl extends yu{data(e={}){return super.data(e)}}class Sc{constructor(e,r,a,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new Sf(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new Tl(this._firestore,this._userDataWriter,a.key,a,new Sf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new st(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,y){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(R=>({type:"added",doc:new Tl(h._firestore,h._userDataWriter,R.doc.key,R.doc,new Sf(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(R=>y||3!==R.type).map(R=>{const V=new Tl(h._firestore,h._userDataWriter,R.doc.key,R.doc,new Sf(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter);let K=-1,oe=-1;return 0!==R.type&&(K=b.indexOf(R.doc.key),b=b.delete(R.doc.key)),1!==R.type&&(b=b.add(R.doc),oe=b.indexOf(R.doc.key)),{type:hE(R.type),doc:V,oldIndex:K,newIndex:oe}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function hE(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}function fE(d,e){return d instanceof yu&&e instanceof yu?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Sc&&e instanceof Sc&&d._firestore===e._firestore&&yf(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function pE(d){d=fi(d,Bs);const e=fi(d.firestore,Xr);return im(Ji(e),d._key).then(r=>U_(e,d,r))}class Rc extends vm{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Bs(this.firestore,null,r)}}function Pc(d){d=fi(d,Bs);const e=fi(d.firestore,Xr),r=Ji(e),a=new Rc(e);return function ld(d,e){const r=new tn;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(y,b,R){try{const V=yield function(oe,Te){const Ke=ct(oe);return Ke.persistence.runTransaction("read document","readonly",wt=>Ke.localDocuments.getDocument(wt,Te))}(y,b);V.isFoundDocument()?R.resolve(V):V.isNoDocument()?R.resolve(null):R.reject(new st(Oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(V){const K=cu(V,`Failed to get document '${b} from cache`);R.reject(K)}}),function h(y,b,R){return a.apply(this,arguments)})(yield ah(d),e,r);var a})),r.promise}(r,d._key).then(h=>new yu(e,a,d._key,h,new Sf(null!==h&&h.hasLocalMutations,!0),d.converter))}function Zy(d){d=fi(d,Bs);const e=fi(d.firestore,Xr);return im(Ji(e),d._key,{source:"server"}).then(r=>U_(e,d,r))}function gE(d){d=fi(d,qs);const e=fi(d.firestore,Xr),r=Ji(e),a=new Rc(e);return Lp(d._query),Mp(r,d._query).then(h=>new Sc(e,a,d,h))}function A0(d){d=fi(d,qs);const e=fi(d.firestore,Xr),r=Ji(e),a=new Rc(e);return function My(d,e){const r=new tn;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(y,b,R){try{const V=yield Ha(y,b,!0),K=new Vg(b,V.Ts),oe=K.ma(V.documents),Te=K.applyChanges(oe,!1);R.resolve(Te.snapshot)}catch(V){const K=cu(V,`Failed to execute query '${b} against cache`);R.reject(K)}}),function h(y,b,R){return a.apply(this,arguments)})(yield ah(d),e,r);var a})),r.promise}(r,d._query).then(h=>new Sc(e,a,d,h))}function Eo(d){d=fi(d,qs);const e=fi(d.firestore,Xr),r=Ji(e),a=new Rc(e);return Mp(r,d._query,{source:"server"}).then(h=>new Sc(e,a,d,h))}function mE(d,e,r){d=fi(d,Bs);const a=fi(d.firestore,Xr),h=Em(d.converter,e,r);return gh(a,[If(da(a),"setDoc",d._key,h,null!==d.converter,r).toMutation(d._key,Y.none())])}function L_(d,e,r,...a){d=fi(d,Bs);const h=fi(d.firestore,Xr),y=da(h);let b;return b="string"==typeof(e=(0,ye.Ku)(e))||e instanceof dd?M_(y,"updateDoc",d._key,e,r,a):kp(y,"updateDoc",d._key,e),gh(h,[b.toMutation(d._key,Y.exists(!0))])}function _E(d){return gh(fi(d.firestore,Xr),[new ls(d._key,Y.none())])}function yE(d,e){const r=fi(d.firestore,Xr),a=pu(d),h=Em(d.converter,e);return gh(r,[If(da(d.firestore),"addDoc",a._key,h,null!==d.converter,{}).toMutation(a._key,Y.exists(!1))]).then(()=>a)}function V_(d,...e){var r,a,h;d=(0,ye.Ku)(d);let y={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||cm(e[b])||(y=e[b],b++);const R={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(cm(e[b])){const Te=e[b];e[b]=null===(r=Te.next)||void 0===r?void 0:r.bind(Te),e[b+1]=null===(a=Te.error)||void 0===a?void 0:a.bind(Te),e[b+2]=null===(h=Te.complete)||void 0===h?void 0:h.bind(Te)}let V,K,oe;if(d instanceof Bs)K=fi(d.firestore,Xr),oe=Z(d._key.path),V={next:Te=>{e[b]&&e[b](U_(K,d,Te))},error:e[b+1],complete:e[b+2]};else{const Te=fi(d,qs);K=fi(Te.firestore,Xr),oe=Te._query;const Ke=new Rc(K);V={next:wt=>{e[b]&&e[b](new Sc(K,Ke,Te,wt))},error:e[b+1],complete:e[b+2]},Lp(d._query)}return function(Ke,wt,Ht,un){const nn=new za(un),Kn=new Fg(wt,nn,Ht);return Ke.asyncQueue.enqueueAndForget((0,o.A)(function*(){return pp(yield Ic(Ke),Kn)})),()=>{nn.Za(),Ke.asyncQueue.enqueueAndForget((0,o.A)(function*(){return eh(yield Ic(Ke),Kn)}))}}(Ji(K),oe,R,V)}function ev(d,e){return function xy(d,e){const r=new za(e);return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield Ic(d),y=r,ct(h).Y_.add(y),void y.next();var h,y})),()=>{r.Za(),d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield Ic(d),y=r,void ct(h).Y_.delete(y);var h,y}))}}(Ji(d=fi(d,Xr)),cm(e)?e:{next:e})}function gh(d,e){return function(a,h){const y=new tn;return a.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function Tp(d,e,r){return nh.apply(this,arguments)}(yield tm(a),h,y)})),y.promise}(Ji(d),e)}function U_(d,e,r){const a=r.docs.get(e._key),h=new Rc(d);return new yu(d,h,e._key,a,new Sf(r.hasPendingWrites,r.fromCache),e.converter)}const Rf={maxAttempts:5};class Gp{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=da(e)}set(e,r,a){this._verifyNotCommitted();const h=Il(e,this._firestore),y=Em(h.converter,r,a),b=If(this._dataReader,"WriteBatch.set",h._key,y,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,Y.none())),this}update(e,r,a,...h){this._verifyNotCommitted();const y=Il(e,this._firestore);let b;return b="string"==typeof(r=(0,ye.Ku)(r))||r instanceof dd?M_(this._dataReader,"WriteBatch.update",y._key,r,a,h):kp(this._dataReader,"WriteBatch.update",y._key,r),this._mutations.push(b.toMutation(y._key,Y.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Il(e,this._firestore);return this._mutations=this._mutations.concat(new ls(r._key,Y.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Il(d,e){if((d=(0,ye.Ku)(d)).firestore!==e)throw new st(Oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class j_ extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=da(r)}get(r){const a=Il(r,this._firestore),h=new cE(this._firestore);return this._transaction.lookup([a._key]).then(y=>{if(!y||1!==y.length)return Ye();const b=y[0];if(b.isFoundDocument())return new Af(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new Af(this._firestore,h,a._key,null,a.converter);throw Ye()})}set(r,a,h){const y=Il(r,this._firestore),b=Em(y.converter,a,h),R=If(this._dataReader,"Transaction.set",y._key,b,null!==y.converter,h);return this._transaction.set(y._key,R),this}update(r,a,h,...y){const b=Il(r,this._firestore);let R;return R="string"==typeof(a=(0,ye.Ku)(a))||a instanceof dd?M_(this._dataReader,"Transaction.update",b._key,a,h,y):kp(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,R),this}delete(r){const a=Il(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Il(e,this._firestore),a=new Rc(this._firestore);return super.get(e).then(h=>new yu(this._firestore,a,r._key,h._document,new Sf(!1,!1),r.converter))}}function iv(d,e,r){d=fi(d,Xr);const a=Object.assign(Object.assign({},Rf),r);return function(y){if(y.maxAttempts<1)throw new st(Oe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(y,b,R){const V=new tn;return y.asyncQueue.enqueueAndForget((0,o.A)(function*(){const K=yield function nm(d){return em(d).then(e=>e.datastore)}(y);new __(y.asyncQueue,K,R,b,V).au()})),V.promise}(Ji(d),h=>e(new j_(d,h)),a)}function sv(){return new hd("deleteField")}function ov(){return new P_("serverTimestamp")}function av(...d){return new Cf("arrayUnion",d)}function $_(...d){return new pd("arrayRemove",d)}function S0(d){return new pm("increment",d)}!function(e,r=!0){Ve=de.SDK_VERSION,(0,de._registerComponent)(new s.uA("firestore",(a,{instanceIdentifier:h,options:y})=>{const b=a.getProvider("app").getImmediate(),R=new Xr(new ke(a.getProvider("auth-internal")),new wn(a.getProvider("app-check-internal")),function(K,oe){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new st(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new si(K.options.projectId,oe)}(b,h),b);return y=Object.assign({useFetchStreams:r},y),R._setSettings(y),R},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(we,"4.7.3",e),(0,de.registerVersion)(we,"4.7.3","esm2017")}()},4535:(rn,Je,F)=>{F.d(Je,{Ad:()=>Ln,D5:()=>mn,KR:()=>li,Mp:()=>Mi,Mx:()=>ii,TZ:()=>Ue,UC:()=>di,UY:()=>ir,XR:()=>rs,ZH:()=>In,_w:()=>cr,bp:()=>Ls,c7:()=>Fr,nb:()=>vi,nw:()=>bn,p_:()=>rr,qk:()=>Xi,uj:()=>qt,xc:()=>Bn,yb:()=>ei});var o=F(467),de=F(7852),s=F(1076),ve=F(1362);const ye="firebasestorage.googleapis.com",Re="storageBucket";class J extends s.g{constructor(Q,Se,Le=0){super(ae(Q),`Firebase Storage: ${Se} (${ae(Q)})`),this.status_=Le,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,J.prototype)}get status(){return this.status_}set status(Q){this.status_=Q}_codeEquals(Q){return ae(Q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Q){this.customData.serverResponse=Q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var te=function(ee){return ee.UNKNOWN="unknown",ee.OBJECT_NOT_FOUND="object-not-found",ee.BUCKET_NOT_FOUND="bucket-not-found",ee.PROJECT_NOT_FOUND="project-not-found",ee.QUOTA_EXCEEDED="quota-exceeded",ee.UNAUTHENTICATED="unauthenticated",ee.UNAUTHORIZED="unauthorized",ee.UNAUTHORIZED_APP="unauthorized-app",ee.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ee.INVALID_CHECKSUM="invalid-checksum",ee.CANCELED="canceled",ee.INVALID_EVENT_NAME="invalid-event-name",ee.INVALID_URL="invalid-url",ee.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ee.NO_DEFAULT_BUCKET="no-default-bucket",ee.CANNOT_SLICE_BLOB="cannot-slice-blob",ee.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ee.NO_DOWNLOAD_URL="no-download-url",ee.INVALID_ARGUMENT="invalid-argument",ee.INVALID_ARGUMENT_COUNT="invalid-argument-count",ee.APP_DELETED="app-deleted",ee.INVALID_ROOT_OPERATION="invalid-root-operation",ee.INVALID_FORMAT="invalid-format",ee.INTERNAL_ERROR="internal-error",ee.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ee}(te||{});function ae(ee){return"storage/"+ee}function Ae(){return new J(te.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Qt(){return new J(te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ze(){return new J(te.CANCELED,"User canceled the upload/download.")}function et(){return new J(te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qt(ee){return new J(te.INVALID_ARGUMENT,ee)}function pn(){return new J(te.APP_DELETED,"The Firebase app was deleted.")}function ir(ee){return new J(te.INVALID_ROOT_OPERATION,"The operation '"+ee+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ye(ee,Q){return new J(te.INVALID_FORMAT,"String does not match format '"+ee+"': "+Q)}function Pt(ee){throw new J(te.INTERNAL_ERROR,"Internal error: "+ee)}class Ue{constructor(Q,Se){this.bucket=Q,this.path_=Se}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o/"+Q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Q,Se){let Le;try{Le=Ue.makeFromUrl(Q,Se)}catch{return new Ue(Q,"")}if(""===Le.path)return Le;throw function Ze(ee){return new J(te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+ee+"'.")}(Q)}static makeFromUrl(Q,Se){let Le=null;const tt="([A-Za-z0-9.\\-_]+)",An=new RegExp("^gs://"+tt+"(/(.*))?$","i");function jn(xi){xi.path_=decodeURIComponent(xi.path)}const Rn=Se.replace(/[.]/g,"\\."),Sr=[{regex:An,indices:{bucket:1,path:3},postModify:function It(xi){"/"===xi.path.charAt(xi.path.length-1)&&(xi.path_=xi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Rn}/v[A-Za-z0-9_]+/b/${tt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:jn},{regex:new RegExp(`^https?://${Se===ye?"(?:storage.googleapis.com|storage.cloud.google.com)":Se}/${tt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:jn}];for(let xi=0;xi<Sr.length;xi++){const Si=Sr[xi],Kr=Si.regex.exec(Q);if(Kr){let ds=Kr[Si.indices.path];ds||(ds=""),Le=new Ue(Kr[Si.indices.bucket],ds),Si.postModify(Le);break}}if(null==Le)throw function we(ee){return new J(te.INVALID_URL,"Invalid URL '"+ee+"'.")}(Q);return Le}}class ct{constructor(Q){this.promise_=Promise.reject(Q)}getPromise(){return this.promise_}cancel(Q=!1){}}function Ie(ee){return"string"==typeof ee||ee instanceof String}function ke(ee){return ut()&&ee instanceof Blob}function ut(){return typeof Blob<"u"}function rt(ee,Q,Se,Le){if(Le<Q)throw qt(`Invalid value for '${ee}'. Expected ${Q} or greater.`);if(Le>Se)throw qt(`Invalid value for '${ee}'. Expected ${Se} or less.`)}function Lt(ee,Q,Se){let Le=Q;return null==Se&&(Le=`https://${Q}`),`${Se}://${Le}/v0${ee}`}function wn(ee){const Q=encodeURIComponent;let Se="?";for(const Le in ee)ee.hasOwnProperty(Le)&&(Se=Se+(Q(Le)+"=")+Q(ee[Le])+"&");return Se=Se.slice(0,-1),Se}var nr=function(ee){return ee[ee.NO_ERROR=0]="NO_ERROR",ee[ee.NETWORK_ERROR=1]="NETWORK_ERROR",ee[ee.ABORT=2]="ABORT",ee}(nr||{});function sn(ee,Q){const Se=ee>=500&&ee<600,tt=-1!==[408,429].indexOf(ee),It=-1!==Q.indexOf(ee);return Se||tt||It}class Vn{constructor(Q,Se,Le,tt,It,Kt,An,yn,jn,Or,Rn,kn=!0){this.url_=Q,this.method_=Se,this.headers_=Le,this.body_=tt,this.successCodes_=It,this.additionalRetryCodes_=Kt,this.callback_=An,this.errorCallback_=yn,this.timeout_=jn,this.progressCallback_=Or,this.connectionFactory_=Rn,this.retry=kn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((tr,Ei)=>{this.resolve_=tr,this.reject_=Ei,this.start_()})}start_(){const Se=(Le,tt)=>{const It=this.resolve_,Kt=this.reject_,An=tt.connection;if(tt.wasSuccessCode)try{const yn=this.callback_(An,An.getResponse());!function tn(ee){return void 0!==ee}(yn)?It():It(yn)}catch(yn){Kt(yn)}else if(null!==An){const yn=Ae();yn.serverResponse=An.getErrorText(),Kt(this.errorCallback_?this.errorCallback_(An,yn):yn)}else Kt(tt.canceled?this.appDelete_?pn():ze():Qt())};this.canceled_?Se(0,new Jt(!1,null,!0)):this.backoffId_=function Oe(ee,Q,Se){let Le=1,tt=null,It=null,Kt=!1,An=0;function yn(){return 2===An}let jn=!1;function Or(...Ii){jn||(jn=!0,Q.apply(null,Ii))}function Rn(Ii){tt=setTimeout(()=>{tt=null,ee(tr,yn())},Ii)}function kn(){It&&clearTimeout(It)}function tr(Ii,...Li){if(jn)return void kn();if(Ii)return kn(),void Or.call(null,Ii,...Li);if(yn()||Kt)return kn(),void Or.call(null,Ii,...Li);let Sr;Le<64&&(Le*=2),1===An?(An=2,Sr=0):Sr=1e3*(Le+Math.random()),Rn(Sr)}let Ei=!1;function Vr(Ii){Ei||(Ei=!0,kn(),!jn&&(null!==tt?(Ii||(An=2),clearTimeout(tt),Rn(0)):Ii||(An=1)))}return Rn(0),It=setTimeout(()=>{Kt=!0,Vr(!0)},Se),Vr}((Le,tt)=>{if(tt)return void Le(!1,new Jt(!1,null,!0));const It=this.connectionFactory_();this.pendingConnection_=It;const Kt=An=>{null!==this.progressCallback_&&this.progressCallback_(An.loaded,An.lengthComputable?An.total:-1)};null!==this.progressCallback_&&It.addUploadProgressListener(Kt),It.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&It.removeUploadProgressListener(Kt),this.pendingConnection_=null;const An=It.getErrorCode()===nr.NO_ERROR,yn=It.getStatus();if(!An||sn(yn,this.additionalRetryCodes_)&&this.retry){const Or=It.getErrorCode()===nr.ABORT;return void Le(!1,new Jt(!1,null,Or))}const jn=-1!==this.successCodes_.indexOf(yn);Le(!0,new Jt(jn,It))})},Se,this.timeout_)}getPromise(){return this.promise_}cancel(Q){this.canceled_=!0,this.appDelete_=Q||!1,null!==this.backoffId_&&function st(ee){ee(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jt{constructor(Q,Se,Le){this.wasSuccessCode=Q,this.connection=Se,this.canceled=!!Le}}function kr(...ee){const Q=function on(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Q){const Se=new Q;for(let Le=0;Le<ee.length;Le++)Se.append(ee[Le]);return Se.getBlob()}if(ut())return new Blob(ee);throw new J(te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hn{constructor(Q,Se){this.data=Q,this.contentType=Se||null}}function In(ee,Q){switch(ee){case bn.RAW:return new Hn($r(Q));case bn.BASE64:case bn.BASE64URL:return new Hn(ri(ee,Q));case bn.DATA_URL:return new Hn(function pi(ee){const Q=new zn(ee);return Q.base64?ri(bn.BASE64,Q.rest):function Mr(ee){let Q;try{Q=decodeURIComponent(ee)}catch{throw Ye(bn.DATA_URL,"Malformed data URL.")}return $r(Q)}(Q.rest)}(Q),function ys(ee){return new zn(ee).contentType}(Q))}throw Ae()}function $r(ee){const Q=[];for(let Se=0;Se<ee.length;Se++){let Le=ee.charCodeAt(Se);Le<=127?Q.push(Le):Le<=2047?Q.push(192|Le>>6,128|63&Le):55296==(64512&Le)?Se<ee.length-1&&56320==(64512&ee.charCodeAt(Se+1))?(Le=65536|(1023&Le)<<10|1023&ee.charCodeAt(++Se),Q.push(240|Le>>18,128|Le>>12&63,128|Le>>6&63,128|63&Le)):Q.push(239,191,189):56320==(64512&Le)?Q.push(239,191,189):Q.push(224|Le>>12,128|Le>>6&63,128|63&Le)}return new Uint8Array(Q)}function ri(ee,Q){switch(ee){case bn.BASE64:{const tt=-1!==Q.indexOf("-"),It=-1!==Q.indexOf("_");if(tt||It)throw Ye(ee,"Invalid character '"+(tt?"-":"_")+"' found: is it base64url encoded?");break}case bn.BASE64URL:{const tt=-1!==Q.indexOf("+"),It=-1!==Q.indexOf("/");if(tt||It)throw Ye(ee,"Invalid character '"+(tt?"+":"/")+"' found: is it base64 encoded?");Q=Q.replace(/-/g,"+").replace(/_/g,"/");break}}let Se;try{Se=function $t(ee){if(typeof atob>"u")throw function Ce(ee){return new J(te.UNSUPPORTED_ENVIRONMENT,`${ee} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(ee)}(Q)}catch(tt){throw tt.message.includes("polyfill")?tt:Ye(ee,"Invalid character found")}const Le=new Uint8Array(Se.length);for(let tt=0;tt<Se.length;tt++)Le[tt]=Se.charCodeAt(tt);return Le}class zn{constructor(Q){this.base64=!1,this.contentType=null;const Se=Q.match(/^data:([^,]+)?,/);if(null===Se)throw Ye(bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Le=Se[1]||null;null!=Le&&(this.base64=function hn(ee,Q){return ee.length>=Q.length&&ee.substring(ee.length-Q.length)===Q}(Le,";base64"),this.contentType=this.base64?Le.substring(0,Le.length-7):Le),this.rest=Q.substring(Q.indexOf(",")+1)}}class ii{constructor(Q,Se){let Le=0,tt="";ke(Q)?(this.data_=Q,Le=Q.size,tt=Q.type):Q instanceof ArrayBuffer?(Se?this.data_=new Uint8Array(Q):(this.data_=new Uint8Array(Q.byteLength),this.data_.set(new Uint8Array(Q))),Le=this.data_.length):Q instanceof Uint8Array&&(Se?this.data_=Q:(this.data_=new Uint8Array(Q.length),this.data_.set(Q)),Le=Q.length),this.size_=Le,this.type_=tt}size(){return this.size_}type(){return this.type_}slice(Q,Se){if(ke(this.data_)){const tt=function Yn(ee,Q,Se){return ee.webkitSlice?ee.webkitSlice(Q,Se):ee.mozSlice?ee.mozSlice(Q,Se):ee.slice?ee.slice(Q,Se):null}(this.data_,Q,Se);return null===tt?null:new ii(tt)}{const Le=new Uint8Array(this.data_.buffer,Q,Se-Q);return new ii(Le,!0)}}static getBlob(...Q){if(ut()){const Se=Q.map(Le=>Le instanceof ii?Le.data_:Le);return new ii(kr.apply(null,Se))}{const Se=Q.map(Kt=>Ie(Kt)?In(bn.RAW,Kt).data:Kt.data_);let Le=0;Se.forEach(Kt=>{Le+=Kt.byteLength});const tt=new Uint8Array(Le);let It=0;return Se.forEach(Kt=>{for(let An=0;An<Kt.length;An++)tt[It++]=Kt[An]}),new ii(tt,!0)}}uploadData(){return this.data_}}function Jn(ee){let Q;try{Q=JSON.parse(ee)}catch{return null}return function Pe(ee){return"object"==typeof ee&&!Array.isArray(ee)}(Q)?Q:null}function Ai(ee){const Q=ee.lastIndexOf("/",ee.length-2);return-1===Q?ee:ee.slice(Q+1)}function ot(ee,Q){return Q}class Tt{constructor(Q,Se,Le,tt){this.server=Q,this.local=Se||Q,this.writable=!!Le,this.xform=tt||ot}}let ue=null;function fe(){if(ue)return ue;const ee=[];ee.push(new Tt("bucket")),ee.push(new Tt("generation")),ee.push(new Tt("metageneration")),ee.push(new Tt("name","fullPath",!0));const Se=new Tt("name");Se.xform=function Q(It,Kt){return function Ne(ee){return!Ie(ee)||ee.length<2?ee:Ai(ee)}(Kt)},ee.push(Se);const tt=new Tt("size");return tt.xform=function Le(It,Kt){return void 0!==Kt?Number(Kt):Kt},ee.push(tt),ee.push(new Tt("timeCreated")),ee.push(new Tt("updated")),ee.push(new Tt("md5Hash",null,!0)),ee.push(new Tt("cacheControl",null,!0)),ee.push(new Tt("contentDisposition",null,!0)),ee.push(new Tt("contentEncoding",null,!0)),ee.push(new Tt("contentLanguage",null,!0)),ee.push(new Tt("contentType",null,!0)),ee.push(new Tt("metadata","customMetadata",!0)),ue=ee,ue}function _t(ee,Q,Se){const Le=Jn(Q);return null===Le?null:function Ee(ee,Q,Se){const Le={type:"file"},tt=Se.length;for(let It=0;It<tt;It++){const Kt=Se[It];Le[Kt.local]=Kt.xform(Le,Q[Kt.server])}return function gt(ee,Q){Object.defineProperty(ee,"ref",{get:function Se(){const It=new Ue(ee.bucket,ee.fullPath);return Q._makeStorageReference(It)}})}(Le,ee),Le}(ee,Le,Se)}function Er(ee,Q){const Se={},Le=Q.length;for(let tt=0;tt<Le;tt++){const It=Q[tt];It.writable&&(Se[It.server]=ee[It.local])}return JSON.stringify(Se)}const vt="prefixes",$="items";class ie{constructor(Q,Se,Le,tt){this.url=Q,this.method=Se,this.handler=Le,this.timeout=tt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function me(ee){if(!ee)throw Ae()}function ht(ee,Q){return function Se(Le,tt){const It=_t(ee,tt,Q);return me(null!==It),It}}function fn(ee){return function Q(Se,Le){let tt;return tt=401===Se.getStatus()?Se.getErrorText().includes("Firebase App Check token is invalid")?function xt(){return new J(te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function lt(){return new J(te.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Se.getStatus()?function it(ee){return new J(te.QUOTA_EXCEEDED,"Quota for bucket '"+ee+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(ee.bucket):403===Se.getStatus()?function kt(ee){return new J(te.UNAUTHORIZED,"User does not have permission to access '"+ee+"'.")}(ee.path):Le,tt.status=Se.getStatus(),tt.serverResponse=Le.serverResponse,tt}}function Sn(ee){const Q=fn(ee);return function Se(Le,tt){let It=Q(Le,tt);return 404===Le.getStatus()&&(It=function _e(ee){return new J(te.OBJECT_NOT_FOUND,"Object '"+ee+"' does not exist.")}(ee.path)),It.serverResponse=tt.serverResponse,It}}function br(ee,Q,Se){const tt=Lt(Q.fullServerUrl(),ee.host,ee._protocol),Kt=ee.maxOperationRetryTime,An=new ie(tt,"GET",ht(ee,Se),Kt);return An.errorHandler=Sn(Q),An}function ln(ee,Q,Se,Le,tt){const It={};It.prefix=Q.isRoot?"":Q.path+"/",Se&&Se.length>0&&(It.delimiter=Se),Le&&(It.pageToken=Le),tt&&(It.maxResults=tt);const An=Lt(Q.bucketOnlyServerUrl(),ee.host,ee._protocol),jn=ee.maxOperationRetryTime,Or=new ie(An,"GET",function Mt(ee,Q){return function Se(Le,tt){const It=function L(ee,Q,Se){const Le=Jn(Se);return null===Le?null:function M(ee,Q,Se){const Le={prefixes:[],items:[],nextPageToken:Se.nextPageToken};if(Se[vt])for(const tt of Se[vt]){const It=tt.replace(/\/$/,""),Kt=ee._makeStorageReference(new Ue(Q,It));Le.prefixes.push(Kt)}if(Se[$])for(const tt of Se[$]){const It=ee._makeStorageReference(new Ue(Q,tt.name));Le.items.push(It)}return Le}(ee,Q,Le)}(ee,Q,tt);return me(null!==It),It}}(ee,Q.bucket),jn);return Or.urlParams=It,Or.errorHandler=fn(Q),Or}function Es(ee,Q,Se){const Le=Object.assign({},Se);return Le.fullPath=ee.path,Le.size=Q.size(),Le.contentType||(Le.contentType=function vs(ee,Q){return ee&&ee.contentType||Q&&Q.type()||"application/octet-stream"}(null,Q)),Le}class sr{constructor(Q,Se,Le,tt){this.current=Q,this.total=Se,this.finalized=!!Le,this.metadata=tt||null}}function ks(ee,Q){let Se=null;try{Se=ee.getResponseHeader("X-Goog-Upload-Status")}catch{me(!1)}return me(!!Se&&-1!==(Q||["active"]).indexOf(Se)),Se}const Bn={STATE_CHANGED:"state_changed"},Ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hr(ee){switch(ee){case"running":case"pausing":case"canceling":return Ln.RUNNING;case"paused":return Ln.PAUSED;case"success":return Ln.SUCCESS;case"canceled":return Ln.CANCELED;default:return Ln.ERROR}}class Hr{constructor(Q,Se,Le){if(function We(ee){return"function"==typeof ee}(Q)||null!=Se||null!=Le)this.next=Q,this.error=Se??void 0,this.complete=Le??void 0;else{const It=Q;this.next=It.next,this.error=It.error,this.complete=It.complete}}}function Jr(ee){return(...Q)=>{Promise.resolve().then(()=>ee(...Q))}}let mr=null;class Ki{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nr.NO_ERROR,this.sendPromise_=new Promise(Q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nr.ABORT,Q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nr.NETWORK_ERROR,Q()}),this.xhr_.addEventListener("load",()=>{Q()})})}send(Q,Se,Le,tt){if(this.sent_)throw Pt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Se,Q,!0),void 0!==tt)for(const It in tt)tt.hasOwnProperty(It)&&this.xhr_.setRequestHeader(It,tt[It].toString());return void 0!==Le?this.xhr_.send(Le):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Q){return this.xhr_.getResponseHeader(Q)}addUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Q)}removeUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Q)}}class Fs extends Ki{initXhr(){this.xhr_.responseType="text"}}function Zi(){return mr?mr():new Fs}class di{constructor(Q,Se,Le=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Q,this._blob=Se,this._metadata=Le,this._mappings=fe(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=tt=>{if(this._request=void 0,this._chunkMultiplier=1,tt._codeEquals(te.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const It=this.isExponentialBackoffExpired();if(sn(tt.status,[])){if(!It)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();tt=Qt()}this._error=tt,this._transition("error")}},this._metadataErrorHandler=tt=>{this._request=void 0,tt._codeEquals(te.CANCELED)?this.completeTransitions_():(this._error=tt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((tt,It)=>{this._resolve=tt,this._reject=It,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Q=this._transferred;return Se=>this._updateProgress(Q+Se)}_shouldDoResumable(Q){return Q.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Q){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Se,Le])=>{switch(this._state){case"running":Q(Se,Le);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Q,Se)=>{const Le=function At(ee,Q,Se,Le,tt){const It=Q.bucketOnlyServerUrl(),Kt=Es(Q,Le,tt),An={name:Kt.fullPath},yn=Lt(It,ee.host,ee._protocol),Or={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Le.size()}`,"X-Goog-Upload-Header-Content-Type":Kt.contentType,"Content-Type":"application/json; charset=utf-8"},Rn=Er(Kt,Se),Ei=new ie(yn,"POST",function tr(Vr){let Ii;ks(Vr);try{Ii=Vr.getResponseHeader("X-Goog-Upload-URL")}catch{me(!1)}return me(Ie(Ii)),Ii},ee.maxUploadRetryTime);return Ei.urlParams=An,Ei.headers=Or,Ei.body=Rn,Ei.errorHandler=fn(Q),Ei}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),tt=this._ref.storage._makeRequest(Le,Zi,Q,Se);this._request=tt,tt.getPromise().then(It=>{this._request=void 0,this._uploadUrl=It,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Q=this._uploadUrl;this._resolveToken((Se,Le)=>{const tt=function at(ee,Q,Se,Le){const yn=new ie(Se,"POST",function It(jn){const Or=ks(jn,["active","final"]);let Rn=null;try{Rn=jn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{me(!1)}Rn||me(!1);const kn=Number(Rn);return me(!isNaN(kn)),new sr(kn,Le.size(),"final"===Or)},ee.maxUploadRetryTime);return yn.headers={"X-Goog-Upload-Command":"query"},yn.errorHandler=fn(Q),yn}(this._ref.storage,this._ref._location,Q,this._blob),It=this._ref.storage._makeRequest(tt,Zi,Se,Le);this._request=It,It.getPromise().then(Kt=>{this._request=void 0,this._updateProgress(Kt.current),this._needToFetchStatus=!1,Kt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Q=262144*this._chunkMultiplier,Se=new sr(this._transferred,this._blob.size()),Le=this._uploadUrl;this._resolveToken((tt,It)=>{let Kt;try{Kt=function cn(ee,Q,Se,Le,tt,It,Kt,An){const yn=new sr(0,0);if(Kt?(yn.current=Kt.current,yn.total=Kt.total):(yn.current=0,yn.total=Le.size()),Le.size()!==yn.total)throw function $e(){return new J(te.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const jn=yn.total-yn.current;let Or=jn;tt>0&&(Or=Math.min(Or,tt));const Rn=yn.current;let tr="";tr=0===Or?"finalize":jn===Or?"upload, finalize":"upload";const Ei={"X-Goog-Upload-Command":tr,"X-Goog-Upload-Offset":`${yn.current}`},Vr=Le.slice(Rn,Rn+Or);if(null===Vr)throw et();const Sr=new ie(Se,"POST",function Ii(xi,Si){const Kr=ks(xi,["active","final"]),$o=yn.current+Or,ds=Le.size();let Ys;return Ys="final"===Kr?ht(Q,It)(xi,Si):null,new sr($o,ds,"final"===Kr,Ys)},Q.maxUploadRetryTime);return Sr.headers=Ei,Sr.body=Vr.uploadData(),Sr.progressCallback=An||null,Sr.errorHandler=fn(ee),Sr}(this._ref._location,this._ref.storage,Le,this._blob,Q,this._mappings,Se,this._makeProgressCallback())}catch(yn){return this._error=yn,void this._transition("error")}const An=this._ref.storage._makeRequest(Kt,Zi,tt,It,!1);this._request=An,An.getPromise().then(yn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(yn.current),yn.finalized?(this._metadata=yn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Q,Se)=>{const Le=br(this._ref.storage,this._ref._location,this._mappings),tt=this._ref.storage._makeRequest(Le,Zi,Q,Se);this._request=tt,tt.getPromise().then(It=>{this._request=void 0,this._metadata=It,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Q,Se)=>{const Le=function yi(ee,Q,Se,Le,tt){const It=Q.bucketOnlyServerUrl(),Kt={"X-Goog-Upload-Protocol":"multipart"},yn=function An(){let Sr="";for(let xi=0;xi<2;xi++)Sr+=Math.random().toString().slice(2);return Sr}();Kt["Content-Type"]="multipart/related; boundary="+yn;const jn=Es(Q,Le,tt),Or=Er(jn,Se),tr=ii.getBlob("--"+yn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Or+"\r\n--"+yn+"\r\nContent-Type: "+jn.contentType+"\r\n\r\n",Le,"\r\n--"+yn+"--");if(null===tr)throw et();const Ei={name:jn.fullPath},Vr=Lt(It,ee.host,ee._protocol),Li=ee.maxUploadRetryTime,Di=new ie(Vr,"POST",ht(ee,Se),Li);return Di.urlParams=Ei,Di.headers=Kt,Di.body=tr.uploadData(),Di.errorHandler=fn(Q),Di}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),tt=this._ref.storage._makeRequest(Le,Zi,Q,Se);this._request=tt,tt.getPromise().then(It=>{this._request=void 0,this._metadata=It,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Q){const Se=this._transferred;this._transferred=Q,this._transferred!==Se&&this._notifyObservers()}_transition(Q){if(this._state!==Q)switch(Q){case"canceling":case"pausing":this._state=Q,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Se="paused"===this._state;this._state=Q,Se&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Q,this._notifyObservers();break;case"canceled":this._error=ze(),this._state=Q,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Q=hr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Q,metadata:this._metadata,task:this,ref:this._ref}}on(Q,Se,Le,tt){const It=new Hr(Se||void 0,Le||void 0,tt||void 0);return this._addObserver(It),()=>{this._removeObserver(It)}}then(Q,Se){return this._promise.then(Q,Se)}catch(Q){return this.then(null,Q)}_addObserver(Q){this._observers.push(Q),this._notifyObserver(Q)}_removeObserver(Q){const Se=this._observers.indexOf(Q);-1!==Se&&this._observers.splice(Se,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Se=>{this._notifyObserver(Se)})}_finishPromise(){if(void 0!==this._resolve){let Q=!0;switch(hr(this._state)){case Ln.SUCCESS:Jr(this._resolve.bind(null,this.snapshot))();break;case Ln.CANCELED:case Ln.ERROR:Jr(this._reject.bind(null,this._error))();break;default:Q=!1}Q&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Q){switch(hr(this._state)){case Ln.RUNNING:case Ln.PAUSED:Q.next&&Jr(Q.next.bind(Q,this.snapshot))();break;case Ln.SUCCESS:Q.complete&&Jr(Q.complete.bind(Q))();break;default:Q.error&&Jr(Q.error.bind(Q,this._error))()}}resume(){const Q="paused"===this._state||"pausing"===this._state;return Q&&this._transition("running"),Q}pause(){const Q="running"===this._state;return Q&&this._transition("pausing"),Q}cancel(){const Q="running"===this._state||"pausing"===this._state;return Q&&this._transition("canceling"),Q}}class es{constructor(Q,Se){this._service=Q,this._location=Se instanceof Ue?Se:Ue.makeFromUrl(Se,Q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Q,Se){return new es(Q,Se)}get root(){const Q=new Ue(this._location.bucket,"");return this._newRef(this._service,Q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ai(this._location.path)}get storage(){return this._service}get parent(){const Q=function Ir(ee){if(0===ee.length)return null;const Q=ee.lastIndexOf("/");return-1===Q?"":ee.slice(0,Q)}(this._location.path);if(null===Q)return null;const Se=new Ue(this._location.bucket,Q);return new es(this._service,Se)}_throwIfRoot(Q){if(""===this._location.path)throw ir(Q)}}function wo(ee,Q,Se){return gi.apply(this,arguments)}function gi(){return(gi=(0,o.A)(function*(ee,Q,Se){const tt=yield Oa(ee,{pageToken:Se});Q.prefixes.push(...tt.prefixes),Q.items.push(...tt.items),null!=tt.nextPageToken&&(yield wo(ee,Q,tt.nextPageToken))})).apply(this,arguments)}function Oa(ee,Q){null!=Q&&"number"==typeof Q.maxResults&&rt("options.maxResults",1,1e3,Q.maxResults);const Se=Q||{},Le=ln(ee.storage,ee._location,"/",Se.pageToken,Se.maxResults);return ee.storage.makeRequestWithTokens(Le,Zi)}function us(ee){ee._throwIfRoot("getDownloadURL");const Q=function dr(ee,Q,Se){const tt=Lt(Q.fullServerUrl(),ee.host,ee._protocol),Kt=ee.maxOperationRetryTime,An=new ie(tt,"GET",function an(ee,Q){return function Se(Le,tt){const It=_t(ee,tt,Q);return me(null!==It),function Yt(ee,Q,Se,Le){const tt=Jn(Q);if(null===tt||!Ie(tt.downloadTokens))return null;const It=tt.downloadTokens;if(0===It.length)return null;const Kt=encodeURIComponent;return It.split(",").map(jn=>{const Rn=ee.fullPath;return Lt("/b/"+Kt(ee.bucket)+"/o/"+Kt(Rn),Se,Le)+wn({alt:"media",token:jn})})[0]}(It,tt,ee.host,ee._protocol)}}(ee,Se),Kt);return An.errorHandler=Sn(Q),An}(ee.storage,ee._location,fe());return ee.storage.makeRequestWithTokens(Q,Zi).then(Se=>{if(null===Se)throw function Ot(){return new J(te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Se})}function fr(ee,Q){const Se=function Gn(ee,Q){const Se=Q.split("/").filter(Le=>Le.length>0).join("/");return 0===ee.length?Se:ee+"/"+Se}(ee._location.path,Q),Le=new Ue(ee._location.bucket,Se);return new es(ee.storage,Le)}function As(ee,Q){if(ee instanceof oi){const Se=ee;if(null==Se._bucket)throw function Ve(){return new J(te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Re+"' property when initializing the app?")}();const Le=new es(Se,Se._bucket);return null!=Q?As(Le,Q):Le}return void 0!==Q?fr(ee,Q):ee}function ns(ee,Q){if(Q&&function Ts(ee){return/^[A-Za-z]+:\/\//.test(ee)}(Q)){if(ee instanceof oi)return function ts(ee,Q){return new es(ee,Q)}(ee,Q);throw qt("To use ref(service, url), the first argument must be a Storage instance.")}return As(ee,Q)}function Dr(ee,Q){const Se=Q?.[Re];return null==Se?null:Ue.makeFromBucketSpec(Se,ee)}class oi{constructor(Q,Se,Le,tt,It){this.app=Q,this._authProvider=Se,this._appCheckProvider=Le,this._url=tt,this._firebaseVersion=It,this._bucket=null,this._host=ye,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=tt?Ue.makeFromBucketSpec(tt,this._host):Dr(this._host,this.app.options)}get host(){return this._host}set host(Q){this._host=Q,this._bucket=null!=this._url?Ue.makeFromBucketSpec(this._url,Q):Dr(Q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Q){rt("time",0,Number.POSITIVE_INFINITY,Q),this._maxUploadRetryTime=Q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Q){rt("time",0,Number.POSITIVE_INFINITY,Q),this._maxOperationRetryTime=Q}_getAuthToken(){var Q=this;return(0,o.A)(function*(){if(Q._overrideAuthToken)return Q._overrideAuthToken;const Se=Q._authProvider.getImmediate({optional:!0});if(Se){const Le=yield Se.getToken();if(null!==Le)return Le.accessToken}return null})()}_getAppCheckToken(){var Q=this;return(0,o.A)(function*(){const Se=Q._appCheckProvider.getImmediate({optional:!0});return Se?(yield Se.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Q=>Q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Q){return new es(this,Q)}_makeRequest(Q,Se,Le,tt,It=!0){if(this._deleted)return new ct(pn());{const Kt=function vr(ee,Q,Se,Le,tt,It,Kt=!0){const An=wn(ee.urlParams),yn=ee.url+An,jn=Object.assign({},ee.headers);return function Gt(ee,Q){Q&&(ee["X-Firebase-GMPID"]=Q)}(jn,Q),function $n(ee,Q){null!==Q&&Q.length>0&&(ee.Authorization="Firebase "+Q)}(jn,Se),function On(ee,Q){ee["X-Firebase-Storage-Version"]="webjs/"+(Q??"AppManager")}(jn,It),function Bt(ee,Q){null!==Q&&(ee["X-Firebase-AppCheck"]=Q)}(jn,Le),new Vn(yn,ee.method,jn,ee.body,ee.successCodes,ee.additionalRetryCodes,ee.handler,ee.errorHandler,ee.timeout,ee.progressCallback,tt,Kt)}(Q,this._appId,Le,tt,Se,this._firebaseVersion,It);return this._requests.add(Kt),Kt.getPromise().then(()=>this._requests.delete(Kt),()=>this._requests.delete(Kt)),Kt}}makeRequestWithTokens(Q,Se){var Le=this;return(0,o.A)(function*(){const[tt,It]=yield Promise.all([Le._getAuthToken(),Le._getAppCheckToken()]);return Le._makeRequest(Q,Se,tt,It).getPromise()})()}}const Ds="@firebase/storage",qi="storage";function Ls(ee,Q,Se){return function Ri(ee,Q,Se){return ee._throwIfRoot("uploadBytesResumable"),new di(ee,new ii(Q),Se)}(ee=(0,s.Ku)(ee),Q,Se)}function ei(ee){return function Xa(ee){ee._throwIfRoot("getMetadata");const Q=br(ee.storage,ee._location,fe());return ee.storage.makeRequestWithTokens(Q,Zi)}(ee=(0,s.Ku)(ee))}function mn(ee,Q){return function xr(ee,Q){ee._throwIfRoot("updateMetadata");const Se=function $s(ee,Q,Se,Le){const It=Lt(Q.fullServerUrl(),ee.host,ee._protocol),An=Er(Se,Le),jn=ee.maxOperationRetryTime,Or=new ie(It,"PATCH",ht(ee,Le),jn);return Or.headers={"Content-Type":"application/json; charset=utf-8"},Or.body=An,Or.errorHandler=Sn(Q),Or}(ee.storage,ee._location,Q,fe());return ee.storage.makeRequestWithTokens(Se,Zi)}(ee=(0,s.Ku)(ee),Q)}function rr(ee,Q){return Oa(ee=(0,s.Ku)(ee),Q)}function cr(ee){return function uo(ee){const Q={prefixes:[],items:[]};return wo(ee,Q).then(()=>Q)}(ee=(0,s.Ku)(ee))}function Xi(ee){return us(ee=(0,s.Ku)(ee))}function rs(ee){return function Pi(ee){ee._throwIfRoot("deleteObject");const Q=function Fi(ee,Q){const Le=Lt(Q.fullServerUrl(),ee.host,ee._protocol),An=new ie(Le,"DELETE",function Kt(yn,jn){},ee.maxOperationRetryTime);return An.successCodes=[200,204],An.errorHandler=Sn(Q),An}(ee.storage,ee._location);return ee.storage.makeRequestWithTokens(Q,Zi)}(ee=(0,s.Ku)(ee))}function li(ee,Q){return ns(ee=(0,s.Ku)(ee),Q)}function Mi(ee,Q){return fr(ee,Q)}function Fr(ee=(0,de.getApp)(),Q){ee=(0,s.Ku)(ee);const Le=(0,de._getProvider)(ee,qi).getImmediate({identifier:Q}),tt=(0,s.yU)("storage");return tt&&vi(Le,...tt),Le}function vi(ee,Q,Se,Le={}){!function si(ee,Q,Se,Le={}){ee.host=`${Q}:${Se}`,ee._protocol="http";const{mockUserToken:tt}=Le;tt&&(ee._overrideAuthToken="string"==typeof tt?tt:(0,s.Fy)(tt,ee.app.options.projectId))}(ee,Q,Se,Le)}function ws(ee,{instanceIdentifier:Q}){const Se=ee.getProvider("app").getImmediate(),Le=ee.getProvider("auth-internal"),tt=ee.getProvider("app-check-internal");return new oi(Se,Le,tt,Q,de.SDK_VERSION)}!function Ss(){(0,de._registerComponent)(new ve.uA(qi,ws,"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Ds,"0.13.2",""),(0,de.registerVersion)(Ds,"0.13.2","esm2017")}()},1076:(rn,Je,F)=>{F.d(Je,{Am:()=>Hn,Bd:()=>qt,FA:()=>rt,Fy:()=>et,I9:()=>In,Im:()=>on,Ku:()=>vt,Ll:()=>Ce,T9:()=>we,Uj:()=>Fe,XA:()=>Ze,ZQ:()=>$e,bD:()=>Yn,c1:()=>ir,cY:()=>Ve,eX:()=>Pe,g:()=>ut,gR:()=>Bt,hp:()=>$r,jZ:()=>Ot,lT:()=>ct,lV:()=>Pt,mS:()=>_e,nr:()=>tn,p7:()=>pn,sr:()=>Ye,tD:()=>ri,u:()=>J,yU:()=>ze,zW:()=>We,zw:()=>ae});const ve=function($){const M=[];let L=0;for(let ie=0;ie<$.length;ie++){let me=$.charCodeAt(ie);me<128?M[L++]=me:me<2048?(M[L++]=me>>6|192,M[L++]=63&me|128):55296==(64512&me)&&ie+1<$.length&&56320==(64512&$.charCodeAt(ie+1))?(me=65536+((1023&me)<<10)+(1023&$.charCodeAt(++ie)),M[L++]=me>>18|240,M[L++]=me>>12&63|128,M[L++]=me>>6&63|128,M[L++]=63&me|128):(M[L++]=me>>12|224,M[L++]=me>>6&63|128,M[L++]=63&me|128)}return M},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,M){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[];for(let me=0;me<$.length;me+=3){const ht=$[me],Mt=me+1<$.length,an=Mt?$[me+1]:0,fn=me+2<$.length,Sn=fn?$[me+2]:0;let Wr=(15&an)<<2|Sn>>6,dr=63&Sn;fn||(dr=64,Mt||(Wr=64)),ie.push(L[ht>>2],L[(3&ht)<<4|an>>4],L[Wr],L[dr])}return ie.join("")},encodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa($):this.encodeByteArray(ve($),M)},decodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?atob($):function($){const M=[];let L=0,ie=0;for(;L<$.length;){const me=$[L++];if(me<128)M[ie++]=String.fromCharCode(me);else if(me>191&&me<224){const ht=$[L++];M[ie++]=String.fromCharCode((31&me)<<6|63&ht)}else if(me>239&&me<365){const fn=((7&me)<<18|(63&$[L++])<<12|(63&$[L++])<<6|63&$[L++])-65536;M[ie++]=String.fromCharCode(55296+(fn>>10)),M[ie++]=String.fromCharCode(56320+(1023&fn))}else{const ht=$[L++],Mt=$[L++];M[ie++]=String.fromCharCode((15&me)<<12|(63&ht)<<6|63&Mt)}}return M.join("")}(this.decodeStringToByteArray($,M))},decodeStringToByteArray($,M){this.init_();const L=M?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[];for(let me=0;me<$.length;){const ht=L[$.charAt(me++)],an=me<$.length?L[$.charAt(me)]:0;++me;const Sn=me<$.length?L[$.charAt(me)]:64;++me;const ln=me<$.length?L[$.charAt(me)]:64;if(++me,null==ht||null==an||null==Sn||null==ln)throw new be;ie.push(ht<<2|an>>4),64!==Sn&&(ie.push(an<<4&240|Sn>>2),64!==ln&&ie.push(Sn<<6&192|ln))}return ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fe=function($){return function($){const M=ve($);return Re.encodeByteArray(M,!0)}($).replace(/\./g,"")},J=function($){try{return Re.decodeString($,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function ae($,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return M}for(const L in M)!M.hasOwnProperty(L)||!Ae(L)||($[L]=ae($[L],M[L]));return $}function Ae($){return"__proto__"!==$}function _e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kt=()=>{try{return _e().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=$&&J($[1]);return M&&JSON.parse(M)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},ze=$=>{const M=($=>{var M,L;return null===(L=null===(M=kt())||void 0===M?void 0:M.emulatorHosts)||void 0===L?void 0:L[$]})($);if(!M)return;const L=M.lastIndexOf(":");if(L<=0||L+1===M.length)throw new Error(`Invalid host ${M} with no separate hostname and port!`);const ie=parseInt(M.substring(L+1),10);return"["===M[0]?[M.substring(1,L-1),ie]:[M.substring(0,L),ie]},we=()=>{var $;return null===($=kt())||void 0===$?void 0:$.config},Ze=$=>{var M;return null===(M=kt())||void 0===M?void 0:M[`_${$}`]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,L)=>{this.resolve=M,this.reject=L})}wrapCallback(M){return(L,ie)=>{L?this.reject(L):this.resolve(ie),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(L):M(L,ie))}}}function et($,M){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ie=M||"demo-project",me=$.iat||0,ht=$.sub||$.user_id;if(!ht)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Mt=Object.assign({iss:`https://securetoken.google.com/${ie}`,aud:ie,iat:me,exp:me+3600,auth_time:me,sub:ht,user_id:ht,firebase:{sign_in_provider:"custom",identities:{}}},$);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(Mt)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ot(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Ce(){var $;const M=null===($=kt())||void 0===$?void 0:$.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qt(){return typeof window<"u"||pn()}function pn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ir(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Ye(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ct(){const $=$e();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function tn(){return!Ce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){try{return"object"==typeof indexedDB}catch{return!1}}function Pe(){return new Promise(($,M)=>{try{let L=!0;const ie="validate-browser-context-for-indexeddb-analytics-module",me=self.indexedDB.open(ie);me.onsuccess=()=>{me.result.close(),L||self.indexedDB.deleteDatabase(ie),$(!0)},me.onupgradeneeded=()=>{L=!1},me.onerror=()=>{var ht;M((null===(ht=me.error)||void 0===ht?void 0:ht.message)||"")}}catch(L){M(L)}})}class ut extends Error{constructor(M,L,ie){super(L),this.code=M,this.customData=ie,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor(M,L,ie){this.service=M,this.serviceName=L,this.errors=ie}create(M,...L){const ie=L[0]||{},me=`${this.service}/${M}`,ht=this.errors[M],Mt=ht?function Lt($,M){return $.replace(wn,(L,ie)=>{const me=M[ie];return null!=me?String(me):`<${ie}?>`})}(ht,ie):"Error";return new ut(me,`${this.serviceName}: ${Mt} (${me}).`,ie)}}const wn=/\{\$([^}]+)}/g;function Bt($,M){return Object.prototype.hasOwnProperty.call($,M)}function on($){for(const M in $)if(Object.prototype.hasOwnProperty.call($,M))return!1;return!0}function Yn($,M){if($===M)return!0;const L=Object.keys($),ie=Object.keys(M);for(const me of L){if(!ie.includes(me))return!1;const ht=$[me],Mt=M[me];if($t(ht)&&$t(Mt)){if(!Yn(ht,Mt))return!1}else if(ht!==Mt)return!1}for(const me of ie)if(!L.includes(me))return!1;return!0}function $t($){return null!==$&&"object"==typeof $}function Hn($){const M=[];for(const[L,ie]of Object.entries($))Array.isArray(ie)?ie.forEach(me=>{M.push(encodeURIComponent(L)+"="+encodeURIComponent(me))}):M.push(encodeURIComponent(L)+"="+encodeURIComponent(ie));return M.length?"&"+M.join("&"):""}function In($){const M={};return $.replace(/^\?/,"").split("&").forEach(ie=>{if(ie){const[me,ht]=ie.split("=");M[decodeURIComponent(me)]=decodeURIComponent(ht)}}),M}function $r($){const M=$.indexOf("?");if(!M)return"";const L=$.indexOf("#",M);return $.substring(M,L>0?L:void 0)}function ri($,M){const L=new zn($,M);return L.subscribe.bind(L)}class zn{constructor(M,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{M(this)}).catch(ie=>{this.error(ie)})}next(M){this.forEachObserver(L=>{L.next(M)})}error(M){this.forEachObserver(L=>{L.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,L,ie){let me;if(void 0===M&&void 0===L&&void 0===ie)throw new Error("Missing Observer.");me=function ys($,M){if("object"!=typeof $||null===$)return!1;for(const L of M)if(L in $&&"function"==typeof $[L])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:L,complete:ie},void 0===me.next&&(me.next=hn),void 0===me.error&&(me.error=hn),void 0===me.complete&&(me.complete=hn);const ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?me.error(this.finalError):me.complete()}catch{}}),this.observers.push(me),ht}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,M)}sendOne(M,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{L(this.observers[M])}catch(ie){typeof console<"u"&&console.error&&console.error(ie)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hn(){}function vt($){return $&&$._delegate?$._delegate:$}},9483:(rn,Je,F)=>{F.d(Je,{j:()=>te});var o=F(7705),de=F(6814),s=F(177);const ve=function(ae,Ae){return{"background-color":ae,color:Ae}};function ye(ae,Ae){if(1&ae){const _e=o.RV6();o.qex(0),o.j41(1,"button",4),o.bIt("click",function(){o.eBV(_e);const lt=o.XpG();return o.Njj(lt.navigate())}),o.EFF(2),o.k0s(),o.bVm()}if(2&ae){const _e=o.XpG();o.R7$(1),o.Y8G("ngStyle",o.l_i(2,ve,_e.buttonBgColor,_e.buttonTextColor)),o.R7$(1),o.SpI(" ",_e.buttonText," ")}}function Re(ae,Ae){if(1&ae){const _e=o.RV6();o.j41(0,"a",5),o.bIt("click",function(){o.eBV(_e);const lt=o.XpG();return o.Njj(lt.navigate())}),o.EFF(1),o.k0s()}if(2&ae){const _e=o.XpG();o.Y8G("ngStyle",o.l_i(2,ve,_e.buttonBgColor,_e.buttonTextColor)),o.R7$(1),o.SpI(" ",_e.buttonText," ")}}const be=function(ae,Ae,_e){return{"full-width":ae,centered:Ae,shadow:_e}},je=function(ae,Ae,_e,it){return{"background-color":ae,color:Ae,"text-align":_e,"border-radius":it}},Fe=function(ae,Ae){return{color:ae,"font-size":Ae}},J=function(ae){return{color:ae}};let te=(()=>{class ae{constructor(_e){this.router=_e,this.title="Come Meet Our Family!",this.content="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="var(--background-color)",this.textColor="var(--text-color)",this.titleColor="var(--accent-color)",this.buttonBgColor="var(--button-color)",this.buttonTextColor="var(--button-text-color)",this.borderRadius="10px",this.boxShadow="0px 4px 6px rgba(0, 0, 0, 0.2)",this.page="contact-us",this.layout="centered",this.businessId="",this.showImage=!1,this._businessName="",this.location="",this.backgroundColor="#ffffff",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonLink="contact-us",this.alignText="left",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){console.log("CTA Initialized with:",{bgColor:this.bgColor,textColor:this.textColor,titleColor:this.titleColor,buttonBgColor:this.buttonBgColor,buttonTextColor:this.buttonTextColor,layout:this.layout}),this.fullWidth=this.convertToBoolean(this.fullWidth)}navigate(){this.page&&this.businessId&&(this.router.navigate([this.page]),this.router.navigate([this.page],{queryParams:{id:this.businessId}}))}convertToBoolean(_e){return"boolean"==typeof _e?_e:"string"==typeof _e&&"true"===_e.toLowerCase()}static{this.\u0275fac=function(it){return new(it||ae)(o.rXU(de.Ix))}}static{this.\u0275cmp=o.VBU({type:ae,selectors:[["app-call-to-action"]],inputs:{title:"title",content:"content",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor",titleColor:"titleColor",buttonBgColor:"buttonBgColor",buttonTextColor:"buttonTextColor",borderRadius:"borderRadius",boxShadow:"boxShadow",page:"page",layout:"layout",businessId:"businessId",themeType:"themeType",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",location:"location",backgroundColor:"backgroundColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonLink:"buttonLink",alignText:"alignText",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax"},decls:8,vars:22,consts:[[1,"cta-container",3,"ngClass","ngStyle"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-btn",3,"ngStyle","click"],["href","#",1,"cta-btn",3,"ngStyle","click"]],template:function(it,lt){if(1&it&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s(),o.j41(3,"p",1),o.EFF(4),o.k0s(),o.DNE(5,ye,3,5,"ng-container",2),o.DNE(6,Re,2,5,"ng-template",null,3,o.C5r),o.k0s()),2&it){const xt=o.sdS(7);o.Y8G("ngClass",o.sMw(8,be,lt.fullWidth,!lt.fullWidth,lt.boxShadow))("ngStyle",o.ziG(12,je,lt.backgroundColor,lt.textColor,lt.alignText,lt.borderRadius+"px")),o.R7$(1),o.Y8G("ngStyle",o.l_i(17,Fe,lt.titleColor,lt.titleFontSize+"px")),o.R7$(1),o.JRh(lt.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(20,J,lt.textColor)),o.R7$(1),o.JRh(lt.content),o.R7$(1),o.Y8G("ngIf",lt.isButton)("ngIfElse",xt)}},dependencies:[s.YU,s.bT,s.B3]})}}return ae})()},7304:(rn,Je,F)=>{F.d(Je,{W:()=>Ze});var o=F(7705),de=F(345),s=F(6814),ve=F(177);let ye=(()=>{class Ve{transform($e,Ot){if(!$e||!Ot)return $e;let Ce=$e;for(const qt in Ot)if(Ot.hasOwnProperty(qt)){const pn=new RegExp(`{{${qt}}}`,"g");Ce=Ce.replace(pn,Ot[qt])}return Ce}static{this.\u0275fac=function(Ot){return new(Ot||Ve)}}static{this.\u0275pipe=o.EJ8({name:"replaceKeyword",type:Ve,pure:!0})}}return Ve})();const Re=function(Ve){return{"text-align":Ve}},be=function(Ve,et){return{color:Ve,"font-size":et}},je=function(Ve){return{businessName:Ve}};function Fe(Ve,et){if(1&Ve&&(o.j41(0,"div")(1,"div",9)(2,"span",10),o.EFF(3),o.nI1(4,"replaceKeyword"),o.k0s(),o.nrm(5,"br"),o.j41(6,"span",11),o.EFF(7),o.k0s()()()),2&Ve){const $e=o.XpG(2);o.R7$(1),o.Y8G("ngStyle",o.eq3(8,Re,$e.alignText)),o.R7$(1),o.Y8G("ngStyle",o.l_i(10,be,$e.subtitleColor,$e.subtitleFontSize+"px")),o.R7$(1),o.JRh(o.i5U(4,5,$e.subTitle,o.eq3(13,je,$e._businessName))),o.R7$(3),o.Y8G("ngStyle",o.l_i(15,be,$e.titleColor,$e.titleFontSize+"px")),o.R7$(1),o.SpI("",$e.title," ")}}function J(Ve,et){if(1&Ve&&(o.j41(0,"div")(1,"h3")(2,"span",12),o.EFF(3),o.nI1(4,"replaceKeyword"),o.k0s()(),o.j41(5,"div",13)(6,"h2",14),o.EFF(7),o.k0s()()()),2&Ve){const $e=o.XpG(2);o.R7$(3),o.JRh(o.i5U(4,2,$e.subTitle,o.eq3(5,je,$e._businessName))),o.R7$(4),o.JRh($e.title)}}function te(Ve,et){if(1&Ve){const $e=o.RV6();o.j41(0,"button",15),o.bIt("click",function(){o.eBV($e);const Ce=o.XpG(2);return o.Njj(Ce.navigateToContact(Ce.buttonLink))}),o.EFF(1),o.k0s()}if(2&Ve){const $e=o.XpG(2);o.R7$(1),o.JRh($e.buttonText)}}const ae=function(Ve,et,$e){return{"full-width":Ve,centered:et,shadow:$e}},Ae=function(Ve,et,$e,Ot){return{"background-color":Ve,color:et,"text-align":$e,"border-radius":Ot}};function _e(Ve,et){if(1&Ve&&(o.j41(0,"div",2)(1,"div",3)(2,"div",4),o.DNE(3,Fe,8,18,"div",5),o.DNE(4,J,8,7,"div",5),o.nrm(5,"p",6),o.j41(6,"div",7),o.DNE(7,te,2,1,"button",8),o.k0s()()()()),2&Ve){const $e=o.XpG();o.Y8G("ngClass",o.sMw(6,ae,$e.fullWidth,!$e.fullWidth,$e.boxShadow))("ngStyle",o.ziG(10,Ae,$e.backgroundColor,$e.textColor,$e.alignText,$e.borderRadius+"px")),o.R7$(3),o.Y8G("ngIf","home"==$e.page),o.R7$(1),o.Y8G("ngIf","home"!=$e.page),o.R7$(1),o.Y8G("innerHTML",$e.sanitizedContent,o.npT),o.R7$(2),o.Y8G("ngIf",$e.showButton)}}function it(Ve,et){if(1&Ve&&o.nrm(0,"img",19),2&Ve){const $e=o.XpG(2);o.Y8G("src",$e.imageURL,o.B4B)}}function lt(Ve,et){1&Ve&&(o.j41(0,"button",20),o.EFF(1,"Schedule A Visit"),o.k0s())}function xt(Ve,et){if(1&Ve&&(o.j41(0,"div",2),o.DNE(1,it,1,1,"img",16),o.j41(2,"h3",17),o.EFF(3),o.k0s(),o.j41(4,"h2",17),o.EFF(5),o.k0s(),o.nrm(6,"p",6),o.DNE(7,lt,2,0,"button",18),o.k0s()),2&Ve){const $e=o.XpG();o.Y8G("ngClass",o.sMw(7,ae,$e.fullWidth,!$e.fullWidth,$e.boxShadow))("ngStyle",o.ziG(11,Ae,$e.backgroundColor,$e.textColor,$e.alignText,$e.borderRadius+"px")),o.R7$(1),o.Y8G("ngIf",$e.imageURL&&$e.showImage),o.R7$(2),o.JRh($e.subTitle),o.R7$(2),o.JRh($e.title),o.R7$(1),o.Y8G("innerHTML",$e.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",$e.showButton)}}function kt(Ve,et){if(1&Ve&&o.nrm(0,"img",19),2&Ve){const $e=o.XpG(2);o.Y8G("src",$e.imageURL,o.B4B)}}function Qt(Ve,et){if(1&Ve&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&Ve){const $e=o.XpG(2);o.R7$(1),o.SpI(" ",$e.titleParts.part2,"")}}function ze(Ve,et){1&Ve&&(o.j41(0,"button",20),o.EFF(1,"Schedule A Visit"),o.k0s())}function we(Ve,et){if(1&Ve&&(o.j41(0,"div",21),o.DNE(1,kt,1,1,"img",16),o.j41(2,"div",22)(3,"h3"),o.EFF(4),o.k0s(),o.j41(5,"h2"),o.DNE(6,Qt,2,1,"span",5),o.k0s(),o.nrm(7,"div",23)(8,"p",6),o.k0s(),o.DNE(9,ze,2,0,"button",18),o.k0s()),2&Ve){const $e=o.XpG();o.Y8G("ngClass",o.sMw(7,ae,$e.fullWidth,!$e.fullWidth,$e.boxShadow))("ngStyle",o.ziG(11,Ae,$e.backgroundColor,$e.textColor,$e.alignText,$e.borderRadius+"px")),o.R7$(1),o.Y8G("ngIf",$e.imageURL&&$e.showImage),o.R7$(3),o.SpI(" ",$e.titleParts.part1,""),o.R7$(2),o.Y8G("ngIf",$e.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",$e.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",$e.showButton)}}let Ze=(()=>{class Ve{constructor($e,Ot){this.sanitizer=$e,this.router=Ot,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Center Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Center Text- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content($e){this._content=$e,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[$e,Ot]=this.title.split("|").map(Ce=>Ce.trim());return{part1:$e,part2:Ot}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact($e){this.router.navigate([$e])}convertToBoolean($e){return"boolean"==typeof $e?$e:"string"==typeof $e&&"true"===$e.toLowerCase()}static{this.\u0275fac=function(Ot){return new(Ot||Ve)(o.rXU(de.up),o.rXU(s.Ix))}}static{this.\u0275cmp=o.VBU({type:Ve,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",content:"content"},decls:3,vars:3,consts:[["class","center-text-container",3,"ngClass","ngStyle",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass","ngStyle",4,"ngIf"],[1,"center-text-container",3,"ngClass","ngStyle"],[1,"center-text-overlay"],[1,"center-text-content"],[4,"ngIf"],[1,"center-text-description",3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],[1,"features-section-heading",3,"ngStyle"],[1,"features-section-title","highlight",3,"ngStyle"],[1,"features-section-title","main",3,"ngStyle"],[1,"brand-name"],[1,"heading-container"],[1,"styled-heading"],["type","button",1,"afhBtn",3,"click"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass","ngStyle"],[1,"text-container"],[1,"separator2"]],template:function(Ot,Ce){1&Ot&&(o.DNE(0,_e,8,15,"div",0),o.DNE(1,xt,8,16,"div",0),o.DNE(2,we,10,16,"div",1)),2&Ot&&(o.Y8G("ngIf","hh"==Ce.themeType),o.R7$(1),o.Y8G("ngIf","ae"==Ce.themeType),o.R7$(1),o.Y8G("ngIf","sb"==Ce.themeType||"sp"==Ce.themeType||"prestige"==Ce.themeType))},dependencies:[ve.YU,ve.bT,ve.B3,ye]})}}return Ve})()},3967:(rn,Je,F)=>{F.d(Je,{t:()=>te});var o=F(7705),de=F(345),s=F(6814),ve=F(177);const ye=function(ae,Ae,_e){return{"full-width":ae,centered:Ae,shadow:_e}},Re=function(ae,Ae,_e,it){return{"background-color":ae,color:Ae,"text-align":_e,"border-radius":it}},be=function(ae,Ae){return{color:ae,"font-size":Ae}};function je(ae,Ae){if(1&ae){const _e=o.RV6();o.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),o.EFF(4),o.k0s(),o.j41(5,"span",6),o.EFF(6),o.k0s()(),o.nrm(7,"p",7),o.j41(8,"button",8),o.bIt("click",function(){o.eBV(_e);const lt=o.XpG();return o.Njj(lt.navigateTo("resident-form"))}),o.EFF(9,"Get Started"),o.k0s()()()}if(2&ae){const _e=o.XpG();o.Y8G("ngClass",o.sMw(7,ye,_e.fullWidth,!_e.fullWidth,_e.boxShadow))("ngStyle",o.ziG(11,Re,_e.backgroundColor,_e.textColor,_e.alignText,_e.borderRadius+"px")),o.R7$(3),o.Y8G("ngStyle",o.l_i(16,be,_e.titleColor,_e.titleFontSize+"px")),o.R7$(1),o.SpI("",_e.title," "),o.R7$(1),o.Y8G("ngStyle",o.l_i(19,be,_e.subtitleColor,_e.subtitleFontSize+"px")),o.R7$(1),o.JRh(_e.subTitle),o.R7$(1),o.Y8G("innerHTML",_e.sanitizedContent,o.npT)}}function Fe(ae,Ae){if(1&ae){const _e=o.RV6();o.qex(0,2),o.j41(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),o.EFF(6),o.k0s(),o.j41(7,"span",14),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.EFF(11),o.j41(12,"div",15)(13,"button",16),o.bIt("click",function(){o.eBV(_e);const lt=o.XpG();return o.Njj(lt.navigateToContact(lt.businessId))}),o.EFF(14,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&ae){const _e=o.XpG();o.Y8G("ngClass",o.sMw(8,ye,_e.fullWidth,!_e.fullWidth,_e.boxShadow))("ngStyle",o.ziG(12,Re,_e.backgroundColor,_e.textColor,_e.alignText,_e.borderRadius+"px")),o.R7$(5),o.Y8G("ngStyle",o.l_i(17,be,_e.titleColor,_e.titleFontSize+"px")),o.R7$(1),o.SpI(" ",_e.title," Ready to experience "),o.R7$(1),o.Y8G("ngStyle",o.l_i(20,be,_e.subtitleColor,_e.subtitleFontSize+"px")),o.R7$(1),o.Lme("",_e.subTitle,"",_e._businessName,"?"),o.R7$(3),o.SpI(" ",_e.content," ")}}function J(ae,Ae){if(1&ae){const _e=o.RV6();o.qex(0,2),o.j41(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",17),o.EFF(6,"Ready to experience "),o.k0s(),o.j41(7,"span",18),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.j41(11,"div",15)(12,"button",19),o.bIt("click",function(){o.eBV(_e);const lt=o.XpG();return o.Njj(lt.navigateToContact(lt.businessId))}),o.EFF(13,"Let's Talk"),o.k0s()()()()(),o.bVm()}if(2&ae){const _e=o.XpG();o.Y8G("ngClass",o.sMw(3,ye,_e.fullWidth,!_e.fullWidth,_e.boxShadow))("ngStyle",o.ziG(7,Re,_e.backgroundColor,_e.textColor,_e.alignText,_e.borderRadius+"px")),o.R7$(8),o.SpI("",_e._businessName,"?")}}let te=(()=>{class ae{set content(_e){this._content=_e,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}constructor(_e,it){this.sanitizer=_e,this.router=it,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.businessId=""}navigateToContact(_e){this.router.navigate(["/contact-us"],{queryParams:{id:_e}})}navigateTo(_e){this.router.navigate(["/"+_e],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(it){return new(it||ae)(o.rXU(de.up),o.rXU(s.Ix))}}static{this.\u0275cmp=o.VBU({type:ae,selectors:[["app-consultation"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",businessId:"businessId",content:"content"},decls:4,vars:4,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[3,"ngClass","ngStyle"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main",3,"ngStyle"],[1,"section-title-highlight",3,"ngStyle"],[1,"section-description",3,"innerHTML"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main",3,"ngStyle"],[1,"consultation-title","highlight",3,"ngStyle"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"btn",3,"click"]],template:function(it,lt){1&it&&(o.j41(0,"div",0),o.DNE(1,je,10,22,"div",1),o.DNE(2,Fe,15,23,"ng-container",1),o.DNE(3,J,14,12,"ng-container",1),o.k0s()),2&it&&(o.Y8G("ngSwitch",lt.themeType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","sb"))},dependencies:[ve.YU,ve.B3,ve.ux,ve.e1]})}}return ae})()},3711:(rn,Je,F)=>{F.d(Je,{a:()=>Re});var o=F(7705),de=F(4710),s=F(177);function ve(be,je){1&be&&(o.qex(0),o.nrm(1,"div",3),o.bVm())}function ye(be,je){1&be&&(o.qex(0),o.nrm(1,"div",4),o.bVm())}let Re=(()=>{class be{constructor(Fe){this.googleMapsLoader=Fe,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Fe=>{console.error("Error loading Google Maps script:",Fe)})}ngOnChanges(Fe){Fe.address&&!Fe.address.firstChange&&this.showAddressOnMap(Fe.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Fe){this.geocoder.geocode({address:Fe},(J,te)=>{if("OK"===te){this.map.setCenter(J[0].geometry.location);const ae=new google.maps.LatLngBounds;ae.extend(J[0].geometry.location),this.map.fitBounds(ae),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:J[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+te)})}getZoomLevel(Fe){document.getElementById("map");const ae=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Fe*ae)))}static{this.\u0275fac=function(J){return new(J||be)(o.rXU(de.L))}}static{this.\u0275cmp=o.VBU({type:be,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[o.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(J,te){1&J&&(o.j41(0,"div",0),o.qex(1),o.DNE(2,ve,2,0,"ng-container",1),o.DNE(3,ye,2,0,"ng-container",2),o.bVm(),o.k0s()),2&J&&(o.Y8G("ngSwitch",te.layoutType),o.R7$(2),o.Y8G("ngSwitchCase","clemo"))},dependencies:[s.ux,s.e1,s.fG],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return be})()},1915:(rn,Je,F)=>{F.d(Je,{j:()=>ir});var o=F(7705),de=F(6814),s=F(177),ve=F(4591);function ye(Ye,Pt){if(1&Ye&&(o.j41(0,"div",11)(1,"div",12),o.nrm(2,"i",13),o.j41(3,"h2"),o.EFF(4),o.k0s()(),o.j41(5,"div",14)(6,"p"),o.EFF(7),o.k0s()()()),2&Ye){const Ue=Pt.$implicit;o.R7$(2),o.Y8G("ngClass",Ue.icon),o.R7$(2),o.JRh(Ue.title),o.R7$(3),o.JRh(Ue.description)}}const Re=function(Ye){return{color:Ye}};function be(Ye,Pt){if(1&Ye&&(o.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"div",9),o.DNE(6,ye,8,3,"div",10),o.k0s()()()),2&Ye){const Ue=o.XpG(2);o.R7$(3),o.Y8G("ngStyle",o.eq3(3,Re,Ue.titleColor)),o.R7$(1),o.JRh(Ue.title),o.R7$(2),o.Y8G("ngForOf",Ue.items)}}function je(Ye,Pt){if(1&Ye&&(o.j41(0,"div",20),o.nrm(1,"i",21),o.j41(2,"h2",22),o.EFF(3),o.k0s(),o.j41(4,"p",22),o.EFF(5),o.k0s()()),2&Ye){const Ue=Pt.$implicit,ct=o.XpG(3);o.R7$(1),o.Y8G("ngStyle",o.eq3(6,Re,ct.textColor))("ngClass",Ue.icon),o.R7$(1),o.Y8G("ngStyle",o.eq3(8,Re,ct.subtitleColor)),o.R7$(1),o.JRh(Ue.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(10,Re,ct.textColor)),o.R7$(1),o.JRh(Ue.description)}}function Fe(Ye,Pt){if(1&Ye&&(o.j41(0,"div")(1,"div")(2,"div",7)(3,"div",15)(4,"span",16),o.EFF(5),o.k0s(),o.j41(6,"span",17),o.EFF(7),o.k0s()()(),o.j41(8,"div",18),o.DNE(9,je,6,12,"div",19),o.k0s()()()),2&Ye){const Ue=o.XpG(2);o.R7$(5),o.SpI("",Ue.title," "),o.R7$(2),o.JRh(Ue.subTitle),o.R7$(2),o.Y8G("ngForOf",Ue.items)}}const J=function(Ye,Pt,Ue,ct,Oe,st){return{"parallax-container":Ye,"regular-image-container":Pt,"solid-bg-container":Ue,"full-width":ct,centered:Oe,shadow:st}},te=function(Ye,Pt,Ue,ct,Oe){return{"background-image":Ye,"background-color":Pt,color:Ue,"text-align":ct,"border-radius":Oe}};function ae(Ye,Pt){if(1&Ye&&(o.j41(0,"section",4)(1,"div"),o.DNE(2,be,7,5,"div",5),o.DNE(3,Fe,10,3,"div",5),o.k0s()()),2&Ye){const Ue=o.XpG();o.Y8G("ngClass",o.l4e(4,J,Ue.isParallax&&Ue.sectionImageUrl,!Ue.isParallax&&Ue.sectionImageUrl,!Ue.sectionImageUrl,Ue.fullWidth,!Ue.fullWidth,Ue.boxShadow))("ngStyle",o.s1E(11,te,Ue.sectionImageUrl?"url("+Ue.sectionImageUrl+")":"none",Ue.backgroundColor,Ue.textColor,Ue.alignText,Ue.borderRadius+"px")),o.R7$(2),o.Y8G("ngIf",!Ue.isMinimal),o.R7$(1),o.Y8G("ngIf",Ue.isMinimal)}}function Ae(Ye,Pt){if(1&Ye&&(o.j41(0,"div",11)(1,"div",12),o.nrm(2,"i",13),o.j41(3,"h2"),o.EFF(4),o.k0s()(),o.j41(5,"div",14)(6,"p"),o.EFF(7),o.k0s()()()),2&Ye){const Ue=Pt.$implicit;o.R7$(2),o.Y8G("ngClass",Ue.icon),o.R7$(2),o.JRh(Ue.title),o.R7$(3),o.JRh(Ue.description)}}function _e(Ye,Pt){if(1&Ye&&(o.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"div",9),o.DNE(6,Ae,8,3,"div",10),o.k0s()()()),2&Ye){const Ue=o.XpG(2);o.R7$(3),o.Y8G("ngStyle",o.eq3(3,Re,Ue.titleColor)),o.R7$(1),o.JRh(Ue.title),o.R7$(2),o.Y8G("ngForOf",Ue.items)}}function it(Ye,Pt){if(1&Ye&&(o.j41(0,"div",27),o.nrm(1,"i",28),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()),2&Ye){const Ue=Pt.$implicit;o.R7$(1),o.Y8G("ngClass",Ue.icon),o.R7$(2),o.JRh(Ue.title),o.R7$(2),o.JRh(Ue.description)}}function lt(Ye,Pt){if(1&Ye){const Ue=o.RV6();o.j41(0,"div",29)(1,"button",30),o.bIt("click",function(){o.eBV(Ue);const Oe=o.XpG(3);return o.Njj(Oe.navigateTo("contact-us"))}),o.EFF(2),o.k0s()()}if(2&Ye){const Ue=o.XpG(3);o.R7$(2),o.JRh(Ue.buttonText)}}const xt=function(Ye,Pt,Ue){return{"parallax-container":Ye,"regular-image-container":Pt,"solid-bg-container":Ue}},kt=function(Ye){return{"background-image":Ye}};function Qt(Ye,Pt){if(1&Ye&&(o.j41(0,"div"),o.nrm(1,"app-section-tilte",23),o.j41(2,"div",24)(3,"div",18),o.DNE(4,it,6,3,"div",25),o.k0s()(),o.DNE(5,lt,3,1,"div",26),o.k0s()),2&Ye){const Ue=o.XpG(2);o.R7$(1),o.Y8G("titleColor",Ue.titleColor)("title",Ue.title),o.R7$(1),o.Y8G("ngClass",o.sMw(6,xt,Ue.isParallax&&Ue.sectionImageUrl,!Ue.isParallax&&Ue.sectionImageUrl,!Ue.sectionImageUrl))("ngStyle",o.eq3(10,kt,Ue.sectionImageUrl?"url("+Ue.sectionImageUrl+")":"none")),o.R7$(2),o.Y8G("ngForOf",Ue.items),o.R7$(1),o.Y8G("ngIf",Ue.showButton)}}function ze(Ye,Pt){if(1&Ye&&(o.j41(0,"section",4)(1,"div"),o.DNE(2,_e,7,5,"div",5),o.DNE(3,Qt,6,12,"div",5),o.k0s()()),2&Ye){const Ue=o.XpG();o.Y8G("ngClass",o.l4e(4,J,Ue.isParallax&&Ue.sectionImageUrl,!Ue.isParallax&&Ue.sectionImageUrl,!Ue.sectionImageUrl,Ue.fullWidth,!Ue.fullWidth,Ue.boxShadow))("ngStyle",o.s1E(11,te,Ue.sectionImageUrl?"url("+Ue.sectionImageUrl+")":"none",Ue.backgroundColor,Ue.textColor,Ue.alignText,Ue.borderRadius+"px")),o.R7$(2),o.Y8G("ngIf",!Ue.isMinimal),o.R7$(1),o.Y8G("ngIf",Ue.isMinimal)}}function we(Ye,Pt){if(1&Ye&&(o.j41(0,"div",11)(1,"div",12),o.nrm(2,"i",13),o.j41(3,"h2"),o.EFF(4),o.k0s()(),o.j41(5,"div",14)(6,"p"),o.EFF(7),o.k0s()()()),2&Ye){const Ue=Pt.$implicit;o.R7$(2),o.Y8G("ngClass",Ue.icon),o.R7$(2),o.JRh(Ue.title),o.R7$(3),o.JRh(Ue.description)}}const Ze=function(Ye,Pt,Ue,ct,Oe){return{"parallax-container":Ye,"regular-image-container":Pt,"solid-bg-container":Ue,"full-width":ct,centered:Oe}};function Ve(Ye,Pt){if(1&Ye&&(o.j41(0,"div")(1,"section",32)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"h3",33),o.EFF(6),o.k0s(),o.j41(7,"div",9),o.DNE(8,we,8,3,"div",10),o.k0s()()()),2&Ye){const Ue=o.XpG(2);o.R7$(1),o.Y8G("ngClass",o.s1E(6,Ze,Ue.isParallax&&Ue.sectionImageUrl,!Ue.isParallax&&Ue.sectionImageUrl,!Ue.sectionImageUrl,Ue.fullWidth,!Ue.fullWidth)),o.R7$(2),o.Y8G("ngStyle",o.eq3(12,Re,Ue.titleColor)),o.R7$(1),o.JRh(Ue.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(14,Re,Ue.subtitleColor)),o.R7$(1),o.JRh(Ue.subTitle),o.R7$(2),o.Y8G("ngForOf",Ue.items)}}function et(Ye,Pt){if(1&Ye&&(o.j41(0,"div",27),o.nrm(1,"i",34),o.j41(2,"h2",22),o.EFF(3),o.k0s(),o.j41(4,"p",22),o.EFF(5),o.k0s()()),2&Ye){const Ue=Pt.$implicit,ct=o.XpG(3);o.R7$(1),o.Y8G("ngStyle",o.eq3(6,Re,ct.titleColor))("ngClass",Ue.icon),o.R7$(1),o.Y8G("ngStyle",o.eq3(8,Re,ct.titleColor)),o.R7$(1),o.JRh(Ue.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(10,Re,ct.subtitleColor)),o.R7$(1),o.JRh(Ue.description)}}const $e=function(Ye,Pt,Ue){return{"background-image":Ye,"background-color":Pt,color:Ue}};function Ot(Ye,Pt){if(1&Ye&&(o.j41(0,"div")(1,"div",24)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"div",18),o.DNE(6,et,6,12,"div",25),o.k0s()()()),2&Ye){const Ue=o.XpG(2);o.R7$(1),o.Y8G("ngClass",o.s1E(5,Ze,Ue.isParallax&&Ue.sectionImageUrl,!Ue.isParallax&&Ue.sectionImageUrl,!Ue.sectionImageUrl,Ue.fullWidth,!Ue.fullWidth))("ngStyle",o.sMw(11,$e,Ue.sectionImageUrl?"url("+Ue.sectionImageUrl+")":"none",Ue.backgroundColor,Ue.textColor)),o.R7$(2),o.Y8G("ngStyle",o.eq3(15,Re,Ue.titleColor)),o.R7$(1),o.JRh(Ue.title),o.R7$(2),o.Y8G("ngForOf",Ue.items)}}function Ce(Ye,Pt){if(1&Ye&&(o.j41(0,"section",31)(1,"div"),o.DNE(2,Ve,9,16,"div",5),o.DNE(3,Ot,7,17,"div",5),o.k0s()()),2&Ye){const Ue=o.XpG();o.R7$(2),o.Y8G("ngIf",!Ue.isMinimal),o.R7$(1),o.Y8G("ngIf",Ue.isMinimal)}}function qt(Ye,Pt){if(1&Ye&&(o.j41(0,"div",39)(1,"div",40),o.nrm(2,"i",41),o.k0s(),o.j41(3,"div",42)(4,"h2",43),o.EFF(5),o.k0s(),o.j41(6,"p",44),o.EFF(7),o.k0s()()()),2&Ye){const Ue=Pt.$implicit;o.R7$(2),o.Y8G("ngClass",Ue.icon),o.R7$(3),o.JRh(Ue.name),o.R7$(2),o.JRh(Ue.description)}}function pn(Ye,Pt){if(1&Ye&&(o.j41(0,"section",35),o.nrm(1,"app-section-tilte",36),o.j41(2,"div",37),o.DNE(3,qt,8,3,"div",38),o.k0s()()),2&Ye){const Ue=o.XpG();o.R7$(1),o.Y8G("title","Our Services"),o.R7$(2),o.Y8G("ngForOf",Ue.items)}}let ir=(()=>{class Ye{constructor(Ue){this.router=Ue,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(Ue){return"boolean"==typeof Ue?Ue:"string"==typeof Ue&&"true"===Ue.toLowerCase()}navigateTo(Ue){this.router.navigate(["/"+Ue],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(ct){return new(ct||Ye)(o.rXU(de.Ix))}}static{this.\u0275cmp=o.VBU({type:Ye,selectors:[["app-item-list"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId"},decls:5,vars:4,consts:[[1,"item-list-container"],["class","services-list-section",3,"ngClass","ngStyle",4,"ngIf"],["class","services-list-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"styled-heading",3,"ngStyle"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[2,"display","flex"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-description"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"services-grid"],["class","services-grid-item",4,"ngFor","ngForOf"],[1,"services-grid-item"],[1,"services-grid-item-icon",3,"ngStyle","ngClass"],[3,"ngStyle"],[3,"titleColor","title"],[3,"ngClass","ngStyle"],["class","service-item",4,"ngFor","ngForOf"],["class","button-container",4,"ngIf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"button-container"],["type","button",1,"cta-btn",3,"click"],[1,"services-list-section"],[1,"our-services-section",3,"ngClass"],[1,"our-services-description",3,"ngStyle"],[1,"services-item-icon",3,"ngStyle","ngClass"],[1,"sb-services-section"],[3,"title"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-service-icon-wrapper"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-content"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(ct,Oe){1&ct&&(o.j41(0,"div",0),o.DNE(1,ae,4,17,"section",1),o.DNE(2,ze,4,17,"section",1),o.DNE(3,Ce,4,2,"section",2),o.DNE(4,pn,4,2,"section",3),o.k0s()),2&ct&&(o.R7$(1),o.Y8G("ngIf","hh"===Oe.themeType),o.R7$(1),o.Y8G("ngIf","ae"===Oe.themeType),o.R7$(1),o.Y8G("ngIf","prestige"===Oe.themeType),o.R7$(1),o.Y8G("ngIf","sb"==Oe.themeType||"sp"==Oe.themeType))},dependencies:[s.YU,s.Sq,s.bT,s.B3,ve.L]})}}return Ye})()},491:(rn,Je,F)=>{F.d(Je,{G:()=>J});var o=F(7705),de=F(345),s=F(6814),ve=F(177);const ye=function(te,ae,Ae){return{"full-width":te,centered:ae,shadow:Ae}},Re=function(te,ae,Ae,_e){return{"background-color":te,color:ae,"text-align":Ae,"border-radius":_e}};function be(te,ae){if(1&te&&(o.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),o.EFF(4),o.k0s()(),o.nrm(5,"p",6),o.k0s(),o.j41(6,"div",7),o.nrm(7,"img",8),o.k0s()()),2&te){const Ae=o.XpG();o.Y8G("ngClass",o.sMw(6,ye,Ae.fullWidth,!Ae.fullWidth,Ae.boxShadow))("ngStyle",o.ziG(10,Re,Ae.backgroundColor,Ae.textColor,Ae.alignText,Ae.borderRadius+"px")),o.R7$(4),o.JRh(Ae.title),o.R7$(1),o.Y8G("innerHTML",Ae.sanitizedContent,o.npT),o.R7$(2),o.FS9("src",Ae.sectionImageUrl,o.B4B),o.FS9("alt",Ae.title)}}function je(te,ae){if(1&te&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&te){const Ae=o.XpG(2);o.R7$(1),o.SpI(" ",Ae.titleParts.part2,"")}}function Fe(te,ae){if(1&te&&(o.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",3)(4,"h3"),o.EFF(5),o.k0s(),o.j41(6,"h2"),o.DNE(7,je,2,1,"span",12),o.k0s(),o.nrm(8,"div",13)(9,"p",6),o.k0s(),o.j41(10,"div",14),o.nrm(11,"img",8),o.k0s()()()()),2&te){const Ae=o.XpG();o.R7$(5),o.SpI(" ",Ae.titleParts.part1," "),o.R7$(2),o.Y8G("ngIf",Ae.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",Ae.sanitizedContent,o.npT),o.R7$(2),o.FS9("src",Ae.sectionImageUrl,o.B4B),o.FS9("alt",Ae.title)}}let J=(()=>{class te{constructor(Ae,_e){this.sanitizer=Ae,this.router=_e,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Left Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Left Text- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Ae){this._content=Ae,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[Ae,_e]=this.title.split("|").map(it=>it.trim());return{part1:Ae,part2:_e}}return{part1:this.title,part2:null}}get contentText(){return this._content}convertToBoolean(Ae){return"boolean"==typeof Ae?Ae:"string"==typeof Ae&&"true"===Ae.toLowerCase()}static{this.\u0275fac=function(_e){return new(_e||te)(o.rXU(de.up),o.rXU(s.Ix))}}static{this.\u0275cmp=o.VBU({type:te,selectors:[["app-left-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",content:"content"},decls:2,vars:2,consts:[["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],[1,"left-image-container"]],template:function(_e,it){1&_e&&(o.DNE(0,be,8,15,"section",0),o.DNE(1,Fe,12,5,"section",1)),2&_e&&(o.Y8G("ngIf","hh"===it.themeType),o.R7$(1),o.Y8G("ngIf","clemo"===it.themeType||"ae"===it.themeType||"sb"===it.themeType||"sp"===it.themeType||"prestige"===it.themeType))},dependencies:[ve.YU,ve.bT,ve.B3]})}}return te})()},4593:(rn,Je,F)=>{F.d(Je,{F:()=>J});var o=F(7705),de=F(345),s=F(6814),ve=F(177);const ye=function(te,ae,Ae){return{"full-width":te,centered:ae,shadow:Ae}},Re=function(te,ae,Ae,_e){return{"background-color":te,color:ae,"text-align":Ae,"border-radius":_e}};function be(te,ae){if(1&te&&(o.j41(0,"section",2)(1,"div",3),o.nrm(2,"img",4),o.k0s(),o.j41(3,"div",5)(4,"div",6)(5,"h2",7),o.EFF(6),o.k0s()(),o.nrm(7,"p",8),o.k0s()()),2&te){const Ae=o.XpG();o.Y8G("ngClass",o.sMw(6,ye,Ae.fullWidth,!Ae.fullWidth,Ae.boxShadow))("ngStyle",o.ziG(10,Re,Ae.backgroundColor,Ae.textColor,Ae.alignText,Ae.borderRadius+"px")),o.R7$(2),o.FS9("src",Ae.sectionImageUrl,o.B4B),o.FS9("alt",Ae.title),o.R7$(4),o.JRh(Ae.title),o.R7$(1),o.Y8G("innerHTML",Ae.sanitizedContent,o.npT)}}function je(te,ae){if(1&te&&(o.j41(0,"h2")(1,"span"),o.EFF(2),o.k0s()()),2&te){const Ae=o.XpG(2);o.R7$(2),o.JRh(Ae.titleParts.part2)}}function Fe(te,ae){if(1&te&&(o.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",12),o.nrm(4,"img",4),o.k0s(),o.j41(5,"div",5)(6,"h3"),o.EFF(7),o.k0s(),o.DNE(8,je,3,1,"h2",13),o.nrm(9,"div",14),o.j41(10,"p",8),o.EFF(11),o.k0s()()()()()),2&te){const Ae=o.XpG();o.R7$(4),o.FS9("src",Ae.sectionImageUrl,o.B4B),o.FS9("alt",Ae.title),o.R7$(3),o.JRh(Ae.titleParts.part1),o.R7$(1),o.Y8G("ngIf",Ae.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",Ae.sanitizedContent,o.npT),o.R7$(1),o.JRh(Ae.content)}}let J=(()=>{class te{constructor(Ae,_e){this.sanitizer=Ae,this.router=_e,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Right Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Right Text- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Ae){this._content=Ae,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(Ae)}get titleParts(){if(this.title.includes("|")){const[Ae,_e]=this.title.split("|").map(it=>it.trim());return{part1:Ae,part2:_e}}return{part1:this.title,part2:null}}get content(){return this._content}convertToBoolean(Ae){return"boolean"==typeof Ae?Ae:"string"==typeof Ae&&"true"===Ae.toLowerCase()}static{this.\u0275fac=function(_e){return new(_e||te)(o.rXU(de.up),o.rXU(s.Ix))}}static{this.\u0275cmp=o.VBU({type:te,selectors:[["app-right-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",content:"content"},decls:2,vars:2,consts:[["class","right-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"right-text-section",3,"ngClass","ngStyle"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"]],template:function(_e,it){1&_e&&(o.DNE(0,be,8,15,"section",0),o.DNE(1,Fe,12,6,"section",1)),2&_e&&(o.Y8G("ngIf","hh"===it.themeType),o.R7$(1),o.Y8G("ngIf","clemo"===it.themeType||"ae"===it.themeType||"sb"===it.themeType||"sp"===it.themeType||"prestige"===it.themeType))},dependencies:[ve.YU,ve.bT,ve.B3]})}}return te})()},4591:(rn,Je,F)=>{F.d(Je,{L:()=>ve});var o=F(7705),de=F(177);const s=function(ye){return{color:ye}};let ve=(()=>{class ye{constructor(){this.titleColor="#000000"}static{this.\u0275fac=function(je){return new(je||ye)}}static{this.\u0275cmp=o.VBU({type:ye,selectors:[["app-section-tilte"]],inputs:{title:"title",titleColor:"titleColor"},decls:3,vars:4,consts:[[1,"center-text-section"],[1,"center-text-title",3,"ngStyle"]],template:function(je,Fe){1&je&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s()()),2&je&&(o.R7$(1),o.Y8G("ngStyle",o.eq3(2,s,Fe.titleColor)),o.R7$(1),o.JRh(Fe.title))},dependencies:[de.B3],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color);padding-bottom:3rem}"]})}}return ye})()},8353:(rn,Je,F)=>{F.d(Je,{B:()=>Ne});var o=F(7705),de=F(7304),s=F(4593),ve=F(491),ye=F(6814),Re=F(923),be=F(177);const je=function(fe,gt){return{"clemo-btn":fe,"clemo-btn-outline":gt}},Fe=function(fe){return{"border-radius":fe}};function J(fe,gt){if(1&fe&&(o.qex(0),o.j41(1,"a",14),o.EFF(2),o.k0s(),o.bVm()),2&fe){const Ee=gt.$implicit,_t=o.XpG(3);o.R7$(1),o.Y8G("routerLink",Ee.link)("ngClass",o.l_i(4,je,!Ee.outline,Ee.outline))("ngStyle",o.eq3(7,Fe,_t.buttonBorderRadius)),o.R7$(1),o.SpI(" ",Ee.text," ")}}const te=function(fe,gt){return{"font-size":fe,"font-weight":gt}};function ae(fe,gt){if(1&fe&&(o.j41(0,"div",6)(1,"h1"),o.EFF(2),o.k0s(),o.nrm(3,"div",7)(4,"h2",8),o.j41(5,"div",9),o.DNE(6,J,3,9,"ng-container",10),o.k0s(),o.j41(7,"div",11)(8,"div",12),o.nrm(9,"div",13),o.k0s(),o.j41(10,"p"),o.EFF(11,"Scroll down"),o.k0s()()()),2&fe){const Ee=o.XpG().$implicit,_t=o.XpG();o.R7$(2),o.JRh(Ee.title),o.R7$(2),o.Y8G("ngStyle",o.l_i(4,te,_t.subtitleSize,_t.subtitleWeight))("innerHTML",Ee.subtitle,o.npT),o.R7$(2),o.Y8G("ngForOf",Ee.buttons)}}const Ae=function(fe){return{backgroundImage:fe,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function _e(fe,gt){if(1&fe&&(o.j41(0,"div",3),o.nrm(1,"div",4),o.DNE(2,ae,12,7,"div",5),o.k0s()),2&fe){const Ee=gt.$implicit,_t=gt.index,Yt=o.XpG();o.AVh("clemo-active",_t===Yt.currentSlide),o.R7$(1),o.Y8G("ngStyle",o.eq3(4,Ae,"url("+Ee.backgroundImage+")")),o.R7$(1),o.Y8G("ngIf",null==Ee.title?null:Ee.title.trim())}}const it=function(fe){return{"line-style":fe}};function lt(fe,gt){if(1&fe){const Ee=o.RV6();o.j41(0,"div",19),o.bIt("click",function(){const Er=o.eBV(Ee).index,vt=o.XpG(2);return o.Njj(vt.navigateToSlide(Er))}),o.k0s()}if(2&fe){const Ee=gt.index,_t=o.XpG(2);o.AVh("clemo-active",Ee===_t.currentSlide),o.Y8G("ngClass",o.eq3(3,it,"bottom"===_t.navigation))}}function xt(fe,gt){if(1&fe){const Ee=o.RV6();o.j41(0,"button",20),o.bIt("click",function(){o.eBV(Ee);const Yt=o.XpG(2);return o.Njj(Yt.prevSlide())}),o.nrm(1,"span",21),o.j41(2,"span",22),o.EFF(3,"Previous"),o.k0s()()}}function kt(fe,gt){if(1&fe){const Ee=o.RV6();o.j41(0,"button",23),o.bIt("click",function(){o.eBV(Ee);const Yt=o.XpG(2);return o.Njj(Yt.nextSlide())}),o.nrm(1,"span",24),o.j41(2,"span",22),o.EFF(3,"Next"),o.k0s()()}}const Qt=function(fe){return{"bottom-nav":fe}};function ze(fe,gt){if(1&fe&&(o.j41(0,"div")(1,"div",15),o.DNE(2,lt,1,5,"div",16),o.k0s(),o.DNE(3,xt,4,0,"button",17),o.DNE(4,kt,4,0,"button",18),o.k0s()),2&fe){const Ee=o.XpG();o.R7$(1),o.Y8G("ngClass",o.eq3(4,Qt,"bottom"===Ee.navigation)),o.R7$(1),o.Y8G("ngForOf",Ee.slides),o.R7$(1),o.Y8G("ngIf",Ee.sideButtons),o.R7$(1),o.Y8G("ngIf",Ee.sideButtons)}}const we=function(fe,gt,Ee,_t,Yt){return{"--slider-opacity":fe,height:gt,"--button-border-radius":Ee,"--subtitle-size":_t,"--subtitle-weight":Yt}};let Ze=(()=>{class fe{constructor(Ee,_t){this.router=Ee,this.businessDataService=_t,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(Ee=>{Ee?(this.business=Ee,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?(this.slides=this.business.heroSlider.map(_t=>({title:this.replaceKeywords(_t.title),subtitle:this.replaceKeywords(_t.subtitle),backgroundImage:_t.backgroundImage,buttons:_t.buttons||[]})),console.log("slide count:",this.slides.length)):(console.warn("HeroSliderComponent - No heroSlider data available."),this.slides=[]),this.business.sliderConfig?this.applySliderConfig(this.business.sliderConfig):console.warn("HeroSliderComponent - No sliderConfig found, using default values.")):console.error("HeroSliderComponent - No business data available.")})}applySliderConfig(Ee){this.navigation=Ee.navigation??"side",this.sideButtons=Ee.sideButtons??!0,this.sliderHeight=Ee.sliderHeight??"100vh",this.buttonBorderRadius=Ee.buttonBorderRadius??"25px",this.subtitleSize=Ee.subtitleSize??"1.5rem",this.subtitleWeight=Ee.subtitleWeight??"600",console.log("HeroSliderComponent - Applied slider config:",Ee)}replaceKeywords(Ee){return Ee&&this.business?.businessName?Ee.replace(/{{businessName}}/g,this.business.businessName):Ee}navigateToSlide(Ee){this.currentSlide=Ee}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const Ee=window.scrollY,_t=window.innerHeight;this.sliderOpacity=Math.max(1-Ee/_t,0)}static{this.\u0275fac=function(_t){return new(_t||fe)(o.rXU(ye.Ix),o.rXU(Re.A))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-hero-slider"]],hostBindings:function(_t,Yt){1&_t&&o.bIt("scroll",function(vt){return Yt.onScroll(vt)},!1,o.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:3,vars:9,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","ngClass","ngStyle"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button",3,"click",4,"ngIf"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(_t,Yt){1&_t&&(o.j41(0,"div",0),o.DNE(1,_e,3,6,"div",1),o.DNE(2,ze,5,6,"div",2),o.k0s()),2&_t&&(o.Y8G("ngStyle",o.s1E(3,we,Yt.sliderOpacity,Yt.sliderHeight,Yt.buttonBorderRadius,Yt.subtitleSize,Yt.subtitleWeight)),o.R7$(1),o.Y8G("ngForOf",Yt.slides),o.R7$(1),o.Y8G("ngIf",Yt.slides.length>1))},dependencies:[be.YU,be.Sq,be.bT,be.B3,ye.Wk,ye.wQ]})}}return fe})();var Ve=F(1915);function et(fe,gt){if(1&fe&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&fe){const Ee=gt.$implicit;o.R7$(1),o.Y8G("innerHTML",Ee.title,o.npT),o.R7$(1),o.Y8G("innerHTML",Ee.description,o.npT)}}const $e=function(fe,gt,Ee){return{"full-width":fe,centered:gt,shadow:Ee}},Ot=function(fe,gt,Ee,_t){return{"background-color":fe,color:gt,"text-align":Ee,"border-radius":_t}};function Ce(fe,gt){if(1&fe&&(o.qex(0,4),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,et,3,2,"div",11),o.k0s()()(),o.bVm()),2&fe){const Ee=o.XpG();o.Y8G("ngClass",o.sMw(5,$e,Ee.fullWidth,!Ee.fullWidth,Ee.boxShadow))("ngStyle",o.ziG(9,Ot,Ee.backgroundColor,Ee.textColor,Ee.alignText,Ee.borderRadius+"px")),o.R7$(4),o.SpI("",Ee.title," "),o.R7$(2),o.JRh(Ee.subTitle),o.R7$(3),o.Y8G("ngForOf",Ee.items)}}function qt(fe,gt){1&fe&&o.eu8(0)}function pn(fe,gt){if(1&fe&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&fe){const Ee=gt.$implicit;o.R7$(1),o.Y8G("innerHTML",Ee.title,o.npT),o.R7$(1),o.Y8G("innerHTML",Ee.description,o.npT)}}function ir(fe,gt){if(1&fe&&(o.qex(0),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,pn,3,2,"div",11),o.k0s()()(),o.bVm()),2&fe){const Ee=o.XpG();o.R7$(4),o.SpI("",Ee.title," "),o.R7$(2),o.JRh(Ee.subTitle),o.R7$(3),o.Y8G("ngForOf",Ee.items)}}let Ye=(()=>{class fe{constructor(Ee){this.route=Ee,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("Features  Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Features- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(_t){return new(_t||fe)(o.rXU(ye.nX))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-features"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(_t,Yt){1&_t&&(o.j41(0,"div",0),o.DNE(1,Ce,10,14,"ng-container",1),o.DNE(2,qt,1,0,"ng-container",2),o.DNE(3,ir,10,3,"ng-container",3),o.k0s()),2&_t&&(o.Y8G("ngSwitch",Yt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[be.YU,be.Sq,be.B3,be.ux,be.e1,be.fG]})}}return fe})();function Pt(fe,gt){if(1&fe&&(o.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"strong"),o.EFF(7),o.k0s()()()()()),2&fe){const Ee=gt.$implicit;o.R7$(5),o.SpI('" ',Ee.quote,' "'),o.R7$(2),o.JRh(Ee.name)}}function Ue(fe,gt){if(1&fe&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Testimonials"),o.k0s()(),o.j41(5,"div",6),o.DNE(6,Pt,8,2,"div",7),o.k0s()(),o.bVm()),2&fe){const Ee=o.XpG();o.R7$(6),o.Y8G("ngForOf",Ee.testimonials)}}function ct(fe,gt){if(1&fe&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&fe){const Ee=gt.$implicit;o.R7$(5),o.JRh(Ee.quote),o.R7$(2),o.JRh(Ee.name)}}function Oe(fe,gt){if(1&fe&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,ct,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&fe){const Ee=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,Ee.testimonials,0,4))}}function st(fe,gt){if(1&fe&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&fe){const Ee=gt.$implicit;o.R7$(5),o.JRh(Ee.quote),o.R7$(2),o.JRh(Ee.name)}}function tn(fe,gt){if(1&fe&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,st,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&fe){const Ee=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,Ee.testimonials,0,4))}}function We(fe,gt){1&fe&&o.eu8(0)}function Pe(fe,gt){1&fe&&o.eu8(0)}let Ie=(()=>{class fe{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(Ee){this.currentIndex=Ee,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(_t){return new(_t||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"]],template:function(_t,Yt){1&_t&&(o.j41(0,"div",0),o.DNE(1,Ue,7,1,"ng-container",1),o.DNE(2,Oe,15,5,"ng-container",1),o.DNE(3,tn,15,5,"ng-container",1),o.DNE(4,We,1,0,"ng-container",1),o.DNE(5,Pe,1,0,"ng-container",2),o.k0s()),2&_t&&(o.Y8G("ngSwitch",Yt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"),o.R7$(1),o.Y8G("ngSwitchCase","prestige"))},dependencies:[be.Sq,be.ux,be.e1,be.fG,ye.Wk,be.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return fe})();var ke=F(9969),ut=F(4710);function rt(fe,gt){1&fe&&(o.j41(0,"div",16),o.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),o.k0s())}function Lt(fe,gt){if(1&fe){const Ee=o.RV6();o.j41(0,"span"),o.EFF(1,"[...]"),o.j41(2,"button",17),o.bIt("click",function(){o.eBV(Ee);const Yt=o.XpG(3);return o.Njj(Yt.navigateToTestimonials())}),o.EFF(3," Read More "),o.k0s()()}}function wn(fe,gt){if(1&fe&&(o.j41(0,"div",8)(1,"div",9)(2,"h3",10),o.EFF(3),o.k0s(),o.nrm(4,"div",11),o.j41(5,"p",12),o.EFF(6),o.k0s(),o.DNE(7,rt,2,0,"div",13),o.k0s(),o.j41(8,"div",14)(9,"p"),o.EFF(10),o.DNE(11,Lt,4,0,"span",15),o.k0s()()()),2&fe){const Ee=gt.$implicit,_t=o.XpG(2);o.Y8G("@slideIn",void 0),o.R7$(1),o.Y8G("@fadeInRight",void 0),o.R7$(2),o.JRh(Ee.name),o.R7$(3),o.JRh(Ee.relationship),o.R7$(1),o.Y8G("ngIf",Ee.isGoogle),o.R7$(1),o.Y8G("@fadeInLeft",void 0),o.R7$(2),o.SpI(" ",_t.truncateText(Ee.quote)," "),o.R7$(1),o.Y8G("ngIf",_t.isTruncated(Ee.quote))}}function nr(fe,gt){if(1&fe){const Ee=o.RV6();o.j41(0,"button",18),o.bIt("click",function(){const Er=o.eBV(Ee).index,vt=o.XpG(2);return o.Njj(vt.goToSlide(Er))}),o.EFF(1," \u25cf "),o.k0s()}if(2&fe){const Ee=gt.index,_t=o.XpG(2);o.AVh("active",Ee===_t.currentIndex)}}function sn(fe,gt){if(1&fe&&(o.j41(0,"a",19),o.EFF(1," Leave a Google Review "),o.k0s()),2&fe){const Ee=o.XpG(2);o.Y8G("href",Ee.googleReviewLink,o.B4B)}}const Vn=function(fe){return[fe]};function Jt(fe,gt){if(1&fe&&(o.qex(0),o.DNE(1,wn,12,8,"div",4),o.j41(2,"div",5),o.DNE(3,nr,2,2,"button",6),o.k0s(),o.DNE(4,sn,2,1,"a",7),o.bVm()),2&fe){const Ee=o.XpG();o.R7$(1),o.Y8G("ngForOf",o.eq3(4,Vn,Ee.currentTestimonial))("ngForTrackBy",Ee.trackByIndex),o.R7$(2),o.Y8G("ngForOf",Ee.testimonials),o.R7$(1),o.Y8G("ngIf",Ee.placeId)}}function $n(fe,gt){1&fe&&(o.j41(0,"p",20),o.EFF(1,"No testimonials available at the moment."),o.k0s())}let On=(()=>{class fe{constructor(Ee,_t,Yt){this.businessDataService=Ee,this.googleMapsLoader=_t,this.router=Yt,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(Ee=>{if(Ee&&Ee.testimonials){const _t=Ee.testimonials.map(Yt=>({...Yt,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,..._t]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(_t,Yt)=>{if(Yt===google.maps.places.PlacesServiceStatus.OK){const Er=_t?.reviews?.map(vt=>({name:vt.author_name,quote:vt.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...Er,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",Yt)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials.length>0?this.testimonials[this.currentIndex]:null}goToSlide(Ee){this.currentIndex=Ee}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)}trackByIndex(Ee,_t){return Ee}truncateText(Ee){return Ee.length>this.maxTextLength?Ee.slice(0,this.maxTextLength):Ee}isTruncated(Ee){return Ee.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.placeId}`}static{this.\u0275fac=function(_t){return new(_t||fe)(o.rXU(Re.A),o.rXU(ut.L),o.rXU(ye.Ix))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:2,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],[4,"ngIf","ngIfElse"],["noTestimonials",""],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],["target","_blank","rel","noopener noreferrer","class","afhBtn leave-review",3,"href",4,"ngIf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],[1,"btn","read-more",3,"click"],[3,"click"],["target","_blank","rel","noopener noreferrer",1,"afhBtn","leave-review",3,"href"],[1,"no-testimonials-message"]],template:function(_t,Yt){if(1&_t&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"clients say\u2019s"),o.k0s(),o.DNE(3,Jt,5,6,"ng-container",2),o.DNE(4,$n,2,0,"ng-template",null,3,o.C5r),o.k0s()),2&_t){const Er=o.sdS(5);o.R7$(3),o.Y8G("ngIf",Yt.currentTestimonial)("ngIfElse",Er)}},dependencies:[be.Sq,be.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}@media (max-width: 768px){.testimonials-container[_ngcontent-%COMP%]{padding:3rem 1rem}.testimonial-row[_ngcontent-%COMP%]{gap:15px;flex-direction:column}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .separator5[_ngcontent-%COMP%]{width:60%}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .google-stars[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.carousel-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:2px;button {font-size: 1rem; margin: 0 1px;}}}"],data:{animation:[(0,ke.hZ)("slideIn",[(0,ke.kY)(":enter",[(0,ke.iF)({opacity:0,transform:"translateX(-100%)"}),(0,ke.i0)("0.5s ease-in",(0,ke.iF)({opacity:1,transform:"translateX(0)"}))]),(0,ke.kY)(":leave",[(0,ke.i0)("0.5s ease-out",(0,ke.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,ke.hZ)("fadeInLeft",[(0,ke.kY)(":enter",[(0,ke.iF)({opacity:0,transform:"translateX(-100%)"}),(0,ke.i0)("0.5s ease-in",(0,ke.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,ke.hZ)("fadeInRight",[(0,ke.kY)(":enter",[(0,ke.iF)({opacity:0,transform:"translateX(100%)"}),(0,ke.i0)("0.5s ease-in",(0,ke.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return fe})();var Gt=F(3967);function Bt(fe,gt){if(1&fe&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&fe){const Ee=gt.$implicit;o.R7$(1),o.Y8G("innerHTML",Ee.title,o.npT),o.R7$(1),o.Y8G("innerHTML",Ee.description,o.npT)}}const vr=function(fe,gt,Ee){return{"full-width":fe,centered:gt,shadow:Ee}},on=function(fe,gt,Ee,_t){return{"background-color":fe,color:gt,"text-align":Ee,"border-radius":_t}};function kr(fe,gt){if(1&fe&&(o.qex(0,4),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,Bt,3,2,"div",11),o.k0s()()(),o.bVm()),2&fe){const Ee=o.XpG();o.Y8G("ngClass",o.sMw(5,vr,Ee.fullWidth,!Ee.fullWidth,Ee.boxShadow))("ngStyle",o.ziG(9,on,Ee.backgroundColor,Ee.textColor,Ee.alignText,Ee.borderRadius+"px")),o.R7$(4),o.JRh(Ee.title),o.R7$(2),o.SpI(" ",Ee.subTitle," "),o.R7$(3),o.Y8G("ngForOf",Ee.items)}}function Yn(fe,gt){1&fe&&o.eu8(0)}function $t(fe,gt){if(1&fe&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&fe){const Ee=gt.$implicit;o.R7$(1),o.Y8G("innerHTML",Ee.title,o.npT),o.R7$(1),o.Y8G("innerHTML",Ee.description,o.npT)}}function bn(fe,gt){if(1&fe&&(o.qex(0),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,$t,3,2,"div",11),o.k0s()()(),o.bVm()),2&fe){const Ee=o.XpG();o.R7$(4),o.SpI("",Ee.title," "),o.R7$(2),o.SpI(" ",Ee.subTitle,""),o.R7$(3),o.Y8G("ngForOf",Ee.items)}}let Hn=(()=>{class fe{constructor(Ee){this.route=Ee,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("Why Us Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Why Us- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(_t){return new(_t||fe)(o.rXU(ye.nX))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-why-us"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"]],template:function(_t,Yt){1&_t&&(o.j41(0,"div",0),o.DNE(1,kr,10,14,"ng-container",1),o.DNE(2,Yn,1,0,"ng-container",2),o.DNE(3,bn,10,3,"ng-container",3),o.k0s()),2&_t&&(o.Y8G("ngSwitch",Yt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[be.YU,be.Sq,be.B3,be.ux,be.e1,be.fG]})}}return fe})();var In=F(3711),$r=F(5558);function Mr(fe,gt){if(1&fe&&(o.j41(0,"div",7),o.nrm(1,"i",8),o.j41(2,"h3",9),o.EFF(3),o.k0s(),o.j41(4,"p",10),o.EFF(5),o.k0s()()),2&fe){const Ee=gt.$implicit;o.R7$(1),o.HbH(Ee.icon),o.R7$(2),o.JRh(Ee.title),o.R7$(2),o.JRh(Ee.description)}}function ri(fe,gt){1&fe&&(o.j41(0,"button",11),o.EFF(1,"Learn More"),o.k0s())}let zn=(()=>{class fe{constructor(){this.sectionTitle="Our Services",this.items=[],this.showLearnMore=!1}ngOnInit(){console.log("\u{1f4cc} Icon List Initialized:",{title:this.sectionTitle,items:this.items})}static{this.\u0275fac=function(_t){return new(_t||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-icon-list"]],inputs:{sectionTitle:"sectionTitle",items:"items",showLearnMore:"showLearnMore"},decls:8,vars:3,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["class","afhBtn","routerLink","/services",4,"ngIf"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"],[1,"service-description"],["routerLink","/services",1,"afhBtn"]],template:function(_t,Yt){1&_t&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o.EFF(4),o.k0s(),o.j41(5,"div",4),o.DNE(6,Mr,6,4,"div",5),o.k0s(),o.DNE(7,ri,2,0,"button",6),o.k0s()()()),2&_t&&(o.R7$(4),o.JRh(Yt.sectionTitle),o.R7$(2),o.Y8G("ngForOf",Yt.items),o.R7$(1),o.Y8G("ngIf",Yt.showLearnMore))},dependencies:[be.Sq,be.bT,ye.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return fe})();var pi=F(345),ys=F(4591);function hn(fe,gt){if(1&fe&&(o.j41(0,"div",6),o.nrm(1,"img",7),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"span",8),o.EFF(5),o.k0s(),o.nrm(6,"p",9),o.k0s()),2&fe){const Ee=gt.$implicit,_t=o.XpG(2);o.R7$(1),o.Y8G("src",Ee.image,o.B4B)("alt",Ee.title),o.R7$(2),o.JRh(Ee.title),o.R7$(2),o.JRh(Ee.category),o.R7$(1),o.Y8G("innerHTML",_t.getSanitizedDescription(Ee.description),o.npT)}}function ii(fe,gt){if(1&fe&&(o.j41(0,"div",1),o.nrm(1,"app-section-tilte",2),o.j41(2,"p",3),o.EFF(3," Whether you're just getting started or looking for a high-end, fully customized website, we have a package that fits your needs. We design websites to help showcase your adult family home with a professional online presence, making it easier for families to find and trust your services. "),o.k0s(),o.j41(4,"div",4),o.DNE(5,hn,7,5,"div",5),o.k0s()()),2&fe){const Ee=o.XpG();o.R7$(1),o.Y8G("title","Website Packages"),o.R7$(4),o.Y8G("ngForOf",Ee.displayItems)}}function Jn(fe,gt){if(1&fe&&(o.j41(0,"div",6)(1,"div",10),o.nrm(2,"img",11),o.j41(3,"span",12),o.EFF(4),o.nI1(5,"number"),o.k0s()(),o.j41(6,"h3",13),o.EFF(7),o.k0s(),o.nrm(8,"p",9),o.j41(9,"a",14),o.EFF(10,"Visit"),o.k0s()()),2&fe){const Ee=gt.$implicit,_t=gt.index,Yt=o.XpG(2);o.R7$(2),o.Mz_("alt","",Ee.title," Logo"),o.Y8G("src",Ee.companyLogo||Ee.image,o.B4B),o.R7$(2),o.JRh(o.i5U(5,6,_t+1,"2.0")),o.R7$(3),o.JRh(Ee.title),o.R7$(1),o.Y8G("innerHTML",Yt.getSanitizedDescription(Ee.description),o.npT),o.R7$(1),o.FS9("href",Ee.url,o.B4B)}}function Ir(fe,gt){if(1&fe&&(o.j41(0,"div",1),o.nrm(1,"app-section-tilte",2),o.j41(2,"p",3),o.EFF(3,"Using carefully vetted providers and vendors."),o.k0s(),o.j41(4,"div",4),o.DNE(5,Jn,11,9,"div",5),o.k0s()()),2&fe){const Ee=o.XpG();o.R7$(1),o.Y8G("title","Trusted Partners"),o.R7$(4),o.Y8G("ngForOf",Ee.displayItems)}}let Gn=(()=>{class fe{constructor(Ee){this.sanitizer=Ee,this.layoutType="",this.companies=[{title:"Ready Meds Farmacy",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",category:"",description:"Ready Meds Pharmacy is a full-service long-term care pharmacy serving adult family homes, assisted living and long-term care facilities, as well as patients living independently.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",url:"https://www.readymedspharmacy.com/"},{title:"Novari Primary Care",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",category:"",description:"Novari Primary Care is a mobile primary care service designed to treat patients in the comfort of their residential care facility.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",url:"https://novariprimarycare.com"},{title:"Holistia Health",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",category:"",description:"Holistia Health offers encompass personalized, in-person, and online programs, along with talk therapy and medication management.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",url:"https://holistiahealth.com"}],this.products=[{title:"LaunchPad Website",companyLogo:"",category:"$799",description:"Get your adult family home online quickly with a simple yet professional single-page website. Perfect for a clean, mobile-friendly presence that showcases your services, location, and contact details. This package is great for those who want an affordable, no-fuss solution to establish credibility online.<br/><br/><ul><li>2 Years Hosting</li><li>Owner-Provided Photos</li><li>Onwer-Provided Logo</li><li>Custom Color Theme</li><li>1 year Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285",url:""},{title:"Foundation Website",companyLogo:"",category:"$1500",description:"A well-rounded five-page website designed to highlight all the key aspects of your adult family home. This package includes essential pages such as Home, About, Services, Gallery, and Contact, ensuring visitors get a complete picture of your offerings. SEO-optimized, mobile-responsive, and designed to attract potential residents and their families.<br/><br/><ul><li>3 Years of Secure Hosting</li><li>Proffessional Video</li><li>High-Quality Professional Photography</li><li>Custom Logo Design</li><li>Tailored Website Design</li><li>2 Years of Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9",url:""},{title:"Prestige Website",companyLogo:"",category:"Pricing varies",description:"A high-end, fully customized website tailored to your brand. This package includes professional photography and videography, custom design, logo creation, business card design, and advanced features such as integrated Google Maps, resident intake forms, and review sections. Perfect for those who want to stand out with a premium online presence. <br/><br/><ul><li>5 Years of Secure Hosting</li><li>Cinematic Professional Video</li><li>High-Resolution Professional Photography</li><li>Immersive Virtual Tour</li><li>CBespoke Logo Design</li><li>Exclusive, Custom Website Design</li><li>Comprehensive Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318",url:""}],this.displayItems=[]}getSanitizedDescription(Ee){return this.sanitizer.bypassSecurityTrustHtml(Ee)}ngOnInit(){this.displayItems="sb"===this.layoutType?this.products:this.companies}static{this.\u0275fac=function(_t){return new(_t||fe)(o.rXU(pi.up))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-latest-products"]],inputs:{layoutType:"layoutType",companies:"companies",products:"products"},decls:2,vars:2,consts:[["class","latest-products",4,"ngIf"],[1,"latest-products"],[3,"title"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],[3,"innerHTML"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"index"],[1,"company-name"],["target","_blank",1,"read-more",3,"href"]],template:function(_t,Yt){1&_t&&(o.DNE(0,ii,6,2,"div",0),o.DNE(1,Ir,6,2,"div",0)),2&_t&&(o.Y8G("ngIf","sb"==Yt.layoutType),o.R7$(1),o.Y8G("ngIf","sb"!=Yt.layoutType))},dependencies:[be.Sq,be.bT,ys.L,be.QX],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto}.latest-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.latest-products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#777;max-width:1024px;margin:0 auto 20px;padding:20px;font-size:16px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:left;box-shadow:0 2px 10px #0000001a;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;max-height:80px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:fill}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:24px;color:#0000001a;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:15px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{font-size:14px;color:#444}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:14px;color:#999;text-transform:uppercase;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:14px;color:#007bff;font-weight:700;text-decoration:none;display:inline-block;margin-top:10px}"]})}}return fe})();var Ai=F(9483),ot=F(5743),Tt=F(6861);const ue=["dynamicContainer"];let Ne=(()=>{class fe{constructor(Ee,_t,Yt,Er,vt,$){this.sectionService=Ee,this.resolver=_t,this.injector=Yt,this.route=Er,this.metaService=vt,this.businessDataService=$,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":de.W,"hero-slider":Ze,"right-text":s.F,"left-text":ve.G,"item-list":Ve.j,"icon-list":zn,"unique-features":Ye,testimonials:Ie,"testimonials-carousel":On,"why-us":Hn,"google-map":In.a,"latest-products":Gn,cta:Ai.j,consultation:Gt.t}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,$r.n)(Ee=>(console.log("Business ID Retrieved:",Ee),Ee?(this.businessId=Ee,this.metaService.loadAndApplyMeta(Ee),this.businessDataService.loadBusinessData(Ee)):[]))).subscribe(Ee=>{console.log("Business Data Retrieved:",Ee),Ee&&(this.business=Ee,this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"home").subscribe(Ee=>{console.log("\u{1f4cc} Sections Retrieved:",Ee),Ee&&0!==Ee.length?(this.sections=Ee.filter(_t=>!1!==_t.isActive).sort((_t,Yt)=>(_t.order||0)-(Yt.order||0)),console.log("\u2705 Final Active Sections to Load:",this.sections),this.loadComponents()):console.warn("\u2757 No sections retrieved from the database")})}loadComponents(){this.container.clear(),console.log("\u2705 Starting to Load Components"),console.log("\u2705 Adding HeroSliderComponent");const Ee=this.resolver.resolveComponentFactory(Ze);if(this.container.createComponent(Ee,void 0,this.injector),!this.sections.length)return void console.warn("\u2757 No sections available to load.");let _t=null;if(this.sections.forEach((Yt,Er)=>{console.log(`\u{1f504} Loading Component for Section ${Er+1}:`,Yt.component);const vt=this.componentsMap[Yt.component];if(!vt)return void console.error("\u274c Component Not Found:",Yt.component);if("consultation"===Yt.component)return void(_t=Yt);const $=this.resolver.resolveComponentFactory(vt),M=this.container.createComponent($,void 0,this.injector);this.assignComponentProperties(M,Yt)}),this.loadManualComponents(),_t){console.log("\u2705 Loading ConsultationComponent at the end");const Yt=this.resolver.resolveComponentFactory(Gt.t),Er=this.container.createComponent(Yt,void 0,this.injector);this.assignComponentProperties(Er,_t)}}loadManualComponents(){if(this.business?.testimonials?.length&&!this.business?.placeId&&"sb"!==this.business?.theme?.themeType){console.log("Loading TestimonialsComponent");const Ee=this.resolver.resolveComponentFactory(Ie),_t=this.container.createComponent(Ee,void 0,this.injector);Object.assign(_t.instance,{testimonials:this.business?.testimonials||[],layoutType:this.business?.theme?.themeType||"demo"})}if(this.business?.placeId){console.log("Loading TestimonialCarouselComponent");const Ee=this.resolver.resolveComponentFactory(On),_t=this.container.createComponent(Ee,void 0,this.injector);Object.assign(_t.instance,{placeId:this.business?.placeId||""})}if(this.business?.placeId&&"clemo"===this.business?.theme?.themeType){console.log("Loading GoogleMapComponent");const Ee=this.resolver.resolveComponentFactory(In.a),_t=this.container.createComponent(Ee,void 0,this.injector);Object.assign(_t.instance,{layoutType:this.business?.theme?.themeType||"demo",address:this.business?.address||"Demo"})}}assignComponentProperties(Ee,_t){Ee.instance&&"object"==typeof Ee.instance&&(Object.assign(Ee.instance,{title:this.applyReplaceKeyword(_t.sectionTitle||""),subTitle:this.applyReplaceKeyword(_t.sectionSubTitle||""),content:this.applyReplaceKeyword(_t.sectionContent||""),sectionImageUrl:_t.sectionImageUrl||"",showButton:_t.showButton||!1,buttonText:_t.buttonText||"Learn More",buttonLink:_t.buttonLink||"",_businessName:this.business?.businessName||"",showImage:_t.showImage,themeType:this.business?.theme?.themeType,items:_t.items||[],isMinimal:_t.isMinimal||!1,isParallax:_t.isParallax??!0,backgroundColor:_t.backgroundColor||"#ffffff",textColor:_t.textColor||"#000000",titleColor:_t.titleColor||"#000000",titleFontSize:_t.titleFontSize||"36",subtitleColor:_t.subtitleColor||"#000000",subtitleFontSize:_t.subtitleFontSize||"14",fullWidth:_t.fullWidth||!1,alignText:_t.alignText||"left",boxShadow:_t.boxShadow||!1,borderRadius:_t.borderRadius??10,page:_t.page,location:_t.location,businessId:this.business?.id}),console.log(`\u2705 Component Data for ${_t.component}:`,Ee.instance))}applyReplaceKeyword(Ee){return Ee&&this.business?.businessName?Ee.replace(/{{\s*businessName\s*}}/g,this.business.businessName):Ee}static{this.\u0275fac=function(_t){return new(_t||fe)(o.rXU(ot.W),o.rXU(o.OM3),o.rXU(o.zZn),o.rXU(ye.nX),o.rXU(Tt.R),o.rXU(Re.A))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-home"]],viewQuery:function(_t,Yt){if(1&_t&&o.GBs(ue,7,o.c1b),2&_t){let Er;o.mGM(Er=o.lsd())&&(Yt.container=Er.first)}},decls:2,vars:0,consts:[[1,"container"],["dynamicContainer",""]],template:function(_t,Yt){1&_t&&o.nrm(0,"div",0,1)}})}}return fe})()},4796:(rn,Je,F)=>{F.d(Je,{u:()=>ye});var o=F(6354),de=F(7705),s=F(1977),ve=F(6814);let ye=(()=>{class Re{constructor(je,Fe){this.afAuth=je,this.router=Fe,this.user$=je.authState}login(je,Fe){return this.afAuth.signInWithEmailAndPassword(je,Fe)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,o.T)(je=>!!je))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Fe){return new(Fe||Re)(de.KVO(s.DS),de.KVO(ve.Ix))}}static{this.\u0275prov=de.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}}return Re})()},923:(rn,Je,F)=>{F.d(Je,{A:()=>Re});var o=F(4412),de=F(6354),s=F(8141),ve=F(7705),ye=F(3012);let Re=(()=>{class be{constructor(Fe){this.businessService=Fe,this.businessDataSubject=new o.t(null),this.businessIdSubject=new o.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Fe){return console.log("BusinessDataService - loadBusinessData for ID:",Fe),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Fe).pipe((0,de.T)(J=>J?(J.sections||(J.sections=[],console.warn("\u26a0\ufe0f No sections found in Firestore. Initializing empty array.")),J):null),(0,s.M)(J=>{console.log("\u2705 BusinessDataService - Business fetched:",J),this.businessDataSubject.next(J),this.businessIdSubject.next(Fe)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static{this.\u0275fac=function(J){return new(J||be)(ve.KVO(ye.u))}}static{this.\u0275prov=ve.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},5743:(rn,Je,F)=>{F.d(Je,{W:()=>Re});var o=F(467),de=F(6354),s=F(7705),ve=F(6340),ye=F(5571);let Re=(()=>{class be{constructor(Fe,J){this.firestore=Fe,this.uploadService=J,this.collectionName="businesses"}generateNewId(){return this.firestore.createId()}getAllBusinessSections(Fe){return console.log(`Fetching All Sections from Collection for Business ID: ${Fe}`),this.firestore.collection(this.collectionName).doc(Fe).collection("sections").snapshotChanges().pipe((0,de.T)(J=>(console.log("Firestore Raw Actions:",J),J.map(te=>({...te.payload.doc.data(),id:te.payload.doc.id})))))}getBusinessSections(Fe,J){return console.log(`Fetching Sections for Business ID: ${Fe}, Page: ${J}`),this.firestore.collection(this.collectionName).doc(Fe).collection("sections",te=>te.where("page","==",J)).snapshotChanges().pipe((0,de.T)(te=>(console.log("Firestore Raw Actions:",te),te.map(ae=>({...ae.payload.doc.data(),id:ae.payload.doc.id})))))}saveSection(Fe,J){return J.id||(J.id=this.firestore.createId()),this.firestore.collection(this.collectionName).doc(Fe).collection("sections").doc(J.id).set(J,{merge:!0})}deleteSection(Fe,J){return this.firestore.collection(this.collectionName).doc(Fe).collection("sections").doc(J).delete()}uploadImage(Fe,J,te,ae="",Ae="",_e="",it=""){var lt=this;return(0,o.A)(function*(){try{const{downloadUrl:xt}=lt.uploadService.uploadFile(Fe,J,"sections",ae,Ae,_e,it);return new Promise((kt,Qt)=>{xt.subscribe({next:ze=>{ze?(console.log("\u2705 Image uploaded successfully:",ze),kt(ze)):Qt("\u274c Image URL is undefined.")},error:ze=>{console.error("\u274c Error getting image URL:",ze),Qt(ze)}})})}catch(xt){return console.error("\u274c Error uploading image:",xt),""}})()}mapComponent(Fe){return{"center-text":"center-text","left-text":"left-text","right-text":"right-text","list-item":"list-item"}[Fe]||"default-component"}static{this.\u0275fac=function(J){return new(J||be)(s.KVO(ve.Qe),s.KVO(ye.B))}}static{this.\u0275prov=s.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},3012:(rn,Je,F)=>{F.d(Je,{u:()=>be});var o=F(7673),de=F(6354),s=F(5558),ve=F(7705),ye=F(6340),Re=F(8721);let be=(()=>{class je{constructor(J,te){this.afs=J,this.storage=te,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(J){console.log("Business Created");const te=this.afs.createId();return this.afs.doc(`${this.basePath}/${te}`).set({...J,id:te}),this.afs.doc(`${this.basePath}/${te}`).valueChanges().pipe((0,de.T)(ae=>{if(!ae)throw new Error("Business not found after creation");return ae}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,de.T)(J=>J.map(te=>{const ae=te.payload.doc.data(),Ae=te.payload.doc.id,{id:_e,...it}=ae;return{id:Ae,...it}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,J=>J.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(J){return this.getBusinessData(J)}getBusinessData(J){const te=J&&J.trim()?J:"defaultBusinessId";return this.afs.collection("businesses").doc(te).snapshotChanges().pipe((0,s.n)(ae=>{const Ae=ae.payload.data(),_e=ae.payload.id;if(!Ae)return(0,o.of)(void 0);const it={...Ae,id:_e};return this.afs.collection("sections",lt=>lt.where("businessId","==",_e)).snapshotChanges().pipe((0,de.T)(lt=>{const xt=lt.map(kt=>({...kt.payload.doc.data(),id:kt.payload.doc.id}));return console.log("\u{1f525} Loaded Sections from Firestore Collection:",xt),{...it,sections:xt}}),(0,s.n)(lt=>{const xt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${_e}/theme`).doc("themeDoc").snapshotChanges().pipe((0,de.T)(kt=>{const Qt=kt.payload.data()||xt;return lt.theme=Qt,lt}))}))}))}updateBusiness(J,te){return this.afs.doc(`${this.basePath}/${J}`).update(te)}deleteBusiness(J){return this.afs.doc(`${this.basePath}/${J}`).delete()}uploadFile(J,te){return this.storage.upload(J,te)}getDownloadURL(J){return this.storage.ref(J).getDownloadURL()}updateThemeFileName(J,te=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${te}`).update({"theme.themeFileName":J})}getThemeFileName(J=this.defaultBusinessId){const ae=this.afs.collection(this.basePath).doc(J).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${J}`),ae.get().toPromise().then(Ae=>{if(Ae&&Ae.exists){const _e=Ae.data();console.log("Theme document found:",_e);const it=_e?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${it}`),it}return console.warn(`No theme document found for business ID: ${J}. Using default theme.`),"default.css"}).catch(Ae=>(console.error(`Error fetching theme file name for business ID: ${J}`,Ae),"default.css"))}createSection(J,te){return this.afs.collection(`${this.basePath}/${J}/sections`).add(te)}getSections(J){return this.afs.collection(`${this.basePath}/${J}/sections`).snapshotChanges().pipe((0,de.T)(te=>te.map(ae=>{const Ae=ae.payload.doc.data();return{sectionId:ae.payload.doc.id,...Ae}})))}updateSection(J,te,ae){return this.afs.doc(`${this.basePath}/${J}/sections/${te}`).update(ae)}deleteSection(J,te){return this.afs.doc(`${this.basePath}/${J}/sections/${te}`).delete()}static{this.\u0275fac=function(te){return new(te||je)(ve.KVO(ye.Qe),ve.KVO(Re.ap))}}static{this.\u0275prov=ve.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}}return je})()},4710:(rn,Je,F)=>{F.d(Je,{L:()=>s});var de=F(7705);let s=(()=>{class ve{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Re,be)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Re();const je=document.createElement("script");je.id="google-maps-script",je.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",je.async=!0,je.defer=!0,je.onload=()=>{this.scriptLoaded=!0,Re()},je.onerror=Fe=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,be(Fe)},document.body.appendChild(je)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(be){return new(be||ve)}}static{this.\u0275prov=de.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}}return ve})()},6861:(rn,Je,F)=>{F.d(Je,{R:()=>ve});var o=F(7705),de=F(345),s=F(923);let ve=(()=>{class ye{constructor(be,je,Fe){this.meta=be,this.title=je,this.businessDataService=Fe}updateMetaTags(be){this.title.setTitle(be.title),this.meta.updateTag({name:"description",content:be.description}),this.meta.updateTag({name:"keywords",content:be.keywords}),this.meta.updateTag({property:"og:title",content:be.title}),this.meta.updateTag({property:"og:description",content:be.description})}updateFavicon(be){const je=document.getElementsByTagName("head")[0];let Fe=document.querySelector("link[rel*='icon']");Fe||(Fe=document.createElement("link"),Fe.rel="icon",je.appendChild(Fe)),Fe.href=be}loadAndApplyMeta(be){this.businessDataService.loadBusinessData(be).subscribe(je=>{je?(this.updateMetaTags({title:je.metaTitle||"Default Title",description:je.metaDescription||"Default Description",keywords:je.metaKeywords||"default, keywords"}),je.faviconUrl&&this.updateFavicon(je.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(je){return new(je||ye)(o.KVO(de.W8),o.KVO(de.hE),o.KVO(s.A))}}static{this.\u0275prov=o.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}return ye})()},5009:(rn,Je,F)=>{F.d(Je,{F:()=>Fe});var o=F(8810),de=F(8455),s=F(7673),ve=F(6697),ye=F(5558),Re=F(9437),be=F(7705),je=F(6340);let Fe=(()=>{class J{constructor(ae){this.firestore=ae,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(ae){return this.firestore.collection("businesses").doc(ae).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(ae){console.log("Theme Service: - Fetching theme for business ID:",ae);const Ae=this.firestore.collection("businesses").doc(ae),_e=Ae.collection("theme").doc("themeDoc");return Ae.snapshotChanges().pipe((0,ve.s)(1),(0,ye.n)(it=>it.payload.exists?_e.get().pipe((0,ye.n)(lt=>lt.exists?(lt.data(),_e.valueChanges()):(0,de.H)(_e.set(this.defaultTheme)).pipe((0,ye.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),_e.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,o.$)("Theme Service: - Business document does not exist"))),(0,Re.W)(it=>(console.error("Error fetching theme:",it),this.applyThemeFile(this.defaultTheme.themeFileName),(0,s.of)(this.defaultTheme))))}updateColors(ae,Ae){const _e=this.firestore.collection("businesses").doc(ae).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+ae+" theme service updateColors: ",Ae),_e.set(Ae,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),Ae.themeFileName&&this.applyThemeFile(Ae.themeFileName)}).catch(it=>{throw console.error("Theme Service: - Error updating colors:",it),new Error(it)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(ae){return this.loadCss(`assets/themes/${ae}`)}loadCss(ae){return new Promise((Ae,_e)=>{console.log("Load css from  file:",ae);const it=document.createElement("link");it.rel="stylesheet",it.href=ae,it.onload=()=>{console.log(`Loaded theme: ${ae}`),Ae()},it.onerror=lt=>{console.error(`Failed to load theme: ${ae}`,lt),_e(lt)},document.head.appendChild(it)})}static{this.\u0275fac=function(Ae){return new(Ae||J)(be.KVO(je.Qe))}}static{this.\u0275prov=be.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})()},5571:(rn,Je,F)=>{F.d(Je,{B:()=>be});var o=F(1985),de=F(6354),s=F(980),ve=F(7705),ye=F(8721),Re=F(6340);let be=(()=>{class je{constructor(J,te){this.storage=J,this.firestore=te}uploadFile(J,te,ae,Ae="",_e="",it="",lt=""){let xt;switch(ae){case"testimonail":xt=`businesses/${te}/testimonail/${J.name}`;break;case"employee":xt=`businesses/${te}/employee/${J.name}`;break;case"business":xt=`businesses/${te}/business/${J.name}`;break;case"heroImages":xt=`businesses/${te}/heroImages/${J.name}`;break;case"lifeStyle":xt=`businesses/${te}/lifeStyle/${J.name}`;break;case"sectionsImages":xt=`businesses/${te}/sectionsImages/${J.name}`;break;default:xt=`businesses/${te}/gallery/${J.name}`}const kt=this.storage.ref(xt),Qt=this.storage.upload(xt,J);return{uploadProgress:Qt.percentageChanges().pipe((0,de.T)(Ze=>Ze??0)),downloadUrl:new o.c(Ze=>{Qt.snapshotChanges().pipe((0,s.j)(()=>{kt.getDownloadURL().subscribe(Ve=>{this.firestore.collection("businesses").doc(te).collection(ae).add({url:Ve,title:Ae,description:_e,link:it,order:lt}),Ze.next(Ve),Ze.complete()})})).subscribe()})}}deleteFile(J,te,ae){return new Promise((Ae,_e)=>{const it=decodeURIComponent(J.split("/").pop()?.split("?")[0]||"");this.storage.ref(it).delete().subscribe({next:()=>{this.firestore.collection("businesses").doc(te).collection(ae).ref.where("url","==",J).get().then(xt=>{xt.forEach(kt=>kt.ref.delete()),Ae()}).catch(xt=>{console.error("Error deleting from Firestore:",xt),_e(xt)})},error:xt=>{console.error("Error deleting from Storage:",xt),_e(xt)}})})}static{this.\u0275fac=function(te){return new(te||je)(ve.KVO(ye.ap),ve.KVO(Re.Qe))}}static{this.\u0275prov=ve.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}}return je})()},8704:(rn,Je,F)=>{F.d(Je,{N:()=>be});var o=F(6354),de=F(9437),s=F(7673),ve=F(7705),ye=F(6340),Re=F(8721);let be=(()=>{class je{constructor(J,te){this.firestore=J,this.storage=te,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(J){const te=J&&J.trim()?J:this.defaultBusinessId;return this.firestore.collection("businesses").doc(te).snapshotChanges().pipe((0,o.T)(ae=>{const Ae=ae.payload.data(),_e=ae.payload.id;if(Ae){const{id:it,testimonials:lt=[],...xt}=Ae;return{id:_e,testimonials:lt.map(Qt=>({...Qt,photoURL:Qt.photoURL&&Qt.photoURL.trim()?Qt.photoURL:this.defaultImage})),...xt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(J){return this.storage.ref(J).getDownloadURL().pipe((0,de.W)(te=>(console.error("Error fetching photo URL:",te),(0,s.of)(""))))}getEmployeesByBusinessId(J){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).get().pipe((0,o.T)(te=>{if(te.exists){const ae=te.data();return ae&&ae.employees?ae.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,de.W)(te=>(console.error("Error fetching employees:",te),(0,s.of)([]))))}getBusinessGalleryImagesById(J){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(J){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).collection("gallery").valueChanges()}getBusinessUploadedImagesById(J,te){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).collection(te).valueChanges()}checkImageExists(J){return this.storage.refFromURL(J).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(te){return new(te||je)(ve.KVO(ye.Qe),ve.KVO(Re.ap))}}static{this.\u0275prov=ve.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}}return je})()},9495:(rn,Je,F)=>{var o={};F.r(o),F.d(o,{afterMain:()=>mn,afterRead:()=>Is,afterWrite:()=>Xi,applyStyles:()=>Ss,arrow:()=>Ys,auto:()=>Ts,basePlacements:()=>ts,beforeMain:()=>Ls,beforeRead:()=>to,beforeWrite:()=>rr,bottom:()=>us,clippingParents:()=>Dr,computeStyles:()=>Ps,createPopper:()=>Ta,createPopperBase:()=>La,createPopperLite:()=>zc,detectOverflow:()=>Qs,end:()=>ns,eventListeners:()=>_a,flip:()=>Gi,hide:()=>ro,left:()=>fr,main:()=>ei,modifierPhases:()=>rs,offset:()=>ba,placements:()=>qi,popper:()=>oi,popperGenerator:()=>Fa,popperOffsets:()=>Za,preventOverflow:()=>Pl,read:()=>Yi,reference:()=>Ds,right:()=>Pi,start:()=>As,top:()=>xr,variationPlacements:()=>ai,viewport:()=>si,write:()=>cr});var de=F(345),s=F(7705),ve=F(7673),ye=F(8455),Re=F(1985),be=F(274),je=F(5964),Fe=F(6354),J=F(980),te=F(5558),ae=F(177);class Ae{}class _e{}class it{constructor(u){this.normalizedNames=new Map,this.lazyUpdate=null,u?"string"==typeof u?this.lazyInit=()=>{this.headers=new Map,u.split("\n").forEach(l=>{const g=l.indexOf(":");if(g>0){const I=l.slice(0,g),k=I.toLowerCase(),z=l.slice(g+1).trim();this.maybeSetNormalizedName(I,k),this.headers.has(k)?this.headers.get(k).push(z):this.headers.set(k,[z])}})}:typeof Headers<"u"&&u instanceof Headers?(this.headers=new Map,u.forEach((l,g)=>{this.setHeaderEntries(g,l)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(u).forEach(([l,g])=>{this.setHeaderEntries(l,g)})}:this.headers=new Map}has(u){return this.init(),this.headers.has(u.toLowerCase())}get(u){this.init();const l=this.headers.get(u.toLowerCase());return l&&l.length>0?l[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(u){return this.init(),this.headers.get(u.toLowerCase())||null}append(u,l){return this.clone({name:u,value:l,op:"a"})}set(u,l){return this.clone({name:u,value:l,op:"s"})}delete(u,l){return this.clone({name:u,value:l,op:"d"})}maybeSetNormalizedName(u,l){this.normalizedNames.has(l)||this.normalizedNames.set(l,u)}init(){this.lazyInit&&(this.lazyInit instanceof it?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(u=>this.applyUpdate(u)),this.lazyUpdate=null))}copyFrom(u){u.init(),Array.from(u.headers.keys()).forEach(l=>{this.headers.set(l,u.headers.get(l)),this.normalizedNames.set(l,u.normalizedNames.get(l))})}clone(u){const l=new it;return l.lazyInit=this.lazyInit&&this.lazyInit instanceof it?this.lazyInit:this,l.lazyUpdate=(this.lazyUpdate||[]).concat([u]),l}applyUpdate(u){const l=u.name.toLowerCase();switch(u.op){case"a":case"s":let g=u.value;if("string"==typeof g&&(g=[g]),0===g.length)return;this.maybeSetNormalizedName(u.name,l);const I=("a"===u.op?this.headers.get(l):void 0)||[];I.push(...g),this.headers.set(l,I);break;case"d":const k=u.value;if(k){let z=this.headers.get(l);if(!z)return;z=z.filter(re=>-1===k.indexOf(re)),0===z.length?(this.headers.delete(l),this.normalizedNames.delete(l)):this.headers.set(l,z)}else this.headers.delete(l),this.normalizedNames.delete(l)}}setHeaderEntries(u,l){const g=(Array.isArray(l)?l:[l]).map(k=>k.toString()),I=u.toLowerCase();this.headers.set(I,g),this.maybeSetNormalizedName(u,I)}forEach(u){this.init(),Array.from(this.normalizedNames.keys()).forEach(l=>u(this.normalizedNames.get(l),this.headers.get(l)))}}class xt{encodeKey(u){return we(u)}encodeValue(u){return we(u)}decodeKey(u){return decodeURIComponent(u)}decodeValue(u){return decodeURIComponent(u)}}const Qt=/%(\d[a-f0-9])/gi,ze={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function we(p){return encodeURIComponent(p).replace(Qt,(u,l)=>ze[l]??u)}function Ze(p){return`${p}`}class Ve{constructor(u={}){if(this.updates=null,this.cloneFrom=null,this.encoder=u.encoder||new xt,u.fromString){if(u.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kt(p,u){const l=new Map;return p.length>0&&p.replace(/^\?/,"").split("&").forEach(I=>{const k=I.indexOf("="),[z,re]=-1==k?[u.decodeKey(I),""]:[u.decodeKey(I.slice(0,k)),u.decodeValue(I.slice(k+1))],ge=l.get(z)||[];ge.push(re),l.set(z,ge)}),l}(u.fromString,this.encoder)}else u.fromObject?(this.map=new Map,Object.keys(u.fromObject).forEach(l=>{const g=u.fromObject[l],I=Array.isArray(g)?g.map(Ze):[Ze(g)];this.map.set(l,I)})):this.map=null}has(u){return this.init(),this.map.has(u)}get(u){this.init();const l=this.map.get(u);return l?l[0]:null}getAll(u){return this.init(),this.map.get(u)||null}keys(){return this.init(),Array.from(this.map.keys())}append(u,l){return this.clone({param:u,value:l,op:"a"})}appendAll(u){const l=[];return Object.keys(u).forEach(g=>{const I=u[g];Array.isArray(I)?I.forEach(k=>{l.push({param:g,value:k,op:"a"})}):l.push({param:g,value:I,op:"a"})}),this.clone(l)}set(u,l){return this.clone({param:u,value:l,op:"s"})}delete(u,l){return this.clone({param:u,value:l,op:"d"})}toString(){return this.init(),this.keys().map(u=>{const l=this.encoder.encodeKey(u);return this.map.get(u).map(g=>l+"="+this.encoder.encodeValue(g)).join("&")}).filter(u=>""!==u).join("&")}clone(u){const l=new Ve({encoder:this.encoder});return l.cloneFrom=this.cloneFrom||this,l.updates=(this.updates||[]).concat(u),l}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(u=>this.map.set(u,this.cloneFrom.map.get(u))),this.updates.forEach(u=>{switch(u.op){case"a":case"s":const l=("a"===u.op?this.map.get(u.param):void 0)||[];l.push(Ze(u.value)),this.map.set(u.param,l);break;case"d":if(void 0===u.value){this.map.delete(u.param);break}{let g=this.map.get(u.param)||[];const I=g.indexOf(Ze(u.value));-1!==I&&g.splice(I,1),g.length>0?this.map.set(u.param,g):this.map.delete(u.param)}}}),this.cloneFrom=this.updates=null)}}class $e{constructor(){this.map=new Map}set(u,l){return this.map.set(u,l),this}get(u){return this.map.has(u)||this.map.set(u,u.defaultValue()),this.map.get(u)}delete(u){return this.map.delete(u),this}has(u){return this.map.has(u)}keys(){return this.map.keys()}}function Ce(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer}function qt(p){return typeof Blob<"u"&&p instanceof Blob}function pn(p){return typeof FormData<"u"&&p instanceof FormData}class Ye{constructor(u,l,g,I){let k;if(this.url=l,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=u.toUpperCase(),function Ot(p){switch(p){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||I?(this.body=void 0!==g?g:null,k=I):k=g,k&&(this.reportProgress=!!k.reportProgress,this.withCredentials=!!k.withCredentials,k.responseType&&(this.responseType=k.responseType),k.headers&&(this.headers=k.headers),k.context&&(this.context=k.context),k.params&&(this.params=k.params)),this.headers||(this.headers=new it),this.context||(this.context=new $e),this.params){const z=this.params.toString();if(0===z.length)this.urlWithParams=l;else{const re=l.indexOf("?");this.urlWithParams=l+(-1===re?"?":re<l.length-1?"&":"")+z}}else this.params=new Ve,this.urlWithParams=l}serializeBody(){return null===this.body?null:Ce(this.body)||qt(this.body)||pn(this.body)||function ir(p){return typeof URLSearchParams<"u"&&p instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||pn(this.body)?null:qt(this.body)?this.body.type||null:Ce(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(u={}){const l=u.method||this.method,g=u.url||this.url,I=u.responseType||this.responseType,k=void 0!==u.body?u.body:this.body,z=void 0!==u.withCredentials?u.withCredentials:this.withCredentials,re=void 0!==u.reportProgress?u.reportProgress:this.reportProgress;let ge=u.headers||this.headers,Ge=u.params||this.params;const pt=u.context??this.context;return void 0!==u.setHeaders&&(ge=Object.keys(u.setHeaders).reduce((jt,vn)=>jt.set(vn,u.setHeaders[vn]),ge)),u.setParams&&(Ge=Object.keys(u.setParams).reduce((jt,vn)=>jt.set(vn,u.setParams[vn]),Ge)),new Ye(l,g,k,{params:Ge,headers:ge,context:pt,reportProgress:re,responseType:I,withCredentials:z})}}var Pt=function(p){return p[p.Sent=0]="Sent",p[p.UploadProgress=1]="UploadProgress",p[p.ResponseHeader=2]="ResponseHeader",p[p.DownloadProgress=3]="DownloadProgress",p[p.Response=4]="Response",p[p.User=5]="User",p}(Pt||{});class Ue{constructor(u,l=200,g="OK"){this.headers=u.headers||new it,this.status=void 0!==u.status?u.status:l,this.statusText=u.statusText||g,this.url=u.url||null,this.ok=this.status>=200&&this.status<300}}class ct extends Ue{constructor(u={}){super(u),this.type=Pt.ResponseHeader}clone(u={}){return new ct({headers:u.headers||this.headers,status:void 0!==u.status?u.status:this.status,statusText:u.statusText||this.statusText,url:u.url||this.url||void 0})}}class Oe extends Ue{constructor(u={}){super(u),this.type=Pt.Response,this.body=void 0!==u.body?u.body:null}clone(u={}){return new Oe({body:void 0!==u.body?u.body:this.body,headers:u.headers||this.headers,status:void 0!==u.status?u.status:this.status,statusText:u.statusText||this.statusText,url:u.url||this.url||void 0})}}class st extends Ue{constructor(u){super(u,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${u.url||"(unknown url)"}`:`Http failure response for ${u.url||"(unknown url)"}: ${u.status} ${u.statusText}`,this.error=u.error||null}}function tn(p,u){return{body:u,headers:p.headers,context:p.context,observe:p.observe,params:p.params,reportProgress:p.reportProgress,responseType:p.responseType,withCredentials:p.withCredentials}}let We=(()=>{class p{constructor(l){this.handler=l}request(l,g,I={}){let k;if(l instanceof Ye)k=l;else{let ge,Ge;ge=I.headers instanceof it?I.headers:new it(I.headers),I.params&&(Ge=I.params instanceof Ve?I.params:new Ve({fromObject:I.params})),k=new Ye(l,g,void 0!==I.body?I.body:null,{headers:ge,context:I.context,params:Ge,reportProgress:I.reportProgress,responseType:I.responseType||"json",withCredentials:I.withCredentials})}const z=(0,ve.of)(k).pipe((0,be.H)(ge=>this.handler.handle(ge)));if(l instanceof Ye||"events"===I.observe)return z;const re=z.pipe((0,je.p)(ge=>ge instanceof Oe));switch(I.observe||"body"){case"body":switch(k.responseType){case"arraybuffer":return re.pipe((0,Fe.T)(ge=>{if(null!==ge.body&&!(ge.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ge.body}));case"blob":return re.pipe((0,Fe.T)(ge=>{if(null!==ge.body&&!(ge.body instanceof Blob))throw new Error("Response is not a Blob.");return ge.body}));case"text":return re.pipe((0,Fe.T)(ge=>{if(null!==ge.body&&"string"!=typeof ge.body)throw new Error("Response is not a string.");return ge.body}));default:return re.pipe((0,Fe.T)(ge=>ge.body))}case"response":return re;default:throw new Error(`Unreachable: unhandled observe type ${I.observe}}`)}}delete(l,g={}){return this.request("DELETE",l,g)}get(l,g={}){return this.request("GET",l,g)}head(l,g={}){return this.request("HEAD",l,g)}jsonp(l,g){return this.request("JSONP",l,{params:(new Ve).append(g,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(l,g={}){return this.request("OPTIONS",l,g)}patch(l,g,I={}){return this.request("PATCH",l,tn(I,g))}post(l,g,I={}){return this.request("POST",l,tn(I,g))}put(l,g,I={}){return this.request("PUT",l,tn(I,g))}static{this.\u0275fac=function(g){return new(g||p)(s.KVO(Ae))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})();function nr(p,u){return u(p)}function sn(p,u){return(l,g)=>u.intercept(l,{handle:I=>p(I,g)})}const Jt=new s.nKC(""),$n=new s.nKC(""),On=new s.nKC("");function Gt(){let p=null;return(u,l)=>{null===p&&(p=((0,s.WQX)(Jt,{optional:!0})??[]).reduceRight(sn,nr));const g=(0,s.WQX)(s.$K3),I=g.add();return p(u,l).pipe((0,J.j)(()=>g.remove(I)))}}let Bt=(()=>{class p extends Ae{constructor(l,g){super(),this.backend=l,this.injector=g,this.chain=null,this.pendingTasks=(0,s.WQX)(s.$K3)}handle(l){if(null===this.chain){const I=Array.from(new Set([...this.injector.get($n),...this.injector.get(On,[])]));this.chain=I.reduceRight((k,z)=>function Vn(p,u,l){return(g,I)=>l.runInContext(()=>u(g,k=>p(k,I)))}(k,z,this.injector),nr)}const g=this.pendingTasks.add();return this.chain(l,I=>this.backend.handle(I)).pipe((0,J.j)(()=>this.pendingTasks.remove(g)))}static{this.\u0275fac=function(g){return new(g||p)(s.KVO(_e),s.KVO(s.uvJ))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})();const zn=/^\)\]\}',?\n/;let ys=(()=>{class p{constructor(l){this.xhrFactory=l}handle(l){if("JSONP"===l.method)throw new s.wOt(-2800,!1);const g=this.xhrFactory;return(g.\u0275loadImpl?(0,ye.H)(g.\u0275loadImpl()):(0,ve.of)(null)).pipe((0,te.n)(()=>new Re.c(k=>{const z=g.build();if(z.open(l.method,l.urlWithParams),l.withCredentials&&(z.withCredentials=!0),l.headers.forEach((Xt,Mn)=>z.setRequestHeader(Xt,Mn.join(","))),l.headers.has("Accept")||z.setRequestHeader("Accept","application/json, text/plain, */*"),!l.headers.has("Content-Type")){const Xt=l.detectContentTypeHeader();null!==Xt&&z.setRequestHeader("Content-Type",Xt)}if(l.responseType){const Xt=l.responseType.toLowerCase();z.responseType="json"!==Xt?Xt:"text"}const re=l.serializeBody();let ge=null;const Ge=()=>{if(null!==ge)return ge;const Xt=z.statusText||"OK",Mn=new it(z.getAllResponseHeaders()),yr=function pi(p){return"responseURL"in p&&p.responseURL?p.responseURL:/^X-Request-URL:/m.test(p.getAllResponseHeaders())?p.getResponseHeader("X-Request-URL"):null}(z)||l.url;return ge=new ct({headers:Mn,status:z.status,statusText:Xt,url:yr}),ge},pt=()=>{let{headers:Xt,status:Mn,statusText:yr,url:Br}=Ge(),Tr=null;204!==Mn&&(Tr=typeof z.response>"u"?z.responseText:z.response),0===Mn&&(Mn=Tr?200:0);let qn=Mn>=200&&Mn<300;if("json"===l.responseType&&"string"==typeof Tr){const bi=Tr;Tr=Tr.replace(zn,"");try{Tr=""!==Tr?JSON.parse(Tr):null}catch(Qr){Tr=bi,qn&&(qn=!1,Tr={error:Qr,text:Tr})}}qn?(k.next(new Oe({body:Tr,headers:Xt,status:Mn,statusText:yr,url:Br||void 0})),k.complete()):k.error(new st({error:Tr,headers:Xt,status:Mn,statusText:yr,url:Br||void 0}))},jt=Xt=>{const{url:Mn}=Ge(),yr=new st({error:Xt,status:z.status||0,statusText:z.statusText||"Unknown Error",url:Mn||void 0});k.error(yr)};let vn=!1;const gn=Xt=>{vn||(k.next(Ge()),vn=!0);let Mn={type:Pt.DownloadProgress,loaded:Xt.loaded};Xt.lengthComputable&&(Mn.total=Xt.total),"text"===l.responseType&&z.responseText&&(Mn.partialText=z.responseText),k.next(Mn)},Tn=Xt=>{let Mn={type:Pt.UploadProgress,loaded:Xt.loaded};Xt.lengthComputable&&(Mn.total=Xt.total),k.next(Mn)};return z.addEventListener("load",pt),z.addEventListener("error",jt),z.addEventListener("timeout",jt),z.addEventListener("abort",jt),l.reportProgress&&(z.addEventListener("progress",gn),null!==re&&z.upload&&z.upload.addEventListener("progress",Tn)),z.send(re),k.next({type:Pt.Sent}),()=>{z.removeEventListener("error",jt),z.removeEventListener("abort",jt),z.removeEventListener("load",pt),z.removeEventListener("timeout",jt),l.reportProgress&&(z.removeEventListener("progress",gn),null!==re&&z.upload&&z.upload.removeEventListener("progress",Tn)),z.readyState!==z.DONE&&z.abort()}})))}static{this.\u0275fac=function(g){return new(g||p)(s.KVO(ae.N0))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})();const hn=new s.nKC("XSRF_ENABLED"),Jn=new s.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Gn=new s.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ai{}let ot=(()=>{class p{constructor(l,g,I){this.doc=l,this.platform=g,this.cookieName=I,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const l=this.doc.cookie||"";return l!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ae._b)(l,this.cookieName),this.lastCookieString=l),this.lastToken}static{this.\u0275fac=function(g){return new(g||p)(s.KVO(ae.qQ),s.KVO(s.Agw),s.KVO(Jn))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})();function Tt(p,u){const l=p.url.toLowerCase();if(!(0,s.WQX)(hn)||"GET"===p.method||"HEAD"===p.method||l.startsWith("http://")||l.startsWith("https://"))return u(p);const g=(0,s.WQX)(Ai).getToken(),I=(0,s.WQX)(Gn);return null!=g&&!p.headers.has(I)&&(p=p.clone({headers:p.headers.set(I,g)})),u(p)}var Ne=function(p){return p[p.Interceptors=0]="Interceptors",p[p.LegacyInterceptors=1]="LegacyInterceptors",p[p.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",p[p.NoXsrfProtection=3]="NoXsrfProtection",p[p.JsonpSupport=4]="JsonpSupport",p[p.RequestsMadeViaParent=5]="RequestsMadeViaParent",p[p.Fetch=6]="Fetch",p}(Ne||{});function fe(p,u){return{\u0275kind:p,\u0275providers:u}}function gt(...p){const u=[We,ys,Bt,{provide:Ae,useExisting:Bt},{provide:_e,useExisting:ys},{provide:$n,useValue:Tt,multi:!0},{provide:hn,useValue:!0},{provide:Ai,useClass:ot}];for(const l of p)u.push(...l.\u0275providers);return(0,s.EmA)(u)}const _t=new s.nKC("LEGACY_INTERCEPTOR_FN");let me=(()=>{class p{static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275mod=s.$C({type:p})}static{this.\u0275inj=s.G2t({providers:[gt(fe(Ne.LegacyInterceptors,[{provide:_t,useFactory:Gt},{provide:$n,useExisting:_t,multi:!0}]))]})}}return p})();var dr=F(6814),$s=F(8353),Fi=F(7304),vs=F(4593),Es=F(491),yi=F(1915),sr=F(9483),ks=F(3967),At=F(5743),at=F(6861),Nt=F(923),cn=F(9437),Bn=F(8704),Ln=F(4591);function hr(p,u){if(1&p&&(s.j41(0,"div",5),s.nrm(1,"img",6),s.j41(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"h4"),s.EFF(5),s.k0s(),s.j41(6,"p"),s.EFF(7),s.k0s()()),2&p){const l=u.$implicit;s.R7$(1),s.FS9("alt",l.name),s.Y8G("src",l.photoURL,s.B4B),s.R7$(2),s.JRh(l.name),s.R7$(2),s.JRh(l.role),s.R7$(2),s.JRh(l.bio)}}function Hr(p,u){if(1&p&&(s.j41(0,"div",1),s.nrm(1,"app-section-tilte",2),s.j41(2,"div",3),s.DNE(3,hr,8,5,"div",4),s.nI1(4,"async"),s.k0s()()),2&p){const l=s.XpG();s.R7$(1),s.Y8G("title","Meet the Team")("titleColor","var(--primary-color)"),s.R7$(2),s.Y8G("ngForOf",s.bMT(4,3,l.employees$))}}let Jr=(()=>{class p{constructor(l,g){this.route=l,this.employeeService=g}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Fe.T)(l=>l.get("id")||""),(0,te.n)(l=>this.employeeService.getEmployeesByBusinessId(l)),(0,cn.W)(l=>(console.error("Error fetching employees:",l),(0,ve.of)([]))))}static{this.\u0275fac=function(g){return new(g||p)(s.rXU(dr.nX),s.rXU(Bn.N))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title","titleColor"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(g,I){1&g&&s.DNE(0,Hr,5,5,"div",0),2&g&&s.Y8G("ngIf",I.employees$)},dependencies:[ae.Sq,ae.bT,Ln.L,ae.Jj]})}}return p})(),mr=(()=>{class p{constructor(l,g){this.route=l,this.router=g,this.layoutType="demo",this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Let us make you feel at home"}},this.imagesAndMessagesSB={services:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1455953950-1024x1024.jpg?alt=media&token=f8875a81-4502-4e3f-b9f3-de7efa57d34f",message:"Discover our Services"},gallery:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1735411371-1024x1024.jpg?alt=media&amp;token=03a733b3-0eff-4cda-b06c-108a886f5921",message:"Explore our Gallery"},"about-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Learn About Us"},"contact-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1367776831-1024x1024.jpg?alt=media&token=1272b1b2-ad7f-425a-b17e-10ba49234dab",message:"Get in Touch"},testimonials:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1456339578-1024x1024.jpg?alt=media&token=2e380b78-c7ba-46c4-bd9b-fd8d3cc6e818",message:"What they say about us"},"resident-form":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Les us make you feel at home"}}}ngOnInit(){this.router.events.subscribe(()=>{const g=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",g);const I="sb"===this.layoutType?this.imagesAndMessagesSB:this.imagesAndMessages;g&&I[g]?(this.backgroundImage=`url(${I[g].image})`,this.message=I[g].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(g){return new(g||p)(s.rXU(dr.nX),s.rXU(dr.Ix))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-hero"]],inputs:{layoutType:"layoutType"},decls:4,vars:3,consts:[[1,"page-hero"],[1,"page-hero-overlay"]],template:function(g,I){1&g&&(s.j41(0,"div",0)(1,"div",1)(2,"h1"),s.EFF(3),s.k0s()()()),2&g&&(s.xc7("background-image",I.backgroundImage),s.R7$(3),s.JRh(I.message))}})}}return p})(),Ki=(()=>{class p{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(g,I){1&g&&(s.j41(0,"div",0)(1,"div",1),s.nrm(2,"img",2),s.j41(3,"div",3)(4,"p",4),s.EFF(5),s.k0s(),s.j41(6,"p",5),s.EFF(7),s.k0s()()()()),2&g&&(s.R7$(2),s.FS9("src",I.imageURL,s.B4B),s.R7$(3),s.SpI('" ',I.text,'"'),s.R7$(2),s.SpI("\u2013 ",I.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return p})();const Fs=["dynamicContainer"];function Zi(p,u){1&p&&(s.qex(0),s.j41(1,"div",8)(2,"div",9)(3,"h1"),s.EFF(4,"About Us"),s.k0s(),s.j41(5,"div",10)(6,"p"),s.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),s.k0s()()()(),s.bVm())}function Io(p,u){1&p&&(s.qex(0),s.nrm(1,"app-hero"),s.bVm())}function Co(p,u){1&p&&(s.qex(0),s.nrm(1,"app-hero",11),s.bVm()),2&p&&(s.R7$(1),s.Y8G("layoutType","clemo"))}function ji(p,u){1&p&&(s.qex(0),s.nrm(1,"app-hero",11),s.bVm()),2&p&&(s.R7$(1),s.Y8G("layoutType","sb"))}function jo(p,u){1&p&&(s.qex(0),s.nrm(1,"app-hero",11),s.bVm()),2&p&&(s.R7$(1),s.Y8G("layoutType","prestige"))}function di(p,u){if(1&p&&(s.qex(0),s.nrm(1,"app-testimonial-image",12),s.bVm()),2&p){const l=s.XpG(2);s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote)}}function es(p,u){if(1&p&&(s.j41(0,"div")(1,"div",1),s.DNE(2,Zi,8,0,"ng-container",2),s.DNE(3,Io,2,0,"ng-container",2),s.DNE(4,Co,2,1,"ng-container",2),s.DNE(5,ji,2,1,"ng-container",2),s.DNE(6,jo,2,1,"ng-container",2),s.k0s(),s.j41(7,"div",3),s.nrm(8,"div",4,5),s.k0s(),s.j41(10,"section",6),s.nrm(11,"app-meet-the-team",7),s.k0s(),s.j41(12,"div",1),s.DNE(13,di,2,3,"ng-container",2),s.k0s()()),2&p){const l=s.XpG();s.R7$(1),s.Y8G("ngSwitch",l.business.theme.themeType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","sb"),s.R7$(1),s.Y8G("ngSwitchCase","prestige"),s.R7$(5),s.Y8G("businessId",l.business.id),s.R7$(1),s.Y8G("ngSwitch",l.business.theme.themeType),s.R7$(1),s.Y8G("ngSwitchCase","ae")}}let bs=(()=>{class p{constructor(l,g,I,k,z,re){this.sectionService=l,this.resolver=g,this.injector=I,this.route=k,this.metaService=z,this.businessDataService=re,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Fi.W,"right-text":vs.F,"left-text":Es.G,"item-list":yi.j,cta:sr.j,consultation:ks.t}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,te.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}ngAfterViewInit(){this.business&&this.loadComponents()}loadSections(){this.sectionService.getBusinessSections(this.businessId,"aboutus").subscribe(l=>{console.log("\u{1f4cc} Retrieved Sections:",l),l&&0!==l.length?(this.sections=l.sort((g,I)=>(g.order||0)-(I.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(!this.container)return void console.error("\u274c ViewContainerRef (container) is undefined.");if(this.container.clear(),!this.sections.length)return void console.warn("\u2757 No sections available to load.");this.sections.sort((ge,Ge)=>(ge.order||0)-(Ge.order||0));let re,l=[],g=null,I=null,k=null,z=[];this.sections.forEach(ge=>{"center-text"===ge.component?g?I=ge:g=ge:"left-text"===ge.component||"right-text"===ge.component?l.push(ge):"cta"===ge.component?k=ge:z.push(ge)}),g&&(console.log("\u2705 Rendering first center-text BEFORE wrapper..."),this.createComponent(g)),l.length>0&&(console.log("\u2705 Creating wrapper..."),re=document.createElement("div"),re.className="text-wrapper",l.sort((ge,Ge)=>"left-text"===ge.component?-1:1),l.forEach(ge=>{const Ge=this.createComponent(ge);Ge&&re.appendChild(Ge.location.nativeElement)}),this.container.element.nativeElement.appendChild(re)),I&&(console.log("\u2705 Rendering second center-text..."),this.createComponent(I)),z.forEach(ge=>{this.createComponent(ge)}),k&&(console.log("\u2705 Rendering CTA at last position..."),this.createComponent(k))}createWrapper(l){if(!l.length)return;const g=document.createElement("div");g.className="text-wrapper",l.sort((I,k)=>"left-text"===I.component?-1:1),l.forEach(I=>{const k=this.createComponent(I);null!==k&&g.appendChild(k.location.nativeElement)}),this.container.element.nativeElement.appendChild(g)}createComponent(l,g){const I=this.componentsMap[l.component];if(!I)return console.error("\u274c Component Not Found:",l.component),null;const k=this.resolver.resolveComponentFactory(I),z=this.container.createComponent(k);return this.applyComponentProperties(z.instance,l),g?this.container.element.nativeElement.insertBefore(z.location.nativeElement,g):this.container.element.nativeElement.appendChild(z.location.nativeElement),z}applyComponentProperties(l,g){Object.assign(l,{isActive:[void 0===g.isActive||g.isActive],title:this.applyReplaceKeyword(g.sectionTitle||""),subTitle:this.applyReplaceKeyword(g.sectionSubTitle||""),content:this.applyReplaceKeyword(g.sectionContent||""),sectionImageUrl:g.sectionImageUrl||"",showBtn:g.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!g.sectionImageUrl,themeType:this.business?.theme?.themeType,items:g.items||[],isMinimal:g.isMinimal||!1,isParallax:g.isParallax??!0,backgroundColor:g.backgroundColor||"#ffffff",textColor:g.textColor||"#000000",titleColor:g.titleColor||"#000000",subtitleColor:g.subtitleColor||"#000000",fullWidth:g.fullWidth||!1,showButton:g.showButton||!1,buttonText:g.buttonText||"Learn More",buttonLink:g.buttonLink||"",titleFontSize:g.titleFontSize||"36",subtitleFontSize:g.subtitleFontSize||"14",alignText:g.alignText||"left",boxShadow:g.boxShadow||!1,borderRadius:g.borderRadius??10,page:g.page,location:g.location})}applyReplaceKeyword(l){return l.replace(/{{\s*businessName\s*}}/g,this.business?.businessName||"")}static{this.\u0275fac=function(g){return new(g||p)(s.rXU(At.W),s.rXU(s.OM3),s.rXU(s.zZn),s.rXU(dr.nX),s.rXU(at.R),s.rXU(Nt.A))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-about-us"]],viewQuery:function(g,I){if(1&g&&s.GBs(Fs,5,s.c1b),2&g){let k;s.mGM(k=s.lsd())&&(I.container=k.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,"business-team"],[3,"businessId"],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[3,"imageURL","author","text"]],template:function(g,I){1&g&&s.DNE(0,es,14,9,"div",0),2&g&&s.Y8G("ngIf",I.business)},dependencies:[ae.bT,ae.ux,ae.e1,Jr,mr,Ki]})}}return p})();const Zr=["dynamicContainer"];function Hi(p,u){1&p&&(s.qex(0),s.j41(1,"div",6)(2,"div",7)(3,"h1"),s.EFF(4,"Our Services"),s.k0s(),s.j41(5,"div",8)(6,"p"),s.EFF(7,"Providing exceptional care tailored to your needs"),s.k0s()()()(),s.bVm())}function Ri(p,u){1&p&&(s.qex(0),s.nrm(1,"app-hero"),s.bVm())}function Ar(p,u){1&p&&(s.qex(0),s.nrm(1,"app-hero",9),s.bVm()),2&p&&(s.R7$(1),s.Y8G("layoutType","clemo"))}function uo(p,u){1&p&&(s.qex(0),s.nrm(1,"app-hero",9),s.bVm()),2&p&&(s.R7$(1),s.Y8G("layoutType","sb"))}function wo(p,u){1&p&&(s.qex(0),s.nrm(1,"app-hero",9),s.bVm()),2&p&&(s.R7$(1),s.Y8G("layoutType","prestige"))}function gi(p,u){if(1&p&&(s.qex(0),s.nrm(1,"app-testimonial-image",10),s.bVm()),2&p){const l=s.XpG(2);s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[1].name||"")("text",l.business.testimonials[1].quote||"")}}function Oa(p,u){if(1&p&&(s.j41(0,"div")(1,"div",1),s.DNE(2,Hi,8,0,"ng-container",2),s.DNE(3,Ri,2,0,"ng-container",2),s.DNE(4,Ar,2,1,"ng-container",2),s.DNE(5,uo,2,1,"ng-container",2),s.DNE(6,wo,2,1,"ng-container",2),s.k0s(),s.j41(7,"div",3),s.nrm(8,"div",4,5),s.k0s(),s.j41(10,"div",1),s.DNE(11,gi,2,3,"ng-container",2),s.k0s()()),2&p){const l=s.XpG();s.R7$(1),s.Y8G("ngSwitch",l.business.theme.themeType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","sb"),s.R7$(1),s.Y8G("ngSwitchCase","prestige"),s.R7$(4),s.Y8G("ngSwitch",l.business.theme.themeType),s.R7$(1),s.Y8G("ngSwitchCase","ae")}}let Xa=(()=>{class p{constructor(l,g,I,k,z,re,ge){this.sectionService=l,this.resolver=g,this.injector=I,this.route=k,this.metaService=z,this.businessDataService=re,this.router=ge,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Fi.W,"right-text":vs.F,"left-text":Es.G,"item-list":yi.j,cta:sr.j,consultatioin:ks.t}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,te.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}ngAfterViewInit(){setTimeout(()=>{this.container?this.business&&this.sections.length?(console.log("\u2705 View and Sections Ready \u2013 Loading Components..."),this.loadComponents()):(console.warn("\u2757 Sections are not loaded yet, retrying..."),setTimeout(()=>{this.sections.length&&(console.log("\u2705 Sections loaded after retry \u2013 Loading Components..."),this.loadComponents())},500)):console.error("\u274c ViewContainerRef (container) is still undefined after ViewInit.")},500)}loadSections(){this.sectionService.getBusinessSections(this.businessId,"services").subscribe(l=>{console.log("\u{1f4cc} Retrieved Sections:",l),l&&0!==l.length?(this.sections=l.sort((g,I)=>(g.order||0)-(I.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(!this.container)return void console.error("\u274c ViewContainerRef (container) is undefined.");if(this.container.clear(),!this.sections.length)return void console.warn("\u2757 No sections available to load.");this.sections.sort((Ge,pt)=>(Ge.order||0)-(pt.order||0));let ge,l=[],g=null,I=null,k=null,z=null,re=[];this.sections.forEach(Ge=>{"item-list"===Ge.component?g?I=Ge:g=Ge:"left-text"===Ge.component||"right-text"===Ge.component?l.push(Ge):"center-text"===Ge.component?k=Ge:"cta"===Ge.component?z=Ge:re.push(Ge)}),g&&(console.log("\u2705 Rendering first item-list..."),this.createComponent(g)),I&&(console.log("\u2705 Rendering second item-list..."),this.createComponent(I)),l.length>0&&(console.log("\u2705 Creating wrapper for left-right text..."),ge=document.createElement("div"),ge.className="text-wrapper",l.sort((Ge,pt)=>"left-text"===Ge.component?-1:1),l.forEach(Ge=>{const pt=this.createComponent(Ge);pt&&ge.appendChild(pt.location.nativeElement)}),this.container.element.nativeElement.appendChild(ge)),k&&(console.log("\u2705 Rendering center-text..."),this.createComponent(k)),z&&(console.log("\u2705 Rendering CTA at last position..."),this.createComponent(z))}createWrapper(l){if(!l.length)return;const g=document.createElement("div");g.className="text-wrapper",l.sort((I,k)=>"left-text"===I.component?-1:1),l.forEach(I=>{const k=this.createComponent(I);null!==k&&g.appendChild(k.location.nativeElement)}),this.container.element.nativeElement.appendChild(g)}createComponent(l,g){const I=this.componentsMap[l.component];if(!I)return console.error("\u274c Component Not Found:",l.component),null;const k=this.resolver.resolveComponentFactory(I),z=this.container.createComponent(k);return this.applyComponentProperties(z.instance,l),g?this.container.element.nativeElement.insertBefore(z.location.nativeElement,g):this.container.element.nativeElement.appendChild(z.location.nativeElement),z}applyComponentProperties(l,g){Object.assign(l,{isActive:[void 0===g.isActive||g.isActive],title:this.applyReplaceKeyword(g.sectionTitle||""),subTitle:this.applyReplaceKeyword(g.sectionSubTitle||""),content:this.applyReplaceKeyword(g.sectionContent||""),sectionImageUrl:g.sectionImageUrl||"",showBtn:g.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!g.sectionImageUrl,themeType:this.business?.theme?.themeType,items:g.items||[],isMinimal:g.isMinimal||!1,isParallax:g.isParallax??!0,backgroundColor:g.backgroundColor||"#ffffff",textColor:g.textColor||"#000000",titleColor:g.titleColor||"#000000",subtitleColor:g.subtitleColor||"#000000",fullWidth:g.fullWidth||!1,showButton:g.showButton||!1,buttonText:g.buttonText||"Learn More",buttonLink:g.buttonLink||"",titleFontSize:g.titleFontSize||"36",subtitleFontSize:g.subtitleFontSize||"14",alignText:g.alignText||"left",boxShadow:g.boxShadow||!1,borderRadius:g.borderRadius??10,page:g.page,location:g.location})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(g){return new(g||p)(s.rXU(At.W),s.rXU(s.OM3),s.rXU(s.zZn),s.rXU(dr.nX),s.rXU(at.R),s.rXU(Nt.A),s.rXU(dr.Ix))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-services"]],viewQuery:function(g,I){if(1&g&&s.GBs(Zr,5,s.c1b),2&g){let k;s.mGM(k=s.lsd())&&(I.container=k.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,"hero-services"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[3,"imageURL","author","text"]],template:function(g,I){1&g&&s.DNE(0,Oa,12,8,"div",0),2&g&&s.Y8G("ngIf",I.business)},dependencies:[ae.bT,ae.ux,ae.e1,mr,Ki]})}}return p})();var xr="top",us="bottom",Pi="right",fr="left",Ts="auto",ts=[xr,us,Pi,fr],As="start",ns="end",Dr="clippingParents",si="viewport",oi="popper",Ds="reference",ai=ts.reduce(function(p,u){return p.concat([u+"-"+As,u+"-"+ns])},[]),qi=[].concat(ts,[Ts]).reduce(function(p,u){return p.concat([u,u+"-"+As,u+"-"+ns])},[]),to="beforeRead",Yi="read",Is="afterRead",Ls="beforeMain",ei="main",mn="afterMain",rr="beforeWrite",cr="write",Xi="afterWrite",rs=[to,Yi,Is,Ls,ei,mn,rr,cr,Xi];function li(p){return p?(p.nodeName||"").toLowerCase():null}function Mi(p){if(null==p)return window;if("[object Window]"!==p.toString()){var u=p.ownerDocument;return u&&u.defaultView||window}return p}function Fr(p){return p instanceof Mi(p).Element||p instanceof Element}function vi(p){return p instanceof Mi(p).HTMLElement||p instanceof HTMLElement}function Cs(p){return!(typeof ShadowRoot>"u")&&(p instanceof Mi(p).ShadowRoot||p instanceof ShadowRoot)}const Ss={name:"applyStyles",enabled:!0,phase:"write",fn:function Zn(p){var u=p.state;Object.keys(u.elements).forEach(function(l){var g=u.styles[l]||{},I=u.attributes[l]||{},k=u.elements[l];!vi(k)||!li(k)||(Object.assign(k.style,g),Object.keys(I).forEach(function(z){var re=I[z];!1===re?k.removeAttribute(z):k.setAttribute(z,!0===re?"":re)}))})},effect:function ws(p){var u=p.state,l={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,l.popper),u.styles=l,u.elements.arrow&&Object.assign(u.elements.arrow.style,l.arrow),function(){Object.keys(u.elements).forEach(function(g){var I=u.elements[g],k=u.attributes[g]||{},re=Object.keys(u.styles.hasOwnProperty(g)?u.styles[g]:l[g]).reduce(function(ge,Ge){return ge[Ge]="",ge},{});!vi(I)||!li(I)||(Object.assign(I.style,re),Object.keys(k).forEach(function(ge){I.removeAttribute(ge)}))})}},requires:["computeStyles"]};function ee(p){return p.split("-")[0]}var Q=Math.max,Se=Math.min,Le=Math.round;function tt(){var p=navigator.userAgentData;return null!=p&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function It(){return!/^((?!chrome|android).)*safari/i.test(tt())}function Kt(p,u,l){void 0===u&&(u=!1),void 0===l&&(l=!1);var g=p.getBoundingClientRect(),I=1,k=1;u&&vi(p)&&(I=p.offsetWidth>0&&Le(g.width)/p.offsetWidth||1,k=p.offsetHeight>0&&Le(g.height)/p.offsetHeight||1);var re=(Fr(p)?Mi(p):window).visualViewport,ge=!It()&&l,Ge=(g.left+(ge&&re?re.offsetLeft:0))/I,pt=(g.top+(ge&&re?re.offsetTop:0))/k,jt=g.width/I,vn=g.height/k;return{width:jt,height:vn,top:pt,right:Ge+jt,bottom:pt+vn,left:Ge,x:Ge,y:pt}}function An(p){var u=Kt(p),l=p.offsetWidth,g=p.offsetHeight;return Math.abs(u.width-l)<=1&&(l=u.width),Math.abs(u.height-g)<=1&&(g=u.height),{x:p.offsetLeft,y:p.offsetTop,width:l,height:g}}function yn(p,u){var l=u.getRootNode&&u.getRootNode();if(p.contains(u))return!0;if(l&&Cs(l)){var g=u;do{if(g&&p.isSameNode(g))return!0;g=g.parentNode||g.host}while(g)}return!1}function jn(p){return Mi(p).getComputedStyle(p)}function Or(p){return["table","td","th"].indexOf(li(p))>=0}function Rn(p){return((Fr(p)?p.ownerDocument:p.document)||window.document).documentElement}function kn(p){return"html"===li(p)?p:p.assignedSlot||p.parentNode||(Cs(p)?p.host:null)||Rn(p)}function tr(p){return vi(p)&&"fixed"!==jn(p).position?p.offsetParent:null}function Vr(p){for(var u=Mi(p),l=tr(p);l&&Or(l)&&"static"===jn(l).position;)l=tr(l);return l&&("html"===li(l)||"body"===li(l)&&"static"===jn(l).position)?u:l||function Ei(p){var u=/firefox/i.test(tt());if(/Trident/i.test(tt())&&vi(p)&&"fixed"===jn(p).position)return null;var I=kn(p);for(Cs(I)&&(I=I.host);vi(I)&&["html","body"].indexOf(li(I))<0;){var k=jn(I);if("none"!==k.transform||"none"!==k.perspective||"paint"===k.contain||-1!==["transform","perspective"].indexOf(k.willChange)||u&&"filter"===k.willChange||u&&k.filter&&"none"!==k.filter)return I;I=I.parentNode}return null}(p)||u}function Ii(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function Li(p,u,l){return Q(p,Se(u,l))}function xi(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function Si(p,u){return u.reduce(function(l,g){return l[g]=p,l},{})}const Ys={name:"arrow",enabled:!0,phase:"main",fn:function $o(p){var u,l=p.state,g=p.name,I=p.options,k=l.elements.arrow,z=l.modifiersData.popperOffsets,re=ee(l.placement),ge=Ii(re),pt=[fr,Pi].indexOf(re)>=0?"height":"width";if(k&&z){var jt=function(u,l){return xi("number"!=typeof(u="function"==typeof u?u(Object.assign({},l.rects,{placement:l.placement})):u)?u:Si(u,ts))}(I.padding,l),vn=An(k),gn="y"===ge?xr:fr,Tn="y"===ge?us:Pi,Xt=l.rects.reference[pt]+l.rects.reference[ge]-z[ge]-l.rects.popper[pt],Mn=z[ge]-l.rects.reference[ge],yr=Vr(k),Br=yr?"y"===ge?yr.clientHeight||0:yr.clientWidth||0:0,Qr=Br/2-vn[pt]/2+(Xt/2-Mn/2),_i=Li(jt[gn],Qr,Br-vn[pt]-jt[Tn]);l.modifiersData[g]=((u={})[ge]=_i,u.centerOffset=_i-Qr,u)}},effect:function ds(p){var u=p.state,g=p.options.element,I=void 0===g?"[data-popper-arrow]":g;null!=I&&("string"==typeof I&&!(I=u.elements.popper.querySelector(I))||yn(u.elements.popper,I)&&(u.elements.arrow=I))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rs(p){return p.split("-")[1]}var ta={top:"auto",right:"auto",bottom:"auto",left:"auto"};function na(p){var u,l=p.popper,g=p.popperRect,I=p.placement,k=p.variation,z=p.offsets,re=p.position,ge=p.gpuAcceleration,Ge=p.adaptive,pt=p.roundOffsets,jt=p.isFixed,vn=z.x,gn=void 0===vn?0:vn,Tn=z.y,Xt=void 0===Tn?0:Tn,Mn="function"==typeof pt?pt({x:gn,y:Xt}):{x:gn,y:Xt};gn=Mn.x,Xt=Mn.y;var yr=z.hasOwnProperty("x"),Br=z.hasOwnProperty("y"),Tr=fr,qn=xr,bi=window;if(Ge){var Qr=Vr(l),_i="clientHeight",Vi="clientWidth";Qr===Mi(l)&&"static"!==jn(Qr=Rn(l)).position&&"absolute"===re&&(_i="scrollHeight",Vi="scrollWidth"),(I===xr||(I===fr||I===Pi)&&k===ns)&&(qn=us,Xt-=(jt&&Qr===bi&&bi.visualViewport?bi.visualViewport.height:Qr[_i])-g.height,Xt*=ge?1:-1),I!==fr&&(I!==xr&&I!==us||k!==ns)||(Tr=Pi,gn-=(jt&&Qr===bi&&bi.visualViewport?bi.visualViewport.width:Qr[Vi])-g.width,gn*=ge?1:-1)}var eo,Zs=Object.assign({position:re},Ge&&ta),Wi=!0===pt?function Qa(p,u){var g=p.y,I=u.devicePixelRatio||1;return{x:Le(p.x*I)/I||0,y:Le(g*I)/I||0}}({x:gn,y:Xt},Mi(l)):{x:gn,y:Xt};return gn=Wi.x,Xt=Wi.y,Object.assign({},Zs,ge?((eo={})[qn]=Br?"0":"",eo[Tr]=yr?"0":"",eo.transform=(bi.devicePixelRatio||1)<=1?"translate("+gn+"px, "+Xt+"px)":"translate3d("+gn+"px, "+Xt+"px, 0)",eo):((u={})[qn]=Br?Xt+"px":"",u[Tr]=yr?gn+"px":"",u.transform="",u))}const Ps={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Hc(p){var u=p.state,l=p.options,g=l.gpuAcceleration,I=void 0===g||g,k=l.adaptive,z=void 0===k||k,re=l.roundOffsets,ge=void 0===re||re,Ge={placement:ee(u.placement),variation:Rs(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:I,isFixed:"fixed"===u.options.strategy};null!=u.modifiersData.popperOffsets&&(u.styles.popper=Object.assign({},u.styles.popper,na(Object.assign({},Ge,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:z,roundOffsets:ge})))),null!=u.modifiersData.arrow&&(u.styles.arrow=Object.assign({},u.styles.arrow,na(Object.assign({},Ge,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ge})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var hs={passive:!0};const _a={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Ao(p){var u=p.state,l=p.instance,g=p.options,I=g.scroll,k=void 0===I||I,z=g.resize,re=void 0===z||z,ge=Mi(u.elements.popper),Ge=[].concat(u.scrollParents.reference,u.scrollParents.popper);return k&&Ge.forEach(function(pt){pt.addEventListener("scroll",l.update,hs)}),re&&ge.addEventListener("resize",l.update,hs),function(){k&&Ge.forEach(function(pt){pt.removeEventListener("scroll",l.update,hs)}),re&&ge.removeEventListener("resize",l.update,hs)}},data:{}};var Na={left:"right",right:"left",bottom:"top",top:"bottom"};function mi(p){return p.replace(/left|right|bottom|top/g,function(u){return Na[u]})}var ya={start:"end",end:"start"};function Do(p){return p.replace(/start|end/g,function(u){return ya[u]})}function W(p){var u=Mi(p);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function Z(p){return Kt(Rn(p)).left+W(p).scrollLeft}function He(p){var u=jn(p);return/auto|scroll|overlay|hidden/.test(u.overflow+u.overflowY+u.overflowX)}function _n(p){return["html","body","#document"].indexOf(li(p))>=0?p.ownerDocument.body:vi(p)&&He(p)?p:_n(kn(p))}function Xn(p,u){var l;void 0===u&&(u=[]);var g=_n(p),I=g===(null==(l=p.ownerDocument)?void 0:l.body),k=Mi(g),z=I?[k].concat(k.visualViewport||[],He(g)?g:[]):g,re=u.concat(z);return I?re:re.concat(Xn(kn(z)))}function is(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function ss(p,u,l){return u===si?is(function U(p,u){var l=Mi(p),g=Rn(p),I=l.visualViewport,k=g.clientWidth,z=g.clientHeight,re=0,ge=0;if(I){k=I.width,z=I.height;var Ge=It();(Ge||!Ge&&"fixed"===u)&&(re=I.offsetLeft,ge=I.offsetTop)}return{width:k,height:z,x:re+Z(p),y:ge}}(p,l)):Fr(u)?function Xs(p,u){var l=Kt(p,!1,"fixed"===u);return l.top=l.top+p.clientTop,l.left=l.left+p.clientLeft,l.bottom=l.top+p.clientHeight,l.right=l.left+p.clientWidth,l.width=p.clientWidth,l.height=p.clientHeight,l.x=l.left,l.y=l.top,l}(u,l):is(function ce(p){var u,l=Rn(p),g=W(p),I=null==(u=p.ownerDocument)?void 0:u.body,k=Q(l.scrollWidth,l.clientWidth,I?I.scrollWidth:0,I?I.clientWidth:0),z=Q(l.scrollHeight,l.clientHeight,I?I.scrollHeight:0,I?I.clientHeight:0),re=-g.scrollLeft+Z(p),ge=-g.scrollTop;return"rtl"===jn(I||l).direction&&(re+=Q(l.clientWidth,I?I.clientWidth:0)-k),{width:k,height:z,x:re,y:ge}}(Rn(p)))}function os(p){var ge,u=p.reference,l=p.element,g=p.placement,I=g?ee(g):null,k=g?Rs(g):null,z=u.x+u.width/2-l.width/2,re=u.y+u.height/2-l.height/2;switch(I){case xr:ge={x:z,y:u.y-l.height};break;case us:ge={x:z,y:u.y+u.height};break;case Pi:ge={x:u.x+u.width,y:re};break;case fr:ge={x:u.x-l.width,y:re};break;default:ge={x:u.x,y:u.y}}var Ge=I?Ii(I):null;if(null!=Ge){var pt="y"===Ge?"height":"width";switch(k){case As:ge[Ge]=ge[Ge]-(u[pt]/2-l[pt]/2);break;case ns:ge[Ge]=ge[Ge]+(u[pt]/2-l[pt]/2)}}return ge}function Qs(p,u){void 0===u&&(u={});var g=u.placement,I=void 0===g?p.placement:g,k=u.strategy,z=void 0===k?p.strategy:k,re=u.boundary,ge=void 0===re?Dr:re,Ge=u.rootBoundary,pt=void 0===Ge?si:Ge,jt=u.elementContext,vn=void 0===jt?oi:jt,gn=u.altBoundary,Tn=void 0!==gn&&gn,Xt=u.padding,Mn=void 0===Xt?0:Xt,yr=xi("number"!=typeof Mn?Mn:Si(Mn,ts)),Tr=p.rects.popper,qn=p.elements[Tn?vn===oi?Ds:oi:vn],bi=function no(p,u,l,g){var I="clippingParents"===u?function mo(p){var u=Xn(kn(p)),g=["absolute","fixed"].indexOf(jn(p).position)>=0&&vi(p)?Vr(p):p;return Fr(g)?u.filter(function(I){return Fr(I)&&yn(I,g)&&"body"!==li(I)}):[]}(p):[].concat(u),k=[].concat(I,[l]),re=k.reduce(function(ge,Ge){var pt=ss(p,Ge,g);return ge.top=Q(pt.top,ge.top),ge.right=Se(pt.right,ge.right),ge.bottom=Se(pt.bottom,ge.bottom),ge.left=Q(pt.left,ge.left),ge},ss(p,k[0],g));return re.width=re.right-re.left,re.height=re.bottom-re.top,re.x=re.left,re.y=re.top,re}(Fr(qn)?qn:qn.contextElement||Rn(p.elements.popper),ge,pt,z),Qr=Kt(p.elements.reference),_i=os({reference:Qr,element:Tr,strategy:"absolute",placement:I}),Vi=is(Object.assign({},Tr,_i)),cs=vn===oi?Vi:Qr,Bi={top:bi.top-cs.top+yr.top,bottom:cs.bottom-bi.bottom+yr.bottom,left:bi.left-cs.left+yr.left,right:cs.right-bi.right+yr.right},Zs=p.modifiersData.offset;if(vn===oi&&Zs){var Wi=Zs[I];Object.keys(Bi).forEach(function(eo){var Bc=[Pi,us].indexOf(eo)>=0?1:-1,jc=[xr,us].indexOf(eo)>=0?"y":"x";Bi[eo]+=Wi[jc]*Bc})}return Bi}const Gi={name:"flip",enabled:!0,phase:"main",fn:function va(p){var u=p.state,l=p.options,g=p.name;if(!u.modifiersData[g]._skip){for(var I=l.mainAxis,k=void 0===I||I,z=l.altAxis,re=void 0===z||z,ge=l.fallbackPlacements,Ge=l.padding,pt=l.boundary,jt=l.rootBoundary,vn=l.altBoundary,gn=l.flipVariations,Tn=void 0===gn||gn,Xt=l.allowedAutoPlacements,Mn=u.options.placement,yr=ee(Mn),Tr=ge||(yr!==Mn&&Tn?function Ms(p){if(ee(p)===Ts)return[];var u=mi(p);return[Do(p),u,Do(u)]}(Mn):[mi(Mn)]),qn=[Mn].concat(Tr).reduce(function(ki,$c){return ki.concat(ee($c)===Ts?function Gc(p,u){void 0===u&&(u={});var I=u.boundary,k=u.rootBoundary,z=u.padding,re=u.flipVariations,ge=u.allowedAutoPlacements,Ge=void 0===ge?qi:ge,pt=Rs(u.placement),jt=pt?re?ai:ai.filter(function(Tn){return Rs(Tn)===pt}):ts,vn=jt.filter(function(Tn){return Ge.indexOf(Tn)>=0});0===vn.length&&(vn=jt);var gn=vn.reduce(function(Tn,Xt){return Tn[Xt]=Qs(p,{placement:Xt,boundary:I,rootBoundary:k,padding:z})[ee(Xt)],Tn},{});return Object.keys(gn).sort(function(Tn,Xt){return gn[Tn]-gn[Xt]})}(u,{placement:$c,boundary:pt,rootBoundary:jt,padding:Ge,flipVariations:Tn,allowedAutoPlacements:Xt}):$c)},[]),bi=u.rects.reference,Qr=u.rects.popper,_i=new Map,Vi=!0,cs=qn[0],Bi=0;Bi<qn.length;Bi++){var Zs=qn[Bi],Wi=ee(Zs),eo=Rs(Zs)===As,Bc=[xr,us].indexOf(Wi)>=0,jc=Bc?"width":"height",Nn=Qs(u,{placement:Zs,boundary:pt,rootBoundary:jt,altBoundary:vn,padding:Ge}),Wn=Bc?eo?Pi:fr:eo?us:xr;bi[jc]>Qr[jc]&&(Wn=mi(Wn));var gr=mi(Wn),ni=[];if(k&&ni.push(Nn[Wi]<=0),re&&ni.push(Nn[Wn]<=0,Nn[gr]<=0),ni.every(function(ki){return ki})){cs=Zs,Vi=!1;break}_i.set(Zs,ni)}if(Vi)for(var Ya=function($c){var Kf=qn.find(function(co){var Bo=_i.get(co);if(Bo)return Bo.slice(0,$c).every(function(ea){return ea})});if(Kf)return cs=Kf,"break"},To=Tn?3:1;To>0&&"break"!==Ya(To);To--);u.placement!==cs&&(u.modifiersData[g]._skip=!0,u.placement=cs,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Rl(p,u,l){return void 0===l&&(l={x:0,y:0}),{top:p.top-u.height-l.y,right:p.right-u.width+l.x,bottom:p.bottom-u.height+l.y,left:p.left-u.width-l.x}}function as(p){return[xr,Pi,us,fr].some(function(u){return p[u]>=0})}const ro={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Ja(p){var u=p.state,l=p.name,g=u.rects.reference,I=u.rects.popper,k=u.modifiersData.preventOverflow,z=Qs(u,{elementContext:"reference"}),re=Qs(u,{altBoundary:!0}),ge=Rl(z,g),Ge=Rl(re,I,k),pt=as(ge),jt=as(Ge);u.modifiersData[l]={referenceClippingOffsets:ge,popperEscapeOffsets:Ge,isReferenceHidden:pt,hasPopperEscaped:jt},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":pt,"data-popper-escaped":jt})}},ba={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function xs(p){var u=p.state,g=p.name,I=p.options.offset,k=void 0===I?[0,0]:I,z=qi.reduce(function(pt,jt){return pt[jt]=function Ea(p,u,l){var g=ee(p),I=[fr,xr].indexOf(g)>=0?-1:1,k="function"==typeof l?l(Object.assign({},u,{placement:p})):l,z=k[0],re=k[1];return z=z||0,re=(re||0)*I,[fr,Pi].indexOf(g)>=0?{x:re,y:z}:{x:z,y:re}}(jt,u.rects,k),pt},{}),re=z[u.placement],Ge=re.y;null!=u.modifiersData.popperOffsets&&(u.modifiersData.popperOffsets.x+=re.x,u.modifiersData.popperOffsets.y+=Ge),u.modifiersData[g]=z}},Za={name:"popperOffsets",enabled:!0,phase:"read",fn:function ka(p){var u=p.state;u.modifiersData[p.name]=os({reference:u.rects.reference,element:u.rects.popper,strategy:"absolute",placement:u.placement})},data:{}},Pl={name:"preventOverflow",enabled:!0,phase:"main",fn:function _r(p){var u=p.state,l=p.options,g=p.name,I=l.mainAxis,k=void 0===I||I,z=l.altAxis,re=void 0!==z&&z,vn=l.tether,gn=void 0===vn||vn,Tn=l.tetherOffset,Xt=void 0===Tn?0:Tn,Mn=Qs(u,{boundary:l.boundary,rootBoundary:l.rootBoundary,padding:l.padding,altBoundary:l.altBoundary}),yr=ee(u.placement),Br=Rs(u.placement),Tr=!Br,qn=Ii(yr),bi=function Au(p){return"x"===p?"y":"x"}(qn),Qr=u.modifiersData.popperOffsets,_i=u.rects.reference,Vi=u.rects.popper,cs="function"==typeof Xt?Xt(Object.assign({},u.rects,{placement:u.placement})):Xt,Bi="number"==typeof cs?{mainAxis:cs,altAxis:cs}:Object.assign({mainAxis:0,altAxis:0},cs),Zs=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,Wi={x:0,y:0};if(Qr){if(k){var eo,Bc="y"===qn?xr:fr,jc="y"===qn?us:Pi,Nn="y"===qn?"height":"width",Wn=Qr[qn],gr=Wn+Mn[Bc],ni=Wn-Mn[jc],js=gn?-Vi[Nn]/2:0,Ya=Br===As?_i[Nn]:Vi[Nn],To=Br===As?-Vi[Nn]:-_i[Nn],Dl=u.elements.arrow,ki=gn&&Dl?An(Dl):{width:0,height:0},$c=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Kf=$c[Bc],co=$c[jc],Bo=Li(0,_i[Nn],ki[Nn]),ea=Tr?_i[Nn]/2-js-Bo-Kf-Bi.mainAxis:Ya-Bo-Kf-Bi.mainAxis,qf=Tr?-_i[Nn]/2+js+Bo+co+Bi.mainAxis:To+Bo+co+Bi.mainAxis,Oh=u.elements.arrow&&Vr(u.elements.arrow),Y0=Oh?"y"===qn?Oh.clientTop||0:Oh.clientLeft||0:0,vg=null!=(eo=Zs?.[qn])?eo:0,X0=Wn+qf-vg,l0=Li(gn?Se(gr,Wn+ea-vg-Y0):gr,Wn,gn?Q(ni,X0):ni);Qr[qn]=l0,Wi[qn]=l0-Wn}if(re){var c0,Nh=Qr[bi],gy="y"===bi?"height":"width",zv=Nh+Mn["x"===qn?xr:fr],h0=Nh-Mn["x"===qn?us:Pi],Wv=-1!==[xr,fr].indexOf(yr),Q0=null!=(c0=Zs?.[bi])?c0:0,J0=Wv?zv:Nh-_i[gy]-Vi[gy]-Q0+Bi.altAxis,Z0=Wv?Nh+_i[gy]+Vi[gy]-Q0-Bi.altAxis:h0,eb=gn&&Wv?function Di(p,u,l){var g=Li(p,u,l);return g>l?l:g}(J0,Nh,Z0):Li(gn?J0:zv,Nh,gn?Z0:h0);Qr[bi]=eb,Wi[bi]=eb-Nh}u.modifiersData[g]=Wi}},requiresIfExists:["offset"]};function Du(p,u,l){void 0===l&&(l=!1);var g=vi(u),I=vi(u)&&function el(p){var u=p.getBoundingClientRect(),l=Le(u.width)/p.offsetWidth||1,g=Le(u.height)/p.offsetHeight||1;return 1!==l||1!==g}(u),k=Rn(u),z=Kt(p,I,l),re={scrollLeft:0,scrollTop:0},ge={x:0,y:0};return(g||!g&&!l)&&(("body"!==li(u)||He(k))&&(re=function Ho(p){return p!==Mi(p)&&vi(p)?function _o(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):W(p)}(u)),vi(u)?((ge=Kt(u,!0)).x+=u.clientLeft,ge.y+=u.clientTop):k&&(ge.x=Z(k))),{x:z.left+re.scrollLeft-ge.x,y:z.top+re.scrollTop-ge.y,width:z.width,height:z.height}}function Ml(p){var u=new Map,l=new Set,g=[];function I(k){l.add(k.name),[].concat(k.requires||[],k.requiresIfExists||[]).forEach(function(re){if(!l.has(re)){var ge=u.get(re);ge&&I(ge)}}),g.push(k)}return p.forEach(function(k){u.set(k.name,k)}),p.forEach(function(k){l.has(k.name)||I(k)}),g}function tl(p){var u;return function(){return u||(u=new Promise(function(l){Promise.resolve().then(function(){u=void 0,l(p())})})),u}}var nl={placement:"bottom",modifiers:[],strategy:"absolute"};function So(){for(var p=arguments.length,u=new Array(p),l=0;l<p;l++)u[l]=arguments[l];return!u.some(function(g){return!(g&&"function"==typeof g.getBoundingClientRect)})}function Fa(p){void 0===p&&(p={});var l=p.defaultModifiers,g=void 0===l?[]:l,I=p.defaultOptions,k=void 0===I?nl:I;return function(re,ge,Ge){void 0===Ge&&(Ge=k);var pt={placement:"bottom",orderedModifiers:[],options:Object.assign({},nl,k),modifiersData:{},elements:{reference:re,popper:ge},attributes:{},styles:{}},jt=[],vn=!1,gn={state:pt,setOptions:function(yr){var Br="function"==typeof yr?yr(pt.options):yr;Xt(),pt.options=Object.assign({},k,pt.options,Br),pt.scrollParents={reference:Fr(re)?Xn(re):re.contextElement?Xn(re.contextElement):[],popper:Xn(ge)};var Tr=function kh(p){var u=Ml(p);return rs.reduce(function(l,g){return l.concat(u.filter(function(I){return I.phase===g}))},[])}(function Su(p){var u=p.reduce(function(l,g){var I=l[g.name];return l[g.name]=I?Object.assign({},I,g,{options:Object.assign({},I.options,g.options),data:Object.assign({},I.data,g.data)}):g,l},{});return Object.keys(u).map(function(l){return u[l]})}([].concat(g,pt.options.modifiers)));return pt.orderedModifiers=Tr.filter(function(qn){return qn.enabled}),function Tn(){pt.orderedModifiers.forEach(function(Mn){var Br=Mn.options,qn=Mn.effect;if("function"==typeof qn){var bi=qn({state:pt,name:Mn.name,instance:gn,options:void 0===Br?{}:Br});jt.push(bi||function(){})}})}(),gn.update()},forceUpdate:function(){if(!vn){var yr=pt.elements,Br=yr.reference,Tr=yr.popper;if(So(Br,Tr)){pt.rects={reference:Du(Br,Vr(Tr),"fixed"===pt.options.strategy),popper:An(Tr)},pt.reset=!1,pt.placement=pt.options.placement,pt.orderedModifiers.forEach(function(Bi){return pt.modifiersData[Bi.name]=Object.assign({},Bi.data)});for(var qn=0;qn<pt.orderedModifiers.length;qn++)if(!0!==pt.reset){var bi=pt.orderedModifiers[qn],Qr=bi.fn,_i=bi.options;"function"==typeof Qr&&(pt=Qr({state:pt,options:void 0===_i?{}:_i,name:bi.name,instance:gn})||pt)}else pt.reset=!1,qn=-1}}},update:tl(function(){return new Promise(function(Mn){gn.forceUpdate(),Mn(pt)})}),destroy:function(){Xt(),vn=!0}};if(!So(re,ge))return gn;function Xt(){jt.forEach(function(Mn){return Mn()}),jt=[]}return gn.setOptions(Ge).then(function(Mn){!vn&&Ge.onFirstUpdate&&Ge.onFirstUpdate(Mn)}),gn}}var La=Fa(),Ta=Fa({defaultModifiers:[_a,Za,Ps,Ss,ba,Gi,Pl,Ys,ro]}),zc=Fa({defaultModifiers:[_a,Za,Ps,Ss]});const P=new Map,ne={set(p,u,l){P.has(p)||P.set(p,new Map);const g=P.get(p);g.has(u)||0===g.size?g.set(u,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(g.keys())[0]}.`)},get:(p,u)=>P.has(p)&&P.get(p).get(u)||null,remove(p,u){if(!P.has(p))return;const l=P.get(p);l.delete(u),0===l.size&&P.delete(p)}},xe="transitionend",Dt=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(u,l)=>`#${CSS.escape(l)}`)),p),hi=p=>{p.dispatchEvent(new Event(xe))},Nr=p=>!(!p||"object"!=typeof p)&&(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),er=p=>Nr(p)?p.jquery?p[0]:p:"string"==typeof p&&p.length>0?document.querySelector(Dt(p)):null,Ur=p=>{if(!Nr(p)||0===p.getClientRects().length)return!1;const u="visible"===getComputedStyle(p).getPropertyValue("visibility"),l=p.closest("details:not([open])");if(!l)return u;if(l!==p){const g=p.closest("summary");if(g&&g.parentNode!==l||null===g)return!1}return u},Yr=p=>!(p&&p.nodeType===Node.ELEMENT_NODE&&!p.classList.contains("disabled"))||(typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&"false"!==p.getAttribute("disabled")),wi=p=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof p.getRootNode){const u=p.getRootNode();return u instanceof ShadowRoot?u:null}return p instanceof ShadowRoot?p:p.parentNode?wi(p.parentNode):null},Hs=()=>{},Go=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Os=[],Ci=()=>"rtl"===document.documentElement.dir,Qi=p=>{(p=>{"loading"===document.readyState?(Os.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of Os)u()}),Os.push(p)):p()})(()=>{const u=Go();if(u){const l=p.NAME,g=u.fn[l];u.fn[l]=p.jQueryInterface,u.fn[l].Constructor=p,u.fn[l].noConflict=()=>(u.fn[l]=g,p.jQueryInterface)}})},ho=(p,u=[],l=p)=>"function"==typeof p?p(...u):l,Cr=(p,u,l=!0)=>{if(!l)return void ho(p);const I=(p=>{if(!p)return 0;let{transitionDuration:u,transitionDelay:l}=window.getComputedStyle(p);const g=Number.parseFloat(u),I=Number.parseFloat(l);return g||I?(u=u.split(",")[0],l=l.split(",")[0],1e3*(Number.parseFloat(u)+Number.parseFloat(l))):0})(u)+5;let k=!1;const z=({target:re})=>{re===u&&(k=!0,u.removeEventListener(xe,z),ho(p))};u.addEventListener(xe,z),setTimeout(()=>{k||hi(u)},I)},Rr=(p,u,l,g)=>{const I=p.length;let k=p.indexOf(u);return-1===k?!l&&g?p[I-1]:p[0]:(k+=l?1:-1,g&&(k=(k+I)%I),p[Math.max(0,Math.min(k,I-1))])},xl=/[^.]*(?=\..*)\.|.*/,io=/\..*/,Ru=/::\d+$/,Wc={};let Ol=1;const Ui={mouseenter:"mouseover",mouseleave:"mouseout"},Fh=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Kc(p,u){return u&&`${u}::${Ol++}`||p.uidEvent||Ol++}function Wo(p){const u=Kc(p);return p.uidEvent=u,Wc[u]=Wc[u]||{},Wc[u]}function Nl(p,u,l=null){return Object.values(p).find(g=>g.callable===u&&g.delegationSelector===l)}function Pu(p,u,l){const g="string"==typeof u,I=g?l:u||l;let k=or(p);return Fh.has(k)||(k=p),[g,I,k]}function Mu(p,u,l,g,I){if("string"!=typeof u||!p)return;let[k,z,re]=Pu(u,l,g);var Tn;u in Ui&&(Tn=z,z=function(Xt){if(!Xt.relatedTarget||Xt.relatedTarget!==Xt.delegateTarget&&!Xt.delegateTarget.contains(Xt.relatedTarget))return Tn.call(this,Xt)});const ge=Wo(p),Ge=ge[re]||(ge[re]={}),pt=Nl(Ge,z,k?l:null);if(pt)return void(pt.oneOff=pt.oneOff&&I);const jt=Kc(z,u.replace(xl,"")),vn=k?function Va(p,u,l){return function g(I){const k=p.querySelectorAll(u);for(let{target:z}=I;z&&z!==this;z=z.parentNode)for(const re of k)if(re===z)return lc(I,{delegateTarget:z}),g.oneOff&&Zt.off(p,I.type,u,l),l.apply(z,[I])}}(p,l,z):function Ns(p,u){return function l(g){return lc(g,{delegateTarget:p}),l.oneOff&&Zt.off(p,g.type,u),u.apply(p,[g])}}(p,z);vn.delegationSelector=k?l:null,vn.callable=z,vn.oneOff=I,vn.uidEvent=jt,Ge[jt]=vn,p.addEventListener(re,vn,k)}function qc(p,u,l,g,I){const k=Nl(u[l],g,I);k&&(p.removeEventListener(l,k,!!I),delete u[l][k.uidEvent])}function xu(p,u,l,g){const I=u[l]||{};for(const[k,z]of Object.entries(I))k.includes(g)&&qc(p,u,l,z.callable,z.delegationSelector)}function or(p){return p=p.replace(io,""),Ui[p]||p}const Zt={on(p,u,l,g){Mu(p,u,l,g,!1)},one(p,u,l,g){Mu(p,u,l,g,!0)},off(p,u,l,g){if("string"!=typeof u||!p)return;const[I,k,z]=Pu(u,l,g),re=z!==u,ge=Wo(p),Ge=ge[z]||{},pt=u.startsWith(".");if(typeof k<"u"){if(!Object.keys(Ge).length)return;qc(p,ge,z,k,I?l:null)}else{if(pt)for(const jt of Object.keys(ge))xu(p,ge,jt,u.slice(1));for(const[jt,vn]of Object.entries(Ge)){const gn=jt.replace(Ru,"");(!re||u.includes(gn))&&qc(p,ge,z,vn.callable,vn.delegationSelector)}}},trigger(p,u,l){if("string"!=typeof u||!p)return null;const g=Go();let z=null,re=!0,ge=!0,Ge=!1;u!==or(u)&&g&&(z=g.Event(u,l),g(p).trigger(z),re=!z.isPropagationStopped(),ge=!z.isImmediatePropagationStopped(),Ge=z.isDefaultPrevented());const pt=lc(new Event(u,{bubbles:re,cancelable:!0}),l);return Ge&&pt.preventDefault(),ge&&p.dispatchEvent(pt),pt.defaultPrevented&&z&&z.preventDefault(),pt}};function lc(p,u={}){for(const[l,g]of Object.entries(u))try{p[l]=g}catch{Object.defineProperty(p,l,{configurable:!0,get:()=>g})}return p}function ra(p){if("true"===p)return!0;if("false"===p)return!1;if(p===Number(p).toString())return Number(p);if(""===p||"null"===p)return null;if("string"!=typeof p)return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function kl(p){return p.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const Ia={setDataAttribute(p,u,l){p.setAttribute(`data-bs-${kl(u)}`,l)},removeDataAttribute(p,u){p.removeAttribute(`data-bs-${kl(u)}`)},getDataAttributes(p){if(!p)return{};const u={},l=Object.keys(p.dataset).filter(g=>g.startsWith("bs")&&!g.startsWith("bsConfig"));for(const g of l){let I=g.replace(/^bs/,"");I=I.charAt(0).toLowerCase()+I.slice(1,I.length),u[I]=ra(p.dataset[g])}return u},getDataAttribute:(p,u)=>ra(p.getAttribute(`data-bs-${kl(u)}`))};class sl{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,l){const g=Nr(l)?Ia.getDataAttribute(l,"config"):{};return{...this.constructor.Default,..."object"==typeof g?g:{},...Nr(l)?Ia.getDataAttributes(l):{},..."object"==typeof u?u:{}}}_typeCheckConfig(u,l=this.constructor.DefaultType){for(const[g,I]of Object.entries(l)){const k=u[g],z=Nr(k)?"element":null==(p=k)?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(I).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${g}" provided type "${z}" but expected type "${I}".`)}var p}}class Ro extends sl{constructor(u,l){super(),(u=er(u))&&(this._element=u,this._config=this._getConfig(l),ne.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ne.remove(this._element,this.constructor.DATA_KEY),Zt.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,l,g=!0){Cr(u,l,g)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return ne.get(er(u),this.DATA_KEY)}static getOrCreateInstance(u,l={}){return this.getInstance(u)||new this(u,"object"==typeof l?l:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const cc=p=>{let u=p.getAttribute("data-bs-target");if(!u||"#"===u){let l=p.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),u=l&&"#"!==l?l.trim():null}return u?u.split(",").map(l=>Dt(l)).join(","):null},Dn={find:(p,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,p)),findOne:(p,u=document.documentElement)=>Element.prototype.querySelector.call(u,p),children:(p,u)=>[].concat(...p.children).filter(l=>l.matches(u)),parents(p,u){const l=[];let g=p.parentNode.closest(u);for(;g;)l.push(g),g=g.parentNode.closest(u);return l},prev(p,u){let l=p.previousElementSibling;for(;l;){if(l.matches(u))return[l];l=l.previousElementSibling}return[]},next(p,u){let l=p.nextElementSibling;for(;l;){if(l.matches(u))return[l];l=l.nextElementSibling}return[]},focusableChildren(p){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(u,p).filter(l=>!Yr(l)&&Ur(l))},getSelectorFromElement(p){const u=cc(p);return u&&Dn.findOne(u)?u:null},getElementFromSelector(p){const u=cc(p);return u?Dn.findOne(u):null},getMultipleElementsFromSelector(p){const u=cc(p);return u?Dn.find(u):[]}},Ua=(p,u="hide")=>{const g=p.NAME;Zt.on(document,`click.dismiss${p.EVENT_KEY}`,`[data-bs-dismiss="${g}"]`,function(I){if(["A","AREA"].includes(this.tagName)&&I.preventDefault(),Yr(this))return;const k=Dn.getElementFromSelector(this)||this.closest(`.${g}`);p.getOrCreateInstance(k)[u]()})},Pr=".bs.alert",Ko=`close${Pr}`,fs=`closed${Pr}`;class Ca extends Ro{static get NAME(){return"alert"}close(){if(Zt.trigger(this._element,Ko).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),Zt.trigger(this._element,fs),this.dispose()}static jQueryInterface(u){return this.each(function(){const l=Ca.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}Ua(Ca,"close"),Qi(Ca);const Ba='[data-bs-toggle="button"]';class zs extends Ro{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const l=zs.getOrCreateInstance(this);"toggle"===u&&l[u]()})}}Zt.on(document,"click.bs.button.data-api",Ba,p=>{p.preventDefault();const u=p.target.closest(Ba);zs.getOrCreateInstance(u).toggle()}),Qi(zs);const Mo=".bs.swipe",yo=`touchstart${Mo}`,Rd=`touchmove${Mo}`,Qc=`touchend${Mo}`,Xf=`pointerdown${Mo}`,Pd=`pointerup${Mo}`,O={endCallback:null,leftCallback:null,rightCallback:null},w={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class N extends sl{constructor(u,l){super(),this._element=u,u&&N.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return O}static get DefaultType(){return w}static get NAME(){return"swipe"}dispose(){Zt.off(this._element,Mo)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),ho(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const l=u/this._deltaX;this._deltaX=0,l&&ho(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Zt.on(this._element,Xf,u=>this._start(u)),Zt.on(this._element,Pd,u=>this._end(u)),this._element.classList.add("pointer-event")):(Zt.on(this._element,yo,u=>this._start(u)),Zt.on(this._element,Rd,u=>this._move(u)),Zt.on(this._element,Qc,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&("pen"===u.pointerType||"touch"===u.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Me=".bs.carousel",Ct=".data-api",ur="next",wr="prev",Gr="left",sa="right",Ll=`slide${Me}`,ol=`slid${Me}`,Vl=`keydown${Me}`,Fu=`mouseenter${Me}`,Lh=`mouseleave${Me}`,al=`dragstart${Me}`,oa=`load${Me}${Ct}`,Vh=`click${Me}${Ct}`,Aa="carousel",ll="active",vo=".active",qo=".carousel-item",Ul=vo+qo,ju={ArrowLeft:sa,ArrowRight:Gr},Qf={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Jf={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class cl extends Ro{constructor(u,l){super(u,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Dn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Aa&&this.cycle()}static get Default(){return Qf}static get DefaultType(){return Jf}static get NAME(){return"carousel"}next(){this._slide(ur)}nextWhenVisible(){!document.hidden&&Ur(this._element)&&this.next()}prev(){this._slide(wr)}pause(){this._isSliding&&hi(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Zt.one(this._element,ol,()=>this.cycle());this.cycle()}}to(u){const l=this._getItems();if(u>l.length-1||u<0)return;if(this._isSliding)return void Zt.one(this._element,ol,()=>this.to(u));const g=this._getItemIndex(this._getActive());g!==u&&this._slide(u>g?ur:wr,l[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&Zt.on(this._element,Vl,u=>this._keydown(u)),"hover"===this._config.pause&&(Zt.on(this._element,Fu,()=>this.pause()),Zt.on(this._element,Lh,()=>this._maybeEnableCycle())),this._config.touch&&N.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const g of Dn.find(".carousel-item img",this._element))Zt.on(g,al,I=>I.preventDefault());this._swipeHelper=new N(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Gr)),rightCallback:()=>this._slide(this._directionToOrder(sa)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const l=ju[u.key];l&&(u.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const l=Dn.findOne(vo,this._indicatorsElement);l.classList.remove(ll),l.removeAttribute("aria-current");const g=Dn.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);g&&(g.classList.add(ll),g.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const l=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(u,l=null){if(this._isSliding)return;const g=this._getActive(),I=u===ur,k=l||Rr(this._getItems(),g,I,this._config.wrap);if(k===g)return;const z=this._getItemIndex(k),re=gn=>Zt.trigger(this._element,gn,{relatedTarget:k,direction:this._orderToDirection(u),from:this._getItemIndex(g),to:z});if(re(Ll).defaultPrevented||!g||!k)return;const Ge=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=k;const pt=I?"carousel-item-start":"carousel-item-end",jt=I?"carousel-item-next":"carousel-item-prev";k.classList.add(jt),g.classList.add(pt),k.classList.add(pt),this._queueCallback(()=>{k.classList.remove(pt,jt),k.classList.add(ll),g.classList.remove(ll,jt,pt),this._isSliding=!1,re(ol)},g,this._isAnimated()),Ge&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Dn.findOne(Ul,this._element)}_getItems(){return Dn.find(qo,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return Ci()?u===Gr?wr:ur:u===Gr?ur:wr}_orderToDirection(u){return Ci()?u===wr?Gr:sa:u===wr?sa:Gr}static jQueryInterface(u){return this.each(function(){const l=cl.getOrCreateInstance(this,u);if("number"!=typeof u){if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}}else l.to(u)})}}Zt.on(document,Vh,"[data-bs-slide], [data-bs-slide-to]",function(p){const u=Dn.getElementFromSelector(this);if(!u||!u.classList.contains(Aa))return;p.preventDefault();const l=cl.getOrCreateInstance(u),g=this.getAttribute("data-bs-slide-to");return g?(l.to(g),void l._maybeEnableCycle()):"next"===Ia.getDataAttribute(this,"slide")?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),Zt.on(window,oa,()=>{const p=Dn.find('[data-bs-ride="carousel"]');for(const u of p)cl.getOrCreateInstance(u)}),Qi(cl);const Da=".bs.collapse",ul=`show${Da}`,Zf=`shown${Da}`,$h=`hide${Da}`,Sa=`hidden${Da}`,Hu=`click${Da}.data-api`,so="show",dl="collapse",$a="collapsing",Hh=`:scope .${dl} .${dl}`,fl='[data-bs-toggle="collapse"]',Gu={parent:null,toggle:!0},$l={parent:"(null|element)",toggle:"boolean"};class zu extends Ro{constructor(u,l){super(u,l),this._isTransitioning=!1,this._triggerArray=[];const g=Dn.find(fl);for(const I of g){const k=Dn.getSelectorFromElement(I),z=Dn.find(k).filter(re=>re===this._element);null!==k&&z.length&&this._triggerArray.push(I)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Gu}static get DefaultType(){return $l}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(re=>re!==this._element).map(re=>zu.getOrCreateInstance(re,{toggle:!1}))),u.length&&u[0]._isTransitioning||Zt.trigger(this._element,ul).defaultPrevented)return;for(const re of u)re.hide();const g=this._getDimension();this._element.classList.remove(dl),this._element.classList.add($a),this._element.style[g]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const z=`scroll${g[0].toUpperCase()+g.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove($a),this._element.classList.add(dl,so),this._element.style[g]="",Zt.trigger(this._element,Zf)},this._element,!0),this._element.style[g]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||Zt.trigger(this._element,$h).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,this._element.classList.add($a),this._element.classList.remove(dl,so);for(const I of this._triggerArray){const k=Dn.getElementFromSelector(I);k&&!this._isShown(k)&&this._addAriaAndCollapsedClass([I],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove($a),this._element.classList.add(dl),Zt.trigger(this._element,Sa)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(so)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=er(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(fl);for(const l of u){const g=Dn.getElementFromSelector(l);g&&this._addAriaAndCollapsedClass([l],this._isShown(g))}}_getFirstLevelChildren(u){const l=Dn.find(Hh,this._config.parent);return Dn.find(u,this._config.parent).filter(g=>!l.includes(g))}_addAriaAndCollapsedClass(u,l){if(u.length)for(const g of u)g.classList.toggle("collapsed",!l),g.setAttribute("aria-expanded",l)}static jQueryInterface(u){const l={};return"string"==typeof u&&/show|hide/.test(u)&&(l.toggle=!1),this.each(function(){const g=zu.getOrCreateInstance(this,l);if("string"==typeof u){if(typeof g[u]>"u")throw new TypeError(`No method named "${u}"`);g[u]()}})}}Zt.on(document,Hu,fl,function(p){("A"===p.target.tagName||p.delegateTarget&&"A"===p.delegateTarget.tagName)&&p.preventDefault();for(const u of Dn.getMultipleElementsFromSelector(this))zu.getOrCreateInstance(u,{toggle:!1}).toggle()}),Qi(zu);const aa="dropdown",xo=".bs.dropdown",fc=".data-api",zh="ArrowUp",Ws="ArrowDown",pc=`hide${xo}`,Od=`hidden${xo}`,np=`show${xo}`,Nd=`shown${xo}`,Wu=`click${xo}${fc}`,Hl=`keydown${xo}${fc}`,Yo=`keyup${xo}${fc}`,oo="show",Zc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Tg=`${Zc}.${oo}`,Ku=".dropdown-menu",eu=Ci()?"top-end":"top-start",Ig=Ci()?"top-start":"top-end",qh=Ci()?"bottom-end":"bottom-start",Ks=Ci()?"bottom-start":"bottom-end",Fd=Ci()?"left-start":"right-start",Gl=Ci()?"right-start":"left-start",zl={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ld={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ao extends Ro{constructor(u,l){super(u,l),this._popper=null,this._parent=this._element.parentNode,this._menu=Dn.next(this._element,Ku)[0]||Dn.prev(this._element,Ku)[0]||Dn.findOne(Ku,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return zl}static get DefaultType(){return Ld}static get NAME(){return aa}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Yr(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!Zt.trigger(this._element,np,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const g of[].concat(...document.body.children))Zt.on(g,"mouseover",Hs);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(oo),this._element.classList.add(oo),Zt.trigger(this._element,Nd,u)}}hide(){!Yr(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!Zt.trigger(this._element,pc,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))Zt.off(g,"mouseover",Hs);this._popper&&this._popper.destroy(),this._menu.classList.remove(oo),this._element.classList.remove(oo),this._element.setAttribute("aria-expanded","false"),Ia.removeDataAttribute(this._menu,"popper"),Zt.trigger(this._element,Od,u)}}_getConfig(u){if("object"==typeof(u=super._getConfig(u)).reference&&!Nr(u.reference)&&"function"!=typeof u.reference.getBoundingClientRect)throw new TypeError(`${aa.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(typeof o>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let u=this._element;"parent"===this._config.reference?u=this._parent:Nr(this._config.reference)?u=er(this._config.reference):"object"==typeof this._config.reference&&(u=this._config.reference);const l=this._getPopperConfig();this._popper=Ta(u,this._menu,l)}_isShown(){return this._menu.classList.contains(oo)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return Fd;if(u.classList.contains("dropstart"))return Gl;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const l="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return u.classList.contains("dropup")?l?Ig:eu:l?Ks:qh}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Ia.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...ho(this._config.popperConfig,[u])}}_selectMenuItem({key:u,target:l}){const g=Dn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(I=>Ur(I));g.length&&Rr(g,l,u===Ws,!g.includes(l)).focus()}static jQueryInterface(u){return this.each(function(){const l=ao.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}static clearMenus(u){if(2===u.button||"keyup"===u.type&&"Tab"!==u.key)return;const l=Dn.find(Tg);for(const g of l){const I=ao.getInstance(g);if(!I||!1===I._config.autoClose)continue;const k=u.composedPath(),z=k.includes(I._menu);if(k.includes(I._element)||"inside"===I._config.autoClose&&!z||"outside"===I._config.autoClose&&z||I._menu.contains(u.target)&&("keyup"===u.type&&"Tab"===u.key||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const re={relatedTarget:I._element};"click"===u.type&&(re.clickEvent=u),I._completeHide(re)}}static dataApiKeydownHandler(u){const l=/input|textarea/i.test(u.target.tagName),g="Escape"===u.key,I=[zh,Ws].includes(u.key);if(!I&&!g||l&&!g)return;u.preventDefault();const k=this.matches(Zc)?this:Dn.prev(this,Zc)[0]||Dn.next(this,Zc)[0]||Dn.findOne(Zc,u.delegateTarget.parentNode),z=ao.getOrCreateInstance(k);if(I)return u.stopPropagation(),z.show(),void z._selectMenuItem(u);z._isShown()&&(u.stopPropagation(),z.hide(),k.focus())}}Zt.on(document,Hl,Zc,ao.dataApiKeydownHandler),Zt.on(document,Hl,Ku,ao.dataApiKeydownHandler),Zt.on(document,Wu,ao.clearMenus),Zt.on(document,Yo,ao.clearMenus),Zt.on(document,Wu,Zc,function(p){p.preventDefault(),ao.getOrCreateInstance(this).toggle()}),Qi(ao);const gl="backdrop",rp=`mousedown.bs.${gl}`,Cg={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Qo={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class qu extends sl{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return Cg}static get DefaultType(){return Qo}static get NAME(){return gl}show(u){if(!this._config.isVisible)return void ho(u);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{ho(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),ho(u)})):ho(u)}dispose(){this._isAppended&&(Zt.off(this._element,rp),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=er(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),Zt.on(u,rp,()=>{ho(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){Cr(u,this._getElement(),this._config.isAnimated)}}const Yu=".bs.focustrap",Ud=`focusin${Yu}`,wg=`keydown.tab${Yu}`,_l="backward",tu={autofocus:!0,trapElement:null},Bd={autofocus:"boolean",trapElement:"element"};class Ha extends sl{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return tu}static get DefaultType(){return Bd}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Zt.off(document,Yu),Zt.on(document,Ud,u=>this._handleFocusin(u)),Zt.on(document,wg,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Zt.off(document,Yu))}_handleFocusin(u){const{trapElement:l}=this._config;if(u.target===document||u.target===l||l.contains(u.target))return;const g=Dn.focusableChildren(l);0===g.length?l.focus():this._lastTabNavDirection===_l?g[g.length-1].focus():g[0].focus()}_handleKeydown(u){"Tab"===u.key&&(this._lastTabNavDirection=u.shiftKey?_l:"forward")}}const jd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",yl=".sticky-top",nu="padding-right",ru="margin-right";class Xu{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,nu,l=>l+u),this._setElementAttributes(jd,nu,l=>l+u),this._setElementAttributes(yl,ru,l=>l-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,nu),this._resetElementAttributes(jd,nu),this._resetElementAttributes(yl,ru)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,l,g){const I=this.getWidth();this._applyManipulationCallback(u,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+I)return;this._saveInitialAttribute(z,l);const re=window.getComputedStyle(z).getPropertyValue(l);z.style.setProperty(l,`${g(Number.parseFloat(re))}px`)})}_saveInitialAttribute(u,l){const g=u.style.getPropertyValue(l);g&&Ia.setDataAttribute(u,l,g)}_resetElementAttributes(u,l){this._applyManipulationCallback(u,I=>{const k=Ia.getDataAttribute(I,l);null!==k?(Ia.removeDataAttribute(I,l),I.style.setProperty(l,k)):I.style.removeProperty(l)})}_applyManipulationCallback(u,l){if(Nr(u))l(u);else for(const g of Dn.find(u,this._element))l(g)}}const fo=".bs.modal",Gd=`hide${fo}`,vl=`hidePrevented${fo}`,El=`hidden${fo}`,C=`show${fo}`,_=`shown${fo}`,v=`resize${fo}`,S=`click.dismiss${fo}`,X=`mousedown.dismiss${fo}`,he=`keydown.dismiss${fo}`,Xe=`click${fo}.data-api`,Rt="modal-open",Pn="modal-static",zd={backdrop:!0,focus:!0,keyboard:!0},Wd={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ga extends Ro{constructor(u,l){super(u,l),this._dialog=Dn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Xu,this._addEventListeners()}static get Default(){return zd}static get DefaultType(){return Wd}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||Zt.trigger(this._element,C,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Rt),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){!this._isShown||this._isTransitioning||Zt.trigger(this._element,Gd).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Zt.off(window,fo),Zt.off(this._dialog,fo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new qu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ha({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=Dn.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Zt.trigger(this._element,_,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){Zt.on(this._element,he,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Zt.on(window,v,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Zt.on(this._element,X,u=>{Zt.one(this._element,S,l=>{if(this._element===u.target&&this._element===l.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Rt),this._resetAdjustments(),this._scrollBar.reset(),Zt.trigger(this._element,El)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Zt.trigger(this._element,vl).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,g=this._element.style.overflowY;"hidden"===g||this._element.classList.contains(Pn)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(Pn),this._queueCallback(()=>{this._element.classList.remove(Pn),this._queueCallback(()=>{this._element.style.overflowY=g},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),g=l>0;if(g&&!u){const I=Ci()?"paddingLeft":"paddingRight";this._element.style[I]=`${l}px`}if(!g&&u){const I=Ci()?"paddingRight":"paddingLeft";this._element.style[I]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,l){return this.each(function(){const g=Ga.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof g[u]>"u")throw new TypeError(`No method named "${u}"`);g[u](l)}})}}Zt.on(document,Xe,'[data-bs-toggle="modal"]',function(p){const u=Dn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),Zt.one(u,C,I=>{I.defaultPrevented||Zt.one(u,El,()=>{Ur(this)&&this.focus()})});const l=Dn.findOne(".modal.show");l&&Ga.getInstance(l).hide(),Ga.getOrCreateInstance(u).toggle(this)}),Ua(Ga),Qi(Ga);const ca=".bs.offcanvas",op=".data-api",iu=`load${ca}${op}`,Qu="showing",Zu=".offcanvas.show",Sg=`show${ca}`,ap=`shown${ca}`,lp=`hide${ca}`,ua=`hidePrevented${ca}`,cp=`hidden${ca}`,n_=`resize${ca}`,Kd=`click${ca}${op}`,up=`keydown.dismiss${ca}`,Ey={backdrop:!0,keyboard:!0,scroll:!1},Rg={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ou extends Ro{constructor(u,l){super(u,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ey}static get DefaultType(){return Rg}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||Zt.trigger(this._element,Sg,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Xu).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Qu),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Qu),Zt.trigger(this._element,ap,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&!Zt.trigger(this._element,lp).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Xu).reset(),Zt.trigger(this._element,cp)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new qu({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{"static"!==this._config.backdrop?this.hide():Zt.trigger(this._element,ua)}:null})}_initializeFocusTrap(){return new Ha({trapElement:this._element})}_addEventListeners(){Zt.on(this._element,up,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();Zt.trigger(this._element,ua)}})}static jQueryInterface(u){return this.each(function(){const l=ou.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}Zt.on(document,Kd,'[data-bs-toggle="offcanvas"]',function(p){const u=Dn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),Yr(this))return;Zt.one(u,cp,()=>{Ur(this)&&this.focus()});const l=Dn.findOne(Zu);l&&l!==u&&ou.getInstance(l).hide(),ou.getOrCreateInstance(u).toggle(this)}),Zt.on(window,iu,()=>{for(const p of Dn.find(Zu))ou.getOrCreateInstance(p).show()}),Zt.on(window,n_,()=>{for(const p of Dn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(p).position&&ou.getOrCreateInstance(p).hide()}),Ua(ou),Qi(ou);const ed={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Mg=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),r_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Yd=(p,u)=>{const l=p.nodeName.toLowerCase();return u.includes(l)?!Mg.has(l)||!!r_.test(p.nodeValue):u.filter(g=>g instanceof RegExp).some(g=>g.test(l))},Ty={allowList:ed,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Jo={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},hp={entry:"(string|element|function|null)",selector:"(string|element)"};class i_ extends sl{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return Ty}static get DefaultType(){return Jo}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[I,k]of Object.entries(this._config.content))this._setContent(u,k,I);const l=u.children[0],g=this._resolvePossibleFunction(this._config.extraClass);return g&&l.classList.add(...g.split(" ")),l}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[l,g]of Object.entries(u))super._typeCheckConfig({selector:l,entry:g},hp)}_setContent(u,l,g){const I=Dn.findOne(g,u);if(I){if(!(l=this._resolvePossibleFunction(l)))return void I.remove();if(Nr(l))return void this._putElementInTemplate(er(l),I);if(this._config.html)return void(I.innerHTML=this._maybeSanitize(l));I.textContent=l}}_maybeSanitize(u){return this._config.sanitize?function dp(p,u,l){if(!p.length)return p;if(l&&"function"==typeof l)return l(p);const I=(new window.DOMParser).parseFromString(p,"text/html"),k=[].concat(...I.body.querySelectorAll("*"));for(const z of k){const re=z.nodeName.toLowerCase();if(!Object.keys(u).includes(re)){z.remove();continue}const ge=[].concat(...z.attributes),Ge=[].concat(u["*"]||[],u[re]||[]);for(const pt of ge)Yd(pt,Ge)||z.removeAttribute(pt.nodeName)}return I.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return ho(u,[this])}_putElementInTemplate(u,l){if(this._config.html)return l.innerHTML="",void l.append(u);l.textContent=u.textContent}}const No=new Set(["sanitize","allowList","sanitizeFn"]),_c="fade",td="show",xg="hide.bs.modal",au="hover",rf="focus",uu={AUTO:"auto",TOP:"top",RIGHT:Ci()?"left":"right",BOTTOM:"bottom",LEFT:Ci()?"right":"left"},eh={allowList:ed,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},gp={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class du extends Ro{constructor(u,l){if(typeof o>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(u,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return eh}static get DefaultType(){return gp}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Zt.off(this._element.closest(".modal"),xg,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=Zt.trigger(this._element,this.constructor.eventName("show")),g=(wi(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!g)return;this._disposePopper();const I=this._getTipElement();this._element.setAttribute("aria-describedby",I.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(I),Zt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(I),I.classList.add(td),"ontouchstart"in document.documentElement)for(const re of[].concat(...document.body.children))Zt.on(re,"mouseover",Hs);this._queueCallback(()=>{Zt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Zt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(td),"ontouchstart"in document.documentElement)for(const I of[].concat(...document.body.children))Zt.off(I,"mouseover",Hs);this._activeTrigger.click=!1,this._activeTrigger[rf]=!1,this._activeTrigger[au]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Zt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const l=this._getTemplateFactory(u).toHtml();if(!l)return null;l.classList.remove(_c,td),l.classList.add(`bs-${this.constructor.NAME}-auto`);const g=(p=>{do{p+=Math.floor(1e6*Math.random())}while(document.getElementById(p));return p})(this.constructor.NAME).toString();return l.setAttribute("id",g),this._isAnimated()&&l.classList.add(_c),l}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new i_({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(_c)}_isShown(){return this.tip&&this.tip.classList.contains(td)}_createPopper(u){const l=ho(this._config.placement,[this,u,this._element]),g=uu[l.toUpperCase()];return Ta(this._element,u,this._getPopperConfig(g))}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_resolvePossibleFunction(u){return ho(u,[this._element])}_getPopperConfig(u){const l={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:g=>{this._getTipElement().setAttribute("data-popper-placement",g.state.placement)}}]};return{...l,...ho(this._config.popperConfig,[l])}}_setListeners(){const u=this._config.trigger.split(" ");for(const l of u)if("click"===l)Zt.on(this._element,this.constructor.eventName("click"),this._config.selector,g=>{this._initializeOnDelegatedTarget(g).toggle()});else if("manual"!==l){const g=this.constructor.eventName(l===au?"mouseenter":"focusin"),I=this.constructor.eventName(l===au?"mouseleave":"focusout");Zt.on(this._element,g,this._config.selector,k=>{const z=this._initializeOnDelegatedTarget(k);z._activeTrigger["focusin"===k.type?rf:au]=!0,z._enter()}),Zt.on(this._element,I,this._config.selector,k=>{const z=this._initializeOnDelegatedTarget(k);z._activeTrigger["focusout"===k.type?rf:au]=z._element.contains(k.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Zt.on(this._element.closest(".modal"),xg,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,l){clearTimeout(this._timeout),this._timeout=setTimeout(u,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const l=Ia.getDataAttributes(this._element);for(const g of Object.keys(l))No.has(g)&&delete l[g];return u={...l,..."object"==typeof u&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=!1===u.container?document.body:er(u.container),"number"==typeof u.delay&&(u.delay={show:u.delay,hide:u.delay}),"number"==typeof u.title&&(u.title=u.title.toString()),"number"==typeof u.content&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[l,g]of Object.entries(this._config))this.constructor.Default[l]!==g&&(u[l]=g);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const l=du.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}Qi(du);const a_={...du.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Fg={...du.DefaultType,content:"(null|string|element|function)"};class Lg extends du{static get Default(){return a_}static get DefaultType(){return Fg}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const l=Lg.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}Qi(Lg);const nd=".bs.scrollspy",yp=`activate${nd}`,Vg=`click${nd}`,Ay=`load${nd}.data-api`,rd="active",th="[href]",vp=".nav-link",Bg=`${vp}, .nav-item > ${vp}, .list-group-item`,bp={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},jg={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class sd extends Ro{constructor(u,l){super(u,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return bp}static get DefaultType(){return jg}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=er(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,"string"==typeof u.threshold&&(u.threshold=u.threshold.split(",").map(l=>Number.parseFloat(l))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Zt.off(this._config.target,Vg),Zt.on(this._config.target,Vg,th,u=>{const l=this._observableSections.get(u.target.hash);if(l){u.preventDefault();const g=this._rootElement||window,I=l.offsetTop-this._element.offsetTop;if(g.scrollTo)return void g.scrollTo({top:I,behavior:"smooth"});g.scrollTop=I}}))}_getNewObserver(){return new IntersectionObserver(l=>this._observerCallback(l),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(u){const l=z=>this._targetLinks.get(`#${z.target.id}`),g=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(l(z))},I=(this._rootElement||document.documentElement).scrollTop,k=I>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=I;for(const z of u){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(z));continue}const re=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(k&&re){if(g(z),!I)return}else!k&&!re&&g(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=Dn.find(th,this._config.target);for(const l of u){if(!l.hash||Yr(l))continue;const g=Dn.findOne(decodeURI(l.hash),this._element);Ur(g)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,g))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(rd),this._activateParents(u),Zt.trigger(this._element,yp,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))Dn.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(rd);else for(const l of Dn.parents(u,".nav, .list-group"))for(const g of Dn.prev(l,Bg))g.classList.add(rd)}_clearActiveClass(u){u.classList.remove(rd);const l=Dn.find(`${th}.${rd}`,u);for(const g of l)g.classList.remove(rd)}static jQueryInterface(u){return this.each(function(){const l=sd.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}Zt.on(window,Ay,()=>{for(const p of Dn.find('[data-bs-spy="scroll"]'))sd.getOrCreateInstance(p)}),Qi(sd);const yc=".bs.tab",lf=`hide${yc}`,cf=`hidden${yc}`,d_=`show${yc}`,uf=`shown${yc}`,df=`click${yc}`,$g=`keydown${yc}`,h_=`load${yc}`,Hg="ArrowLeft",f_="ArrowRight",Gg="ArrowUp",hf="ArrowDown",rh="Home",Wl="End",Kl="active",zg="show",Ec=".dropdown-toggle",ff=`:not(${Ec})`,sh='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Cp=`.nav-link${ff}, .list-group-item${ff}, [role="tab"]${ff}, ${sh}`,wp=`.${Kl}[data-bs-toggle="tab"], .${Kl}[data-bs-toggle="pill"], .${Kl}[data-bs-toggle="list"]`;class od extends Ro{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Zt.on(this._element,$g,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const l=this._getActiveElem(),g=l?Zt.trigger(l,lf,{relatedTarget:u}):null;Zt.trigger(u,d_,{relatedTarget:l}).defaultPrevented||g&&g.defaultPrevented||(this._deactivate(l,u),this._activate(u,l))}_activate(u,l){u&&(u.classList.add(Kl),this._activate(Dn.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),Zt.trigger(u,uf,{relatedTarget:l})):u.classList.add(zg)},u,u.classList.contains("fade")))}_deactivate(u,l){u&&(u.classList.remove(Kl),u.blur(),this._deactivate(Dn.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),Zt.trigger(u,cf,{relatedTarget:l})):u.classList.remove(zg)},u,u.classList.contains("fade")))}_keydown(u){if(![Hg,f_,Gg,hf,rh,Wl].includes(u.key))return;u.stopPropagation(),u.preventDefault();const l=this._getChildren().filter(I=>!Yr(I));let g;if([rh,Wl].includes(u.key))g=l[u.key===rh?0:l.length-1];else{const I=[f_,hf].includes(u.key);g=Rr(l,u.target,I,!0)}g&&(g.focus({preventScroll:!0}),od.getOrCreateInstance(g).show())}_getChildren(){return Dn.find(Cp,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,l){this._setAttributeIfNotExists(u,"role","tablist");for(const g of l)this._setInitialAttributesOnChild(g)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const l=this._elemIsActive(u),g=this._getOuterElement(u);u.setAttribute("aria-selected",l),g!==u&&this._setAttributeIfNotExists(g,"role","presentation"),l||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const l=Dn.getElementFromSelector(u);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,l){const g=this._getOuterElement(u);if(!g.classList.contains("dropdown"))return;const I=(k,z)=>{const re=Dn.findOne(k,g);re&&re.classList.toggle(z,l)};I(Ec,Kl),I(".dropdown-menu",zg),g.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(u,l,g){u.hasAttribute(l)||u.setAttribute(l,g)}_elemIsActive(u){return u.classList.contains(Kl)}_getInnerElement(u){return u.matches(Cp)?u:Dn.findOne(Cp,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const l=od.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}Zt.on(document,df,sh,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!Yr(this)&&od.getOrCreateInstance(this).show()}),Zt.on(window,h_,()=>{for(const p of Dn.find(wp))od.getOrCreateInstance(p)}),Qi(od);const ql=".bs.toast",p_=`mouseover${ql}`,Yg=`mouseout${ql}`,g_=`focusin${ql}`,Tc=`focusout${ql}`,oh=`hide${ql}`,Xg=`hidden${ql}`,Dy=`show${ql}`,Qg=`shown${ql}`,Sp="show",Yl="showing",Sy={animation:"boolean",autohide:"boolean",delay:"number"},Jg={animation:!0,autohide:!0,delay:5e3};class pf extends Ro{constructor(u,l){super(u,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Jg}static get DefaultType(){return Sy}static get NAME(){return"toast"}show(){Zt.trigger(this._element,Dy).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Sp,Yl),this._queueCallback(()=>{this._element.classList.remove(Yl),Zt.trigger(this._element,Qg),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Zt.trigger(this._element,oh).defaultPrevented&&(this._element.classList.add(Yl),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Yl,Sp),Zt.trigger(this._element,Xg)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Sp),super.dispose()}isShown(){return this._element.classList.contains(Sp)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,l){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const g=u.relatedTarget;this._element===g||this._element.contains(g)||this._maybeScheduleHide()}_setListeners(){Zt.on(this._element,p_,u=>this._onInteraction(u,!0)),Zt.on(this._element,Yg,u=>this._onInteraction(u,!1)),Zt.on(this._element,g_,u=>this._onInteraction(u,!0)),Zt.on(this._element,Tc,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const l=pf.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u](this)}})}}Ua(pf),Qi(pf);let ad=(()=>{class p{constructor(l){this.http=l,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(l){return this.http.post(this.emailEndpoint,l)}static{this.\u0275fac=function(g){return new(g||p)(s.KVO(We))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var ci=F(4341);let za=(()=>{class p{static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(g,I){1&g&&(s.j41(0,"section",0)(1,"div",1)(2,"div",2),s.nrm(3,"i",3),s.j41(4,"p"),s.EFF(5),s.k0s()(),s.j41(6,"div",2),s.nrm(7,"i",4),s.j41(8,"p"),s.EFF(9),s.k0s()(),s.j41(10,"div",2),s.nrm(11,"i",5),s.j41(12,"p"),s.EFF(13),s.k0s()()()()),2&g&&(s.R7$(5),s.JRh(I.phoneNumber),s.R7$(4),s.JRh(I.address),s.R7$(4),s.JRh(I.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();var gf=F(3711);function m_(p,u){if(1&p&&(s.j41(0,"div",5)(1,"p"),s.EFF(2),s.k0s()()),2&p){const l=s.XpG().$implicit;s.R7$(2),s.JRh(l.answer)}}function __(p,u){if(1&p){const l=s.RV6();s.j41(0,"div",2)(1,"button",3),s.bIt("click",function(){const k=s.eBV(l).$implicit;return s.Njj(k.open=!k.open)}),s.EFF(2),s.k0s(),s.DNE(3,m_,3,1,"div",4),s.k0s()}if(2&p){const l=u.$implicit;s.R7$(2),s.SpI(" ",l.question," "),s.R7$(1),s.Y8G("ngIf",l.open)}}let Zg=(()=>{class p{constructor(){this.faqs=[{question:"What services do you provide?",answer:"We offer 24/7 care, medication management, meal preparation, assistance with daily activities, and specialized care for conditions like dementia or mobility limitations.",open:!1},{question:"How do I know if an Adult Family Home is right for my loved one?",answer:"If your loved one needs assistance with daily living but still wants a home-like setting with personalized care, an AFH can be a great alternative to larger nursing facilities.",open:!1},{question:"Do you provide specialized care for dementia or Alzheimer\u2019s patients?",answer:"Yes, we offer memory care services tailored to the needs of residents with dementia, including safety measures, cognitive activities, and compassionate support.",open:!1},{question:"What are the room and living arrangements?",answer:"We provide private or semi-private rooms in a warm, family-like setting. Our common areas encourage socialization, and residents receive personalized attention.",open:!1},{question:"Can family members visit?",answer:"Absolutely! We encourage family visits and open communication. Visiting hours may vary, but we strive to accommodate family involvement.",open:!1},{question:"What is the cost of care, and do you accept insurance?",answer:"Pricing depends on the level of care needed. We accept private pay and some long-term care insurance plans. Contact us for a personalized quote.",open:!1},{question:"What activities and social programs do you offer?",answer:"We provide daily activities such as games, music, gentle exercises, and social events to keep residents engaged and active.",open:!1},{question:"How do I schedule a tour or get more information?",answer:"You can contact us through our website, call us directly, or fill out our inquiry form to schedule a visit and learn more about our care services.",open:!1}]}static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-faq"]],decls:4,vars:1,consts:[[1,"faq-container"],["class","faq-item",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],["class","faq-answer",4,"ngIf"],[1,"faq-answer"]],template:function(g,I){1&g&&(s.j41(0,"div",0)(1,"h2"),s.EFF(2,"Frequently Asked Questions (FAQs)"),s.k0s(),s.DNE(3,__,4,2,"div",1),s.k0s()),2&g&&(s.R7$(3),s.Y8G("ngForOf",I.faqs))},dependencies:[ae.Sq,ae.bT],styles:[".faq-container[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto;padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2rem}.faq-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.faq-question[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:var(--dark-background-color);color:#fff;border:none;text-align:left;font-size:1.1em;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.faq-question[_ngcontent-%COMP%]:hover{background-color:#45a049}.faq-answer[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:5px;margin-top:10px;font-size:1.05em;color:#555;box-shadow:0 2px 4px #0000001a}"]})}}return p})();function y_(p,u){if(1&p&&(s.j41(0,"div",22)(1,"h3"),s.EFF(2,"Email"),s.k0s(),s.j41(3,"p")(4,"a",47),s.EFF(5),s.k0s()()()),2&p){const l=s.XpG(3);s.R7$(4),s.Mz_("href","mailto:",l.business.email,"",s.B4B),s.R7$(1),s.JRh(l.business.email)}}function v_(p,u){if(1&p&&(s.j41(0,"div",22)(1,"h3"),s.EFF(2,"Fax"),s.k0s(),s.j41(3,"p"),s.EFF(4),s.k0s()()),2&p){const l=s.XpG(3);s.R7$(4),s.JRh(l.business.fax)}}function Ry(p,u){if(1&p&&(s.j41(0,"div",22)(1,"h3"),s.EFF(2,"Social Media"),s.k0s(),s.j41(3,"p")(4,"a",47),s.EFF(5),s.k0s()()()),2&p){const l=s.XpG(3);s.R7$(4),s.FS9("href",l.business.socialMedia,s.B4B),s.R7$(1),s.JRh(l.business.socialMedia)}}function mf(p,u){if(1&p){const l=s.RV6();s.qex(0),s.j41(1,"div",13)(2,"div",14)(3,"h1"),s.EFF(4,"Contact Us"),s.k0s(),s.j41(5,"div",15)(6,"p"),s.EFF(7,"We're here to answer any questions you have"),s.k0s()()()(),s.j41(8,"div",16)(9,"section",17)(10,"div",18),s.EFF(11,"Get in Touch"),s.k0s(),s.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),s.EFF(17,"Address"),s.k0s(),s.j41(18,"p"),s.EFF(19),s.k0s()(),s.j41(20,"div",22)(21,"h3"),s.EFF(22,"Phone"),s.k0s(),s.j41(23,"p"),s.EFF(24),s.k0s()(),s.DNE(25,y_,6,2,"div",23),s.DNE(26,v_,5,1,"div",23),s.DNE(27,Ry,6,2,"div",23),s.j41(28,"div")(29,"h3"),s.EFF(30,"Visitation Hours"),s.k0s(),s.nrm(31,"div",24),s.k0s()()(),s.j41(32,"div",25)(33,"div",26),s.nrm(34,"img",27),s.k0s()()()(),s.j41(35,"section",28)(36,"div",18),s.EFF(37,"Send Us a Message"),s.k0s(),s.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),s.EFF(42,"How can we help?"),s.k0s(),s.j41(43,"p",33),s.EFF(44," Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help. "),s.k0s()()(),s.j41(45,"div",34)(46,"form",35,36),s.bIt("ngSubmit",function(){s.eBV(l);const I=s.XpG(2);return s.Njj(I.onSubmit())}),s.j41(48,"div",37)(49,"label",38),s.EFF(50,"Name"),s.k0s(),s.j41(51,"input",39),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.name=I)}),s.k0s()(),s.j41(52,"div",37)(53,"label",40),s.EFF(54,"Email"),s.k0s(),s.j41(55,"input",41),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.email=I)}),s.k0s()(),s.j41(56,"div",37)(57,"label",42),s.EFF(58,"Message"),s.k0s(),s.j41(59,"textarea",43),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.message=I)}),s.k0s()(),s.j41(60,"button",44),s.EFF(61," Send "),s.k0s()()()()(),s.nrm(62,"app-information",45)(63,"app-google-maps",46),s.k0s(),s.nrm(64,"app-faq"),s.bVm()}if(2&p){const l=s.sdS(47),g=s.XpG(2);s.R7$(19),s.JRh(g.business.address),s.R7$(5),s.JRh(g.business.phone),s.R7$(1),s.Y8G("ngIf",g.business.email),s.R7$(1),s.Y8G("ngIf",g.business.fax),s.R7$(1),s.Y8G("ngIf",g.business.socialMedia),s.R7$(4),s.Y8G("innerHTML",g.sanitizedBusinessHours,s.npT),s.R7$(3),s.Y8G("src",g.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",s.B4B),s.R7$(17),s.Y8G("ngModel",g.formData.name),s.R7$(4),s.Y8G("ngModel",g.formData.email),s.R7$(4),s.Y8G("ngModel",g.formData.message),s.R7$(1),s.Y8G("disabled",!l.form.valid),s.R7$(2),s.Y8G("phoneNumber",g.business.phone)("address",g.business.address)("email",g.business.email),s.R7$(1),s.Y8G("address",g.business.address||"")("layoutType",g.business.theme.themeType||"demo")}}function _f(p,u){if(1&p&&(s.j41(0,"div",51)(1,"p")(2,"a",47),s.EFF(3),s.k0s()()()),2&p){const l=s.XpG(3);s.R7$(2),s.Mz_("href","mailto:",l.business.email,"",s.B4B),s.R7$(1),s.JRh(l.business.email)}}function E_(p,u){if(1&p&&(s.j41(0,"div",62)(1,"a",63),s.nrm(2,"i",64),s.k0s()()),2&p){const l=s.XpG(3);s.R7$(1),s.FS9("href",l.business.socialMedia,s.B4B)}}function em(p,u){if(1&p){const l=s.RV6();s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",48)(3,"div",49)(4,"h2"),s.EFF(5,"Contact us"),s.k0s(),s.DNE(6,_f,4,2,"div",50),s.j41(7,"div",51)(8,"p"),s.EFF(9),s.k0s()(),s.j41(10,"div",51)(11,"p"),s.EFF(12),s.k0s()(),s.DNE(13,E_,3,1,"div",52),s.k0s(),s.j41(14,"div",53)(15,"form",54),s.bIt("submit",function(){s.eBV(l);const I=s.XpG(2);return s.Njj(I.onSubmit())}),s.j41(16,"div",37)(17,"label",55),s.EFF(18,"Name "),s.j41(19,"span"),s.EFF(20,"(required)"),s.k0s()(),s.j41(21,"div",56)(22,"input",57),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.name=I)}),s.k0s()()(),s.j41(23,"div",37)(24,"label",40),s.EFF(25,"Email "),s.j41(26,"span"),s.EFF(27,"(required)"),s.k0s()(),s.j41(28,"input",58),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.email=I)}),s.k0s()(),s.j41(29,"div",37)(30,"label",42),s.EFF(31,"Message "),s.j41(32,"span"),s.EFF(33,"(required)"),s.k0s()(),s.j41(34,"textarea",59),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.message=I)}),s.k0s()(),s.j41(35,"button",60),s.EFF(36,"Send"),s.k0s()()()(),s.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),s.EFF(41,"Visitation Hours"),s.k0s(),s.nrm(42,"div",24),s.k0s()(),s.j41(43,"div",61),s.nrm(44,"app-google-maps",46),s.k0s()(),s.bVm()}if(2&p){const l=s.XpG(2);s.R7$(6),s.Y8G("ngIf",l.business.email),s.R7$(3),s.JRh(l.business.phone),s.R7$(3),s.JRh(l.business.address),s.R7$(1),s.Y8G("ngIf",l.business.socialMedia),s.R7$(9),s.Y8G("ngModel",l.formData.name),s.R7$(6),s.Y8G("ngModel",l.formData.email),s.R7$(6),s.Y8G("ngModel",l.formData.message),s.R7$(8),s.Y8G("innerHTML",l.sanitizedBusinessHours,s.npT),s.R7$(2),s.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function Rp(p,u){if(1&p&&(s.j41(0,"div",51)(1,"p")(2,"a",47),s.EFF(3),s.k0s()()()),2&p){const l=s.XpG(3);s.R7$(2),s.Mz_("href","mailto:",l.business.email,"",s.B4B),s.R7$(1),s.JRh(l.business.email)}}function b_(p,u){if(1&p&&(s.j41(0,"div",62)(1,"a",63),s.nrm(2,"i",64),s.k0s()()),2&p){const l=s.XpG(3);s.R7$(1),s.FS9("href",l.business.socialMedia,s.B4B)}}function ah(p,u){if(1&p){const l=s.RV6();s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",48)(3,"div",49)(4,"h2"),s.EFF(5,"Contact us"),s.k0s(),s.DNE(6,Rp,4,2,"div",50),s.j41(7,"div",51)(8,"p"),s.EFF(9),s.k0s()(),s.j41(10,"div",51)(11,"p"),s.EFF(12),s.k0s()(),s.DNE(13,b_,3,1,"div",52),s.k0s(),s.j41(14,"div",53)(15,"form",54),s.bIt("submit",function(){s.eBV(l);const I=s.XpG(2);return s.Njj(I.onSubmit())}),s.j41(16,"div",37)(17,"label",55),s.EFF(18,"Name "),s.j41(19,"span"),s.EFF(20,"(required)"),s.k0s()(),s.j41(21,"div",56)(22,"input",57),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.name=I)}),s.k0s()()(),s.j41(23,"div",37)(24,"label",40),s.EFF(25,"Email "),s.j41(26,"span"),s.EFF(27,"(required)"),s.k0s()(),s.j41(28,"input",58),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.email=I)}),s.k0s()(),s.j41(29,"div",37)(30,"label",42),s.EFF(31,"Message "),s.j41(32,"span"),s.EFF(33,"(required)"),s.k0s()(),s.j41(34,"textarea",59),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.message=I)}),s.k0s()(),s.j41(35,"button",60),s.EFF(36,"Send"),s.k0s()()()(),s.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),s.EFF(41,"Visitation Hours"),s.k0s(),s.nrm(42,"div",24),s.k0s()(),s.j41(43,"div",61),s.nrm(44,"app-google-maps",46),s.k0s()(),s.bVm()}if(2&p){const l=s.XpG(2);s.R7$(6),s.Y8G("ngIf",l.business.email),s.R7$(3),s.JRh(l.business.phone),s.R7$(3),s.JRh(l.business.address),s.R7$(1),s.Y8G("ngIf",l.business.socialMedia),s.R7$(9),s.Y8G("ngModel",l.formData.name),s.R7$(6),s.Y8G("ngModel",l.formData.email),s.R7$(6),s.Y8G("ngModel",l.formData.message),s.R7$(8),s.Y8G("innerHTML",l.sanitizedBusinessHours,s.npT),s.R7$(2),s.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function T_(p,u){if(1&p&&(s.j41(0,"div",51)(1,"p")(2,"a",47),s.EFF(3),s.k0s()()()),2&p){const l=s.XpG(3);s.R7$(2),s.Mz_("href","mailto:",l.business.email,"",s.B4B),s.R7$(1),s.JRh(l.business.email)}}function tm(p,u){if(1&p&&(s.j41(0,"div",62)(1,"a",63),s.nrm(2,"i",64),s.k0s()()),2&p){const l=s.XpG(3);s.R7$(1),s.FS9("href",l.business.socialMedia,s.B4B)}}function nm(p,u){if(1&p){const l=s.RV6();s.qex(0),s.nrm(1,"app-hero",65),s.j41(2,"div",48)(3,"div",49)(4,"h2"),s.EFF(5,"Contact us"),s.k0s(),s.DNE(6,T_,4,2,"div",50),s.j41(7,"div",51)(8,"p"),s.EFF(9),s.k0s()(),s.j41(10,"div",51)(11,"p"),s.EFF(12),s.k0s()(),s.DNE(13,tm,3,1,"div",52),s.k0s(),s.j41(14,"div",53)(15,"form",54),s.bIt("submit",function(){s.eBV(l);const I=s.XpG(2);return s.Njj(I.onSubmit())}),s.j41(16,"div",37)(17,"label",55),s.EFF(18,"Name "),s.j41(19,"span"),s.EFF(20,"(required)"),s.k0s()(),s.j41(21,"div",56)(22,"input",57),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.name=I)}),s.k0s()()(),s.j41(23,"div",37)(24,"label",40),s.EFF(25,"Email "),s.j41(26,"span"),s.EFF(27,"(required)"),s.k0s()(),s.j41(28,"input",58),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.email=I)}),s.k0s()(),s.j41(29,"div",37)(30,"label",42),s.EFF(31,"Message "),s.j41(32,"span"),s.EFF(33,"(required)"),s.k0s()(),s.j41(34,"textarea",59),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.message=I)}),s.k0s()(),s.j41(35,"button",66),s.EFF(36,"Send"),s.k0s()()()(),s.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),s.EFF(41,"Hours"),s.k0s(),s.nrm(42,"div",24),s.k0s()(),s.j41(43,"div",61),s.nrm(44,"app-google-maps",46),s.k0s()(),s.bVm()}if(2&p){const l=s.XpG(2);s.R7$(1),s.Y8G("layoutType","sb"),s.R7$(5),s.Y8G("ngIf",l.business.email),s.R7$(3),s.JRh(l.business.phone),s.R7$(3),s.JRh(l.business.address),s.R7$(1),s.Y8G("ngIf",l.business.socialMedia),s.R7$(9),s.Y8G("ngModel",l.formData.name),s.R7$(6),s.Y8G("ngModel",l.formData.email),s.R7$(6),s.Y8G("ngModel",l.formData.message),s.R7$(8),s.Y8G("innerHTML",l.sanitizedBusinessHours,s.npT),s.R7$(2),s.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function Ic(p,u){if(1&p&&(s.j41(0,"div",51)(1,"p")(2,"a",47),s.EFF(3),s.k0s()()()),2&p){const l=s.XpG(3);s.R7$(2),s.Mz_("href","mailto:",l.business.email,"",s.B4B),s.R7$(1),s.JRh(l.business.email)}}function Pp(p,u){if(1&p&&(s.j41(0,"div",62)(1,"a",63),s.nrm(2,"i",64),s.k0s()()),2&p){const l=s.XpG(3);s.R7$(1),s.FS9("href",l.business.socialMedia,s.B4B)}}function rm(p,u){if(1&p){const l=s.RV6();s.qex(0),s.j41(1,"div",48)(2,"div",49)(3,"h2"),s.EFF(4,"Contact us"),s.k0s(),s.DNE(5,Ic,4,2,"div",50),s.j41(6,"div",51)(7,"p"),s.EFF(8),s.k0s()(),s.j41(9,"div",51)(10,"p"),s.EFF(11),s.k0s()(),s.DNE(12,Pp,3,1,"div",52),s.k0s(),s.j41(13,"div",53)(14,"form",54),s.bIt("submit",function(){s.eBV(l);const I=s.XpG(2);return s.Njj(I.onSubmit())}),s.j41(15,"div",37)(16,"label",55),s.EFF(17,"Name "),s.j41(18,"span"),s.EFF(19,"(required)"),s.k0s()(),s.j41(20,"div",56)(21,"input",57),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.name=I)}),s.k0s()()(),s.j41(22,"div",37)(23,"label",40),s.EFF(24,"Email "),s.j41(25,"span"),s.EFF(26,"(required)"),s.k0s()(),s.j41(27,"input",58),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.email=I)}),s.k0s()(),s.j41(28,"div",37)(29,"label",42),s.EFF(30,"Message "),s.j41(31,"span"),s.EFF(32,"(required)"),s.k0s()(),s.j41(33,"textarea",59),s.bIt("ngModelChange",function(I){s.eBV(l);const k=s.XpG(2);return s.Njj(k.formData.message=I)}),s.k0s()(),s.j41(34,"button",60),s.EFF(35,"Send"),s.k0s()()()(),s.j41(36,"div",48)(37,"div",49)(38,"div"),s.nrm(39,"div",24),s.k0s()(),s.j41(40,"div",61),s.nrm(41,"app-google-maps",46),s.k0s()(),s.bVm()}if(2&p){const l=s.XpG(2);s.R7$(5),s.Y8G("ngIf",l.business.email),s.R7$(3),s.JRh(l.business.phone),s.R7$(3),s.JRh(l.business.address),s.R7$(1),s.Y8G("ngIf",l.business.socialMedia),s.R7$(9),s.Y8G("ngModel",l.formData.name),s.R7$(6),s.Y8G("ngModel",l.formData.email),s.R7$(6),s.Y8G("ngModel",l.formData.message),s.R7$(6),s.Y8G("innerHTML",l.sanitizedBusinessHours,s.npT),s.R7$(2),s.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function Py(p,u){if(1&p&&(s.j41(0,"div")(1,"div",1),s.DNE(2,mf,65,16,"ng-container",2),s.DNE(3,em,45,10,"ng-container",2),s.DNE(4,ah,45,10,"ng-container",2),s.DNE(5,nm,45,11,"ng-container",2),s.DNE(6,rm,42,10,"ng-container",3),s.k0s(),s.j41(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"h5",8),s.EFF(12),s.k0s(),s.nrm(13,"button",9),s.k0s(),s.j41(14,"div",10),s.EFF(15),s.k0s(),s.j41(16,"div",11)(17,"button",12),s.EFF(18," Close "),s.k0s()()()()()()),2&p){const l=s.XpG();s.R7$(1),s.Y8G("ngSwitch",l.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","sb"),s.R7$(7),s.JRh(l.modalTitle),s.R7$(3),s.SpI(" ",l.modalMessage," ")}}let ld=(()=>{class p{constructor(l,g,I,k,z,re,ge,Ge){this.sanitizer=l,this.businessDataService=g,this.webContent=I,this.route=k,this.http=z,this.emailService=re,this.router=ge,this.metaService=Ge,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const l=document.getElementById("responseModal");l?this.responseModal=new Ga(l):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(l=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},l=>{console.error("Error sending email",l),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(l){const g=l.split(".");return g.length>2?g.slice(-2).join("."):l}showModal(){this.responseModal&&this.responseModal.show()}navigateTo(l){this.router.navigate(["/"+l],{queryParams:{id:this.business?.id}})}static{this.\u0275fac=function(g){return new(g||p)(s.rXU(de.up),s.rXU(Nt.A),s.rXU(Bn.N),s.rXU(dr.nX),s.rXU(We),s.rXU(ad),s.rXU(dr.Ix),s.rXU(at.R))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"],[3,"layoutType"],["type","submit",1,"btnSBSend"]],template:function(g,I){1&g&&s.DNE(0,Py,19,7,"div",0),2&g&&s.Y8G("ngIf",I.business)},dependencies:[ae.bT,ae.ux,ae.e1,ae.fG,ci.qT,ci.me,ci.BC,ci.cb,ci.YS,ci.vS,ci.cV,za,mr,gf.a,Zg]})}}return p})();var im=F(467);const My=["dynamicContainer"],Mp=["ctaContainer"];function I_(p,u){1&p&&(s.qex(0),s.j41(1,"div",9)(2,"div",10)(3,"h1"),s.EFF(4,"Our Home"),s.k0s(),s.j41(5,"div",11)(6,"p"),s.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),s.k0s()()()(),s.bVm())}function xy(p,u){1&p&&(s.qex(0),s.nrm(1,"app-hero",12),s.bVm()),2&p&&(s.R7$(1),s.Y8G("layoutType","sb"))}function Oy(p,u){1&p&&(s.qex(0),s.nrm(1,"app-hero",12),s.bVm()),2&p&&(s.R7$(1),s.Y8G("layoutType","prestige"))}function Ny(p,u){if(1&p){const l=s.RV6();s.j41(0,"div",13),s.bIt("click",function(){const k=s.eBV(l).$implicit,z=s.XpG(2);return s.Njj(z.onImageClick(k.url))}),s.nrm(1,"img",14),s.k0s()}if(2&p){const l=u.$implicit;s.R7$(1),s.Y8G("src",l.url,s.B4B)}}function ky(p,u){if(1&p&&(s.j41(0,"div")(1,"div",1),s.DNE(2,I_,8,0,"ng-container",2),s.DNE(3,xy,2,1,"ng-container",2),s.DNE(4,Oy,2,1,"ng-container",2),s.k0s(),s.eu8(5,null,3),s.j41(7,"section",4)(8,"div",5)(9,"h2"),s.EFF(10,"Explore Our Gallery"),s.k0s()(),s.j41(11,"div",6),s.DNE(12,Ny,2,1,"div",7),s.k0s()(),s.eu8(13,null,8),s.k0s()),2&p){const l=s.XpG();s.R7$(1),s.Y8G("ngSwitch",l.business.theme.themeType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","sb"),s.R7$(1),s.Y8G("ngSwitchCase","prestige"),s.R7$(8),s.Y8G("ngForOf",l.images)}}let C_=(()=>{class p{constructor(l,g,I,k,z,re,ge,Ge){this.businessDataService=l,this.route=g,this.webContent=I,this.metaService=k,this.router=z,this.sectionService=re,this.resolver=ge,this.injector=Ge,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.sections=[],this.selectedImageUrl=null,this.layoutType="demo",this.componentsMap={"center-text":Fi.W,"right-text":vs.F,"left-text":Es.G,"item-list":yi.j,cta:sr.j}}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.layoutType=l?.theme.themeType||"",l?.id&&(this.businessId=l.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId),this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"gallery").subscribe(l=>{console.log("\u{1f4cc} Retrieved Sections:",l),l&&0!==l.length?(this.sections=l.sort((g,I)=>(g.order||0)-(I.order||0)),this.loadComponents(),this.loadCTAComponent()):console.warn("\u2757 No sections retrieved.")})}loadComponents(){this.container?(this.container.clear(),this.sections.length?this.sections.filter(g=>"cta"!==g.component).forEach(g=>{this.createDynamicComponent(g,this.container)}):console.warn("\u2757 No sections available to load.")):console.error("\u274c ViewContainerRef is undefined.")}loadCTAComponent(){if(!this.ctaContainer)return void console.error("\u274c CTA ViewContainerRef is undefined.");this.ctaContainer.clear();const l=this.sections.find(g=>"cta"===g.component);l?this.createDynamicComponent(l,this.ctaContainer):console.warn("\u2757 No CTA section found.")}createDynamicComponent(l,g){const I=this.componentsMap[l.component];if(!I)return void console.error("\u274c Component Not Found:",l.component);const k=this.resolver.resolveComponentFactory(I),z=g.createComponent(k,void 0,this.injector);Object.assign(z.instance,{title:this.applyReplaceKeyword(l.sectionTitle||""),subTitle:this.applyReplaceKeyword(l.sectionSubTitle||""),content:this.applyReplaceKeyword(l.sectionContent||""),imageURL:l.sectionImageUrl||"",showBtn:l.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!l.sectionImageUrl,themeType:this.business?.theme?.themeType,items:l.items||[],isMinimal:l.isMinimal||!1,isParallax:l.isParallax??!0,backgroundColor:l.backgroundColor||"#ffffff",textColor:l.textColor||"#000000",titleColor:l.titleColor||"#000000",subtitleColor:l.subtitleColor||"#000000",fullWidth:l.fullWidth||!1,showButton:l.showButton||!1,buttonText:l.buttonText||"Learn More",buttonLink:l.buttonLink||"",titleFontSize:l.titleFontSize||"36",subtitleFontSize:l.subtitleFontSize||"14",alignText:l.alignText||"left",boxShadow:l.boxShadow||!1,borderRadius:l.borderRadius??10,page:l.page,location:l.location})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}loadImages(){var l=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:I,target:k})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,I).pipe((0,te.n)(z=>{console.log(`Raw Firestore images for ${I}:`,z);const re=z.map(function(){var ge=(0,im.A)(function*(Ge){return(yield l.webContent.checkImageExists(Ge.url))?Ge:null});return function(Ge){return ge.apply(this,arguments)}}());return(0,ye.H)(Promise.all(re))}),(0,Fe.T)(z=>z.filter(re=>null!==re)),(0,Fe.T)(z=>(console.log(`Filtered images for ${k}:`,z),z.map(re=>({url:re.url,title:re.title||"No Title",description:re.description||"No Description",link:re.link||"No Link",order:isNaN(Number(re.order))?999:Number(re.order)})).sort((re,ge)=>re.order-ge.order)))).subscribe(z=>{console.log(`Sorted images for ${k}:`,z),this[k]||(this[k]=[]),this[k]=z})})}onImageClick(l){this.selectedImageUrl=l}closeLightbox(){this.selectedImageUrl=null}onCloseModal(){this.selectedImageUrl=null}navigateToContact(l){this.router.navigate(["/contact-us"],{queryParams:{id:l}})}static{this.\u0275fac=function(g){return new(g||p)(s.rXU(Nt.A),s.rXU(dr.nX),s.rXU(Bn.N),s.rXU(at.R),s.rXU(dr.Ix),s.rXU(At.W),s.rXU(s.OM3),s.rXU(s.zZn))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-photo-gallery"]],viewQuery:function(g,I){if(1&g&&(s.GBs(My,5,s.c1b),s.GBs(Mp,5,s.c1b)),2&g){let k;s.mGM(k=s.lsd())&&(I.container=k.first),s.mGM(k=s.lsd())&&(I.ctaContainer=k.first)}},inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["dynamicContainer",""],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],["ctaContainer",""],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"]],template:function(g,I){1&g&&s.DNE(0,ky,15,5,"div",0),2&g&&s.Y8G("ngIf",I.business)},dependencies:[ae.Sq,ae.bT,ae.ux,ae.e1,mr],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.gallery[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%], .ae-gallery-item[_ngcontent-%COMP%]{overflow:visible!important;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;height:200px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-fit:cover;object-position:top;overflow:hidden;display:block;border-radius:8px}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{border-radius:8px;padding:40px 120px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block;position:relative;z-index:1}.image-info[_ngcontent-%COMP%]{position:relative;z-index:2}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.image-info[_ngcontent-%COMP%]{color:#000;background:rgba(255,255,255,.8);padding:10px;text-align:center;width:100%}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}"]})}}return p})();var Fy=F(4796);function Ly(p,u){if(1&p&&(s.j41(0,"div",11),s.EFF(1),s.k0s()),2&p){const l=s.XpG();s.R7$(1),s.JRh(l.errorMessage)}}let cd=(()=>{class p{constructor(l,g){this.authService=l,this.router=g,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(l=>{this.errorMessage=l.message})}static{this.\u0275fac=function(g){return new(g||p)(s.rXU(Fy.u),s.rXU(dr.Ix))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(g,I){1&g&&(s.j41(0,"div",0)(1,"div",1)(2,"h2",2),s.EFF(3,"Login"),s.k0s(),s.j41(4,"form",3),s.bIt("submit",function(){return I.login()}),s.j41(5,"div",4)(6,"label",5),s.EFF(7,"Email"),s.k0s(),s.j41(8,"input",6),s.bIt("ngModelChange",function(z){return I.email=z}),s.k0s()(),s.j41(9,"div",4)(10,"label",7),s.EFF(11,"Password"),s.k0s(),s.j41(12,"input",8),s.bIt("ngModelChange",function(z){return I.password=z}),s.k0s()(),s.j41(13,"button",9),s.EFF(14,"Login"),s.k0s(),s.DNE(15,Ly,2,1,"div",10),s.k0s()()()),2&g&&(s.R7$(8),s.Y8G("ngModel",I.email),s.R7$(4),s.Y8G("ngModel",I.password),s.R7$(3),s.Y8G("ngIf",I.errorMessage))},dependencies:[ae.bT,ci.qT,ci.me,ci.BC,ci.cb,ci.YS,ci.vS,ci.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return p})();var hu=F(6340);let sm=(()=>{class p{constructor(l){this.afs=l,this.basePath="businesses"}saveIntakeForm(l,g){const I=this.afs.createId(),k=this.afs.collection(`${this.basePath}/${g}/intake`).doc(I);return new Re.c(z=>{k.set(l).then(()=>{z.next(l),z.complete()}).catch(re=>{console.error("Error saving intake form data",re),z.error(re)})})}getIntakeForms(l){return this.afs.collection(`${this.basePath}/${l}/intake`).snapshotChanges().pipe((0,Fe.T)(g=>g.map(I=>{const k=I.payload.doc.data();return{id:I.payload.doc.id,...k}})))}getIntakeForm(l,g){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(g).valueChanges().pipe((0,Fe.T)(I=>I||void 0))}updateIntakeForm(l,g,I){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(g).update(I)}deleteIntakeForm(l,g){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(g).delete()}static{this.\u0275fac=function(g){return new(g||p)(s.KVO(hu.Qe))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function om(p,u){1&p&&(s.qex(0),s.nrm(1,"app-hero",79),s.bVm()),2&p&&(s.R7$(1),s.Y8G("layoutType","prestige"))}function xp(p,u){if(1&p){const l=s.RV6();s.j41(0,"div"),s.DNE(1,om,2,1,"ng-container",1),s.j41(2,"form",2),s.bIt("ngSubmit",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.onSubmit())}),s.j41(3,"div",3)(4,"h2"),s.EFF(5,"Personal Information"),s.k0s(),s.j41(6,"label",4),s.EFF(7,"Name *"),s.k0s(),s.nrm(8,"input",5),s.j41(9,"label",6),s.EFF(10,"Email *"),s.k0s(),s.nrm(11,"input",7),s.j41(12,"label",8),s.EFF(13,"Phone number *"),s.k0s(),s.nrm(14,"input",9),s.k0s(),s.j41(15,"div",3)(16,"h2"),s.EFF(17,"Referral Source"),s.k0s(),s.j41(18,"label",10),s.EFF(19,"How did you find out about us? *"),s.k0s(),s.j41(20,"select",11)(21,"option",12),s.EFF(22,"Google"),s.k0s(),s.j41(23,"option",13),s.EFF(24,"Facebook"),s.k0s(),s.j41(25,"option",14),s.EFF(26,"Placement Agency"),s.k0s(),s.j41(27,"option",15),s.EFF(28,"Friends and/or Family"),s.k0s(),s.j41(29,"option",16),s.EFF(30,"Other"),s.k0s()(),s.j41(31,"label",17),s.EFF(32,"What is your relation to the resident? *"),s.k0s(),s.nrm(33,"input",18),s.k0s(),s.j41(34,"div",3)(35,"h2"),s.EFF(36,"Resident Information"),s.k0s(),s.j41(37,"label",19),s.EFF(38,"Resident's name *"),s.k0s(),s.nrm(39,"input",20),s.j41(40,"label",21),s.EFF(41,"Age *"),s.k0s(),s.nrm(42,"input",22),s.j41(43,"label",23),s.EFF(44,"Gender *"),s.k0s(),s.j41(45,"select",24)(46,"option",25),s.EFF(47,"Male"),s.k0s(),s.j41(48,"option",26),s.EFF(49,"Female"),s.k0s(),s.j41(50,"option",27),s.EFF(51,"Prefer not to say"),s.k0s(),s.j41(52,"option",16),s.EFF(53,"Other"),s.k0s()()(),s.j41(54,"div",3)(55,"h2"),s.EFF(56,"Medical History"),s.k0s(),s.j41(57,"label",28),s.EFF(58,"Relevant medical and surgical history *"),s.k0s(),s.nrm(59,"textarea",29),s.j41(60,"label",30),s.EFF(61,"Height *"),s.k0s(),s.nrm(62,"input",31),s.j41(63,"label",32),s.EFF(64,"Weight *"),s.k0s(),s.nrm(65,"input",33),s.j41(66,"label",34),s.EFF(67,"Reason for moving to an adult family home *"),s.k0s(),s.nrm(68,"textarea",35),s.j41(69,"label",36),s.EFF(70,'Do you already have an "RN Assessment for AFH"? *'),s.k0s(),s.j41(71,"select",37)(72,"option",38),s.EFF(73,"Yes"),s.k0s(),s.j41(74,"option",39),s.EFF(75,"No"),s.k0s()()(),s.j41(76,"div",3)(77,"h2"),s.EFF(78,"Care Levels"),s.k0s(),s.j41(79,"label",40),s.EFF(80,"Eating *"),s.k0s(),s.j41(81,"select",41)(82,"option",42),s.EFF(83,"Independent"),s.k0s(),s.j41(84,"option",43),s.EFF(85,"Needing Assistance"),s.k0s(),s.j41(86,"option",44),s.EFF(87,"Dependent"),s.k0s()(),s.j41(88,"label",45),s.EFF(89,"Personal Hygiene *"),s.k0s(),s.j41(90,"select",46)(91,"option",42),s.EFF(92,"Independent"),s.k0s(),s.j41(93,"option",43),s.EFF(94,"Needing Assistance"),s.k0s(),s.j41(95,"option",44),s.EFF(96,"Dependent"),s.k0s()(),s.j41(97,"label",47),s.EFF(98,"Bathing *"),s.k0s(),s.j41(99,"select",48)(100,"option",42),s.EFF(101,"Independent"),s.k0s(),s.j41(102,"option",43),s.EFF(103,"Needing Assistance"),s.k0s(),s.j41(104,"option",44),s.EFF(105,"Dependent"),s.k0s()(),s.j41(106,"label",49),s.EFF(107,"Toileting *"),s.k0s(),s.j41(108,"select",50)(109,"option",42),s.EFF(110,"Independent"),s.k0s(),s.j41(111,"option",43),s.EFF(112,"Needing Assistance"),s.k0s(),s.j41(113,"option",44),s.EFF(114,"Dependent"),s.k0s()(),s.j41(115,"label",51),s.EFF(116,"Mobility *"),s.k0s(),s.j41(117,"select",52)(118,"option",42),s.EFF(119,"Independent"),s.k0s(),s.j41(120,"option",43),s.EFF(121,"Needing Assistance"),s.k0s(),s.j41(122,"option",44),s.EFF(123,"Dependent"),s.k0s()(),s.j41(124,"label",53),s.EFF(125,"Transfers *"),s.k0s(),s.j41(126,"select",54)(127,"option",42),s.EFF(128,"Independent"),s.k0s(),s.j41(129,"option",43),s.EFF(130,"Needing Assistance"),s.k0s(),s.j41(131,"option",44),s.EFF(132,"Dependent"),s.k0s()(),s.j41(133,"label",55),s.EFF(134,"Medication Assistance *"),s.k0s(),s.j41(135,"select",56)(136,"option",38),s.EFF(137,"Yes"),s.k0s(),s.j41(138,"option",39),s.EFF(139,"No"),s.k0s()()(),s.j41(140,"div",3)(141,"h2"),s.EFF(142,"Other Medical Information"),s.k0s(),s.j41(143,"label",57),s.EFF(144,"Memory Issues *"),s.k0s(),s.j41(145,"select",58)(146,"option",38),s.EFF(147,"Yes"),s.k0s(),s.j41(148,"option",39),s.EFF(149,"No"),s.k0s()(),s.j41(150,"label",59),s.EFF(151,"Behavior"),s.k0s(),s.nrm(152,"textarea",60),s.j41(153,"label",61),s.EFF(154,"Skin Condition"),s.k0s(),s.nrm(155,"textarea",62),s.j41(156,"label",63),s.EFF(157,"Other information you want us to know"),s.k0s(),s.nrm(158,"textarea",64),s.k0s(),s.j41(159,"div",3)(160,"h2"),s.EFF(161,"Living Situation"),s.k0s(),s.j41(162,"label",65),s.EFF(163,"Current living situation *"),s.k0s(),s.j41(164,"select",66)(165,"option",67),s.EFF(166,"Own Home"),s.k0s(),s.j41(167,"option",68),s.EFF(168,"Relative's Home"),s.k0s(),s.j41(169,"option",69),s.EFF(170,"Hospital"),s.k0s(),s.j41(171,"option",70),s.EFF(172,"Adult Family Home"),s.k0s(),s.j41(173,"option",71),s.EFF(174,"Senior Living"),s.k0s(),s.j41(175,"option",16),s.EFF(176,"Other"),s.k0s()()(),s.j41(177,"div",3)(178,"label",72),s.EFF(179,"Target move in date *"),s.k0s(),s.nrm(180,"input",73),s.k0s(),s.j41(181,"div",3)(182,"label",74),s.EFF(183,"Would you like a summary of disclosures of our rates and services, including itemized services?"),s.k0s(),s.j41(184,"select",75)(185,"option",38),s.EFF(186,"Yes"),s.k0s(),s.j41(187,"option",39),s.EFF(188,"No"),s.k0s()()(),s.j41(189,"div",3)(190,"label",76),s.EFF(191,"Do you have any questions for us?"),s.k0s(),s.nrm(192,"textarea",77),s.k0s(),s.j41(193,"button",78),s.EFF(194,"Submit"),s.k0s()()()}if(2&p){const l=s.XpG();s.R7$(1),s.Y8G("ngSwitchCase","prestige"),s.R7$(1),s.Y8G("formGroup",l.intakeForm),s.R7$(191),s.Y8G("disabled",l.intakeForm.invalid)}}function fi(p,u){if(1&p&&(s.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),s.EFF(3),s.k0s()(),s.j41(4,"div",6)(5,"p"),s.EFF(6),s.k0s()()()),2&p){const l=u.$implicit;s.R7$(3),s.SpI('"',l.quote,'"'),s.R7$(3),s.JRh(l.name)}}function am(p,u){if(1&p&&(s.j41(0,"div",2),s.DNE(1,fi,7,2,"div",3),s.k0s()),2&p){const l=s.XpG();s.R7$(1),s.Y8G("ngForOf",l.testimonials)}}const fu=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:$s.B},{path:"about-us",component:bs},{path:"services",component:Xa},{path:"contact-us",component:ld},{path:"gallery",component:C_},{path:"login",component:cd},{path:"resident-form",component:(()=>{class p{constructor(l,g,I,k,z){this.fb=l,this.intakeService=g,this.businessDataService=I,this.emailService=k,this.metaService=z,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",ci.k0.required],email:["",[ci.k0.required,ci.k0.email]],phoneNumber:["",ci.k0.required],referralSource:["",ci.k0.required],relationToResident:[""],residentName:["",ci.k0.required],age:["",ci.k0.required],gender:["",ci.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const l=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(l,this.businessId).subscribe(I=>{console.log("Intake form saved successfully!",I)},I=>{console.error("Error saving intake form:",I)});const g={name:l.name,email:l.email,message:this.generateEmailMessage(l),website:window.location.hostname};this.emailService.sendEmail(g).subscribe(I=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},I=>{console.error("Error sending email",I),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(l){return`\n      Name: ${l.name}\n      Email: ${l.email}\n      Phone Number: ${l.phoneNumber}\n      Referral Source: ${l.referralSource}\n      Relation to Resident: ${l.relationToResident}\n      Resident Name: ${l.residentName}\n      Age: ${l.age}\n      Gender: ${l.gender}\n      Medical History: ${l.medicalHistory}\n      Height: ${l.height}\n      Weight: ${l.weight}\n      Reason for Moving: ${l.reasonForMoving}\n      RN Assessment: ${l.rnAssessment}\n      Eating: ${l.eating}\n      Personal Hygiene: ${l.personalHygiene}\n      Bathing: ${l.bathing}\n      Toileting: ${l.toileting}\n      Mobility: ${l.mobility}\n      Transfers: ${l.transfers}\n      Medication Assistance: ${l.medicationAssistance}\n      Memory Issues: ${l.memoryIssues}\n      Behavior: ${l.behavior}\n      Skin Condition: ${l.skinCondition}\n      Additional Info: ${l.additionalInfo}\n      Current Living Situation: ${l.currentLivingSituation}\n      Target Move-In Date: ${l.targetMoveInDate}\n      Disclosure Summary: ${l.disclosureSummary}\n      Questions: ${l.questions}\n    `}static{this.\u0275fac=function(g){return new(g||p)(s.rXU(ci.ok),s.rXU(sm),s.rXU(Nt.A),s.rXU(ad),s.rXU(at.R))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-resident-intake-form"]],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngSwitchCase"],[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"],[3,"layoutType"]],template:function(g,I){1&g&&s.DNE(0,xp,195,3,"div",0),2&g&&s.Y8G("ngIf",I.business)},dependencies:[ae.bT,ae.e1,ci.qT,ci.xH,ci.y7,ci.me,ci.Q0,ci.wz,ci.BC,ci.cb,ci.j4,ci.JD,mr],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return p})()},{path:"testimonials",component:(()=>{class p{constructor(l,g){this.businessDataService=l,this.metaService=g,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{console.log("Testimonial List - :",l),l&&(this.testimonials=l.testimonials||[],this.themeType=l.theme.themeType,this.metaService.loadAndApplyMeta(l?.id))})}static{this.\u0275fac=function(g){return new(g||p)(s.rXU(Nt.A),s.rXU(at.R))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(g,I){1&g&&(s.nrm(0,"app-hero"),s.j41(1,"div",0),s.DNE(2,am,2,1,"div",1),s.k0s()),2&g&&(s.R7$(2),s.Y8G("ngIf",I.testimonials.length>0))},dependencies:[ae.Sq,ae.bT,mr],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return p})()},{path:"faq",component:Zg},{path:"login",component:cd},{path:"admin",loadChildren:()=>F.e(521).then(F.bind(F,5521)).then(p=>p.AdminModule)},{path:":id",component:$s.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Vy=(()=>{class p{static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275mod=s.$C({type:p})}static{this.\u0275inj=s.G2t({imports:[dr.iI.forRoot(fu),dr.iI]})}}return p})();var qs=F(5009);function Bs(p,u){if(1&p&&s.nrm(0,"img",11),2&p){const l=s.XpG();s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}function Wa(p,u){if(1&p){const l=s.RV6();s.j41(0,"li",8)(1,"span",9),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("gallery"))}),s.EFF(2,"Our Home"),s.k0s()()}}function w_(p,u){if(1&p){const l=s.RV6();s.j41(0,"li",8)(1,"span",9),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("gallery"))}),s.EFF(2,"Our Work"),s.k0s()()}}function A_(p,u){if(1&p){const l=s.RV6();s.j41(0,"li",8)(1,"span",9),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("resident-form"))}),s.EFF(2,"Resident Form"),s.k0s()()}}const pu=function(p){return{"clemo-shrink":p}},Uy=function(){return["/home"]},yf=function(p){return{id:p}},vf=function(p){return{"clemo-show":p}};let cm=(()=>{class p{constructor(l,g,I){this.route=l,this.router=g,this.businessDataService=I,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(g=>{this.business=g,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(l){const g=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:g}).then(I=>{I||console.error("Navigation failed!")})}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(g){return new(g||p)(s.rXU(dr.nX),s.rXU(dr.Ix),s.rXU(Nt.A))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-expandable-navigation"]],hostBindings:function(g,I){1&g&&s.bIt("scroll",function(){return I.onWindowScroll()},!1,s.tSv)},decls:23,vars:15,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-linkitem"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-linkitem",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"]],template:function(g,I){1&g&&(s.j41(0,"nav",0)(1,"div",1)(2,"a",2),s.DNE(3,Bs,1,1,"img",3),s.k0s(),s.j41(4,"button",4),s.bIt("click",function(){return I.toggleMenu()}),s.nrm(5,"span",5),s.k0s(),s.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),s.bIt("click",function(){return I.navigateTo("home")}),s.EFF(10,"Home"),s.k0s()(),s.j41(11,"li",8)(12,"span",9),s.bIt("click",function(){return I.navigateTo("about-us")}),s.EFF(13,"About Us"),s.k0s()(),s.j41(14,"li",8)(15,"span",9),s.bIt("click",function(){return I.navigateTo("services")}),s.EFF(16,"Services"),s.k0s()(),s.DNE(17,Wa,3,0,"li",10),s.DNE(18,w_,3,0,"li",10),s.DNE(19,A_,3,0,"li",10),s.j41(20,"li",8)(21,"span",9),s.bIt("click",function(){return I.navigateTo("contact-us")}),s.EFF(22,"Contact"),s.k0s()()()()()()),2&g&&(s.Y8G("ngClass",s.eq3(8,pu,I.isShrunk)),s.R7$(2),s.Y8G("routerLink",s.lJ4(10,Uy))("queryParams",s.eq3(11,yf,I.businessId)),s.R7$(1),s.Y8G("ngIf",null==I.business?null:I.business.logoImage),s.R7$(3),s.Y8G("ngClass",s.eq3(13,vf,I.menuOpen)),s.R7$(11),s.Y8G("ngIf","sb"!=I.layoutType),s.R7$(1),s.Y8G("ngIf","sb"==I.layoutType),s.R7$(1),s.Y8G("ngIf","sb"!=I.layoutType))},dependencies:[ae.YU,ae.bT,dr.Wk]})}}return p})();function um(p,u){if(1&p&&s.nrm(0,"img",13),2&p){const l=s.XpG(2);s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}const ud=function(){return["/home"]},Xr=function(p){return{id:p}},gu=function(p){return{"open-bar1":p}},ch=function(p){return{"open-bar2":p}},Ji=function(p){return{"open-bar3":p}},Ef=function(p){return{active:p}};function D_(p,u){if(1&p){const l=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),s.DNE(5,um,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("gallery"))}),s.EFF(18,"Our Home"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("contact-us"))}),s.EFF(20,"Contact"),s.k0s()()()(),s.bVm()}if(2&p){const l=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(7,ud))("queryParams",s.eq3(8,Xr,l.businessId)),s.R7$(1),s.Y8G("ngIf",null==l.business?null:l.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(10,gu,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(12,ch,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,Ji,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,Ef,l.menuOpen))}}function uh(p,u){if(1&p&&s.nrm(0,"img",13),2&p){const l=s.XpG(2);s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}const Op=function(){return["/contact-us"]};function S_(p,u){if(1&p){const l=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),s.DNE(5,uh,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("gallery"))}),s.EFF(18,"Our Home"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("testimonials"))}),s.EFF(20,"Testimonials"),s.k0s(),s.j41(21,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("contact-us"))}),s.EFF(22,"Contact"),s.k0s(),s.j41(23,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("resident-form"))}),s.EFF(24,"Resident Form"),s.k0s()(),s.j41(25,"div",4)(26,"a",5)(27,"button",15),s.EFF(28,"Schedule a Visit"),s.k0s()()()()(),s.bVm()}if(2&p){const l=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(9,ud))("queryParams",s.eq3(10,Xr,l.businessId)),s.R7$(1),s.Y8G("ngIf",null==l.business?null:l.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(12,gu,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,ch,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,Ji,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(18,Ef,l.menuOpen)),s.R7$(16),s.Y8G("routerLink",s.lJ4(20,Op))("queryParams",s.eq3(21,Xr,l.businessId))}}function By(p,u){1&p&&(s.qex(0),s.nrm(1,"app-expandable-navigation"),s.bVm())}function dm(p,u){1&p&&(s.qex(0),s.nrm(1,"app-expandable-navigation"),s.bVm())}function R_(p,u){if(1&p&&s.nrm(0,"img",13),2&p){const l=s.XpG(2);s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}function jy(p,u){if(1&p){const l=s.RV6();s.qex(0),s.j41(1,"nav",16)(2,"div",3)(3,"div",4)(4,"a",5),s.DNE(5,R_,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.scrollToSection("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.scrollToSection("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.scrollToSection("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.scrollToSection("gallery"))}),s.EFF(18,"Our Home"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.scrollToSection("contact-us"))}),s.EFF(20,"Contact"),s.k0s()()()(),s.bVm()}if(2&p){const l=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(7,ud))("queryParams",s.eq3(8,Xr,l.businessId)),s.R7$(1),s.Y8G("ngIf",null==l.business?null:l.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(10,gu,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(12,ch,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,Ji,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,Ef,l.menuOpen))}}function $y(p,u){1&p&&(s.qex(0),s.nrm(1,"app-expandable-navigation"),s.bVm())}function hm(p,u){if(1&p&&s.nrm(0,"img",13),2&p){const l=s.XpG(2);s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}function nE(p,u){if(1&p){const l=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),s.DNE(5,hm,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("gallery"))}),s.EFF(18,"gallery"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("contact-us"))}),s.EFF(20,"Contact"),s.k0s(),s.j41(21,"li",12),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("resident-form"))}),s.EFF(22,"Intake Form"),s.k0s()(),s.j41(23,"div",4)(24,"a",5)(25,"button",15),s.EFF(26,"Schedule a Visit"),s.k0s()()()()(),s.bVm()}if(2&p){const l=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(9,ud))("queryParams",s.eq3(10,Xr,l.businessId)),s.R7$(1),s.Y8G("ngIf",null==l.business?null:l.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(12,gu,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,ch,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,Ji,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(18,Ef,l.menuOpen)),s.R7$(14),s.Y8G("routerLink",s.lJ4(20,Op))("queryParams",s.eq3(21,Xr,l.businessId))}}let bf=(()=>{class p{constructor(l,g,I){this.route=l,this.router=g,this.businessDataService=I,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(g=>{this.business=g,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(l){const g=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:g}).then(I=>{I||console.error("Navigation failed!")})}scrollToSection(l){const g=document.getElementById(l);g&&g.scrollIntoView({behavior:"smooth",block:"start"}),this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(g){return new(g||p)(s.rXU(dr.nX),s.rXU(dr.Ix),s.rXU(Nt.A))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-navigation"]],decls:8,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"],[1,"navbar_sp"]],template:function(g,I){1&g&&(s.j41(0,"div",0),s.DNE(1,D_,21,18,"ng-container",1),s.DNE(2,S_,29,23,"ng-container",1),s.DNE(3,By,2,0,"ng-container",1),s.DNE(4,dm,2,0,"ng-container",1),s.DNE(5,jy,21,18,"ng-container",1),s.DNE(6,$y,2,0,"ng-container",1),s.DNE(7,nE,27,23,"ng-container",1),s.k0s()),2&g&&(s.Y8G("ngSwitch",I.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","sb"),s.R7$(1),s.Y8G("ngSwitchCase","sp"),s.R7$(1),s.Y8G("ngSwitchCase","prestige"),s.R7$(1),s.Y8G("ngSwitchCase","demo"))},dependencies:[ae.YU,ae.bT,ae.ux,ae.e1,dr.Wk,cm],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;max-width:var(--site-max-width);margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 1081px){.navbar_[_ngcontent-%COMP%]{max-width:100vw}.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.nav-item[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;padding:0}.ae-navbar-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .afhBtn[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;max-width:100vw;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return p})();function Hy(p,u){if(1&p&&(s.qex(0),s.j41(1,"footer",4)(2,"div",5)(3,"h2",6),s.EFF(4),s.k0s(),s.nrm(5,"hr",7),s.j41(6,"div",8)(7,"div",9)(8,"h3",10),s.EFF(9,"Location:"),s.k0s(),s.j41(10,"address"),s.EFF(11),s.k0s()(),s.j41(12,"div",9)(13,"h3",10),s.EFF(14),s.k0s(),s.j41(15,"p"),s.EFF(16,"Email: "),s.j41(17,"a",11),s.EFF(18),s.k0s()(),s.j41(19,"p"),s.EFF(20,"Phone: "),s.j41(21,"a",11),s.EFF(22),s.k0s()()(),s.j41(23,"div",9)(24,"h3",10),s.EFF(25),s.k0s(),s.j41(26,"p"),s.EFF(27,"Email: "),s.j41(28,"a",11),s.EFF(29),s.k0s()(),s.j41(30,"p"),s.EFF(31,"Phone: "),s.j41(32,"a",11),s.EFF(33),s.k0s()()()()(),s.j41(34,"div",12)(35,"div",13)(36,"div",14)(37,"p"),s.EFF(38,"DESIGNED BY "),s.j41(39,"a",15),s.EFF(40,"SB MEDIA HUB"),s.k0s()()(),s.j41(41,"div",16)(42,"p"),s.EFF(43," \xa9 Copyright 2025. All rights reserved."),s.k0s()()()()(),s.bVm()),2&p){const l=s.XpG();s.R7$(4),s.JRh(null==l.business?null:l.business.businessName),s.R7$(7),s.SpI(" ",null==l.business?null:l.business.address," "),s.R7$(3),s.SpI("Provider:",null==l.business?null:l.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==l.business?null:l.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone),s.R7$(3),s.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==l.business?null:l.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone)}}function mu(p,u){if(1&p&&(s.qex(0),s.j41(1,"footer",17)(2,"div",18)(3,"div",19),s.nrm(4,"hr",20),s.j41(5,"h2",21),s.EFF(6),s.k0s(),s.nrm(7,"hr",20),s.k0s(),s.j41(8,"div",22)(9,"div",23)(10,"h3",24),s.EFF(11,"Owner:"),s.k0s(),s.j41(12,"p"),s.EFF(13),s.k0s()(),s.j41(14,"div",23)(15,"h3",24),s.EFF(16,"Location:"),s.k0s(),s.j41(17,"p"),s.EFF(18),s.k0s()(),s.j41(19,"div",23)(20,"h3",24),s.EFF(21,"Provider:"),s.k0s(),s.j41(22,"p"),s.EFF(23),s.k0s(),s.j41(24,"p"),s.EFF(25,"Email: "),s.j41(26,"a",11),s.EFF(27),s.k0s()(),s.j41(28,"p"),s.EFF(29,"Phone: "),s.j41(30,"a",11),s.EFF(31),s.k0s()()()(),s.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"p"),s.EFF(36,"DESIGNED BY "),s.j41(37,"a",15),s.EFF(38,"SB MEDIA HUB"),s.k0s()()(),s.j41(39,"div",16)(40,"p"),s.EFF(41),s.k0s()()()()()(),s.bVm()),2&p){const l=s.XpG();s.R7$(6),s.JRh(null==l.business?null:l.business.businessName),s.R7$(7),s.JRh(null==l.business?null:l.business.providerName),s.R7$(5),s.JRh(null==l.business?null:l.business.address),s.R7$(5),s.JRh(null==l.business?null:l.business.providerName),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.email),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone),s.R7$(10),s.Lme("\xa9 ",2024," ",null==l.business?null:l.business.businessName,". All rights reserved.")}}function dd(p,u){if(1&p){const l=s.RV6();s.qex(0),s.j41(1,"footer",25)(2,"div",26)(3,"div",27),s.nrm(4,"img",28),s.j41(5,"h4"),s.EFF(6),s.k0s(),s.j41(7,"p",29),s.EFF(8),s.k0s(),s.j41(9,"p",30),s.EFF(10),s.k0s()(),s.j41(11,"div",31)(12,"a",32),s.nrm(13,"i",33),s.k0s(),s.j41(14,"a",32),s.nrm(15,"i",34),s.k0s()(),s.j41(16,"nav",35)(17,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("home"))}),s.EFF(18,"HOME"),s.k0s(),s.j41(19,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("about-us"))}),s.EFF(20,"ABOUT US"),s.k0s(),s.j41(21,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("services"))}),s.EFF(22,"SERVICES"),s.k0s(),s.j41(23,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("gallery"))}),s.EFF(24,"OUR HOME"),s.k0s(),s.j41(25,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("resident-form"))}),s.EFF(26,"RESIDENT FORM"),s.k0s(),s.j41(27,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("contact-us"))}),s.EFF(28,"CONTACT"),s.k0s()(),s.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),s.EFF(33,"DESIGNED BY "),s.j41(34,"a",15),s.EFF(35,"SB MEDIA HUB"),s.k0s()()(),s.j41(36,"div",16)(37,"p"),s.EFF(38," \xa9 Copyright 2025. All rights reserved."),s.k0s()()()()()(),s.bVm()}if(2&p){const l=s.XpG();s.R7$(4),s.FS9("src",null==l.business?null:l.business.logoImage,s.B4B),s.R7$(2),s.JRh(null==l.business?null:l.business.businessName),s.R7$(2),s.JRh(null==l.business?null:l.business.phone),s.R7$(2),s.JRh(null==l.business?null:l.business.address)}}function C0(p,u){if(1&p){const l=s.RV6();s.qex(0),s.j41(1,"footer",25)(2,"div",26)(3,"div",27),s.nrm(4,"img",28),s.j41(5,"h4"),s.EFF(6),s.k0s(),s.j41(7,"p",29),s.EFF(8),s.k0s(),s.j41(9,"p",30),s.EFF(10),s.k0s()(),s.j41(11,"div",31)(12,"a",32),s.nrm(13,"i",33),s.k0s(),s.j41(14,"a",32),s.nrm(15,"i",34),s.k0s()(),s.j41(16,"nav",35)(17,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("home"))}),s.EFF(18,"HOME"),s.k0s(),s.j41(19,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("about-us"))}),s.EFF(20,"ABOUT US"),s.k0s(),s.j41(21,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("services"))}),s.EFF(22,"SERVICES"),s.k0s(),s.j41(23,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("gallery"))}),s.EFF(24,"OUR HOME"),s.k0s(),s.j41(25,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("resident-form"))}),s.EFF(26,"RESIDENT FORM"),s.k0s(),s.j41(27,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("contact-us"))}),s.EFF(28,"CONTACT"),s.k0s()(),s.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),s.EFF(33,"DESIGNED BY "),s.j41(34,"a",15),s.EFF(35,"SB MEDIA HUB"),s.k0s()()(),s.j41(36,"div",16)(37,"p"),s.EFF(38," \xa9 Copyright 2025. All rights reserved."),s.k0s()()()()()(),s.bVm()}if(2&p){const l=s.XpG();s.R7$(4),s.FS9("src",null==l.business?null:l.business.logoImage,s.B4B),s.R7$(2),s.JRh(null==l.business?null:l.business.businessName),s.R7$(2),s.JRh(null==l.business?null:l.business.phone),s.R7$(2),s.JRh(null==l.business?null:l.business.address)}}function Xl(p,u){if(1&p){const l=s.RV6();s.qex(0),s.j41(1,"footer",25)(2,"div",26)(3,"div",27),s.nrm(4,"img",28),s.j41(5,"p",29),s.EFF(6),s.k0s(),s.j41(7,"p",30),s.EFF(8),s.k0s()(),s.j41(9,"div",31)(10,"a",32),s.nrm(11,"i",33),s.k0s(),s.j41(12,"a",32),s.nrm(13,"i",34),s.k0s()(),s.j41(14,"nav",35)(15,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("home"))}),s.EFF(16,"HOME"),s.k0s(),s.j41(17,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("about-us"))}),s.EFF(18,"ABOUT US"),s.k0s(),s.j41(19,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("services"))}),s.EFF(20,"SERVICES"),s.k0s(),s.j41(21,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("gallery"))}),s.EFF(22,"OUR WORK"),s.k0s(),s.j41(23,"span",36),s.bIt("click",function(){s.eBV(l);const I=s.XpG();return s.Njj(I.navigateTo("contact-us"))}),s.EFF(24,"CONTACT"),s.k0s()(),s.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"p"),s.EFF(29,"DESIGNED BY "),s.j41(30,"a",15),s.EFF(31,"SB MEDIA HUB"),s.k0s()()(),s.j41(32,"div",16)(33,"p"),s.EFF(34," \xa9 Copyright 2025. All rights reserved."),s.k0s()()()()()(),s.bVm()}if(2&p){const l=s.XpG();s.R7$(4),s.FS9("src",null==l.business?null:l.business.logoImage,s.B4B),s.R7$(2),s.JRh(null==l.business?null:l.business.phone),s.R7$(2),s.JRh(null==l.business?null:l.business.address)}}function Np(p,u){if(1&p&&(s.qex(0),s.j41(1,"footer",4)(2,"div",5)(3,"h2",6),s.EFF(4),s.k0s(),s.nrm(5,"hr",7),s.j41(6,"div",8)(7,"div",9)(8,"h3",10),s.EFF(9,"Location:"),s.k0s(),s.j41(10,"address"),s.EFF(11),s.k0s()(),s.j41(12,"div",9)(13,"h3",10),s.EFF(14),s.k0s(),s.j41(15,"p"),s.EFF(16,"Email: "),s.j41(17,"a",11),s.EFF(18),s.k0s()(),s.j41(19,"p"),s.EFF(20,"Phone: "),s.j41(21,"a",11),s.EFF(22),s.k0s()()(),s.j41(23,"div",9)(24,"h3",10),s.EFF(25),s.k0s(),s.j41(26,"p"),s.EFF(27,"Email: "),s.j41(28,"a",11),s.EFF(29),s.k0s()(),s.j41(30,"p"),s.EFF(31,"Phone: "),s.j41(32,"a",11),s.EFF(33),s.k0s()()()()()(),s.bVm()),2&p){const l=s.XpG();s.R7$(4),s.JRh(null==l.business?null:l.business.businessName),s.R7$(7),s.SpI(" ",null==l.business?null:l.business.address," "),s.R7$(3),s.SpI("Provider:",null==l.business?null:l.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==l.business?null:l.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone),s.R7$(3),s.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==l.business?null:l.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone)}}function dh(p,u){if(1&p&&(s.j41(0,"div",37)(1,"h1",38),s.EFF(2,"Debugger:"),s.k0s(),s.j41(3,"div",39)(4,"div",40)(5,"span",41),s.EFF(6,"Theme File:"),s.k0s(),s.j41(7,"span",42),s.EFF(8),s.k0s()(),s.j41(9,"div",40)(10,"span",41),s.EFF(11,"Theme Type:"),s.k0s(),s.j41(12,"span",42),s.EFF(13),s.k0s()(),s.j41(14,"div",40)(15,"span",41),s.EFF(16,"Business ID:"),s.k0s(),s.j41(17,"span",42),s.EFF(18),s.k0s()(),s.j41(19,"div",40)(20,"span",41),s.EFF(21,"Business Name:"),s.k0s(),s.j41(22,"span",42),s.EFF(23),s.k0s()()()()),2&p){const l=s.XpG();s.R7$(8),s.JRh(l.themeFileName),s.R7$(5),s.JRh(null==l.business||null==l.business.theme?null:l.business.theme.themeType),s.R7$(5),s.JRh(null==l.business?null:l.business.id),s.R7$(5),s.JRh(null==l.business?null:l.business.businessName)}}let fm=(()=>{class p{constructor(l,g,I,k,z,re){this.route=l,this.webContentService=g,this.authService=I,this.themeService=k,this.businessDataService=z,this.router=re,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(l){this.router.navigate([`/${l}`],{queryParams:this.businessId?{id:this.businessId}:{}}).then(I=>{I||console.error("Navigation failed!")})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(l=>{this.business=l}),this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(g=>{g&&(this.themeFileName=g.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(g){return new(g||p)(s.rXU(dr.nX),s.rXU(Bn.N),s.rXU(Fy.u),s.rXU(qs.F),s.rXU(Nt.A),s.rXU(dr.Ix))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-footer"]],decls:9,vars:9,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"clemo-footer-bottom"],[1,"copy"],[1,"design"],["href","sbmediahub.com"],[1,"rights"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(g,I){1&g&&(s.j41(0,"div",0),s.DNE(1,Hy,44,12,"ng-container",1),s.DNE(2,mu,42,10,"ng-container",1),s.DNE(3,dd,39,4,"ng-container",1),s.DNE(4,C0,39,4,"ng-container",1),s.DNE(5,Xl,35,3,"ng-container",1),s.DNE(6,Np,34,12,"ng-container",2),s.k0s(),s.DNE(7,dh,24,4,"div",3),s.nI1(8,"async")),2&g&&(s.Y8G("ngSwitch",I.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","prestige"),s.R7$(1),s.Y8G("ngSwitchCase","sb"),s.R7$(2),s.Y8G("ngIf",s.bMT(8,7,I.isAuthenticated$)))},dependencies:[ae.bT,ae.ux,ae.e1,ae.fG,ae.Jj]})}}return p})(),hh=(()=>{class p{constructor(l,g,I,k,z){this.route=l,this.webContent=g,this.metaService=I,this.router=k,this.themeService=z,this.title="adult-family-home"}ngOnInit(){this.route.paramMap.subscribe(l=>{this.businessId=l.get("id")||"MGou3rzTVIbP77OLmZa7",this.loadBusinessData()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(l=>{l&&(this.business=l)})}static{this.\u0275fac=function(g){return new(g||p)(s.rXU(dr.nX),s.rXU(Bn.N),s.rXU(at.R),s.rXU(dr.Ix),s.rXU(qs.F))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-root"]],decls:3,vars:0,template:function(g,I){1&g&&s.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[dr.n3,bf,fm]})}}return p})();const Tf_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var bl=F(2214),ps=F(5407);class Cc{constructor(u){return u}}class da{constructor(){return(0,bl.Dk)()}}const fd=new s.nKC("angularfire2._apps"),P_={provide:Cc,useFactory:function hd(p){return p&&1===p.length?p[0]:new Cc((0,bl.Sx)())},deps:[[new s.Xx1,fd]]},Cf={provide:da,deps:[[new s.Xx1,fd]]};function pd(p){return(u,l)=>{const g=u.runOutsideAngular(()=>p(l));return new Cc(g)}}let pm=(()=>{class p{constructor(l){(0,bl.KO)("angularfire",ps.xv.full,"core"),(0,bl.KO)("angularfire",ps.xv.full,"app"),(0,bl.KO)("angular",s.xvI.full,l.toString())}static \u0275fac=function(g){return new(g||p)(s.KVO(s.Agw))};static \u0275mod=s.$C({type:p});static \u0275inj=s.G2t({providers:[P_,Cf]})}return p})();function kp(p,...u){return{ngModule:pm,providers:[{provide:fd,useFactory:pd(p),multi:!0,deps:[s.SKi,s.zZn,ps.u0,...u]}]}}const gm=(0,ps.S3)(bl.Wp,!0);F(5504),F(7852),F(1076),F(8041),F(1362);class Lp{constructor(){return(0,ps.CA)("auth")}}var B_=F(9583);class Hp{constructor(u){return u}}const bm="firestore",Il=new s.nKC("angularfire2.firestore-instances");function iv(p){return(u,l)=>{const g=u.runOutsideAngular(()=>p(l));return new Hp(g)}}const sv={provide:class Rf{constructor(){return(0,ps.CA)(bm)}},deps:[[new s.Xx1,Il]]},ov={provide:Hp,useFactory:function j_(p,u){const l=(0,ps.lR)(bm,p,u);return l&&new Hp(l)},deps:[[new s.Xx1,Il],Cc]};let av=(()=>{class p{constructor(){(0,bl.KO)("angularfire",ps.xv.full,"fst")}static \u0275fac=function(g){return new(g||p)};static \u0275mod=s.$C({type:p});static \u0275inj=s.G2t({providers:[ov,sv]})}return p})();function $_(p,...u){return{ngModule:av,providers:[{provide:Il,useFactory:iv(p),multi:!0,deps:[s.SKi,s.zZn,ps.u0,da,[new s.Xx1,Lp],[new s.Xx1,ps.Jv],...u]}]}}const yt=(0,ps.S3)(B_.aU,!0);var Qp=F(9253),ko=F(8721),po=F(1977),bu=F(4535);class xf{constructor(u){return u}}const _h="storage",Of=new s.nKC("angularfire2.storage-instances");function Sm(p){return(u,l)=>{const g=u.runOutsideAngular(()=>p(l));return new xf(g)}}const pv={provide:class xE{constructor(){return(0,ps.CA)(_h)}},deps:[[new s.Xx1,Of]]},Q_={provide:xf,useFactory:function Dm(p,u){const l=(0,ps.lR)(_h,p,u);return l&&new xf(l)},deps:[[new s.Xx1,Of],Cc]};let Zp=(()=>{class p{constructor(){(0,bl.KO)("angularfire",ps.xv.full,"gcs")}static \u0275fac=function(g){return new(g||p)};static \u0275mod=s.$C({type:p});static \u0275inj=s.G2t({providers:[Q_,pv]})}return p})();function yh(p,...u){return{ngModule:Zp,providers:[{provide:Of,useFactory:Sm(p),multi:!0,deps:[s.SKi,s.zZn,ps.u0,da,[new s.Xx1,Lp],[new s.Xx1,ps.Jv],...u]}]}}const Ff=(0,ps.S3)(bu.c7,!0);var ng=F(3012);let Ev=(()=>{class p{constructor(l,g,I){this.http=l,this.themeService=g,this.businessService=I,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(l){return new Promise((g,I)=>{this.themeService.getBusinessTheme(l).subscribe({next:k=>{this.themeService.applyThemeFile(k?k.themeFileName:"default.css").then(()=>g()).catch(re=>{console.error("Error applying theme file:",re),g()}),this.themeService.getThemeColors(l).subscribe(re=>{this.applyTheme(re),g()},re=>{console.error("Error loading theme:",re),g()})},error:k=>{console.error("Error loading business theme:",k),this.themeService.applyThemeFile("default.css").then(()=>g()).catch(z=>{console.error("Error applying default theme file:",z),g()})}})})}applyTheme(l){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",l.primaryColor),document.documentElement.style.setProperty("--secondary-color",l.secondaryColor),document.documentElement.style.setProperty("--accent-color",l.accentColor),document.documentElement.style.setProperty("--background-color",l.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",l.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",l.textColor),document.documentElement.style.setProperty("--nav-background-color",l.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",l.navTextColor),document.documentElement.style.setProperty("--nav-active-background",l.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",l.navActiveText),document.documentElement.style.setProperty("--button-color",l.buttonColor),document.documentElement.style.setProperty("--button-hover-color",l.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(l){return l.primaryColor&&l.secondaryColor&&l.accentColor&&l.backgroundColor&&l.darkBackgroundColor&&l.textColor&&l.navBackgroundColor&&l.navTextColor&&l.navActiveBackground&&l.navActiveText&&l.buttonColor&&l.buttonHoverColor}static{this.\u0275fac=function(g){return new(g||p)(s.KVO(We),s.KVO(qs.F),s.KVO(ng.u))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var $i=F(9969);function rg(p){return new s.wOt(3e3,!1)}function Ra(p){switch(p.length){case 0:return new $i.sf;case 1:return p[0];default:return new $i.ui(p)}}function Vm(p,u,l=new Map,g=new Map){const I=[],k=[];let z=-1,re=null;if(u.forEach(ge=>{const Ge=ge.get("offset"),pt=Ge==z,jt=pt&&re||new Map;ge.forEach((vn,gn)=>{let Tn=gn,Xt=vn;if("offset"!==gn)switch(Tn=p.normalizePropertyName(Tn,I),Xt){case $i.FX:Xt=l.get(gn);break;case $i.kp:Xt=g.get(gn);break;default:Xt=p.normalizeStyleValue(gn,Tn,Xt,I)}jt.set(Tn,Xt)}),pt||k.push(jt),re=jt,z=Ge}),I.length)throw function Th(p){return new s.wOt(3502,!1)}();return k}function jf(p,u,l,g){switch(u){case"start":p.onStart(()=>g(l&&lg(l,"start",p)));break;case"done":p.onDone(()=>g(l&&lg(l,"done",p)));break;case"destroy":p.onDestroy(()=>g(l&&lg(l,"destroy",p)))}}function lg(p,u,l){const k=$f(p.element,p.triggerName,p.fromState,p.toState,u||p.phaseName,l.totalTime??p.totalTime,!!l.disabled),z=p._data;return null!=z&&(k._data=z),k}function $f(p,u,l,g,I="",k=0,z){return{element:p,triggerName:u,fromState:l,toState:g,phaseName:I,totalTime:k,disabled:!!z}}function Pa(p,u,l){let g=p.get(u);return g||p.set(u,g=l),g}function Iv(p){const u=p.indexOf(":");return[p.substring(1,u),p.slice(u+1)]}const cg=(()=>typeof document>"u"?null:document.documentElement)();function Zl(p){const u=p.parentNode||p.host||null;return u===cg?null:u}let bd=null,Um=!1;function ry(p,u){for(;u;){if(u===p)return!0;u=Zl(u)}return!1}function Cl(p,u,l){if(l)return Array.from(p.querySelectorAll(u));const g=p.querySelector(u);return g?[g]:[]}let dg=(()=>{class p{validateStyleProperty(l){return function Hf(p){bd||(bd=function Cv(){return typeof document<"u"?document.body:null}()||{},Um=!!bd.style&&"WebkitAppearance"in bd.style);let u=!0;return bd.style&&!function ny(p){return"ebkit"==p.substring(1,6)}(p)&&(u=p in bd.style,!u&&Um&&(u="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in bd.style)),u}(l)}matchesElement(l,g){return!1}containsElement(l,g){return ry(l,g)}getParentElement(l){return Zl(l)}query(l,g,I){return Cl(l,g,I)}computeStyle(l,g,I){return I||""}animate(l,g,I,k,z,re=[],ge){return new $i.sf(I,k)}static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})(),ec=(()=>{class p{static{this.NOOP=new dg}}return p})();const Gf=1e3,Id="ng-enter",Nc="ng-leave",Dh="ng-trigger",ms=".ng-trigger",iy="ng-animating",Bm=".ng-animating";function qa(p){if("number"==typeof p)return p;const u=p.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:Cd(parseFloat(u[1]),u[2])}function Cd(p,u){return"s"===u?p*Gf:p}function Cu(p,u,l){return p.hasOwnProperty("duration")?p:function jm(p,u,l){let I,k=0,z="";if("string"==typeof p){const re=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===re)return u.push(rg()),{duration:0,delay:0,easing:""};I=Cd(parseFloat(re[1]),re[2]);const ge=re[3];null!=ge&&(k=Cd(parseFloat(ge),re[4]));const Ge=re[5];Ge&&(z=Ge)}else I=p;if(!l){let re=!1,ge=u.length;I<0&&(u.push(function ig(){return new s.wOt(3100,!1)}()),re=!0),k<0&&(u.push(function Tu(){return new s.wOt(3101,!1)}()),re=!0),re&&u.splice(ge,0,rg())}return{duration:I,delay:k,easing:z}}(p,u,l)}function Sh(p,u={}){return Object.keys(p).forEach(l=>{u[l]=p[l]}),u}function tc(p){const u=new Map;return Object.keys(p).forEach(l=>{u.set(l,p[l])}),u}function Ma(p,u=new Map,l){if(l)for(let[g,I]of l)u.set(g,I);for(let[g,I]of p)u.set(g,I);return u}function wl(p,u,l){u.forEach((g,I)=>{const k=Ph(I);l&&!l.has(I)&&l.set(I,p.style[k]),p.style[k]=g})}function kc(p,u){u.forEach((l,g)=>{const I=Ph(g);p.style[I]=""})}function Fc(p){return Array.isArray(p)?1==p.length?p[0]:(0,$i.K2)(p):p}const wd=new RegExp("{{\\s*(.+?)\\s*}}","g");function oy(p){let u=[];if("string"==typeof p){let l;for(;l=wd.exec(p);)u.push(l[1]);wd.lastIndex=0}return u}function Rh(p,u,l){const g=p.toString(),I=g.replace(wd,(k,z)=>{let re=u[z];return null==re&&(l.push(function Mm(p){return new s.wOt(3003,!1)}()),re=""),re.toString()});return I==g?p:I}function wu(p){const u=[];let l=p.next();for(;!l.done;)u.push(l.value),l=p.next();return u}const Hm=/-+([a-z0-9])/g;function Ph(p){return p.replace(Hm,(...u)=>u[1].toUpperCase())}function lo(p,u,l){switch(u.type){case 7:return p.visitTrigger(u,l);case 0:return p.visitState(u,l);case 1:return p.visitTransition(u,l);case 2:return p.visitSequence(u,l);case 3:return p.visitGroup(u,l);case 4:return p.visitAnimate(u,l);case 5:return p.visitKeyframes(u,l);case 6:return p.visitStyle(u,l);case 8:return p.visitReference(u,l);case 9:return p.visitAnimateChild(u,l);case 10:return p.visitAnimateRef(u,l);case 11:return p.visitQuery(u,l);case 12:return p.visitStagger(u,l);default:throw function sg(p){return new s.wOt(3004,!1)}()}}function Wf(p,u){return window.getComputedStyle(p)[u]}const Lc="*";function ga(p,u){const l=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(g=>function ly(p,u,l){if(":"==p[0]){const ge=function cy(p,u){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,g)=>parseFloat(g)>parseFloat(l);case":decrement":return(l,g)=>parseFloat(g)<parseFloat(l);default:return u.push(function bh(p){return new s.wOt(3016,!1)}()),"* => *"}}(p,l);if("function"==typeof ge)return void u.push(ge);p=ge}const g=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return l.push(function Iu(p){return new s.wOt(3015,!1)}()),u;const I=g[1],k=g[2],z=g[3];u.push(B(I,z));"<"==k[0]&&!(I==Lc&&z==Lc)&&u.push(B(z,I))}(g,l,u)):l.push(p),l}const nc=new Set(["true","1"]),E=new Set(["false","0"]);function B(p,u){const l=nc.has(p)||E.has(p),g=nc.has(u)||E.has(u);return(I,k)=>{let z=p==Lc||p==I,re=u==Lc||u==k;return!z&&l&&"boolean"==typeof I&&(z=I?nc.has(p):E.has(p)),!re&&g&&"boolean"==typeof k&&(re=k?nc.has(u):E.has(u)),z&&re}}const q=":self",pe=new RegExp(`s*${q}s*,?`,"g");function Et(p,u,l,g){return new Cn(p).build(u,l,g)}class Cn{constructor(u){this._driver=u}build(u,l,g){const I=new Ni(l);return this._resetContextStyleTimingState(I),lo(this,Fc(u),I)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,l){let g=l.queryCount=0,I=l.depCount=0;const k=[],z=[];return"@"==u.name.charAt(0)&&l.errors.push(function Tv(){return new s.wOt(3006,!1)}()),u.definitions.forEach(re=>{if(this._resetContextStyleTimingState(l),0==re.type){const ge=re,Ge=ge.name;Ge.toString().split(/\s*,\s*/).forEach(pt=>{ge.name=pt,k.push(this.visitState(ge,l))}),ge.name=Ge}else if(1==re.type){const ge=this.visitTransition(re,l);g+=ge.queryCount,I+=ge.depCount,z.push(ge)}else l.errors.push(function Om(){return new s.wOt(3007,!1)}())}),{type:7,name:u.name,states:k,transitions:z,queryCount:g,depCount:I,options:null}}visitState(u,l){const g=this.visitStyle(u.styles,l),I=u.options&&u.options.params||null;if(g.containsDynamicStyles){const k=new Set,z=I||{};g.styles.forEach(re=>{re instanceof Map&&re.forEach(ge=>{oy(ge).forEach(Ge=>{z.hasOwnProperty(Ge)||k.add(Ge)})})}),k.size&&(wu(k.values()),l.errors.push(function ty(p,u){return new s.wOt(3008,!1)}()))}return{type:0,name:u.name,style:g,options:I?{params:I}:null}}visitTransition(u,l){l.queryCount=0,l.depCount=0;const g=lo(this,Fc(u.animation),l);return{type:1,matchers:ga(u.expr,l.errors),animation:g,queryCount:l.queryCount,depCount:l.depCount,options:ma(u.options)}}visitSequence(u,l){return{type:2,steps:u.steps.map(g=>lo(this,g,l)),options:ma(u.options)}}visitGroup(u,l){const g=l.currentTime;let I=0;const k=u.steps.map(z=>{l.currentTime=g;const re=lo(this,z,l);return I=Math.max(I,l.currentTime),re});return l.currentTime=I,{type:3,steps:k,options:ma(u.options)}}visitAnimate(u,l){const g=function Lo(p,u){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return Vo(Cu(p,u).duration,0,"");const l=p;if(l.split(/\s+/).some(k=>"{"==k.charAt(0)&&"{"==k.charAt(1))){const k=Vo(0,0,"");return k.dynamic=!0,k.strValue=l,k}const I=Cu(l,u);return Vo(I.duration,I.delay,I.easing)}(u.timings,l.errors);l.currentAnimateTimings=g;let I,k=u.styles?u.styles:(0,$i.iF)({});if(5==k.type)I=this.visitKeyframes(k,l);else{let z=u.styles,re=!1;if(!z){re=!0;const Ge={};g.easing&&(Ge.easing=g.easing),z=(0,$i.iF)(Ge)}l.currentTime+=g.duration+g.delay;const ge=this.visitStyle(z,l);ge.isEmptyStep=re,I=ge}return l.currentAnimateTimings=null,{type:4,timings:g,style:I,options:null}}visitStyle(u,l){const g=this._makeStyleAst(u,l);return this._validateStyleAst(g,l),g}_makeStyleAst(u,l){const g=[],I=Array.isArray(u.styles)?u.styles:[u.styles];for(let re of I)"string"==typeof re?re===$i.kp?g.push(re):l.errors.push(new s.wOt(3002,!1)):g.push(tc(re));let k=!1,z=null;return g.forEach(re=>{if(re instanceof Map&&(re.has("easing")&&(z=re.get("easing"),re.delete("easing")),!k))for(let ge of re.values())if(ge.toString().indexOf("{{")>=0){k=!0;break}}),{type:6,styles:g,easing:z,offset:u.offset,containsDynamicStyles:k,options:null}}_validateStyleAst(u,l){const g=l.currentAnimateTimings;let I=l.currentTime,k=l.currentTime;g&&k>0&&(k-=g.duration+g.delay),u.styles.forEach(z=>{"string"!=typeof z&&z.forEach((re,ge)=>{const Ge=l.collectedStyles.get(l.currentQuerySelector),pt=Ge.get(ge);let jt=!0;pt&&(k!=I&&k>=pt.startTime&&I<=pt.endTime&&(l.errors.push(function km(p,u,l,g,I){return new s.wOt(3010,!1)}()),jt=!1),k=pt.startTime),jt&&Ge.set(ge,{startTime:k,endTime:I}),l.options&&function $m(p,u,l){const g=u.params||{},I=oy(p);I.length&&I.forEach(k=>{g.hasOwnProperty(k)||l.push(function ey(p){return new s.wOt(3001,!1)}())})}(re,l.options,l.errors)})})}visitKeyframes(u,l){const g={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function Vf(){return new s.wOt(3011,!1)}()),g;let k=0;const z=[];let re=!1,ge=!1,Ge=0;const pt=u.steps.map(yr=>{const Br=this._makeStyleAst(yr,l);let Tr=null!=Br.offset?Br.offset:function Fo(p){if("string"==typeof p)return null;let u=null;if(Array.isArray(p))p.forEach(l=>{if(l instanceof Map&&l.has("offset")){const g=l;u=parseFloat(g.get("offset")),g.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const l=p;u=parseFloat(l.get("offset")),l.delete("offset")}return u}(Br.styles),qn=0;return null!=Tr&&(k++,qn=Br.offset=Tr),ge=ge||qn<0||qn>1,re=re||qn<Ge,Ge=qn,z.push(qn),Br});ge&&l.errors.push(function xc(){return new s.wOt(3012,!1)}()),re&&l.errors.push(function Fm(){return new s.wOt(3200,!1)}());const jt=u.steps.length;let vn=0;k>0&&k<jt?l.errors.push(function Jl(){return new s.wOt(3202,!1)}()):0==k&&(vn=1/(jt-1));const gn=jt-1,Tn=l.currentTime,Xt=l.currentAnimateTimings,Mn=Xt.duration;return pt.forEach((yr,Br)=>{const Tr=vn>0?Br==gn?1:vn*Br:z[Br],qn=Tr*Mn;l.currentTime=Tn+Xt.delay+qn,Xt.duration=qn,this._validateStyleAst(yr,l),yr.offset=Tr,g.styles.push(yr)}),g}visitReference(u,l){return{type:8,animation:lo(this,Fc(u.animation),l),options:ma(u.options)}}visitAnimateChild(u,l){return l.depCount++,{type:9,options:ma(u.options)}}visitAnimateRef(u,l){return{type:10,animation:this.visitReference(u.animation,l),options:ma(u.options)}}visitQuery(u,l){const g=l.currentQuerySelector,I=u.options||{};l.queryCount++,l.currentQuery=u;const[k,z]=function zi(p){const u=!!p.split(/\s*,\s*/).find(l=>l==q);return u&&(p=p.replace(pe,"")),p=p.replace(/@\*/g,ms).replace(/@\w+/g,l=>ms+"-"+l.slice(1)).replace(/:animating/g,Bm),[p,u]}(u.selector);l.currentQuerySelector=g.length?g+" "+k:k,Pa(l.collectedStyles,l.currentQuerySelector,new Map);const re=lo(this,Fc(u.animation),l);return l.currentQuery=null,l.currentQuerySelector=g,{type:11,selector:k,limit:I.limit||0,optional:!!I.optional,includeSelf:z,animation:re,originalSelector:u.selector,options:ma(u.options)}}visitStagger(u,l){l.currentQuery||l.errors.push(function Eh(){return new s.wOt(3013,!1)}());const g="full"===u.timings?{duration:0,delay:0,easing:"full"}:Cu(u.timings,l.errors,!0);return{type:12,animation:lo(this,Fc(u.animation),l),timings:g,options:null}}}class Ni{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ma(p){return p?(p=Sh(p)).params&&(p.params=function go(p){return p?Sh(p):null}(p.params)):p={},p}function Vo(p,u,l){return{duration:p,delay:u,easing:l}}function Ad(p,u,l,g,I,k,z=null,re=!1){return{type:1,element:p,keyframes:u,preStyleProps:l,postStyleProps:g,duration:I,delay:k,totalTime:I+k,easing:z,subTimeline:re}}class Dd{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,l){let g=this._map.get(u);g||this._map.set(u,g=[]),g.push(...l)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const FE=new RegExp(":enter","g"),VE=new RegExp(":leave","g");function uy(p,u,l,g,I,k=new Map,z=new Map,re,ge,Ge=[]){return(new dy).buildKeyframes(p,u,l,g,I,k,z,re,ge,Ge)}class dy{buildKeyframes(u,l,g,I,k,z,re,ge,Ge,pt=[]){Ge=Ge||new Dd;const jt=new Dv(u,l,Ge,I,k,pt,[]);jt.options=ge;const vn=ge.delay?qa(ge.delay):0;jt.currentTimeline.delayNextStep(vn),jt.currentTimeline.setStyles([z],null,jt.errors,ge),lo(this,g,jt);const gn=jt.timelines.filter(Tn=>Tn.containsAnimation());if(gn.length&&re.size){let Tn;for(let Xt=gn.length-1;Xt>=0;Xt--){const Mn=gn[Xt];if(Mn.element===l){Tn=Mn;break}}Tn&&!Tn.allowOnlyTimelineStyles()&&Tn.setStyles([re],null,jt.errors,ge)}return gn.length?gn.map(Tn=>Tn.buildKeyframes()):[Ad(l,[],[],[],0,vn,"",!1)]}visitTrigger(u,l){}visitState(u,l){}visitTransition(u,l){}visitAnimateChild(u,l){const g=l.subInstructions.get(l.element);if(g){const I=l.createSubContext(u.options),k=l.currentTimeline.currentTime,z=this._visitSubInstructions(g,I,I.options);k!=z&&l.transformIntoNewTimeline(z)}l.previousNode=u}visitAnimateRef(u,l){const g=l.createSubContext(u.options);g.transformIntoNewTimeline(),this._applyAnimationRefDelays([u.options,u.animation.options],l,g),this.visitReference(u.animation,g),l.transformIntoNewTimeline(g.currentTimeline.currentTime),l.previousNode=u}_applyAnimationRefDelays(u,l,g){for(const I of u){const k=I?.delay;if(k){const z="number"==typeof k?k:qa(Rh(k,I?.params??{},l.errors));g.delayNextStep(z)}}}_visitSubInstructions(u,l,g){let k=l.currentTimeline.currentTime;const z=null!=g.duration?qa(g.duration):null,re=null!=g.delay?qa(g.delay):null;return 0!==z&&u.forEach(ge=>{const Ge=l.appendInstructionToTimeline(ge,z,re);k=Math.max(k,Ge.duration+Ge.delay)}),k}visitReference(u,l){l.updateOptions(u.options,!0),lo(this,u.animation,l),l.previousNode=u}visitSequence(u,l){const g=l.subContextCount;let I=l;const k=u.options;if(k&&(k.params||k.delay)&&(I=l.createSubContext(k),I.transformIntoNewTimeline(),null!=k.delay)){6==I.previousNode.type&&(I.currentTimeline.snapshotCurrentStyles(),I.previousNode=Vc);const z=qa(k.delay);I.delayNextStep(z)}u.steps.length&&(u.steps.forEach(z=>lo(this,z,I)),I.currentTimeline.applyStylesToKeyframe(),I.subContextCount>g&&I.transformIntoNewTimeline()),l.previousNode=u}visitGroup(u,l){const g=[];let I=l.currentTimeline.currentTime;const k=u.options&&u.options.delay?qa(u.options.delay):0;u.steps.forEach(z=>{const re=l.createSubContext(u.options);k&&re.delayNextStep(k),lo(this,z,re),I=Math.max(I,re.currentTimeline.currentTime),g.push(re.currentTimeline)}),g.forEach(z=>l.currentTimeline.mergeTimelineCollectedStyles(z)),l.transformIntoNewTimeline(I),l.previousNode=u}_visitTiming(u,l){if(u.dynamic){const g=u.strValue;return Cu(l.params?Rh(g,l.params,l.errors):g,l.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,l){const g=l.currentAnimateTimings=this._visitTiming(u.timings,l),I=l.currentTimeline;g.delay&&(l.incrementTime(g.delay),I.snapshotCurrentStyles());const k=u.style;5==k.type?this.visitKeyframes(k,l):(l.incrementTime(g.duration),this.visitStyle(k,l),I.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=u}visitStyle(u,l){const g=l.currentTimeline,I=l.currentAnimateTimings;!I&&g.hasCurrentStyleProperties()&&g.forwardFrame();const k=I&&I.easing||u.easing;u.isEmptyStep?g.applyEmptyStep(k):g.setStyles(u.styles,k,l.errors,l.options),l.previousNode=u}visitKeyframes(u,l){const g=l.currentAnimateTimings,I=l.currentTimeline.duration,k=g.duration,re=l.createSubContext().currentTimeline;re.easing=g.easing,u.styles.forEach(ge=>{re.forwardTime((ge.offset||0)*k),re.setStyles(ge.styles,ge.easing,l.errors,l.options),re.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(re),l.transformIntoNewTimeline(I+k),l.previousNode=u}visitQuery(u,l){const g=l.currentTimeline.currentTime,I=u.options||{},k=I.delay?qa(I.delay):0;k&&(6===l.previousNode.type||0==g&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Vc);let z=g;const re=l.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!I.optional,l.errors);l.currentQueryTotal=re.length;let ge=null;re.forEach((Ge,pt)=>{l.currentQueryIndex=pt;const jt=l.createSubContext(u.options,Ge);k&&jt.delayNextStep(k),Ge===l.element&&(ge=jt.currentTimeline),lo(this,u.animation,jt),jt.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,jt.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(z),ge&&(l.currentTimeline.mergeTimelineCollectedStyles(ge),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=u}visitStagger(u,l){const g=l.parentContext,I=l.currentTimeline,k=u.timings,z=Math.abs(k.duration),re=z*(l.currentQueryTotal-1);let ge=z*l.currentQueryIndex;switch(k.duration<0?"reverse":k.easing){case"reverse":ge=re-ge;break;case"full":ge=g.currentStaggerTime}const pt=l.currentTimeline;ge&&pt.delayNextStep(ge);const jt=pt.currentTime;lo(this,u.animation,l),l.previousNode=u,g.currentStaggerTime=I.currentTime-jt+(I.startTime-g.currentTimeline.startTime)}}const Vc={};class Dv{constructor(u,l,g,I,k,z,re,ge){this._driver=u,this.element=l,this.subInstructions=g,this._enterClassName=I,this._leaveClassName=k,this.errors=z,this.timelines=re,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ge||new hy(this._driver,l,0),re.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,l){if(!u)return;const g=u;let I=this.options;null!=g.duration&&(I.duration=qa(g.duration)),null!=g.delay&&(I.delay=qa(g.delay));const k=g.params;if(k){let z=I.params;z||(z=this.options.params={}),Object.keys(k).forEach(re=>{(!l||!z.hasOwnProperty(re))&&(z[re]=Rh(k[re],z,this.errors))})}}_copyOptions(){const u={};if(this.options){const l=this.options.params;if(l){const g=u.params={};Object.keys(l).forEach(I=>{g[I]=l[I]})}}return u}createSubContext(u=null,l,g){const I=l||this.element,k=new Dv(this._driver,I,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(I,g||0));return k.previousNode=this.previousNode,k.currentAnimateTimings=this.currentAnimateTimings,k.options=this._copyOptions(),k.updateOptions(u),k.currentQueryIndex=this.currentQueryIndex,k.currentQueryTotal=this.currentQueryTotal,k.parentContext=this,this.subContextCount++,k}transformIntoNewTimeline(u){return this.previousNode=Vc,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,l,g){const I={duration:l??u.duration,delay:this.currentTimeline.currentTime+(g??0)+u.delay,easing:""},k=new Sv(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,I,u.stretchStartingKeyframe);return this.timelines.push(k),I}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,l,g,I,k,z){let re=[];if(I&&re.push(this.element),u.length>0){u=(u=u.replace(FE,"."+this._enterClassName)).replace(VE,"."+this._leaveClassName);let Ge=this._driver.query(this.element,u,1!=g);0!==g&&(Ge=g<0?Ge.slice(Ge.length+g,Ge.length):Ge.slice(0,g)),re.push(...Ge)}return!k&&0==re.length&&z.push(function bo(p){return new s.wOt(3014,!1)}()),re}}class hy{constructor(u,l,g,I){this._driver=u,this.element=l,this.startTime=g,this._elementTimelineStylesLookup=I,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+u),l&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,l){return this.applyStylesToKeyframe(),new hy(this._driver,u,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,l){this._localTimelineStyles.set(u,l),this._globalTimelineStyles.set(u,l),this._styleSummary.set(u,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[l,g]of this._globalTimelineStyles)this._backFill.set(l,g||$i.kp),this._currentKeyframe.set(l,$i.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,l,g,I){l&&this._previousKeyframe.set("easing",l);const k=I&&I.params||{},z=function Rv(p,u){const l=new Map;let g;return p.forEach(I=>{if("*"===I){g=g||u.keys();for(let k of g)l.set(k,$i.kp)}else Ma(I,l)}),l}(u,this._globalTimelineStyles);for(let[re,ge]of z){const Ge=Rh(ge,k,g);this._pendingStyles.set(re,Ge),this._localTimelineStyles.has(re)||this._backFill.set(re,this._globalTimelineStyles.get(re)??$i.kp),this._updateStyle(re,Ge)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,l)=>{this._currentKeyframe.set(l,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,u)}))}snapshotCurrentStyles(){for(let[u,l]of this._localTimelineStyles)this._pendingStyles.set(u,l),this._updateStyle(u,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let l in this._currentKeyframe)u.push(l);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((l,g)=>{const I=this._styleSummary.get(g);(!I||l.time>I.time)&&this._updateStyle(g,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,l=new Set,g=1===this._keyframes.size&&0===this.duration;let I=[];this._keyframes.forEach((re,ge)=>{const Ge=Ma(re,new Map,this._backFill);Ge.forEach((pt,jt)=>{pt===$i.FX?u.add(jt):pt===$i.kp&&l.add(jt)}),g||Ge.set("offset",ge/this.duration),I.push(Ge)});const k=u.size?wu(u.values()):[],z=l.size?wu(l.values()):[];if(g){const re=I[0],ge=new Map(re);re.set("offset",0),ge.set("offset",1),I=[re,ge]}return Ad(this.element,I,k,z,this.duration,this.startTime,this.easing,!1)}}class Sv extends hy{constructor(u,l,g,I,k,z,re=!1){super(u,l,z.delay),this.keyframes=g,this.preStyleProps=I,this.postStyleProps=k,this._stretchStartingKeyframe=re,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:l,duration:g,easing:I}=this.timings;if(this._stretchStartingKeyframe&&l){const k=[],z=g+l,re=l/z,ge=Ma(u[0]);ge.set("offset",0),k.push(ge);const Ge=Ma(u[0]);Ge.set("offset",xh(re)),k.push(Ge);const pt=u.length-1;for(let jt=1;jt<=pt;jt++){let vn=Ma(u[jt]);const gn=vn.get("offset");vn.set("offset",xh((l+gn*g)/z)),k.push(vn)}g=z,l=0,I="",u=k}return Ad(this.element,u,this.preStyleProps,this.postStyleProps,g,l,I,!0)}}function xh(p,u=3){const l=Math.pow(10,u-1);return Math.round(p*l)/l}class zm{}const $b=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class P0 extends zm{normalizePropertyName(u,l){return Ph(u)}normalizeStyleValue(u,l,g,I){let k="";const z=g.toString().trim();if($b.has(l)&&0!==g&&"0"!==g)if("number"==typeof g)k="px";else{const re=g.match(/^[+-]?[\d\.]+([a-z]*)$/);re&&0==re[1].length&&I.push(function xm(p,u){return new s.wOt(3005,!1)}())}return z+k}}function UE(p,u,l,g,I,k,z,re,ge,Ge,pt,jt,vn){return{type:0,element:p,triggerName:u,isRemovalTransition:I,fromState:l,fromStyles:k,toState:g,toStyles:z,timelines:re,queriedElements:ge,preStyleProps:Ge,postStyleProps:pt,totalTime:jt,errors:vn}}const fy={};class BE{constructor(u,l,g){this._triggerName=u,this.ast=l,this._stateStyles=g}match(u,l,g,I){return function jE(p,u,l,g,I){return p.some(k=>k(u,l,g,I))}(this.ast.matchers,u,l,g,I)}buildStyles(u,l,g){let I=this._stateStyles.get("*");return void 0!==u&&(I=this._stateStyles.get(u?.toString())||I),I?I.buildStyles(l,g):new Map}build(u,l,g,I,k,z,re,ge,Ge,pt){const jt=[],vn=this.ast.options&&this.ast.options.params||fy,Tn=this.buildStyles(g,re&&re.params||fy,jt),Xt=ge&&ge.params||fy,Mn=this.buildStyles(I,Xt,jt),yr=new Set,Br=new Map,Tr=new Map,qn="void"===I,bi={params:M0(Xt,vn),delay:this.ast.options?.delay},Qr=pt?[]:uy(u,l,this.ast.animation,k,z,Tn,Mn,bi,Ge,jt);let _i=0;if(Qr.forEach(cs=>{_i=Math.max(cs.duration+cs.delay,_i)}),jt.length)return UE(l,this._triggerName,g,I,qn,Tn,Mn,[],[],Br,Tr,_i,jt);Qr.forEach(cs=>{const Bi=cs.element,Zs=Pa(Br,Bi,new Set);cs.preStyleProps.forEach(eo=>Zs.add(eo));const Wi=Pa(Tr,Bi,new Set);cs.postStyleProps.forEach(eo=>Wi.add(eo)),Bi!==l&&yr.add(Bi)});const Vi=wu(yr.values());return UE(l,this._triggerName,g,I,qn,Tn,Mn,Qr,Vi,Br,Tr,_i)}}function M0(p,u){const l=Sh(u);for(const g in p)p.hasOwnProperty(g)&&null!=p[g]&&(l[g]=p[g]);return l}class x0{constructor(u,l,g){this.styles=u,this.defaultParams=l,this.normalizer=g}buildStyles(u,l){const g=new Map,I=Sh(this.defaultParams);return Object.keys(u).forEach(k=>{const z=u[k];null!==z&&(I[k]=z)}),this.styles.styles.forEach(k=>{"string"!=typeof k&&k.forEach((z,re)=>{z&&(z=Rh(z,I,l));const ge=this.normalizer.normalizePropertyName(re,l);z=this.normalizer.normalizeStyleValue(re,ge,z,l),g.set(re,z)})}),g}}class O0{constructor(u,l,g){this.name=u,this.ast=l,this._normalizer=g,this.transitionFactories=[],this.states=new Map,l.states.forEach(I=>{this.states.set(I.name,new x0(I.style,I.options&&I.options.params||{},g))}),Pv(this.states,"true","1"),Pv(this.states,"false","0"),l.transitions.forEach(I=>{this.transitionFactories.push(new BE(u,I,this.states))}),this.fallbackTransition=function HE(p,u,l){return new BE(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,re)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,l,g,I){return this.transitionFactories.find(z=>z.match(u,l,g,I))||null}matchStyles(u,l,g){return this.fallbackTransition.buildStyles(u,l,g)}}function Pv(p,u,l){p.has(u)?p.has(l)||p.set(l,p.get(u)):p.has(l)&&p.set(u,p.get(l))}const mg=new Dd;class N0{constructor(u,l,g){this.bodyNode=u,this._driver=l,this._normalizer=g,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,l){const g=[],k=Et(this._driver,l,g,[]);if(g.length)throw function Ih(p){return new s.wOt(3503,!1)}();this._animations.set(u,k)}_buildPlayer(u,l,g){const I=u.element,k=Vm(this._normalizer,u.keyframes,l,g);return this._driver.animate(I,k,u.duration,u.delay,u.easing,[],!0)}create(u,l,g={}){const I=[],k=this._animations.get(u);let z;const re=new Map;if(k?(z=uy(this._driver,l,k,Id,Nc,new Map,new Map,g,mg,I),z.forEach(pt=>{const jt=Pa(re,pt.element,new Map);pt.postStyleProps.forEach(vn=>jt.set(vn,null))})):(I.push(function vd(){return new s.wOt(3300,!1)}()),z=[]),I.length)throw function Ed(p){return new s.wOt(3504,!1)}();re.forEach((pt,jt)=>{pt.forEach((vn,gn)=>{pt.set(gn,this._driver.computeStyle(jt,gn,$i.kp))})});const Ge=Ra(z.map(pt=>{const jt=re.get(pt.element);return this._buildPlayer(pt,new Map,jt)}));return this._playersById.set(u,Ge),Ge.onDestroy(()=>this.destroy(u)),this.players.push(Ge),Ge}destroy(u){const l=this._getPlayer(u);l.destroy(),this._playersById.delete(u);const g=this.players.indexOf(l);g>=0&&this.players.splice(g,1)}_getPlayer(u){const l=this._playersById.get(u);if(!l)throw function Ch(p){return new s.wOt(3301,!1)}();return l}listen(u,l,g,I){const k=$f(l,"","","");return jf(this._getPlayer(u),g,k,I),()=>{}}command(u,l,g,I){if("register"==g)return void this.register(u,I[0]);if("create"==g)return void this.create(u,l,I[0]||{});const k=this._getPlayer(u);switch(g){case"play":k.play();break;case"pause":k.pause();break;case"reset":k.reset();break;case"restart":k.restart();break;case"finish":k.finish();break;case"init":k.init();break;case"setPosition":k.setPosition(parseFloat(I[0]));break;case"destroy":this.destroy(u)}}}const GE="ng-animate-queued",Mv="ng-animate-disabled",Ov=[],Uc={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},k0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rc="__ng_removed";class ic{get params(){return this.options.params}constructor(u,l=""){this.namespaceId=l;const g=u&&u.hasOwnProperty("value");if(this.value=function L0(p){return p??null}(g?u.value:u),g){const k=Sh(u);delete k.value,this.options=k}else this.options={};this.options.params||(this.options.params={})}absorbOptions(u){const l=u.params;if(l){const g=this.options.params;Object.keys(l).forEach(I=>{null==g[I]&&(g[I]=l[I])})}}}const xa="void",Al=new ic(xa);class KE{constructor(u,l,g){this.id=u,this.hostElement=l,this._engine=g,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,sc(l,this._hostClassName)}listen(u,l,g,I){if(!this._triggers.has(l))throw function Ka(p,u){return new s.wOt(3302,!1)}();if(null==g||0==g.length)throw function pa(p){return new s.wOt(3303,!1)}();if(!function kv(p){return"start"==p||"done"==p}(g))throw function Oc(p,u){return new s.wOt(3400,!1)}();const k=Pa(this._elementListeners,u,[]),z={name:l,phase:g,callback:I};k.push(z);const re=Pa(this._engine.statesByElement,u,new Map);return re.has(l)||(sc(u,Dh),sc(u,Dh+"-"+l),re.set(l,Al)),()=>{this._engine.afterFlush(()=>{const ge=k.indexOf(z);ge>=0&&k.splice(ge,1),this._triggers.has(l)||re.delete(l)})}}register(u,l){return!this._triggers.has(u)&&(this._triggers.set(u,l),!0)}_getTrigger(u){const l=this._triggers.get(u);if(!l)throw function Uf(p){return new s.wOt(3401,!1)}();return l}trigger(u,l,g,I=!0){const k=this._getTrigger(l),z=new Nv(this.id,l,u);let re=this._engine.statesByElement.get(u);re||(sc(u,Dh),sc(u,Dh+"-"+l),this._engine.statesByElement.set(u,re=new Map));let ge=re.get(l);const Ge=new ic(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&ge&&Ge.absorbOptions(ge.options),re.set(l,Ge),ge||(ge=Al),Ge.value!==xa&&ge.value===Ge.value){if(!function V0(p,u){const l=Object.keys(p),g=Object.keys(u);if(l.length!=g.length)return!1;for(let I=0;I<l.length;I++){const k=l[I];if(!u.hasOwnProperty(k)||p[k]!==u[k])return!1}return!0}(ge.params,Ge.params)){const Xt=[],Mn=k.matchStyles(ge.value,ge.params,Xt),yr=k.matchStyles(Ge.value,Ge.params,Xt);Xt.length?this._engine.reportError(Xt):this._engine.afterFlush(()=>{kc(u,Mn),wl(u,yr)})}return}const vn=Pa(this._engine.playersByElement,u,[]);vn.forEach(Xt=>{Xt.namespaceId==this.id&&Xt.triggerName==l&&Xt.queued&&Xt.destroy()});let gn=k.matchTransition(ge.value,Ge.value,u,Ge.params),Tn=!1;if(!gn){if(!I)return;gn=k.fallbackTransition,Tn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:l,transition:gn,fromState:ge,toState:Ge,player:z,isFallbackTransition:Tn}),Tn||(sc(u,GE),z.onStart(()=>{yg(u,GE)})),z.onDone(()=>{let Xt=this.players.indexOf(z);Xt>=0&&this.players.splice(Xt,1);const Mn=this._engine.playersByElement.get(u);if(Mn){let yr=Mn.indexOf(z);yr>=0&&Mn.splice(yr,1)}}),this.players.push(z),vn.push(z),z}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(l=>l.delete(u)),this._elementListeners.forEach((l,g)=>{this._elementListeners.set(g,l.filter(I=>I.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const l=this._engine.playersByElement.get(u);l&&(l.forEach(g=>g.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,l){const g=this._engine.driver.query(u,ms,!0);g.forEach(I=>{if(I[rc])return;const k=this._engine.fetchNamespacesByElement(I);k.size?k.forEach(z=>z.triggerLeaveAnimation(I,l,!1,!0)):this.clearElementCache(I)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(I=>this.clearElementCache(I)))}triggerLeaveAnimation(u,l,g,I){const k=this._engine.statesByElement.get(u),z=new Map;if(k){const re=[];if(k.forEach((ge,Ge)=>{if(z.set(Ge,ge.value),this._triggers.has(Ge)){const pt=this.trigger(u,Ge,xa,I);pt&&re.push(pt)}}),re.length)return this._engine.markElementAsRemoved(this.id,u,!0,l,z),g&&Ra(re).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const l=this._elementListeners.get(u),g=this._engine.statesByElement.get(u);if(l&&g){const I=new Set;l.forEach(k=>{const z=k.name;if(I.has(z))return;I.add(z);const ge=this._triggers.get(z).fallbackTransition,Ge=g.get(z)||Al,pt=new ic(xa),jt=new Nv(this.id,z,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:z,transition:ge,fromState:Ge,toState:pt,player:jt,isFallbackTransition:!0})})}}removeNode(u,l){const g=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,l),this.triggerLeaveAnimation(u,l,!0))return;let I=!1;if(g.totalAnimations){const k=g.players.length?g.playersByQueriedElement.get(u):[];if(k&&k.length)I=!0;else{let z=u;for(;z=z.parentNode;)if(g.statesByElement.get(z)){I=!0;break}}}if(this.prepareLeaveAnimationListeners(u),I)g.markElementAsRemoved(this.id,u,!1,l);else{const k=u[rc];(!k||k===Uc)&&(g.afterFlush(()=>this.clearElementCache(u)),g.destroyInnerAnimations(u),g._onRemovalComplete(u,l))}}insertNode(u,l){sc(u,this._hostClassName)}drainQueuedTransitions(u){const l=[];return this._queue.forEach(g=>{const I=g.player;if(I.destroyed)return;const k=g.element,z=this._elementListeners.get(k);z&&z.forEach(re=>{if(re.name==g.triggerName){const ge=$f(k,g.triggerName,g.fromState.value,g.toState.value);ge._data=u,jf(g.player,re.phase,ge,re.callback)}}),I.markedForDestroy?this._engine.afterFlush(()=>{I.destroy()}):l.push(g)}),this._queue=[],l.sort((g,I)=>{const k=g.transition.ast.depCount,z=I.transition.ast.depCount;return 0==k||0==z?k-z:this._engine.driver.containsElement(g.element,I.element)?1:-1})}destroy(u){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}}class qE{_onRemovalComplete(u,l){this.onRemovalComplete(u,l)}constructor(u,l,g){this.bodyNode=u,this.driver=l,this._normalizer=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(I,k)=>{}}get queuedPlayers(){const u=[];return this._namespaceList.forEach(l=>{l.players.forEach(g=>{g.queued&&u.push(g)})}),u}createNamespace(u,l){const g=new KE(u,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(g,l):(this.newHostElements.set(l,g),this.collectEnterElement(l)),this._namespaceLookup[u]=g}_balanceNamespaceList(u,l){const g=this._namespaceList,I=this.namespacesByHostElement;if(g.length-1>=0){let z=!1,re=this.driver.getParentElement(l);for(;re;){const ge=I.get(re);if(ge){const Ge=g.indexOf(ge);g.splice(Ge+1,0,u),z=!0;break}re=this.driver.getParentElement(re)}z||g.unshift(u)}else g.push(u);return I.set(l,u),u}register(u,l){let g=this._namespaceLookup[u];return g||(g=this.createNamespace(u,l)),g}registerTrigger(u,l,g){let I=this._namespaceLookup[u];I&&I.register(l,g)&&this.totalAnimations++}destroy(u,l){u&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const g=this._fetchNamespace(u);this.namespacesByHostElement.delete(g.hostElement);const I=this._namespaceList.indexOf(g);I>=0&&this._namespaceList.splice(I,1),g.destroy(l),delete this._namespaceLookup[u]}))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const l=new Set,g=this.statesByElement.get(u);if(g)for(let I of g.values())if(I.namespaceId){const k=this._fetchNamespace(I.namespaceId);k&&l.add(k)}return l}trigger(u,l,g,I){if(py(l)){const k=this._fetchNamespace(u);if(k)return k.trigger(l,g,I),!0}return!1}insertNode(u,l,g,I){if(!py(l))return;const k=l[rc];if(k&&k.setForRemoval){k.setForRemoval=!1,k.setForMove=!0;const z=this.collectedLeaveElements.indexOf(l);z>=0&&this.collectedLeaveElements.splice(z,1)}if(u){const z=this._fetchNamespace(u);z&&z.insertNode(l,g)}I&&this.collectEnterElement(l)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,l){l?this.disabledNodes.has(u)||(this.disabledNodes.add(u),sc(u,Mv)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),yg(u,Mv))}removeNode(u,l,g){if(py(l)){const I=u?this._fetchNamespace(u):null;I?I.removeNode(l,g):this.markElementAsRemoved(u,l,!1,g);const k=this.namespacesByHostElement.get(l);k&&k.id!==u&&k.removeNode(l,g)}else this._onRemovalComplete(l,g)}markElementAsRemoved(u,l,g,I,k){this.collectedLeaveElements.push(l),l[rc]={namespaceId:u,setForRemoval:I,hasAnimation:g,removedBeforeQueried:!1,previousTriggersValues:k}}listen(u,l,g,I,k){return py(l)?this._fetchNamespace(u).listen(l,g,I,k):()=>{}}_buildInstruction(u,l,g,I,k){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,g,I,u.fromState.options,u.toState.options,l,k)}destroyInnerAnimations(u){let l=this.driver.query(u,ms,!0);l.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(u,Bm,!0),l.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(u){const l=this.playersByElement.get(u);l&&l.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(u){const l=this.playersByQueriedElement.get(u);l&&l.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return Ra(this.players).onDone(()=>u());u()})}processLeaveNode(u){const l=u[rc];if(l&&l.setForRemoval){if(u[rc]=Uc,l.namespaceId){this.destroyInnerAnimations(u);const g=this._fetchNamespace(l.namespaceId);g&&g.clearElementCache(u)}this._onRemovalComplete(u,l.setForRemoval)}u.classList?.contains(Mv)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(u=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,I)=>this._balanceNamespaceList(g,I)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)sc(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{l=this._flushAnimations(g,u)}finally{for(let I=0;I<g.length;I++)g[I]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],l.length?Ra(l).onDone(()=>{g.forEach(I=>I())}):g.forEach(I=>I())}}reportError(u){throw function Lm(p){return new s.wOt(3402,!1)}()}_flushAnimations(u,l){const g=new Dd,I=[],k=new Map,z=[],re=new Map,ge=new Map,Ge=new Map,pt=new Set;this.disabledNodes.forEach(Nn=>{pt.add(Nn);const Wn=this.driver.query(Nn,".ng-animate-queued",!0);for(let gr=0;gr<Wn.length;gr++)pt.add(Wn[gr])});const jt=this.bodyNode,vn=Array.from(this.statesByElement.keys()),gn=Fv(vn,this.collectedEnterElements),Tn=new Map;let Xt=0;gn.forEach((Nn,Wn)=>{const gr=Id+Xt++;Tn.set(Wn,gr),Nn.forEach(ni=>sc(ni,gr))});const Mn=[],yr=new Set,Br=new Set;for(let Nn=0;Nn<this.collectedLeaveElements.length;Nn++){const Wn=this.collectedLeaveElements[Nn],gr=Wn[rc];gr&&gr.setForRemoval&&(Mn.push(Wn),yr.add(Wn),gr.hasAnimation?this.driver.query(Wn,".ng-star-inserted",!0).forEach(ni=>yr.add(ni)):Br.add(Wn))}const Tr=new Map,qn=Fv(vn,Array.from(yr));qn.forEach((Nn,Wn)=>{const gr=Nc+Xt++;Tr.set(Wn,gr),Nn.forEach(ni=>sc(ni,gr))}),u.push(()=>{gn.forEach((Nn,Wn)=>{const gr=Tn.get(Wn);Nn.forEach(ni=>yg(ni,gr))}),qn.forEach((Nn,Wn)=>{const gr=Tr.get(Wn);Nn.forEach(ni=>yg(ni,gr))}),Mn.forEach(Nn=>{this.processLeaveNode(Nn)})});const bi=[],Qr=[];for(let Nn=this._namespaceList.length-1;Nn>=0;Nn--)this._namespaceList[Nn].drainQueuedTransitions(l).forEach(gr=>{const ni=gr.player,js=gr.element;if(bi.push(ni),this.collectedEnterElements.length){const co=js[rc];if(co&&co.setForMove){if(co.previousTriggersValues&&co.previousTriggersValues.has(gr.triggerName)){const Bo=co.previousTriggersValues.get(gr.triggerName),ea=this.statesByElement.get(gr.element);if(ea&&ea.has(gr.triggerName)){const qf=ea.get(gr.triggerName);qf.value=Bo,ea.set(gr.triggerName,qf)}}return void ni.destroy()}}const Ya=!jt||!this.driver.containsElement(jt,js),To=Tr.get(js),Dl=Tn.get(js),ki=this._buildInstruction(gr,g,Dl,To,Ya);if(ki.errors&&ki.errors.length)return void Qr.push(ki);if(Ya)return ni.onStart(()=>kc(js,ki.fromStyles)),ni.onDestroy(()=>wl(js,ki.toStyles)),void I.push(ni);if(gr.isFallbackTransition)return ni.onStart(()=>kc(js,ki.fromStyles)),ni.onDestroy(()=>wl(js,ki.toStyles)),void I.push(ni);const $c=[];ki.timelines.forEach(co=>{co.stretchStartingKeyframe=!0,this.disabledNodes.has(co.element)||$c.push(co)}),ki.timelines=$c,g.append(js,ki.timelines),z.push({instruction:ki,player:ni,element:js}),ki.queriedElements.forEach(co=>Pa(re,co,[]).push(ni)),ki.preStyleProps.forEach((co,Bo)=>{if(co.size){let ea=ge.get(Bo);ea||ge.set(Bo,ea=new Set),co.forEach((qf,Oh)=>ea.add(Oh))}}),ki.postStyleProps.forEach((co,Bo)=>{let ea=Ge.get(Bo);ea||Ge.set(Bo,ea=new Set),co.forEach((qf,Oh)=>ea.add(Oh))})});if(Qr.length){const Nn=[];Qr.forEach(Wn=>{Nn.push(function Bf(p,u){return new s.wOt(3505,!1)}())}),bi.forEach(Wn=>Wn.destroy()),this.reportError(Nn)}const _i=new Map,Vi=new Map;z.forEach(Nn=>{const Wn=Nn.element;g.has(Wn)&&(Vi.set(Wn,Wn),this._beforeAnimationBuild(Nn.player.namespaceId,Nn.instruction,_i))}),I.forEach(Nn=>{const Wn=Nn.element;this._getPreviousPlayers(Wn,!1,Nn.namespaceId,Nn.triggerName,null).forEach(ni=>{Pa(_i,Wn,[]).push(ni),ni.destroy()})});const cs=Mn.filter(Nn=>Lv(Nn,ge,Ge)),Bi=new Map;YE(Bi,this.driver,Br,Ge,$i.kp).forEach(Nn=>{Lv(Nn,ge,Ge)&&cs.push(Nn)});const Wi=new Map;gn.forEach((Nn,Wn)=>{YE(Wi,this.driver,new Set(Nn),ge,$i.FX)}),cs.forEach(Nn=>{const Wn=Bi.get(Nn),gr=Wi.get(Nn);Bi.set(Nn,new Map([...Wn?.entries()??[],...gr?.entries()??[]]))});const eo=[],Bc=[],jc={};z.forEach(Nn=>{const{element:Wn,player:gr,instruction:ni}=Nn;if(g.has(Wn)){if(pt.has(Wn))return gr.onDestroy(()=>wl(Wn,ni.toStyles)),gr.disabled=!0,gr.overrideTotalTime(ni.totalTime),void I.push(gr);let js=jc;if(Vi.size>1){let To=Wn;const Dl=[];for(;To=To.parentNode;){const ki=Vi.get(To);if(ki){js=ki;break}Dl.push(To)}Dl.forEach(ki=>Vi.set(ki,js))}const Ya=this._buildAnimation(gr.namespaceId,ni,_i,k,Wi,Bi);if(gr.setRealPlayer(Ya),js===jc)eo.push(gr);else{const To=this.playersByElement.get(js);To&&To.length&&(gr.parentPlayer=Ra(To)),I.push(gr)}}else kc(Wn,ni.fromStyles),gr.onDestroy(()=>wl(Wn,ni.toStyles)),Bc.push(gr),pt.has(Wn)&&I.push(gr)}),Bc.forEach(Nn=>{const Wn=k.get(Nn.element);if(Wn&&Wn.length){const gr=Ra(Wn);Nn.setRealPlayer(gr)}}),I.forEach(Nn=>{Nn.parentPlayer?Nn.syncPlayerEvents(Nn.parentPlayer):Nn.destroy()});for(let Nn=0;Nn<Mn.length;Nn++){const Wn=Mn[Nn],gr=Wn[rc];if(yg(Wn,Nc),gr&&gr.hasAnimation)continue;let ni=[];if(re.size){let Ya=re.get(Wn);Ya&&Ya.length&&ni.push(...Ya);let To=this.driver.query(Wn,Bm,!0);for(let Dl=0;Dl<To.length;Dl++){let ki=re.get(To[Dl]);ki&&ki.length&&ni.push(...ki)}}const js=ni.filter(Ya=>!Ya.destroyed);js.length?XE(this,Wn,js):this.processLeaveNode(Wn)}return Mn.length=0,eo.forEach(Nn=>{this.players.push(Nn),Nn.onDone(()=>{Nn.destroy();const Wn=this.players.indexOf(Nn);this.players.splice(Wn,1)}),Nn.play()}),eo}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,l,g,I,k){let z=[];if(l){const re=this.playersByQueriedElement.get(u);re&&(z=re)}else{const re=this.playersByElement.get(u);if(re){const ge=!k||k==xa;re.forEach(Ge=>{Ge.queued||!ge&&Ge.triggerName!=I||z.push(Ge)})}}return(g||I)&&(z=z.filter(re=>!(g&&g!=re.namespaceId||I&&I!=re.triggerName))),z}_beforeAnimationBuild(u,l,g){const k=l.element,z=l.isRemovalTransition?void 0:u,re=l.isRemovalTransition?void 0:l.triggerName;for(const ge of l.timelines){const Ge=ge.element,pt=Ge!==k,jt=Pa(g,Ge,[]);this._getPreviousPlayers(Ge,pt,z,re,l.toState).forEach(gn=>{const Tn=gn.getRealPlayer();Tn.beforeDestroy&&Tn.beforeDestroy(),gn.destroy(),jt.push(gn)})}kc(k,l.fromStyles)}_buildAnimation(u,l,g,I,k,z){const re=l.triggerName,ge=l.element,Ge=[],pt=new Set,jt=new Set,vn=l.timelines.map(Tn=>{const Xt=Tn.element;pt.add(Xt);const Mn=Xt[rc];if(Mn&&Mn.removedBeforeQueried)return new $i.sf(Tn.duration,Tn.delay);const yr=Xt!==ge,Br=function QE(p){const u=[];return Wm(p,u),u}((g.get(Xt)||Ov).map(_i=>_i.getRealPlayer())).filter(_i=>!!_i.element&&_i.element===Xt),Tr=k.get(Xt),qn=z.get(Xt),bi=Vm(this._normalizer,Tn.keyframes,Tr,qn),Qr=this._buildPlayer(Tn,bi,Br);if(Tn.subTimeline&&I&&jt.add(Xt),yr){const _i=new Nv(u,re,Xt);_i.setRealPlayer(Qr),Ge.push(_i)}return Qr});Ge.forEach(Tn=>{Pa(this.playersByQueriedElement,Tn.element,[]).push(Tn),Tn.onDone(()=>function F0(p,u,l){let g=p.get(u);if(g){if(g.length){const I=g.indexOf(l);g.splice(I,1)}0==g.length&&p.delete(u)}return g}(this.playersByQueriedElement,Tn.element,Tn))}),pt.forEach(Tn=>sc(Tn,iy));const gn=Ra(vn);return gn.onDestroy(()=>{pt.forEach(Tn=>yg(Tn,iy)),wl(ge,l.toStyles)}),jt.forEach(Tn=>{Pa(I,Tn,[]).push(gn)}),gn}_buildPlayer(u,l,g){return l.length>0?this.driver.animate(u.element,l,u.duration,u.delay,u.easing,g):new $i.sf(u.duration,u.delay)}}class Nv{constructor(u,l,g){this.namespaceId=u,this.triggerName=l,this.element=g,this._player=new $i.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((l,g)=>{l.forEach(I=>jf(u,g,void 0,I))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const l=this._player;l.triggerCallback&&u.onStart(()=>l.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,l){Pa(this._queuedCallbacks,u,[]).push(l)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const l=this._player;l.triggerCallback&&l.triggerCallback(u)}}function py(p){return p&&1===p.nodeType}function _g(p,u){const l=p.style.display;return p.style.display=u??"none",l}function YE(p,u,l,g,I){const k=[];l.forEach(ge=>k.push(_g(ge)));const z=[];g.forEach((ge,Ge)=>{const pt=new Map;ge.forEach(jt=>{const vn=u.computeStyle(Ge,jt,I);pt.set(jt,vn),(!vn||0==vn.length)&&(Ge[rc]=k0,z.push(Ge))}),p.set(Ge,pt)});let re=0;return l.forEach(ge=>_g(ge,k[re++])),z}function Fv(p,u){const l=new Map;if(p.forEach(re=>l.set(re,[])),0==u.length)return l;const I=new Set(u),k=new Map;function z(re){if(!re)return 1;let ge=k.get(re);if(ge)return ge;const Ge=re.parentNode;return ge=l.has(Ge)?Ge:I.has(Ge)?1:z(Ge),k.set(re,ge),ge}return u.forEach(re=>{const ge=z(re);1!==ge&&l.get(ge).push(re)}),l}function sc(p,u){p.classList?.add(u)}function yg(p,u){p.classList?.remove(u)}function XE(p,u,l){Ra(l).onDone(()=>p.processLeaveNode(u))}function Wm(p,u){for(let l=0;l<p.length;l++){const g=p[l];g instanceof $i.ui?Wm(g.players,u):u.push(g)}}function Lv(p,u,l){const g=l.get(p);if(!g)return!1;let I=u.get(p);return I?g.forEach(k=>I.add(k)):u.set(p,g),l.delete(p),!0}class Km{constructor(u,l,g){this.bodyNode=u,this._driver=l,this._normalizer=g,this._triggerCache={},this.onRemovalComplete=(I,k)=>{},this._transitionEngine=new qE(u,l,g),this._timelineEngine=new N0(u,l,g),this._transitionEngine.onRemovalComplete=(I,k)=>this.onRemovalComplete(I,k)}registerTrigger(u,l,g,I,k){const z=u+"-"+I;let re=this._triggerCache[z];if(!re){const ge=[],pt=Et(this._driver,k,ge,[]);if(ge.length)throw function yd(p,u){return new s.wOt(3404,!1)}();re=function $E(p,u,l){return new O0(p,u,l)}(I,pt,this._normalizer),this._triggerCache[z]=re}this._transitionEngine.registerTrigger(l,I,re)}register(u,l){this._transitionEngine.register(u,l)}destroy(u,l){this._transitionEngine.destroy(u,l)}onInsert(u,l,g,I){this._transitionEngine.insertNode(u,l,g,I)}onRemove(u,l,g){this._transitionEngine.removeNode(u,l,g)}disableAnimations(u,l){this._transitionEngine.markElementAsDisabled(u,l)}process(u,l,g,I){if("@"==g.charAt(0)){const[k,z]=Iv(g);this._timelineEngine.command(k,l,z,I)}else this._transitionEngine.trigger(u,l,g,I)}listen(u,l,g,I,k){if("@"==g.charAt(0)){const[z,re]=Iv(g);return this._timelineEngine.listen(z,l,re,k)}return this._transitionEngine.listen(u,l,g,I,k)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(u){this._transitionEngine.afterFlushAnimationsDone(u)}}let U0=(()=>{class p{static{this.initialStylesByElement=new WeakMap}constructor(l,g,I){this._element=l,this._startStyles=g,this._endStyles=I,this._state=0;let k=p.initialStylesByElement.get(l);k||p.initialStylesByElement.set(l,k=new Map),this._initialStyles=k}start(){this._state<1&&(this._startStyles&&wl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wl(this._element,this._initialStyles),this._endStyles&&(wl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(kc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kc(this._element,this._endStyles),this._endStyles=null),wl(this._element,this._initialStyles),this._state=3)}}return p})();function Vv(p){let u=null;return p.forEach((l,g)=>{(function Uv(p){return"display"===p||"position"===p})(g)&&(u=u||new Map,u.set(g,l))}),u}class qm{constructor(u,l,g,I){this.element=u,this.keyframes=l,this.options=g,this._specialStyles=I,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const l=[];return u.forEach(g=>{l.push(Object.fromEntries(g))}),l}_triggerWebAnimation(u,l,g){return u.animate(this._convertKeyframesToObject(l),g)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((g,I)=>{"offset"!==I&&u.set(I,this._finished?g:Wf(this.element,I))}),this.currentSnapshot=u}triggerCallback(u){const l="start"===u?this._onStartFns:this._onDoneFns;l.forEach(g=>g()),l.length=0}}class Bv{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}matchesElement(u,l){return!1}containsElement(u,l){return ry(u,l)}getParentElement(u){return Zl(u)}query(u,l,g){return Cl(u,l,g)}computeStyle(u,l,g){return window.getComputedStyle(u)[l]}animate(u,l,g,I,k,z=[]){const ge={duration:g,delay:I,fill:0==I?"both":"forwards"};k&&(ge.easing=k);const Ge=new Map,pt=z.filter(gn=>gn instanceof qm);(function Gm(p,u){return 0===p||0===u})(g,I)&&pt.forEach(gn=>{gn.currentSnapshot.forEach((Tn,Xt)=>Ge.set(Xt,Tn))});let jt=function hg(p){return p.length?p[0]instanceof Map?p:p.map(u=>tc(u)):[]}(l).map(gn=>Ma(gn));jt=function zf(p,u,l){if(l.size&&u.length){let g=u[0],I=[];if(l.forEach((k,z)=>{g.has(z)||I.push(z),g.set(z,k)}),I.length)for(let k=1;k<u.length;k++){let z=u[k];I.forEach(re=>z.set(re,Wf(p,re)))}}return u}(u,jt,Ge);const vn=function JE(p,u){let l=null,g=null;return Array.isArray(u)&&u.length?(l=Vv(u[0]),u.length>1&&(g=Vv(u[u.length-1]))):u instanceof Map&&(l=Vv(u)),l||g?new U0(p,l,g):null}(u,jt);return new qm(u,jt,ge,vn)}}let ZE=(()=>{class p extends $i.S6{constructor(l,g){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(g.body,{id:"0",encapsulation:s.gXe.None,styles:[],data:{animation:[]}})}build(l){const g=this._nextAnimationId.toString();this._nextAnimationId++;const I=Array.isArray(l)?(0,$i.K2)(l):l;return jv(this._renderer,null,g,"register",[I]),new e0(g,this._renderer)}static{this.\u0275fac=function(g){return new(g||p)(s.KVO(s._9s),s.KVO(ae.qQ))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})();class e0 extends $i.Ro{constructor(u,l){super(),this._id=u,this._renderer=l}create(u,l){return new t0(this._id,u,l||{},this._renderer)}}class t0{constructor(u,l,g,I){this.id=u,this.element=l,this._renderer=I,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",g)}_listen(u,l){return this._renderer.listen(this.element,`@@${this.id}:${u}`,l)}_command(u,...l){return jv(this._renderer,this.element,this.id,u,l)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function jv(p,u,l,g,I){return p.setProperty(u,`@@${l}:${g}`,I)}const $v="@.disabled";let n0=(()=>{class p{constructor(l,g,I){this.delegate=l,this.engine=g,this._zone=I,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,g.onRemovalComplete=(k,z)=>{const re=z?.parentNode(k);re&&z.removeChild(re,k)}}createRenderer(l,g){const k=this.delegate.createRenderer(l,g);if(!(l&&g&&g.data&&g.data.animation)){let pt=this._rendererCache.get(k);return pt||(pt=new r0("",k,this.engine,()=>this._rendererCache.delete(k)),this._rendererCache.set(k,pt)),pt}const z=g.id,re=g.id+"-"+this._currentId;this._currentId++,this.engine.register(re,l);const ge=pt=>{Array.isArray(pt)?pt.forEach(ge):this.engine.registerTrigger(z,re,l,pt.name,pt)};return g.data.animation.forEach(ge),new B0(this,re,k,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,g,I){l>=0&&l<this._microtaskId?this._zone.run(()=>g(I)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(k=>{const[z,re]=k;z(re)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([g,I]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(g){return new(g||p)(s.KVO(s._9s),s.KVO(Km),s.KVO(s.SKi))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})();class r0{constructor(u,l,g,I){this.namespaceId=u,this.delegate=l,this.engine=g,this._onDestroy=I}get data(){return this.delegate.data}destroyNode(u){this.delegate.destroyNode?.(u)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(u,l){return this.delegate.createElement(u,l)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,l){this.delegate.appendChild(u,l),this.engine.onInsert(this.namespaceId,l,u,!1)}insertBefore(u,l,g,I=!0){this.delegate.insertBefore(u,l,g),this.engine.onInsert(this.namespaceId,l,u,I)}removeChild(u,l,g){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(u,l){return this.delegate.selectRootElement(u,l)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,l,g,I){this.delegate.setAttribute(u,l,g,I)}removeAttribute(u,l,g){this.delegate.removeAttribute(u,l,g)}addClass(u,l){this.delegate.addClass(u,l)}removeClass(u,l){this.delegate.removeClass(u,l)}setStyle(u,l,g,I){this.delegate.setStyle(u,l,g,I)}removeStyle(u,l,g){this.delegate.removeStyle(u,l,g)}setProperty(u,l,g){"@"==l.charAt(0)&&l==$v?this.disableAnimations(u,!!g):this.delegate.setProperty(u,l,g)}setValue(u,l){this.delegate.setValue(u,l)}listen(u,l,g){return this.delegate.listen(u,l,g)}disableAnimations(u,l){this.engine.disableAnimations(u,l)}}class B0 extends r0{constructor(u,l,g,I,k){super(l,g,I,k),this.factory=u,this.namespaceId=l}setProperty(u,l,g){"@"==l.charAt(0)?"."==l.charAt(1)&&l==$v?this.disableAnimations(u,g=void 0===g||!!g):this.engine.process(this.namespaceId,u,l.slice(1),g):this.delegate.setProperty(u,l,g)}listen(u,l,g){if("@"==l.charAt(0)){const I=function j0(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(u);let k=l.slice(1),z="";return"@"!=k.charAt(0)&&([k,z]=function $0(p){const u=p.indexOf(".");return[p.substring(0,u),p.slice(u+1)]}(k)),this.engine.listen(this.namespaceId,I,k,z,re=>{this.factory.scheduleListenerCallback(re._data||-1,g,re)})}return this.delegate.listen(u,l,g)}}const s0=[{provide:$i.S6,useClass:ZE},{provide:zm,useFactory:function G0(){return new P0}},{provide:Km,useClass:(()=>{class p extends Km{constructor(l,g,I,k){super(l.body,g,I)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(g){return new(g||p)(s.KVO(ae.qQ),s.KVO(ec),s.KVO(zm),s.KVO(s.o8S))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})()},{provide:s._9s,useFactory:function z0(p,u,l){return new n0(p,u,l)},deps:[de.B7,Km,s.SKi]}],Hv=[{provide:ec,useFactory:()=>new Bv},{provide:s.bc$,useValue:"BrowserAnimations"},...s0],o0=[{provide:ec,useClass:dg},{provide:s.bc$,useValue:"NoopAnimations"},...s0];let W0=(()=>{class p{static withConfig(l){return{ngModule:p,providers:l.disableAnimations?o0:Hv}}static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275mod=s.$C({type:p})}static{this.\u0275inj=s.G2t({providers:Hv,imports:[de.Bb]})}}return p})();const Gv={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","sp.sbmediahub.com":"KyQfU7hjez0uXRfAjqcu","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7","countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","www.countrycrestafh.com":"yrNc50SvfPqwTSkvvygA"};function K0(p,u,l){return()=>{const g=window.location.hostname,I=new URL(window.location.href);let k=Gv[g]||I.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("themeInitializerFactory app.module businessId: "+k+" - hostname: "+g),p.loadTheme(k)}}function q0(p,u,l){const g=window.location.hostname,I=new URL(window.location.href);let k=Gv[g]||I.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("initializeBusinessData app.module businessId:: "+k+" - hostname: "+g),()=>{p.loadBusinessData(k).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(z=>{console.error("Error loading business data:",z)})}}let a0=(()=>{class p{static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275mod=s.$C({type:p,bootstrap:[hh]})}static{this.\u0275inj=s.G2t({providers:[{provide:s.hnV,useFactory:K0,deps:[Ev,ae.aZ,dr.Ix],multi:!0},{provide:s.hnV,useFactory:q0,deps:[Nt.A,ae.aZ,dr.Ix],multi:!0}],imports:[de.Bb,dr.iI,Vy,hu.cM,ko.y5,po.X8,Qp.bf.initializeApp(Tf_firebase),kp(()=>gm(Tf_firebase)),$_(()=>yt()),yh(()=>Ff()),ci.X1,ci.YN,me,W0]})}}return p})();de.sG().bootstrapModule(a0).catch(p=>console.error(p))},4412:(rn,Je,F)=>{F.d(Je,{t:()=>de});var o=F(1413);class de extends o.B{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const ye=super._subscribe(ve);return!ye.closed&&ve.next(this._value),ye}getValue(){const{hasError:ve,thrownError:ye,_value:Re}=this;if(ve)throw ye;return this._throwIfClosed(),Re}next(ve){super.next(this._value=ve)}}},1985:(rn,Je,F)=>{F.d(Je,{c:()=>je});var o=F(7707),de=F(8359),s=F(3494),ve=F(1203),ye=F(1026),Re=F(8071),be=F(9786);let je=(()=>{class ae{constructor(_e){_e&&(this._subscribe=_e)}lift(_e){const it=new ae;return it.source=this,it.operator=_e,it}subscribe(_e,it,lt){const xt=function te(ae){return ae&&ae instanceof o.vU||function J(ae){return ae&&(0,Re.T)(ae.next)&&(0,Re.T)(ae.error)&&(0,Re.T)(ae.complete)}(ae)&&(0,de.Uv)(ae)}(_e)?_e:new o.Ms(_e,it,lt);return(0,be.Y)(()=>{const{operator:kt,source:Qt}=this;xt.add(kt?kt.call(xt,Qt):Qt?this._subscribe(xt):this._trySubscribe(xt))}),xt}_trySubscribe(_e){try{return this._subscribe(_e)}catch(it){_e.error(it)}}forEach(_e,it){return new(it=Fe(it))((lt,xt)=>{const kt=new o.Ms({next:Qt=>{try{_e(Qt)}catch(ze){xt(ze),kt.unsubscribe()}},error:xt,complete:lt});this.subscribe(kt)})}_subscribe(_e){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(_e)}[s.s](){return this}pipe(..._e){return(0,ve.m)(_e)(this)}toPromise(_e){return new(_e=Fe(_e))((it,lt)=>{let xt;this.subscribe(kt=>xt=kt,kt=>lt(kt),()=>it(xt))})}}return ae.create=Ae=>new ae(Ae),ae})();function Fe(ae){var Ae;return null!==(Ae=ae??ye.$.Promise)&&void 0!==Ae?Ae:Promise}},1413:(rn,Je,F)=>{F.d(Je,{B:()=>be});var o=F(1985),de=F(8359);const ve=(0,F(1853).L)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=F(7908),Re=F(9786);let be=(()=>{class Fe extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const ae=new je(this,this);return ae.operator=te,ae}_throwIfClosed(){if(this.closed)throw new ve}next(te){(0,Re.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(te)}})}error(te){(0,Re.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:ae}=this;for(;ae.length;)ae.shift().error(te)}})}complete(){(0,Re.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:ae,isStopped:Ae,observers:_e}=this;return ae||Ae?de.Kn:(this.currentObservers=null,_e.push(te),new de.yU(()=>{this.currentObservers=null,(0,ye.o)(_e,te)}))}_checkFinalizedStatuses(te){const{hasError:ae,thrownError:Ae,isStopped:_e}=this;ae?te.error(Ae):_e&&te.complete()}asObservable(){const te=new o.c;return te.source=this,te}}return Fe.create=(J,te)=>new je(J,te),Fe})();class je extends be{constructor(J,te){super(),this.destination=J,this.source=te}next(J){var te,ae;null===(ae=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===ae||ae.call(te,J)}error(J){var te,ae;null===(ae=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===ae||ae.call(te,J)}complete(){var J,te;null===(te=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===te||te.call(J)}_subscribe(J){var te,ae;return null!==(ae=null===(te=this.source)||void 0===te?void 0:te.subscribe(J))&&void 0!==ae?ae:de.Kn}}},7707:(rn,Je,F)=>{F.d(Je,{Ms:()=>lt,vU:()=>ae});var o=F(8071),de=F(8359),s=F(1026),ve=F(5334),ye=F(5343);const Re=Fe("C",void 0,void 0);function Fe(we,Ze,Ve){return{kind:we,value:Ze,error:Ve}}var J=F(9270),te=F(9786);class ae extends de.yU{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,de.Uv)(Ze)&&Ze.add(this)):this.destination=ze}static create(Ze,Ve,et){return new lt(Ze,Ve,et)}next(Ze){this.isStopped?Qt(function je(we){return Fe("N",we,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?Qt(function be(we){return Fe("E",void 0,we)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?Qt(Re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function _e(we,Ze){return Ae.call(we,Ze)}class it{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(Ze)}catch(et){xt(et)}}error(Ze){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(Ze)}catch(et){xt(et)}else xt(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(Ve){xt(Ve)}}}class lt extends ae{constructor(Ze,Ve,et){let $e;if(super(),(0,o.T)(Ze)||!Ze)$e={next:Ze??void 0,error:Ve??void 0,complete:et??void 0};else{let Ot;this&&s.$.useDeprecatedNextContext?(Ot=Object.create(Ze),Ot.unsubscribe=()=>this.unsubscribe(),$e={next:Ze.next&&_e(Ze.next,Ot),error:Ze.error&&_e(Ze.error,Ot),complete:Ze.complete&&_e(Ze.complete,Ot)}):$e=Ze}this.destination=new it($e)}}function xt(we){s.$.useDeprecatedSynchronousErrorHandling?(0,te.l)(we):(0,ve.m)(we)}function Qt(we,Ze){const{onStoppedNotification:Ve}=s.$;Ve&&J.f.setTimeout(()=>Ve(we,Ze))}const ze={closed:!0,next:ye.l,error:function kt(we){throw we},complete:ye.l}},8359:(rn,Je,F)=>{F.d(Je,{Kn:()=>Re,yU:()=>ye,Uv:()=>be});var o=F(8071);const s=(0,F(1853).L)(Fe=>function(te){Fe(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((ae,Ae)=>`${Ae+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var ve=F(7908);class ye{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const _e of te)_e.remove(this);else te.remove(this);const{initialTeardown:ae}=this;if((0,o.T)(ae))try{ae()}catch(_e){J=_e instanceof s?_e.errors:[_e]}const{_finalizers:Ae}=this;if(Ae){this._finalizers=null;for(const _e of Ae)try{je(_e)}catch(it){J=J??[],it instanceof s?J=[...J,...it.errors]:J.push(it)}}if(J)throw new s(J)}}add(J){var te;if(J&&J!==this)if(this.closed)je(J);else{if(J instanceof ye){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(J)}}_hasParent(J){const{_parentage:te}=this;return te===J||Array.isArray(te)&&te.includes(J)}_addParent(J){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(J),te):te?[te,J]:J}_removeParent(J){const{_parentage:te}=this;te===J?this._parentage=null:Array.isArray(te)&&(0,ve.o)(te,J)}remove(J){const{_finalizers:te}=this;te&&(0,ve.o)(te,J),J instanceof ye&&J._removeParent(this)}}ye.EMPTY=(()=>{const Fe=new ye;return Fe.closed=!0,Fe})();const Re=ye.EMPTY;function be(Fe){return Fe instanceof ye||Fe&&"closed"in Fe&&(0,o.T)(Fe.remove)&&(0,o.T)(Fe.add)&&(0,o.T)(Fe.unsubscribe)}function je(Fe){(0,o.T)(Fe)?Fe():Fe.unsubscribe()}},1026:(rn,Je,F)=>{F.d(Je,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(rn,Je,F)=>{F.d(Je,{x:()=>ye});var o=F(6365),s=F(3794),ve=F(8455);function ye(...Re){return function de(){return(0,o.U)(1)}()((0,ve.H)(Re,(0,s.lI)(Re)))}},983:(rn,Je,F)=>{F.d(Je,{w:()=>de});const de=new(F(1985).c)(ye=>ye.complete())},8455:(rn,Je,F)=>{F.d(Je,{H:()=>Ze});var o=F(8750),de=F(941),s=F(6745),Re=F(1985),je=F(4761),Fe=F(8071),J=F(5225);function ae(Ve,et){if(!Ve)throw new Error("Iterable cannot be null");return new Re.c($e=>{(0,J.N)($e,et,()=>{const Ot=Ve[Symbol.asyncIterator]();(0,J.N)($e,et,()=>{Ot.next().then(Ce=>{Ce.done?$e.complete():$e.next(Ce.value)})},0,!0)})})}var Ae=F(5055),_e=F(9858),it=F(7441),lt=F(5397),xt=F(7953),kt=F(591),Qt=F(5196);function Ze(Ve,et){return et?function we(Ve,et){if(null!=Ve){if((0,Ae.l)(Ve))return function ve(Ve,et){return(0,o.Tg)(Ve).pipe((0,s._)(et),(0,de.Q)(et))}(Ve,et);if((0,it.X)(Ve))return function be(Ve,et){return new Re.c($e=>{let Ot=0;return et.schedule(function(){Ot===Ve.length?$e.complete():($e.next(Ve[Ot++]),$e.closed||this.schedule())})})}(Ve,et);if((0,_e.y)(Ve))return function ye(Ve,et){return(0,o.Tg)(Ve).pipe((0,s._)(et),(0,de.Q)(et))}(Ve,et);if((0,xt.T)(Ve))return ae(Ve,et);if((0,lt.x)(Ve))return function te(Ve,et){return new Re.c($e=>{let Ot;return(0,J.N)($e,et,()=>{Ot=Ve[je.l](),(0,J.N)($e,et,()=>{let Ce,qt;try{({value:Ce,done:qt}=Ot.next())}catch(pn){return void $e.error(pn)}qt?$e.complete():$e.next(Ce)},0,!0)}),()=>(0,Fe.T)(Ot?.return)&&Ot.return()})}(Ve,et);if((0,Qt.U)(Ve))return function ze(Ve,et){return ae((0,Qt.C)(Ve),et)}(Ve,et)}throw(0,kt.L)(Ve)}(Ve,et):(0,o.Tg)(Ve)}},8750:(rn,Je,F)=>{F.d(Je,{Tg:()=>Ae});var o=F(1635),de=F(7441),s=F(9858),ve=F(1985),ye=F(5055),Re=F(7953),be=F(591),je=F(5397),Fe=F(5196),J=F(8071),te=F(5334),ae=F(3494);function Ae(we){if(we instanceof ve.c)return we;if(null!=we){if((0,ye.l)(we))return function _e(we){return new ve.c(Ze=>{const Ve=we[ae.s]();if((0,J.T)(Ve.subscribe))return Ve.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,de.X)(we))return function it(we){return new ve.c(Ze=>{for(let Ve=0;Ve<we.length&&!Ze.closed;Ve++)Ze.next(we[Ve]);Ze.complete()})}(we);if((0,s.y)(we))return function lt(we){return new ve.c(Ze=>{we.then(Ve=>{Ze.closed||(Ze.next(Ve),Ze.complete())},Ve=>Ze.error(Ve)).then(null,te.m)})}(we);if((0,Re.T)(we))return kt(we);if((0,je.x)(we))return function xt(we){return new ve.c(Ze=>{for(const Ve of we)if(Ze.next(Ve),Ze.closed)return;Ze.complete()})}(we);if((0,Fe.U)(we))return function Qt(we){return kt((0,Fe.C)(we))}(we)}throw(0,be.L)(we)}function kt(we){return new ve.c(Ze=>{(function ze(we,Ze){var Ve,et,$e,Ot;return(0,o.sH)(this,void 0,void 0,function*(){try{for(Ve=(0,o.xN)(we);!(et=yield Ve.next()).done;)if(Ze.next(et.value),Ze.closed)return}catch(Ce){$e={error:Ce}}finally{try{et&&!et.done&&(Ot=Ve.return)&&(yield Ot.call(Ve))}finally{if($e)throw $e.error}}Ze.complete()})})(we,Ze).catch(Ve=>Ze.error(Ve))})}},7786:(rn,Je,F)=>{F.d(Je,{h:()=>Re});var o=F(6365),de=F(8750),s=F(983),ve=F(3794),ye=F(8455);function Re(...be){const je=(0,ve.lI)(be),Fe=(0,ve.R0)(be,1/0),J=be;return J.length?1===J.length?(0,de.Tg)(J[0]):(0,o.U)(Fe)((0,ye.H)(J,je)):s.w}},7673:(rn,Je,F)=>{F.d(Je,{of:()=>s});var o=F(3794),de=F(8455);function s(...ve){const ye=(0,o.lI)(ve);return(0,de.H)(ve,ye)}},8810:(rn,Je,F)=>{F.d(Je,{$:()=>s});var o=F(1985),de=F(8071);function s(ve,ye){const Re=(0,de.T)(ve)?ve:()=>ve,be=je=>je.error(Re());return new o.c(ye?je=>ye.schedule(be,0,je):be)}},4360:(rn,Je,F)=>{F.d(Je,{_:()=>de});var o=F(7707);function de(ve,ye,Re,be,je){return new s(ve,ye,Re,be,je)}class s extends o.vU{constructor(ye,Re,be,je,Fe,J){super(ye),this.onFinalize=Fe,this.shouldUnsubscribe=J,this._next=Re?function(te){try{Re(te)}catch(ae){ye.error(ae)}}:super._next,this._error=je?function(te){try{je(te)}catch(ae){ye.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(te){ye.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Re}=this;super.unsubscribe(),!Re&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},9437:(rn,Je,F)=>{F.d(Je,{W:()=>ve});var o=F(8750),de=F(4360),s=F(9974);function ve(ye){return(0,s.N)((Re,be)=>{let J,je=null,Fe=!1;je=Re.subscribe((0,de._)(be,void 0,void 0,te=>{J=(0,o.Tg)(ye(te,ve(ye)(Re))),je?(je.unsubscribe(),je=null,J.subscribe(be)):Fe=!0})),Fe&&(je.unsubscribe(),je=null,J.subscribe(be))})}},274:(rn,Je,F)=>{F.d(Je,{H:()=>s});var o=F(1397),de=F(8071);function s(ve,ye){return(0,de.T)(ye)?(0,o.Z)(ve,ye,1):(0,o.Z)(ve,1)}},9901:(rn,Je,F)=>{F.d(Je,{U:()=>s});var o=F(9974),de=F(4360);function s(ve){return(0,o.N)((ye,Re)=>{let be=!1;ye.subscribe((0,de._)(Re,je=>{be=!0,Re.next(je)},()=>{be||Re.next(ve),Re.complete()}))})}},3294:(rn,Je,F)=>{F.d(Je,{F:()=>ve});var o=F(3669),de=F(9974),s=F(4360);function ve(Re,be=o.D){return Re=Re??ye,(0,de.N)((je,Fe)=>{let J,te=!0;je.subscribe((0,s._)(Fe,ae=>{const Ae=be(ae);(te||!Re(J,Ae))&&(te=!1,J=Ae,Fe.next(ae))}))})}function ye(Re,be){return Re===be}},5964:(rn,Je,F)=>{F.d(Je,{p:()=>s});var o=F(9974),de=F(4360);function s(ve,ye){return(0,o.N)((Re,be)=>{let je=0;Re.subscribe((0,de._)(be,Fe=>ve.call(ye,Fe,je++)&&be.next(Fe)))})}},980:(rn,Je,F)=>{F.d(Je,{j:()=>de});var o=F(9974);function de(s){return(0,o.N)((ve,ye)=>{try{ve.subscribe(ye)}finally{ye.add(s)}})}},1594:(rn,Je,F)=>{F.d(Je,{$:()=>be});var o=F(9350),de=F(5964),s=F(6697),ve=F(9901),ye=F(3774),Re=F(3669);function be(je,Fe){const J=arguments.length>=2;return te=>te.pipe(je?(0,de.p)((ae,Ae)=>je(ae,Ae,te)):Re.D,(0,s.s)(1),J?(0,ve.U)(Fe):(0,ye.v)(()=>new o.G))}},6354:(rn,Je,F)=>{F.d(Je,{T:()=>s});var o=F(9974),de=F(4360);function s(ve,ye){return(0,o.N)((Re,be)=>{let je=0;Re.subscribe((0,de._)(be,Fe=>{be.next(ve.call(ye,Fe,je++))}))})}},6365:(rn,Je,F)=>{F.d(Je,{U:()=>s});var o=F(1397),de=F(3669);function s(ve=1/0){return(0,o.Z)(de.D,ve)}},1397:(rn,Je,F)=>{F.d(Je,{Z:()=>je});var o=F(6354),de=F(8750),s=F(9974),ve=F(5225),ye=F(4360),be=F(8071);function je(Fe,J,te=1/0){return(0,be.T)(J)?je((ae,Ae)=>(0,o.T)((_e,it)=>J(ae,_e,Ae,it))((0,de.Tg)(Fe(ae,Ae))),te):("number"==typeof J&&(te=J),(0,s.N)((ae,Ae)=>function Re(Fe,J,te,ae,Ae,_e,it,lt){const xt=[];let kt=0,Qt=0,ze=!1;const we=()=>{ze&&!xt.length&&!kt&&J.complete()},Ze=et=>kt<ae?Ve(et):xt.push(et),Ve=et=>{_e&&J.next(et),kt++;let $e=!1;(0,de.Tg)(te(et,Qt++)).subscribe((0,ye._)(J,Ot=>{Ae?.(Ot),_e?Ze(Ot):J.next(Ot)},()=>{$e=!0},void 0,()=>{if($e)try{for(kt--;xt.length&&kt<ae;){const Ot=xt.shift();it?(0,ve.N)(J,it,()=>Ve(Ot)):Ve(Ot)}we()}catch(Ot){J.error(Ot)}}))};return Fe.subscribe((0,ye._)(J,Ze,()=>{ze=!0,we()})),()=>{lt?.()}}(ae,Ae,Fe,te)))}},941:(rn,Je,F)=>{F.d(Je,{Q:()=>ve});var o=F(5225),de=F(9974),s=F(4360);function ve(ye,Re=0){return(0,de.N)((be,je)=>{be.subscribe((0,s._)(je,Fe=>(0,o.N)(je,ye,()=>je.next(Fe),Re),()=>(0,o.N)(je,ye,()=>je.complete(),Re),Fe=>(0,o.N)(je,ye,()=>je.error(Fe),Re)))})}},2816:(rn,Je,F)=>{F.d(Je,{S:()=>ve});var o=F(9974),de=F(4360);function ve(ye,Re){return(0,o.N)(function s(ye,Re,be,je,Fe){return(J,te)=>{let ae=be,Ae=Re,_e=0;J.subscribe((0,de._)(te,it=>{const lt=_e++;Ae=ae?ye(Ae,it,lt):(ae=!0,it),je&&te.next(Ae)},Fe&&(()=>{ae&&te.next(Ae),te.complete()})))}}(ye,Re,arguments.length>=2,!0))}},7647:(rn,Je,F)=>{F.d(Je,{u:()=>ye});var o=F(8750),de=F(1413),s=F(7707),ve=F(9974);function ye(be={}){const{connector:je=(()=>new de.B),resetOnError:Fe=!0,resetOnComplete:J=!0,resetOnRefCountZero:te=!0}=be;return ae=>{let Ae,_e,it,lt=0,xt=!1,kt=!1;const Qt=()=>{_e?.unsubscribe(),_e=void 0},ze=()=>{Qt(),Ae=it=void 0,xt=kt=!1},we=()=>{const Ze=Ae;ze(),Ze?.unsubscribe()};return(0,ve.N)((Ze,Ve)=>{lt++,!kt&&!xt&&Qt();const et=it=it??je();Ve.add(()=>{lt--,0===lt&&!kt&&!xt&&(_e=Re(we,te))}),et.subscribe(Ve),!Ae&&lt>0&&(Ae=new s.Ms({next:$e=>et.next($e),error:$e=>{kt=!0,Qt(),_e=Re(ze,Fe,$e),et.error($e)},complete:()=>{xt=!0,Qt(),_e=Re(ze,J),et.complete()}}),(0,o.Tg)(Ze).subscribe(Ae))})(ae)}}function Re(be,je,...Fe){if(!0===je)return void be();if(!1===je)return;const J=new s.Ms({next:()=>{J.unsubscribe(),be()}});return(0,o.Tg)(je(...Fe)).subscribe(J)}},9172:(rn,Je,F)=>{F.d(Je,{Z:()=>ve});var o=F(8793),de=F(3794),s=F(9974);function ve(...ye){const Re=(0,de.lI)(ye);return(0,s.N)((be,je)=>{(Re?(0,o.x)(ye,be,Re):(0,o.x)(ye,be)).subscribe(je)})}},6745:(rn,Je,F)=>{F.d(Je,{_:()=>de});var o=F(9974);function de(s,ve=0){return(0,o.N)((ye,Re)=>{Re.add(s.schedule(()=>ye.subscribe(Re),ve))})}},5558:(rn,Je,F)=>{F.d(Je,{n:()=>ve});var o=F(8750),de=F(9974),s=F(4360);function ve(ye,Re){return(0,de.N)((be,je)=>{let Fe=null,J=0,te=!1;const ae=()=>te&&!Fe&&je.complete();be.subscribe((0,s._)(je,Ae=>{Fe?.unsubscribe();let _e=0;const it=J++;(0,o.Tg)(ye(Ae,it)).subscribe(Fe=(0,s._)(je,lt=>je.next(Re?Re(Ae,lt,it,_e++):lt),()=>{Fe=null,ae()}))},()=>{te=!0,ae()}))})}},6697:(rn,Je,F)=>{F.d(Je,{s:()=>ve});var o=F(983),de=F(9974),s=F(4360);function ve(ye){return ye<=0?()=>o.w:(0,de.N)((Re,be)=>{let je=0;Re.subscribe((0,s._)(be,Fe=>{++je<=ye&&(be.next(Fe),ye<=je&&be.complete())}))})}},8141:(rn,Je,F)=>{F.d(Je,{M:()=>ye});var o=F(8071),de=F(9974),s=F(4360),ve=F(3669);function ye(Re,be,je){const Fe=(0,o.T)(Re)||be||je?{next:Re,error:be,complete:je}:Re;return Fe?(0,de.N)((J,te)=>{var ae;null===(ae=Fe.subscribe)||void 0===ae||ae.call(Fe);let Ae=!0;J.subscribe((0,s._)(te,_e=>{var it;null===(it=Fe.next)||void 0===it||it.call(Fe,_e),te.next(_e)},()=>{var _e;Ae=!1,null===(_e=Fe.complete)||void 0===_e||_e.call(Fe),te.complete()},_e=>{var it;Ae=!1,null===(it=Fe.error)||void 0===it||it.call(Fe,_e),te.error(_e)},()=>{var _e,it;Ae&&(null===(_e=Fe.unsubscribe)||void 0===_e||_e.call(Fe)),null===(it=Fe.finalize)||void 0===it||it.call(Fe)}))}):ve.D}},3774:(rn,Je,F)=>{F.d(Je,{v:()=>ve});var o=F(9350),de=F(9974),s=F(4360);function ve(Re=ye){return(0,de.N)((be,je)=>{let Fe=!1;be.subscribe((0,s._)(je,J=>{Fe=!0,je.next(J)},()=>Fe?je.complete():je.error(Re())))})}function ye(){return new o.G}},6780:(rn,Je,F)=>{F.d(Je,{R:()=>ye});var o=F(8359);class de extends o.yU{constructor(be,je){super()}schedule(be,je=0){return this}}const s={setInterval(Re,be,...je){const{delegate:Fe}=s;return Fe?.setInterval?Fe.setInterval(Re,be,...je):setInterval(Re,be,...je)},clearInterval(Re){const{delegate:be}=s;return(be?.clearInterval||clearInterval)(Re)},delegate:void 0};var ve=F(7908);class ye extends de{constructor(be,je){super(be,je),this.scheduler=be,this.work=je,this.pending=!1}schedule(be,je=0){var Fe;if(this.closed)return this;this.state=be;const J=this.id,te=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(te,J,je)),this.pending=!0,this.delay=je,this.id=null!==(Fe=this.id)&&void 0!==Fe?Fe:this.requestAsyncId(te,this.id,je),this}requestAsyncId(be,je,Fe=0){return s.setInterval(be.flush.bind(be,this),Fe)}recycleAsyncId(be,je,Fe=0){if(null!=Fe&&this.delay===Fe&&!1===this.pending)return je;null!=je&&s.clearInterval(je)}execute(be,je){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(be,je);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,je){let J,Fe=!1;try{this.work(be)}catch(te){Fe=!0,J=te||new Error("Scheduled action threw falsy error")}if(Fe)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:be,scheduler:je}=this,{actions:Fe}=je;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.o)(Fe,this),null!=be&&(this.id=this.recycleAsyncId(je,be,null)),this.delay=null,super.unsubscribe()}}}},9687:(rn,Je,F)=>{F.d(Je,{q:()=>s});var o=F(6129);class de{constructor(ye,Re=de.now){this.schedulerActionCtor=ye,this.now=Re}schedule(ye,Re=0,be){return new this.schedulerActionCtor(this,ye).schedule(be,Re)}}de.now=o.U.now;class s extends de{constructor(ye,Re=de.now){super(ye,Re),this.actions=[],this._active=!1}flush(ye){const{actions:Re}=this;if(this._active)return void Re.push(ye);let be;this._active=!0;do{if(be=ye.execute(ye.state,ye.delay))break}while(ye=Re.shift());if(this._active=!1,be){for(;ye=Re.shift();)ye.unsubscribe();throw be}}}},3236:(rn,Je,F)=>{F.d(Je,{E:()=>s});var o=F(6780);const s=new(F(9687).q)(o.R)},6129:(rn,Je,F)=>{F.d(Je,{U:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},9270:(rn,Je,F)=>{F.d(Je,{f:()=>o});const o={setTimeout(de,s,...ve){const{delegate:ye}=o;return ye?.setTimeout?ye.setTimeout(de,s,...ve):setTimeout(de,s,...ve)},clearTimeout(de){const{delegate:s}=o;return(s?.clearTimeout||clearTimeout)(de)},delegate:void 0}},4761:(rn,Je,F)=>{F.d(Je,{l:()=>de});const de=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(rn,Je,F)=>{F.d(Je,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(rn,Je,F)=>{F.d(Je,{G:()=>de});const de=(0,F(1853).L)(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(rn,Je,F)=>{F.d(Je,{R0:()=>Re,ms:()=>ve,lI:()=>ye});var o=F(8071);function s(be){return be[be.length-1]}function ve(be){return(0,o.T)(s(be))?be.pop():void 0}function ye(be){return function de(be){return be&&(0,o.T)(be.schedule)}(s(be))?be.pop():void 0}function Re(be,je){return"number"==typeof s(be)?be.pop():je}},3073:(rn,Je,F)=>{F.d(Je,{D:()=>ye});const{isArray:o}=Array,{getPrototypeOf:de,prototype:s,keys:ve}=Object;function ye(be){if(1===be.length){const je=be[0];if(o(je))return{args:je,keys:null};if(function Re(be){return be&&"object"==typeof be&&de(be)===s}(je)){const Fe=ve(je);return{args:Fe.map(J=>je[J]),keys:Fe}}}return{args:be,keys:null}}},7908:(rn,Je,F)=>{function o(de,s){if(de){const ve=de.indexOf(s);0<=ve&&de.splice(ve,1)}}F.d(Je,{o:()=>o})},1853:(rn,Je,F)=>{function o(de){const ve=de(ye=>{Error.call(ye),ye.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}F.d(Je,{L:()=>o})},8496:(rn,Je,F)=>{function o(de,s){return de.reduce((ve,ye,Re)=>(ve[ye]=s[Re],ve),{})}F.d(Je,{e:()=>o})},9786:(rn,Je,F)=>{F.d(Je,{Y:()=>s,l:()=>ve});var o=F(1026);let de=null;function s(ye){if(o.$.useDeprecatedSynchronousErrorHandling){const Re=!de;if(Re&&(de={errorThrown:!1,error:null}),ye(),Re){const{errorThrown:be,error:je}=de;if(de=null,be)throw je}}else ye()}function ve(ye){o.$.useDeprecatedSynchronousErrorHandling&&de&&(de.errorThrown=!0,de.error=ye)}},5225:(rn,Je,F)=>{function o(de,s,ve,ye=0,Re=!1){const be=s.schedule(function(){ve(),Re?de.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(de.add(be),!Re)return be}F.d(Je,{N:()=>o})},3669:(rn,Je,F)=>{function o(de){return de}F.d(Je,{D:()=>o})},7441:(rn,Je,F)=>{F.d(Je,{X:()=>o});const o=de=>de&&"number"==typeof de.length&&"function"!=typeof de},7953:(rn,Je,F)=>{F.d(Je,{T:()=>de});var o=F(8071);function de(s){return Symbol.asyncIterator&&(0,o.T)(s?.[Symbol.asyncIterator])}},8071:(rn,Je,F)=>{function o(de){return"function"==typeof de}F.d(Je,{T:()=>o})},5055:(rn,Je,F)=>{F.d(Je,{l:()=>s});var o=F(3494),de=F(8071);function s(ve){return(0,de.T)(ve[o.s])}},5397:(rn,Je,F)=>{F.d(Je,{x:()=>s});var o=F(4761),de=F(8071);function s(ve){return(0,de.T)(ve?.[o.l])}},9858:(rn,Je,F)=>{F.d(Je,{y:()=>de});var o=F(8071);function de(s){return(0,o.T)(s?.then)}},5196:(rn,Je,F)=>{F.d(Je,{C:()=>s,U:()=>ve});var o=F(1635),de=F(8071);function s(ye){return(0,o.AQ)(this,arguments,function*(){const be=ye.getReader();try{for(;;){const{value:je,done:Fe}=yield(0,o.N3)(be.read());if(Fe)return yield(0,o.N3)(void 0);yield yield(0,o.N3)(je)}}finally{be.releaseLock()}})}function ve(ye){return(0,de.T)(ye?.getReader)}},9974:(rn,Je,F)=>{F.d(Je,{N:()=>s,S:()=>de});var o=F(8071);function de(ve){return(0,o.T)(ve?.lift)}function s(ve){return ye=>{if(de(ye))return ye.lift(function(Re){try{return ve(Re,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(rn,Je,F)=>{F.d(Je,{I:()=>ve});var o=F(6354);const{isArray:de}=Array;function ve(ye){return(0,o.T)(Re=>function s(ye,Re){return de(Re)?ye(...Re):ye(Re)}(ye,Re))}},5343:(rn,Je,F)=>{function o(){}F.d(Je,{l:()=>o})},1203:(rn,Je,F)=>{F.d(Je,{F:()=>de,m:()=>s});var o=F(3669);function de(...ve){return s(ve)}function s(ve){return 0===ve.length?o.D:1===ve.length?ve[0]:function(Re){return ve.reduce((be,je)=>je(be),Re)}}},5334:(rn,Je,F)=>{F.d(Je,{m:()=>s});var o=F(1026),de=F(9270);function s(ve){de.f.setTimeout(()=>{const{onUnhandledError:ye}=o.$;if(!ye)throw ve;ye(ve)})}},591:(rn,Je,F)=>{function o(de){return new TypeError(`You provided ${null!==de&&"object"==typeof de?"an invalid object":`'${de}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Je,{L:()=>o})},9969:(rn,Je,F)=>{F.d(Je,{FX:()=>Qt,K2:()=>be,Ro:()=>de,S6:()=>o,hZ:()=>ve,i0:()=>ye,iF:()=>je,kY:()=>te,kp:()=>s,sf:()=>xt,ui:()=>kt});class o{}class de{}const s="*";function ve(ze,we){return{type:7,name:ze,definitions:we,options:{}}}function ye(ze,we=null){return{type:4,styles:we,timings:ze}}function be(ze,we=null){return{type:2,steps:ze,options:we}}function je(ze){return{type:6,styles:ze,offset:null}}function te(ze,we,Ze=null){return{type:1,expr:ze,animation:we,options:Ze}}class xt{constructor(we=0,Ze=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=we+Ze}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}onStart(we){this._originalOnStartFns.push(we),this._onStartFns.push(we)}onDone(we){this._originalOnDoneFns.push(we),this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(we=>we()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(we){this._position=this.totalTime?we*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(we){const Ze="start"==we?this._onStartFns:this._onDoneFns;Ze.forEach(Ve=>Ve()),Ze.length=0}}class kt{constructor(we){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=we;let Ze=0,Ve=0,et=0;const $e=this.players.length;0==$e?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ot=>{Ot.onDone(()=>{++Ze==$e&&this._onFinish()}),Ot.onDestroy(()=>{++Ve==$e&&this._onDestroy()}),Ot.onStart(()=>{++et==$e&&this._onStart()})}),this.totalTime=this.players.reduce((Ot,Ce)=>Math.max(Ot,Ce.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}init(){this.players.forEach(we=>we.init())}onStart(we){this._onStartFns.push(we)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(we=>we()),this._onStartFns=[])}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(we=>we.play())}pause(){this.players.forEach(we=>we.pause())}restart(){this.players.forEach(we=>we.restart())}finish(){this._onFinish(),this.players.forEach(we=>we.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(we=>we.destroy()),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this.players.forEach(we=>we.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(we){const Ze=we*this.totalTime;this.players.forEach(Ve=>{const et=Ve.totalTime?Math.min(1,Ze/Ve.totalTime):1;Ve.setPosition(et)})}getPosition(){const we=this.players.reduce((Ze,Ve)=>null===Ze||Ve.totalTime>Ze.totalTime?Ve:Ze,null);return null!=we?we.getPosition():0}beforeDestroy(){this.players.forEach(we=>{we.beforeDestroy&&we.beforeDestroy()})}triggerCallback(we){const Ze="start"==we?this._onStartFns:this._onDoneFns;Ze.forEach(Ve=>Ve()),Ze.length=0}}const Qt="!"},177:(rn,Je,F)=>{F.d(Je,{AJ:()=>Fr,B3:()=>Ar,Jj:()=>Pi,MD:()=>Mi,N0:()=>An,P9:()=>rs,QT:()=>s,QX:()=>ei,Sm:()=>it,Sq:()=>Ki,VF:()=>ye,Vy:()=>Ss,Xr:()=>Le,YU:()=>hr,ZD:()=>ve,_b:()=>cn,aZ:()=>xt,bT:()=>Io,e1:()=>es,fG:()=>bs,fw:()=>lt,hb:()=>Ae,hj:()=>je,lG:()=>Is,qQ:()=>Re,ux:()=>di});var o=F(7705);let de=null;function s(){return de}function ve(P){de||(de=P)}class ye{}const Re=new o.nKC("DocumentToken");let be=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(Fe)},providedIn:"platform"})}}return P})();const je=new o.nKC("Location Initialized");let Fe=(()=>{class P extends be{constructor(){super(),this._doc=(0,o.WQX)(Re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(j){const Y=s().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",j,!1),()=>Y.removeEventListener("popstate",j)}onHashChange(j){const Y=s().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",j,!1),()=>Y.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,Y,xe){this._history.pushState(j,Y,xe)}replaceState(j,Y,xe){this._history.replaceState(j,Y,xe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return new P},providedIn:"platform"})}}return P})();function J(P,ne){if(0==P.length)return ne;if(0==ne.length)return P;let j=0;return P.endsWith("/")&&j++,ne.startsWith("/")&&j++,2==j?P+ne.substring(1):1==j?P+ne:P+"/"+ne}function te(P){const ne=P.match(/#|\?|$/),j=ne&&ne.index||P.length;return P.slice(0,j-("/"===P[j-1]?1:0))+P.slice(j)}function ae(P){return P&&"?"!==P[0]?"?"+P:P}let Ae=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(it)},providedIn:"root"})}}return P})();const _e=new o.nKC("appBaseHref");let it=(()=>{class P extends Ae{constructor(j,Y){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,o.WQX)(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return J(this._baseHref,j)}path(j=!1){const Y=this._platformLocation.pathname+ae(this._platformLocation.search),xe=this._platformLocation.hash;return xe&&j?`${Y}${xe}`:Y}pushState(j,Y,xe,Dt){const Vt=this.prepareExternalUrl(xe+ae(Dt));this._platformLocation.pushState(j,Y,Vt)}replaceState(j,Y,xe,Dt){const Vt=this.prepareExternalUrl(xe+ae(Dt));this._platformLocation.replaceState(j,Y,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(be),o.KVO(_e,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})(),lt=(()=>{class P extends Ae{constructor(j,Y){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(j){const Y=J(this._baseHref,j);return Y.length>0?"#"+Y:Y}pushState(j,Y,xe,Dt){let Vt=this.prepareExternalUrl(xe+ae(Dt));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.pushState(j,Y,Vt)}replaceState(j,Y,xe,Dt){let Vt=this.prepareExternalUrl(xe+ae(Dt));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.replaceState(j,Y,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(be),o.KVO(_e,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac})}}return P})(),xt=(()=>{class P{constructor(j){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const Y=this._locationStrategy.getBaseHref();this._basePath=function we(P){if(new RegExp("^(https?:)?//").test(P)){const[,j]=P.split(/\/\/[^\/]+/);return j}return P}(te(ze(Y))),this._locationStrategy.onPopState(xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:xe.state,type:xe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,Y=""){return this.path()==this.normalize(j+ae(Y))}normalize(j){return P.stripTrailingSlash(function Qt(P,ne){if(!P||!ne.startsWith(P))return ne;const j=ne.substring(P.length);return""===j||["/",";","?","#"].includes(j[0])?j:ne}(this._basePath,ze(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,Y="",xe=null){this._locationStrategy.pushState(xe,"",j,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+ae(Y)),xe)}replaceState(j,Y="",xe=null){this._locationStrategy.replaceState(xe,"",j,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+ae(Y)),xe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",Y){this._urlChangeListeners.forEach(xe=>xe(j,Y))}subscribe(j,Y,xe){return this._subject.subscribe({next:j,error:Y,complete:xe})}static{this.normalizeQueryParams=ae}static{this.joinWithSlash=J}static{this.stripTrailingSlash=te}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(Ae))}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return function kt(){return new xt((0,o.KVO)(Ae))}()},providedIn:"root"})}}return P})();function ze(P){return P.replace(/\/index.html$/,"")}var Ve=function(P){return P[P.Decimal=0]="Decimal",P[P.Percent=1]="Percent",P[P.Currency=2]="Currency",P[P.Scientific=3]="Scientific",P}(Ve||{}),qt=function(P){return P[P.Decimal=0]="Decimal",P[P.Group=1]="Group",P[P.List=2]="List",P[P.PercentSign=3]="PercentSign",P[P.PlusSign=4]="PlusSign",P[P.MinusSign=5]="MinusSign",P[P.Exponential=6]="Exponential",P[P.SuperscriptingExponent=7]="SuperscriptingExponent",P[P.PerMille=8]="PerMille",P[P.Infinity=9]="Infinity",P[P.NaN=10]="NaN",P[P.TimeSeparator=11]="TimeSeparator",P[P.CurrencyDecimal=12]="CurrencyDecimal",P[P.CurrencyGroup=13]="CurrencyGroup",P}(qt||{});function Ie(P,ne){const j=(0,o.H5H)(P),Y=j[o.KH2.NumberSymbols][ne];if(typeof Y>"u"){if(ne===qt.CurrencyDecimal)return j[o.KH2.NumberSymbols][qt.Decimal];if(ne===qt.CurrencyGroup)return j[o.KH2.NumberSymbols][qt.Group]}return Y}const L=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function sr(P){const ne=parseInt(P);if(isNaN(ne))throw new Error("Invalid integer literal when parsing "+P);return ne}function cn(P,ne){ne=encodeURIComponent(ne);for(const j of P.split(";")){const Y=j.indexOf("="),[xe,Dt]=-1==Y?[j,""]:[j.slice(0,Y),j.slice(Y+1)];if(xe.trim()===ne)return decodeURIComponent(Dt)}return null}const Bn=/\s+/,Ln=[];let hr=(()=>{class P{constructor(j,Y,xe,Dt){this._iterableDiffers=j,this._keyValueDiffers=Y,this._ngEl=xe,this._renderer=Dt,this.initialClasses=Ln,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Bn):Ln}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Bn):j}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const Y of j)this._updateState(Y,!0);else if(null!=j)for(const Y of Object.keys(j))this._updateState(Y,!!j[Y]);this._applyStateDiff()}_updateState(j,Y){const xe=this.stateMap.get(j);void 0!==xe?(xe.enabled!==Y&&(xe.changed=!0,xe.enabled=Y),xe.touched=!0):this.stateMap.set(j,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const Y=j[0],xe=j[1];xe.changed?(this._toggleClass(Y,xe.enabled),xe.changed=!1):xe.touched||(xe.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),xe.touched=!1}}_toggleClass(j,Y){(j=j.trim()).length>0&&j.split(Bn).forEach(xe=>{Y?this._renderer.addClass(this._ngEl.nativeElement,xe):this._renderer.removeClass(this._ngEl.nativeElement,xe)})}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o._q3),o.rXU(o.MKu),o.rXU(o.aKT),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return P})();class mr{constructor(ne,j,Y,xe){this.$implicit=ne,this.ngForOf=j,this.index=Y,this.count=xe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ki=(()=>{class P{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,Y,xe){this._viewContainer=j,this._template=Y,this._differs=xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const Y=this._viewContainer;j.forEachOperation((xe,Dt,Vt)=>{if(null==xe.previousIndex)Y.createEmbeddedView(this._template,new mr(xe.item,this._ngForOf,-1,-1),null===Vt?void 0:Vt);else if(null==Vt)Y.remove(null===Dt?void 0:Dt);else if(null!==Dt){const Un=Y.get(Dt);Y.move(Un,Vt),Fs(Un,xe)}});for(let xe=0,Dt=Y.length;xe<Dt;xe++){const Un=Y.get(xe).context;Un.index=xe,Un.count=Dt,Un.ngForOf=this._ngForOf}j.forEachIdentityChange(xe=>{Fs(Y.get(xe.currentIndex),xe)})}static ngTemplateContextGuard(j,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return P})();function Fs(P,ne){P.context.$implicit=ne.item}let Io=(()=>{class P{constructor(j,Y){this._viewContainer=j,this._context=new Co,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){ji("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){ji("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return P})();class Co{constructor(){this.$implicit=null,this.ngIf=null}}function ji(P,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,o.Tbb)(ne)}'.`)}class jo{constructor(ne,j){this._viewContainerRef=ne,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ne){ne&&!this._created?this.create():!ne&&this._created&&this.destroy()}}let di=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const Y=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const Y of this._defaultViews)Y.enforceState(j)}}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return P})(),es=(()=>{class P{constructor(j,Y,xe){this.ngSwitch=xe,xe._addCase(),this._view=new jo(j,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(di,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return P})(),bs=(()=>{class P{constructor(j,Y,xe){xe._addDefault(new jo(j,Y))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(di,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return P})(),Ar=(()=>{class P{constructor(j,Y,xe){this._ngEl=j,this._differs=Y,this._renderer=xe,this._ngStyle=null,this._differ=null}set ngStyle(j){this._ngStyle=j,!this._differ&&j&&(this._differ=this._differs.find(j).create())}ngDoCheck(){if(this._differ){const j=this._differ.diff(this._ngStyle);j&&this._applyChanges(j)}}_setStyle(j,Y){const[xe,Dt]=j.split("."),Vt=-1===xe.indexOf("-")?void 0:o.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,xe,Dt?`${Y}${Dt}`:Y,Vt):this._renderer.removeStyle(this._ngEl.nativeElement,xe,Vt)}_applyChanges(j){j.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),j.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),j.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.aKT),o.rXU(o.MKu),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return P})();function gi(P,ne){return new o.wOt(2100,!1)}class Oa{createSubscription(ne,j){return(0,o.O8t)(()=>ne.subscribe({next:j,error:Y=>{throw Y}}))}dispose(ne){(0,o.O8t)(()=>ne.unsubscribe())}}class Xa{createSubscription(ne,j){return ne.then(j,Y=>{throw Y})}dispose(ne){}}const xr=new Xa,us=new Oa;let Pi=(()=>{class P{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,Y=>this._updateLatestValue(j,Y))}_selectStrategy(j){if((0,o.jNT)(j))return xr;if((0,o.zjR)(j))return us;throw gi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,Y){j===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.gRc,16))}}static{this.\u0275pipe=o.EJ8({name:"async",type:P,pure:!1,standalone:!0})}}return P})(),Is=(()=>{class P{constructor(j){this.differs=j,this.keyValues=[],this.compareFn=Ls}transform(j,Y=Ls){if(!j||!(j instanceof Map)&&"object"!=typeof j)return null;this.differ||(this.differ=this.differs.find(j).create());const xe=this.differ.diff(j),Dt=Y!==this.compareFn;return xe&&(this.keyValues=[],xe.forEachItem(Vt=>{this.keyValues.push(function Yi(P,ne){return{key:P,value:ne}}(Vt.key,Vt.currentValue))})),(xe||Dt)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.MKu,16))}}static{this.\u0275pipe=o.EJ8({name:"keyvalue",type:P,pure:!1,standalone:!0})}}return P})();function Ls(P,ne){const j=P.key,Y=ne.key;if(j===Y)return 0;if(void 0===j)return 1;if(void 0===Y)return-1;if(null===j)return 1;if(null===Y)return-1;if("string"==typeof j&&"string"==typeof Y)return j<Y?-1:1;if("number"==typeof j&&"number"==typeof Y)return j-Y;if("boolean"==typeof j&&"boolean"==typeof Y)return j<Y?-1:1;const xe=String(j),Dt=String(Y);return xe==Dt?0:xe<Dt?-1:1}let ei=(()=>{class P{constructor(j){this._locale=j}transform(j,Y,xe){if(!function cr(P){return!(null==P||""===P||P!=P)}(j))return null;xe=xe||this._locale;try{return function $s(P,ne,j){return function ln(P,ne,j,Y,xe,Dt,Vt=!1){let Un="",qr=!1;if(isFinite(P)){let hi=function Es(P){let Y,xe,Dt,Vt,Un,ne=Math.abs(P)+"",j=0;for((xe=ne.indexOf("."))>-1&&(ne=ne.replace(".","")),(Dt=ne.search(/e/i))>0?(xe<0&&(xe=Dt),xe+=+ne.slice(Dt+1),ne=ne.substring(0,Dt)):xe<0&&(xe=ne.length),Dt=0;"0"===ne.charAt(Dt);Dt++);if(Dt===(Un=ne.length))Y=[0],xe=1;else{for(Un--;"0"===ne.charAt(Un);)Un--;for(xe-=Dt,Y=[],Vt=0;Dt<=Un;Dt++,Vt++)Y[Vt]=Number(ne.charAt(Dt))}return xe>22&&(Y=Y.splice(0,21),j=xe-1,xe=1),{digits:Y,exponent:j,integerLen:xe}}(P);Vt&&(hi=function vs(P){if(0===P.digits[0])return P;const ne=P.digits.length-P.integerLen;return P.exponent?P.exponent+=2:(0===ne?P.digits.push(0,0):1===ne&&P.digits.push(0),P.integerLen+=2),P}(hi));let Nr=ne.minInt,er=ne.minFrac,Ur=ne.maxFrac;if(Dt){const Os=Dt.match(L);if(null===Os)throw new Error(`${Dt} is not a valid digit info`);const zo=Os[1],Ci=Os[3],Qi=Os[5];null!=zo&&(Nr=sr(zo)),null!=Ci&&(er=sr(Ci)),null!=Qi?Ur=sr(Qi):null!=Ci&&er>Ur&&(Ur=er)}!function yi(P,ne,j){if(ne>j)throw new Error(`The minimum number of digits after fraction (${ne}) is higher than the maximum (${j}).`);let Y=P.digits,xe=Y.length-P.integerLen;const Dt=Math.min(Math.max(ne,xe),j);let Vt=Dt+P.integerLen,Un=Y[Vt];if(Vt>0){Y.splice(Math.max(P.integerLen,Vt));for(let er=Vt;er<Y.length;er++)Y[er]=0}else{xe=Math.max(0,xe),P.integerLen=1,Y.length=Math.max(1,Vt=Dt+1),Y[0]=0;for(let er=1;er<Vt;er++)Y[er]=0}if(Un>=5)if(Vt-1<0){for(let er=0;er>Vt;er--)Y.unshift(0),P.integerLen++;Y.unshift(1),P.integerLen++}else Y[Vt-1]++;for(;xe<Math.max(0,Dt);xe++)Y.push(0);let qr=0!==Dt;const hi=ne+P.integerLen,Nr=Y.reduceRight(function(er,Ur,Yr,wi){return wi[Yr]=(Ur+=er)<10?Ur:Ur-10,qr&&(0===wi[Yr]&&Yr>=hi?wi.pop():qr=!1),Ur>=10?1:0},0);Nr&&(Y.unshift(Nr),P.integerLen++)}(hi,er,Ur);let Yr=hi.digits,wi=hi.integerLen;const Hs=hi.exponent;let ls=[];for(qr=Yr.every(Os=>!Os);wi<Nr;wi++)Yr.unshift(0);for(;wi<0;wi++)Yr.unshift(0);wi>0?ls=Yr.splice(wi,Yr.length):(ls=Yr,Yr=[0]);const Go=[];for(Yr.length>=ne.lgSize&&Go.unshift(Yr.splice(-ne.lgSize,Yr.length).join(""));Yr.length>ne.gSize;)Go.unshift(Yr.splice(-ne.gSize,Yr.length).join(""));Yr.length&&Go.unshift(Yr.join("")),Un=Go.join(Ie(j,Y)),ls.length&&(Un+=Ie(j,xe)+ls.join("")),Hs&&(Un+=Ie(j,qt.Exponential)+"+"+Hs)}else Un=Ie(j,qt.Infinity);return Un=P<0&&!qr?ne.negPre+Un+ne.negSuf:ne.posPre+Un+ne.posSuf,Un}(P,function Fi(P,ne="-"){const j={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Y=P.split(";"),xe=Y[0],Dt=Y[1],Vt=-1!==xe.indexOf(".")?xe.split("."):[xe.substring(0,xe.lastIndexOf("0")+1),xe.substring(xe.lastIndexOf("0")+1)],Un=Vt[0],qr=Vt[1]||"";j.posPre=Un.substring(0,Un.indexOf("#"));for(let Nr=0;Nr<qr.length;Nr++){const er=qr.charAt(Nr);"0"===er?j.minFrac=j.maxFrac=Nr+1:"#"===er?j.maxFrac=Nr+1:j.posSuf+=er}const hi=Un.split(",");if(j.gSize=hi[1]?hi[1].length:0,j.lgSize=hi[2]||hi[1]?(hi[2]||hi[1]).length:0,Dt){const Nr=xe.length-j.posPre.length-j.posSuf.length,er=Dt.indexOf("#");j.negPre=Dt.substring(0,er).replace(/'/g,""),j.negSuf=Dt.slice(er+Nr).replace(/'/g,"")}else j.negPre=ne+j.posPre,j.negSuf=j.posSuf;return j}(function ke(P,ne){return(0,o.H5H)(P)[o.KH2.NumberFormats][ne]}(ne,Ve.Decimal),Ie(ne,qt.MinusSign)),ne,qt.Group,qt.Decimal,j)}(function Xi(P){if("string"==typeof P&&!isNaN(Number(P)-parseFloat(P)))return Number(P);if("number"!=typeof P)throw new Error(`${P} is not a number`);return P}(j),xe,Y)}catch(Dt){throw gi()}}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.xe9,16))}}static{this.\u0275pipe=o.EJ8({name:"number",type:P,pure:!0,standalone:!0})}}return P})();let rs=(()=>{class P{transform(j,Y,xe){if(null==j)return null;if(!this.supports(j))throw gi();return j.slice(Y,xe)}supports(j){return"string"==typeof j||Array.isArray(j)}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275pipe=o.EJ8({name:"slice",type:P,pure:!1,standalone:!0})}}return P})(),Mi=(()=>{class P{static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275mod=o.$C({type:P})}static{this.\u0275inj=o.G2t({})}}return P})();const Fr="browser",vi="server";function Ss(P){return P===vi}let Le=(()=>{class P{static{this.\u0275prov=(0,o.jDH)({token:P,providedIn:"root",factory:()=>new tt((0,o.KVO)(Re),window)})}}return P})();class tt{constructor(ne,j){this.document=ne,this.window=j,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const j=function It(P,ne){const j=P.getElementById(ne)||P.getElementsByName(ne)[0];if(j)return j;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const Y=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let xe=Y.currentNode;for(;xe;){const Dt=xe.shadowRoot;if(Dt){const Vt=Dt.getElementById(ne)||Dt.querySelector(`[name="${ne}"]`);if(Vt)return Vt}xe=Y.nextNode()}}return null}(this.document,ne);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const j=ne.getBoundingClientRect(),Y=j.left+this.window.pageXOffset,xe=j.top+this.window.pageYOffset,Dt=this.offset();this.window.scrollTo(Y-Dt[0],xe-Dt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class An{}},7705:(rn,Je,F)=>{F.d(Je,{$C:()=>fr,$GK:()=>bn,$K3:()=>_I,$MX:()=>ci,AVh:()=>Ov,Agw:()=>hm,B4B:()=>Mp,BIS:()=>Hy,BMQ:()=>ag,C4Q:()=>Qv,C5r:()=>JT,Co$:()=>lT,DNE:()=>Fc,EFF:()=>Km,EJ8:()=>ns,EmA:()=>lh,FS9:()=>ma,FsC:()=>As,G2t:()=>Jt,GBs:()=>WT,GFd:()=>ty,H3F:()=>mI,H5H:()=>Xt,H8p:()=>yf,HJs:()=>eD,HbH:()=>rc,Hbi:()=>jA,JRh:()=>Uv,JZv:()=>zn,Jv_:()=>aT,KH2:()=>qn,KVO:()=>Mt,Kcf:()=>Dy,L39:()=>JA,LfX:()=>On,Lme:()=>Bv,MKu:()=>Nb,Mz_:()=>Vo,NEm:()=>_A,NYb:()=>fA,Njj:()=>fs,O8t:()=>Dt,OA$:()=>er,OM3:()=>Ac,Ocv:()=>$w,Ol2:()=>uT,PLl:()=>$y,QTQ:()=>d,Ql9:()=>zw,QuC:()=>Ds,R7$:()=>AE,RV6:()=>nc,Rfq:()=>it,RxE:()=>Ky,SKi:()=>Eo,SpI:()=>qm,TL$:()=>qg,Tbb:()=>ae,UyX:()=>Ap,VBU:()=>Xa,Vns:()=>Qm,Vt3:()=>Z_,WHO:()=>bI,WPN:()=>ld,WQX:()=>fn,XpG:()=>go,Xx1:()=>yl,Y8G:()=>Ph,Z63:()=>hu,ZF7:()=>oh,_9s:()=>Bp,_q3:()=>Ob,aKT:()=>ph,aNF:()=>dT,bIt:()=>q,bMT:()=>MT,bVm:()=>gg,bc$:()=>bf,bkB:()=>Pc,brH:()=>OT,c1b:()=>m0,cWb:()=>Qg,czy:()=>qd,e01:()=>TI,e5t:()=>Sp,eBV:()=>Ko,eq3:()=>vT,eu8:()=>Lc,fpN:()=>BA,gRc:()=>AA,gXe:()=>Es,giA:()=>II,h9k:()=>Pp,hnV:()=>gI,i5U:()=>xT,iLQ:()=>Db,j41:()=>zf,jDH:()=>sn,jNT:()=>E,k0s:()=>lo,kS0:()=>Wu,kdw:()=>ru,l4e:()=>CT,lJ4:()=>yT,lNU:()=>ze,l_i:()=>ET,lsd:()=>qT,mGM:()=>zT,mq5:()=>yr,n$t:()=>C_,nI1:()=>PT,nKC:()=>hn,naY:()=>wA,npT:()=>im,nrm:()=>Wf,o8S:()=>yy,oH4:()=>DI,osQ:()=>Dp,plB:()=>_b,qex:()=>pg,rXU:()=>vu,rcV:()=>Tc,s1E:()=>IT,sFG:()=>aE,sMw:()=>bT,sZ2:()=>R_,sdS:()=>Hm,tSv:()=>nv,uvJ:()=>Xr,w6W:()=>FC,wOt:()=>we,wni:()=>KT,xGo:()=>pc,xc7:()=>xv,xe9:()=>y0,xvI:()=>qy,zZn:()=>Dc,zcH:()=>Tl,ziG:()=>TT,zjR:()=>B});var o=F(1413),de=F(8359),s=F(1985),ve=F(7786),ye=F(4412),Re=F(7673),be=F(7647),je=F(5558),Fe=F(3294);function J(t){for(let n in t)if(t[n]===J)return n;throw Error("Could not find renamed property on target object.")}function te(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Ae(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const _e=J({__forward_ref__:J});function it(t){return t.__forward_ref__=it,t.toString=function(){return ae(this())},t}function lt(t){return xt(t)?t():t}function xt(t){return"function"==typeof t&&t.hasOwnProperty(_e)&&t.__forward_ref__===it}function kt(t){return t&&!!t.\u0275providers}const ze="https://g.co/ng/security#xss";class we extends Error{constructor(n,i){super(function Ze(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ve(t){return"string"==typeof t?t:null==t?"":String(t)}function qt(t,n){throw new we(-201,!1)}function ut(t,n){null==t&&function rt(t,n,i,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${i} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function sn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function $n(t){return Gt(t,on)||Gt(t,Yn)}function On(t){return null!==$n(t)}function Gt(t,n){return t.hasOwnProperty(n)?t[n]:null}function vr(t){return t&&(t.hasOwnProperty(kr)||t.hasOwnProperty($t))?t[kr]:null}const on=J({\u0275prov:J}),kr=J({\u0275inj:J}),Yn=J({ngInjectableDef:J}),$t=J({ngInjectorDef:J});var bn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(bn||{});let Hn;function $r(t){const n=Hn;return Hn=t,n}function Mr(t,n,i){const c=$n(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:i&bn.Optional?null:void 0!==n?n:void qt(ae(t))}const zn=globalThis;class hn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=sn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ee={},_t="__NG_DI_FLAG__",Yt="ngTempTokenPath",vt=/\n/gm,M="__source";let L;function me(t){const n=L;return L=t,n}function ht(t,n=bn.Default){if(void 0===L)throw new we(-203,!1);return null===L?Mr(t,void 0,n):L.get(t,n&bn.Optional?null:void 0,n)}function Mt(t,n=bn.Default){return(function In(){return Hn}()||ht)(lt(t),n)}function fn(t,n=bn.Default){return Mt(t,Sn(n))}function Sn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function br(t){const n=[];for(let i=0;i<t.length;i++){const c=lt(t[i]);if(Array.isArray(c)){if(0===c.length)throw new we(900,!1);let f,m=bn.Default;for(let T=0;T<c.length;T++){const A=c[T],x=Wr(A);"number"==typeof x?-1===x?f=A.token:m|=x:f=A}n.push(Mt(f,m))}else n.push(Mt(c))}return n}function ln(t,n){return t[_t]=n,t.prototype[_t]=n,t}function Wr(t){return t[_t]}function Fi(t){return{toString:t}.toString()}var vs=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vs||{}),Es=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Es||{});const yi={},sr=[],ks=J({\u0275cmp:J}),At=J({\u0275dir:J}),at=J({\u0275pipe:J}),Nt=J({\u0275mod:J}),cn=J({\u0275fac:J}),Bn=J({__NG_ELEMENT_ID__:J}),Ln=J({__NG_ENV_ID__:J});function hr(t,n,i){let c=t.length;for(;;){const f=t.indexOf(n,i);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const m=n.length;if(f+m===c||t.charCodeAt(f+m)<=32)return f}i=f+1}}function Hr(t,n,i){let c=0;for(;c<i.length;){const f=i[c];if("number"==typeof f){if(0!==f)break;c++;const m=i[c++],T=i[c++],A=i[c++];t.setAttribute(n,T,A,m)}else{const m=f,T=i[++c];mr(m)?t.setProperty(n,m,T):t.setAttribute(n,m,T),c++}}return c}function Jr(t){return 3===t||4===t||6===t}function mr(t){return 64===t.charCodeAt(0)}function Ki(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let c=0;c<n.length;c++){const f=n[c];"number"==typeof f?i=f:0===i||Fs(t,i,f,null,-1===i||2===i?n[++c]:null)}}return t}function Fs(t,n,i,c,f){let m=0,T=t.length;if(-1===n)T=-1;else for(;m<t.length;){const A=t[m++];if("number"==typeof A){if(A===n){T=-1;break}if(A>n){T=m-1;break}}}for(;m<t.length;){const A=t[m];if("number"==typeof A)break;if(A===i){if(null===c)return void(null!==f&&(t[m+1]=f));if(c===t[m+1])return void(t[m+2]=f)}m++,null!==c&&m++,null!==f&&m++}-1!==T&&(t.splice(T,0,n),m=T+1),t.splice(m++,0,i),null!==c&&t.splice(m++,0,c),null!==f&&t.splice(m++,0,f)}const Zi="ng-template";function Io(t,n,i){let c=0,f=!0;for(;c<t.length;){let m=t[c++];if("string"==typeof m&&f){const T=t[c++];if(i&&"class"===m&&-1!==hr(T.toLowerCase(),n,0))return!0}else{if(1===m){for(;c<t.length&&"string"==typeof(m=t[c++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function Co(t){return 4===t.type&&t.value!==Zi}function ji(t,n,i){return n===(4!==t.type||i?t.value:Zi)}function jo(t,n,i){let c=4;const f=t.attrs||[],m=function Hi(t){for(let n=0;n<t.length;n++)if(Jr(t[n]))return n;return t.length}(f);let T=!1;for(let A=0;A<n.length;A++){const x=n[A];if("number"!=typeof x){if(!T)if(4&c){if(c=2|1&c,""!==x&&!ji(t,x,i)||""===x&&1===n.length){if(di(c))return!1;T=!0}}else{const G=8&c?x:n[++A];if(8&c&&null!==t.attrs){if(!Io(t.attrs,G,i)){if(di(c))return!1;T=!0}continue}const De=es(8&c?"class":x,f,Co(t),i);if(-1===De){if(di(c))return!1;T=!0;continue}if(""!==G){let nt;nt=De>m?"":f[De+1].toLowerCase();const mt=8&c?nt:null;if(mt&&-1!==hr(mt,G,0)||2&c&&G!==nt){if(di(c))return!1;T=!0}}}}else{if(!T&&!di(c)&&!di(x))return!1;if(T&&di(x))continue;T=!1,c=x|1&c}}return di(c)||T}function di(t){return 0==(1&t)}function es(t,n,i,c){if(null===n)return-1;let f=0;if(c||!i){let m=!1;for(;f<n.length;){const T=n[f];if(T===t)return f;if(3===T||6===T)m=!0;else{if(1===T||2===T){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===T)break;if(0===T){f+=4;continue}}f+=m?1:2}return-1}return function Ri(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const c=t[i];if("number"==typeof c)return-1;if(c===n)return i;i++}return-1}(n,t)}function bs(t,n,i=!1){for(let c=0;c<n.length;c++)if(jo(t,n[c],i))return!0;return!1}function uo(t,n){return t?":not("+n.trim()+")":n}function wo(t){let n=t[0],i=1,c=2,f="",m=!1;for(;i<t.length;){let T=t[i];if("string"==typeof T)if(2&c){const A=t[++i];f+="["+T+(A.length>0?'="'+A+'"':"")+"]"}else 8&c?f+="."+T:4&c&&(f+=" "+T);else""!==f&&!di(T)&&(n+=uo(m,f),f=""),c=T,m=m||!di(c);i++}return""!==f&&(n+=uo(m,f)),n}function Xa(t){return Fi(()=>{const n=qi(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Es.Emulated,styles:t.styles||sr,_:null,schemas:t.schemas||null,tView:null,id:""};to(i);const c=t.dependencies;return i.directiveDefs=Yi(c,!1),i.pipeDefs=Yi(c,!0),i.id=function Ls(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of i)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function us(t){return Dr(t)||si(t)}function Pi(t){return null!==t}function fr(t){return Fi(()=>({type:t.type,bootstrap:t.bootstrap||sr,declarations:t.declarations||sr,imports:t.imports||sr,exports:t.exports||sr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ts(t,n){if(null==t)return yi;const i={};for(const c in t)if(t.hasOwnProperty(c)){let f=t[c],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),i[f]=c,n&&(n[f]=m)}return i}function As(t){return Fi(()=>{const n=qi(t);return to(n),n})}function ns(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dr(t){return t[ks]||null}function si(t){return t[At]||null}function oi(t){return t[at]||null}function Ds(t){const n=Dr(t)||si(t)||oi(t);return null!==n&&n.standalone}function ai(t,n){const i=t[Nt]||null;if(!i&&!0===n)throw new Error(`Type ${ae(t)} does not have '\u0275mod' property.`);return i}function qi(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||yi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||sr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ts(t.inputs,n),outputs:ts(t.outputs)}}function to(t){t.features?.forEach(n=>n(t))}function Yi(t,n){if(!t)return null;const i=n?oi:us;return()=>("function"==typeof t?t():t).map(c=>i(c)).filter(Pi)}const ei=0,mn=1,rr=2,cr=3,Xi=4,rs=5,li=6,Mi=7,Fr=8,vi=9,Cs=10,Zn=11,ws=12,Ss=13,ee=14,Q=15,Se=16,Le=17,tt=18,It=19,Kt=20,An=21,yn=22,jn=23,Or=24,Rn=25,tr=1,Ei=2,Vr=7,Li=9,Sr=11;function Si(t){return Array.isArray(t)&&"object"==typeof t[tr]}function Kr(t){return Array.isArray(t)&&!0===t[tr]}function $o(t){return 0!=(4&t.flags)}function ds(t){return t.componentOffset>-1}function Ys(t){return 1==(1&t.flags)}function Rs(t){return!!t.template}function ta(t){return 0!=(512&t[rr])}function no(t,n){return t.hasOwnProperty(cn)?t[cn]:null}let Ms=null,va=!1;function Gi(t){const n=Ms;return Ms=t,n}const Rl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ja(t){if(!_o(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Za(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function xs(t){t.dirty=!0,function ro(t){if(void 0===t.liveConsumerNode)return;const n=va;va=!0;try{for(const i of t.liveConsumerNode)i.dirty||xs(i)}finally{va=n}}(t),t.consumerMarkedDirty?.(t)}function ba(t){return t&&(t.nextProducerIndex=0),Gi(t)}function ka(t,n){if(Gi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(_o(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Pl(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Za(t){Ho(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==i.version||(Ja(i),c!==i.version))return!0}return!1}function Au(t){if(Ho(t),_o(t))for(let n=0;n<t.producerNode.length;n++)Pl(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Pl(t,n){if(function el(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ho(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)Pl(t.producerNode[c],t.producerIndexOfThis[c]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];Ho(f),f.producerIndexOfThis[c]=n}}function _o(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ho(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let So=null;function Dt(t){const n=Gi(null);try{return t()}finally{Gi(n)}}const Un=()=>{},qr=(()=>({...Rl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Un}))();class Nr{constructor(n,i,c){this.previousValue=n,this.currentValue=i,this.firstChange=c}isFirstChange(){return this.firstChange}}function er(){return Ur}function Ur(t){return t.type.prototype.ngOnChanges&&(t.setInput=wi),Yr}function Yr(){const t=ls(this),n=t?.current;if(n){const i=t.previous;if(i===yi)t.previous=n;else for(let c in n)i[c]=n[c];t.current=null,this.ngOnChanges(n)}}function wi(t,n,i,c){const f=this.declaredInputs[i],m=ls(t)||function Go(t,n){return t[Hs]=n}(t,{previous:yi,current:null}),T=m.current||(m.current={}),A=m.previous,x=A[f];T[f]=new Nr(x&&x.currentValue,n,A===yi),t[c]=n}er.ngInherit=!0;const Hs="__ngSimpleChanges__";function ls(t){return t[Hs]||null}const Ci=function(t,n,i){};function Cr(t){for(;Array.isArray(t);)t=t[ei];return t}function xl(t,n){return Cr(n[t])}function io(t,n){return Cr(n[t.index])}function Wc(t,n){return t.data[n]}function Ol(t,n){return t[n]}function Ui(t,n){const i=n[t];return Si(i)?i:i[ei]}function Ns(t,n){return null==n?null:t[n]}function Va(t){t[Le]=0}function Nl(t){1024&t[rr]||(t[rr]|=1024,Mu(t,1))}function Pu(t){1024&t[rr]&&(t[rr]&=-1025,Mu(t,-1))}function Mu(t,n){let i=t[cr];if(null===i)return;i[rs]+=n;let c=i;for(i=i[cr];null!==i&&(1===n&&1===c[rs]||-1===n&&0===c[rs]);)i[rs]+=n,c=i,i=i[cr]}const or={lFrame:le(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function sl(){return or.bindingsEnabled}function Wt(){return or.lFrame.lView}function Pr(){return or.lFrame.tView}function Ko(t){return or.lFrame.contextLView=t,t[Fr]}function fs(t){return or.lFrame.contextLView=null,t}function Gs(){let t=uc();for(;null!==t&&64===t.type;)t=t.parent;return t}function uc(){return or.lFrame.currentTNode}function Po(t,n){const i=or.lFrame;i.currentTNode=t,i.isParent=n}function Yc(){return or.lFrame.isParent}function Nu(){or.lFrame.isParent=!1}function Js(){const t=or.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Mo(){return or.lFrame.bindingIndex++}function yo(t){const n=or.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function Xf(t,n){const i=or.lFrame;i.bindingIndex=i.bindingRootIndex=t,ku(n)}function ku(t){or.lFrame.currentDirectiveIndex=t}function Fl(){return or.lFrame.currentQueryIndex}function D(t){or.lFrame.currentQueryIndex=t}function O(t){const n=t[mn];return 2===n.type?n.declTNode:1===n.type?t[li]:null}function w(t,n,i){if(i&bn.SkipSelf){let f=n,m=t;for(;!(f=f.parent,null!==f||i&bn.Host||(f=O(m),null===f||(m=m[ee],10&f.type))););if(null===f)return!1;n=f,t=m}const c=or.lFrame=H();return c.currentTNode=n,c.lView=t,!0}function N(t){const n=H(),i=t[mn];or.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function H(){const t=or.lFrame,n=null===t?null:t.child;return null===n?le(t):n}function le(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Me(){const t=or.lFrame;return or.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ct=Me;function bt(){const t=Me();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ur(){return or.lFrame.selectedIndex}function wr(t){or.lFrame.selectedIndex=t}function Gr(){const t=or.lFrame;return Wc(t.tView,t.selectedIndex)}let Lh=!0;function al(){return Lh}function oa(t){Lh=t}function Aa(t,n){for(let i=n.directiveStart,c=n.directiveEnd;i<c;i++){const m=t.data[i].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:A,ngAfterViewInit:x,ngAfterViewChecked:G,ngOnDestroy:se}=m;T&&(t.contentHooks??=[]).push(-i,T),A&&((t.contentHooks??=[]).push(i,A),(t.contentCheckHooks??=[]).push(i,A)),x&&(t.viewHooks??=[]).push(-i,x),G&&((t.viewHooks??=[]).push(i,G),(t.viewCheckHooks??=[]).push(i,G)),null!=se&&(t.destroyHooks??=[]).push(i,se)}}function ll(t,n,i){Uu(t,n,3,i)}function Lu(t,n,i,c){(3&t[rr])===i&&Uu(t,n,i,c)}function Vu(t,n){let i=t[rr];(3&i)===n&&(i&=8191,i+=1,t[rr]=i)}function Uu(t,n,i,c){const m=c??-1,T=n.length-1;let A=0;for(let x=void 0!==c?65535&t[Le]:0;x<T;x++)if("number"==typeof n[x+1]){if(A=n[x],null!=c&&A>=c)break}else n[x]<0&&(t[Le]+=65536),(A<m||-1==m)&&(Bu(t,i,n,x),t[Le]=(4294901760&t[Le])+x+2),x++}function Md(t,n){Ci(4,t,n);const i=Gi(null);try{n.call(t)}finally{Gi(i),Ci(5,t,n)}}function Bu(t,n,i,c){const f=i[c]<0,m=i[c+1],A=t[f?-i[c]:i[c]];f?t[rr]>>13<t[Le]>>16&&(3&t[rr])===n&&(t[rr]+=8192,Md(A,m)):Md(A,m)}const vo=-1;class qo{constructor(n,i,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=c}}function cl(t){return t!==vo}function Bl(t){return 32767&t}function Da(t,n){let i=function jh(t){return t>>16}(t),c=n;for(;i>0;)c=c[ee],i--;return c}let $u=!0;function ul(t){const n=$u;return $u=t,n}const $h=255,Sa=5;let Hu=0;const so={};function $a(t,n){const i=Hh(t,n);if(-1!==i)return i;const c=n[mn];c.firstCreatePass&&(t.injectorIndex=n.length,Vs(c.data,t),Vs(n,null),Vs(c.blueprint,null));const f=jl(t,n),m=t.injectorIndex;if(cl(f)){const T=Bl(f),A=Da(f,n),x=A[mn].data;for(let G=0;G<8;G++)n[m+G]=A[T+G]|x[T+G]}return n[m+8]=f,m}function Vs(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Hh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function jl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,c=null,f=n;for(;null!==f;){if(c=Nd(f),null===c)return vo;if(i++,f=f[ee],-1!==c.injectorIndex)return c.injectorIndex|i<<16}return vo}function dc(t,n,i){!function dl(t,n,i){let c;"string"==typeof i?c=i.charCodeAt(0)||0:i.hasOwnProperty(Bn)&&(c=i[Bn]),null==c&&(c=i[Bn]=Hu++);const f=c&$h;n.data[t+(f>>Sa)]|=1<<f}(t,n,i)}function hl(t,n,i){if(i&bn.Optional||void 0!==t)return t;qt()}function fl(t,n,i,c){if(i&bn.Optional&&void 0===c&&(c=null),!(i&(bn.Self|bn.Host))){const f=t[vi],m=$r(void 0);try{return f?f.get(n,c,i&bn.Optional):Mr(n,c,i&bn.Optional)}finally{$r(m)}}return hl(c,0,i)}function Gu(t,n,i,c=bn.Default,f){if(null!==t){if(2048&n[rr]&&!(c&bn.Self)){const T=function np(t,n,i,c,f){let m=t,T=n;for(;null!==m&&null!==T&&2048&T[rr]&&!(512&T[rr]);){const A=$l(m,T,i,c|bn.Self,so);if(A!==so)return A;let x=m.parent;if(!x){const G=T[Kt];if(G){const se=G.get(i,so,c);if(se!==so)return se}x=Nd(T),T=T[ee]}m=x}return f}(t,n,i,c,so);if(T!==so)return T}const m=$l(t,n,i,c,so);if(m!==so)return m}return fl(n,i,c,f)}function $l(t,n,i,c,f){const m=function xo(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Bn)?t[Bn]:void 0;return"number"==typeof n?n>=0?n&$h:tp:n}(i);if("function"==typeof m){if(!w(n,t,c))return c&bn.Host?hl(f,0,c):fl(n,i,c,f);try{let T;if(T=m(c),null!=T||c&bn.Optional)return T;qt()}finally{Ct()}}else if("number"==typeof m){let T=null,A=Hh(t,n),x=vo,G=c&bn.Host?n[Q][li]:null;for((-1===A||c&bn.SkipSelf)&&(x=-1===A?jl(t,n):n[A+8],x!==vo&&ep(c,!1)?(T=n[mn],A=Bl(x),n=Da(x,n)):A=-1);-1!==A;){const se=n[mn];if(fc(m,A,se.data)){const De=zu(A,n,i,T,c,G);if(De!==so)return De}x=n[A+8],x!==vo&&ep(c,n[mn].data[A+8]===G)&&fc(m,A,n)?(T=se,A=Bl(x),n=Da(x,n)):A=-1}}return f}function zu(t,n,i,c,f,m){const T=n[mn],A=T.data[t+8],se=aa(A,T,i,null==c?ds(A)&&$u:c!=T&&0!=(3&A.type),f&bn.Host&&m===A);return null!==se?hc(n,T,se,A):so}function aa(t,n,i,c,f){const m=t.providerIndexes,T=n.data,A=1048575&m,x=t.directiveStart,se=m>>20,nt=f?A+se:t.directiveEnd;for(let mt=c?A:A+se;mt<nt;mt++){const Ut=T[mt];if(mt<x&&i===Ut||mt>=x&&Ut.type===i)return mt}if(f){const mt=T[x];if(mt&&Rs(mt)&&mt.type===i)return x}return null}function hc(t,n,i,c){let f=t[i];const m=n.data;if(function Ul(t){return t instanceof qo}(f)){const T=f;T.resolving&&function $e(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new we(-200,`Circular dependency in DI detected for ${t}${i}`)}(function et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ve(t)}(m[i]));const A=ul(T.canSeeViewProviders);T.resolving=!0;const G=T.injectImpl?$r(T.injectImpl):null;w(t,c,bn.Default);try{f=t[i]=T.factory(void 0,m,t,c),n.firstCreatePass&&i>=c.directiveStart&&function Vh(t,n,i){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:m}=n.type.prototype;if(c){const T=Ur(n);(i.preOrderHooks??=[]).push(t,T),(i.preOrderCheckHooks??=[]).push(t,T)}f&&(i.preOrderHooks??=[]).push(0-t,f),m&&((i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m))}(i,m[i],n)}finally{null!==G&&$r(G),ul(A),T.resolving=!1,Ct()}}return f}function fc(t,n,i){return!!(i[n+(t>>Sa)]&1<<t)}function ep(t,n){return!(t&bn.Self||t&bn.Host&&n)}class Ws{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,c){return Gu(this._tNode,this._lView,n,Sn(c),i)}}function tp(){return new Ws(Gs(),Wt())}function pc(t){return Fi(()=>{const n=t.prototype.constructor,i=n[cn]||Od(n),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const m=f[cn]||Od(f);if(m&&m!==i)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Od(t){return xt(t)?()=>{const n=Od(lt(t));return n&&n()}:no(t)}function Nd(t){const n=t[mn],i=n.type;return 2===i?n.declTNode:1===i?t[li]:null}function Wu(t){return function Gh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const c=i.length;let f=0;for(;f<c;){const m=i[f];if(Jr(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<c&&"string"==typeof i[f];)f++;else{if(m===n)return i[f+1];f+=2}}}return null}(Gs(),t)}const Yo="__parameters__";function Jc(t,n,i){return Fi(()=>{const c=function kd(t){return function(...i){if(t){const c=t(...i);for(const f in c)this[f]=c[f]}}}(n);function f(...m){if(this instanceof f)return c.apply(this,m),this;const T=new f(...m);return A.annotation=T,A;function A(x,G,se){const De=x.hasOwnProperty(Yo)?x[Yo]:Object.defineProperty(x,Yo,{value:[]})[Yo];for(;De.length<=se;)De.push(null);return(De[se]=De[se]||[]).push(T),x}}return i&&(f.prototype=Object.create(i.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function zl(t,n){t.forEach(i=>Array.isArray(i)?zl(i,n):n(i))}function Ld(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ao(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Qo(t,n,i){let c=ml(t,n);return c>=0?t[1|c]=i:(c=~c,function rp(t,n,i,c){let f=t.length;if(f==n)t.push(i,c);else if(1===f)t.push(c,t[0]),t[0]=i;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=i,t[n+1]=c}}(t,c,n,i)),c}function qu(t,n){const i=ml(t,n);if(i>=0)return t[1|i]}function ml(t,n){return function Yu(t,n,i){let c=0,f=t.length>>i;for(;f!==c;){const m=c+(f-c>>1),T=t[m<<i];if(n===T)return m<<i;T>n?f=m:c=m+1}return~(f<<i)}(t,n,1)}const yl=ln(Jc("Optional"),8),ru=ln(Jc("SkipSelf"),4);function Kd(t){return 128==(128&t.flags)}var qd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qd||{});const Ey=/^>|^->|<!--|-->|--!>|<!-$/g,Rg=/(<|>)/g,ou="\u200b$1\u200b";const ed=new Map;let Mg=0;const tf="__ngContext__";function No(t,n){Si(n)?(t[tf]=n[It],function Yd(t){ed.set(t[It],t)}(n)):t[tf]=n}let sf;function cu(t,n){return sf(t,n)}function Jd(t){const n=t[cr];return Kr(n)?n[cr]:n}function o_(t){return pp(t[ws])}function Og(t){return pp(t[Xi])}function pp(t){for(;null!==t&&!Kr(t);)t=t[Xi];return t}function uu(t,n,i,c,f){if(null!=c){let m,T=!1;Kr(c)?m=c:Si(c)&&(T=!0,c=c[ei]);const A=Cr(c);0===t&&null!==i?null==f?th(n,i,A):id(n,i,A,f||null,!0):1===t&&null!==i?id(n,i,A,f||null,!0):2===t?function cf(t,n,i){const c=af(t,n);c&&function vp(t,n,i,c){t.removeChild(n,i,c)}(t,c,n,i)}(n,A,T):3===t&&n.destroyNode(A),null!=m&&function Hg(t,n,i,c,f){const m=i[Vr];m!==Cr(i)&&uu(n,t,c,m,f);for(let A=Sr;A<i.length;A++){const x=i[A];df(x[mn],x,t,n,c,m)}}(n,t,m,i,f)}}function du(t,n){return t.createComment(function Pg(t){return t.replace(Ey,n=>n.replace(Rg,ou))}(n))}function mp(t,n,i){return t.createElement(n,i)}function wy(t,n){const i=t[Li],c=i.indexOf(n);Pu(n),i.splice(c,1)}function nd(t,n){if(t.length<=Sr)return;const i=Sr+n,c=t[i];if(c){const f=c[Se];null!==f&&f!==t&&wy(f,c),n>0&&(t[i-1][Xi]=c[Xi]);const m=ao(t,Sr+n);!function Ng(t,n){df(t,n,n[Zn],2,null,null),n[ei]=null,n[li]=null}(c[mn],c);const T=m[tt];null!==T&&T.detachView(m[mn]),c[cr]=null,c[Xi]=null,c[rr]&=-129}return c}function _p(t,n){if(!(256&n[rr])){const i=n[Zn];n[jn]&&Au(n[jn]),n[Or]&&Au(n[Or]),i.destroyNode&&df(t,n,i,3,null,null),function Fg(t){let n=t[ws];if(!n)return yp(t[mn],t);for(;n;){let i=null;if(Si(n))i=n[ws];else{const c=n[Sr];c&&(i=c)}if(!i){for(;n&&!n[Xi]&&n!==t;)Si(n)&&yp(n[mn],n),n=n[cr];null===n&&(n=t),Si(n)&&yp(n[mn],n),i=n&&n[Xi]}n=i}}(n)}}function yp(t,n){if(!(256&n[rr])){n[rr]&=-129,n[rr]|=256,function Ay(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let c=0;c<i.length;c+=2){const f=n[i[c]];if(!(f instanceof qo)){const m=i[c+1];if(Array.isArray(m))for(let T=0;T<m.length;T+=2){const A=f[m[T]],x=m[T+1];Ci(4,A,x);try{x.call(A)}finally{Ci(5,A,x)}}else{Ci(4,f,m);try{m.call(f)}finally{Ci(5,f,m)}}}}}(t,n),function Vg(t,n){const i=t.cleanup,c=n[Mi];if(null!==i)for(let m=0;m<i.length-1;m+=2)if("string"==typeof i[m]){const T=i[m+3];T>=0?c[T]():c[-T].unsubscribe(),m+=2}else i[m].call(c[i[m+1]]);null!==c&&(n[Mi]=null);const f=n[An];if(null!==f){n[An]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(t,n),1===n[mn].type&&n[Zn].destroy();const i=n[Se];if(null!==i&&Kr(n[cr])){i!==n[cr]&&wy(i,n);const c=n[tt];null!==c&&c.detachView(t)}!function by(t){ed.delete(t[It])}(n)}}function Ug(t,n,i){return function rd(t,n,i){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return i[ei];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:m}=t.data[c.directiveStart+f];if(m===Es.None||m===Es.Emulated)return null}return io(c,i)}}(t,n.parent,i)}function id(t,n,i,c,f){t.insertBefore(n,i,c,f)}function th(t,n,i){t.appendChild(n,i)}function c_(t,n,i,c,f){null!==c?id(t,n,i,c,f):th(t,n,i)}function af(t,n){return t.parentNode(n)}let jg,Wl,ff,Ip,bp=function u_(t,n,i){return 40&t.type?io(t,i):null};function Tp(t,n,i,c){const f=Ug(t,c,n),m=n[Zn],A=function Ep(t,n,i){return bp(t,n,i)}(c.parent||n[li],c,n);if(null!=f)if(Array.isArray(i))for(let x=0;x<i.length;x++)c_(m,f,i[x],A,!1);else c_(m,f,i,A,!1);void 0!==jg&&jg(m,c,n,i,f)}function nh(t,n){if(null!==n){const i=n.type;if(3&i)return io(n,t);if(4&i)return lf(-1,t[n.index]);if(8&i){const c=n.child;if(null!==c)return nh(t,c);{const f=t[n.index];return Kr(f)?lf(-1,f):Cr(f)}}if(32&i)return cu(n,t)()||Cr(t[n.index]);{const c=yc(t,n);return null!==c?Array.isArray(c)?c[0]:nh(Jd(t[Q]),c):nh(t,n.next)}}return null}function yc(t,n){return null!==n?t[Q][li].projection[n.projection]:null}function lf(t,n){const i=Sr+t+1;if(i<n.length){const c=n[i],f=c[mn].firstChild;if(null!==f)return nh(c,f)}return n[Vr]}function uf(t,n,i,c,f,m,T){for(;null!=i;){const A=c[i.index],x=i.type;if(T&&0===n&&(A&&No(Cr(A),c),i.flags|=2),32!=(32&i.flags))if(8&x)uf(t,n,i.child,c,f,m,!1),uu(n,t,f,A,m);else if(32&x){const G=cu(i,c);let se;for(;se=G();)uu(n,t,f,se,m);uu(n,t,f,A,m)}else 16&x?h_(t,n,c,i,f,m):uu(n,t,f,A,m);i=T?i.projectionNext:i.next}}function df(t,n,i,c,f,m){uf(i,c,t.firstChild,n,f,m,!1)}function h_(t,n,i,c,f,m){const T=i[Q],x=T[li].projection[c.projection];if(Array.isArray(x))for(let G=0;G<x.length;G++)uu(n,t,f,x[G],m);else{let G=x;const se=T[cr];Kd(c)&&(G.flags|=128),uf(t,n,G,se,f,m,!0)}}function hf(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function rh(t,n,i){const{mergedAttrs:c,classes:f,styles:m}=i;null!==c&&Hr(t,n,c),null!==f&&hf(t,n,f),null!==m&&function Gg(t,n,i){t.setAttribute(n,"style",i)}(t,n,m)}function vc(t){return function Kl(){if(void 0===Wl&&(Wl=null,zn.trustedTypes))try{Wl=zn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Wl}()?.createHTML(t)||t}function qg(t){ff=t}function ih(){if(void 0!==ff)return ff;if(typeof document<"u")return document;throw new we(210,!1)}function sh(){if(void 0===Ip&&(Ip=null,zn.trustedTypes))try{Ip=zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ip}function Cp(t){return sh()?.createHTML(t)||t}function od(t){return sh()?.createScriptURL(t)||t}class bc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ze})`}}class tE extends bc{getTypeName(){return"HTML"}}class ql extends bc{getTypeName(){return"Style"}}class p_ extends bc{getTypeName(){return"Script"}}class Yg extends bc{getTypeName(){return"URL"}}class g_ extends bc{getTypeName(){return"ResourceURL"}}function Tc(t){return t instanceof bc?t.changingThisBreaksApplicationSecurity:t}function oh(t,n){const i=function Xg(t){return t instanceof bc&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${ze})`)}return i===n}function Dy(t){return new tE(t)}function Qg(t){return new ql(t)}function Ap(t){return new p_(t)}function Dp(t){return new Yg(t)}function Sp(t){return new g_(t)}class Sy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(vc(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Jg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=vc(n),i}}const ad=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ci(t){return(t=String(t)).match(ad)?t:"unsafe:"+t}function za(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function gf(...t){const n={};for(const i of t)for(const c in i)i.hasOwnProperty(c)&&(n[c]=!0);return n}const m_=za("area,br,col,hr,img,wbr"),__=za("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zg=za("rp,rt"),mf=gf(m_,gf(__,za("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gf(Zg,za("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gf(Zg,__)),_f=za("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rp=gf(_f,za("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),za("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),b_=za("script,style,template");class ah{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,c=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?c=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,c&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let f=this.checkClobberedElement(i,i.nextSibling);if(f){i=f;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!mf.hasOwnProperty(i))return this.sanitizedSomething=!0,!b_.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const c=n.attributes;for(let f=0;f<c.length;f++){const m=c.item(f),T=m.name,A=T.toLowerCase();if(!Rp.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let x=m.value;_f[A]&&(x=ci(x)),this.buf.push(" ",T,'="',nm(x),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();mf.hasOwnProperty(i)&&!m_.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(nm(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const T_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tm=/([^\#-~ |!])/g;function nm(t){return t.replace(/&/g,"&amp;").replace(T_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(tm,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ic;function Pp(t,n){let i=null;try{Ic=Ic||function Yl(t){const n=new Jg(t);return function pf(){try{return!!(new window.DOMParser).parseFromString(vc(""),"text/html")}catch{return!1}}()?new Sy(n):n}(t);let c=n?String(n):"";i=Ic.getInertBodyElement(c);let f=5,m=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=m,m=i.innerHTML,i=Ic.getInertBodyElement(c)}while(c!==m);return vc((new ah).sanitizeChildren(rm(i)||i))}finally{if(i){const c=rm(i)||i;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function rm(t){return"content"in t&&function Py(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ld=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ld||{});function im(t){const n=cd();return n?Cp(n.sanitize(ld.HTML,t)||""):oh(t,"HTML")?Cp(Tc(t)):Pp(ih(),Ve(t))}function Mp(t){const n=cd();return n?n.sanitize(ld.URL,t)||"":oh(t,"URL")?Tc(t):ci(Ve(t))}function I_(t){const n=cd();if(n)return od(n.sanitize(ld.RESOURCE_URL,t)||"");if(oh(t,"ResourceURL"))return od(Tc(t));throw new we(904,!1)}function C_(t,n,i){return function ky(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?I_:Mp}(n,i)(t)}function cd(){const t=Wt();return t&&t[Cs].sanitizer}const hu=new hn("ENVIRONMENT_INITIALIZER"),sm=new hn("INJECTOR",-1),om=new hn("INJECTOR_DEF_TYPES");class xp{get(n,i=Ee){if(i===Ee){const c=new Error(`NullInjectorError: No provider for ${ae(n)}!`);throw c.name="NullInjectorError",c}return i}}function lh(t){return{\u0275providers:t}}function fi(...t){return{\u0275providers:am(0,t),\u0275fromNgModule:!0}}function am(t,...n){const i=[],c=new Set;let f;const m=T=>{i.push(T)};return zl(n,T=>{const A=T;fu(A,m,[],c)&&(f||=[],f.push(A))}),void 0!==f&&lm(f,m),i}function lm(t,n){for(let i=0;i<t.length;i++){const{ngModule:c,providers:f}=t[i];qs(f,m=>{n(m,c)})}}function fu(t,n,i,c){if(!(t=lt(t)))return!1;let f=null,m=vr(t);const T=!m&&Dr(t);if(m||T){if(T&&!T.standalone)return!1;f=t}else{const x=t.ngModule;if(m=vr(x),!m)return!1;f=x}const A=c.has(f);if(T){if(A)return!1;if(c.add(f),T.dependencies){const x="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const G of x)fu(G,n,i,c)}}else{if(!m)return!1;{if(null!=m.imports&&!A){let G;c.add(f);try{zl(m.imports,se=>{fu(se,n,i,c)&&(G||=[],G.push(se))})}finally{}void 0!==G&&lm(G,n)}if(!A){const G=no(f)||(()=>new f);n({provide:f,useFactory:G,deps:sr},f),n({provide:om,useValue:f,multi:!0},f),n({provide:hu,useValue:()=>Mt(f),multi:!0},f)}const x=m.providers;if(null!=x&&!A){const G=t;qs(x,se=>{n(se,G)})}}}return f!==t&&void 0!==t.providers}function qs(t,n){for(let i of t)kt(i)&&(i=i.\u0275providers),Array.isArray(i)?qs(i,n):n(i)}const Bs=J({provide:String,useValue:J});function Wa(t){return null!==t&&"object"==typeof t&&Bs in t}function pu(t){return"function"==typeof t}const yf=new hn("Set Injector scope."),vf={},cm={};let um;function ud(){return void 0===um&&(um=new xp),um}class Xr{}class gu extends Xr{get destroyed(){return this._destroyed}constructor(n,i,c,f){super(),this.parent=i,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dm(n,T=>this.processProvider(T)),this.records.set(sm,uh(void 0,this)),f.has("environment")&&this.records.set(Xr,uh(void 0,this));const m=this.records.get(yf);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(om.multi,sr,bn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=me(this),c=$r(void 0);try{return n()}finally{me(i),$r(c)}}get(n,i=Ee,c=bn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ln))return n[Ln](this);c=Sn(c);const m=me(this),T=$r(void 0);try{if(!(c&bn.SkipSelf)){let x=this.records.get(n);if(void 0===x){const G=function By(t){return"function"==typeof t||"object"==typeof t&&t instanceof hn}(n)&&$n(n);x=G&&this.injectableDefInScope(G)?uh(ch(n),vf):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(c&bn.Self?ud():this.parent).get(n,i=c&bn.Optional&&i===Ee?null:i)}catch(A){if("NullInjectorError"===A.name){if((A[Yt]=A[Yt]||[]).unshift(ae(n)),m)throw A;return function dr(t,n,i,c){const f=t[Yt];throw n[M]&&f.unshift(n[M]),t.message=function $s(t,n,i,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=ae(n);if(Array.isArray(n))f=n.map(ae).join(" -> ");else if("object"==typeof n){let m=[];for(let T in n)if(n.hasOwnProperty(T)){let A=n[T];m.push(T+":"+("string"==typeof A?JSON.stringify(A):ae(A)))}f=`{${m.join(", ")}}`}return`${i}${c?"("+c+")":""}[${f}]: ${t.replace(vt,"\n  ")}`}("\n"+t.message,f,i,c),t.ngTokenPath=f,t[Yt]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{$r(T),me(m)}}resolveInjectorInitializers(){const n=me(this),i=$r(void 0);try{const f=this.get(hu.multi,sr,bn.Self);for(const m of f)m()}finally{me(n),$r(i)}}toString(){const n=[],i=this.records;for(const c of i.keys())n.push(ae(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(n){let i=pu(n=lt(n))?n:lt(n&&n.provide);const c=function Ef(t){return Wa(t)?uh(void 0,t.useValue):uh(D_(t),vf)}(n);if(pu(n)||!0!==n.multi)this.records.get(i);else{let f=this.records.get(i);f||(f=uh(void 0,vf,!0),f.factory=()=>br(f.multi),this.records.set(i,f)),i=n,f.multi.push(n)}this.records.set(i,c)}hydrate(n,i){return i.value===vf&&(i.value=cm,i.value=i.factory()),"object"==typeof i.value&&i.value&&function S_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=lt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function ch(t){const n=$n(t),i=null!==n?n.factory:no(t);if(null!==i)return i;if(t instanceof hn)throw new we(204,!1);if(t instanceof Function)return function Ji(t){const n=t.length;if(n>0)throw function gl(t,n){const i=[];for(let c=0;c<t;c++)i.push(n);return i}(n,"?"),new we(204,!1);const i=function Bt(t){return t&&(t[on]||t[Yn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new we(204,!1)}function D_(t,n,i){let c;if(pu(t)){const f=lt(t);return no(f)||ch(f)}if(Wa(t))c=()=>lt(t.useValue);else if(function A_(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...br(t.deps||[]));else if(function w_(t){return!(!t||!t.useExisting)}(t))c=()=>Mt(lt(t.useExisting));else{const f=lt(t&&(t.useClass||t.provide));if(!function Op(t){return!!t.deps}(t))return no(f)||ch(f);c=()=>new f(...br(t.deps))}return c}function uh(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function dm(t,n){for(const i of t)Array.isArray(i)?dm(i,n):i&&kt(i)?dm(i.\u0275providers,n):n(i)}const R_=new hn("AppId",{providedIn:"root",factory:()=>jy}),jy="ng",$y=new hn("Platform Initializer"),hm=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bf=new hn("AnimationModuleType"),Hy=new hn("CSP nonce",{providedIn:"root",factory:()=>ih().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let kp=(t,n,i)=>null;function _u(t,n,i=!1){return kp(t,n,i)}class Lp{}class _m{}class iE{resolveComponentFactory(n){throw function gd(t){const n=Error(`No component factory found for ${ae(t)}.`);return n.ngComponent=t,n}(n)}}let Ac=(()=>{class t{static{this.NULL=new iE}}return t})();function sE(){return Up(Gs(),Wt())}function Up(t,n){return new ph(io(t,n))}let ph=(()=>{class t{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=sE}}return t})();function oE(t){return t instanceof ph?t.nativeElement:t}class Bp{}let aE=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function lE(){const t=Wt(),i=Ui(Gs().index,t);return(Si(i)?i:t)[Zn]}()}}return t})(),ym=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>null})}}return t})();class Ky{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const qy=new Ky("16.2.12"),Df={};function uE(t,n=null,i=null,c){const f=Jy(t,n,i,c);return f.resolveInjectorInitializers(),f}function Jy(t,n=null,i=null,c,f=new Set){const m=[i||sr,fi(t)];return c=c||("object"==typeof t?void 0:ae(t)),new gu(m,n||ud(),c||null,f)}let Dc=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ee}static{this.NULL=new xp}static create(i,c){if(Array.isArray(i))return uE({name:""},c,i,"");{const f=i.name??"";return uE({name:f},i.parent,i.providers,f)}}static{this.\u0275prov=sn({token:t,providedIn:"any",factory:()=>Mt(sm)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function yu(t){return t.ngOriginalError}class Tl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&yu(n);for(;i&&yu(i);)i=yu(i);return i||null}}function Rc(t){return n=>{setTimeout(t,void 0,n)}}const Pc=class pE extends o.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,c){let f=n,m=i||(()=>null),T=c;if(n&&"object"==typeof n){const x=n;f=x.next?.bind(x),m=x.error?.bind(x),T=x.complete?.bind(x)}this.__isAsync&&(m=Rc(m),f&&(f=Rc(f)),T&&(T=Rc(T)));const A=super.subscribe({next:f,error:m,complete:T});return n instanceof de.yU&&n.add(A),A}};function Zy(...t){}class Eo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pc(!1),this.onMicrotaskEmpty=new Pc(!1),this.onStable=new Pc(!1),this.onError=new Pc(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&i,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function gE(){const t="function"==typeof zn.requestAnimationFrame;let n=zn[t?"requestAnimationFrame":"setTimeout"],i=zn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const f=i[Zone.__symbol__("OriginalDelegate")];f&&(i=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function yE(t){const n=()=>{!function _E(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(zn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,V_(t),t.isCheckStableRunning=!0,L_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),V_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,c,f,m,T,A)=>{if(function EE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return i.invokeTask(f,m,T,A);try{return ev(t),i.invokeTask(f,m,T,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),gh(t)}},onInvoke:(i,c,f,m,T,A,x)=>{try{return ev(t),i.invoke(f,m,T,A,x)}finally{t.shouldCoalesceRunChangeDetection&&n(),gh(t)}},onHasTask:(i,c,f,m)=>{i.hasTask(f,m),c===f&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,V_(t),L_(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(i,c,f,m)=>(i.handleError(f,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eo.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Eo.isInAngularZone())throw new we(909,!1)}run(n,i,c){return this._inner.run(n,i,c)}runTask(n,i,c,f){const m=this._inner,T=m.scheduleEventTask("NgZoneEvent: "+f,n,mE,Zy,Zy);try{return m.runTask(T,i,c)}finally{m.cancelTask(T)}}runGuarded(n,i,c){return this._inner.runGuarded(n,i,c)}runOutsideAngular(n){return this._outer.run(n)}}const mE={};function L_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function V_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ev(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gh(t){t._nesting--,L_(t)}class U_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pc,this.onMicrotaskEmpty=new Pc,this.onStable=new Pc,this.onError=new Pc}run(n,i,c){return n.apply(i,c)}runGuarded(n,i,c){return n.apply(i,c)}runOutsideAngular(n){return n()}runTask(n,i,c,f){return n.apply(i,c)}}const vE=new hn("",{providedIn:"root",factory:tv});function tv(){const t=fn(Eo);let n=!0;const i=new s.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),c=new s.c(f=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{Eo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const T=t.onUnstable.subscribe(()=>{Eo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),T.unsubscribe()}});return(0,ve.h)(i,c.pipe((0,be.u)()))}function nv(t){return t.ownerDocument.defaultView}function md(t){return t instanceof Function?t():t}let bm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Rf(t){for(;t;){t[rr]|=64;const n=Jd(t);if(ta(t)&&!n)return t;t=n}return null}const j_=new hn("",{providedIn:"root",factory:()=>!1});let G_=null;function IE(t,n){return t[n]??wE()}function CE(t,n){const i=wE();i.producerNode?.length&&(t[n]=G_,i.lView=t,G_=z_())}const cv={...Rl,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Rf(t.lView)},lView:null};function z_(){return Object.create(cv)}function wE(){return G_??=z_(),G_}const zr={};function AE(t){Tm(Pr(),Wt(),ur()+t,!1)}function Tm(t,n,i,c){if(!c)if(3==(3&n[rr])){const m=t.preOrderCheckHooks;null!==m&&ll(n,m,i)}else{const m=t.preOrderHooks;null!==m&&Lu(n,m,0,i)}wr(i)}function vu(t,n=bn.Default){const i=Wt();return null===i?Mt(t,n):Gu(Gs(),i,lt(t),n)}function d(){throw new Error("invalid")}function r(t,n,i,c,f,m,T,A,x,G,se){const De=n.blueprint.slice();return De[ei]=f,De[rr]=140|c,(null!==G||t&&2048&t[rr])&&(De[rr]|=2048),Va(De),De[cr]=De[ee]=t,De[Fr]=i,De[Cs]=T||t&&t[Cs],De[Zn]=A||t&&t[Zn],De[vi]=x||t&&t[vi]||null,De[li]=m,De[It]=function r_(){return Mg++}(),De[yn]=se,De[Kt]=G,De[Q]=2==n.type?t[Q]:De,De}function a(t,n,i,c,f){let m=t.data[n];if(null===m)m=function h(t,n,i,c,f){const m=uc(),T=Yc(),x=t.data[n]=function Qn(t,n,i,c,f,m){let T=n?n.injectorIndex:-1,A=0;return function ia(){return null!==or.skipHydrationRootTNode}()&&(A|=128),{type:i,index:c,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?m:m&&m.parent,i,n,c,f);return null===t.firstChild&&(t.firstChild=x),null!==m&&(T?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x,x.prev=m)),x}(t,n,i,c,f),function Rd(){return or.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=i,m.value=c,m.attrs=f;const T=function Ca(){const t=or.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===T?-1:T.injectorIndex}return Po(m,!0),m}function y(t,n,i,c){if(0===i)return-1;const f=n.length;for(let m=0;m<i;m++)n.push(c),t.blueprint.push(c),t.data.push(null);return f}function b(t,n,i,c,f){const m=IE(n,jn),T=ur(),A=2&c;try{wr(-1),A&&n.length>Rn&&Tm(t,n,Rn,!1),Ci(A?2:0,f);const G=A?m:null,se=ba(G);try{null!==G&&(G.dirty=!1),i(c,f)}finally{ka(G,se)}}finally{A&&null===n[jn]&&CE(n,jn),wr(T),Ci(A?3:1,f)}}function R(t,n,i){if($o(n)){const c=Gi(null);try{const m=n.directiveEnd;for(let T=n.directiveStart;T<m;T++){const A=t.data[T];A.contentQueries&&A.contentQueries(1,i[T],T)}}finally{Gi(c)}}}function V(t,n,i){sl()&&(function DE(t,n,i,c){const f=i.directiveStart,m=i.directiveEnd;ds(i)&&function Kp(t,n,i){const c=io(n,t),f=oe(i);let T=16;i.signals?T=4096:i.onPush&&(T=64);const A=Mf(t,r(t,f,null,T,c,n,null,t[Cs].rendererFactory.createRenderer(c,i),null,null,null));t[n.index]=A}(n,i,t.data[f+i.componentOffset]),t.firstCreatePass||$a(i,n),No(c,n);const T=i.initialInputs;for(let A=f;A<m;A++){const x=t.data[A],G=hc(n,t,A,i);No(G,n),null!==T&&PE(0,A-f,G,x,0,T),Rs(x)&&(Ui(i.index,n)[Fr]=hc(n,t,A,i))}}(t,n,i,io(i,n)),64==(64&i.flags)&&Pf(t,n,i))}function K(t,n,i=io){const c=n.localNames;if(null!==c){let f=n.index+1;for(let m=0;m<c.length;m+=2){const T=c[m+1],A=-1===T?i(n,t):t[T];t[f++]=A}}}function oe(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Te(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Te(t,n,i,c,f,m,T,A,x,G,se){const De=Rn+c,nt=De+f,mt=function Ke(t,n){const i=[];for(let c=0;c<n;c++)i.push(c<t?null:zr);return i}(De,nt),Ut="function"==typeof G?G():G;return mt[mn]={type:t,blueprint:mt,template:i,queries:null,viewQuery:A,declTNode:n,data:mt.slice().fill(null,De),bindingStartIndex:De,expandoStartIndex:nt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:x,consts:Ut,incompleteFirstPass:!1,ssrId:se}}let un=t=>null;function Lr(t,n,i,c){for(let f in t)if(t.hasOwnProperty(f)){i=null===i?{}:i;const m=t[f];null===c?Oi(i,n,f,m):c.hasOwnProperty(f)&&Oi(i,n,c[f],m)}return i}function Oi(t,n,i,c){t.hasOwnProperty(i)?t[i].push(n,c):t[i]=[n,c]}function Be(t,n,i,c,f,m,T,A){const x=io(n,i);let se,G=n.inputs;!A&&null!=G&&(se=G[c])?(Am(t,i,se,c,f),ds(n)&&function Qe(t,n){const i=Ui(n,t);16&i[rr]||(i[rr]|=64)}(i,n.index)):3&n.type&&(c=function dt(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=T?T(f,n.value||"",c):f,m.setProperty(x,c,f))}function St(t,n,i,c){if(sl()){const f=null===c?null:{"":-1},m=function W_(t,n){const i=t.directiveRegistry;let c=null,f=null;if(i)for(let m=0;m<i.length;m++){const T=i[m];if(bs(n,T.selectors,!1))if(c||(c=[]),Rs(T))if(null!==T.findHostDirectiveDefs){const A=[];f=f||new Map,T.findHostDirectiveDefs(T,A,f),c.unshift(...A,T),Im(t,n,A.length)}else c.unshift(T),Im(t,n,0);else f=f||new Map,T.findHostDirectiveDefs?.(T,c,f),c.push(T)}return null===c?null:[c,f]}(t,i);let T,A;null===m?T=A=null:[T,A]=m,null!==T&&qe(t,n,i,T,f,A),f&&function SE(t,n,i){if(n){const c=t.localNames=[];for(let f=0;f<n.length;f+=2){const m=i[n[f+1]];if(null==m)throw new we(-301,!1);c.push(n[f],m)}}}(i,c,f)}i.mergedAttrs=Ki(i.mergedAttrs,i.attrs)}function qe(t,n,i,c,f,m){for(let G=0;G<c.length;G++)dc($a(i,n),t,c[G].type);!function Zo(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,c.length);for(let G=0;G<c.length;G++){const se=c[G];se.providersResolver&&se.providersResolver(se)}let T=!1,A=!1,x=y(t,n,c.length,null);for(let G=0;G<c.length;G++){const se=c[G];i.mergedAttrs=Ki(i.mergedAttrs,se.hostAttrs),RE(t,i,n,x,se),_d(x,se,f),null!==se.contentQueries&&(i.flags|=4),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(i.flags|=64);const De=se.type.prototype;!T&&(De.ngOnChanges||De.ngOnInit||De.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),T=!0),!A&&(De.ngOnChanges||De.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),A=!0),x++}!function ui(t,n,i){const f=n.directiveEnd,m=t.data,T=n.attrs,A=[];let x=null,G=null;for(let se=n.directiveStart;se<f;se++){const De=m[se],nt=i?i.get(De):null,Ut=nt?nt.outputs:null;x=Lr(De.inputs,se,x,nt?nt.inputs:null),G=Lr(De.outputs,se,G,Ut);const dn=null===x||null===T||Co(n)?null:Cm(x,se,T);A.push(dn)}null!==x&&(x.hasOwnProperty("class")&&(n.flags|=8),x.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=x,n.outputs=G}(t,i,m)}function Pf(t,n,i){const c=i.directiveStart,f=i.directiveEnd,m=i.index,T=function Pd(){return or.lFrame.currentDirectiveIndex}();try{wr(m);for(let A=c;A<f;A++){const x=t.data[A],G=n[A];ku(A),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Wp(x,G)}}finally{wr(-1),ku(T)}}function Wp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Im(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function _d(t,n,i){if(i){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)i[n.exportAs[c]]=t;Rs(n)&&(i[""]=t)}}function RE(t,n,i,c,f){t.data[c]=f;const m=f.factory||(f.factory=no(f.type)),T=new qo(m,Rs(f),vu);t.blueprint[c]=T,i[c]=T,function Eu(t,n,i,c,f){const m=f.hostBindings;if(m){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const A=~n.index;(function zp(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(T)!=A&&T.push(A),T.push(i,c,m)}}(t,n,c,y(t,i,f.hostVars,zr),f)}function Mc(t,n,i,c,f,m){const T=io(t,n);!function mh(t,n,i,c,f,m,T){if(null==m)t.removeAttribute(n,f,i);else{const A=null==T?Ve(m):T(m,c||"",f);t.setAttribute(n,f,A,i)}}(n[Zn],T,m,t.value,i,c,f)}function PE(t,n,i,c,f,m){const T=m[n];if(null!==T)for(let A=0;A<T.length;)uv(c,i,T[A++],T[A++],T[A++])}function uv(t,n,i,c,f){const m=Gi(null);try{const T=t.inputTransforms;null!==T&&T.hasOwnProperty(c)&&(f=T[c].call(n,f)),null!==t.setInput?t.setInput(n,f,i,c):n[c]=f}finally{Gi(m)}}function Cm(t,n,i){let c=null,f=0;for(;f<i.length;){const m=i[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===c&&(c=[]);const T=t[m];for(let A=0;A<T.length;A+=2)if(T[A]===n){c.push(m,T[A+1],i[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function qp(t,n,i,c){return[t,!0,!1,n,null,0,c,i,null,null,null]}function wm(t,n){const i=t.contentQueries;if(null!==i)for(let c=0;c<i.length;c+=2){const m=i[c+1];if(-1!==m){const T=t.data[m];D(i[c]),T.contentQueries(2,n[m],m)}}}function Mf(t,n){return t[ws]?t[Ss][Xi]=n:t[ws]=n,t[Ss]=n,n}function Yp(t,n,i){D(0);const c=Gi(null);try{n(t,i)}finally{Gi(c)}}function K_(t){return t[Mi]||(t[Mi]=[])}function q_(t){return t.cleanup||(t.cleanup=[])}function Y_(t,n){const i=t[vi],c=i?i.get(Tl,null):null;c&&c.handleError(n)}function Am(t,n,i,c,f){for(let m=0;m<i.length;){const T=i[m++],A=i[m++];uv(t.data[T],n[T],c,A,f)}}function Ql(t,n,i){const c=xl(n,t);!function gp(t,n,i){t.setValue(n,i)}(t[Zn],c,i)}function fv(t,n){const i=Ui(n,t),c=i[mn];!function ME(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(c,i);const f=i[ei];null!==f&&null===i[yn]&&(i[yn]=_u(f,i[vi])),Xp(c,i,i[Fr])}function Xp(t,n,i){N(n);try{const c=t.viewQuery;null!==c&&Yp(1,c,i);const f=t.template;null!==f&&b(t,n,f,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wm(t,n),t.staticViewQueries&&Yp(2,t.viewQuery,i);const m=t.components;null!==m&&function X_(t,n){for(let i=0;i<n.length;i++)fv(t,n[i])}(n,m)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[rr]&=-5,bt()}}let Qp=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,c,f){const m=typeof Zone>"u"?null:Zone.current,T=function Vt(t,n,i){const c=Object.create(qr);i&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const f=T=>{c.cleanupFn=T};return c.ref={notify:()=>xs(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Za(c))return;c.hasRun=!0;const T=ba(c);try{c.cleanupFn(),c.cleanupFn=Un,c.fn(f)}finally{ka(c,T)}},cleanup:()=>c.cleanupFn()},c.ref}(i,G=>{this.all.has(G)&&this.queue.set(G,m)},f);let A;this.all.add(T),T.notify();const x=()=>{T.cleanup(),A?.(),this.all.delete(T),this.queue.delete(T)};return A=c?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[i,c]of this.queue)this.queue.delete(i),c?c.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function po(t,n,i){let c=i?t.styles:null,f=i?t.classes:null,m=0;if(null!==n)for(let T=0;T<n.length;T++){const A=n[T];"number"==typeof A?m=A:1==m?f=Ae(f,A):2==m&&(c=Ae(c,A+": "+n[++T]+";"))}i?t.styles=c:t.stylesWithoutHost=c,i?t.classes=f:t.classesWithoutHost=f}function bu(t,n,i,c,f=!1){for(;null!==i;){const m=n[i.index];null!==m&&c.push(Cr(m)),Kr(m)&&xf(m,c);const T=i.type;if(8&T)bu(t,n,i.child,c);else if(32&T){const A=cu(i,n);let x;for(;x=A();)c.push(x)}else if(16&T){const A=yc(n,i);if(Array.isArray(A))c.push(...A);else{const x=Jd(n[Q]);bu(x[mn],x,A,c,!0)}}i=f?i.projectionNext:i.next}return c}function xf(t,n){for(let i=Sr;i<t.length;i++){const c=t[i],f=c[mn].firstChild;null!==f&&bu(c[mn],c,f,n)}t[Vr]!==t[ei]&&n.push(t[Vr])}function _h(t,n,i,c=!0){const f=n[Cs],m=f.rendererFactory,T=f.afterRenderEventManager;m.begin?.(),T?.begin();try{Of(t,n,t.template,i)}catch(x){throw c&&Y_(n,x),x}finally{m.end?.(),f.effectManager?.flush(),T?.end()}}function Of(t,n,i,c){const f=n[rr];if(256!=(256&f)){n[Cs].effectManager?.flush(),N(n);try{Va(n),function ja(t){return or.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&b(t,n,i,2,c);const T=3==(3&f);if(T){const G=t.preOrderCheckHooks;null!==G&&ll(n,G,null)}else{const G=t.preOrderHooks;null!==G&&Lu(n,G,0,null),Vu(n,0)}if(function Sm(t){for(let n=o_(t);null!==n;n=Og(n)){if(!n[Ei])continue;const i=n[Li];for(let c=0;c<i.length;c++){Nl(i[c])}}}(n),Dm(n,2),null!==t.contentQueries&&wm(t,n),T){const G=t.contentCheckHooks;null!==G&&ll(n,G)}else{const G=t.contentHooks;null!==G&&Lu(n,G,1),Vu(n,1)}!function e(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const c=IE(n,Or);try{for(let f=0;f<i.length;f++){const m=i[f];if(m<0)wr(~m);else{const T=m,A=i[++f],x=i[++f];Xf(A,T),c.dirty=!1;const G=ba(c);try{x(2,n[T])}finally{ka(c,G)}}}}finally{null===n[Or]&&CE(n,Or),wr(-1)}}(t,n);const A=t.components;null!==A&&Zp(n,A,0);const x=t.viewQuery;if(null!==x&&Yp(2,x,c),T){const G=t.viewCheckHooks;null!==G&&ll(n,G)}else{const G=t.viewHooks;null!==G&&Lu(n,G,2),Vu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[rr]&=-73,Pu(n)}finally{bt()}}}function Dm(t,n){for(let i=o_(t);null!==i;i=Og(i))for(let c=Sr;c<i.length;c++)Q_(i[c],n)}function pv(t,n,i){Q_(Ui(n,t),i)}function Q_(t,n){if(!function Kc(t){return 128==(128&t[rr])}(t))return;const i=t[mn],c=t[rr];if(80&c&&0===n||1024&c||2===n)Of(i,t,i.template,t[Fr]);else if(t[rs]>0){Dm(t,1);const f=i.components;null!==f&&Zp(t,f,1)}}function Zp(t,n,i){for(let c=0;c<n.length;c++)pv(t,n[c],i)}class yh{get rootNodes(){const n=this._lView,i=n[mn];return bu(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fr]}set context(n){this._lView[Fr]=n}get destroyed(){return 256==(256&this._lView[rr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[cr];if(Kr(n)){const i=n[8],c=i?i.indexOf(this):-1;c>-1&&(nd(n,c),ao(i,c))}this._attachedToViewContainer=!1}_p(this._lView[mn],this._lView)}onDestroy(n){!function qc(t,n){if(256==(256&t[rr]))throw new we(911,!1);null===t[An]&&(t[An]=[]),t[An].push(n)}(this._lView,n)}markForCheck(){Rf(this._cdRefInjectingView||this._lView)}detach(){this._lView[rr]&=-129}reattach(){this._lView[rr]|=128}detectChanges(){_h(this._lView[mn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function a_(t,n){df(t,n,n[Zn],2,null,null)}(this._lView[mn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=n}}class gv extends yh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;_h(n[mn],n,n[Fr],!1)}checkNoChanges(){}get context(){return null}}class Nf extends Ac{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Dr(n);return new kf(i,this.ngModule)}}function Rm(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class vh{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,c){c=Sn(c);const f=this.injector.get(n,Df,c);return f!==Df||i===Df?f:this.parentInjector.get(n,i,c)}}class kf extends _m{get inputs(){const n=this.componentDef,i=n.inputTransforms,c=Rm(n.inputs);if(null!==i)for(const f of c)i.hasOwnProperty(f.propName)&&(f.transform=i[f.propName]);return c}get outputs(){return Rm(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function gi(t){return t.map(wo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,c,f){let m=(f=f||this.ngModule)instanceof Xr?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const T=m?new vh(n,m):n,A=T.get(Bp,null);if(null===A)throw new we(407,!1);const De={rendererFactory:A,sanitizer:T.get(ym,null),effectManager:T.get(Qp,null),afterRenderEventManager:T.get(bm,null)},nt=A.createRenderer(null,this.componentDef),mt=this.componentDef.selectors[0][0]||"div",Ut=c?function wt(t,n,i,c){const m=c.get(j_,!1)||i===Es.ShadowDom,T=t.selectRootElement(n,m);return function Ht(t){un(t)}(T),T}(nt,c,this.componentDef.encapsulation,T):mp(nt,mt,function J_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(mt)),lr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let en=null;null!==Ut&&(en=_u(Ut,T,!0));const jr=Te(0,null,null,1,0,null,null,null,null,null,null),Ti=r(null,jr,null,lr,null,null,De,nt,T,null,en);let _s,ac;N(Ti);try{const Yf=this.componentDef;let vy,Fb=null;Yf.findHostDirectiveDefs?(vy=[],Fb=new Map,Yf.findHostDirectiveDefs(Yf,vy,Fb),vy.push(Yf)):vy=[Yf];const tD=function mv(t,n){const i=t[mn],c=Rn;return t[c]=n,a(i,c,2,"#host",null)}(Ti,Ut),nD=function Ff(t,n,i,c,f,m,T){const A=f[mn];!function _v(t,n,i,c){for(const f of t)n.mergedAttrs=Ki(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(po(n,n.mergedAttrs,!0),null!==i&&rh(c,i,n))}(c,t,n,T);let x=null;null!==n&&(x=_u(n,f[vi]));const G=m.rendererFactory.createRenderer(n,i);let se=16;i.signals?se=4096:i.onPush&&(se=64);const De=r(f,oe(i),null,se,f[t.index],t,m,G,null,null,x);return A.firstCreatePass&&Im(A,t,c.length-1),Mf(f,De),f[t.index]=De}(tD,Ut,Yf,vy,Ti,De,nt);ac=Wc(jr,Rn),Ut&&function yv(t,n,i,c){if(c)Hr(t,i,["ng-version",qy.full]);else{const{attrs:f,classes:m}=function Oa(t){const n=[],i=[];let c=1,f=2;for(;c<t.length;){let m=t[c];if("string"==typeof m)2===f?""!==m&&n.push(m,t[++c]):8===f&&i.push(m);else{if(!di(f))break;f=m}c++}return{attrs:n,classes:i}}(n.selectors[0]);f&&Hr(t,i,f),m&&m.length>0&&hf(t,i,m.join(" "))}}(nt,Yf,Ut,c),void 0!==i&&function eg(t,n,i){const c=t.projection=[];for(let f=0;f<n.length;f++){const m=i[f];c.push(null!=m?Array.from(m):null)}}(ac,this.ngContentSelectors,i),_s=function ha(t,n,i,c,f,m){const T=Gs(),A=f[mn],x=io(T,f);qe(A,f,T,i,null,c);for(let se=0;se<i.length;se++)No(hc(f,A,T.directiveStart+se,T),f);Pf(A,f,T),x&&No(x,f);const G=hc(f,A,T.directiveStart+T.componentOffset,T);if(t[Fr]=f[Fr]=G,null!==m)for(const se of m)se(G,n);return R(A,T,t),G}(nD,Yf,vy,Fb,Ti,[tg]),Xp(jr,Ti,null)}finally{bt()}return new Pm(this.componentType,_s,Up(ac,Ti),Ti,ac)}}class Pm extends Lp{constructor(n,i,c,f,m){super(),this.location=c,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new gv(f),this.componentType=n}setInput(n,i){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const m=this._rootLView;Am(m[mn],m,f,n,i),this.previousInputValues.set(n,i),Rf(Ui(this._tNode.index,m))}}get injector(){return new Ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function tg(){const t=Gs();Aa(Wt()[mn],t)}function Z_(t){let n=function vv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const c=[t];for(;n;){let f;if(Rs(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new we(903,!1);f=n.\u0275dir}if(f){if(i){c.push(f);const T=t;T.inputs=ng(t.inputs),T.inputTransforms=ng(t.inputTransforms),T.declaredInputs=ng(t.declaredInputs),T.outputs=ng(t.outputs);const A=f.hostBindings;A&&bv(t,A);const x=f.viewQuery,G=f.contentQueries;if(x&&Ev(t,x),G&&$i(t,G),te(t.inputs,f.inputs),te(t.declaredInputs,f.declaredInputs),te(t.outputs,f.outputs),null!==f.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),te(T.inputTransforms,f.inputTransforms)),Rs(f)&&f.data.animation){const se=t.data;se.animation=(se.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let T=0;T<m.length;T++){const A=m[T];A&&A.ngInherit&&A(t),A===Z_&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Lf(t){let n=0,i=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=n+=f.hostVars,f.hostAttrs=Ki(f.hostAttrs,i=Ki(i,f.hostAttrs))}}(c)}function ng(t){return t===yi?{}:t===sr?[]:t}function Ev(t,n){const i=t.viewQuery;t.viewQuery=i?(c,f)=>{n(c,f),i(c,f)}:n}function $i(t,n){const i=t.contentQueries;t.contentQueries=i?(c,f,m)=>{n(c,f,m),i(c,f,m)}:n}function bv(t,n){const i=t.hostBindings;t.hostBindings=i?(c,f)=>{n(c,f),i(c,f)}:n}function ty(t){const n=t.inputConfig,i={};for(const c in n)if(n.hasOwnProperty(c)){const f=n[c];Array.isArray(f)&&f[2]&&(i[c]=f[2])}t.inputTransforms=i}function og(t){return!!xc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function xc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Jl(t,n,i){return t[n]=i}function Eh(t,n){return t[n]}function bo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Iu(t,n,i,c){const f=bo(t,n,i);return bo(t,n+1,c)||f}function fa(t,n,i,c,f,m){const T=Iu(t,n,i,c);return Iu(t,n+2,f,m)||T}function ag(t,n,i,c){const f=Wt();return bo(f,Mo(),n)&&(Pr(),Mc(Gr(),f,t,n,i,c)),ag}function Th(t,n,i,c){return bo(t,Mo(),i)?n+Ve(i)+c:zr}function Ih(t,n,i,c,f,m){const A=Iu(t,function zs(){return or.lFrame.bindingIndex}(),i,f);return yo(2),A?n+Ve(i)+c+Ve(f)+m:zr}function Fc(t,n,i,c,f,m,T,A){const x=Wt(),G=Pr(),se=t+Rn,De=G.firstCreatePass?function kc(t,n,i,c,f,m,T,A,x){const G=n.consts,se=a(n,t,4,T||null,Ns(G,A));St(n,i,se,Ns(G,x)),Aa(n,se);const De=se.tView=Te(2,se,c,f,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,G,null);return null!==n.queries&&(n.queries.template(n,se),De.queries=n.queries.embeddedTView(se)),se}(se,G,x,n,i,c,f,m,T):G.data[se];Po(De,!1);const nt=$m(G,x,De,t);al()&&Tp(G,x,nt,De),No(nt,x),Mf(x,x[se]=qp(nt,x,nt,De)),Ys(De)&&V(G,x,De),null!=T&&K(x,De,A)}let $m=function wd(t,n,i,c){return oa(!0),n[Zn].createComment("")};function Hm(t){return Ol(function Sd(){return or.lFrame.contextLView}(),Rn+t)}function Ph(t,n,i){const c=Wt();return bo(c,Mo(),n)&&Be(Pr(),Gr(),c,t,n,c[Zn],i,!1),Ph}function fg(t,n,i,c,f){const T=f?"class":"style";Am(t,i,n.inputs[T],T,c)}function zf(t,n,i,c){const f=Wt(),m=Pr(),T=Rn+t,A=f[Zn],x=m.firstCreatePass?function Gm(t,n,i,c,f,m){const T=n.consts,x=a(n,t,2,c,Ns(T,f));return St(n,i,x,Ns(T,m)),null!==x.attrs&&po(x,x.attrs,!1),null!==x.mergedAttrs&&po(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(T,m,f,n,i,c):m.data[T],G=ay(m,f,x,A,n,t);f[T]=G;const se=Ys(x);return Po(x,!0),rh(A,G,x),32!=(32&x.flags)&&al()&&Tp(m,f,G,x),0===function ra(){return or.lFrame.elementDepthCount}()&&No(G,f),function kl(){or.lFrame.elementDepthCount++}(),se&&(V(m,f,x),R(m,x,f)),null!==c&&K(f,x),zf}function lo(){let t=Gs();Yc()?Nu():(t=t.parent,Po(t,!1));const n=t;(function Ro(t){return or.skipHydrationRootTNode===t})(n)&&function Ou(){or.skipHydrationRootTNode=null}(),function Ia(){or.lFrame.elementDepthCount--}();const i=Pr();return i.firstCreatePass&&(Aa(i,t),$o(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Bh(t){return 0!=(8&t.flags)}(n)&&fg(i,n,Wt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ju(t){return 0!=(16&t.flags)}(n)&&fg(i,n,Wt(),n.stylesWithoutHost,!1),lo}function Wf(t,n,i,c){return zf(t,n,i,c),lo(),Wf}let ay=(t,n,i,c,f,m)=>(oa(!0),mp(c,f,function Fu(){return or.lFrame.currentNamespace}()));function pg(t,n,i){const c=Wt(),f=Pr(),m=t+Rn,T=f.firstCreatePass?function Av(t,n,i,c,f){const m=n.consts,T=Ns(m,c),A=a(n,t,8,"ng-container",T);return null!==T&&po(A,T,!0),St(n,i,A,Ns(m,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(m,f,c,n,i):f.data[m];Po(T,!0);const A=ga(f,c,T,t);return c[m]=A,al()&&Tp(f,c,A,T),No(A,c),Ys(T)&&(V(f,c,T),R(f,T,c)),null!=i&&K(c,T),pg}function gg(){let t=Gs();const n=Pr();return Yc()?Nu():(t=t.parent,Po(t,!1)),n.firstCreatePass&&(Aa(n,t),$o(t)&&n.queries.elementEnd(t)),gg}function Lc(t,n,i){return pg(t,n,i),gg(),Lc}let ga=(t,n,i,c)=>(oa(!0),du(n[Zn],""));function nc(){return Wt()}function E(t){return!!t&&"function"==typeof t.then}function B(t){return!!t&&"function"==typeof t.subscribe}function q(t,n,i,c){const f=Wt(),m=Pr(),T=Gs();return function Ft(t,n,i,c,f,m,T){const A=Ys(c),G=t.firstCreatePass&&q_(t),se=n[Fr],De=K_(n);let nt=!0;if(3&c.type||T){const dn=io(c,n),Fn=T?T(dn):dn,lr=De.length,en=T?Ti=>T(Cr(Ti[c.index])):c.index;let jr=null;if(!T&&A&&(jr=function Et(t,n,i,c){const f=t.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const T=f[m];if(T===i&&f[m+1]===c){const A=n[Mi],x=f[m+2];return A.length>x?A[x]:null}"string"==typeof T&&(m+=2)}return null}(t,n,f,c.index)),null!==jr)(jr.__ngLastListenerFn__||jr).__ngNextListenerFn__=m,jr.__ngLastListenerFn__=m,nt=!1;else{m=zi(c,n,se,m,!1);const Ti=i.listen(Fn,f,m);De.push(m,Ti),G&&G.push(f,en,lr,lr+1)}}else m=zi(c,n,se,m,!1);const mt=c.outputs;let Ut;if(nt&&null!==mt&&(Ut=mt[f])){const dn=Ut.length;if(dn)for(let Fn=0;Fn<dn;Fn+=2){const _s=n[Ut[Fn]][Ut[Fn+1]].subscribe(m),ac=De.length;De.push(m,_s),G&&G.push(f,c.index,ac,-(ac+1))}}}(m,f,f[Zn],T,t,n,c),q}function Cn(t,n,i,c){try{return Ci(6,n,i),!1!==i(c)}catch(f){return Y_(t,f),!1}finally{Ci(7,n,i)}}function zi(t,n,i,c,f){return function m(T){if(T===Function)return c;Rf(t.componentOffset>-1?Ui(t.index,n):n);let x=Cn(n,i,c,T),G=m.__ngNextListenerFn__;for(;G;)x=Cn(n,i,G,T)&&x,G=G.__ngNextListenerFn__;return f&&!1===x&&T.preventDefault(),x}}function go(t=1){return function En(t){return(or.lFrame.contextLView=function pr(t,n){for(;t>0;)n=n[ee],t--;return n}(t,or.lFrame.contextLView))[Fr]}(t)}function ma(t,n,i){return Vo(t,"",n,"",i),ma}function Vo(t,n,i,c,f){const m=Wt(),T=Th(m,n,i,c);return T!==zr&&Be(Pr(),Gr(),m,t,T,m[Zn],f,!1),Vo}function dy(t,n){return t<<17|n<<2}function Vc(t){return t>>17&32767}function Sv(t){return 2|t}function xh(t){return(131068&t)>>2}function Rv(t,n){return-131069&t|n<<2}function zm(t){return 1|t}function fy(t,n,i,c,f){const m=t[i+1],T=null===n;let A=c?Vc(m):xh(m),x=!1;for(;0!==A&&(!1===x||T);){const se=t[A+1];BE(t[A],n)&&(x=!0,t[A+1]=c?zm(se):Sv(se)),A=c?Vc(se):xh(se)}x&&(t[i+1]=c?Sv(m):zm(m))}function BE(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ml(t,n)>=0}const Uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jE(t){return t.substring(Uo.key,Uo.keyEnd)}function $E(t,n){const i=Uo.textEnd;return i===n?-1:(n=Uo.keyEnd=function N0(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Uo.key=n,i),mg(t,n,i))}function mg(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function xv(t,n,i){return xa(t,n,i,!1),xv}function Ov(t,n){return xa(t,n,null,!0),Ov}function rc(t){!function Al(t,n,i,c){const f=Pr(),m=yo(2);f.firstUpdatePass&&qE(f,null,m,c);const T=Wt();if(i!==zr&&bo(T,m,i)){const A=f.data[ur()];if(Lv(A,c)&&!KE(f,m)){let x=c?A.classesWithoutHost:A.stylesWithoutHost;null!==x&&(i=Ae(x,i||"")),fg(f,A,T,i,c)}else!function yg(t,n,i,c,f,m,T,A){f===zr&&(f=sr);let x=0,G=0,se=0<f.length?f[0]:null,De=0<m.length?m[0]:null;for(;null!==se||null!==De;){const nt=x<f.length?f[x+1]:void 0,mt=G<m.length?m[G+1]:void 0;let dn,Ut=null;se===De?(x+=2,G+=2,nt!==mt&&(Ut=De,dn=mt)):null===De||null!==se&&se<De?(x+=2,Ut=se):(G+=2,Ut=De,dn=mt),null!==Ut&&XE(t,n,i,c,Ut,dn,T,A),se=x<f.length?f[x]:null,De=G<m.length?m[G]:null}}(f,A,T,T[Zn],T[m+1],T[m+1]=function YE(t,n,i){if(null==i||""===i)return sr;const c=[],f=Tc(i);if(Array.isArray(f))for(let m=0;m<f.length;m++)t(c,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&t(c,m,f[m]);else"string"==typeof f&&n(c,f);return c}(t,n,i),c,m)}}(sc,ic,t,!0)}function ic(t,n){for(let i=function x0(t){return function Pv(t){Uo.key=0,Uo.keyEnd=0,Uo.value=0,Uo.valueEnd=0,Uo.textEnd=t.length}(t),$E(t,mg(t,0,Uo.textEnd))}(n);i>=0;i=$E(n,i))Qo(t,jE(n),!0)}function xa(t,n,i,c){const f=Wt(),m=Pr(),T=yo(2);m.firstUpdatePass&&qE(m,t,T,c),n!==zr&&bo(f,T,n)&&XE(m,m.data[ur()],f,f[Zn],t,f[T+1]=function V0(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ae(Tc(t)))),t}(n,i),c,T)}function KE(t,n){return n>=t.expandoStartIndex}function qE(t,n,i,c){const f=t.data;if(null===f[i+1]){const m=f[ur()],T=KE(t,i);Lv(m,c)&&null===n&&!T&&(n=!1),n=function Nv(t,n,i,c){const f=function wa(t){const n=or.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=c?n.residualClasses:n.residualStyles;if(null===f)0===(c?n.classBindings:n.styleBindings)&&(i=_g(i=kv(null,t,n,i,c),n.attrs,c),m=null);else{const T=n.directiveStylingLast;if(-1===T||t[T]!==f)if(i=kv(f,t,n,i,c),null===m){let x=function F0(t,n,i){const c=i?n.classBindings:n.styleBindings;if(0!==xh(c))return t[Vc(c)]}(t,n,c);void 0!==x&&Array.isArray(x)&&(x=kv(null,t,n,x[1],c),x=_g(x,n.attrs,c),function L0(t,n,i,c){t[Vc(i?n.classBindings:n.styleBindings)]=c}(t,n,c,x))}else m=function py(t,n,i){let c;const f=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<f;m++)c=_g(c,t[m].hostAttrs,i);return _g(c,n.attrs,i)}(t,n,c)}return void 0!==m&&(c?n.residualClasses=m:n.residualStyles=m),i}(f,m,n,c),function P0(t,n,i,c,f,m){let T=m?n.classBindings:n.styleBindings,A=Vc(T),x=xh(T);t[c]=i;let se,G=!1;if(Array.isArray(i)?(se=i[1],(null===se||ml(i,se)>0)&&(G=!0)):se=i,f)if(0!==x){const nt=Vc(t[A+1]);t[c+1]=dy(nt,A),0!==nt&&(t[nt+1]=Rv(t[nt+1],c)),t[A+1]=function hy(t,n){return 131071&t|n<<17}(t[A+1],c)}else t[c+1]=dy(A,0),0!==A&&(t[A+1]=Rv(t[A+1],c)),A=c;else t[c+1]=dy(x,0),0===A?A=c:t[x+1]=Rv(t[x+1],c),x=c;G&&(t[c+1]=Sv(t[c+1])),fy(t,se,c,!0),fy(t,se,c,!1),function UE(t,n,i,c,f){const m=f?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&ml(m,n)>=0&&(i[c+1]=zm(i[c+1]))}(n,se,t,c,m),T=dy(A,x),m?n.classBindings=T:n.styleBindings=T}(f,m,n,i,T,c)}}function kv(t,n,i,c,f){let m=null;const T=i.directiveEnd;let A=i.directiveStylingLast;for(-1===A?A=i.directiveStart:A++;A<T&&(m=n[A],c=_g(c,m.hostAttrs,f),m!==t);)A++;return null!==t&&(i.directiveStylingLast=A),c}function _g(t,n,i){const c=i?1:2;let f=-1;if(null!==n)for(let m=0;m<n.length;m++){const T=n[m];"number"==typeof T?f=T:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Qo(t,T,!!i||n[++m]))}return void 0===t?null:t}function sc(t,n,i){const c=String(n);""!==c&&!c.includes(" ")&&Qo(t,c,i)}function XE(t,n,i,c,f,m,T,A){if(!(3&n.type))return;const x=t.data,G=x[A+1],se=function jb(t){return 1==(1&t)}(G)?QE(x,n,i,f,xh(G),T):void 0;Wm(se)||(Wm(m)||function Dv(t){return 2==(2&t)}(G)&&(m=QE(x,null,i,f,A,T)),function f_(t,n,i,c,f){if(n)f?t.addClass(i,c):t.removeClass(i,c);else{let m=-1===c.indexOf("-")?void 0:qd.DashCase;null==f?t.removeStyle(i,c,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=qd.Important),t.setStyle(i,c,f,m))}}(c,T,xl(ur(),i),f,m))}function QE(t,n,i,c,f,m){const T=null===n;let A;for(;f>0;){const x=t[f],G=Array.isArray(x),se=G?x[1]:x,De=null===se;let nt=i[f+1];nt===zr&&(nt=De?sr:void 0);let mt=De?qu(nt,c):se===c?nt:void 0;if(G&&!Wm(mt)&&(mt=qu(x,c)),Wm(mt)&&(A=mt,T))return A;const Ut=t[f+1];f=T?Vc(Ut):xh(Ut)}if(null!==n){let x=m?n.residualClasses:n.residualStyles;null!=x&&(A=qu(x,c))}return A}function Wm(t){return void 0!==t}function Lv(t,n){return 0!=(t.flags&(n?8:16))}function Km(t,n=""){const i=Wt(),c=Pr(),f=t+Rn,m=c.firstCreatePass?a(c,f,1,n,null):c.data[f],T=JE(c,i,m,n,t);i[f]=T,al()&&Tp(c,i,T,m),Po(m,!1)}let JE=(t,n,i,c,f)=>(oa(!0),function eh(t,n){return t.createText(n)}(n[Zn],c));function Uv(t){return qm("",t,""),Uv}function qm(t,n,i){const c=Wt(),f=Th(c,t,n,i);return f!==zr&&Ql(c,ur(),f),qm}function Bv(t,n,i,c,f){const m=Wt(),T=Ih(m,t,n,i,c,f);return T!==zr&&Ql(m,ur(),T),Bv}const pt=void 0;var vn=["en",[["a","p"],["AM","PM"],pt],[["AM","PM"],pt,pt],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pt,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pt,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pt,"{1} 'at' {0}",pt],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jt(t){const i=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===c?1:5}];let gn={};function Xt(t){const n=function bi(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=Br(n);if(i)return i;const c=n.split("-")[0];if(i=Br(c),i)return i;if("en"===c)return vn;throw new we(701,!1)}function yr(t){return Xt(t)[qn.PluralCase]}function Br(t){return t in gn||(gn[t]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[t]),gn[t]}var qn=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(qn||{});const Vi="en-US";let Bc=Vi;function rb(t,n,i,c,f){if(t=lt(t),Array.isArray(t))for(let m=0;m<t.length;m++)rb(t[m],n,i,c,f);else{const m=Pr(),T=Wt(),A=Gs();let x=pu(t)?t:lt(t.provide);const G=D_(t),se=1048575&A.providerIndexes,De=A.directiveStart,nt=A.providerIndexes>>20;if(pu(t)||!t.multi){const mt=new qo(G,f,vu),Ut=sb(x,n,f?se:se+nt,De);-1===Ut?(dc($a(A,T),m,x),ib(m,t,n.length),n.push(x),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),i.push(mt),T.push(mt)):(i[Ut]=mt,T[Ut]=mt)}else{const mt=sb(x,n,se+nt,De),Ut=sb(x,n,se,se+nt),Fn=Ut>=0&&i[Ut];if(f&&!Fn||!f&&!(mt>=0&&i[mt])){dc($a(A,T),m,x);const lr=function kC(t,n,i,c,f){const m=new qo(t,i,vu);return m.multi=[],m.index=n,m.componentProviders=0,oT(m,f,c&&!i),m}(f?NC:OC,i.length,f,c,G);!f&&Fn&&(i[Ut].providerFactory=lr),ib(m,t,n.length,0),n.push(x),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),i.push(lr),T.push(lr)}else ib(m,t,mt>-1?mt:Ut,oT(i[f?Ut:mt],G,!f&&c));!f&&c&&Fn&&i[Ut].componentProviders++}}}function ib(t,n,i,c){const f=pu(n),m=function Uy(t){return!!t.useClass}(n);if(f||m){const x=(m?lt(n.useClass):n).prototype.ngOnDestroy;if(x){const G=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const se=G.indexOf(i);-1===se?G.push(i,[c,x]):G[se+1].push(c,x)}else G.push(i,x)}}}function oT(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function sb(t,n,i,c){for(let f=i;f<c;f++)if(n[f]===t)return f;return-1}function OC(t,n,i,c){return ob(this.multi,[])}function NC(t,n,i,c){const f=this.multi;let m;if(this.providerFactory){const T=this.providerFactory.componentProviders,A=hc(i,i[mn],this.providerFactory.index,c);m=A.slice(0,T),ob(f,m);for(let x=T;x<A.length;x++)m.push(A[x])}else m=[],ob(f,m);return m}function ob(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function aT(t,n=[]){return i=>{i.providersResolver=(c,f)=>function xC(t,n,i){const c=Pr();if(c.firstCreatePass){const f=Rs(t);rb(i,c.data,c.blueprint,f,!0),rb(n,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,n)}}class Qm{}class lT{}function FC(t,n){return new ab(t,n??null,[])}class ab extends Qm{constructor(n,i,c){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nf(this);const f=ai(n);this._bootstrapComponents=md(f.bootstrap),this._r3Injector=Jy(n,i,[{provide:Qm,useValue:this},{provide:Ac,useValue:this.componentFactoryResolver},...c],ae(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class lb extends lT{constructor(n){super(),this.moduleType=n}create(n){return new ab(this.moduleType,n,[])}}class cT extends Qm{constructor(n){super(),this.componentFactoryResolver=new Nf(this),this.instance=null;const i=new gu([...n.providers,{provide:Qm,useValue:this},{provide:Ac,useValue:this.componentFactoryResolver}],n.parent||ud(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function uT(t,n,i=null){return new cT({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let VC=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const c=am(0,i.type),f=c.length>0?uT([c],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,f)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=sn({token:t,providedIn:"environment",factory:()=>new t(Mt(Xr))})}}return t})();function dT(t){t.getStandaloneInjector=n=>n.get(VC).getOrCreateStandaloneInjector(t)}function yT(t,n,i){const c=Js()+t,f=Wt();return f[c]===zr?Jl(f,c,i?n.call(i):n()):Eh(f,c)}function vT(t,n,i,c){return wT(Wt(),Js(),t,n,i,c)}function ET(t,n,i,c,f){return AT(Wt(),Js(),t,n,i,c,f)}function bT(t,n,i,c,f,m){return DT(Wt(),Js(),t,n,i,c,f,m)}function TT(t,n,i,c,f,m,T){return function ST(t,n,i,c,f,m,T,A,x){const G=n+i;return fa(t,G,f,m,T,A)?Jl(t,G+4,x?c.call(x,f,m,T,A):c(f,m,T,A)):Yv(t,G+4)}(Wt(),Js(),t,n,i,c,f,m,T)}function IT(t,n,i,c,f,m,T,A){const x=Js()+t,G=Wt(),se=fa(G,x,i,c,f,m);return bo(G,x+4,T)||se?Jl(G,x+5,A?n.call(A,i,c,f,m,T):n(i,c,f,m,T)):Eh(G,x+5)}function CT(t,n,i,c,f,m,T,A,x){const G=Js()+t,se=Wt(),De=fa(se,G,i,c,f,m);return Iu(se,G+4,T,A)||De?Jl(se,G+6,x?n.call(x,i,c,f,m,T,A):n(i,c,f,m,T,A)):Eh(se,G+6)}function Yv(t,n){const i=t[n];return i===zr?void 0:i}function wT(t,n,i,c,f,m){const T=n+i;return bo(t,T,f)?Jl(t,T+1,m?c.call(m,f):c(f)):Yv(t,T+1)}function AT(t,n,i,c,f,m,T){const A=n+i;return Iu(t,A,f,m)?Jl(t,A+2,T?c.call(T,f,m):c(f,m)):Yv(t,A+2)}function DT(t,n,i,c,f,m,T,A){const x=n+i;return function bh(t,n,i,c,f){const m=Iu(t,n,i,c);return bo(t,n+2,f)||m}(t,x,f,m,T)?Jl(t,x+3,A?c.call(A,f,m,T):c(f,m,T)):Yv(t,x+3)}function PT(t,n){const i=Pr();let c;const f=t+Rn;i.firstCreatePass?(c=function XC(t,n){if(n)for(let i=n.length-1;i>=0;i--){const c=n[i];if(t===c.name)return c}}(n,i.pipeRegistry),i.data[f]=c,c.onDestroy&&(i.destroyHooks??=[]).push(f,c.onDestroy)):c=i.data[f];const m=c.factory||(c.factory=no(c.type)),A=$r(vu);try{const x=ul(!1),G=m();return ul(x),function wu(t,n,i,c){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=c}(i,Wt(),f,G),G}finally{$r(A)}}function MT(t,n,i){const c=t+Rn,f=Wt(),m=Ol(f,c);return Xv(f,c)?wT(f,Js(),n,m.transform,i,m):m.transform(i)}function xT(t,n,i,c){const f=t+Rn,m=Wt(),T=Ol(m,f);return Xv(m,f)?AT(m,Js(),n,T.transform,i,c,T):T.transform(i,c)}function OT(t,n,i,c,f){const m=t+Rn,T=Wt(),A=Ol(T,m);return Xv(T,m)?DT(T,Js(),n,A.transform,i,c,f,A):A.transform(i,c,f)}function Xv(t,n){return t[mn].data[n].pure}function ZC(){return this._results[Symbol.iterator]()}class ub{get changes(){return this._changes||(this._changes=new Pc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=ub.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=ZC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const c=this;c.dirty=!1;const f=function Xo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Yh(t,n,i){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],m=n[c];if(i&&(f=i(f),m=i(m)),m!==f)return!1}return!0}(c._results,f,i))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tw(t,n,i,c=!0){const f=n[mn];if(function Lg(t,n,i,c){const f=Sr+c,m=i.length;c>0&&(i[f-1][Xi]=n),c<m-Sr?(n[Xi]=i[f],Ld(i,Sr+c,n)):(i.push(n),n[Xi]=null),n[cr]=i;const T=n[Se];null!==T&&i!==T&&function l_(t,n){const i=t[Li];n[Q]!==n[cr][cr][Q]&&(t[Ei]=!0),null===i?t[Li]=[n]:i.push(n)}(T,n);const A=n[tt];null!==A&&A.insertView(t),n[rr]|=128}(f,n,t,i),c){const m=lf(i,t),T=n[Zn],A=af(T,t[Vr]);null!==A&&function kg(t,n,i,c,f,m){c[ei]=f,c[li]=n,df(t,c,i,1,f,m)}(f,t[li],T,n,A,m)}}let Qv=(()=>{class t{static{this.__NG_ELEMENT_ID__=iw}}return t})();const nw=Qv,rw=class extends nw{constructor(n,i,c){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,c){const f=function ew(t,n,i,c){const f=n.tView,A=r(t,f,i,4096&t[rr]?4096:16,null,n,null,null,null,c?.injector??null,c?.hydrationInfo??null);A[Se]=t[n.index];const G=t[tt];return null!==G&&(A[tt]=G.createEmbeddedView(f)),Xp(f,A,i),A}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:c});return new yh(f)}};function iw(){return p0(Gs(),Wt())}function p0(t,n){return 4&t.type?new rw(n,t,Up(t,n)):null}let m0=(()=>{class t{static{this.__NG_ELEMENT_ID__=uw}}return t})();function uw(){return BT(Gs(),Wt())}const dw=m0,VT=class extends dw{constructor(n,i,c){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=c}get element(){return Up(this._hostTNode,this._hostLView)}get injector(){return new Ws(this._hostTNode,this._hostLView)}get parentInjector(){const n=jl(this._hostTNode,this._hostLView);if(cl(n)){const i=Da(n,this._hostLView),c=Bl(n);return new Ws(i[mn].data[c+8],i)}return new Ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=UT(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Sr}createEmbeddedView(n,i,c){let f,m;"number"==typeof c?f=c:null!=c&&(f=c.index,m=c.injector);const A=n.createEmbeddedViewImpl(i||{},m,null);return this.insertImpl(A,f,false),A}createComponent(n,i,c,f,m){const T=n&&!function Gl(t){return"function"==typeof t}(n);let A;if(T)A=i;else{const dn=i||{};A=dn.index,c=dn.injector,f=dn.projectableNodes,m=dn.environmentInjector||dn.ngModuleRef}const x=T?n:new kf(Dr(n)),G=c||this.parentInjector;if(!m&&null==x.ngModule){const Fn=(T?G:this.parentInjector).get(Xr,null);Fn&&(m=Fn)}Dr(x.componentType??{});const mt=x.create(G,f,null,m);return this.insertImpl(mt.hostView,A,false),mt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,c){const f=n._lView;if(function Wo(t){return Kr(t[cr])}(f)){const x=this.indexOf(n);if(-1!==x)this.detach(x);else{const G=f[cr],se=new VT(G,G[li],G[cr]);se.detach(se.indexOf(n))}}const T=this._adjustIndex(i),A=this._lContainer;return tw(A,f,T,!c),n.attachToViewContainerRef(),Ld(db(A),T,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=UT(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),c=nd(this._lContainer,i);c&&(ao(db(this._lContainer),i),_p(c[mn],c))}detach(n){const i=this._adjustIndex(n,-1),c=nd(this._lContainer,i);return c&&null!=ao(db(this._lContainer),i)?new yh(c):null}_adjustIndex(n,i=0){return n??this.length+i}};function UT(t){return t[8]}function db(t){return t[8]||(t[8]=[])}function BT(t,n){let i;const c=n[t.index];return Kr(c)?i=c:(i=qp(c,n,null,t),n[t.index]=i,Mf(n,i)),jT(i,n,t,c),new VT(i,t,n)}let jT=function $T(t,n,i,c){if(t[Vr])return;let f;f=8&i.type?Cr(c):function hw(t,n){const i=t[Zn],c=i.createComment(""),f=io(n,t);return id(i,af(i,f),c,function Bg(t,n){return t.nextSibling(n)}(i,f),!1),c}(n,i),t[Vr]=f};class hb{constructor(n){this.queryList=n,this.matches=null}clone(){return new hb(this.queryList)}setDirty(){this.queryList.setDirty()}}class fb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const c=null!==n.contentQueries?n.contentQueries[0]:i.length,f=[];for(let m=0;m<c;m++){const T=i.getByIndex(m);f.push(this.queries[T.indexInDeclarationView].clone())}return new fb(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==QT(n,i).matches&&this.queries[i].setDirty()}}class HT{constructor(n,i,c=null){this.predicate=n,this.flags=i,this.read=c}}class pb{constructor(n=[]){this.queries=n}elementStart(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let c=0;c<this.length;c++){const f=null!==i?i.length:0,m=this.getByIndex(c).embeddedTView(n,f);m&&(m.indexInDeclarationView=c,null!==i?i.push(m):i=[m])}return null!==i?new pb(i):null}template(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class gb{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new gb(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==i;)c=c.parent;return i===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const m=c[f];this.matchTNodeWithReadOption(n,i,gw(i,m)),this.matchTNodeWithReadOption(n,i,aa(i,n,m,!1,!1))}else c===Qv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,aa(i,n,c,!1,!1))}matchTNodeWithReadOption(n,i,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===ph||f===m0||f===Qv&&4&i.type)this.addMatch(i.index,-2);else{const m=aa(i,n,f,!1,!1);null!==m&&this.addMatch(i.index,m)}else this.addMatch(i.index,c)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function gw(t,n){const i=t.localNames;if(null!==i)for(let c=0;c<i.length;c+=2)if(i[c]===n)return i[c+1];return null}function _w(t,n,i,c){return-1===i?function mw(t,n){return 11&t.type?Up(t,n):4&t.type?p0(t,n):null}(n,t):-2===i?function yw(t,n,i){return i===ph?Up(n,t):i===Qv?p0(n,t):i===m0?BT(n,t):void 0}(t,n,c):hc(t,t[mn],i,n)}function GT(t,n,i,c){const f=n[tt].queries[c];if(null===f.matches){const m=t.data,T=i.matches,A=[];for(let x=0;x<T.length;x+=2){const G=T[x];A.push(G<0?null:_w(n,m[G],T[x+1],i.metadata.read))}f.matches=A}return f.matches}function mb(t,n,i,c){const f=t.queries.getByIndex(i),m=f.matches;if(null!==m){const T=GT(t,n,f,i);for(let A=0;A<m.length;A+=2){const x=m[A];if(x>0)c.push(T[A/2]);else{const G=m[A+1],se=n[-x];for(let De=Sr;De<se.length;De++){const nt=se[De];nt[Se]===nt[cr]&&mb(nt[mn],nt,G,c)}if(null!==se[Li]){const De=se[Li];for(let nt=0;nt<De.length;nt++){const mt=De[nt];mb(mt[mn],mt,G,c)}}}}}return c}function zT(t){const n=Wt(),i=Pr(),c=Fl();D(c+1);const f=QT(i,c);if(t.dirty&&function Fh(t){return 4==(4&t[rr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const m=f.crossesNgTemplate?mb(i,n,c,[]):GT(i,n,f,c);t.reset(m,oE),t.notifyOnChanges()}return!0}return!1}function WT(t,n,i){const c=Pr();c.firstCreatePass&&(XT(c,new HT(t,n,i),-1),2==(2&n)&&(c.staticViewQueries=!0)),YT(c,Wt(),n)}function KT(t,n,i,c){const f=Pr();if(f.firstCreatePass){const m=Gs();XT(f,new HT(n,i,c),m.index),function Ew(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(f,t),2==(2&i)&&(f.staticContentQueries=!0)}YT(f,Wt(),i)}function qT(){return function vw(t,n){return t[tt].queries[n].queryList}(Wt(),Fl())}function YT(t,n,i){const c=new ub(4==(4&i));(function ar(t,n,i,c){const f=K_(n);f.push(i),t.firstCreatePass&&q_(t).push(c,f.length-1)})(t,n,c,c.destroy),null===n[tt]&&(n[tt]=new fb),n[tt].queries.push(new hb(c))}function XT(t,n,i){null===t.queries&&(t.queries=new pb),t.queries.track(new gb(n,i))}function QT(t,n){return t.queries.getByIndex(n)}function JT(t,n){return p0(t,n)}function _b(t){return!!ai(t)}const gI=new hn("Application Initializer");let Tb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,c)=>{this.resolve=i,this.reject=c}),this.appInits=fn(gI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const f of this.appInits){const m=f();if(E(m))i.push(m);else if(B(m)){const T=new Promise((A,x)=>{m.subscribe({complete:A,error:x})});i.push(T)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{c()}).catch(f=>{this.reject(f)}),0===i.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mI=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const y0=new hn("LocaleId",{providedIn:"root",factory:()=>fn(y0,bn.Optional|bn.SkipSelf)||function jw(){return typeof $localize<"u"&&$localize.locale||Vi}()}),$w=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let _I=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ye.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Gw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let zw=(()=>{class t{compileModuleSync(i){return new lb(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const c=this.compileModuleSync(i),m=md(ai(i).declarations).reduce((T,A)=>{const x=Dr(A);return x&&T.push(new kf(x)),T},[]);return new Gw(c,m)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const bI=new hn(""),TI=new hn("");let wb,fA=(()=>{class t{constructor(i,c,f){this._ngZone=i,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wb||(function pA(t){wb=t}(f),f.addToWindow(c)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(i)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,c,f){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==m),i(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:i,timeoutId:m,updateCb:f})}whenStable(i,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,c,f){return[]}static{this.\u0275fac=function(c){return new(c||t)(Mt(Eo),Mt(II),Mt(TI))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac})}}return t})(),II=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,c){this._applications.set(i,c)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,c=!0){return wb?.findTestabilityInTree(this,i,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Eg=null;const CI=new hn("AllowMultipleToken"),Ab=new hn("PlatformDestroyListeners"),Db=new hn("appBootstrapListener");class _A{constructor(n,i){this.name=n,this.token=i}}function DI(t,n,i=[]){const c=`Platform: ${n}`,f=new hn(c);return(m=[])=>{let T=Sb();if(!T||T.injector.get(CI,!1)){const A=[...i,...m,{provide:f,useValue:!0}];t?t(A):function yA(t){if(Eg&&!Eg.get(CI,!1))throw new we(400,!1);(function wI(){!function La(t){So=t}(()=>{throw new we(600,!1)})})(),Eg=t;const n=t.get(RI);(function AI(t){t.get($y,null)?.forEach(i=>i())})(t)}(function SI(t=[],n){return Dc.create({name:n,providers:[{provide:yf,useValue:"platform"},{provide:Ab,useValue:new Set([()=>Eg=null])},...t]})}(A,c))}return function EA(t){const n=Sb();if(!n)throw new we(401,!1);return n}()}}function Sb(){return Eg?.get(RI)??null}let RI=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,c){const f=function bA(t="zone.js",n){return"noop"===t?new U_:"zone.js"===t?new Eo(n):t}(c?.ngZone,function PI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const m=function LC(t,n,i){return new ab(t,n,i)}(i.moduleType,this.injector,function kI(t){return[{provide:Eo,useFactory:t},{provide:hu,multi:!0,useFactory:()=>{const n=fn(IA,{optional:!0});return()=>n.initialize()}},{provide:NI,useFactory:TA},{provide:vE,useFactory:tv}]}(()=>f)),T=m.injector.get(Tl,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:x=>{T.handleError(x)}});m.onDestroy(()=>{E0(this._modules,m),A.unsubscribe()})}),function MI(t,n,i){try{const c=i();return E(c)?c.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(T,f,()=>{const A=m.injector.get(Tb);return A.runInitializers(),A.donePromise.then(()=>(function jc(t){ut(t,"Expected localeId to be defined"),"string"==typeof t&&(Bc=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(y0,Vi)||Vi),this._moduleDoBootstrap(m),m))})})}bootstrapModule(i,c=[]){const f=xI({},c);return function gA(t,n,i){const c=new lb(i);return Promise.resolve(c)}(0,0,i).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(i){const c=i.injector.get(yy);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!i.instance.ngDoBootstrap)throw new we(-403,!1);i.instance.ngDoBootstrap(c)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const i=this._injector.get(Ab,null);i&&(i.forEach(c=>c()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(Mt(Dc))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function xI(t,n){return Array.isArray(n)?n.reduce(xI,t):{...t,...n}}let yy=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fn(NI),this.zoneIsStable=fn(vE),this.componentTypes=[],this.components=[],this.isStable=fn(_I).hasPendingTasks.pipe((0,je.n)(i=>i?(0,Re.of)(!1):this.zoneIsStable),(0,Fe.F)(),(0,be.u)()),this._injector=fn(Xr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,c){const f=i instanceof _m;if(!this._injector.get(Tb).done)throw!f&&Ds(i),new we(405,!1);let T;T=f?i:this._injector.get(Ac).resolveComponentFactory(i),this.componentTypes.push(T.componentType);const A=function mA(t){return t.isBoundToModule}(T)?void 0:this._injector.get(Qm),G=T.create(Dc.NULL,[],c||T.selector,A),se=G.location.nativeElement,De=G.injector.get(bI,null);return De?.registerApplication(se),G.onDestroy(()=>{this.detachView(G.hostView),E0(this.components,G),De?.unregisterApplication(se)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const c=i;this._views.push(c),c.attachToAppRef(this)}detachView(i){const c=i;E0(this._views,c),c.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const c=this._injector.get(Db,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>E0(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new we(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function E0(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const NI=new hn("",{providedIn:"root",factory:()=>fn(Tl).handleError.bind(void 0)});function TA(){const t=fn(Eo),n=fn(Tl);return i=>t.runOutsideAngular(()=>n.handleError(i))}let IA=(()=>{class t{constructor(){this.zone=fn(Eo),this.applicationRef=fn(yy)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wA(){return!1}let AA=(()=>{class t{static{this.__NG_ELEMENT_ID__=DA}}return t})();function DA(t){return function SA(t,n,i){if(ds(t)&&!i){const c=Ui(t.index,n);return new yh(c,c)}return 47&t.type?new yh(n[Q],n):null}(Gs(),Wt(),16==(16&t))}class BI{constructor(){}supports(n){return og(n)}create(n){return new OA(n)}}const xA=(t,n)=>n;class OA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||xA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,c=this._removalsHead,f=0,m=null;for(;i||c;){const T=!c||i&&i.currentIndex<$I(c,f,m)?i:c,A=$I(T,f,m),x=T.currentIndex;if(T===c)f--,c=c._nextRemoved;else if(i=i._next,null==T.previousIndex)f++;else{m||(m=[]);const G=A-f,se=x-f;if(G!=se){for(let nt=0;nt<G;nt++){const mt=nt<m.length?m[nt]:m[nt]=0,Ut=mt+nt;se<=Ut&&Ut<G&&(m[nt]=mt+1)}m[T.previousIndex]=se-G}}A!==x&&n(T,A,x)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!og(n))throw new we(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,m,T,i=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)m=n[A],T=this._trackByFn(A,m),null!==i&&Object.is(i.trackById,T)?(c&&(i=this._verifyReinsertion(i,m,T,A)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,T,A),c=!0),i=i._next}else f=0,function Vf(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let c;for(;!(c=i.next()).done;)n(c.value)}}(n,A=>{T=this._trackByFn(f,A),null!==i&&Object.is(i.trackById,T)?(c&&(i=this._verifyReinsertion(i,A,T,f)),Object.is(i.item,A)||this._addIdentityChange(i,A)):(i=this._mismatch(i,A,T,f),c=!0),i=i._next,f++}),this.length=f;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,c,f){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,m,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,m,f)):n=this._addAfter(new NA(i,c),m,f),n}_verifyReinsertion(n,i,c,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?n=this._reinsertAfter(m,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,m=n._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(n,i,c),this._addToMoves(n,c),n}_moveAfter(n,i,c){return this._unlink(n),this._insertAfter(n,i,c),this._addToMoves(n,c),n}_addAfter(n,i,c){return this._insertAfter(n,i,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,c){const f=null===i?this._itHead:i._next;return n._next=f,n._prev=i,null===f?this._itTail=n:f._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new jI),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,c=n._next;return null===i?this._itHead=c:i._next=c,null===c?this._itTail=i:c._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class NA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===i||i<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const i=n._prevDup,c=n._nextDup;return null===i?this._head=c:i._nextDup=c,null===c?this._tail=i:c._prevDup=i,null===this._head}}class jI{constructor(){this.map=new Map}put(n){const i=n.trackById;let c=this.map.get(i);c||(c=new kA,this.map.set(i,c)),c.add(n)}get(n,i){const f=this.map.get(n);return f?f.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $I(t,n,i){const c=t.previousIndex;if(null===c)return c;let f=0;return i&&c<i.length&&(f=i[c]),c+n+f}class HI{constructor(){}supports(n){return n instanceof Map||xc(n)}create(){return new FA}}class FA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||xc(n)))throw new we(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,f)=>{if(i&&i.key===f)this._maybeAddToChanges(i,c),this._appendAfter=i,i=i._next;else{const m=this._getOrCreateRecordForKey(f,c);i=this._insertBeforeOrAppend(i,m)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let c=i;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const c=n._prev;return i._next=n,i._prev=c,n._prev=i,c&&(c._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,i);const m=f._prev,T=f._next;return m&&(m._next=T),T&&(T._prev=m),f._next=null,f._prev=null,f}const c=new LA(n);return this._records.set(n,c),c.currentValue=i,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(c=>i(n[c],c))}}class LA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function GI(){return new Ob([new BI])}let Ob=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:GI})}constructor(i){this.factories=i}static create(i,c){if(null!=c){const f=c.factories.slice();i=i.concat(f)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||GI()),deps:[[t,new ru,new yl]]}}find(i){const c=this.factories.find(f=>f.supports(i));if(null!=c)return c;throw new we(901,!1)}}return t})();function zI(){return new Nb([new HI])}let Nb=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:zI})}constructor(i){this.factories=i}static create(i,c){if(c){const f=c.factories.slice();i=i.concat(f)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||zI()),deps:[[t,new ru,new yl]]}}find(i){const c=this.factories.find(f=>f.supports(i));if(c)return c;throw new we(901,!1)}}return t})();const BA=DI(null,"core",[]);let jA=(()=>{class t{constructor(i){}static{this.\u0275fac=function(c){return new(c||t)(Mt(yy))}}static{this.\u0275mod=fr({type:t})}static{this.\u0275inj=Jt({})}}return t})();function JA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function eD(t){const n=Dr(t);if(!n)return null;const i=new kf(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(rn,Je,F)=>{F.d(Je,{DS:()=>Pt,X8:()=>Ue,$z:()=>qt,UB:()=>ir,yy:()=>Ot,ZP:()=>Ce,AU:()=>pn,CP:()=>$e,gF:()=>Ye}),F(2438);var de=F(177),s=F(7705),ve=F(5407),ye=F(9253),Re=F(1413),be=F(7673),je=F(1985),Fe=F(8455),J=F(7786),te=F(941),ae=F(5558),Ae=F(6354),_e=F(6129);class it extends Re.B{constructor(Oe=1/0,st=1/0,tn=_e.U){super(),this._bufferSize=Oe,this._windowTime=st,this._timestampProvider=tn,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=st===1/0,this._bufferSize=Math.max(1,Oe),this._windowTime=Math.max(1,st)}next(Oe){const{isStopped:st,_buffer:tn,_infiniteTimeWindow:We,_timestampProvider:Pe,_windowTime:Ie}=this;st||(tn.push(Oe),!We&&tn.push(Pe.now()+Ie)),this._trimBuffer(),super.next(Oe)}_subscribe(Oe){this._throwIfClosed(),this._trimBuffer();const st=this._innerSubscribe(Oe),{_infiniteTimeWindow:tn,_buffer:We}=this,Pe=We.slice();for(let Ie=0;Ie<Pe.length&&!Oe.closed;Ie+=tn?1:2)Oe.next(Pe[Ie]);return this._checkFinalizedStatuses(Oe),st}_trimBuffer(){const{_bufferSize:Oe,_timestampProvider:st,_buffer:tn,_infiniteTimeWindow:We}=this,Pe=(We?1:2)*Oe;if(Oe<1/0&&Pe<tn.length&&tn.splice(0,tn.length-Pe),!We){const Ie=st.now();let ke=0;for(let ut=1;ut<tn.length&&tn[ut]<=Ie;ut+=2)ke=ut;ke&&tn.splice(0,ke+1)}}}var lt=F(7647);function xt(ct,Oe,st){let tn,We=!1;return ct&&"object"==typeof ct?({bufferSize:tn=1/0,windowTime:Oe=1/0,refCount:We=!1,scheduler:st}=ct):tn=ct??1/0,(0,lt.u)({connector:()=>new it(tn,Oe,st),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:We})}var kt=F(1594),Qt=F(8071);function ze(ct,Oe){return(0,Qt.T)(Oe)?(0,ae.n)(()=>ct,Oe):(0,ae.n)(()=>ct)}var we=F(6745),Ze=F(5964),Ve=F(7935);const $e=new s.nKC("angularfire2.auth.use-emulator"),Ot=new s.nKC("angularfire2.auth.settings"),Ce=new s.nKC("angularfire2.auth.tenant-id"),qt=new s.nKC("angularfire2.auth.langugage-code"),pn=new s.nKC("angularfire2.auth.use-device-language"),ir=new s.nKC("angularfire.auth.persistence"),Ye=(ct,Oe,st,tn,We,Pe,Ie,ke)=>(0,ye.BM)(`${ct.name}.auth`,"AngularFireAuth",ct.name,()=>{const ut=Oe.runOutsideAngular(()=>ct.auth());if(st&&ut.useEmulator(...st),tn&&(ut.tenantId=tn),ut.languageCode=We,Pe&&ut.useDeviceLanguage(),Ie)for(const[rt,Lt]of Object.entries(Ie))ut.settings[rt]=Lt;return ke&&ut.setPersistence(ke),ut},[st,tn,We,Pe,Ie,ke]);let Pt=(()=>{class ct{authState;idToken;user;idTokenResult;credential;constructor(st,tn,We,Pe,Ie,ke,ut,rt,Lt,wn,nr,sn){const Vn=new Re.B,Jt=(0,be.of)(void 0).pipe((0,te.Q)(Ie.outsideAngular),(0,ae.n)(()=>Pe.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2438)))),(0,Ae.T)(()=>(0,ye.iB)(st,Pe,tn)),(0,Ae.T)($n=>Ye($n,Pe,ke,rt,Lt,wn,ut,nr)),xt({bufferSize:1,refCount:!1}));if((0,de.Vy)(We))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,be.of)(null);else{Jt.pipe((0,kt.$)()).subscribe();const $n=Jt.pipe((0,ae.n)(Bt=>Bt.getRedirectResult().then(vr=>vr,()=>null)),ve.U0,xt({bufferSize:1,refCount:!1})),On=Jt.pipe((0,ae.n)(Bt=>new je.c(vr=>({unsubscribe:Pe.runOutsideAngular(()=>Bt.onAuthStateChanged(on=>vr.next(on),on=>vr.error(on),()=>vr.complete()))})))),Gt=Jt.pipe((0,ae.n)(Bt=>new je.c(vr=>({unsubscribe:Pe.runOutsideAngular(()=>Bt.onIdTokenChanged(on=>vr.next(on),on=>vr.error(on),()=>vr.complete()))}))));this.authState=$n.pipe(ze(On),(0,we._)(Ie.outsideAngular),(0,te.Q)(Ie.insideAngular)),this.user=$n.pipe(ze(Gt),(0,we._)(Ie.outsideAngular),(0,te.Q)(Ie.insideAngular)),this.idToken=this.user.pipe((0,ae.n)(Bt=>Bt?(0,Fe.H)(Bt.getIdToken()):(0,be.of)(null))),this.idTokenResult=this.user.pipe((0,ae.n)(Bt=>Bt?(0,Fe.H)(Bt.getIdTokenResult()):(0,be.of)(null))),this.credential=(0,J.h)($n,Vn,this.authState.pipe((0,Ze.p)(Bt=>!Bt))).pipe((0,Ae.T)(Bt=>Bt?.user?Bt:null),(0,we._)(Ie.outsideAngular),(0,te.Q)(Ie.insideAngular))}return(0,ye.Gt)(this,Jt,Pe,{spy:{apply:($n,On,Gt)=>{($n.startsWith("signIn")||$n.startsWith("createUser"))&&Gt.then(Bt=>Vn.next(Bt))}}})}static \u0275fac=function(tn){return new(tn||ct)(s.KVO(ye.rx),s.KVO(ye.uP,8),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(ve.u0),s.KVO($e,8),s.KVO(Ot,8),s.KVO(Ce,8),s.KVO(qt,8),s.KVO(pn,8),s.KVO(ir,8),s.KVO(ve.Jv,8))};static \u0275prov=s.jDH({token:ct,factory:ct.\u0275fac,providedIn:"any"})}return ct})(),Ue=(()=>{class ct{constructor(){Ve.A.registerVersion("angularfire",ve.xv.full,"auth-compat")}static \u0275fac=function(tn){return new(tn||ct)};static \u0275mod=s.$C({type:ct});static \u0275inj=s.G2t({providers:[Pt]})}return ct})()},6340:(rn,Je,F)=>{F.d(Je,{Qe:()=>Ai,cM:()=>ot});var o=F(177),de=F(7705),s=F(5407),ve=F(9253),ye=F(1977),Re=F(3236),be=F(1985),je=F(8455),Fe=F(7673),J=F(9172),te=F(9974),ae=F(4360);function Ae(){return(0,te.N)((Tt,ue)=>{let Ne,fe=!1;Tt.subscribe((0,ae._)(ue,gt=>{const Ee=Ne;Ne=gt,fe&&ue.next([Ee,gt]),fe=!0}))})}var _e=F(6354),it=F(2816),lt=F(3294),xt=F(5964),Qt=(F(2438),F(3345)),ze=F(9583),we=F(1076),Ze=F(1362);function $e(Tt,ue){if(void 0===ue)return{merge:!1};if(void 0!==ue.mergeFields&&void 0!==ue.merge)throw new ze.W6("invalid-argument",`Invalid options passed to function ${Tt}(): You cannot specify both "merge" and "mergeFields".`);return ue}function Ot(){if(typeof Uint8Array>"u")throw new ze.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Ce(){if(!(0,ze.qG)())throw new ze.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class qt{constructor(ue){this._delegate=ue}static fromBase64String(ue){return Ce(),new qt(ze.Ix.fromBase64String(ue))}static fromUint8Array(ue){return Ot(),new qt(ze.Ix.fromUint8Array(ue))}toBase64(){return Ce(),this._delegate.toBase64()}toUint8Array(){return Ot(),this._delegate.toUint8Array()}isEqual(ue){return this._delegate.isEqual(ue._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pn(Tt){return function ir(Tt,ue){if("object"!=typeof Tt||null===Tt)return!1;const Ne=Tt;for(const fe of ue)if(fe in Ne&&"function"==typeof Ne[fe])return!0;return!1}(Tt,["next","error","complete"])}class Ye{enableIndexedDbPersistence(ue,Ne){return(0,ze.ol)(ue._delegate,{forceOwnership:Ne})}enableMultiTabIndexedDbPersistence(ue){return(0,ze.Q5)(ue._delegate)}clearIndexedDbPersistence(ue){return(0,ze.me)(ue._delegate)}}class Pt{constructor(ue,Ne,fe){this._delegate=Ne,this._persistenceProvider=fe,this.INTERNAL={delete:()=>this.terminate()},ue instanceof ze.cm||(this._appCompat=ue)}get _databaseId(){return this._delegate._databaseId}settings(ue){const Ne=this._delegate._getSettings();!ue.merge&&Ne.host!==ue.host&&(0,ze.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ue.merge&&delete(ue=Object.assign(Object.assign({},Ne),ue)).merge,this._delegate._setSettings(ue)}useEmulator(ue,Ne,fe={}){(0,ze.vN)(this._delegate,ue,Ne,fe)}enableNetwork(){return(0,ze.Os)(this._delegate)}disableNetwork(){return(0,ze.LA)(this._delegate)}enablePersistence(ue){let Ne=!1,fe=!1;return ue&&(Ne=!!ue.synchronizeTabs,fe=!!ue.experimentalForceOwningTab,(0,ze.c8)("synchronizeTabs",Ne,"experimentalForceOwningTab",fe)),Ne?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,fe)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ze.iB)(this._delegate)}onSnapshotsInSync(ue){return(0,ze.FC)(this._delegate,ue)}get app(){if(!this._appCompat)throw new ze.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ue){try{return new sn(this,(0,ze.rJ)(this._delegate,ue))}catch(Ne){throw Pe(Ne,"collection()","Firestore.collection()")}}doc(ue){try{return new We(this,(0,ze.H9)(this._delegate,ue))}catch(Ne){throw Pe(Ne,"doc()","Firestore.doc()")}}collectionGroup(ue){try{return new Lt(this,(0,ze.Cs)(this._delegate,ue))}catch(Ne){throw Pe(Ne,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ue){return(0,ze.c4)(this._delegate,Ne=>ue(new Oe(this,Ne)))}batch(){return(0,ze.Ws)(this._delegate),new st(new ze.GA(this._delegate,ue=>(0,ze.z6)(this._delegate,ue)))}loadBundle(ue){return(0,ze.po)(this._delegate,ue)}namedQuery(ue){return(0,ze.St)(this._delegate,ue).then(Ne=>Ne?new Lt(this,Ne):null)}}class Ue extends ze.fS{constructor(ue){super(),this.firestore=ue}convertBytes(ue){return new qt(new ze.Ix(ue))}convertReference(ue){const Ne=this.convertDocumentKey(ue,this.firestore._databaseId);return We.forKey(Ne,this.firestore,null)}}class Oe{constructor(ue,Ne){this._firestore=ue,this._delegate=Ne,this._userDataWriter=new Ue(ue)}get(ue){const Ne=Vn(ue);return this._delegate.get(Ne).then(fe=>new ut(this._firestore,new ze.Wq(this._firestore._delegate,this._userDataWriter,fe._key,fe._document,fe.metadata,Ne.converter)))}set(ue,Ne,fe){const gt=Vn(ue);return fe?($e("Transaction.set",fe),this._delegate.set(gt,Ne,fe)):this._delegate.set(gt,Ne),this}update(ue,Ne,fe,...gt){const Ee=Vn(ue);return 2===arguments.length?this._delegate.update(Ee,Ne):this._delegate.update(Ee,Ne,fe,...gt),this}delete(ue){const Ne=Vn(ue);return this._delegate.delete(Ne),this}}class st{constructor(ue){this._delegate=ue}set(ue,Ne,fe){const gt=Vn(ue);return fe?($e("WriteBatch.set",fe),this._delegate.set(gt,Ne,fe)):this._delegate.set(gt,Ne),this}update(ue,Ne,fe,...gt){const Ee=Vn(ue);return 2===arguments.length?this._delegate.update(Ee,Ne):this._delegate.update(Ee,Ne,fe,...gt),this}delete(ue){const Ne=Vn(ue);return this._delegate.delete(Ne),this}commit(){return this._delegate.commit()}}class tn{constructor(ue,Ne,fe){this._firestore=ue,this._userDataWriter=Ne,this._delegate=fe}fromFirestore(ue,Ne){const fe=new ze.YQ(this._firestore._delegate,this._userDataWriter,ue._key,ue._document,ue.metadata,null);return this._delegate.fromFirestore(new rt(this._firestore,fe),Ne??{})}toFirestore(ue,Ne){return Ne?this._delegate.toFirestore(ue,Ne):this._delegate.toFirestore(ue)}static getInstance(ue,Ne){const fe=tn.INSTANCES;let gt=fe.get(ue);gt||(gt=new WeakMap,fe.set(ue,gt));let Ee=gt.get(Ne);return Ee||(Ee=new tn(ue,new Ue(ue),Ne),gt.set(Ne,Ee)),Ee}}tn.INSTANCES=new WeakMap;class We{constructor(ue,Ne){this.firestore=ue,this._delegate=Ne,this._userDataWriter=new Ue(ue)}static forPath(ue,Ne,fe){if(ue.length%2!=0)throw new ze.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ue.canonicalString()} has ${ue.length}`);return new We(Ne,new ze.T1(Ne._delegate,fe,new ze.K$(ue)))}static forKey(ue,Ne,fe){return new We(Ne,new ze.T1(Ne._delegate,fe,ue))}get id(){return this._delegate.id}get parent(){return new sn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ue){try{return new sn(this.firestore,(0,ze.rJ)(this._delegate,ue))}catch(Ne){throw Pe(Ne,"collection()","DocumentReference.collection()")}}isEqual(ue){return(ue=(0,we.Ku)(ue))instanceof ze.T1&&(0,ze.yx)(this._delegate,ue)}set(ue,Ne){Ne=$e("DocumentReference.set",Ne);try{return Ne?(0,ze.BN)(this._delegate,ue,Ne):(0,ze.BN)(this._delegate,ue)}catch(fe){throw Pe(fe,"setDoc()","DocumentReference.set()")}}update(ue,Ne,...fe){try{return 1===arguments.length?(0,ze.mZ)(this._delegate,ue):(0,ze.mZ)(this._delegate,ue,Ne,...fe)}catch(gt){throw Pe(gt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ze.kd)(this._delegate)}onSnapshot(...ue){const Ne=Ie(ue),fe=ke(ue,gt=>new ut(this.firestore,new ze.Wq(this.firestore._delegate,this._userDataWriter,gt._key,gt._document,gt.metadata,this._delegate.converter)));return(0,ze.aQ)(this._delegate,Ne,fe)}get(ue){let Ne;return Ne="cache"===ue?.source?(0,ze.nY)(this._delegate):"server"===ue?.source?(0,ze._e)(this._delegate):(0,ze.x7)(this._delegate),Ne.then(fe=>new ut(this.firestore,new ze.Wq(this.firestore._delegate,this._userDataWriter,fe._key,fe._document,fe.metadata,this._delegate.converter)))}withConverter(ue){return new We(this.firestore,this._delegate.withConverter(ue?tn.getInstance(this.firestore,ue):null))}}function Pe(Tt,ue,Ne){return Tt.message=Tt.message.replace(ue,Ne),Tt}function Ie(Tt){for(const ue of Tt)if("object"==typeof ue&&!pn(ue))return ue;return{}}function ke(Tt,ue){var Ne,fe;let gt;return gt=pn(Tt[0])?Tt[0]:pn(Tt[1])?Tt[1]:"function"==typeof Tt[0]?{next:Tt[0],error:Tt[1],complete:Tt[2]}:{next:Tt[1],error:Tt[2],complete:Tt[3]},{next:Ee=>{gt.next&&gt.next(ue(Ee))},error:null===(Ne=gt.error)||void 0===Ne?void 0:Ne.bind(gt),complete:null===(fe=gt.complete)||void 0===fe?void 0:fe.bind(gt)}}class ut{constructor(ue,Ne){this._firestore=ue,this._delegate=Ne}get ref(){return new We(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ue){return this._delegate.data(ue)}get(ue,Ne){return this._delegate.get(ue,Ne)}isEqual(ue){return(0,ze.lN)(this._delegate,ue._delegate)}}class rt extends ut{data(ue){const Ne=this._delegate.data(ue);return this._delegate._converter||(0,ze.bI)(void 0!==Ne,"Document in a QueryDocumentSnapshot should exist"),Ne}}class Lt{constructor(ue,Ne){this.firestore=ue,this._delegate=Ne,this._userDataWriter=new Ue(ue)}where(ue,Ne,fe){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze._M)(ue,Ne,fe)))}catch(gt){throw Pe(gt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ue,Ne){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.My)(ue,Ne)))}catch(fe){throw Pe(fe,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ue){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.AB)(ue)))}catch(Ne){throw Pe(Ne,"limit()","Query.limit()")}}limitToLast(ue){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.$1)(ue)))}catch(Ne){throw Pe(Ne,"limitToLast()","Query.limitToLast()")}}startAt(...ue){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.EO)(...ue)))}catch(Ne){throw Pe(Ne,"startAt()","Query.startAt()")}}startAfter(...ue){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.HM)(...ue)))}catch(Ne){throw Pe(Ne,"startAfter()","Query.startAfter()")}}endBefore(...ue){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.rf)(...ue)))}catch(Ne){throw Pe(Ne,"endBefore()","Query.endBefore()")}}endAt(...ue){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.FD)(...ue)))}catch(Ne){throw Pe(Ne,"endAt()","Query.endAt()")}}isEqual(ue){return(0,ze.B)(this._delegate,ue._delegate)}get(ue){let Ne;return Ne="cache"===ue?.source?(0,ze.kU)(this._delegate):"server"===ue?.source?(0,ze.Rr)(this._delegate):(0,ze.GG)(this._delegate),Ne.then(fe=>new nr(this.firestore,new ze.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,fe._snapshot)))}onSnapshot(...ue){const Ne=Ie(ue),fe=ke(ue,gt=>new nr(this.firestore,new ze.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,gt._snapshot)));return(0,ze.aQ)(this._delegate,Ne,fe)}withConverter(ue){return new Lt(this.firestore,this._delegate.withConverter(ue?tn.getInstance(this.firestore,ue):null))}}class wn{constructor(ue,Ne){this._firestore=ue,this._delegate=Ne}get type(){return this._delegate.type}get doc(){return new rt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nr{constructor(ue,Ne){this._firestore=ue,this._delegate=Ne}get query(){return new Lt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ue=>new rt(this._firestore,ue))}docChanges(ue){return this._delegate.docChanges(ue).map(Ne=>new wn(this._firestore,Ne))}forEach(ue,Ne){this._delegate.forEach(fe=>{ue.call(Ne,new rt(this._firestore,fe))})}isEqual(ue){return(0,ze.lN)(this._delegate,ue._delegate)}}class sn extends Lt{constructor(ue,Ne){super(ue,Ne),this.firestore=ue,this._delegate=Ne}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ue=this._delegate.parent;return ue?new We(this.firestore,ue):null}doc(ue){try{return new We(this.firestore,void 0===ue?(0,ze.H9)(this._delegate):(0,ze.H9)(this._delegate,ue))}catch(Ne){throw Pe(Ne,"doc()","CollectionReference.doc()")}}add(ue){return(0,ze.gS)(this._delegate,ue).then(Ne=>new We(this.firestore,Ne))}isEqual(ue){return(0,ze.yx)(this._delegate,ue._delegate)}withConverter(ue){return new sn(this.firestore,this._delegate.withConverter(ue?tn.getInstance(this.firestore,ue):null))}}function Vn(Tt){return(0,ze.lo)(Tt,ze.T1)}class Jt{constructor(...ue){this._delegate=new ze.uY(...ue)}static documentId(){return new Jt(ze.FA.keyField().canonicalString())}isEqual(ue){return(ue=(0,we.Ku)(ue))instanceof ze.uY&&this._delegate._internalPath.isEqual(ue._internalPath)}}class $n{constructor(ue){this._delegate=ue}static serverTimestamp(){const ue=(0,ze.O5)();return ue._methodName="FieldValue.serverTimestamp",new $n(ue)}static delete(){const ue=(0,ze.CL)();return ue._methodName="FieldValue.delete",new $n(ue)}static arrayUnion(...ue){const Ne=(0,ze.hq)(...ue);return Ne._methodName="FieldValue.arrayUnion",new $n(Ne)}static arrayRemove(...ue){const Ne=(0,ze.C3)(...ue);return Ne._methodName="FieldValue.arrayRemove",new $n(Ne)}static increment(ue){const Ne=(0,ze.GV)(ue);return Ne._methodName="FieldValue.increment",new $n(Ne)}isEqual(ue){return this._delegate.isEqual(ue._delegate)}}const On={Firestore:Pt,GeoPoint:ze.Ci,Timestamp:ze.Dc,Blob:qt,Transaction:Oe,WriteBatch:st,DocumentReference:We,DocumentSnapshot:ut,Query:Lt,QueryDocumentSnapshot:rt,QuerySnapshot:nr,CollectionReference:sn,FieldPath:Jt,FieldValue:$n,setLogLevel:function ct(Tt){(0,ze.He)(Tt)},CACHE_SIZE_UNLIMITED:ze.H6};!function Bt(Tt){(function Gt(Tt,ue){Tt.INTERNAL.registerComponent(new Ze.uA("firestore-compat",Ne=>{const fe=Ne.getProvider("app-compat").getImmediate(),gt=Ne.getProvider("firestore").getImmediate();return ue(fe,gt)},"PUBLIC").setServiceProps(Object.assign({},On)))})(Tt,(ue,Ne)=>new Pt(ue,Ne,new Ye)),Tt.registerVersion("@firebase/firestore-compat","0.3.38")}(Qt.A);var vr=F(7935);function kr(Tt,ue){return function on(Tt,ue=Re.E){return new be.c(Ne=>{let fe;return null!=ue?ue.schedule(()=>{fe=Tt.onSnapshot({includeMetadataChanges:!0},Ne)}):fe=Tt.onSnapshot({includeMetadataChanges:!0},Ne),()=>{fe?.()}})}(Tt,ue)}function $t(Tt,ue){return kr(Tt,ue).pipe((0,_e.T)(Ne=>({payload:Ne,type:"query"})))}class bn{ref;afs;constructor(ue,Ne){this.ref=ue,this.afs=Ne}set(ue,Ne){return this.ref.set(ue,Ne)}update(ue){return this.ref.update(ue)}delete(){return this.ref.delete()}collection(ue,Ne){const fe=this.ref.collection(ue),{ref:gt,query:Ee}=Gn(fe,Ne);return new pi(gt,Ee,this.afs)}snapshotChanges(){return function Yn(Tt,ue){return kr(Tt,ue).pipe((0,J.Z)(void 0),Ae(),(0,_e.T)(Ne=>{const[fe,gt]=Ne;return gt.exists?fe?.exists?{payload:gt,type:"modified"}:{payload:gt,type:"added"}:{payload:gt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(s.U0)}valueChanges(ue={}){return this.snapshotChanges().pipe((0,_e.T)(({payload:Ne})=>ue.idField?{...Ne.data(),[ue.idField]:Ne.id}:Ne.data()))}get(ue){return(0,je.H)(this.ref.get(ue)).pipe(s.U0)}}function Hn(Tt,ue){return $t(Tt,ue).pipe((0,J.Z)(void 0),Ae(),(0,_e.T)(Ne=>{const[fe,gt]=Ne,Ee=gt.payload.docChanges(),_t=Ee.map(Yt=>({type:Yt.type,payload:Yt}));return fe&&JSON.stringify(fe.payload.metadata)!==JSON.stringify(gt.payload.metadata)&&gt.payload.docs.forEach((Yt,Er)=>{const vt=Ee.find(M=>M.doc.ref.isEqual(Yt.ref)),$=fe?.payload.docs.find(M=>M.ref.isEqual(Yt.ref));vt&&JSON.stringify(vt.doc.metadata)===JSON.stringify(Yt.metadata)||!vt&&$&&JSON.stringify($.metadata)===JSON.stringify(Yt.metadata)||_t.push({type:"modified",payload:{oldIndex:Er,newIndex:Er,type:"modified",doc:Yt}})}),_t}))}function In(Tt,ue,Ne){return Hn(Tt,Ne).pipe((0,it.S)((fe,gt)=>function $r(Tt,ue,Ne){return ue.forEach(fe=>{Ne.indexOf(fe.type)>-1&&(Tt=function ri(Tt,ue){switch(ue.type){case"added":if(!Tt[ue.newIndex]||!Tt[ue.newIndex].doc.ref.isEqual(ue.doc.ref))return Mr(Tt,ue.newIndex,0,ue);break;case"modified":if(null==Tt[ue.oldIndex]||Tt[ue.oldIndex].doc.ref.isEqual(ue.doc.ref)){if(ue.oldIndex!==ue.newIndex){const Ne=Tt.slice();return Ne.splice(ue.oldIndex,1),Ne.splice(ue.newIndex,0,ue),Ne}return Mr(Tt,ue.newIndex,1,ue)}break;case"removed":if(Tt[ue.oldIndex]&&Tt[ue.oldIndex].doc.ref.isEqual(ue.doc.ref))return Mr(Tt,ue.oldIndex,1)}return Tt}(Tt,fe))}),Tt}(fe,gt.map(Ee=>Ee.payload),ue),[]),(0,lt.F)(),(0,_e.T)(fe=>fe.map(gt=>({type:gt.type,payload:gt}))))}function Mr(Tt,ue,Ne,...fe){const gt=Tt.slice();return gt.splice(ue,Ne,...fe),gt}function zn(Tt){return(!Tt||0===Tt.length)&&(Tt=["added","removed","modified"]),Tt}class pi{ref;query;afs;constructor(ue,Ne,fe){this.ref=ue,this.query=Ne,this.afs=fe}stateChanges(ue){let Ne=Hn(this.query,this.afs.schedulers.outsideAngular);return ue&&ue.length>0&&(Ne=Ne.pipe((0,_e.T)(fe=>fe.filter(gt=>ue.indexOf(gt.type)>-1)))),Ne.pipe((0,J.Z)(void 0),Ae(),(0,xt.p)(([fe,gt])=>gt.length>0||!fe),(0,_e.T)(([,fe])=>fe),s.U0)}auditTrail(ue){return this.stateChanges(ue).pipe((0,it.S)((Ne,fe)=>[...Ne,...fe],[]))}snapshotChanges(ue){const Ne=zn(ue);return In(this.query,Ne,this.afs.schedulers.outsideAngular).pipe(s.U0)}valueChanges(ue={}){return $t(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.T)(Ne=>Ne.payload.docs.map(fe=>ue.idField?{...fe.data(),[ue.idField]:fe.id}:fe.data())),s.U0)}get(ue){return(0,je.H)(this.query.get(ue)).pipe(s.U0)}add(ue){return this.ref.add(ue)}doc(ue){return new bn(this.ref.doc(ue),this.afs)}}class ys{query;afs;constructor(ue,Ne){this.query=ue,this.afs=Ne}stateChanges(ue){return ue&&0!==ue.length?Hn(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.T)(Ne=>Ne.filter(fe=>ue.indexOf(fe.type)>-1)),(0,xt.p)(Ne=>Ne.length>0),s.U0):Hn(this.query,this.afs.schedulers.outsideAngular).pipe(s.U0)}auditTrail(ue){return this.stateChanges(ue).pipe((0,it.S)((Ne,fe)=>[...Ne,...fe],[]))}snapshotChanges(ue){const Ne=zn(ue);return In(this.query,Ne,this.afs.schedulers.outsideAngular).pipe(s.U0)}valueChanges(ue={}){return $t(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.T)(fe=>fe.payload.docs.map(gt=>ue.idField?{[ue.idField]:gt.id,...gt.data()}:gt.data())),s.U0)}get(ue){return(0,je.H)(this.query.get(ue)).pipe(s.U0)}}const hn=new de.nKC("angularfire2.enableFirestorePersistence"),ii=new de.nKC("angularfire2.firestore.persistenceSettings"),Jn=new de.nKC("angularfire2.firestore.settings"),Ir=new de.nKC("angularfire2.firestore.use-emulator");function Gn(Tt,ue=(Ne=>Ne)){return{query:ue(Tt),ref:Tt}}let Ai=(()=>{class Tt{schedulers;firestore;persistenceEnabled$;constructor(Ne,fe,gt,Ee,_t,Yt,Er,vt,$,M,L,ie,me,ht,Mt,an,fn){this.schedulers=Er;const Sn=(0,ve.iB)(Ne,Yt,fe),br=$;M&&(0,ye.gF)(Sn,Yt,L,me,ht,Mt,ie,an),[this.firestore,this.persistenceEnabled$]=(0,ve.BM)(`${Sn.name}.firestore`,"AngularFirestore",Sn.name,()=>{const ln=Yt.runOutsideAngular(()=>Sn.firestore());if(Ee&&ln.settings(Ee),br&&ln.useEmulator(...br),gt&&!(0,o.Vy)(_t)){const Wr=()=>{try{return(0,je.H)(ln.enablePersistence(vt||void 0).then(()=>!0,()=>!1))}catch(dr){return typeof console<"u"&&console.warn(dr),(0,Fe.of)(!1)}};return[ln,Yt.runOutsideAngular(Wr)]}return[ln,(0,Fe.of)(!1)]},[Ee,br,gt])}collection(Ne,fe){let gt;gt="string"==typeof Ne?this.firestore.collection(Ne):Ne;const{ref:Ee,query:_t}=Gn(gt,fe),Yt=this.schedulers.ngZone.run(()=>Ee);return new pi(Yt,_t,this)}collectionGroup(Ne,fe){const gt=fe||(_t=>_t),Ee=this.firestore.collectionGroup(Ne);return new ys(gt(Ee),this)}doc(Ne){let fe;fe="string"==typeof Ne?this.firestore.doc(Ne):Ne;const gt=this.schedulers.ngZone.run(()=>fe);return new bn(gt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(fe){return new(fe||Tt)(de.KVO(ve.rx),de.KVO(ve.uP,8),de.KVO(hn,8),de.KVO(Jn,8),de.KVO(de.Agw),de.KVO(de.SKi),de.KVO(s.u0),de.KVO(ii,8),de.KVO(Ir,8),de.KVO(ye.DS,8),de.KVO(ye.CP,8),de.KVO(ye.yy,8),de.KVO(ye.ZP,8),de.KVO(ye.$z,8),de.KVO(ye.AU,8),de.KVO(ye.UB,8),de.KVO(s.Jv,8))};static \u0275prov=de.jDH({token:Tt,factory:Tt.\u0275fac,providedIn:"any"})}return Tt})(),ot=(()=>{class Tt{constructor(){vr.A.registerVersion("angularfire",s.xv.full,"fst-compat")}static enablePersistence(Ne){return{ngModule:Tt,providers:[{provide:hn,useValue:!0},{provide:ii,useValue:Ne}]}}static \u0275fac=function(fe){return new(fe||Tt)};static \u0275mod=de.$C({type:Tt});static \u0275inj=de.G2t({providers:[Ai]})}return Tt})()},8721:(rn,Je,F)=>{F.d(Je,{ap:()=>Oe,y5:()=>We});var o=F(5407),de=F(1985),s=F(7673),ve=F(8455),ye=F(3236),Re=F(9974),be=F(4360),Fe=F(6354),J=F(5558),te=F(7705),ae=F(9253),Ae=F(3345),_e=F(4535),it=F(1362);class lt{constructor(Ie,ke,ut){this._delegate=Ie,this.task=ke,this.ref=ut}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class xt{constructor(Ie,ke){this._delegate=Ie,this._ref=ke,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new lt(this._delegate.snapshot,this,this._ref)}then(Ie,ke){return this._delegate.then(ut=>{if(Ie)return Ie(new lt(ut,this,this._ref))},ke)}on(Ie,ke,ut,rt){let Lt;return ke&&(Lt="function"==typeof ke?wn=>ke(new lt(wn,this,this._ref)):{next:ke.next?wn=>ke.next(new lt(wn,this,this._ref)):void 0,complete:ke.complete||void 0,error:ke.error||void 0}),this._delegate.on(Ie,Lt,ut||void 0,rt||void 0)}}class kt{constructor(Ie,ke){this._delegate=Ie,this._service=ke}get prefixes(){return this._delegate.prefixes.map(Ie=>new Qt(Ie,this._service))}get items(){return this._delegate.items.map(Ie=>new Qt(Ie,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Qt{constructor(Ie,ke){this._delegate=Ie,this.storage=ke}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ie){const ke=(0,_e.Mp)(this._delegate,Ie);return new Qt(ke,this.storage)}get root(){return new Qt(this._delegate.root,this.storage)}get parent(){const Ie=this._delegate.parent;return null==Ie?null:new Qt(Ie,this.storage)}put(Ie,ke){return this._throwIfRoot("put"),new xt((0,_e.bp)(this._delegate,Ie,ke),this)}putString(Ie,ke=_e.nw.RAW,ut){this._throwIfRoot("putString");const rt=(0,_e.ZH)(ke,Ie),Lt=Object.assign({},ut);return null==Lt.contentType&&null!=rt.contentType&&(Lt.contentType=rt.contentType),new xt(new _e.UC(this._delegate,new _e.Mx(rt.data,!0),Lt),this)}listAll(){return(0,_e._w)(this._delegate).then(Ie=>new kt(Ie,this.storage))}list(Ie){return(0,_e.p_)(this._delegate,Ie||void 0).then(ke=>new kt(ke,this.storage))}getMetadata(){return(0,_e.yb)(this._delegate)}updateMetadata(Ie){return(0,_e.D5)(this._delegate,Ie)}getDownloadURL(){return(0,_e.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,_e.XR)(this._delegate)}_throwIfRoot(Ie){if(""===this._delegate._location.path)throw(0,_e.UY)(Ie)}}class ze{constructor(Ie,ke){this.app=Ie,this._delegate=ke}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ie){if(we(Ie))throw(0,_e.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new Qt((0,_e.KR)(this._delegate,Ie),this)}refFromURL(Ie){if(!we(Ie))throw(0,_e.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_e.TZ.makeFromUrl(Ie,this._delegate.host)}catch{throw(0,_e.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Qt((0,_e.KR)(this._delegate,Ie),this)}setMaxUploadRetryTime(Ie){this._delegate.maxUploadRetryTime=Ie}setMaxOperationRetryTime(Ie){this._delegate.maxOperationRetryTime=Ie}useEmulator(Ie,ke,ut={}){(0,_e.nb)(this._delegate,Ie,ke,ut)}}function we(Pe){return/^[A-Za-z]+:\/\//.test(Pe)}function $e(Pe,{instanceIdentifier:Ie}){const ke=Pe.getProvider("app-compat").getImmediate(),ut=Pe.getProvider("storage").getImmediate({identifier:Ie});return new ze(ke,ut)}!function Ot(Pe){const Ie={TaskState:_e.Ad,TaskEvent:_e.xc,StringFormat:_e.nw,Storage:ze,Reference:Qt};Pe.INTERNAL.registerComponent(new it.uA("storage-compat",$e,"PUBLIC").setServiceProps(Ie).setMultipleInstances(!0)),Pe.registerVersion("@firebase/storage-compat","0.3.12")}(Ae.A);var Ce=F(7935);function pn(Pe){const Ie=function qt(Pe){return new de.c(Ie=>{const ke=wn=>Ie.next(wn);ke(Pe.snapshot);const Lt=Pe.on("state_changed",ke);return Pe.then(wn=>{ke(wn),Ie.complete()},wn=>{ke(Pe.snapshot),(wn=>{Ie.error(wn)})(wn)}),function(){Lt()}}).pipe(function je(Pe,Ie=ye.E){return(0,Re.N)((ke,ut)=>{let rt=null,Lt=null,wn=null;const nr=()=>{if(rt){rt.unsubscribe(),rt=null;const Vn=Lt;Lt=null,ut.next(Vn)}};function sn(){const Vn=wn+Pe,Jt=Ie.now();if(Jt<Vn)return rt=this.schedule(void 0,Vn-Jt),void ut.add(rt);nr()}ke.subscribe((0,be._)(ut,Vn=>{Lt=Vn,wn=Ie.now(),rt||(rt=Ie.schedule(sn,Pe),ut.add(rt))},()=>{nr(),ut.complete()},void 0,()=>{Lt=rt=null}))})}(0))}(Pe);return{task:Pe,then:Pe.then.bind(Pe),catch:Pe.catch.bind(Pe),pause:Pe.pause.bind(Pe),cancel:Pe.cancel.bind(Pe),resume:Pe.resume.bind(Pe),snapshotChanges:()=>Ie,percentageChanges:()=>Ie.pipe((0,Fe.T)(ke=>ke.bytesTransferred/ke.totalBytes*100))}}function ir(Pe){return{getDownloadURL:()=>(0,s.of)(void 0).pipe(o.Oe,(0,J.n)(()=>Pe.getDownloadURL()),o.U0),getMetadata:()=>(0,s.of)(void 0).pipe(o.Oe,(0,J.n)(()=>Pe.getMetadata()),o.U0),delete:()=>(0,ve.H)(Pe.delete()),child:Ie=>ir(Pe.child(Ie)),updateMetadata:Ie=>(0,ve.H)(Pe.updateMetadata(Ie)),put:(Ie,ke)=>pn(Pe.put(Ie,ke)),putString:(Ie,ke,ut)=>pn(Pe.putString(Ie,ke,ut)),list:Ie=>(0,ve.H)(Pe.list(Ie)),listAll:()=>(0,ve.H)(Pe.listAll())}}const Ye=new te.nKC("angularfire2.storageBucket"),Pt=new te.nKC("angularfire2.storage.maxUploadRetryTime"),Ue=new te.nKC("angularfire2.storage.maxOperationRetryTime"),ct=new te.nKC("angularfire2.storage.use-emulator");let Oe=(()=>{class Pe{storage;constructor(ke,ut,rt,Lt,wn,nr,sn,Vn,Jt,$n){const On=(0,ae.iB)(ke,wn,ut);this.storage=(0,ae.BM)(`${On.name}.storage.${rt}`,"AngularFireStorage",On.name,()=>{const Gt=wn.runOutsideAngular(()=>On.storage(rt||void 0)),Bt=Jt;return Bt&&Gt.useEmulator(...Bt),sn&&Gt.setMaxUploadRetryTime(sn),Vn&&Gt.setMaxOperationRetryTime(Vn),Gt},[sn,Vn])}ref(ke){return ir(this.storage.ref(ke))}refFromURL(ke){return ir(this.storage.refFromURL(ke))}upload(ke,ut,rt){return ir(this.storage.ref(ke)).put(ut,rt)}static \u0275fac=function(ut){return new(ut||Pe)(te.KVO(ae.rx),te.KVO(ae.uP,8),te.KVO(Ye,8),te.KVO(te.Agw),te.KVO(te.SKi),te.KVO(o.u0),te.KVO(Pt,8),te.KVO(Ue,8),te.KVO(ct,8),te.KVO(o.Jv,8))};static \u0275prov=te.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"any"})}return Pe})(),tn=(()=>{class Pe{static \u0275fac=function(ut){return new(ut||Pe)};static \u0275mod=te.$C({type:Pe});static \u0275inj=te.G2t({})}return Pe})(),We=(()=>{class Pe{constructor(){Ce.A.registerVersion("angularfire",o.xv.full,"gcs-compat")}static \u0275fac=function(ut){return new(ut||Pe)};static \u0275mod=te.$C({type:Pe});static \u0275inj=te.G2t({providers:[Oe],imports:[tn]})}return Pe})()},9253:(rn,Je,F)=>{F.d(Je,{BM:()=>_e,Gt:()=>ye,bf:()=>Ae,e7:()=>Re,iB:()=>J,rx:()=>je,uP:()=>Fe});var o=F(7705),de=F(5407),s=F(7935);const ve=["ngOnDestroy"],ye=(kt,Qt,ze,we={})=>new Proxy(kt,{get:(Ze,Ve)=>ze.runOutsideAngular(()=>{if(kt[Ve])return we?.spy?.get&&we.spy.get(Ve,kt[Ve]),kt[Ve];if(ve.indexOf(Ve)>-1)return()=>{};const et=Qt.toPromise().then($e=>{const Ot=$e?.[Ve];return"function"==typeof Ot?Ot.bind($e):Ot?.then?Ot.then(Ce=>ze.run(()=>Ce)):ze.run(()=>Ot)});return new Proxy(()=>{},{get:($e,Ot)=>et[Ot],apply:($e,Ot,Ce)=>et.then(qt=>{const pn=qt?.(...Ce);return we?.spy?.apply&&we.spy.apply(Ve,Ce,pn),pn})})})}),Re=(kt,Qt)=>{Qt.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(we=>{Object.defineProperty(kt.prototype,we,Object.getOwnPropertyDescriptor(ze.prototype||ze,we))})})};class be{constructor(Qt){return Qt}}const je=new o.nKC("angularfire2.app.options"),Fe=new o.nKC("angularfire2.app.name");function J(kt,Qt,ze){const Ze="object"==typeof ze&&ze||{};Ze.name=Ze.name||"string"==typeof ze&&ze||"[DEFAULT]";const et=s.A.apps.filter($e=>$e&&$e.name===Ze.name)[0]||Qt.runOutsideAngular(()=>s.A.initializeApp(kt,Ze));try{if(JSON.stringify(kt)!==JSON.stringify(et.options)){const $e=!!module.hot;te("error",`${et.name} Firebase App already initialized with different options${$e?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new be(et)}const te=(kt,...Qt)=>{(0,o.naY)()&&typeof console<"u"&&console[kt](...Qt)},ae={provide:be,useFactory:J,deps:[je,o.SKi,[new o.Xx1,Fe]]};let Ae=(()=>{class kt{static initializeApp(ze,we){return{ngModule:kt,providers:[{provide:je,useValue:ze},{provide:Fe,useValue:we}]}}constructor(ze){s.A.registerVersion("angularfire",de.xv.full,"core"),s.A.registerVersion("angularfire",de.xv.full,"app-compat"),s.A.registerVersion("angular",o.xvI.full,ze.toString())}static \u0275fac=function(we){return new(we||kt)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:kt});static \u0275inj=o.G2t({providers:[ae]})}return kt})();function _e(kt,Qt,ze,we,Ze){const[,Ve,et]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===kt)||[];if(Ve)return function it(kt,Qt){try{return kt.toString()===Qt.toString()}catch{return kt===Qt}}(Ze,et)||(xt("error",`${Qt} was already initialized on the ${ze} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),xt("warn",{is:Ze,was:et})),Ve;{const $e=we();return globalThis.\u0275AngularfireInstanceCache.push([kt,$e,Ze]),$e}}const lt=typeof module<"u"&&!!module.hot,xt=(kt,...Qt)=>{(0,o.naY)()&&typeof console<"u"&&console[kt](...Qt)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(rn,Je,F)=>{F.d(Je,{xv:()=>_e,U0:()=>pn,Oe:()=>Ce,u0:()=>Ve,Jv:()=>kt,CA:()=>xt,lR:()=>lt,S3:()=>Pt});var o=F(7705),de=F(2214),s=F(6780),ye=F(9687);const be=new class Re extends ye.q{}(class ve extends s.R{constructor(ct,Oe){super(ct,Oe),this.scheduler=ct,this.work=Oe}schedule(ct,Oe=0){return Oe>0?super.schedule(ct,Oe):(this.delay=Oe,this.state=ct,this.scheduler.flush(this),this)}execute(ct,Oe){return Oe>0||this.closed?super.execute(ct,Oe):this._execute(ct,Oe)}requestAsyncId(ct,Oe,st=0){return null!=st&&st>0||null==st&&this.delay>0?super.requestAsyncId(ct,Oe,st):(ct.flush(this),0)}});var Fe=F(3236),J=F(1985),te=F(8141),ae=F(941),Ae=F(6745);const _e=new o.RxE("ANGULARFIRE2_VERSION");function lt(Ue,ct,Oe){if(ct){if(1===ct.length)return ct[0];const We=ct.filter(Pe=>Pe.app===Oe);if(1===We.length)return We[0]}return Oe.container.getProvider(Ue).getImmediate({optional:!0})}const xt=(Ue,ct)=>{const Oe=ct?[ct]:(0,de.Dk)(),st=[];return Oe.forEach(tn=>{tn.container.getProvider(Ue).instances.forEach(Pe=>{st.includes(Pe)||st.push(Pe)})}),st};class kt{constructor(){return xt(Qt)}}const Qt="app-check";function ze(){}class we{zone;delegate;constructor(ct,Oe=be){this.zone=ct,this.delegate=Oe}now(){return this.delegate.now()}schedule(ct,Oe,st){const tn=this.zone;return this.delegate.schedule(function(Pe){tn.runGuarded(()=>{ct.apply(this,[Pe])})},Oe,st)}}class Ze{zone;task=null;constructor(ct){this.zone=ct}call(ct,Oe){const st=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ze,{},ze,ze)),Oe.pipe((0,te.M)({next:st,complete:st,error:st})).subscribe(ct).add(st)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ve=(()=>{class Ue{ngZone;outsideAngular;insideAngular;constructor(Oe){this.ngZone=Oe,this.outsideAngular=Oe.runOutsideAngular(()=>new we(Zone.current)),this.insideAngular=Oe.run(()=>new we(Zone.current,Fe.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(st){return new(st||Ue)(o.KVO(o.SKi))};static \u0275prov=o.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();function et(){const Ue=globalThis.\u0275AngularFireScheduler;if(!Ue)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ue}function Ot(Ue){return et().ngZone.run(()=>Ue())}function Ce(Ue){return Ue.pipe((0,ae.Q)(et().outsideAngular))}function pn(Ue){return function ir(Ue){return function(Oe){return(Oe=Oe.lift(new Ze(Ue.ngZone))).pipe((0,Ae._)(Ue.outsideAngular),(0,ae.Q)(Ue.insideAngular))}}(et())(Ue)}const Ye=(Ue,ct)=>function(){const st=arguments;return ct&&setTimeout(()=>{"scheduled"===ct.state&&ct.invoke()},10),Ot(()=>Ue.apply(void 0,st))},Pt=(Ue,ct)=>function(){let Oe;const st=arguments;for(let We=0;We<arguments.length;We++)"function"==typeof st[We]&&(ct&&(Oe||=Ot(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ze,{},ze,ze))),st[We]=Ye(st[We],Oe));const tn=function $e(Ue){return et().ngZone.runOutsideAngular(()=>Ue())}(()=>Ue.apply(this,st));if(!ct){if(tn instanceof J.c){const We=et();return tn.pipe((0,Ae._)(We.outsideAngular),(0,ae.Q)(We.insideAngular))}return Ot(()=>tn)}return tn instanceof J.c?tn.pipe(pn):tn instanceof Promise?Ot(()=>new Promise((We,Pe)=>tn.then(Ie=>Ot(()=>We(Ie)),Ie=>Ot(()=>Pe(Ie))))):"function"==typeof tn&&Oe?function(){return setTimeout(()=>{Oe&&"scheduled"===Oe.state&&Oe.invoke()},10),tn.apply(this,arguments)}:Ot(()=>tn)}},4341:(rn,Je,F)=>{F.d(Je,{Zm:()=>xt,me:()=>we,v8:()=>rs,ok:()=>Ao,JD:()=>Fr,gE:()=>Mt,j4:()=>mn,$R:()=>cr,YN:()=>ya,BC:()=>Hn,cb:()=>In,cV:()=>es,vS:()=>Ts,xH:()=>Ss,Q0:()=>ns,Fm:()=>ai,X1:()=>Do,YS:()=>Vr,wz:()=>ws,k0:()=>Ce,qT:()=>ts,y7:()=>It});var o=F(7705),de=F(177),s=F(8455),ve=F(1985),ye=F(3073),Re=F(8750),be=F(3794),je=F(4360),Fe=F(6450),J=F(8496),ae=F(6354);let Ae=(()=>{class W{constructor(U,ce){this._renderer=U,this._elementRef=ce,this.onChange=He=>{},this.onTouched=()=>{}}setProperty(U,ce){this._renderer.setProperty(this._elementRef.nativeElement,U,ce)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.sFG),o.rXU(o.aKT))}}static{this.\u0275dir=o.FsC({type:W})}}return W})(),_e=(()=>{class W extends Ae{static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const it=new o.nKC("NgValueAccessor"),lt={provide:it,useExisting:(0,o.Rfq)(()=>xt),multi:!0};let xt=(()=>{class W extends _e{writeValue(U){this.setProperty("checked",U)}static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ce,He){1&ce&&o.bIt("change",function(Xn){return He.onChange(Xn.target.checked)})("blur",function(){return He.onTouched()})},features:[o.Jv_([lt]),o.Vt3]})}}return W})();const kt={provide:it,useExisting:(0,o.Rfq)(()=>we),multi:!0},ze=new o.nKC("CompositionEventMode");let we=(()=>{class W extends Ae{constructor(U,ce,He){super(U,ce),this._compositionMode=He,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Qt(){const W=(0,de.QT)()?(0,de.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(ze,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ce,He){1&ce&&o.bIt("input",function(Xn){return He._handleInput(Xn.target.value)})("blur",function(){return He.onTouched()})("compositionstart",function(){return He._compositionStart()})("compositionend",function(Xn){return He._compositionEnd(Xn.target.value)})},features:[o.Jv_([kt]),o.Vt3]})}}return W})();function Ze(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function Ve(W){return null!=W&&"number"==typeof W.length}const et=new o.nKC("NgValidators"),$e=new o.nKC("NgAsyncValidators"),Ot=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ce{static min(Z){return function qt(W){return Z=>{if(Ze(Z.value)||Ze(W))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U<W?{min:{min:W,actual:Z.value}}:null}}(Z)}static max(Z){return function pn(W){return Z=>{if(Ze(Z.value)||Ze(W))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U>W?{max:{max:W,actual:Z.value}}:null}}(Z)}static required(Z){return ir(Z)}static requiredTrue(Z){return function Ye(W){return!0===W.value?null:{required:!0}}(Z)}static email(Z){return function Pt(W){return Ze(W.value)||Ot.test(W.value)?null:{email:!0}}(Z)}static minLength(Z){return function Ue(W){return Z=>Ze(Z.value)||!Ve(Z.value)?null:Z.value.length<W?{minlength:{requiredLength:W,actualLength:Z.value.length}}:null}(Z)}static maxLength(Z){return function ct(W){return Z=>Ve(Z.value)&&Z.value.length>W?{maxlength:{requiredLength:W,actualLength:Z.value.length}}:null}(Z)}static pattern(Z){return function Oe(W){if(!W)return st;let Z,U;return"string"==typeof W?(U="","^"!==W.charAt(0)&&(U+="^"),U+=W,"$"!==W.charAt(W.length-1)&&(U+="$"),Z=new RegExp(U)):(U=W.toString(),Z=W),ce=>{if(Ze(ce.value))return null;const He=ce.value;return Z.test(He)?null:{pattern:{requiredPattern:U,actualValue:He}}}}(Z)}static nullValidator(Z){return null}static compose(Z){return rt(Z)}static composeAsync(Z){return wn(Z)}}function ir(W){return Ze(W.value)?{required:!0}:null}function st(W){return null}function tn(W){return null!=W}function We(W){return(0,o.jNT)(W)?(0,s.H)(W):W}function Pe(W){let Z={};return W.forEach(U=>{Z=null!=U?{...Z,...U}:Z}),0===Object.keys(Z).length?null:Z}function Ie(W,Z){return Z.map(U=>U(W))}function ut(W){return W.map(Z=>function ke(W){return!W.validate}(Z)?Z:U=>Z.validate(U))}function rt(W){if(!W)return null;const Z=W.filter(tn);return 0==Z.length?null:function(U){return Pe(Ie(U,Z))}}function Lt(W){return null!=W?rt(ut(W)):null}function wn(W){if(!W)return null;const Z=W.filter(tn);return 0==Z.length?null:function(U){return function te(...W){const Z=(0,be.ms)(W),{args:U,keys:ce}=(0,ye.D)(W),He=new ve.c(_n=>{const{length:Xn}=U;if(!Xn)return void _n.complete();const is=new Array(Xn);let Xs=Xn,ss=Xn;for(let mo=0;mo<Xn;mo++){let no=!1;(0,Re.Tg)(U[mo]).subscribe((0,je._)(_n,os=>{no||(no=!0,ss--),is[mo]=os},()=>Xs--,void 0,()=>{(!Xs||!no)&&(ss||_n.next(ce?(0,J.e)(ce,is):is),_n.complete())}))}});return Z?He.pipe((0,Fe.I)(Z)):He}(Ie(U,Z).map(We)).pipe((0,ae.T)(Pe))}}function nr(W){return null!=W?wn(ut(W)):null}function sn(W,Z){return null===W?[Z]:Array.isArray(W)?[...W,Z]:[W,Z]}function Vn(W){return W._rawValidators}function Jt(W){return W._rawAsyncValidators}function $n(W){return W?Array.isArray(W)?W:[W]:[]}function On(W,Z){return Array.isArray(W)?W.includes(Z):W===Z}function Gt(W,Z){const U=$n(Z);return $n(W).forEach(He=>{On(U,He)||U.push(He)}),U}function Bt(W,Z){return $n(Z).filter(U=>!On(W,U))}class vr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Z){this._rawValidators=Z||[],this._composedValidatorFn=Lt(this._rawValidators)}_setAsyncValidators(Z){this._rawAsyncValidators=Z||[],this._composedAsyncValidatorFn=nr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Z){this._onDestroyCallbacks.push(Z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Z=>Z()),this._onDestroyCallbacks=[]}reset(Z=void 0){this.control&&this.control.reset(Z)}hasError(Z,U){return!!this.control&&this.control.hasError(Z,U)}getError(Z,U){return this.control?this.control.getError(Z,U):null}}class on extends vr{get formDirective(){return null}get path(){return null}}class kr extends vr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yn{constructor(Z){this._cd=Z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hn=(()=>{class W extends Yn{constructor(U){super(U)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(kr,2))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ce,He){2&ce&&o.AVh("ng-untouched",He.isUntouched)("ng-touched",He.isTouched)("ng-pristine",He.isPristine)("ng-dirty",He.isDirty)("ng-valid",He.isValid)("ng-invalid",He.isInvalid)("ng-pending",He.isPending)},features:[o.Vt3]})}}return W})(),In=(()=>{class W extends Yn{constructor(U){super(U)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(on,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ce,He){2&ce&&o.AVh("ng-untouched",He.isUntouched)("ng-touched",He.isTouched)("ng-pristine",He.isPristine)("ng-dirty",He.isDirty)("ng-valid",He.isValid)("ng-invalid",He.isInvalid)("ng-pending",He.isPending)("ng-submitted",He.isSubmitted)},features:[o.Vt3]})}}return W})();const gt="VALID",Ee="INVALID",_t="PENDING",Yt="DISABLED";function Er(W){return(L(W)?W.validators:W)||null}function $(W,Z){return(L(Z)?Z.asyncValidators:W)||null}function L(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function ie(W,Z,U){const ce=W.controls;if(!(Z?Object.keys(ce):ce).length)throw new o.wOt(1e3,"");if(!ce[U])throw new o.wOt(1001,"")}function me(W,Z,U){W._forEachChild((ce,He)=>{if(void 0===U[He])throw new o.wOt(1002,"")})}class ht{constructor(Z,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Z),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(Z){this._rawValidators=this._composedValidatorFn=Z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Z){this._rawAsyncValidators=this._composedAsyncValidatorFn=Z}get parent(){return this._parent}get valid(){return this.status===gt}get invalid(){return this.status===Ee}get pending(){return this.status==_t}get disabled(){return this.status===Yt}get enabled(){return this.status!==Yt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Z){this._assignValidators(Z)}setAsyncValidators(Z){this._assignAsyncValidators(Z)}addValidators(Z){this.setValidators(Gt(Z,this._rawValidators))}addAsyncValidators(Z){this.setAsyncValidators(Gt(Z,this._rawAsyncValidators))}removeValidators(Z){this.setValidators(Bt(Z,this._rawValidators))}removeAsyncValidators(Z){this.setAsyncValidators(Bt(Z,this._rawAsyncValidators))}hasValidator(Z){return On(this._rawValidators,Z)}hasAsyncValidator(Z){return On(this._rawAsyncValidators,Z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Z={}){this.touched=!0,this._parent&&!Z.onlySelf&&this._parent.markAsTouched(Z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Z=>Z.markAllAsTouched())}markAsUntouched(Z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}markAsDirty(Z={}){this.pristine=!1,this._parent&&!Z.onlySelf&&this._parent.markAsDirty(Z)}markAsPristine(Z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}markAsPending(Z={}){this.status=_t,!1!==Z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Z.onlySelf&&this._parent.markAsPending(Z)}disable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=Yt,this.errors=null,this._forEachChild(ce=>{ce.disable({...Z,onlySelf:!0})}),this._updateValue(),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(ce=>ce(!0))}enable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=gt,this._forEachChild(ce=>{ce.enable({...Z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent}),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors(Z){this._parent&&!Z.onlySelf&&(this._parent.updateValueAndValidity(Z),Z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Z){this._parent=Z}getRawValue(){return this.value}updateValueAndValidity(Z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gt||this.status===_t)&&this._runAsyncValidator(Z.emitEvent)),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Z.onlySelf&&this._parent.updateValueAndValidity(Z)}_updateTreeValidity(Z={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(Z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yt:gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Z){if(this.asyncValidator){this.status=_t,this._hasOwnPendingAsyncValidator=!0;const U=We(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:Z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Z,U={}){this.errors=Z,this._updateControlsErrors(!1!==U.emitEvent)}get(Z){let U=Z;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((ce,He)=>ce&&ce._find(He),this)}getError(Z,U){const ce=U?this.get(U):this;return ce&&ce.errors?ce.errors[Z]:null}hasError(Z,U){return!!this.getError(Z,U)}get root(){let Z=this;for(;Z._parent;)Z=Z._parent;return Z}_updateControlsErrors(Z){this.status=this._calculateStatus(),Z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Z)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?Yt:this.errors?Ee:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_t)?_t:this._anyControlsHaveStatus(Ee)?Ee:gt}_anyControlsHaveStatus(Z){return this._anyControls(U=>U.status===Z)}_anyControlsDirty(){return this._anyControls(Z=>Z.dirty)}_anyControlsTouched(){return this._anyControls(Z=>Z.touched)}_updatePristine(Z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}_updateTouched(Z={}){this.touched=this._anyControlsTouched(),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}_registerOnCollectionChange(Z){this._onCollectionChange=Z}_setUpdateStrategy(Z){L(Z)&&null!=Z.updateOn&&(this._updateOn=Z.updateOn)}_parentMarkedDirty(Z){return!Z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Z){return null}_assignValidators(Z){this._rawValidators=Array.isArray(Z)?Z.slice():Z,this._composedValidatorFn=function vt(W){return Array.isArray(W)?Lt(W):W||null}(this._rawValidators)}_assignAsyncValidators(Z){this._rawAsyncValidators=Array.isArray(Z)?Z.slice():Z,this._composedAsyncValidatorFn=function M(W){return Array.isArray(W)?nr(W):W||null}(this._rawAsyncValidators)}}class Mt extends ht{constructor(Z,U,ce){super(Er(U),$(ce,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Z,U){return this.controls[Z]?this.controls[Z]:(this.controls[Z]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(Z,U,ce={}){this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl(Z,U={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(Z,U,ce={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],U&&this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains(Z){return this.controls.hasOwnProperty(Z)&&this.controls[Z].enabled}setValue(Z,U={}){me(this,0,Z),Object.keys(Z).forEach(ce=>{ie(this,!0,ce),this.controls[ce].setValue(Z[ce],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Object.keys(Z).forEach(ce=>{const He=this.controls[ce];He&&He.patchValue(Z[ce],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z={},U={}){this._forEachChild((ce,He)=>{ce.reset(Z?Z[He]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(Z,U,ce)=>(Z[ce]=U.getRawValue(),Z))}_syncPendingControls(){let Z=this._reduceChildren(!1,(U,ce)=>!!ce._syncPendingControls()||U);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){Object.keys(this.controls).forEach(U=>{const ce=this.controls[U];ce&&Z(ce,U)})}_setUpControls(){this._forEachChild(Z=>{Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Z){for(const[U,ce]of Object.entries(this.controls))if(this.contains(U)&&Z(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,ce,He)=>((ce.enabled||this.disabled)&&(U[He]=ce.value),U))}_reduceChildren(Z,U){let ce=Z;return this._forEachChild((He,_n)=>{ce=U(ce,He,_n)}),ce}_allControlsDisabled(){for(const Z of Object.keys(this.controls))if(this.controls[Z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Z){return this.controls.hasOwnProperty(Z)?this.controls[Z]:null}}class Sn extends Mt{}const ln=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Wr}),Wr="always";function dr(W,Z){return[...Z.path,W]}function $s(W,Z,U=Wr){yi(W,Z),Z.valueAccessor.writeValue(W.value),(W.disabled||"always"===U)&&Z.valueAccessor.setDisabledState?.(W.disabled),function ks(W,Z){Z.valueAccessor.registerOnChange(U=>{W._pendingValue=U,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&at(W,Z)})}(W,Z),function Nt(W,Z){const U=(ce,He)=>{Z.valueAccessor.writeValue(ce),He&&Z.viewToModelUpdate(ce)};W.registerOnChange(U),Z._registerOnDestroy(()=>{W._unregisterOnChange(U)})}(W,Z),function At(W,Z){Z.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&at(W,Z),"submit"!==W.updateOn&&W.markAsTouched()})}(W,Z),function Es(W,Z){if(Z.valueAccessor.setDisabledState){const U=ce=>{Z.valueAccessor.setDisabledState(ce)};W.registerOnDisabledChange(U),Z._registerOnDestroy(()=>{W._unregisterOnDisabledChange(U)})}}(W,Z)}function Fi(W,Z,U=!0){const ce=()=>{};Z.valueAccessor&&(Z.valueAccessor.registerOnChange(ce),Z.valueAccessor.registerOnTouched(ce)),sr(W,Z),W&&(Z._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function vs(W,Z){W.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(Z)})}function yi(W,Z){const U=Vn(W);null!==Z.validator?W.setValidators(sn(U,Z.validator)):"function"==typeof U&&W.setValidators([U]);const ce=Jt(W);null!==Z.asyncValidator?W.setAsyncValidators(sn(ce,Z.asyncValidator)):"function"==typeof ce&&W.setAsyncValidators([ce]);const He=()=>W.updateValueAndValidity();vs(Z._rawValidators,He),vs(Z._rawAsyncValidators,He)}function sr(W,Z){let U=!1;if(null!==W){if(null!==Z.validator){const He=Vn(W);if(Array.isArray(He)&&He.length>0){const _n=He.filter(Xn=>Xn!==Z.validator);_n.length!==He.length&&(U=!0,W.setValidators(_n))}}if(null!==Z.asyncValidator){const He=Jt(W);if(Array.isArray(He)&&He.length>0){const _n=He.filter(Xn=>Xn!==Z.asyncValidator);_n.length!==He.length&&(U=!0,W.setAsyncValidators(_n))}}}const ce=()=>{};return vs(Z._rawValidators,ce),vs(Z._rawAsyncValidators,ce),U}function at(W,Z){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),Z.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function cn(W,Z){yi(W,Z)}function Ki(W,Z){if(!W.hasOwnProperty("model"))return!1;const U=W.model;return!!U.isFirstChange()||!Object.is(Z,U.currentValue)}function Zi(W,Z){W._syncPendingControls(),Z.forEach(U=>{const ce=U.control;"submit"===ce.updateOn&&ce._pendingChange&&(U.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}function Io(W,Z){if(!Z)return null;let U,ce,He;return Array.isArray(Z),Z.forEach(_n=>{_n.constructor===we?U=_n:function Fs(W){return Object.getPrototypeOf(W.constructor)===_e}(_n)?ce=_n:He=_n}),He||ce||U||null}const jo={provide:on,useExisting:(0,o.Rfq)(()=>es)},di=(()=>Promise.resolve())();let es=(()=>{class W extends on{constructor(U,ce,He){super(),this.callSetDisabledState=He,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new Mt({},Lt(U),nr(ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){di.then(()=>{const ce=this._findContainer(U.path);U.control=ce.registerControl(U.name,U.control),$s(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){di.then(()=>{const ce=this._findContainer(U.path);ce&&ce.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){di.then(()=>{const ce=this._findContainer(U.path),He=new Mt({});cn(He,U),ce.registerControl(U.name,He),He.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){di.then(()=>{const ce=this._findContainer(U.path);ce&&ce.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,ce){di.then(()=>{this.form.get(U.path).setValue(ce)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,Zi(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(et,10),o.rXU($e,10),o.rXU(ln,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ce,He){1&ce&&o.bIt("submit",function(Xn){return He.onSubmit(Xn)})("reset",function(){return He.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([jo]),o.Vt3]})}}return W})();function bs(W,Z){const U=W.indexOf(Z);U>-1&&W.splice(U,1)}function Zr(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Hi=class extends ht{constructor(Z=null,U,ce){super(Er(U),$(ce,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Z),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),L(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=Zr(Z)?Z.value:Z)}setValue(Z,U={}){this.value=this._pendingValue=Z,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(Z,U={}){this.setValue(Z,U)}reset(Z=this.defaultValue,U={}){this._applyFormState(Z),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(Z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Z){this._onChange.push(Z)}_unregisterOnChange(Z){bs(this._onChange,Z)}registerOnDisabledChange(Z){this._onDisabledChange.push(Z)}_unregisterOnDisabledChange(Z){bs(this._onDisabledChange,Z)}_forEachChild(Z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Z){Zr(Z)?(this.value=this._pendingValue=Z.value,Z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Z}};let uo=(()=>{class W extends on{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return dr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const Pi={provide:kr,useExisting:(0,o.Rfq)(()=>Ts)},fr=(()=>Promise.resolve())();let Ts=(()=>{class W extends kr{constructor(U,ce,He,_n,Xn,is){super(),this._changeDetectorRef=Xn,this.callSetDisabledState=is,this.control=new Hi,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=U,this._setValidators(ce),this._setAsyncValidators(He),this.valueAccessor=Io(0,_n)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const ce=U.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),Ki(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$s(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){fr.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const ce=U.isDisabled.currentValue,He=0!==ce&&(0,o.L39)(ce);fr.then(()=>{He&&!this.control.disabled?this.control.disable():!He&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?dr(U,this._parent):[U]}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(on,9),o.rXU(et,10),o.rXU($e,10),o.rXU(it,10),o.rXU(o.gRc,8),o.rXU(ln,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([Pi]),o.Vt3,o.OA$]})}}return W})(),ts=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return W})();const As={provide:it,useExisting:(0,o.Rfq)(()=>ns),multi:!0};let ns=(()=>{class W extends _e{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=ce=>{U(""==ce?null:parseFloat(ce))}}static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ce,He){1&ce&&o.bIt("input",function(Xn){return He.onChange(Xn.target.value)})("blur",function(){return He.onTouched()})},features:[o.Jv_([As]),o.Vt3]})}}return W})();const Dr={provide:it,useExisting:(0,o.Rfq)(()=>ai),multi:!0};let oi=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({})}}return W})(),Ds=(()=>{class W{constructor(){this._accessors=[]}add(U,ce){this._accessors.push([U,ce])}remove(U){for(let ce=this._accessors.length-1;ce>=0;--ce)if(this._accessors[ce][1]===U)return void this._accessors.splice(ce,1)}select(U){this._accessors.forEach(ce=>{this._isSameGroup(ce,U)&&ce[1]!==U&&ce[1].fireUncheck(U.value)})}_isSameGroup(U,ce){return!!U[0].control&&U[0]._parent===ce._control._parent&&U[1].name===ce.name}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:oi})}}return W})(),ai=(()=>{class W extends _e{constructor(U,ce,He,_n){super(U,ce),this._registry=He,this._injector=_n,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,o.WQX)(ln,{optional:!0})??Wr}ngOnInit(){this._control=this._injector.get(kr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(U){this._state=U===this.value,this.setProperty("checked",this._state)}registerOnChange(U){this._fn=U,this.onChange=()=>{U(this.value),this._registry.select(this)}}setDisabledState(U){(this.setDisabledStateFired||U||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",U),this.setDisabledStateFired=!0}fireUncheck(U){this.writeValue(U)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(Ds),o.rXU(o.zZn))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ce,He){1&ce&&o.bIt("change",function(){return He.onChange()})("blur",function(){return He.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o.Jv_([Dr]),o.Vt3]})}}return W})();const Yi=new o.nKC("NgModelWithFormControlWarning"),ei={provide:on,useExisting:(0,o.Rfq)(()=>mn)};let mn=(()=>{class W extends on{constructor(U,ce,He){super(),this.callSetDisabledState=He,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(U),this._setAsyncValidators(ce)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const ce=this.form.get(U.path);return $s(ce,U,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),ce}getControl(U){return this.form.get(U.path)}removeControl(U){Fi(U.control||null,U,!1),function Co(W,Z){const U=W.indexOf(Z);U>-1&&W.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,ce){this.form.get(U.path).setValue(ce)}onSubmit(U){return this.submitted=!0,Zi(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const ce=U.control,He=this.form.get(U.path);ce!==He&&(Fi(ce||null,U),(W=>W instanceof Hi)(He)&&($s(He,U,this.callSetDisabledState),U.control=He))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const ce=this.form.get(U.path);cn(ce,U),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const ce=this.form.get(U.path);ce&&function Bn(W,Z){return sr(W,Z)}(ce,U)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yi(this.form,this),this._oldForm&&sr(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(et,10),o.rXU($e,10),o.rXU(ln,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(ce,He){1&ce&&o.bIt("submit",function(Xn){return He.onSubmit(Xn)})("reset",function(){return He.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([ei]),o.Vt3,o.OA$]})}}return W})();const rr={provide:on,useExisting:(0,o.Rfq)(()=>cr)};let cr=(()=>{class W extends uo{constructor(U,ce,He){super(),this.name=null,this._parent=U,this._setValidators(ce),this._setAsyncValidators(He)}_checkParentType(){li(this._parent)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(on,13),o.rXU(et,10),o.rXU($e,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o.Jv_([rr]),o.Vt3]})}}return W})();const Xi={provide:on,useExisting:(0,o.Rfq)(()=>rs)};let rs=(()=>{class W extends on{constructor(U,ce,He){super(),this.name=null,this._parent=U,this._setValidators(ce),this._setAsyncValidators(He)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return dr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){li(this._parent)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(on,13),o.rXU(et,10),o.rXU($e,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o.Jv_([Xi]),o.Vt3]})}}return W})();function li(W){return!(W instanceof cr||W instanceof mn||W instanceof rs)}const Mi={provide:kr,useExisting:(0,o.Rfq)(()=>Fr)};let Fr=(()=>{class W extends kr{set isDisabled(U){}static{this._ngModelWarningSentOnce=!1}constructor(U,ce,He,_n,Xn){super(),this._ngModelWarningConfig=Xn,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(ce),this._setAsyncValidators(He),this.valueAccessor=Io(0,_n)}ngOnChanges(U){this._added||this._setUpControl(),Ki(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return dr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(on,13),o.rXU(et,10),o.rXU($e,10),o.rXU(it,10),o.rXU(Yi,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([Mi]),o.Vt3,o.OA$]})}}return W})();const vi={provide:it,useExisting:(0,o.Rfq)(()=>ws),multi:!0};function Cs(W,Z){return null==W?`${Z}`:(Z&&"object"==typeof Z&&(Z="Object"),`${W}: ${Z}`.slice(0,50))}let ws=(()=>{class W extends _e{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const He=Cs(this._getOptionId(U),U);this.setProperty("value",He)}registerOnChange(U){this.onChange=ce=>{this.value=this._getOptionValue(ce),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce),U))return ce;return null}_getOptionValue(U){const ce=function Zn(W){return W.split(":")[0]}(U);return this._optionMap.has(ce)?this._optionMap.get(ce):U}static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ce,He){1&ce&&o.bIt("change",function(Xn){return He.onChange(Xn.target.value)})("blur",function(){return He.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([vi]),o.Vt3]})}}return W})(),Ss=(()=>{class W{constructor(U,ce,He){this._element=U,this._renderer=ce,this._select=He,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(Cs(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(ws,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})();const ee={provide:it,useExisting:(0,o.Rfq)(()=>tt),multi:!0};function Q(W,Z){return null==W?`${Z}`:("string"==typeof Z&&(Z=`'${Z}'`),Z&&"object"==typeof Z&&(Z="Object"),`${W}: ${Z}`.slice(0,50))}let tt=(()=>{class W extends _e{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let ce;if(this.value=U,Array.isArray(U)){const He=U.map(_n=>this._getOptionId(_n));ce=(_n,Xn)=>{_n._setSelected(He.indexOf(Xn.toString())>-1)}}else ce=(He,_n)=>{He._setSelected(!1)};this._optionMap.forEach(ce)}registerOnChange(U){this.onChange=ce=>{const He=[],_n=ce.selectedOptions;if(void 0!==_n){const Xn=_n;for(let is=0;is<Xn.length;is++){const ss=this._getOptionValue(Xn[is].value);He.push(ss)}}else{const Xn=ce.options;for(let is=0;is<Xn.length;is++){const Xs=Xn[is];if(Xs.selected){const ss=this._getOptionValue(Xs.value);He.push(ss)}}}this.value=He,U(He)}}_registerOption(U){const ce=(this._idCounter++).toString();return this._optionMap.set(ce,U),ce}_getOptionId(U){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce)._value,U))return ce;return null}_getOptionValue(U){const ce=function Se(W){return W.split(":")[0]}(U);return this._optionMap.has(ce)?this._optionMap.get(ce)._value:U}static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ce,He){1&ce&&o.bIt("change",function(Xn){return He.onChange(Xn.target)})("blur",function(){return He.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([ee]),o.Vt3]})}}return W})(),It=(()=>{class W{constructor(U,ce,He){this._element=U,this._renderer=ce,this._select=He,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(Q(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(Q(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(tt,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})(),yn=(()=>{class W{constructor(){this._validator=st}ngOnChanges(U){if(this.inputName in U){const ce=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):st,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275dir=o.FsC({type:W,features:[o.OA$]})}}return W})();const tr={provide:et,useExisting:(0,o.Rfq)(()=>Vr),multi:!0};let Vr=(()=>{class W extends yn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=U=>ir}enabled(U){return U}static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ce,He){2&ce&&o.BMQ("required",He._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([tr]),o.Vt3]})}}return W})(),Qa=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[oi]})}}return W})();class na extends ht{constructor(Z,U,ce){super(Er(U),$(ce,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Z){return this.controls[this._adjustIndex(Z)]}push(Z,U={}){this.controls.push(Z),this._registerControl(Z),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(Z,U,ce={}){this.controls.splice(Z,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:ce.emitEvent})}removeAt(Z,U={}){let ce=this._adjustIndex(Z);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(Z,U,ce={}){let He=this._adjustIndex(Z);He<0&&(He=0),this.controls[He]&&this.controls[He]._registerOnCollectionChange(()=>{}),this.controls.splice(He,1),U&&(this.controls.splice(He,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Z,U={}){me(this,0,Z),Z.forEach((ce,He)=>{ie(this,!1,He),this.at(He).setValue(ce,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Z.forEach((ce,He)=>{this.at(He)&&this.at(He).patchValue(ce,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z=[],U={}){this._forEachChild((ce,He)=>{ce.reset(Z[He],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(Z=>Z.getRawValue())}clear(Z={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Z.emitEvent}))}_adjustIndex(Z){return Z<0?Z+this.length:Z}_syncPendingControls(){let Z=this.controls.reduce((U,ce)=>!!ce._syncPendingControls()||U,!1);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){this.controls.forEach((U,ce)=>{Z(U,ce)})}_updateValue(){this.value=this.controls.filter(Z=>Z.enabled||this.disabled).map(Z=>Z.value)}_anyControls(Z){return this.controls.some(U=>U.enabled&&Z(U))}_setUpControls(){this._forEachChild(Z=>this._registerControl(Z))}_allControlsDisabled(){for(const Z of this.controls)if(Z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Z){Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)}_find(Z){return this.at(Z)??null}}function hs(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let Ao=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new W;return U.useNonNullable=!0,U}group(U,ce=null){const He=this._reduceControls(U);let _n={};return hs(ce)?_n=ce:null!==ce&&(_n.validators=ce.validator,_n.asyncValidators=ce.asyncValidator),new Mt(He,_n)}record(U,ce=null){const He=this._reduceControls(U);return new Sn(He,ce)}control(U,ce,He){let _n={};return this.useNonNullable?(hs(ce)?_n=ce:(_n.validators=ce,_n.asyncValidators=He),new Hi(U,{..._n,nonNullable:!0})):new Hi(U,ce,He)}array(U,ce,He){const _n=U.map(Xn=>this._createControl(Xn));return new na(_n,ce,He)}_reduceControls(U){const ce={};return Object.keys(U).forEach(He=>{ce[He]=this._createControl(U[He])}),ce}_createControl(U){return U instanceof Hi||U instanceof ht?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})(),ya=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:ln,useValue:U.callSetDisabledState??Wr}]}}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[Qa]})}}return W})(),Do=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:Yi,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:ln,useValue:U.callSetDisabledState??Wr}]}}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[Qa]})}}return W})()},345:(rn,Je,F)=>{F.d(Je,{B7:()=>Ot,Bb:()=>On,W8:()=>Bt,hE:()=>kr,sG:()=>sn,up:()=>Ai});var o=F(7705),de=F(177);class s extends de.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends s{static makeCurrent(){(0,de.ZD)(new ve)}onAndCancel($,M,L){return $.addEventListener(M,L),()=>{$.removeEventListener(M,L)}}dispatchEvent($,M){$.dispatchEvent(M)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,M){return(M=M||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,M){return"window"===M?window:"document"===M?$:"body"===M?$.body:null}getBaseHref($){const M=function Re(){return ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null}();return null==M?null:function je(vt){be=be||document.createElement("a"),be.setAttribute("href",vt);const $=be.pathname;return"/"===$.charAt(0)?$:`/${$}`}(M)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,de._b)(document.cookie,$)}}let be,ye=null,J=(()=>{class vt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(L){return new(L||vt)}}static{this.\u0275prov=o.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();const te=new o.nKC("EventManagerPlugins");let ae=(()=>{class vt{constructor(M,L){this._zone=L,this._eventNameToPlugin=new Map,M.forEach(ie=>{ie.manager=this}),this._plugins=M.slice().reverse()}addEventListener(M,L,ie){return this._findPluginFor(L).addEventListener(M,L,ie)}getZone(){return this._zone}_findPluginFor(M){let L=this._eventNameToPlugin.get(M);if(L)return L;if(L=this._plugins.find(me=>me.supports(M)),!L)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(M,L),L}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(te),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();class Ae{constructor($){this._doc=$}}const _e="ng-app-id";let it=(()=>{class vt{constructor(M,L,ie,me={}){this.doc=M,this.appId=L,this.nonce=ie,this.platformId=me,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,de.Vy)(me),this.resetHostNodes()}addStyles(M){for(const L of M)1===this.changeUsageCount(L,1)&&this.onStyleAdded(L)}removeStyles(M){for(const L of M)this.changeUsageCount(L,-1)<=0&&this.onStyleRemoved(L)}ngOnDestroy(){const M=this.styleNodesInDOM;M&&(M.forEach(L=>L.remove()),M.clear());for(const L of this.getAllStyles())this.onStyleRemoved(L);this.resetHostNodes()}addHost(M){this.hostNodes.add(M);for(const L of this.getAllStyles())this.addStyleToHost(M,L)}removeHost(M){this.hostNodes.delete(M)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(M){for(const L of this.hostNodes)this.addStyleToHost(L,M)}onStyleRemoved(M){const L=this.styleRef;L.get(M)?.elements?.forEach(ie=>ie.remove()),L.delete(M)}collectServerRenderedStyles(){const M=this.doc.head?.querySelectorAll(`style[${_e}="${this.appId}"]`);if(M?.length){const L=new Map;return M.forEach(ie=>{null!=ie.textContent&&L.set(ie.textContent,ie)}),L}return null}changeUsageCount(M,L){const ie=this.styleRef;if(ie.has(M)){const me=ie.get(M);return me.usage+=L,me.usage}return ie.set(M,{usage:L,elements:[]}),L}getStyleElement(M,L){const ie=this.styleNodesInDOM,me=ie?.get(L);if(me?.parentNode===M)return ie.delete(L),me.removeAttribute(_e),me;{const ht=this.doc.createElement("style");return this.nonce&&ht.setAttribute("nonce",this.nonce),ht.textContent=L,this.platformIsServer&&ht.setAttribute(_e,this.appId),ht}}addStyleToHost(M,L){const ie=this.getStyleElement(M,L);M.appendChild(ie);const me=this.styleRef,ht=me.get(L)?.elements;ht?ht.push(ie):me.set(L,{elements:[ie],usage:1})}resetHostNodes(){const M=this.hostNodes;M.clear(),M.add(this.doc.head)}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(de.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xt=/%COMP%/g,Ze=new o.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function $e(vt,$){return $.map(M=>M.replace(xt,vt))}let Ot=(()=>{class vt{constructor(M,L,ie,me,ht,Mt,an,fn=null){this.eventManager=M,this.sharedStylesHost=L,this.appId=ie,this.removeStylesOnCompDestroy=me,this.doc=ht,this.platformId=Mt,this.ngZone=an,this.nonce=fn,this.rendererByCompId=new Map,this.platformIsServer=(0,de.Vy)(Mt),this.defaultRenderer=new Ce(M,ht,an,this.platformIsServer)}createRenderer(M,L){if(!M||!L)return this.defaultRenderer;this.platformIsServer&&L.encapsulation===o.gXe.ShadowDom&&(L={...L,encapsulation:o.gXe.Emulated});const ie=this.getOrCreateRenderer(M,L);return ie instanceof Ue?ie.applyToHost(M):ie instanceof Pt&&ie.applyStyles(),ie}getOrCreateRenderer(M,L){const ie=this.rendererByCompId;let me=ie.get(L.id);if(!me){const ht=this.doc,Mt=this.ngZone,an=this.eventManager,fn=this.sharedStylesHost,Sn=this.removeStylesOnCompDestroy,br=this.platformIsServer;switch(L.encapsulation){case o.gXe.Emulated:me=new Ue(an,fn,L,this.appId,Sn,ht,Mt,br);break;case o.gXe.ShadowDom:return new Ye(an,fn,M,L,ht,Mt,this.nonce,br);default:me=new Pt(an,fn,L,Sn,ht,Mt,br)}ie.set(L.id,me)}return me}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(ae),o.KVO(it),o.KVO(o.sZ2),o.KVO(Ze),o.KVO(de.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))}}static{this.\u0275prov=o.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();class Ce{constructor($,M,L,ie){this.eventManager=$,this.doc=M,this.ngZone=L,this.platformIsServer=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,M){return M?this.doc.createElementNS(lt[M]||M,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,M){(ir($)?$.content:$).appendChild(M)}insertBefore($,M,L){$&&(ir($)?$.content:$).insertBefore(M,L)}removeChild($,M){$&&$.removeChild(M)}selectRootElement($,M){let L="string"==typeof $?this.doc.querySelector($):$;if(!L)throw new o.wOt(-5104,!1);return M||(L.textContent=""),L}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,M,L,ie){if(ie){M=ie+":"+M;const me=lt[ie];me?$.setAttributeNS(me,M,L):$.setAttribute(M,L)}else $.setAttribute(M,L)}removeAttribute($,M,L){if(L){const ie=lt[L];ie?$.removeAttributeNS(ie,M):$.removeAttribute(`${L}:${M}`)}else $.removeAttribute(M)}addClass($,M){$.classList.add(M)}removeClass($,M){$.classList.remove(M)}setStyle($,M,L,ie){ie&(o.czy.DashCase|o.czy.Important)?$.style.setProperty(M,L,ie&o.czy.Important?"important":""):$.style[M]=L}removeStyle($,M,L){L&o.czy.DashCase?$.style.removeProperty(M):$.style[M]=""}setProperty($,M,L){$[M]=L}setValue($,M){$.nodeValue=M}listen($,M,L){if("string"==typeof $&&!($=(0,de.QT)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${M}`);return this.eventManager.addEventListener($,M,this.decoratePreventDefault(L))}decoratePreventDefault($){return M=>{if("__ngUnwrap__"===M)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(M)):$(M))&&M.preventDefault()}}}function ir(vt){return"TEMPLATE"===vt.tagName&&void 0!==vt.content}class Ye extends Ce{constructor($,M,L,ie,me,ht,Mt,an){super($,me,ht,an),this.sharedStylesHost=M,this.hostEl=L,this.shadowRoot=L.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const fn=$e(ie.id,ie.styles);for(const Sn of fn){const br=document.createElement("style");Mt&&br.setAttribute("nonce",Mt),br.textContent=Sn,this.shadowRoot.appendChild(br)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,M){return super.appendChild(this.nodeOrShadowRoot($),M)}insertBefore($,M,L){return super.insertBefore(this.nodeOrShadowRoot($),M,L)}removeChild($,M){return super.removeChild(this.nodeOrShadowRoot($),M)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pt extends Ce{constructor($,M,L,ie,me,ht,Mt,an){super($,me,ht,Mt),this.sharedStylesHost=M,this.removeStylesOnCompDestroy=ie,this.styles=an?$e(an,L.styles):L.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ue extends Pt{constructor($,M,L,ie,me,ht,Mt,an){const fn=ie+"-"+L.id;super($,M,L,me,ht,Mt,an,fn),this.contentAttr=function Ve(vt){return"_ngcontent-%COMP%".replace(xt,vt)}(fn),this.hostAttr=function et(vt){return"_nghost-%COMP%".replace(xt,vt)}(fn)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,M){const L=super.createElement($,M);return super.setAttribute(L,this.contentAttr,""),L}}let ct=(()=>{class vt extends Ae{constructor(M){super(M)}supports(M){return!0}addEventListener(M,L,ie){return M.addEventListener(L,ie,!1),()=>this.removeEventListener(M,L,ie)}removeEventListener(M,L,ie){return M.removeEventListener(L,ie)}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(de.qQ))}}static{this.\u0275prov=o.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();const Oe=["alt","control","meta","shift"],st={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tn={alt:vt=>vt.altKey,control:vt=>vt.ctrlKey,meta:vt=>vt.metaKey,shift:vt=>vt.shiftKey};let We=(()=>{class vt extends Ae{constructor(M){super(M)}supports(M){return null!=vt.parseEventName(M)}addEventListener(M,L,ie){const me=vt.parseEventName(L),ht=vt.eventCallback(me.fullKey,ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,de.QT)().onAndCancel(M,me.domEventName,ht))}static parseEventName(M){const L=M.toLowerCase().split("."),ie=L.shift();if(0===L.length||"keydown"!==ie&&"keyup"!==ie)return null;const me=vt._normalizeKey(L.pop());let ht="",Mt=L.indexOf("code");if(Mt>-1&&(L.splice(Mt,1),ht="code."),Oe.forEach(fn=>{const Sn=L.indexOf(fn);Sn>-1&&(L.splice(Sn,1),ht+=fn+".")}),ht+=me,0!=L.length||0===me.length)return null;const an={};return an.domEventName=ie,an.fullKey=ht,an}static matchEventFullKeyCode(M,L){let ie=st[M.key]||M.key,me="";return L.indexOf("code.")>-1&&(ie=M.code,me="code."),!(null==ie||!ie)&&(ie=ie.toLowerCase()," "===ie?ie="space":"."===ie&&(ie="dot"),Oe.forEach(ht=>{ht!==ie&&(0,tn[ht])(M)&&(me+=ht+".")}),me+=ie,me===L)}static eventCallback(M,L,ie){return me=>{vt.matchEventFullKeyCode(me,M)&&ie.runGuarded(()=>L(me))}}static _normalizeKey(M){return"esc"===M?"escape":M}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(de.qQ))}}static{this.\u0275prov=o.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();const sn=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:de.AJ},{provide:o.PLl,useValue:function rt(){ve.makeCurrent()},multi:!0},{provide:de.qQ,useFactory:function wn(){return(0,o.TL$)(document),document},deps:[]}]),Vn=new o.nKC(""),Jt=[{provide:o.e01,useClass:class Fe{addToWindow($){o.JZv.getAngularTestability=(L,ie=!0)=>{const me=$.findTestabilityInTree(L,ie);if(null==me)throw new o.wOt(5103,!1);return me},o.JZv.getAllAngularTestabilities=()=>$.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>$.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(L=>{const ie=o.JZv.getAllAngularTestabilities();let me=ie.length,ht=!1;const Mt=function(an){ht=ht||an,me--,0==me&&L(ht)};ie.forEach(an=>{an.whenStable(Mt)})})}findTestabilityInTree($,M,L){return null==M?null:$.getTestability(M)??(L?(0,de.QT)().isShadowRoot(M)?this.findTestabilityInTree($,M.host,!0):this.findTestabilityInTree($,M.parentElement,!0):null)}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],$n=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function Lt(){return new o.zcH},deps:[]},{provide:te,useClass:ct,multi:!0,deps:[de.qQ,o.SKi,o.Agw]},{provide:te,useClass:We,multi:!0,deps:[de.qQ]},Ot,it,ae,{provide:o._9s,useExisting:Ot},{provide:de.N0,useClass:J,deps:[]},[]];let On=(()=>{class vt{constructor(M){}static withServerTransition(M){return{ngModule:vt,providers:[{provide:o.sZ2,useValue:M.appId}]}}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(Vn,12))}}static{this.\u0275mod=o.$C({type:vt})}static{this.\u0275inj=o.G2t({providers:[...$n,...Jt],imports:[de.MD,o.Hbi]})}}return vt})(),Bt=(()=>{class vt{constructor(M){this._doc=M,this._dom=(0,de.QT)()}addTag(M,L=!1){return M?this._getOrCreateElement(M,L):null}addTags(M,L=!1){return M?M.reduce((ie,me)=>(me&&ie.push(this._getOrCreateElement(me,L)),ie),[]):[]}getTag(M){return M&&this._doc.querySelector(`meta[${M}]`)||null}getTags(M){if(!M)return[];const L=this._doc.querySelectorAll(`meta[${M}]`);return L?[].slice.call(L):[]}updateTag(M,L){if(!M)return null;L=L||this._parseSelector(M);const ie=this.getTag(L);return ie?this._setMetaElementAttributes(M,ie):this._getOrCreateElement(M,!0)}removeTag(M){this.removeTagElement(this.getTag(M))}removeTagElement(M){M&&this._dom.remove(M)}_getOrCreateElement(M,L=!1){if(!L){const ht=this._parseSelector(M),Mt=this.getTags(ht).filter(an=>this._containsAttributes(M,an))[0];if(void 0!==Mt)return Mt}const ie=this._dom.createElement("meta");return this._setMetaElementAttributes(M,ie),this._doc.getElementsByTagName("head")[0].appendChild(ie),ie}_setMetaElementAttributes(M,L){return Object.keys(M).forEach(ie=>L.setAttribute(this._getMetaKeyMap(ie),M[ie])),L}_parseSelector(M){const L=M.name?"name":"property";return`${L}="${M[L]}"`}_containsAttributes(M,L){return Object.keys(M).every(ie=>L.getAttribute(this._getMetaKeyMap(ie))===M[ie])}_getMetaKeyMap(M){return vr[M]||M}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(de.qQ))}}static{this.\u0275prov=o.jDH({token:vt,factory:function(L){let ie=null;return ie=L?new L:function Gt(){return new Bt((0,o.KVO)(de.qQ))}(),ie},providedIn:"root"})}}return vt})();const vr={httpEquiv:"http-equiv"};let kr=(()=>{class vt{constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(de.qQ))}}static{this.\u0275prov=o.jDH({token:vt,factory:function(L){let ie=null;return ie=L?new L:function on(){return new kr((0,o.KVO)(de.qQ))}(),ie},providedIn:"root"})}}return vt})();typeof window<"u"&&window;let Ai=(()=>{class vt{static{this.\u0275fac=function(L){return new(L||vt)}}static{this.\u0275prov=o.jDH({token:vt,factory:function(L){let ie=null;return ie=L?new(L||vt):o.KVO(Tt),ie},providedIn:"root"})}}return vt})(),Tt=(()=>{class vt extends Ai{constructor(M){super(),this._doc=M}sanitize(M,L){if(null==L)return null;switch(M){case o.WPN.NONE:return L;case o.WPN.HTML:return(0,o.ZF7)(L,"HTML")?(0,o.rcV)(L):(0,o.h9k)(this._doc,String(L)).toString();case o.WPN.STYLE:return(0,o.ZF7)(L,"Style")?(0,o.rcV)(L):L;case o.WPN.SCRIPT:if((0,o.ZF7)(L,"Script"))return(0,o.rcV)(L);throw new o.wOt(5200,!1);case o.WPN.URL:return(0,o.ZF7)(L,"URL")?(0,o.rcV)(L):(0,o.$MX)(String(L));case o.WPN.RESOURCE_URL:if((0,o.ZF7)(L,"ResourceURL"))return(0,o.rcV)(L);throw new o.wOt(5201,!1);default:throw new o.wOt(5202,!1)}}bypassSecurityTrustHtml(M){return(0,o.Kcf)(M)}bypassSecurityTrustStyle(M){return(0,o.cWb)(M)}bypassSecurityTrustScript(M){return(0,o.UyX)(M)}bypassSecurityTrustUrl(M){return(0,o.osQ)(M)}bypassSecurityTrustResourceUrl(M){return(0,o.e5t)(M)}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(de.qQ))}}static{this.\u0275prov=o.jDH({token:vt,factory:function(L){let ie=null;return ie=L?new L:function ot(vt){return new Tt(vt.get(de.qQ))}(o.KVO(o.zZn)),ie},providedIn:"root"})}}return vt})()},6814:(rn,Je,F)=>{F.d(Je,{nX:()=>cr,Ix:()=>Ui,Wk:()=>Wo,wQ:()=>Ns,iI:()=>Xc,n3:()=>ws});var o=F(7705),de=F(1985),s=F(8071),ye=F(8455),Re=F(7673),be=F(4412),je=F(3073),Fe=F(3669),J=F(6450),te=F(3794),ae=F(8496),Ae=F(4360),_e=F(5225);function it(...D){const O=(0,te.lI)(D),w=(0,te.ms)(D),{args:N,keys:H}=(0,je.D)(D);if(0===N.length)return(0,ye.H)([],O);const le=new de.c(function lt(D,O,w=Fe.D){return N=>{xt(O,()=>{const{length:H}=D,le=new Array(H);let Me=H,Ct=H;for(let bt=0;bt<H;bt++)xt(O,()=>{const En=(0,ye.H)(D[bt],O);let pr=!1;En.subscribe((0,Ae._)(N,ur=>{le[bt]=ur,pr||(pr=!0,Ct--),Ct||N.next(w(le.slice()))},()=>{--Me||N.complete()}))},N)},N)}}(N,O,H?Me=>(0,ae.e)(H,Me):Fe.D));return w?le.pipe((0,J.I)(w)):le}function xt(D,O,w){D?(0,_e.N)(w,D,O):O()}var kt=F(9350),Qt=F(8793),ze=F(8750);function we(D){return new de.c(O=>{(0,ze.Tg)(D()).subscribe(O)})}var Ze=F(1203),Ve=F(8810),et=F(983),$e=F(8359),Ot=F(9974);function Ce(){return(0,Ot.N)((D,O)=>{let w=null;D._refCount++;const N=(0,Ae._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const H=D._connection,le=w;w=null,H&&(!le||H===le)&&H.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(w=D.connect())})}class qt extends de.c{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ot.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new $e.yU;const w=this.getSubject();O.add(this.source.subscribe((0,Ae._)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=$e.yU.EMPTY)}return O}refCount(){return Ce()(this)}}var pn=F(1413),ir=F(177),Ye=F(6354),Pt=F(5558),Ue=F(6697),ct=F(9172),Oe=F(5964),st=F(1397),tn=F(1594),We=F(274),Pe=F(8141),Ie=F(9437),ke=F(2816),ut=F(9901);function rt(D){return D<=0?()=>et.w:(0,Ot.N)((O,w)=>{let N=[];O.subscribe((0,Ae._)(w,H=>{N.push(H),D<N.length&&N.shift()},()=>{for(const H of N)w.next(H);w.complete()},void 0,()=>{N=null}))})}var Lt=F(3774),sn=F(980),Vn=F(5343),$n=F(6365),On=F(345);const Gt="primary",Bt=Symbol("RouteTitle");class vr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function on(D){return new vr(D)}function kr(D,O,w){const N=w.path.split("/");if(N.length>D.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const H={};for(let le=0;le<N.length;le++){const Me=N[le],Ct=D[le];if(Me.startsWith(":"))H[Me.substring(1)]=Ct;else if(Me!==Ct.path)return null}return{consumed:D.slice(0,N.length),posParams:H}}function $t(D,O){const w=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let H;for(let le=0;le<w.length;le++)if(H=w[le],!bn(D[H],O[H]))return!1;return!0}function bn(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const w=[...D].sort(),N=[...O].sort();return w.every((H,le)=>N[le]===H)}return D===O}function Hn(D){return D.length>0?D[D.length-1]:null}function In(D){return function ve(D){return!!D&&(D instanceof de.c||(0,s.T)(D.lift)&&(0,s.T)(D.subscribe))}(D)?D:(0,o.jNT)(D)?(0,ye.H)(Promise.resolve(D)):(0,Re.of)(D)}const $r={exact:function pi(D,O,w){if(!Tt(D.segments,O.segments)||!Jn(D.segments,O.segments,w)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!pi(D.children[N],O.children[N],w))return!1;return!0},subset:hn},Mr={exact:function zn(D,O){return $t(D,O)},subset:function ys(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(w=>bn(D[w],O[w]))},ignored:()=>!0};function ri(D,O,w){return $r[w.paths](D.root,O.root,w.matrixParams)&&Mr[w.queryParams](D.queryParams,O.queryParams)&&!("exact"===w.fragment&&D.fragment!==O.fragment)}function hn(D,O,w){return ii(D,O,O.segments,w)}function ii(D,O,w,N){if(D.segments.length>w.length){const H=D.segments.slice(0,w.length);return!(!Tt(H,w)||O.hasChildren()||!Jn(H,w,N))}if(D.segments.length===w.length){if(!Tt(D.segments,w)||!Jn(D.segments,w,N))return!1;for(const H in O.children)if(!D.children[H]||!hn(D.children[H],O.children[H],N))return!1;return!0}{const H=w.slice(0,D.segments.length),le=w.slice(D.segments.length);return!!(Tt(D.segments,H)&&Jn(D.segments,H,N)&&D.children[Gt])&&ii(D.children[Gt],O,le,N)}}function Jn(D,O,w){return O.every((N,H)=>Mr[w](D[H].parameters,N.parameters))}class Ir{constructor(O=new Gn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return gt.serialize(this)}}class Gn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ee(this)}}class Ai{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return ie(this)}}function Tt(D,O){return D.length===O.length&&D.every((w,N)=>w.path===O[N].path)}let Ne=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return new fe},providedIn:"root"})}}return D})();class fe{parse(O){const w=new $s(O);return new Ir(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${_t(O.root,!0)}`,N=function ht(D){const O=Object.keys(D).map(w=>{const N=D[w];return Array.isArray(N)?N.map(H=>`${Er(w)}=${Er(H)}`).join("&"):`${Er(w)}=${Er(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function vt(D){return encodeURI(D)}(O.fragment)}`:""}`}}const gt=new fe;function Ee(D){return D.segments.map(O=>ie(O)).join("/")}function _t(D,O){if(!D.hasChildren())return Ee(D);if(O){const w=D.children[Gt]?_t(D.children[Gt],!1):"",N=[];return Object.entries(D.children).forEach(([H,le])=>{H!==Gt&&N.push(`${H}:${_t(le,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function ue(D,O){let w=[];return Object.entries(D.children).forEach(([N,H])=>{N===Gt&&(w=w.concat(O(H,N)))}),Object.entries(D.children).forEach(([N,H])=>{N!==Gt&&(w=w.concat(O(H,N)))}),w}(D,(N,H)=>H===Gt?[_t(D.children[Gt],!1)]:[`${H}:${_t(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Gt]?`${Ee(D)}/${w[0]}`:`${Ee(D)}/(${w.join("//")})`}}function Yt(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Er(D){return Yt(D).replace(/%3B/gi,";")}function $(D){return Yt(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function M(D){return decodeURIComponent(D)}function L(D){return M(D.replace(/\+/g,"%20"))}function ie(D){return`${$(D.path)}${function me(D){return Object.keys(D).map(O=>`;${$(O)}=${$(D[O])}`).join("")}(D.parameters)}`}const Mt=/^[^\/()?;#]+/;function an(D){const O=D.match(Mt);return O?O[0]:""}const fn=/^[^\/()?;=#]+/,br=/^[^=?&#]+/,Wr=/^[^&#]+/;class $s{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gn([],{}):new Gn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Gt]=new Gn(O,w)),N}parseSegment(){const O=an(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new o.wOt(4009,!1);return this.capture(O),new Ai(M(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function Sn(D){const O=D.match(fn);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const H=an(this.remaining);H&&(N=H,this.capture(N))}O[M(w)]=M(N)}parseQueryParam(O){const w=function ln(D){const O=D.match(br);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Me=function dr(D){const O=D.match(Wr);return O?O[0]:""}(this.remaining);Me&&(N=Me,this.capture(N))}const H=L(w),le=L(N);if(O.hasOwnProperty(H)){let Me=O[H];Array.isArray(Me)||(Me=[Me],O[H]=Me),Me.push(le)}else O[H]=le}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=an(this.remaining),H=this.remaining[N.length];if("/"!==H&&")"!==H&&";"!==H)throw new o.wOt(4010,!1);let le;N.indexOf(":")>-1?(le=N.slice(0,N.indexOf(":")),this.capture(le),this.capture(":")):O&&(le=Gt);const Me=this.parseChildren();w[le]=1===Object.keys(Me).length?Me[Gt]:new Gn([],Me),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new o.wOt(4011,!1)}}function Fi(D){return D.segments.length>0?new Gn([],{[Gt]:D}):D}function vs(D){const O={};for(const N of Object.keys(D.children)){const le=vs(D.children[N]);if(N===Gt&&0===le.segments.length&&le.hasChildren())for(const[Me,Ct]of Object.entries(le.children))O[Me]=Ct;else(le.segments.length>0||le.hasChildren())&&(O[N]=le)}return function Es(D){if(1===D.numberOfChildren&&D.children[Gt]){const O=D.children[Gt];return new Gn(D.segments.concat(O.segments),O.children)}return D}(new Gn(D.segments,O))}function yi(D){return D instanceof Ir}function ks(D){let O;const H=Fi(function w(le){const Me={};for(const bt of le.children){const En=w(bt);Me[bt.outlet]=En}const Ct=new Gn(le.url,Me);return le===D&&(O=Ct),Ct}(D.root));return O??H}function At(D,O,w,N){let H=D;for(;H.parent;)H=H.parent;if(0===O.length)return cn(H,H,H,w,N);const le=function hr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Ln(!0,0,D);let O=0,w=!1;const N=D.reduce((H,le,Me)=>{if("object"==typeof le&&null!=le){if(le.outlets){const Ct={};return Object.entries(le.outlets).forEach(([bt,En])=>{Ct[bt]="string"==typeof En?En.split("/"):En}),[...H,{outlets:Ct}]}if(le.segmentPath)return[...H,le.segmentPath]}return"string"!=typeof le?[...H,le]:0===Me?(le.split("/").forEach((Ct,bt)=>{0==bt&&"."===Ct||(0==bt&&""===Ct?w=!0:".."===Ct?O++:""!=Ct&&H.push(Ct))}),H):[...H,le]},[]);return new Ln(w,O,N)}(O);if(le.toRoot())return cn(H,H,new Gn([],{}),w,N);const Me=function Jr(D,O,w){if(D.isAbsolute)return new Hr(O,!0,0);if(!w)return new Hr(O,!1,NaN);if(null===w.parent)return new Hr(w,!0,0);const N=at(D.commands[0])?0:1;return function mr(D,O,w){let N=D,H=O,le=w;for(;le>H;){if(le-=H,N=N.parent,!N)throw new o.wOt(4005,!1);H=N.segments.length}return new Hr(N,!1,H-le)}(w,w.segments.length-1+N,D.numberOfDoubleDots)}(le,H,D),Ct=Me.processChildren?Zi(Me.segmentGroup,Me.index,le.commands):Fs(Me.segmentGroup,Me.index,le.commands);return cn(H,Me.segmentGroup,Ct,w,N)}function at(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Nt(D){return"object"==typeof D&&null!=D&&D.outlets}function cn(D,O,w,N,H){let Me,le={};N&&Object.entries(N).forEach(([bt,En])=>{le[bt]=Array.isArray(En)?En.map(pr=>`${pr}`):`${En}`}),Me=D===O?w:Bn(D,O,w);const Ct=Fi(vs(Me));return new Ir(Ct,le,H)}function Bn(D,O,w){const N={};return Object.entries(D.children).forEach(([H,le])=>{N[H]=le===O?w:Bn(le,O,w)}),new Gn(D.segments,N)}class Ln{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&at(N[0]))throw new o.wOt(4003,!1);const H=N.find(Nt);if(H&&H!==Hn(N))throw new o.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hr{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function Fs(D,O,w){if(D||(D=new Gn([],{})),0===D.segments.length&&D.hasChildren())return Zi(D,O,w);const N=function Io(D,O,w){let N=0,H=O;const le={match:!1,pathIndex:0,commandIndex:0};for(;H<D.segments.length;){if(N>=w.length)return le;const Me=D.segments[H],Ct=w[N];if(Nt(Ct))break;const bt=`${Ct}`,En=N<w.length-1?w[N+1]:null;if(H>0&&void 0===bt)break;if(bt&&En&&"object"==typeof En&&void 0===En.outlets){if(!di(bt,En,Me))return le;N+=2}else{if(!di(bt,{},Me))return le;N++}H++}return{match:!0,pathIndex:H,commandIndex:N}}(D,O,w),H=w.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const le=new Gn(D.segments.slice(0,N.pathIndex),{});return le.children[Gt]=new Gn(D.segments.slice(N.pathIndex),D.children),Zi(le,0,H)}return N.match&&0===H.length?new Gn(D.segments,{}):N.match&&!D.hasChildren()?Co(D,O,w):N.match?Zi(D,0,H):Co(D,O,w)}function Zi(D,O,w){if(0===w.length)return new Gn(D.segments,{});{const N=function Ki(D){return Nt(D[0])?D[0].outlets:{[Gt]:D}}(w),H={};if(Object.keys(N).some(le=>le!==Gt)&&D.children[Gt]&&1===D.numberOfChildren&&0===D.children[Gt].segments.length){const le=Zi(D.children[Gt],O,w);return new Gn(D.segments,le.children)}return Object.entries(N).forEach(([le,Me])=>{"string"==typeof Me&&(Me=[Me]),null!==Me&&(H[le]=Fs(D.children[le],O,Me))}),Object.entries(D.children).forEach(([le,Me])=>{void 0===N[le]&&(H[le]=Me)}),new Gn(D.segments,H)}}function Co(D,O,w){const N=D.segments.slice(0,O);let H=0;for(;H<w.length;){const le=w[H];if(Nt(le)){const bt=ji(le.outlets);return new Gn(N,bt)}if(0===H&&at(w[0])){N.push(new Ai(D.segments[O].path,jo(w[0]))),H++;continue}const Me=Nt(le)?le.outlets[Gt]:`${le}`,Ct=H<w.length-1?w[H+1]:null;Me&&Ct&&at(Ct)?(N.push(new Ai(Me,jo(Ct))),H+=2):(N.push(new Ai(Me,{})),H++)}return new Gn(N,{})}function ji(D){const O={};return Object.entries(D).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=Co(new Gn([],{}),0,N))}),O}function jo(D){const O={};return Object.entries(D).forEach(([w,N])=>O[w]=`${N}`),O}function di(D,O,w){return D==w.path&&$t(O,w.parameters)}const es="imperative";class bs{constructor(O,w){this.id=O,this.url=w}}class Zr extends bs{constructor(O,w,N="imperative",H=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hi extends bs{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ri extends bs{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ar extends bs{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=16}}class uo extends bs{constructor(O,w,N,H){super(O,w),this.error=N,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wo extends bs{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gi extends bs{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oa extends bs{constructor(O,w,N,H,le){super(O,w),this.urlAfterRedirects=N,this.state=H,this.shouldActivate=le,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xa extends bs{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends bs{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class us{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pi{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fr{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ts{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ts{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class As{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ns{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Dr{}class si{constructor(O){this.url=O}}class Ds{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ai,this.attachRef=null}}let ai=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const H=this.getOrCreateContext(w);H.outlet=N,this.contexts.set(w,H)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new Ds,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class qi{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=to(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=to(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=Yi(O,this._root);return w.length<2?[]:w[w.length-2].children.map(H=>H.value).filter(H=>H!==O)}pathFromRoot(O){return Yi(O,this._root).map(w=>w.value)}}function to(D,O){if(D===O.value)return O;for(const w of O.children){const N=to(D,w);if(N)return N}return null}function Yi(D,O){if(D===O.value)return[O];for(const w of O.children){const N=Yi(D,w);if(N.length)return N.unshift(O),N}return[]}class Is{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ls(D){const O={};return D&&D.children.forEach(w=>O[w.value.outlet]=w),O}class ei extends qi{constructor(O,w){super(O),this.snapshot=w,Fr(this,O)}toString(){return this.snapshot.toString()}}function mn(D,O){const w=function rr(D,O){const Me=new li([],{},{},"",{},Gt,O,null,{});return new Mi("",new Is(Me,[]))}(0,O),N=new be.t([new Ai("",{})]),H=new be.t({}),le=new be.t({}),Me=new be.t({}),Ct=new be.t(""),bt=new cr(N,H,Me,Ct,le,Gt,O,w.root);return bt.snapshot=w.root,new ei(new Is(bt,[]),w)}class cr{constructor(O,w,N,H,le,Me,Ct,bt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=H,this.dataSubject=le,this.outlet=Me,this.component=Ct,this._futureSnapshot=bt,this.title=this.dataSubject?.pipe((0,Ye.T)(En=>En[Bt]))??(0,Re.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=le}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.T)(O=>on(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.T)(O=>on(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xi(D,O="emptyOnly"){const w=D.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const H=w[N],le=w[N-1];if(H.routeConfig&&""===H.routeConfig.path)N--;else{if(le.component)break;N--}}return function rs(D){return D.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class li{get title(){return this.data?.[Bt]}constructor(O,w,N,H,le,Me,Ct,bt,En){this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=le,this.outlet=Me,this.component=Ct,this.routeConfig=bt,this._resolve=En}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mi extends qi{constructor(O,w){super(w),this.url=O,Fr(this,w)}toString(){return vi(this._root)}}function Fr(D,O){O.value._routerState=D,O.children.forEach(w=>Fr(D,w))}function vi(D){const O=D.children.length>0?` { ${D.children.map(vi).join(", ")} } `:"";return`${D.value}${O}`}function Cs(D){if(D.snapshot){const O=D.snapshot,w=D._futureSnapshot;D.snapshot=w,$t(O.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),$t(O.params,w.params)||D.paramsSubject.next(w.params),function Yn(D,O){if(D.length!==O.length)return!1;for(let w=0;w<D.length;++w)if(!$t(D[w],O[w]))return!1;return!0}(O.url,w.url)||D.urlSubject.next(w.url),$t(O.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Zn(D,O){const w=$t(D.params,O.params)&&function ot(D,O){return Tt(D,O)&&D.every((w,N)=>$t(w.parameters,O[N].parameters))}(D.url,O.url);return w&&!(!D.parent!=!O.parent)&&(!D.parent||Zn(D.parent,O.parent))}let ws=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gt,this.activateEvents=new o.bkB,this.deactivateEvents=new o.bkB,this.attachEvents=new o.bkB,this.detachEvents=new o.bkB,this.parentContexts=(0,o.WQX)(ai),this.location=(0,o.WQX)(o.c1b),this.changeDetector=(0,o.WQX)(o.gRc),this.environmentInjector=(0,o.WQX)(o.uvJ),this.inputBinder=(0,o.WQX)(ee,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:H}=w.name;if(N)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new o.wOt(4013,!1);this._activatedRoute=w;const H=this.location,Me=w.snapshot.component,Ct=this.parentContexts.getOrCreateContext(this.name).children,bt=new Ss(w,Ct,H.injector);this.activated=H.createComponent(Me,{index:H.length,injector:bt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=o.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.OA$]})}}return D})();class Ss{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===cr?this.route:O===ai?this.childContexts:this.parent.get(O,w)}}const ee=new o.nKC("");let Q=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,H=it([N.queryParams,N.params,N.data]).pipe((0,Pt.n)(([le,Me,Ct],bt)=>(Ct={...le,...Me,...Ct},0===bt?(0,Re.of)(Ct):Promise.resolve(Ct)))).subscribe(le=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Me=(0,o.HJs)(N.component);if(Me)for(const{templateName:Ct}of Me.inputs)w.activatedComponentRef.setInput(Ct,le[Ct]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,H)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function Le(D,O,w){if(w&&D.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const H=function tt(D,O,w){return O.children.map(N=>{for(const H of w.children)if(D.shouldReuseRoute(N.value,H.value.snapshot))return Le(D,N,H);return Le(D,N)})}(D,O,w);return new Is(N,H)}{if(D.shouldAttach(O.value)){const le=D.retrieve(O.value);if(null!==le){const Me=le.route;return Me.value._futureSnapshot=O.value,Me.children=O.children.map(Ct=>Le(D,Ct)),Me}}const N=function It(D){return new cr(new be.t(D.url),new be.t(D.params),new be.t(D.queryParams),new be.t(D.fragment),new be.t(D.data),D.outlet,D.component,D)}(O.value),H=O.children.map(le=>Le(D,le));return new Is(N,H)}}const Kt="ngNavigationCancelingError";function An(D,O){const{redirectTo:w,navigationBehaviorOptions:N}=yi(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,H=yn(!1,0,O);return H.url=w,H.navigationBehaviorOptions=N,H}function yn(D,O,w){const N=new Error("NavigationCancelingError: "+(D||""));return N[Kt]=!0,N.cancellationCode=O,w&&(N.url=w),N}function Or(D){return D&&D[Kt]}let Rn=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(N,H){1&N&&o.nrm(0,"router-outlet")},dependencies:[ws],encapsulation:2})}}return D})();function Si(D){const O=D.children&&D.children.map(Si),w=O?{...D,children:O}:{...D};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Gt&&(w.component=Rn),w}function Kr(D){return D.outlet||Gt}function ds(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class ta{constructor(O,w,N,H,le){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=H,this.inputBindingEnabled=le}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),Cs(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const H=Ls(w);O.children.forEach(le=>{const Me=le.value.outlet;this.deactivateRoutes(le,H[Me],N),delete H[Me]}),Object.values(H).forEach(le=>{this.deactivateRouteAndItsChildren(le,N)})}deactivateRoutes(O,w,N){const H=O.value,le=w?w.value:null;if(H===le)if(H.component){const Me=N.getContext(H.outlet);Me&&this.deactivateChildRoutes(O,w,Me.children)}else this.deactivateChildRoutes(O,w,N);else le&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,le=Ls(O);for(const Me of Object.keys(le))this.deactivateRouteAndItsChildren(le[Me],H);if(N&&N.outlet){const Me=N.outlet.detach(),Ct=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Me,route:O,contexts:Ct})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,le=Ls(O);for(const Me of Object.keys(le))this.deactivateRouteAndItsChildren(le[Me],H);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const H=Ls(w);O.children.forEach(le=>{this.activateRoutes(le,H[le.value.outlet],N),this.forwardEvent(new As(le.value.snapshot))}),O.children.length&&this.forwardEvent(new Ts(O.value.snapshot))}activateRoutes(O,w,N){const H=O.value,le=w?w.value:null;if(Cs(H),H===le)if(H.component){const Me=N.getOrCreateContext(H.outlet);this.activateChildRoutes(O,w,Me.children)}else this.activateChildRoutes(O,w,N);else if(H.component){const Me=N.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const Ct=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Me.children.onOutletReAttached(Ct.contexts),Me.attachRef=Ct.componentRef,Me.route=Ct.route.value,Me.outlet&&Me.outlet.attach(Ct.componentRef,Ct.route.value),Cs(Ct.route.value),this.activateChildRoutes(O,null,Me.children)}else{const Ct=ds(H.snapshot);Me.attachRef=null,Me.route=H,Me.injector=Ct,Me.outlet&&Me.outlet.activateWith(H,Me.injector),this.activateChildRoutes(O,null,Me.children)}}else this.activateChildRoutes(O,null,N)}}class Qa{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class na{constructor(O,w){this.component=O,this.route=w}}function Hc(D,O,w){const N=D._root;return Ao(N,O?O._root:null,w,[N.value])}function hs(D,O){const w=Symbol(),N=O.get(D,w);return N===w?"function"!=typeof D||(0,o.LfX)(D)?O.get(D):D:N}function Ao(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const le=Ls(O);return D.children.forEach(Me=>{(function _a(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const le=D.value,Me=O?O.value:null,Ct=w?w.getContext(D.value.outlet):null;if(Me&&le.routeConfig===Me.routeConfig){const bt=function Na(D,O,w){if("function"==typeof w)return w(D,O);switch(w){case"pathParamsChange":return!Tt(D.url,O.url);case"pathParamsOrQueryParamsChange":return!Tt(D.url,O.url)||!$t(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zn(D,O)||!$t(D.queryParams,O.queryParams);default:return!Zn(D,O)}}(Me,le,le.routeConfig.runGuardsAndResolvers);bt?H.canActivateChecks.push(new Qa(N)):(le.data=Me.data,le._resolvedData=Me._resolvedData),Ao(D,O,le.component?Ct?Ct.children:null:w,N,H),bt&&Ct&&Ct.outlet&&Ct.outlet.isActivated&&H.canDeactivateChecks.push(new na(Ct.outlet.component,Me))}else Me&&mi(O,Ct,H),H.canActivateChecks.push(new Qa(N)),Ao(D,null,le.component?Ct?Ct.children:null:w,N,H)})(Me,le[Me.value.outlet],w,N.concat([Me.value]),H),delete le[Me.value.outlet]}),Object.entries(le).forEach(([Me,Ct])=>mi(Ct,w.getContext(Me),H)),H}function mi(D,O,w){const N=Ls(D),H=D.value;Object.entries(N).forEach(([le,Me])=>{mi(Me,H.component?O?O.children.getContext(le):null:O,w)}),w.canDeactivateChecks.push(new na(H.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,H))}function ya(D){return"function"==typeof D}function is(D){return D instanceof kt.G||"EmptyError"===D?.name}const Xs=Symbol("INITIAL_VALUE");function ss(){return(0,Pt.n)(D=>it(D.map(O=>O.pipe((0,Ue.s)(1),(0,ct.Z)(Xs)))).pipe((0,Ye.T)(O=>{for(const w of O)if(!0!==w){if(w===Xs)return Xs;if(!1===w||w instanceof Ir)return w}return!0}),(0,Oe.p)(O=>O!==Xs),(0,Ue.s)(1)))}function as(D){return(0,Ze.F)((0,Pe.M)(O=>{if(yi(O))throw An(0,O)}),(0,Ye.T)(O=>!0===O))}class ro{constructor(O){this.segmentGroup=O||null}}class Ea{constructor(O){this.urlTree=O}}function xs(D){return(0,Ve.$)(new ro(D))}function ba(D){return(0,Ve.$)(new Ea(D))}class Au{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new o.wOt(4002,!1)}lineralizeSegments(O,w){let N=[],H=w.root;for(;;){if(N=N.concat(H.segments),0===H.numberOfChildren)return(0,Re.of)(N);if(H.numberOfChildren>1||!H.children[Gt])return(0,Ve.$)(new o.wOt(4e3,!1));H=H.children[Gt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,H){const le=this.createSegmentGroup(O,w.root,N,H);return new Ir(le,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([H,le])=>{if("string"==typeof le&&le.startsWith(":")){const Ct=le.substring(1);N[H]=w[Ct]}else N[H]=le}),N}createSegmentGroup(O,w,N,H){const le=this.createSegments(O,w.segments,N,H);let Me={};return Object.entries(w.children).forEach(([Ct,bt])=>{Me[Ct]=this.createSegmentGroup(O,bt,N,H)}),new Gn(le,Me)}createSegments(O,w,N,H){return w.map(le=>le.path.startsWith(":")?this.findPosParam(O,le,H):this.findOrReturn(le,N))}findPosParam(O,w,N){const H=N[w.path.substring(1)];if(!H)throw new o.wOt(4001,!1);return H}findOrReturn(O,w){let N=0;for(const H of w){if(H.path===O.path)return w.splice(N),H;N++}return O}}const _r={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Pl(D,O,w,N,H){const le=_o(D,O,w);return le.matched?(N=function kn(D,O){return D.providers&&!D._injector&&(D._injector=(0,o.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function Ja(D,O,w,N){const H=O.canMatch;if(!H||0===H.length)return(0,Re.of)(!0);const le=H.map(Me=>{const Ct=hs(Me,D);return In(function He(D){return D&&ya(D.canMatch)}(Ct)?Ct.canMatch(O,w):D.runInContext(()=>Ct(O,w)))});return(0,Re.of)(le).pipe(ss(),as())}(N,O,w).pipe((0,Ye.T)(Me=>!0===Me?le:{..._r}))):(0,Re.of)(le)}function _o(D,O,w){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||w.length>0)?{..._r}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const H=(O.matcher||kr)(w,D,O);if(!H)return{..._r};const le={};Object.entries(H.posParams??{}).forEach(([Ct,bt])=>{le[Ct]=bt.path});const Me=H.consumed.length>0?{...le,...H.consumed[H.consumed.length-1].parameters}:le;return{matched:!0,consumedSegments:H.consumed,remainingSegments:w.slice(H.consumed.length),parameters:Me,positionalParamSegments:H.posParams??{}}}function Ho(D,O,w,N){return w.length>0&&function Ml(D,O,w){return w.some(N=>tl(D,O,N)&&Kr(N)!==Gt)}(D,w,N)?{segmentGroup:new Gn(O,Du(N,new Gn(w,D.children))),slicedSegments:[]}:0===w.length&&function kh(D,O,w){return w.some(N=>tl(D,O,N))}(D,w,N)?{segmentGroup:new Gn(D.segments,el(D,0,w,N,D.children)),slicedSegments:w}:{segmentGroup:new Gn(D.segments,D.children),slicedSegments:w}}function el(D,O,w,N,H){const le={};for(const Me of N)if(tl(D,w,Me)&&!H[Kr(Me)]){const Ct=new Gn([],{});le[Kr(Me)]=Ct}return{...H,...le}}function Du(D,O){const w={};w[Gt]=O;for(const N of D)if(""===N.path&&Kr(N)!==Gt){const H=new Gn([],{});w[Kr(N)]=H}return w}function tl(D,O,w){return(!(D.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class Fa{constructor(O,w,N,H,le,Me,Ct){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=H,this.urlTree=le,this.paramsInheritanceStrategy=Me,this.urlSerializer=Ct,this.allowRedirects=!0,this.applyRedirects=new Au(this.urlSerializer,this.urlTree)}noMatchError(O){return new o.wOt(4002,!1)}recognize(){const O=Ho(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Gt).pipe((0,Ie.W)(w=>{if(w instanceof Ea)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof ro?this.noMatchError(w):w}),(0,Ye.T)(w=>{const N=new li([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,{}),H=new Is(N,w),le=new Mi("",H),Me=function sr(D,O,w=null,N=null){return At(ks(D),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Me.queryParams=this.urlTree.queryParams,le.url=this.urlSerializer.serialize(Me),this.inheritParamsAndData(le._root),{state:le,tree:Me}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Gt).pipe((0,Ie.W)(N=>{throw N instanceof ro?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=Xi(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(O,w,N,H){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,H,!0)}processChildren(O,w,N){const H=[];for(const le of Object.keys(N.children))"primary"===le?H.unshift(le):H.push(le);return(0,ye.H)(H).pipe((0,We.H)(le=>{const Me=N.children[le],Ct=function $o(D,O){const w=D.filter(N=>Kr(N)===O);return w.push(...D.filter(N=>Kr(N)!==O)),w}(w,le);return this.processSegmentGroup(O,Ct,Me,le)}),(0,ke.S)((le,Me)=>(le.push(...Me),le)),(0,ut.U)(null),function wn(D,O){const w=arguments.length>=2;return N=>N.pipe(D?(0,Oe.p)((H,le)=>D(H,le,N)):Fe.D,rt(1),w?(0,ut.U)(O):(0,Lt.v)(()=>new kt.G))}(),(0,st.Z)(le=>{if(null===le)return xs(N);const Me=Ta(le);return function La(D){D.sort((O,w)=>O.value.outlet===Gt?-1:w.value.outlet===Gt?1:O.value.outlet.localeCompare(w.value.outlet))}(Me),(0,Re.of)(Me)}))}processSegment(O,w,N,H,le,Me){return(0,ye.H)(w).pipe((0,We.H)(Ct=>this.processSegmentAgainstRoute(Ct._injector??O,w,Ct,N,H,le,Me).pipe((0,Ie.W)(bt=>{if(bt instanceof ro)return(0,Re.of)(null);throw bt}))),(0,tn.$)(Ct=>!!Ct),(0,Ie.W)(Ct=>{if(is(Ct))return function nl(D,O,w){return 0===O.length&&!D.children[w]}(N,H,le)?(0,Re.of)([]):xs(N);throw Ct}))}processSegmentAgainstRoute(O,w,N,H,le,Me,Ct){return function Su(D,O,w,N){return!!(Kr(D)===N||N!==Gt&&tl(O,w,D))&&("**"===D.path||_o(O,D,w).matched)}(N,H,le,Me)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,H,N,le,Me,Ct):Ct&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,H,w,N,le,Me):xs(H):xs(H)}expandSegmentAgainstRouteUsingRedirect(O,w,N,H,le,Me){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,H,Me):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,le,Me)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,H){const le=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?ba(le):this.applyRedirects.lineralizeSegments(N,le).pipe((0,st.Z)(Me=>{const Ct=new Gn(Me,{});return this.processSegment(O,w,Ct,Me,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,le,Me){const{matched:Ct,consumedSegments:bt,remainingSegments:En,positionalParamSegments:pr}=_o(w,H,le);if(!Ct)return xs(w);const ur=this.applyRedirects.applyRedirectCommands(bt,H.redirectTo,pr);return H.redirectTo.startsWith("/")?ba(ur):this.applyRedirects.lineralizeSegments(H,ur).pipe((0,st.Z)(wr=>this.processSegment(O,N,w,wr.concat(En),Me,!1)))}matchSegmentAgainstRoute(O,w,N,H,le,Me){let Ct;if("**"===N.path){const bt=H.length>0?Hn(H).parameters:{},En=new li(H,bt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zc(N),Kr(N),N.component??N._loadedComponent??null,N,P(N));Ct=(0,Re.of)({snapshot:En,consumedSegments:[],remainingSegments:[]}),w.children={}}else Ct=Pl(w,N,H,O).pipe((0,Ye.T)(({matched:bt,consumedSegments:En,remainingSegments:pr,parameters:ur})=>bt?{snapshot:new li(En,ur,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zc(N),Kr(N),N.component??N._loadedComponent??null,N,P(N)),consumedSegments:En,remainingSegments:pr}:null));return Ct.pipe((0,Pt.n)(bt=>null===bt?xs(w):this.getChildConfig(O=N._injector??O,N,H).pipe((0,Pt.n)(({routes:En})=>{const pr=N._loadedInjector??O,{snapshot:ur,consumedSegments:wr,remainingSegments:Gr}=bt,{segmentGroup:sa,slicedSegments:Ll}=Ho(w,wr,Gr,En);if(0===Ll.length&&sa.hasChildren())return this.processChildren(pr,En,sa).pipe((0,Ye.T)(Vl=>null===Vl?null:[new Is(ur,Vl)]));if(0===En.length&&0===Ll.length)return(0,Re.of)([new Is(ur,[])]);const ol=Kr(N)===le;return this.processSegment(pr,En,sa,Ll,ol?Gt:le,!0).pipe((0,Ye.T)(Vl=>[new Is(ur,Vl)]))}))))}getChildConfig(O,w,N){return w.children?(0,Re.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Re.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Rl(D,O,w,N){const H=O.canLoad;if(void 0===H||0===H.length)return(0,Re.of)(!0);const le=H.map(Me=>{const Ct=hs(Me,D);return In(function W(D){return D&&ya(D.canLoad)}(Ct)?Ct.canLoad(O,w):D.runInContext(()=>Ct(O,w)))});return(0,Re.of)(le).pipe(ss(),as())}(O,w,N).pipe((0,st.Z)(H=>H?this.configLoader.loadChildren(O,w).pipe((0,Pe.M)(le=>{w._loadedRoutes=le.routes,w._loadedInjector=le.injector})):function Za(D){return(0,Ve.$)(yn(!1,3))}())):(0,Re.of)({routes:[],injector:O})}}function rl(D){const O=D.value.routeConfig;return O&&""===O.path}function Ta(D){const O=[],w=new Set;for(const N of D){if(!rl(N)){O.push(N);continue}const H=O.find(le=>N.value.routeConfig===le.value.routeConfig);void 0!==H?(H.children.push(...N.children),w.add(H)):O.push(N)}for(const N of w){const H=Ta(N.children);O.push(new Is(N.value,H))}return O.filter(N=>!w.has(N))}function zc(D){return D.data||{}}function P(D){return D.resolve||{}}function Un(D){return"string"==typeof D.title||null===D.title}function qr(D){return(0,Pt.n)(O=>{const w=D(O);return w?(0,ye.H)(w).pipe((0,Ye.T)(()=>O)):(0,Re.of)(O)})}const hi=new o.nKC("ROUTES");let Nr=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.WQX)(o.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Re.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=In(w.loadComponent()).pipe((0,Ye.T)(Yr),(0,Pe.M)(le=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=le}),(0,sn.j)(()=>{this.componentLoaders.delete(w)})),H=new qt(N,()=>new pn.B).pipe(Ce());return this.componentLoaders.set(w,H),H}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Re.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const le=function er(D,O,w,N){return In(D.loadChildren()).pipe((0,Ye.T)(Yr),(0,st.Z)(H=>H instanceof o.Co$||Array.isArray(H)?(0,Re.of)(H):(0,ye.H)(O.compileModuleAsync(H))),(0,Ye.T)(H=>{N&&N(D);let le,Me,Ct=!1;return Array.isArray(H)?(Me=H,!0):(le=H.create(w).injector,Me=le.get(hi,[],{optional:!0,self:!0}).flat()),{routes:Me.map(Si),injector:le}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,sn.j)(()=>{this.childrenLoaders.delete(N)})),Me=new qt(le,()=>new pn.B).pipe(Ce());return this.childrenLoaders.set(N,Me),Me}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Yr(D){return function Ur(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let wi=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pn.B,this.transitionAbortSubject=new pn.B,this.configLoader=(0,o.WQX)(Nr),this.environmentInjector=(0,o.WQX)(o.uvJ),this.urlSerializer=(0,o.WQX)(Ne),this.rootContexts=(0,o.WQX)(ai),this.inputBindingEnabled=null!==(0,o.WQX)(ee,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Re.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Pi(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new us(H))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,H){return this.transitions=new be.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:es,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Oe.p)(le=>0!==le.id),(0,Ye.T)(le=>({...le,extractedUrl:w.urlHandlingStrategy.extract(le.rawUrl)})),(0,Pt.n)(le=>{this.currentTransition=le;let Me=!1,Ct=!1;return(0,Re.of)(le).pipe((0,Pe.M)(bt=>{this.currentNavigation={id:bt.id,initialUrl:bt.rawUrl,extractedUrl:bt.extractedUrl,trigger:bt.source,extras:bt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pt.n)(bt=>{const En=bt.currentBrowserUrl.toString(),pr=!w.navigated||bt.extractedUrl.toString()!==En||En!==bt.currentUrlTree.toString();if(!pr&&"reload"!==(bt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const wr="";return this.events.next(new Ar(bt.id,this.urlSerializer.serialize(bt.rawUrl),wr,0)),bt.resolve(null),et.w}if(w.urlHandlingStrategy.shouldProcessUrl(bt.rawUrl))return(0,Re.of)(bt).pipe((0,Pt.n)(wr=>{const Gr=this.transitions?.getValue();return this.events.next(new Zr(wr.id,this.urlSerializer.serialize(wr.extractedUrl),wr.source,wr.restoredState)),Gr!==this.transitions?.getValue()?et.w:Promise.resolve(wr)}),function ne(D,O,w,N,H,le){return(0,st.Z)(Me=>function So(D,O,w,N,H,le,Me="emptyOnly"){return new Fa(D,O,w,N,H,Me,le).recognize()}(D,O,w,N,Me.extractedUrl,H,le).pipe((0,Ye.T)(({state:Ct,tree:bt})=>({...Me,targetSnapshot:Ct,urlAfterRedirects:bt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Pe.M)(wr=>{le.targetSnapshot=wr.targetSnapshot,le.urlAfterRedirects=wr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:wr.urlAfterRedirects};const Gr=new wo(wr.id,this.urlSerializer.serialize(wr.extractedUrl),this.urlSerializer.serialize(wr.urlAfterRedirects),wr.targetSnapshot);this.events.next(Gr)}));if(pr&&w.urlHandlingStrategy.shouldProcessUrl(bt.currentRawUrl)){const{id:wr,extractedUrl:Gr,source:sa,restoredState:Ll,extras:ol}=bt,Vl=new Zr(wr,this.urlSerializer.serialize(Gr),sa,Ll);this.events.next(Vl);const Fu=mn(0,this.rootComponentType).snapshot;return this.currentTransition=le={...bt,targetSnapshot:Fu,urlAfterRedirects:Gr,extras:{...ol,skipLocationChange:!1,replaceUrl:!1}},(0,Re.of)(le)}{const wr="";return this.events.next(new Ar(bt.id,this.urlSerializer.serialize(bt.extractedUrl),wr,1)),bt.resolve(null),et.w}}),(0,Pe.M)(bt=>{const En=new gi(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects),bt.targetSnapshot);this.events.next(En)}),(0,Ye.T)(bt=>(this.currentTransition=le={...bt,guards:Hc(bt.targetSnapshot,bt.currentSnapshot,this.rootContexts)},le)),function mo(D,O){return(0,st.Z)(w=>{const{targetSnapshot:N,currentSnapshot:H,guards:{canActivateChecks:le,canDeactivateChecks:Me}}=w;return 0===Me.length&&0===le.length?(0,Re.of)({...w,guardsResult:!0}):function no(D,O,w,N){return(0,ye.H)(D).pipe((0,st.Z)(H=>function Gi(D,O,w,N,H){const le=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,Re.of)(!0);const Me=le.map(Ct=>{const bt=ds(O)??H,En=hs(Ct,bt);return In(function ce(D){return D&&ya(D.canDeactivate)}(En)?En.canDeactivate(D,O,w,N):bt.runInContext(()=>En(D,O,w,N))).pipe((0,tn.$)())});return(0,Re.of)(Me).pipe(ss())}(H.component,H.route,w,O,N)),(0,tn.$)(H=>!0!==H,!0))}(Me,N,H,D).pipe((0,st.Z)(Ct=>Ct&&function Do(D){return"boolean"==typeof D}(Ct)?function os(D,O,w,N){return(0,ye.H)(O).pipe((0,We.H)(H=>(0,Qt.x)(function Gc(D,O){return null!==D&&O&&O(new fr(D)),(0,Re.of)(!0)}(H.route.parent,N),function Qs(D,O){return null!==D&&O&&O(new ts(D)),(0,Re.of)(!0)}(H.route,N),function va(D,O,w){const N=O[O.length-1],le=O.slice(0,O.length-1).reverse().map(Me=>function Ps(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(Me)).filter(Me=>null!==Me).map(Me=>we(()=>{const Ct=Me.guards.map(bt=>{const En=ds(Me.node)??w,pr=hs(bt,En);return In(function U(D){return D&&ya(D.canActivateChild)}(pr)?pr.canActivateChild(N,D):En.runInContext(()=>pr(N,D))).pipe((0,tn.$)())});return(0,Re.of)(Ct).pipe(ss())}));return(0,Re.of)(le).pipe(ss())}(D,H.path,w),function Ms(D,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Re.of)(!0);const H=N.map(le=>we(()=>{const Me=ds(O)??w,Ct=hs(le,Me);return In(function Z(D){return D&&ya(D.canActivate)}(Ct)?Ct.canActivate(O,D):Me.runInContext(()=>Ct(O,D))).pipe((0,tn.$)())}));return(0,Re.of)(H).pipe(ss())}(D,H.route,w))),(0,tn.$)(H=>!0!==H,!0))}(N,le,D,O):(0,Re.of)(Ct)),(0,Ye.T)(Ct=>({...w,guardsResult:Ct})))})}(this.environmentInjector,bt=>this.events.next(bt)),(0,Pe.M)(bt=>{if(le.guardsResult=bt.guardsResult,yi(bt.guardsResult))throw An(0,bt.guardsResult);const En=new Oa(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects),bt.targetSnapshot,!!bt.guardsResult);this.events.next(En)}),(0,Oe.p)(bt=>!!bt.guardsResult||(this.cancelNavigationTransition(bt,"",3),!1)),qr(bt=>{if(bt.guards.canActivateChecks.length)return(0,Re.of)(bt).pipe((0,Pe.M)(En=>{const pr=new Xa(En.id,this.urlSerializer.serialize(En.extractedUrl),this.urlSerializer.serialize(En.urlAfterRedirects),En.targetSnapshot);this.events.next(pr)}),(0,Pt.n)(En=>{let pr=!1;return(0,Re.of)(En).pipe(function j(D,O){return(0,st.Z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:H}}=w;if(!H.length)return(0,Re.of)(w);let le=0;return(0,ye.H)(H).pipe((0,We.H)(Me=>function Y(D,O,w,N){const H=D.routeConfig,le=D._resolve;return void 0!==H?.title&&!Un(H)&&(le[Bt]=H.title),function xe(D,O,w,N){const H=function Dt(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===H.length)return(0,Re.of)({});const le={};return(0,ye.H)(H).pipe((0,st.Z)(Me=>function Vt(D,O,w,N){const H=ds(O)??N,le=hs(D,H);return In(le.resolve?le.resolve(O,w):H.runInContext(()=>le(O,w)))}(D[Me],O,w,N).pipe((0,tn.$)(),(0,Pe.M)(Ct=>{le[Me]=Ct}))),rt(1),function nr(D){return(0,Ye.T)(()=>D)}(le),(0,Ie.W)(Me=>is(Me)?et.w:(0,Ve.$)(Me)))}(le,D,O,N).pipe((0,Ye.T)(Me=>(D._resolvedData=Me,D.data=Xi(D,w).resolve,H&&Un(H)&&(D.data[Bt]=H.title),null)))}(Me.route,N,D,O)),(0,Pe.M)(()=>le++),rt(1),(0,st.Z)(Me=>le===H.length?(0,Re.of)(w):et.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Pe.M)({next:()=>pr=!0,complete:()=>{pr||this.cancelNavigationTransition(En,"",2)}}))}),(0,Pe.M)(En=>{const pr=new xr(En.id,this.urlSerializer.serialize(En.extractedUrl),this.urlSerializer.serialize(En.urlAfterRedirects),En.targetSnapshot);this.events.next(pr)}))}),qr(bt=>{const En=pr=>{const ur=[];pr.routeConfig?.loadComponent&&!pr.routeConfig._loadedComponent&&ur.push(this.configLoader.loadComponent(pr.routeConfig).pipe((0,Pe.M)(wr=>{pr.component=wr}),(0,Ye.T)(()=>{})));for(const wr of pr.children)ur.push(...En(wr));return ur};return it(En(bt.targetSnapshot.root)).pipe((0,ut.U)(),(0,Ue.s)(1))}),qr(()=>this.afterPreactivation()),(0,Ye.T)(bt=>{const En=function Se(D,O,w){const N=Le(D,O._root,w?w._root:void 0);return new ei(N,O)}(w.routeReuseStrategy,bt.targetSnapshot,bt.currentRouterState);return this.currentTransition=le={...bt,targetRouterState:En},le}),(0,Pe.M)(()=>{this.events.next(new Dr)}),((D,O,w,N)=>(0,Ye.T)(H=>(new ta(O,H.targetRouterState,H.currentRouterState,w,N).activate(D),H)))(this.rootContexts,w.routeReuseStrategy,bt=>this.events.next(bt),this.inputBindingEnabled),(0,Ue.s)(1),(0,Pe.M)({next:bt=>{Me=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hi(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects))),w.titleStrategy?.updateTitle(bt.targetRouterState.snapshot),bt.resolve(!0)},complete:()=>{Me=!0}}),function Jt(D){return(0,Ot.N)((O,w)=>{(0,ze.Tg)(D).subscribe((0,Ae._)(w,()=>w.complete(),Vn.l)),!w.closed&&O.subscribe(w)})}(this.transitionAbortSubject.pipe((0,Pe.M)(bt=>{throw bt}))),(0,sn.j)(()=>{Me||Ct||this.cancelNavigationTransition(le,"",1),this.currentNavigation?.id===le.id&&(this.currentNavigation=null)}),(0,Ie.W)(bt=>{if(Ct=!0,Or(bt))this.events.next(new Ri(le.id,this.urlSerializer.serialize(le.extractedUrl),bt.message,bt.cancellationCode)),function jn(D){return Or(D)&&yi(D.url)}(bt)?this.events.next(new si(bt.url)):le.resolve(!1);else{this.events.next(new uo(le.id,this.urlSerializer.serialize(le.extractedUrl),bt,le.targetSnapshot??void 0));try{le.resolve(w.errorHandler(bt))}catch(En){le.reject(En)}}return et.w}))}))}cancelNavigationTransition(w,N,H){const le=new Ri(w.id,this.urlSerializer.serialize(w.extractedUrl),N,H);this.events.next(le),w.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Hs(D){return D!==es}let ls=(()=>{class D{buildTitle(w){let N,H=w.root;for(;void 0!==H;)N=this.getResolvedTitleForRoute(H)??N,H=H.children.find(le=>le.outlet===Gt);return N}getResolvedTitleForRoute(w){return w.data[Bt]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Go)},providedIn:"root"})}}return D})(),Go=(()=>{class D extends ls{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(On.hE))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Os=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Ci)},providedIn:"root"})}}return D})();class zo{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let Ci=(()=>{class D extends zo{static{this.\u0275fac=function(){let w;return function(H){return(w||(w=o.xGo(D)))(H||D)}}()}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Qi=new o.nKC("",{providedIn:"root",factory:()=>({})});let ho=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Cr)},providedIn:"root"})}}return D})(),Cr=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Rr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Rr||{});function xl(D,O){D.events.pipe((0,Oe.p)(w=>w instanceof Hi||w instanceof Ri||w instanceof uo||w instanceof Ar),(0,Ye.T)(w=>w instanceof Hi||w instanceof Ar?Rr.COMPLETE:w instanceof Ri&&(0===w.code||1===w.code)?Rr.REDIRECTING:Rr.FAILED),(0,Oe.p)(w=>w!==Rr.REDIRECTING),(0,Ue.s)(1)).subscribe(()=>{O()})}function io(D){throw D}function Ru(D,O,w){return O.parse("/")}const Wc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ol={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ui=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.WQX)(o.H3F),this.isNgZoneEnabled=!1,this._events=new pn.B,this.options=(0,o.WQX)(Qi,{optional:!0})||{},this.pendingTasks=(0,o.WQX)(o.$K3),this.errorHandler=this.options.errorHandler||io,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ru,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.WQX)(ho),this.routeReuseStrategy=(0,o.WQX)(Os),this.titleStrategy=(0,o.WQX)(ls),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.WQX)(hi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.WQX)(wi),this.urlSerializer=(0,o.WQX)(Ne),this.location=(0,o.WQX)(ir.aZ),this.componentInputBindingEnabled=!!(0,o.WQX)(ee,{optional:!0}),this.eventsSubscription=new $e.yU,this.isNgZoneEnabled=(0,o.WQX)(o.SKi)instanceof o.SKi&&o.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ir,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(Kc(N)&&this._events.next(N));if(N instanceof Zr)Hs(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(N instanceof Ar)this.rawUrlTree=H.rawUrl;else if(N instanceof wo){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const le=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(le,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(N instanceof Dr)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(N instanceof Ri)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(H);else if(N instanceof si){const le=this.urlHandlingStrategy.merge(N.url,H.currentRawUrl),Me={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hs(H.source)};this.scheduleNavigation(le,es,null,Me,{resolve:H.resolve,reject:H.reject,promise:H.promise})}N instanceof uo&&this.restoreHistory(H,!0),N instanceof Hi&&(this.navigated=!0),Kc(N)&&this._events.next(N)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),es,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,H){const le={replaceUrl:!0},Me=H?.navigationId?H:null;if(H){const bt={...H};delete bt.navigationId,delete bt.\u0275routerPageId,0!==Object.keys(bt).length&&(le.state=bt)}const Ct=this.parseUrl(w);this.scheduleNavigation(Ct,N,Me,le)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Si),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:H,queryParams:le,fragment:Me,queryParamsHandling:Ct,preserveFragment:bt}=N,En=bt?this.currentUrlTree.fragment:Me;let ur,pr=null;switch(Ct){case"merge":pr={...this.currentUrlTree.queryParams,...le};break;case"preserve":pr=this.currentUrlTree.queryParams;break;default:pr=le||null}null!==pr&&(pr=this.removeEmptyProps(pr));try{ur=ks(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),ur=this.currentUrlTree.root}return At(ur,w,pr,En??null)}navigateByUrl(w,N={skipLocationChange:!1}){const H=yi(w)?w:this.parseUrl(w),le=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(le,es,null,N)}navigate(w,N={skipLocationChange:!1}){return function Fh(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new o.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(H){N=this.malformedUriErrorHandler(H,this.urlSerializer,w)}return N}isActive(w,N){let H;if(H=!0===N?{...Wc}:!1===N?{...Ol}:N,yi(w))return ri(this.currentUrlTree,w,H);const le=this.parseUrl(w);return ri(this.currentUrlTree,le,H)}removeEmptyProps(w){return Object.keys(w).reduce((N,H)=>{const le=w[H];return null!=le&&(N[H]=le),N},{})}scheduleNavigation(w,N,H,le,Me){if(this.disposed)return Promise.resolve(!1);let Ct,bt,En;Me?(Ct=Me.resolve,bt=Me.reject,En=Me.promise):En=new Promise((ur,wr)=>{Ct=ur,bt=wr});const pr=this.pendingTasks.add();return xl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(pr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:le,resolve:Ct,reject:bt,promise:En,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),En.catch(ur=>Promise.reject(ur))}setBrowserUrl(w,N){const H=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(H)||N.extras.replaceUrl){const Me={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(H,"",Me)}else{const le={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(H,"",le)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-this.browserPageId;0!==le?this.location.historyGo(le):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===le&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Kc(D){return!(D instanceof Dr||D instanceof si)}let Wo=(()=>{class D{constructor(w,N,H,le,Me,Ct){this.router=w,this.route=N,this.tabIndexAttribute=H,this.renderer=le,this.el=Me,this.locationStrategy=Ct,this.href=null,this.commands=null,this.onChanges=new pn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const bt=Me.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===bt||"area"===bt,this.isAnchorElement?this.subscription=w.events.subscribe(En=>{En instanceof Hi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,H,le,Me){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||H||le||Me||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const H=this.renderer,le=this.el.nativeElement;null!==N?H.setAttribute(le,w,N):H.removeAttribute(le,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Ui),o.rXU(cr),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(ir.hb))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,H){1&N&&o.bIt("click",function(Me){return H.onClick(Me.button,Me.ctrlKey,Me.shiftKey,Me.altKey,Me.metaKey)}),2&N&&o.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.L39],skipLocationChange:["skipLocationChange","skipLocationChange",o.L39],replaceUrl:["replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},standalone:!0,features:[o.GFd,o.OA$]})}}return D})(),Ns=(()=>{class D{get isActive(){return this._isActive}constructor(w,N,H,le,Me){this.router=w,this.element=N,this.renderer=H,this.cdr=le,this.link=Me,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.bkB,this.routerEventsSubscription=w.events.subscribe(Ct=>{Ct instanceof Hi&&this.update()})}ngAfterContentInit(){(0,Re.of)(this.links.changes,(0,Re.of)(null)).pipe((0,$n.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(N=>!!N).map(N=>N.onChanges);this.linkInputChangesSubscription=(0,ye.H)(w).pipe((0,$n.U)()).subscribe(N=>{this._isActive!==this.isLinkActive(this.router)(N)&&this.update()})}set routerLinkActive(w){const N=Array.isArray(w)?w:w.split(" ");this.classes=N.filter(H=>!!H)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(N=>{w?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const N=function Va(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&w.isActive(H.urlTree,N)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Ui),o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(o.gRc),o.rXU(Wo,8))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(N,H,le){if(1&N&&o.wni(le,Wo,5),2&N){let Me;o.mGM(Me=o.lsd())&&(H.links=Me)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[o.OA$]})}}return D})();class Nl{}let qc=(()=>{class D{constructor(w,N,H,le,Me){this.router=w,this.injector=H,this.preloadingStrategy=le,this.loader=Me}setUpPreloading(){this.subscription=this.router.events.pipe((0,Oe.p)(w=>w instanceof Hi),(0,We.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const H=[];for(const le of N){le.providers&&!le._injector&&(le._injector=(0,o.Ol2)(le.providers,w,`Route: ${le.path}`));const Me=le._injector??w,Ct=le._loadedInjector??Me;(le.loadChildren&&!le._loadedRoutes&&void 0===le.canLoad||le.loadComponent&&!le._loadedComponent)&&H.push(this.preloadConfig(Me,le)),(le.children||le._loadedRoutes)&&H.push(this.processRoutes(Ct,le.children??le._loadedRoutes))}return(0,ye.H)(H).pipe((0,$n.U)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let H;H=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Re.of)(null);const le=H.pipe((0,st.Z)(Me=>null===Me?(0,Re.of)(void 0):(N._loadedRoutes=Me.routes,N._loadedInjector=Me.injector,this.processRoutes(Me.injector??w,Me.routes))));if(N.loadComponent&&!N._loadedComponent){const Me=this.loader.loadComponent(N);return(0,ye.H)([le,Me]).pipe((0,$n.U)())}return le})}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Ui),o.KVO(o.Ql9),o.KVO(o.uvJ),o.KVO(Nl),o.KVO(Nr))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const xu=new o.nKC("");let or=(()=>{class D{constructor(w,N,H,le,Me={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=H,this.zone=le,this.options=Me,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Me.scrollPositionRestoration=Me.scrollPositionRestoration||"disabled",Me.anchorScrolling=Me.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Zr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Hi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Ar&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof ns&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ns(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){o.QTQ()}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function ra(D,O){return{\u0275kind:D,\u0275providers:O}}function Ro(){const D=(0,o.WQX)(o.zZn);return O=>{const w=D.get(o.o8S);if(O!==w.components[0])return;const N=D.get(Ui),H=D.get(cc);1===D.get(Dn)&&N.initialNavigation(),D.get(Pr,null,o.$GK.Optional)?.setUpPreloading(),D.get(xu,null,o.$GK.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const cc=new o.nKC("",{factory:()=>new pn.B}),Dn=new o.nKC("",{providedIn:"root",factory:()=>1}),Pr=new o.nKC("");function Ko(D){return ra(0,[{provide:Pr,useExisting:qc},{provide:Nl,useExisting:D}])}const Yc=new o.nKC("ROUTER_FORROOT_GUARD"),Nu=[ir.aZ,{provide:Ne,useClass:fe},Ui,ai,{provide:cr,useFactory:function lc(D){return D.routerState.root},deps:[Ui]},Nr,[]];function Sd(){return new o.NEm("Router",Ui)}let Xc=(()=>{class D{constructor(w){}static forRoot(w,N){return{ngModule:D,providers:[Nu,[],{provide:hi,multi:!0,useValue:w},{provide:Yc,useFactory:ja,deps:[[Ui,new o.Xx1,new o.kdw]]},{provide:Qi,useValue:N||{}},N?.useHash?{provide:ir.hb,useClass:ir.fw}:{provide:ir.hb,useClass:ir.Sm},{provide:xu,useFactory:()=>{const D=(0,o.WQX)(ir.Xr),O=(0,o.WQX)(o.SKi),w=(0,o.WQX)(Qi),N=(0,o.WQX)(wi),H=(0,o.WQX)(Ne);return w.scrollOffset&&D.setOffset(w.scrollOffset),new or(H,N,D,O,w)}},N?.preloadingStrategy?Ko(N.preloadingStrategy).\u0275providers:[],{provide:o.NEm,multi:!0,useFactory:Sd},N?.initialNavigation?Mo(N):[],N?.bindToComponentInputs?ra(8,[Q,{provide:ee,useExisting:Q}]).\u0275providers:[],[{provide:yo,useFactory:Ro},{provide:o.iLQ,multi:!0,useExisting:yo}]]}}static forChild(w){return{ngModule:D,providers:[{provide:hi,multi:!0,useValue:w}]}}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Yc,8))}}static{this.\u0275mod=o.$C({type:D})}static{this.\u0275inj=o.G2t({})}}return D})();function ja(D){return"guarded"}function Mo(D){return["disabled"===D.initialNavigation?ra(3,[{provide:o.hnV,multi:!0,useFactory:()=>{const O=(0,o.WQX)(Ui);return()=>{O.setUpLocationChangeListener()}}},{provide:Dn,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?ra(2,[{provide:Dn,useValue:0},{provide:o.hnV,multi:!0,deps:[o.zZn],useFactory:O=>{const w=O.get(ir.hj,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const H=O.get(Ui),le=O.get(cc);xl(H,()=>{N(!0)}),O.get(wi).afterPreactivation=()=>(N(!0),le.closed?(0,Re.of)(void 0):le),H.initialNavigation()}))}}]).\u0275providers:[]]}const yo=new o.nKC("")},3345:(rn,Je,F)=>{F.d(Je,{A:()=>it});var o=F(1076),de=F(1362),s=F(7852),ve=F(8041);class ye{constructor(xt,kt){this._delegate=xt,this.firebase=kt,(0,s._addComponent)(xt,new de.uA("app-compat",()=>this,"PUBLIC")),this.container=xt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xt){this._delegate.automaticDataCollectionEnabled=xt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xt=>{this._delegate.checkDestroyed(),xt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(xt,kt=s._DEFAULT_ENTRY_NAME){var Qt;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(xt);return!ze.isInitialized()&&"EXPLICIT"===(null===(Qt=ze.getComponent())||void 0===Qt?void 0:Qt.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:kt})}_removeServiceInstance(xt,kt=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xt).clearInstance(kt)}_addComponent(xt){(0,s._addComponent)(this._delegate,xt)}_addOrOverwriteComponent(xt){(0,s._addOrOverwriteComponent)(this._delegate,xt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new o.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function Fe(){const lt=function je(lt){const xt={},kt={__esModule:!0,initializeApp:function we($e,Ot={}){const Ce=s.initializeApp($e,Ot);if((0,o.gR)(xt,Ce.name))return xt[Ce.name];const qt=new lt(Ce,kt);return xt[Ce.name]=qt,qt},app:ze,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function Ve($e){const Ot=$e.name,Ce=Ot.replace("-compat","");if(s._registerComponent($e)&&"PUBLIC"===$e.type){const qt=(pn=ze())=>{if("function"!=typeof pn[Ce])throw be.create("invalid-app-argument",{appName:Ot});return pn[Ce]()};void 0!==$e.serviceProps&&(0,o.zw)(qt,$e.serviceProps),kt[Ce]=qt,lt.prototype[Ce]=function(...pn){return this._getService.bind(this,Ot).apply(this,$e.multipleInstances?pn:[])}}return"PUBLIC"===$e.type?kt[Ce]:null},removeApp:function Qt($e){delete xt[$e]},useAsService:function et($e,Ot){return"serverAuth"===Ot?null:Ot},modularAPIs:s}};function ze($e){if(!(0,o.gR)(xt,$e=$e||s._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:$e});return xt[$e]}return kt.default=kt,Object.defineProperty(kt,"apps",{get:function Ze(){return Object.keys(xt).map($e=>xt[$e])}}),ze.App=lt,kt}(ye);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:Fe,extendNamespace:function xt(kt){(0,o.zw)(lt,kt)},createSubscribe:o.tD,ErrorFactory:o.FA,deepExtend:o.zw}),lt}(),te=new ve.Vy("@firebase/app-compat");try{const lt=(0,o.mS)();if(void 0!==lt.firebase){te.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const xt=lt.firebase.SDK_VERSION;xt&&xt.indexOf("LITE")>=0&&te.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const it=J;!function _e(lt){(0,s.registerVersion)("@firebase/app-compat","0.2.43",lt)}()},7852:(rn,Je,F)=>{F.r(Je),F.d(Je,{FirebaseError:()=>ve.g,SDK_VERSION:()=>fe,_DEFAULT_ENTRY_NAME:()=>In,_addComponent:()=>pi,_addOrOverwriteComponent:()=>ys,_apps:()=>Mr,_clearComponents:()=>Ai,_components:()=>zn,_getProvider:()=>ii,_isFirebaseApp:()=>Ir,_isFirebaseServerApp:()=>Gn,_registerComponent:()=>hn,_removeServiceInstance:()=>Jn,_serverApps:()=>ri,deleteApp:()=>Er,getApp:()=>_t,getApps:()=>Yt,initializeApp:()=>gt,initializeServerApp:()=>Ee,onLog:()=>M,registerVersion:()=>$,setLogLevel:()=>L});var o=F(467),de=F(1362),s=F(8041),ve=F(1076);const ye=(At,at)=>at.some(Nt=>At instanceof Nt);let Re,be;const J=new WeakMap,te=new WeakMap,ae=new WeakMap,Ae=new WeakMap,_e=new WeakMap;let xt={get(At,at,Nt){if(At instanceof IDBTransaction){if("done"===at)return te.get(At);if("objectStoreNames"===at)return At.objectStoreNames||ae.get(At);if("store"===at)return Nt.objectStoreNames[1]?void 0:Nt.objectStore(Nt.objectStoreNames[0])}return we(At[at])},set:(At,at,Nt)=>(At[at]=Nt,!0),has:(At,at)=>At instanceof IDBTransaction&&("done"===at||"store"===at)||at in At};function ze(At){return"function"==typeof At?function Qt(At){return At!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fe(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(At)?function(...at){return At.apply(Ze(this),at),we(J.get(this))}:function(...at){return we(At.apply(Ze(this),at))}:function(at,...Nt){const cn=At.call(Ze(this),at,...Nt);return ae.set(cn,at.sort?at.sort():[at]),we(cn)}}(At):(At instanceof IDBTransaction&&function lt(At){if(te.has(At))return;const at=new Promise((Nt,cn)=>{const Bn=()=>{At.removeEventListener("complete",Ln),At.removeEventListener("error",hr),At.removeEventListener("abort",hr)},Ln=()=>{Nt(),Bn()},hr=()=>{cn(At.error||new DOMException("AbortError","AbortError")),Bn()};At.addEventListener("complete",Ln),At.addEventListener("error",hr),At.addEventListener("abort",hr)});te.set(At,at)}(At),ye(At,function je(){return Re||(Re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(At,xt):At)}function we(At){if(At instanceof IDBRequest)return function it(At){const at=new Promise((Nt,cn)=>{const Bn=()=>{At.removeEventListener("success",Ln),At.removeEventListener("error",hr)},Ln=()=>{Nt(we(At.result)),Bn()},hr=()=>{cn(At.error),Bn()};At.addEventListener("success",Ln),At.addEventListener("error",hr)});return at.then(Nt=>{Nt instanceof IDBCursor&&J.set(Nt,At)}).catch(()=>{}),_e.set(at,At),at}(At);if(Ae.has(At))return Ae.get(At);const at=ze(At);return at!==At&&(Ae.set(At,at),_e.set(at,At)),at}const Ze=At=>_e.get(At),$e=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],Ce=new Map;function qt(At,at){if(!(At instanceof IDBDatabase)||at in At||"string"!=typeof at)return;if(Ce.get(at))return Ce.get(at);const Nt=at.replace(/FromIndex$/,""),cn=at!==Nt,Bn=Ot.includes(Nt);if(!(Nt in(cn?IDBIndex:IDBObjectStore).prototype)||!Bn&&!$e.includes(Nt))return;const Ln=function(){var hr=(0,o.A)(function*(Hr,...Jr){const mr=this.transaction(Hr,Bn?"readwrite":"readonly");let Ki=mr.store;return cn&&(Ki=Ki.index(Jr.shift())),(yield Promise.all([Ki[Nt](...Jr),Bn&&mr.done]))[0]});return function(Jr){return hr.apply(this,arguments)}}();return Ce.set(at,Ln),Ln}!function kt(At){xt=At(xt)}(At=>({...At,get:(at,Nt,cn)=>qt(at,Nt)||At.get(at,Nt,cn),has:(at,Nt)=>!!qt(at,Nt)||At.has(at,Nt)}));class pn{constructor(at){this.container=at}getPlatformInfoString(){return this.container.getProviders().map(Nt=>{if(function ir(At){const at=At.getComponent();return"VERSION"===at?.type}(Nt)){const cn=Nt.getImmediate();return`${cn.library}/${cn.version}`}return null}).filter(Nt=>Nt).join(" ")}}const Ye="@firebase/app",Pt="0.10.13",Ue=new s.Vy("@firebase/app"),In="[DEFAULT]",$r={[Ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Mr=new Map,ri=new Map,zn=new Map;function pi(At,at){try{At.container.addComponent(at)}catch(Nt){Ue.debug(`Component ${at.name} failed to register with FirebaseApp ${At.name}`,Nt)}}function ys(At,at){At.container.addOrOverwriteComponent(at)}function hn(At){const at=At.name;if(zn.has(at))return Ue.debug(`There were multiple attempts to register component ${at}.`),!1;zn.set(at,At);for(const Nt of Mr.values())pi(Nt,At);for(const Nt of ri.values())pi(Nt,At);return!0}function ii(At,at){const Nt=At.container.getProvider("heartbeat").getImmediate({optional:!0});return Nt&&Nt.triggerHeartbeat(),At.container.getProvider(at)}function Jn(At,at,Nt=In){ii(At,at).clearInstance(Nt)}function Ir(At){return void 0!==At.options}function Gn(At){return void 0!==At.settings}function Ai(){zn.clear()}const Tt=new ve.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ue{constructor(at,Nt,cn){this._isDeleted=!1,this._options=Object.assign({},at),this._config=Object.assign({},Nt),this._name=Nt.name,this._automaticDataCollectionEnabled=Nt.automaticDataCollectionEnabled,this._container=cn,this.container.addComponent(new de.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this.checkDestroyed(),this._automaticDataCollectionEnabled=at}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(at){this._isDeleted=at}checkDestroyed(){if(this.isDeleted)throw Tt.create("app-deleted",{appName:this._name})}}class Ne extends ue{constructor(at,Nt,cn,Bn){const Ln=void 0!==Nt.automaticDataCollectionEnabled&&Nt.automaticDataCollectionEnabled,hr={name:cn,automaticDataCollectionEnabled:Ln};super(void 0!==at.apiKey?at:at.options,hr,Bn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ln},Nt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Nt.releaseOnDeref=void 0,$(Ye,Pt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(at){this.isDeleted||(this._refCount++,void 0!==at&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(at,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Er(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Tt.create("server-app-deleted")}}const fe="10.14.1";function gt(At,at={}){let Nt=At;"object"!=typeof at&&(at={name:at});const cn=Object.assign({name:In,automaticDataCollectionEnabled:!1},at),Bn=cn.name;if("string"!=typeof Bn||!Bn)throw Tt.create("bad-app-name",{appName:String(Bn)});if(Nt||(Nt=(0,ve.T9)()),!Nt)throw Tt.create("no-options");const Ln=Mr.get(Bn);if(Ln){if((0,ve.bD)(Nt,Ln.options)&&(0,ve.bD)(cn,Ln.config))return Ln;throw Tt.create("duplicate-app",{appName:Bn})}const hr=new de.h1(Bn);for(const Jr of zn.values())hr.addComponent(Jr);const Hr=new ue(Nt,cn,hr);return Mr.set(Bn,Hr),Hr}function Ee(At,at){if((0,ve.Bd)()&&!(0,ve.p7)())throw Tt.create("invalid-server-app-environment");let Nt;void 0===at.automaticDataCollectionEnabled&&(at.automaticDataCollectionEnabled=!1),Nt=Ir(At)?At.options:At;const cn=Object.assign(Object.assign({},at),Nt);if(void 0!==cn.releaseOnDeref&&delete cn.releaseOnDeref,void 0!==at.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Tt.create("finalization-registry-not-supported",{});const Ln=""+(mr=JSON.stringify(cn),[...mr].reduce((Ki,Fs)=>Math.imul(31,Ki)+Fs.charCodeAt(0)|0,0)),hr=ri.get(Ln);var mr;if(hr)return hr.incRefCount(at.releaseOnDeref),hr;const Hr=new de.h1(Ln);for(const mr of zn.values())Hr.addComponent(mr);const Jr=new Ne(Nt,at,Ln,Hr);return ri.set(Ln,Jr),Jr}function _t(At=In){const at=Mr.get(At);if(!at&&At===In&&(0,ve.T9)())return gt();if(!at)throw Tt.create("no-app",{appName:At});return at}function Yt(){return Array.from(Mr.values())}function Er(At){return vt.apply(this,arguments)}function vt(){return(vt=(0,o.A)(function*(At){let at=!1;const Nt=At.name;Mr.has(Nt)?(at=!0,Mr.delete(Nt)):ri.has(Nt)&&At.decRefCount()<=0&&(ri.delete(Nt),at=!0),at&&(yield Promise.all(At.container.getProviders().map(cn=>cn.delete())),At.isDeleted=!0)})).apply(this,arguments)}function $(At,at,Nt){var cn;let Bn=null!==(cn=$r[At])&&void 0!==cn?cn:At;Nt&&(Bn+=`-${Nt}`);const Ln=Bn.match(/\s|\//),hr=at.match(/\s|\//);if(Ln||hr){const Hr=[`Unable to register library "${Bn}" with version "${at}":`];return Ln&&Hr.push(`library name "${Bn}" contains illegal characters (whitespace or "/")`),Ln&&hr&&Hr.push("and"),hr&&Hr.push(`version name "${at}" contains illegal characters (whitespace or "/")`),void Ue.warn(Hr.join(" "))}hn(new de.uA(`${Bn}-version`,()=>({library:Bn,version:at}),"VERSION"))}function M(At,at){if(null!==At&&"function"!=typeof At)throw Tt.create("invalid-log-argument");(0,s.Ey)(At,at)}function L(At){(0,s.He)(At)}const ie="firebase-heartbeat-database",me=1,ht="firebase-heartbeat-store";let Mt=null;function an(){return Mt||(Mt=function Ve(At,at,{blocked:Nt,upgrade:cn,blocking:Bn,terminated:Ln}={}){const hr=indexedDB.open(At,at),Hr=we(hr);return cn&&hr.addEventListener("upgradeneeded",Jr=>{cn(we(hr.result),Jr.oldVersion,Jr.newVersion,we(hr.transaction),Jr)}),Nt&&hr.addEventListener("blocked",Jr=>Nt(Jr.oldVersion,Jr.newVersion,Jr)),Hr.then(Jr=>{Ln&&Jr.addEventListener("close",()=>Ln()),Bn&&Jr.addEventListener("versionchange",mr=>Bn(mr.oldVersion,mr.newVersion,mr))}).catch(()=>{}),Hr}(ie,me,{upgrade:(At,at)=>{if(0===at)try{At.createObjectStore(ht)}catch(Nt){console.warn(Nt)}}}).catch(At=>{throw Tt.create("idb-open",{originalErrorMessage:At.message})})),Mt}function Sn(){return(Sn=(0,o.A)(function*(At){try{const Nt=(yield an()).transaction(ht),cn=yield Nt.objectStore(ht).get(Wr(At));return yield Nt.done,cn}catch(at){if(at instanceof ve.g)Ue.warn(at.message);else{const Nt=Tt.create("idb-get",{originalErrorMessage:at?.message});Ue.warn(Nt.message)}}})).apply(this,arguments)}function br(At,at){return ln.apply(this,arguments)}function ln(){return(ln=(0,o.A)(function*(At,at){try{const cn=(yield an()).transaction(ht,"readwrite");yield cn.objectStore(ht).put(at,Wr(At)),yield cn.done}catch(Nt){if(Nt instanceof ve.g)Ue.warn(Nt.message);else{const cn=Tt.create("idb-set",{originalErrorMessage:Nt?.message});Ue.warn(cn.message)}}})).apply(this,arguments)}function Wr(At){return`${At.name}!${At.options.appId}`}class Fi{constructor(at){this.container=at,this._heartbeatsCache=null;const Nt=this.container.getProvider("app").getImmediate();this._storage=new yi(Nt),this._heartbeatsCachePromise=this._storage.read().then(cn=>(this._heartbeatsCache=cn,cn))}triggerHeartbeat(){var at=this;return(0,o.A)(function*(){var Nt,cn;try{const Ln=at.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),hr=vs();return null==(null===(Nt=at._heartbeatsCache)||void 0===Nt?void 0:Nt.heartbeats)&&(at._heartbeatsCache=yield at._heartbeatsCachePromise,null==(null===(cn=at._heartbeatsCache)||void 0===cn?void 0:cn.heartbeats))||at._heartbeatsCache.lastSentHeartbeatDate===hr||at._heartbeatsCache.heartbeats.some(Hr=>Hr.date===hr)?void 0:(at._heartbeatsCache.heartbeats.push({date:hr,agent:Ln}),at._heartbeatsCache.heartbeats=at._heartbeatsCache.heartbeats.filter(Hr=>{const Jr=new Date(Hr.date).valueOf();return Date.now()-Jr<=2592e6}),at._storage.overwrite(at._heartbeatsCache))}catch(Bn){Ue.warn(Bn)}})()}getHeartbeatsHeader(){var at=this;return(0,o.A)(function*(){var Nt;try{if(null===at._heartbeatsCache&&(yield at._heartbeatsCachePromise),null==(null===(Nt=at._heartbeatsCache)||void 0===Nt?void 0:Nt.heartbeats)||0===at._heartbeatsCache.heartbeats.length)return"";const cn=vs(),{heartbeatsToSend:Bn,unsentEntries:Ln}=function Es(At,at=1024){const Nt=[];let cn=At.slice();for(const Bn of At){const Ln=Nt.find(hr=>hr.agent===Bn.agent);if(Ln){if(Ln.dates.push(Bn.date),sr(Nt)>at){Ln.dates.pop();break}}else if(Nt.push({agent:Bn.agent,dates:[Bn.date]}),sr(Nt)>at){Nt.pop();break}cn=cn.slice(1)}return{heartbeatsToSend:Nt,unsentEntries:cn}}(at._heartbeatsCache.heartbeats),hr=(0,ve.Uj)(JSON.stringify({version:2,heartbeats:Bn}));return at._heartbeatsCache.lastSentHeartbeatDate=cn,Ln.length>0?(at._heartbeatsCache.heartbeats=Ln,yield at._storage.overwrite(at._heartbeatsCache)):(at._heartbeatsCache.heartbeats=[],at._storage.overwrite(at._heartbeatsCache)),hr}catch(cn){return Ue.warn(cn),""}})()}}function vs(){return(new Date).toISOString().substring(0,10)}class yi{constructor(at){this.app=at,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.A)(function*(){return!!(0,ve.zW)()&&(0,ve.eX)().then(()=>!0).catch(()=>!1)})()}read(){var at=this;return(0,o.A)(function*(){if(yield at._canUseIndexedDBPromise){const cn=yield function fn(At){return Sn.apply(this,arguments)}(at.app);return cn?.heartbeats?cn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(at){var Nt=this;return(0,o.A)(function*(){var cn;if(yield Nt._canUseIndexedDBPromise){const Ln=yield Nt.read();return br(Nt.app,{lastSentHeartbeatDate:null!==(cn=at.lastSentHeartbeatDate)&&void 0!==cn?cn:Ln.lastSentHeartbeatDate,heartbeats:at.heartbeats})}})()}add(at){var Nt=this;return(0,o.A)(function*(){var cn;if(yield Nt._canUseIndexedDBPromise){const Ln=yield Nt.read();return br(Nt.app,{lastSentHeartbeatDate:null!==(cn=at.lastSentHeartbeatDate)&&void 0!==cn?cn:Ln.lastSentHeartbeatDate,heartbeats:[...Ln.heartbeats,...at.heartbeats]})}})()}}function sr(At){return(0,ve.Uj)(JSON.stringify({version:2,heartbeats:At})).length}!function ks(At){hn(new de.uA("platform-logger",at=>new pn(at),"PRIVATE")),hn(new de.uA("heartbeat",at=>new Fi(at),"PRIVATE")),$(Ye,Pt,At),$(Ye,Pt,"esm2017"),$("fire-js","")}("")},1362:(rn,Je,F)=>{F.d(Je,{h1:()=>je,uA:()=>s});var o=F(467),de=F(1076);class s{constructor(J,te,ae){this.name=J,this.instanceFactory=te,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const ve="[DEFAULT]";class ye{constructor(J,te){this.name=J,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const te=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(te)){const ae=new de.cY;if(this.instancesDeferred.set(te,ae),this.isInitialized(te)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:te});Ae&&ae.resolve(Ae)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(J){var te;const ae=this.normalizeInstanceIdentifier(J?.identifier),Ae=null!==(te=J?.optional)&&void 0!==te&&te;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(_e){if(Ae)return null;throw _e}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function be(Fe){return"EAGER"===Fe.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[te,ae]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(te);try{const _e=this.getOrInitializeService({instanceIdentifier:Ae});ae.resolve(_e)}catch{}}}}clearInstance(J=ve){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,o.A)(function*(){const te=Array.from(J.instances.values());yield Promise.all([...te.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...te.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=ve){return this.instances.has(J)}getOptions(J=ve){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:te={}}=J,ae=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:ae,options:te});for(const[_e,it]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(_e)&&it.resolve(Ae);return Ae}onInit(J,te){var ae;const Ae=this.normalizeInstanceIdentifier(te),_e=null!==(ae=this.onInitCallbacks.get(Ae))&&void 0!==ae?ae:new Set;_e.add(J),this.onInitCallbacks.set(Ae,_e);const it=this.instances.get(Ae);return it&&J(it,Ae),()=>{_e.delete(J)}}invokeOnInitCallbacks(J,te){const ae=this.onInitCallbacks.get(te);if(ae)for(const Ae of ae)try{Ae(J,te)}catch{}}getOrInitializeService({instanceIdentifier:J,options:te={}}){let ae=this.instances.get(J);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=J,Fe===ve?void 0:Fe),options:te}),this.instances.set(J,ae),this.instancesOptions.set(J,te),this.invokeOnInitCallbacks(ae,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,ae)}catch{}var Fe;return ae||null}normalizeInstanceIdentifier(J=ve){return this.component?this.component.multipleInstances?J:ve:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class je{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const te=this.getProvider(J.name);if(te.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);te.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const te=new ye(J,this);return this.providers.set(J,te),te}getProviders(){return Array.from(this.providers.values())}}},8041:(rn,Je,F)=>{F.d(Je,{$b:()=>de,Ey:()=>Fe,He:()=>je,Vy:()=>be});const o=[];var de=function(J){return J[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J}(de||{});const s={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},ve=de.INFO,ye={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},Re=(J,te,...ae)=>{if(te<J.logLevel)return;const Ae=(new Date).toISOString(),_e=ye[te];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[_e](`[${Ae}]  ${J.name}:`,...ae)};class be{constructor(te){this.name=te,this._logLevel=ve,this._logHandler=Re,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in de))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?s[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...te),this._logHandler(this,de.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...te),this._logHandler(this,de.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,de.INFO,...te),this._logHandler(this,de.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,de.WARN,...te),this._logHandler(this,de.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...te),this._logHandler(this,de.ERROR,...te)}}function je(J){o.forEach(te=>{te.setLogLevel(J)})}function Fe(J,te){for(const ae of o){let Ae=null;te&&te.level&&(Ae=s[te.level]),ae.userLogHandler=null===J?null:(_e,it,...lt)=>{const xt=lt.map(kt=>{if(null==kt)return null;if("string"==typeof kt)return kt;if("number"==typeof kt||"boolean"==typeof kt)return kt.toString();if(kt instanceof Error)return kt.message;try{return JSON.stringify(kt)}catch{return null}}).filter(kt=>kt).join(" ");it>=(Ae??_e.logLevel)&&J({level:de[it].toLowerCase(),message:xt,args:lt,type:_e.name})}}}},2214:(rn,Je,F)=>{F.d(Je,{Dk:()=>o.getApps,KO:()=>o.registerVersion,Sx:()=>o.getApp,Wp:()=>o.initializeApp});var o=F(7852);(0,o.registerVersion)("firebase","10.14.1","app")},7935:(rn,Je,F)=>{F.d(Je,{A:()=>o.A});var o=F(3345);o.A.registerVersion("firebase","10.14.1","app-compat")},2438:(rn,Je,F)=>{var o=F(467),de=F(3345),s=F(5504),ve=F(1076),be=(F(7852),F(8041),F(1362));function je(){return window}function te(){return te=(0,o.A)(function*($,M,L){var ie;const{BuildInfo:me}=je();(0,s.au)(M.sessionId,"AuthEvent did not contain a session ID");const ht=yield function kt($){return Qt.apply(this,arguments)}(M.sessionId),Mt={};return(0,s.av)()?Mt.ibi=me.packageName:(0,s.aw)()?Mt.apn=me.packageName:(0,s.ax)($,"operation-not-supported-in-this-environment"),me.displayName&&(Mt.appDisplayName=me.displayName),Mt.sessionId=ht,(0,s.ay)($,L,M.type,void 0,null!==(ie=M.eventId)&&void 0!==ie?ie:void 0,Mt)}),te.apply(this,arguments)}function Ae(){return(Ae=(0,o.A)(function*($){const{BuildInfo:M}=je(),L={};(0,s.av)()?L.iosBundleId=M.packageName:(0,s.aw)()?L.androidPackageName=M.packageName:(0,s.ax)($,"operation-not-supported-in-this-environment"),yield(0,s.az)($,L)})).apply(this,arguments)}function lt(){return(lt=(0,o.A)(function*($,M,L){const{cordova:ie}=je();let me=()=>{};try{yield new Promise((ht,Mt)=>{let an=null;function fn(){var ln;ht();const Wr=null===(ln=ie.plugins.browsertab)||void 0===ln?void 0:ln.close;"function"==typeof Wr&&Wr(),"function"==typeof L?.close&&L.close()}function Sn(){an||(an=window.setTimeout(()=>{Mt((0,s.aB)($,"redirect-cancelled-by-user"))},2e3))}function br(){"visible"===document?.visibilityState&&Sn()}M.addPassiveListener(fn),document.addEventListener("resume",Sn,!1),(0,s.aw)()&&document.addEventListener("visibilitychange",br,!1),me=()=>{M.removePassiveListener(fn),document.removeEventListener("resume",Sn,!1),document.removeEventListener("visibilitychange",br,!1),an&&window.clearTimeout(an)}})}finally{me()}})).apply(this,arguments)}function Qt(){return(Qt=(0,o.A)(function*($){const M=function ze($){if((0,s.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const M=new ArrayBuffer($.length),L=new Uint8Array(M);for(let ie=0;ie<$.length;ie++)L[ie]=$.charCodeAt(ie);return L}($),L=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(L)).map(me=>me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ze extends s.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInitialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInitialized(),this.passiveListeners.forEach(L=>L(M)),super.onEvent(M)}initialized(){var M=this;return(0,o.A)(function*(){yield M.initPromise})()}}function $e($){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,o.A)(function*($){const M=yield pn()._get(ir($));return M&&(yield pn()._remove(ir($))),M})).apply(this,arguments)}function qt(){const $=[];for(let L=0;L<20;L++){const ie=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ie))}return $.join("")}function pn(){return(0,s.aE)(s.b)}function ir($){return(0,s.aF)("authEvent",$.config.apiKey,$.name)}function Ue($){if(!$?.includes("?"))return{};const[M,...L]=$.split("?");return(0,ve.I9)(L.join("?"))}const st=class Oe{constructor(){this._redirectPersistence=s.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=s.aG,this._overrideRedirectResult=s.aH}_initialize(M){var L=this;return(0,o.A)(function*(){const ie=M._key();let me=L.eventManagers.get(ie);return me||(me=new Ze(M),L.eventManagers.set(ie,me),L.attachCallbackListeners(M,me)),me})()}_openPopup(M){(0,s.ax)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,L,ie,me){var ht=this;return(0,o.A)(function*(){!function xt($){var M,L,ie,me,ht,Mt,an,fn,Sn,br;const ln=je();(0,s.aC)("function"==typeof(null===(M=ln?.universalLinks)||void 0===M?void 0:M.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,s.aC)(typeof(null===(L=ln?.BuildInfo)||void 0===L?void 0:L.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,s.aC)("function"==typeof(null===(ht=null===(me=null===(ie=ln?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===me?void 0:me.browsertab)||void 0===ht?void 0:ht.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aC)("function"==typeof(null===(fn=null===(an=null===(Mt=ln?.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===an?void 0:an.browsertab)||void 0===fn?void 0:fn.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aC)("function"==typeof(null===(br=null===(Sn=ln?.cordova)||void 0===Sn?void 0:Sn.InAppBrowser)||void 0===br?void 0:br.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const Mt=yield ht._initialize(M);yield Mt.initialized(),Mt.resetRedirect(),(0,s.aI)(),yield ht._originValidation(M);const an=function Ve($,M,L=null){return{type:M,eventId:L,urlResponse:null,sessionId:qt(),postBody:null,tenantId:$.tenantId,error:(0,s.aB)($,"no-auth-event")}}(M,ie,me);yield function et($,M){return pn()._set(ir($),M)}(M,an);const fn=yield function J($,M,L){return te.apply(this,arguments)}(M,an,L),Sn=yield function _e($){const{cordova:M}=je();return new Promise(L=>{M.plugins.browsertab.isAvailable(ie=>{let me=null;ie?M.plugins.browsertab.openUrl($):me=M.InAppBrowser.open($,(0,s.aA)()?"_blank":"_system","location=yes"),L(me)})})}(fn);return function it($,M,L){return lt.apply(this,arguments)}(M,Mt,Sn)})()}_isIframeWebStorageSupported(M,L){throw new Error("Method not implemented.")}_originValidation(M){const L=M._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function ae($){return Ae.apply(this,arguments)}(M)),this.originValidationPromises[L]}attachCallbackListeners(M,L){const{universalLinks:ie,handleOpenURL:me,BuildInfo:ht}=je(),Mt=setTimeout((0,o.A)(function*(){yield $e(M),L.onEvent(tn())}),500),an=function(){var br=(0,o.A)(function*(ln){clearTimeout(Mt);const Wr=yield $e(M);let dr=null;Wr&&ln?.url&&(dr=function Ce($,M){var L,ie;const me=function Pt($){const M=Ue($),L=M.link?decodeURIComponent(M.link):void 0,ie=Ue(L).link,me=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return Ue(me).link||me||ie||L||$}(M);if(me.includes("/__/auth/callback")){const ht=Ue(me),Mt=ht.firebaseError?function Ye($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(ht.firebaseError)):null,an=null===(ie=null===(L=Mt?.code)||void 0===L?void 0:L.split("auth/"))||void 0===ie?void 0:ie[1],fn=an?(0,s.aB)(an):null;return fn?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:fn,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:me,postBody:null}}return null}(Wr,ln.url)),L.onEvent(dr||tn())});return function(Wr){return br.apply(this,arguments)}}();typeof ie<"u"&&"function"==typeof ie.subscribe&&ie.subscribe(null,an);const fn=me,Sn=`${ht.packageName.toLowerCase()}://`;je().handleOpenURL=function(){var br=(0,o.A)(function*(ln){if(ln.toLowerCase().startsWith(Sn)&&an({url:ln}),"function"==typeof fn)try{fn(ln)}catch(Wr){console.error(Wr)}});return function(ln){return br.apply(this,arguments)}}()}};function tn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,s.aB)("no-auth-event")}}function ut(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Lt($=(0,ve.ZQ)()){return!("file:"!==ut()&&"ionic:"!==ut()&&"capacitor:"!==ut()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jt(){try{const $=self.localStorage,M=s.aN();if($)return $.setItem(M,"1"),$.removeItem(M),!function Vn($=(0,ve.ZQ)()){return function nr(){return(0,ve.lT)()&&11===document?.documentMode}()||function sn($=(0,ve.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,ve.zW)()}catch{return $n()&&(0,ve.zW)()}return!1}function $n(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function rt(){return"http:"===ut()||"https:"===ut()}()||(0,ve.sr)()||Lt())&&!function wn(){return(0,ve.lV)()||(0,ve.Ll)()}()&&Jt()&&!$n()}function Gt(){return Lt()&&typeof document<"u"}function vr(){return(vr=(0,o.A)(function*(){return!!Gt()&&new Promise($=>{const M=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),$(!0)})})})).apply(this,arguments)}const kr={LOCAL:"local",NONE:"none",SESSION:"session"},Yn=s.aC,$t="persistence";function Hn($){return In.apply(this,arguments)}function In(){return(In=(0,o.A)(function*($){yield $._initializationPromise;const M=Mr(),L=s.aF($t,$.config.apiKey,$.name);M&&M.setItem(L,$._getPersistence())})).apply(this,arguments)}function Mr(){var $;try{return(null===($=function on(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const ri=s.aC;class zn{constructor(){this.browserResolver=s.aE(s.k),this.cordovaResolver=s.aE(st),this.underlyingResolver=null,this._redirectPersistence=s.a,this._completeRedirectFn=s.aG,this._overrideRedirectResult=s.aH}_initialize(M){var L=this;return(0,o.A)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,L,ie,me){var ht=this;return(0,o.A)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openPopup(M,L,ie,me)})()}_openRedirect(M,L,ie,me){var ht=this;return(0,o.A)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openRedirect(M,L,ie,me)})()}_isIframeWebStorageSupported(M,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,L)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return Gt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ri(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,o.A)(function*(){if(M.underlyingResolver)return;const L=yield function Bt(){return vr.apply(this,arguments)}();M.underlyingResolver=L?M.cordovaResolver:M.browserResolver})()}}function pi($){return $.unwrap()}function hn($){return Jn($)}function Jn($){const{_tokenResponse:M}=$ instanceof ve.g?$.customData:$;if(!M)return null;if(!($ instanceof ve.g)&&"temporaryProof"in M&&"phoneNumber"in M)return s.P.credentialFromResult($);const L=M.providerId;if(!L||L===s.p.PASSWORD)return null;let ie;switch(L){case s.p.GOOGLE:ie=s.X;break;case s.p.FACEBOOK:ie=s.W;break;case s.p.GITHUB:ie=s.Y;break;case s.p.TWITTER:ie=s.$;break;default:const{oauthIdToken:me,oauthAccessToken:ht,oauthTokenSecret:Mt,pendingToken:an,nonce:fn}=M;return ht||Mt||me||an?an?L.startsWith("saml.")?s.aQ._create(L,an):s.N._fromParams({providerId:L,signInMethod:L,pendingToken:an,idToken:me,accessToken:ht}):new s.Z(L).credential({idToken:me,accessToken:ht,rawNonce:fn}):null}return $ instanceof ve.g?ie.credentialFromError($):ie.credentialFromResult($)}function Ir($,M){return M.catch(L=>{throw L instanceof ve.g&&function ii($,M){var L;const ie=null===(L=M.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===M?.code)M.resolver=new ot($,s.as($,M));else if(ie){const me=Jn(M),ht=M;me&&(ht.credential=me,ht.tenantId=ie.tenantId||void 0,ht.email=ie.email||void 0,ht.phoneNumber=ie.phoneNumber||void 0)}}($,L),L}).then(L=>{const me=L.user;return{operationType:L.operationType,credential:hn(L),additionalUserInfo:s.aq(L),user:Tt.getOrCreate(me)}})}function Gn($,M){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,o.A)(function*($,M){const L=yield M;return{verificationId:L.verificationId,confirm:ie=>Ir($,L.confirm(ie))}})).apply(this,arguments)}class ot{constructor(M,L){this.resolver=L,this.auth=function ys($){return $.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return Ir(pi(this.auth),this.resolver.resolveSignIn(M))}}class Tt{constructor(M){this._delegate=M,this.multiFactor=s.at(M)}static getOrCreate(M){return Tt.USER_MAP.has(M)||Tt.USER_MAP.set(M,new Tt(M)),Tt.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var L=this;return(0,o.A)(function*(){return Ir(L.auth,s.a2(L._delegate,M))})()}linkWithPhoneNumber(M,L){var ie=this;return(0,o.A)(function*(){return Gn(ie.auth,s.l(ie._delegate,M,L))})()}linkWithPopup(M){var L=this;return(0,o.A)(function*(){return Ir(L.auth,s.d(L._delegate,M,zn))})()}linkWithRedirect(M){var L=this;return(0,o.A)(function*(){return yield Hn(s.aJ(L.auth)),s.g(L._delegate,M,zn)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var L=this;return(0,o.A)(function*(){return Ir(L.auth,s.a3(L._delegate,M))})()}reauthenticateWithPhoneNumber(M,L){return Gn(this.auth,s.r(this._delegate,M,L))}reauthenticateWithPopup(M){return Ir(this.auth,s.e(this._delegate,M,zn))}reauthenticateWithRedirect(M){var L=this;return(0,o.A)(function*(){return yield Hn(s.aJ(L.auth)),s.h(L._delegate,M,zn)})()}sendEmailVerification(M){return s.ag(this._delegate,M)}unlink(M){var L=this;return(0,o.A)(function*(){return yield s.ap(L._delegate,M),L})()}updateEmail(M){return s.al(this._delegate,M)}updatePassword(M){return s.am(this._delegate,M)}updatePhoneNumber(M){return s.u(this._delegate,M)}updateProfile(M){return s.ak(this._delegate,M)}verifyBeforeUpdateEmail(M,L){return s.ah(this._delegate,M,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tt.USER_MAP=new WeakMap;const ue=s.aC;let Ne=(()=>{class ${constructor(L,ie){if(this.app=L,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:me}=L.options;ue(me,"invalid-api-key",{appName:L.name}),ue(me,"invalid-api-key",{appName:L.name});const ht=typeof window<"u"?zn:void 0;this._delegate=ie.initialize({options:{persistence:gt(me,L.name),popupRedirectResolver:ht}}),this._delegate._updateErrorMap(s.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,ie){s.K(this._delegate,L,ie)}applyActionCode(L){return s.a7(this._delegate,L)}checkActionCode(L){return s.a8(this._delegate,L)}confirmPasswordReset(L,ie){return s.a6(this._delegate,L,ie)}createUserWithEmailAndPassword(L,ie){var me=this;return(0,o.A)(function*(){return Ir(me._delegate,s.aa(me._delegate,L,ie))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return s.af(this._delegate,L)}isSignInWithEmailLink(L){return s.ad(this._delegate,L)}getRedirectResult(){var L=this;return(0,o.A)(function*(){ue(On(),L._delegate,"operation-not-supported-in-this-environment");const ie=yield s.j(L._delegate,zn);return ie?Ir(L._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function We($,M){(0,s.aJ)($)._logFramework(M)}(this._delegate,L)}onAuthStateChanged(L,ie,me){const{next:ht,error:Mt,complete:an}=fe(L,ie,me);return this._delegate.onAuthStateChanged(ht,Mt,an)}onIdTokenChanged(L,ie,me){const{next:ht,error:Mt,complete:an}=fe(L,ie,me);return this._delegate.onIdTokenChanged(ht,Mt,an)}sendSignInLinkToEmail(L,ie){return s.ac(this._delegate,L,ie)}sendPasswordResetEmail(L,ie){return s.a5(this._delegate,L,ie||void 0)}setPersistence(L){var ie=this;return(0,o.A)(function*(){let me;switch(function bn($,M){Yn(Object.values(kr).includes(M),$,"invalid-persistence-type"),(0,ve.lV)()?Yn(M!==kr.SESSION,$,"unsupported-persistence-type"):(0,ve.Ll)()?Yn(M===kr.NONE,$,"unsupported-persistence-type"):$n()?Yn(M===kr.NONE||M===kr.LOCAL&&(0,ve.zW)(),$,"unsupported-persistence-type"):Yn(M===kr.NONE||Jt(),$,"unsupported-persistence-type")}(ie._delegate,L),L){case kr.SESSION:me=s.a;break;case kr.LOCAL:me=(yield s.aE(s.i)._isAvailable())?s.i:s.b;break;case kr.NONE:me=s.U;break;default:return s.ax("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(me)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return Ir(this._delegate,s.a0(this._delegate))}signInWithCredential(L){return Ir(this._delegate,s.a1(this._delegate,L))}signInWithCustomToken(L){return Ir(this._delegate,s.a4(this._delegate,L))}signInWithEmailAndPassword(L,ie){return Ir(this._delegate,s.ab(this._delegate,L,ie))}signInWithEmailLink(L,ie){return Ir(this._delegate,s.ae(this._delegate,L,ie))}signInWithPhoneNumber(L,ie){return Gn(this._delegate,s.s(this._delegate,L,ie))}signInWithPopup(L){var ie=this;return(0,o.A)(function*(){return ue(On(),ie._delegate,"operation-not-supported-in-this-environment"),Ir(ie._delegate,s.c(ie._delegate,L,zn))})()}signInWithRedirect(L){var ie=this;return(0,o.A)(function*(){return ue(On(),ie._delegate,"operation-not-supported-in-this-environment"),yield Hn(ie._delegate),s.f(ie._delegate,L,zn)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return s.a9(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=kr,$})();function fe($,M,L){let ie=$;"function"!=typeof $&&({next:ie,error:M,complete:L}=$);const me=ie;return{next:Mt=>me(Mt&&Tt.getOrCreate(Mt)),error:M,complete:L}}function gt($,M){const L=function $r($,M){const L=Mr();if(!L)return[];const ie=s.aF($t,$,M);switch(L.getItem(ie)){case kr.NONE:return[s.U];case kr.LOCAL:return[s.i,s.a];case kr.SESSION:return[s.a];default:return[]}}($,M);if(typeof self<"u"&&!L.includes(s.i)&&L.push(s.i),typeof window<"u")for(const ie of[s.b,s.a])L.includes(ie)||L.push(ie);return L.includes(s.U)||L.push(s.U),L}class Ee{constructor(){this.providerId="phone",this._delegate=new s.P(pi(de.A.auth()))}static credential(M,L){return s.P.credential(M,L)}verifyPhoneNumber(M,L){return this._delegate.verifyPhoneNumber(M,L)}unwrap(){return this._delegate}}Ee.PHONE_SIGN_IN_METHOD=s.P.PHONE_SIGN_IN_METHOD,Ee.PROVIDER_ID=s.P.PROVIDER_ID;const _t=s.aC;class Yt{constructor(M,L,ie=de.A.app()){var me;_t(null===(me=ie.options)||void 0===me?void 0:me.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new s.R(ie.auth(),M,L),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vt($){$.INTERNAL.registerComponent(new be.uA("auth-compat",M=>{const L=M.getProvider("app-compat").getImmediate(),ie=M.getProvider("auth");return new Ne(L,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:s.A.EMAIL_SIGNIN,PASSWORD_RESET:s.A.PASSWORD_RESET,RECOVER_EMAIL:s.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:s.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:s.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:s.A.VERIFY_EMAIL}},EmailAuthProvider:s.V,FacebookAuthProvider:s.W,GithubAuthProvider:s.Y,GoogleAuthProvider:s.X,OAuthProvider:s.Z,SAMLAuthProvider:s._,PhoneAuthProvider:Ee,PhoneMultiFactorGenerator:s.m,RecaptchaVerifier:Yt,TwitterAuthProvider:s.$,Auth:Ne,AuthCredential:s.L,Error:ve.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.14")}(de.A)},467:(rn,Je,F)=>{function o(s,ve,ye,Re,be,je,Fe){try{var J=s[je](Fe),te=J.value}catch(ae){return void ye(ae)}J.done?ve(te):Promise.resolve(te).then(Re,be)}function de(s){return function(){var ve=this,ye=arguments;return new Promise(function(Re,be){var je=s.apply(ve,ye);function Fe(te){o(je,Re,be,Fe,J,"next",te)}function J(te){o(je,Re,be,Fe,J,"throw",te)}Fe(void 0)})}}F.d(Je,{A:()=>de})},1635:(rn,Je,F)=>{function ve(We,Pe){var Ie={};for(var ke in We)Object.prototype.hasOwnProperty.call(We,ke)&&Pe.indexOf(ke)<0&&(Ie[ke]=We[ke]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(ke=Object.getOwnPropertySymbols(We);ut<ke.length;ut++)Pe.indexOf(ke[ut])<0&&Object.prototype.propertyIsEnumerable.call(We,ke[ut])&&(Ie[ke[ut]]=We[ke[ut]])}return Ie}function ae(We,Pe,Ie,ke){return new(Ie||(Ie=Promise))(function(rt,Lt){function wn(Vn){try{sn(ke.next(Vn))}catch(Jt){Lt(Jt)}}function nr(Vn){try{sn(ke.throw(Vn))}catch(Jt){Lt(Jt)}}function sn(Vn){Vn.done?rt(Vn.value):function ut(rt){return rt instanceof Ie?rt:new Ie(function(Lt){Lt(rt)})}(Vn.value).then(wn,nr)}sn((ke=ke.apply(We,Pe||[])).next())})}function we(We){return this instanceof we?(this.v=We,this):new we(We)}function Ze(We,Pe,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,ke=Ie.apply(We,Pe||[]),rt=[];return ut=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),wn("next"),wn("throw"),wn("return",function Lt(On){return function(Gt){return Promise.resolve(Gt).then(On,Jt)}}),ut[Symbol.asyncIterator]=function(){return this},ut;function wn(On,Gt){ke[On]&&(ut[On]=function(Bt){return new Promise(function(vr,on){rt.push([On,Bt,vr,on])>1||nr(On,Bt)})},Gt&&(ut[On]=Gt(ut[On])))}function nr(On,Gt){try{!function sn(On){On.value instanceof we?Promise.resolve(On.value.v).then(Vn,Jt):$n(rt[0][2],On)}(ke[On](Gt))}catch(Bt){$n(rt[0][3],Bt)}}function Vn(On){nr("next",On)}function Jt(On){nr("throw",On)}function $n(On,Gt){On(Gt),rt.shift(),rt.length&&nr(rt[0][0],rt[0][1])}}function et(We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,Pe=We[Symbol.asyncIterator];return Pe?Pe.call(We):(We=function lt(We){var Pe="function"==typeof Symbol&&Symbol.iterator,Ie=Pe&&We[Pe],ke=0;if(Ie)return Ie.call(We);if(We&&"number"==typeof We.length)return{next:function(){return We&&ke>=We.length&&(We=void 0),{value:We&&We[ke++],done:!We}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(We),Ie={},ke("next"),ke("throw"),ke("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function ke(rt){Ie[rt]=We[rt]&&function(Lt){return new Promise(function(wn,nr){!function ut(rt,Lt,wn,nr){Promise.resolve(nr).then(function(sn){rt({value:sn,done:wn})},Lt)}(wn,nr,(Lt=We[rt](Lt)).done,Lt.value)})}}}F.d(Je,{AQ:()=>Ze,N3:()=>we,Tt:()=>ve,sH:()=>ae,xN:()=>et}),"function"==typeof SuppressedError&&SuppressedError}},rn=>{rn(rn.s=9495)}]);