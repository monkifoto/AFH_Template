"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[373],{2373:(se,q,c)=>{c.r(q),c.d(q,{AdminModule:()=>ae});var u=c(6814),a=c(95),g=c(518),e=c(5879),U=c(7213),_=c(7398),h=c(7104),Z=c(778);let v=(()=>{class n{constructor(o,t){this.afs=o,this.storage=t,this.basePath="businesses"}createBusiness(o){console.log("Business Created");const t=this.afs.createId();return this.afs.doc(`${this.basePath}/${t}`).set({...o,id:t}),this.afs.doc(`${this.basePath}/${t}`).valueChanges()}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,_.U)(o=>o.map(t=>{const i=t.payload.doc.data(),r=t.payload.doc.id,{id:s,...d}=i;return{id:r,...d}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,o=>o.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(o){return this.afs.doc(`${this.basePath}/${o}`).valueChanges()}updateBusiness(o,t){return this.afs.doc(`${this.basePath}/${o}`).update(t)}deleteBusiness(o){return this.afs.doc(`${this.basePath}/${o}`).delete()}uploadFile(o,t){return this.storage.upload(o,t)}getDownloadURL(o){return this.storage.ref(o).getDownloadURL()}static#e=this.\u0275fac=function(t){return new(t||n)(e.LFG(h.ST),e.LFG(Z.Q1))};static#o=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const P=function(){return["/home/"]},M=function(n){return{id:n}};function k(n,l){if(1&n){const o=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",6),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"button",7),e.NdJ("click",function(){const r=e.CHM(o).$implicit,s=e.oxw();return e.KtG(s.editBusiness(r.id))}),e._uU(8,"Edit"),e.qZA(),e.TgZ(9,"button",8),e.NdJ("click",function(){const r=e.CHM(o).$implicit,s=e.oxw();return e.KtG(s.deleteBusiness(r.id))}),e._uU(10,"Delete"),e.qZA()()()}if(2&n){const o=l.$implicit;e.xp6(2),e.Q6J("routerLink",e.DdM(4,P))("queryParams",e.VKq(5,M,o.id)),e.xp6(1),e.hij(" ",o.id," "),e.xp6(2),e.Oqu(o.businessName)}}let O=(()=>{class n{constructor(o,t){this.businessService=o,this.router=t,this.businesses=[],this.showActiveOnly=!0}ngOnInit(){this.loadBusinesses()}loadBusinesses(){this.showActiveOnly?this.businessService.getActiveBusinesses().subscribe(o=>{this.businesses=o,console.log(o)}):this.businessService.getAllBusinesses().subscribe(o=>{this.businesses=o,console.log(o)})}editBusiness(o){this.router.navigate(["/admin/edit-business",o])}deleteBusiness(o){confirm("Are you sure you want to delete this business?")&&this.businessService.updateBusiness(o,{isActive:!1}).then(()=>{alert("Business deleted successfully!"),this.loadBusinesses()}).catch(t=>console.error("Error deleting business",t))}addNewBusiness(){this.router.navigate(["/admin/new"])}static#e=this.\u0275fac=function(t){return new(t||n)(e.Y36(v),e.Y36(g.F0))};static#o=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-business-list"]],decls:19,vars:2,consts:[[1,"business-list-container"],[1,"add-business-button",3,"click"],["for","toggle-active"],["type","checkbox","id","toggle-active",3,"ngModel","ngModelChange","change"],[1,"business-table"],[4,"ngFor","ngForOf"],[1,"business-id-link",3,"routerLink","queryParams"],[1,"edit-button",3,"click"],[1,"delete-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Business List"),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return i.addNewBusiness()}),e._uU(4,"Add New Business"),e.qZA(),e.TgZ(5,"label",2),e._uU(6,"Show Active Only"),e.qZA(),e.TgZ(7,"input",3),e.NdJ("ngModelChange",function(s){return i.showActiveOnly=s})("change",function(){return i.loadBusinesses()}),e.qZA(),e.TgZ(8,"table",4)(9,"thead")(10,"tr")(11,"th"),e._uU(12,"ID"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Name"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Actions"),e.qZA()()(),e.TgZ(17,"tbody"),e.YNc(18,k,11,7,"tr",5),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngModel",i.showActiveOnly),e.xp6(11),e.Q6J("ngForOf",i.businesses))},dependencies:[u.sg,g.rH,a.Wl,a.JJ,a.On],styles:[".business-list-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#333}.add-business-button[_ngcontent-%COMP%]{display:block;margin:20px auto;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px}.add-business-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.business-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .business-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}.business-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.business-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.business-id-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.business-id-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.edit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:5px;cursor:pointer;font-size:14px;margin:0 5px}.edit-button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.edit-button[_ngcontent-%COMP%]:hover{background-color:#218838}.delete-button[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}return n})();var m=c(4716),w=c(5592);let C=(()=>{class n{constructor(o,t){this.storage=o,this.firestore=t}uploadFile(o,t,i){let r;switch(i){case"employee":r=`businesses/${t}/employee/${o.name}`;break;case"business":r=`businesses/${t}/business/${o.name}`;break;default:r=`businesses/${t}/gallery/${o.name}`}const s=this.storage.ref(r),d=this.storage.upload(r,o);return{uploadProgress:d.percentageChanges().pipe((0,_.U)(b=>b??0)),downloadUrl:new w.y(b=>{d.snapshotChanges().pipe((0,m.x)(()=>{s.getDownloadURL().subscribe(x=>{this.firestore.collection("businesses").doc(t).collection(i).add({url:x}),b.next(x),b.complete()})})).subscribe()})}}static#e=this.\u0275fac=function(t){return new(t||n)(e.LFG(Z.Q1),e.LFG(h.ST))};static#o=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),I=(()=>{class n{constructor(){this.message="",this.close=new e.vpe}onClose(){this.close.emit()}static#e=this.\u0275fac=function(t){return new(t||n)};static#o=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirmation-dialog"]],inputs:{message:"message"},outputs:{close:"close"},decls:9,vars:1,consts:[[1,"confirmation-dialog-overlay"],[1,"confirmation-dialog"],[1,"actions"],[3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Confirmation"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"div",2)(7,"button",3),e.NdJ("click",function(){return i.onClose()}),e._uU(8,"OK"),e.qZA()()()()),2&t&&(e.xp6(5),e.Oqu(i.message))},styles:[".confirmation-dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.confirmation-dialog[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;max-width:400px;width:90%;text-align:center}.confirmation-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px}.confirmation-dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;font-size:18px}.confirmation-dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.confirmation-dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer}.confirmation-dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return n})();function N(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",112)(2,"div",113),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=l.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function B(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",112)(2,"div",113),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=l.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function F(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",112)(2,"div",113),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=l.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function S(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",112)(2,"div",113),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=l.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function G(n,l){if(1&n){const o=e.EpF();e.TgZ(0,"div",114)(1,"div",19)(2,"label",115),e._uU(3,"Employee Name"),e.qZA(),e._UZ(4,"input",116),e.qZA(),e.TgZ(5,"div",19)(6,"label",117),e._uU(7,"Role"),e.qZA(),e._UZ(8,"input",118),e.qZA(),e.TgZ(9,"div",19)(10,"label",119),e._uU(11,"Bio"),e.qZA(),e._UZ(12,"textarea",120),e.qZA(),e.TgZ(13,"div",19)(14,"label",121),e._uU(15,"Photo"),e.qZA(),e.TgZ(16,"input",122),e.NdJ("change",function(i){const s=e.CHM(o).index,d=e.oxw();return e.KtG(d.onEmployeeFileChange(i,s))}),e.qZA(),e.YNc(17,S,4,3,"ng-container",56),e.ALo(18,"async"),e.qZA(),e.TgZ(19,"button",109),e.NdJ("click",function(){const r=e.CHM(o).index,s=e.oxw();return e.KtG(s.removeEmployee(r))}),e._uU(20,"Remove Employee"),e.qZA()()}if(2&n){const o=l.index,t=e.oxw();e.Q6J("formGroupName",o),e.xp6(17),e.Q6J("ngIf",e.lcZ(18,2,t.uploadProgress["employee_"+o]))}}function J(n,l){if(1&n){const o=e.EpF();e.TgZ(0,"app-confirmation-dialog",123),e.NdJ("close",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.closeConfirmation())}),e.qZA()}if(2&n){const o=e.oxw();e.Q6J("message",o.confirmationMessage)}}let E=(()=>{class n{constructor(o,t,i,r,s){this.fb=o,this.businessService=t,this.uploadService=i,this.route=r,this.router=s,this.uploadProgress={},this.confirmationMessage="",this.showConfirmation=!1}ngOnInit(){this.route.queryParams.subscribe(o=>{this.businessId=o.id}),this.businessForm=this.fb.group({businessName:["Careful Living AFH",a.kI.required],tagline:["Caring with compassion"],uniqueService:["Personalized 24/7 care"],whyChoose:["We provide personalized care tailored to each resident's needs."],businessStory:["Careful Living AFH was founded in 2005 by a group of healthcare professionals who wanted to provide a loving and caring environment for seniors.",a.kI.required],motivation:["The motivation behind starting this business was to create a home where seniors can live comfortably and with dignity."],mission:["Our mission is to work hard each day to meet and exceed the expectations of our residents and their families. We provide personalized extensive care plans based on the residents needs, preferences and interests while giving their families peace of mind knowing that all their needs are being met.",a.kI.required],vision:["Elderly Home Care is a perfect alternative for seniors who can no longer live on their own, but want to maintain their independence in a warm, friendly home-like atmosphere with 24-hour tender compassionate care. We are conveniently located 10 minutes away from Evergreen Hospital in Bellevue, bordering Kirkland",a.kI.required],certifications:["Licensed by the state, Certified Nursing Assistants (CNA) on staff.",a.kI.required],targetAudience:["Seniors in need of assisted living services, families looking for quality care for their loved ones."],services:["24-hour supervision and assistance , Medication management , Vital signs monitoring , Assistance with daily living activities such as dressing, bathing, grooming , Partial or full incontinence care support , Assistance with walking, transferring and eating , Three nutritious home-cooked meals and snacks daily , Special diets , Laundry and housekeeping , Personalized activities programs , Entertainment provided by outside vendors",a.kI.required],specialPrograms:["Holiday Celebrations \xb7 Birthday Parties \xb7 Outdoor activities \xb7 Exercise Program \xb7 Musical Program \xb7 Arts and Crafts \xb7 Games \xb7 Movie and Popcorn Nights \xb7 Newspaper \xb7 Gardening"],tours:["Yes, we provide tours of our facility."],freeConsulting:["Yes, we offer free consulting services."],websiteGoals:["To provide information, encourage visits, and offer consultation requests.",a.kI.required],logoImage:[""],ownerImagesBios:["John Doe, RN, Founder.",a.kI.required],staffImagesBios:["Jane Smith, CNA, Head Nurse; Bob Johnson, Physical Therapist.",a.kI.required],facilityImages:[""],lifestyleImages:[""],mediaFeatures:["Featured in Local News, Healthcare Magazine."],ratings:["Google: 4.8 stars, Yelp: 5 stars"],testimonials:['John Doe\'s family: "Amazing care!"'],address:["1234 Care St, Compassion City, ST 12345",a.kI.required],phone:["(123) 456-7890",a.kI.required],fax:["(123) 456-7891"],email:["info@carefullivingafh.com",a.kI.email],businessHours:["Mon-Fri: 9am-5pm, Sat-Sun: 10am-4pm",a.kI.required],socialMedia:["Facebook: facebook.com/carefullivingafh"],welcomeMessage:["Welcome to Careful Living AFH, where we care with compassion.",a.kI.required],keyServicesHighlights:["24/7 care, nutritious meals, engaging activities.",a.kI.required],teamValues:["Our team is trained and specialized in providing care for seniors in need of, or who are diagnosed with a wide range of illnesses such as: Dementia, Alzheimer\u2019s, Strokes, Diabetic Management, Cardiac Problems, Multiple Sclerosis, Rehabilitation and Hospice/Palliative Care",a.kI.required],serviceBenefits:["Private rooms with private or shared bathrooms , Each room is equipped with calling system, phone, cable TV, internet , Handicap accessible , Spacious open floor plan with high ceiling , Harwood floors , Smoke alarm system , Security system , Covered deck , Emergency call buttons , Generator",a.kI.required],pricingStructure:["Contact us for pricing details.",a.kI.required],contactFormDetails:["Name, Email, Phone, Message",a.kI.required],mapDirections:["Included map and directions to our facility."],photoGallery:["Gallery of our facility and events."],employees:this.fb.array([]),isActive:!0})}employees(){return this.businessForm.get("employees")}addEmployee(){const o=this.fb.group({id:[""],name:[""],role:[""],bio:[""],photoURL:[""]});this.employees().push(o)}removeEmployee(o){this.employees().removeAt(o)}onEmployeeFileChange(o,t){const i=o.target.files[0];if(i){const{uploadProgress:r,downloadUrl:s}=this.uploadService.uploadFile(i,this.businessId,"employee");this.uploadProgress[`employee_${t}`]=r,s.pipe((0,m.x)(()=>{s.subscribe(d=>{this.employees().at(t).patchValue({photoURL:d})})})).subscribe()}}onFileChange(o,t){const i=o.target.files[0];if(i){let r;r="photoGallery"===t?"gallery":"logoImage"===t||"ownerImagesBios"===t||"staffImagesBios"===t?"business":"employee";const{uploadProgress:s,downloadUrl:d}=this.uploadService.uploadFile(i,this.businessId,r);this.uploadProgress[t]=s,d.pipe((0,m.x)(()=>{d.subscribe(p=>{const f=this.businessForm.get(t)?.value;Array.isArray(f)?this.businessForm.patchValue({[t]:[...f,p]}):this.businessForm.patchValue({[t]:p})})})).subscribe()}}onSubmit(){if(console.log("Submit Click",this.businessForm.valid),this.businessForm.valid){const o=this.businessForm.value;console.log(o),this.businessService.createBusiness(o).subscribe(t=>{this.business=t,this.confirmationMessage="Business has been successfully created!",this.showConfirmation=!0,console.log("Business Created with ID: ",this.business?.id)})}}closeConfirmation(){this.showConfirmation=!1,this.router.navigate(["/admin/businessList"])}preventDefault(o){o.preventDefault()}static#e=this.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(v),e.Y36(C),e.Y36(g.gz),e.Y36(g.F0))};static#o=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-business-question-form"]],decls:247,vars:12,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["id","businessTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","basic-info-tab","data-bs-toggle","tab","data-bs-target","#basic-info","type","button","role","tab","aria-controls","basic-info","aria-selected","true",1,"nav-link","active"],["id","story-mission-tab","data-bs-toggle","tab","data-bs-target","#story-mission","type","button","role","tab","aria-controls","story-mission","aria-selected","false",1,"nav-link"],["id","certifications-tab","data-bs-toggle","tab","data-bs-target","#certifications","type","button","role","tab","aria-controls","certifications","aria-selected","false",1,"nav-link"],["id","services-offerings-tab","data-bs-toggle","tab","data-bs-target","#services-offerings","type","button","role","tab","aria-controls","services-offerings","aria-selected","false",1,"nav-link"],["id","content-photos-tab","data-bs-toggle","tab","data-bs-target","#content-photos","type","button","role","tab","aria-controls","content-photos","aria-selected","false",1,"nav-link"],["id","media-reviews-tab","data-bs-toggle","tab","data-bs-target","#media-reviews","type","button","role","tab","aria-controls","media-reviews","aria-selected","false",1,"nav-link"],["id","contact-info-tab","data-bs-toggle","tab","data-bs-target","#contact-info","type","button","role","tab","aria-controls","contact-info","aria-selected","false",1,"nav-link"],["id","home-page-tab","data-bs-toggle","tab","data-bs-target","#home-page","type","button","role","tab","aria-controls","home-page","aria-selected","false",1,"nav-link"],["id","about-us-tab","data-bs-toggle","tab","data-bs-target","#about-us","type","button","role","tab","aria-controls","about-us","aria-selected","false",1,"nav-link"],["id","services-page-tab","data-bs-toggle","tab","data-bs-target","#services-page","type","button","role","tab","aria-controls","services-page","aria-selected","false",1,"nav-link"],["id","contact-us-page-tab","data-bs-toggle","tab","data-bs-target","#contact-us-page","type","button","role","tab","aria-controls","contact-us-page","aria-selected","false",1,"nav-link"],["id","additional-content-tab","data-bs-toggle","tab","data-bs-target","#additional-content","type","button","role","tab","aria-controls","additional-content","aria-selected","false",1,"nav-link"],["id","employee-profiles-tab","data-bs-toggle","tab","data-bs-target","#employee-profiles","type","button","role","tab","aria-controls","employee-profiles","aria-selected","false",1,"nav-link"],["id","businessTabContent",1,"tab-content"],["id","basic-info","role","tabpanel","aria-labelledby","basic-info-tab",1,"tab-pane","fade","show","active"],[1,"form-group"],["for","businessName",1,"required"],["id","businessName","formControlName","businessName","required","",1,"form-control"],["for","tagline"],["id","tagline","formControlName","tagline",1,"form-control"],["for","uniqueService"],["id","uniqueService","formControlName","uniqueService",1,"form-control"],["for","whyChoose"],["id","whyChoose","formControlName","whyChoose",1,"form-control"],["id","story-mission","role","tabpanel","aria-labelledby","story-mission-tab",1,"tab-pane","fade"],["for","businessStory",1,"required"],["id","businessStory","formControlName","businessStory","required","",1,"form-control"],["for","motivation"],["id","motivation","formControlName","motivation",1,"form-control"],["for","mission",1,"required"],["id","mission","formControlName","mission","required","",1,"form-control"],["for","vision",1,"required"],["id","vision","formControlName","vision","required","",1,"form-control"],["id","certifications","role","tabpanel","aria-labelledby","certifications-tab",1,"tab-pane","fade"],["for","certifications",1,"required"],["id","certifications","formControlName","certifications","required","",1,"form-control"],["for","targetAudience"],["id","targetAudience","formControlName","targetAudience",1,"form-control"],["id","services-offerings","role","tabpanel","aria-labelledby","services-offerings-tab",1,"tab-pane","fade"],["for","services",1,"required"],["id","services","formControlName","services","required","",1,"form-control"],["for","specialPrograms"],["id","specialPrograms","formControlName","specialPrograms",1,"form-control"],["for","tours"],["id","tours","formControlName","tours",1,"form-control"],["for","freeConsulting"],["id","freeConsulting","formControlName","freeConsulting",1,"form-control"],["id","content-photos","role","tabpanel","aria-labelledby","content-photos-tab",1,"tab-pane","fade"],["for","websiteGoals",1,"required"],["id","websiteGoals","formControlName","websiteGoals","required","",1,"form-control"],["for","logoImage",1,"required"],["type","file","id","logoImage",1,"form-control",3,"change"],[4,"ngIf"],["for","ownerImagesBios",1,"required"],["id","ownerImagesBios","formControlName","ownerImagesBios","required","",1,"form-control"],["for","staffImagesBios",1,"required"],["id","staffImagesBios","formControlName","staffImagesBios","required","",1,"form-control"],["for","facilityImages",1,"required"],["type","file","id","facilityImages",1,"form-control",3,"change"],["for","lifestyleImages",1,"required"],["type","file","id","lifestyleImages",1,"form-control",3,"change"],["id","media-reviews","role","tabpanel","aria-labelledby","media-reviews-tab",1,"tab-pane","fade"],["for","mediaFeatures"],["id","mediaFeatures","formControlName","mediaFeatures",1,"form-control"],["for","ratings"],["id","ratings","formControlName","ratings",1,"form-control"],["for","testimonials"],["id","testimonials","formControlName","testimonials",1,"form-control"],["id","contact-info","role","tabpanel","aria-labelledby","contact-info-tab",1,"tab-pane","fade"],["for","address",1,"required"],["id","address","formControlName","address","required","",1,"form-control"],["for","phone",1,"required"],["id","phone","formControlName","phone","required","",1,"form-control"],["for","fax"],["id","fax","formControlName","fax",1,"form-control"],["for","email",1,"required"],["id","email","formControlName","email","required","",1,"form-control"],["for","businessHours",1,"required"],["id","businessHours","formControlName","businessHours","required","",1,"form-control"],["for","socialMedia"],["id","socialMedia","formControlName","socialMedia",1,"form-control"],["id","home-page","role","tabpanel","aria-labelledby","home-page-tab",1,"tab-pane","fade"],["for","welcomeMessage"],["id","welcomeMessage","formControlName","welcomeMessage","required","",1,"form-control"],["for","keyServicesHighlights",1,"required"],["id","keyServicesHighlights","formControlName","keyServicesHighlights","required","",1,"form-control"],["id","about-us","role","tabpanel","aria-labelledby","about-us-tab",1,"tab-pane","fade"],["for","teamValues",1,"required"],["id","teamValues","formControlName","teamValues","required","",1,"form-control"],["id","services-page","role","tabpanel","aria-labelledby","services-page-tab",1,"tab-pane","fade"],["for","serviceBenefits",1,"required"],["id","serviceBenefits","formControlName","serviceBenefits","required","",1,"form-control"],["for","pricingStructure",1,"required"],["id","pricingStructure","formControlName","pricingStructure","required","",1,"form-control"],["id","contact-us-page","role","tabpanel","aria-labelledby","contact-us-page-tab",1,"tab-pane","fade"],["for","contactFormDetails",1,"required"],["id","contactFormDetails","formControlName","contactFormDetails","required","",1,"form-control"],["for","mapDirections"],["id","mapDirections","formControlName","mapDirections",1,"form-control"],["id","additional-content","role","tabpanel","aria-labelledby","additional-content-tab",1,"tab-pane","fade"],["for","photoGallery"],["formControlName","photoGallery",1,"form-control"],["id","employee-profiles","role","tabpanel","aria-labelledby","employee-profiles-tab",1,"tab-pane","fade"],["formArrayName","employees"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["type","submit"],[3,"message","close",4,"ngIf"],[1,"progress"],[1,"progress-bar"],[3,"formGroupName"],["for","employeeName"],["id","employeeName","formControlName","name",1,"form-control"],["for","employeeRole"],["id","employeeRole","formControlName","role",1,"form-control"],["for","employeeBio"],["id","employeeBio","formControlName","bio",1,"form-control"],["for","employeePhoto"],["type","file","id","employeePhoto",1,"form-control",3,"change"],[3,"message","close"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(2,"ul",2)(3,"li",3)(4,"button",4),e._uU(5,"Basic Information"),e.qZA()(),e.TgZ(6,"li",3)(7,"button",5),e._uU(8,"Story & Mission"),e.qZA()(),e.TgZ(9,"li",3)(10,"button",6),e._uU(11,"Certifications"),e.qZA()(),e.TgZ(12,"li",3)(13,"button",7),e._uU(14,"Services & Offerings"),e.qZA()(),e.TgZ(15,"li",3)(16,"button",8),e._uU(17,"Content & Photos"),e.qZA()(),e.TgZ(18,"li",3)(19,"button",9),e._uU(20,"Media & Reviews"),e.qZA()(),e.TgZ(21,"li",3)(22,"button",10),e._uU(23,"Contact Information"),e.qZA()(),e.TgZ(24,"li",3)(25,"button",11),e._uU(26,"Home Page"),e.qZA()(),e.TgZ(27,"li",3)(28,"button",12),e._uU(29,"About Us"),e.qZA()(),e.TgZ(30,"li",3)(31,"button",13),e._uU(32,"Services Page"),e.qZA()(),e.TgZ(33,"li",3)(34,"button",14),e._uU(35,"Contact Us Page"),e.qZA()(),e.TgZ(36,"li",3)(37,"button",15),e._uU(38,"Additional Content"),e.qZA()(),e.TgZ(39,"li",3)(40,"button",16),e._uU(41,"Employee Profiles"),e.qZA()()(),e.TgZ(42,"div",17)(43,"div",18)(44,"h2"),e._uU(45,"Basic Information"),e.qZA(),e.TgZ(46,"div",19)(47,"label",20),e._uU(48,"Business Name"),e.qZA(),e._UZ(49,"input",21),e.qZA(),e.TgZ(50,"div",19)(51,"label",22),e._uU(52,"Tagline"),e.qZA(),e._UZ(53,"input",23),e.qZA(),e.TgZ(54,"div",19)(55,"label",24),e._uU(56,"Unique Service"),e.qZA(),e._UZ(57,"input",25),e.qZA(),e.TgZ(58,"div",19)(59,"label",26),e._uU(60,"Why Choose Us"),e.qZA(),e._UZ(61,"input",27),e.qZA()(),e.TgZ(62,"div",28)(63,"h2"),e._uU(64,"Business Story and Mission"),e.qZA(),e.TgZ(65,"div",19)(66,"label",29),e._uU(67,"Business Story"),e.qZA(),e._UZ(68,"textarea",30),e.qZA(),e.TgZ(69,"div",19)(70,"label",31),e._uU(71,"Motivation"),e.qZA(),e._UZ(72,"textarea",32),e.qZA(),e.TgZ(73,"div",19)(74,"label",33),e._uU(75,"Mission"),e.qZA(),e._UZ(76,"textarea",34),e.qZA(),e.TgZ(77,"div",19)(78,"label",35),e._uU(79,"Vision"),e.qZA(),e._UZ(80,"textarea",36),e.qZA()(),e.TgZ(81,"div",37)(82,"h2"),e._uU(83,"Certifications and Target Audience"),e.qZA(),e.TgZ(84,"div",19)(85,"label",38),e._uU(86,"Certifications"),e.qZA(),e._UZ(87,"textarea",39),e.qZA(),e.TgZ(88,"div",19)(89,"label",40),e._uU(90,"Target Audience"),e.qZA(),e._UZ(91,"textarea",41),e.qZA()(),e.TgZ(92,"div",42)(93,"h2"),e._uU(94,"Services and Offerings"),e.qZA(),e.TgZ(95,"div",19)(96,"label",43),e._uU(97,"Services"),e.qZA(),e._UZ(98,"textarea",44),e.qZA(),e.TgZ(99,"div",19)(100,"label",45),e._uU(101,"Special Programs"),e.qZA(),e._UZ(102,"textarea",46),e.qZA(),e.TgZ(103,"div",19)(104,"label",47),e._uU(105,"Tours"),e.qZA(),e._UZ(106,"textarea",48),e.qZA(),e.TgZ(107,"div",19)(108,"label",49),e._uU(109,"Free Consulting"),e.qZA(),e._UZ(110,"textarea",50),e.qZA()(),e.TgZ(111,"div",51)(112,"h2"),e._uU(113,"Website Goals"),e.qZA(),e.TgZ(114,"div",19)(115,"label",52),e._uU(116,"Website Goals"),e.qZA(),e._UZ(117,"textarea",53),e.qZA(),e.TgZ(118,"h2"),e._uU(119,"Content and Photos"),e.qZA(),e.TgZ(120,"div",19)(121,"label",54),e._uU(122,"Logo Image"),e.qZA(),e.TgZ(123,"input",55),e.NdJ("change",function(s){return i.onFileChange(s,"logoImage")}),e.qZA(),e.YNc(124,N,4,3,"ng-container",56),e.ALo(125,"async"),e.qZA(),e.TgZ(126,"div",19)(127,"label",57),e._uU(128,"Owner Images and Bios"),e.qZA(),e._UZ(129,"textarea",58),e.qZA(),e.TgZ(130,"div",19)(131,"label",59),e._uU(132,"Staff Images and Bios"),e.qZA(),e._UZ(133,"textarea",60),e.qZA(),e.TgZ(134,"h2"),e._uU(135,"Facility and Lifestyle Images"),e.qZA(),e.TgZ(136,"div",19)(137,"label",61),e._uU(138,"Facility Images"),e.qZA(),e.TgZ(139,"input",62),e.NdJ("change",function(s){return i.onFileChange(s,"facilityImages")}),e.qZA(),e.YNc(140,B,4,3,"ng-container",56),e.ALo(141,"async"),e.qZA(),e.TgZ(142,"div",19)(143,"label",63),e._uU(144,"Lifestyle Images"),e.qZA(),e.TgZ(145,"input",64),e.NdJ("change",function(s){return i.onFileChange(s,"lifestyleImages")}),e.qZA(),e.YNc(146,F,4,3,"ng-container",56),e.ALo(147,"async"),e.qZA()(),e.TgZ(148,"div",65)(149,"h2"),e._uU(150,"Media and Reviews"),e.qZA(),e.TgZ(151,"div",19)(152,"label",66),e._uU(153,"Media Features"),e.qZA(),e._UZ(154,"textarea",67),e.qZA(),e.TgZ(155,"div",19)(156,"label",68),e._uU(157,"Ratings"),e.qZA(),e._UZ(158,"textarea",69),e.qZA(),e.TgZ(159,"div",19)(160,"label",70),e._uU(161,"Testimonials"),e.qZA(),e._UZ(162,"textarea",71),e.qZA()(),e.TgZ(163,"div",72)(164,"h2"),e._uU(165,"Contact Information"),e.qZA(),e.TgZ(166,"div",19)(167,"label",73),e._uU(168,"Address"),e.qZA(),e._UZ(169,"textarea",74),e.qZA(),e.TgZ(170,"div",19)(171,"label",75),e._uU(172,"Phone"),e.qZA(),e._UZ(173,"input",76),e.qZA(),e.TgZ(174,"div",19)(175,"label",77),e._uU(176,"Fax"),e.qZA(),e._UZ(177,"input",78),e.qZA(),e.TgZ(178,"div",19)(179,"label",79),e._uU(180,"Email"),e.qZA(),e._UZ(181,"input",80),e.qZA(),e.TgZ(182,"div",19)(183,"label",81),e._uU(184,"Business Hours"),e.qZA(),e._UZ(185,"textarea",82),e.qZA(),e.TgZ(186,"div",19)(187,"label",83),e._uU(188,"Social Media"),e.qZA(),e._UZ(189,"textarea",84),e.qZA()(),e.TgZ(190,"div",85)(191,"h2"),e._uU(192,"Home Page"),e.qZA(),e.TgZ(193,"div",19)(194,"label",86),e._uU(195,"Welcome Message"),e.qZA(),e._UZ(196,"textarea",87),e.qZA(),e.TgZ(197,"div",19)(198,"label",88),e._uU(199,"Key Services and Highlights"),e.qZA(),e._UZ(200,"textarea",89),e.qZA()(),e.TgZ(201,"div",90)(202,"h2"),e._uU(203,"About Us Page"),e.qZA(),e.TgZ(204,"div",19)(205,"label",91),e._uU(206,"Team and Values"),e.qZA(),e._UZ(207,"textarea",92),e.qZA()(),e.TgZ(208,"div",93)(209,"h2"),e._uU(210,"Services Page"),e.qZA(),e.TgZ(211,"div",19)(212,"label",94),e._uU(213,"Service Benefits"),e.qZA(),e._UZ(214,"textarea",95),e.qZA(),e.TgZ(215,"div",19)(216,"label",96),e._uU(217,"Pricing Structure"),e.qZA(),e._UZ(218,"textarea",97),e.qZA()(),e.TgZ(219,"div",98)(220,"h2"),e._uU(221,"Contact Us Page"),e.qZA(),e.TgZ(222,"div",19)(223,"label",99),e._uU(224,"Contact Form Details"),e.qZA(),e._UZ(225,"textarea",100),e.qZA(),e.TgZ(226,"div",19)(227,"label",101),e._uU(228,"Map and Directions"),e.qZA(),e._UZ(229,"textarea",102),e.qZA()(),e.TgZ(230,"div",103)(231,"h2"),e._uU(232,"Additional Content"),e.qZA(),e.TgZ(233,"div",19)(234,"label",104),e._uU(235,"Photo Gallery:"),e.qZA(),e._UZ(236,"textarea",105),e.qZA()(),e.TgZ(237,"div",106)(238,"h2"),e._uU(239,"Employee Profiles"),e.qZA(),e.TgZ(240,"div",107),e.YNc(241,G,21,4,"div",108),e.qZA(),e.TgZ(242,"button",109),e.NdJ("click",function(){return i.addEmployee()}),e._uU(243,"Add Employee"),e.qZA()()(),e.TgZ(244,"button",110),e._uU(245,"Submit"),e.qZA()()(),e.YNc(246,J,1,1,"app-confirmation-dialog",111)),2&t&&(e.xp6(1),e.Q6J("formGroup",i.businessForm),e.xp6(123),e.Q6J("ngIf",e.lcZ(125,6,i.uploadProgress.logoImage)),e.xp6(16),e.Q6J("ngIf",e.lcZ(141,8,i.uploadProgress.facilityImages)),e.xp6(6),e.Q6J("ngIf",e.lcZ(147,10,i.uploadProgress.lifestyleImages)),e.xp6(95),e.Q6J("ngForOf",i.employees().controls),e.xp6(5),e.Q6J("ngIf",i.showConfirmation))},dependencies:[u.sg,u.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,a.x0,a.CE,I,u.Ov],styles:['.container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 0 10px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{padding:3px}.form-group[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{margin-top:10px}.progress-bar[_ngcontent-%COMP%]{height:20px;background-color:#4caf50;text-align:center;color:#fff;border-radius:4px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;background-color:#fff;color:#2f4f4f;border:solid 1px darkslategrey;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#f08080}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}textarea[_ngcontent-%COMP%]{height:15em;resize:vertical;padding:8px;font-size:1rem;line-height:1.5;border:1px solid #ced4da;border-radius:4px;box-sizing:border-box}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #aeaeae}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:-2px}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#e6e6e6;color:#282828;border:1px solid transparent;border-radius:.25rem .25rem 0 0;padding:10px 15px;transition:background-color .3s ease,color .3s ease,border-color .3s ease}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#6f6f6f;color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#e9ecef;border-color:#dee2e6 #dee2e6 #fff;color:#343a40}.tab-content[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-top:none;padding:15px;background-color:#fff}.tab-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#495057}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #ced4da;padding:10px}label.required[_ngcontent-%COMP%]:after{content:" *";color:#d9534f}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:.25rem;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[type=button][_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:5px 10px;border-radius:.25rem;margin-top:10px}button[type=button][_ngcontent-%COMP%]:hover{background-color:#c82333}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745}']})}return n})();var L=c(2333);let Q=(()=>{class n{constructor(o,t){this.router=o,this.authService=t}loadBusinessList(){this.router.navigate(["/admin/businessList"])}logout(){this.authService.logout().then(()=>{this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(L.e))};static#o=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin"]],decls:9,vars:0,consts:[[1,"admin-container"],[1,"admin-buttons"],[3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Admin Dashboard"),e.qZA(),e.TgZ(3,"div",1)(4,"button",2),e.NdJ("click",function(){return i.loadBusinessList()}),e._uU(5,"View Business List"),e.qZA(),e.TgZ(6,"button",2),e.NdJ("click",function(){return i.logout()}),e._uU(7,"Logout"),e.qZA()()(),e._UZ(8,"router-outlet"))},dependencies:[g.lC],styles:[".admin-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:40px;background-color:#f9f9f9;border-radius:10px;box-shadow:0 4px 8px #0000001a;text-align:center}.admin-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-bottom:30px}.admin-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:30px}button[_ngcontent-%COMP%]{padding:15px 30px;font-size:16px;color:#fff;background-color:#007bff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 5px #007bff}button.logout[_ngcontent-%COMP%]{background-color:#dc3545}button.logout[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}return n})();function D(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",112)(2,"div",113),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=l.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function H(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",112)(2,"div",113),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=l.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function Y(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",112)(2,"div",113),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=l.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function z(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",112)(2,"div",113),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=l.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function R(n,l){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"img",121),e.qZA()),2&n){const o=e.oxw().$implicit;let t;e.xp6(1),e.Q6J("src",null==(t=o.get("photoURL"))?null:t.value,e.LSH)}}function V(n,l){if(1&n){const o=e.EpF();e.TgZ(0,"div",114)(1,"div",19)(2,"label",115),e._uU(3,"Employee Name"),e.qZA(),e._UZ(4,"input",116),e.qZA(),e.TgZ(5,"div",19)(6,"label",115),e._uU(7,"Role"),e.qZA(),e._UZ(8,"input",117),e.qZA(),e.TgZ(9,"div",19)(10,"label",115),e._uU(11,"Bio"),e.qZA(),e._UZ(12,"textarea",118),e.qZA(),e.TgZ(13,"div",19)(14,"label",115),e._uU(15,"Photo"),e.qZA(),e.TgZ(16,"input",119),e.NdJ("change",function(i){const s=e.CHM(o).index,d=e.oxw();return e.KtG(d.onEmployeeFileChange(i,s))}),e.qZA(),e.YNc(17,z,4,3,"ng-container",56),e.ALo(18,"async"),e.qZA(),e.YNc(19,R,2,1,"div",56),e.TgZ(20,"button",120),e.NdJ("click",function(){const r=e.CHM(o).index,s=e.oxw();return e.KtG(s.removeEmployee(r))}),e._uU(21,"Remove Employee"),e.qZA()()}if(2&n){const o=l.$implicit,t=l.index,i=e.oxw();let r;e.Q6J("formGroupName",t),e.xp6(2),e.MGl("for","employeeName-",t,""),e.xp6(2),e.MGl("id","employeeName-",t,""),e.xp6(2),e.MGl("for","employeeRole-",t,""),e.xp6(2),e.MGl("id","employeeRole-",t,""),e.xp6(2),e.MGl("for","employeeBio-",t,""),e.xp6(2),e.MGl("id","employeeBio-",t,""),e.xp6(2),e.MGl("for","employeePhoto-",t,""),e.xp6(2),e.MGl("id","employeePhoto-",t,""),e.xp6(1),e.Q6J("ngIf",e.lcZ(18,11,i.uploadProgress["employee_"+t])),e.xp6(2),e.Q6J("ngIf",null==(r=o.get("photoURL"))?null:r.value)}}const $=function(){return["/admin/gallery-upload"]},j=function(n){return{id:n}};let y=(()=>{class n{constructor(o,t,i,r){this.fb=o,this.businessService=t,this.uploadService=i,this.route=r,this.uploadProgress={}}ngOnInit(){this.initializeForm(),this.route.paramMap.subscribe(o=>{this.businessId=o.get("id"),console.log("Business ID:",this.businessId),this.businessId&&this.loadBusinessData()})}initializeForm(){this.businessForm=this.fb.group({tagline:[""],uniqueService:[""],whyChoose:[""],businessStory:[""],motivation:[""],mission:[""],vision:[""],certifications:[""],targetAudience:[""],services:[""],specialPrograms:[""],tours:[""],freeConsulting:[""],websiteGoals:[""],logoImage:[""],ownerImagesBios:[""],staffImagesBios:[""],mediaFeatures:[""],ratings:[""],testimonials:[""],businessName:["",a.kI.required],address:["",a.kI.required],phone:["",a.kI.required],fax:[""],email:["",a.kI.required],businessHours:["",a.kI.required],socialMedia:[""],welcomeMessage:[""],keyServicesHighlights:["",a.kI.required],teamValues:["",a.kI.required],serviceBenefits:["",a.kI.required],pricingStructure:["",a.kI.required],contactFormDetails:["",a.kI.required],mapDirections:[""],photoGallery:[""],employees:this.fb.array([])})}employees(){return this.businessForm.get("employees")}addEmployee(){const o=this.fb.group({id:[""],name:[""],role:[""],bio:[""],photoURL:[""]});this.employees().push(o)}removeEmployee(o){this.employees().removeAt(o)}onEmployeeFileChange(o,t){const i=o.target.files[0];if(i){const{uploadProgress:r,downloadUrl:s}=this.uploadService.uploadFile(i,this.businessId,"employee");this.uploadProgress[`employee_${t}`]=r,s.pipe((0,m.x)(()=>{s.subscribe(d=>{this.employees().at(t).patchValue({photoURL:d})})})).subscribe()}}onFileChange(o,t){const i=o.target.files[0];if(i){let r;r="photoGallery"===t?"gallery":"logoImage"===t||"facilityImages"===t||"lifestyleImages"===t?"business":"employee";const{uploadProgress:s,downloadUrl:d}=this.uploadService.uploadFile(i,this.businessId,r);this.uploadProgress[t]=s,d.pipe((0,m.x)(()=>{d.subscribe(p=>{this.businessForm.patchValue({[t]:p})})})).subscribe()}}loadBusinessData(){this.businessService.getBusiness(this.businessId).subscribe(o=>{o?(console.log("Business data:",o),this.populateForm(o)):console.error("Business not found")},o=>{console.error("Error loading business data:",o)})}populateForm(o){this.businessForm.patchValue(o),this.employees().clear(),(o.employees??[]).forEach(t=>{const i=this.fb.group({id:[t.id],name:[t.name],role:[t.role],bio:[t.bio],photoURL:[t.photoURL]});this.employees().push(i)})}onSubmit(){this.businessForm.valid&&this.businessId&&this.businessService.updateBusiness(this.businessId,this.businessForm.value).then(()=>alert("Business details updated successfully!")).catch(t=>console.error("Error updating business details",t))}static#e=this.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(v),e.Y36(C),e.Y36(g.gz))};static#o=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-business"]],decls:255,vars:16,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["id","businessTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","basic-info-tab","data-bs-toggle","tab","data-bs-target","#basic-info","type","button","role","tab","aria-controls","basic-info","aria-selected","true",1,"nav-link","active"],["id","story-mission-tab","data-bs-toggle","tab","data-bs-target","#story-mission","type","button","role","tab","aria-controls","story-mission","aria-selected","false",1,"nav-link"],["id","certifications-tab","data-bs-toggle","tab","data-bs-target","#certifications","type","button","role","tab","aria-controls","certifications","aria-selected","false",1,"nav-link"],["id","services-offerings-tab","data-bs-toggle","tab","data-bs-target","#services-offerings","type","button","role","tab","aria-controls","services-offerings","aria-selected","false",1,"nav-link"],["id","content-photos-tab","data-bs-toggle","tab","data-bs-target","#content-photos","type","button","role","tab","aria-controls","content-photos","aria-selected","false",1,"nav-link"],["id","media-reviews-tab","data-bs-toggle","tab","data-bs-target","#media-reviews","type","button","role","tab","aria-controls","media-reviews","aria-selected","false",1,"nav-link"],["id","contact-info-tab","data-bs-toggle","tab","data-bs-target","#contact-info","type","button","role","tab","aria-controls","contact-info","aria-selected","false",1,"nav-link"],["id","home-page-tab","data-bs-toggle","tab","data-bs-target","#home-page","type","button","role","tab","aria-controls","home-page","aria-selected","false",1,"nav-link"],["id","about-us-tab","data-bs-toggle","tab","data-bs-target","#about-us","type","button","role","tab","aria-controls","about-us","aria-selected","false",1,"nav-link"],["id","services-page-tab","data-bs-toggle","tab","data-bs-target","#services-page","type","button","role","tab","aria-controls","services-page","aria-selected","false",1,"nav-link"],["id","contact-us-page-tab","data-bs-toggle","tab","data-bs-target","#contact-us-page","type","button","role","tab","aria-controls","contact-us-page","aria-selected","false",1,"nav-link"],["id","additional-content-tab","data-bs-toggle","tab","data-bs-target","#additional-content","type","button","role","tab","aria-controls","additional-content","aria-selected","false",1,"nav-link"],["id","employee-profiles-tab","data-bs-toggle","tab","data-bs-target","#employee-profiles","type","button","role","tab","aria-controls","employee-profiles","aria-selected","false",1,"nav-link"],["id","businessTabContent",1,"tab-content"],["id","basic-info","role","tabpanel","aria-labelledby","basic-info-tab",1,"tab-pane","fade","show","active"],[1,"form-group"],["for","businessName",1,"required"],["id","businessName","formControlName","businessName","required","",1,"form-control"],["for","tagline"],["id","tagline","formControlName","tagline",1,"form-control"],["for","uniqueService"],["id","uniqueService","formControlName","uniqueService",1,"form-control"],["for","whyChoose"],["id","whyChoose","formControlName","whyChoose",1,"form-control"],["id","story-mission","role","tabpanel","aria-labelledby","story-mission-tab",1,"tab-pane","fade"],["for","businessStory",1,"required"],["id","businessStory","formControlName","businessStory","required","",1,"form-control"],["for","motivation"],["id","motivation","formControlName","motivation",1,"form-control"],["for","mission",1,"required"],["id","mission","formControlName","mission","required","",1,"form-control"],["for","vision",1,"required"],["id","vision","formControlName","vision","required","",1,"form-control"],["id","certifications","role","tabpanel","aria-labelledby","certifications-tab",1,"tab-pane","fade"],["for","certifications",1,"required"],["id","certifications","formControlName","certifications","required","",1,"form-control"],["for","targetAudience"],["id","targetAudience","formControlName","targetAudience",1,"form-control"],["id","services-offerings","role","tabpanel","aria-labelledby","services-offerings-tab",1,"tab-pane","fade"],["for","services",1,"required"],["id","services","formControlName","services","required","",1,"form-control"],["for","specialPrograms"],["id","specialPrograms","formControlName","specialPrograms",1,"form-control"],["for","tours"],["id","tours","formControlName","tours",1,"form-control"],["for","freeConsulting"],["id","freeConsulting","formControlName","freeConsulting",1,"form-control"],["id","content-photos","role","tabpanel","aria-labelledby","content-photos-tab",1,"tab-pane","fade"],["for","websiteGoals",1,"required"],["id","websiteGoals","formControlName","websiteGoals","required","",1,"form-control"],["for","logoImage",1,"required"],["type","file","id","logoImage",1,"form-control",3,"change"],[4,"ngIf"],["for","ownerImagesBios",1,"required"],["id","ownerImagesBios","formControlName","ownerImagesBios","required","",1,"form-control"],["for","staffImagesBios",1,"required"],["id","staffImagesBios","formControlName","staffImagesBios","required","",1,"form-control"],["for","facilityImages",1,"required"],["type","file","id","facilityImages",1,"form-control",3,"change"],["for","lifestyleImages",1,"required"],["type","file","id","lifestyleImages",1,"form-control",3,"change"],["id","media-reviews","role","tabpanel","aria-labelledby","media-reviews-tab",1,"tab-pane","fade"],["for","mediaFeatures"],["id","mediaFeatures","formControlName","mediaFeatures",1,"form-control"],["for","ratings"],["id","ratings","formControlName","ratings",1,"form-control"],["for","testimonials"],["id","testimonials","formControlName","testimonials",1,"form-control"],["id","contact-info","role","tabpanel","aria-labelledby","contact-info-tab",1,"tab-pane","fade"],["for","address",1,"required"],["id","address","formControlName","address","required","",1,"form-control"],["for","phone",1,"required"],["id","phone","formControlName","phone","required","",1,"form-control"],["for","fax"],["id","fax","formControlName","fax",1,"form-control"],["for","email",1,"required"],["id","email","formControlName","email","required","",1,"form-control"],["for","businessHours",1,"required"],["id","businessHours","formControlName","businessHours","required","",1,"form-control"],["for","socialMedia"],["id","socialMedia","formControlName","socialMedia",1,"form-control"],["id","home-page","role","tabpanel","aria-labelledby","home-page-tab",1,"tab-pane","fade"],["for","welcomeMessage"],["id","welcomeMessage","formControlName","welcomeMessage","required","",1,"form-control"],["for","keyServicesHighlights",1,"required"],["id","keyServicesHighlights","formControlName","keyServicesHighlights","required","",1,"form-control"],["id","about-us","role","tabpanel","aria-labelledby","about-us-tab",1,"tab-pane","fade"],["for","teamValues",1,"required"],["id","teamValues","formControlName","teamValues","required","",1,"form-control"],["id","services-page","role","tabpanel","aria-labelledby","services-page-tab",1,"tab-pane","fade"],["for","serviceBenefits",1,"required"],["id","serviceBenefits","formControlName","serviceBenefits","required","",1,"form-control"],["for","pricingStructure",1,"required"],["id","pricingStructure","formControlName","pricingStructure","required","",1,"form-control"],["id","contact-us-page","role","tabpanel","aria-labelledby","contact-us-page-tab",1,"tab-pane","fade"],["for","contactFormDetails",1,"required"],["id","contactFormDetails","formControlName","contactFormDetails","required","",1,"form-control"],["for","mapDirections"],["id","mapDirections","formControlName","mapDirections",1,"form-control"],["id","additional-content","role","tabpanel","aria-labelledby","additional-content-tab",1,"tab-pane","fade"],["for","photoGallery"],["id","photoGallery","formControlName","photoGallery",1,"form-control"],[1,"btn","btn-primary",3,"routerLink","queryParams"],["id","employee-profiles","role","tabpanel","aria-labelledby","employee-profiles-tab",1,"tab-pane","fade"],["formArrayName","employees"],["class","employee-card",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["type","submit"],[1,"progress"],[1,"progress-bar"],[1,"employee-card",3,"formGroupName"],[3,"for"],["formControlName","name","placeholder","Enter employee name",1,"form-control",3,"id"],["formControlName","role","placeholder","Enter employee role",1,"form-control",3,"id"],["formControlName","bio","rows","3","placeholder","Enter employee bio",1,"form-control",3,"id"],["type","file",1,"form-control",3,"id","change"],["type","button",1,"remove-button",3,"click"],["alt","Employee Photo",1,"employee-photo",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Edit Business Information"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(4,"ul",2)(5,"li",3)(6,"button",4),e._uU(7,"Basic Information"),e.qZA()(),e.TgZ(8,"li",3)(9,"button",5),e._uU(10,"Story & Mission"),e.qZA()(),e.TgZ(11,"li",3)(12,"button",6),e._uU(13,"Certifications"),e.qZA()(),e.TgZ(14,"li",3)(15,"button",7),e._uU(16,"Services & Offerings"),e.qZA()(),e.TgZ(17,"li",3)(18,"button",8),e._uU(19,"Content & Photos"),e.qZA()(),e.TgZ(20,"li",3)(21,"button",9),e._uU(22,"Media & Reviews"),e.qZA()(),e.TgZ(23,"li",3)(24,"button",10),e._uU(25,"Contact Information"),e.qZA()(),e.TgZ(26,"li",3)(27,"button",11),e._uU(28,"Home Page"),e.qZA()(),e.TgZ(29,"li",3)(30,"button",12),e._uU(31,"About Us"),e.qZA()(),e.TgZ(32,"li",3)(33,"button",13),e._uU(34,"Services Page"),e.qZA()(),e.TgZ(35,"li",3)(36,"button",14),e._uU(37,"Contact Us Page"),e.qZA()(),e.TgZ(38,"li",3)(39,"button",15),e._uU(40,"Additional Content & Gallery Photos"),e.qZA()(),e.TgZ(41,"li",3)(42,"button",16),e._uU(43,"Employee Profiles"),e.qZA()()(),e.TgZ(44,"div",17)(45,"div",18)(46,"h2"),e._uU(47,"Basic Information"),e.qZA(),e.TgZ(48,"div",19)(49,"label",20),e._uU(50,"Business Name"),e.qZA(),e._UZ(51,"input",21),e.qZA(),e.TgZ(52,"div",19)(53,"label",22),e._uU(54,"Tagline"),e.qZA(),e._UZ(55,"input",23),e.qZA(),e.TgZ(56,"div",19)(57,"label",24),e._uU(58,"Unique Service"),e.qZA(),e._UZ(59,"input",25),e.qZA(),e.TgZ(60,"div",19)(61,"label",26),e._uU(62,"Why Choose Us"),e.qZA(),e._UZ(63,"input",27),e.qZA()(),e.TgZ(64,"div",28)(65,"h2"),e._uU(66,"Business Story and Mission"),e.qZA(),e.TgZ(67,"div",19)(68,"label",29),e._uU(69,"Business Story"),e.qZA(),e._UZ(70,"textarea",30),e.qZA(),e.TgZ(71,"div",19)(72,"label",31),e._uU(73,"Motivation"),e.qZA(),e._UZ(74,"textarea",32),e.qZA(),e.TgZ(75,"div",19)(76,"label",33),e._uU(77,"Mission"),e.qZA(),e._UZ(78,"textarea",34),e.qZA(),e.TgZ(79,"div",19)(80,"label",35),e._uU(81,"Vision"),e.qZA(),e._UZ(82,"textarea",36),e.qZA()(),e.TgZ(83,"div",37)(84,"h2"),e._uU(85,"Certifications and Target Audience"),e.qZA(),e.TgZ(86,"div",19)(87,"label",38),e._uU(88,"Certifications"),e.qZA(),e._UZ(89,"textarea",39),e.qZA(),e.TgZ(90,"div",19)(91,"label",40),e._uU(92,"Target Audience"),e.qZA(),e._UZ(93,"textarea",41),e.qZA()(),e.TgZ(94,"div",42)(95,"h2"),e._uU(96,"Services and Offerings"),e.qZA(),e.TgZ(97,"div",19)(98,"label",43),e._uU(99,"Services"),e.qZA(),e._UZ(100,"textarea",44),e.qZA(),e.TgZ(101,"div",19)(102,"label",45),e._uU(103,"Special Programs"),e.qZA(),e._UZ(104,"textarea",46),e.qZA(),e.TgZ(105,"div",19)(106,"label",47),e._uU(107,"Tours"),e.qZA(),e._UZ(108,"textarea",48),e.qZA(),e.TgZ(109,"div",19)(110,"label",49),e._uU(111,"Free Consulting"),e.qZA(),e._UZ(112,"textarea",50),e.qZA()(),e.TgZ(113,"div",51)(114,"h2"),e._uU(115,"Website Goals"),e.qZA(),e.TgZ(116,"div",19)(117,"label",52),e._uU(118,"Website Goals"),e.qZA(),e._UZ(119,"textarea",53),e.qZA(),e.TgZ(120,"h2"),e._uU(121,"Content and Photos"),e.qZA(),e.TgZ(122,"div",19)(123,"label",54),e._uU(124,"Logo Image"),e.qZA(),e.TgZ(125,"input",55),e.NdJ("change",function(s){return i.onFileChange(s,"logoImage")}),e.qZA(),e.YNc(126,D,4,3,"ng-container",56),e.ALo(127,"async"),e.qZA(),e.TgZ(128,"div",19)(129,"label",57),e._uU(130,"Owner Images and Bios"),e.qZA(),e._UZ(131,"textarea",58),e.qZA(),e.TgZ(132,"div",19)(133,"label",59),e._uU(134,"Staff Images and Bios"),e.qZA(),e._UZ(135,"textarea",60),e.qZA(),e.TgZ(136,"h2"),e._uU(137,"Facility and Lifestyle Images"),e.qZA(),e.TgZ(138,"div",19)(139,"label",61),e._uU(140,"Facility Images"),e.qZA(),e.TgZ(141,"input",62),e.NdJ("change",function(s){return i.onFileChange(s,"facilityImages")}),e.qZA(),e.YNc(142,H,4,3,"ng-container",56),e.ALo(143,"async"),e.qZA(),e.TgZ(144,"div",19)(145,"label",63),e._uU(146,"Lifestyle Images"),e.qZA(),e.TgZ(147,"input",64),e.NdJ("change",function(s){return i.onFileChange(s,"lifestyleImages")}),e.qZA(),e.YNc(148,Y,4,3,"ng-container",56),e.ALo(149,"async"),e.qZA()(),e.TgZ(150,"div",65)(151,"h2"),e._uU(152,"Media and Reviews"),e.qZA(),e.TgZ(153,"div",19)(154,"label",66),e._uU(155,"Media Features"),e.qZA(),e._UZ(156,"textarea",67),e.qZA(),e.TgZ(157,"div",19)(158,"label",68),e._uU(159,"Ratings"),e.qZA(),e._UZ(160,"textarea",69),e.qZA(),e.TgZ(161,"div",19)(162,"label",70),e._uU(163,"Testimonials"),e.qZA(),e._UZ(164,"textarea",71),e.qZA()(),e.TgZ(165,"div",72)(166,"h2"),e._uU(167,"Contact Information"),e.qZA(),e.TgZ(168,"div",19)(169,"label",73),e._uU(170,"Address"),e.qZA(),e._UZ(171,"textarea",74),e.qZA(),e.TgZ(172,"div",19)(173,"label",75),e._uU(174,"Phone"),e.qZA(),e._UZ(175,"input",76),e.qZA(),e.TgZ(176,"div",19)(177,"label",77),e._uU(178,"Fax"),e.qZA(),e._UZ(179,"input",78),e.qZA(),e.TgZ(180,"div",19)(181,"label",79),e._uU(182,"Email"),e.qZA(),e._UZ(183,"input",80),e.qZA(),e.TgZ(184,"div",19)(185,"label",81),e._uU(186,"Business Hours"),e.qZA(),e._UZ(187,"textarea",82),e.qZA(),e.TgZ(188,"div",19)(189,"label",83),e._uU(190,"Social Media"),e.qZA(),e._UZ(191,"textarea",84),e.qZA()(),e.TgZ(192,"div",85)(193,"h2"),e._uU(194,"Home Page"),e.qZA(),e.TgZ(195,"div",19)(196,"label",86),e._uU(197,"Welcome Message"),e.qZA(),e._UZ(198,"textarea",87),e.qZA(),e.TgZ(199,"div",19)(200,"label",88),e._uU(201,"Key Services and Highlights"),e.qZA(),e._UZ(202,"textarea",89),e.qZA()(),e.TgZ(203,"div",90)(204,"h2"),e._uU(205,"About Us Page"),e.qZA(),e.TgZ(206,"div",19)(207,"label",91),e._uU(208,"Team and Values"),e.qZA(),e._UZ(209,"textarea",92),e.qZA()(),e.TgZ(210,"div",93)(211,"h2"),e._uU(212,"Services Page"),e.qZA(),e.TgZ(213,"div",19)(214,"label",94),e._uU(215,"Service Benefits"),e.qZA(),e._UZ(216,"textarea",95),e.qZA(),e.TgZ(217,"div",19)(218,"label",96),e._uU(219,"Pricing Structure"),e.qZA(),e._UZ(220,"textarea",97),e.qZA()(),e.TgZ(221,"div",98)(222,"h2"),e._uU(223,"Contact Us Page"),e.qZA(),e.TgZ(224,"div",19)(225,"label",99),e._uU(226,"Contact Form Details"),e.qZA(),e._UZ(227,"textarea",100),e.qZA(),e.TgZ(228,"div",19)(229,"label",101),e._uU(230,"Map and Directions"),e.qZA(),e._UZ(231,"textarea",102),e.qZA()(),e.TgZ(232,"div",103)(233,"h2"),e._uU(234,"Additional Content"),e.qZA(),e.TgZ(235,"div",19)(236,"label",104),e._uU(237,"Photo Gallery:"),e.qZA(),e._UZ(238,"textarea",105),e.qZA(),e.TgZ(239,"h2"),e._uU(240,"Gallery Photos"),e.qZA(),e.TgZ(241,"div",19)(242,"label",104),e._uU(243,"Photo Gallery:"),e.qZA(),e.TgZ(244,"a",106),e._uU(245," Upload Photos to Gallery "),e.qZA()()(),e.TgZ(246,"div",107)(247,"h2"),e._uU(248,"Employee Profiles"),e.qZA(),e.TgZ(249,"div",108),e.YNc(250,V,22,13,"div",109),e.qZA(),e.TgZ(251,"button",110),e.NdJ("click",function(){return i.addEmployee()}),e._uU(252,"Add Employee"),e.qZA()()(),e.TgZ(253,"button",111),e._uU(254,"Submit"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",i.businessForm),e.xp6(123),e.Q6J("ngIf",e.lcZ(127,7,i.uploadProgress.logoImage)),e.xp6(16),e.Q6J("ngIf",e.lcZ(143,9,i.uploadProgress.facilityImages)),e.xp6(6),e.Q6J("ngIf",e.lcZ(149,11,i.uploadProgress.lifestyleImages)),e.xp6(96),e.Q6J("routerLink",e.DdM(13,$))("queryParams",e.VKq(14,j,i.businessId)),e.xp6(6),e.Q6J("ngForOf",i.employees().controls))},dependencies:[u.sg,u.O5,g.rH,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,a.x0,a.CE,u.Ov],styles:['.container[_ngcontent-%COMP%]{width:100%;margin:auto;padding:20px;background:#f9f9f9;border-radius:8px;box-shadow:0 0 10px #0000001a}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.employee-card[_ngcontent-%COMP%]{padding:15px;margin-bottom:15px;background:#fff;border:1px solid #ddd;border-radius:4px;box-shadow:0 0 5px #0000001a}.employee-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:10px}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;border:none;padding:8px 12px;border-radius:4px;cursor:pointer}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]:hover{background-color:#c0392b}.add-employee-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:#3498db;color:#fff;border:none;padding:10px;border-radius:4px;cursor:pointer;margin-bottom:20px}.add-employee-button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:#2ecc71;color:#fff;border:none;padding:10px;border-radius:4px;cursor:pointer}.submit-button[_ngcontent-%COMP%]:hover{background-color:#27ae60}.progress[_ngcontent-%COMP%]{margin-top:5px;height:10px;background-color:#f3f3f3;border-radius:4px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#3498db;text-align:center;line-height:10px;color:#fff}.employee-photo[_ngcontent-%COMP%]{margin-top:10px;max-width:100px;border-radius:4px}.container[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:2px solid #007bff;padding-bottom:10px;margin-top:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}.required[_ngcontent-%COMP%]:after{content:"*";color:red;margin-left:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}textarea.form-control[_ngcontent-%COMP%]{height:100px;resize:vertical}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.progress[_ngcontent-%COMP%]{background-color:#f3f3f3;border-radius:5px;overflow:hidden;height:20px}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745;height:100%;color:#fff;text-align:center;line-height:20px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #ddd}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:-2px}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#495057;border:1px solid transparent;border-radius:.25rem .25rem 0 0;padding:10px 15px;transition:background-color .3s ease,color .3s ease,border-color .3s ease}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#343a40;color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#e9ecef;border-color:#dee2e6 #dee2e6 #fff;color:#343a40}.tab-content[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-top:none;padding:15px;background-color:#fff}.tab-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#495057}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #ced4da;padding:10px}label.required[_ngcontent-%COMP%]:after{content:" *";color:#d9534f}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:.25rem;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[type=button][_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:5px 10px;border-radius:.25rem;margin-top:10px}button[type=button][_ngcontent-%COMP%]:hover{background-color:#c82333}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745}']})}return n})();function K(n,l){1&n&&(e.TgZ(0,"p"),e._uU(1,"Drag and drop images here, or click to select files"),e.qZA())}function W(n,l){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const o=l.$implicit;e.xp6(1),e.Oqu(o.name)}}function X(n,l){if(1&n&&(e.TgZ(0,"div")(1,"h3"),e._uU(2,"Files to be uploaded:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,W,2,1,"li",4),e.qZA()()),2&n){const o=e.oxw();e.xp6(4),e.Q6J("ngForOf",o.filesToUpload)}}function ee(n,l){if(1&n&&(e.TgZ(0,"div")(1,"div",6)(2,"div",7),e._uU(3),e.qZA()()()),2&n){const o=l.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function oe(n,l){if(1&n&&(e.TgZ(0,"div",8),e._UZ(1,"img",9),e.qZA()),2&n){const o=e.oxw().$implicit,t=e.oxw();e.xp6(1),e.s9C("alt",o.key),e.Q6J("src",t.uploadedImages[o.key],e.LSH)}}function te(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ee,4,3,"div",2),e.ALo(2,"async"),e.YNc(3,oe,2,2,"div",5),e.qZA()),2&n){const o=l.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.uploadProgress[o.key])),e.xp6(2),e.Q6J("ngIf",t.uploadedImages[o.key])}}let A=(()=>{class n{constructor(o,t,i,r){this.storage=o,this.firestore=t,this.uploadService=i,this.route=r,this.uploadProgress={},this.uploadedImages={},this.filesToUpload=[]}ngOnInit(){this.route.queryParams.subscribe(o=>{this.businessId=o.id})}uploadFiles(o){const t=o.target.files;for(let i of t){const{uploadProgress:r,downloadUrl:s}=this.uploadService.uploadFile(i,this.businessId,"gallery");this.uploadProgress[i.name]=r,s.subscribe(d=>{this.uploadedImages[i.name]=d})}}onDragOver(o){o.preventDefault(),o.stopPropagation(),o.dataTransfer.dropEffect="copy"}onDragLeave(o){o.preventDefault(),o.stopPropagation()}onDrop(o){o.preventDefault(),o.stopPropagation();const t=Array.from(o.dataTransfer.files);this.filesToUpload=t,this.uploadFiles({target:{files:t}})}static#e=this.\u0275fac=function(t){return new(t||n)(e.Y36(Z.Q1),e.Y36(h.ST),e.Y36(C),e.Y36(g.gz))};static#o=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-photo-gallery-upload"]],inputs:{businessId:"businessId"},decls:7,vars:5,consts:[[1,"upload-container"],[1,"drag-drop-area",3,"dragover","dragleave","drop"],[4,"ngIf"],["type","file","multiple","",3,"change"],[4,"ngFor","ngForOf"],["class","thumbnail",4,"ngIf"],[1,"progress-container"],[1,"progress-bar"],[1,"thumbnail"],[3,"src","alt"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("dragover",function(s){return i.onDragOver(s)})("dragleave",function(s){return i.onDragLeave(s)})("drop",function(s){return i.onDrop(s)}),e.YNc(2,K,2,0,"p",2),e.TgZ(3,"input",3),e.NdJ("change",function(s){return i.uploadFiles(s)}),e.qZA()(),e.YNc(4,X,5,1,"div",2),e.YNc(5,te,4,4,"div",4),e.ALo(6,"keyvalue"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",!i.filesToUpload.length),e.xp6(2),e.Q6J("ngIf",i.filesToUpload.length>0),e.xp6(1),e.Q6J("ngForOf",e.lcZ(6,3,i.uploadedImages)))},dependencies:[u.sg,u.O5,u.Ov,u.Nd],styles:[".upload-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto}.drag-drop-area[_ngcontent-%COMP%]{margin-top:100px;border:2px dashed #ccc;padding:100px;text-align:center;cursor:pointer;margin-bottom:20px}.drag-drop-area[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.drag-drop-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999}input[type=file][_ngcontent-%COMP%]{display:none}.progress-container[_ngcontent-%COMP%]{background-color:#f3f3f3;border:1px solid #ddd;margin-bottom:10px}.progress-bar[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;text-align:center;padding:5px 0}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;object-fit:cover;margin:10px 0}"]})}return n})();const ie=[{path:"",component:Q,canActivate:[(n,l)=>{const o=(0,e.f3M)(U.zQ),t=(0,e.f3M)(g.F0);return o.authState.pipe((0,_.U)(i=>(console.log("User:",i),console.log("Router State:",l),!!i||(t.navigate(["/login"],{queryParams:{returnUrl:l.url}}),!1))))}],children:[{path:"businessList",component:O},{path:"new",component:E},{path:"edit-business/:id",component:y},{path:"gallery-upload",component:A},{path:"edit-business/:id",component:y},{path:"gallery-upload",component:A},{path:":id",component:c(7936).O}]}];let re=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#o=this.\u0275mod=e.oAB({type:n});static#t=this.\u0275inj=e.cJS({imports:[g.Bz.forChild(ie),g.Bz]})}return n})(),ae=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#o=this.\u0275mod=e.oAB({type:n});static#t=this.\u0275inj=e.cJS({imports:[u.ez,re,a.u5]})}return n})()}}]);