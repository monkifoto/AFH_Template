"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(on,Xe,k)=>{k.d(Xe,{$:()=>ja,A:()=>ne,G:()=>Be,K:()=>Di,L:()=>bs,N:()=>Re,P:()=>ea,R:()=>xo,U:()=>Wt,V:()=>Gi,W:()=>Ui,X:()=>br,Y:()=>rs,Z:()=>Ni,_:()=>Xo,a:()=>Jl,a0:()=>So,a1:()=>ki,a2:()=>eo,a3:()=>yo,a4:()=>ss,a5:()=>$a,a6:()=>cu,a7:()=>yl,a8:()=>co,a9:()=>Ca,aA:()=>yn,aB:()=>rt,aC:()=>Te,aD:()=>kh,aE:()=>ge,aF:()=>Yt,aG:()=>np,aH:()=>Sl,aI:()=>Oh,aJ:()=>Qn,aN:()=>Pr,aQ:()=>Ys,aa:()=>Dh,ab:()=>uu,ac:()=>El,ad:()=>Xl,ae:()=>wa,af:()=>qa,ag:()=>se,ah:()=>X,ak:()=>Bn,al:()=>Kr,am:()=>qr,ap:()=>Ro,aq:()=>Ji,as:()=>ha,at:()=>fa,au:()=>Jt,av:()=>lr,aw:()=>rn,ax:()=>Ae,ay:()=>xa,az:()=>No,b:()=>mu,c:()=>Lc,d:()=>fo,e:()=>Ed,f:()=>tl,g:()=>Ml,h:()=>Pl,i:()=>N,j:()=>Ol,k:()=>Uh,l:()=>Pa,m:()=>jc,p:()=>Ie,r:()=>kc,s:()=>Go,u:()=>Tu});var i=k(467),oe=k(7852),r=k(1076),be=k(8041),ae=k(1635),Ee=k(1362);const Ie={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Be=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ve=function we(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new r.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),it=new be.Vy("@firebase/auth");function He(C,...g){it.logLevel<=be.$b.ERROR&&it.error(`Auth (${oe.SDK_VERSION}): ${C}`,...g)}function Ae(C,...g){throw pt(C,...g)}function rt(C,...g){return pt(C,...g)}function tt(C,g,v){const R=Object.assign(Object.assign({},ve()),{[g]:v});return new r.FA("auth","Firebase",R).create(g,{appName:C.name})}function ft(C){return tt(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nt(C,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Ae(C,"argument-error"),tt(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pt(C,...g){if("string"!=typeof C){const v=g[0],R=[...g.slice(1)];return R[0]&&(R[0].appName=C.name),C._errorFactory.create(v,...R)}return Ye.create(C,...g)}function Te(C,g,...v){if(!C)throw pt(g,...v)}function Ze(C){const g="INTERNAL ASSERTION FAILED: "+C;throw He(g),new Error(g)}function Jt(C,g){C||Ze(g)}function Rn(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Ft(){return"http:"===qt()||"https:"===qt()}function qt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class $e{constructor(g,v){this.shortDelay=g,this.longDelay=v,Jt(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,r.jZ)()||(0,r.lV)()}get(){return function Qt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ft()||(0,r.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ct(C,g){Jt(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class ut{static initialize(g,v,R){this.fetchImpl=g,v&&(this.headersImpl=v),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ee=new $e(3e4,6e4);function ye(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function Fe(C,g,v,R){return dt.apply(this,arguments)}function dt(){return(dt=(0,i.A)(function*(C,g,v,R,Q={}){return st(C,Q,(0,i.A)(function*(){let me={},et={};R&&("GET"===g?et=R:me={body:JSON.stringify(R)});const Ot=(0,r.Am)(Object.assign({key:C.config.apiKey},et)).slice(1),Zt=yield C._getAdditionalHeaders();Zt["Content-Type"]="application/json",C.languageCode&&(Zt["X-Firebase-Locale"]=C.languageCode);const Mn=Object.assign({method:g,headers:Zt},me);return(0,r.c1)()||(Mn.referrerPolicy="no-referrer"),ut.fetch()(un(C,C.config.apiHost,v,Ot),Mn)}))})).apply(this,arguments)}function st(C,g,v){return $t.apply(this,arguments)}function $t(){return($t=(0,i.A)(function*(C,g,v){C._canInitEmulator=!1;const R=Object.assign(Object.assign({},Oe),g);try{const Q=new sn(C),me=yield Promise.race([v(),Q.promise]);Q.clearNetworkTimeout();const et=yield me.json();if("needConfirmation"in et)throw Yn(C,"account-exists-with-different-credential",et);if(me.ok&&!("errorMessage"in et))return et;{const Ot=me.ok?et.errorMessage:et.error.message,[Zt,Mn]=Ot.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Zt)throw Yn(C,"credential-already-in-use",et);if("EMAIL_EXISTS"===Zt)throw Yn(C,"email-already-in-use",et);if("USER_DISABLED"===Zt)throw Yn(C,"user-disabled",et);const Un=R[Zt]||Zt.toLowerCase().replace(/[_\s]+/g,"-");if(Mn)throw tt(C,Un,Mn);Ae(C,Un)}}catch(Q){if(Q instanceof r.g)throw Q;Ae(C,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function wn(C,g,v,R){return or.apply(this,arguments)}function or(){return(or=(0,i.A)(function*(C,g,v,R,Q={}){const me=yield Fe(C,g,v,R,Q);return"mfaPendingCredential"in me&&Ae(C,"multi-factor-auth-required",{_serverResponse:me}),me})).apply(this,arguments)}function un(C,g,v,R){const Q=`${g}${v}?${R}`;return C.config.emulator?ct(C.config,Q):`${C.config.apiScheme}://${Q}`}function Nn(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,R)=>{this.timer=setTimeout(()=>R(rt(this.auth,"network-request-failed")),ee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yn(C,g,v){const R={appName:C.name};v.email&&(R.email=v.email),v.phoneNumber&&(R.phoneNumber=v.phoneNumber);const Q=rt(C,g,R);return Q.customData._tokenResponse=v,Q}function kn(C){return void 0!==C&&void 0!==C.getResponse}function jt(C){return void 0!==C&&void 0!==C.enterprise}class Ut{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===g)return Nn(v.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}}function en(){return(en=(0,i.A)(function*(C){return(yield Fe(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ar(C,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,i.A)(function*(C,g){return Fe(C,"GET","/v2/recaptchaConfig",ye(C,g))})).apply(this,arguments)}function vn(){return(vn=(0,i.A)(function*(C,g){return Fe(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function In(){return(In=(0,i.A)(function*(C,g){return Fe(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Rr(C,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,i.A)(function*(C,g){return Fe(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ur(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Zi(){return(Zi=(0,i.A)(function*(C,g=!1){const v=(0,r.Ku)(C),R=yield v.getIdToken(g),Q=Wr(R);Te(Q&&Q.exp&&Q.auth_time&&Q.iat,v.auth,"internal-error");const me="object"==typeof Q.firebase?Q.firebase:void 0,et=me?.sign_in_provider;return{claims:Q,token:R,authTime:Ur(hn(Q.auth_time)),issuedAtTime:Ur(hn(Q.iat)),expirationTime:Ur(hn(Q.exp)),signInProvider:et||null,signInSecondFactor:me?.sign_in_second_factor||null}})).apply(this,arguments)}function hn(C){return 1e3*Number(C)}function Wr(C){const[g,v,R]=C.split(".");if(void 0===g||void 0===v||void 0===R)return He("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,r.u)(v);return Q?JSON.parse(Q):(He("Failed to decode base64 JWT payload"),null)}catch(Q){return He("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function tr(C){const g=Wr(C);return Te(g,"internal-error"),Te(typeof g.exp<"u","internal-error"),Te(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}function mr(C,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,i.A)(function*(C,g,v=!1){if(v)return g;try{return yield g}catch(R){throw R instanceof r.g&&function bi({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(R)&&C.auth.currentUser===C&&(yield C.auth.signOut()),R}})).apply(this,arguments)}class ht{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const Q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const R=this.getInterval(g);this.timerId=setTimeout((0,i.A)(function*(){yield v.iteration()}),R)}iteration(){var g=this;return(0,i.A)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class vt{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ur(this.lastLoginAt),this.creationTime=Ur(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function le(C){return xe.apply(this,arguments)}function xe(){return(xe=(0,i.A)(function*(C){var g;const v=C.auth,R=yield C.getIdToken(),Q=yield mr(C,Rr(v,{idToken:R}));Te(Q?.users.length,v,"internal-error");const me=Q.users[0];C._notifyReloadListener(me);const et=null!==(g=me.providerUserInfo)&&void 0!==g&&g.length?Gr(me.providerUserInfo):[],Ot=function jn(C,g){return[...C.filter(R=>!g.some(Q=>Q.providerId===R.providerId)),...g]}(C.providerData,et),Un=!!C.isAnonymous&&!(C.email&&me.passwordHash||Ot?.length),Yr={uid:me.localId,displayName:me.displayName||null,photoURL:me.photoUrl||null,email:me.email||null,emailVerified:me.emailVerified||!1,phoneNumber:me.phoneNumber||null,tenantId:me.tenantId||null,providerData:Ot,metadata:new vt(me.createdAt,me.lastLoginAt),isAnonymous:Un};Object.assign(C,Yr)})).apply(this,arguments)}function Gt(){return(Gt=(0,i.A)(function*(C){const g=(0,r.Ku)(C);yield le(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Gr(C){return C.map(g=>{var{providerId:v}=g,R=(0,ae.Tt)(g,["providerId"]);return{providerId:v,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}function ii(){return(ii=(0,i.A)(function*(C,g){const v=yield st(C,{},(0,i.A)(function*(){const R=(0,r.Am)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:Q,apiKey:me}=C.config,et=un(C,Q,"/v1/token",`key=${me}`),Ot=yield C._getAdditionalHeaders();return Ot["Content-Type"]="application/x-www-form-urlencoded",ut.fetch()(et,{method:"POST",headers:Ot,body:R})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function G(){return(G=(0,i.A)(function*(C,g){return Fe(C,"POST","/v2/accounts:revokeToken",ye(C,g))})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Te(g.idToken,"internal-error"),Te(typeof g.idToken<"u","internal-error"),Te(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):tr(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}updateFromIdToken(g){Te(0!==g.length,"internal-error");const v=tr(g);this.updateTokensAndExpiration(g,null,v)}getToken(g,v=!1){var R=this;return(0,i.A)(function*(){return v||!R.accessToken||R.isExpired?(Te(R.refreshToken,g,"user-token-expired"),R.refreshToken?(yield R.refresh(g,R.refreshToken),R.accessToken):null):R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var R=this;return(0,i.A)(function*(){const{accessToken:Q,refreshToken:me,expiresIn:et}=yield function Cr(C,g){return ii.apply(this,arguments)}(g,v);R.updateTokensAndExpiration(Q,me,Number(et))})()}updateTokensAndExpiration(g,v,R){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(g,v){const{refreshToken:R,accessToken:Q,expirationTime:me}=v,et=new x;return R&&(Te("string"==typeof R,"internal-error",{appName:g}),et.refreshToken=R),Q&&(Te("string"==typeof Q,"internal-error",{appName:g}),et.accessToken=Q),me&&(Te("number"==typeof me,"internal-error",{appName:g}),et.expirationTime=me),et}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return Ze("not implemented")}}function A(C,g){Te("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class J{constructor(g){var{uid:v,auth:R,stsTokenManager:Q}=g,me=(0,ae.Tt)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ht(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=R,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=me.displayName||null,this.email=me.email||null,this.emailVerified=me.emailVerified||!1,this.phoneNumber=me.phoneNumber||null,this.photoURL=me.photoURL||null,this.isAnonymous=me.isAnonymous||!1,this.tenantId=me.tenantId||null,this.providerData=me.providerData?[...me.providerData]:[],this.metadata=new vt(me.createdAt||void 0,me.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,i.A)(function*(){const R=yield mr(v,v.stsTokenManager.getToken(v.auth,g));return Te(R,v.auth,"internal-error"),v.accessToken!==R&&(v.accessToken=R,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),R})()}getIdTokenResult(g){return function zr(C){return Zi.apply(this,arguments)}(this,g)}reload(){return function Rt(C){return Gt.apply(this,arguments)}(this)}_assign(g){this!==g&&(Te(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new J(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var R=this;return(0,i.A)(function*(){let Q=!1;g.idToken&&g.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(g),Q=!0),v&&(yield le(R)),yield R.auth._persistUserIfCurrent(R),Q&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var g=this;return(0,i.A)(function*(){if((0,oe._isFirebaseServerApp)(g.auth.app))return Promise.reject(ft(g.auth));const v=yield g.getIdToken();return yield mr(g,function Bt(C,g){return vn.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var R,Q,me,et,Ot,Zt,Mn,Un;const Yr=null!==(R=v.displayName)&&void 0!==R?R:void 0,ko=null!==(Q=v.email)&&void 0!==Q?Q:void 0,Wo=null!==(me=v.phoneNumber)&&void 0!==me?me:void 0,Bc=null!==(et=v.photoURL)&&void 0!==et?et:void 0,Hh=null!==(Ot=v.tenantId)&&void 0!==Ot?Ot:void 0,Fd=null!==(Zt=v._redirectEventId)&&void 0!==Zt?Zt:void 0,Ld=null!==(Mn=v.createdAt)&&void 0!==Mn?Mn:void 0,Dm=null!==(Un=v.lastLoginAt)&&void 0!==Un?Un:void 0,{uid:ap,emailVerified:Vd,isAnonymous:Ud,providerData:$c,stsTokenManager:lp}=v;Te(ap&&lp,g,"internal-error");const _a=x.fromJSON(this.name,lp);Te("string"==typeof ap,g,"internal-error"),A(Yr,g.name),A(ko,g.name),Te("boolean"==typeof Vd,g,"internal-error"),Te("boolean"==typeof Ud,g,"internal-error"),A(Wo,g.name),A(Bc,g.name),A(Hh,g.name),A(Fd,g.name),A(Ld,g.name),A(Dm,g.name);const jd=new J({uid:ap,auth:g,email:ko,emailVerified:Vd,displayName:Yr,isAnonymous:Ud,photoURL:Bc,phoneNumber:Wo,tenantId:Hh,stsTokenManager:_a,createdAt:Ld,lastLoginAt:Dm});return $c&&Array.isArray($c)&&(jd.providerData=$c.map(Bd=>Object.assign({},Bd))),Fd&&(jd._redirectEventId=Fd),jd}static _fromIdTokenResponse(g,v,R=!1){return(0,i.A)(function*(){const Q=new x;Q.updateFromServerResponse(v);const me=new J({uid:v.localId,auth:g,stsTokenManager:Q,isAnonymous:R});return yield le(me),me})()}static _fromGetAccountInfoResponse(g,v,R){return(0,i.A)(function*(){const Q=v.users[0];Te(void 0!==Q.localId,"internal-error");const me=void 0!==Q.providerUserInfo?Gr(Q.providerUserInfo):[],et=!(Q.email&&Q.passwordHash||me?.length),Ot=new x;Ot.updateFromIdToken(R);const Zt=new J({uid:Q.localId,auth:g,stsTokenManager:Ot,isAnonymous:et}),Mn={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:me,metadata:new vt(Q.createdAt,Q.lastLoginAt),isAnonymous:!(Q.email&&Q.passwordHash||me?.length)};return Object.assign(Zt,Mn),Zt})()}}const $=new Map;function ge(C){Jt(C instanceof Function,"Expected a class definition");let g=$.get(C);return g?(Jt(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,$.set(C,g),g)}const Wt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.A)(function*(){return!0})()}_set(v,R){var Q=this;return(0,i.A)(function*(){Q.storage[v]=R})()}_get(v){var R=this;return(0,i.A)(function*(){const Q=R.storage[v];return void 0===Q?null:Q})()}_remove(v){var R=this;return(0,i.A)(function*(){delete R.storage[v]})()}_addListener(v,R){}_removeListener(v,R){}}return C.type="NONE",C})();function Yt(C,g,v){return`firebase:${C}:${g}:${v}`}class Sn{constructor(g,v,R){this.persistence=g,this.auth=v,this.userKey=R;const{config:Q,name:me}=this.auth;this.fullUserKey=Yt(this.userKey,Q.apiKey,me),this.fullPersistenceKey=Yt("persistence",Q.apiKey,me),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,i.A)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?J._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,i.A)(function*(){if(v.persistence===g)return;const R=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,R?v.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,R="authUser"){return(0,i.A)(function*(){if(!v.length)return new Sn(ge(Wt),g,R);const Q=(yield Promise.all(v.map(function(){var Mn=(0,i.A)(function*(Un){if(yield Un._isAvailable())return Un});return function(Un){return Mn.apply(this,arguments)}}()))).filter(Mn=>Mn);let me=Q[0]||ge(Wt);const et=Yt(R,g.config.apiKey,g.name);let Ot=null;for(const Mn of v)try{const Un=yield Mn._get(et);if(Un){const Yr=J._fromJSON(g,Un);Mn!==me&&(Ot=Yr),me=Mn;break}}catch{}const Zt=Q.filter(Mn=>Mn._shouldAllowMigration);return me._shouldAllowMigration&&Zt.length?(me=Zt[0],Ot&&(yield me._set(et,Ot.toJSON())),yield Promise.all(v.map(function(){var Mn=(0,i.A)(function*(Un){if(Un!==me)try{yield Un._remove(et)}catch{}});return function(Un){return Mn.apply(this,arguments)}}())),new Sn(me,g,R)):new Sn(me,g,R)})()}}function ar(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Vt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ve(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(_n(g))return"Blackberry";if(fn(g))return"Webos";if(Ue(g))return"Safari";if((g.includes("chrome/")||qe(g))&&!g.includes("edge/"))return"Chrome";if(rn(g))return"Android";{const R=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function Ve(C=(0,r.ZQ)()){return/firefox\//i.test(C)}function Ue(C=(0,r.ZQ)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function qe(C=(0,r.ZQ)()){return/crios\//i.test(C)}function Vt(C=(0,r.ZQ)()){return/iemobile/i.test(C)}function rn(C=(0,r.ZQ)()){return/android/i.test(C)}function _n(C=(0,r.ZQ)()){return/blackberry/i.test(C)}function fn(C=(0,r.ZQ)()){return/webos/i.test(C)}function lr(C=(0,r.ZQ)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function yn(C=(0,r.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function at(C=(0,r.ZQ)()){return lr(C)||rn(C)||fn(C)||_n(C)||/windows phone/i.test(C)||Vt(C)}function kt(C,g=[]){let v;switch(C){case"Browser":v=ar((0,r.ZQ)());break;case"Worker":v=`${ar((0,r.ZQ)())}-${C}`;break;default:v=C}const R=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${oe.SDK_VERSION}/${R}`}class dn{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const R=me=>new Promise((et,Ot)=>{try{et(g(me))}catch(Zt){Ot(Zt)}});R.onAbort=v,this.queue.push(R);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,i.A)(function*(){if(v.auth.currentUser===g)return;const R=[];try{for(const Q of v.queue)yield Q(g),Q.onAbort&&R.push(Q.onAbort)}catch(Q){R.reverse();for(const me of R)try{me()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function mn(){return(mn=(0,i.A)(function*(C,g={}){return Fe(C,"GET","/v2/passwordPolicy",ye(C,g))})).apply(this,arguments)}class wr{constructor(g){var v,R,Q,me;const et=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=et.minPasswordLength)&&void 0!==v?v:6,et.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=et.maxPasswordLength),void 0!==et.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=et.containsLowercaseCharacter),void 0!==et.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=et.containsUppercaseCharacter),void 0!==et.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=et.containsNumericCharacter),void 0!==et.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=et.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(R=g.allowedNonAlphanumericCharacters)||void 0===R?void 0:R.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(me=g.forceUpgradeOnSignin)&&void 0!==me&&me,this.schemaVersion=g.schemaVersion}validatePassword(g){var v,R,Q,me,et,Ot;const Zt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,Zt),this.validatePasswordCharacterOptions(g,Zt),Zt.isValid&&(Zt.isValid=null===(v=Zt.meetsMinPasswordLength)||void 0===v||v),Zt.isValid&&(Zt.isValid=null===(R=Zt.meetsMaxPasswordLength)||void 0===R||R),Zt.isValid&&(Zt.isValid=null===(Q=Zt.containsLowercaseLetter)||void 0===Q||Q),Zt.isValid&&(Zt.isValid=null===(me=Zt.containsUppercaseLetter)||void 0===me||me),Zt.isValid&&(Zt.isValid=null===(et=Zt.containsNumericCharacter)||void 0===et||et),Zt.isValid&&(Zt.isValid=null===(Ot=Zt.containsNonAlphanumericCharacter)||void 0===Ot||Ot),Zt}validatePasswordLengthOptions(g,v){const R=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;R&&(v.meetsMinPasswordLength=g.length>=R),Q&&(v.meetsMaxPasswordLength=g.length<=Q)}validatePasswordCharacterOptions(g,v){let R;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Q=0;Q<g.length;Q++)R=g.charAt(Q),this.updatePasswordCharacterOptionsStatuses(v,R>="a"&&R<="z",R>="A"&&R<="Z",R>="0"&&R<="9",this.allowedNonAlphanumericCharacters.includes(R))}updatePasswordCharacterOptionsStatuses(g,v,R,Q,me){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=R)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=me))}}class jr{constructor(g,v,R,Q){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=R,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ai(this),this.idTokenSubscription=new Ai(this),this.beforeStateQueue=new dn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(g,v){var R=this;return v&&(this._popupRedirectResolver=ge(v)),this._initializationPromise=this.queue((0,i.A)(function*(){var Q,me;if(!R._deleted&&(R.persistenceManager=yield Sn.create(R,g),!R._deleted)){if(null!==(Q=R._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(v),R.lastNotifiedUid=(null===(me=R.currentUser)||void 0===me?void 0:me.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,i.A)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(g){var v=this;return(0,i.A)(function*(){try{const R=yield Rr(v,{idToken:g}),Q=yield J._fromGetAccountInfoResponse(v,R,g);yield v.directlySetCurrentUser(Q)}catch(R){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",R),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(g){var v=this;return(0,i.A)(function*(){var R;if((0,oe._isFirebaseServerApp)(v.app)){const Ot=v.app.settings.authIdToken;return Ot?new Promise(Zt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Ot).then(Zt,Zt))}):v.directlySetCurrentUser(null)}const Q=yield v.assertedPersistence.getCurrentUser();let me=Q,et=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ot=null===(R=v.redirectUser)||void 0===R?void 0:R._redirectEventId,Zt=me?._redirectEventId,Mn=yield v.tryRedirectSignIn(g);(!Ot||Ot===Zt)&&Mn?.user&&(me=Mn.user,et=!0)}if(!me)return v.directlySetCurrentUser(null);if(!me._redirectEventId){if(et)try{yield v.beforeStateQueue.runMiddleware(me)}catch(Ot){me=Q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Ot))}return me?v.reloadAndSetCurrentUserOrClear(me):v.directlySetCurrentUser(null)}return Te(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===me._redirectEventId?v.directlySetCurrentUser(me):v.reloadAndSetCurrentUserOrClear(me)})()}tryRedirectSignIn(g){var v=this;return(0,i.A)(function*(){let R=null;try{R=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,i.A)(function*(){try{yield le(g)}catch(R){if("auth/network-request-failed"!==R?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function yt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,i.A)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,i.A)(function*(){if((0,oe._isFirebaseServerApp)(v.app))return Promise.reject(ft(v));const R=g?(0,r.Ku)(g):null;return R&&Te(R.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(R&&R._clone(v))})()}_updateCurrentUser(g,v=!1){var R=this;return(0,i.A)(function*(){if(!R._deleted)return g&&Te(R.tenantId===g.tenantId,R,"tenant-id-mismatch"),v||(yield R.beforeStateQueue.runMiddleware(g)),R.queue((0,i.A)(function*(){yield R.directlySetCurrentUser(g),R.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,i.A)(function*(){return(0,oe._isFirebaseServerApp)(g.app)?Promise.reject(ft(g)):(yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0))})()}setPersistence(g){var v=this;return(0,oe._isFirebaseServerApp)(this.app)?Promise.reject(ft(this)):this.queue((0,i.A)(function*(){yield v.assertedPersistence.setPersistence(ge(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var v=this;return(0,i.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const R=v._getPasswordPolicyInternal();return R.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):R.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,i.A)(function*(){const v=yield function Fn(C){return mn.apply(this,arguments)}(g),R=new wr(v);null===g.tenantId?g._projectPasswordPolicy=R:g._tenantPasswordPolicies[g.tenantId]=R})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new r.FA("auth","Firebase",g())}onAuthStateChanged(g,v,R){return this.registerStateListener(this.authStateSubscription,g,v,R)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,R){return this.registerStateListener(this.idTokenSubscription,g,v,R)}authStateReady(){return new Promise((g,v)=>{if(this.currentUser)g();else{const R=this.onAuthStateChanged(()=>{R(),g()},v)}})}revokeAccessToken(g){var v=this;return(0,i.A)(function*(){if(v.currentUser){const R=yield v.currentUser.getIdToken(),Q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:R};null!=v.tenantId&&(Q.tenantId=v.tenantId),yield function It(C,g){return G.apply(this,arguments)}(v,Q)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var R=this;return(0,i.A)(function*(){const Q=yield R.getOrInitRedirectPersistenceManager(v);return null===g?Q.removeCurrentUser():Q.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,i.A)(function*(){if(!v.redirectPersistenceManager){const R=g&&ge(g)||v._popupRedirectResolver;Te(R,v,"argument-error"),v.redirectPersistenceManager=yield Sn.create(v,[ge(R._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,i.A)(function*(){var R,Q;return v._isInitialized&&(yield v.queue((0,i.A)(function*(){}))),(null===(R=v._currentUser)||void 0===R?void 0:R._redirectEventId)===g?v._currentUser:(null===(Q=v.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,i.A)(function*(){if(g===v.currentUser)return v.queue((0,i.A)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,R,Q){if(this._deleted)return()=>{};const me="function"==typeof v?v:v.next.bind(v);let et=!1;const Ot=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(Ot,this,"internal-error"),Ot.then(()=>{et||me(this.currentUser)}),"function"==typeof v){const Zt=g.addObserver(v,R,Q);return()=>{et=!0,Zt()}}{const Zt=g.addObserver(v);return()=>{et=!0,Zt()}}}directlySetCurrentUser(g){var v=this;return(0,i.A)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=kt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,i.A)(function*(){var v;const R={"X-Client-Version":g.clientVersion};g.app.options.appId&&(R["X-Firebase-gmpid"]=g.app.options.appId);const Q=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Q&&(R["X-Firebase-Client"]=Q);const me=yield g._getAppCheckToken();return me&&(R["X-Firebase-AppCheck"]=me),R})()}_getAppCheckToken(){var g=this;return(0,i.A)(function*(){var v;const R=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return R?.error&&function Ht(C,...g){it.logLevel<=be.$b.WARN&&it.warn(`Auth (${oe.SDK_VERSION}): ${C}`,...g)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function Qn(C){return(0,r.Ku)(C)}class Ai{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,r.tD)(v=>this.observer=v)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ls={loadJS:()=>(0,i.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _o(C){return ls.loadJS(C)}function Zr(C){return`__${C}${Math.floor(1e6*Math.random())}`}class ei{constructor(g){this.type="recaptcha-enterprise",this.auth=Qn(g)}verify(g="verify",v=!1){var R=this;return(0,i.A)(function*(){function me(){return me=(0,i.A)(function*(Ot){if(!v){if(null==Ot.tenantId&&null!=Ot._agentRecaptchaConfig)return Ot._agentRecaptchaConfig.siteKey;if(null!=Ot.tenantId&&void 0!==Ot._tenantRecaptchaConfigs[Ot.tenantId])return Ot._tenantRecaptchaConfigs[Ot.tenantId].siteKey}return new Promise(function(){var Zt=(0,i.A)(function*(Mn,Un){Ar(Ot,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Yr=>{if(void 0!==Yr.recaptchaKey){const ko=new Ut(Yr);return null==Ot.tenantId?Ot._agentRecaptchaConfig=ko:Ot._tenantRecaptchaConfigs[Ot.tenantId]=ko,Mn(ko.siteKey)}Un(new Error("recaptcha Enterprise site key undefined"))}).catch(Yr=>{Un(Yr)})});return function(Mn,Un){return Zt.apply(this,arguments)}}())}),me.apply(this,arguments)}function et(Ot,Zt,Mn){const Un=window.grecaptcha;jt(Un)?Un.enterprise.ready(()=>{Un.enterprise.execute(Ot,{action:g}).then(Yr=>{Zt(Yr)}).catch(()=>{Zt("NO_RECAPTCHA")})}):Mn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ot,Zt)=>{(function Q(Ot){return me.apply(this,arguments)})(R.auth).then(Mn=>{if(!v&&jt(window.grecaptcha))et(Mn,Ot,Zt);else{if(typeof window>"u")return void Zt(new Error("RecaptchaVerifier is only supported in browser"));let Un=function zi(){return ls.recaptchaEnterpriseScript}();0!==Un.length&&(Un+=Mn),_o(Un).then(()=>{et(Mn,Ot,Zt)}).catch(Yr=>{Zt(Yr)})}}).catch(Mn=>{Zt(Mn)})})})()}}function Bi(C,g,v){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,i.A)(function*(C,g,v,R=!1){const Q=new ei(C);let me;try{me=yield Q.verify(v)}catch{me=yield Q.verify(v,!0)}const et=Object.assign({},g);return Object.assign(et,R?{captchaResp:me}:{captchaResponse:me}),Object.assign(et,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(et,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),et})).apply(this,arguments)}function Er(C,g,v,R){return zs.apply(this,arguments)}function zs(){return zs=(0,i.A)(function*(C,g,v,R){var Q;if(null!==(Q=C._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const me=yield Bi(C,g,v,"getOobCode"===v);return R(C,me)}return R(C,g).catch(function(){var me=(0,i.A)(function*(et){if("auth/missing-recaptcha-token"===et.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ot=yield Bi(C,g,v,"getOobCode"===v);return R(C,Ot)}return Promise.reject(et)});return function(et){return me.apply(this,arguments)}}())}),zs.apply(this,arguments)}function Di(C,g,v){const R=Qn(C);Te(R._canInitEmulator,R,"emulator-config-failed"),Te(/^https?:\/\//.test(g),R,"invalid-emulator-scheme");const Q=!!v?.disableWarnings,me=oo(g),{host:et,port:Ot}=function Ws(C){const g=oo(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!v)return{host:"",port:null};const R=v[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(R);if(Q){const me=Q[1];return{host:me,port:si(R.substr(me.length+1))}}{const[me,et]=R.split(":");return{host:me,port:si(et)}}}(g);R.config.emulator={url:`${me}//${et}${null===Ot?"":`:${Ot}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:et,port:Ot,protocol:me.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function Vs(){function C(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function oo(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function si(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class bs{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return Ze("not implemented")}_getIdTokenResponse(g){return Ze("not implemented")}_linkToIdToken(g,v){return Ze("not implemented")}_getReauthenticationResolver(g){return Ze("not implemented")}}function ao(C,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,i.A)(function*(C,g){return Fe(C,"POST","/v1/accounts:resetPassword",ye(C,g))})).apply(this,arguments)}function ci(){return(ci=(0,i.A)(function*(C,g){return Fe(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Si(C,g){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,i.A)(function*(C,g){return Fe(C,"POST","/v1/accounts:signUp",g)})).apply(this,arguments)}function cs(){return(cs=(0,i.A)(function*(C,g){return Fe(C,"POST","/v1/accounts:update",ye(C,g))})).apply(this,arguments)}function Ks(C,g){return es.apply(this,arguments)}function es(){return(es=(0,i.A)(function*(C,g){return wn(C,"POST","/v1/accounts:signInWithPassword",ye(C,g))})).apply(this,arguments)}function Ts(C,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,i.A)(function*(C,g){return Fe(C,"POST","/v1/accounts:sendOobCode",ye(C,g))})).apply(this,arguments)}function En(){return(En=(0,i.A)(function*(C,g){return Ts(C,g)})).apply(this,arguments)}function ur(C,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,i.A)(function*(C,g){return Ts(C,g)})).apply(this,arguments)}function ts(C,g){return us.apply(this,arguments)}function us(){return(us=(0,i.A)(function*(C,g){return Ts(C,g)})).apply(this,arguments)}function qs(){return(qs=(0,i.A)(function*(C,g){return Ts(C,g)})).apply(this,arguments)}function ns(){return(ns=(0,i.A)(function*(C,g){return wn(C,"POST","/v1/accounts:signInWithEmailLink",ye(C,g))})).apply(this,arguments)}function sr(){return(sr=(0,i.A)(function*(C,g){return wn(C,"POST","/v1/accounts:signInWithEmailLink",ye(C,g))})).apply(this,arguments)}class vs extends bs{constructor(g,v,R,Q=null){super("password",R),this._email=g,this._password=v,this._tenantId=Q}static _fromEmailAndPassword(g,v){return new vs(g,v,"password")}static _fromEmailAndCode(g,v,R=null){return new vs(g,v,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,i.A)(function*(){switch(v.signInMethod){case"password":return Er(g,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ks);case"emailLink":return function ti(C,g){return ns.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Ae(g,"internal-error")}})()}_linkToIdToken(g,v){var R=this;return(0,i.A)(function*(){switch(R.signInMethod){case"password":return Er(g,{idToken:v,returnSecureToken:!0,email:R._email,password:R._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Si);case"emailLink":return function ds(C,g){return sr.apply(this,arguments)}(g,{idToken:v,email:R._email,oobCode:R._password});default:Ae(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Is(C,g){return re.apply(this,arguments)}function re(){return(re=(0,i.A)(function*(C,g){return wn(C,"POST","/v1/accounts:signInWithIdp",ye(C,g))})).apply(this,arguments)}class Re extends bs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Re(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Ae("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:R,signInMethod:Q}=v,me=(0,ae.Tt)(v,["providerId","signInMethod"]);if(!R||!Q)return null;const et=new Re(R,Q);return et.idToken=me.idToken||void 0,et.accessToken=me.accessToken||void 0,et.secret=me.secret,et.nonce=me.nonce,et.pendingToken=me.pendingToken||null,et}_getIdTokenResponse(g){return Is(g,this.buildRequest())}_linkToIdToken(g,v){const R=this.buildRequest();return R.idToken=v,Is(g,R)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Is(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,r.Am)(v)}return g}}function lt(){return(lt=(0,i.A)(function*(C,g){return Fe(C,"POST","/v1/accounts:sendVerificationCode",ye(C,g))})).apply(this,arguments)}function an(){return(an=(0,i.A)(function*(C,g){return wn(C,"POST","/v1/accounts:signInWithPhoneNumber",ye(C,g))})).apply(this,arguments)}function bn(){return(bn=(0,i.A)(function*(C,g){const v=yield wn(C,"POST","/v1/accounts:signInWithPhoneNumber",ye(C,g));if(v.temporaryProof)throw Yn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const rr={USER_NOT_FOUND:"user-not-found"};function Hn(){return(Hn=(0,i.A)(function*(C,g){return wn(C,"POST","/v1/accounts:signInWithPhoneNumber",ye(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),rr)})).apply(this,arguments)}class xn extends bs{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new xn({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new xn({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function St(C,g){return an.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Pn(C,g){return bn.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Nr(C,g){return Hn.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:R,verificationCode:Q}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:R,code:Q}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:R,phoneNumber:Q,temporaryProof:me}=g;return R||v||Q||me?new xn({verificationId:v,verificationCode:R,phoneNumber:Q,temporaryProof:me}):null}}class kr{constructor(g){var v,R,Q,me,et,Ot;const Zt=(0,r.I9)((0,r.hp)(g)),Mn=null!==(v=Zt.apiKey)&&void 0!==v?v:null,Un=null!==(R=Zt.oobCode)&&void 0!==R?R:null,Yr=function Jn(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Zt.mode)&&void 0!==Q?Q:null);Te(Mn&&Un&&Yr,"argument-error"),this.apiKey=Mn,this.operation=Yr,this.code=Un,this.continueUrl=null!==(me=Zt.continueUrl)&&void 0!==me?me:null,this.languageCode=null!==(et=Zt.languageCode)&&void 0!==et?et:null,this.tenantId=null!==(Ot=Zt.tenantId)&&void 0!==Ot?Ot:null}static parseLink(g){const v=function Qr(C){const g=(0,r.I9)((0,r.hp)(C)).link,v=g?(0,r.I9)((0,r.hp)(g)).deep_link_id:null,R=(0,r.I9)((0,r.hp)(C)).deep_link_id;return(R?(0,r.I9)((0,r.hp)(R)).link:null)||R||v||g||C}(g);try{return new kr(v)}catch{return null}}}let Gi=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,R){return vs._fromEmailAndPassword(v,R)}static credentialWithLink(v,R){const Q=kr.parseLink(R);return Te(Q,"argument-error"),vs._fromEmailAndCode(v,Q.code,Q.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class mi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Mr extends mi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ni extends Mr{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return Te("providerId"in v&&"signInMethod"in v,"argument-error"),Re._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Te(g.idToken||g.accessToken,"argument-error"),Re._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ni.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ni.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:R,oauthTokenSecret:Q,pendingToken:me,nonce:et,providerId:Ot}=g;if(!R&&!Q&&!v&&!me||!Ot)return null;try{return new Ni(Ot)._credential({idToken:v,accessToken:R,nonce:et,pendingToken:me})}catch{return null}}}let Ui=(()=>{class C extends Mr{constructor(){super("facebook.com")}static credential(v){return Re._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),br=(()=>{class C extends Mr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,R){return Re._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:R})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:R,oauthAccessToken:Q}=v;if(!R&&!Q)return null;try{return C.credential(R,Q)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),rs=(()=>{class C extends Mr{constructor(){super("github.com")}static credential(v){return Re._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Ys extends bs{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return Is(g,this.buildRequest())}_linkToIdToken(g,v){const R=this.buildRequest();return R.idToken=v,Is(g,R)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Is(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:R,signInMethod:Q,pendingToken:me}=v;return R&&Q&&me&&R===Q?new Ys(R,me):null}static _create(g,v){return new Ys(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Xo extends mi{constructor(g){Te(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Xo.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Xo.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=Ys.fromJSON(g);return Te(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:R}=g;if(!v||!R)return null;try{return Ys._create(R,v)}catch{return null}}}let ja=(()=>{class C extends Mr{constructor(){super("twitter.com")}static credential(v,R){return Re._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:R})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:R,oauthTokenSecret:Q}=v;if(!R||!Q)return null;try{return C.credential(R,Q)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Qo(C,g){return gl.apply(this,arguments)}function gl(){return(gl=(0,i.A)(function*(C,g){return wn(C,"POST","/v1/accounts:signUp",ye(C,g))})).apply(this,arguments)}class Ms{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,R,Q=!1){return(0,i.A)(function*(){const me=yield J._fromIdTokenResponse(g,R,Q),et=Cs(R);return new Ms({user:me,providerId:et,_tokenResponse:R,operationType:v})})()}static _forOperation(g,v,R){return(0,i.A)(function*(){yield g._updateTokensIfNecessary(R,!0);const Q=Cs(R);return new Ms({user:g,providerId:Q,_tokenResponse:R,operationType:v})})()}}function Cs(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function So(C){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,i.A)(function*(C){var g;if((0,oe._isFirebaseServerApp)(C.app))return Promise.reject(ft(C));const v=Qn(C);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Ms({user:v.currentUser,providerId:null,operationType:"signIn"});const R=yield Qo(v,{returnSecureToken:!0}),Q=yield Ms._fromIdTokenResponse(v,"signIn",R,!0);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class la extends r.g{constructor(g,v,R,Q){var me;super(v.code,v.message),this.operationType=R,this.user=Q,Object.setPrototypeOf(this,la.prototype),this.customData={appName:g.name,tenantId:null!==(me=g.tenantId)&&void 0!==me?me:void 0,_serverResponse:v.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(g,v,R,Q){return new la(g,v,R,Q)}}function Pi(C,g,v,R){return("reauthenticate"===g?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(me=>{throw"auth/multi-factor-auth-required"===me.code?la._fromErrorAndOperation(C,me,g,R):me})}function ca(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function Ro(C,g){return K.apply(this,arguments)}function K(){return K=(0,i.A)(function*(C,g){const v=(0,r.Ku)(C);yield fe(!0,v,g);const{providerUserInfo:R}=yield function zn(C,g){return In.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),Q=ca(R||[]);return v.providerData=v.providerData.filter(me=>Q.has(me.providerId)),Q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),K.apply(this,arguments)}function te(C,g){return V.apply(this,arguments)}function V(){return(V=(0,i.A)(function*(C,g,v=!1){const R=yield mr(C,g._linkToIdToken(C.auth,yield C.getIdToken()),v);return Ms._forOperation(C,"link",R)})).apply(this,arguments)}function fe(C,g,v){return ze.apply(this,arguments)}function ze(){return(ze=(0,i.A)(function*(C,g,v){yield le(g);const Q=!1===C?"provider-already-linked":"no-such-provider";Te(ca(g.providerData).has(v)===C,g.auth,Q)})).apply(this,arguments)}function mt(C,g){return cr.apply(this,arguments)}function cr(){return(cr=(0,i.A)(function*(C,g,v=!1){const{auth:R}=C;if((0,oe._isFirebaseServerApp)(R.app))return Promise.reject(ft(R));const Q="reauthenticate";try{const me=yield mr(C,Pi(R,Q,g,C),v);Te(me.idToken,R,"internal-error");const et=Wr(me.idToken);Te(et,R,"internal-error");const{sub:Ot}=et;return Te(C.uid===Ot,R,"user-mismatch"),Ms._forOperation(C,Q,me)}catch(me){throw"auth/user-not-found"===me?.code&&Ae(R,"user-mismatch"),me}})).apply(this,arguments)}function hs(C,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,i.A)(function*(C,g,v=!1){if((0,oe._isFirebaseServerApp)(C.app))return Promise.reject(ft(C));const R="signIn",Q=yield Pi(C,R,g),me=yield Ms._fromIdTokenResponse(C,R,Q);return v||(yield C._updateCurrentUser(me.user)),me})).apply(this,arguments)}function ki(C,g){return Us.apply(this,arguments)}function Us(){return(Us=(0,i.A)(function*(C,g){return hs(Qn(C),g)})).apply(this,arguments)}function eo(C,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,i.A)(function*(C,g){const v=(0,r.Ku)(C);return yield fe(!1,v,g.providerId),te(v,g)})).apply(this,arguments)}function yo(C,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,i.A)(function*(C,g){return mt((0,r.Ku)(C),g)})).apply(this,arguments)}function ua(){return(ua=(0,i.A)(function*(C,g){return wn(C,"POST","/v1/accounts:signInWithCustomToken",ye(C,g))})).apply(this,arguments)}function ss(C,g){return _l.apply(this,arguments)}function _l(){return _l=(0,i.A)(function*(C,g){if((0,oe._isFirebaseServerApp)(C.app))return Promise.reject(ft(C));const v=Qn(C),R=yield function is(C,g){return ua.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),Q=yield Ms._fromIdTokenResponse(v,"signIn",R);return yield v._updateCurrentUser(Q.user),Q}),_l.apply(this,arguments)}class fs{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?Ba._fromServerResponse(g,v):"totpInfo"in v?lo._fromServerResponse(g,v):Ae(g,"internal-error")}}class Ba extends fs{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new Ba(v)}}class lo extends fs{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new lo(v)}}function da(C,g,v){var R;Te((null===(R=v.url)||void 0===R?void 0:R.length)>0,C,"invalid-continue-uri"),Te(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Te(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(Te(v.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function os(C){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,i.A)(function*(C){const g=Qn(C);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function $a(C,g,v){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,i.A)(function*(C,g,v){const R=Qn(C),Q={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};v&&da(R,Q,v),yield Er(R,Q,"getOobCode",ur)})).apply(this,arguments)}function cu(C,g,v){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,i.A)(function*(C,g,v){yield ao((0,r.Ku)(C),{oobCode:g,newPassword:v}).catch(function(){var R=(0,i.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&os(C),Q});return function(Q){return R.apply(this,arguments)}}())}),Tr.apply(this,arguments)}function yl(C,g){return vo.apply(this,arguments)}function vo(){return vo=(0,i.A)(function*(C,g){yield function ui(C,g){return cs.apply(this,arguments)}((0,r.Ku)(C),{oobCode:g})}),vo.apply(this,arguments)}function co(C,g){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,i.A)(function*(C,g){const v=(0,r.Ku)(C),R=yield ao(v,{oobCode:g}),Q=R.requestType;switch(Te(Q,v,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(R.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(R.mfaInfo,v,"internal-error");default:Te(R.email,v,"internal-error")}let me=null;return R.mfaInfo&&(me=fs._fromServerResponse(Qn(v),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:me},operation:Q}})).apply(this,arguments)}function Ca(C,g){return vl.apply(this,arguments)}function vl(){return(vl=(0,i.A)(function*(C,g){const{data:v}=yield co((0,r.Ku)(C),g);return v.email})).apply(this,arguments)}function Dh(C,g,v){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,i.A)(function*(C,g,v){if((0,oe._isFirebaseServerApp)(C.app))return Promise.reject(ft(C));const R=Qn(C),et=yield Er(R,{returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qo).catch(Zt=>{throw"auth/password-does-not-meet-requirements"===Zt.code&&os(C),Zt}),Ot=yield Ms._fromIdTokenResponse(R,"signIn",et);return yield R._updateCurrentUser(Ot.user),Ot})).apply(this,arguments)}function uu(C,g,v){return(0,oe._isFirebaseServerApp)(C.app)?Promise.reject(ft(C)):ki((0,r.Ku)(C),Gi.credential(g,v)).catch(function(){var R=(0,i.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&os(C),Q});return function(Q){return R.apply(this,arguments)}}())}function El(C,g,v){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,i.A)(function*(C,g,v){const R=Qn(C),Q={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};(function me(et,Ot){Te(Ot.handleCodeInApp,R,"argument-error"),Ot&&da(R,et,Ot)})(Q,v),yield Er(R,Q,"getOobCode",ts)})).apply(this,arguments)}function Xl(C,g){const v=kr.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}function wa(C,g,v){return za.apply(this,arguments)}function za(){return(za=(0,i.A)(function*(C,g,v){if((0,oe._isFirebaseServerApp)(C.app))return Promise.reject(ft(C));const R=(0,r.Ku)(C),Q=Gi.credentialWithLink(g,v||Rn());return Te(Q._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),ki(R,Q)})).apply(this,arguments)}function Ka(){return(Ka=(0,i.A)(function*(C,g){return Fe(C,"POST","/v1/accounts:createAuthUri",ye(C,g))})).apply(this,arguments)}function qa(C,g){return M.apply(this,arguments)}function M(){return M=(0,i.A)(function*(C,g){const R={identifier:g,continueUri:Ft()?Rn():"http://localhost"},{signinMethods:Q}=yield function Wa(C,g){return Ka.apply(this,arguments)}((0,r.Ku)(C),R);return Q||[]}),M.apply(this,arguments)}function se(C,g){return B.apply(this,arguments)}function B(){return B=(0,i.A)(function*(C,g){const v=(0,r.Ku)(C),Q={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&da(v.auth,Q,g);const{email:me}=yield function oi(C,g){return En.apply(this,arguments)}(v.auth,Q);me!==C.email&&(yield C.reload())}),B.apply(this,arguments)}function X(C,g,v){return Le.apply(this,arguments)}function Le(){return Le=(0,i.A)(function*(C,g,v){const R=(0,r.Ku)(C),me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};v&&da(R.auth,me,v);const{email:et}=yield function $i(C,g){return qs.apply(this,arguments)}(R.auth,me);et!==C.email&&(yield C.reload())}),Le.apply(this,arguments)}function zt(){return(zt=(0,i.A)(function*(C,g){return Fe(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Bn(C,g){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,i.A)(function*(C,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const R=(0,r.Ku)(C),me={idToken:yield R.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},et=yield mr(R,function xt(C,g){return zt.apply(this,arguments)}(R.auth,me));R.displayName=et.displayName||null,R.photoURL=et.photoUrl||null;const Ot=R.providerData.find(({providerId:Zt})=>"password"===Zt);Ot&&(Ot.displayName=R.displayName,Ot.photoURL=R.photoURL),yield R._updateTokensIfNecessary(et)}),Fr.apply(this,arguments)}function Kr(C,g){const v=(0,r.Ku)(C);return(0,oe._isFirebaseServerApp)(v.auth.app)?Promise.reject(ft(v.auth)):Ir(v,g,null)}function qr(C,g){return Ir((0,r.Ku)(C),null,g)}function Ir(C,g,v){return ni.apply(this,arguments)}function ni(){return ni=(0,i.A)(function*(C,g,v){const{auth:R}=C,me={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(me.email=g),v&&(me.password=v);const et=yield mr(C,function Or(C,g){return ci.apply(this,arguments)}(R,me));yield C._updateTokensIfNecessary(et,!0)}),ni.apply(this,arguments)}class Fi{constructor(g,v,R={}){this.isNewUser=g,this.providerId=v,this.profile=R}}class uo extends Fi{constructor(g,v,R,Q){super(g,v,R),this.username=Q}}class Os extends Fi{constructor(g,v){super(g,"facebook.com",v)}}class Jo extends uo{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class js extends Fi{constructor(g,v){super(g,"google.com",v)}}class Po extends uo{constructor(g,v,R){super(g,"twitter.com",v,R)}}function Ji(C){const{user:g,_tokenResponse:v}=C;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Mi(C){var g,v;if(!C)return null;const{providerId:R}=C,Q=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},me=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!R&&C?.idToken){const et=null===(v=null===(g=Wr(C.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(et)return new Fi(me,"anonymous"!==et&&"custom"!==et?et:null)}if(!R)return null;switch(R){case"facebook.com":return new Os(me,Q);case"github.com":return new Jo(me,Q);case"google.com":return new js(me,Q);case"twitter.com":return new Po(me,Q,C.screenName||null);case"custom":case"anonymous":return new Fi(me,null);default:return new Fi(me,R,Q)}}(v)}class ws{constructor(g,v,R){this.type=g,this.credential=v,this.user=R}static _fromIdtoken(g,v){return new ws("enroll",g,v)}static _fromMfaPendingCredential(g){return new ws("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,R;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ws._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(R=g.multiFactorSession)&&void 0!==R&&R.idToken)return ws._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Aa{constructor(g,v,R){this.session=g,this.hints=v,this.signInResolver=R}static _fromError(g,v){const R=Qn(g),Q=v.customData._serverResponse,me=(Q.mfaInfo||[]).map(Ot=>fs._fromServerResponse(R,Ot));Te(Q.mfaPendingCredential,R,"internal-error");const et=ws._fromMfaPendingCredential(Q.mfaPendingCredential);return new Aa(et,me,function(){var Ot=(0,i.A)(function*(Zt){const Mn=yield Zt._process(R,et);delete Q.mfaInfo,delete Q.mfaPendingCredential;const Un=Object.assign(Object.assign({},Q),{idToken:Mn.idToken,refreshToken:Mn.refreshToken});switch(v.operationType){case"signIn":const Yr=yield Ms._fromIdTokenResponse(R,v.operationType,Un);return yield R._updateCurrentUser(Yr.user),Yr;case"reauthenticate":return Te(v.user,R,"internal-error"),Ms._forOperation(v.user,v.operationType,Un);default:Ae(R,"internal-error")}});return function(Zt){return Ot.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,i.A)(function*(){return v.signInResolver(g)})()}}function ha(C,g){var v;const R=(0,r.Ku)(C),Q=g;return Te(g.customData.operationType,R,"argument-error"),Te(null===(v=Q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,R,"argument-error"),Aa._fromError(R,Q)}class Mc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(R=>fs._fromServerResponse(g.auth,R)))})}static _fromUser(g){return new Mc(g)}getSession(){var g=this;return(0,i.A)(function*(){return ws._fromIdtoken(yield g.user.getIdToken(),g.user)})()}enroll(g,v){var R=this;return(0,i.A)(function*(){const Q=g,me=yield R.getSession(),et=yield mr(R.user,Q._process(R.user.auth,me,v));return yield R.user._updateTokensIfNecessary(et),R.user.reload()})()}unenroll(g){var v=this;return(0,i.A)(function*(){const R="string"==typeof g?g:g.uid,Q=yield v.user.getIdToken();try{const me=yield mr(v.user,function pr(C,g){return Fe(C,"POST","/v2/accounts/mfaEnrollment:withdraw",ye(C,g))}(v.user.auth,{idToken:Q,mfaEnrollmentId:R}));v.enrolledFactors=v.enrolledFactors.filter(({uid:et})=>et!==R),yield v.user._updateTokensIfNecessary(me),yield v.user.reload()}catch(me){throw me}})()}}const fu=new WeakMap;function fa(C){const g=(0,r.Ku)(C);return fu.has(g)||fu.set(g,Mc._fromUser(g)),fu.get(g)}const xc="__sak";class pu{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const mu=(()=>{class C extends pu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,R)=>this.onStorageEvent(v,R),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=at(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const R of Object.keys(this.listeners)){const Q=this.storage.getItem(R),me=this.localCache[R];Q!==me&&v(R,me,Q)}}onStorageEvent(v,R=!1){if(!v.key)return void this.forAllChangedKeys((Ot,Zt,Mn)=>{this.notifyListeners(Ot,Mn)});const Q=v.key;R?this.detachListener():this.stopPolling();const me=()=>{const Ot=this.storage.getItem(Q);!R&&this.localCache[Q]===Ot||this.notifyListeners(Q,Ot)},et=this.storage.getItem(Q);!function At(){return(0,r.lT)()&&10===document.documentMode}()||et===v.newValue||v.newValue===v.oldValue?me():setTimeout(me,10)}notifyListeners(v,R){this.localCache[v]=R;const Q=this.listeners[v];if(Q)for(const me of Array.from(Q))me(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,R,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:R,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(R)}_removeListener(v,R){this.listeners[v]&&(this.listeners[v].delete(R),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,R){var Q=()=>super._set,me=this;return(0,i.A)(function*(){yield Q().call(me,v,R),me.localCache[v]=JSON.stringify(R)})()}_get(v){var R=()=>super._get,Q=this;return(0,i.A)(function*(){const me=yield R().call(Q,v);return Q.localCache[v]=JSON.stringify(me),me})()}_remove(v){var R=()=>super._remove,Q=this;return(0,i.A)(function*(){yield R().call(Q,v),delete Q.localCache[v]})()}}return C.type="LOCAL",C})(),Jl=(()=>{class C extends pu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,R){}_removeListener(v,R){}}return C.type="SESSION",C})();let tn=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const R=this.receivers.find(me=>me.isListeningto(v));if(R)return R;const Q=new C(v);return this.receivers.push(Q),Q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var R=this;return(0,i.A)(function*(){const Q=v,{eventId:me,eventType:et,data:Ot}=Q.data,Zt=R.handlersMap[et];if(!Zt?.size)return;Q.ports[0].postMessage({status:"ack",eventId:me,eventType:et});const Mn=Array.from(Zt).map(function(){var Yr=(0,i.A)(function*(ko){return ko(Q.origin,Ot)});return function(ko){return Yr.apply(this,arguments)}}()),Un=yield function gu(C){return Promise.all(C.map(function(){var g=(0,i.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(R){return{fulfilled:!1,reason:R}}});return function(v){return g.apply(this,arguments)}}()))}(Mn);Q.ports[0].postMessage({status:"done",eventId:me,eventType:et,response:Un})})()}_subscribe(v,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(R)}_unsubscribe(v,R){this.handlersMap[v]&&R&&this.handlersMap[v].delete(R),(!R||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Pr(C="",g=10){let v="";for(let R=0;R<g;R++)v+=Math.floor(10*Math.random());return C+v}class $o{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,R=50){var Q=this;return(0,i.A)(function*(){const me=typeof MessageChannel<"u"?new MessageChannel:null;if(!me)throw new Error("connection_unavailable");let et,Ot;return new Promise((Zt,Mn)=>{const Un=Pr("",20);me.port1.start();const Yr=setTimeout(()=>{Mn(new Error("unsupported_event"))},R);Ot={messageChannel:me,onMessage(ko){const Wo=ko;if(Wo.data.eventId===Un)switch(Wo.data.status){case"ack":clearTimeout(Yr),et=setTimeout(()=>{Mn(new Error("timeout"))},3e3);break;case"done":clearTimeout(et),Zt(Wo.data.response);break;default:clearTimeout(Yr),clearTimeout(et),Mn(new Error("invalid_response"))}}},Q.handlers.add(Ot),me.port1.addEventListener("message",Ot.onMessage),Q.target.postMessage({eventType:g,eventId:Un,data:v},[me.port2])}).finally(()=>{Ot&&Q.removeMessageHandler(Ot)})})()}}function ps(){return window}function Il(){return typeof ps().WorkerGlobalScope<"u"&&"function"==typeof ps().importScripts}function Ns(){return(Ns=(0,i.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const yu="firebaseLocalStorageDb",Sa="firebaseLocalStorage",Js="fbase_key";class ho{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ra(C,g){return C.transaction([Sa],g?"readwrite":"readonly").objectStore(Sa)}function bo(){const C=indexedDB.open(yu,1);return new Promise((g,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const R=C.result;try{R.createObjectStore(Sa,{keyPath:Js})}catch(Q){v(Q)}}),C.addEventListener("success",(0,i.A)(function*(){const R=C.result;R.objectStoreNames.contains(Sa)?g(R):(R.close(),yield function Xa(){const C=indexedDB.deleteDatabase(yu);return new ho(C).toPromise()}(),g(yield bo()))}))})}function vu(C,g,v){return ec.apply(this,arguments)}function ec(){return(ec=(0,i.A)(function*(C,g,v){const R=Ra(C,!0).put({[Js]:g,value:v});return new ho(R).toPromise()})).apply(this,arguments)}function Qa(){return(Qa=(0,i.A)(function*(C,g){const v=Ra(C,!1).get(g),R=yield new ho(v).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function Eu(C,g){const v=Ra(C,!0).delete(g);return new ho(v).toPromise()}const N=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,i.A)(function*(){return v.db||(v.db=yield bo()),v.db})()}_withRetries(v){var R=this;return(0,i.A)(function*(){let Q=0;for(;;)try{const me=yield R._openDb();return yield v(me)}catch(me){if(Q++>3)throw me;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,i.A)(function*(){return Il()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,i.A)(function*(){v.receiver=tn._getInstance(function _u(){return Il()?self:null}()),v.receiver._subscribe("keyChanged",function(){var R=(0,i.A)(function*(Q,me){return{keyProcessed:(yield v._poll()).includes(me.key)}});return function(Q,me){return R.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var R=(0,i.A)(function*(Q,me){return["keyChanged"]});return function(Q,me){return R.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,i.A)(function*(){var R,Q;if(v.activeServiceWorker=yield function Zl(){return Ns.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new $o(v.activeServiceWorker);const me=yield v.sender._send("ping",{},800);me&&null!==(R=me[0])&&void 0!==R&&R.fulfilled&&null!==(Q=me[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var R=this;return(0,i.A)(function*(){if(R.sender&&R.activeServiceWorker&&function Ya(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:v},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,i.A)(function*(){try{if(!indexedDB)return!1;const v=yield bo();return yield vu(v,xc,"1"),yield Eu(v,xc),!0}catch{}return!1})()}_withPendingWrite(v){var R=this;return(0,i.A)(function*(){R.pendingWrites++;try{yield v()}finally{R.pendingWrites--}})()}_set(v,R){var Q=this;return(0,i.A)(function*(){return Q._withPendingWrite((0,i.A)(function*(){return yield Q._withRetries(me=>vu(me,v,R)),Q.localCache[v]=R,Q.notifyServiceWorker(v)}))})()}_get(v){var R=this;return(0,i.A)(function*(){const Q=yield R._withRetries(me=>function ep(C,g){return Qa.apply(this,arguments)}(me,v));return R.localCache[v]=Q,Q})()}_remove(v){var R=this;return(0,i.A)(function*(){return R._withPendingWrite((0,i.A)(function*(){return yield R._withRetries(Q=>Eu(Q,v)),delete R.localCache[v],R.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,i.A)(function*(){const R=yield v._withRetries(et=>{const Ot=Ra(et,!1).getAll();return new ho(Ot).toPromise()});if(!R)return[];if(0!==v.pendingWrites)return[];const Q=[],me=new Set;if(0!==R.length)for(const{fbase_key:et,value:Ot}of R)me.add(et),JSON.stringify(v.localCache[et])!==JSON.stringify(Ot)&&(v.notifyListeners(et,Ot),Q.push(et));for(const et of Object.keys(v.localCache))v.localCache[et]&&!me.has(et)&&(v.notifyListeners(et,null),Q.push(et));return Q})()}notifyListeners(v,R){this.localCache[v]=R;const Q=this.listeners[v];if(Q)for(const me of Array.from(Q))me(R)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,i.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(R)}_removeListener(v,R){this.listeners[v]&&(this.listeners[v].delete(R),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),Pt=1e12;class Ct{constructor(g){this.auth=g,this.counter=Pt,this._widgets=new Map}render(g,v){const R=this.counter;return this._widgets.set(R,new Cn(g,this.auth.name,v||{})),this.counter++,R}reset(g){var v;const R=g||Pt;null===(v=this._widgets.get(R))||void 0===v||v.delete(),this._widgets.delete(R)}getResponse(g){var v;return(null===(v=this._widgets.get(g||Pt))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,i.A)(function*(){var R;return null===(R=v._widgets.get(g||Pt))||void 0===R||R.execute(),""})()}}class Cn{constructor(g,v,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof g?document.getElementById(g):g;Te(Q,"argument-error",{appName:v}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _r(C){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<C;R++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sr=Zr("rcb"),Br=new $e(3e4,6e4);class gi{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ps().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return Te(function Ja(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&kn(ps().grecaptcha)?Promise.resolve(ps().grecaptcha):new Promise((R,Q)=>{const me=ps().setTimeout(()=>{Q(rt(g,"network-request-failed"))},Br.get());ps()[Sr]=()=>{ps().clearTimeout(me),delete ps()[Sr];const Ot=ps().grecaptcha;if(!Ot||!kn(Ot))return void Q(rt(g,"internal-error"));const Zt=Ot.render;Ot.render=(Mn,Un)=>{const Yr=Zt(Mn,Un);return this.counter++,Yr},this.hostLanguage=v,R(Ot)},_o(`${function Hs(){return ls.recaptchaV2Script}()}?${(0,r.Am)({onload:Sr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(me),Q(rt(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=ps().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wl{load(g){return(0,i.A)(function*(){return new Ct(g)})()}clearedOneInstance(){}}const tc="recaptcha",Al={theme:"light",type:"image"};class xo{constructor(g,v,R=Object.assign({},Al)){this.parameters=R,this.type=tc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qn(g),this.isInvisible="invisible"===this.parameters.size,Te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof v?document.getElementById(v):v;Te(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wl:new gi,this.validateStartingState()}verify(){var g=this;return(0,i.A)(function*(){g.assertNotDestroyed();const v=yield g.render(),R=g.getAssertedRecaptcha();return R.getResponse(v)||new Promise(me=>{const et=Ot=>{Ot&&(g.tokenChangeListeners.delete(et),me(Ot))};g.tokenChangeListeners.add(et),g.isInvisible&&R.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(R=>R(v)),"function"==typeof g)g(v);else if("string"==typeof g){const R=ps()[g];"function"==typeof R&&R(v)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,i.A)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const R=document.createElement("div");v.appendChild(R),v=R}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,i.A)(function*(){Te(Ft()&&!Il(),g.auth,"internal-error"),yield function pd(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function Xn(C){return en.apply(this,arguments)}(g.auth);Te(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Za{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=xn._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Go(C,g,v){return md.apply(this,arguments)}function md(){return(md=(0,i.A)(function*(C,g,v){if((0,oe._isFirebaseServerApp)(C.app))return Promise.reject(ft(C));const R=Qn(C),Q=yield gd(R,g,(0,r.Ku)(v));return new Za(Q,me=>ki(R,me))})).apply(this,arguments)}function Pa(C,g,v){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,i.A)(function*(C,g,v){const R=(0,r.Ku)(C);yield fe(!1,R,"phone");const Q=yield gd(R.auth,g,(0,r.Ku)(v));return new Za(Q,me=>eo(R,me))})).apply(this,arguments)}function kc(C,g,v){return bu.apply(this,arguments)}function bu(){return(bu=(0,i.A)(function*(C,g,v){const R=(0,r.Ku)(C);if((0,oe._isFirebaseServerApp)(R.auth.app))return Promise.reject(ft(R.auth));const Q=yield gd(R.auth,g,(0,r.Ku)(v));return new Za(Q,me=>yo(R,me))})).apply(this,arguments)}function gd(C,g,v){return nc.apply(this,arguments)}function nc(){return nc=(0,i.A)(function*(C,g,v){var R;const Q=yield v.verify();try{let me;if(Te("string"==typeof Q,C,"argument-error"),Te(v.type===tc,C,"argument-error"),me="string"==typeof g?{phoneNumber:g}:g,"session"in me){const et=me.session;if("phoneNumber"in me)return Te("enroll"===et.type,C,"internal-error"),(yield function hd(C,g){return Fe(C,"POST","/v2/accounts/mfaEnrollment:start",ye(C,g))}(C,{idToken:et.credential,phoneEnrollmentInfo:{phoneNumber:me.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Te("signin"===et.type,C,"internal-error");const Ot=(null===(R=me.multiFactorHint)||void 0===R?void 0:R.uid)||me.multiFactorUid;return Te(Ot,C,"missing-multi-factor-info"),(yield function w(C,g){return Fe(C,"POST","/v2/accounts/mfaSignIn:start",ye(C,g))}(C,{mfaPendingCredential:et.credential,mfaEnrollmentId:Ot,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:et}=yield function je(C,g){return lt.apply(this,arguments)}(C,{phoneNumber:me.phoneNumber,recaptchaToken:Q});return et}}finally{v._reset()}}),nc.apply(this,arguments)}function Tu(C,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,i.A)(function*(C,g){const v=(0,r.Ku)(C);if((0,oe._isFirebaseServerApp)(v.auth.app))return Promise.reject(ft(v.auth));yield te(v,g)})).apply(this,arguments)}let ea=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=Qn(v)}verifyPhoneNumber(v,R){return gd(this.auth,v,(0,r.Ku)(R))}static credential(v,R){return xn._fromVerification(v,R)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:R,temporaryProof:Q}=v;return R&&Q?xn._fromTokenResponse(R,Q):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Dl(C,g){return g?ge(g):(Te(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class _d extends bs{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Is(g,this._buildIdpRequest())}_linkToIdToken(g,v){return Is(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return Is(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function yd(C){return hs(C.auth,new _d(C),C.bypassAuthState)}function qg(C){const{auth:g,user:v}=C;return Te(v,g,"internal-error"),mt(v,new _d(C),C.bypassAuthState)}function vd(C){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,i.A)(function*(C){const{auth:g,user:v}=C;return Te(v,g,"internal-error"),te(v,new _d(C),C.bypassAuthState)})).apply(this,arguments)}class Mh{constructor(g,v,R,Q,me=!1){this.auth=g,this.resolver=R,this.user=Q,this.bypassAuthState=me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,i.A)(function*(R,Q){g.pendingPromise={resolve:R,reject:Q};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(me){g.reject(me)}});return function(R,Q){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,i.A)(function*(){const{urlResponse:R,sessionId:Q,postBody:me,tenantId:et,error:Ot,type:Zt}=g;if(Ot)return void v.reject(Ot);const Mn={auth:v.auth,requestUri:R,sessionId:Q,tenantId:et||void 0,postBody:me||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Zt)(Mn))}catch(Un){v.reject(Un)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return yd;case"linkViaPopup":case"linkViaRedirect":return vd;case"reauthViaPopup":case"reauthViaRedirect":return qg;default:Ae(this.auth,"internal-error")}}resolve(g){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Iu=new $e(2e3,1e4);function Lc(C,g,v){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,i.A)(function*(C,g,v){if((0,oe._isFirebaseServerApp)(C.app))return Promise.reject(rt(C,"operation-not-supported-in-this-environment"));const R=Qn(C);Nt(C,g,mi);const Q=Dl(R,v);return new tp(R,"signInViaPopup",g,Q).executeNotNull()})).apply(this,arguments)}function Ed(C,g,v){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,i.A)(function*(C,g,v){const R=(0,r.Ku)(C);if((0,oe._isFirebaseServerApp)(R.auth.app))return Promise.reject(rt(R.auth,"operation-not-supported-in-this-environment"));Nt(R.auth,g,mi);const Q=Dl(R.auth,v);return new tp(R.auth,"reauthViaPopup",g,Q,R).executeNotNull()})).apply(this,arguments)}function fo(C,g,v){return el.apply(this,arguments)}function el(){return(el=(0,i.A)(function*(C,g,v){const R=(0,r.Ku)(C);Nt(R.auth,g,mi);const Q=Dl(R.auth,v);return new tp(R.auth,"linkViaPopup",g,Q,R).executeNotNull()})).apply(this,arguments)}let tp=(()=>{class C extends Mh{constructor(v,R,Q,me,et){super(v,R,me,et),this.provider=Q,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,i.A)(function*(){const R=yield v.execute();return Te(R,v.auth,"internal-error"),R})()}onExecution(){var v=this;return(0,i.A)(function*(){Jt(1===v.filter.length,"Popup operations only handle one event");const R=Pr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],R),v.authWindow.associatedEvent=R,v.resolver._originValidation(v.auth).catch(Q=>{v.reject(Q)}),v.resolver._isIframeWebStorageSupported(v.auth,Q=>{Q||v.reject(rt(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var R,Q;this.pollId=null!==(Q=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Iu.get())};v()}}return C.currentPopupAction=null,C})();const xh="pendingRedirect",ma=new Map;class Uc extends Mh{constructor(g,v,R=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,R),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,i.A)(function*(){let R=ma.get(v.auth._key());if(!R){try{const me=(yield function po(C,g){return bd.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;R=()=>Promise.resolve(me)}catch(Q){R=()=>Promise.reject(Q)}ma.set(v.auth._key(),R)}return v.bypassAuthState||ma.set(v.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,R=this;return(0,i.A)(function*(){if("signInViaRedirect"===g.type)return v().call(R,g);if("unknown"!==g.type){if(g.eventId){const Q=yield R.auth._redirectUserForId(g.eventId);if(Q)return R.user=Q,v().call(R,g);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,i.A)(function*(){})()}cleanUp(){}}function bd(){return(bd=(0,i.A)(function*(C,g){const v=Td(g),R=ic(C);if(!(yield R._isAvailable()))return!1;const Q="true"===(yield R._get(v));return yield R._remove(v),Q})).apply(this,arguments)}function rc(C,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,i.A)(function*(C,g){return ic(C)._set(Td(g),"true")})).apply(this,arguments)}function Oh(){ma.clear()}function Sl(C,g){ma.set(C._key(),g)}function ic(C){return ge(C._redirectPersistence)}function Td(C){return Yt(xh,C.config.apiKey,C.name)}function tl(C,g,v){return function Rl(C,g,v){return sc.apply(this,arguments)}(C,g,v)}function sc(){return(sc=(0,i.A)(function*(C,g,v){if((0,oe._isFirebaseServerApp)(C.app))return Promise.reject(ft(C));const R=Qn(C);Nt(C,g,mi),yield R._initializationPromise;const Q=Dl(R,v);return yield rc(Q,R),Q._openRedirect(R,g,"signInViaRedirect")})).apply(this,arguments)}function Pl(C,g,v){return function Tm(C,g,v){return ga.apply(this,arguments)}(C,g,v)}function ga(){return(ga=(0,i.A)(function*(C,g,v){const R=(0,r.Ku)(C);if(Nt(R.auth,g,mi),(0,oe._isFirebaseServerApp)(R.auth.app))return Promise.reject(ft(R.auth));yield R.auth._initializationPromise;const Q=Dl(R.auth,v);yield rc(Q,R.auth);const me=yield Nh(R);return Q._openRedirect(R.auth,g,"reauthViaRedirect",me)})).apply(this,arguments)}function Ml(C,g,v){return function xl(C,g,v){return Cu.apply(this,arguments)}(C,g,v)}function Cu(){return(Cu=(0,i.A)(function*(C,g,v){const R=(0,r.Ku)(C);Nt(R.auth,g,mi),yield R.auth._initializationPromise;const Q=Dl(R.auth,v);yield fe(!1,R,g.providerId),yield rc(Q,R.auth);const me=yield Nh(R);return Q._openRedirect(R.auth,g,"linkViaRedirect",me)})).apply(this,arguments)}function Ol(C,g){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,i.A)(function*(C,g){return yield Qn(C)._initializationPromise,np(C,g,!1)})).apply(this,arguments)}function np(C,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,i.A)(function*(C,g,v=!1){if((0,oe._isFirebaseServerApp)(C.app))return Promise.reject(ft(C));const R=Qn(C),Q=Dl(R,g),et=yield new Uc(R,Q,v).execute();return et&&!v&&(delete et.user._redirectEventId,yield R._persistUserIfCurrent(et.user),yield R._setRedirectUser(null,g)),et})).apply(this,arguments)}function Nh(C){return oc.apply(this,arguments)}function oc(){return(oc=(0,i.A)(function*(C){const g=Pr(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class kh{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(g,R)&&(v=!0,this.sendToConsumer(g,R),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ac(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Au(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var R;if(g.error&&!Au(g)){const Q=(null===(R=g.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";v.onError(rt(this.auth,Q))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const R=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&R}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wu(g))}saveEventToCache(g){this.cachedEventUids.add(wu(g)),this.lastProcessedEventTime=Date.now()}}function wu(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function Au({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===g?.code}function No(C){return ta.apply(this,arguments)}function ta(){return(ta=(0,i.A)(function*(C,g={}){return Fe(C,"GET","/v1/projects",g)})).apply(this,arguments)}const Fh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cd=/^https?/;function wd(){return(wd=(0,i.A)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield No(C);for(const v of g)try{if(Im(v))return}catch{}Ae(C,"unauthorized-domain")})).apply(this,arguments)}function Im(C){const g=Rn(),{protocol:v,hostname:R}=new URL(g);if(C.startsWith("chrome-extension://")){const et=new URL(C);return""===et.hostname&&""===R?"chrome-extension:"===v&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&et.hostname===R}if(!Cd.test(v))return!1;if(Fh.test(C))return R===C;const Q=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(R)}const Yg=new $e(3e4,6e4);function Cm(){const C=ps().___jsl;if(C?.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Fs=null;const cc=new $e(5e3,15e3),Du="__/auth/iframe",ip="emulator/auth/iframe",Lh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ad(C){const g=C.config;Te(g.authDomain,C,"auth-domain-config-required");const v=g.emulator?ct(g,ip):`https://${C.config.authDomain}/${Du}`,R={apiKey:g.apiKey,appName:C.name,v:oe.SDK_VERSION},Q=Bs.get(C.config.apiHost);Q&&(R.eid=Q);const me=C._getFrameworks();return me.length&&(R.fw=me.join(",")),`${v}?${(0,r.Am)(R).slice(1)}`}function Vh(){return Vh=(0,i.A)(function*(C){const g=yield function Xg(C){return Fs=Fs||function rp(C){return new Promise((g,v)=>{var R,Q,me;function et(){Cm(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Cm(),v(rt(C,"network-request-failed"))},timeout:Yg.get()})}if(null!==(Q=null===(R=ps().gapi)||void 0===R?void 0:R.iframes)&&void 0!==Q&&Q.Iframe)g(gapi.iframes.getContext());else{if(null===(me=ps().gapi)||void 0===me||!me.load){const Ot=Zr("iframefcb");return ps()[Ot]=()=>{gapi.load?et():v(rt(C,"network-request-failed"))},_o(`${function Ao(){return ls.gapiScript}()}?onload=${Ot}`).catch(Zt=>v(Zt))}et()}}).catch(g=>{throw Fs=null,g})}(C),Fs}(C),v=ps().gapi;return Te(v,C,"internal-error"),g.open({where:document.body,url:Ad(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lh,dontclear:!0},R=>new Promise(function(){var Q=(0,i.A)(function*(me,et){yield R.restyle({setHideOnLeave:!1});const Ot=rt(C,"network-request-failed"),Zt=ps().setTimeout(()=>{et(Ot)},cc.get());function Mn(){ps().clearTimeout(Zt),me(R)}R.ping(Mn).then(Mn,()=>{et(Ot)})});return function(me,et){return Q.apply(this,arguments)}}()))}),Vh.apply(this,arguments)}const Ho={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sd{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Pd="__/auth/handler",zo="emulator/auth/handler",Su=encodeURIComponent("fac");function xa(C,g,v,R,Q,me){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,i.A)(function*(C,g,v,R,Q,me){Te(C.config.authDomain,C,"auth-domain-config-required"),Te(C.config.apiKey,C,"invalid-api-key");const et={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:R,v:oe.SDK_VERSION,eventId:Q};if(g instanceof mi){g.setDefaultLanguage(C.languageCode),et.providerId=g.providerId||"",(0,r.Im)(g.getCustomParameters())||(et.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Un,Yr]of Object.entries(me||{}))et[Un]=Yr}if(g instanceof Mr){const Un=g.getScopes().filter(Yr=>""!==Yr);Un.length>0&&(et.scopes=Un.join(","))}C.tenantId&&(et.tid=C.tenantId);const Ot=et;for(const Un of Object.keys(Ot))void 0===Ot[Un]&&delete Ot[Un];const Zt=yield C._getAppCheckToken(),Mn=Zt?`#${Su}=${encodeURIComponent(Zt)}`:"";return`${function Md({config:C}){return C.emulator?ct(C,zo):`https://${C.authDomain}/${Pd}`}(C)}?${(0,r.Am)(Ot).slice(1)}${Mn}`})).apply(this,arguments)}const xd="webStorageSupport",Uh=class Am{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jl,this._completeRedirectFn=np,this._overrideRedirectResult=Sl}_openPopup(g,v,R,Q){var me=this;return(0,i.A)(function*(){var et;Jt(null===(et=me.eventManagers[g._key()])||void 0===et?void 0:et.manager,"_initialize() not called before _openPopup()");const Ot=yield xa(g,v,R,Rn(),Q);return function Rd(C,g,v,R=500,Q=600){const me=Math.max((window.screen.availHeight-Q)/2,0).toString(),et=Math.max((window.screen.availWidth-R)/2,0).toString();let Ot="";const Zt=Object.assign(Object.assign({},Ho),{width:R.toString(),height:Q.toString(),top:me,left:et}),Mn=(0,r.ZQ)().toLowerCase();v&&(Ot=qe(Mn)?"_blank":v),Ve(Mn)&&(g=g||"http://localhost",Zt.scrollbars="yes");const Un=Object.entries(Zt).reduce((ko,[Wo,Bc])=>`${ko}${Wo}=${Bc},`,"");if(function yi(C=(0,r.ZQ)()){var g;return lr(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Mn)&&"_self"!==Ot)return function wm(C,g){const v=document.createElement("a");v.href=C,v.target=g;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(R)}(g||"",Ot),new Sd(null);const Yr=window.open(g||"",Ot,Un);Te(Yr,C,"popup-blocked");try{Yr.focus()}catch{}return new Sd(Yr)}(g,Ot,Pr())})()}_openRedirect(g,v,R,Q){var me=this;return(0,i.A)(function*(){return yield me._originValidation(g),function ms(C){ps().location.href=C}(yield xa(g,v,R,Rn(),Q)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:Q,promise:me}=this.eventManagers[v];return Q?Promise.resolve(Q):(Jt(me,"If manager is not set, promise should be"),me)}const R=this.initAndGetManager(g);return this.eventManagers[v]={promise:R},R.catch(()=>{delete this.eventManagers[v]}),R}initAndGetManager(g){var v=this;return(0,i.A)(function*(){const R=yield function kl(C){return Vh.apply(this,arguments)}(g),Q=new kh(g);return R.register("authEvent",me=>(Te(me?.authEvent,g,"invalid-auth-event"),{status:Q.onEvent(me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:Q},v.iframes[g._key()]=R,Q})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(xd,{type:xd},Q=>{var me;const et=null===(me=Q?.[0])||void 0===me?void 0:me[xd];void 0!==et&&v(!!et),Ae(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function lc(C){return wd.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return at()||Ue()||lr()}};class sp{constructor(g){this.factorId=g}_process(g,v,R){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,R);case"signin":return this._finalizeSignIn(g,v.credential);default:return Ze("unexpected MultiFactorSessionType")}}}class jl extends sp{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new jl(g)}_finalizeEnroll(g,v,R){return function Ph(C,g){return Fe(C,"POST","/v2/accounts/mfaEnrollment:finalize",ye(C,g))}(g,{idToken:v,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function F(C,g){return Fe(C,"POST","/v2/accounts/mfaSignIn:finalize",ye(C,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jc=(()=>{class C{constructor(){}static assertion(v){return jl._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var Bh="@firebase/auth";class $h{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,i.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(R=>{g(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,r.XA)("authIdTokenMaxAge"),function Vi(C){ls=C}({loadJS:C=>new Promise((g,v)=>{const R=document.createElement("script");R.setAttribute("src",C),R.onload=g,R.onerror=Q=>{const me=rt("internal-error");me.customData=Q,v(me)},R.type="text/javascript",R.charset="UTF-8",function $l(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(R)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Pu(C){(0,oe._registerComponent)(new Ee.uA("auth",(g,{options:v})=>{const R=g.getProvider("app").getImmediate(),Q=g.getProvider("heartbeat"),me=g.getProvider("app-check-internal"),{apiKey:et,authDomain:Ot}=R.options;Te(et&&!et.includes(":"),"invalid-api-key",{appName:R.name});const Zt={apiKey:et,authDomain:Ot,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kt(C)},Mn=new jr(R,Q,me,Zt);return function Ua(C,g){const v=g?.persistence||[],R=(Array.isArray(v)?v:[v]).map(ge);g?.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(R,g?.popupRedirectResolver)}(Mn,v),Mn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,R)=>{g.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new Ee.uA("auth-internal",g=>{const v=Qn(g.getProvider("auth").getImmediate());return new $h(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(Bh,"1.7.9",function op(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,oe.registerVersion)(Bh,"1.7.9","esm2017")}("Browser")},9583:(on,Xe,k)=>{k.d(Xe,{fS:()=>vg,Ix:()=>Wu,H6:()=>eh,T1:()=>$s,Wq:()=>qc,uY:()=>nh,W6:()=>ct,Ci:()=>lg,YQ:()=>al,NJ:()=>bc,Dc:()=>jt,GA:()=>em,cm:()=>ci,K$:()=>Bt,FA:()=>qn,lo:()=>hi,bI:()=>Qt,qG:()=>Ua,qi:()=>Jt,c8:()=>pf,gS:()=>iE,C3:()=>rv,hq:()=>hE,me:()=>Bv,rJ:()=>Ny,Cs:()=>ky,vN:()=>Uv,kd:()=>rE,CL:()=>uE,LA:()=>$v,H9:()=>Hu,ol:()=>Ly,Q5:()=>th,Os:()=>Uy,FD:()=>_g,rf:()=>qv,Ws:()=>Es,z6:()=>ch,x7:()=>eE,nY:()=>Ic,_e:()=>Yy,GG:()=>tE,kU:()=>XE,Rr:()=>Io,aU:()=>ag,GV:()=>JE,AB:()=>gg,$1:()=>P_,po:()=>I_,St:()=>qE,aQ:()=>k_,FC:()=>Xy,My:()=>Kv,P:()=>zy,B:()=>Bp,yx:()=>jv,c4:()=>cE,O5:()=>dE,BN:()=>nE,He:()=>pt,lN:()=>Zv,HM:()=>Xp,EO:()=>Wy,mZ:()=>N_,iB:()=>T_,_M:()=>Wv});var Ie,ke,i=k(467),oe=k(7852),r=k(1362),be=k(8041),ae=k(1076),Ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={};(function(){var d;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(gt,Ge,nt){nt||(nt=0);var _t=Array(16);if("string"==typeof Ge)for(var Tt=0;16>Tt;++Tt)_t[Tt]=Ge.charCodeAt(nt++)|Ge.charCodeAt(nt++)<<8|Ge.charCodeAt(nt++)<<16|Ge.charCodeAt(nt++)<<24;else for(Tt=0;16>Tt;++Tt)_t[Tt]=Ge[nt++]|Ge[nt++]<<8|Ge[nt++]<<16|Ge[nt++]<<24;var Mt=gt.g[3],Je=(Ge=gt.g[0])+(Mt^(nt=gt.g[1])&((Tt=gt.g[2])^Mt))+_t[0]+3614090360&4294967295;Je=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=(nt=(Tt=(Mt=(Ge=nt+(Je<<7&4294967295|Je>>>25))+((Je=Mt+(Tt^Ge&(nt^Tt))+_t[1]+3905402710&4294967295)<<12&4294967295|Je>>>20))+((Je=Tt+(nt^Mt&(Ge^nt))+_t[2]+606105819&4294967295)<<17&4294967295|Je>>>15))+((Je=nt+(Ge^Tt&(Mt^Ge))+_t[3]+3250441966&4294967295)<<22&4294967295|Je>>>10))+((Je=Ge+(Mt^nt&(Tt^Mt))+_t[4]+4118548399&4294967295)<<7&4294967295|Je>>>25))+((Je=Mt+(Tt^Ge&(nt^Tt))+_t[5]+1200080426&4294967295)<<12&4294967295|Je>>>20))+((Je=Tt+(nt^Mt&(Ge^nt))+_t[6]+2821735955&4294967295)<<17&4294967295|Je>>>15))+((Je=nt+(Ge^Tt&(Mt^Ge))+_t[7]+4249261313&4294967295)<<22&4294967295|Je>>>10))+((Je=Ge+(Mt^nt&(Tt^Mt))+_t[8]+1770035416&4294967295)<<7&4294967295|Je>>>25))+((Je=Mt+(Tt^Ge&(nt^Tt))+_t[9]+2336552879&4294967295)<<12&4294967295|Je>>>20))+((Je=Tt+(nt^Mt&(Ge^nt))+_t[10]+4294925233&4294967295)<<17&4294967295|Je>>>15))+((Je=nt+(Ge^Tt&(Mt^Ge))+_t[11]+2304563134&4294967295)<<22&4294967295|Je>>>10))+((Je=Ge+(Mt^nt&(Tt^Mt))+_t[12]+1804603682&4294967295)<<7&4294967295|Je>>>25))+((Je=Mt+(Tt^Ge&(nt^Tt))+_t[13]+4254626195&4294967295)<<12&4294967295|Je>>>20))+((Je=Tt+(nt^Mt&(Ge^nt))+_t[14]+2792965006&4294967295)<<17&4294967295|Je>>>15))+((Je=nt+(Ge^Tt&(Mt^Ge))+_t[15]+1236535329&4294967295)<<22&4294967295|Je>>>10))+((Je=Ge+(Tt^Mt&(nt^Tt))+_t[1]+4129170786&4294967295)<<5&4294967295|Je>>>27))+((Je=Mt+(nt^Tt&(Ge^nt))+_t[6]+3225465664&4294967295)<<9&4294967295|Je>>>23))+((Je=Tt+(Ge^nt&(Mt^Ge))+_t[11]+643717713&4294967295)<<14&4294967295|Je>>>18))+((Je=nt+(Mt^Ge&(Tt^Mt))+_t[0]+3921069994&4294967295)<<20&4294967295|Je>>>12))+((Je=Ge+(Tt^Mt&(nt^Tt))+_t[5]+3593408605&4294967295)<<5&4294967295|Je>>>27))+((Je=Mt+(nt^Tt&(Ge^nt))+_t[10]+38016083&4294967295)<<9&4294967295|Je>>>23))+((Je=Tt+(Ge^nt&(Mt^Ge))+_t[15]+3634488961&4294967295)<<14&4294967295|Je>>>18))+((Je=nt+(Mt^Ge&(Tt^Mt))+_t[4]+3889429448&4294967295)<<20&4294967295|Je>>>12))+((Je=Ge+(Tt^Mt&(nt^Tt))+_t[9]+568446438&4294967295)<<5&4294967295|Je>>>27))+((Je=Mt+(nt^Tt&(Ge^nt))+_t[14]+3275163606&4294967295)<<9&4294967295|Je>>>23))+((Je=Tt+(Ge^nt&(Mt^Ge))+_t[3]+4107603335&4294967295)<<14&4294967295|Je>>>18))+((Je=nt+(Mt^Ge&(Tt^Mt))+_t[8]+1163531501&4294967295)<<20&4294967295|Je>>>12))+((Je=Ge+(Tt^Mt&(nt^Tt))+_t[13]+2850285829&4294967295)<<5&4294967295|Je>>>27))+((Je=Mt+(nt^Tt&(Ge^nt))+_t[2]+4243563512&4294967295)<<9&4294967295|Je>>>23))+((Je=Tt+(Ge^nt&(Mt^Ge))+_t[7]+1735328473&4294967295)<<14&4294967295|Je>>>18))+((Je=nt+(Mt^Ge&(Tt^Mt))+_t[12]+2368359562&4294967295)<<20&4294967295|Je>>>12))+((Je=Ge+(nt^Tt^Mt)+_t[5]+4294588738&4294967295)<<4&4294967295|Je>>>28))+((Je=Mt+(Ge^nt^Tt)+_t[8]+2272392833&4294967295)<<11&4294967295|Je>>>21))+((Je=Tt+(Mt^Ge^nt)+_t[11]+1839030562&4294967295)<<16&4294967295|Je>>>16))+((Je=nt+(Tt^Mt^Ge)+_t[14]+4259657740&4294967295)<<23&4294967295|Je>>>9))+((Je=Ge+(nt^Tt^Mt)+_t[1]+2763975236&4294967295)<<4&4294967295|Je>>>28))+((Je=Mt+(Ge^nt^Tt)+_t[4]+1272893353&4294967295)<<11&4294967295|Je>>>21))+((Je=Tt+(Mt^Ge^nt)+_t[7]+4139469664&4294967295)<<16&4294967295|Je>>>16))+((Je=nt+(Tt^Mt^Ge)+_t[10]+3200236656&4294967295)<<23&4294967295|Je>>>9))+((Je=Ge+(nt^Tt^Mt)+_t[13]+681279174&4294967295)<<4&4294967295|Je>>>28))+((Je=Mt+(Ge^nt^Tt)+_t[0]+3936430074&4294967295)<<11&4294967295|Je>>>21))+((Je=Tt+(Mt^Ge^nt)+_t[3]+3572445317&4294967295)<<16&4294967295|Je>>>16))+((Je=nt+(Tt^Mt^Ge)+_t[6]+76029189&4294967295)<<23&4294967295|Je>>>9))+((Je=Ge+(nt^Tt^Mt)+_t[9]+3654602809&4294967295)<<4&4294967295|Je>>>28))+((Je=Mt+(Ge^nt^Tt)+_t[12]+3873151461&4294967295)<<11&4294967295|Je>>>21))+((Je=Tt+(Mt^Ge^nt)+_t[15]+530742520&4294967295)<<16&4294967295|Je>>>16))+((Je=nt+(Tt^Mt^Ge)+_t[2]+3299628645&4294967295)<<23&4294967295|Je>>>9))+((Je=Ge+(Tt^(nt|~Mt))+_t[0]+4096336452&4294967295)<<6&4294967295|Je>>>26))+((Je=Mt+(nt^(Ge|~Tt))+_t[7]+1126891415&4294967295)<<10&4294967295|Je>>>22))+((Je=Tt+(Ge^(Mt|~nt))+_t[14]+2878612391&4294967295)<<15&4294967295|Je>>>17))+((Je=nt+(Mt^(Tt|~Ge))+_t[5]+4237533241&4294967295)<<21&4294967295|Je>>>11))+((Je=Ge+(Tt^(nt|~Mt))+_t[12]+1700485571&4294967295)<<6&4294967295|Je>>>26))+((Je=Mt+(nt^(Ge|~Tt))+_t[3]+2399980690&4294967295)<<10&4294967295|Je>>>22))+((Je=Tt+(Ge^(Mt|~nt))+_t[10]+4293915773&4294967295)<<15&4294967295|Je>>>17))+((Je=nt+(Mt^(Tt|~Ge))+_t[1]+2240044497&4294967295)<<21&4294967295|Je>>>11))+((Je=Ge+(Tt^(nt|~Mt))+_t[8]+1873313359&4294967295)<<6&4294967295|Je>>>26))+((Je=Mt+(nt^(Ge|~Tt))+_t[15]+4264355552&4294967295)<<10&4294967295|Je>>>22))+((Je=Tt+(Ge^(Mt|~nt))+_t[6]+2734768916&4294967295)<<15&4294967295|Je>>>17))+((Je=nt+(Mt^(Tt|~Ge))+_t[13]+1309151649&4294967295)<<21&4294967295|Je>>>11))+((Mt=(Ge=nt+((Je=Ge+(Tt^(nt|~Mt))+_t[4]+4149444226&4294967295)<<6&4294967295|Je>>>26))+((Je=Mt+(nt^(Ge|~Tt))+_t[11]+3174756917&4294967295)<<10&4294967295|Je>>>22))^((Tt=Mt+((Je=Tt+(Ge^(Mt|~nt))+_t[2]+718787259&4294967295)<<15&4294967295|Je>>>17))|~Ge))+_t[9]+3951481745&4294967295,gt.g[0]=gt.g[0]+Ge&4294967295,gt.g[1]=gt.g[1]+(Tt+(Je<<21&4294967295|Je>>>11))&4294967295,gt.g[2]=gt.g[2]+Tt&4294967295,gt.g[3]=gt.g[3]+Mt&4294967295}function b(gt,Ge){this.h=Ge;for(var nt=[],_t=!0,Tt=gt.length-1;0<=Tt;Tt--){var Mt=0|gt[Tt];_t&&Mt==Ge||(nt[Tt]=Mt,_t=!1)}this.g=nt}(function e(gt,Ge){function nt(){}nt.prototype=Ge.prototype,gt.D=Ge.prototype,gt.prototype=new nt,gt.prototype.constructor=gt,gt.C=function(_t,Tt,Mt){for(var Je=Array(arguments.length-2),Qc=2;Qc<arguments.length;Qc++)Je[Qc-2]=arguments[Qc];return Ge.prototype[Tt].apply(_t,Je)}})(a,function s(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(gt,Ge){void 0===Ge&&(Ge=gt.length);for(var nt=Ge-this.blockSize,_t=this.B,Tt=this.h,Mt=0;Mt<Ge;){if(0==Tt)for(;Mt<=nt;)h(this,gt,Mt),Mt+=this.blockSize;if("string"==typeof gt){for(;Mt<Ge;)if(_t[Tt++]=gt.charCodeAt(Mt++),Tt==this.blockSize){h(this,_t),Tt=0;break}}else for(;Mt<Ge;)if(_t[Tt++]=gt[Mt++],Tt==this.blockSize){h(this,_t),Tt=0;break}}this.h=Tt,this.o+=Ge},a.prototype.v=function(){var gt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);gt[0]=128;for(var Ge=1;Ge<gt.length-8;++Ge)gt[Ge]=0;var nt=8*this.o;for(Ge=gt.length-8;Ge<gt.length;++Ge)gt[Ge]=255&nt,nt/=256;for(this.u(gt),gt=Array(16),Ge=nt=0;4>Ge;++Ge)for(var _t=0;32>_t;_t+=8)gt[nt++]=this.g[Ge]>>>_t&255;return gt};var P={};function L(gt){return-128<=gt&&128>gt?function _(gt,Ge){var nt=P;return Object.prototype.hasOwnProperty.call(nt,gt)?nt[gt]:nt[gt]=Ge(gt)}(gt,function(Ge){return new b([0|Ge],0>Ge?-1:0)}):new b([0|gt],0>gt?-1:0)}function Y(gt){if(isNaN(gt)||!isFinite(gt))return De;if(0>gt)return ln(Y(-gt));for(var Ge=[],nt=1,_t=0;gt>=nt;_t++)Ge[_t]=gt/nt|0,nt*=4294967296;return new b(Ge,0)}var De=L(0),Ke=L(1),Dt=L(16777216);function Xt(gt){if(0!=gt.h)return!1;for(var Ge=0;Ge<gt.g.length;Ge++)if(0!=gt.g[Ge])return!1;return!0}function pn(gt){return-1==gt.h}function ln(gt){for(var Ge=gt.g.length,nt=[],_t=0;_t<Ge;_t++)nt[_t]=~gt.g[_t];return new b(nt,~gt.h).add(Ke)}function Zn(gt,Ge){return gt.add(ln(Ge))}function dr(gt,Ge){for(;(65535&gt[Ge])!=gt[Ge];)gt[Ge+1]+=gt[Ge]>>>16,gt[Ge]&=65535,Ge++}function nr(gt,Ge){this.g=gt,this.h=Ge}function Vr(gt,Ge){if(Xt(Ge))throw Error("division by zero");if(Xt(gt))return new nr(De,De);if(pn(gt))return Ge=Vr(ln(gt),Ge),new nr(ln(Ge.g),ln(Ge.h));if(pn(Ge))return Ge=Vr(gt,ln(Ge)),new nr(ln(Ge.g),Ge.h);if(30<gt.g.length){if(pn(gt)||pn(Ge))throw Error("slowDivide_ only works with positive integers.");for(var nt=Ke,_t=Ge;0>=_t.l(gt);)nt=Li(nt),_t=Li(_t);var Tt=ri(nt,1),Mt=ri(_t,1);for(_t=ri(_t,2),nt=ri(nt,2);!Xt(_t);){var Je=Mt.add(_t);0>=Je.l(gt)&&(Tt=Tt.add(nt),Mt=Je),_t=ri(_t,1),nt=ri(nt,1)}return Ge=Zn(gt,Tt.j(Ge)),new nr(Tt,Ge)}for(Tt=De;0<=gt.l(Ge);){for(nt=Math.max(1,Math.floor(gt.m()/Ge.m())),_t=48>=(_t=Math.ceil(Math.log(nt)/Math.LN2))?1:Math.pow(2,_t-48),Je=(Mt=Y(nt)).j(Ge);pn(Je)||0<Je.l(gt);)Je=(Mt=Y(nt-=_t)).j(Ge);Xt(Mt)&&(Mt=Ke),Tt=Tt.add(Mt),gt=Zn(gt,Je)}return new nr(Tt,gt)}function Li(gt){for(var Ge=gt.g.length+1,nt=[],_t=0;_t<Ge;_t++)nt[_t]=gt.i(_t)<<1|gt.i(_t-1)>>>31;return new b(nt,gt.h)}function ri(gt,Ge){var nt=Ge>>5;Ge%=32;for(var _t=gt.g.length-nt,Tt=[],Mt=0;Mt<_t;Mt++)Tt[Mt]=0<Ge?gt.i(Mt+nt)>>>Ge|gt.i(Mt+nt+1)<<32-Ge:gt.i(Mt+nt);return new b(Tt,gt.h)}(d=b.prototype).m=function(){if(pn(this))return-ln(this).m();for(var gt=0,Ge=1,nt=0;nt<this.g.length;nt++){var _t=this.i(nt);gt+=(0<=_t?_t:4294967296+_t)*Ge,Ge*=4294967296}return gt},d.toString=function(gt){if(2>(gt=gt||10)||36<gt)throw Error("radix out of range: "+gt);if(Xt(this))return"0";if(pn(this))return"-"+ln(this).toString(gt);for(var Ge=Y(Math.pow(gt,6)),nt=this,_t="";;){var Tt=Vr(nt,Ge).g,Mt=((0<(nt=Zn(nt,Tt.j(Ge))).g.length?nt.g[0]:nt.h)>>>0).toString(gt);if(Xt(nt=Tt))return Mt+_t;for(;6>Mt.length;)Mt="0"+Mt;_t=Mt+_t}},d.i=function(gt){return 0>gt?0:gt<this.g.length?this.g[gt]:this.h},d.l=function(gt){return pn(gt=Zn(this,gt))?-1:Xt(gt)?0:1},d.abs=function(){return pn(this)?ln(this):this},d.add=function(gt){for(var Ge=Math.max(this.g.length,gt.g.length),nt=[],_t=0,Tt=0;Tt<=Ge;Tt++){var Mt=_t+(65535&this.i(Tt))+(65535&gt.i(Tt)),Je=(Mt>>>16)+(this.i(Tt)>>>16)+(gt.i(Tt)>>>16);_t=Je>>>16,nt[Tt]=(Je&=65535)<<16|(Mt&=65535)}return new b(nt,-2147483648&nt[nt.length-1]?-1:0)},d.j=function(gt){if(Xt(this)||Xt(gt))return De;if(pn(this))return pn(gt)?ln(this).j(ln(gt)):ln(ln(this).j(gt));if(pn(gt))return ln(this.j(ln(gt)));if(0>this.l(Dt)&&0>gt.l(Dt))return Y(this.m()*gt.m());for(var Ge=this.g.length+gt.g.length,nt=[],_t=0;_t<2*Ge;_t++)nt[_t]=0;for(_t=0;_t<this.g.length;_t++)for(var Tt=0;Tt<gt.g.length;Tt++){var Mt=this.i(_t)>>>16,Je=65535&this.i(_t),Qc=gt.i(Tt)>>>16,If=65535&gt.i(Tt);nt[2*_t+2*Tt]+=Je*If,dr(nt,2*_t+2*Tt),nt[2*_t+2*Tt+1]+=Mt*If,dr(nt,2*_t+2*Tt+1),nt[2*_t+2*Tt+1]+=Je*Qc,dr(nt,2*_t+2*Tt+1),nt[2*_t+2*Tt+2]+=Mt*Qc,dr(nt,2*_t+2*Tt+2)}for(_t=0;_t<Ge;_t++)nt[_t]=nt[2*_t+1]<<16|nt[2*_t];for(_t=Ge;_t<2*Ge;_t++)nt[_t]=0;return new b(nt,0)},d.A=function(gt){return Vr(this,gt).h},d.and=function(gt){for(var Ge=Math.max(this.g.length,gt.g.length),nt=[],_t=0;_t<Ge;_t++)nt[_t]=this.i(_t)&gt.i(_t);return new b(nt,this.h&gt.h)},d.or=function(gt){for(var Ge=Math.max(this.g.length,gt.g.length),nt=[],_t=0;_t<Ge;_t++)nt[_t]=this.i(_t)|gt.i(_t);return new b(nt,this.h|gt.h)},d.xor=function(gt){for(var Ge=Math.max(this.g.length,gt.g.length),nt=[],_t=0;_t<Ge;_t++)nt[_t]=this.i(_t)^gt.i(_t);return new b(nt,this.h^gt.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,ke=Se.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=Y,b.fromString=function ue(gt,Ge){if(0==gt.length)throw Error("number format error: empty string");if(2>(Ge=Ge||10)||36<Ge)throw Error("radix out of range: "+Ge);if("-"==gt.charAt(0))return ln(ue(gt.substring(1),Ge));if(0<=gt.indexOf("-"))throw Error('number format error: interior "-" character');for(var nt=Y(Math.pow(Ge,8)),_t=De,Tt=0;Tt<gt.length;Tt+=8){var Mt=Math.min(8,gt.length-Tt),Je=parseInt(gt.substring(Tt,Tt+Mt),Ge);8>Mt?(Mt=Y(Math.pow(Ge,Mt)),_t=_t.j(Mt).add(Y(Je))):_t=(_t=_t.j(nt)).add(Y(Je))}return _t},Ie=Se.Integer=b}).apply(typeof Ee<"u"?Ee:typeof self<"u"?self:typeof window<"u"?window:{});var pe,Be,ve,Ye,Ce,it,Ht,He,W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ne={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,U,q){return E==Array.prototype||E==Object.prototype||(E[U]=q.value),E},a=function s(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof W&&W];for(var U=0;U<E.length;++U){var q=E[U];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(E,U){if(U)e:{var q=a;E=E.split(".");for(var _e=0;_e<E.length-1;_e++){var bt=E[_e];if(!(bt in q))break e;q=q[bt]}(U=U(_e=q[E=E[E.length-1]]))!=_e&&null!=U&&e(q,E,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(E){return E||function(){return function _(E,U){E instanceof String&&(E+="");var q=0,_e=!1,bt={next:function(){if(!_e&&q<E.length){var Lt=q++;return{value:U(Lt,E[Lt]),done:!1}}return _e=!0,{done:!0,value:void 0}}};return bt[Symbol.iterator]=function(){return bt},bt}(this,function(U,q){return q})}});var b=b||{},P=this||self;function L(E){var U=typeof E;return"array"==(U="object"!=U?U:E?Array.isArray(E)?"array":U:"null")||"object"==U&&"number"==typeof E.length}function Y(E){var U=typeof E;return"object"==U&&null!=E||"function"==U}function ue(E,U,q){return E.call.apply(E.bind,arguments)}function De(E,U,q){if(!E)throw Error();if(2<arguments.length){var _e=Array.prototype.slice.call(arguments,2);return function(){var bt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(bt,_e),E.apply(U,bt)}}return function(){return E.apply(U,arguments)}}function Ke(E,U,q){return(Ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ue:De).apply(null,arguments)}function Dt(E,U){var q=Array.prototype.slice.call(arguments,1);return function(){var _e=q.slice();return _e.push.apply(_e,arguments),E.apply(this,_e)}}function Xt(E,U){function q(){}q.prototype=U.prototype,E.aa=U.prototype,E.prototype=new q,E.prototype.constructor=E,E.Qb=function(_e,bt,Lt){for(var An=Array(arguments.length-2),Yi=2;Yi<arguments.length;Yi++)An[Yi-2]=arguments[Yi];return U.prototype[bt].apply(_e,An)}}function pn(E){const U=E.length;if(0<U){const q=Array(U);for(let _e=0;_e<U;_e++)q[_e]=E[_e];return q}return[]}function ln(E,U){for(let q=1;q<arguments.length;q++){const _e=arguments[q];if(L(_e)){const bt=E.length||0,Lt=_e.length||0;E.length=bt+Lt;for(let An=0;An<Lt;An++)E[bt+An]=_e[An]}else E.push(_e)}}function dr(E){return/^[\s\xa0]*$/.test(E)}function nr(){var E=P.navigator;return E&&(E=E.userAgent)?E:""}function Vr(E){return Vr[" "](E),E}Vr[" "]=function(){};var Li=!(-1==nr().indexOf("Gecko")||-1!=nr().toLowerCase().indexOf("webkit")&&-1==nr().indexOf("Edge")||-1!=nr().indexOf("Trident")||-1!=nr().indexOf("MSIE")||-1!=nr().indexOf("Edge"));function ri(E,U,q){for(const _e in E)U.call(q,E[_e],_e,E)}function Ge(E){const U={};for(const q in E)U[q]=E[q];return U}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(E,U){let q,_e;for(let bt=1;bt<arguments.length;bt++){for(q in _e=arguments[bt],_e)E[q]=_e[q];for(let Lt=0;Lt<nt.length;Lt++)q=nt[Lt],Object.prototype.hasOwnProperty.call(_e,q)&&(E[q]=_e[q])}}function Tt(E){var U=1;E=E.split(":");const q=[];for(;0<U&&E.length;)q.push(E.shift()),U--;return E.length&&q.push(E.join(":")),q}function Mt(E){P.setTimeout(()=>{throw E},0)}function Je(){var E=B_;let U=null;return E.g&&(U=E.g,E.g=E.g.next,E.g||(E.h=null),U.next=null),U}var If=new class Zn{constructor(U,q){this.i=U,this.j=q,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new _E,E=>E.reset());class _E{constructor(){this.next=this.g=this.h=null}set(U,q){this.h=U,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Cf,tm=!1,B_=new class Qc{constructor(){this.h=this.g=null}add(U,q){const _e=If.get();_e.set(U,q),this.h?this.h.next=_e:this.g=_e,this.h=_e}},Tg=()=>{const E=P.Promise.resolve(void 0);Cf=()=>{E.then(yE)}};var yE=()=>{for(var E;E=Je();){try{E.h.call(E.g)}catch(q){Mt(q)}var U=If;U.j(E),100>U.h&&(U.h++,E.next=U.g,U.g=E)}tm=!1};function Yu(){this.s=this.s,this.C=this.C}function qo(E,U){this.type=E,this.g=this.target=U,this.defaultPrevented=!1}Yu.prototype.s=!1,Yu.prototype.ma=function(){this.s||(this.s=!0,this.N())},Yu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},qo.prototype.h=function(){this.defaultPrevented=!0};var ov=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var E=!1,U=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const q=()=>{};P.addEventListener("test",q,U),P.removeEventListener("test",q,U)}catch{}return E}();function wf(E,U){if(qo.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var q=this.type=E.type,_e=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=U,U=E.relatedTarget){if(Li){e:{try{Vr(U.nodeName);var bt=!0;break e}catch{}bt=!1}bt||(U=null)}}else"mouseover"==q?U=E.fromElement:"mouseout"==q&&(U=E.toElement);this.relatedTarget=U,_e?(this.clientX=void 0!==_e.clientX?_e.clientX:_e.pageX,this.clientY=void 0!==_e.clientY?_e.clientY:_e.pageY,this.screenX=_e.screenX||0,this.screenY=_e.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Ci[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&wf.aa.h.call(this)}}Xt(wf,qo);var Ci={2:"touch",3:"pen",4:"mouse"};wf.prototype.h=function(){wf.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var uh="closure_listenable_"+(1e6*Math.random()|0),$_=0;function G_(E,U,q,_e,bt){this.listener=E,this.proxy=null,this.src=U,this.type=q,this.capture=!!_e,this.ha=bt,this.key=++$_,this.da=this.fa=!1}function nm(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Af(E){this.src=E,this.g={},this.h=0}function rm(E,U){var q=U.type;if(q in E.g){var Lt,_e=E.g[q],bt=Array.prototype.indexOf.call(_e,U,void 0);(Lt=0<=bt)&&Array.prototype.splice.call(_e,bt,1),Lt&&(nm(U),0==E.g[q].length&&(delete E.g[q],E.h--))}}function dh(E,U,q,_e){for(var bt=0;bt<E.length;++bt){var Lt=E[bt];if(!Lt.da&&Lt.listener==U&&Lt.capture==!!q&&Lt.ha==_e)return bt}return-1}Af.prototype.add=function(E,U,q,_e,bt){var Lt=E.toString();(E=this.g[Lt])||(E=this.g[Lt]=[],this.h++);var An=dh(E,U,_e,bt);return-1<An?(U=E[An],q||(U.fa=!1)):((U=new G_(U,this.src,Lt,!!_e,bt)).fa=q,E.push(U)),U};var Df="closure_lm_"+(1e6*Math.random()|0),H_={};function Ig(E,U,q,_e,bt){if(_e&&_e.once)return W_(E,U,q,_e,bt);if(Array.isArray(U)){for(var Lt=0;Lt<U.length;Lt++)Ig(E,U[Lt],q,_e,bt);return null}return q=sm(q),E&&E[uh]?E.K(U,q,Y(_e)?!!_e.capture:!!_e,bt):Cg(E,U,q,!1,_e,bt)}function Cg(E,U,q,_e,bt,Lt){if(!U)throw Error("Invalid event type");var An=Y(bt)?!!bt.capture:!!bt,Yi=Sf(E);if(Yi||(E[Df]=Yi=new Af(E)),(q=Yi.add(U,q,_e,An,Lt)).proxy)return q;if(_e=function z_(){const U=av;return function E(q){return U.call(E.src,E.listener,q)}}(),q.proxy=_e,_e.src=E,_e.listener=q,E.addEventListener)ov||(bt=An),void 0===bt&&(bt=!1),E.addEventListener(U.toString(),_e,bt);else if(E.attachEvent)E.attachEvent(K_(U.toString()),_e);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(_e)}return q}function W_(E,U,q,_e,bt){if(Array.isArray(U)){for(var Lt=0;Lt<U.length;Lt++)W_(E,U[Lt],q,_e,bt);return null}return q=sm(q),E&&E[uh]?E.L(U,q,Y(_e)?!!_e.capture:!!_e,bt):Cg(E,U,q,!0,_e,bt)}function im(E,U,q,_e,bt){if(Array.isArray(U))for(var Lt=0;Lt<U.length;Lt++)im(E,U[Lt],q,_e,bt);else _e=Y(_e)?!!_e.capture:!!_e,q=sm(q),E&&E[uh]?(E=E.i,(U=String(U).toString())in E.g&&-1<(q=dh(Lt=E.g[U],q,_e,bt))&&(nm(Lt[q]),Array.prototype.splice.call(Lt,q,1),0==Lt.length&&(delete E.g[U],E.h--))):E&&(E=Sf(E))&&(U=E.g[U.toString()],E=-1,U&&(E=dh(U,q,_e,bt)),(q=-1<E?U[E]:null)&&ll(q))}function ll(E){if("number"!=typeof E&&E&&!E.da){var U=E.src;if(U&&U[uh])rm(U.i,E);else{var q=E.type,_e=E.proxy;U.removeEventListener?U.removeEventListener(q,_e,E.capture):U.detachEvent?U.detachEvent(K_(q),_e):U.addListener&&U.removeListener&&U.removeListener(_e),(q=Sf(U))?(rm(q,E),0==q.h&&(q.src=null,U[Df]=null)):nm(E)}}}function K_(E){return E in H_?H_[E]:H_[E]="on"+E}function av(E,U){if(E.da)E=!0;else{U=new wf(U,this);var q=E.listener,_e=E.ha||E.src;E.fa&&ll(E),E=q.call(_e,U)}return E}function Sf(E){return(E=E[Df])instanceof Af?E:null}var wg="__closure_events_fn_"+(1e9*Math.random()>>>0);function sm(E){return"function"==typeof E?E:(E[wg]||(E[wg]=function(U){return E.handleEvent(U)}),E[wg])}function Fo(){Yu.call(this),this.i=new Af(this),this.M=this,this.F=null}function mo(E,U){var q,_e=E.F;if(_e)for(q=[];_e;_e=_e.F)q.push(_e);if(E=E.M,_e=U.type||U,"string"==typeof U)U=new qo(U,E);else if(U instanceof qo)U.target=U.target||E;else{var bt=U;_t(U=new qo(_e,E),bt)}if(bt=!0,q)for(var Lt=q.length-1;0<=Lt;Lt--){var An=U.g=q[Lt];bt=Jc(An,_e,!0,U)&&bt}if(bt=Jc(An=U.g=E,_e,!0,U)&&bt,bt=Jc(An,_e,!1,U)&&bt,q)for(Lt=0;Lt<q.length;Lt++)bt=Jc(An=U.g=q[Lt],_e,!1,U)&&bt}function Jc(E,U,q,_e){if(!(U=E.i.g[String(U)]))return!0;U=U.concat();for(var bt=!0,Lt=0;Lt<U.length;++Lt){var An=U[Lt];if(An&&!An.da&&An.capture==q){var Yi=An.listener,Zs=An.ha||An.src;An.fa&&rm(E.i,An),bt=!1!==Yi.call(Zs,_e)&&bt}}return bt&&!_e.defaultPrevented}function Ag(E,U,q){if("function"==typeof E)q&&(E=Ke(E,q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=Ke(E.handleEvent,E)}return 2147483647<Number(U)?-1:P.setTimeout(E,U||0)}function Rf(E){E.g=Ag(()=>{E.g=null,E.i&&(E.i=!1,Rf(E))},E.l);const U=E.h;E.h=null,E.m.apply(null,U)}Xt(Fo,Yu),Fo.prototype[uh]=!0,Fo.prototype.removeEventListener=function(E,U,q,_e){im(this,E,U,q,_e)},Fo.prototype.N=function(){if(Fo.aa.N.call(this),this.i){var U,E=this.i;for(U in E.g){for(var q=E.g[U],_e=0;_e<q.length;_e++)nm(q[_e]);delete E.g[U],E.h--}}this.F=null},Fo.prototype.K=function(E,U,q,_e){return this.i.add(String(E),U,!1,q,_e)},Fo.prototype.L=function(E,U,q,_e){return this.i.add(String(E),U,!0,q,_e)};class vE extends Yu{constructor(U,q){super(),this.m=U,this.l=q,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Rf(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pf(E){Yu.call(this),this.h=E,this.g={}}Xt(Pf,Yu);var Dg=[];function Sg(E){ri(E.g,function(U,q){this.g.hasOwnProperty(q)&&ll(U)},E),E.g={}}Pf.prototype.N=function(){Pf.aa.N.call(this),Sg(this)},Pf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rg=P.JSON.stringify,lv=P.JSON.parse,q_=class{stringify(E){return P.JSON.stringify(E,void 0)}parse(E){return P.JSON.parse(E,void 0)}};function om(){}function Y_(){}om.prototype.h=null;var Mf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function am(){qo.call(this,"d")}function Pg(){qo.call(this,"c")}Xt(am,qo),Xt(Pg,qo);var ra={},Xu=null;function fh(){return Xu=Xu||new Fo}function lm(E){qo.call(this,ra.La,E)}function Qu(E){const U=fh();mo(U,new lm(U))}function ia(E,U){qo.call(this,ra.STAT_EVENT,E),this.stat=U}function Lo(E){const U=fh();mo(U,new ia(U,E))}function X_(E,U){qo.call(this,ra.Ma,E),this.size=U}function Ju(E,U){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){E()},U)}function xf(){this.g=!0}function ph(E,U,q,_e){E.info(function(){return"XMLHTTP TEXT ("+U+"): "+function cv(E,U){if(!E.g)return U;if(!U)return null;try{var q=JSON.parse(U);if(q)for(E=0;E<q.length;E++)if(Array.isArray(q[E])){var _e=q[E];if(!(2>_e.length)){var bt=_e[1];if(Array.isArray(bt)&&!(1>bt.length)){var Lt=bt[0];if("noop"!=Lt&&"stop"!=Lt&&"close"!=Lt)for(var An=1;An<bt.length;An++)bt[An]=""}}}return Rg(q)}catch{return U}}(E,q)+(_e?" "+_e:"")})}ra.La="serverreachability",Xt(lm,qo),ra.STAT_EVENT="statevent",Xt(ia,qo),ra.Ma="timingevent",Xt(X_,qo),xf.prototype.xa=function(){this.g=!1},xf.prototype.info=function(){};var Q_,Of={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Nf(){}function Gl(E,U,q,_e){this.j=E,this.i=U,this.l=q,this.R=_e||1,this.U=new Pf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new J_}function J_(){this.i=null,this.g="",this.h=!1}Xt(Nf,om),Nf.prototype.g=function(){return new XMLHttpRequest},Nf.prototype.i=function(){return{}},Q_=new Nf;var um={},dm={};function kf(E,U,q){E.L=1,E.v=_h(Vo(U)),E.m=q,E.P=!0,hm(E,null)}function hm(E,U){E.F=Date.now(),fm(E),E.A=Vo(E.v);var q=E.A,_e=E.R;Array.isArray(_e)||(_e=[String(_e)]),kg(q.i,"t",_e),E.C=0,q=E.j.J,E.h=new J_,E.g=bh(E.j,q?U:null,!E.m),0<E.O&&(E.M=new vE(Ke(E.Y,E,E.g),E.O)),U=E.U,q=E.g,_e=E.ca;var bt="readystatechange";Array.isArray(bt)||(bt&&(Dg[0]=bt.toString()),bt=Dg);for(var Lt=0;Lt<bt.length;Lt++){var An=Ig(q,bt[Lt],_e||U.handleEvent,!1,U.h||U);if(!An)break;U.g[An.key]=An}U=E.H?Ge(E.H):{},E.m?(E.u||(E.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,U)):(E.u="GET",E.g.ea(E.A,E.u,null,U)),Qu(),function Zc(E,U,q,_e,bt,Lt){E.info(function(){if(E.g)if(Lt)for(var An="",Yi=Lt.split("&"),Zs=0;Zs<Yi.length;Zs++){var ji=Yi[Zs].split("=");if(1<ji.length){var Uo=ji[0];ji=ji[1];var ro=Uo.split("_");An=2<=ro.length&&"type"==ro[1]?An+(Uo+"=")+ji+"&":An+(Uo+"=redacted&")}}else An=null;else An=Lt;return"XMLHTTP REQ ("+_e+") [attempt "+bt+"]: "+U+"\n"+q+"\n"+An})}(E.i,E.u,E.A,E.l,E.R,E.m)}function mh(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Ff(E,U){var q=E.C,_e=U.indexOf("\n",q);return-1==_e?dm:(q=Number(U.substring(q,_e)),isNaN(q)?um:(_e+=1)+q>U.length?dm:(U=U.slice(_e,_e+q),E.C=_e+q,U))}function fm(E){E.S=Date.now()+E.I,Zu(E,E.I)}function Zu(E,U){if(null!=E.B)throw Error("WatchDog timer not null");E.B=Ju(Ke(E.ba,E),U)}function cl(E){E.B&&(P.clearTimeout(E.B),E.B=null)}function ed(E){0==E.j.G||E.J||vm(E.j,E)}function ka(E){cl(E);var U=E.M;U&&"function"==typeof U.ma&&U.ma(),E.M=null,Sg(E.U),E.g&&(U=E.g,E.g=null,U.abort(),U.ma())}function Og(E,U){try{var q=E.j;if(0!=q.G&&(q.g==E||va(q.h,E)))if(!E.K&&va(q.h,E)&&3==q.G){try{var _e=q.Da.g.parse(U)}catch{_e=null}if(Array.isArray(_e)&&3==_e.length){var bt=_e;if(0==bt[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<E.F))break e;ld(q),od(q)}Wf(q),Lo(18)}}else q.za=bt[1],0<q.za-q.T&&37500>bt[2]&&q.F&&0==q.v&&!q.C&&(q.C=Ju(Ke(q.Za,q),6e3));if(1>=Cc(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else ou(q,11)}else if((E.K||q.g==E)&&ld(q),!dr(U))for(bt=q.Da.g.parse(U),U=0;U<bt.length;U++){let ji=bt[U];if(q.T=ji[0],ji=ji[1],2==q.G)if("c"==ji[0]){q.K=ji[1],q.ia=ji[2];const Uo=ji[3];null!=Uo&&(q.la=Uo,q.j.info("VER="+q.la));const ro=ji[4];null!=ro&&(q.Aa=ro,q.j.info("SVER="+q.Aa));const lu=ji[5];null!=lu&&"number"==typeof lu&&0<lu&&(q.L=_e=1.5*lu,q.j.info("backChannelRequestTimeoutMs_="+_e)),_e=q;const Yo=E.g;if(Yo){const Th=Yo.g?Yo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Th){var Lt=_e.h;Lt.g||-1==Th.indexOf("spdy")&&-1==Th.indexOf("quic")&&-1==Th.indexOf("h2")||(Lt.j=Lt.l,Lt.g=new Set,Lt.h&&(As(Lt,Lt.h),Lt.h=null))}if(_e.D){const Ih=Yo.g?Yo.g.getResponseHeader("X-HTTP-Session-Id"):null;Ih&&(_e.ya=Ih,fi(_e.I,_e.D,Ih))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-E.F,q.j.info("Handshake RTT: "+q.R+"ms"));var An=E;if((_e=q).qa=oy(_e,_e.J?_e.ia:null,_e.W),An.K){Hl(_e.h,An);var Yi=An,Zs=_e.L;Zs&&(Yi.I=Zs),Yi.B&&(cl(Yi),fm(Yi)),_e.g=An}else jg(_e);0<q.i.length&&zf(q)}else"stop"!=ji[0]&&"close"!=ji[0]||ou(q,7);else 3==q.G&&("stop"==ji[0]||"close"==ji[0]?"stop"==ji[0]?ou(q,7):ry(q):"noop"!=ji[0]&&q.l&&q.l.ta(ji),q.v=0)}Qu()}catch{}}function td(E){this.l=E||10,E=P.PerformanceNavigationTiming?0<(E=P.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Co(E){return!!E.h||!!E.g&&E.g.size>=E.j}function Cc(E){return E.h?1:E.g?E.g.size:0}function va(E,U){return E.h?E.h==U:!!E.g&&E.g.has(U)}function As(E,U){E.g?E.g.add(U):E.h=U}function Hl(E,U){E.h&&E.h==U?E.h=null:E.g&&E.g.has(U)&&E.g.delete(U)}function ul(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let U=E.i;for(const q of E.g.values())U=U.concat(q.D);return U}return pn(E.i)}function tu(E,U){if(E.forEach&&"function"==typeof E.forEach)E.forEach(U,void 0);else if(L(E)||"string"==typeof E)Array.prototype.forEach.call(E,U,void 0);else for(var q=function eu(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(L(E)||"string"==typeof E){var U=[];E=E.length;for(var q=0;q<E;q++)U.push(q);return U}U=[],q=0;for(const _e in E)U[q++]=_e;return U}}}(E),_e=function gh(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(L(E)){for(var U=[],q=E.length,_e=0;_e<q;_e++)U.push(E[_e]);return U}for(_e in U=[],q=0,E)U[q++]=E[_e];return U}(E),bt=_e.length,Lt=0;Lt<bt;Lt++)U.call(void 0,_e[Lt],q&&q[Lt],E)}Gl.prototype.ca=function(E){E=E.target;const U=this.M;U&&3==hl(E)?U.j():this.Y(E)},Gl.prototype.Y=function(E){try{if(E==this.g)e:{const ro=hl(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>ro)&&(3!=ro||this.g&&(this.h.h||this.g.oa()||id(this.g)))){this.J||4!=ro||7==U||Qu(),cl(this);var q=this.g.Z();this.X=q;t:if(mh(this)){var _e=id(this.g);E="";var bt=_e.length,Lt=4==hl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ka(this),ed(this);var An="";break t}this.h.i=new P.TextDecoder}for(U=0;U<bt;U++)this.h.h=!0,E+=this.h.i.decode(_e[U],{stream:!(Lt&&U==bt-1)});_e.length=0,this.h.g+=E,this.C=0,An=this.h.g}else An=this.g.oa();if(this.o=200==q,function cm(E,U,q,_e,bt,Lt,An){E.info(function(){return"XMLHTTP RESP ("+_e+") [ attempt "+bt+"]: "+U+"\n"+q+"\n"+Lt+" "+An})}(this.i,this.u,this.A,this.l,this.R,ro,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Yi,Zs=this.g;if((Yi=Zs.g?Zs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dr(Yi)){var ji=Yi;break t}}ji=null}if(!(q=ji)){this.o=!1,this.s=3,Lo(12),ka(this),ed(this);break e}ph(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Og(this,q)}if(this.P){let Yo;for(q=!0;!this.J&&this.C<An.length;){if(Yo=Ff(this,An),Yo==dm){4==ro&&(this.s=4,Lo(14),q=!1),ph(this.i,this.l,null,"[Incomplete Response]");break}if(Yo==um){this.s=4,Lo(15),ph(this.i,this.l,An,"[Invalid Chunk]"),q=!1;break}ph(this.i,this.l,Yo,null),Og(this,Yo)}if(mh(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ro||0!=An.length||this.h.h||(this.s=1,Lo(16),q=!1),this.o=this.o&&q,q){if(0<An.length&&!this.W){this.W=!0;var Uo=this.j;Uo.g==this&&Uo.ba&&!Uo.M&&(Uo.j.info("Great, no buffering proxy detected. Bytes received: "+An.length),Bg(Uo),Uo.M=!0,Lo(11))}}else ph(this.i,this.l,An,"[Invalid Chunked Response]"),ka(this),ed(this)}else ph(this.i,this.l,An,null),Og(this,An);4==ro&&ka(this),this.o&&!this.J&&(4==ro?vm(this.j,this):(this.o=!1,fm(this)))}else(function mv(E){const U={};E=(E.g&&2<=hl(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let _e=0;_e<E.length;_e++){if(dr(E[_e]))continue;var q=Tt(E[_e]);const bt=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Lt=U[bt]||[];U[bt]=Lt,Lt.push(q)}!function gt(E,U){for(const q in E)U.call(void 0,E[q],q,E)}(U,function(_e){return _e.join(", ")})})(this.g),400==q&&0<An.indexOf("Unknown SID")?(this.s=3,Lo(12)):(this.s=0,Lo(13)),ka(this),ed(this)}}}catch{}},Gl.prototype.cancel=function(){this.J=!0,ka(this)},Gl.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function Mg(E,U){E.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(Qu(),Lo(17)),ka(this),this.s=2,ed(this)):Zu(this,this.S-E)},td.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var dl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fa(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Fa){this.h=E.h,nu(this,E.j),this.o=E.o,this.g=E.g,Lf(this,E.s),this.l=E.l;var U=E.i,q=new mm;q.i=U.i,U.g&&(q.g=new Map(U.g),q.h=U.h),Ng(this,q),this.m=E.m}else E&&(U=String(E).match(dl))?(this.h=!1,nu(this,U[1]||"",!0),this.o=Vf(U[2]||""),this.g=Vf(U[3]||"",!0),Lf(this,U[4]),this.l=Vf(U[5]||"",!0),Ng(this,U[6]||"",!0),this.m=Vf(U[7]||"")):(this.h=!1,this.i=new mm(null,this.h))}function Vo(E){return new Fa(E)}function nu(E,U,q){E.j=q?Vf(U,!0):U,E.j&&(E.j=E.j.replace(/:$/,""))}function Lf(E,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);E.s=U}else E.s=null}function Ng(E,U,q){U instanceof mm?(E.i=U,function hv(E,U){U&&!E.j&&(ru(E),E.i=null,E.g.forEach(function(q,_e){var bt=_e.toLowerCase();_e!=bt&&(jf(this,_e),kg(this,bt,q))},E)),E.j=U}(E.i,E.h)):(q||(U=Uf(U,pm)),E.i=new mm(U,E.h))}function fi(E,U,q){E.i.set(U,q)}function _h(E){return fi(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Vf(E,U){return E?U?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Uf(E,U,q){return"string"==typeof E?(E=encodeURI(E).replace(U,uv),q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function uv(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Fa.prototype.toString=function(){var E=[],U=this.j;U&&E.push(Uf(U,Z_,!0),":");var q=this.g;return(q||"file"==U)&&(E.push("//"),(U=this.o)&&E.push(Uf(U,Z_,!0),"@"),E.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&E.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&E.push("/"),E.push(Uf(q,"/"==q.charAt(0)?ey:dv,!0))),(q=this.i.toString())&&E.push("?",q),(q=this.m)&&E.push("#",Uf(q,EE)),E.join("")};var E,Z_=/[#\/\?@]/g,dv=/[#\?:]/g,ey=/[#\?]/g,pm=/[#\?@]/g,EE=/#/g;function mm(E,U){this.h=this.g=null,this.i=E||null,this.j=!!U}function ru(E){E.g||(E.g=new Map,E.h=0,E.i&&function wc(E,U){if(E){E=E.split("&");for(var q=0;q<E.length;q++){var _e=E[q].indexOf("="),bt=null;if(0<=_e){var Lt=E[q].substring(0,_e);bt=E[q].substring(_e+1)}else Lt=E[q];U(Lt,bt?decodeURIComponent(bt.replace(/\+/g," ")):"")}}}(E.i,function(U,q){E.add(decodeURIComponent(U.replace(/\+/g," ")),q)}))}function jf(E,U){ru(E),U=yh(E,U),E.g.has(U)&&(E.i=null,E.h-=E.g.get(U).length,E.g.delete(U))}function gm(E,U){return ru(E),U=yh(E,U),E.g.has(U)}function kg(E,U,q){jf(E,U),0<q.length&&(E.i=null,E.g.set(yh(E,U),pn(q)),E.h+=q.length)}function yh(E,U){return U=String(U),E.j&&(U=U.toLowerCase()),U}function zl(E,U,q,_e,bt){try{bt&&(bt.onload=null,bt.onerror=null,bt.onabort=null,bt.ontimeout=null),_e(q)}catch{}}function Bf(){this.g=new q_}function Lg(E,U,q){const _e=q||"";try{tu(E,function(bt,Lt){let An=bt;Y(bt)&&(An=Rg(bt)),U.push(_e+Lt+"="+encodeURIComponent(An))})}catch(bt){throw U.push(_e+"type="+encodeURIComponent("_badmap")),bt}}function iu(E){this.l=E.Ub||null,this.j=E.eb||!1}function $f(E,U){Fo.call(this),this.D=E,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function vh(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function La(E){E.readyState=4,E.l=null,E.j=null,E.v=null,nd(E)}function nd(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function su(E){let U="";return ri(E,function(q,_e){U+=_e,U+=":",U+=q,U+="\r\n"}),U}function Eh(E,U,q){e:{for(_e in q){var _e=!1;break e}_e=!0}_e||(q=su(q),"string"==typeof E?null!=q&&encodeURIComponent(String(q)):fi(E,U,q))}function Ls(E){Fo.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=mm.prototype).add=function(E,U){ru(this),this.i=null,E=yh(this,E);var q=this.g.get(E);return q||this.g.set(E,q=[]),q.push(U),this.h+=1,this},d.forEach=function(E,U){ru(this),this.g.forEach(function(q,_e){q.forEach(function(bt){E.call(U,bt,_e,this)},this)},this)},d.na=function(){ru(this);const E=Array.from(this.g.values()),U=Array.from(this.g.keys()),q=[];for(let _e=0;_e<U.length;_e++){const bt=E[_e];for(let Lt=0;Lt<bt.length;Lt++)q.push(U[_e])}return q},d.V=function(E){ru(this);let U=[];if("string"==typeof E)gm(this,E)&&(U=U.concat(this.g.get(yh(this,E))));else{E=Array.from(this.g.values());for(let q=0;q<E.length;q++)U=U.concat(E[q])}return U},d.set=function(E,U){return ru(this),this.i=null,gm(this,E=yh(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[U]),this.h+=1,this},d.get=function(E,U){return E&&0<(E=this.V(E)).length?String(E[0]):U},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],U=Array.from(this.g.keys());for(var q=0;q<U.length;q++){var _e=U[q];const Lt=encodeURIComponent(String(_e)),An=this.V(_e);for(_e=0;_e<An.length;_e++){var bt=Lt;""!==An[_e]&&(bt+="="+encodeURIComponent(String(An[_e]))),E.push(bt)}}return this.i=E.join("&")},Xt(iu,om),iu.prototype.g=function(){return new $f(this.l,this.j)},iu.prototype.i=(E={},function(){return E}),Xt($f,Fo),(d=$f.prototype).open=function(E,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=U,this.readyState=1,nd(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(U.body=E),(this.D||P).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,La(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,nd(this)),this.g&&(this.readyState=3,nd(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vh(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var U=E.value?E.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!E.done}))&&(this.response=this.responseText+=U)}E.done?La(this):nd(this),3==this.readyState&&vh(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,La(this))},d.Qa=function(E){this.g&&(this.response=E,La(this))},d.ga=function(){this.g&&La(this)},d.setRequestHeader=function(E,U){this.u.append(E,U)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],U=this.h.entries();for(var q=U.next();!q.done;)E.push((q=q.value)[0]+": "+q[1]),q=U.next();return E.join("\r\n")},Object.defineProperty($f.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Xt(Ls,Fo);var fv=/^https?$/i,pv=["POST","PUT"];function _m(E,U){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=U,E.m=5,Gf(E),Vg(E)}function Gf(E){E.A||(E.A=!0,mo(E,"complete"),mo(E,"error"))}function rd(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=hl(E)||2!=E.Z()))if(E.u&&4==hl(E))Ag(E.Ea,0,E);else if(mo(E,"readystatechange"),4==hl(E)){E.h=!1;try{const An=E.Z();e:switch(An){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var q;if(!(q=U)){var _e;if(_e=0===An){var bt=String(E.D).match(dl)[1]||null;!bt&&P.self&&P.self.location&&(bt=P.self.location.protocol.slice(0,-1)),_e=!fv.test(bt?bt.toLowerCase():"")}q=_e}if(q)mo(E,"complete"),mo(E,"success");else{E.m=6;try{var Lt=2<hl(E)?E.g.statusText:""}catch{Lt=""}E.l=Lt+" ["+E.Z()+"]",Gf(E)}}finally{Vg(E)}}}function Vg(E,U){if(E.g){Hf(E);const q=E.g,_e=E.v[0]?()=>{}:null;E.g=null,E.v=null,U||mo(E,"ready");try{q.onreadystatechange=_e}catch{}}}function Hf(E){E.I&&(P.clearTimeout(E.I),E.I=null)}function hl(E){return E.g?E.g.readyState:0}function id(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function sd(E,U,q){return q&&q.internalChannelParams&&q.internalChannelParams[E]||U}function ny(E){this.Aa=0,this.i=[],this.j=new xf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sd("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sd("baseRetryDelayMs",5e3,E),this.cb=sd("retryDelaySeedMs",1e4,E),this.Wa=sd("forwardChannelMaxRetries",2,E),this.wa=sd("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new td(E&&E.concurrentRequestLimit),this.Da=new Bf,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ry(E){if(iy(E),3==E.G){var U=E.U++,q=Vo(E.I);if(fi(q,"SID",E.K),fi(q,"RID",U),fi(q,"TYPE","terminate"),ad(E,q),(U=new Gl(E,E.j,U)).L=2,U.v=_h(Vo(q)),q=!1,P.navigator&&P.navigator.sendBeacon)try{q=P.navigator.sendBeacon(U.v.toString(),"")}catch{}!q&&P.Image&&((new Image).src=U.v,q=!0),q||(U.g=bh(U.j,null),U.g.ea(U.v)),U.F=Date.now(),fm(U)}sy(E)}function od(E){E.g&&(Bg(E),E.g.cancel(),E.g=null)}function iy(E){od(E),E.u&&(P.clearTimeout(E.u),E.u=null),ld(E),E.h.cancel(),E.s&&("number"==typeof E.s&&P.clearTimeout(E.s),E.s=null)}function zf(E){if(!Co(E.h)&&!E.s){E.s=!0;var U=E.Ga;Cf||Tg(),tm||(Cf(),tm=!0),B_.add(U,E),E.B=0}}function Ug(E,U){var q;q=U?U.l:E.U++;const _e=Vo(E.I);fi(_e,"SID",E.K),fi(_e,"RID",q),fi(_e,"AID",E.T),ad(E,_e),E.m&&E.o&&Eh(_e,E.m,E.o),q=new Gl(E,E.j,q,E.B+1),null===E.m&&(q.H=E.o),U&&(E.i=U.D.concat(E.i)),U=ym(E,q,1e3),q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),As(E.h,q),kf(q,_e,U)}function ad(E,U){E.H&&ri(E.H,function(q,_e){fi(U,_e,q)}),E.l&&tu({},function(q,_e){fi(U,_e,q)})}function ym(E,U,q){q=Math.min(E.i.length,q);var _e=E.l?Ke(E.l.Na,E.l,E):null;e:{var bt=E.i;let Lt=-1;for(;;){const An=["count="+q];-1==Lt?0<q?(Lt=bt[0].g,An.push("ofs="+Lt)):Lt=0:An.push("ofs="+Lt);let Yi=!0;for(let Zs=0;Zs<q;Zs++){let ji=bt[Zs].g;const Uo=bt[Zs].map;if(ji-=Lt,0>ji)Lt=Math.max(0,bt[Zs].g-100),Yi=!1;else try{Lg(Uo,An,"req"+ji+"_")}catch{_e&&_e(Uo)}}if(Yi){_e=An.join("&");break e}}}return E=E.i.splice(0,q),U.D=E,_e}function jg(E){if(!E.g&&!E.u){E.Y=1;var U=E.Fa;Cf||Tg(),tm||(Cf(),tm=!0),B_.add(U,E),E.v=0}}function Wf(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=Ju(Ke(E.Fa,E),$g(E,E.v)),E.v++,0))}function Bg(E){null!=E.A&&(P.clearTimeout(E.A),E.A=null)}function Kf(E){E.g=new Gl(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var U=Vo(E.qa);fi(U,"RID","rpc"),fi(U,"SID",E.K),fi(U,"AID",E.T),fi(U,"CI",E.F?"0":"1"),!E.F&&E.ja&&fi(U,"TO",E.ja),fi(U,"TYPE","xmlhttp"),ad(E,U),E.m&&E.o&&Eh(U,E.m,E.o),E.L&&(E.g.I=E.L);var q=E.g;E=E.ia,q.L=1,q.v=_h(Vo(U)),q.m=null,q.P=!0,hm(q,E)}function ld(E){null!=E.C&&(P.clearTimeout(E.C),E.C=null)}function vm(E,U){var q=null;if(E.g==U){ld(E),Bg(E),E.g=null;var _e=2}else{if(!va(E.h,U))return;q=U.D,Hl(E.h,U),_e=1}if(0!=E.G)if(U.o)if(1==_e){q=U.m?U.m.length:0,U=Date.now()-U.F;var bt=E.B;mo(_e=fh(),new X_(_e,q)),zf(E)}else jg(E);else if(3==(bt=U.s)||0==bt&&0<U.X||!(1==_e&&function gv(E,U){return!(Cc(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=U.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=Ju(Ke(E.Ga,E,U),$g(E,E.B)),E.B++,0)))}(E,U)||2==_e&&Wf(E)))switch(q&&0<q.length&&(U=E.h,U.i=U.i.concat(q)),bt){case 1:ou(E,5);break;case 4:ou(E,10);break;case 3:ou(E,6);break;default:ou(E,2)}}function $g(E,U){let q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(q*=2),q*U}function ou(E,U){if(E.j.info("Error code "+U),2==U){var q=Ke(E.fb,E),_e=E.Xa;const bt=!_e;_e=new Fa(_e||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||nu(_e,"https"),_h(_e),bt?function Fg(E,U){const q=new xf;if(P.Image){const _e=new Image;_e.onload=Dt(zl,q,"TestLoadImage: loaded",!0,U,_e),_e.onerror=Dt(zl,q,"TestLoadImage: error",!1,U,_e),_e.onabort=Dt(zl,q,"TestLoadImage: abort",!1,U,_e),_e.ontimeout=Dt(zl,q,"TestLoadImage: timeout",!1,U,_e),P.setTimeout(function(){_e.ontimeout&&_e.ontimeout()},1e4),_e.src=E}else U(!1)}(_e.toString(),q):function ty(E,U){new xf;const _e=new AbortController,bt=setTimeout(()=>{_e.abort(),zl(0,0,!1,U)},1e4);fetch(E,{signal:_e.signal}).then(Lt=>{clearTimeout(bt),zl(0,0,!!Lt.ok,U)}).catch(()=>{clearTimeout(bt),zl(0,0,!1,U)})}(_e.toString(),q)}else Lo(2);E.G=0,E.l&&E.l.sa(U),sy(E),iy(E)}function sy(E){if(E.G=0,E.ka=[],E.l){const U=ul(E.h);(0!=U.length||0!=E.i.length)&&(ln(E.ka,U),ln(E.ka,E.i),E.h.i.length=0,pn(E.i),E.i.length=0),E.l.ra()}}function oy(E,U,q){var _e=q instanceof Fa?Vo(q):new Fa(q);if(""!=_e.g)U&&(_e.g=U+"."+_e.g),Lf(_e,_e.s);else{var bt=P.location;_e=bt.protocol,U=U?U+"."+bt.hostname:bt.hostname,bt=+bt.port;var Lt=new Fa(null);_e&&nu(Lt,_e),U&&(Lt.g=U),bt&&Lf(Lt,bt),q&&(Lt.l=q),_e=Lt}return U=E.ya,(q=E.D)&&U&&fi(_e,q,U),fi(_e,"VER",E.la),ad(E,_e),_e}function bh(E,U,q){if(U&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new Ls(E.Ca&&!E.pa?new iu({eb:q}):E.pa)).Ha(E.J),U}function qf(){}function au(){}function oa(E,U){Fo.call(this),this.g=new ny(U),this.l=E,this.h=U&&U.messageUrlParams||null,E=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(E?E["X-WebChannel-Content-Type"]=U.messageContentType:E={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(E?E["X-WebChannel-Client-Profile"]=U.va:E={"X-WebChannel-Client-Profile":U.va}),this.g.S=E,(E=U&&U.Sb)&&!dr(E)&&(this.g.m=E),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!dr(U)&&(this.g.D=U,null!==(E=this.h)&&U in E&&U in(E=this.h)&&delete E[U]),this.j=new cd(this)}function ay(E){am.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var U=E.__sm__;if(U){e:{for(const q in U){E=q;break e}E=void 0}(this.i=E)&&(E=this.i,U=null!==U&&E in U?U[E]:void 0),this.data=U}else this.data=E}function ly(){Pg.call(this),this.status=1}function cd(E){this.g=E}(d=Ls.prototype).Ha=function(E){this.J=E},d.ea=function(E,U,q,_e){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);U=U?U.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Q_.g(),this.v=function hh(E){return E.h||(E.h=E.i())}(this.o?this.o:Q_),this.g.onreadystatechange=Ke(this.Ea,this);try{this.B=!0,this.g.open(U,String(E),!0),this.B=!1}catch(Lt){return void _m(this,Lt)}if(E=q||"",q=new Map(this.headers),_e)if(Object.getPrototypeOf(_e)===Object.prototype)for(var bt in _e)q.set(bt,_e[bt]);else{if("function"!=typeof _e.keys||"function"!=typeof _e.get)throw Error("Unknown input type for opt_headers: "+String(_e));for(const Lt of _e.keys())q.set(Lt,_e.get(Lt))}_e=Array.from(q.keys()).find(Lt=>"content-type"==Lt.toLowerCase()),bt=P.FormData&&E instanceof P.FormData,!(0<=Array.prototype.indexOf.call(pv,U,void 0))||_e||bt||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Lt,An]of q)this.g.setRequestHeader(Lt,An);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hf(this),this.u=!0,this.g.send(E),this.u=!1}catch(Lt){_m(this,Lt)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,mo(this,"complete"),mo(this,"abort"),Vg(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vg(this,!0)),Ls.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?rd(this):this.bb())},d.bb=function(){rd(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<hl(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var U=this.g.responseText;return E&&0==U.indexOf(E)&&(U=U.substring(E.length)),lv(U)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=ny.prototype).la=8,d.G=1,d.connect=function(E,U,q,_e){Lo(0),this.W=E,this.H=U||{},q&&void 0!==_e&&(this.H.OSID=q,this.H.OAID=_e),this.F=this.X,this.I=oy(this,null,this.W),zf(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const bt=new Gl(this,this.j,E);let Lt=this.o;if(this.S&&(Lt?(Lt=Ge(Lt),_t(Lt,this.S)):Lt=this.S),null!==this.m||this.O||(bt.H=Lt,Lt=null),this.P)e:{for(var U=0,q=0;q<this.i.length;q++){var _e=this.i[q];if(void 0===(_e="__data__"in _e.map&&"string"==typeof(_e=_e.map.__data__)?_e.length:void 0))break;if(4096<(U+=_e)){U=q;break e}if(4096===U||q===this.i.length-1){U=q+1;break e}}U=1e3}else U=1e3;U=ym(this,bt,U),fi(q=Vo(this.I),"RID",E),fi(q,"CVER",22),this.D&&fi(q,"X-HTTP-Session-Id",this.D),ad(this,q),Lt&&(this.O?U="headers="+encodeURIComponent(String(su(Lt)))+"&"+U:this.m&&Eh(q,this.m,Lt)),As(this.h,bt),this.Ua&&fi(q,"TYPE","init"),this.P?(fi(q,"$req",U),fi(q,"SID","null"),bt.T=!0,kf(bt,q,null)):kf(bt,q,U),this.G=2}}else 3==this.G&&(E?Ug(this,E):0==this.i.length||Co(this.h)||Ug(this))},d.Fa=function(){if(this.u=null,Kf(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=Ju(Ke(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lo(10),od(this),Kf(this))},d.Za=function(){null!=this.C&&(this.C=null,od(this),Wf(this),Lo(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Lo(2)):(this.j.info("Failed to ping google.com"),Lo(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=qf.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},au.prototype.g=function(E,U){return new oa(E,U)},Xt(oa,Fo),oa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},oa.prototype.close=function(){ry(this.g)},oa.prototype.o=function(E){var U=this.g;if("string"==typeof E){var q={};q.__data__=E,E=q}else this.u&&((q={}).__data__=Rg(E),E=q);U.i.push(new class{constructor(E,U){this.g=E,this.map=U}}(U.Ya++,E)),3==U.G&&zf(U)},oa.prototype.N=function(){this.g.l=null,delete this.j,ry(this.g),delete this.g,oa.aa.N.call(this)},Xt(ay,am),Xt(ly,Pg),Xt(cd,qf),cd.prototype.ua=function(){mo(this.g,"a")},cd.prototype.ta=function(E){mo(this.g,new ay(E))},cd.prototype.sa=function(E){mo(this.g,new ly)},cd.prototype.ra=function(){mo(this.g,"b")},au.prototype.createWebChannel=au.prototype.g,oa.prototype.send=oa.prototype.o,oa.prototype.open=oa.prototype.m,oa.prototype.close=oa.prototype.close,He=ne.createWebChannelTransport=function(){return new au},Ht=ne.getStatEventTarget=function(){return fh()},it=ne.Event=ra,Ce=ne.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Of.NO_ERROR=0,Of.TIMEOUT=8,Of.HTTP_ERROR=6,Ye=ne.ErrorCode=Of,xg.COMPLETE="complete",ve=ne.EventType=xg,Y_.EventType=Mf,Mf.OPEN="a",Mf.CLOSE="b",Mf.ERROR="c",Mf.MESSAGE="d",Fo.prototype.listen=Fo.prototype.K,Be=ne.WebChannel=Y_,ne.FetchXmlHttpFactory=iu,Ls.prototype.listenOnce=Ls.prototype.L,Ls.prototype.getLastError=Ls.prototype.Ka,Ls.prototype.getLastErrorCode=Ls.prototype.Ba,Ls.prototype.getStatus=Ls.prototype.Z,Ls.prototype.getResponseJson=Ls.prototype.Oa,Ls.prototype.getResponseText=Ls.prototype.oa,Ls.prototype.send=Ls.prototype.ea,Ls.prototype.setWithCredentials=Ls.prototype.Ha,pe=ne.XhrIo=Ls}).apply(typeof W<"u"?W:typeof self<"u"?self:typeof window<"u"?window:{});const Ae="@firebase/firestore";class rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");let tt="10.14.0";const ft=new be.Vy("@firebase/firestore");function Nt(){return ft.logLevel}function pt(d){ft.setLogLevel(d)}function Te(d,...e){if(ft.logLevel<=be.$b.DEBUG){const s=e.map(Rn);ft.debug(`Firestore (${tt}): ${d}`,...s)}}function Ze(d,...e){if(ft.logLevel<=be.$b.ERROR){const s=e.map(Rn);ft.error(`Firestore (${tt}): ${d}`,...s)}}function Jt(d,...e){if(ft.logLevel<=be.$b.WARN){const s=e.map(Rn);ft.warn(`Firestore (${tt}): ${d}`,...s)}}function Rn(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Ft(d="Unexpected state"){const e=`FIRESTORE (${tt}) INTERNAL ASSERTION FAILED: `+d;throw Ze(e),new Error(e)}function qt(d,e){d||Ft()}function Qt(d,e){d||Ft()}function yt(d,e){return d}const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ae.g{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ut{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}}class Oe{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable(()=>s(rt.UNAUTHENTICATED))}shutdown(){}}class ye{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class Fe{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){var a=this;qt(void 0===this.o);let h=this.i;const _=Y=>this.i!==h?(h=this.i,s(Y)):Promise.resolve();let b=new ut;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new ut,e.enqueueRetryable(()=>_(this.currentUser))};const P=()=>{const Y=b;e.enqueueRetryable((0,i.A)(function*(){yield Y.promise,yield _(a.currentUser)}))},L=Y=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.o&&(this.auth.addAuthTokenListener(this.o),P())};this.t.onInit(Y=>L(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?L(Y):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new ut)}},0),P()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(a=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt("string"==typeof a.accessToken),new Oe(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(null===e||"string"==typeof e),new rt(e)}}class dt{constructor(e,s,a){this.l=e,this.h=s,this.P=a,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class st{constructor(e,s,a){this.l=e,this.h=s,this.P=a}getToken(){return Promise.resolve(new dt(this.l,this.h,this.P))}start(e,s){e.enqueueRetryable(()=>s(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $t{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,s){qt(void 0===this.o);const a=_=>{null!=_.error&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const b=_.token!==this.R;return this.R=_.token,Te("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?s(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>a(_))};const h=_=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>h(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?h(_):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(s=>s?(qt("string"==typeof s.token),this.R=s.token,new $t(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function un(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(s);else for(let a=0;a<d;a++)s[a]=Math.floor(256*Math.random());return s}class Nn{static newId(){const s=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=un(40);for(let _=0;_<h.length;++_)a.length<20&&h[_]<s&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[_]%62))}return a}}function sn(d,e){return d<e?-1:d>e?1:0}function Yn(d,e,s){return d.length===e.length&&d.every((a,h)=>s(a,e[h]))}function kn(d){return d+"\0"}class jt{constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new ct($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ct($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<-62135596800)throw new ct($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*s));return new jt(s,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new jt(0,0))}static max(){return new Ut(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xn{constructor(e,s,a){void 0===s?s=0:s>e.length&&Ft(),void 0===a?a=e.length-s:a>e.length-s&&Ft(),this.segments=e,this.offset=s,this.len=a}get length(){return this.len}isEqual(e){return 0===Xn.comparator(this,e)}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(a=>{s.push(a)}):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,a=this.limit();s<a;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const a=Math.min(e.length,s.length);for(let h=0;h<a;h++){const _=e.get(h),b=s.get(h);if(_<b)return-1;if(_>b)return 1}return e.length<s.length?-1:e.length>s.length?1:0}}class en extends Xn{construct(e,s,a){return new en(e,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const a of e){if(a.indexOf("//")>=0)throw new ct($e.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter(h=>h.length>0))}return new en(s)}static emptyPath(){return new en([])}}const Ar=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends Xn{construct(e,s,a){return new qn(e,s,a)}static isValidIdentifier(e){return Ar.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qn(["__name__"])}static fromServerFormat(e){const s=[];let a="",h=0;const _=()=>{if(0===a.length)throw new ct($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""};let b=!1;for(;h<e.length;){const P=e[h];if("\\"===P){if(h+1===e.length)throw new ct($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[h+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new ct($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=L,h+=2}else"`"===P?(b=!b,h++):"."!==P||b?(a+=P,h++):(_(),h++)}if(_(),b)throw new ct($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(s)}static emptyPath(){return new qn([])}}class Bt{constructor(e){this.path=e}static fromPath(e){return new Bt(en.fromString(e))}static fromName(e){return new Bt(en.fromString(e).popFirst(5))}static empty(){return new Bt(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,s){return en.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bt(new en(e.slice()))}}class vn{constructor(e,s,a,h){this.indexId=e,this.collectionGroup=s,this.fields=a,this.indexState=h}}function zn(d){return d.fields.find(e=>2===e.kind)}function In(d){return d.fields.filter(e=>2!==e.kind)}vn.UNKNOWN_ID=-1;class Dr{constructor(e,s){this.fieldPath=e,this.kind=s}}class Kn{constructor(e,s){this.sequenceNumber=e,this.offset=s}static empty(){return new Kn(0,hn.min())}}function zr(d,e){const s=d.toTimestamp().seconds,a=d.toTimestamp().nanoseconds+1,h=Ut.fromTimestamp(1e9===a?new jt(s+1,0):new jt(s,a));return new hn(h,Bt.empty(),e)}function Zi(d){return new hn(d.readTime,d.key,-1)}class hn{constructor(e,s,a){this.readTime=e,this.documentKey=s,this.largestBatchId=a}static min(){return new hn(Ut.min(),Bt.empty(),-1)}static max(){return new hn(Ut.max(),Bt.empty(),-1)}}function Wr(d,e){let s=d.readTime.compareTo(e.readTime);return 0!==s?s:(s=Bt.comparator(d.documentKey,e.documentKey),0!==s?s:sn(d.largestBatchId,e.largestBatchId))}const tr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Wn(d){return bi.apply(this,arguments)}function bi(){return(bi=(0,i.A)(function*(d){if(d.code!==$e.FAILED_PRECONDITION||d.message!==tr)throw d;Te("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ht{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new ht((a,h)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(a,h)},this.catchCallback=_=>{this.wrapFailure(s,_).next(a,h)}})}toPromise(){return new Promise((e,s)=>{this.next(e,s)})}wrapUserFunction(e){try{const s=e();return s instanceof ht?s:ht.resolve(s)}catch(s){return ht.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction(()=>e(s)):ht.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction(()=>e(s)):ht.reject(s)}static resolve(e){return new ht((s,a)=>{s(e)})}static reject(e){return new ht((s,a)=>{a(e)})}static waitFor(e){return new ht((s,a)=>{let h=0,_=0,b=!1;e.forEach(P=>{++h,P.next(()=>{++_,b&&_===h&&s()},L=>a(L))}),b=!0,_===h&&s()})}static or(e){let s=ht.resolve(!1);for(const a of e)s=s.next(h=>h?ht.resolve(h):a());return s}static forEach(e,s){const a=[];return e.forEach((h,_)=>{a.push(s.call(this,h,_))}),this.waitFor(a)}static mapArray(e,s){return new ht((a,h)=>{const _=e.length,b=new Array(_);let P=0;for(let L=0;L<_;L++){const Y=L;s(e[Y]).next(ue=>{b[Y]=ue,++P,P===_&&a(b)},ue=>h(ue))}})}static doWhile(e,s){return new ht((a,h)=>{const _=()=>{!0===e()?s().next(()=>{_()},h):a()};_()})}}class vt{constructor(e,s){this.action=e,this.transaction=s,this.aborted=!1,this.V=new ut,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{s.error?this.V.reject(new Gt(e,s.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=It(a.target.error);this.V.reject(new Gt(e,h))}}static open(e,s,a,h){try{return new vt(s,e.transaction(h,a))}catch(_){throw new Gt(s,_)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const s=this.transaction.objectStore(e);return new Gr(s)}}class le{constructor(e,s,a){this.name=e,this.version=s,this.p=a,12.2===le.S((0,ae.ZQ)())&&Ze("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Te("SimpleDb","Removing database:",e),Cr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ae.zW)())return!1;if(le.v())return!0;const e=(0,ae.ZQ)(),s=le.S(e),a=0<s&&s<10,h=xe(e),_=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||_)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,s){return e.store(s)}static S(e){const s=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var s=this;return(0,i.A)(function*(){return s.db||(Te("SimpleDb","Opening database:",s.name),s.db=yield new Promise((a,h)=>{const _=indexedDB.open(s.name,s.version);_.onsuccess=b=>{a(b.target.result)},_.onblocked=()=>{h(new Gt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=b=>{const P=b.target.error;h("VersionError"===P.name?new ct($e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new ct($e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Gt(e,P))},_.onupgradeneeded=b=>{Te("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',b.oldVersion),s.p.O(b.target.result,_.transaction,b.oldVersion,s.version).next(()=>{Te("SimpleDb","Database upgrade to version "+s.version+" complete")})}})),s.N&&(s.db.onversionchange=a=>s.N(a)),s.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=s=>e(s))}runTransaction(e,s,a,h){var _=this;return(0,i.A)(function*(){const b="readonly"===s;let P=0;for(;;){++P;try{_.db=yield _.M(e);const L=vt.open(_.db,e,b?"readonly":"readwrite",a),Y=h(L).next(ue=>(L.g(),ue)).catch(ue=>(L.abort(ue),ht.reject(ue))).toPromise();return Y.catch(()=>{}),yield L.m,Y}catch(L){const Y=L,ue="FirebaseError"!==Y.name&&P<3;if(Te("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",ue),_.close(),!ue)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function xe(d){const e=d.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}class Rt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Cr(this.B.delete())}}class Gt extends ct{constructor(e,s){super($e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function jn(d){return"IndexedDbTransactionError"===d.name}class Gr{constructor(e){this.store=e}put(e,s){let a;return void 0!==s?(Te("SimpleDb","PUT",this.store.name,e,s),a=this.store.put(s,e)):(Te("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Cr(a)}add(e){return Te("SimpleDb","ADD",this.store.name,e,e),Cr(this.store.add(e))}get(e){return Cr(this.store.get(e)).next(s=>(void 0===s&&(s=null),Te("SimpleDb","GET",this.store.name,e,s),s))}delete(e){return Te("SimpleDb","DELETE",this.store.name,e),Cr(this.store.delete(e))}count(){return Te("SimpleDb","COUNT",this.store.name),Cr(this.store.count())}U(e,s){const a=this.options(e,s),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const _=h.getAll(a.range);return new ht((b,P)=>{_.onerror=L=>{P(L.target.error)},_.onsuccess=L=>{b(L.target.result)}})}{const _=this.cursor(a),b=[];return this.W(_,(P,L)=>{b.push(L)}).next(()=>b)}}G(e,s){const a=this.store.getAll(e,null===s?void 0:s);return new ht((h,_)=>{a.onerror=b=>{_(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,s){Te("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,s);a.H=!1;const h=this.cursor(a);return this.W(h,(_,b,P)=>P.delete())}J(e,s){let a;s?a=e:(a={},s=e);const h=this.cursor(a);return this.W(h,s)}Y(e){const s=this.cursor({});return new ht((a,h)=>{s.onerror=_=>{const b=It(_.target.error);h(b)},s.onsuccess=_=>{const b=_.target.result;b?e(b.primaryKey,b.value).next(P=>{P?b.continue():a()}):a()}})}W(e,s){const a=[];return new ht((h,_)=>{e.onerror=b=>{_(b.target.error)},e.onsuccess=b=>{const P=b.target.result;if(!P)return void h();const L=new Rt(P),Y=s(P.primaryKey,P.value,L);if(Y instanceof ht){const ue=Y.catch(De=>(L.done(),ht.reject(De)));a.push(ue)}L.isDone?h():null===L.K?P.continue():P.continue(L.K)}}).next(()=>ht.waitFor(a))}options(e,s){let a;return void 0!==e&&("string"==typeof e?a=e:s=e),{index:a,range:s}}cursor(e){let s="next";if(e.reverse&&(s="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,s):a.openCursor(e.range,s)}return this.store.openCursor(e.range,s)}}function Cr(d){return new ht((e,s)=>{d.onsuccess=a=>{e(a.target.result)},d.onerror=a=>{const h=It(a.target.error);s(h)}})}let ii=!1;function It(d){const e=le.S((0,ae.ZQ)());if(e>=12.2&&e<13){const s="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(s)>=0){const a=new ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ii||(ii=!0,setTimeout(()=>{throw a},0)),a}}return d}class G{constructor(e,s){this.asyncQueue=e,this.Z=s,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var s=this;Te("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,i.A)(function*(){s.task=null;try{Te("IndexBackfiller",`Documents written: ${yield s.Z.ee()}`)}catch(a){jn(a)?Te("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Wn(a)}yield s.X(6e4)}))}}class x{constructor(e,s){this.localStore=e,this.persistence=s}ee(e=50){var s=this;return(0,i.A)(function*(){return s.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>s.te(a,e))})()}te(e,s){const a=new Set;let h=s,_=!0;return ht.doWhile(()=>!0===_&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return Te("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(P=>{h-=P,a.add(b)});_=!1})).next(()=>s-h)}ne(e,s,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,s).next(h=>this.localStore.localDocuments.getNextDocuments(e,s,h,a).next(_=>{const b=_.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,_)).next(P=>(Te("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,s,P))).next(()=>b.size)}))}re(e,s){let a=e;return s.changes.forEach((h,_)=>{const b=Zi(_);Wr(b,a)>0&&(a=b)}),new hn(a.readTime,a.documentKey,Math.max(s.batchId,e.largestBatchId))}}let A=(()=>{class d{constructor(s,a){this.previousValue=s,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue}next(){const s=++this.previousValue;return this.se&&this.se(s),s}}return d.oe=-1,d})();function J(d){return null==d}function $(d){return 0===d&&1/d==-1/0}function ge(d){return"number"==typeof d&&Number.isInteger(d)&&!$(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function We(d){let e="";for(let s=0;s<d.length;s++)e.length>0&&(e=Yt(e)),e=Wt(d.get(s),e);return Yt(e)}function Wt(d,e){let s=e;const a=d.length;for(let h=0;h<a;h++){const _=d.charAt(h);switch(_){case"\0":s+="\x01\x10";break;case"\x01":s+="\x01\x11";break;default:s+=_}}return s}function Yt(d){return d+"\x01\x01"}function Sn(d){const e=d.length;if(qt(e>=2),2===e)return qt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),en.emptyPath();const s=e-2,a=[];let h="";for(let _=0;_<e;){const b=d.indexOf("\x01",_);switch((b<0||b>s)&&Ft(),d.charAt(b+1)){case"\x01":const P=d.substring(_,b);let L;0===h.length?L=P:(h+=P,L=h,h=""),a.push(L);break;case"\x10":h+=d.substring(_,b),h+="\0";break;case"\x11":h+=d.substring(_,b+1);break;default:Ft()}_=b+2}return new en(a)}const ar=["userId","batchId"];function Ve(d,e){return[d,We(e)]}function Ue(d,e,s){return[d,We(e),s]}const qe={},Vt=["prefixPath","collectionGroup","readTime","documentId"],rn=["prefixPath","collectionGroup","documentId"],_n=["collectionGroup","readTime","prefixPath","documentId"],fn=["canonicalId","targetId"],lr=["targetId","path"],yn=["path","targetId"],yi=["collectionId","parent"],At=["indexId","uid"],at=["uid","sequenceNumber"],kt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dn=["indexId","uid","orderedDocumentKey"],Fn=["userId","collectionPath","documentId"],mn=["userId","collectionPath","largestBatchId"],Ln=["userId","collectionGroup","largestBatchId"],wr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jr=[...wr,"documentOverlays"],Qn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ai=Qn,ls=[...Ai,"indexConfiguration","indexState","indexEntries"],Vi=ls,_o=[...ls,"globals"];class Hs extends mr{constructor(e,s){super(),this._e=e,this.currentSequenceNumber=s}}function zi(d,e){const s=yt(d);return le.F(s._e,e)}function Ao(d){let e=0;for(const s in d)Object.prototype.hasOwnProperty.call(d,s)&&e++;return e}function Zr(d,e){for(const s in d)Object.prototype.hasOwnProperty.call(d,s)&&e(s,d[s])}function ys(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class ei{constructor(e,s){this.comparator=e,this.root=s||Oi.EMPTY}insert(e,s){return new ei(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Oi.BLACK,null,null))}remove(e){return new ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oi.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}indexOf(e){let s=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return s+a.left.size;h<0?a=a.left:(s+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((s,a)=>(e(s,a),!1))}toString(){const e=[];return this.inorderTraversal((s,a)=>(e.push(`${s}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bi(this.root,e,this.comparator,!0)}}class Bi{constructor(e,s,a,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=s?a(e.key,s):1,s&&h&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oi{constructor(e,s,a,h,_){this.key=e,this.value=s,this.color=a??Oi.RED,this.left=h??Oi.EMPTY,this.right=_??Oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,a,h,_){return new Oi(e??this.key,s??this.value,a??this.color,h??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let h=this;const _=a(e,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(e,s,a),null):0===_?h.copy(null,s,null,null,null):h.copy(null,null,null,null,h.right.insert(e,s,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let a,h=this;if(s(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,s),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===s(e,h.key)){if(h.right.isEmpty())return Oi.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,s))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const e=this.left.check();if(e!==this.right.check())throw Ft();return e+(this.isRed()?0:1)}}Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1,Oi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(e,s,a,h,_){return this}insert(e,s,a){return new Oi(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Er{constructor(e){this.comparator=e,this.data=new ei(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((s,a)=>(e(s),!1))}forEachInRange(e,s){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;s(h.key)}}forEachWhile(e,s){let a;for(a=void 0!==s?this.data.getIteratorFrom(s):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new zs(this.data.getIterator())}getIteratorFrom(e){return new zs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach(a=>{s=s.add(a)}),s}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const s=this.data.getIterator(),a=e.data.getIterator();for(;s.hasNext();){const h=s.getNext().key,_=a.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const e=[];return this.forEach(s=>{e.push(s)}),e}toString(){const e=[];return this.forEach(s=>e.push(s)),"SortedSet("+e.toString()+")"}copy(e){const s=new Er(this.comparator);return s.data=e,s}}class zs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Do(d){return d.hasNext()?d.getNext():void 0}class li{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new li([])}unionWith(e){let s=new Er(qn.comparator);for(const a of this.fields)s=s.add(a);for(const a of e)s=s.add(a);return new li(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Yn(this.fields,e.fields,(s,a)=>s.isEqual(a))}}class ba extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ua(){return typeof atob<"u"}class Di{constructor(e){this.binaryString=e}static fromBase64String(e){const s=function(h){try{return atob(h)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new ba("Invalid base64 string: "+_):_}}(e);return new Di(s)}static fromUint8Array(e){const s=function(h){let _="";for(let b=0;b<h.length;++b)_+=String.fromCharCode(h[b]);return _}(e);return new Di(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(s){const a=new Uint8Array(s.length);for(let h=0;h<s.length;h++)a[h]=s.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Di.EMPTY_BYTE_STRING=new Di("");const oo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(d){if(qt(!!d),"string"==typeof d){let e=0;const s=oo.exec(d);if(qt(!!s),s[1]){let h=s[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(d);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:si(d.seconds),nanos:si(d.nanos)}}function si(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function Vs(d){return"string"==typeof d?Di.fromBase64String(d):Di.fromUint8Array(d)}function bs(d){var e,s;return"server_timestamp"===(null===(s=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function ao(d){const e=d.mapValue.fields.__previous_value__;return bs(e)?ao(e):e}function Ss(d){const e=Ws(d.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}class Or{constructor(e,s,a,h,_,b,P,L,Y){this.databaseId=e,this.appId=s,this.persistenceKey=a,this.host=h,this.ssl=_,this.forceLongPolling=b,this.autoDetectLongPolling=P,this.longPollingOptions=L,this.useFetchStreams=Y}}class ci{constructor(e,s){this.projectId=e,this.database=s||"(default)"}static empty(){return new ci("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ci&&e.projectId===this.projectId&&e.database===this.database}}const Si={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rs={nullValue:"NULL_VALUE"};function ui(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?bs(d)?4:sr(d)?9007199254740991:ns(d)?10:11:Ft()}function cs(d,e){if(d===e)return!0;const s=ui(d);if(s!==ui(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return Ss(d).isEqual(Ss(e));case 3:return function(h,_){if("string"==typeof h.timestampValue&&"string"==typeof _.timestampValue&&h.timestampValue.length===_.timestampValue.length)return h.timestampValue===_.timestampValue;const b=Ws(h.timestampValue),P=Ws(_.timestampValue);return b.seconds===P.seconds&&b.nanos===P.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return _=e,Vs(d.bytesValue).isEqual(Vs(_.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,_){return si(h.geoPointValue.latitude)===si(_.geoPointValue.latitude)&&si(h.geoPointValue.longitude)===si(_.geoPointValue.longitude)}(d,e);case 2:return function(h,_){if("integerValue"in h&&"integerValue"in _)return si(h.integerValue)===si(_.integerValue);if("doubleValue"in h&&"doubleValue"in _){const b=si(h.doubleValue),P=si(_.doubleValue);return b===P?$(b)===$(P):isNaN(b)&&isNaN(P)}return!1}(d,e);case 9:return Yn(d.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:case 11:return function(h,_){const b=h.mapValue.fields||{},P=_.mapValue.fields||{};if(Ao(b)!==Ao(P))return!1;for(const L in b)if(b.hasOwnProperty(L)&&(void 0===P[L]||!cs(b[L],P[L])))return!1;return!0}(d,e);default:return Ft()}var _}function Ks(d,e){return void 0!==(d.values||[]).find(s=>cs(s,e))}function es(d,e){if(d===e)return 0;const s=ui(d),a=ui(e);if(s!==a)return sn(s,a);switch(s){case 0:case 9007199254740991:return 0;case 1:return sn(d.booleanValue,e.booleanValue);case 2:return function(_,b){const P=si(_.integerValue||_.doubleValue),L=si(b.integerValue||b.doubleValue);return P<L?-1:P>L?1:P===L?0:isNaN(P)?isNaN(L)?0:-1:1}(d,e);case 3:return Ts(d.timestampValue,e.timestampValue);case 4:return Ts(Ss(d),Ss(e));case 5:return sn(d.stringValue,e.stringValue);case 6:return function(_,b){const P=Vs(_),L=Vs(b);return P.compareTo(L)}(d.bytesValue,e.bytesValue);case 7:return function(_,b){const P=_.split("/"),L=b.split("/");for(let Y=0;Y<P.length&&Y<L.length;Y++){const ue=sn(P[Y],L[Y]);if(0!==ue)return ue}return sn(P.length,L.length)}(d.referenceValue,e.referenceValue);case 8:return function(_,b){const P=sn(si(_.latitude),si(b.latitude));return 0!==P?P:sn(si(_.longitude),si(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Ps(d.arrayValue,e.arrayValue);case 10:return function(_,b){var P,L,Y,ue;const Dt=null===(P=(_.fields||{}).value)||void 0===P?void 0:P.arrayValue,Xt=null===(L=(b.fields||{}).value)||void 0===L?void 0:L.arrayValue,pn=sn((null===(Y=Dt?.values)||void 0===Y?void 0:Y.length)||0,(null===(ue=Xt?.values)||void 0===ue?void 0:ue.length)||0);return 0!==pn?pn:Ps(Dt,Xt)}(d.mapValue,e.mapValue);case 11:return function(_,b){if(_===Si.mapValue&&b===Si.mapValue)return 0;if(_===Si.mapValue)return 1;if(b===Si.mapValue)return-1;const P=_.fields||{},L=Object.keys(P),Y=b.fields||{},ue=Object.keys(Y);L.sort(),ue.sort();for(let De=0;De<L.length&&De<ue.length;++De){const Ke=sn(L[De],ue[De]);if(0!==Ke)return Ke;const Dt=es(P[L[De]],Y[ue[De]]);if(0!==Dt)return Dt}return sn(L.length,ue.length)}(d.mapValue,e.mapValue);default:throw Ft()}}function Ts(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return sn(d,e);const s=Ws(d),a=Ws(e),h=sn(s.seconds,a.seconds);return 0!==h?h:sn(s.nanos,a.nanos)}function Ps(d,e){const s=d.values||[],a=e.values||[];for(let h=0;h<s.length&&h<a.length;++h){const _=es(s[h],a[h]);if(_)return _}return sn(s.length,a.length)}function oi(d){return En(d)}function En(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(s){const a=Ws(s);return`time(${a.seconds},${a.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?Vs(d.bytesValue).toBase64():"referenceValue"in d?Bt.fromName(d.referenceValue).toString():"geoPointValue"in d?function(s){return`geo(${s.latitude},${s.longitude})`}(d.geoPointValue):"arrayValue"in d?function(s){let a="[",h=!0;for(const _ of s.values||[])h?h=!1:a+=",",a+=En(_);return a+"]"}(d.arrayValue):"mapValue"in d?function(s){const a=Object.keys(s.fields||{}).sort();let h="{",_=!0;for(const b of a)_?_=!1:h+=",",h+=`${b}:${En(s.fields[b])}`;return h+"}"}(d.mapValue):Ft()}function gr(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function ts(d){return!!d&&"integerValue"in d}function us(d){return!!d&&"arrayValue"in d}function $i(d){return!!d&&"nullValue"in d}function qs(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function ti(d){return!!d&&"mapValue"in d}function ns(d){var e,s;return"__vector__"===(null===(s=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function ds(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return Zr(d.mapValue.fields,(s,a)=>e.mapValue.fields[s]=ds(a)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(d.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=ds(d.arrayValue.values[s]);return e}return Object.assign({},d)}function sr(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const vs={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Is(d){return"nullValue"in d?Rs:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?gr(ci.empty(),Bt.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?ns(d)?vs:{mapValue:{}}:Ft()}function re(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?gr(ci.empty(),Bt.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?vs:"mapValue"in d?ns(d)?{mapValue:{}}:Si:Ft()}function Z(d,e){const s=es(d.value,e.value);return 0!==s?s:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Re(d,e){const s=es(d.value,e.value);return 0!==s?s:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class je{constructor(e){this.value=e}static empty(){return new je({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let a=0;a<e.length-1;++a)if(s=(s.mapValue.fields||{})[e.get(a)],!ti(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=ds(s)}setAll(e){let s=qn.emptyPath(),a={},h=[];e.forEach((b,P)=>{if(!s.isImmediateParentOf(P)){const L=this.getFieldsMap(s);this.applyChanges(L,a,h),a={},h=[],s=P.popLast()}b?a[P.lastSegment()]=ds(b):h.push(P.lastSegment())});const _=this.getFieldsMap(s);this.applyChanges(_,a,h)}delete(e){const s=this.field(e.popLast());ti(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=s.mapValue.fields[e.get(a)];ti(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},s.mapValue.fields[e.get(a)]=h),s=h}return s.mapValue.fields}applyChanges(e,s,a){Zr(s,(h,_)=>e[h]=_);for(const h of a)delete e[h]}clone(){return new je(ds(this.value))}}function lt(d){const e=[];return Zr(d.fields,(s,a)=>{const h=new qn([s]);if(ti(a)){const _=lt(a.mapValue).fields;if(0===_.length)e.push(h);else for(const b of _)e.push(h.child(b))}else e.push(h)}),new li(e)}class St{constructor(e,s,a,h,_,b,P){this.key=e,this.documentType=s,this.version=a,this.readTime=h,this.createTime=_,this.data=b,this.documentState=P}static newInvalidDocument(e){return new St(e,0,Ut.min(),Ut.min(),Ut.min(),je.empty(),0)}static newFoundDocument(e,s,a,h){return new St(e,1,s,Ut.min(),a,h,0)}static newNoDocument(e,s){return new St(e,2,s,Ut.min(),Ut.min(),je.empty(),0)}static newUnknownDocument(e,s){return new St(e,3,s,Ut.min(),Ut.min(),je.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=je.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=je.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class an{constructor(e,s){this.position=e,this.inclusive=s}}function Pn(d,e,s){let a=0;for(let h=0;h<d.position.length;h++){const _=e[h],b=d.position[h];if(a=_.field.isKeyField()?Bt.comparator(Bt.fromName(b.referenceValue),s.key):es(b,s.data.field(_.field)),"desc"===_.dir&&(a*=-1),0!==a)break}return a}function bn(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let s=0;s<d.position.length;s++)if(!cs(d.position[s],e.position[s]))return!1;return!0}class rr{constructor(e,s="asc"){this.field=e,this.dir=s}}function Nr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Hn{}class xn extends Hn{constructor(e,s,a){super(),this.field=e,this.op=s,this.value=a}static create(e,s,a){return e.isKeyField()?"in"===s||"not-in"===s?this.createKeyFieldInFilter(e,s,a):new br(e,s,a):"array-contains"===s?new Xs(e,a):"in"===s?new Xo(e,a):"not-in"===s?new ja(e,a):"array-contains-any"===s?new Qo(e,a):new xn(e,s,a)}static createKeyFieldInFilter(e,s,a){return"in"===s?new rs(e,a):new di(e,a)}matches(e){const s=e.data.field(this.field);return"!="===this.op?null!==s&&this.matchesComparison(es(s,this.value)):null!==s&&ui(this.value)===ui(s)&&this.matchesComparison(es(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends Hn{constructor(e,s){super(),this.filters=e,this.op=s,this.ae=null}static create(e,s){return new Jn(e,s)}matches(e){return Qr(this)?void 0===this.filters.find(s=>!s.matches(e)):void 0!==this.filters.find(s=>s.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,s)=>e.concat(s.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Qr(d){return"and"===d.op}function kr(d){return"or"===d.op}function Ri(d){return Gi(d)&&Qr(d)}function Gi(d){for(const e of d.filters)if(e instanceof Jn)return!1;return!0}function mi(d){if(d instanceof xn)return d.field.canonicalString()+d.op.toString()+oi(d.value);if(Ri(d))return d.filters.map(e=>mi(e)).join(",");{const e=d.filters.map(s=>mi(s)).join(",");return`${d.op}(${e})`}}function Mr(d,e){return d instanceof xn?(a=d,(h=e)instanceof xn&&a.op===h.op&&a.field.isEqual(h.field)&&cs(a.value,h.value)):d instanceof Jn?function(a,h){return h instanceof Jn&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((_,b,P)=>_&&Mr(b,h.filters[P]),!0)}(d,e):void Ft();var a,h}function Ni(d,e){const s=d.filters.concat(e);return Jn.create(s,d.op)}function Ui(d){return d instanceof xn?`${(s=d).field.canonicalString()} ${s.op} ${oi(s.value)}`:d instanceof Jn?function(s){return s.op.toString()+" {"+s.getFilters().map(Ui).join(" ,")+"}"}(d):"Filter";var s}class br extends xn{constructor(e,s,a){super(e,s,a),this.key=Bt.fromName(a.referenceValue)}matches(e){const s=Bt.comparator(e.key,this.key);return this.matchesComparison(s)}}class rs extends xn{constructor(e,s){super(e,"in",s),this.keys=Ys(0,s)}matches(e){return this.keys.some(s=>s.isEqual(e.key))}}class di extends xn{constructor(e,s){super(e,"not-in",s),this.keys=Ys(0,s)}matches(e){return!this.keys.some(s=>s.isEqual(e.key))}}function Ys(d,e){var s;return((null===(s=e.arrayValue)||void 0===s?void 0:s.values)||[]).map(a=>Bt.fromName(a.referenceValue))}class Xs extends xn{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return us(s)&&Ks(s.arrayValue,this.value)}}class Xo extends xn{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return null!==s&&Ks(this.value.arrayValue,s)}}class ja extends xn{constructor(e,s){super(e,"not-in",s)}matches(e){if(Ks(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return null!==s&&!Ks(this.value.arrayValue,s)}}class Qo extends xn{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!us(s)||!s.arrayValue.values)&&s.arrayValue.values.some(a=>Ks(this.value.arrayValue,a))}}class gl{constructor(e,s=null,a=[],h=[],_=null,b=null,P=null){this.path=e,this.collectionGroup=s,this.orderBy=a,this.filters=h,this.limit=_,this.startAt=b,this.endAt=P,this.ue=null}}function Ms(d,e=null,s=[],a=[],h=null,_=null,b=null){return new gl(d,e,s,a,h,_,b)}function Cs(d){const e=yt(d);if(null===e.ue){let s=e.path.canonicalString();null!==e.collectionGroup&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map(a=>mi(a)).join(","),s+="|ob:",s+=e.orderBy.map(a=>{return(_=a).field.canonicalString()+_.dir;var _}).join(","),J(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(a=>oi(a)).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(a=>oi(a)).join(",")),e.ue=s}return e.ue}function So(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<d.orderBy.length;s++)if(!Nr(d.orderBy[s],e.orderBy[s]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let s=0;s<d.filters.length;s++)if(!Mr(d.filters[s],e.filters[s]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!bn(d.startAt,e.startAt)&&bn(d.endAt,e.endAt)}function Ta(d){return Bt.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function la(d,e){return d.filters.filter(s=>s instanceof xn&&s.field.isEqual(e))}function Pi(d,e,s){let a=Rs,h=!0;for(const _ of la(d,e)){let b=Rs,P=!0;switch(_.op){case"<":case"<=":b=Is(_.value);break;case"==":case"in":case">=":b=_.value;break;case">":b=_.value,P=!1;break;case"!=":case"not-in":b=Rs}Z({value:a,inclusive:h},{value:b,inclusive:P})<0&&(a=b,h=P)}if(null!==s)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=s.position[_];Z({value:a,inclusive:h},{value:b,inclusive:s.inclusive})<0&&(a=b,h=s.inclusive);break}return{value:a,inclusive:h}}function ca(d,e,s){let a=Si,h=!0;for(const _ of la(d,e)){let b=Si,P=!0;switch(_.op){case">=":case">":b=re(_.value),P=!1;break;case"==":case"in":case"<=":b=_.value;break;case"<":b=_.value,P=!1;break;case"!=":case"not-in":b=Si}Re({value:a,inclusive:h},{value:b,inclusive:P})>0&&(a=b,h=P)}if(null!==s)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=s.position[_];Re({value:a,inclusive:h},{value:b,inclusive:s.inclusive})>0&&(a=b,h=s.inclusive);break}return{value:a,inclusive:h}}class Ro{constructor(e,s=null,a=[],h=[],_=null,b="F",P=null,L=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=h,this.limit=_,this.limitType=b,this.startAt=P,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function K(d,e,s,a,h,_,b,P){return new Ro(d,e,s,a,h,_,b,P)}function te(d){return new Ro(d)}function V(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function fe(d){return null!==d.collectionGroup}function ze(d){const e=yt(d);if(null===e.ce){e.ce=[];const s=new Set;for(const _ of e.explicitOrderBy)e.ce.push(_),s.add(_.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let P=new Er(qn.comparator);return b.filters.forEach(L=>{L.getFlattenedFilters().forEach(Y=>{Y.isInequality()&&(P=P.add(Y.field))})}),P})(e).forEach(_=>{s.has(_.canonicalString())||_.isKeyField()||e.ce.push(new rr(_,a))}),s.has(qn.keyField().canonicalString())||e.ce.push(new rr(qn.keyField(),a))}return e.ce}function mt(d){const e=yt(d);return e.le||(e.le=function hs(d,e){if("F"===d.limitType)return Ms(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new rr(h.field,"desc"===h.dir?"asc":"desc"));const s=d.endAt?new an(d.endAt.position,d.endAt.inclusive):null,a=d.startAt?new an(d.startAt.position,d.startAt.inclusive):null;return Ms(d.path,d.collectionGroup,e,d.filters,d.limit,s,a)}}(e,ze(d))),e.le}function xs(d,e){const s=d.filters.concat([e]);return new Ro(d.path,d.collectionGroup,d.explicitOrderBy.slice(),s,d.limit,d.limitType,d.startAt,d.endAt)}function ki(d,e,s){return new Ro(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,s,d.startAt,d.endAt)}function Us(d,e){return So(mt(d),mt(e))&&d.limitType===e.limitType}function eo(d){return`${Cs(mt(d))}|lt:${d.limitType}`}function Ti(d){return`Query(target=${function(s){let a=s.path.canonicalString();return null!==s.collectionGroup&&(a+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(a+=`, filters: [${s.filters.map(h=>Ui(h)).join(", ")}]`),J(s.limit)||(a+=", limit: "+s.limit),s.orderBy.length>0&&(a+=`, orderBy: [${s.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),s.startAt&&(a+=", startAt: ",a+=s.startAt.inclusive?"b:":"a:",a+=s.startAt.position.map(h=>oi(h)).join(",")),s.endAt&&(a+=", endAt: ",a+=s.endAt.inclusive?"a:":"b:",a+=s.endAt.position.map(h=>oi(h)).join(",")),`Target(${a})`}(mt(d))}; limitType=${d.limitType})`}function yo(d,e){return e.isFoundDocument()&&function(a,h){const _=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(_):Bt.isDocumentKey(a.path)?a.path.isEqual(_):a.path.isImmediateParentOf(_)}(d,e)&&function(a,h){for(const _ of ze(a))if(!_.field.isKeyField()&&null===h.data.field(_.field))return!1;return!0}(d,e)&&function(a,h){for(const _ of a.filters)if(!_.matches(h))return!1;return!0}(d,e)&&(h=e,!((a=d).startAt&&!function(b,P,L){const Y=Pn(b,P,L);return b.inclusive?Y<=0:Y<0}(a.startAt,ze(a),h)||a.endAt&&!function(b,P,L){const Y=Pn(b,P,L);return b.inclusive?Y>=0:Y>0}(a.endAt,ze(a),h)));var a,h}function ir(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function is(d){return(e,s)=>{let a=!1;for(const h of ze(d)){const _=ua(h,e,s);if(0!==_)return _;a=a||h.field.isKeyField()}return 0}}function ua(d,e,s){const a=d.field.isKeyField()?Bt.comparator(e.key,s.key):function(_,b,P){const L=b.data.field(_),Y=P.data.field(_);return null!==L&&null!==Y?es(L,Y):Ft()}(d.field,e,s);switch(d.dir){case"asc":return a;case"desc":return-1*a;default:return Ft()}}class ss{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a)for(const[h,_]of a)if(this.equalsFn(h,e))return _}has(e){return void 0!==this.get(e)}set(e,s){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,s]],void this.innerSize++;for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],e))return void(h[_]=[e,s]);h.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[s]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(s,a)=>{for(const[h,_]of a)e(h,_)})}isEmpty(){return ys(this.inner)}size(){return this.innerSize}}const _l=new ei(Bt.comparator);function fs(){return _l}const Ba=new ei(Bt.comparator);function lo(...d){let e=Ba;for(const s of d)e=e.insert(s.key,s);return e}function da(d){let e=Ba;return d.forEach((s,a)=>e=e.insert(s,a.overlayedDocument)),e}function os(){return $a()}function Ia(){return $a()}function $a(){return new ss(d=>d.toString(),(d,e)=>d.isEqual(e))}const Yl=new ei(Bt.comparator),cu=new Er(Bt.comparator);function Tr(...d){let e=cu;for(const s of d)e=e.add(s);return e}const yl=new Er(sn);function vo(){return yl}function co(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$(e)?"-0":e}}function Ga(d){return{integerValue:""+d}}function Ca(d,e){return ge(e)?Ga(e):co(d,e)}class vl{constructor(){this._=void 0}}function Dh(d,e,s){return d instanceof El?function(h,_){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return _&&bs(_)&&(_=ao(_)),_&&(b.fields.__previous_value__=_),{mapValue:b}}(s,e):d instanceof Bo?Xl(d,e):d instanceof wa?za(d,e):function(h,_){const b=uu(h,_),P=Ka(b)+Ka(h.Pe);return ts(b)&&ts(h.Pe)?Ga(P):co(h.serializer,P)}(d,e)}function Ha(d,e,s){return d instanceof Bo?Xl(d,e):d instanceof wa?za(d,e):s}function uu(d,e){return d instanceof Wa?ts(a=e)||(_=a)&&"doubleValue"in _?e:{integerValue:0}:null;var a,_}class El extends vl{}class Bo extends vl{constructor(e){super(),this.elements=e}}function Xl(d,e){const s=qa(e);for(const a of d.elements)s.some(h=>cs(h,a))||s.push(a);return{arrayValue:{values:s}}}class wa extends vl{constructor(e){super(),this.elements=e}}function za(d,e){let s=qa(e);for(const a of d.elements)s=s.filter(h=>!cs(h,a));return{arrayValue:{values:s}}}class Wa extends vl{constructor(e,s){super(),this.serializer=e,this.Pe=s}}function Ka(d){return si(d.integerValue||d.doubleValue)}function qa(d){return us(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class M{constructor(e,s){this.field=e,this.transform=s}}class B{constructor(e,s){this.version=e,this.transformResults=s}}class X{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new X}static exists(e){return new X(void 0,e)}static updateTime(e){return new X(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Le(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class xt{}function zt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Os(d.key,X.none()):new Ir(d.key,d.data,X.none());{const s=d.data,a=je.empty();let h=new Er(qn.comparator);for(let _ of e.fields)if(!h.has(_)){let b=s.field(_);null===b&&_.length>1&&(_=_.popLast(),b=s.field(_)),null===b?a.delete(_):a.set(_,b),h=h.add(_)}return new ni(d.key,a,new li(h.toArray()),X.none())}}function Bn(d,e,s){d instanceof Ir?function(h,_,b){const P=h.value.clone(),L=Fi(h.fieldTransforms,_,b.transformResults);P.setAll(L),_.convertToFoundDocument(b.version,P).setHasCommittedMutations()}(d,e,s):d instanceof ni?function(h,_,b){if(!Le(h.precondition,_))return void _.convertToUnknownDocument(b.version);const P=Fi(h.fieldTransforms,_,b.transformResults),L=_.data;L.setAll(Mi(h)),L.setAll(P),_.convertToFoundDocument(b.version,L).setHasCommittedMutations()}(d,e,s):e.convertToNoDocument(s.version).setHasCommittedMutations()}function Fr(d,e,s,a){return d instanceof Ir?function(_,b,P,L){if(!Le(_.precondition,b))return P;const Y=_.value.clone(),ue=uo(_.fieldTransforms,L,b);return Y.setAll(ue),b.convertToFoundDocument(b.version,Y).setHasLocalMutations(),null}(d,e,s,a):d instanceof ni?function(_,b,P,L){if(!Le(_.precondition,b))return P;const Y=uo(_.fieldTransforms,L,b),ue=b.data;return ue.setAll(Mi(_)),ue.setAll(Y),b.convertToFoundDocument(b.version,ue).setHasLocalMutations(),null===P?null:P.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(De=>De.field))}(d,e,s,a):(P=s,Le(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):P);var b,P}function Kr(d,e){let s=null;for(const a of d.fieldTransforms){const h=e.data.field(a.field),_=uu(a.transform,h||null);null!=_&&(null===s&&(s=je.empty()),s.set(a.field,_))}return s||null}function qr(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=d.fieldTransforms)&&void 0===h||a&&h&&Yn(a,h,(_,b)=>function se(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(a=d.transform)instanceof Bo&&h instanceof Bo||a instanceof wa&&h instanceof wa?Yn(a.elements,h.elements,cs):a instanceof Wa&&h instanceof Wa?cs(a.Pe,h.Pe):a instanceof El&&h instanceof El);var a,h}(_,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var a,h}class Ir extends xt{constructor(e,s,a,h=[]){super(),this.key=e,this.value=s,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ni extends xt{constructor(e,s,a,h,_=[]){super(),this.key=e,this.data=s,this.fieldMask=a,this.precondition=h,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function Mi(d){const e=new Map;return d.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const a=d.data.field(s);e.set(s,a)}}),e}function Fi(d,e,s){const a=new Map;qt(d.length===s.length);for(let h=0;h<s.length;h++){const _=d[h],b=_.transform,P=e.data.field(_.field);a.set(_.field,Ha(b,P,s[h]))}return a}function uo(d,e,s){const a=new Map;for(const h of d){const _=h.transform,b=s.data.field(h.field);a.set(h.field,Dh(_,b,e))}return a}class Os extends xt{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jo extends xt{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class js{constructor(e,s,a,h){this.batchId=e,this.localWriteTime=s,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,s){const a=s.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(e.key)&&Bn(_,e,a[h])}}applyToLocalView(e,s){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(s=Fr(a,e,s,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(s=Fr(a,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const a=Ia();return this.mutations.forEach(h=>{const _=e.get(h.key),b=_.overlayedDocument;let P=this.applyToLocalView(b,_.mutatedFields);P=s.has(h.key)?null:P;const L=zt(b,P);null!==L&&a.set(h.key,L),b.isValidDocument()||b.convertToNoDocument(Ut.min())}),a}keys(){return this.mutations.reduce((e,s)=>e.add(s.key),Tr())}isEqual(e){return this.batchId===e.batchId&&Yn(this.mutations,e.mutations,(s,a)=>qr(s,a))&&Yn(this.baseMutations,e.baseMutations,(s,a)=>qr(s,a))}}class Po{constructor(e,s,a,h){this.batch=e,this.commitVersion=s,this.mutationResults=a,this.docVersions=h}static from(e,s,a){qt(e.mutations.length===a.length);let h=Yl;const _=e.mutations;for(let b=0;b<_.length;b++)h=h.insert(_[b].key,a[b].version);return new Po(e,s,a,h)}}class Ji{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sh{constructor(e,s){this.count=e,this.unchangedNames=s}}var xr,Lr;function bl(d){switch(d){default:return Ft();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}function Qs(d){if(void 0===d)return Ze("GRPC error has no .code"),$e.UNKNOWN;switch(d){case xr.OK:return $e.OK;case xr.CANCELLED:return $e.CANCELLED;case xr.UNKNOWN:return $e.UNKNOWN;case xr.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case xr.INTERNAL:return $e.INTERNAL;case xr.UNAVAILABLE:return $e.UNAVAILABLE;case xr.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case xr.NOT_FOUND:return $e.NOT_FOUND;case xr.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case xr.ABORTED:return $e.ABORTED;case xr.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case xr.DATA_LOSS:return $e.DATA_LOSS;default:return Ft()}}(Lr=xr||(xr={}))[Lr.OK=0]="OK",Lr[Lr.CANCELLED=1]="CANCELLED",Lr[Lr.UNKNOWN=2]="UNKNOWN",Lr[Lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lr[Lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lr[Lr.NOT_FOUND=5]="NOT_FOUND",Lr[Lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lr[Lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lr[Lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lr[Lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lr[Lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lr[Lr.ABORTED=10]="ABORTED",Lr[Lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lr[Lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lr[Lr.INTERNAL=13]="INTERNAL",Lr[Lr.UNAVAILABLE=14]="UNAVAILABLE",Lr[Lr.DATA_LOSS=15]="DATA_LOSS";function dd(){return new TextEncoder}const Ql=new Ie([4294967295,4294967295],0);function Wi(d){const e=dd().encode(d),s=new ke;return s.update(e),new Uint8Array(s.digest())}function Rh(d){const e=new DataView(d.buffer),s=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new Ie([s,a],0),new Ie([h,_],0)]}class du{constructor(e,s,a){if(this.bitmap=e,this.padding=s,this.hashCount=a,s<0||s>=8)throw new Zo(`Invalid padding: ${s}`);if(a<0)throw new Zo(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new Zo(`Invalid hash count: ${a}`);if(0===e.length&&0!==s)throw new Zo(`Invalid padding when bitmap length is 0: ${s}`);this.Ie=8*e.length-s,this.Te=Ie.fromNumber(this.Ie)}Ee(e,s,a){let h=e.add(s.multiply(Ie.fromNumber(a)));return 1===h.compare(Ql)&&(h=new Ie([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const s=Wi(e),[a,h]=Rh(s);for(let _=0;_<this.hashCount;_++){const b=this.Ee(a,h,_);if(!this.de(b))return!1}return!0}static create(e,s,a){const h=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),b=new du(_,h,s);return a.forEach(P=>b.insert(P)),b}insert(e){if(0===this.Ie)return;const s=Wi(e),[a,h]=Rh(s);for(let _=0;_<this.hashCount;_++){const b=this.Ee(a,h,_);this.Ae(b)}}Ae(e){const s=Math.floor(e/8);this.bitmap[s]|=1<<e%8}}class Zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ws{constructor(e,s,a,h,_){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,s,a){const h=new Map;return h.set(e,Aa.createSynthesizedTargetChangeForCurrentChange(e,s,a)),new ws(Ut.min(),h,new ei(sn),fs(),Tr())}}class Aa{constructor(e,s,a,h,_){this.resumeToken=e,this.current=s,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,s,a){return new Aa(a,s,Tr(),Tr(),Tr())}}class ha{constructor(e,s,a,h){this.Re=e,this.removedTargetIds=s,this.key=a,this.Ve=h}}class hd{constructor(e,s){this.targetId=e,this.me=s}}class Ph{constructor(e,s,a=Di.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=s,this.resumeToken=a,this.cause=h}}class Tl{constructor(){this.fe=0,this.ge=Mc(),this.pe=Di.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Tr(),s=Tr(),a=Tr();return this.ge.forEach((h,_)=>{switch(_){case 0:e=e.add(h);break;case 2:s=s.add(h);break;case 1:a=a.add(h);break;default:Ft()}}),new Aa(this.pe,this.ye,e,s,a)}Ce(){this.we=!1,this.ge=Mc()}Fe(e,s){this.we=!0,this.ge=this.ge.insert(e,s)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hu{constructor(e){this.Le=e,this.Be=new Map,this.ke=fs(),this.qe=pr(),this.Qe=new ei(sn)}Ke(e){for(const s of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(s,e.Ve):this.Ue(s,e.key,e.Ve);for(const s of e.removedTargetIds)this.Ue(s,e.key,e.Ve)}We(e){this.forEachTarget(e,s=>{const a=this.Ge(s);switch(e.state){case 0:this.ze(s)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(s);break;case 3:this.ze(s)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(s)&&(this.je(s),a.De(e.resumeToken));break;default:Ft()}})}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.Be.forEach((a,h)=>{this.ze(h)&&s(h)})}He(e){const s=e.targetId,a=e.me.count,h=this.Je(s);if(h){const _=h.target;if(Ta(_))if(0===a){const b=new Bt(_.path);this.Ue(s,b,St.newNoDocument(b,Ut.min()))}else qt(1===a);else{const b=this.Ye(s);if(b!==a){const P=this.Ze(e),L=P?this.Xe(P,e,b):1;0!==L&&(this.je(s),this.Qe=this.Qe.insert(s,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const s=e.me.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:_=0}=s;let b,P;try{b=Vs(a).toUint8Array()}catch(L){if(L instanceof ba)return Jt("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{P=new du(b,h,_)}catch(L){return Jt(L instanceof Zo?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===P.Ie?null:P}Xe(e,s,a){return s.me.count===a-this.nt(e,s.targetId)?0:2}nt(e,s){const a=this.Le.getRemoteKeysForTarget(s);let h=0;return a.forEach(_=>{const b=this.Le.tt(),P=`projects/${b.projectId}/databases/${b.database}/documents/${_.path.canonicalString()}`;e.mightContain(P)||(this.Ue(s,_,null),h++)}),h}rt(e){const s=new Map;this.Be.forEach((_,b)=>{const P=this.Je(b);if(P){if(_.current&&Ta(P.target)){const L=new Bt(P.target.path);null!==this.ke.get(L)||this.it(b,L)||this.Ue(b,L,St.newNoDocument(L,e))}_.be&&(s.set(b,_.ve()),_.Ce())}});let a=Tr();this.qe.forEach((_,b)=>{let P=!0;b.forEachWhile(L=>{const Y=this.Je(L);return!Y||"TargetPurposeLimboResolution"===Y.purpose||(P=!1,!1)}),P&&(a=a.add(_))}),this.ke.forEach((_,b)=>b.setReadTime(e));const h=new ws(e,s,this.Qe,this.ke,a);return this.ke=fs(),this.qe=pr(),this.Qe=new ei(sn),h}$e(e,s){if(!this.ze(e))return;const a=this.it(e,s.key)?2:0;this.Ge(e).Fe(s.key,a),this.ke=this.ke.insert(s.key,s),this.qe=this.qe.insert(s.key,this.st(s.key).add(e))}Ue(e,s,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,s)?h.Fe(s,1):h.Me(s),this.qe=this.qe.insert(s,this.st(s).delete(e)),a&&(this.ke=this.ke.insert(s,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const s=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let s=this.Be.get(e);return s||(s=new Tl,this.Be.set(e,s)),s}st(e){let s=this.qe.get(e);return s||(s=new Er(sn),this.qe=this.qe.insert(e,s)),s}ze(e){const s=null!==this.Je(e);return s||Te("WatchChangeAggregator","Detected inactive target",e),s}Je(e){const s=this.Be.get(e);return s&&s.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Tl),this.Le.getRemoteKeysForTarget(e).forEach(s=>{this.Ue(e,s,null)})}it(e,s){return this.Le.getRemoteKeysForTarget(e).has(s)}}function pr(){return new ei(Bt.comparator)}function Mc(){return new ei(Bt.comparator)}const fu={asc:"ASCENDING",desc:"DESCENDING"},fa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xc={and:"AND",or:"OR"};class pu{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Da(d,e){return d.useProto3Json||J(e)?e:{value:e}}function Eo(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fd(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function mu(d,e){return Eo(d,e.toTimestamp())}function as(d){return qt(!!d),Ut.fromTimestamp(function(s){const a=Ws(s);return new jt(a.seconds,a.nanos)}(d))}function Jl(d,e){return gu(d,e).canonicalString()}function gu(d,e){const s=(h=d,new en(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?s:s.child(e)}function tn(d){const e=en.fromString(d);return qt(w(e)),e}function Pr(d,e){return Jl(d.databaseId,e.path)}function $o(d,e){const s=tn(e);if(s.get(1)!==d.databaseId.projectId)throw new ct($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+d.databaseId.projectId);if(s.get(3)!==d.databaseId.database)throw new ct($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+d.databaseId.database);return new Bt(Zl(s))}function ps(d,e){return Jl(d.databaseId,e)}function ms(d){const e=tn(d);return 4===e.length?en.emptyPath():Zl(e)}function Il(d){return new en(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function Zl(d){return qt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function Ns(d,e,s){return{name:Pr(d,e),fields:s.value.mapValue.fields}}function Ya(d,e,s){const a=$o(d,e.name),h=as(e.updateTime),_=e.createTime?as(e.createTime):Ut.min(),b=new je({mapValue:{fields:e.fields}}),P=St.newFoundDocument(a,h,_,b);return s&&P.setHasCommittedMutations(),s?P.setHasCommittedMutations():P}function Oc(d,e){let s;if(e instanceof Ir)s={update:Ns(d,e.key,e.value)};else if(e instanceof Os)s={delete:Pr(d,e.key)};else if(e instanceof ni)s={update:Ns(d,e.key,e.data),updateMask:N(e.fieldMask)};else{if(!(e instanceof Jo))return Ft();s={verify:Pr(d,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map(a=>function(_,b){const P=b.transform;if(P instanceof El)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof Bo)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof wa)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof Wa)return{fieldPath:b.field.canonicalString(),increment:P.Pe};throw Ft()}(0,a))),e.precondition.isNone||(s.currentDocument=void 0!==(_=e.precondition).updateTime?{updateTime:mu(d,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:Ft()),s;var _}function Sa(d,e){const s=e.currentDocument?void 0!==(_=e.currentDocument).updateTime?X.updateTime(as(_.updateTime)):void 0!==_.exists?X.exists(_.exists):X.none():X.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,P){let L=null;"setToServerValue"in P?(qt("REQUEST_TIME"===P.setToServerValue),L=new El):"appendMissingElements"in P?L=new Bo(P.appendMissingElements.values||[]):"removeAllFromArray"in P?L=new wa(P.removeAllFromArray.values||[]):"increment"in P?L=new Wa(b,P.increment):Ft();const Y=qn.fromServerFormat(P.fieldPath);return new M(Y,L)}(d,h)):[];var _;if(e.update){const h=$o(d,e.update.name),_=new je({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new li((e.updateMask.fieldPaths||[]).map(ue=>qn.fromServerFormat(ue)));return new ni(h,_,b,s,a)}return new Ir(h,_,s,a)}if(e.delete){const h=$o(d,e.delete);return new Os(h,s)}if(e.verify){const h=$o(d,e.verify);return new Jo(h,s)}return Ft()}function ho(d,e){return{documents:[ps(d,e.path)]}}function Ra(d,e){const s={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=ps(d,h);const _=function(Y){if(0!==Y.length)return S(Jn.create(Y,"and"))}(e.filters);_&&(s.structuredQuery.where=_);const b=function(Y){if(0!==Y.length)return Y.map(ue=>{return{field:pa((Ke=ue).field),direction:ep(Ke.dir)};var Ke})}(e.orderBy);b&&(s.structuredQuery.orderBy=b);const P=Da(d,e.limit);return null!==P&&(s.structuredQuery.limit=P),e.startAt&&(s.structuredQuery.startAt={before:(Y=e.startAt).inclusive,values:Y.position}),e.endAt&&(s.structuredQuery.endAt=function(Y){return{before:!Y.inclusive,values:Y.position}}(e.endAt)),{_t:s,parent:h};var Y}function bo(d){let e=ms(d.parent);const s=d.structuredQuery,a=s.from?s.from.length:0;let h=null;if(a>0){qt(1===a);const ue=s.from[0];ue.allDescendants?h=ue.collectionId:e=e.child(ue.collectionId)}let _=[];s.where&&(_=function(De){const Ke=ec(De);return Ke instanceof Jn&&Ri(Ke)?Ke.getFilters():[Ke]}(s.where));let b=[];s.orderBy&&(b=s.orderBy.map(Ke=>{return new rr(Cl((Xt=Ke).field),function(ln){switch(ln){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Xt.direction));var Xt}));let P=null;s.limit&&(P=function(De){let Ke;return Ke="object"==typeof De?De.value:De,J(Ke)?null:Ke}(s.limit));let L=null;var De;s.startAt&&(L=new an((De=s.startAt).values||[],!!De.before));let Y=null;return s.endAt&&(Y=function(De){return new an(De.values||[],!De.before)}(s.endAt)),K(e,h,b,_,P,"F",L,Y)}function ec(d){return void 0!==d.unaryFilter?function(s){switch(s.unaryFilter.op){case"IS_NAN":const a=Cl(s.unaryFilter.field);return xn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=Cl(s.unaryFilter.field);return xn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=Cl(s.unaryFilter.field);return xn.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Cl(s.unaryFilter.field);return xn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(d):void 0!==d.fieldFilter?xn.create(Cl((s=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(s.fieldFilter.op),s.fieldFilter.value):void 0!==d.compositeFilter?function(s){return Jn.create(s.compositeFilter.filters.map(a=>ec(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Ft()}}(s.compositeFilter.op))}(d):Ft();var s}function ep(d){return fu[d]}function Qa(d){return fa[d]}function Eu(d){return xc[d]}function pa(d){return{fieldPath:d.canonicalString()}}function Cl(d){return qn.fromServerFormat(d.fieldPath)}function S(d){return d instanceof xn?function(s){if("=="===s.op){if(qs(s.value))return{unaryFilter:{field:pa(s.field),op:"IS_NAN"}};if($i(s.value))return{unaryFilter:{field:pa(s.field),op:"IS_NULL"}}}else if("!="===s.op){if(qs(s.value))return{unaryFilter:{field:pa(s.field),op:"IS_NOT_NAN"}};if($i(s.value))return{unaryFilter:{field:pa(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(s.field),op:Qa(s.op),value:s.value}}}(d):d instanceof Jn?function(s){const a=s.getFilters().map(h=>S(h));return 1===a.length?a[0]:{compositeFilter:{op:Eu(s.op),filters:a}}}(d):Ft()}function N(d){const e=[];return d.fields.forEach(s=>e.push(s.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class F{constructor(e,s,a,h,_=Ut.min(),b=Ut.min(),P=Di.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=s,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=P,this.expectedCount=L}withSequenceNumber(e){return new F(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function Ne(d,e){const s=e.key,a={prefixPath:s.getCollectionPath().popLast().toArray(),collectionGroup:s.collectionGroup,documentId:s.path.lastSegment(),readTime:Pt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Pr(_=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Eo(_,b.version.toTimestamp()),createTime:Eo(_,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:s.path.toArray(),readTime:Ct(e.version)};else{if(!e.isUnknownDocument())return Ft();a.unknownDocument={path:s.path.toArray(),version:Ct(e.version)}}var _,b;return a}function Pt(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function Ct(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cn(d){const e=new jt(d.seconds,d.nanoseconds);return Ut.fromTimestamp(e)}function _r(d,e){const s=(e.baseMutations||[]).map(_=>Sa(d.ct,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const a=e.mutations.map(_=>Sa(d.ct,_)),h=jt.fromMillis(e.localWriteTimeMs);return new js(e.batchId,h,s,a)}function Sr(d){const e=Cn(d.readTime),s=void 0!==d.lastLimboFreeSnapshotVersion?Cn(d.lastLimboFreeSnapshotVersion):Ut.min();let a;return a=void 0!==d.query.documents?(qt(1===(_=d.query).documents.length),mt(te(ms(_.documents[0])))):function(_){return mt(bo(_))}(d.query),new F(a,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,s,Di.fromBase64String(d.resumeToken));var _}function Br(d,e){const s=Ct(e.snapshotVersion),a=Ct(e.lastLimboFreeSnapshotVersion);let h;h=Ta(e.target)?ho(d.ct,e.target):Ra(d.ct,e.target)._t;const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Cs(e.target),readTime:s,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function gi(d){const e=bo({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?ki(e,e.limit,"L"):e}function Ja(d,e){return new Ji(e.largestBatchId,Sa(d.ct,e.overlayMutation))}function wl(d,e){const s=e.path.lastSegment();return[d,We(e.path.popLast()),s]}function tc(d,e,s,a){return{indexId:d,uid:e,sequenceNumber:s,readTime:Ct(a.readTime),documentKey:We(a.documentKey.path),largestBatchId:a.largestBatchId}}class Al{getBundleMetadata(e,s){return xo(e).get(s).next(a=>{if(a)return{id:(_=a).bundleId,createTime:Cn(_.createTime),version:_.version};var _})}saveBundleMetadata(e,s){return xo(e).put({bundleId:(h=s).id,createTime:Ct(as(h.createTime)),version:h.version});var h}getNamedQuery(e,s){return pd(e).get(s).next(a=>{if(a)return{name:(_=a).name,query:gi(_.bundledQuery),readTime:Cn(_.readTime)};var _})}saveNamedQuery(e,s){return pd(e).put({name:(h=s).name,readTime:Ct(as(h.readTime)),bundledQuery:h.bundledQuery});var h}}function xo(d){return zi(d,"bundles")}function pd(d){return zi(d,"namedQueries")}class Za{constructor(e,s){this.serializer=e,this.userId=s}static lt(e,s){return new Za(e,s.uid||"")}getOverlay(e,s){return Go(e).get(wl(this.userId,s)).next(a=>a?Ja(this.serializer,a):null)}getOverlays(e,s){const a=os();return ht.forEach(s,h=>this.getOverlay(e,h).next(_=>{null!==_&&a.set(h,_)})).next(()=>a)}saveOverlays(e,s,a){const h=[];return a.forEach((_,b)=>{const P=new Ji(s,b);h.push(this.ht(e,P))}),ht.waitFor(h)}removeOverlaysForBatchId(e,s,a){const h=new Set;s.forEach(b=>h.add(We(b.getCollectionPath())));const _=[];return h.forEach(b=>{const P=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);_.push(Go(e).j("collectionPathOverlayIndex",P))}),ht.waitFor(_)}getOverlaysForCollection(e,s,a){const h=os(),_=We(s),b=IDBKeyRange.bound([this.userId,_,a],[this.userId,_,Number.POSITIVE_INFINITY],!0);return Go(e).U("collectionPathOverlayIndex",b).next(P=>{for(const L of P){const Y=Ja(this.serializer,L);h.set(Y.getKey(),Y)}return h})}getOverlaysForCollectionGroup(e,s,a,h){const _=os();let b;const P=IDBKeyRange.bound([this.userId,s,a],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Go(e).J({index:"collectionGroupOverlayIndex",range:P},(L,Y,ue)=>{const De=Ja(this.serializer,Y);_.size()<h||De.largestBatchId===b?(_.set(De.getKey(),De),b=De.largestBatchId):ue.done()}).next(()=>_)}ht(e,s){return Go(e).put(function(h,_,b){const[P,L,Y]=wl(_,b.mutation.key);return{userId:_,collectionPath:L,documentId:Y,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Oc(h.ct,b.mutation)}}(this.serializer,this.userId,s))}}function Go(d){return zi(d,"documentOverlays")}class md{Pt(e){return zi(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(s=>{const a=s?.value;return a?Di.fromUint8Array(a):Di.EMPTY_BYTE_STRING})}setSessionToken(e,s){return this.Pt(e).put({name:"sessionToken",value:s.toUint8Array()})}}class Pa{constructor(){}It(e,s){this.Tt(e,s),s.Et()}Tt(e,s){if("nullValue"in e)this.dt(s,5);else if("booleanValue"in e)this.dt(s,10),s.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(s,15),s.At(si(e.integerValue));else if("doubleValue"in e){const a=si(e.doubleValue);isNaN(a)?this.dt(s,13):(this.dt(s,15),$(a)?s.At(0):s.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(s,20),"string"==typeof a&&(a=Ws(a)),s.Rt(`${a.seconds||""}`),s.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,s),this.ft(s);else if("bytesValue"in e)this.dt(s,30),s.gt(Vs(e.bytesValue)),this.ft(s);else if("referenceValue"in e)this.yt(e.referenceValue,s);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(s,45),s.At(a.latitude||0),s.At(a.longitude||0)}else"mapValue"in e?sr(e)?this.dt(s,Number.MAX_SAFE_INTEGER):ns(e)?this.wt(e.mapValue,s):(this.St(e.mapValue,s),this.ft(s)):"arrayValue"in e?(this.bt(e.arrayValue,s),this.ft(s)):Ft()}Vt(e,s){this.dt(s,25),this.Dt(e,s)}Dt(e,s){s.Rt(e)}St(e,s){const a=e.fields||{};this.dt(s,55);for(const h of Object.keys(a))this.Vt(h,s),this.Tt(a[h],s)}wt(e,s){var a,h;const _=e.fields||{};this.dt(s,53);const b="value",P=(null===(h=null===(a=_[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(s,15),s.At(si(P)),this.Vt(b,s),this.Tt(_[b],s)}bt(e,s){const a=e.values||[];this.dt(s,50);for(const h of a)this.Tt(h,s)}yt(e,s){this.dt(s,37),Bt.fromName(e).path.forEach(a=>{this.dt(s,60),this.Dt(a,s)})}dt(e,s){e.At(s)}ft(e){e.At(2)}}function Nc(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function kc(d){const e=64-function(a){let h=0;for(let _=0;_<8;++_){const b=Nc(255&a[_]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}Pa.vt=new Pa;class bu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const s=e[Symbol.iterator]();let a=s.next();for(;!a.done;)this.Ft(a.value),a=s.next();this.Mt()}xt(e){const s=e[Symbol.iterator]();let a=s.next();for(;!a.done;)this.Ot(a.value),a=s.next();this.Nt()}Lt(e){for(const s of e){const a=s.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(s<"\ud800"||"\udbff"<s)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=s.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const s of e){const a=s.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(s<"\ud800"||"\udbff"<s)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=s.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const s=this.qt(e),a=kc(s);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=s.length-a;h<s.length;++h)this.buffer[this.position++]=255&s[h]}Kt(e){const s=this.qt(e),a=kc(s);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=s.length-a;h<s.length;++h)this.buffer[this.position++]=~(255&s[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const s=function(_){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,_,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&s[0]);s[0]^=a?255:128;for(let h=1;h<s.length;++h)s[h]^=a?255:0;return s}Ft(e){const s=255&e;0===s?(this.Ut(0),this.Ut(255)):255===s?(this.Ut(255),this.Ut(0)):this.Ut(s)}Ot(e){const s=255&e;0===s?(this.Gt(0),this.Gt(255)):255===s?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const s=e+this.position;if(s<=this.buffer.length)return;let a=2*this.buffer.length;a<s&&(a=s);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class gd{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class nc{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Tu{constructor(){this.jt=new bu,this.Ht=new gd(this.jt),this.Jt=new nc(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Oo{constructor(e,s,a,h){this.indexId=e,this.documentKey=s,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,s=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(s);return a.set(this.directionalValue,0),s!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Oo(this.indexId,this.documentKey,this.arrayValue,a)}}function ea(d,e){let s=d.indexId-e.indexId;return 0!==s?s:(s=Dl(d.arrayValue,e.arrayValue),0!==s?s:(s=Dl(d.directionalValue,e.directionalValue),0!==s?s:Bt.comparator(d.documentKey,e.documentKey)))}function Dl(d,e){for(let s=0;s<d.length&&s<e.length;++s){const a=d[s]-e[s];if(0!==a)return a}return d.length-e.length}class _d{constructor(e){this.Xt=new Er((s,a)=>qn.comparator(s.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const s of e.filters){const a=s;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if(qt(e.collectionGroup===this.collectionId),this.nn)return!1;const s=zn(e);if(void 0!==s&&!this.sn(s))return!1;const a=In(e);let h=new Set,_=0,b=0;for(;_<a.length&&this.sn(a[_]);++_)h=h.add(a[_].fieldPath.canonicalString());if(_===a.length)return!0;if(this.Xt.size>0){const P=this.Xt.getIterator().getNext();if(!h.has(P.field.canonicalString())){const L=a[_];if(!this.on(P,L)||!this._n(this.en[b++],L))return!1}++_}for(;_<a.length;++_)if(b>=this.en.length||!this._n(this.en[b++],a[_]))return!1;return!0}an(){if(this.nn)return null;let e=new Er(qn.comparator);const s=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)s.push(new Dr(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),s.push(new Dr(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),s.push(new Dr(a.field,"asc"===a.dir?0:1)));return new vn(vn.UNKNOWN_ID,this.collectionId,s,Kn.empty())}sn(e){for(const s of this.tn)if(this.on(s,e))return!0;return!1}on(e,s){return!(void 0===e||!e.field.isEqual(s.fieldPath))&&2===s.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,s){return!!e.field.isEqual(s.fieldPath)&&(0===s.kind&&"asc"===e.dir||1===s.kind&&"desc"===e.dir)}}function yd(d){var e,s;if(qt(d instanceof xn||d instanceof Jn),d instanceof xn){if(d instanceof Xo){const h=(null===(s=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===s?void 0:s.map(_=>xn.create(d.field,"==",_)))||[];return Jn.create(h,"or")}return d}const a=d.filters.map(h=>yd(h));return Jn.create(a,d.op)}function qg(d){if(0===d.getFilters().length)return[];const e=Iu(yd(d));return qt(Mh(e)),vd(e)||Fc(e)?[e]:e.getFilters()}function vd(d){return d instanceof xn}function Fc(d){return d instanceof Jn&&Ri(d)}function Mh(d){return vd(d)||Fc(d)||function(s){if(s instanceof Jn&&kr(s)){for(const a of s.getFilters())if(!vd(a)&&!Fc(a))return!1;return!0}return!1}(d)}function Iu(d){if(qt(d instanceof xn||d instanceof Jn),d instanceof xn)return d;if(1===d.filters.length)return Iu(d.filters[0]);const e=d.filters.map(a=>Iu(a));let s=Jn.create(e,d.op);return s=Ed(s),Mh(s)?s:(qt(s instanceof Jn),qt(Qr(s)),qt(s.filters.length>1),s.filters.reduce((a,h)=>Lc(a,h)))}function Lc(d,e){let s;return qt(d instanceof xn||d instanceof Jn),qt(e instanceof xn||e instanceof Jn),s=d instanceof xn?e instanceof xn?Jn.create([d,e],"and"):Ma(d,e):e instanceof xn?Ma(e,d):function(h,_){if(qt(h.filters.length>0&&_.filters.length>0),Qr(h)&&Qr(_))return Ni(h,_.getFilters());const b=kr(h)?h:_,P=kr(h)?_:h,L=b.filters.map(Y=>Lc(Y,P));return Jn.create(L,"or")}(d,e),Ed(s)}function Ma(d,e){if(Qr(e))return Ni(e,d.getFilters());{const s=e.filters.map(a=>Lc(d,a));return Jn.create(s,"or")}}function Ed(d){if(qt(d instanceof xn||d instanceof Jn),d instanceof xn)return d;const e=d.getFilters();if(1===e.length)return Ed(e[0]);if(Gi(d))return d;const s=e.map(h=>Ed(h)),a=[];return s.forEach(h=>{h instanceof xn?a.push(h):h instanceof Jn&&(h.op===d.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:Jn.create(a,d.op)}class Vc{constructor(){this.un=new fo}addToCollectionParentIndex(e,s){return this.un.add(s),ht.resolve()}getCollectionParents(e,s){return ht.resolve(this.un.getEntries(s))}addFieldIndex(e,s){return ht.resolve()}deleteFieldIndex(e,s){return ht.resolve()}deleteAllFieldIndexes(e){return ht.resolve()}createTargetIndexes(e,s){return ht.resolve()}getDocumentsMatchingTarget(e,s){return ht.resolve(null)}getIndexType(e,s){return ht.resolve(0)}getFieldIndexes(e,s){return ht.resolve([])}getNextCollectionGroupToUpdate(e){return ht.resolve(null)}getMinOffset(e,s){return ht.resolve(hn.min())}getMinOffsetFromCollectionGroup(e,s){return ht.resolve(hn.min())}updateCollectionGroup(e,s,a){return ht.resolve()}updateIndexEntries(e,s){return ht.resolve()}}class fo{constructor(){this.index={}}add(e){const s=e.lastSegment(),a=e.popLast(),h=this.index[s]||new Er(en.comparator),_=!h.has(a);return this.index[s]=h.add(a),_}has(e){const s=e.lastSegment(),a=e.popLast(),h=this.index[s];return h&&h.has(a)}getEntries(e){return(this.index[e]||new Er(en.comparator)).toArray()}}const el=new Uint8Array(0);class tp{constructor(e,s){this.databaseId=s,this.cn=new fo,this.ln=new ss(a=>Cs(a),(a,h)=>So(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,s){if(!this.cn.has(s)){const a=s.lastSegment(),h=s.popLast();e.addOnCommittedListener(()=>{this.cn.add(s)});const _={collectionId:a,parent:We(h)};return xh(e).put(_)}return ht.resolve()}getCollectionParents(e,s){const a=[],h=IDBKeyRange.bound([s,""],[kn(s),""],!1,!0);return xh(e).U(h).next(_=>{for(const b of _){if(b.collectionId!==s)break;a.push(Sn(b.parent))}return a})}addFieldIndex(e,s){const a=Uc(e),h={indexId:(P=s).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var P;delete h.indexId;const _=a.add(h);if(s.indexState){const b=po(e);return _.next(P=>{b.put(tc(P,this.uid,s.indexState.sequenceNumber,s.indexState.offset))})}return _.next()}deleteFieldIndex(e,s){const a=Uc(e),h=po(e),_=ma(e);return a.delete(s.indexId).next(()=>h.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const s=Uc(e),a=ma(e),h=po(e);return s.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,s){return ht.forEach(this.hn(s),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const _=new _d(a).an();if(null!=_)return this.addFieldIndex(e,_)}}))}getDocumentsMatchingTarget(e,s){const a=ma(e);let h=!0;const _=new Map;return ht.forEach(this.hn(s),b=>this.Pn(e,b).next(P=>{h&&(h=!!P),_.set(b,P)})).next(()=>{if(h){let b=Tr();const P=[];return ht.forEach(_,(L,Y)=>{var nr;Te("IndexedDbIndexManager",`Using index ${nr=L,`id=${nr.indexId}|cg=${nr.collectionGroup}|f=${nr.fields.map(Vr=>`${Vr.fieldPath}:${Vr.kind}`).join(",")}`} to execute ${Cs(s)}`);const ue=function(nr,Vr){const Li=zn(Vr);if(void 0===Li)return null;for(const ri of la(nr,Li.fieldPath))switch(ri.op){case"array-contains-any":return ri.value.arrayValue.values||[];case"array-contains":return[ri.value]}return null}(Y,L),De=function(nr,Vr){const Li=new Map;for(const ri of In(Vr))for(const gt of la(nr,ri.fieldPath))switch(gt.op){case"==":case"in":Li.set(ri.fieldPath.canonicalString(),gt.value);break;case"not-in":case"!=":return Li.set(ri.fieldPath.canonicalString(),gt.value),Array.from(Li.values())}return null}(Y,L),Ke=function(nr,Vr){const Li=[];let ri=!0;for(const gt of In(Vr)){const Ge=0===gt.kind?Pi(nr,gt.fieldPath,nr.startAt):ca(nr,gt.fieldPath,nr.startAt);Li.push(Ge.value),ri&&(ri=Ge.inclusive)}return new an(Li,ri)}(Y,L),Dt=function(nr,Vr){const Li=[];let ri=!0;for(const gt of In(Vr)){const Ge=0===gt.kind?ca(nr,gt.fieldPath,nr.endAt):Pi(nr,gt.fieldPath,nr.endAt);Li.push(Ge.value),ri&&(ri=Ge.inclusive)}return new an(Li,ri)}(Y,L),Xt=this.In(L,Y,Ke),pn=this.In(L,Y,Dt),ln=this.Tn(L,Y,De),Zn=this.En(L.indexId,ue,Xt,Ke.inclusive,pn,Dt.inclusive,ln);return ht.forEach(Zn,dr=>a.G(dr,s.limit).next(nr=>{nr.forEach(Vr=>{const Li=Bt.fromSegments(Vr.documentKey);b.has(Li)||(b=b.add(Li),P.push(Li))})}))}).next(()=>P)}return ht.resolve(null)})}hn(e){let s=this.ln.get(e);return s||(s=0===e.filters.length?[e]:qg(Jn.create(e.filters,"and")).map(a=>Ms(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,s),s)}En(e,s,a,h,_,b,P){const L=(null!=s?s.length:1)*Math.max(a.length,_.length),Y=L/(null!=s?s.length:1),ue=[];for(let De=0;De<L;++De){const Ke=s?this.dn(s[De/Y]):el,Dt=this.An(e,Ke,a[De%Y],h),Xt=this.Rn(e,Ke,_[De%Y],b),pn=P.map(ln=>this.An(e,Ke,ln,!0));ue.push(...this.createRange(Dt,Xt,pn))}return ue}An(e,s,a,h){const _=new Oo(e,Bt.empty(),s,a);return h?_:_.Zt()}Rn(e,s,a,h){const _=new Oo(e,Bt.empty(),s,a);return h?_.Zt():_}Pn(e,s){const a=new _d(s),h=null!=s.collectionGroup?s.collectionGroup:s.path.lastSegment();return this.getFieldIndexes(e,h).next(_=>{let b=null;for(const P of _)a.rn(P)&&(!b||P.fields.length>b.fields.length)&&(b=P);return b})}getIndexType(e,s){let a=2;const h=this.hn(s);return ht.forEach(h,_=>this.Pn(e,_).next(b=>{b?0!==a&&b.fields.length<function(L){let Y=new Er(qn.comparator),ue=!1;for(const De of L.filters)for(const Ke of De.getFlattenedFilters())Ke.field.isKeyField()||("array-contains"===Ke.op||"array-contains-any"===Ke.op?ue=!0:Y=Y.add(Ke.field));for(const De of L.orderBy)De.field.isKeyField()||(Y=Y.add(De.field));return Y.size+(ue?1:0)}(_)&&(a=1):a=0})).next(()=>null!==s.limit&&h.length>1&&2===a?1:a)}Vn(e,s){const a=new Tu;for(const h of In(e)){const _=s.data.field(h.fieldPath);if(null==_)return null;const b=a.Yt(h.kind);Pa.vt.It(_,b)}return a.zt()}dn(e){const s=new Tu;return Pa.vt.It(e,s.Yt(0)),s.zt()}mn(e,s){const a=new Tu;return Pa.vt.It(gr(this.databaseId,s),a.Yt(function(_){const b=In(_);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,s,a){if(null===a)return[];let h=[];h.push(new Tu);let _=0;for(const b of In(e)){const P=a[_++];for(const L of h)if(this.fn(s,b.fieldPath)&&us(P))h=this.gn(h,b,P);else{const Y=L.Yt(b.kind);Pa.vt.It(P,Y)}}return this.pn(h)}In(e,s,a){return this.Tn(e,s,a.position)}pn(e){const s=[];for(let a=0;a<e.length;++a)s[a]=e[a].zt();return s}gn(e,s,a){const h=[...e],_=[];for(const b of a.arrayValue.values||[])for(const P of h){const L=new Tu;L.seed(P.zt()),Pa.vt.It(b,L.Yt(s.kind)),_.push(L)}return _}fn(e,s){return!!e.filters.find(a=>a instanceof xn&&a.field.isEqual(s)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,s){const a=Uc(e),h=po(e);return(s?a.U("collectionGroupIndex",IDBKeyRange.bound(s,s)):a.U()).next(_=>{const b=[];return ht.forEach(_,P=>h.get([P.indexId,this.uid]).next(L=>{b.push(function(ue,De){const Ke=De?new Kn(De.sequenceNumber,new hn(Cn(De.readTime),new Bt(Sn(De.documentKey)),De.largestBatchId)):Kn.empty(),Dt=ue.fields.map(([Xt,pn])=>new Dr(qn.fromServerFormat(Xt),pn));return new vn(ue.indexId,ue.collectionGroup,Dt,Ke)}(P,L))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(s=>0===s.length?null:(s.sort((a,h)=>{const _=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==_?_:sn(a.collectionGroup,h.collectionGroup)}),s[0].collectionGroup))}updateCollectionGroup(e,s,a){const h=Uc(e),_=po(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(s,s)).next(P=>ht.forEach(P,L=>_.put(tc(L.indexId,this.uid,b,a)))))}updateIndexEntries(e,s){const a=new Map;return ht.forEach(s,(h,_)=>{const b=a.get(h.collectionGroup);return(b?ht.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(P=>(a.set(h.collectionGroup,P),ht.forEach(P,L=>this.wn(e,h,L).next(Y=>{const ue=this.Sn(_,L);return Y.isEqual(ue)?ht.resolve():this.bn(e,_,L,Y,ue)}))))})}Dn(e,s,a,h){return ma(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,s.key),documentKey:s.key.path.toArray()})}vn(e,s,a,h){return ma(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,s.key),s.key.path.toArray()])}wn(e,s,a){const h=ma(e);let _=new Er(ea);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,s)])},(b,P)=>{_=_.add(new Oo(a.indexId,s,P.arrayValue,P.directionalValue))}).next(()=>_)}Sn(e,s){let a=new Er(ea);const h=this.Vn(s,e);if(null==h)return a;const _=zn(s);if(null!=_){const b=e.data.field(_.fieldPath);if(us(b))for(const P of b.arrayValue.values||[])a=a.add(new Oo(s.indexId,e.key,this.dn(P),h))}else a=a.add(new Oo(s.indexId,e.key,el,h));return a}bn(e,s,a,h,_){Te("IndexedDbIndexManager","Updating index entries for document '%s'",s.key);const b=[];return function(L,Y,ue,De,Ke){const Dt=L.getIterator(),Xt=Y.getIterator();let pn=Do(Dt),ln=Do(Xt);for(;pn||ln;){let Zn=!1,dr=!1;if(pn&&ln){const nr=ue(pn,ln);nr<0?dr=!0:nr>0&&(Zn=!0)}else null!=pn?dr=!0:Zn=!0;Zn?(De(ln),ln=Do(Xt)):dr?(Ke(pn),pn=Do(Dt)):(pn=Do(Dt),ln=Do(Xt))}}(h,_,ea,P=>{b.push(this.Dn(e,s,a,P))},P=>{b.push(this.vn(e,s,a,P))}),ht.waitFor(b)}yn(e){let s=1;return po(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,_)=>{_.done(),s=h.sequenceNumber+1}).next(()=>s)}createRange(e,s,a){a=a.sort((b,P)=>ea(b,P)).filter((b,P,L)=>!P||0!==ea(b,L[P-1]));const h=[];h.push(e);for(const b of a){const P=ea(b,e),L=ea(b,s);if(0===P)h[0]=e.Zt();else if(P>0&&L<0)h.push(b),h.push(b.Zt());else if(L>0)break}h.push(s);const _=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];_.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,el,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,el,[]]))}return _}Cn(e,s){return ea(e,s)>0}getMinOffsetFromCollectionGroup(e,s){return this.getFieldIndexes(e,s).next(bd)}getMinOffset(e,s){return ht.mapArray(this.hn(s),a=>this.Pn(e,a).next(h=>h||Ft())).next(bd)}}function xh(d){return zi(d,"collectionParents")}function ma(d){return zi(d,"indexEntries")}function Uc(d){return zi(d,"indexConfiguration")}function po(d){return zi(d,"indexState")}function bd(d){qt(0!==d.length);let e=d[0].indexState.offset,s=e.largestBatchId;for(let a=1;a<d.length;a++){const h=d[a].indexState.offset;Wr(h,e)<0&&(e=h),s<h.largestBatchId&&(s=h.largestBatchId)}return new hn(e.readTime,e.documentKey,s)}const rc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ks{constructor(e,s,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Oh(d,e,s){const a=d.store("mutations"),h=d.store("documentMutations"),_=[],b=IDBKeyRange.only(s.batchId);let P=0;const L=a.J({range:b},(ue,De,Ke)=>(P++,Ke.delete()));_.push(L.next(()=>{qt(1===P)}));const Y=[];for(const ue of s.mutations){const De=Ue(e,ue.key.path,s.batchId);_.push(h.delete(De)),Y.push(ue.key)}return ht.waitFor(_).next(()=>Y)}function Sl(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Ft();e=d.noDocument}return JSON.stringify(e).length}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(41943040,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class ic{constructor(e,s,a,h){this.userId=e,this.serializer=s,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,s,a,h){qt(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new ic(_,s,a,h)}checkEmpty(e){let s=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tl(e).J({index:"userMutationsIndex",range:a},(h,_,b)=>{s=!1,b.done()}).next(()=>s)}addMutationBatch(e,s,a,h){const _=Rl(e),b=tl(e);return b.add({}).next(P=>{qt("number"==typeof P);const L=new js(P,s,a,h),Y=function(Dt,Xt,pn){const ln=pn.baseMutations.map(dr=>Oc(Dt.ct,dr)),Zn=pn.mutations.map(dr=>Oc(Dt.ct,dr));return{userId:Xt,batchId:pn.batchId,localWriteTimeMs:pn.localWriteTime.toMillis(),baseMutations:ln,mutations:Zn}}(this.serializer,this.userId,L),ue=[];let De=new Er((Ke,Dt)=>sn(Ke.canonicalString(),Dt.canonicalString()));for(const Ke of h){const Dt=Ue(this.userId,Ke.key.path,P);De=De.add(Ke.key.path.popLast()),ue.push(b.put(Y)),ue.push(_.put(Dt,qe))}return De.forEach(Ke=>{ue.push(this.indexManager.addToCollectionParentIndex(e,Ke))}),e.addOnCommittedListener(()=>{this.Fn[P]=L.keys()}),ht.waitFor(ue).next(()=>L)})}lookupMutationBatch(e,s){return tl(e).get(s).next(a=>a?(qt(a.userId===this.userId),_r(this.serializer,a)):null)}Mn(e,s){return this.Fn[s]?ht.resolve(this.Fn[s]):this.lookupMutationBatch(e,s).next(a=>{if(a){const h=a.keys();return this.Fn[s]=h,h}return null})}getNextMutationBatchAfterBatchId(e,s){const a=s+1,h=IDBKeyRange.lowerBound([this.userId,a]);let _=null;return tl(e).J({index:"userMutationsIndex",range:h},(b,P,L)=>{P.userId===this.userId&&(qt(P.batchId>=a),_=_r(this.serializer,P)),L.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return tl(e).J({index:"userMutationsIndex",range:s,reverse:!0},(h,_,b)=>{a=_.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tl(e).U("userMutationsIndex",s).next(a=>a.map(h=>_r(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,s){const a=Ve(this.userId,s.path),h=IDBKeyRange.lowerBound(a),_=[];return Rl(e).J({range:h},(b,P,L)=>{const[Y,ue,De]=b,Ke=Sn(ue);if(Y===this.userId&&s.path.isEqual(Ke))return tl(e).get(De).next(Dt=>{if(!Dt)throw Ft();qt(Dt.userId===this.userId),_.push(_r(this.serializer,Dt))});L.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,s){let a=new Er(sn);const h=[];return s.forEach(_=>{const b=Ve(this.userId,_.path),P=IDBKeyRange.lowerBound(b),L=Rl(e).J({range:P},(Y,ue,De)=>{const[Ke,Dt,Xt]=Y,pn=Sn(Dt);Ke===this.userId&&_.path.isEqual(pn)?a=a.add(Xt):De.done()});h.push(L)}),ht.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,s){const a=s.path,h=a.length+1,_=Ve(this.userId,a),b=IDBKeyRange.lowerBound(_);let P=new Er(sn);return Rl(e).J({range:b},(L,Y,ue)=>{const[De,Ke,Dt]=L,Xt=Sn(Ke);De===this.userId&&a.isPrefixOf(Xt)?Xt.length===h&&(P=P.add(Dt)):ue.done()}).next(()=>this.xn(e,P))}xn(e,s){const a=[],h=[];return s.forEach(_=>{h.push(tl(e).get(_).next(b=>{if(null===b)throw Ft();qt(b.userId===this.userId),a.push(_r(this.serializer,b))}))}),ht.waitFor(h).next(()=>a)}removeMutationBatch(e,s){return Oh(e._e,this.userId,s).next(a=>(e.addOnCommittedListener(()=>{this.On(s.batchId)}),ht.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(s=>{if(!s)return ht.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return Rl(e).J({range:a},(_,b,P)=>{if(_[0]===this.userId){const L=Sn(_[1]);h.push(L)}else P.done()}).next(()=>{qt(0===h.length)})})}containsKey(e,s){return Td(e,this.userId,s)}Nn(e){return sc(e).get(this.userId).next(s=>s||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Td(d,e,s){const a=Ve(e,s.path),h=a[1],_=IDBKeyRange.lowerBound(a);let b=!1;return Rl(d).J({range:_,H:!0},(P,L,Y)=>{const[ue,De,Ke]=P;ue===e&&De===h&&(b=!0),Y.done()}).next(()=>b)}function tl(d){return zi(d,"mutations")}function Rl(d){return zi(d,"documentMutations")}function sc(d){return zi(d,"mutationQueues")}class Pl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pl(0)}static kn(){return new Pl(-1)}}class Tm{constructor(e,s){this.referenceDelegate=e,this.serializer=s}allocateTargetId(e){return this.qn(e).next(s=>{const a=new Pl(s.highestTargetId);return s.highestTargetId=a.next(),this.Qn(e,s).next(()=>s.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(s=>Ut.fromTimestamp(new jt(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(s=>s.highestListenSequenceNumber)}setTargetsMetadata(e,s,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=s,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),s>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=s),this.Qn(e,h)))}addTargetData(e,s){return this.Kn(e,s).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(s,a),this.Qn(e,a))))}updateTargetData(e,s){return this.Kn(e,s)}removeTargetData(e,s){return this.removeMatchingKeysForTargetId(e,s.targetId).next(()=>ga(e).delete(s.targetId)).next(()=>this.qn(e)).next(a=>(qt(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,s,a){let h=0;const _=[];return ga(e).J((b,P)=>{const L=Sr(P);L.sequenceNumber<=s&&null===a.get(L.targetId)&&(h++,_.push(this.removeTargetData(e,L)))}).next(()=>ht.waitFor(_)).next(()=>h)}forEachTarget(e,s){return ga(e).J((a,h)=>{const _=Sr(h);s(_)})}qn(e){return Ml(e).get("targetGlobalKey").next(s=>(qt(null!==s),s))}Qn(e,s){return Ml(e).put("targetGlobalKey",s)}Kn(e,s){return ga(e).put(Br(this.serializer,s))}$n(e,s){let a=!1;return e.targetId>s.highestTargetId&&(s.highestTargetId=e.targetId,a=!0),e.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(s=>s.targetCount)}getTargetData(e,s){const a=Cs(s),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let _=null;return ga(e).J({range:h,index:"queryTargetsIndex"},(b,P,L)=>{const Y=Sr(P);So(s,Y.target)&&(_=Y,L.done())}).next(()=>_)}addMatchingKeys(e,s,a){const h=[],_=xl(e);return s.forEach(b=>{const P=We(b.path);h.push(_.put({targetId:a,path:P})),h.push(this.referenceDelegate.addReference(e,a,b))}),ht.waitFor(h)}removeMatchingKeys(e,s,a){const h=xl(e);return ht.forEach(s,_=>{const b=We(_.path);return ht.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,_)])})}removeMatchingKeysForTargetId(e,s){const a=xl(e),h=IDBKeyRange.bound([s],[s+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,s){const a=IDBKeyRange.bound([s],[s+1],!1,!0),h=xl(e);let _=Tr();return h.J({range:a,H:!0},(b,P,L)=>{const Y=Sn(b[1]),ue=new Bt(Y);_=_.add(ue)}).next(()=>_)}containsKey(e,s){const a=We(s.path),h=IDBKeyRange.bound([a],[kn(a)],!1,!0);let _=0;return xl(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,P],L,Y)=>{0!==b&&(_++,Y.done())}).next(()=>_>0)}ot(e,s){return ga(e).get(s).next(a=>a?Sr(a):null)}}function ga(d){return zi(d,"targets")}function Ml(d){return zi(d,"targetGlobal")}function xl(d){return zi(d,"targetDocuments")}function Cu([d,e],[s,a]){const h=sn(d,s);return 0===h?sn(e,a):h}class Ol{constructor(e){this.Un=e,this.buffer=new Er(Cu),this.Wn=0}Gn(){return++this.Wn}zn(e){const s=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(s);else{const a=this.buffer.last();Cu(s,a)<0&&(this.buffer=this.buffer.delete(a).add(s))}}get maxValue(){return this.buffer.last()[0]}}class Nl{constructor(e,s,a){this.garbageCollector=e,this.asyncQueue=s,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var s=this;Te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,i.A)(function*(){s.jn=null;try{yield s.localStore.collectGarbage(s.garbageCollector)}catch(a){jn(a)?Te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Wn(a)}yield s.Hn(3e5)}))}}class np{constructor(e,s){this.Jn=e,this.params=s}calculateTargetCount(e,s){return this.Jn.Yn(e).next(a=>Math.floor(s/100*a))}nthSequenceNumber(e,s){if(0===s)return ht.resolve(A.oe);const a=new Ol(s);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,s,a){return this.Jn.removeTargets(e,s,a)}removeOrphanedDocuments(e,s){return this.Jn.removeOrphanedDocuments(e,s)}collect(e,s){return-1===this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(rc)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rc):this.Xn(e,s))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,s){let a,h,_,b,P,L,Y;const ue=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(De=>(De>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${De}`),h=this.params.maximumSequenceNumbersToCollect):h=De,b=Date.now(),this.nthSequenceNumber(e,h))).next(De=>(a=De,P=Date.now(),this.removeTargets(e,a,s))).next(De=>(_=De,L=Date.now(),this.removeOrphanedDocuments(e,a))).next(De=>(Y=Date.now(),Nt()<=be.$b.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ue}ms\n\tDetermined least recently used ${h} in `+(P-b)+`ms\n\tRemoved ${_} targets in `+(L-P)+`ms\n\tRemoved ${De} documents in `+(Y-L)+`ms\nTotal Duration: ${Y-ue}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:De})))}}class Nh{constructor(e,s){this.db=e,this.garbageCollector=function qi(d,e){return new np(d,e)}(this,s)}Yn(e){const s=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>s.next(h=>a+h))}er(e){let s=0;return this.Zn(e,a=>{s++}).next(()=>s)}forEachTarget(e,s){return this.db.getTargetCache().forEachTarget(e,s)}Zn(e,s){return this.tr(e,(a,h)=>s(h))}addReference(e,s,a){return oc(e,a)}removeReference(e,s,a){return oc(e,a)}removeTargets(e,s,a){return this.db.getTargetCache().removeTargets(e,s,a)}markPotentiallyOrphaned(e,s){return oc(e,s)}nr(e,s){return function(h,_){let b=!1;return sc(h).Y(P=>Td(h,P,_).next(L=>(L&&(b=!0),ht.resolve(!L)))).next(()=>b)}(e,s)}removeOrphanedDocuments(e,s){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.tr(e,(b,P)=>{if(P<=s){const L=this.nr(e,b).next(Y=>{if(!Y)return _++,a.getEntry(e,b).next(()=>(a.removeEntry(b,Ut.min()),xl(e).delete([0,We(b.path)])))});h.push(L)}}).next(()=>ht.waitFor(h)).next(()=>a.apply(e)).next(()=>_)}removeTarget(e,s){const a=s.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,s){return oc(e,s)}tr(e,s){const a=xl(e);let h,_=A.oe;return a.J({index:"documentTargetsIndex"},([b,P],{path:L,sequenceNumber:Y})=>{0===b?(_!==A.oe&&s(new Bt(Sn(h)),_),_=Y,h=L):_=A.oe}).next(()=>{_!==A.oe&&s(new Bt(Sn(h)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function oc(d,e){return xl(d).put((h=d.currentSequenceNumber,{targetId:0,path:We(e.path),sequenceNumber:h}));var h}class Id{constructor(){this.changes=new ss(e=>e.toString(),(e,s)=>e.isEqual(s)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const a=this.changes.get(s);return void 0!==a?ht.resolve(a):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kh{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,s,a){return No(e).put(a)}removeEntry(e,s,a){return No(e).delete(function(_,b){const P=_.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],Pt(b),P[P.length-1]]}(s,a))}updateMetadata(e,s){return this.getMetadata(e).next(a=>(a.byteSize+=s,this.rr(e,a)))}getEntry(e,s){let a=St.newInvalidDocument(s);return No(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ta(s))},(h,_)=>{a=this.ir(s,_)}).next(()=>a)}sr(e,s){let a={size:0,document:St.newInvalidDocument(s)};return No(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ta(s))},(h,_)=>{a={document:this.ir(s,_),size:Sl(_)}}).next(()=>a)}getEntries(e,s){let a=fs();return this._r(e,s,(h,_)=>{const b=this.ir(h,_);a=a.insert(h,b)}).next(()=>a)}ar(e,s){let a=fs(),h=new ei(Bt.comparator);return this._r(e,s,(_,b)=>{const P=this.ir(_,b);a=a.insert(_,P),h=h.insert(_,Sl(b))}).next(()=>({documents:a,ur:h}))}_r(e,s,a){if(s.isEmpty())return ht.resolve();let h=new Er(Cd);s.forEach(L=>h=h.add(L));const _=IDBKeyRange.bound(ta(h.first()),ta(h.last())),b=h.getIterator();let P=b.getNext();return No(e).J({index:"documentKeyIndex",range:_},(L,Y,ue)=>{const De=Bt.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;P&&Cd(P,De)<0;)a(P,null),P=b.getNext();P&&P.isEqual(De)&&(a(P,Y),P=b.hasNext()?b.getNext():null),P?ue.$(ta(P)):ue.done()}).next(()=>{for(;P;)a(P,null),P=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,s,a,h,_){const b=s.path,P=[b.popLast().toArray(),b.lastSegment(),Pt(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],L=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return No(e).U(IDBKeyRange.bound(P,L,!0)).next(Y=>{_?.incrementDocumentReadCount(Y.length);let ue=fs();for(const De of Y){const Ke=this.ir(Bt.fromSegments(De.prefixPath.concat(De.collectionGroup,De.documentId)),De);Ke.isFoundDocument()&&(yo(s,Ke)||h.has(Ke.key))&&(ue=ue.insert(Ke.key,Ke))}return ue})}getAllFromCollectionGroup(e,s,a,h){let _=fs();const b=Fh(s,a),P=Fh(s,hn.max());return No(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,P,!0)},(L,Y,ue)=>{const De=this.ir(Bt.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);_=_.insert(De.key,De),_.size===h&&ue.done()}).next(()=>_)}newChangeBuffer(e){return new Au(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(s=>s.byteSize)}getMetadata(e){return ac(e).get("remoteDocumentGlobalKey").next(s=>(qt(!!s),s))}rr(e,s){return ac(e).put("remoteDocumentGlobalKey",s)}ir(e,s){if(s){const a=function he(d,e){let s;if(e.document)s=Ya(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Bt.fromSegments(e.noDocument.path),h=Cn(e.noDocument.readTime);s=St.newNoDocument(a,h),e.hasCommittedMutations&&s.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ft();{const a=Bt.fromSegments(e.unknownDocument.path),h=Cn(e.unknownDocument.version);s=St.newUnknownDocument(a,h)}}return e.readTime&&s.setReadTime(function(h){const _=new jt(h[0],h[1]);return Ut.fromTimestamp(_)}(e.readTime)),s}(this.serializer,s);if(!a.isNoDocument()||!a.version.isEqual(Ut.min()))return a}return St.newInvalidDocument(e)}}function wu(d){return new kh(d)}class Au extends Id{constructor(e,s){super(),this.cr=e,this.trackRemovals=s,this.lr=new ss(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const s=[];let a=0,h=new Er((_,b)=>sn(_.canonicalString(),b.canonicalString()));return this.changes.forEach((_,b)=>{const P=this.lr.get(_);if(s.push(this.cr.removeEntry(e,_,P.readTime)),b.isValidDocument()){const L=Ne(this.cr.serializer,b);h=h.add(_.path.popLast());const Y=Sl(L);a+=Y-P.size,s.push(this.cr.addEntry(e,_,L))}else if(a-=P.size,this.trackRemovals){const L=Ne(this.cr.serializer,b.convertToNoDocument(Ut.min()));s.push(this.cr.addEntry(e,_,L))}}),h.forEach(_=>{s.push(this.cr.indexManager.addToCollectionParentIndex(e,_))}),s.push(this.cr.updateMetadata(e,a)),ht.waitFor(s)}getFromCache(e,s){return this.cr.sr(e,s).next(a=>(this.lr.set(s,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,s){return this.cr.ar(e,s).next(({documents:a,ur:h})=>(h.forEach((_,b)=>{this.lr.set(_,{size:b,readTime:a.get(_).readTime})}),a))}}function ac(d){return zi(d,"remoteDocumentGlobal")}function No(d){return zi(d,"remoteDocumentsV14")}function ta(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Fh(d,e){const s=e.documentKey.path.toArray();return[d,Pt(e.readTime),s.slice(0,s.length-2),s.length>0?s[s.length-1]:""]}function Cd(d,e){const s=d.path.toArray(),a=e.path.toArray();let h=0;for(let _=0;_<s.length-2&&_<a.length-2;++_)if(h=sn(s[_],a[_]),h)return h;return h=sn(s.length,a.length),h||(h=sn(s[s.length-2],a[a.length-2]),h||sn(s[s.length-1],a[a.length-1]))}class lc{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}class wd{constructor(e,s,a,h){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,s){let a=null;return this.documentOverlayCache.getOverlay(e,s).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,s))).next(h=>(null!==a&&Fr(a.mutation,h,li.empty(),jt.now()),h))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next(a=>this.getLocalViewOfDocuments(e,a,Tr()).next(()=>a))}getLocalViewOfDocuments(e,s,a=Tr()){const h=os();return this.populateOverlays(e,h,s).next(()=>this.computeViews(e,s,h,a).next(_=>{let b=lo();return _.forEach((P,L)=>{b=b.insert(P,L.overlayedDocument)}),b}))}getOverlayedDocuments(e,s){const a=os();return this.populateOverlays(e,a,s).next(()=>this.computeViews(e,s,a,Tr()))}populateOverlays(e,s,a){const h=[];return a.forEach(_=>{s.has(_)||h.push(_)}),this.documentOverlayCache.getOverlays(e,h).next(_=>{_.forEach((b,P)=>{s.set(b,P)})})}computeViews(e,s,a,h){let _=fs();const b=$a(),P=$a();return s.forEach((L,Y)=>{const ue=a.get(Y.key);h.has(Y.key)&&(void 0===ue||ue.mutation instanceof ni)?_=_.insert(Y.key,Y):void 0!==ue?(b.set(Y.key,ue.mutation.getFieldMask()),Fr(ue.mutation,Y,ue.mutation.getFieldMask(),jt.now())):b.set(Y.key,li.empty())}),this.recalculateAndSaveOverlays(e,_).next(L=>(L.forEach((Y,ue)=>b.set(Y,ue)),s.forEach((Y,ue)=>{var De;return P.set(Y,new lc(ue,null!==(De=b.get(Y))&&void 0!==De?De:null))}),P))}recalculateAndSaveOverlays(e,s){const a=$a();let h=new ei((b,P)=>b-P),_=Tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next(b=>{for(const P of b)P.keys().forEach(L=>{const Y=s.get(L);if(null===Y)return;let ue=a.get(L)||li.empty();ue=P.applyToLocalView(Y,ue),a.set(L,ue);const De=(h.get(P.batchId)||Tr()).add(L);h=h.insert(P.batchId,De)})}).next(()=>{const b=[],P=h.getReverseIterator();for(;P.hasNext();){const L=P.getNext(),Y=L.key,ue=L.value,De=Ia();ue.forEach(Ke=>{if(!_.has(Ke)){const Dt=zt(s.get(Ke),a.get(Ke));null!==Dt&&De.set(Ke,Dt),_=_.add(Ke)}}),b.push(this.documentOverlayCache.saveOverlays(e,Y,De))}return ht.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,s,a,h){return Bt.isDocumentKey((b=s).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,s.path):fe(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,a,h):this.getDocumentsMatchingCollectionQuery(e,s,a,h);var b}getNextDocuments(e,s,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,a,h).next(_=>{const b=h-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,a.largestBatchId,h-_.size):ht.resolve(os());let P=-1,L=_;return b.next(Y=>ht.forEach(Y,(ue,De)=>(P<De.largestBatchId&&(P=De.largestBatchId),_.get(ue)?ht.resolve():this.remoteDocumentCache.getEntry(e,ue).next(Ke=>{L=L.insert(ue,Ke)}))).next(()=>this.populateOverlays(e,Y,_)).next(()=>this.computeViews(e,L,Y,Tr())).next(ue=>({batchId:P,changes:da(ue)})))})}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new Bt(s)).next(a=>{let h=lo();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,s,a,h){const _=s.collectionGroup;let b=lo();return this.indexManager.getCollectionParents(e,_).next(P=>ht.forEach(P,L=>{const Y=(De=s,Ke=L.child(_),new Ro(Ke,null,De.explicitOrderBy.slice(),De.filters.slice(),De.limit,De.limitType,De.startAt,De.endAt));var De,Ke;return this.getDocumentsMatchingCollectionQuery(e,Y,a,h).next(ue=>{ue.forEach((De,Ke)=>{b=b.insert(De,Ke)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,s,a,h){let _;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,a.largestBatchId).next(b=>(_=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,a,_,h))).next(b=>{_.forEach((L,Y)=>{const ue=Y.getKey();null===b.get(ue)&&(b=b.insert(ue,St.newInvalidDocument(ue)))});let P=lo();return b.forEach((L,Y)=>{const ue=_.get(L);void 0!==ue&&Fr(ue.mutation,Y,li.empty(),jt.now()),yo(s,Y)&&(P=P.insert(L,Y))}),P})}}class Im{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,s){return ht.resolve(this.hr.get(s))}saveBundleMetadata(e,s){return this.hr.set(s.id,{id:(h=s).id,version:h.version,createTime:as(h.createTime)}),ht.resolve();var h}getNamedQuery(e,s){return ht.resolve(this.Pr.get(s))}saveNamedQuery(e,s){return this.Pr.set(s.name,{name:(h=s).name,query:gi(h.bundledQuery),readTime:as(h.readTime)}),ht.resolve();var h}}class Yg{constructor(){this.overlays=new ei(Bt.comparator),this.Ir=new Map}getOverlay(e,s){return ht.resolve(this.overlays.get(s))}getOverlays(e,s){const a=os();return ht.forEach(s,h=>this.getOverlay(e,h).next(_=>{null!==_&&a.set(h,_)})).next(()=>a)}saveOverlays(e,s,a){return a.forEach((h,_)=>{this.ht(e,s,_)}),ht.resolve()}removeOverlaysForBatchId(e,s,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(_=>this.overlays=this.overlays.remove(_)),this.Ir.delete(a)),ht.resolve()}getOverlaysForCollection(e,s,a){const h=os(),_=s.length+1,b=new Bt(s.child("")),P=this.overlays.getIteratorFrom(b);for(;P.hasNext();){const L=P.getNext().value,Y=L.getKey();if(!s.isPrefixOf(Y.path))break;Y.path.length===_&&L.largestBatchId>a&&h.set(L.getKey(),L)}return ht.resolve(h)}getOverlaysForCollectionGroup(e,s,a,h){let _=new ei((Y,ue)=>Y-ue);const b=this.overlays.getIterator();for(;b.hasNext();){const Y=b.getNext().value;if(Y.getKey().getCollectionGroup()===s&&Y.largestBatchId>a){let ue=_.get(Y.largestBatchId);null===ue&&(ue=os(),_=_.insert(Y.largestBatchId,ue)),ue.set(Y.getKey(),Y)}}const P=os(),L=_.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((Y,ue)=>P.set(Y,ue)),!(P.size()>=h)););return ht.resolve(P)}ht(e,s,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new Ji(s,a));let _=this.Ir.get(s);void 0===_&&(_=Tr(),this.Ir.set(s,_)),this.Ir.set(s,_.add(a.key))}}class Cm{constructor(){this.sessionToken=Di.EMPTY_BYTE_STRING}getSessionToken(e){return ht.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,ht.resolve()}}class rp{constructor(){this.Tr=new Er(Fs.Er),this.dr=new Er(Fs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,s){const a=new Fs(e,s);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,s){e.forEach(a=>this.addReference(a,s))}removeReference(e,s){this.Vr(new Fs(e,s))}mr(e,s){e.forEach(a=>this.removeReference(a,s))}gr(e){const s=new Bt(new en([])),a=new Fs(s,e),h=new Fs(s,e+1),_=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),_.push(b.key)}),_}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const s=new Bt(new en([])),a=new Fs(s,e),h=new Fs(s,e+1);let _=Tr();return this.dr.forEachInRange([a,h],b=>{_=_.add(b.key)}),_}containsKey(e){const s=new Fs(e,0),a=this.Tr.firstAfterOrEqual(s);return null!==a&&e.isEqual(a.key)}}class Fs{constructor(e,s){this.key=e,this.wr=s}static Er(e,s){return Bt.comparator(e.key,s.key)||sn(e.wr,s.wr)}static Ar(e,s){return sn(e.wr,s.wr)||Bt.comparator(e.key,s.key)}}class Xg{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.Sr=1,this.br=new Er(Fs.Er)}checkEmpty(e){return ht.resolve(0===this.mutationQueue.length)}addMutationBatch(e,s,a,h){const _=this.Sr;this.Sr++;const b=new js(_,s,a,h);this.mutationQueue.push(b);for(const P of h)this.br=this.br.add(new Fs(P.key,_)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return ht.resolve(b)}lookupMutationBatch(e,s){return ht.resolve(this.Dr(s))}getNextMutationBatchAfterBatchId(e,s){const h=this.vr(s+1),_=h<0?0:h;return ht.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const a=new Fs(s,0),h=new Fs(s,Number.POSITIVE_INFINITY),_=[];return this.br.forEachInRange([a,h],b=>{const P=this.Dr(b.wr);_.push(P)}),ht.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,s){let a=new Er(sn);return s.forEach(h=>{const _=new Fs(h,0),b=new Fs(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([_,b],P=>{a=a.add(P.wr)})}),ht.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,s){const a=s.path,h=a.length+1;let _=a;Bt.isDocumentKey(_)||(_=_.child(""));const b=new Fs(new Bt(_),0);let P=new Er(sn);return this.br.forEachWhile(L=>{const Y=L.key.path;return!!a.isPrefixOf(Y)&&(Y.length===h&&(P=P.add(L.wr)),!0)},b),ht.resolve(this.Cr(P))}Cr(e){const s=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&s.push(h)}),s}removeMutationBatch(e,s){qt(0===this.Fr(s.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return ht.forEach(s.mutations,h=>{const _=new Fs(h.key,s.batchId);return a=a.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,s){const a=new Fs(s,0),h=this.br.firstAfterOrEqual(a);return ht.resolve(s.isEqual(h&&h.key))}performConsistencyCheck(e){return ht.resolve()}Fr(e,s){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const s=this.vr(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class cc{constructor(e){this.Mr=e,this.docs=new ei(Bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const a=s.key,h=this.docs.get(a),_=h?h.size:0,b=this.Mr(s);return this.docs=this.docs.insert(a,{document:s.mutableCopy(),size:b}),this.size+=b-_,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const a=this.docs.get(s);return ht.resolve(a?a.document.mutableCopy():St.newInvalidDocument(s))}getEntries(e,s){let a=fs();return s.forEach(h=>{const _=this.docs.get(h);a=a.insert(h,_?_.document.mutableCopy():St.newInvalidDocument(h))}),ht.resolve(a)}getDocumentsMatchingQuery(e,s,a,h){let _=fs();const b=s.path,P=new Bt(b.child("")),L=this.docs.getIteratorFrom(P);for(;L.hasNext();){const{key:Y,value:{document:ue}}=L.getNext();if(!b.isPrefixOf(Y.path))break;Y.path.length>b.length+1||Wr(Zi(ue),a)<=0||(h.has(ue.key)||yo(s,ue))&&(_=_.insert(ue.key,ue.mutableCopy()))}return ht.resolve(_)}getAllFromCollectionGroup(e,s,a,h){Ft()}Or(e,s){return ht.forEach(this.docs,a=>s(a))}newChangeBuffer(e){return new Du(this)}getSize(e){return ht.resolve(this.size)}}class Du extends Id{constructor(e){super(),this.cr=e}applyChanges(e){const s=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?s.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),ht.waitFor(s)}getFromCache(e,s){return this.cr.getEntry(e,s)}getAllFromCache(e,s){return this.cr.getEntries(e,s)}}class ip{constructor(e){this.persistence=e,this.Nr=new ss(s=>Cs(s),So),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Lr=0,this.Br=new rp,this.targetCount=0,this.kr=Pl.Bn()}forEachTarget(e,s){return this.Nr.forEach((a,h)=>s(h)),ht.resolve()}getLastRemoteSnapshotVersion(e){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ht.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(e,s,a){return a&&(this.lastRemoteSnapshotVersion=a),s>this.Lr&&(this.Lr=s),ht.resolve()}Kn(e){this.Nr.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.kr=new Pl(s),this.highestTargetId=s),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,s){return this.Kn(s),this.targetCount+=1,ht.resolve()}updateTargetData(e,s){return this.Kn(s),ht.resolve()}removeTargetData(e,s){return this.Nr.delete(s.target),this.Br.gr(s.targetId),this.targetCount-=1,ht.resolve()}removeTargets(e,s,a){let h=0;const _=[];return this.Nr.forEach((b,P)=>{P.sequenceNumber<=s&&null===a.get(P.targetId)&&(this.Nr.delete(b),_.push(this.removeMatchingKeysForTargetId(e,P.targetId)),h++)}),ht.waitFor(_).next(()=>h)}getTargetCount(e){return ht.resolve(this.targetCount)}getTargetData(e,s){const a=this.Nr.get(s)||null;return ht.resolve(a)}addMatchingKeys(e,s,a){return this.Br.Rr(s,a),ht.resolve()}removeMatchingKeys(e,s,a){this.Br.mr(s,a);const h=this.persistence.referenceDelegate,_=[];return h&&s.forEach(b=>{_.push(h.markPotentiallyOrphaned(e,b))}),ht.waitFor(_)}removeMatchingKeysForTargetId(e,s){return this.Br.gr(s),ht.resolve()}getMatchingKeysForTargetId(e,s){const a=this.Br.yr(s);return ht.resolve(a)}containsKey(e,s){return ht.resolve(this.Br.containsKey(s))}}class Lh{constructor(e,s){this.qr={},this.overlays={},this.Qr=new A(0),this.Kr=!1,this.Kr=!0,this.$r=new Cm,this.referenceDelegate=e(this),this.Ur=new ip(this),this.indexManager=new Vc,this.remoteDocumentCache=new cc(a=>this.referenceDelegate.Wr(a)),this.serializer=new H(s),this.Gr=new Im(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new Yg,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let a=this.qr[e.toKey()];return a||(a=new Xg(s,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,s,a){Te("MemoryPersistence","Starting transaction:",e);const h=new Bs(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(_=>this.referenceDelegate.jr(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}Hr(e,s){return ht.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,s)))}}class Bs extends mr{constructor(e){super(),this.currentSequenceNumber=e}}class Ad{constructor(e){this.persistence=e,this.Jr=new rp,this.Yr=null}static Zr(e){return new Ad(e)}get Xr(){if(this.Yr)return this.Yr;throw Ft()}addReference(e,s,a){return this.Jr.addReference(a,s),this.Xr.delete(a.toString()),ht.resolve()}removeReference(e,s,a){return this.Jr.removeReference(a,s),this.Xr.add(a.toString()),ht.resolve()}markPotentiallyOrphaned(e,s){return this.Xr.add(s.toString()),ht.resolve()}removeTarget(e,s){this.Jr.gr(s.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,s.targetId).next(h=>{h.forEach(_=>this.Xr.add(_.toString()))}).next(()=>a.removeTargetData(e,s))}zr(){this.Yr=new Set}jr(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.Xr,a=>{const h=Bt.fromPath(a);return this.ei(e,h).next(_=>{_||s.removeEntry(h,Ut.min())})}).next(()=>(this.Yr=null,s.apply(e)))}updateLimboDocument(e,s){return this.ei(e,s).next(a=>{a?this.Xr.delete(s.toString()):this.Xr.add(s.toString())})}Wr(e){return 0}ei(e,s){return ht.or([()=>ht.resolve(this.Jr.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Hr(e,s)])}}class Vh{constructor(e){this.serializer=e}O(e,s,a,h){const _=new vt("createOrUpgrade",s);var L;a<1&&h>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ar,{unique:!0}),L.createObjectStore("documentMutations"),Ho(e),function(L){L.createObjectStore("remoteDocuments")}(e));let b=ht.resolve();return a<3&&h>=3&&(0!==a&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),Ho(e)),b=b.next(()=>function(L){const Y=L.store("targetGlobal"),ue={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",ue)}(_))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(L,Y){return Y.store("mutations").U().next(ue=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ar,{unique:!0});const De=Y.store("mutations"),Ke=ue.map(Dt=>De.put(Dt));return ht.waitFor(Ke)})}(e,_))),b=b.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(_))),a<6&&h>=6&&(b=b.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.ri(_)))),a<7&&h>=7&&(b=b.next(()=>this.ii(_))),a<8&&h>=8&&(b=b.next(()=>this.si(e,_))),a<9&&h>=9&&(b=b.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(_))),a<11&&h>=11&&(b=b.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(L){const Y=L.createObjectStore("documentOverlays",{keyPath:Fn});Y.createIndex("collectionPathOverlayIndex",mn,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",Ln,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(L){const Y=L.createObjectStore("remoteDocumentsV14",{keyPath:Vt});Y.createIndex("documentKeyIndex",rn),Y.createIndex("collectionGroupIndex",_n)}(e)).next(()=>this._i(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,_))),a<15&&h>=15&&(b=b.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:At}).createIndex("sequenceNumberIndex",at,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:kt}).createIndex("documentKeyIndex",dn,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{s.objectStore("indexState").clear()}).next(()=>{s.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(L){L.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let s=0;return e.store("remoteDocuments").J((a,h)=>{s+=Sl(h)}).next(()=>{const a={byteSize:s};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const s=e.store("mutationQueues"),a=e.store("mutations");return s.U().next(h=>ht.forEach(h,_=>{const b=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(P=>ht.forEach(P,L=>{qt(L.userId===_.userId);const Y=_r(this.serializer,L);return Oh(e,_.userId,Y).next(()=>{})}))}))}ii(e){const s=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const _=[];return a.J((b,P)=>{const L=new en(b),Y=[0,We(L)];_.push(s.get(Y).next(ue=>ue?ht.resolve():s.put({targetId:0,path:We(L),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>ht.waitFor(_))})}si(e,s){e.createObjectStore("collectionParents",{keyPath:yi});const a=s.store("collectionParents"),h=new fo,_=b=>{if(h.add(b)){const P=b.lastSegment(),L=b.popLast();return a.put({collectionId:P,parent:We(L)})}};return s.store("remoteDocuments").J({H:!0},(b,P)=>{const L=new en(b);return _(L.popLast())}).next(()=>s.store("documentMutations").J({H:!0},([b,P,L],Y)=>{const ue=Sn(P);return _(ue.popLast())}))}oi(e){const s=e.store("targets");return s.J((a,h)=>{const _=Sr(h),b=Br(this.serializer,_);return s.put(b)})}_i(e,s){const a=s.store("remoteDocuments"),h=[];return a.J((_,b)=>{const P=s.store("remoteDocumentsV14"),L=(De=b,De.document?new Bt(en.fromString(De.document.name).popFirst(5)):De.noDocument?Bt.fromSegments(De.noDocument.path):De.unknownDocument?Bt.fromSegments(De.unknownDocument.path):Ft()).path.toArray(),Y={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var De;h.push(P.put(Y))}).next(()=>ht.waitFor(h))}ai(e,s){const a=s.store("mutations"),h=wu(this.serializer),_=new Lh(Ad.Zr,this.serializer.ct);return a.U().next(b=>{const P=new Map;return b.forEach(L=>{var Y;let ue=null!==(Y=P.get(L.userId))&&void 0!==Y?Y:Tr();_r(this.serializer,L).keys().forEach(De=>ue=ue.add(De)),P.set(L.userId,ue)}),ht.forEach(P,(L,Y)=>{const ue=new rt(Y),De=Za.lt(this.serializer,ue),Ke=_.getIndexManager(ue),Dt=ic.lt(ue,this.serializer,Ke,_.referenceDelegate);return new wd(h,Dt,De,Ke).recalculateAndSaveOverlaysForDocumentKeys(new Hs(s,A.oe),L).next()})})}}function Ho(d){d.createObjectStore("targetDocuments",{keyPath:lr}).createIndex("documentTargetsIndex",yn,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fn,{unique:!0}),d.createObjectStore("targetGlobal")}const Fl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Dd{constructor(e,s,a,h,_,b,P,L,Y,ue,De=17){if(this.allowTabSynchronization=e,this.persistenceKey=s,this.clientId=a,this.ui=_,this.window=b,this.document=P,this.ci=Y,this.li=ue,this.hi=De,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Ke=>Promise.resolve(),!Dd.D())throw new ct($e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nh(this,h),this.Ai=s+"main",this.serializer=new H(L),this.Ri=new le(this.Ai,this.hi,new Vh(this.serializer)),this.$r=new md,this.Ur=new Tm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wu(this.serializer),this.Gr=new Al,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ue&&Ze("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ct($e.FAILED_PRECONDITION,Fl);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new A(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var s=this;return this.di=function(){var a=(0,i.A)(function*(h){if(s.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var s=(0,i.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return s.apply(this,arguments)}}())}setNetworkEnabled(e){var s=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,i.A)(function*(){s.started&&(yield s.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Vl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(s=>{s||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(s=>this.isPrimary&&!s?this.bi(e).next(()=>!1):!!s&&this.Di(e).next(()=>!0))).catch(e=>{if(jn(e))return Te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Ll(e).get("owner").next(s=>ht.resolve(this.vi(s)))}Ci(e){return Vl(e).delete(this.clientId)}Fi(){var e=this;return(0,i.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const s=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=zi(a,"clientMetadata");return h.U().next(_=>{const b=e.xi(_,18e5),P=_.filter(L=>-1===b.indexOf(L));return ht.forEach(P,L=>h.delete(L.clientId)).next(()=>P)})}).catch(()=>[]);if(e.Vi)for(const a of s)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?ht.resolve(!0):Ll(e).get("owner").next(s=>{if(null!==s&&this.Mi(s.leaseTimestampMs,5e3)&&!this.Ni(s.ownerId)){if(this.vi(s)&&this.networkEnabled)return!0;if(!this.vi(s)){if(!s.allowTabSynchronization)throw new ct($e.FAILED_PRECONDITION,Fl);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vl(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(s=>(this.isPrimary!==s&&Te("IndexedDbPersistence",`Client ${s?"is":"is not"} eligible for a primary lease.`),s))}shutdown(){var e=this;return(0,i.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],s=>{const a=new Hs(s,A.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,s){return e.filter(a=>this.Mi(a.updateTimeMs,s)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Vl(e).U().next(s=>this.xi(s,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,s){return ic.lt(e,this.serializer,s,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new tp(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Za.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,s,a){Te("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===s?"readonly":"readwrite",_=17===(L=this.hi)?_o:16===L?Vi:15===L?ls:14===L?Ai:13===L?Qn:12===L?jr:11===L?wr:void Ft();var L;let b;return this.Ri.runTransaction(e,h,_,P=>(b=new Hs(P,this.Qr?this.Qr.next():A.oe),"readwrite-primary"===s?this.wi(b).next(L=>!!L||this.Si(b)).next(L=>{if(!L)throw Ze(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ct($e.FAILED_PRECONDITION,tr);return a(b)}).next(L=>this.Di(b).next(()=>L)):this.Ki(b).next(()=>a(b)))).then(P=>(b.raiseOnCommittedEvent(),P))}Ki(e){return Ll(e).get("owner").next(s=>{if(null!==s&&this.Mi(s.leaseTimestampMs,5e3)&&!this.Ni(s.ownerId)&&!this.vi(s)&&!(this.li||this.allowTabSynchronization&&s.allowTabSynchronization))throw new ct($e.FAILED_PRECONDITION,Fl)})}Di(e){const s={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ll(e).put("owner",s)}static D(){return le.D()}bi(e){const s=Ll(e);return s.get("owner").next(a=>this.vi(a)?(Te("IndexedDbPersistence","Releasing primary lease."),s.delete("owner")):ht.resolve())}Mi(e,s){const a=Date.now();return!(e<a-s||e>a&&(Ze(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const s=/(?:Version|Mobile)\/1[456]/;(0,ae.nr)()&&(navigator.appVersion.match(s)||navigator.userAgent.match(s))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var s;try{const a=null!==(null===(s=this.Vi)||void 0===s?void 0:s.getItem(this.Oi(e)));return Te("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Ze("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ze("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ll(d){return zi(d,"owner")}function Vl(d){return zi(d,"clientMetadata")}function Sd(d,e){let s=d.projectId;return d.isDefaultDatabase||(s+="."+d.database),"firestore/"+e+"/"+s+"/"}class Rd{constructor(e,s,a,h){this.targetId=e,this.fromCache=s,this.$i=a,this.Ui=h}static Wi(e,s){let a=Tr(),h=Tr();for(const _ of s.docChanges)switch(_.type){case 0:a=a.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new Rd(e,s.fromCache,a,h)}}class wm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Pd{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,ae.nr)()?8:xe((0,ae.ZQ)())>0?6:4}initialize(e,s){this.Ji=e,this.indexManager=s,this.Gi=!0}getDocumentsMatchingQuery(e,s,a,h){const _={result:null};return this.Yi(e,s).next(b=>{_.result=b}).next(()=>{if(!_.result)return this.Zi(e,s,h,a).next(b=>{_.result=b})}).next(()=>{if(_.result)return;const b=new wm;return this.Xi(e,s,b).next(P=>{if(_.result=P,this.zi)return this.es(e,s,b,P.size)})}).next(()=>_.result)}es(e,s,a,h){return a.documentReadCount<this.ji?(Nt()<=be.$b.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Ti(s),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ht.resolve()):(Nt()<=be.$b.DEBUG&&Te("QueryEngine","Query:",Ti(s),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?(Nt()<=be.$b.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Ti(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mt(s))):ht.resolve())}Yi(e,s){if(V(s))return ht.resolve(null);let a=mt(s);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==s.limit&&1===h&&(s=ki(s,null,"F"),a=mt(s)),this.indexManager.getDocumentsMatchingTarget(e,a).next(_=>{const b=Tr(..._);return this.Ji.getDocuments(e,b).next(P=>this.indexManager.getMinOffset(e,a).next(L=>{const Y=this.ts(s,P);return this.ns(s,Y,b,L.readTime)?this.Yi(e,ki(s,null,"F")):this.rs(e,Y,s,L)}))})))}Zi(e,s,a,h){return V(s)||h.isEqual(Ut.min())?ht.resolve(null):this.Ji.getDocuments(e,a).next(_=>{const b=this.ts(s,_);return this.ns(s,b,a,h)?ht.resolve(null):(Nt()<=be.$b.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Ti(s)),this.rs(e,b,s,zr(h,-1)).next(P=>P))})}ts(e,s){let a=new Er(is(e));return s.forEach((h,_)=>{yo(e,_)&&(a=a.add(_))}),a}ns(e,s,a,h){if(null===e.limit)return!1;if(a.size!==s.size)return!0;const _="F"===e.limitType?s.last():s.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}Xi(e,s,a){return Nt()<=be.$b.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Ti(s)),this.Ji.getDocumentsMatchingQuery(e,s,hn.min(),a)}rs(e,s,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(_=>(s.forEach(b=>{_=_.insert(b.key,b)}),_))}}class zo{constructor(e,s,a,h){this.persistence=e,this.ss=s,this.serializer=h,this.os=new ei(sn),this._s=new ss(_=>Cs(_),So),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wd(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>e.collect(s,this.os))}}function Su(d,e,s,a){return new zo(d,e,s,a)}function xa(d,e){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,i.A)(function*(d,e){const s=yt(d);return yield s.persistence.runTransaction("Handle user change","readonly",a=>{let h;return s.mutationQueue.getAllMutationBatches(a).next(_=>(h=_,s.ls(e),s.mutationQueue.getAllMutationBatches(a))).next(_=>{const b=[],P=[];let L=Tr();for(const Y of h){b.push(Y.batchId);for(const ue of Y.mutations)L=L.add(ue.key)}for(const Y of _){P.push(Y.batchId);for(const ue of Y.mutations)L=L.add(ue.key)}return s.localDocuments.getDocuments(a,L).next(Y=>({hs:Y,removedBatchIds:b,addedBatchIds:P}))})})})).apply(this,arguments)}function xd(d){const e=yt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",s=>e.Ur.getLastRemoteSnapshotVersion(s))}function Uh(d,e,s){let a=Tr(),h=Tr();return s.forEach(_=>a=a.add(_)),e.getEntries(d,a).next(_=>{let b=fs();return s.forEach((P,L)=>{const Y=_.get(P);L.isFoundDocument()!==Y.isFoundDocument()&&(h=h.add(P)),L.isNoDocument()&&L.version.isEqual(Ut.min())?(e.removeEntry(P,L.readTime),b=b.insert(P,L)):!Y.isValidDocument()||L.version.compareTo(Y.version)>0||0===L.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(L),b=b.insert(P,L)):Te("LocalStore","Ignoring outdated watch update for ",P,". Current version:",Y.version," Watch version:",L.version)}),{Ps:b,Is:h}})}function sp(d,e){const s=yt(d);return s.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function jl(d,e){const s=yt(d);return s.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return s.Ur.getTargetData(a,e).next(_=>_?(h=_,ht.resolve(h)):s.Ur.allocateTargetId(a).next(b=>(h=new F(e,b,"TargetPurposeListen",a.currentSequenceNumber),s.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=s.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(s.os=s.os.insert(a.targetId,a),s._s.set(e,a.targetId)),a})}function jc(d,e,s){return Od.apply(this,arguments)}function Od(){return(Od=(0,i.A)(function*(d,e,s){const a=yt(d),h=a.os.get(e),_=s?"readwrite":"readwrite-primary";try{s||(yield a.persistence.runTransaction("Release target",_,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!jn(b))throw b;Te("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function nl(d,e,s){const a=yt(d);let h=Ut.min(),_=Tr();return a.persistence.runTransaction("Execute query","readwrite",b=>function(L,Y,ue){const De=yt(L),Ke=De._s.get(ue);return void 0!==Ke?ht.resolve(De.os.get(Ke)):De.Ur.getTargetData(Y,ue)}(a,b,mt(e)).next(P=>{if(P)return h=P.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,P.targetId).next(L=>{_=L})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,s?h:Ut.min(),s?_:Tr())).next(P=>(Bh(a,ir(e),P),{documents:P,Ts:_})))}function jh(d,e){const s=yt(d),a=yt(s.Ur),h=s.os.get(e);return h?Promise.resolve(h.target):s.persistence.runTransaction("Get target data","readonly",_=>a.ot(_,e).next(b=>b?b.target:null))}function Bl(d,e){const s=yt(d),a=s.us.get(e)||Ut.min();return s.persistence.runTransaction("Get new document changes","readonly",h=>s.cs.getAllFromCollectionGroup(h,e,zr(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Bh(s,e,h),h))}function Bh(d,e,s){let a=d.us.get(e)||Ut.min();s.forEach((h,_)=>{_.readTime.compareTo(a)>0&&(a=_.readTime)}),d.us.set(e,a)}function $h(){return($h=(0,i.A)(function*(d,e,s,a){const h=yt(d);let _=Tr(),b=fs();for(const Y of s){const ue=e.Es(Y.metadata.name);Y.document&&(_=_.add(ue));const De=e.ds(Y);De.setReadTime(e.As(Y.metadata.readTime)),b=b.insert(ue,De)}const P=h.cs.newChangeBuffer({trackRemovals:!0}),L=yield jl(h,(ue=a,mt(te(en.fromString(`__bundle__/docs/${ue}`)))));var ue;return h.persistence.runTransaction("Apply bundle documents","readwrite",Y=>Uh(Y,P,b).next(ue=>(P.apply(Y),ue)).next(ue=>h.Ur.removeMatchingKeysForTargetId(Y,L.targetId).next(()=>h.Ur.addMatchingKeys(Y,_,L.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(Y,ue.Ps,ue.Is)).next(()=>ue.Ps)))})).apply(this,arguments)}function op(d,e){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,i.A)(function*(d,e,s=Tr()){const a=yield jl(d,mt(gi(e.bundledQuery))),h=yt(d);return h.persistence.runTransaction("Save named query","readwrite",_=>{const b=as(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(_,e);const P=a.withResumeToken(Di.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(P.targetId,P),h.Ur.updateTargetData(_,P).next(()=>h.Ur.removeMatchingKeysForTargetId(_,a.targetId)).next(()=>h.Ur.addMatchingKeys(_,s,a.targetId)).next(()=>h.Gr.saveNamedQuery(_,e))})})).apply(this,arguments)}function Oa(d,e){return`firestore_clients_${d}_${e}`}function Gh(d,e,s){let a=`firestore_mutations_${d}_${s}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Nd(d,e){return`firestore_targets_${d}_${e}`}class kd{constructor(e,s,a,h){this.user=e,this.batchId=s,this.state=a,this.error=h}static Rs(e,s,a){const h=JSON.parse(a);let _,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(_=new ct(h.error.code,h.error.message))),b?new kd(e,s,h.state,_):(Ze("SharedClientState",`Failed to parse mutation state for ID '${s}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rl{constructor(e,s,a){this.targetId=e,this.state=s,this.error=a}static Rs(e,s){const a=JSON.parse(s);let h,_="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return _&&a.error&&(_="string"==typeof a.error.message&&"string"==typeof a.error.code,_&&(h=new ct(a.error.code,a.error.message))),_?new rl(e,a.state,h):(Ze("SharedClientState",`Failed to parse target state for ID '${e}': ${s}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $l{constructor(e,s){this.clientId=e,this.activeTargetIds=s}static Rs(e,s){const a=JSON.parse(s);let h="object"==typeof a&&a.activeTargetIds instanceof Array,_=vo();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=ge(a.activeTargetIds[b]),_=_.add(a.activeTargetIds[b]);return h?new $l(e,_):(Ze("SharedClientState",`Failed to parse client data for instance '${e}': ${s}`),null)}}class C{constructor(e,s){this.clientId=e,this.onlineState=s}static Rs(e){const s=JSON.parse(e);return"object"==typeof s&&-1!==["Unknown","Online","Offline"].indexOf(s.onlineState)&&"string"==typeof s.clientId?new C(s.clientId,s.onlineState):(Ze("SharedClientState",`Failed to parse online state: ${e}`),null)}}class g{constructor(){this.activeTargetIds=vo()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,s,a,h,_){this.window=e,this.ui=s,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ei(sn),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Ds=Oa(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new g),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,i.A)(function*(){const s=yield e.syncEngine.Qi();for(const h of s){if(h===e.ps)continue;const _=e.getItem(Oa(e.persistenceKey,h));if(_){const b=$l.Rs(h,_);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let s=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(s=!0)}),s}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,s,a){this.qs(e,s,a),this.Qs(e)}addLocalQueryTarget(e,s=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(Nd(this.persistenceKey,e));if(h){const _=rl.Rs(e,h);_&&(a=_.state)}}return s&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Nd(this.persistenceKey,e))}updateQueryState(e,s,a){this.$s(e,s,a)}handleUserChange(e,s,a){s.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const s=this.storage.getItem(e);return Te("SharedClientState","READ",e,s),s}setItem(e,s){Te("SharedClientState","SET",e,s),this.storage.setItem(e,s)}removeItem(e){Te("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var s=this;const a=e;if(a.storageArea===this.storage){if(Te("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void Ze("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,i.A)(function*(){if(s.started){if(null!==a.key)if(s.Cs.test(a.key)){if(null==a.newValue){const h=s.Gs(a.key);return s.zs(h,null)}{const h=s.js(a.key,a.newValue);if(h)return s.zs(h.clientId,h)}}else if(s.Fs.test(a.key)){if(null!==a.newValue){const h=s.Hs(a.key,a.newValue);if(h)return s.Js(h)}}else if(s.Ms.test(a.key)){if(null!==a.newValue){const h=s.Ys(a.key,a.newValue);if(h)return s.Zs(h)}}else if(a.key===s.xs){if(null!==a.newValue){const h=s.Ls(a.newValue);if(h)return s.Bs(h)}}else if(a.key===s.vs){const h=function(b){let P=A.oe;if(null!=b)try{const L=JSON.parse(b);qt("number"==typeof L),P=L}catch(L){Ze("SharedClientState","Failed to read sequence number from WebStorage",L)}return P}(a.newValue);h!==A.oe&&s.sequenceNumberHandler(h)}else if(a.key===s.Os){const h=s.Xs(a.newValue);yield Promise.all(h.map(_=>s.syncEngine.eo(_)))}}else s.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,s,a){const h=new kd(this.currentUser,e,s,a),_=Gh(this.persistenceKey,this.currentUser,e);this.setItem(_,h.Vs())}Qs(e){const s=Gh(this.persistenceKey,this.currentUser,e);this.removeItem(s)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,s,a){const h=Nd(this.persistenceKey,e),_=new rl(e,s,a);this.setItem(h,_.Vs())}Ws(e){const s=JSON.stringify(Array.from(e));this.setItem(this.Os,s)}Gs(e){const s=this.Cs.exec(e);return s?s[1]:null}js(e,s){const a=this.Gs(e);return $l.Rs(a,s)}Hs(e,s){const a=this.Fs.exec(e),h=Number(a[1]);return kd.Rs(new rt(void 0!==a[2]?a[2]:null),h,s)}Ys(e,s){const a=this.Ms.exec(e),h=Number(a[1]);return rl.Rs(h,s)}Ls(e){return C.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var s=this;return(0,i.A)(function*(){if(e.user.uid===s.currentUser.uid)return s.syncEngine.no(e.batchId,e.state,e.error);Te("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,s){const a=s?this.Ss.insert(e,s):this.Ss.remove(e),h=this.ks(this.Ss),_=this.ks(a),b=[],P=[];return _.forEach(L=>{h.has(L)||b.push(L)}),h.forEach(L=>{_.has(L)||P.push(L)}),this.syncEngine.io(b,P).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let s=vo();return e.forEach((a,h)=>{s=s.unionWith(h.activeTargetIds)}),s}}class R{constructor(){this.so=new g,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,a){}addLocalQueryTarget(e,s=!0){return s&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,s,a){this.oo[e]=s}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new g,Promise.resolve()}handleUserChange(e,s,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Q{_o(e){}shutdown(){}}class me{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let et=null;function Ot(){return null===et?et=268435456+Math.round(2147483648*Math.random()):et++,"0x"+et.toString(16)}const Zt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Un="WebChannelConnection";class Yr extends class{constructor(s){this.databaseInfo=s,this.databaseId=s.databaseId;const a=s.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+s.host,this.vo=`projects/${h}/databases/${_}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${_}`}get Fo(){return!1}Mo(s,a,h,_,b){const P=Ot(),L=this.xo(s,a.toUriEncodedString());Te("RestConnection",`Sending RPC '${s}' ${P}:`,L,h);const Y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(Y,_,b),this.No(s,L,Y,h).then(ue=>(Te("RestConnection",`Received RPC '${s}' ${P}: `,ue),ue),ue=>{throw Jt("RestConnection",`RPC '${s}' ${P} failed with error: `,ue,"url: ",L,"request:",h),ue})}Lo(s,a,h,_,b,P){return this.Mo(s,a,h,_,b)}Oo(s,a,h){s["X-Goog-Api-Client"]="gl-js/ fire/"+tt,s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((_,b)=>s[b]=_),h&&h.headers.forEach((_,b)=>s[b]=_)}xo(s,a){return`${this.Do}/v1/${a}:${Zt[s]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,s,a,h){const _=Ot();return new Promise((b,P)=>{const L=new pe;L.setWithCredentials(!0),L.listenOnce(ve.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Ye.NO_ERROR:const ue=L.getResponseJson();Te(Un,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(ue)),b(ue);break;case Ye.TIMEOUT:Te(Un,`RPC '${e}' ${_} timed out`),P(new ct($e.DEADLINE_EXCEEDED,"Request time out"));break;case Ye.HTTP_ERROR:const De=L.getStatus();if(Te(Un,`RPC '${e}' ${_} failed with status:`,De,"response text:",L.getResponseText()),De>0){let Ke=L.getResponseJson();Array.isArray(Ke)&&(Ke=Ke[0]);const Dt=Ke?.error;if(Dt&&Dt.status&&Dt.message){const Xt=function(ln){const Zn=ln.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(Zn)>=0?Zn:$e.UNKNOWN}(Dt.status);P(new ct(Xt,Dt.message))}else P(new ct($e.UNKNOWN,"Server responded with status "+L.getStatus()))}else P(new ct($e.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{Te(Un,`RPC '${e}' ${_} completed.`)}});const Y=JSON.stringify(h);Te(Un,`RPC '${e}' ${_} sending request:`,h),L.send(s,"POST",Y,a,15)})}Bo(e,s,a){const h=Ot(),_=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=He(),P=Ht(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Y=this.longPollingOptions.timeoutSeconds;void 0!==Y&&(L.longPollingTimeout=Math.round(1e3*Y)),this.useFetchStreams&&(L.useFetchStreams=!0),this.Oo(L.initMessageHeaders,s,a),L.encodeInitMessageHeaders=!0;const ue=_.join("");Te(Un,`Creating RPC '${e}' stream ${h}: ${ue}`,L);const De=b.createWebChannel(ue,L);let Ke=!1,Dt=!1;const Xt=new Mn({Io:ln=>{Dt?Te(Un,`Not sending because RPC '${e}' stream ${h} is closed:`,ln):(Ke||(Te(Un,`Opening RPC '${e}' stream ${h} transport.`),De.open(),Ke=!0),Te(Un,`RPC '${e}' stream ${h} sending:`,ln),De.send(ln))},To:()=>De.close()}),pn=(ln,Zn,dr)=>{ln.listen(Zn,nr=>{try{dr(nr)}catch(Vr){setTimeout(()=>{throw Vr},0)}})};return pn(De,Be.EventType.OPEN,()=>{Dt||(Te(Un,`RPC '${e}' stream ${h} transport opened.`),Xt.yo())}),pn(De,Be.EventType.CLOSE,()=>{Dt||(Dt=!0,Te(Un,`RPC '${e}' stream ${h} transport closed`),Xt.So())}),pn(De,Be.EventType.ERROR,ln=>{Dt||(Dt=!0,Jt(Un,`RPC '${e}' stream ${h} transport errored:`,ln),Xt.So(new ct($e.UNAVAILABLE,"The operation could not be completed")))}),pn(De,Be.EventType.MESSAGE,ln=>{var Zn;if(!Dt){const dr=ln.data[0];qt(!!dr);const Vr=dr.error||(null===(Zn=dr[0])||void 0===Zn?void 0:Zn.error);if(Vr){Te(Un,`RPC '${e}' stream ${h} received error:`,Vr);const Li=Vr.status;let ri=function(nt){const _t=xr[nt];if(void 0!==_t)return Qs(_t)}(Li),gt=Vr.message;void 0===ri&&(ri=$e.INTERNAL,gt="Unknown error status: "+Li+" with message "+Vr.message),Dt=!0,Xt.So(new ct(ri,gt)),De.close()}else Te(Un,`RPC '${e}' stream ${h} received:`,dr),Xt.bo(dr)}}),pn(P,it.STAT_EVENT,ln=>{ln.stat===Ce.PROXY?Te(Un,`RPC '${e}' stream ${h} detected buffering proxy`):ln.stat===Ce.NOPROXY&&Te(Un,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Xt.wo()},0),Xt}}function ko(){return typeof window<"u"?window:null}function Wo(){return typeof document<"u"?document:null}function Bc(d){return new pu(d,!0)}class Hh{constructor(e,s,a=1e3,h=1.5,_=6e4){this.ui=e,this.timerId=s,this.ko=a,this.qo=h,this.Qo=_,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const s=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,s-a);h>0&&Te("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Fd{constructor(e,s,a,h,_,b,P,L){this.ui=e,this.Ho=a,this.Jo=h,this.connection=_,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=P,this.listener=L,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Hh(e,s)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,i.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,i.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,s){var a=this;return(0,i.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():s&&s.code===$e.RESOURCE_EXHAUSTED?(Ze(s.toString()),Ze("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):s&&s.code===$e.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(s)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),s=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===s&&this.P_(a,h)},a=>{e(()=>{const h=new ct($e.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,s){const a=this.h_(this.Yo);this.stream=this.T_(e,s),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,i.A)(function*(){e.state=0,e.start()}))}I_(e){return Te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return s=>{this.ui.enqueueAndForget(()=>this.Yo===e?s():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ld extends Fd{constructor(e,s,a,h,_,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,a,h,b),this.serializer=_}T_(e,s){return this.connection.Bo("Listen",e,s)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const s=function yu(d,e){let s;if("targetChange"in e){const a="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:Ft(),h=e.targetChange.targetIds||[],_=function(Y,ue){return Y.useProto3Json?(qt(void 0===ue||"string"==typeof ue),Di.fromBase64String(ue||"")):(qt(void 0===ue||ue instanceof Buffer||ue instanceof Uint8Array),Di.fromUint8Array(ue||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,P=b&&function(Y){const ue=void 0===Y.code?$e.UNKNOWN:Qs(Y.code);return new ct(ue,Y.message||"")}(b);s=new Ph(a,h,_,P||null)}else if("documentChange"in e){const a=e.documentChange,h=$o(d,a.document.name),_=as(a.document.updateTime),b=a.document.createTime?as(a.document.createTime):Ut.min(),P=new je({mapValue:{fields:a.document.fields}}),L=St.newFoundDocument(h,_,b,P);s=new ha(a.targetIds||[],a.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const a=e.documentDelete,h=$o(d,a.document),_=a.readTime?as(a.readTime):Ut.min(),b=St.newNoDocument(h,_);s=new ha([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=$o(d,a.document);s=new ha([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Ft();{const a=e.filter,{count:h=0,unchangedNames:_}=a,b=new Sh(h,_);s=new hd(a.targetId,b)}}var Y;return s}(this.serializer,e),a=function(_){if(!("targetChange"in _))return Ut.min();const b=_.targetChange;return b.targetIds&&b.targetIds.length?Ut.min():b.readTime?as(b.readTime):Ut.min()}(e);return this.listener.d_(s,a)}A_(e){const s={};s.database=Il(this.serializer),s.addTarget=function(_,b){let P;const L=b.target;if(P=Ta(L)?{documents:ho(_,L)}:{query:Ra(_,L)._t},P.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){P.resumeToken=fd(_,b.resumeToken);const Y=Da(_,b.expectedCount);null!==Y&&(P.expectedCount=Y)}else if(b.snapshotVersion.compareTo(Ut.min())>0){P.readTime=Eo(_,b.snapshotVersion.toTimestamp());const Y=Da(_,b.expectedCount);null!==Y&&(P.expectedCount=Y)}return P}(this.serializer,e);const a=function vu(d,e){const s=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft()}}(e.purpose);return null==s?null:{"goog-listen-tags":s}}(0,e);a&&(s.labels=a),this.a_(s)}R_(e){const s={};s.database=Il(this.serializer),s.removeTarget=e,this.a_(s)}}class Dm extends Fd{constructor(e,s,a,h,_,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,a,h,b),this.serializer=_}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,s){return this.connection.Bo("Write",e,s)}E_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const s=function Js(d,e){return d&&d.length>0?(qt(void 0!==e),d.map(s=>function(h,_){let b=as(h.updateTime?h.updateTime:_);return b.isEqual(Ut.min())&&(b=as(_)),new B(b,h.transformResults||[])}(s,e))):[]}(e.writeResults,e.commitTime),a=as(e.commitTime);return this.listener.g_(a,s)}p_(){const e={};e.database=Il(this.serializer),this.a_(e)}m_(e){const s={streamToken:this.lastStreamToken,writes:e.map(a=>Oc(this.serializer,a))};this.a_(s)}}class ap extends class{}{constructor(e,s,a,h){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new ct($e.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,s,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,b])=>this.connection.Mo(e,gu(s,a),h,_,b)).catch(_=>{throw"FirebaseError"===_.name?(_.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new ct($e.UNKNOWN,_.toString())})}Lo(e,s,a,h,_){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,P])=>this.connection.Lo(e,gu(s,a),h,b,P,_)).catch(b=>{throw"FirebaseError"===b.name?(b.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new ct($e.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Vd{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const s=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ze(s),this.D_=!1):Te("OnlineStateTracker",s)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Ud{constructor(e,s,a,h,_){var b=this;this.localStore=e,this.datastore=s,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=_,this.k_._o(P=>{a.enqueueAndForget((0,i.A)(function*(){var L;ya(b)&&(Te("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,i.A)(function*(ue){const De=yt(ue);De.L_.add(4),yield _a(De),De.q_.set("Unknown"),De.L_.delete(4),yield $c(De)}),function Y(ue){return L.apply(this,arguments)})(b))}))}),this.q_=new Vd(a,h)}}function $c(d){return lp.apply(this,arguments)}function lp(){return(lp=(0,i.A)(function*(d){if(ya(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function _a(d){return jd.apply(this,arguments)}function jd(){return(jd=(0,i.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function Bd(d,e){const s=yt(d);s.N_.has(e.targetId)||(s.N_.set(e.targetId,e),up(s)?cp(s):zd(s).r_()&&$d(s,e))}function uc(d,e){const s=yt(d),a=zd(s);s.N_.delete(e),a.r_()&&Sm(s,e),0===s.N_.size&&(a.r_()?a.o_():ya(s)&&s.q_.set("Unknown"))}function $d(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const s=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}zd(d).A_(e)}function Sm(d,e){d.Q_.xe(e),zd(d).R_(e)}function cp(d){d.Q_=new hu({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),zd(d).start(),d.q_.v_()}function up(d){return ya(d)&&!zd(d).n_()&&d.N_.size>0}function ya(d){return 0===yt(d).L_.size}function dp(d){d.Q_=void 0}function Qg(d){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,i.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function Gd(d){return xu.apply(this,arguments)}function xu(){return(xu=(0,i.A)(function*(d){d.N_.forEach((e,s)=>{$d(d,e)})})).apply(this,arguments)}function Ou(d,e){return hp.apply(this,arguments)}function hp(){return(hp=(0,i.A)(function*(d,e){dp(d),up(d)?(d.q_.M_(e),cp(d)):d.q_.set("Unknown")})).apply(this,arguments)}function Rm(d,e,s){return fp.apply(this,arguments)}function fp(){return fp=(0,i.A)(function*(d,e,s){if(d.q_.set("Online"),e instanceof Ph&&2===e.state&&e.cause)try{yield(a=(0,i.A)(function*(_,b){const P=b.cause;for(const L of b.targetIds)_.N_.has(L)&&(yield _.remoteSyncer.rejectListen(L,P),_.N_.delete(L),_.Q_.removeTarget(L))}),function h(_,b){return a.apply(this,arguments)})(d,e)}catch(a){Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Nu(d,a)}else if(e instanceof ha?d.Q_.Ke(e):e instanceof hd?d.Q_.He(e):d.Q_.We(e),!s.isEqual(Ut.min()))try{const a=yield xd(d.localStore);s.compareTo(a)>=0&&(yield function(_,b){const P=_.Q_.rt(b);return P.targetChanges.forEach((L,Y)=>{if(L.resumeToken.approximateByteSize()>0){const ue=_.N_.get(Y);ue&&_.N_.set(Y,ue.withResumeToken(L.resumeToken,b))}}),P.targetMismatches.forEach((L,Y)=>{const ue=_.N_.get(L);if(!ue)return;_.N_.set(L,ue.withResumeToken(Di.EMPTY_BYTE_STRING,ue.snapshotVersion)),Sm(_,L);const De=new F(ue.target,L,Y,ue.sequenceNumber);$d(_,De)}),_.remoteSyncer.applyRemoteEvent(P)}(d,s))}catch(a){Te("RemoteStore","Failed to raise snapshot:",a),yield Nu(d,a)}var a}),fp.apply(this,arguments)}function Nu(d,e,s){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,i.A)(function*(d,e,s){if(!jn(e))throw e;d.L_.add(1),yield _a(d),d.q_.set("Offline"),s||(s=()=>xd(d.localStore)),d.asyncQueue.enqueueRetryable((0,i.A)(function*(){Te("RemoteStore","Retrying IndexedDB access"),yield s(),d.L_.delete(1),yield $c(d)}))})).apply(this,arguments)}function pp(d,e){return e().catch(s=>Nu(d,s,e))}function Hd(d){return mp.apply(this,arguments)}function mp(){return(mp=(0,i.A)(function*(d){const e=yt(d),s=dc(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vy(e);)try{const h=yield sp(e.localStore,a);if(null===h){0===e.O_.length&&s.o_();break}a=h.batchId,Jg(e,h)}catch(h){yield Nu(e,h)}To(e)&&gp(e)})).apply(this,arguments)}function vy(d){return ya(d)&&d.O_.length<10}function Jg(d,e){d.O_.push(e);const s=dc(d);s.r_()&&s.V_&&s.m_(e.mutations)}function To(d){return ya(d)&&!dc(d).n_()&&d.O_.length>0}function gp(d){dc(d).start()}function ku(d){return zh.apply(this,arguments)}function zh(){return(zh=(0,i.A)(function*(d){dc(d).p_()})).apply(this,arguments)}function Ko(d){return na.apply(this,arguments)}function na(){return(na=(0,i.A)(function*(d){const e=dc(d);for(const s of d.O_)e.m_(s.mutations)})).apply(this,arguments)}function Zg(d,e,s){return _p.apply(this,arguments)}function _p(){return(_p=(0,i.A)(function*(d,e,s){const a=d.O_.shift(),h=Po.from(a,e,s);yield pp(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield Hd(d)})).apply(this,arguments)}function Ey(d,e){return yp.apply(this,arguments)}function yp(){return yp=(0,i.A)(function*(d,e){var s;e&&dc(d).V_&&(yield(s=(0,i.A)(function*(h,_){if(bl(P=_.code)&&P!==$e.ABORTED){const b=h.O_.shift();dc(h).s_(),yield pp(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,_)),yield Hd(h)}var P}),function a(h,_){return s.apply(this,arguments)})(d,e)),To(d)&&gp(d)}),yp.apply(this,arguments)}function e_(d,e){return vp.apply(this,arguments)}function vp(){return(vp=(0,i.A)(function*(d,e){const s=yt(d);s.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const a=ya(s);s.L_.add(3),yield _a(s),a&&s.q_.set("Unknown"),yield s.remoteSyncer.handleCredentialChange(e),s.L_.delete(3),yield $c(s)})).apply(this,arguments)}function Mm(d,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,i.A)(function*(d,e){const s=yt(d);e?(s.L_.delete(2),yield $c(s)):e||(s.L_.add(2),yield _a(s),s.q_.set("Unknown"))})).apply(this,arguments)}function zd(d){return d.K_||(d.K_=function(s,a,h){const _=yt(s);return _.w_(),new Ld(a,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:Qg.bind(null,d),Ro:Gd.bind(null,d),mo:Ou.bind(null,d),d_:Rm.bind(null,d)}),d.B_.push(function(){var e=(0,i.A)(function*(s){s?(d.K_.s_(),up(d)?cp(d):d.q_.set("Unknown")):(yield d.K_.stop(),dp(d))});return function(s){return e.apply(this,arguments)}}())),d.K_}function dc(d){return d.U_||(d.U_=function(s,a,h){const _=yt(s);return _.w_(),new Dm(a,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ku.bind(null,d),mo:Ey.bind(null,d),f_:Ko.bind(null,d),g_:Zg.bind(null,d)}),d.B_.push(function(){var e=(0,i.A)(function*(s){s?(d.U_.s_(),yield Hd(d)):(yield d.U_.stop(),d.O_.length>0&&(Te("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(s){return e.apply(this,arguments)}}())),d.U_}class Gc{constructor(e,s,a,h,_){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=a,this.op=h,this.removalCallback=_,this.deferred=new ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,s,a,h,_){const b=Date.now()+a,P=new Gc(e,s,b,h,_);return P.start(a),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ct($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function il(d,e){if(Ze("AsyncQueue",`${e}: ${d}`),jn(d))return new ct($e.UNAVAILABLE,`${e}: ${d}`);throw d}class Wd{constructor(e){this.comparator=e?(s,a)=>e(s,a)||Bt.comparator(s.key,a.key):(s,a)=>Bt.comparator(s.key,a.key),this.keyedMap=lo(),this.sortedSet=new ei(this.comparator)}static emptySet(e){return new Wd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((s,a)=>(e(s),!1))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Wd)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;s.hasNext();){const h=s.getNext().key,_=a.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(s=>{e.push(s.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,s){const a=new Wd;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=s,a}}class Kd{constructor(){this.W_=new ei(Bt.comparator)}track(e){const s=e.doc.key,a=this.W_.get(s);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(s,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(s,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(s,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(s):1===e.type&&2===a.type?this.W_=this.W_.insert(s,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):Ft():this.W_=this.W_.insert(s,e)}G_(){const e=[];return this.W_.inorderTraversal((s,a)=>{e.push(a)}),e}}class hc{constructor(e,s,a,h,_,b,P,L,Y){this.query=e,this.docs=s,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=_,this.fromCache=b,this.syncStateChanged=P,this.excludesMetadataChanges=L,this.hasCachedResults=Y}static fromInitialDocuments(e,s,a,h,_){const b=[];return s.forEach(P=>{b.push({type:0,doc:P})}),new hc(e,s,Wd.emptySet(s),b,a,h,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Us(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,a=e.docChanges;if(s.length!==a.length)return!1;for(let h=0;h<s.length;h++)if(s[h].type!==a[h].type||!s[h].doc.isEqual(a[h].doc))return!1;return!0}}class Wh{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class xm{constructor(){this.queries=_i(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(s,a){const h=yt(s),_=h.queries;h.queries=_i(),_.forEach((b,P)=>{for(const L of P.j_)L.onError(a)})}(this,new ct($e.ABORTED,"Firestore shutting down"))}}function _i(){return new ss(d=>eo(d),Us)}function bp(d,e){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,i.A)(function*(d,e){const s=yt(d);let a=3;const h=e.query;let _=s.queries.get(h);_?!_.H_()&&e.J_()&&(a=2):(_=new Wh,a=e.J_()?0:1);try{switch(a){case 0:_.z_=yield s.onListen(h,!0);break;case 1:_.z_=yield s.onListen(h,!1);break;case 2:yield s.onFirstRemoteStoreListen(h)}}catch(b){const P=il(b,`Initialization of query '${Ti(e.query)}' failed`);return void e.onError(P)}s.queries.set(h,_),_.j_.push(e),e.Z_(s.onlineState),_.z_&&e.X_(_.z_)&&Nm(s)})).apply(this,arguments)}function Fu(d,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,i.A)(function*(d,e){const s=yt(d),a=e.query;let h=3;const _=s.queries.get(a);if(_){const b=_.j_.indexOf(e);b>=0&&(_.j_.splice(b,1),0===_.j_.length?h=e.J_()?0:1:!_.H_()&&e.J_()&&(h=2))}switch(h){case 0:return s.queries.delete(a),s.onUnlisten(a,!0);case 1:return s.queries.delete(a),s.onUnlisten(a,!1);case 2:return s.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Om(d,e){const s=yt(d);let a=!1;for(const h of e){const b=s.queries.get(h.query);if(b){for(const P of b.j_)P.X_(h)&&(a=!0);b.z_=h}}a&&Nm(s)}function Ip(d,e,s){const a=yt(d),h=a.queries.get(e);if(h)for(const _ of h.j_)_.onError(s);a.queries.delete(e)}function Nm(d){d.Y_.forEach(e=>{e.next()})}var km,t_;(t_=km||(km={})).ea="default",t_.Cache="cache";class Fm{constructor(e,s,a){this.query=e,this.ta=s,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new hc(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.na?this.ia(e)&&(this.ta.next(e),s=!0):this.sa(e,this.onlineState)&&(this.oa(e),s=!0),this.ra=e,s}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let s=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),s=!0),s}sa(e,s){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==s))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===s)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==km.Cache}}class by{constructor(e,s){this.aa=e,this.byteLength=s}ua(){return"metadata"in this.aa}}class n_{constructor(e){this.serializer=e}Es(e){return $o(this.serializer,e)}ds(e){return e.metadata.exists?Ya(this.serializer,e.document,!1):St.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return as(e)}}class r_{constructor(e,s,a){this.ca=e,this.localStore=s,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Kh(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let s=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++s;const a=en.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++s);return s!==this.progress.documentsLoaded?(this.progress.documentsLoaded=s,Object.assign({},this.progress)):null}ha(e){const s=new Map,a=new n_(this.serializer);for(const h of e)if(h.metadata.queries){const _=a.Es(h.metadata.name);for(const b of h.metadata.queries){const P=(s.get(b)||Tr()).add(_);s.set(b,P)}}return s}complete(){var e=this;return(0,i.A)(function*(){const s=yield function Ru(d,e,s,a){return $h.apply(this,arguments)}(e.localStore,new n_(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield op(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:s}})()}}function Kh(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class Cp{constructor(e){this.key=e}}class wp{constructor(e){this.key=e}}class i_{constructor(e,s){this.query=e,this.Ta=s,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Tr(),this.mutatedKeys=Tr(),this.Aa=is(e),this.Ra=new Wd(this.Aa)}get Va(){return this.Ta}ma(e,s){const a=s?s.fa:new Kd,h=s?s.Ra:this.Ra;let _=s?s.mutatedKeys:this.mutatedKeys,b=h,P=!1;const L="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,Y="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ue,De)=>{const Ke=h.get(ue),Dt=yo(this.query,De)?De:null,Xt=!!Ke&&this.mutatedKeys.has(Ke.key),pn=!!Dt&&(Dt.hasLocalMutations||this.mutatedKeys.has(Dt.key)&&Dt.hasCommittedMutations);let ln=!1;Ke&&Dt?Ke.data.isEqual(Dt.data)?Xt!==pn&&(a.track({type:3,doc:Dt}),ln=!0):this.ga(Ke,Dt)||(a.track({type:2,doc:Dt}),ln=!0,(L&&this.Aa(Dt,L)>0||Y&&this.Aa(Dt,Y)<0)&&(P=!0)):!Ke&&Dt?(a.track({type:0,doc:Dt}),ln=!0):Ke&&!Dt&&(a.track({type:1,doc:Ke}),ln=!0,(L||Y)&&(P=!0)),ln&&(Dt?(b=b.add(Dt),_=pn?_.add(ue):_.delete(ue)):(b=b.delete(ue),_=_.delete(ue)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ue="F"===this.query.limitType?b.last():b.first();b=b.delete(ue.key),_=_.delete(ue.key),a.track({type:1,doc:ue})}return{Ra:b,fa:a,ns:P,mutatedKeys:_}}ga(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,a,h){const _=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((ue,De)=>function(Dt,Xt){const pn=ln=>{switch(ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return pn(Dt)-pn(Xt)}(ue.type,De.type)||this.Aa(ue.doc,De.doc)),this.pa(a),h=null!=h&&h;const P=s&&!h?this.ya():[],L=0===this.da.size&&this.current&&!h?1:0,Y=L!==this.Ea;return this.Ea=L,0!==b.length||Y?{snapshot:new hc(this.query,e.Ra,_,b,e.mutatedKeys,0===L,Y,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:P}:{wa:P}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Kd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(s=>this.Ta=this.Ta.add(s)),e.modifiedDocuments.forEach(s=>{}),e.removedDocuments.forEach(s=>this.Ta=this.Ta.delete(s)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Tr(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const s=[];return e.forEach(a=>{this.da.has(a)||s.push(new wp(a))}),this.da.forEach(a=>{e.has(a)||s.push(new Cp(a))}),s}ba(e){this.Ta=e.Ts,this.da=Tr();const s=this.ma(e.documents);return this.applyChanges(s,!0)}Da(){return hc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Ty{constructor(e,s,a){this.query=e,this.targetId=s,this.view=a}}class Lm{constructor(e){this.key=e,this.va=!1}}class s_{constructor(e,s,a,h,_,b){this.localStore=e,this.remoteStore=s,this.eventManager=a,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new ss(P=>eo(P),Us),this.Ma=new Map,this.xa=new Set,this.Oa=new ei(Bt.comparator),this.Na=new Map,this.La=new rp,this.Ba={},this.ka=new Map,this.qa=Pl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Lu(d,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,i.A)(function*(d,e,s=!0){const a=kp(d);let h;const _=a.Fa.get(e);return _?(a.sharedClientState.addLocalQueryTarget(_.targetId),h=_.view.Da()):h=yield Iy(a,e,s,!0),h})).apply(this,arguments)}function o_(d,e){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,i.A)(function*(d,e){const s=kp(d);yield Iy(s,e,!0,!1)})).apply(this,arguments)}function Iy(d,e,s,a){return qd.apply(this,arguments)}function qd(){return(qd=(0,i.A)(function*(d,e,s,a){const h=yield jl(d.localStore,mt(e)),_=h.targetId,b=d.sharedClientState.addLocalQueryTarget(_,s);let P;return a&&(P=yield Um(d,e,_,"current"===b,h.resumeToken)),d.isPrimaryClient&&s&&Bd(d.remoteStore,h),P})).apply(this,arguments)}function Um(d,e,s,a,h){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,i.A)(function*(d,e,s,a,h){d.Ka=(De,Ke,Dt)=>{return(Xt=(0,i.A)(function*(ln,Zn,dr,nr){let Vr=Zn.view.ma(dr);Vr.ns&&(Vr=yield nl(ln.localStore,Zn.query,!1).then(({documents:Ge})=>Zn.view.ma(Ge,Vr)));const Li=nr&&nr.targetChanges.get(Zn.targetId),ri=nr&&null!=nr.targetMismatches.get(Zn.targetId),gt=Zn.view.applyChanges(Vr,ln.isPrimaryClient,Li,ri);return zc(ln,Zn.targetId,gt.wa),gt.snapshot}),function pn(ln,Zn,dr,nr){return Xt.apply(this,arguments)})(d,De,Ke,Dt);var Xt};const _=yield nl(d.localStore,e,!0),b=new i_(e,_.Ts),P=b.ma(_.documents),L=Aa.createSynthesizedTargetChangeForCurrentChange(s,a&&"Offline"!==d.onlineState,h),Y=b.applyChanges(P,d.isPrimaryClient,L);zc(d,s,Y.wa);const ue=new Ty(e,s,b);return d.Fa.set(e,ue),d.Ma.has(s)?d.Ma.get(s).push(e):d.Ma.set(s,[e]),Y.snapshot}),Dp.apply(this,arguments)}function a_(d,e,s){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,i.A)(function*(d,e,s){const a=yt(d),h=a.Fa.get(e),_=a.Ma.get(h.targetId);if(_.length>1)return a.Ma.set(h.targetId,_.filter(b=>!Us(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield jc(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),s&&uc(a.remoteStore,h.targetId),fc(a,h.targetId)}).catch(Wn))):(fc(a,h.targetId),yield jc(a.localStore,h.targetId,!0))})).apply(this,arguments)}function jm(d,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,i.A)(function*(d,e){const s=yt(d),a=s.Fa.get(e),h=s.Ma.get(a.targetId);s.isPrimaryClient&&1===h.length&&(s.sharedClientState.removeLocalQueryTarget(a.targetId),uc(s.remoteStore,a.targetId))})).apply(this,arguments)}function Vu(){return(Vu=(0,i.A)(function*(d,e,s){const a=Xm(d);try{const h=yield function(b,P){const L=yt(b),Y=jt.now(),ue=P.reduce((Dt,Xt)=>Dt.add(Xt.key),Tr());let De,Ke;return L.persistence.runTransaction("Locally write mutations","readwrite",Dt=>{let Xt=fs(),pn=Tr();return L.cs.getEntries(Dt,ue).next(ln=>{Xt=ln,Xt.forEach((Zn,dr)=>{dr.isValidDocument()||(pn=pn.add(Zn))})}).next(()=>L.localDocuments.getOverlayedDocuments(Dt,Xt)).next(ln=>{De=ln;const Zn=[];for(const dr of P){const nr=Kr(dr,De.get(dr.key).overlayedDocument);null!=nr&&Zn.push(new ni(dr.key,nr,lt(nr.value.mapValue),X.exists(!0)))}return L.mutationQueue.addMutationBatch(Dt,Y,Zn,P)}).next(ln=>{Ke=ln;const Zn=ln.applyToLocalDocumentSet(De,pn);return L.documentOverlayCache.saveOverlays(Dt,ln.batchId,Zn)})}).then(()=>({batchId:Ke.batchId,changes:da(De)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,P,L){let Y=b.Ba[b.currentUser.toKey()];Y||(Y=new ei(sn)),Y=Y.insert(P,L),b.Ba[b.currentUser.toKey()]=Y}(a,h.batchId,s),yield pc(a,h.changes),yield Hd(a.remoteStore)}catch(h){const _=il(h,"Failed to persist write");s.reject(_)}})).apply(this,arguments)}function Bm(d,e){return qh.apply(this,arguments)}function qh(){return(qh=(0,i.A)(function*(d,e){const s=yt(d);try{const a=yield function Am(d,e){const s=yt(d),a=e.snapshotVersion;let h=s.os;return s.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const b=s.cs.newChangeBuffer({trackRemovals:!0});h=s.os;const P=[];e.targetChanges.forEach((ue,De)=>{const Ke=h.get(De);if(!Ke)return;P.push(s.Ur.removeMatchingKeys(_,ue.removedDocuments,De).next(()=>s.Ur.addMatchingKeys(_,ue.addedDocuments,De)));let Dt=Ke.withSequenceNumber(_.currentSequenceNumber);var pn,ln,Zn;null!==e.targetMismatches.get(De)?Dt=Dt.withResumeToken(Di.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):ue.resumeToken.approximateByteSize()>0&&(Dt=Dt.withResumeToken(ue.resumeToken,a)),h=h.insert(De,Dt),ln=Dt,Zn=ue,(0===(pn=Ke).resumeToken.approximateByteSize()||ln.snapshotVersion.toMicroseconds()-pn.snapshotVersion.toMicroseconds()>=3e8||Zn.addedDocuments.size+Zn.modifiedDocuments.size+Zn.removedDocuments.size>0)&&P.push(s.Ur.updateTargetData(_,Dt))});let L=fs(),Y=Tr();if(e.documentUpdates.forEach(ue=>{e.resolvedLimboDocuments.has(ue)&&P.push(s.persistence.referenceDelegate.updateLimboDocument(_,ue))}),P.push(Uh(_,b,e.documentUpdates).next(ue=>{L=ue.Ps,Y=ue.Is})),!a.isEqual(Ut.min())){const ue=s.Ur.getLastRemoteSnapshotVersion(_).next(De=>s.Ur.setTargetsMetadata(_,_.currentSequenceNumber,a));P.push(ue)}return ht.waitFor(P).next(()=>b.apply(_)).next(()=>s.localDocuments.getLocalViewOfDocuments(_,L,Y)).next(()=>L)}).then(_=>(s.os=h,_))}(s.localStore,e);e.targetChanges.forEach((h,_)=>{const b=s.Na.get(_);b&&(qt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?qt(b.va):h.removedDocuments.size>0&&(qt(b.va),b.va=!1))}),yield pc(s,a,e)}catch(a){yield Wn(a)}})).apply(this,arguments)}function Yh(d,e,s){const a=yt(d);if(a.isPrimaryClient&&0===s||!a.isPrimaryClient&&1===s){const h=[];a.Fa.forEach((_,b)=>{const P=b.view.Z_(e);P.snapshot&&h.push(P.snapshot)}),function(b,P){const L=yt(b);L.onlineState=P;let Y=!1;L.queries.forEach((ue,De)=>{for(const Ke of De.j_)Ke.Z_(P)&&(Y=!0)}),Y&&Nm(L)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function l_(d,e,s){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,i.A)(function*(d,e,s){const a=yt(d);a.sharedClientState.updateQueryState(e,"rejected",s);const h=a.Na.get(e),_=h&&h.key;if(_){let b=new ei(Bt.comparator);b=b.insert(_,St.newNoDocument(_,Ut.min()));const P=Tr().add(_),L=new ws(Ut.min(),new Map,new ei(sn),b,P);yield Bm(a,L),a.Oa=a.Oa.remove(_),a.Na.delete(e),Hm(a)}else yield jc(a.localStore,e,!1).then(()=>fc(a,e,s)).catch(Wn)})).apply(this,arguments)}function Qh(d,e){return $m.apply(this,arguments)}function $m(){return($m=(0,i.A)(function*(d,e){const s=yt(d),a=e.batch.batchId;try{const h=yield function Md(d,e){const s=yt(d);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),_=s.cs.newChangeBuffer({trackRemovals:!0});return function(P,L,Y,ue){const De=Y.batch,Ke=De.keys();let Dt=ht.resolve();return Ke.forEach(Xt=>{Dt=Dt.next(()=>ue.getEntry(L,Xt)).next(pn=>{const ln=Y.docVersions.get(Xt);qt(null!==ln),pn.version.compareTo(ln)<0&&(De.applyToRemoteDocument(pn,Y),pn.isValidDocument()&&(pn.setReadTime(Y.commitVersion),ue.addEntry(pn)))})}),Dt.next(()=>P.mutationQueue.removeMutationBatch(L,De))}(s,a,e,_).next(()=>_.apply(a)).next(()=>s.mutationQueue.performConsistencyCheck(a)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(P){let L=Tr();for(let Y=0;Y<P.mutationResults.length;++Y)P.mutationResults[Y].transformResults.length>0&&(L=L.add(P.batch.mutations[Y].key));return L}(e))).next(()=>s.localDocuments.getDocuments(a,h))})}(s.localStore,e);Jh(s,a,null),xp(s,a),s.sharedClientState.updateMutationState(a,"acknowledged"),yield pc(s,h)}catch(h){yield Wn(h)}})).apply(this,arguments)}function c_(d,e,s){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,i.A)(function*(d,e,s){const a=yt(d);try{const h=yield function(b,P){const L=yt(b);return L.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let ue;return L.mutationQueue.lookupMutationBatch(Y,P).next(De=>(qt(null!==De),ue=De.keys(),L.mutationQueue.removeMutationBatch(Y,De))).next(()=>L.mutationQueue.performConsistencyCheck(Y)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(Y,ue,P)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,ue)).next(()=>L.localDocuments.getDocuments(Y,ue))})}(a.localStore,e);Jh(a,e,s),xp(a,e),a.sharedClientState.updateMutationState(e,"rejected",s),yield pc(a,h)}catch(h){yield Wn(h)}})).apply(this,arguments)}function Mp(){return(Mp=(0,i.A)(function*(d,e){const s=yt(d);ya(s.remoteStore)||Te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const P=yt(b);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>P.mutationQueue.getHighestUnacknowledgedBatchId(L))}(s.localStore);if(-1===a)return void e.resolve();const h=s.ka.get(a)||[];h.push(e),s.ka.set(a,h)}catch(a){const h=il(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function xp(d,e){(d.ka.get(e)||[]).forEach(s=>{s.resolve()}),d.ka.delete(e)}function Jh(d,e,s){const a=yt(d);let h=a.Ba[a.currentUser.toKey()];if(h){const _=h.get(e);_&&(s?_.reject(s):_.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function fc(d,e,s=null){d.sharedClientState.removeLocalQueryTarget(e);for(const a of d.Ma.get(e))d.Fa.delete(a),s&&d.Ca.$a(a,s);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(a=>{d.La.containsKey(a)||Zh(d,a)})}function Zh(d,e){d.xa.delete(e.path.canonicalString());const s=d.Oa.get(e);null!==s&&(uc(d.remoteStore,s),d.Oa=d.Oa.remove(e),d.Na.delete(s),Hm(d))}function zc(d,e,s){for(const a of s)a instanceof Cp?(d.La.addReference(a.key,e),wy(d,a)):a instanceof wp?(Te("SyncEngine","Document no longer in limbo: "+a.key),d.La.removeReference(a.key,e),d.La.containsKey(a.key)||Zh(d,a.key)):Ft()}function wy(d,e){const s=e.key,a=s.path.canonicalString();d.Oa.get(s)||d.xa.has(a)||(Te("SyncEngine","New document in limbo: "+s),d.xa.add(a),Hm(d))}function Hm(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const s=new Bt(en.fromString(e)),a=d.qa.next();d.Na.set(a,new Lm(s)),d.Oa=d.Oa.insert(s,a),Bd(d.remoteStore,new F(mt(te(s.path)),a,"TargetPurposeLimboResolution",A.oe))}}function pc(d,e,s){return zm.apply(this,arguments)}function zm(){return zm=(0,i.A)(function*(d,e,s){const a=yt(d),h=[],_=[],b=[];var P;a.Fa.isEmpty()||(a.Fa.forEach((P,L)=>{b.push(a.Ka(L,e,s).then(Y=>{var ue;if((Y||s)&&a.isPrimaryClient){const De=Y?!Y.fromCache:null===(ue=s?.targetChanges.get(L.targetId))||void 0===ue?void 0:ue.current;a.sharedClientState.updateQueryState(L.targetId,De?"current":"not-current")}if(Y){h.push(Y);const De=Rd.Wi(L.targetId,Y);_.push(De)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(P=(0,i.A)(function*(Y,ue){const De=yt(Y);try{yield De.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ke=>ht.forEach(ue,Dt=>ht.forEach(Dt.$i,Xt=>De.persistence.referenceDelegate.addReference(Ke,Dt.targetId,Xt)).next(()=>ht.forEach(Dt.Ui,Xt=>De.persistence.referenceDelegate.removeReference(Ke,Dt.targetId,Xt)))))}catch(Ke){if(!jn(Ke))throw Ke;Te("LocalStore","Failed to update sequence numbers: "+Ke)}for(const Ke of ue){const Dt=Ke.targetId;if(!Ke.fromCache){const Xt=De.os.get(Dt),ln=Xt.withLastLimboFreeSnapshotVersion(Xt.snapshotVersion);De.os=De.os.insert(Dt,ln)}}}),function L(Y,ue){return P.apply(this,arguments)})(a.localStore,_))}),zm.apply(this,arguments)}function Wm(d,e){return Km.apply(this,arguments)}function Km(){return(Km=(0,i.A)(function*(d,e){const s=yt(d);if(!s.currentUser.isEqual(e)){Te("SyncEngine","User change. New user:",e.toKey());const a=yield xa(s.localStore,e);s.currentUser=e,(_=s).ka.forEach(P=>{P.forEach(L=>{L.reject(new ct($e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.ka.clear(),s.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield pc(s,a.hs)}var _})).apply(this,arguments)}function Yd(d,e){const s=yt(d),a=s.Na.get(e);if(a&&a.va)return Tr().add(a.key);{let h=Tr();const _=s.Ma.get(e);if(!_)return h;for(const b of _){const P=s.Fa.get(b);h=h.unionWith(P.view.Va)}return h}}function Op(d,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,i.A)(function*(d,e){const s=yt(d),a=yield nl(s.localStore,e.query,!0),h=e.view.ba(a);return s.isPrimaryClient&&zc(s,e.targetId,h.wa),h})).apply(this,arguments)}function u_(d,e){return Np.apply(this,arguments)}function Np(){return(Np=(0,i.A)(function*(d,e){const s=yt(d);return Bl(s.localStore,e).then(a=>pc(s,a))})).apply(this,arguments)}function d_(d,e,s,a){return mc.apply(this,arguments)}function mc(){return(mc=(0,i.A)(function*(d,e,s,a){const h=yt(d),_=yield function(P,L){const Y=yt(P),ue=yt(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",De=>ue.Mn(De,L).next(Ke=>Ke?Y.localDocuments.getDocuments(De,Ke):ht.resolve(null)))}(h.localStore,e);var L;null!==_?("pending"===s?yield Hd(h.remoteStore):"acknowledged"===s||"rejected"===s?(Jh(h,e,a||null),xp(h,e),L=e,yt(yt(h.localStore).mutationQueue).On(L)):Ft(),yield pc(h,_)):Te("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function h_(){return(h_=(0,i.A)(function*(d,e){const s=yt(d);if(kp(s),Xm(s),!0===e&&!0!==s.Qa){const a=s.sharedClientState.getAllActiveQueryTargets(),h=yield f_(s,a.toArray());s.Qa=!0,yield Mm(s.remoteStore,!0);for(const _ of h)Bd(s.remoteStore,_)}else if(!1===e&&!1!==s.Qa){const a=[];let h=Promise.resolve();s.Ma.forEach((_,b)=>{s.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(fc(s,b),jc(s.localStore,b,!0))),uc(s.remoteStore,b)}),yield h,yield f_(s,a),function(b){const P=yt(b);P.Na.forEach((L,Y)=>{uc(P.remoteStore,Y)}),P.La.pr(),P.Na=new Map,P.Oa=new ei(Bt.comparator)}(s),s.Qa=!1,yield Mm(s.remoteStore,!1)}})).apply(this,arguments)}function f_(d,e,s){return qm.apply(this,arguments)}function qm(){return(qm=(0,i.A)(function*(d,e,s){const a=yt(d),h=[],_=[];for(const b of e){let P;const L=a.Ma.get(b);if(L&&0!==L.length){P=yield jl(a.localStore,mt(L[0]));for(const Y of L){const ue=a.Fa.get(Y),De=yield Op(a,ue);De.snapshot&&_.push(De.snapshot)}}else{const Y=yield jh(a.localStore,b);P=yield jl(a.localStore,Y),yield Um(a,p_(Y),b,!1,P.resumeToken)}h.push(P)}return a.Ca.d_(_),h})).apply(this,arguments)}function p_(d){return K(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function gc(d){return s=yt(d).localStore,yt(yt(s).persistence).Qi();var s}function Xd(d,e,s,a){return tf.apply(this,arguments)}function tf(){return(tf=(0,i.A)(function*(d,e,s,a){const h=yt(d);if(h.Qa)return void Te("SyncEngine","Ignoring unexpected query state notification.");const _=h.Ma.get(e);if(_&&_.length>0)switch(s){case"current":case"not-current":{const b=yield Bl(h.localStore,ir(_[0])),P=ws.createSynthesizedRemoteEventForCurrentChange(e,"current"===s,Di.EMPTY_BYTE_STRING);yield pc(h,b,P);break}case"rejected":yield jc(h.localStore,e,!0),fc(h,e,a);break;default:Ft()}})).apply(this,arguments)}function Dy(d,e,s){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,i.A)(function*(d,e,s){const a=kp(d);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){Te("SyncEngine","Adding an already active target "+h);continue}const _=yield jh(a.localStore,h),b=yield jl(a.localStore,_);yield Um(a,p_(_),b.targetId,!1,b.resumeToken),Bd(a.remoteStore,b)}for(const h of s)a.Ma.has(h)&&(yield jc(a.localStore,h,!1).then(()=>{uc(a.remoteStore,h),fc(a,h)}).catch(Wn))}})).apply(this,arguments)}function kp(d){const e=yt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l_.bind(null,e),e.Ca.d_=Om.bind(null,e.eventManager),e.Ca.$a=Ip.bind(null,e.eventManager),e}function Xm(d){const e=yt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c_.bind(null,e),e}let Uu=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(s){var a=this;return(0,i.A)(function*(){a.serializer=Bc(s.databaseInfo.databaseId),a.sharedClientState=a.Wa(s),a.persistence=a.Ga(s),yield a.persistence.start(),a.localStore=a.za(s),a.gcScheduler=a.ja(s,a.localStore),a.indexBackfillerScheduler=a.Ha(s,a.localStore)})()}ja(s,a){return null}Ha(s,a){return null}za(s){return Su(this.persistence,new Pd,s.initialUser,this.serializer)}Ga(s){return new Lh(Ad.Zr,this.serializer)}Wa(s){return new R}terminate(){var s=this;return(0,i.A)(function*(){var a,h;null===(a=s.gcScheduler)||void 0===a||a.stop(),null===(h=s.indexBackfillerScheduler)||void 0===h||h.stop(),s.sharedClientState.shutdown(),yield s.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class Qm extends Uu{constructor(e,s,a){super(),this.Ja=e,this.cacheSizeBytes=s,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var s=()=>super.initialize,a=this;return(0,i.A)(function*(){yield s().call(a,e),yield a.Ja.initialize(a,e),yield Xm(a.Ja.syncEngine),yield Hd(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Su(this.persistence,new Pd,e.initialUser,this.serializer)}ja(e,s){return new Nl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,s)}Ha(e,s){const a=new x(s,this.persistence);return new G(e.asyncQueue,a)}Ga(e){const s=Sd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new Dd(this.synchronizeTabs,s,e.clientId,a,e.asyncQueue,ko(),Wo(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new R}}class m_ extends Qm{constructor(e,s){super(e,s,!1),this.Ja=e,this.cacheSizeBytes=s,this.synchronizeTabs=!0}initialize(e){var s=()=>super.initialize,a=this;return(0,i.A)(function*(){yield s().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof v&&(a.sharedClientState.syncEngine={no:d_.bind(null,h),ro:Xd.bind(null,h),io:Dy.bind(null,h),Qi:gc.bind(null,h),eo:u_.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var _=(0,i.A)(function*(b){yield function Ay(d,e){return h_.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return _.apply(this,arguments)}}())})()}Wa(e){const s=ko();if(!v.D(s))throw new ct($e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Sd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(s,e.asyncQueue,a,e.clientId,e.initialUser)}}let Qd=(()=>{class d{initialize(s,a){var h=this;return(0,i.A)(function*(){h.localStore||(h.localStore=s.localStore,h.sharedClientState=s.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!s.synchronizeTabs),h.sharedClientState.onlineStateHandler=_=>Yh(h.syncEngine,_,1),h.remoteStore.remoteSyncer.handleCredentialChange=Wm.bind(null,h.syncEngine),yield Mm(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(s){return new xm}createDatastore(s){const a=Bc(s.databaseInfo.databaseId),h=new Yr(s.databaseInfo);return new ap(s.authCredentials,s.appCheckCredentials,h,a)}createRemoteStore(s){return h=this.localStore,_=this.datastore,b=s.asyncQueue,P=a=>Yh(this.syncEngine,a,0),L=me.D()?new me:new Q,new Ud(h,_,b,P,L);var h,_,b,P,L}createSyncEngine(s,a){return function(_,b,P,L,Y,ue,De){const Ke=new s_(_,b,P,L,Y,ue);return De&&(Ke.Qa=!0),Ke}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,s.initialUser,s.maxConcurrentLimboResolutions,a)}terminate(){var s=this;return(0,i.A)(function*(){var a,h,_;yield(_=(0,i.A)(function*(P){const L=yt(P);Te("RemoteStore","RemoteStore shutting down."),L.L_.add(5),yield _a(L),L.k_.shutdown(),L.q_.set("Unknown")}),function b(P){return _.apply(this,arguments)})(s.remoteStore),null===(a=s.datastore)||void 0===a||a.terminate(),null===(h=s.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function nf(d,e=10240){let s=0;return{read:()=>(0,i.A)(function*(){if(s<d.byteLength){const a={value:d.slice(s,s+e),done:!1};return s+=e,a}return{done:!0}})(),cancel:()=>(0,i.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Na{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ze("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,s){setTimeout(()=>{this.muted||e(s)},0)}}class rf{constructor(e,s){this.Xa=e,this.serializer=s,this.metadata=new ut,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,i.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,i.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,i.A)(function*(){const s=yield e.nu();if(null===s)return null;const a=e.eu.decode(s),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const _=yield e.iu(h);return new by(JSON.parse(_),s.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,i.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const s=e.su();s<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,s);return e.buffer=e.buffer.slice(s),a})()}iu(e){var s=this;return(0,i.A)(function*(){for(;s.buffer.length<e;)(yield s.ou())&&s.ru("Reached the end of bundle when more is expected.");const a=s.eu.decode(s.buffer.slice(0,e));return s.buffer=s.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,i.A)(function*(){const s=yield e.Xa.read();if(!s.done){const a=new Uint8Array(e.buffer.length+s.value.length);a.set(e.buffer),a.set(s.value,e.buffer.length),e.buffer=a}return s.done})()}}class sf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var s=this;return(0,i.A)(function*(){if(s.ensureCommitNotCalled(),s.mutations.length>0)throw s.lastTransactionError=new ct($e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),s.lastTransactionError;const a=yield(h=(0,i.A)(function*(b,P){const L=yt(b),Y={documents:P.map(Dt=>Pr(L.serializer,Dt))},ue=yield L.Lo("BatchGetDocuments",L.serializer.databaseId,en.emptyPath(),Y,P.length),De=new Map;ue.forEach(Dt=>{const Xt=function _u(d,e){return"found"in e?function(a,h){qt(!!h.found);const _=$o(a,h.found.name),b=as(h.found.updateTime),P=h.found.createTime?as(h.found.createTime):Ut.min(),L=new je({mapValue:{fields:h.found.fields}});return St.newFoundDocument(_,b,P,L)}(d,e):"missing"in e?function(a,h){qt(!!h.missing),qt(!!h.readTime);const _=$o(a,h.missing),b=as(h.readTime);return St.newNoDocument(_,b)}(d,e):Ft()}(L.serializer,Dt);De.set(Xt.key.toString(),Xt)});const Ke=[];return P.forEach(Dt=>{const Xt=De.get(Dt.toString());qt(!!Xt),Ke.push(Xt)}),Ke}),function _(b,P){return h.apply(this,arguments)})(s.datastore,e);var h;return a.forEach(h=>s.recordVersion(h)),a})()}set(e,s){this.write(s.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,s){try{this.write(s.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Os(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,i.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const s=e.readVersions;var a;e.mutations.forEach(a=>{s.delete(a.key.toString())}),s.forEach((a,h)=>{const _=Bt.fromPath(h);e.mutations.push(new Jo(_,e.precondition(_)))}),yield(a=(0,i.A)(function*(_,b){const P=yt(_),L={writes:b.map(Y=>Oc(P.serializer,Y))};yield P.Mo("Commit",P.serializer.databaseId,en.emptyPath(),L)}),function h(_,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let s;if(e.isFoundDocument())s=e.version;else{if(!e.isNoDocument())throw Ft();s=Ut.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!s.isEqual(a))throw new ct($e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),s)}precondition(e){const s=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&s?s.isEqual(Ut.min())?X.exists(!1):X.updateTime(s):X.none()}preconditionForUpdate(e){const s=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&s){if(s.isEqual(Ut.min()))throw new ct($e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return X.updateTime(s)}return X.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ju{constructor(e,s,a,h,_){this.asyncQueue=e,this.datastore=s,this.options=a,this.updateFunction=h,this.deferred=_,this._u=a.maxAttempts,this.t_=new Hh(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,i.A)(function*(){const s=new sf(e.datastore),a=e.cu(s);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>s.commit().then(()=>{e.deferred.resolve(h)}).catch(_=>{e.lu(_)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const s=this.updateFunction(e);return!J(s)&&s.catch&&s.then?s:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const s=e.code;return"aborted"===s||"failed-precondition"===s||"already-exists"===s||!bl(s)}return!1}}class af{constructor(e,s,a,h,_){var b=this;this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=a,this.databaseInfo=h,this.user=rt.UNAUTHENTICATED,this.clientId=Nn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=_,this.authCredentials.start(a,function(){var P=(0,i.A)(function*(L){Te("FirestoreClient","Received user=",L.uid),yield b.authCredentialListener(L),b.user=L});return function(L){return P.apply(this,arguments)}}()),this.appCheckCredentials.start(a,P=>(Te("FirestoreClient","Received new app check token=",P),this.appCheckCredentialListener(P,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const s=new ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,i.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),s.resolve()}catch(a){const h=il(a,"Failed to shutdown persistence");s.reject(h)}})),s.promise}}function lf(d,e){return cf.apply(this,arguments)}function cf(){return cf=(0,i.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const s=d.configuration;yield e.initialize(s);let a=s.initialUser;d.setCredentialChangeListener(function(){var h=(0,i.A)(function*(_){a.isEqual(_)||(yield xa(e.localStore,_),a=_)});return function(_){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),cf.apply(this,arguments)}function Fp(d,e){return uf.apply(this,arguments)}function uf(){return(uf=(0,i.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const s=yield df(d);Te("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(s,d.configuration),d.setCredentialChangeListener(a=>e_(e.remoteStore,a)),d.setAppCheckTokenChangeListener((a,h)=>e_(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function df(d){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,i.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lf(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===$e.FAILED_PRECONDITION||h.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;Jt("Error using user provided cache. Falling back to memory cache: "+e),yield lf(d,new Uu)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),yield lf(d,new Uu);var h;return d._offlineComponents})).apply(this,arguments)}function Zm(d){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,i.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),yield Fp(d,d._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),yield Fp(d,new Qd))),d._onlineComponents})).apply(this,arguments)}function g_(d){return df(d).then(e=>e.persistence)}function Jd(d){return df(d).then(e=>e.localStore)}function __(d){return Zm(d).then(e=>e.remoteStore)}function eg(d){return Zm(d).then(e=>e.syncEngine)}function _c(d){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,i.A)(function*(d){const e=yield Zm(d),s=e.eventManager;return s.onListen=Lu.bind(null,e.syncEngine),s.onUnlisten=a_.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=o_.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=jm.bind(null,e.syncEngine),s})).apply(this,arguments)}function rg(d,e,s={}){const a=new ut;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function(_,b,P,L,Y){const ue=new Na({next:Ke=>{ue.Za(),b.enqueueAndForget(()=>Fu(_,De));const Dt=Ke.docs.has(P);!Dt&&Ke.fromCache?Y.reject(new ct($e.UNAVAILABLE,"Failed to get document because the client is offline.")):Dt&&Ke.fromCache&&L&&"server"===L.source?Y.reject(new ct($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(Ke)},error:Ke=>Y.reject(Ke)}),De=new Fm(te(P.path),ue,{includeMetadataChanges:!0,_a:!0});return bp(_,De)}(yield _c(d),d.asyncQueue,e,s,a)})),a.promise}function Up(d,e,s={}){const a=new ut;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function(_,b,P,L,Y){const ue=new Na({next:Ke=>{ue.Za(),b.enqueueAndForget(()=>Fu(_,De)),Ke.fromCache&&"server"===L.source?Y.reject(new ct($e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(Ke)},error:Ke=>Y.reject(Ke)}),De=new Fm(P,ue,{includeMetadataChanges:!0,_a:!0});return bp(_,De)}(yield _c(d),d.asyncQueue,e,s,a)})),a.promise}function ig(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const ff=new Map;function $u(d,e,s){if(!s)throw new ct($e.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function pf(d,e,s,a){if(!0===e&&!0===a)throw new ct($e.INVALID_ARGUMENT,`${d} and ${s} cannot be used together.`)}function sg(d){if(!Bt.isDocumentKey(d))throw new ct($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function jp(d){if(Bt.isDocumentKey(d))throw new ct($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function Zd(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(a=d).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof d?"a function":Ft()}function hi(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new ct($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Zd(d);throw new ct($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return d}function og(d,e){if(e<=0)throw new ct($e.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class E_{constructor(e){var s,a;if(void 0===e.host){if(void 0!==e.ssl)throw new ct($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(s=e.ssl)||void 0===s||s;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ct($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ig(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new ct($e.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new ct($e.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new ct($e.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gu{constructor(e,s,a,h){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ct($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new ee;switch(a.type){case"firstParty":return new st(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,i.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const a=ff.get(s);a&&(Te("ComponentProvider","Removing Datastore"),ff.delete(s),a.terminate())}(this),Promise.resolve()}}function Uv(d,e,s,a={}){var h;const _=(d=hi(d,Gu))._getSettings(),b=`${e}:${s}`;if("firestore.googleapis.com"!==_.host&&_.host!==b&&Jt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},_),{host:b,ssl:!1})),a.mockUserToken){let P,L;if("string"==typeof a.mockUserToken)P=a.mockUserToken,L=rt.MOCK_USER;else{P=(0,ae.Fy)(a.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const Y=a.mockUserToken.sub||a.mockUserToken.user_id;if(!Y)throw new ct($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new rt(Y)}d._authCredentials=new ye(new Oe(P,L))}}class no{constructor(e,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class $s{constructor(e,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $s(this.firestore,e,this._key)}}class sl extends no{constructor(e,s,a){super(e,s,te(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $s(this.firestore,null,new Bt(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function Ny(d,e,...s){if(d=(0,ae.Ku)(d),$u("collection","path",e),d instanceof Gu){const a=en.fromString(e,...s);return jp(a),new sl(d,null,a)}{if(!(d instanceof $s||d instanceof sl))throw new ct($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(en.fromString(e,...s));return jp(a),new sl(d.firestore,null,a)}}function ky(d,e){if(d=hi(d,Gu),$u("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ct($e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new no(d,null,(a=e,new Ro(en.emptyPath(),a)));var a}function Hu(d,e,...s){if(d=(0,ae.Ku)(d),1===arguments.length&&(e=Nn.newId()),$u("doc","path",e),d instanceof Gu){const a=en.fromString(e,...s);return sg(a),new $s(d,null,new Bt(a))}{if(!(d instanceof $s||d instanceof sl))throw new ct($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(en.fromString(e,...s));return sg(a),new $s(d.firestore,d instanceof sl?d.converter:null,new Bt(a))}}function jv(d,e){return d=(0,ae.Ku)(d),e=(0,ae.Ku)(e),(d instanceof $s||d instanceof sl)&&(e instanceof $s||e instanceof sl)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function Bp(d,e){return d=(0,ae.Ku)(d),e=(0,ae.Ku)(e),d instanceof no&&e instanceof no&&d.firestore===e.firestore&&Us(d._query,e._query)&&d.converter===e.converter}class $p{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Hh(this,"async_queue_retry"),this.Vu=()=>{const a=Wo();a&&Te("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const s=Wo();s&&"function"==typeof s.addEventListener&&s.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const s=Wo();s&&"function"==typeof s.removeEventListener&&s.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const s=new ut;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,i.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(s){if(!jn(s))throw s;Te("AsyncQueue","Operation failed with retryable error: "+s)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const s=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,Ze("INTERNAL UNHANDLED ERROR: ",function(b){let P=b.message||"";return b.stack&&(P=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),P}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=s,s}enqueueAfterDelay(e,s,a){this.fu(),this.Ru.indexOf(e)>-1&&(s=0);const h=Gc.createAndSchedule(this,e,s,a,_=>this.yu(_));return this.Tu.push(h),h}fu(){this.Eu&&Ft()}verifyOperationInProgress(){}wu(){var e=this;return(0,i.A)(function*(){let s;do{s=e.mu,yield s}while(s!==e.mu)})()}Su(e){for(const s of this.Tu)if(s.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((s,a)=>s.targetTimeMs-a.targetTimeMs);for(const s of this.Tu)if(s.skipDelay(),"all"!==e&&s.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const s=this.Tu.indexOf(e);this.Tu.splice(s,1)}}function Gp(d){return function(s,a){if("object"!=typeof s||null===s)return!1;const h=s;for(const _ of["next","error","complete"])if(_ in h&&"function"==typeof h[_])return!0;return!1}(d)}class mf{constructor(){this._progressObserver={},this._taskCompletionResolver=new ut,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,s,a){this._progressObserver={next:e,error:s,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,s){return this._taskCompletionResolver.promise.then(e,s)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const eh=-1;class Ii extends Gu{constructor(e,s,a,h){super(e,s,a,h),this.type="firestore",this._queue=new $p,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,i.A)(function*(){if(e._firestoreClient){const s=e._firestoreClient.terminate();e._queue=new $p(s),e._firestoreClient=void 0,yield s}})()}}function ag(d,e){const s="object"==typeof d?d:(0,oe.getApp)(),a="string"==typeof d?d:e||"(default)",h=(0,oe._getProvider)(s,"firestore").getImmediate({identifier:a});if(!h._initialized){const _=(0,ae.yU)("firestore");_&&Uv(h,..._)}return h}function Es(d){if(d._terminated)throw new ct($e.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||Fy(d),d._firestoreClient}function Fy(d){var e,s,a;const h=d._freezeSettings(),_=(L=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new Or(d._databaseId,L,d._persistenceKey,(ue=h).host,ue.ssl,ue.experimentalForceLongPolling,ue.experimentalAutoDetectLongPolling,ig(ue.experimentalLongPollingOptions),ue.useFetchStreams));var L,ue;d._componentsProvider||!(null===(s=h.localCache)||void 0===s)&&s._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new af(d._authCredentials,d._appCheckCredentials,d._queue,_,d._componentsProvider&&function(P){const L=P?._online.build();return{_offline:P?._offline.build(L),_online:L}}(d._componentsProvider))}function Ly(d,e){Jt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=d._freezeSettings();return Vy(d,Qd.provider,{build:a=>new Qm(a,s.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function th(d){return b_.apply(this,arguments)}function b_(){return(b_=(0,i.A)(function*(d){Jt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();Vy(d,Qd.provider,{build:s=>new m_(s,e.cacheSizeBytes)})})).apply(this,arguments)}function Vy(d,e,s){if((d=hi(d,Ii))._firestoreClient||d._terminated)throw new ct($e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new ct($e.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:s},Fy(d)}function Bv(d){if(d._initialized&&!d._terminated)throw new ct($e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ut;return d._queue.enqueueAndForgetEvenWhileRestricted((0,i.A)(function*(){try{yield(s=(0,i.A)(function*(h){if(!le.D())return Promise.resolve();const _=h+"main";yield le.delete(_)}),function a(h){return s.apply(this,arguments)})(Sd(d._databaseId,d._persistenceKey)),e.resolve()}catch(s){e.reject(s)}var s})),e.promise}function T_(d){return function(s){const a=new ut;return s.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function Cy(d,e){return Mp.apply(this,arguments)}(yield eg(s),a)})),a.promise}(Es(d=hi(d,Ii)))}function Uy(d){return function ng(d){return d.asyncQueue.enqueue((0,i.A)(function*(){const e=yield g_(d),s=yield __(d);return e.setNetworkEnabled(!0),function(h){const _=yt(h);return _.L_.delete(0),$c(_)}(s)}))}(Es(d=hi(d,Ii)))}function $v(d){return function Py(d){return d.asyncQueue.enqueue((0,i.A)(function*(){const e=yield g_(d),s=yield __(d);return e.setNetworkEnabled(!1),(a=(0,i.A)(function*(_){const b=yt(_);b.L_.add(0),yield _a(b),b.q_.set("Offline")}),function h(_){return a.apply(this,arguments)})(s);var a}))}(Es(d=hi(d,Ii)))}function I_(d,e){const s=Es(d=hi(d,Ii)),a=new mf;return function Oy(d,e,s,a){const h=function(b,P){let L;return L="string"==typeof b?dd().encode(b):b,ue=function(ue,De){if(ue instanceof Uint8Array)return nf(ue,void 0);if(ue instanceof ArrayBuffer)return nf(new Uint8Array(ue),void 0);if(ue instanceof ReadableStream)return ue.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new rf(ue,P);var ue}(s,Bc(e));d.asyncQueue.enqueueAndForget((0,i.A)(function*(){!function Sy(d,e,s){const a=yt(d);var h;(h=(0,i.A)(function*(b,P,L){try{const Y=yield P.getMetadata();if(yield function(Xt,pn){const ln=yt(Xt),Zn=as(pn.createTime);return ln.persistence.runTransaction("hasNewerBundle","readonly",dr=>ln.Gr.getBundleMetadata(dr,pn.id)).then(dr=>!!dr&&dr.createTime.compareTo(Zn)>=0)}(b.localStore,Y))return yield P.close(),L._completeWith({taskState:"Success",documentsLoaded:(Xt=Y).totalDocuments,bytesLoaded:Xt.totalBytes,totalDocuments:Xt.totalDocuments,totalBytes:Xt.totalBytes}),Promise.resolve(new Set);L._updateProgress(Kh(Y));const ue=new r_(Y,b.localStore,P.serializer);let De=yield P.Ua();for(;De;){const Dt=yield ue.la(De);Dt&&L._updateProgress(Dt),De=yield P.Ua()}const Ke=yield ue.complete();return yield pc(b,Ke.Ia,void 0),yield function(Xt,pn){const ln=yt(Xt);return ln.persistence.runTransaction("Save bundle","readwrite",Zn=>ln.Gr.saveBundleMetadata(Zn,pn))}(b.localStore,Y),L._completeWith(Ke.progress),Promise.resolve(Ke.Pa)}catch(Y){return Jt("SyncEngine",`Loading bundle failed with ${Y}`),L._failWith(Y),Promise.resolve(new Set)}var Xt}),function _(b,P,L){return h.apply(this,arguments)})(a,e,s).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield eg(d),h,a)}))}(s,d._databaseId,e,a),a}function qE(d,e){return function v_(d,e){return d.asyncQueue.enqueue((0,i.A)(function*(){return function(a,h){const _=yt(a);return _.persistence.runTransaction("Get named query","readonly",b=>_.Gr.getNamedQuery(b,h))}(yield Jd(d),e)}))}(Es(d=hi(d,Ii)),e).then(s=>s?new no(d,null,s.query):null)}class Wu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wu(Di.fromBase64String(e))}catch(s){throw new ct($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Wu(Di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nh{constructor(...e){for(let s=0;s<e.length;++s)if(0===e[s].length)throw new ct($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yc{constructor(e){this._methodName=e}}class lg{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new ct($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new ct($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}}class gf{constructor(e){this._values=(e||[]).map(s=>s)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let _=0;_<a.length;++_)if(a[_]!==h[_])return!1;return!0}(this._values,e._values)}}const C_=/^__.*__$/;class _f{constructor(e,s,a){this.data=e,this.fieldMask=s,this.fieldTransforms=a}toMutation(e,s){return null!==this.fieldMask?new ni(e,this.data,this.fieldMask,s,this.fieldTransforms):new Ir(e,this.data,s,this.fieldTransforms)}}class cg{constructor(e,s,a){this.data=e,this.fieldMask=s,this.fieldTransforms=a}toMutation(e,s){return new ni(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function ug(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class Ku{constructor(e,s,a,h,_,b){this.settings=e,this.databaseId=s,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===_&&this.vu(),this.fieldTransforms=_||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ku(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var s;const a=null===(s=this.path)||void 0===s?void 0:s.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var s;const a=null===(s=this.path)||void 0===s?void 0:s.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(s=>e.isPrefixOf(s))||void 0!==this.fieldTransforms.find(s=>e.isPrefixOf(s.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(ug(this.Cu)&&C_.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class dg{constructor(e,s,a){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=a||Bc(e)}Qu(e,s,a,h=!1){return new Ku({Cu:e,methodName:s,qu:a,path:qn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ol(d){const e=d._freezeSettings(),s=Bc(d._databaseId);return new dg(d._databaseId,!!e.ignoreUndefinedProperties,s)}function yf(d,e,s,a,h,_={}){const b=d.Qu(_.merge||_.mergeFields?2:0,e,s,h);S_("Data must be an object, but it was:",b,a);const P=D_(a,b);let L,Y;if(_.merge)L=new li(b.fieldMask),Y=b.fieldTransforms;else if(_.mergeFields){const ue=[];for(const De of _.mergeFields){const Ke=fg(e,De,s);if(!b.contains(Ke))throw new ct($e.INVALID_ARGUMENT,`Field '${Ke}' is specified in your field mask but missing from your input data.`);Gy(ue,Ke)||ue.push(Ke)}L=new li(ue),Y=b.fieldTransforms.filter(De=>L.covers(De.field))}else L=null,Y=b.fieldTransforms;return new _f(new je(P),L,Y)}class rh extends yc{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rh}}function zp(d,e,s){return new Ku({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:s},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jy extends yc{_toFieldTransform(e){return new M(e.path,new El)}isEqual(e){return e instanceof jy}}class Wp extends yc{constructor(e,s){super(e),this.Ku=s}_toFieldTransform(e){const s=zp(this,e,!0),a=this.Ku.map(_=>Kc(_,s)),h=new Bo(a);return new M(e.path,h)}isEqual(e){return e instanceof Wp&&(0,ae.bD)(this.Ku,e.Ku)}}class ih extends yc{constructor(e,s){super(e),this.Ku=s}_toFieldTransform(e){const s=zp(this,e,!0),a=this.Ku.map(_=>Kc(_,s)),h=new wa(a);return new M(e.path,h)}isEqual(e){return e instanceof ih&&(0,ae.bD)(this.Ku,e.Ku)}}class w_ extends yc{constructor(e,s){super(e),this.$u=s}_toFieldTransform(e){const s=new Wa(e.serializer,Ca(e.serializer,this.$u));return new M(e.path,s)}isEqual(e){return e instanceof w_&&this.$u===e.$u}}function hg(d,e,s,a){const h=d.Qu(1,e,s);S_("Data must be an object, but it was:",h,a);const _=[],b=je.empty();Zr(a,(L,Y)=>{const ue=sh(e,L,s);Y=(0,ae.Ku)(Y);const De=h.Nu(ue);if(Y instanceof rh)_.push(ue);else{const Ke=Kc(Y,De);null!=Ke&&(_.push(ue),b.set(ue,Ke))}});const P=new li(_);return new cg(b,P,h.fieldTransforms)}function A_(d,e,s,a,h,_){const b=d.Qu(1,e,s),P=[fg(e,a,s)],L=[h];if(_.length%2!=0)throw new ct($e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ke=0;Ke<_.length;Ke+=2)P.push(fg(e,_[Ke])),L.push(_[Ke+1]);const Y=[],ue=je.empty();for(let Ke=P.length-1;Ke>=0;--Ke)if(!Gy(Y,P[Ke])){const Dt=P[Ke];let Xt=L[Ke];Xt=(0,ae.Ku)(Xt);const pn=b.Nu(Dt);if(Xt instanceof rh)Y.push(Dt);else{const ln=Kc(Xt,pn);null!=ln&&(Y.push(Dt),ue.set(Dt,ln))}}const De=new li(Y);return new cg(ue,De,b.fieldTransforms)}function By(d,e,s,a=!1){return Kc(s,d.Qu(a?4:3,e))}function Kc(d,e){if($y(d=(0,ae.Ku)(d)))return S_("Unsupported field value:",e,d),D_(d,e);if(d instanceof yc)return function(a,h){if(!ug(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const _=a._toFieldTransform(h);_&&h.fieldTransforms.push(_)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const _=[];let b=0;for(const P of a){let L=Kc(P,h.Lu(b));null==L&&(L={nullValue:"NULL_VALUE"}),_.push(L),b++}return{arrayValue:{values:_}}}(d,e)}return function(a,h){if(null===(a=(0,ae.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Ca(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const _=jt.fromDate(a);return{timestampValue:Eo(h.serializer,_)}}if(a instanceof jt){const _=new jt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Eo(h.serializer,_)}}if(a instanceof lg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Wu)return{bytesValue:fd(h.serializer,a._byteString)};if(a instanceof $s){const _=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(_))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:Jl(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof gf)return P=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(L=>{if("number"!=typeof L)throw P.Bu("VectorValues must only contain numeric values.");return co(P.serializer,L)})}}}}};var P;throw h.Bu(`Unsupported field value: ${Zd(a)}`)}(d,e)}function D_(d,e){const s={};return ys(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(d,(a,h)=>{const _=Kc(h,e.Mu(a));null!=_&&(s[a]=_)}),{mapValue:{fields:s}}}function $y(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof jt||d instanceof lg||d instanceof Wu||d instanceof $s||d instanceof yc||d instanceof gf)}function S_(d,e,s){if(!$y(s)||"object"!=typeof(h=s)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=Zd(s);throw e.Bu("an object"===a?d+" a custom object":d+" "+a)}var h}function fg(d,e,s){if((e=(0,ae.Ku)(e))instanceof nh)return e._internalPath;if("string"==typeof e)return sh(d,e);throw vf("Field path arguments must be of type string or ",d,!1,void 0,s)}const zv=new RegExp("[~\\*/\\[\\]]");function sh(d,e,s){if(e.search(zv)>=0)throw vf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,s);try{return new nh(...e.split("."))._internalPath}catch{throw vf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,s)}}function vf(d,e,s,a,h){const _=a&&!a.isEmpty(),b=void 0!==h;let P=`Function ${e}() called with invalid data`;s&&(P+=" (via `toFirestore()`)"),P+=". ";let L="";return(_||b)&&(L+=" (found",_&&(L+=` in field ${a}`),b&&(L+=` in document ${h}`),L+=")"),new ct($e.INVALID_ARGUMENT,P+d+L)}function Gy(d,e){return d.some(s=>s.isEqual(e))}class Ef{constructor(e,s,a,h,_){this._firestore=e,this._userDataWriter=s,this._key=a,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new $s(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new R_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(oh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s)}}}class R_ extends Ef{data(){return super.data()}}function oh(d,e){return"string"==typeof e?sh(d,e):e instanceof nh?e._internalPath:e._delegate._internalPath}function Hy(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new ct($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class Kp extends pg{}function zy(d,e,...s){let a=[];e instanceof pg&&a.push(e),a=a.concat(s),function(_){const b=_.filter(L=>L instanceof vc).length,P=_.filter(L=>L instanceof mg).length;if(b>1||b>0&&P>0)throw new ct($e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)d=h._apply(d);return d}class mg extends Kp{constructor(e,s,a){super(),this._field=e,this._op=s,this._value=a,this.type="where"}static _create(e,s,a){return new mg(e,s,a)}_apply(e){const s=this._parse(e);return O_(e._query,s),new no(e.firestore,e.converter,xs(e._query,s))}_parse(e){const s=ol(e.firestore);return function(_,b,P,L,Y,ue,De){let Ke;if(Y.isKeyField()){if("array-contains"===ue||"array-contains-any"===ue)throw new ct($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ue}' queries on documentId().`);if("in"===ue||"not-in"===ue){x_(De,ue);const Dt=[];for(const Xt of De)Dt.push(M_(L,_,Xt));Ke={arrayValue:{values:Dt}}}else Ke=M_(L,_,De)}else"in"!==ue&&"not-in"!==ue&&"array-contains-any"!==ue||x_(De,ue),Ke=By(P,"where",De,"in"===ue||"not-in"===ue);return xn.create(Y,ue,Ke)}(e._query,0,s,e.firestore._databaseId,this._field,this._op,this._value)}}function Wv(d,e,s){const a=e,h=oh("where",d);return mg._create(h,a,s)}class vc extends pg{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new vc(e,s)}_parse(e){const s=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===s.length?s[0]:Jn.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return 0===s.getFilters().length?e:(function(h,_){let b=h;const P=_.getFlattenedFilters();for(const L of P)O_(b,L),b=xs(b,L)}(e._query,s),new no(e.firestore,e.converter,xs(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ah extends Kp{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new ah(e,s)}_apply(e){const s=function(h,_,b){if(null!==h.startAt)throw new ct($e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new ct($e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rr(_,b)}(e._query,this._field,this._direction);return new no(e.firestore,e.converter,function(h,_){const b=h.explicitOrderBy.concat([_]);return new Ro(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,s))}}function Kv(d,e="asc"){const s=e,a=oh("orderBy",d);return ah._create(a,s)}class bf extends Kp{constructor(e,s,a){super(),this.type=e,this._limit=s,this._limitType=a}static _create(e,s,a){return new bf(e,s,a)}_apply(e){return new no(e.firestore,e.converter,ki(e._query,this._limit,this._limitType))}}function gg(d){return og("limit",d),bf._create("limit",d,"F")}function P_(d){return og("limitToLast",d),bf._create("limitToLast",d,"L")}class Yp extends Kp{constructor(e,s,a){super(),this.type=e,this._docOrFields=s,this._inclusive=a}static _create(e,s,a){return new Yp(e,s,a)}_apply(e){const s=yg(e,this.type,this._docOrFields,this._inclusive);return new no(e.firestore,e.converter,(_=s,new Ro((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,_,h.endAt)));var h,_}}function Wy(...d){return Yp._create("startAt",d,!0)}function Xp(...d){return Yp._create("startAfter",d,!1)}class lh extends Kp{constructor(e,s,a){super(),this.type=e,this._docOrFields=s,this._inclusive=a}static _create(e,s,a){return new lh(e,s,a)}_apply(e){const s=yg(e,this.type,this._docOrFields,this._inclusive);return new no(e.firestore,e.converter,(_=s,new Ro((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,_)));var h,_}}function qv(...d){return lh._create("endBefore",d,!1)}function _g(...d){return lh._create("endAt",d,!0)}function yg(d,e,s,a){if(s[0]=(0,ae.Ku)(s[0]),s[0]instanceof Ef)return function(_,b,P,L,Y){if(!L)throw new ct($e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const ue=[];for(const De of ze(_))if(De.field.isKeyField())ue.push(gr(b,L.key));else{const Ke=L.data.field(De.field);if(bs(Ke))throw new ct($e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+De.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ke){const Dt=De.field.canonicalString();throw new ct($e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Dt}' (used as the orderBy) does not exist.`)}ue.push(Ke)}return new an(ue,Y)}(d._query,d.firestore._databaseId,e,s[0]._document,a);{const h=ol(d.firestore);return function(b,P,L,Y,ue,De){const Ke=b.explicitOrderBy;if(ue.length>Ke.length)throw new ct($e.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Dt=[];for(let Xt=0;Xt<ue.length;Xt++){const pn=ue[Xt];if(Ke[Xt].field.isKeyField()){if("string"!=typeof pn)throw new ct($e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof pn}`);if(!fe(b)&&-1!==pn.indexOf("/"))throw new ct($e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${pn}' contains a slash.`);const ln=b.path.child(en.fromString(pn));if(!Bt.isDocumentKey(ln))throw new ct($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${ln}' is not because it contains an odd number of segments.`);const Zn=new Bt(ln);Dt.push(gr(P,Zn))}else{const ln=By(L,Y,pn);Dt.push(ln)}}return new an(Dt,De)}(d._query,d.firestore._databaseId,h,e,s,a)}}function M_(d,e,s){if("string"==typeof(s=(0,ae.Ku)(s))){if(""===s)throw new ct($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fe(e)&&-1!==s.indexOf("/"))throw new ct($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const a=e.path.child(en.fromString(s));if(!Bt.isDocumentKey(a))throw new ct($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return gr(d,new Bt(a))}if(s instanceof $s)return gr(d,s._key);throw new ct($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zd(s)}.`)}function x_(d,e){if(!Array.isArray(d)||0===d.length)throw new ct($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function O_(d,e){const s=function(h,_){for(const b of h)for(const P of b.getFlattenedFilters())if(_.indexOf(P.op)>=0)return P.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==s)throw new ct($e.INVALID_ARGUMENT,s===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class vg{convertValue(e,s="none"){switch(ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw Ft()}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const a={};return Zr(e,(h,_)=>{a[h]=this.convertValue(_,s)}),a}convertVectorValue(e){var s,a,h;const _=null===(h=null===(a=null===(s=e.fields)||void 0===s?void 0:s.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>si(b.doubleValue));return new gf(_)}convertGeoPoint(e){return new lg(si(e.latitude),si(e.longitude))}convertArray(e,s){return(e.values||[]).map(a=>this.convertValue(a,s))}convertServerTimestamp(e,s){switch(s){case"previous":const a=ao(e);return null==a?null:this.convertValue(a,s);case"estimate":return this.convertTimestamp(Ss(e));default:return null}}convertTimestamp(e){const s=Ws(e);return new jt(s.seconds,s.nanos)}convertDocumentKey(e,s){const a=en.fromString(e);qt(w(a));const h=new ci(a.get(1),a.get(3)),_=new Bt(a.popFirst(5));return h.isEqual(s)||Ze(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),_}}function Eg(d,e,s){let a;return a=d?s&&(s.merge||s.mergeFields)?d.toFirestore(e,s):d.toFirestore(e):e,a}class Yv extends vg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wu(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new $s(this.firestore,null,s)}}class Tf{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qc extends Ef{constructor(e,s,a,h,_,b){super(e,s,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new al(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const a=this._document.data.field(oh("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}}class al extends qc{data(e={}){return super.data(e)}}class bc{constructor(e,s,a,h){this._firestore=e,this._userDataWriter=s,this._snapshot=h,this.metadata=new Tf(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(s=>e.push(s)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,s){this._snapshot.docs.forEach(a=>{e.call(s,new al(this._firestore,this._userDataWriter,a.key,a,new Tf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ct($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(h,_){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(P=>({type:"added",doc:new al(h._firestore,h._userDataWriter,P.doc.key,P.doc,new Tf(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(P=>_||3!==P.type).map(P=>{const L=new al(h._firestore,h._userDataWriter,P.doc.key,P.doc,new Tf(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter);let Y=-1,ue=-1;return 0!==P.type&&(Y=b.indexOf(P.doc.key),b=b.delete(P.doc.key)),1!==P.type&&(b=b.add(P.doc),ue=b.indexOf(P.doc.key)),{type:Jv(P.type),doc:L,oldIndex:Y,newIndex:ue}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function Jv(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}function Zv(d,e){return d instanceof qc&&e instanceof qc?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof bc&&e instanceof bc&&d._firestore===e._firestore&&Bp(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function eE(d){d=hi(d,$s);const e=hi(d.firestore,Ii);return rg(Es(e),d._key).then(s=>F_(e,d,s))}class Tc extends vg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wu(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new $s(this.firestore,null,s)}}function Ic(d){d=hi(d,$s);const e=hi(d.firestore,Ii),s=Es(e),a=new Tc(e);return function Bu(d,e){const s=new ut;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return(a=(0,i.A)(function*(_,b,P){try{const L=yield function(ue,De){const Ke=yt(ue);return Ke.persistence.runTransaction("read document","readonly",Dt=>Ke.localDocuments.getDocument(Dt,De))}(_,b);L.isFoundDocument()?P.resolve(L):L.isNoDocument()?P.resolve(null):P.reject(new ct($e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const Y=il(L,`Failed to get document '${b} from cache`);P.reject(Y)}}),function h(_,b,P){return a.apply(this,arguments)})(yield Jd(d),e,s);var a})),s.promise}(s,d._key).then(h=>new qc(e,a,d._key,h,new Tf(null!==h&&h.hasLocalMutations,!0),d.converter))}function Yy(d){d=hi(d,$s);const e=hi(d.firestore,Ii);return rg(Es(e),d._key,{source:"server"}).then(s=>F_(e,d,s))}function tE(d){d=hi(d,no);const e=hi(d.firestore,Ii),s=Es(e),a=new Tc(e);return Hy(d._query),Up(s,d._query).then(h=>new bc(e,a,d,h))}function XE(d){d=hi(d,no);const e=hi(d.firestore,Ii),s=Es(e),a=new Tc(e);return function My(d,e){const s=new ut;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return(a=(0,i.A)(function*(_,b,P){try{const L=yield nl(_,b,!0),Y=new i_(b,L.Ts),ue=Y.ma(L.documents),De=Y.applyChanges(ue,!1);P.resolve(De.snapshot)}catch(L){const Y=il(L,`Failed to execute query '${b} against cache`);P.reject(Y)}}),function h(_,b,P){return a.apply(this,arguments)})(yield Jd(d),e,s);var a})),s.promise}(s,d._query).then(h=>new bc(e,a,d,h))}function Io(d){d=hi(d,no);const e=hi(d.firestore,Ii),s=Es(e),a=new Tc(e);return Up(s,d._query,{source:"server"}).then(h=>new bc(e,a,d,h))}function nE(d,e,s){d=hi(d,$s);const a=hi(d.firestore,Ii),h=Eg(d.converter,e,s);return ch(a,[yf(ol(a),"setDoc",d._key,h,null!==d.converter,s).toMutation(d._key,X.none())])}function N_(d,e,s,...a){d=hi(d,$s);const h=hi(d.firestore,Ii),_=ol(h);let b;return b="string"==typeof(e=(0,ae.Ku)(e))||e instanceof nh?A_(_,"updateDoc",d._key,e,s,a):hg(_,"updateDoc",d._key,e),ch(h,[b.toMutation(d._key,X.exists(!0))])}function rE(d){return ch(hi(d.firestore,Ii),[new Os(d._key,X.none())])}function iE(d,e){const s=hi(d.firestore,Ii),a=Hu(d),h=Eg(d.converter,e);return ch(s,[yf(ol(d.firestore),"addDoc",a._key,h,null!==d.converter,{}).toMutation(a._key,X.exists(!1))]).then(()=>a)}function k_(d,...e){var s,a,h;d=(0,ae.Ku)(d);let _={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||Gp(e[b])||(_=e[b],b++);const P={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(Gp(e[b])){const De=e[b];e[b]=null===(s=De.next)||void 0===s?void 0:s.bind(De),e[b+1]=null===(a=De.error)||void 0===a?void 0:a.bind(De),e[b+2]=null===(h=De.complete)||void 0===h?void 0:h.bind(De)}let L,Y,ue;if(d instanceof $s)Y=hi(d.firestore,Ii),ue=te(d._key.path),L={next:De=>{e[b]&&e[b](F_(Y,d,De))},error:e[b+1],complete:e[b+2]};else{const De=hi(d,no);Y=hi(De.firestore,Ii),ue=De._query;const Ke=new Tc(Y);L={next:Dt=>{e[b]&&e[b](new bc(Y,Ke,De,Dt))},error:e[b+1],complete:e[b+2]},Hy(d._query)}return function(Ke,Dt,Xt,pn){const ln=new Na(pn),Zn=new Fm(Dt,ln,Xt);return Ke.asyncQueue.enqueueAndForget((0,i.A)(function*(){return bp(yield _c(Ke),Zn)})),()=>{ln.Za(),Ke.asyncQueue.enqueueAndForget((0,i.A)(function*(){return Fu(yield _c(Ke),Zn)}))}}(Es(Y),ue,P,L)}function Xy(d,e){return function xy(d,e){const s=new Na(e);return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return h=yield _c(d),_=s,yt(h).Y_.add(_),void _.next();var h,_})),()=>{s.Za(),d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return h=yield _c(d),_=s,void yt(h).Y_.delete(_);var h,_}))}}(Es(d=hi(d,Ii)),Gp(e)?e:{next:e})}function ch(d,e){return function(a,h){const _=new ut;return a.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function Pp(d,e,s){return Vu.apply(this,arguments)}(yield eg(a),h,_)})),_.promise}(Es(d),e)}function F_(d,e,s){const a=s.docs.get(e._key),h=new Tc(d);return new qc(d,h,e._key,a,new Tf(s.hasPendingWrites,s.fromCache),e.converter)}const Zp={maxAttempts:5};class em{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=ol(e)}set(e,s,a){this._verifyNotCommitted();const h=Yc(e,this._firestore),_=Eg(h.converter,s,a),b=yf(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,X.none())),this}update(e,s,a,...h){this._verifyNotCommitted();const _=Yc(e,this._firestore);let b;return b="string"==typeof(s=(0,ae.Ku)(s))||s instanceof nh?A_(this._dataReader,"WriteBatch.update",_._key,s,a,h):hg(this._dataReader,"WriteBatch.update",_._key,s),this._mutations.push(b.toMutation(_._key,X.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=Yc(e,this._firestore);return this._mutations=this._mutations.concat(new Os(s._key,X.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ct($e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yc(d,e){if((d=(0,ae.Ku)(d)).firestore!==e)throw new ct($e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class nv extends class{constructor(s,a){this._firestore=s,this._transaction=a,this._dataReader=ol(s)}get(s){const a=Yc(s,this._firestore),h=new Yv(this._firestore);return this._transaction.lookup([a._key]).then(_=>{if(!_||1!==_.length)return Ft();const b=_[0];if(b.isFoundDocument())return new Ef(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new Ef(this._firestore,h,a._key,null,a.converter);throw Ft()})}set(s,a,h){const _=Yc(s,this._firestore),b=Eg(_.converter,a,h),P=yf(this._dataReader,"Transaction.set",_._key,b,null!==_.converter,h);return this._transaction.set(_._key,P),this}update(s,a,h,..._){const b=Yc(s,this._firestore);let P;return P="string"==typeof(a=(0,ae.Ku)(a))||a instanceof nh?A_(this._dataReader,"Transaction.update",b._key,a,h,_):hg(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,P),this}delete(s){const a=Yc(s,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,s){super(e,s),this._firestore=e}get(e){const s=Yc(e,this._firestore),a=new Tc(this._firestore);return super.get(e).then(h=>new qc(this._firestore,a,s._key,h._document,new Tf(!1,!1),s.converter))}}function cE(d,e,s){d=hi(d,Ii);const a=Object.assign(Object.assign({},Zp),s);return function(_){if(_.maxAttempts<1)throw new ct($e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(_,b,P){const L=new ut;return _.asyncQueue.enqueueAndForget((0,i.A)(function*(){const Y=yield function tg(d){return Zm(d).then(e=>e.datastore)}(_);new ju(_.asyncQueue,Y,P,b,L).au()})),L.promise}(Es(d),h=>e(new nv(d,h)),a)}function uE(){return new rh("deleteField")}function dE(){return new jy("serverTimestamp")}function hE(...d){return new Wp("arrayUnion",d)}function rv(...d){return new ih("arrayRemove",d)}function JE(d){return new w_("increment",d)}!function(e,s=!0){tt=oe.SDK_VERSION,(0,oe._registerComponent)(new r.uA("firestore",(a,{instanceIdentifier:h,options:_})=>{const b=a.getProvider("app").getImmediate(),P=new Ii(new Fe(a.getProvider("auth-internal")),new wn(a.getProvider("app-check-internal")),function(Y,ue){if(!Object.prototype.hasOwnProperty.apply(Y.options,["projectId"]))throw new ct($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ci(Y.options.projectId,ue)}(b,h),b);return _=Object.assign({useFetchStreams:s},_),P._setSettings(_),P},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Ae,"4.7.3",e),(0,oe.registerVersion)(Ae,"4.7.3","esm2017")}()},4535:(on,Xe,k)=>{k.d(Xe,{Ad:()=>mn,D5:()=>En,KR:()=>$i,Mp:()=>qs,Mx:()=>Wr,TZ:()=>Qt,UC:()=>Zr,UY:()=>Rn,XR:()=>us,ZH:()=>In,_w:()=>gr,bp:()=>Ps,c7:()=>ti,nb:()=>ns,nw:()=>vn,p_:()=>ur,qk:()=>ts,uj:()=>Ze,xc:()=>Fn,yb:()=>oi});var i=k(467),oe=k(7852),r=k(1076),be=k(1362);const ae="firebasestorage.googleapis.com",Ee="storageBucket";class W extends r.g{constructor(Z,Re,je=0){super(pe(Z),`Firebase Storage: ${Re} (${pe(Z)})`),this.status_=je,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,W.prototype)}get status(){return this.status_}set status(Z){this.status_=Z}_codeEquals(Z){return pe(Z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Z){this.customData.serverResponse=Z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ne=function(re){return re.UNKNOWN="unknown",re.OBJECT_NOT_FOUND="object-not-found",re.BUCKET_NOT_FOUND="bucket-not-found",re.PROJECT_NOT_FOUND="project-not-found",re.QUOTA_EXCEEDED="quota-exceeded",re.UNAUTHENTICATED="unauthenticated",re.UNAUTHORIZED="unauthorized",re.UNAUTHORIZED_APP="unauthorized-app",re.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",re.INVALID_CHECKSUM="invalid-checksum",re.CANCELED="canceled",re.INVALID_EVENT_NAME="invalid-event-name",re.INVALID_URL="invalid-url",re.INVALID_DEFAULT_BUCKET="invalid-default-bucket",re.NO_DEFAULT_BUCKET="no-default-bucket",re.CANNOT_SLICE_BLOB="cannot-slice-blob",re.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",re.NO_DOWNLOAD_URL="no-download-url",re.INVALID_ARGUMENT="invalid-argument",re.INVALID_ARGUMENT_COUNT="invalid-argument-count",re.APP_DELETED="app-deleted",re.INVALID_ROOT_OPERATION="invalid-root-operation",re.INVALID_FORMAT="invalid-format",re.INTERNAL_ERROR="internal-error",re.UNSUPPORTED_ENVIRONMENT="unsupported-environment",re}(ne||{});function pe(re){return"storage/"+re}function we(){return new W(ne.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ht(){return new W(ne.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function He(){return new W(ne.CANCELED,"User canceled the upload/download.")}function ft(){return new W(ne.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ze(re){return new W(ne.INVALID_ARGUMENT,re)}function Jt(){return new W(ne.APP_DELETED,"The Firebase app was deleted.")}function Rn(re){return new W(ne.INVALID_ROOT_OPERATION,"The operation '"+re+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ft(re,Z){return new W(ne.INVALID_FORMAT,"String does not match format '"+re+"': "+Z)}function qt(re){throw new W(ne.INTERNAL_ERROR,"Internal error: "+re)}class Qt{constructor(Z,Re){this.bucket=Z,this.path_=Re}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Z=encodeURIComponent;return"/b/"+Z(this.bucket)+"/o/"+Z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Z,Re){let je;try{je=Qt.makeFromUrl(Z,Re)}catch{return new Qt(Z,"")}if(""===je.path)return je;throw function rt(re){return new W(ne.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+re+"'.")}(Z)}static makeFromUrl(Z,Re){let je=null;const lt="([A-Za-z0-9.\\-_]+)",Pn=new RegExp("^gs://"+lt+"(/(.*))?$","i");function rr(Ni){Ni.path_=decodeURIComponent(Ni.path)}const Hn=Re.replace(/[.]/g,"\\."),Mr=[{regex:Pn,indices:{bucket:1,path:3},postModify:function St(Ni){"/"===Ni.path.charAt(Ni.path.length-1)&&(Ni.path_=Ni.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Hn}/v[A-Za-z0-9_]+/b/${lt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:rr},{regex:new RegExp(`^https?://${Re===ae?"(?:storage.googleapis.com|storage.cloud.google.com)":Re}/${lt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:rr}];for(let Ni=0;Ni<Mr.length;Ni++){const Ui=Mr[Ni],br=Ui.regex.exec(Z);if(br){let di=br[Ui.indices.path];di||(di=""),je=new Qt(br[Ui.indices.bucket],di),Ui.postModify(je);break}}if(null==je)throw function Ae(re){return new W(ne.INVALID_URL,"Invalid URL '"+re+"'.")}(Z);return je}}class yt{constructor(Z){this.promise_=Promise.reject(Z)}getPromise(){return this.promise_}cancel(Z=!1){}}function ye(re){return"string"==typeof re||re instanceof String}function Fe(re){return dt()&&re instanceof Blob}function dt(){return typeof Blob<"u"}function st(re,Z,Re,je){if(je<Z)throw Ze(`Invalid value for '${re}'. Expected ${Z} or greater.`);if(je>Re)throw Ze(`Invalid value for '${re}'. Expected ${Re} or less.`)}function $t(re,Z,Re){let je=Z;return null==Re&&(je=`https://${Z}`),`${Re}://${je}/v0${re}`}function wn(re){const Z=encodeURIComponent;let Re="?";for(const je in re)re.hasOwnProperty(je)&&(Re=Re+(Z(je)+"=")+Z(re[je])+"&");return Re=Re.slice(0,-1),Re}var or=function(re){return re[re.NO_ERROR=0]="NO_ERROR",re[re.NETWORK_ERROR=1]="NETWORK_ERROR",re[re.ABORT=2]="ABORT",re}(or||{});function un(re,Z){const Re=re>=500&&re<600,lt=-1!==[408,429].indexOf(re),St=-1!==Z.indexOf(re);return Re||lt||St}class Nn{constructor(Z,Re,je,lt,St,an,Pn,bn,rr,Nr,Hn,xn=!0){this.url_=Z,this.method_=Re,this.headers_=je,this.body_=lt,this.successCodes_=St,this.additionalRetryCodes_=an,this.callback_=Pn,this.errorCallback_=bn,this.timeout_=rr,this.progressCallback_=Nr,this.connectionFactory_=Hn,this.retry=xn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Jn,Qr)=>{this.resolve_=Jn,this.reject_=Qr,this.start_()})}start_(){const Re=(je,lt)=>{const St=this.resolve_,an=this.reject_,Pn=lt.connection;if(lt.wasSuccessCode)try{const bn=this.callback_(Pn,Pn.getResponse());!function ut(re){return void 0!==re}(bn)?St():St(bn)}catch(bn){an(bn)}else if(null!==Pn){const bn=we();bn.serverResponse=Pn.getErrorText(),an(this.errorCallback_?this.errorCallback_(Pn,bn):bn)}else an(lt.canceled?this.appDelete_?Jt():He():Ht())};this.canceled_?Re(0,new sn(!1,null,!0)):this.backoffId_=function $e(re,Z,Re){let je=1,lt=null,St=null,an=!1,Pn=0;function bn(){return 2===Pn}let rr=!1;function Nr(...Ri){rr||(rr=!0,Z.apply(null,Ri))}function Hn(Ri){lt=setTimeout(()=>{lt=null,re(Jn,bn())},Ri)}function xn(){St&&clearTimeout(St)}function Jn(Ri,...Gi){if(rr)return void xn();if(Ri)return xn(),void Nr.call(null,Ri,...Gi);if(bn()||an)return xn(),void Nr.call(null,Ri,...Gi);let Mr;je<64&&(je*=2),1===Pn?(Pn=2,Mr=0):Mr=1e3*(je+Math.random()),Hn(Mr)}let Qr=!1;function kr(Ri){Qr||(Qr=!0,xn(),!rr&&(null!==lt?(Ri||(Pn=2),clearTimeout(lt),Hn(0)):Ri||(Pn=1)))}return Hn(0),St=setTimeout(()=>{an=!0,kr(!0)},Re),kr}((je,lt)=>{if(lt)return void je(!1,new sn(!1,null,!0));const St=this.connectionFactory_();this.pendingConnection_=St;const an=Pn=>{null!==this.progressCallback_&&this.progressCallback_(Pn.loaded,Pn.lengthComputable?Pn.total:-1)};null!==this.progressCallback_&&St.addUploadProgressListener(an),St.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&St.removeUploadProgressListener(an),this.pendingConnection_=null;const Pn=St.getErrorCode()===or.NO_ERROR,bn=St.getStatus();if(!Pn||un(bn,this.additionalRetryCodes_)&&this.retry){const Nr=St.getErrorCode()===or.ABORT;return void je(!1,new sn(!1,null,Nr))}const rr=-1!==this.successCodes_.indexOf(bn);je(!0,new sn(rr,St))})},Re,this.timeout_)}getPromise(){return this.promise_}cancel(Z){this.canceled_=!0,this.appDelete_=Z||!1,null!==this.backoffId_&&function ct(re){re(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sn{constructor(Z,Re,je){this.wasSuccessCode=Z,this.connection=Re,this.canceled=!!je}}function Ar(...re){const Z=function en(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Z){const Re=new Z;for(let je=0;je<re.length;je++)Re.append(re[je]);return Re.getBlob()}if(dt())return new Blob(re);throw new W(ne.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zn{constructor(Z,Re){this.data=Z,this.contentType=Re||null}}function In(re,Z){switch(re){case vn.RAW:return new zn(Rr(Z));case vn.BASE64:case vn.BASE64URL:return new zn(Ur(re,Z));case vn.DATA_URL:return new zn(function zr(re){const Z=new Kn(re);return Z.base64?Ur(vn.BASE64,Z.rest):function Dr(re){let Z;try{Z=decodeURIComponent(re)}catch{throw Ft(vn.DATA_URL,"Malformed data URL.")}return Rr(Z)}(Z.rest)}(Z),function Zi(re){return new Kn(re).contentType}(Z))}throw we()}function Rr(re){const Z=[];for(let Re=0;Re<re.length;Re++){let je=re.charCodeAt(Re);je<=127?Z.push(je):je<=2047?Z.push(192|je>>6,128|63&je):55296==(64512&je)?Re<re.length-1&&56320==(64512&re.charCodeAt(Re+1))?(je=65536|(1023&je)<<10|1023&re.charCodeAt(++Re),Z.push(240|je>>18,128|je>>12&63,128|je>>6&63,128|63&je)):Z.push(239,191,189):56320==(64512&je)?Z.push(239,191,189):Z.push(224|je>>12,128|je>>6&63,128|63&je)}return new Uint8Array(Z)}function Ur(re,Z){switch(re){case vn.BASE64:{const lt=-1!==Z.indexOf("-"),St=-1!==Z.indexOf("_");if(lt||St)throw Ft(re,"Invalid character '"+(lt?"-":"_")+"' found: is it base64url encoded?");break}case vn.BASE64URL:{const lt=-1!==Z.indexOf("+"),St=-1!==Z.indexOf("/");if(lt||St)throw Ft(re,"Invalid character '"+(lt?"+":"/")+"' found: is it base64 encoded?");Z=Z.replace(/-/g,"+").replace(/_/g,"/");break}}let Re;try{Re=function Bt(re){if(typeof atob>"u")throw function Te(re){return new W(ne.UNSUPPORTED_ENVIRONMENT,`${re} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(re)}(Z)}catch(lt){throw lt.message.includes("polyfill")?lt:Ft(re,"Invalid character found")}const je=new Uint8Array(Re.length);for(let lt=0;lt<Re.length;lt++)je[lt]=Re.charCodeAt(lt);return je}class Kn{constructor(Z){this.base64=!1,this.contentType=null;const Re=Z.match(/^data:([^,]+)?,/);if(null===Re)throw Ft(vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const je=Re[1]||null;null!=je&&(this.base64=function hn(re,Z){return re.length>=Z.length&&re.substring(re.length-Z.length)===Z}(je,";base64"),this.contentType=this.base64?je.substring(0,je.length-7):je),this.rest=Z.substring(Z.indexOf(",")+1)}}class Wr{constructor(Z,Re){let je=0,lt="";Fe(Z)?(this.data_=Z,je=Z.size,lt=Z.type):Z instanceof ArrayBuffer?(Re?this.data_=new Uint8Array(Z):(this.data_=new Uint8Array(Z.byteLength),this.data_.set(new Uint8Array(Z))),je=this.data_.length):Z instanceof Uint8Array&&(Re?this.data_=Z:(this.data_=new Uint8Array(Z.length),this.data_.set(Z)),je=Z.length),this.size_=je,this.type_=lt}size(){return this.size_}type(){return this.type_}slice(Z,Re){if(Fe(this.data_)){const lt=function qn(re,Z,Re){return re.webkitSlice?re.webkitSlice(Z,Re):re.mozSlice?re.mozSlice(Z,Re):re.slice?re.slice(Z,Re):null}(this.data_,Z,Re);return null===lt?null:new Wr(lt)}{const je=new Uint8Array(this.data_.buffer,Z,Re-Z);return new Wr(je,!0)}}static getBlob(...Z){if(dt()){const Re=Z.map(je=>je instanceof Wr?je.data_:je);return new Wr(Ar.apply(null,Re))}{const Re=Z.map(an=>ye(an)?In(vn.RAW,an).data:an.data_);let je=0;Re.forEach(an=>{je+=an.byteLength});const lt=new Uint8Array(je);let St=0;return Re.forEach(an=>{for(let Pn=0;Pn<an.length;Pn++)lt[St++]=an[Pn]}),new Wr(lt,!0)}}uploadData(){return this.data_}}function tr(re){let Z;try{Z=JSON.parse(re)}catch{return null}return function ee(re){return"object"==typeof re&&!Array.isArray(re)}(Z)?Z:null}function bi(re){const Z=re.lastIndexOf("/",re.length-2);return-1===Z?re:re.slice(Z+1)}function ht(re,Z){return Z}class vt{constructor(Z,Re,je,lt){this.server=Z,this.local=Re||Z,this.writable=!!je,this.xform=lt||ht}}let le=null;function Rt(){if(le)return le;const re=[];re.push(new vt("bucket")),re.push(new vt("generation")),re.push(new vt("metageneration")),re.push(new vt("name","fullPath",!0));const Re=new vt("name");Re.xform=function Z(St,an){return function xe(re){return!ye(re)||re.length<2?re:bi(re)}(an)},re.push(Re);const lt=new vt("size");return lt.xform=function je(St,an){return void 0!==an?Number(an):an},re.push(lt),re.push(new vt("timeCreated")),re.push(new vt("updated")),re.push(new vt("md5Hash",null,!0)),re.push(new vt("cacheControl",null,!0)),re.push(new vt("contentDisposition",null,!0)),re.push(new vt("contentEncoding",null,!0)),re.push(new vt("contentLanguage",null,!0)),re.push(new vt("contentType",null,!0)),re.push(new vt("metadata","customMetadata",!0)),le=re,le}function Gr(re,Z,Re){const je=tr(Z);return null===je?null:function jn(re,Z,Re){const je={type:"file"},lt=Re.length;for(let St=0;St<lt;St++){const an=Re[St];je[an.local]=an.xform(je,Z[an.server])}return function Gt(re,Z){Object.defineProperty(re,"ref",{get:function Re(){const St=new Qt(re.bucket,re.fullPath);return Z._makeStorageReference(St)}})}(je,re),je}(re,je,Re)}function ii(re,Z){const Re={},je=Z.length;for(let lt=0;lt<je;lt++){const St=Z[lt];St.writable&&(Re[St.server]=re[St.local])}return JSON.stringify(Re)}const It="prefixes",G="items";class J{constructor(Z,Re,je,lt){this.url=Z,this.method=Re,this.handler=je,this.timeout=lt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $(re){if(!re)throw we()}function ge(re,Z){return function Re(je,lt){const St=Gr(re,lt,Z);return $(null!==St),St}}function Yt(re){return function Z(Re,je){let lt;return lt=401===Re.getStatus()?Re.getErrorText().includes("Firebase App Check token is invalid")?function Ce(){return new W(ne.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ye(){return new W(ne.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Re.getStatus()?function ve(re){return new W(ne.QUOTA_EXCEEDED,"Quota for bucket '"+re+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(re.bucket):403===Re.getStatus()?function it(re){return new W(ne.UNAUTHORIZED,"User does not have permission to access '"+re+"'.")}(re.path):je,lt.status=Re.getStatus(),lt.serverResponse=je.serverResponse,lt}}function Sn(re){const Z=Yt(re);return function Re(je,lt){let St=Z(je,lt);return 404===je.getStatus()&&(St=function Be(re){return new W(ne.OBJECT_NOT_FOUND,"Object '"+re+"' does not exist.")}(re.path)),St.serverResponse=lt.serverResponse,St}}function ar(re,Z,Re){const lt=$t(Z.fullServerUrl(),re.host,re._protocol),an=re.maxOperationRetryTime,Pn=new J(lt,"GET",ge(re,Re),an);return Pn.errorHandler=Sn(Z),Pn}function Ve(re,Z,Re,je,lt){const St={};St.prefix=Z.isRoot?"":Z.path+"/",Re&&Re.length>0&&(St.delimiter=Re),je&&(St.pageToken=je),lt&&(St.maxResults=lt);const Pn=$t(Z.bucketOnlyServerUrl(),re.host,re._protocol),rr=re.maxOperationRetryTime,Nr=new J(Pn,"GET",function We(re,Z){return function Re(je,lt){const St=function A(re,Z,Re){const je=tr(Re);return null===je?null:function x(re,Z,Re){const je={prefixes:[],items:[],nextPageToken:Re.nextPageToken};if(Re[It])for(const lt of Re[It]){const St=lt.replace(/\/$/,""),an=re._makeStorageReference(new Qt(Z,St));je.prefixes.push(an)}if(Re[G])for(const lt of Re[G]){const St=re._makeStorageReference(new Qt(Z,lt.name));je.items.push(St)}return je}(re,Z,je)}(re,Z,lt);return $(null!==St),St}}(re,Z.bucket),rr);return Nr.urlParams=St,Nr.errorHandler=Yt(Z),Nr}function fn(re,Z,Re){const je=Object.assign({},Re);return je.fullPath=re.path,je.size=Z.size(),je.contentType||(je.contentType=function _n(re,Z){return re&&re.contentType||Z&&Z.type()||"application/octet-stream"}(null,Z)),je}class yn{constructor(Z,Re,je,lt){this.current=Z,this.total=Re,this.finalized=!!je,this.metadata=lt||null}}function yi(re,Z){let Re=null;try{Re=re.getResponseHeader("X-Goog-Upload-Status")}catch{$(!1)}return $(!!Re&&-1!==(Z||["active"]).indexOf(Re)),Re}const Fn={STATE_CHANGED:"state_changed"},mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ln(re){switch(re){case"running":case"pausing":case"canceling":return mn.RUNNING;case"paused":return mn.PAUSED;case"success":return mn.SUCCESS;case"canceled":return mn.CANCELED;default:return mn.ERROR}}class wr{constructor(Z,Re,je){if(function Oe(re){return"function"==typeof re}(Z)||null!=Re||null!=je)this.next=Z,this.error=Re??void 0,this.complete=je??void 0;else{const St=Z;this.next=St.next,this.error=St.error,this.complete=St.complete}}}function jr(re){return(...Z)=>{Promise.resolve().then(()=>re(...Z))}}let Qn=null;class Ai{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=or.NO_ERROR,this.sendPromise_=new Promise(Z=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=or.ABORT,Z()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=or.NETWORK_ERROR,Z()}),this.xhr_.addEventListener("load",()=>{Z()})})}send(Z,Re,je,lt){if(this.sent_)throw qt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Re,Z,!0),void 0!==lt)for(const St in lt)lt.hasOwnProperty(St)&&this.xhr_.setRequestHeader(St,lt[St].toString());return void 0!==je?this.xhr_.send(je):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Z){return this.xhr_.getResponseHeader(Z)}addUploadProgressListener(Z){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Z)}removeUploadProgressListener(Z){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Z)}}class ls extends Ai{initXhr(){this.xhr_.responseType="text"}}function Vi(){return Qn?Qn():new ls}class Zr{constructor(Z,Re,je=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Z,this._blob=Re,this._metadata=je,this._mappings=Rt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=lt=>{if(this._request=void 0,this._chunkMultiplier=1,lt._codeEquals(ne.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const St=this.isExponentialBackoffExpired();if(un(lt.status,[])){if(!St)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();lt=Ht()}this._error=lt,this._transition("error")}},this._metadataErrorHandler=lt=>{this._request=void 0,lt._codeEquals(ne.CANCELED)?this.completeTransitions_():(this._error=lt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((lt,St)=>{this._resolve=lt,this._reject=St,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Z=this._transferred;return Re=>this._updateProgress(Z+Re)}_shouldDoResumable(Z){return Z.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Z){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Re,je])=>{switch(this._state){case"running":Z(Re,je);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Z,Re)=>{const je=function At(re,Z,Re,je,lt){const St=Z.bucketOnlyServerUrl(),an=fn(Z,je,lt),Pn={name:an.fullPath},bn=$t(St,re.host,re._protocol),Nr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${je.size()}`,"X-Goog-Upload-Header-Content-Type":an.contentType,"Content-Type":"application/json; charset=utf-8"},Hn=ii(an,Re),Qr=new J(bn,"POST",function Jn(kr){let Ri;yi(kr);try{Ri=kr.getResponseHeader("X-Goog-Upload-URL")}catch{$(!1)}return $(ye(Ri)),Ri},re.maxUploadRetryTime);return Qr.urlParams=Pn,Qr.headers=Nr,Qr.body=Hn,Qr.errorHandler=Yt(Z),Qr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),lt=this._ref.storage._makeRequest(je,Vi,Z,Re);this._request=lt,lt.getPromise().then(St=>{this._request=void 0,this._uploadUrl=St,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Z=this._uploadUrl;this._resolveToken((Re,je)=>{const lt=function at(re,Z,Re,je){const bn=new J(Re,"POST",function St(rr){const Nr=yi(rr,["active","final"]);let Hn=null;try{Hn=rr.getResponseHeader("X-Goog-Upload-Size-Received")}catch{$(!1)}Hn||$(!1);const xn=Number(Hn);return $(!isNaN(xn)),new yn(xn,je.size(),"final"===Nr)},re.maxUploadRetryTime);return bn.headers={"X-Goog-Upload-Command":"query"},bn.errorHandler=Yt(Z),bn}(this._ref.storage,this._ref._location,Z,this._blob),St=this._ref.storage._makeRequest(lt,Vi,Re,je);this._request=St,St.getPromise().then(an=>{this._request=void 0,this._updateProgress(an.current),this._needToFetchStatus=!1,an.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Z=262144*this._chunkMultiplier,Re=new yn(this._transferred,this._blob.size()),je=this._uploadUrl;this._resolveToken((lt,St)=>{let an;try{an=function dn(re,Z,Re,je,lt,St,an,Pn){const bn=new yn(0,0);if(an?(bn.current=an.current,bn.total=an.total):(bn.current=0,bn.total=je.size()),je.size()!==bn.total)throw function Nt(){return new W(ne.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const rr=bn.total-bn.current;let Nr=rr;lt>0&&(Nr=Math.min(Nr,lt));const Hn=bn.current;let Jn="";Jn=0===Nr?"finalize":rr===Nr?"upload, finalize":"upload";const Qr={"X-Goog-Upload-Command":Jn,"X-Goog-Upload-Offset":`${bn.current}`},kr=je.slice(Hn,Hn+Nr);if(null===kr)throw ft();const Mr=new J(Re,"POST",function Ri(Ni,Ui){const br=yi(Ni,["active","final"]),rs=bn.current+Nr,di=je.size();let Ys;return Ys="final"===br?ge(Z,St)(Ni,Ui):null,new yn(rs,di,"final"===br,Ys)},Z.maxUploadRetryTime);return Mr.headers=Qr,Mr.body=kr.uploadData(),Mr.progressCallback=Pn||null,Mr.errorHandler=Yt(re),Mr}(this._ref._location,this._ref.storage,je,this._blob,Z,this._mappings,Re,this._makeProgressCallback())}catch(bn){return this._error=bn,void this._transition("error")}const Pn=this._ref.storage._makeRequest(an,Vi,lt,St,!1);this._request=Pn,Pn.getPromise().then(bn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(bn.current),bn.finalized?(this._metadata=bn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Z,Re)=>{const je=ar(this._ref.storage,this._ref._location,this._mappings),lt=this._ref.storage._makeRequest(je,Vi,Z,Re);this._request=lt,lt.getPromise().then(St=>{this._request=void 0,this._metadata=St,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Z,Re)=>{const je=function lr(re,Z,Re,je,lt){const St=Z.bucketOnlyServerUrl(),an={"X-Goog-Upload-Protocol":"multipart"},bn=function Pn(){let Mr="";for(let Ni=0;Ni<2;Ni++)Mr+=Math.random().toString().slice(2);return Mr}();an["Content-Type"]="multipart/related; boundary="+bn;const rr=fn(Z,je,lt),Nr=ii(rr,Re),Jn=Wr.getBlob("--"+bn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Nr+"\r\n--"+bn+"\r\nContent-Type: "+rr.contentType+"\r\n\r\n",je,"\r\n--"+bn+"--");if(null===Jn)throw ft();const Qr={name:rr.fullPath},kr=$t(St,re.host,re._protocol),Gi=re.maxUploadRetryTime,mi=new J(kr,"POST",ge(re,Re),Gi);return mi.urlParams=Qr,mi.headers=an,mi.body=Jn.uploadData(),mi.errorHandler=Yt(Z),mi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),lt=this._ref.storage._makeRequest(je,Vi,Z,Re);this._request=lt,lt.getPromise().then(St=>{this._request=void 0,this._metadata=St,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Z){const Re=this._transferred;this._transferred=Z,this._transferred!==Re&&this._notifyObservers()}_transition(Z){if(this._state!==Z)switch(Z){case"canceling":case"pausing":this._state=Z,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Re="paused"===this._state;this._state=Z,Re&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Z,this._notifyObservers();break;case"canceled":this._error=He(),this._state=Z,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Z=Ln(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Z,metadata:this._metadata,task:this,ref:this._ref}}on(Z,Re,je,lt){const St=new wr(Re||void 0,je||void 0,lt||void 0);return this._addObserver(St),()=>{this._removeObserver(St)}}then(Z,Re){return this._promise.then(Z,Re)}catch(Z){return this.then(null,Z)}_addObserver(Z){this._observers.push(Z),this._notifyObserver(Z)}_removeObserver(Z){const Re=this._observers.indexOf(Z);-1!==Re&&this._observers.splice(Re,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Re=>{this._notifyObserver(Re)})}_finishPromise(){if(void 0!==this._resolve){let Z=!0;switch(Ln(this._state)){case mn.SUCCESS:jr(this._resolve.bind(null,this.snapshot))();break;case mn.CANCELED:case mn.ERROR:jr(this._reject.bind(null,this._error))();break;default:Z=!1}Z&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Z){switch(Ln(this._state)){case mn.RUNNING:case mn.PAUSED:Z.next&&jr(Z.next.bind(Z,this.snapshot))();break;case mn.SUCCESS:Z.complete&&jr(Z.complete.bind(Z))();break;default:Z.error&&jr(Z.error.bind(Z,this._error))()}}resume(){const Z="paused"===this._state||"pausing"===this._state;return Z&&this._transition("running"),Z}pause(){const Z="running"===this._state;return Z&&this._transition("pausing"),Z}cancel(){const Z="running"===this._state||"pausing"===this._state;return Z&&this._transition("canceling"),Z}}class Ki{constructor(Z,Re){this._service=Z,this._location=Re instanceof Qt?Re:Qt.makeFromUrl(Re,Z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Z,Re){return new Ki(Z,Re)}get root(){const Z=new Qt(this._location.bucket,"");return this._newRef(this._service,Z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bi(this._location.path)}get storage(){return this._service}get parent(){const Z=function mr(re){if(0===re.length)return null;const Z=re.lastIndexOf("/");return-1===Z?"":re.slice(0,Z)}(this._location.path);if(null===Z)return null;const Re=new Qt(this._location.bucket,Z);return new Ki(this._service,Re)}_throwIfRoot(Z){if(""===this._location.path)throw Rn(Z)}}function Do(re,Z,Re){return li.apply(this,arguments)}function li(){return(li=(0,i.A)(function*(re,Z,Re){const lt=yield ba(re,{pageToken:Re});Z.prefixes.push(...lt.prefixes),Z.items.push(...lt.items),null!=lt.nextPageToken&&(yield Do(re,Z,lt.nextPageToken))})).apply(this,arguments)}function ba(re,Z){null!=Z&&"number"==typeof Z.maxResults&&st("options.maxResults",1,1e3,Z.maxResults);const Re=Z||{},je=Ve(re.storage,re._location,"/",Re.pageToken,Re.maxResults);return re.storage.makeRequestWithTokens(je,Vi)}function oo(re){re._throwIfRoot("getDownloadURL");const Z=function qe(re,Z,Re){const lt=$t(Z.fullServerUrl(),re.host,re._protocol),an=re.maxOperationRetryTime,Pn=new J(lt,"GET",function Wt(re,Z){return function Re(je,lt){const St=Gr(re,lt,Z);return $(null!==St),function Cr(re,Z,Re,je){const lt=tr(Z);if(null===lt||!ye(lt.downloadTokens))return null;const St=lt.downloadTokens;if(0===St.length)return null;const an=encodeURIComponent;return St.split(",").map(rr=>{const Hn=re.fullPath;return $t("/b/"+an(re.bucket)+"/o/"+an(Hn),Re,je)+wn({alt:"media",token:rr})})[0]}(St,lt,re.host,re._protocol)}}(re,Re),an);return Pn.errorHandler=Sn(Z),Pn}(re.storage,re._location,Rt());return re.storage.makeRequestWithTokens(Z,Vi).then(Re=>{if(null===Re)throw function pt(){return new W(ne.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Re})}function si(re,Z){const Re=function Wn(re,Z){const Re=Z.split("/").filter(je=>je.length>0).join("/");return 0===re.length?Re:re+"/"+Re}(re._location.path,Z),je=new Qt(re._location.bucket,Re);return new Ki(re.storage,je)}function ao(re,Z){if(re instanceof Si){const Re=re;if(null==Re._bucket)throw function tt(){return new W(ne.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ee+"' property when initializing the app?")}();const je=new Ki(Re,Re._bucket);return null!=Z?ao(je,Z):je}return void 0!==Z?si(re,Z):re}function Ss(re,Z){if(Z&&function Vs(re){return/^[A-Za-z]+:\/\//.test(re)}(Z)){if(re instanceof Si)return function bs(re,Z){return new Ki(re,Z)}(re,Z);throw Ze("To use ref(service, url), the first argument must be a Storage instance.")}return ao(re,Z)}function Or(re,Z){const Re=Z?.[Ee];return null==Re?null:Qt.makeFromBucketSpec(Re,re)}class Si{constructor(Z,Re,je,lt,St){this.app=Z,this._authProvider=Re,this._appCheckProvider=je,this._url=lt,this._firebaseVersion=St,this._bucket=null,this._host=ae,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=lt?Qt.makeFromBucketSpec(lt,this._host):Or(this._host,this.app.options)}get host(){return this._host}set host(Z){this._host=Z,this._bucket=null!=this._url?Qt.makeFromBucketSpec(this._url,Z):Or(Z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Z){st("time",0,Number.POSITIVE_INFINITY,Z),this._maxUploadRetryTime=Z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Z){st("time",0,Number.POSITIVE_INFINITY,Z),this._maxOperationRetryTime=Z}_getAuthToken(){var Z=this;return(0,i.A)(function*(){if(Z._overrideAuthToken)return Z._overrideAuthToken;const Re=Z._authProvider.getImmediate({optional:!0});if(Re){const je=yield Re.getToken();if(null!==je)return je.accessToken}return null})()}_getAppCheckToken(){var Z=this;return(0,i.A)(function*(){const Re=Z._appCheckProvider.getImmediate({optional:!0});return Re?(yield Re.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Z=>Z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Z){return new Ki(this,Z)}_makeRequest(Z,Re,je,lt,St=!0){if(this._deleted)return new yt(Jt());{const an=function Xn(re,Z,Re,je,lt,St,an=!0){const Pn=wn(re.urlParams),bn=re.url+Pn,rr=Object.assign({},re.headers);return function jt(re,Z){Z&&(re["X-Firebase-GMPID"]=Z)}(rr,Z),function Yn(re,Z){null!==Z&&Z.length>0&&(re.Authorization="Firebase "+Z)}(rr,Re),function kn(re,Z){re["X-Firebase-Storage-Version"]="webjs/"+(Z??"AppManager")}(rr,St),function Ut(re,Z){null!==Z&&(re["X-Firebase-AppCheck"]=Z)}(rr,je),new Nn(bn,re.method,rr,re.body,re.successCodes,re.additionalRetryCodes,re.handler,re.errorHandler,re.timeout,re.progressCallback,lt,an)}(Z,this._appId,je,lt,Re,this._firebaseVersion,St);return this._requests.add(an),an.getPromise().then(()=>this._requests.delete(an),()=>this._requests.delete(an)),an}}makeRequestWithTokens(Z,Re){var je=this;return(0,i.A)(function*(){const[lt,St]=yield Promise.all([je._getAuthToken(),je._getAppCheckToken()]);return je._makeRequest(Z,Re,lt,St).getPromise()})()}}const Rs="@firebase/storage",cs="storage";function Ps(re,Z,Re){return function Oi(re,Z,Re){return re._throwIfRoot("uploadBytesResumable"),new Zr(re,new Wr(Z),Re)}(re=(0,r.Ku)(re),Z,Re)}function oi(re){return function Ua(re){re._throwIfRoot("getMetadata");const Z=ar(re.storage,re._location,Rt());return re.storage.makeRequestWithTokens(Z,Vi)}(re=(0,r.Ku)(re))}function En(re,Z){return function Di(re,Z){re._throwIfRoot("updateMetadata");const Re=function Vt(re,Z,Re,je){const St=$t(Z.fullServerUrl(),re.host,re._protocol),Pn=ii(Re,je),rr=re.maxOperationRetryTime,Nr=new J(St,"PATCH",ge(re,je),rr);return Nr.headers={"Content-Type":"application/json; charset=utf-8"},Nr.body=Pn,Nr.errorHandler=Sn(Z),Nr}(re.storage,re._location,Z,Rt());return re.storage.makeRequestWithTokens(Re,Vi)}(re=(0,r.Ku)(re),Z)}function ur(re,Z){return ba(re=(0,r.Ku)(re),Z)}function gr(re){return function zs(re){const Z={prefixes:[],items:[]};return Do(re,Z).then(()=>Z)}(re=(0,r.Ku)(re))}function ts(re){return oo(re=(0,r.Ku)(re))}function us(re){return function Ws(re){re._throwIfRoot("deleteObject");const Z=function rn(re,Z){const je=$t(Z.fullServerUrl(),re.host,re._protocol),Pn=new J(je,"DELETE",function an(bn,rr){},re.maxOperationRetryTime);return Pn.successCodes=[200,204],Pn.errorHandler=Sn(Z),Pn}(re.storage,re._location);return re.storage.makeRequestWithTokens(Z,Vi)}(re=(0,r.Ku)(re))}function $i(re,Z){return Ss(re=(0,r.Ku)(re),Z)}function qs(re,Z){return si(re,Z)}function ti(re=(0,oe.getApp)(),Z){re=(0,r.Ku)(re);const je=(0,oe._getProvider)(re,cs).getImmediate({identifier:Z}),lt=(0,r.yU)("storage");return lt&&ns(je,...lt),je}function ns(re,Z,Re,je={}){!function ci(re,Z,Re,je={}){re.host=`${Z}:${Re}`,re._protocol="http";const{mockUserToken:lt}=je;lt&&(re._overrideAuthToken="string"==typeof lt?lt:(0,r.Fy)(lt,re.app.options.projectId))}(re,Z,Re,je)}function vs(re,{instanceIdentifier:Z}){const Re=re.getProvider("app").getImmediate(),je=re.getProvider("auth-internal"),lt=re.getProvider("app-check-internal");return new Si(Re,je,lt,Z,oe.SDK_VERSION)}!function Is(){(0,oe._registerComponent)(new be.uA(cs,vs,"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Rs,"0.13.2",""),(0,oe.registerVersion)(Rs,"0.13.2","esm2017")}()},1076:(on,Xe,k)=>{k.d(Xe,{Am:()=>zn,Bd:()=>Ze,FA:()=>st,Fy:()=>ft,I9:()=>In,Im:()=>en,Ku:()=>It,Ll:()=>Te,T9:()=>Ae,Uj:()=>ke,XA:()=>rt,ZQ:()=>Nt,bD:()=>qn,c1:()=>Rn,cY:()=>tt,eX:()=>ee,g:()=>dt,gR:()=>Ut,hp:()=>Rr,jZ:()=>pt,lT:()=>yt,lV:()=>qt,mS:()=>Be,nr:()=>ut,p7:()=>Jt,sr:()=>Ft,tD:()=>Ur,u:()=>W,yU:()=>He,zW:()=>Oe,zw:()=>pe});const be=function(G){const x=[];let A=0;for(let J=0;J<G.length;J++){let $=G.charCodeAt(J);$<128?x[A++]=$:$<2048?(x[A++]=$>>6|192,x[A++]=63&$|128):55296==(64512&$)&&J+1<G.length&&56320==(64512&G.charCodeAt(J+1))?($=65536+((1023&$)<<10)+(1023&G.charCodeAt(++J)),x[A++]=$>>18|240,x[A++]=$>>12&63|128,x[A++]=$>>6&63|128,x[A++]=63&$|128):(x[A++]=$>>12|224,x[A++]=$>>6&63|128,x[A++]=63&$|128)}return x},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,x){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const A=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let $=0;$<G.length;$+=3){const ge=G[$],We=$+1<G.length,Wt=We?G[$+1]:0,Yt=$+2<G.length,Sn=Yt?G[$+2]:0;let Ue=(15&Wt)<<2|Sn>>6,qe=63&Sn;Yt||(qe=64,We||(Ue=64)),J.push(A[ge>>2],A[(3&ge)<<4|Wt>>4],A[Ue],A[qe])}return J.join("")},encodeString(G,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(G):this.encodeByteArray(be(G),x)},decodeString(G,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(G):function(G){const x=[];let A=0,J=0;for(;A<G.length;){const $=G[A++];if($<128)x[J++]=String.fromCharCode($);else if($>191&&$<224){const ge=G[A++];x[J++]=String.fromCharCode((31&$)<<6|63&ge)}else if($>239&&$<365){const Yt=((7&$)<<18|(63&G[A++])<<12|(63&G[A++])<<6|63&G[A++])-65536;x[J++]=String.fromCharCode(55296+(Yt>>10)),x[J++]=String.fromCharCode(56320+(1023&Yt))}else{const ge=G[A++],We=G[A++];x[J++]=String.fromCharCode((15&$)<<12|(63&ge)<<6|63&We)}}return x.join("")}(this.decodeStringToByteArray(G,x))},decodeStringToByteArray(G,x){this.init_();const A=x?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let $=0;$<G.length;){const ge=A[G.charAt($++)],Wt=$<G.length?A[G.charAt($)]:0;++$;const Sn=$<G.length?A[G.charAt($)]:64;++$;const Ve=$<G.length?A[G.charAt($)]:64;if(++$,null==ge||null==Wt||null==Sn||null==Ve)throw new Se;J.push(ge<<2|Wt>>4),64!==Sn&&(J.push(Wt<<4&240|Sn>>2),64!==Ve&&J.push(Sn<<6&192|Ve))}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ke=function(G){return function(G){const x=be(G);return Ee.encodeByteArray(x,!0)}(G).replace(/\./g,"")},W=function(G){try{return Ee.decodeString(G,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function pe(G,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return x}for(const A in x)!x.hasOwnProperty(A)||!we(A)||(G[A]=pe(G[A],x[A]));return G}function we(G){return"__proto__"!==G}function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const it=()=>{try{return Be().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=G&&W(G[1]);return x&&JSON.parse(x)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},He=G=>{const x=(G=>{var x,A;return null===(A=null===(x=it())||void 0===x?void 0:x.emulatorHosts)||void 0===A?void 0:A[G]})(G);if(!x)return;const A=x.lastIndexOf(":");if(A<=0||A+1===x.length)throw new Error(`Invalid host ${x} with no separate hostname and port!`);const J=parseInt(x.substring(A+1),10);return"["===x[0]?[x.substring(1,A-1),J]:[x.substring(0,A),J]},Ae=()=>{var G;return null===(G=it())||void 0===G?void 0:G.config},rt=G=>{var x;return null===(x=it())||void 0===x?void 0:x[`_${G}`]};class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,A)=>{this.resolve=x,this.reject=A})}wrapCallback(x){return(A,J)=>{A?this.reject(A):this.resolve(J),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(A):x(A,J))}}}function ft(G,x){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const J=x||"demo-project",$=G.iat||0,ge=G.sub||G.user_id;if(!ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${J}`,aud:J,iat:$,exp:$+3600,auth_time:$,sub:ge,user_id:ge,firebase:{sign_in_provider:"custom",identities:{}}},G);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(We)),""].join(".")}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function Te(){var G;const x=null===(G=it())||void 0===G?void 0:G.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return typeof window<"u"||Jt()}function Jt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Rn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Ft(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yt(){const G=Nt();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function ut(){return!Te()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function ee(){return new Promise((G,x)=>{try{let A=!0;const J="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(J);$.onsuccess=()=>{$.result.close(),A||self.indexedDB.deleteDatabase(J),G(!0)},$.onupgradeneeded=()=>{A=!1},$.onerror=()=>{var ge;x((null===(ge=$.error)||void 0===ge?void 0:ge.message)||"")}}catch(A){x(A)}})}class dt extends Error{constructor(x,A,J){super(A),this.code=x,this.customData=J,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,st.prototype.create)}}class st{constructor(x,A,J){this.service=x,this.serviceName=A,this.errors=J}create(x,...A){const J=A[0]||{},$=`${this.service}/${x}`,ge=this.errors[x],We=ge?function $t(G,x){return G.replace(wn,(A,J)=>{const $=x[J];return null!=$?String($):`<${J}?>`})}(ge,J):"Error";return new dt($,`${this.serviceName}: ${We} (${$}).`,J)}}const wn=/\{\$([^}]+)}/g;function Ut(G,x){return Object.prototype.hasOwnProperty.call(G,x)}function en(G){for(const x in G)if(Object.prototype.hasOwnProperty.call(G,x))return!1;return!0}function qn(G,x){if(G===x)return!0;const A=Object.keys(G),J=Object.keys(x);for(const $ of A){if(!J.includes($))return!1;const ge=G[$],We=x[$];if(Bt(ge)&&Bt(We)){if(!qn(ge,We))return!1}else if(ge!==We)return!1}for(const $ of J)if(!A.includes($))return!1;return!0}function Bt(G){return null!==G&&"object"==typeof G}function zn(G){const x=[];for(const[A,J]of Object.entries(G))Array.isArray(J)?J.forEach($=>{x.push(encodeURIComponent(A)+"="+encodeURIComponent($))}):x.push(encodeURIComponent(A)+"="+encodeURIComponent(J));return x.length?"&"+x.join("&"):""}function In(G){const x={};return G.replace(/^\?/,"").split("&").forEach(J=>{if(J){const[$,ge]=J.split("=");x[decodeURIComponent($)]=decodeURIComponent(ge)}}),x}function Rr(G){const x=G.indexOf("?");if(!x)return"";const A=G.indexOf("#",x);return G.substring(x,A>0?A:void 0)}function Ur(G,x){const A=new Kn(G,x);return A.subscribe.bind(A)}class Kn{constructor(x,A){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=A,this.task.then(()=>{x(this)}).catch(J=>{this.error(J)})}next(x){this.forEachObserver(A=>{A.next(x)})}error(x){this.forEachObserver(A=>{A.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,A,J){let $;if(void 0===x&&void 0===A&&void 0===J)throw new Error("Missing Observer.");$=function Zi(G,x){if("object"!=typeof G||null===G)return!1;for(const A of x)if(A in G&&"function"==typeof G[A])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:A,complete:J},void 0===$.next&&($.next=hn),void 0===$.error&&($.error=hn),void 0===$.complete&&($.complete=hn);const ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),ge}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let A=0;A<this.observers.length;A++)this.sendOne(A,x)}sendOne(x,A){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{A(this.observers[x])}catch(J){typeof console<"u"&&console.error&&console.error(J)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hn(){}function It(G){return G&&G._delegate?G._delegate:G}},9483:(on,Xe,k)=>{k.d(Xe,{j:()=>pe});var i=k(7705),oe=k(6814),r=k(923),be=k(177);const ae=function(we,Be){return{"background-color":we,color:Be}};function Ee(we,Be){if(1&we){const ve=i.RV6();i.qex(0),i.j41(1,"button",4),i.bIt("click",function(){i.eBV(ve);const Ce=i.XpG();return i.Njj(Ce.navigateTo(Ce.buttonLink))}),i.EFF(2),i.k0s(),i.bVm()}if(2&we){const ve=i.XpG();i.R7$(1),i.Y8G("ngStyle",i.l_i(2,ae,ve.buttonBgColor,ve.buttonTextColor)),i.R7$(1),i.SpI(" ",ve.buttonText," ")}}function Se(we,Be){if(1&we){const ve=i.RV6();i.j41(0,"a",4),i.bIt("click",function(){i.eBV(ve);const Ce=i.XpG();return i.Njj(Ce.navigateTo(Ce.buttonLink))}),i.EFF(1),i.k0s()}if(2&we){const ve=i.XpG();i.Y8G("ngStyle",i.l_i(2,ae,ve.buttonBgColor,ve.buttonTextColor)),i.R7$(1),i.SpI(" ",ve.buttonText," ")}}const Ie=function(we,Be,ve){return{"full-width":we,centered:Be,shadow:ve}},ke=function(we,Be,ve,Ye){return{"background-color":we,color:Be,"text-align":ve,"border-radius":Ye}},W=function(we,Be){return{color:we,"font-size":Be}},ne=function(we){return{color:we}};let pe=(()=>{class we{constructor(ve,Ye){this.router=ve,this.businessDataService=Ye,this.title="Come Meet Our Family!",this.content="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="var(--background-color)",this.textColor="var(--text-color)",this.titleColor="var(--accent-color)",this.buttonBgColor="var(--button-color)",this.buttonTextColor="var(--button-text-color)",this.borderRadius="10px",this.boxShadow="0px 4px 6px rgba(0, 0, 0, 0.2)",this.page="contact-us",this.layout="centered",this.businessId="",this.showImage=!1,this._businessName="",this.location="",this.backgroundColor="#ffffff",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonLink="contact-us",this.alignText="left",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){console.log("CTA Initialized with:",{bgColor:this.bgColor,textColor:this.textColor,titleColor:this.titleColor,buttonBgColor:this.buttonBgColor,buttonTextColor:this.buttonTextColor,layout:this.layout}),this.fullWidth=this.convertToBoolean(this.fullWidth)}navigateTo(ve){this.businessDataService.getBusinessId().subscribe(Ye=>{Ye&&(this.businessId=Ye)}),console.log("Page: "+ve+" Parameters = "+this.businessId),this.router.navigate(["/"+ve],{queryParams:{id:this.businessId}})}convertToBoolean(ve){return"boolean"==typeof ve?ve:"string"==typeof ve&&"true"===ve.toLowerCase()}static{this.\u0275fac=function(Ye){return new(Ye||we)(i.rXU(oe.Ix),i.rXU(r.A))}}static{this.\u0275cmp=i.VBU({type:we,selectors:[["app-call-to-action"]],inputs:{title:"title",content:"content",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor",titleColor:"titleColor",buttonBgColor:"buttonBgColor",buttonTextColor:"buttonTextColor",borderRadius:"borderRadius",boxShadow:"boxShadow",page:"page",layout:"layout",businessId:"businessId",themeType:"themeType",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",location:"location",backgroundColor:"backgroundColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonLink:"buttonLink",alignText:"alignText",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax"},decls:8,vars:22,consts:[[1,"cta-container",3,"ngClass","ngStyle"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-btn",3,"ngStyle","click"]],template:function(Ye,Ce){if(1&Ye&&(i.j41(0,"div",0)(1,"h2",1),i.EFF(2),i.k0s(),i.j41(3,"p",1),i.EFF(4),i.k0s(),i.DNE(5,Ee,3,5,"ng-container",2),i.DNE(6,Se,2,5,"ng-template",null,3,i.C5r),i.k0s()),2&Ye){const it=i.sdS(7);i.Y8G("ngClass",i.sMw(8,Ie,Ce.fullWidth,!Ce.fullWidth,Ce.boxShadow))("ngStyle",i.ziG(12,ke,Ce.backgroundColor,Ce.textColor,Ce.alignText,Ce.borderRadius+"px")),i.R7$(1),i.Y8G("ngStyle",i.l_i(17,W,Ce.titleColor,Ce.titleFontSize+"px")),i.R7$(1),i.JRh(Ce.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(20,ne,Ce.textColor)),i.R7$(1),i.JRh(Ce.content),i.R7$(1),i.Y8G("ngIf",Ce.isButton)("ngIfElse",it)}},dependencies:[be.YU,be.bT,be.B3]})}}return we})()},7304:(on,Xe,k)=>{k.d(Xe,{W:()=>Nt});var i=k(7705),oe=k(345),r=k(6814),be=k(177);let ae=(()=>{class pt{transform(Ze,Jt){if(!Ze||!Jt)return Ze;let Rn=Ze;for(const Ft in Jt)if(Jt.hasOwnProperty(Ft)){const qt=new RegExp(`{{${Ft}}}`,"g");Rn=Rn.replace(qt,Jt[Ft])}return Rn}static{this.\u0275fac=function(Jt){return new(Jt||pt)}}static{this.\u0275pipe=i.EJ8({name:"replaceKeyword",type:pt,pure:!0})}}return pt})();const Ee=function(pt){return{"text-align":pt}},Se=function(pt,Te){return{color:pt,"font-size":Te}},Ie=function(pt){return{businessName:pt}};function ke(pt,Te){if(1&pt&&(i.j41(0,"div")(1,"div",9)(2,"span",10),i.EFF(3),i.nI1(4,"replaceKeyword"),i.k0s(),i.nrm(5,"br"),i.j41(6,"span",11),i.EFF(7),i.k0s()()()),2&pt){const Ze=i.XpG(2);i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Ee,Ze.alignText)),i.R7$(1),i.Y8G("ngStyle",i.l_i(10,Se,Ze.subtitleColor,Ze.subtitleFontSize+"px")),i.R7$(1),i.JRh(i.i5U(4,5,Ze.subTitle,i.eq3(13,Ie,Ze._businessName))),i.R7$(3),i.Y8G("ngStyle",i.l_i(15,Se,Ze.titleColor,Ze.titleFontSize+"px")),i.R7$(1),i.SpI("",Ze.title," ")}}function W(pt,Te){if(1&pt&&(i.j41(0,"div")(1,"h3")(2,"span",12),i.EFF(3),i.nI1(4,"replaceKeyword"),i.k0s()(),i.j41(5,"div",13)(6,"h2",14),i.EFF(7),i.k0s()()()),2&pt){const Ze=i.XpG(2);i.R7$(3),i.JRh(i.i5U(4,2,Ze.subTitle,i.eq3(5,Ie,Ze._businessName))),i.R7$(4),i.JRh(Ze.title)}}function ne(pt,Te){if(1&pt){const Ze=i.RV6();i.j41(0,"button",15),i.bIt("click",function(){i.eBV(Ze);const Rn=i.XpG(2);return i.Njj(Rn.navigateToContact(Rn.buttonLink))}),i.EFF(1),i.k0s()}if(2&pt){const Ze=i.XpG(2);i.R7$(1),i.JRh(Ze.buttonText)}}const pe=function(pt,Te,Ze){return{"full-width":pt,centered:Te,shadow:Ze}},we=function(pt,Te,Ze,Jt){return{"background-color":pt,color:Te,"text-align":Ze,"border-radius":Jt}};function Be(pt,Te){if(1&pt&&(i.j41(0,"div",2)(1,"div",3)(2,"div",4),i.DNE(3,ke,8,18,"div",5),i.DNE(4,W,8,7,"div",5),i.nrm(5,"p",6),i.j41(6,"div",7),i.DNE(7,ne,2,1,"button",8),i.k0s()()()()),2&pt){const Ze=i.XpG();i.Y8G("ngClass",i.sMw(6,pe,Ze.fullWidth,!Ze.fullWidth,Ze.boxShadow))("ngStyle",i.ziG(10,we,Ze.backgroundColor,Ze.textColor,Ze.alignText,Ze.borderRadius+"px")),i.R7$(3),i.Y8G("ngIf","home"==Ze.page),i.R7$(1),i.Y8G("ngIf","home"!=Ze.page),i.R7$(1),i.Y8G("innerHTML",Ze.sanitizedContent,i.npT),i.R7$(2),i.Y8G("ngIf",Ze.showButton)}}function ve(pt,Te){if(1&pt&&i.nrm(0,"img",19),2&pt){const Ze=i.XpG(2);i.Y8G("src",Ze.imageURL,i.B4B)}}function Ye(pt,Te){1&pt&&(i.j41(0,"button",20),i.EFF(1,"Schedule A Visit"),i.k0s())}function Ce(pt,Te){if(1&pt&&(i.j41(0,"div",2),i.DNE(1,ve,1,1,"img",16),i.j41(2,"h3",17),i.EFF(3),i.k0s(),i.j41(4,"h2",17),i.EFF(5),i.k0s(),i.nrm(6,"p",6),i.DNE(7,Ye,2,0,"button",18),i.k0s()),2&pt){const Ze=i.XpG();i.Y8G("ngClass",i.sMw(7,pe,Ze.fullWidth,!Ze.fullWidth,Ze.boxShadow))("ngStyle",i.ziG(11,we,Ze.backgroundColor,Ze.textColor,Ze.alignText,Ze.borderRadius+"px")),i.R7$(1),i.Y8G("ngIf",Ze.imageURL&&Ze.showImage),i.R7$(2),i.JRh(Ze.subTitle),i.R7$(2),i.JRh(Ze.title),i.R7$(1),i.Y8G("innerHTML",Ze.sanitizedContent,i.npT),i.R7$(1),i.Y8G("ngIf",Ze.showButton)}}function it(pt,Te){if(1&pt&&i.nrm(0,"img",19),2&pt){const Ze=i.XpG(2);i.Y8G("src",Ze.imageURL,i.B4B)}}function Ht(pt,Te){1&pt&&(i.j41(0,"button",20),i.EFF(1,"Schedule A Visit"),i.k0s())}function He(pt,Te){if(1&pt&&(i.j41(0,"div",2),i.DNE(1,it,1,1,"img",16),i.j41(2,"h3",17),i.EFF(3),i.k0s(),i.j41(4,"h2",17),i.EFF(5),i.k0s(),i.nrm(6,"p",6),i.DNE(7,Ht,2,0,"button",18),i.k0s()),2&pt){const Ze=i.XpG();i.Y8G("ngClass",i.sMw(7,pe,Ze.fullWidth,!Ze.fullWidth,Ze.boxShadow))("ngStyle",i.ziG(11,we,Ze.backgroundColor,Ze.textColor,Ze.alignText,Ze.borderRadius+"px")),i.R7$(1),i.Y8G("ngIf",Ze.imageURL&&Ze.showImage),i.R7$(2),i.JRh(Ze.subTitle),i.R7$(2),i.JRh(Ze.title),i.R7$(1),i.Y8G("innerHTML",Ze.sanitizedContent,i.npT),i.R7$(1),i.Y8G("ngIf",Ze.showButton)}}function Ae(pt,Te){if(1&pt&&i.nrm(0,"img",19),2&pt){const Ze=i.XpG(2);i.Y8G("src",Ze.imageURL,i.B4B)}}function rt(pt,Te){if(1&pt&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&pt){const Ze=i.XpG(2);i.R7$(1),i.SpI(" ",Ze.titleParts.part2,"")}}function tt(pt,Te){1&pt&&(i.j41(0,"button",20),i.EFF(1,"Schedule A Visit"),i.k0s())}function ft(pt,Te){if(1&pt&&(i.j41(0,"div",21),i.DNE(1,Ae,1,1,"img",16),i.j41(2,"div",22)(3,"h3"),i.EFF(4),i.k0s(),i.j41(5,"h2"),i.DNE(6,rt,2,1,"span",5),i.k0s(),i.nrm(7,"div",23)(8,"p",6),i.k0s(),i.DNE(9,tt,2,0,"button",18),i.k0s()),2&pt){const Ze=i.XpG();i.Y8G("ngClass",i.sMw(7,pe,Ze.fullWidth,!Ze.fullWidth,Ze.boxShadow))("ngStyle",i.ziG(11,we,Ze.backgroundColor,Ze.textColor,Ze.alignText,Ze.borderRadius+"px")),i.R7$(1),i.Y8G("ngIf",Ze.imageURL&&Ze.showImage),i.R7$(3),i.JRh(Ze.titleParts.part1),i.R7$(2),i.Y8G("ngIf",Ze.titleParts.part2),i.R7$(2),i.Y8G("innerHTML",Ze.sanitizedContent,i.npT),i.R7$(1),i.Y8G("ngIf",Ze.showButton)}}let Nt=(()=>{class pt{constructor(Ze,Jt){this.sanitizer=Ze,this.router=Jt,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Center Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Center Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Ze){this._content=Ze,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[Ze,Jt]=this.title.split("|").map(Rn=>Rn.trim());return{part1:Ze,part2:Jt}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(Ze){this.router.navigate([Ze])}convertToBoolean(Ze){return"boolean"==typeof Ze?Ze:"string"==typeof Ze&&"true"===Ze.toLowerCase()}static{this.\u0275fac=function(Jt){return new(Jt||pt)(i.rXU(oe.up),i.rXU(r.Ix))}}static{this.\u0275cmp=i.VBU({type:pt,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:4,vars:4,consts:[["class","center-text-container",3,"ngClass","ngStyle",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass","ngStyle",4,"ngIf"],[1,"center-text-container",3,"ngClass","ngStyle"],[1,"center-text-overlay"],[1,"center-text-content"],[4,"ngIf"],[1,"center-text-description",3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],[1,"features-section-heading",3,"ngStyle"],[1,"features-section-title","highlight",3,"ngStyle"],[1,"features-section-title","main",3,"ngStyle"],[1,"brand-name"],[1,"heading-container"],[1,"styled-heading"],["type","button",1,"afhBtn",3,"click"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass","ngStyle"],[1,"text-container"],[1,"separator2"]],template:function(Jt,Rn){1&Jt&&(i.DNE(0,Be,8,15,"div",0),i.DNE(1,Ce,8,16,"div",0),i.DNE(2,He,8,16,"div",0),i.DNE(3,ft,10,16,"div",1)),2&Jt&&(i.Y8G("ngIf","hh"==Rn.themeType),i.R7$(1),i.Y8G("ngIf","ae"==Rn.themeType),i.R7$(1),i.Y8G("ngIf","clemo"==Rn.themeType),i.R7$(1),i.Y8G("ngIf","sb"==Rn.themeType||"sp"==Rn.themeType||"prestige"==Rn.themeType))},dependencies:[be.YU,be.bT,be.B3,ae]})}}return pt})()},3967:(on,Xe,k)=>{k.d(Xe,{t:()=>Be});var i=k(7705),oe=k(345),r=k(6814),be=k(923),ae=k(177);const Ee=function(ve,Ye,Ce){return{"full-width":ve,centered:Ye,shadow:Ce}},Se=function(ve,Ye,Ce,it){return{"background-color":ve,color:Ye,"text-align":Ce,"border-radius":it}},Ie=function(ve,Ye){return{color:ve,"font-size":Ye}};function ke(ve,Ye){if(1&ve){const Ce=i.RV6();i.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),i.EFF(4),i.k0s(),i.j41(5,"span",6),i.EFF(6),i.k0s()(),i.nrm(7,"p",7),i.j41(8,"button",8),i.bIt("click",function(){i.eBV(Ce);const Ht=i.XpG();return i.Njj(Ht.navigateTo("resident-form"))}),i.EFF(9,"Get Started"),i.k0s()()()}if(2&ve){const Ce=i.XpG();i.Y8G("ngClass",i.sMw(7,Ee,Ce.fullWidth,!Ce.fullWidth,Ce.boxShadow))("ngStyle",i.ziG(11,Se,Ce.backgroundColor,Ce.textColor,Ce.alignText,Ce.borderRadius+"px")),i.R7$(3),i.Y8G("ngStyle",i.l_i(16,Ie,Ce.titleColor,Ce.titleFontSize+"px")),i.R7$(1),i.SpI("",Ce.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(19,Ie,Ce.subtitleColor,Ce.subtitleFontSize+"px")),i.R7$(1),i.JRh(Ce.subTitle),i.R7$(1),i.Y8G("innerHTML",Ce.sanitizedContent,i.npT)}}function W(ve,Ye){if(1&ve){const Ce=i.RV6();i.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",14),i.EFF(8),i.k0s()(),i.j41(9,"p"),i.EFF(10,"Discover what makes our services unique and tailored to your needs."),i.k0s(),i.EFF(11),i.j41(12,"div",15)(13,"button",16),i.bIt("click",function(){i.eBV(Ce);const Ht=i.XpG();return i.Njj(Ht.navigateToContact(Ht.businessId))}),i.EFF(14,"Schedule a Visit"),i.k0s()()()()()()}if(2&ve){const Ce=i.XpG();i.Y8G("ngClass",i.sMw(8,Ee,Ce.fullWidth,!Ce.fullWidth,Ce.boxShadow))("ngStyle",i.ziG(12,Se,Ce.backgroundColor,Ce.textColor,Ce.alignText,Ce.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,Ie,Ce.titleColor,Ce.titleFontSize+"px")),i.R7$(1),i.SpI(" ",Ce.title," Ready to experience "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,Ie,Ce.subtitleColor,Ce.subtitleFontSize+"px")),i.R7$(1),i.Lme("",Ce.subTitle,"",Ce._businessName,"?"),i.R7$(3),i.SpI(" ",Ce.content," ")}}function ne(ve,Ye){if(1&ve){const Ce=i.RV6();i.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",6),i.EFF(8),i.k0s()(),i.nrm(9,"p",7),i.j41(10,"div",15)(11,"button",17),i.bIt("click",function(){i.eBV(Ce);const Ht=i.XpG();return i.Njj(Ht.navigateTo("resident-form"))}),i.EFF(12),i.k0s()()()()()()}if(2&ve){const Ce=i.XpG();i.Y8G("ngClass",i.sMw(8,Ee,Ce.fullWidth,!Ce.fullWidth,Ce.boxShadow))("ngStyle",i.ziG(12,Se,Ce.backgroundColor,Ce.textColor,Ce.alignText,Ce.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,Ie,Ce.titleColor,Ce.titleFontSize+"px")),i.R7$(1),i.SpI("",Ce.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,Ie,Ce.subtitleColor,Ce.subtitleFontSize+"px")),i.R7$(1),i.JRh(Ce.subTitle),i.R7$(1),i.Y8G("innerHTML",Ce.sanitizedContent,i.npT),i.R7$(3),i.JRh(Ce.buttonText)}}function pe(ve,Ye){if(1&ve){const Ce=i.RV6();i.j41(0,"div",2)(1,"div",18)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",6),i.EFF(8),i.k0s()(),i.nrm(9,"p",7),i.j41(10,"div",15)(11,"button",19),i.bIt("click",function(){i.eBV(Ce);const Ht=i.XpG();return i.Njj(Ht.navigateTo("contact-us"))}),i.EFF(12),i.k0s()()()()()()}if(2&ve){const Ce=i.XpG();i.Y8G("ngClass",i.sMw(8,Ee,Ce.fullWidth,!Ce.fullWidth,Ce.boxShadow))("ngStyle",i.ziG(12,Se,Ce.backgroundColor,Ce.textColor,Ce.alignText,Ce.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,Ie,Ce.titleColor,Ce.titleFontSize+"px")),i.R7$(1),i.SpI("",Ce.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,Ie,Ce.subtitleColor,Ce.subtitleFontSize+"px")),i.R7$(1),i.JRh(Ce.subTitle),i.R7$(1),i.Y8G("innerHTML",Ce.sanitizedContent,i.npT),i.R7$(3),i.JRh(Ce.buttonText)}}function we(ve,Ye){if(1&ve){const Ce=i.RV6();i.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",6),i.EFF(8),i.k0s()(),i.nrm(9,"p",7),i.j41(10,"div",15)(11,"button",17),i.bIt("click",function(){i.eBV(Ce);const Ht=i.XpG();return i.Njj(Ht.navigateTo("resident-form"))}),i.EFF(12),i.k0s()()()()()()}if(2&ve){const Ce=i.XpG();i.Y8G("ngClass",i.sMw(8,Ee,Ce.fullWidth,!Ce.fullWidth,Ce.boxShadow))("ngStyle",i.ziG(12,Se,Ce.backgroundColor,Ce.textColor,Ce.alignText,Ce.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,Ie,Ce.titleColor,Ce.titleFontSize+"px")),i.R7$(1),i.SpI("",Ce.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,Ie,Ce.subtitleColor,Ce.subtitleFontSize+"px")),i.R7$(1),i.JRh(Ce.subTitle),i.R7$(1),i.Y8G("innerHTML",Ce.sanitizedContent,i.npT),i.R7$(3),i.JRh(Ce.buttonText)}}let Be=(()=>{class ve{set content(Ce){this._content=Ce,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}constructor(Ce,it,Ht){this.sanitizer=Ce,this.router=it,this.businessDataService=Ht,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.businessId=""}navigateToContact(Ce){this.router.navigate(["/contact-us"],{queryParams:{id:Ce}})}navigateTo(Ce){this.businessDataService.getBusinessId().subscribe(it=>{it&&(this.businessId=it)}),this.router.navigate(["/"+Ce],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(it){return new(it||ve)(i.rXU(oe.up),i.rXU(r.Ix),i.rXU(be.A))}}static{this.\u0275cmp=i.VBU({type:ve,selectors:[["app-consultation"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",businessId:"businessId",content:"content"},decls:6,vars:6,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[3,"ngClass","ngStyle"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main",3,"ngStyle"],[1,"section-title-highlight",3,"ngStyle"],[1,"section-description",3,"innerHTML"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main",3,"ngStyle"],[1,"consultation-title","highlight",3,"ngStyle"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],["type","button",1,"cta-btn",3,"click"],[1,"consultation-container"],[1,"consultation-btn",3,"click"]],template:function(it,Ht){1&it&&(i.j41(0,"div",0),i.DNE(1,ke,10,22,"div",1),i.DNE(2,W,15,23,"div",1),i.DNE(3,ne,13,23,"div",1),i.DNE(4,pe,13,23,"div",1),i.DNE(5,we,13,23,"div",1),i.k0s()),2&it&&(i.Y8G("ngSwitch",Ht.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"))},dependencies:[ae.YU,ae.B3,ae.ux,ae.e1]})}}return ve})()},3095:(on,Xe,k)=>{k.d(Xe,{C:()=>ae});var i=k(7705),oe=k(177);function r(Ee,Se){if(1&Ee&&(i.j41(0,"div",5)(1,"p"),i.EFF(2),i.k0s()()),2&Ee){const Ie=i.XpG().$implicit;i.R7$(2),i.JRh(Ie.answer)}}function be(Ee,Se){if(1&Ee){const Ie=i.RV6();i.j41(0,"div",2)(1,"button",3),i.bIt("click",function(){const ne=i.eBV(Ie).$implicit;return i.Njj(ne.open=!ne.open)}),i.EFF(2),i.k0s(),i.DNE(3,r,3,1,"div",4),i.k0s()}if(2&Ee){const Ie=Se.$implicit;i.R7$(2),i.SpI(" ",Ie.question," "),i.R7$(1),i.Y8G("ngIf",Ie.open)}}let ae=(()=>{class Ee{constructor(){this.faqs=[{question:"What services do you provide?",answer:"We offer 24/7 care, medication management, meal preparation, assistance with daily activities, and specialized care for conditions like dementia or mobility limitations.",open:!1},{question:"How do I know if an Adult Family Home is right for my loved one?",answer:"If your loved one needs assistance with daily living but still wants a home-like setting with personalized care, an AFH can be a great alternative to larger nursing facilities.",open:!1},{question:"Do you provide specialized care for dementia or Alzheimer\u2019s patients?",answer:"Yes, we offer memory care services tailored to the needs of residents with dementia, including safety measures, cognitive activities, and compassionate support.",open:!1},{question:"What are the room and living arrangements?",answer:"We provide private or semi-private rooms in a warm, family-like setting. Our common areas encourage socialization, and residents receive personalized attention.",open:!1},{question:"Can family members visit?",answer:"Absolutely! We encourage family visits and open communication. Visiting hours may vary, but we strive to accommodate family involvement.",open:!1},{question:"What is the cost of care, and do you accept insurance?",answer:"Pricing depends on the level of care needed. We accept private pay and some long-term care insurance plans. Contact us for a personalized quote.",open:!1},{question:"What activities and social programs do you offer?",answer:"We provide daily activities such as games, music, gentle exercises, and social events to keep residents engaged and active.",open:!1},{question:"How do I schedule a tour or get more information?",answer:"You can contact us through our website, call us directly, or fill out our inquiry form to schedule a visit and learn more about our care services.",open:!1}]}static{this.\u0275fac=function(ke){return new(ke||Ee)}}static{this.\u0275cmp=i.VBU({type:Ee,selectors:[["app-faq"]],decls:4,vars:1,consts:[[1,"faq-container"],["class","faq-item",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],["class","faq-answer",4,"ngIf"],[1,"faq-answer"]],template:function(ke,W){1&ke&&(i.j41(0,"div",0)(1,"h2"),i.EFF(2,"Frequently Asked Questions (FAQs)"),i.k0s(),i.DNE(3,be,4,2,"div",1),i.k0s()),2&ke&&(i.R7$(3),i.Y8G("ngForOf",W.faqs))},dependencies:[oe.Sq,oe.bT],styles:[".faq-container[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto;padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2rem}.faq-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.faq-question[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:var(--dark-background-color);color:#fff;border:none;text-align:left;font-size:1.1em;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.faq-question[_ngcontent-%COMP%]:hover{background-color:#45a049}.faq-answer[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:5px;margin-top:10px;font-size:1.05em;color:#555;box-shadow:0 2px 4px #0000001a}"]})}}return Ee})()},3711:(on,Xe,k)=>{k.d(Xe,{a:()=>Ie});var i=k(5312),oe=k(7705),r=k(6661),be=k(177);function ae(ke,W){1&ke&&(oe.j41(0,"div",4)(1,"span"),oe.EFF(2,"Mock Google Map Enabled"),oe.k0s()())}function Ee(ke,W){1&ke&&(oe.j41(0,"div",5),oe.nrm(1,"img",6),oe.k0s())}function Se(ke,W){1&ke&&oe.nrm(0,"div",7)}let Ie=(()=>{class ke{constructor(ne){this.googleMapsLoader=ne,this.address="",this.layoutType="demo",this.useMockMap=i.c.useMockGoogleMap}ngOnInit(){console.log("Google Map Address:",this.address),this.useMockMap?console.log("Mock map mode: displaying static map image."):this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(ne=>{console.error("Error loading Google Maps script:",ne)})}ngOnChanges(ne){this.useMockMap||ne.address&&!ne.address.firstChange&&this.showAddressOnMap(ne.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(ne){this.geocoder.geocode({address:ne},(pe,we)=>{if("OK"===we){this.map.setCenter(pe[0].geometry.location);const Be=new google.maps.LatLngBounds;Be.extend(pe[0].geometry.location),this.map.fitBounds(Be),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:pe[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+we)})}getZoomLevel(ne){document.getElementById("map");const Be=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(ne*Be)))}static{this.\u0275fac=function(pe){return new(pe||ke)(oe.rXU(r.L))}}static{this.\u0275cmp=oe.VBU({type:ke,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[oe.OA$],decls:6,vars:3,consts:[[1,"mock-data"],["class","mock-badge",4,"ngIf"],["class","mock-map",4,"ngIf","ngIfElse"],["liveMap",""],[1,"mock-badge"],[1,"mock-map"],["src","../../../../assets/sharedAssets/mock-map.png","alt","Static Map Preview"],["id","map",2,"width","100%","height","600px"]],template:function(pe,we){if(1&pe&&(oe.j41(0,"div",0),oe.DNE(1,ae,3,0,"div",1),oe.k0s(),oe.qex(2),oe.DNE(3,Ee,2,0,"div",2),oe.DNE(4,Se,1,0,"ng-template",null,3,oe.C5r),oe.bVm()),2&pe){const Be=oe.sdS(5);oe.R7$(1),oe.Y8G("ngIf",we.useMockMap),oe.R7$(2),oe.Y8G("ngIf",we.useMockMap)("ngIfElse",Be)}},dependencies:[be.bT],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}.mock-map[_ngcontent-%COMP%]{width:var(--site-max-width);height:600px;max-width:100%;overflow:hidden}.mock-data[_ngcontent-%COMP%]{width:var(--site-max-width);margin:0 auto;text-align:center}.mock-badge[_ngcontent-%COMP%]{background-color:#fff3cd;border:1px solid #ffeeba;color:#856404;padding:4px 10px;font-size:12px;font-weight:600;border-radius:4px;display:inline-block;margin:0 auto}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return ke})()},263:(on,Xe,k)=>{k.d(Xe,{g:()=>ke});var i=k(7705),oe=k(6814),r=k(177);const be=function(W){return{color:W}};function ae(W,ne){if(1&W&&(i.j41(0,"span",4),i.EFF(1),i.k0s()),2&W){const pe=i.XpG(2);i.Y8G("ngStyle",i.eq3(2,be,pe.titleColor)),i.R7$(1),i.SpI(" ",pe.titleParts.part2,"")}}function Ee(W,ne){if(1&W&&(i.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",13)(6,"p"),i.EFF(7),i.k0s()()()()),2&W){const pe=ne.$implicit;i.R7$(4),i.JRh(pe.title),i.R7$(3),i.JRh(pe.description)}}const Se=function(W,ne,pe){return{"background-image":W,"background-color":ne,color:pe}};function Ie(W,ne){if(1&W&&(i.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"h3",4),i.EFF(5),i.k0s(),i.j41(6,"h2"),i.DNE(7,ae,2,4,"span",5),i.k0s(),i.nrm(8,"div",6),i.k0s()(),i.j41(9,"h3",7),i.EFF(10),i.k0s(),i.j41(11,"div",8),i.DNE(12,Ee,8,2,"div",9),i.k0s()()()),2&W){const pe=i.XpG();i.R7$(4),i.Y8G("ngStyle",i.eq3(7,be,pe.titleColor)),i.R7$(1),i.JRh(pe.titleParts.part1),i.R7$(2),i.Y8G("ngIf",pe.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.eq3(9,be,pe.subtitleColor)),i.R7$(1),i.SpI(" ",pe.subTitle," "),i.R7$(1),i.Y8G("ngStyle",i.sMw(11,Se,pe.sectionImageUrl?"url("+pe.sectionImageUrl+")":"none",pe.backgroundColor,pe.textColor)),i.R7$(1),i.Y8G("ngForOf",pe.items)}}let ke=(()=>{class W{constructor(pe){this.router=pe,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(pe){return"boolean"==typeof pe?pe:"string"==typeof pe&&"true"===pe.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[pe,we]=this.title.split("|").map(Be=>Be.trim());return{part1:pe,part2:we}}return{part1:this.title,part2:null}}navigateTo(pe){this.router.navigate(["/"+pe],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(we){return new(we||W)(i.rXU(oe.Ix))}}static{this.\u0275cmp=i.VBU({type:W,selectors:[["app-item-list-image"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"text-container"],[3,"ngStyle"],[3,"ngStyle",4,"ngIf"],[1,"separator2"],[1,"our-services-description",3,"ngStyle"],[1,"parent",3,"ngStyle"],["class","child",4,"ngFor","ngForOf"],[1,"child"],[1,"content"],[1,"content-header"],[1,"content-text"]],template:function(we,Be){1&we&&i.DNE(0,Ie,13,15,"div",0),2&we&&i.Y8G("ngIf",!Be.isMinimal)},dependencies:[r.Sq,r.bT,r.B3]})}}return W})()},1915:(on,Xe,k)=>{k.d(Xe,{j:()=>ct});var i=k(7705),oe=k(6814),r=k(177),be=k(4591);function ae(ut,Oe){if(1&ut&&(i.j41(0,"div",11)(1,"div",12),i.nrm(2,"i",13),i.j41(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()),2&ut){const ee=Oe.$implicit;i.R7$(2),i.Y8G("ngClass",ee.icon),i.R7$(2),i.JRh(ee.title),i.R7$(3),i.JRh(ee.description)}}const Ee=function(ut){return{color:ut}};function Se(ut,Oe){if(1&ut&&(i.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"div",9),i.DNE(6,ae,8,3,"div",10),i.k0s()()()),2&ut){const ee=i.XpG(2);i.R7$(3),i.Y8G("ngStyle",i.eq3(3,Ee,ee.titleColor)),i.R7$(1),i.SpI(" ",ee.title," "),i.R7$(2),i.Y8G("ngForOf",ee.items)}}function Ie(ut,Oe){if(1&ut&&(i.j41(0,"div",20),i.nrm(1,"i",21),i.j41(2,"h2",22),i.EFF(3),i.k0s(),i.j41(4,"p",22),i.EFF(5),i.k0s()()),2&ut){const ee=Oe.$implicit,ye=i.XpG(3);i.R7$(1),i.Y8G("ngStyle",i.eq3(6,Ee,ye.textColor))("ngClass",ee.icon),i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Ee,ye.subtitleColor)),i.R7$(1),i.JRh(ee.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Ee,ye.textColor)),i.R7$(1),i.JRh(ee.description)}}function ke(ut,Oe){if(1&ut&&(i.j41(0,"div")(1,"div")(2,"div",7)(3,"div",15)(4,"span",16),i.EFF(5),i.k0s(),i.j41(6,"span",17),i.EFF(7),i.k0s()()(),i.j41(8,"div",18),i.DNE(9,Ie,6,12,"div",19),i.k0s()()()),2&ut){const ee=i.XpG(2);i.R7$(5),i.SpI("",ee.title," "),i.R7$(2),i.JRh(ee.subTitle),i.R7$(2),i.Y8G("ngForOf",ee.items)}}const W=function(ut,Oe,ee,ye,Fe,dt){return{"parallax-container":ut,"regular-image-container":Oe,"solid-bg-container":ee,"full-width":ye,centered:Fe,shadow:dt}},ne=function(ut,Oe,ee,ye,Fe){return{"background-image":ut,"background-color":Oe,color:ee,"text-align":ye,"border-radius":Fe}};function pe(ut,Oe){if(1&ut&&(i.j41(0,"section",4)(1,"div"),i.DNE(2,Se,7,5,"div",5),i.DNE(3,ke,10,3,"div",5),i.k0s()()),2&ut){const ee=i.XpG();i.Y8G("ngClass",i.l4e(4,W,ee.isParallax&&ee.sectionImageUrl,!ee.isParallax&&ee.sectionImageUrl,!ee.sectionImageUrl,ee.fullWidth,!ee.fullWidth,ee.boxShadow))("ngStyle",i.s1E(11,ne,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none",ee.backgroundColor,ee.textColor,ee.alignText,ee.borderRadius+"px")),i.R7$(2),i.Y8G("ngIf",!ee.isMinimal),i.R7$(1),i.Y8G("ngIf",ee.isMinimal)}}function we(ut,Oe){if(1&ut&&(i.j41(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29),i.EFF(4),i.k0s()(),i.j41(5,"div",30)(6,"h2",31),i.EFF(7),i.k0s(),i.j41(8,"p",32),i.EFF(9),i.k0s()()()()),2&ut){const ee=Oe.$implicit,ye=Oe.index;i.AVh("alt-section",ye%2!=0),i.R7$(4),i.JRh(ye+1),i.R7$(3),i.JRh(ee.title),i.R7$(2),i.JRh(ee.description)}}function Be(ut,Oe){if(1&ut&&(i.j41(0,"section",24),i.DNE(1,we,10,5,"div",25),i.k0s()),2&ut){const ee=i.XpG(2);i.R7$(1),i.Y8G("ngForOf",ee.items)}}function ve(ut,Oe){if(1&ut&&(i.j41(0,"div",37),i.nrm(1,"i",38),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"p"),i.EFF(5),i.k0s()()),2&ut){const ee=Oe.$implicit;i.R7$(1),i.Y8G("ngClass",ee.icon),i.R7$(2),i.JRh(ee.title),i.R7$(2),i.JRh(ee.description)}}function Ye(ut,Oe){if(1&ut){const ee=i.RV6();i.j41(0,"div",39)(1,"button",40),i.bIt("click",function(){i.eBV(ee);const Fe=i.XpG(3);return i.Njj(Fe.navigateTo("contact-us"))}),i.EFF(2),i.k0s()()}if(2&ut){const ee=i.XpG(3);i.R7$(2),i.SpI(" ",ee.buttonText," ")}}const Ce=function(ut,Oe,ee){return{"parallax-container":ut,"regular-image-container":Oe,"solid-bg-container":ee}},it=function(ut){return{"background-image":ut}};function Ht(ut,Oe){if(1&ut&&(i.j41(0,"div"),i.nrm(1,"app-section-tilte",33),i.j41(2,"div",34)(3,"div",18),i.DNE(4,ve,6,3,"div",35),i.k0s()(),i.DNE(5,Ye,3,1,"div",36),i.k0s()),2&ut){const ee=i.XpG(2);i.R7$(1),i.Y8G("titleColor",ee.titleColor)("title",ee.title),i.R7$(1),i.Y8G("ngClass",i.sMw(6,Ce,ee.isParallax&&ee.sectionImageUrl,!ee.isParallax&&ee.sectionImageUrl,!ee.sectionImageUrl))("ngStyle",i.eq3(10,it,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none")),i.R7$(2),i.Y8G("ngForOf",ee.items),i.R7$(1),i.Y8G("ngIf",ee.showButton)}}function He(ut,Oe){if(1&ut&&(i.j41(0,"section",4)(1,"div"),i.DNE(2,Be,2,1,"section",23),i.DNE(3,Ht,6,12,"div",5),i.k0s()()),2&ut){const ee=i.XpG();i.Y8G("ngClass",i.l4e(4,W,ee.isParallax&&ee.sectionImageUrl,!ee.isParallax&&ee.sectionImageUrl,!ee.sectionImageUrl,ee.fullWidth,!ee.fullWidth,ee.boxShadow))("ngStyle",i.s1E(11,ne,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none",ee.backgroundColor,ee.textColor,ee.alignText,ee.borderRadius+"px")),i.R7$(2),i.Y8G("ngIf",!ee.isMinimal),i.R7$(1),i.Y8G("ngIf",ee.isMinimal)}}function Ae(ut,Oe){if(1&ut&&(i.j41(0,"span",22),i.EFF(1),i.k0s()),2&ut){const ee=i.XpG(3);i.Y8G("ngStyle",i.eq3(2,Ee,ee.titleColor)),i.R7$(1),i.SpI(" ",ee.titleParts.part2,"")}}function rt(ut,Oe){if(1&ut&&(i.j41(0,"div",11)(1,"div"),i.nrm(2,"i",13),i.j41(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()),2&ut){const ee=Oe.$implicit;i.R7$(2),i.Y8G("ngClass",ee.icon),i.R7$(2),i.JRh(ee.title),i.R7$(3),i.JRh(ee.description)}}const tt=function(ut,Oe,ee){return{"background-image":ut,"background-color":Oe,color:ee}};function ft(ut,Oe){if(1&ut&&(i.j41(0,"div")(1,"section",42)(2,"div",7)(3,"div",43)(4,"h3",22),i.EFF(5),i.k0s(),i.j41(6,"h2"),i.DNE(7,Ae,2,4,"span",44),i.k0s(),i.nrm(8,"div",45),i.k0s()(),i.j41(9,"h3",46),i.EFF(10),i.k0s(),i.j41(11,"div",9),i.DNE(12,rt,8,3,"div",10),i.k0s()()()),2&ut){const ee=i.XpG(2);i.R7$(1),i.Y8G("ngStyle",i.sMw(7,tt,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none",ee.backgroundColor,ee.textColor)),i.R7$(3),i.Y8G("ngStyle",i.eq3(11,Ee,ee.titleColor)),i.R7$(1),i.JRh(ee.titleParts.part1),i.R7$(2),i.Y8G("ngIf",ee.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.eq3(13,Ee,ee.subtitleColor)),i.R7$(1),i.SpI(" ",ee.subTitle," "),i.R7$(2),i.Y8G("ngForOf",ee.items)}}function Nt(ut,Oe){if(1&ut&&(i.j41(0,"div",37),i.nrm(1,"i",47),i.j41(2,"h2",22),i.EFF(3),i.k0s(),i.j41(4,"p",22),i.EFF(5),i.k0s()()),2&ut){const ee=Oe.$implicit,ye=i.XpG(3);i.R7$(1),i.Y8G("ngStyle",i.eq3(6,Ee,ye.titleColor))("ngClass",ee.icon),i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Ee,ye.titleColor)),i.R7$(1),i.JRh(ee.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Ee,ye.subtitleColor)),i.R7$(1),i.SpI(" ",ee.description," ")}}const pt=function(ut,Oe,ee,ye,Fe){return{"parallax-container":ut,"regular-image-container":Oe,"solid-bg-container":ee,"full-width":ye,centered:Fe}};function Te(ut,Oe){if(1&ut&&(i.j41(0,"div")(1,"div",34)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"div",18),i.DNE(6,Nt,6,12,"div",35),i.k0s()()()),2&ut){const ee=i.XpG(2);i.R7$(1),i.Y8G("ngClass",i.s1E(5,pt,ee.isParallax&&ee.sectionImageUrl,!ee.isParallax&&ee.sectionImageUrl,!ee.sectionImageUrl,ee.fullWidth,!ee.fullWidth))("ngStyle",i.sMw(11,tt,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none",ee.backgroundColor,ee.textColor)),i.R7$(2),i.Y8G("ngStyle",i.eq3(15,Ee,ee.titleColor)),i.R7$(1),i.SpI(" ",ee.title," "),i.R7$(2),i.Y8G("ngForOf",ee.items)}}function Ze(ut,Oe){if(1&ut&&(i.j41(0,"section",41)(1,"div"),i.DNE(2,ft,13,15,"div",5),i.DNE(3,Te,7,17,"div",5),i.k0s()()),2&ut){const ee=i.XpG();i.R7$(2),i.Y8G("ngIf",!ee.isMinimal),i.R7$(1),i.Y8G("ngIf",ee.isMinimal)}}function Jt(ut,Oe){if(1&ut&&(i.j41(0,"div",11)(1,"div"),i.nrm(2,"i",13),i.j41(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()),2&ut){const ee=Oe.$implicit;i.R7$(2),i.Y8G("ngClass",ee.icon),i.R7$(2),i.JRh(ee.title),i.R7$(3),i.JRh(ee.description)}}function Rn(ut,Oe){if(1&ut&&(i.j41(0,"div")(1,"section",42)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"h3",46),i.EFF(6),i.k0s(),i.j41(7,"div",9),i.DNE(8,Jt,8,3,"div",10),i.k0s()()()),2&ut){const ee=i.XpG(2);i.R7$(1),i.Y8G("ngStyle",i.sMw(6,tt,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none",ee.backgroundColor,ee.textColor)),i.R7$(2),i.Y8G("ngStyle",i.eq3(10,Ee,ee.titleColor)),i.R7$(1),i.SpI(" ",ee.title," "),i.R7$(1),i.Y8G("ngStyle",i.eq3(12,Ee,ee.subtitleColor)),i.R7$(1),i.SpI(" ",ee.subTitle," "),i.R7$(2),i.Y8G("ngForOf",ee.items)}}function Ft(ut,Oe){if(1&ut&&(i.j41(0,"div",37),i.nrm(1,"i",47),i.j41(2,"h2",22),i.EFF(3),i.k0s(),i.j41(4,"p",22),i.EFF(5),i.k0s()()),2&ut){const ee=Oe.$implicit,ye=i.XpG(3);i.R7$(1),i.Y8G("ngStyle",i.eq3(6,Ee,ye.titleColor))("ngClass",ee.icon),i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Ee,ye.titleColor)),i.R7$(1),i.JRh(ee.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Ee,ye.subtitleColor)),i.R7$(1),i.SpI(" ",ee.description," ")}}function qt(ut,Oe){if(1&ut&&(i.j41(0,"div")(1,"div",34)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"div",18),i.DNE(6,Ft,6,12,"div",35),i.k0s()()()),2&ut){const ee=i.XpG(2);i.R7$(1),i.Y8G("ngClass",i.s1E(5,pt,ee.isParallax&&ee.sectionImageUrl,!ee.isParallax&&ee.sectionImageUrl,!ee.sectionImageUrl,ee.fullWidth,!ee.fullWidth))("ngStyle",i.sMw(11,tt,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none",ee.backgroundColor,ee.textColor)),i.R7$(2),i.Y8G("ngStyle",i.eq3(15,Ee,ee.titleColor)),i.R7$(1),i.SpI(" ",ee.title," "),i.R7$(2),i.Y8G("ngForOf",ee.items)}}function Qt(ut,Oe){if(1&ut&&(i.j41(0,"section",41)(1,"div"),i.DNE(2,Rn,9,14,"div",5),i.DNE(3,qt,7,17,"div",5),i.k0s()()),2&ut){const ee=i.XpG();i.R7$(2),i.Y8G("ngIf",!ee.isMinimal),i.R7$(1),i.Y8G("ngIf",ee.isMinimal)}}function yt(ut,Oe){if(1&ut&&(i.j41(0,"div",52)(1,"div",53),i.nrm(2,"i",54),i.k0s(),i.j41(3,"div",55)(4,"h2",56),i.EFF(5),i.k0s(),i.j41(6,"p",57),i.EFF(7),i.k0s()()()),2&ut){const ee=Oe.$implicit;i.R7$(2),i.Y8G("ngClass",ee.icon),i.R7$(3),i.JRh(ee.name),i.R7$(2),i.JRh(ee.description)}}function $e(ut,Oe){if(1&ut&&(i.j41(0,"section",48),i.nrm(1,"app-section-tilte",49),i.j41(2,"div",50),i.DNE(3,yt,8,3,"div",51),i.k0s()()),2&ut){const ee=i.XpG();i.R7$(1),i.Y8G("title","Our Services"),i.R7$(2),i.Y8G("ngForOf",ee.items)}}let ct=(()=>{class ut{constructor(ee){this.router=ee,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(ee){return"boolean"==typeof ee?ee:"string"==typeof ee&&"true"===ee.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[ee,ye]=this.title.split("|").map(Fe=>Fe.trim());return{part1:ee,part2:ye}}return{part1:this.title,part2:null}}navigateTo(ee){this.router.navigate(["/"+ee],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(ye){return new(ye||ut)(i.rXU(oe.Ix))}}static{this.\u0275cmp=i.VBU({type:ut,selectors:[["app-item-list"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:6,vars:5,consts:[[1,"item-list-container"],["class","services-list-section",3,"ngClass","ngStyle",4,"ngIf"],["class","services-list-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"styled-heading",3,"ngStyle"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[2,"display","flex"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-description"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"services-grid"],["class","services-grid-item",4,"ngFor","ngForOf"],[1,"services-grid-item"],[1,"services-grid-item-icon",3,"ngStyle","ngClass"],[3,"ngStyle"],["class","modern-service-section",4,"ngIf"],[1,"modern-service-section"],["class","service-section",3,"alt-section",4,"ngFor","ngForOf"],[1,"service-section"],[1,"section-content"],[1,"section-right"],[1,"section-number"],[1,"section-left"],[1,"section-title"],[1,"section-description"],[3,"titleColor","title"],[3,"ngClass","ngStyle"],["class","service-item",4,"ngFor","ngForOf"],["class","button-container",4,"ngIf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"button-container"],["type","button",1,"cta-btn",3,"click"],[1,"services-list-section"],[1,"our-services-section",3,"ngStyle"],[1,"text-container"],[3,"ngStyle",4,"ngIf"],[1,"separator2"],[1,"our-services-description",3,"ngStyle"],[1,"services-item-icon",3,"ngStyle","ngClass"],[1,"sb-services-section"],[3,"title"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-service-icon-wrapper"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-content"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(ye,Fe){1&ye&&(i.j41(0,"div",0),i.DNE(1,pe,4,17,"section",1),i.DNE(2,He,4,17,"section",1),i.DNE(3,Ze,4,2,"section",2),i.DNE(4,Qt,4,2,"section",2),i.DNE(5,$e,4,2,"section",3),i.k0s()),2&ye&&(i.R7$(1),i.Y8G("ngIf","hh"===Fe.themeType),i.R7$(1),i.Y8G("ngIf","ae"===Fe.themeType),i.R7$(1),i.Y8G("ngIf","prestige"===Fe.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===Fe.themeType),i.R7$(1),i.Y8G("ngIf","sb"==Fe.themeType||"sp"==Fe.themeType))},dependencies:[r.YU,r.Sq,r.bT,r.B3,be.L]})}}return ut})()},8035:(on,Xe,k)=>{k.d(Xe,{H:()=>ke});var i=k(7705),oe=k(345),r=k(177),be=k(4591);function ae(W,ne){if(1&W&&(i.j41(0,"div",6),i.nrm(1,"img",7),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"span",8),i.EFF(5),i.k0s(),i.nrm(6,"p",9),i.k0s()),2&W){const pe=ne.$implicit,we=i.XpG(2);i.R7$(1),i.Y8G("src",pe.image,i.B4B)("alt",pe.title),i.R7$(2),i.JRh(pe.title),i.R7$(2),i.JRh(pe.category),i.R7$(1),i.Y8G("innerHTML",we.getSanitizedDescription(pe.description),i.npT)}}function Ee(W,ne){if(1&W&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"p",3),i.EFF(3," Whether you're just getting started or looking for a high-end, fully customized website, we have a package that fits your needs. We design websites to help showcase your adult family home with a professional online presence, making it easier for families to find and trust your services. "),i.k0s(),i.j41(4,"div",4),i.DNE(5,ae,7,5,"div",5),i.k0s()()),2&W){const pe=i.XpG();i.R7$(1),i.Y8G("title","Website Packages"),i.R7$(4),i.Y8G("ngForOf",pe.displayItems)}}function Se(W,ne){if(1&W&&(i.j41(0,"div",6)(1,"div",10),i.nrm(2,"img",11),i.j41(3,"span",12),i.EFF(4),i.nI1(5,"number"),i.k0s()(),i.j41(6,"h3",13),i.EFF(7),i.k0s(),i.nrm(8,"p",9),i.j41(9,"a",14),i.EFF(10,"Visit"),i.k0s()()),2&W){const pe=ne.$implicit,we=ne.index,Be=i.XpG(2);i.R7$(2),i.Mz_("alt","",pe.title," Logo"),i.Y8G("src",pe.companyLogo||pe.image,i.B4B),i.R7$(2),i.JRh(i.i5U(5,6,we+1,"2.0")),i.R7$(3),i.JRh(pe.title),i.R7$(1),i.Y8G("innerHTML",Be.getSanitizedDescription(pe.description),i.npT),i.R7$(1),i.FS9("href",pe.url,i.B4B)}}function Ie(W,ne){if(1&W&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"p",3),i.EFF(3,"Using carefully vetted providers and vendors."),i.k0s(),i.j41(4,"div",4),i.DNE(5,Se,11,9,"div",5),i.k0s()()),2&W){const pe=i.XpG();i.R7$(1),i.Y8G("title","Trusted Partners"),i.R7$(4),i.Y8G("ngForOf",pe.displayItems)}}let ke=(()=>{class W{constructor(pe){this.sanitizer=pe,this.layoutType="",this.companies=[{title:"Ready Meds Farmacy",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",category:"",description:"Ready Meds Pharmacy is a full-service long-term care pharmacy serving adult family homes, assisted living and long-term care facilities, as well as patients living independently.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",url:"https://www.readymedspharmacy.com/"},{title:"Novari Primary Care",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",category:"",description:"Novari Primary Care is a mobile primary care service designed to treat patients in the comfort of their residential care facility.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",url:"https://novariprimarycare.com"},{title:"Holistia Health",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",category:"",description:"Holistia Health offers encompass personalized, in-person, and online programs, along with talk therapy and medication management.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",url:"https://holistiahealth.com"}],this.products=[{title:"LaunchPad Website",companyLogo:"",category:"$999",description:"Get your adult family home online quickly with a simple yet professional single-page website. Perfect for a clean, mobile-friendly presence that showcases your services, location, and contact details. This package is great for those who want an affordable, no-fuss solution to establish credibility online.<br/><br/><ul><li>2 Years Hosting</li><li>Owner-Provided Photos</li><li>Onwer-Provided Logo</li><li>Custom Color Theme</li><li>1 year Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285",url:""},{title:"Foundation Website",companyLogo:"",category:"$1799",description:"A well-rounded five-page website designed to highlight all the key aspects of your adult family home. This package includes essential pages such as Home, About, Services, Gallery, and Contact, ensuring visitors get a complete picture of your offerings. SEO-optimized, mobile-responsive, and designed to attract potential residents and their families.<br/><br/><ul><li>3 Years of Secure Hosting</li><li>Proffessional Video</li><li>High-Quality Professional Photography</li><li>Custom Logo Design</li><li>Tailored Website Design</li><li>2 Years of Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9",url:""},{title:"Prestige Website",companyLogo:"",category:"$2500+",description:"A high-end, fully customized website tailored to your brand. This package includes professional photography and videography, custom design, logo creation, business card design, and advanced features such as integrated Google Maps, resident intake forms, and review sections. Perfect for those who want to stand out with a premium online presence. <br/><br/><ul><li>5 Years of Secure Hosting</li><li>Cinematic Professional Video</li><li>High-Resolution Professional Photography</li><li>Immersive Virtual Tour</li><li>CBespoke Logo Design</li><li>Exclusive, Custom Website Design</li><li>Comprehensive Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318",url:""}],this.displayItems=[]}getSanitizedDescription(pe){return this.sanitizer.bypassSecurityTrustHtml(pe)}ngOnInit(){console.log("Latest Products LayoutType:",this.layoutType),this.displayItems="sb"===this.layoutType?this.products:this.companies}static{this.\u0275fac=function(we){return new(we||W)(i.rXU(oe.up))}}static{this.\u0275cmp=i.VBU({type:W,selectors:[["app-latest-products"]],inputs:{layoutType:"layoutType",companies:"companies",products:"products"},decls:2,vars:2,consts:[["class","latest-products",4,"ngIf"],[1,"latest-products"],[3,"title"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],[3,"innerHTML"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"index"],[1,"company-name"],["target","_blank",1,"read-more",3,"href"]],template:function(we,Be){1&we&&(i.DNE(0,Ee,6,2,"div",0),i.DNE(1,Ie,6,2,"div",0)),2&we&&(i.Y8G("ngIf","sb"==Be.layoutType),i.R7$(1),i.Y8G("ngIf","sb"!=Be.layoutType))},dependencies:[r.Sq,r.bT,be.L,r.QX],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto}.latest-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.latest-products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#777;max-width:1024px;margin:0 auto 20px;padding:20px;font-size:16px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:left;box-shadow:0 2px 10px #0000001a;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;max-height:80px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:fill}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:24px;color:#0000001a;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:15px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{font-size:14px;color:#444}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:14px;color:#999;text-transform:uppercase;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:14px;color:#007bff;font-weight:700;text-decoration:none;display:inline-block;margin-top:10px}"]})}}return W})()},491:(on,Xe,k)=>{k.d(Xe,{G:()=>pe});var i=k(7705),oe=k(345),r=k(6814),be=k(177);const ae=function(we,Be,ve){return{"full-width":we,centered:Be,shadow:ve}},Ee=function(we,Be,ve,Ye){return{"background-color":we,color:Be,"text-align":ve,"border-radius":Ye}};function Se(we,Be){if(1&we&&(i.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),i.EFF(4),i.k0s()(),i.nrm(5,"p",6),i.k0s(),i.j41(6,"div",7),i.nrm(7,"img",8),i.k0s()()),2&we){const ve=i.XpG();i.Y8G("ngClass",i.sMw(6,ae,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",i.ziG(10,Ee,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),i.R7$(4),i.JRh(ve.title),i.R7$(1),i.Y8G("innerHTML",ve.sanitizedContent,i.npT),i.R7$(2),i.FS9("src",ve.sectionImageUrl,i.B4B),i.FS9("alt",ve.title)}}function Ie(we,Be){if(1&we&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&we){const ve=i.XpG(2);i.R7$(1),i.SpI(" ",ve.titleParts.part2,"")}}function ke(we,Be){if(1&we&&(i.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",3)(4,"h3"),i.EFF(5),i.k0s(),i.j41(6,"h2"),i.DNE(7,Ie,2,1,"span",12),i.k0s(),i.nrm(8,"div",13)(9,"p",6),i.k0s(),i.j41(10,"div",14),i.nrm(11,"img",8),i.k0s()()()()),2&we){const ve=i.XpG();i.R7$(5),i.SpI(" ",ve.titleParts.part1," "),i.R7$(2),i.Y8G("ngIf",ve.titleParts.part2),i.R7$(2),i.Y8G("innerHTML",ve.sanitizedContent,i.npT),i.R7$(2),i.FS9("src",ve.sectionImageUrl,i.B4B),i.FS9("alt",ve.title)}}function W(we,Be){if(1&we&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&we){const ve=i.XpG(2);i.R7$(1),i.SpI(" ",ve.titleParts.part2,"")}}function ne(we,Be){if(1&we&&(i.j41(0,"section",2)(1,"div",3)(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"h2"),i.DNE(5,W,2,1,"span",12),i.k0s(),i.nrm(6,"div",13)(7,"p",15),i.k0s(),i.j41(8,"div",7),i.nrm(9,"img",8),i.k0s()()),2&we){const ve=i.XpG();i.Y8G("ngClass",i.sMw(7,ae,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",i.ziG(11,Ee,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),i.R7$(3),i.JRh(ve.titleParts.part1),i.R7$(2),i.Y8G("ngIf",ve.titleParts.part2),i.R7$(2),i.Y8G("innerHTML",ve.sanitizedContent,i.npT),i.R7$(2),i.FS9("src",ve.sectionImageUrl,i.B4B),i.FS9("alt",ve.title)}}let pe=(()=>{class we{constructor(ve,Ye){this.sanitizer=ve,this.router=Ye,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Left Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Left Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(ve){this._content=ve,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[ve,Ye]=this.title.split("|").map(Ce=>Ce.trim());return{part1:ve,part2:Ye}}return{part1:this.title,part2:null}}get contentText(){return this._content}convertToBoolean(ve){return"boolean"==typeof ve?ve:"string"==typeof ve&&"true"===ve.toLowerCase()}static{this.\u0275fac=function(Ye){return new(Ye||we)(i.rXU(oe.up),i.rXU(r.Ix))}}static{this.\u0275cmp=i.VBU({type:we,selectors:[["app-left-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:3,vars:3,consts:[["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],[1,"left-image-container"],[1,"center-text-description",3,"innerHTML"]],template:function(Ye,Ce){1&Ye&&(i.DNE(0,Se,8,15,"section",0),i.DNE(1,ke,12,5,"section",1),i.DNE(2,ne,10,16,"section",0)),2&Ye&&(i.Y8G("ngIf","hh"===Ce.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===Ce.themeType||"ae"===Ce.themeType||"sb"===Ce.themeType||"sp"===Ce.themeType),i.R7$(1),i.Y8G("ngIf","prestige"===Ce.themeType))},dependencies:[be.YU,be.bT,be.B3]})}}return we})()},4593:(on,Xe,k)=>{k.d(Xe,{F:()=>pe});var i=k(7705),oe=k(345),r=k(6814),be=k(177);const ae=function(we,Be,ve){return{"full-width":we,centered:Be,shadow:ve}},Ee=function(we,Be,ve,Ye){return{"background-color":we,color:Be,"text-align":ve,"border-radius":Ye}};function Se(we,Be){if(1&we&&(i.j41(0,"section",3)(1,"div",4),i.nrm(2,"img",5),i.k0s(),i.j41(3,"div",6)(4,"div",7)(5,"h2",8),i.EFF(6),i.k0s()(),i.nrm(7,"p",9),i.k0s()()),2&we){const ve=i.XpG();i.Y8G("ngClass",i.sMw(6,ae,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",i.ziG(10,Ee,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),i.R7$(2),i.FS9("src",ve.sectionImageUrl,i.B4B),i.FS9("alt",ve.title),i.R7$(4),i.JRh(ve.title),i.R7$(1),i.Y8G("innerHTML",ve.sanitizedContent,i.npT)}}function Ie(we,Be){if(1&we&&(i.j41(0,"h2")(1,"span"),i.EFF(2),i.k0s()()),2&we){const ve=i.XpG(2);i.R7$(2),i.JRh(ve.titleParts.part2)}}function ke(we,Be){if(1&we&&(i.j41(0,"section",10)(1,"div",11)(2,"div",12)(3,"div",13),i.nrm(4,"img",5),i.k0s(),i.j41(5,"div",6)(6,"h3"),i.EFF(7),i.k0s(),i.DNE(8,Ie,3,1,"h2",14),i.nrm(9,"div",15),i.j41(10,"p",9),i.EFF(11),i.k0s()()()()()),2&we){const ve=i.XpG();i.R7$(4),i.FS9("src",ve.sectionImageUrl,i.B4B),i.FS9("alt",ve.title),i.R7$(3),i.JRh(ve.titleParts.part1),i.R7$(1),i.Y8G("ngIf",ve.titleParts.part2),i.R7$(2),i.Y8G("innerHTML",ve.sanitizedContent,i.npT),i.R7$(1),i.JRh(ve.content)}}function W(we,Be){if(1&we&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&we){const ve=i.XpG(2);i.R7$(1),i.SpI(" ",ve.titleParts.part2,"")}}function ne(we,Be){if(1&we&&(i.j41(0,"section",16)(1,"div",4),i.nrm(2,"img",5),i.k0s(),i.j41(3,"div",6)(4,"h3"),i.EFF(5),i.k0s(),i.j41(6,"h2"),i.DNE(7,W,2,1,"span",14),i.k0s(),i.nrm(8,"div",15)(9,"p",17),i.k0s()()),2&we){const ve=i.XpG();i.Y8G("ngClass",i.sMw(7,ae,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",i.ziG(11,Ee,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),i.R7$(2),i.FS9("src",ve.sectionImageUrl,i.B4B),i.FS9("alt",ve.title),i.R7$(3),i.JRh(ve.titleParts.part1),i.R7$(2),i.Y8G("ngIf",ve.titleParts.part2),i.R7$(2),i.Y8G("innerHTML",ve.sanitizedContent,i.npT)}}let pe=(()=>{class we{constructor(ve,Ye){this.sanitizer=ve,this.router=Ye,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Right Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Right Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(ve){this._content=ve,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(ve)}get titleParts(){if(this.title.includes("|")){const[ve,Ye]=this.title.split("|").map(Ce=>Ce.trim());return{part1:ve,part2:Ye}}return{part1:this.title,part2:null}}get content(){return this._content}convertToBoolean(ve){return"boolean"==typeof ve?ve:"string"==typeof ve&&"true"===ve.toLowerCase()}static{this.\u0275fac=function(Ye){return new(Ye||we)(i.rXU(oe.up),i.rXU(r.Ix))}}static{this.\u0275cmp=i.VBU({type:we,selectors:[["app-right-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:3,vars:3,consts:[["class","right-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],[1,"right-text-section",3,"ngClass","ngStyle"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"center-text-description",3,"innerHTML"]],template:function(Ye,Ce){1&Ye&&(i.DNE(0,Se,8,15,"section",0),i.DNE(1,ke,12,6,"section",1),i.DNE(2,ne,10,16,"section",2)),2&Ye&&(i.Y8G("ngIf","hh"===Ce.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===Ce.themeType||"ae"===Ce.themeType||"sb"===Ce.themeType||"sp"===Ce.themeType),i.R7$(1),i.Y8G("ngIf","prestige"===Ce.themeType))},dependencies:[be.YU,be.bT,be.B3]})}}return we})()},4591:(on,Xe,k)=>{k.d(Xe,{L:()=>be});var i=k(7705),oe=k(177);const r=function(ae){return{color:ae}};let be=(()=>{class ae{constructor(){this.titleColor="#000000"}static{this.\u0275fac=function(Ie){return new(Ie||ae)}}static{this.\u0275cmp=i.VBU({type:ae,selectors:[["app-section-tilte"]],inputs:{title:"title",titleColor:"titleColor"},decls:3,vars:4,consts:[[1,"center-text-section"],[1,"center-text-title",3,"ngStyle"]],template:function(Ie,ke){1&Ie&&(i.j41(0,"div",0)(1,"h2",1),i.EFF(2),i.k0s()()),2&Ie&&(i.R7$(1),i.Y8G("ngStyle",i.eq3(2,r,ke.titleColor)),i.R7$(1),i.JRh(ke.title))},dependencies:[oe.B3],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}"]})}}return ae})()},7884:(on,Xe,k)=>{k.d(Xe,{B:()=>x});var i=k(7705),oe=k(7304),r=k(4593),be=k(491),ae=k(9969),Ee=k(6814),Se=k(923),Ie=k(177);const ke=function(A){return{id:A}},W=function(A,J){return{"clemo-btn":A,"clemo-btn-outline":J}},ne=function(A){return{"border-radius":A}};function pe(A,J){if(1&A&&(i.qex(0),i.j41(1,"a",15),i.EFF(2),i.k0s(),i.bVm()),2&A){const $=J.$implicit,ge=i.XpG(3);i.R7$(1),i.Y8G("routerLink",$.link)("queryParams",i.eq3(5,ke,null==ge.business?null:ge.business.id))("ngClass",i.l_i(7,W,!$.outline,$.outline))("ngStyle",i.eq3(10,ne,ge.buttonBorderRadius)),i.R7$(1),i.SpI(" ",$.text," ")}}const we=function(A,J){return{"font-size":A,"font-weight":J}};function Be(A,J){if(1&A&&(i.j41(0,"div",6)(1,"div",7)(2,"h1"),i.EFF(3),i.k0s(),i.nrm(4,"div",8)(5,"h2",9),i.j41(6,"div",10),i.DNE(7,pe,3,12,"ng-container",11),i.k0s()(),i.j41(8,"div",12)(9,"div",13),i.nrm(10,"div",14),i.k0s(),i.j41(11,"p"),i.EFF(12,"Scroll down"),i.k0s()()()),2&A){const $=i.XpG().$implicit,ge=i.XpG();i.Y8G("@slideFadeIn",void 0),i.R7$(3),i.JRh($.title),i.R7$(2),i.Y8G("ngStyle",i.l_i(5,we,ge.subtitleSize,ge.subtitleWeight))("innerHTML",$.subtitle,i.npT),i.R7$(2),i.Y8G("ngForOf",$.buttons)}}const ve=function(A){return{backgroundImage:A,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function Ye(A,J){if(1&A&&(i.j41(0,"div",3),i.nrm(1,"div",4),i.DNE(2,Be,13,8,"div",5),i.k0s()),2&A){const $=J.$implicit,ge=J.index,We=i.XpG();i.AVh("clemo-active",ge===We.currentSlide),i.Y8G("@slideTransition",void 0)("@.disabled",!We.enableTransitions)("@slideTransition",We.currentSlide),i.R7$(1),i.Y8G("ngStyle",i.eq3(7,ve,"url("+$.backgroundImage+")")),i.R7$(1),i.Y8G("ngIf",(null==$.title?null:$.title.trim())&&ge===We.currentSlide)}}const Ce=function(A){return{"line-style":A}};function it(A,J){if(1&A){const $=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const Wt=i.eBV($).index,Yt=i.XpG(2);return i.Njj(Yt.navigateToSlide(Wt))}),i.k0s()}if(2&A){const $=J.index,ge=i.XpG(2);i.AVh("clemo-active",$===ge.currentSlide),i.Y8G("ngClass",i.eq3(3,Ce,"bottom"===ge.navigation))}}function Ht(A,J){if(1&A){const $=i.RV6();i.j41(0,"button",21),i.bIt("click",function(){i.eBV($);const We=i.XpG(2);return i.Njj(We.prevSlide())}),i.nrm(1,"span",22),i.j41(2,"span",23),i.EFF(3,"Previous"),i.k0s()()}}function He(A,J){if(1&A){const $=i.RV6();i.j41(0,"button",24),i.bIt("click",function(){i.eBV($);const We=i.XpG(2);return i.Njj(We.nextSlide())}),i.nrm(1,"span",25),i.j41(2,"span",23),i.EFF(3,"Next"),i.k0s()()}}const Ae=function(A){return{"bottom-nav":A}};function rt(A,J){if(1&A&&(i.j41(0,"div")(1,"div",16),i.DNE(2,it,1,5,"div",17),i.k0s(),i.DNE(3,Ht,4,0,"button",18),i.DNE(4,He,4,0,"button",19),i.k0s()),2&A){const $=i.XpG();i.R7$(1),i.Y8G("ngClass",i.eq3(4,Ae,"bottom"===$.navigation)),i.R7$(1),i.Y8G("ngForOf",$.slides),i.R7$(1),i.Y8G("ngIf",$.sideButtons),i.R7$(1),i.Y8G("ngIf",$.sideButtons)}}const tt=function(A,J,$,ge,We){return{"--slider-opacity":A,height:J,"--button-border-radius":$,"--subtitle-size":ge,"--subtitle-weight":We}};let ft=(()=>{class A{constructor($,ge){this.router=$,this.businessDataService=ge,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.enableTransitions=!0,this.autoSlide()}ngOnInit(){setTimeout(()=>this.enableTransitions=!0,50),console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe($=>{$?(this.business=$,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?(this.slides=this.business.heroSlider.map(ge=>({title:this.replaceKeywords(ge.title),subtitle:this.replaceKeywords(ge.subtitle),backgroundImage:ge.backgroundImage,buttons:ge.buttons||[]})),console.log("slide count:",this.slides.length)):(console.warn("HeroSliderComponent - No heroSlider data available."),this.slides=[]),this.business.sliderConfig?this.applySliderConfig(this.business.sliderConfig):console.warn("HeroSliderComponent - No sliderConfig found, using default values.")):console.error("HeroSliderComponent - No business data available.")})}applySliderConfig($){this.navigation=$.navigation??"side",this.sideButtons=$.sideButtons??!0,this.sliderHeight=$.sliderHeight??"100vh",this.buttonBorderRadius=$.buttonBorderRadius??"25px",this.subtitleSize=$.subtitleSize??"1.5rem",this.subtitleWeight=$.subtitleWeight??"600",console.log("HeroSliderComponent - Applied slider config:",$)}replaceKeywords($){return $&&this.business?.businessName?$.replace(/{{businessName}}/g,this.business.businessName):$}navigateToSlide($){this.currentSlide=$}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const $=window.scrollY,ge=window.innerHeight;this.sliderOpacity=Math.max(1-$/ge,0)}static{this.\u0275fac=function(ge){return new(ge||A)(i.rXU(Ee.Ix),i.rXU(Se.A))}}static{this.\u0275cmp=i.VBU({type:A,selectors:[["app-hero-slider"]],hostBindings:function(ge,We){1&ge&&i.bIt("scroll",function(Yt){return We.onScroll(Yt)},!1,i.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:3,vars:9,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-main-home-content"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","queryParams","ngClass","ngStyle"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button",3,"click",4,"ngIf"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(ge,We){1&ge&&(i.j41(0,"div",0),i.DNE(1,Ye,3,9,"div",1),i.DNE(2,rt,5,6,"div",2),i.k0s()),2&ge&&(i.Y8G("ngStyle",i.s1E(3,tt,We.sliderOpacity,We.sliderHeight,We.buttonBorderRadius,We.subtitleSize,We.subtitleWeight)),i.R7$(1),i.Y8G("ngForOf",We.slides),i.R7$(1),i.Y8G("ngIf",We.slides.length>1))},dependencies:[Ie.YU,Ie.Sq,Ie.bT,Ie.B3,Ee.Wk,Ee.wQ],data:{animation:[(0,ae.hZ)("slideFadeIn",[(0,ae.kY)(":enter",[(0,ae.P)("h1, h2, .clemo-separator",[(0,ae.iF)({opacity:0,transform:"translateY(20px)"}),(0,ae.yc)(150,(0,ae.i0)("800ms ease-out",(0,ae.iF)({opacity:1,transform:"translateY(0)"})))])])]),(0,ae.hZ)("slideTransition",[(0,ae.kY)(":increment",[(0,ae.iF)({position:"relative"}),(0,ae.P)(":enter, :leave",[(0,ae.iF)({position:"absolute",width:"100%",top:0,left:0})]),(0,ae.Os)([(0,ae.P)(":leave",[(0,ae.i0)("600ms ease",(0,ae.iF)({opacity:0,transform:"translateX(-5%)"}))]),(0,ae.P)(":enter",[(0,ae.iF)({opacity:0,transform:"translateX(5%)"}),(0,ae.i0)("600ms ease",(0,ae.iF)({opacity:1,transform:"translateX(0)"}))])])]),(0,ae.kY)(":decrement",[(0,ae.iF)({position:"relative"}),(0,ae.P)(":enter, :leave",[(0,ae.iF)({position:"absolute",width:"100%",top:0,left:0})]),(0,ae.Os)([(0,ae.P)(":leave",[(0,ae.i0)("600ms ease",(0,ae.iF)({opacity:0,transform:"translateX(5%)"}))]),(0,ae.P)(":enter",[(0,ae.iF)({opacity:0,transform:"translateX(-5%)"}),(0,ae.i0)("600ms ease",(0,ae.iF)({opacity:1,transform:"translateX(0)"}))])])])])]}})}}return A})();var Nt=k(1915);function pt(A,J){if(1&A&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&A){const $=J.$implicit;i.R7$(1),i.Y8G("innerHTML",$.title,i.npT),i.R7$(1),i.Y8G("innerHTML",$.description,i.npT)}}const Te=function(A,J,$){return{"full-width":A,centered:J,shadow:$}},Ze=function(A,J,$,ge){return{"background-color":A,color:J,"text-align":$,"border-radius":ge}};function Jt(A,J){if(1&A&&(i.qex(0,4),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,pt,3,2,"div",11),i.k0s()()(),i.bVm()),2&A){const $=i.XpG();i.Y8G("ngClass",i.sMw(5,Te,$.fullWidth,!$.fullWidth,$.boxShadow))("ngStyle",i.ziG(9,Ze,$.backgroundColor,$.textColor,$.alignText,$.borderRadius+"px")),i.R7$(4),i.SpI("",$.title," "),i.R7$(2),i.JRh($.subTitle),i.R7$(3),i.Y8G("ngForOf",$.items)}}function Rn(A,J){1&A&&i.eu8(0)}function Ft(A,J){if(1&A&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&A){const $=J.$implicit;i.R7$(1),i.Y8G("innerHTML",$.title,i.npT),i.R7$(1),i.Y8G("innerHTML",$.description,i.npT)}}function qt(A,J){if(1&A&&(i.qex(0),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,Ft,3,2,"div",11),i.k0s()()(),i.bVm()),2&A){const $=i.XpG();i.R7$(4),i.SpI("",$.title," "),i.R7$(2),i.JRh($.subTitle),i.R7$(3),i.Y8G("ngForOf",$.items)}}let Qt=(()=>{class A{constructor($){this.route=$,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("\u{1f4cc} Section Features- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(ge){return new(ge||A)(i.rXU(Ee.nX))}}static{this.\u0275cmp=i.VBU({type:A,selectors:[["app-features"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(ge,We){1&ge&&(i.j41(0,"div",0),i.DNE(1,Jt,10,14,"ng-container",1),i.DNE(2,Rn,1,0,"ng-container",2),i.DNE(3,qt,10,3,"ng-container",3),i.k0s()),2&ge&&(i.Y8G("ngSwitch",We.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"))},dependencies:[Ie.YU,Ie.Sq,Ie.B3,Ie.ux,Ie.e1,Ie.fG]})}}return A})();function yt(A,J){if(1&A&&(i.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),i.EFF(5),i.k0s(),i.j41(6,"strong"),i.EFF(7),i.k0s()()()()()),2&A){const $=J.$implicit;i.R7$(5),i.SpI('" ',$.quote,' "'),i.R7$(2),i.JRh($.name)}}function $e(A,J){if(1&A&&(i.qex(0),i.j41(1,"section",3)(2,"div",4)(3,"span",5),i.EFF(4,"Testimonials"),i.k0s()(),i.j41(5,"div",6),i.DNE(6,yt,8,2,"div",7),i.k0s()(),i.bVm()),2&A){const $=i.XpG();i.R7$(6),i.Y8G("ngForOf",$.testimonials)}}function ct(A,J){if(1&A&&(i.j41(0,"div",21)(1,"div",22)(2,"div",23),i.EFF(3,"\u275d"),i.k0s(),i.j41(4,"p",24),i.EFF(5),i.k0s(),i.j41(6,"h4",25),i.EFF(7),i.k0s()()()),2&A){const $=J.$implicit;i.R7$(5),i.JRh($.quote),i.R7$(2),i.JRh($.name)}}function ut(A,J){if(1&A&&(i.qex(0),i.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),i.EFF(5,"Word of mouth"),i.k0s(),i.j41(6,"p",15),i.EFF(7,"You should hear what people have to say about us"),i.k0s()(),i.j41(8,"div",16)(9,"div",17),i.DNE(10,ct,8,2,"div",18),i.nI1(11,"slice"),i.k0s(),i.j41(12,"div",19)(13,"button",20),i.EFF(14," View All Testimonials "),i.k0s()()()()(),i.bVm()),2&A){const $=i.XpG();i.R7$(10),i.Y8G("ngForOf",i.brH(11,1,$.testimonials,0,4))}}function Oe(A,J){if(1&A&&(i.j41(0,"div",21)(1,"div",22)(2,"div",23),i.EFF(3,"\u275d"),i.k0s(),i.j41(4,"p",24),i.EFF(5),i.k0s(),i.j41(6,"h4",25),i.EFF(7),i.k0s()()()),2&A){const $=J.$implicit;i.R7$(5),i.JRh($.quote),i.R7$(2),i.JRh($.name)}}function ee(A,J){if(1&A&&(i.qex(0),i.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),i.EFF(5,"Word of mouth"),i.k0s(),i.j41(6,"p",15),i.EFF(7,"You should hear what people have to say about us"),i.k0s()(),i.j41(8,"div",16)(9,"div",17),i.DNE(10,Oe,8,2,"div",18),i.nI1(11,"slice"),i.k0s(),i.j41(12,"div",19)(13,"button",20),i.EFF(14," View All Testimonials "),i.k0s()()()()(),i.bVm()),2&A){const $=i.XpG();i.R7$(10),i.Y8G("ngForOf",i.brH(11,1,$.testimonials,0,4))}}function ye(A,J){if(1&A&&(i.j41(0,"div",21)(1,"div",22)(2,"div",23),i.EFF(3,"\u275d"),i.k0s(),i.j41(4,"p",24),i.EFF(5),i.k0s(),i.j41(6,"h4",25),i.EFF(7),i.k0s()()()),2&A){const $=J.$implicit;i.R7$(5),i.JRh($.quote),i.R7$(2),i.JRh($.name)}}function Fe(A,J){if(1&A&&(i.qex(0),i.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),i.EFF(5,"Word of mouth"),i.k0s(),i.j41(6,"p",15),i.EFF(7,"You should hear what people have to say about us"),i.k0s()(),i.j41(8,"div",16)(9,"div",17),i.DNE(10,ye,8,2,"div",18),i.nI1(11,"slice"),i.k0s(),i.j41(12,"div",19)(13,"button",20),i.EFF(14," View All Testimonials "),i.k0s()()()()(),i.bVm()),2&A){const $=i.XpG();i.R7$(10),i.Y8G("ngForOf",i.brH(11,1,$.testimonials,0,4))}}function dt(A,J){1&A&&i.eu8(0)}let st=(()=>{class A{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide($){this.currentIndex=$,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(ge){return new(ge||A)}}static{this.\u0275cmp=i.VBU({type:A,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"]],template:function(ge,We){1&ge&&(i.j41(0,"div",0),i.DNE(1,$e,7,1,"ng-container",1),i.DNE(2,ut,15,5,"ng-container",1),i.DNE(3,ee,15,5,"ng-container",1),i.DNE(4,Fe,15,5,"ng-container",1),i.DNE(5,dt,1,0,"ng-container",2),i.k0s()),2&ge&&(i.Y8G("ngSwitch",We.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"))},dependencies:[Ie.Sq,Ie.ux,Ie.e1,Ie.fG,Ee.Wk,Ie.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return A})();var $t=k(5312),wn=k(6661),or=k(345),un=k(1626);function Nn(A,J){1&A&&(i.j41(0,"div",13)(1,"span"),i.EFF(2,"Mock Google Reviews Enabled"),i.k0s()())}function sn(A,J){if(1&A&&(i.j41(0,"a",14),i.EFF(1," Leave us a Google Review "),i.k0s()),2&A){const $=i.XpG();i.Y8G("href",$.googleReviewLink,i.B4B)}}function Yn(A,J){if(1&A){const $=i.RV6();i.j41(0,"span"),i.EFF(1," ... "),i.j41(2,"button",29),i.bIt("click",function(){i.eBV($);const We=i.XpG(4);return i.Njj(We.navigateTo("testimonials"))}),i.EFF(3,"Read More"),i.k0s()()}}function kn(A,J){if(1&A&&(i.j41(0,"p",27),i.EFF(1),i.DNE(2,Yn,4,0,"span",28),i.k0s()),2&A){const $=i.XpG().$implicit,ge=i.XpG(2);i.R7$(1),i.SpI(" ",ge.truncateText($.quote)," "),i.R7$(1),i.Y8G("ngIf",ge.isTruncated($.quote))}}function jt(A,J){if(1&A){const $=i.RV6();i.j41(0,"span"),i.EFF(1," ... "),i.j41(2,"button",29),i.bIt("click",function(){i.eBV($);const We=i.XpG(4);return i.Njj(We.navigateTo("testimonials"))}),i.EFF(3,"Read More"),i.k0s()()}}function Ut(A,J){if(1&A&&(i.j41(0,"p",27),i.nrm(1,"span",30),i.DNE(2,jt,4,0,"span",28),i.k0s()),2&A){const $=i.XpG().$implicit,ge=i.XpG(2);i.R7$(1),i.Y8G("innerHTML",ge.truncateText($.rawQuote),i.npT),i.R7$(1),i.Y8G("ngIf",ge.isTruncated($.rawQuote))}}function Xn(A,J){if(1&A&&i.nrm(0,"img",31),2&A){const $=i.XpG().$implicit;i.FS9("alt",$.name),i.Y8G("src",$.photoUrl,i.B4B)}}function en(A,J){if(1&A&&(i.j41(0,"div",32),i.EFF(1),i.k0s()),2&A){const $=i.XpG().$implicit;i.R7$(1),i.SpI(" ",$.name.charAt(0).toUpperCase()," ")}}function Ar(A,J){1&A&&(i.j41(0,"div",33),i.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),i.k0s())}function qn(A,J){if(1&A){const $=i.RV6();i.j41(0,"div",34),i.bIt("click",function(){const Wt=i.eBV($).index,Yt=i.XpG(3);return i.Njj(Yt.goToSlide(Wt))}),i.k0s()}if(2&A){const $=J.index,ge=i.XpG(3);i.AVh("active",$===ge.currentIndex)}}function Bt(A,J){if(1&A&&(i.j41(0,"div",16)(1,"div",17),i.EFF(2,"\u201c"),i.k0s(),i.DNE(3,kn,3,2,"p",18),i.DNE(4,Ut,3,2,"p",18),i.j41(5,"div",19),i.DNE(6,Xn,1,2,"img",20),i.DNE(7,en,2,1,"ng-template",null,21,i.C5r),i.j41(9,"div")(10,"p",22),i.EFF(11),i.k0s(),i.j41(12,"p",23),i.EFF(13),i.k0s(),i.DNE(14,Ar,2,0,"div",24),i.k0s()(),i.j41(15,"div",25),i.DNE(16,qn,1,2,"div",26),i.k0s()()),2&A){const $=J.$implicit,ge=i.sdS(8),We=i.XpG(2);i.Y8G("@slideIn",void 0),i.R7$(3),i.Y8G("ngIf",$.isGoogle),i.R7$(1),i.Y8G("ngIf",!$.isGoogle),i.R7$(2),i.Y8G("ngIf",$.photoUrl)("ngIfElse",ge),i.R7$(5),i.JRh($.name),i.R7$(2),i.JRh($.relationship),i.R7$(1),i.Y8G("ngIf",$.isGoogle),i.R7$(2),i.Y8G("ngForOf",We.testimonials)}}const vn=function(A){return[A]};function zn(A,J){if(1&A&&(i.qex(0),i.DNE(1,Bt,17,9,"div",15),i.bVm()),2&A){const $=i.XpG();i.R7$(1),i.Y8G("ngForOf",i.eq3(2,vn,$.currentTestimonial))("ngForTrackBy",$.trackByIndex)}}function In(A,J){1&A&&(i.j41(0,"p",35),i.EFF(1,"No testimonials available at the moment."),i.k0s())}let Rr=(()=>{class A{constructor($,ge,We,Wt,Yt){this.businessDataService=$,this.googleMapsLoader=ge,this.router=We,this.sanitizer=Wt,this.http=Yt,this.business=null,this.useMockReviews=$t.c.useMockGoogleReviews,this.business$=this.businessDataService.businessData$,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){console.log("Testimonial Carousel Loading for ID: ",this.businessId),this.businessDataService.businessData$.subscribe($=>{$&&(this.business=$)}),this.useMockReviews?this.loadMockGoogleReviews():"0"!==this.business?.placeId&&this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadMockGoogleReviews(){this.http.get("/assets/mocks/mock-reviews.json").subscribe({next:$=>{const ge=$.map(We=>({name:We.author_name,quote:We.text,relationship:"Mock Google Review",isGoogle:!0}));this.testimonials=[...ge,...this.testimonials],this.currentIndex=0},error:$=>console.error("Failed to load mock reviews",$)})}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe($=>{if($&&$.testimonials){const ge=$.testimonials.map(We=>({...We,relationship:"Testimonial",isGoogle:!1,rawQuote:We.quote,quote:this.sanitizeHtml(We.quote)}));this.testimonials=[...this.testimonials,...ge]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(ge,We)=>{if(We===google.maps.places.PlacesServiceStatus.OK){const Wt=ge?.reviews?.map(Yt=>({name:Yt.author_name,quote:Yt.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...Wt,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",We)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials.length>0?this.testimonials[this.currentIndex]:null}goToSlide($){this.currentIndex=$}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}previousSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex-1+this.testimonials.length)%this.testimonials.length)}nextSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)}trackByIndex($,ge){return $}truncateText($){return $.length>this.maxTextLength?$.slice(0,this.maxTextLength):$}isTruncated($){return $.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}navigateTo($){this.businessDataService.getBusinessId().subscribe(ge=>{ge&&(this.businessId=ge)}),console.log("Page: "+$+" Parameters = "+this.businessId),this.router.navigate(["/"+$],{queryParams:{id:this.businessId}})}sanitizeHtml($){return this.sanitizer.bypassSecurityTrustHtml($)}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.placeId}`}static{this.\u0275fac=function(ge){return new(ge||A)(i.rXU(Se.A),i.rXU(wn.L),i.rXU(Ee.Ix),i.rXU(or.up),i.rXU(un.Qq))}}static{this.\u0275cmp=i.VBU({type:A,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:21,vars:4,consts:[[1,"mock-data"],["class","mock-badge",4,"ngIf"],[1,"testimonials-container","modern-carousel"],[1,"testimonial-content"],[1,"testimonial-intro"],[1,"highlight"],[1,"intro-subtext"],["target","_blank","class","afhBtn",3,"href",4,"ngIf"],[1,"carousel-arrows"],["aria-label","Previous testimonial",3,"click"],["aria-label","Next testimonial",3,"click"],[4,"ngIf","ngIfElse"],["noTestimonials",""],[1,"mock-badge"],["target","_blank",1,"afhBtn",3,"href"],["class","testimonial-quote",4,"ngFor","ngForOf","ngForTrackBy"],[1,"testimonial-quote"],[1,"quote-icon"],["class","quote-text",4,"ngIf"],[1,"author-info"],["class","author-photo",3,"src","alt",4,"ngIf","ngIfElse"],["fallbackAvatar",""],[1,"author-name"],[1,"author-role"],["class","google-stars",4,"ngIf"],[1,"testimonial-dots"],[3,"active","click",4,"ngFor","ngForOf"],[1,"quote-text"],[4,"ngIf"],[1,"read-more",3,"click"],[3,"innerHTML"],[1,"author-photo",3,"src","alt"],[1,"author-photo","placeholder"],[1,"google-stars"],[3,"click"],[1,"no-testimonials-message"]],template:function(ge,We){if(1&ge&&(i.j41(0,"div")(1,"div",0),i.DNE(2,Nn,3,0,"div",1),i.k0s(),i.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2"),i.EFF(7,"from our "),i.j41(8,"span",5),i.EFF(9,"community"),i.k0s()(),i.j41(10,"p",6),i.EFF(11," Here\u2019s what others had to say about us. "),i.k0s(),i.DNE(12,sn,2,1,"a",7),i.j41(13,"div",8)(14,"button",9),i.bIt("click",function(){return We.previousSlide()}),i.EFF(15,"\u2190"),i.k0s(),i.j41(16,"button",10),i.bIt("click",function(){return We.nextSlide()}),i.EFF(17,"\u2192"),i.k0s()()(),i.DNE(18,zn,2,4,"ng-container",11),i.k0s(),i.DNE(19,In,2,0,"ng-template",null,12,i.C5r),i.k0s()()),2&ge){const Wt=i.sdS(20);i.R7$(2),i.Y8G("ngIf",We.useMockReviews),i.R7$(10),i.Y8G("ngIf","0"!=(null==We.business?null:We.business.placeId)),i.R7$(6),i.Y8G("ngIf",We.currentTestimonial)("ngIfElse",Wt)}},dependencies:[Ie.Sq,Ie.bT],styles:[".mock-data[_ngcontent-%COMP%]{width:var(--site-max-width);margin:0 auto;text-align:center}.mock-badge[_ngcontent-%COMP%]{background-color:#fff3cd;border:1px solid #ffeeba;color:#856404;padding:4px 10px;font-size:12px;font-weight:600;border-radius:4px;display:inline-block;margin:0 auto}"],data:{animation:[(0,ae.hZ)("slideIn",[(0,ae.kY)(":enter",[(0,ae.iF)({opacity:0,transform:"translateX(-100%)"}),(0,ae.i0)("0.5s ease-in",(0,ae.iF)({opacity:1,transform:"translateX(0)"}))]),(0,ae.kY)(":leave",[(0,ae.i0)("0.5s ease-out",(0,ae.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,ae.hZ)("fadeInLeft",[(0,ae.kY)(":enter",[(0,ae.iF)({opacity:0,transform:"translateX(-100%)"}),(0,ae.i0)("0.5s ease-in",(0,ae.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,ae.hZ)("fadeInRight",[(0,ae.kY)(":enter",[(0,ae.iF)({opacity:0,transform:"translateX(100%)"}),(0,ae.i0)("0.5s ease-in",(0,ae.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return A})();var Dr=k(3967);function Ur(A,J){if(1&A&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&A){const $=J.$implicit;i.R7$(1),i.Y8G("innerHTML",$.title,i.npT),i.R7$(1),i.Y8G("innerHTML",$.description,i.npT)}}const Kn=function(A,J,$){return{"full-width":A,centered:J,shadow:$}},zr=function(A,J,$,ge){return{"background-color":A,color:J,"text-align":$,"border-radius":ge}};function Zi(A,J){if(1&A&&(i.qex(0,4),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,Ur,3,2,"div",11),i.k0s()()(),i.bVm()),2&A){const $=i.XpG();i.Y8G("ngClass",i.sMw(5,Kn,$.fullWidth,!$.fullWidth,$.boxShadow))("ngStyle",i.ziG(9,zr,$.backgroundColor,$.textColor,$.alignText,$.borderRadius+"px")),i.R7$(4),i.JRh($.title),i.R7$(2),i.SpI(" ",$.subTitle," "),i.R7$(3),i.Y8G("ngForOf",$.items)}}function hn(A,J){1&A&&i.eu8(0)}function Wr(A,J){if(1&A&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&A){const $=J.$implicit;i.R7$(1),i.Y8G("innerHTML",$.title,i.npT),i.R7$(1),i.Y8G("innerHTML",$.description,i.npT)}}function tr(A,J){if(1&A&&(i.qex(0),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,Wr,3,2,"div",11),i.k0s()()(),i.bVm()),2&A){const $=i.XpG();i.R7$(4),i.SpI("",$.title," "),i.R7$(2),i.SpI(" ",$.subTitle,""),i.R7$(3),i.Y8G("ngForOf",$.items)}}let mr=(()=>{class A{constructor($){this.route=$,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.order=0}ngOnInit(){console.log("Why Us Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Why Us- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(ge){return new(ge||A)(i.rXU(Ee.nX))}}static{this.\u0275cmp=i.VBU({type:A,selectors:[["app-why-us"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",order:"order"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"]],template:function(ge,We){1&ge&&(i.j41(0,"div",0),i.DNE(1,Zi,10,14,"ng-container",1),i.DNE(2,hn,1,0,"ng-container",2),i.DNE(3,tr,10,3,"ng-container",3),i.k0s()),2&ge&&(i.Y8G("ngSwitch",We.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"))},dependencies:[Ie.YU,Ie.Sq,Ie.B3,Ie.ux,Ie.e1,Ie.fG]})}}return A})();var Wn=k(3711),bi=k(5558);function ht(A,J){if(1&A&&(i.j41(0,"div",7),i.nrm(1,"i",8),i.j41(2,"h3",9),i.EFF(3),i.k0s(),i.j41(4,"p",10),i.EFF(5),i.k0s()()),2&A){const $=J.$implicit;i.R7$(1),i.HbH($.icon),i.R7$(2),i.JRh($.title),i.R7$(2),i.JRh($.description)}}function vt(A,J){1&A&&(i.j41(0,"button",11),i.EFF(1,"Learn More"),i.k0s())}let le=(()=>{class A{constructor(){this.sectionTitle="Our Services",this.items=[],this.showLearnMore=!1}ngOnInit(){console.log("\u{1f4cc} Icon List Initialized:",{title:this.sectionTitle,items:this.items})}static{this.\u0275fac=function(ge){return new(ge||A)}}static{this.\u0275cmp=i.VBU({type:A,selectors:[["app-icon-list"]],inputs:{sectionTitle:"sectionTitle",items:"items",showLearnMore:"showLearnMore"},decls:8,vars:3,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["class","afhBtn","routerLink","/services",4,"ngIf"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"],[1,"service-description"],["routerLink","/services",1,"afhBtn"]],template:function(ge,We){1&ge&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),i.EFF(4),i.k0s(),i.j41(5,"div",4),i.DNE(6,ht,6,4,"div",5),i.k0s(),i.DNE(7,vt,2,0,"button",6),i.k0s()()()),2&ge&&(i.R7$(4),i.JRh(We.sectionTitle),i.R7$(2),i.Y8G("ngForOf",We.items),i.R7$(1),i.Y8G("ngIf",We.showLearnMore))},dependencies:[Ie.Sq,Ie.bT,Ee.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(/assets/sharedAssets/istockphoto-1319783351-2048x2048.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return A})();var xe=k(8035),Rt=k(9483),Gt=k(3095),jn=k(263);function Gr(A,J){if(1&A){const $=i.RV6();i.j41(0,"div",11),i.bIt("click",function(){const Wt=i.eBV($).index,Yt=i.XpG();return i.Njj(Yt.selectTab(Wt))}),i.EFF(1),i.k0s()}if(2&A){const $=J.$implicit,ge=J.index,We=i.XpG();i.AVh("active",ge===We.selectedTabIndex),i.R7$(1),i.SpI(" ",$.title," ")}}let Cr=(()=>{class A{constructor($,ge){this.businessDataService=$,this.router=ge,this.backgroundImage="",this.businessId="",this.tabs=[{title:"Years of Experience",number:"20+",description:"Dedicated to exceptional care with over 20 years of experience in the industry.",imageUrl:"/assets/sharedAssets/istockphoto-941789670-2048x2048.jpg",link:"/about-us"},{title:"Happy Families",number:"44",description:"Thousands of families served with compassionate and personalized care.",imageUrl:"/assets/sharedAssets/istockphoto-1307432717-2048x2048.jpg",link:"/about-us"},{title:"Services Offered",number:"11",description:"Comprehensive range of care services tailored to meet every need.",imageUrl:"/assets/sharedAssets/istockphoto-2012854188-2048x2048.jpg",link:"/services"}],this.selectedTabIndex=0}selectTab($){this.selectedTabIndex=$}get selectedTab(){return this.tabs[this.selectedTabIndex]}navigateTo($){this.businessDataService.getBusinessId().subscribe(ge=>{ge&&(this.businessId=ge)}),console.log("Page: "+$+" Parameters = "+this.businessId),this.router.navigate(["/"+$],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(ge){return new(ge||A)(i.rXU(Se.A),i.rXU(Ee.Ix))}}static{this.\u0275cmp=i.VBU({type:A,selectors:[["app-stats"]],inputs:{backgroundImage:"backgroundImage",businessId:"businessId"},decls:15,vars:6,consts:[[1,"tab-container"],[1,"tabs"],["class","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"tab-content"],[1,"image"],[3,"src","alt"],[1,"text"],[1,"number"],[1,"title"],[1,"description"],[1,"read-more",3,"click"],[1,"tab",3,"click"]],template:function(ge,We){1&ge&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,Gr,2,3,"div",2),i.k0s(),i.j41(3,"div",3)(4,"div",4),i.nrm(5,"img",5),i.k0s(),i.j41(6,"div",6)(7,"h1",7),i.EFF(8),i.k0s(),i.j41(9,"h2",8),i.EFF(10),i.k0s(),i.j41(11,"p",9),i.EFF(12),i.k0s(),i.j41(13,"a",10),i.bIt("click",function(){return We.navigateTo(We.selectedTab.link)}),i.EFF(14,"READ MORE \u2192"),i.k0s()()()()),2&ge&&(i.R7$(2),i.Y8G("ngForOf",We.tabs),i.R7$(3),i.FS9("alt",We.selectedTab.title),i.Y8G("src",We.selectedTab.imageUrl,i.B4B),i.R7$(3),i.JRh(We.selectedTab.number),i.R7$(2),i.JRh(We.selectedTab.title),i.R7$(2),i.JRh(We.selectedTab.description))},dependencies:[Ie.Sq],styles:[".tab-container[_ngcontent-%COMP%]{font-family:Segoe UI,sans-serif;padding:2rem;max-width:var(--site-max-width);margin:0 auto;border-bottom:solid 1px var(--dark-background-color)}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;border-bottom:1px solid #ccc;margin-bottom:1rem;background:#fafafa}.tab[_ngcontent-%COMP%]{padding:1rem 7rem;cursor:pointer;font-weight:700;color:#333}.tab.active[_ngcontent-%COMP%]{border-bottom:3px solid black;font-weight:700}.tab-content[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:center;flex-wrap:wrap;background:#fafafa}.image[_ngcontent-%COMP%]{width:300px;height:400px;overflow:hidden;display:flex;justify-content:center;align-items:center;border-radius:8px;background:#eee}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text[_ngcontent-%COMP%]{max-width:500px}.number[_ngcontent-%COMP%]{font-size:10rem;font-weight:700}.title[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:.5rem}.description[_ngcontent-%COMP%]{margin:1rem 0;color:#555}.read-more[_ngcontent-%COMP%]{text-decoration:none;font-weight:700;color:#000}@media (max-width: 768px){.tabs[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;overflow:visible;padding:0;gap:0;border-bottom:none}.tab[_ngcontent-%COMP%]{width:100%;text-align:left;padding:1rem;border:1px solid #ddd;border-bottom:none;font-size:1rem;background-color:#f8f8f8}.tab[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #ddd}.tab.active[_ngcontent-%COMP%]{background-color:#fff;border-left:4px solid black;font-weight:700}.tab-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;padding:1rem 0}.image[_ngcontent-%COMP%]{width:100%;max-width:300px;height:400px;margin-bottom:1rem}.number[_ngcontent-%COMP%]{font-size:5rem}.text[_ngcontent-%COMP%]{max-width:100%;padding:0 1rem}.title[_ngcontent-%COMP%]{font-size:1.25rem}.description[_ngcontent-%COMP%]{font-size:1rem}.read-more[_ngcontent-%COMP%]{display:inline-block;margin-top:1rem;font-size:.95rem}}"]})}}return A})();var ii=k(5743),It=k(6861);const G=["dynamicContainer"];let x=(()=>{class A{constructor($,ge,We,Wt,Yt,Sn){this.sectionService=$,this.resolver=ge,this.injector=We,this.route=Wt,this.metaService=Yt,this.businessDataService=Sn,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":oe.W,"hero-slider":ft,"right-text":r.F,"left-text":be.G,"item-list":Nt.j,"icon-list":le,"unique-features":Qt,testimonials:st,"testimonials-carousel":Rr,"why-us":mr,"google-map":Wn.a,"latest-products":xe.H,cta:Rt.j,consultation:Dr.t,"item-list-image":jn.g}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,bi.n)($=>$?(this.businessId=$,this.metaService.loadAndApplyMeta($),this.businessDataService.loadBusinessData($)):[])).subscribe($=>{$&&(this.business=$,this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"home").subscribe($=>{$&&0!==$.length?(this.sections=$.filter(ge=>!1!==ge.isActive).sort((ge,We)=>(ge.order||0)-(We.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the database")})}loadComponents(){if(this.container.clear(),this.container.createComponent(ft),!this.sections.length)return void console.warn("\u2757 No sections available to load.");let $=null;if(this.sections.forEach((ge,We)=>{const Wt=this.componentsMap[ge.component];if(!Wt)return void console.error("Component Not Found:",ge.component);if("consultation"===ge.component)return void($=ge);const Yt=this.container.createComponent(Wt);this.assignComponentProperties(Yt.instance,ge)}),this.loadManualComponents(),$){const ge=this.componentsMap.consultation;if(ge){const We=this.container.createComponent(ge);this.assignComponentProperties(We.instance,$)}else console.error("Consultation Component Not Found!")}}loadManualComponents(){if("sb"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(xe.H);const ge=this.container.createComponent(xe.H,{index:void 0,injector:this.injector});ge.instance.layoutType=this.business?.theme?.themeType,ge.changeDetectorRef.detectChanges()}if("clemo"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(Cr);const ge=this.container.createComponent(Cr,{index:void 0,injector:this.injector});ge.instance.businessId=this.business?.id,ge.changeDetectorRef.detectChanges()}if(this.business?.placeId&&(this.resolver.resolveComponentFactory(Rr),this.container.createComponent(Rr,{index:void 0,injector:this.injector}).instance.placeId=this.business.placeId),this.business?.placeId&&"clemo"===this.business?.theme?.themeType){this.resolver.resolveComponentFactory(Wn.a);const ge=this.container.createComponent(Wn.a,{index:void 0,injector:this.injector});ge.instance.layoutType=this.business?.theme?.themeType||"demo",ge.instance.address=this.business?.address||""}"clemo"!==this.business?.theme?.themeType&&"sp"!==this.business?.theme?.themeType||this.container.createComponent(Gt.C,{index:void 0,injector:this.injector})}assignComponentProperties($,ge){$&&"object"==typeof $&&(Object.assign($,{title:this.applyReplaceKeyword(ge.sectionTitle||""),subTitle:this.applyReplaceKeyword(ge.sectionSubTitle||""),content:this.applyReplaceKeyword(ge.sectionContent||""),sectionImageUrl:ge.sectionImageUrl||"",showButton:ge.showButton||!1,buttonText:ge.buttonText||"Learn More",buttonLink:ge.buttonLink||"",_businessName:this.business?.businessName||"",showImage:ge.showImage,themeType:this.business?.theme?.themeType,items:ge.items||[],isMinimal:ge.isMinimal||!1,isParallax:ge.isParallax??!0,backgroundColor:ge.backgroundColor||"#ffffff",textColor:ge.textColor||"#000000",titleColor:ge.titleColor||"#000000",titleFontSize:ge.titleFontSize||"36",subtitleColor:ge.subtitleColor||"#000000",subtitleFontSize:ge.subtitleFontSize||"14",fullWidth:ge.fullWidth||!1,alignText:ge.alignText||"left",boxShadow:ge.boxShadow||!1,borderRadius:ge.borderRadius??10,page:ge.page,location:ge.location,businessId:this.business?.id}),$.changeDetectorRef&&$.changeDetectorRef.detectChanges())}applyReplaceKeyword($){return $&&this.business?.businessName?$.replace(/{{\s*businessName\s*}}/g,this.business.businessName):$}static{this.\u0275fac=function(ge){return new(ge||A)(i.rXU(ii.W),i.rXU(i.OM3),i.rXU(i.zZn),i.rXU(Ee.nX),i.rXU(It.R),i.rXU(Se.A))}}static{this.\u0275cmp=i.VBU({type:A,selectors:[["app-home"]],viewQuery:function(ge,We){if(1&ge&&i.GBs(G,7,i.c1b),2&ge){let Wt;i.mGM(Wt=i.lsd())&&(We.container=Wt.first)}},decls:2,vars:0,consts:[[1,"container"],["dynamicContainer",""]],template:function(ge,We){1&ge&&i.nrm(0,"div",0,1)}})}}return A})()},4796:(on,Xe,k)=>{k.d(Xe,{u:()=>ae});var i=k(6354),oe=k(7705),r=k(1977),be=k(6814);let ae=(()=>{class Ee{constructor(Ie,ke){this.afAuth=Ie,this.router=ke,this.user$=Ie.authState}login(Ie,ke){return this.afAuth.signInWithEmailAndPassword(Ie,ke)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,i.T)(Ie=>!!Ie))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(ke){return new(ke||Ee)(oe.KVO(r.DS),oe.KVO(be.Ix))}}static{this.\u0275prov=oe.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}}return Ee})()},923:(on,Xe,k)=>{k.d(Xe,{A:()=>Ee});var i=k(4412),oe=k(6354),r=k(8141),be=k(7705),ae=k(3012);let Ee=(()=>{class Se{constructor(ke){this.businessService=ke,this.businessDataSubject=new i.t(null),this.businessIdSubject=new i.t(null),this.locationsSubject=new i.t([]),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(ke){return console.log("BusinessDataService - loadBusinessData for ID:",ke),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(ke).pipe((0,oe.T)(W=>W?(W.sections||(W.sections=[],console.warn("\u26a0\ufe0f No sections found in Firestore. Initializing empty array.")),W):null),(0,r.M)(W=>{this.businessDataSubject.next(W),this.businessIdSubject.next(ke),this.businessService.getLocations(ke).subscribe(ne=>{this.locationsSubject.next(ne)})}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}getLocations(){return this.locationsSubject.asObservable()}getLocationsForBusiness(ke){return this.businessService.getLocations(ke)}static{this.\u0275fac=function(W){return new(W||Se)(be.KVO(ae.u))}}static{this.\u0275prov=be.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})()},5743:(on,Xe,k)=>{k.d(Xe,{W:()=>Ee});var i=k(467),oe=k(6354),r=k(7705),be=k(6340),ae=k(5571);let Ee=(()=>{class Se{constructor(ke,W){this.firestore=ke,this.uploadService=W,this.collectionName="businesses"}generateNewId(){return this.firestore.createId()}getAllBusinesses(){return this.firestore.collection("businesses").valueChanges()}getAllBusinessSections(ke){return this.firestore.collection(this.collectionName).doc(ke).collection("sections").snapshotChanges().pipe((0,oe.T)(W=>W.map(ne=>({...ne.payload.doc.data(),id:ne.payload.doc.id}))))}getBusinessSections(ke,W){return this.firestore.collection(this.collectionName).doc(ke).collection("sections",ne=>ne.where("page","==",W)).snapshotChanges().pipe((0,oe.T)(ne=>ne.map(pe=>({...pe.payload.doc.data(),id:pe.payload.doc.id}))))}saveSection(ke,W){return console.log("\u{1f504} Attempting to save section:",W),W.id&&""!==W.id.trim()?console.log("\u270f\ufe0f Updating existing section with ID:",W.id):W.id=this.firestore.createId(),this.firestore.collection(this.collectionName).doc(ke).collection("sections").doc(W.id).set(W,{merge:!0})}deleteSection(ke,W){return this.firestore.collection(this.collectionName).doc(ke).collection("sections").doc(W).delete()}uploadImage(ke,W,ne,pe="",we="",Be="",ve=""){var Ye=this;return(0,i.A)(function*(){try{const{downloadUrl:Ce}=Ye.uploadService.uploadFile(ke,W,"sections",pe,we,Be,ve);return new Promise((it,Ht)=>{Ce.subscribe({next:He=>{He?(console.log("\u2705 Image uploaded successfully:",He),it(He)):Ht("\u274c Image URL is undefined.")},error:He=>{console.error("\u274c Error getting image URL:",He),Ht(He)}})})}catch(Ce){return console.error("\u274c Error uploading image:",Ce),""}})()}mapComponent(ke){return{"center-text":"center-text","left-text":"left-text","right-text":"right-text","list-item":"list-item"}[ke]||"default-component"}static{this.\u0275fac=function(W){return new(W||Se)(r.KVO(be.Qe),r.KVO(ae.B))}}static{this.\u0275prov=r.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})()},3012:(on,Xe,k)=>{k.d(Xe,{u:()=>Se});var i=k(7673),oe=k(6354),r=k(5558),be=k(7705),ae=k(6340),Ee=k(8721);let Se=(()=>{class Ie{constructor(W,ne){this.afs=W,this.storage=ne,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(W){console.log("Business Created");const ne=this.afs.createId();return this.afs.doc(`${this.basePath}/${ne}`).set({...W,id:ne}),this.afs.doc(`${this.basePath}/${ne}`).valueChanges().pipe((0,oe.T)(pe=>{if(!pe)throw new Error("Business not found after creation");return pe}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,oe.T)(W=>W.map(ne=>{const pe=ne.payload.doc.data(),we=ne.payload.doc.id,{id:Be,...ve}=pe;return{id:we,...ve}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,W=>W.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(W){return this.getBusinessData(W)}getBusinessData(W){const ne=W&&W.trim()?W:"defaultBusinessId";return this.afs.collection("businesses").doc(ne).snapshotChanges().pipe((0,r.n)(pe=>{const we=pe.payload.data(),Be=pe.payload.id;if(!we)return(0,i.of)(void 0);const ve={...we,id:Be};return this.afs.collection("sections",Ye=>Ye.where("businessId","==",Be)).snapshotChanges().pipe((0,oe.T)(Ye=>{const Ce=Ye.map(it=>({...it.payload.doc.data(),id:it.payload.doc.id}));return{...ve,sections:Ce}}),(0,r.n)(Ye=>{const Ce={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Be}/theme`).doc("themeDoc").snapshotChanges().pipe((0,oe.T)(it=>{const Ht=it.payload.data()||Ce;return Ye.theme=Ht,Ye}))}))}))}updateBusiness(W,ne){return this.afs.doc(`${this.basePath}/${W}`).update(ne)}deleteBusiness(W){return this.afs.doc(`${this.basePath}/${W}`).delete()}uploadFile(W,ne){return this.storage.upload(W,ne)}getDownloadURL(W){return this.storage.ref(W).getDownloadURL()}updateThemeFileName(W,ne=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ne}`).update({"theme.themeFileName":W})}getThemeFileName(W=this.defaultBusinessId){return this.afs.collection(this.basePath).doc(W).collection("theme").doc("themeDoc").get().toPromise().then(we=>we&&we.exists?we.data()?.themeFileName||"styles.css":(console.warn(`No theme document found for business ID: ${W}. Using default theme.`),"default.css")).catch(we=>(console.error(`Error fetching theme file name for business ID: ${W}`,we),"default.css"))}createSection(W,ne){return this.afs.collection(`${this.basePath}/${W}/sections`).add(ne)}getSections(W){return this.afs.collection(`${this.basePath}/${W}/sections`).snapshotChanges().pipe((0,oe.T)(ne=>ne.map(pe=>{const we=pe.payload.doc.data();return{sectionId:pe.payload.doc.id,...we}})))}updateSection(W,ne,pe){return this.afs.doc(`${this.basePath}/${W}/sections/${ne}`).update(pe)}deleteSection(W,ne){return this.afs.doc(`${this.basePath}/${W}/sections/${ne}`).delete()}addLocation(W,ne){const pe=this.afs.collection(`businesses/${W}/locations`),we=this.afs.createId();return pe.doc(we).set({id:we,...ne})}getLocations(W){return this.afs.collection(`businesses/${W}/locations`).snapshotChanges().pipe((0,oe.T)(ne=>(ne.length||console.warn(`\u26a0\ufe0f No locations found in Firestore for Business ID: ${W}`),ne.map(pe=>{const we=pe.payload.doc.data();return"object"==typeof we&&null!==we?{id:pe.payload.doc.id,...we}:(console.error("\u274c Firestore data format error:",we),{id:pe.payload.doc.id})}))))}updateLocation(W,ne,pe){return this.afs.doc(`businesses/${W}/locations/${ne}`).update(pe)}deleteLocation(W,ne){return this.afs.doc(`businesses/${W}/locations/${ne}`).delete()}static{this.\u0275fac=function(ne){return new(ne||Ie)(be.KVO(ae.Qe),be.KVO(Ee.ap))}}static{this.\u0275prov=be.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}}return Ie})()},6661:(on,Xe,k)=>{k.d(Xe,{L:()=>r});var i=k(5312),oe=k(7705);let r=(()=>{class be{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Ee,Se)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Ee();const Ie=document.createElement("script");Ie.id="google-maps-script",Ie.src=`https://maps.googleapis.com/maps/api/js?key=${i.c.googleMapsApiKey}&libraries=places`,Ie.async=!0,Ie.defer=!0,Ie.onload=()=>{this.scriptLoaded=!0,Ee()},Ie.onerror=ke=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,Se(ke)},document.body.appendChild(Ie)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(Se){return new(Se||be)}}static{this.\u0275prov=oe.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},6861:(on,Xe,k)=>{k.d(Xe,{R:()=>be});var i=k(7705),oe=k(345),r=k(923);let be=(()=>{class ae{constructor(Se,Ie,ke){this.meta=Se,this.title=Ie,this.businessDataService=ke}updateMetaTags(Se){this.title.setTitle(Se.title),this.meta.updateTag({name:"description",content:Se.description}),this.meta.updateTag({name:"keywords",content:Se.keywords}),this.meta.updateTag({property:"og:title",content:Se.title}),this.meta.updateTag({property:"og:description",content:Se.description})}updateFavicon(Se){const Ie=document.getElementsByTagName("head")[0];let ke=document.querySelector("link[rel*='icon']");ke||(ke=document.createElement("link"),ke.rel="icon",Ie.appendChild(ke)),ke.href=Se}loadAndApplyMeta(Se){this.businessDataService.loadBusinessData(Se).subscribe(Ie=>{Ie?(this.updateMetaTags({title:Ie.metaTitle||"Default Title",description:Ie.metaDescription||"Default Description",keywords:Ie.metaKeywords||"default, keywords"}),Ie.faviconUrl&&this.updateFavicon(Ie.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Ie){return new(Ie||ae)(i.KVO(oe.W8),i.KVO(oe.hE),i.KVO(r.A))}}static{this.\u0275prov=i.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})()},5009:(on,Xe,k)=>{k.d(Xe,{F:()=>ke});var i=k(8810),oe=k(8455),r=k(7673),be=k(6697),ae=k(5558),Ee=k(9437),Se=k(7705),Ie=k(6340);let ke=(()=>{class W{constructor(pe){this.firestore=pe,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(pe){return this.firestore.collection("businesses").doc(pe).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(pe){const we=this.firestore.collection("businesses").doc(pe),Be=we.collection("theme").doc("themeDoc");return we.snapshotChanges().pipe((0,be.s)(1),(0,ae.n)(ve=>ve.payload.exists?Be.get().pipe((0,ae.n)(Ye=>Ye.exists?(Ye.data(),Be.valueChanges()):(0,oe.H)(Be.set(this.defaultTheme)).pipe((0,ae.n)(()=>(this.applyThemeFile(this.defaultTheme.themeFileName),Be.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,i.$)("Theme Service: - Business document does not exist"))),(0,Ee.W)(ve=>(console.error("Error fetching theme:",ve),this.applyThemeFile(this.defaultTheme.themeFileName),(0,r.of)(this.defaultTheme))))}updateColors(pe,we){return this.firestore.collection("businesses").doc(pe).collection("theme").doc("themeDoc").set(we,{merge:!0}).then(()=>{we.themeFileName&&this.applyThemeFile(we.themeFileName)}).catch(ve=>{throw console.error("Theme Service: - Error updating colors:",ve),new Error(ve)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(pe){return this.loadCss(`assets/themes/${pe}`)}loadCss(pe){return new Promise((we,Be)=>{const ve=document.createElement("link");ve.rel="stylesheet",ve.href=pe,ve.onload=()=>{console.log(`Loaded theme: ${pe}`),we()},ve.onerror=Ye=>{console.error(`Failed to load theme: ${pe}`,Ye),Be(Ye)},document.head.appendChild(ve)})}static{this.\u0275fac=function(we){return new(we||W)(Se.KVO(Ie.Qe))}}static{this.\u0275prov=Se.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},5571:(on,Xe,k)=>{k.d(Xe,{B:()=>Se});var i=k(1985),oe=k(6354),r=k(980),be=k(7705),ae=k(8721),Ee=k(6340);let Se=(()=>{class Ie{constructor(W,ne){this.storage=W,this.firestore=ne}uploadFile(W,ne,pe,we="",Be="",ve="",Ye=""){let Ce;switch(pe){case"testimonail":Ce=`businesses/${ne}/testimonail/${W.name}`;break;case"employee":Ce=`businesses/${ne}/employee/${W.name}`;break;case"business":Ce=`businesses/${ne}/business/${W.name}`;break;case"heroImages":Ce=`businesses/${ne}/heroImages/${W.name}`;break;case"lifeStyle":Ce=`businesses/${ne}/lifeStyle/${W.name}`;break;case"sectionsImages":Ce=`businesses/${ne}/sectionsImages/${W.name}`;break;default:Ce=`businesses/${ne}/gallery/${W.name}`}const it=this.storage.ref(Ce),Ht=this.storage.upload(Ce,W);return{uploadProgress:Ht.percentageChanges().pipe((0,oe.T)(rt=>rt??0)),downloadUrl:new i.c(rt=>{Ht.snapshotChanges().pipe((0,r.j)(()=>{it.getDownloadURL().subscribe(tt=>{this.firestore.collection("businesses").doc(ne).collection(pe).add({url:tt,title:we,description:Be,link:ve,order:Ye}),rt.next(tt),rt.complete()})})).subscribe()})}}deleteFile(W,ne,pe){return new Promise((we,Be)=>{const ve=decodeURIComponent(W.split("/").pop()?.split("?")[0]||"");this.storage.ref(ve).delete().subscribe({next:()=>{this.firestore.collection("businesses").doc(ne).collection(pe).ref.where("url","==",W).get().then(Ce=>{Ce.forEach(it=>it.ref.delete()),we()}).catch(Ce=>{console.error("Error deleting from Firestore:",Ce),Be(Ce)})},error:Ce=>{console.error("Error deleting from Storage:",Ce),Be(Ce)}})})}static{this.\u0275fac=function(ne){return new(ne||Ie)(be.KVO(ae.ap),be.KVO(Ee.Qe))}}static{this.\u0275prov=be.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}}return Ie})()},8704:(on,Xe,k)=>{k.d(Xe,{N:()=>Se});var i=k(6354),oe=k(9437),r=k(7673),be=k(7705),ae=k(6340),Ee=k(8721);let Se=(()=>{class Ie{constructor(W,ne){this.firestore=W,this.storage=ne,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(W){const ne=W&&W.trim()?W:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ne).snapshotChanges().pipe((0,i.T)(pe=>{const we=pe.payload.data(),Be=pe.payload.id;if(we){const{id:ve,testimonials:Ye=[],...Ce}=we;return{id:Be,testimonials:Ye.map(Ht=>({...Ht,photoURL:Ht.photoURL&&Ht.photoURL.trim()?Ht.photoURL:this.defaultImage})),...Ce}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(W){return this.storage.ref(W).getDownloadURL().pipe((0,oe.W)(ne=>(console.error("Error fetching photo URL:",ne),(0,r.of)(""))))}getEmployeesByBusinessId(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).get().pipe((0,i.T)(ne=>{if(ne.exists){const pe=ne.data();return pe&&pe.employees?pe.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,oe.W)(ne=>(console.error("Error fetching employees:",ne),(0,r.of)([]))))}getBusinessGalleryImagesById(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection("gallery").valueChanges()}getBusinessUploadedImagesById(W,ne){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection(ne).valueChanges()}checkImageExists(W){return this.storage.refFromURL(W).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(ne){return new(ne||Ie)(be.KVO(ae.Qe),be.KVO(Ee.ap))}}static{this.\u0275prov=be.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}}return Ie})()},5312:(on,Xe,k)=>{k.d(Xe,{c:()=>i});const i={production:!0,firebase:{apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"},googleMapsApiKey:"AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4",useMockGoogleReviews:!1,useMockGoogleMap:!1}},5824:(on,Xe,k)=>{var i={};k.r(i),k.d(i,{afterMain:()=>mr,afterRead:()=>hn,afterWrite:()=>ht,applyStyles:()=>ii,arrow:()=>dn,auto:()=>Ar,basePlacements:()=>qn,beforeMain:()=>Wr,beforeRead:()=>zr,beforeWrite:()=>Wn,bottom:()=>Ut,clippingParents:()=>zn,computeStyles:()=>Qn,createPopper:()=>Is,createPopperBase:()=>sr,createPopperLite:()=>Z,detectOverflow:()=>oo,end:()=>vn,eventListeners:()=>Vi,flip:()=>bs,hide:()=>ci,left:()=>en,main:()=>tr,modifierPhases:()=>vt,offset:()=>ui,placements:()=>Kn,popper:()=>Rr,popperGenerator:()=>ds,popperOffsets:()=>Ks,preventOverflow:()=>Ps,read:()=>Zi,reference:()=>Dr,right:()=>Xn,start:()=>Bt,top:()=>jt,variationPlacements:()=>Ur,viewport:()=>In,write:()=>bi});var oe=k(345),r=k(7705),be=k(1626),ae=k(6814),Ee=k(7884),Se=k(5558),Ie=k(7304),ke=k(4593),W=k(491),ne=k(1915),pe=k(9483),we=k(3967),Be=k(8035),ve=k(5743),Ye=k(6861),Ce=k(923),it=k(177),Ht=k(7673),He=k(6354),Ae=k(9437),rt=k(8704),tt=k(4591);function ft(y,u){if(1&y&&(r.j41(0,"div",5),r.nrm(1,"img",6),r.j41(2,"h3"),r.EFF(3),r.k0s(),r.j41(4,"h4"),r.EFF(5),r.k0s(),r.j41(6,"p"),r.EFF(7),r.k0s()()),2&y){const l=u.$implicit;r.R7$(1),r.FS9("alt",l.name),r.Y8G("src",l.photoURL,r.B4B),r.R7$(2),r.JRh(l.name),r.R7$(2),r.JRh(l.role),r.R7$(2),r.JRh(l.bio)}}function Nt(y,u){if(1&y&&(r.j41(0,"div",1),r.nrm(1,"app-section-tilte",2),r.j41(2,"div",3),r.DNE(3,ft,8,5,"div",4),r.nI1(4,"async"),r.k0s()()),2&y){const l=r.XpG();r.R7$(1),r.Y8G("title","Meet the Team")("titleColor","var(--primary-color)"),r.R7$(2),r.Y8G("ngForOf",r.bMT(4,3,l.employees$))}}let pt=(()=>{class y{constructor(l,p){this.route=l,this.employeeService=p}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,He.T)(l=>l.get("id")||""),(0,Se.n)(l=>this.employeeService.getEmployeesByBusinessId(l)),(0,Ae.W)(l=>(console.error("Error fetching employees:",l),(0,Ht.of)([]))))}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(ae.nX),r.rXU(rt.N))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title","titleColor"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(p,T){1&p&&r.DNE(0,Nt,5,5,"div",0),2&p&&r.Y8G("ngIf",T.employees$)},dependencies:[it.Sq,it.bT,tt.L,it.Jj]})}}return y})(),Te=(()=>{class y{constructor(l,p){this.route=l,this.router=p,this.layoutType="demo",this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Let us make you feel at home"},location:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Come Meet Us"}},this.imagesAndMessagesSB={services:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1455953950-1024x1024.jpg?alt=media&token=f8875a81-4502-4e3f-b9f3-de7efa57d34f",message:"Discover our Services"},gallery:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1735411371-1024x1024.jpg?alt=media&amp;token=03a733b3-0eff-4cda-b06c-108a886f5921",message:"Explore our Gallery"},"about-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Learn About Us"},"contact-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1367776831-1024x1024.jpg?alt=media&token=1272b1b2-ad7f-425a-b17e-10ba49234dab",message:"Get in Touch"},testimonials:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1456339578-1024x1024.jpg?alt=media&token=2e380b78-c7ba-46c4-bd9b-fd8d3cc6e818",message:"What they say about us"},"resident-form":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Les us make you feel at home"}}}ngOnInit(){this.router.events.subscribe(()=>{const p=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",p);const T="sb"===this.layoutType?this.imagesAndMessagesSB:this.imagesAndMessages;p&&T[p]?(this.backgroundImage=`url(${T[p].image})`,this.message=T[p].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(ae.nX),r.rXU(ae.Ix))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-hero"]],inputs:{layoutType:"layoutType"},decls:4,vars:3,consts:[[1,"page-hero"],[1,"page-hero-overlay"]],template:function(p,T){1&p&&(r.j41(0,"div",0)(1,"div",1)(2,"h1"),r.EFF(3),r.k0s()()()),2&p&&(r.xc7("background-image",T.backgroundImage),r.R7$(3),r.JRh(T.message))}})}}return y})(),Ze=(()=>{class y{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(p,T){1&p&&(r.j41(0,"div",0)(1,"div",1),r.nrm(2,"img",2),r.j41(3,"div",3)(4,"p",4),r.EFF(5),r.k0s(),r.j41(6,"p",5),r.EFF(7),r.k0s()()()()),2&p&&(r.R7$(2),r.FS9("src",T.imageURL,r.B4B),r.R7$(3),r.SpI('" ',T.text,'"'),r.R7$(2),r.SpI("\u2013 ",T.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 1080px),(max-width: 1024px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:50%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return y})();const Jt=["dynamicContainer"];function Rn(y,u){1&y&&(r.qex(0),r.j41(1,"div",6)(2,"div",7)(3,"h1"),r.EFF(4,"About Us"),r.k0s(),r.j41(5,"div",8)(6,"p"),r.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),r.k0s()()()(),r.bVm())}function Ft(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","ae"))}function qt(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function Qt(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","sb"))}function yt(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function $e(y,u){1&y&&(r.j41(0,"div",10),r.nrm(1,"div",11,12),r.k0s())}function ct(y,u){1&y&&(r.j41(0,"div",10),r.nrm(1,"div",13,12),r.k0s())}function ut(y,u){if(1&y&&(r.qex(0),r.nrm(1,"app-testimonial-image",14),r.bVm()),2&y){const l=r.XpG(2);r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote)}}function Oe(y,u){if(1&y&&(r.j41(0,"div")(1,"div",1),r.DNE(2,Rn,8,0,"ng-container",2),r.DNE(3,Ft,2,1,"ng-container",2),r.DNE(4,qt,2,1,"ng-container",2),r.DNE(5,Qt,2,1,"ng-container",2),r.DNE(6,yt,2,1,"ng-container",2),r.k0s(),r.DNE(7,$e,3,0,"div",3),r.DNE(8,ct,3,0,"div",3),r.j41(9,"section",4),r.nrm(10,"app-meet-the-team",5),r.k0s(),r.j41(11,"div",1),r.DNE(12,ut,2,3,"ng-container",2),r.k0s()()),2&y){const l=r.XpG();r.R7$(1),r.Y8G("ngSwitch",l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngIf","prestige"!=l.business.theme.themeType),r.R7$(1),r.Y8G("ngIf","prestige"==l.business.theme.themeType),r.R7$(2),r.Y8G("businessId",l.business.id),r.R7$(1),r.Y8G("ngSwitch",l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","ae")}}let ee=(()=>{class y{constructor(l,p,T,j,ie,de){this.sectionService=l,this.resolver=p,this.injector=T,this.route=j,this.metaService=ie,this.businessDataService=de,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Ie.W,"right-text":ke.F,"left-text":W.G,"item-list":ne.j,cta:pe.j,consultation:we.t}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,Se.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}ngAfterViewInit(){this.business&&this.loadComponents()}loadSections(){this.sectionService.getBusinessSections(this.businessId,"aboutus").subscribe(l=>{l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(this.container)if(this.container.clear(),this.sections.length)if(this.sections.sort((l,p)=>(l.order||0)-(p.order||0)),"hh"===this.business?.theme?.themeType){let de,l=[],p=null,T=null,j=null,ie=[];this.sections.forEach(Pe=>{"center-text"===Pe.component?p?T=Pe:p=Pe:"left-text"===Pe.component||"right-text"===Pe.component?l.push(Pe):"cta"===Pe.component?j=Pe:ie.push(Pe)}),p&&this.createComponent(p),l.length>0&&(de=document.createElement("div"),de.className="text-wrapper",l.sort((Pe,Qe)=>"left-text"===Pe.component?-1:1),l.forEach(Pe=>{const Qe=this.createComponent(Pe);Qe&&de.appendChild(Qe.location.nativeElement)}),this.container.element.nativeElement.appendChild(de)),T&&this.createComponent(T),ie.forEach(Pe=>{this.createComponent(Pe)}),j&&this.createComponent(j)}else this.sections.sort((l,p)=>(l.order||0)-(p.order||0)),this.sections.forEach(l=>{this.createComponent(l)}),this.loadManualComponents();else console.warn("\u2757 No sections available to load.");else console.error("\u274c ViewContainerRef (container) is undefined.")}loadManualComponents(){if("clemo"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(Be.H);const p=this.container.createComponent(Be.H,{index:void 0,injector:this.injector});p.instance.layoutType=this.business?.theme?.themeType,p.changeDetectorRef.detectChanges()}}createWrapper(l){if(!l.length)return;const p=document.createElement("div");p.className="text-wrapper",l.sort((T,j)=>"left-text"===T.component?-1:1),l.forEach(T=>{const j=this.createComponent(T);null!==j&&p.appendChild(j.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(l,p){const T=this.componentsMap[l.component];if(!T)return console.error("\u274c Component Not Found:",l.component),null;const j=this.resolver.resolveComponentFactory(T),ie=this.container.createComponent(j);return this.applyComponentProperties(ie.instance,l),p?this.container.element.nativeElement.insertBefore(ie.location.nativeElement,p):this.container.element.nativeElement.appendChild(ie.location.nativeElement),ie}applyComponentProperties(l,p){Object.assign(l,{isActive:[void 0===p.isActive||p.isActive],title:this.applyReplaceKeyword(p.sectionTitle||""),subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),content:this.applyReplaceKeyword(p.sectionContent||""),sectionImageUrl:p.sectionImageUrl||"",showBtn:p.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!p.sectionImageUrl,themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",textColor:p.textColor||"#000000",titleColor:p.titleColor||"#000000",subtitleColor:p.subtitleColor||"#000000",fullWidth:p.fullWidth||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",titleFontSize:p.titleFontSize||"36",subtitleFontSize:p.subtitleFontSize||"14",alignText:p.alignText||"left",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location})}applyReplaceKeyword(l){return l.replace(/{{\s*businessName\s*}}/g,this.business?.businessName||"")}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(ve.W),r.rXU(r.OM3),r.rXU(r.zZn),r.rXU(ae.nX),r.rXU(Ye.R),r.rXU(Ce.A))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-about-us"]],viewQuery:function(p,T){if(1&p&&r.GBs(Jt,5,r.c1b),2&p){let j;r.mGM(j=r.lsd())&&(T.container=j.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"business-team"],[3,"businessId"],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(p,T){1&p&&r.DNE(0,Oe,13,11,"div",0),2&p&&r.Y8G("ngIf",T.business)},dependencies:[it.bT,it.ux,it.e1,pt,Te,Ze]})}}return y})();var ye=k(263);const Fe=["dynamicContainer"];function dt(y,u){1&y&&(r.qex(0),r.j41(1,"div",4)(2,"div",5)(3,"h1"),r.EFF(4,"Our Services"),r.k0s(),r.j41(5,"div",6)(6,"p"),r.EFF(7,"Providing exceptional care tailored to your needs"),r.k0s()()()(),r.bVm())}function st(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero"),r.bVm())}function $t(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function wn(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","sb"))}function or(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function un(y,u){1&y&&(r.j41(0,"div",8),r.nrm(1,"div",9,10),r.k0s())}function Nn(y,u){1&y&&(r.j41(0,"div",8),r.nrm(1,"div",11,10),r.k0s())}function sn(y,u){if(1&y&&(r.qex(0),r.nrm(1,"app-testimonial-image",12),r.bVm()),2&y){const l=r.XpG(2);r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[1].name||"")("text",l.business.testimonials[1].quote||"")}}function Yn(y,u){if(1&y&&(r.j41(0,"div")(1,"div",1),r.DNE(2,dt,8,0,"ng-container",2),r.DNE(3,st,2,0,"ng-container",2),r.DNE(4,$t,2,1,"ng-container",2),r.DNE(5,wn,2,1,"ng-container",2),r.DNE(6,or,2,1,"ng-container",2),r.k0s(),r.DNE(7,un,3,0,"div",3),r.DNE(8,Nn,3,0,"div",3),r.j41(9,"div",1),r.DNE(10,sn,2,3,"ng-container",2),r.k0s()()),2&y){const l=r.XpG();r.R7$(1),r.Y8G("ngSwitch",l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngIf","prestige"!=l.business.theme.themeType),r.R7$(1),r.Y8G("ngIf","prestige"==l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitch",l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","ae")}}let kn=(()=>{class y{constructor(l,p,T,j,ie,de,Pe){this.sectionService=l,this.resolver=p,this.injector=T,this.route=j,this.metaService=ie,this.businessDataService=de,this.router=Pe,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Ie.W,"right-text":ke.F,"left-text":W.G,"item-list":ne.j,cta:pe.j,consultatioin:we.t,"item-list-image":ye.g}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,Se.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}ngAfterViewInit(){setTimeout(()=>{this.container?this.business&&this.sections.length?this.loadComponents():(console.warn("\u2757 Sections are not loaded yet, retrying..."),setTimeout(()=>{this.sections.length&&this.loadComponents()},500)):console.error("\u274c ViewContainerRef (container) is still undefined after ViewInit.")},500)}loadSections(){this.sectionService.getBusinessSections(this.businessId,"services").subscribe(l=>{console.log("\u{1f4cc} Retrieved Sections:",l),l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(this.container)if(this.container.clear(),this.sections.length)if(this.sections.sort((l,p)=>(l.order||0)-(p.order||0)),"hh"===this.business?.theme?.themeType){console.log("Loading sections for HH layout");let Pe,l=[],p=null,T=null,j=null,ie=null,de=[];this.sections.forEach(Qe=>{"item-list"===Qe.component?p?T=Qe:p=Qe:"left-text"===Qe.component||"right-text"===Qe.component?l.push(Qe):"center-text"===Qe.component?j=Qe:"cta"===Qe.component?ie=Qe:de.push(Qe)}),p&&this.createComponent(p),T&&this.createComponent(T),l.length>0&&(Pe=document.createElement("div"),Pe.className="text-wrapper",l.sort((Qe,wt)=>"left-text"===Qe.component?-1:1),l.forEach(Qe=>{const wt=this.createComponent(Qe);wt&&Pe.appendChild(wt.location.nativeElement)}),this.container.element.nativeElement.appendChild(Pe)),j&&this.createComponent(j),ie&&this.createComponent(ie)}else console.log("Loading sections based on order"),this.sections.sort((l,p)=>(l.order||0)-(p.order||0)),this.sections.forEach(l=>{this.createComponent(l)});else console.warn("\u2757 No sections available to load.");else console.error("\u274c ViewContainerRef (container) is undefined.")}createWrapper(l){if(!l.length)return;const p=document.createElement("div");p.className="text-wrapper",l.sort((T,j)=>"left-text"===T.component?-1:1),l.forEach(T=>{const j=this.createComponent(T);null!==j&&p.appendChild(j.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(l,p){const T=this.componentsMap[l.component];if(!T)return console.error("\u274c Component Not Found:",l.component),null;const j=this.resolver.resolveComponentFactory(T),ie=this.container.createComponent(j);return this.applyComponentProperties(ie.instance,l),p?this.container.element.nativeElement.insertBefore(ie.location.nativeElement,p):this.container.element.nativeElement.appendChild(ie.location.nativeElement),ie}applyComponentProperties(l,p){Object.assign(l,{isActive:[void 0===p.isActive||p.isActive],title:this.applyReplaceKeyword(p.sectionTitle||""),subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),content:this.applyReplaceKeyword(p.sectionContent||""),sectionImageUrl:p.sectionImageUrl||"",showBtn:p.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!p.sectionImageUrl,themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",textColor:p.textColor||"#000000",titleColor:p.titleColor||"#000000",subtitleColor:p.subtitleColor||"#000000",fullWidth:p.fullWidth||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",titleFontSize:p.titleFontSize||"36",subtitleFontSize:p.subtitleFontSize||"14",alignText:p.alignText||"left",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location,order:p.order})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(ve.W),r.rXU(r.OM3),r.rXU(r.zZn),r.rXU(ae.nX),r.rXU(Ye.R),r.rXU(Ce.A),r.rXU(ae.Ix))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-services"]],viewQuery:function(p,T){if(1&p&&r.GBs(Fe,5,r.c1b),2&p){let j;r.mGM(j=r.lsd())&&(T.container=j.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"hero-services"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(p,T){1&p&&r.DNE(0,Yn,11,10,"div",0),2&p&&r.Y8G("ngIf",T.business)},dependencies:[it.bT,it.ux,it.e1,Te,Ze]})}}return y})();var jt="top",Ut="bottom",Xn="right",en="left",Ar="auto",qn=[jt,Ut,Xn,en],Bt="start",vn="end",zn="clippingParents",In="viewport",Rr="popper",Dr="reference",Ur=qn.reduce(function(y,u){return y.concat([u+"-"+Bt,u+"-"+vn])},[]),Kn=[].concat(qn,[Ar]).reduce(function(y,u){return y.concat([u,u+"-"+Bt,u+"-"+vn])},[]),zr="beforeRead",Zi="read",hn="afterRead",Wr="beforeMain",tr="main",mr="afterMain",Wn="beforeWrite",bi="write",ht="afterWrite",vt=[zr,Zi,hn,Wr,tr,mr,Wn,bi,ht];function le(y){return y?(y.nodeName||"").toLowerCase():null}function xe(y){if(null==y)return window;if("[object Window]"!==y.toString()){var u=y.ownerDocument;return u&&u.defaultView||window}return y}function Rt(y){return y instanceof xe(y).Element||y instanceof Element}function Gt(y){return y instanceof xe(y).HTMLElement||y instanceof HTMLElement}function jn(y){return!(typeof ShadowRoot>"u")&&(y instanceof xe(y).ShadowRoot||y instanceof ShadowRoot)}const ii={name:"applyStyles",enabled:!0,phase:"write",fn:function Gr(y){var u=y.state;Object.keys(u.elements).forEach(function(l){var p=u.styles[l]||{},T=u.attributes[l]||{},j=u.elements[l];!Gt(j)||!le(j)||(Object.assign(j.style,p),Object.keys(T).forEach(function(ie){var de=T[ie];!1===de?j.removeAttribute(ie):j.setAttribute(ie,!0===de?"":de)}))})},effect:function Cr(y){var u=y.state,l={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,l.popper),u.styles=l,u.elements.arrow&&Object.assign(u.elements.arrow.style,l.arrow),function(){Object.keys(u.elements).forEach(function(p){var T=u.elements[p],j=u.attributes[p]||{},de=Object.keys(u.styles.hasOwnProperty(p)?u.styles[p]:l[p]).reduce(function(Pe,Qe){return Pe[Qe]="",Pe},{});!Gt(T)||!le(T)||(Object.assign(T.style,de),Object.keys(j).forEach(function(Pe){T.removeAttribute(Pe)}))})}},requires:["computeStyles"]};function It(y){return y.split("-")[0]}var G=Math.max,x=Math.min,A=Math.round;function J(){var y=navigator.userAgentData;return null!=y&&y.brands&&Array.isArray(y.brands)?y.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function $(){return!/^((?!chrome|android).)*safari/i.test(J())}function ge(y,u,l){void 0===u&&(u=!1),void 0===l&&(l=!1);var p=y.getBoundingClientRect(),T=1,j=1;u&&Gt(y)&&(T=y.offsetWidth>0&&A(p.width)/y.offsetWidth||1,j=y.offsetHeight>0&&A(p.height)/y.offsetHeight||1);var de=(Rt(y)?xe(y):window).visualViewport,Pe=!$()&&l,Qe=(p.left+(Pe&&de?de.offsetLeft:0))/T,wt=(p.top+(Pe&&de?de.offsetTop:0))/j,nn=p.width/T,$n=p.height/j;return{width:nn,height:$n,top:wt,right:Qe+nn,bottom:wt+$n,left:Qe,x:Qe,y:wt}}function We(y){var u=ge(y),l=y.offsetWidth,p=y.offsetHeight;return Math.abs(u.width-l)<=1&&(l=u.width),Math.abs(u.height-p)<=1&&(p=u.height),{x:y.offsetLeft,y:y.offsetTop,width:l,height:p}}function Wt(y,u){var l=u.getRootNode&&u.getRootNode();if(y.contains(u))return!0;if(l&&jn(l)){var p=u;do{if(p&&y.isSameNode(p))return!0;p=p.parentNode||p.host}while(p)}return!1}function Yt(y){return xe(y).getComputedStyle(y)}function Sn(y){return["table","td","th"].indexOf(le(y))>=0}function ar(y){return((Rt(y)?y.ownerDocument:y.document)||window.document).documentElement}function Ve(y){return"html"===le(y)?y:y.assignedSlot||y.parentNode||(jn(y)?y.host:null)||ar(y)}function Ue(y){return Gt(y)&&"fixed"!==Yt(y).position?y.offsetParent:null}function Vt(y){for(var u=xe(y),l=Ue(y);l&&Sn(l)&&"static"===Yt(l).position;)l=Ue(l);return l&&("html"===le(l)||"body"===le(l)&&"static"===Yt(l).position)?u:l||function qe(y){var u=/firefox/i.test(J());if(/Trident/i.test(J())&&Gt(y)&&"fixed"===Yt(y).position)return null;var T=Ve(y);for(jn(T)&&(T=T.host);Gt(T)&&["html","body"].indexOf(le(T))<0;){var j=Yt(T);if("none"!==j.transform||"none"!==j.perspective||"paint"===j.contain||-1!==["transform","perspective"].indexOf(j.willChange)||u&&"filter"===j.willChange||u&&j.filter&&"none"!==j.filter)return T;T=T.parentNode}return null}(y)||u}function rn(y){return["top","bottom"].indexOf(y)>=0?"x":"y"}function _n(y,u,l){return G(y,x(u,l))}function yn(y){return Object.assign({},{top:0,right:0,bottom:0,left:0},y)}function yi(y,u){return u.reduce(function(l,p){return l[p]=y,l},{})}const dn={name:"arrow",enabled:!0,phase:"main",fn:function at(y){var u,l=y.state,p=y.name,T=y.options,j=l.elements.arrow,ie=l.modifiersData.popperOffsets,de=It(l.placement),Pe=rn(de),wt=[en,Xn].indexOf(de)>=0?"height":"width";if(j&&ie){var nn=function(u,l){return yn("number"!=typeof(u="function"==typeof u?u(Object.assign({},l.rects,{placement:l.placement})):u)?u:yi(u,qn))}(T.padding,l),$n=We(j),Tn="y"===Pe?jt:en,On="y"===Pe?Ut:Xn,Dn=l.rects.reference[wt]+l.rects.reference[Pe]-ie[Pe]-l.rects.popper[wt],hr=ie[Pe]-l.rects.reference[Pe],$r=Vt(j),Jr=$r?"y"===Pe?$r.clientHeight||0:$r.clientWidth||0:0,pi=Jr/2-$n[wt]/2+(Dn/2-hr/2),vi=_n(nn[Tn],pi,Jr-$n[wt]-nn[On]);l.modifiersData[p]=((u={})[Pe]=vi,u.centerOffset=vi-pi,u)}},effect:function kt(y){var u=y.state,p=y.options.element,T=void 0===p?"[data-popper-arrow]":p;null!=T&&("string"==typeof T&&!(T=u.elements.popper.querySelector(T))||Wt(u.elements.popper,T)&&(u.elements.arrow=T))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fn(y){return y.split("-")[1]}var mn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wr(y){var u,l=y.popper,p=y.popperRect,T=y.placement,j=y.variation,ie=y.offsets,de=y.position,Pe=y.gpuAcceleration,Qe=y.adaptive,wt=y.roundOffsets,nn=y.isFixed,$n=ie.x,Tn=void 0===$n?0:$n,On=ie.y,Dn=void 0===On?0:On,hr="function"==typeof wt?wt({x:Tn,y:Dn}):{x:Tn,y:Dn};Tn=hr.x,Dn=hr.y;var $r=ie.hasOwnProperty("x"),Jr=ie.hasOwnProperty("y"),wi=en,yr=jt,xi=window;if(Qe){var pi=Vt(l),vi="clientHeight",gs="clientWidth";pi===xe(l)&&"static"!==Yt(pi=ar(l)).position&&"absolute"===de&&(vi="scrollHeight",gs="scrollWidth"),(T===jt||(T===en||T===Xn)&&j===vn)&&(yr=Ut,Dn-=(nn&&pi===xi&&xi.visualViewport?xi.visualViewport.height:pi[vi])-p.height,Dn*=Pe?1:-1),T!==en&&(T!==jt&&T!==Ut||j!==vn)||(wi=Xn,Tn-=(nn&&pi===xi&&xi.visualViewport?xi.visualViewport.width:pi[gs])-p.width,Tn*=Pe?1:-1)}var Ds,io=Object.assign({position:de},Qe&&mn),jo=!0===wt?function Ln(y,u){var p=y.y,T=u.devicePixelRatio||1;return{x:A(y.x*T)/T||0,y:A(p*T)/T||0}}({x:Tn,y:Dn},xe(l)):{x:Tn,y:Dn};return Tn=jo.x,Dn=jo.y,Object.assign({},io,Pe?((Ds={})[yr]=Jr?"0":"",Ds[wi]=$r?"0":"",Ds.transform=(xi.devicePixelRatio||1)<=1?"translate("+Tn+"px, "+Dn+"px)":"translate3d("+Tn+"px, "+Dn+"px, 0)",Ds):((u={})[yr]=Jr?Dn+"px":"",u[wi]=$r?Tn+"px":"",u.transform="",u))}const Qn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function jr(y){var u=y.state,l=y.options,p=l.gpuAcceleration,T=void 0===p||p,j=l.adaptive,ie=void 0===j||j,de=l.roundOffsets,Pe=void 0===de||de,Qe={placement:It(u.placement),variation:Fn(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:T,isFixed:"fixed"===u.options.strategy};null!=u.modifiersData.popperOffsets&&(u.styles.popper=Object.assign({},u.styles.popper,wr(Object.assign({},Qe,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:ie,roundOffsets:Pe})))),null!=u.modifiersData.arrow&&(u.styles.arrow=Object.assign({},u.styles.arrow,wr(Object.assign({},Qe,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Pe})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var Ai={passive:!0};const Vi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function ls(y){var u=y.state,l=y.instance,p=y.options,T=p.scroll,j=void 0===T||T,ie=p.resize,de=void 0===ie||ie,Pe=xe(u.elements.popper),Qe=[].concat(u.scrollParents.reference,u.scrollParents.popper);return j&&Qe.forEach(function(wt){wt.addEventListener("scroll",l.update,Ai)}),de&&Pe.addEventListener("resize",l.update,Ai),function(){j&&Qe.forEach(function(wt){wt.removeEventListener("scroll",l.update,Ai)}),de&&Pe.removeEventListener("resize",l.update,Ai)}},data:{}};var _o={left:"right",right:"left",bottom:"top",top:"bottom"};function Hs(y){return y.replace(/left|right|bottom|top/g,function(u){return _o[u]})}var zi={start:"end",end:"start"};function Ao(y){return y.replace(/start|end/g,function(u){return zi[u]})}function Zr(y){var u=xe(y);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function Ki(y){return ge(ar(y)).left+Zr(y).scrollLeft}function Bi(y){var u=Yt(y);return/auto|scroll|overlay|hidden/.test(u.overflow+u.overflowY+u.overflowX)}function Oi(y){return["html","body","#document"].indexOf(le(y))>=0?y.ownerDocument.body:Gt(y)&&Bi(y)?y:Oi(Ve(y))}function Er(y,u){var l;void 0===u&&(u=[]);var p=Oi(y),T=p===(null==(l=y.ownerDocument)?void 0:l.body),j=xe(p),ie=T?[j].concat(j.visualViewport||[],Bi(p)?p:[]):p,de=u.concat(ie);return T?de:de.concat(Er(Ve(ie)))}function zs(y){return Object.assign({},y,{left:y.x,top:y.y,right:y.x+y.width,bottom:y.y+y.height})}function li(y,u,l){return u===In?zs(function ys(y,u){var l=xe(y),p=ar(y),T=l.visualViewport,j=p.clientWidth,ie=p.clientHeight,de=0,Pe=0;if(T){j=T.width,ie=T.height;var Qe=$();(Qe||!Qe&&"fixed"===u)&&(de=T.offsetLeft,Pe=T.offsetTop)}return{width:j,height:ie,x:de+Ki(y),y:Pe}}(y,l)):Rt(u)?function Do(y,u){var l=ge(y,!1,"fixed"===u);return l.top=l.top+y.clientTop,l.left=l.left+y.clientLeft,l.bottom=l.top+y.clientHeight,l.right=l.left+y.clientWidth,l.width=y.clientWidth,l.height=y.clientHeight,l.x=l.left,l.y=l.top,l}(u,l):zs(function ei(y){var u,l=ar(y),p=Zr(y),T=null==(u=y.ownerDocument)?void 0:u.body,j=G(l.scrollWidth,l.clientWidth,T?T.scrollWidth:0,T?T.clientWidth:0),ie=G(l.scrollHeight,l.clientHeight,T?T.scrollHeight:0,T?T.clientHeight:0),de=-p.scrollLeft+Ki(y),Pe=-p.scrollTop;return"rtl"===Yt(T||l).direction&&(de+=G(l.clientWidth,T?T.clientWidth:0)-j),{width:j,height:ie,x:de,y:Pe}}(ar(y)))}function Di(y){var Pe,u=y.reference,l=y.element,p=y.placement,T=p?It(p):null,j=p?Fn(p):null,ie=u.x+u.width/2-l.width/2,de=u.y+u.height/2-l.height/2;switch(T){case jt:Pe={x:ie,y:u.y-l.height};break;case Ut:Pe={x:ie,y:u.y+u.height};break;case Xn:Pe={x:u.x+u.width,y:de};break;case en:Pe={x:u.x-l.width,y:de};break;default:Pe={x:u.x,y:u.y}}var Qe=T?rn(T):null;if(null!=Qe){var wt="y"===Qe?"height":"width";switch(j){case Bt:Pe[Qe]=Pe[Qe]-(u[wt]/2-l[wt]/2);break;case vn:Pe[Qe]=Pe[Qe]+(u[wt]/2-l[wt]/2)}}return Pe}function oo(y,u){void 0===u&&(u={});var p=u.placement,T=void 0===p?y.placement:p,j=u.strategy,ie=void 0===j?y.strategy:j,de=u.boundary,Pe=void 0===de?zn:de,Qe=u.rootBoundary,wt=void 0===Qe?In:Qe,nn=u.elementContext,$n=void 0===nn?Rr:nn,Tn=u.altBoundary,On=void 0!==Tn&&Tn,Dn=u.padding,hr=void 0===Dn?0:Dn,$r=yn("number"!=typeof hr?hr:yi(hr,qn)),wi=y.rects.popper,yr=y.elements[On?$n===Rr?Dr:Rr:$n],xi=function Ua(y,u,l,p){var T="clippingParents"===u?function ba(y){var u=Er(Ve(y)),p=["absolute","fixed"].indexOf(Yt(y).position)>=0&&Gt(y)?Vt(y):y;return Rt(p)?u.filter(function(T){return Rt(T)&&Wt(T,p)&&"body"!==le(T)}):[]}(y):[].concat(u),j=[].concat(T,[l]),de=j.reduce(function(Pe,Qe){var wt=li(y,Qe,p);return Pe.top=G(wt.top,Pe.top),Pe.right=x(wt.right,Pe.right),Pe.bottom=x(wt.bottom,Pe.bottom),Pe.left=G(wt.left,Pe.left),Pe},li(y,j[0],p));return de.width=de.right-de.left,de.height=de.bottom-de.top,de.x=de.left,de.y=de.top,de}(Rt(yr)?yr:yr.contextElement||ar(y.elements.popper),Pe,wt,ie),pi=ge(y.elements.reference),vi=Di({reference:pi,element:wi,strategy:"absolute",placement:T}),gs=zs(Object.assign({},wi,vi)),Xi=$n===Rr?gs:pi,Hi={top:xi.top-Xi.top+$r.top,bottom:Xi.bottom-xi.bottom+$r.bottom,left:xi.left-Xi.left+$r.left,right:Xi.right-xi.right+$r.right},io=y.modifiersData.offset;if($n===Rr&&io){var jo=io[T];Object.keys(Hi).forEach(function(Ds){var Dc=[Xn,Ut].indexOf(Ds)>=0?1:-1,Sc=[jt,Ut].indexOf(Ds)>=0?"y":"x";Hi[Ds]+=jo[Sc]*Dc})}return Hi}const bs={name:"flip",enabled:!0,phase:"main",fn:function Vs(y){var u=y.state,l=y.options,p=y.name;if(!u.modifiersData[p]._skip){for(var T=l.mainAxis,j=void 0===T||T,ie=l.altAxis,de=void 0===ie||ie,Pe=l.fallbackPlacements,Qe=l.padding,wt=l.boundary,nn=l.rootBoundary,$n=l.altBoundary,Tn=l.flipVariations,On=void 0===Tn||Tn,Dn=l.allowedAutoPlacements,hr=u.options.placement,$r=It(hr),wi=Pe||($r!==hr&&On?function si(y){if(It(y)===Ar)return[];var u=Hs(y);return[Ao(y),u,Ao(u)]}(hr):[Hs(hr)]),yr=[hr].concat(wi).reduce(function(Qi,Rc){return Qi.concat(It(Rc)===Ar?function Ws(y,u){void 0===u&&(u={});var T=u.boundary,j=u.rootBoundary,ie=u.padding,de=u.flipVariations,Pe=u.allowedAutoPlacements,Qe=void 0===Pe?Kn:Pe,wt=Fn(u.placement),nn=wt?de?Ur:Ur.filter(function(On){return Fn(On)===wt}):qn,$n=nn.filter(function(On){return Qe.indexOf(On)>=0});0===$n.length&&($n=nn);var Tn=$n.reduce(function(On,Dn){return On[Dn]=oo(y,{placement:Dn,boundary:T,rootBoundary:j,padding:ie})[It(Dn)],On},{});return Object.keys(Tn).sort(function(On,Dn){return Tn[On]-Tn[Dn]})}(u,{placement:Rc,boundary:wt,rootBoundary:nn,padding:Qe,flipVariations:On,allowedAutoPlacements:Dn}):Rc)},[]),xi=u.rects.reference,pi=u.rects.popper,vi=new Map,gs=!0,Xi=yr[0],Hi=0;Hi<yr.length;Hi++){var io=yr[Hi],jo=It(io),Ds=Fn(io)===Bt,Dc=[jt,Ut].indexOf(jo)>=0,Sc=Dc?"width":"height",Vn=oo(u,{placement:io,boundary:wt,rootBoundary:nn,altBoundary:$n,padding:Qe}),er=Dc?Ds?Xn:en:Ds?Ut:jt;xi[Sc]>pi[Sc]&&(er=Hs(er));var vr=Hs(er),ai=[];if(j&&ai.push(Vn[jo]<=0),de&&ai.push(Vn[er]<=0,Vn[vr]<=0),ai.every(function(Qi){return Qi})){Xi=io,gs=!1;break}vi.set(io,ai)}if(gs)for(var Va=function(Rc){var Qf=yr.find(function(so){var Ea=vi.get(so);if(Ea)return Ea.slice(0,Rc).every(function(aa){return aa})});if(Qf)return Xi=Qf,"break"},wo=On?3:1;wo>0&&"break"!==Va(wo);wo--);u.placement!==Xi&&(u.modifiersData[p]._skip=!0,u.placement=Xi,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ao(y,u,l){return void 0===l&&(l={x:0,y:0}),{top:y.top-u.height-l.y,right:y.right-u.width+l.x,bottom:y.bottom-u.height+l.y,left:y.left-u.width-l.x}}function Ss(y){return[jt,Xn,Ut,en].some(function(u){return y[u]>=0})}const ci={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Or(y){var u=y.state,l=y.name,p=u.rects.reference,T=u.rects.popper,j=u.modifiersData.preventOverflow,ie=oo(u,{elementContext:"reference"}),de=oo(u,{altBoundary:!0}),Pe=ao(ie,p),Qe=ao(de,T,j),wt=Ss(Pe),nn=Ss(Qe);u.modifiersData[l]={referenceClippingOffsets:Pe,popperEscapeOffsets:Qe,isReferenceHidden:wt,hasPopperEscaped:nn},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":wt,"data-popper-escaped":nn})}},ui={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Rs(y){var u=y.state,p=y.name,T=y.options.offset,j=void 0===T?[0,0]:T,ie=Kn.reduce(function(wt,nn){return wt[nn]=function Si(y,u,l){var p=It(y),T=[en,jt].indexOf(p)>=0?-1:1,j="function"==typeof l?l(Object.assign({},u,{placement:y})):l,ie=j[0],de=j[1];return ie=ie||0,de=(de||0)*T,[en,Xn].indexOf(p)>=0?{x:de,y:ie}:{x:ie,y:de}}(nn,u.rects,j),wt},{}),de=ie[u.placement],Qe=de.y;null!=u.modifiersData.popperOffsets&&(u.modifiersData.popperOffsets.x+=de.x,u.modifiersData.popperOffsets.y+=Qe),u.modifiersData[p]=ie}},Ks={name:"popperOffsets",enabled:!0,phase:"read",fn:function cs(y){var u=y.state;u.modifiersData[y.name]=Di({reference:u.rects.reference,element:u.rects.popper,strategy:"absolute",placement:u.placement})},data:{}},Ps={name:"preventOverflow",enabled:!0,phase:"main",fn:function Ts(y){var u=y.state,l=y.options,p=y.name,T=l.mainAxis,j=void 0===T||T,ie=l.altAxis,de=void 0!==ie&&ie,$n=l.tether,Tn=void 0===$n||$n,On=l.tetherOffset,Dn=void 0===On?0:On,hr=oo(u,{boundary:l.boundary,rootBoundary:l.rootBoundary,padding:l.padding,altBoundary:l.altBoundary}),$r=It(u.placement),Jr=Fn(u.placement),wi=!Jr,yr=rn($r),xi=function es(y){return"x"===y?"y":"x"}(yr),pi=u.modifiersData.popperOffsets,vi=u.rects.reference,gs=u.rects.popper,Xi="function"==typeof Dn?Dn(Object.assign({},u.rects,{placement:u.placement})):Dn,Hi="number"==typeof Xi?{mainAxis:Xi,altAxis:Xi}:Object.assign({mainAxis:0,altAxis:0},Xi),io=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,jo={x:0,y:0};if(pi){if(j){var Ds,Dc="y"===yr?jt:en,Sc="y"===yr?Ut:Xn,Vn="y"===yr?"height":"width",er=pi[yr],vr=er+hr[Dc],ai=er-hr[Sc],Gs=Tn?-gs[Vn]/2:0,Va=Jr===Bt?vi[Vn]:gs[Vn],wo=Jr===Bt?-gs[Vn]:-vi[Vn],pl=u.elements.arrow,Qi=Tn&&pl?We(pl):{width:0,height:0},Rc=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Qf=Rc[Dc],so=Rc[Sc],Ea=_n(0,vi[Vn],Qi[Vn]),aa=wi?vi[Vn]/2-Gs-Ea-Qf-Hi.mainAxis:Va-Ea-Qf-Hi.mainAxis,Em=wi?-vi[Vn]/2+Gs+Ea+so+Hi.mainAxis:wo+Ea+so+Hi.mainAxis,Jf=u.elements.arrow&&Vt(u.elements.arrow),h0=Jf?"y"===yr?Jf.clientTop||0:Jf.clientLeft||0:0,PE=null!=(Ds=io?.[yr])?Ds:0,p0=er+Em-PE,ME=_n(Tn?x(vr,er+aa-PE-h0):vr,er,Tn?G(ai,p0):ai);pi[yr]=ME,jo[yr]=ME-er}if(de){var Iv,wh=pi[xi],zg="y"===xi?"height":"width",Cv=wh+hr["x"===yr?jt:en],wv=wh-hr["x"===yr?Ut:Xn],dy=-1!==[jt,en].indexOf($r),Av=null!=(Iv=io?.[xi])?Iv:0,Dv=dy?Cv:wh-vi[zg]-gs[zg]-Av+Hi.altAxis,Sv=dy?wh+vi[zg]+gs[zg]-Av-Hi.altAxis:wv,Ah=Tn&&dy?function fn(y,u,l){var p=_n(y,u,l);return p>l?l:p}(Dv,wh,Sv):_n(Tn?Dv:Cv,wh,Tn?Sv:wv);pi[xi]=Ah,jo[xi]=Ah-wh}u.modifiersData[p]=jo}},requiresIfExists:["offset"]};function gr(y,u,l){void 0===l&&(l=!1);var p=Gt(u),T=Gt(u)&&function ur(y){var u=y.getBoundingClientRect(),l=A(u.width)/y.offsetWidth||1,p=A(u.height)/y.offsetHeight||1;return 1!==l||1!==p}(u),j=ar(u),ie=ge(y,T,l),de={scrollLeft:0,scrollTop:0},Pe={x:0,y:0};return(p||!p&&!l)&&(("body"!==le(u)||Bi(j))&&(de=function En(y){return y!==xe(y)&&Gt(y)?function oi(y){return{scrollLeft:y.scrollLeft,scrollTop:y.scrollTop}}(y):Zr(y)}(u)),Gt(u)?((Pe=ge(u,!0)).x+=u.clientLeft,Pe.y+=u.clientTop):j&&(Pe.x=Ki(j))),{x:ie.left+de.scrollLeft-Pe.x,y:ie.top+de.scrollTop-Pe.y,width:ie.width,height:ie.height}}function ts(y){var u=new Map,l=new Set,p=[];function T(j){l.add(j.name),[].concat(j.requires||[],j.requiresIfExists||[]).forEach(function(de){if(!l.has(de)){var Pe=u.get(de);Pe&&T(Pe)}}),p.push(j)}return y.forEach(function(j){u.set(j.name,j)}),y.forEach(function(j){l.has(j.name)||T(j)}),p}function $i(y){var u;return function(){return u||(u=new Promise(function(l){Promise.resolve().then(function(){u=void 0,l(y())})})),u}}var ti={placement:"bottom",modifiers:[],strategy:"absolute"};function ns(){for(var y=arguments.length,u=new Array(y),l=0;l<y;l++)u[l]=arguments[l];return!u.some(function(p){return!(p&&"function"==typeof p.getBoundingClientRect)})}function ds(y){void 0===y&&(y={});var l=y.defaultModifiers,p=void 0===l?[]:l,T=y.defaultOptions,j=void 0===T?ti:T;return function(de,Pe,Qe){void 0===Qe&&(Qe=j);var wt={placement:"bottom",orderedModifiers:[],options:Object.assign({},ti,j),modifiersData:{},elements:{reference:de,popper:Pe},attributes:{},styles:{}},nn=[],$n=!1,Tn={state:wt,setOptions:function($r){var Jr="function"==typeof $r?$r(wt.options):$r;Dn(),wt.options=Object.assign({},j,wt.options,Jr),wt.scrollParents={reference:Rt(de)?Er(de):de.contextElement?Er(de.contextElement):[],popper:Er(Pe)};var wi=function us(y){var u=ts(y);return vt.reduce(function(l,p){return l.concat(u.filter(function(T){return T.phase===p}))},[])}(function qs(y){var u=y.reduce(function(l,p){var T=l[p.name];return l[p.name]=T?Object.assign({},T,p,{options:Object.assign({},T.options,p.options),data:Object.assign({},T.data,p.data)}):p,l},{});return Object.keys(u).map(function(l){return u[l]})}([].concat(p,wt.options.modifiers)));return wt.orderedModifiers=wi.filter(function(yr){return yr.enabled}),function On(){wt.orderedModifiers.forEach(function(hr){var Jr=hr.options,yr=hr.effect;if("function"==typeof yr){var xi=yr({state:wt,name:hr.name,instance:Tn,options:void 0===Jr?{}:Jr});nn.push(xi||function(){})}})}(),Tn.update()},forceUpdate:function(){if(!$n){var $r=wt.elements,Jr=$r.reference,wi=$r.popper;if(ns(Jr,wi)){wt.rects={reference:gr(Jr,Vt(wi),"fixed"===wt.options.strategy),popper:We(wi)},wt.reset=!1,wt.placement=wt.options.placement,wt.orderedModifiers.forEach(function(Hi){return wt.modifiersData[Hi.name]=Object.assign({},Hi.data)});for(var yr=0;yr<wt.orderedModifiers.length;yr++)if(!0!==wt.reset){var xi=wt.orderedModifiers[yr],pi=xi.fn,vi=xi.options;"function"==typeof pi&&(wt=pi({state:wt,options:void 0===vi?{}:vi,name:xi.name,instance:Tn})||wt)}else wt.reset=!1,yr=-1}}},update:$i(function(){return new Promise(function(hr){Tn.forceUpdate(),hr(wt)})}),destroy:function(){Dn(),$n=!0}};if(!ns(de,Pe))return Tn;function Dn(){nn.forEach(function(hr){return hr()}),nn=[]}return Tn.setOptions(Qe).then(function(hr){!$n&&Qe.onFirstUpdate&&Qe.onFirstUpdate(hr)}),Tn}}var sr=ds(),Is=ds({defaultModifiers:[Vi,Ks,Qn,ii,ui,bs,Ps,dn,ci]}),Z=ds({defaultModifiers:[Vi,Ks,Qn,ii]});const Re=new Map,je={set(y,u,l){Re.has(y)||Re.set(y,new Map);const p=Re.get(y);p.has(u)||0===p.size?p.set(u,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(p.keys())[0]}.`)},get:(y,u)=>Re.has(y)&&Re.get(y).get(u)||null,remove(y,u){if(!Re.has(y))return;const l=Re.get(y);l.delete(u),0===l.size&&Re.delete(y)}},an="transitionend",Pn=y=>(y&&window.CSS&&window.CSS.escape&&(y=y.replace(/#([^\s"#']+)/g,(u,l)=>`#${CSS.escape(l)}`)),y),Hn=y=>{y.dispatchEvent(new Event(an))},xn=y=>!(!y||"object"!=typeof y)&&(typeof y.jquery<"u"&&(y=y[0]),typeof y.nodeType<"u"),Jn=y=>xn(y)?y.jquery?y[0]:y:"string"==typeof y&&y.length>0?document.querySelector(Pn(y)):null,Qr=y=>{if(!xn(y)||0===y.getClientRects().length)return!1;const u="visible"===getComputedStyle(y).getPropertyValue("visibility"),l=y.closest("details:not([open])");if(!l)return u;if(l!==y){const p=y.closest("summary");if(p&&p.parentNode!==l||null===p)return!1}return u},kr=y=>!(y&&y.nodeType===Node.ELEMENT_NODE&&!y.classList.contains("disabled"))||(typeof y.disabled<"u"?y.disabled:y.hasAttribute("disabled")&&"false"!==y.getAttribute("disabled")),Ri=y=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof y.getRootNode){const u=y.getRootNode();return u instanceof ShadowRoot?u:null}return y instanceof ShadowRoot?y:y.parentNode?Ri(y.parentNode):null},Gi=()=>{},Mr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ni=[],br=()=>"rtl"===document.documentElement.dir,rs=y=>{(y=>{"loading"===document.readyState?(Ni.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of Ni)u()}),Ni.push(y)):y()})(()=>{const u=Mr();if(u){const l=y.NAME,p=u.fn[l];u.fn[l]=y.jQueryInterface,u.fn[l].Constructor=y,u.fn[l].noConflict=()=>(u.fn[l]=p,y.jQueryInterface)}})},di=(y,u=[],l=y)=>"function"==typeof y?y(...u):l,Ys=(y,u,l=!0)=>{if(!l)return void di(y);const T=(y=>{if(!y)return 0;let{transitionDuration:u,transitionDelay:l}=window.getComputedStyle(y);const p=Number.parseFloat(u),T=Number.parseFloat(l);return p||T?(u=u.split(",")[0],l=l.split(",")[0],1e3*(Number.parseFloat(u)+Number.parseFloat(l))):0})(u)+5;let j=!1;const ie=({target:de})=>{de===u&&(j=!0,u.removeEventListener(an,ie),di(y))};u.addEventListener(an,ie),setTimeout(()=>{j||Hn(u)},T)},Xs=(y,u,l,p)=>{const T=y.length;let j=y.indexOf(u);return-1===j?!l&&p?y[T-1]:y[0]:(j+=l?1:-1,p&&(j=(j+T)%T),y[Math.max(0,Math.min(j,T-1))])},Xo=/[^.]*(?=\..*)\.|.*/,ja=/\..*/,Qo=/::\d+$/,gl={};let Ms=1;const Cs={mouseenter:"mouseover",mouseleave:"mouseout"},So=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ta(y,u){return u&&`${u}::${Ms++}`||y.uidEvent||Ms++}function la(y){const u=Ta(y);return y.uidEvent=u,gl[u]=gl[u]||{},gl[u]}function Ro(y,u,l=null){return Object.values(y).find(p=>p.callable===u&&p.delegationSelector===l)}function K(y,u,l){const p="string"==typeof u,T=p?l:u||l;let j=ze(y);return So.has(j)||(j=y),[p,T,j]}function te(y,u,l,p,T){if("string"!=typeof u||!y)return;let[j,ie,de]=K(u,l,p);var On;u in Cs&&(On=ie,ie=function(Dn){if(!Dn.relatedTarget||Dn.relatedTarget!==Dn.delegateTarget&&!Dn.delegateTarget.contains(Dn.relatedTarget))return On.call(this,Dn)});const Pe=la(y),Qe=Pe[de]||(Pe[de]={}),wt=Ro(Qe,ie,j?l:null);if(wt)return void(wt.oneOff=wt.oneOff&&T);const nn=Ta(ie,u.replace(Xo,"")),$n=j?function ca(y,u,l){return function p(T){const j=y.querySelectorAll(u);for(let{target:ie}=T;ie&&ie!==this;ie=ie.parentNode)for(const de of j)if(de===ie)return cr(T,{delegateTarget:ie}),p.oneOff&&mt.off(y,T.type,u,l),l.apply(ie,[T])}}(y,l,ie):function Pi(y,u){return function l(p){return cr(p,{delegateTarget:y}),l.oneOff&&mt.off(y,p.type,u),u.apply(y,[p])}}(y,ie);$n.delegationSelector=j?l:null,$n.callable=ie,$n.oneOff=T,$n.uidEvent=nn,Qe[nn]=$n,y.addEventListener(de,$n,j)}function V(y,u,l,p,T){const j=Ro(u[l],p,T);j&&(y.removeEventListener(l,j,!!T),delete u[l][j.uidEvent])}function fe(y,u,l,p){const T=u[l]||{};for(const[j,ie]of Object.entries(T))j.includes(p)&&V(y,u,l,ie.callable,ie.delegationSelector)}function ze(y){return y=y.replace(ja,""),Cs[y]||y}const mt={on(y,u,l,p){te(y,u,l,p,!1)},one(y,u,l,p){te(y,u,l,p,!0)},off(y,u,l,p){if("string"!=typeof u||!y)return;const[T,j,ie]=K(u,l,p),de=ie!==u,Pe=la(y),Qe=Pe[ie]||{},wt=u.startsWith(".");if(typeof j<"u"){if(!Object.keys(Qe).length)return;V(y,Pe,ie,j,T?l:null)}else{if(wt)for(const nn of Object.keys(Pe))fe(y,Pe,nn,u.slice(1));for(const[nn,$n]of Object.entries(Qe)){const Tn=nn.replace(Qo,"");(!de||u.includes(Tn))&&V(y,Pe,ie,$n.callable,$n.delegationSelector)}}},trigger(y,u,l){if("string"!=typeof u||!y)return null;const p=Mr();let ie=null,de=!0,Pe=!0,Qe=!1;u!==ze(u)&&p&&(ie=p.Event(u,l),p(y).trigger(ie),de=!ie.isPropagationStopped(),Pe=!ie.isImmediatePropagationStopped(),Qe=ie.isDefaultPrevented());const wt=cr(new Event(u,{bubbles:de,cancelable:!0}),l);return Qe&&wt.preventDefault(),Pe&&y.dispatchEvent(wt),wt.defaultPrevented&&ie&&ie.preventDefault(),wt}};function cr(y,u={}){for(const[l,p]of Object.entries(u))try{y[l]=p}catch{Object.defineProperty(y,l,{configurable:!0,get:()=>p})}return y}function hs(y){if("true"===y)return!0;if("false"===y)return!1;if(y===Number(y).toString())return Number(y);if(""===y||"null"===y)return null;if("string"!=typeof y)return y;try{return JSON.parse(decodeURIComponent(y))}catch{return y}}function xs(y){return y.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const ki={setDataAttribute(y,u,l){y.setAttribute(`data-bs-${xs(u)}`,l)},removeDataAttribute(y,u){y.removeAttribute(`data-bs-${xs(u)}`)},getDataAttributes(y){if(!y)return{};const u={},l=Object.keys(y.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(const p of l){let T=p.replace(/^bs/,"");T=T.charAt(0).toLowerCase()+T.slice(1,T.length),u[T]=hs(y.dataset[p])}return u},getDataAttribute:(y,u)=>hs(y.getAttribute(`data-bs-${xs(u)}`))};class Us{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,l){const p=xn(l)?ki.getDataAttribute(l,"config"):{};return{...this.constructor.Default,..."object"==typeof p?p:{},...xn(l)?ki.getDataAttributes(l):{},..."object"==typeof u?u:{}}}_typeCheckConfig(u,l=this.constructor.DefaultType){for(const[p,T]of Object.entries(l)){const j=u[p],ie=xn(j)?"element":null==(y=j)?`${y}`:Object.prototype.toString.call(y).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(T).test(ie))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${p}" provided type "${ie}" but expected type "${T}".`)}var y}}class Ti extends Us{constructor(u,l){super(),(u=Jn(u))&&(this._element=u,this._config=this._getConfig(l),je.set(this._element,this.constructor.DATA_KEY,this))}dispose(){je.remove(this._element,this.constructor.DATA_KEY),mt.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,l,p=!0){Ys(u,l,p)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return je.get(Jn(u),this.DATA_KEY)}static getOrCreateInstance(u,l={}){return this.getInstance(u)||new this(u,"object"==typeof l?l:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const yo=y=>{let u=y.getAttribute("data-bs-target");if(!u||"#"===u){let l=y.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),u=l&&"#"!==l?l.trim():null}return u?u.split(",").map(l=>Pn(l)).join(","):null},ir={find:(y,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,y)),findOne:(y,u=document.documentElement)=>Element.prototype.querySelector.call(u,y),children:(y,u)=>[].concat(...y.children).filter(l=>l.matches(u)),parents(y,u){const l=[];let p=y.parentNode.closest(u);for(;p;)l.push(p),p=p.parentNode.closest(u);return l},prev(y,u){let l=y.previousElementSibling;for(;l;){if(l.matches(u))return[l];l=l.previousElementSibling}return[]},next(y,u){let l=y.nextElementSibling;for(;l;){if(l.matches(u))return[l];l=l.nextElementSibling}return[]},focusableChildren(y){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(u,y).filter(l=>!kr(l)&&Qr(l))},getSelectorFromElement(y){const u=yo(y);return u&&ir.findOne(u)?u:null},getElementFromSelector(y){const u=yo(y);return u?ir.findOne(u):null},getMultipleElementsFromSelector(y){const u=yo(y);return u?ir.find(u):[]}},is=(y,u="hide")=>{const p=y.NAME;mt.on(document,`click.dismiss${y.EVENT_KEY}`,`[data-bs-dismiss="${p}"]`,function(T){if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),kr(this))return;const j=ir.getElementFromSelector(this)||this.closest(`.${p}`);y.getOrCreateInstance(j)[u]()})},_l=".bs.alert",fs=`close${_l}`,Ba=`closed${_l}`;class os extends Ti{static get NAME(){return"alert"}close(){if(mt.trigger(this._element,fs).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),mt.trigger(this._element,Ba),this.dispose()}static jQueryInterface(u){return this.each(function(){const l=os.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}is(os,"close"),rs(os);const yl='[data-bs-toggle="button"]';class co extends Ti{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const l=co.getOrCreateInstance(this);"toggle"===u&&l[u]()})}}mt.on(document,"click.bs.button.data-api",yl,y=>{y.preventDefault();const u=y.target.closest(yl);co.getOrCreateInstance(u).toggle()}),rs(co);const Ca=".bs.swipe",vl=`touchstart${Ca}`,Dh=`touchmove${Ca}`,Ha=`touchend${Ca}`,uu=`pointerdown${Ca}`,El=`pointerup${Ca}`,Wa={endCallback:null,leftCallback:null,rightCallback:null},Ka={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class qa extends Us{constructor(u,l){super(),this._element=u,u&&qa.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Wa}static get DefaultType(){return Ka}static get NAME(){return"swipe"}dispose(){mt.off(this._element,Ca)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),di(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const l=u/this._deltaX;this._deltaX=0,l&&di(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(mt.on(this._element,uu,u=>this._start(u)),mt.on(this._element,El,u=>this._end(u)),this._element.classList.add("pointer-event")):(mt.on(this._element,vl,u=>this._start(u)),mt.on(this._element,Dh,u=>this._move(u)),mt.on(this._element,Ha,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&("pen"===u.pointerType||"touch"===u.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const B=".bs.carousel",X=".data-api",Bn="next",Fr="prev",Kr="left",qr="right",Ir=`slide${B}`,ni=`slid${B}`,Mi=`keydown${B}`,Fi=`mouseenter${B}`,uo=`mouseleave${B}`,Os=`dragstart${B}`,Jo=`load${B}${X}`,js=`click${B}${X}`,Po="carousel",Ji="active",Qs=".active",Pc=".carousel-item",dd=Qs+Pc,Zo={ArrowLeft:qr,ArrowRight:Kr},ws={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Aa={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ha extends Ti{constructor(u,l){super(u,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ir.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Po&&this.cycle()}static get Default(){return ws}static get DefaultType(){return Aa}static get NAME(){return"carousel"}next(){this._slide(Bn)}nextWhenVisible(){!document.hidden&&Qr(this._element)&&this.next()}prev(){this._slide(Fr)}pause(){this._isSliding&&Hn(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void mt.one(this._element,ni,()=>this.cycle());this.cycle()}}to(u){const l=this._getItems();if(u>l.length-1||u<0)return;if(this._isSliding)return void mt.one(this._element,ni,()=>this.to(u));const p=this._getItemIndex(this._getActive());p!==u&&this._slide(u>p?Bn:Fr,l[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&mt.on(this._element,Mi,u=>this._keydown(u)),"hover"===this._config.pause&&(mt.on(this._element,Fi,()=>this.pause()),mt.on(this._element,uo,()=>this._maybeEnableCycle())),this._config.touch&&qa.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of ir.find(".carousel-item img",this._element))mt.on(p,Os,T=>T.preventDefault());this._swipeHelper=new qa(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Kr)),rightCallback:()=>this._slide(this._directionToOrder(qr)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const l=Zo[u.key];l&&(u.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const l=ir.findOne(Qs,this._indicatorsElement);l.classList.remove(Ji),l.removeAttribute("aria-current");const p=ir.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);p&&(p.classList.add(Ji),p.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const l=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(u,l=null){if(this._isSliding)return;const p=this._getActive(),T=u===Bn,j=l||Xs(this._getItems(),p,T,this._config.wrap);if(j===p)return;const ie=this._getItemIndex(j),de=Tn=>mt.trigger(this._element,Tn,{relatedTarget:j,direction:this._orderToDirection(u),from:this._getItemIndex(p),to:ie});if(de(Ir).defaultPrevented||!p||!j)return;const Qe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ie),this._activeElement=j;const wt=T?"carousel-item-start":"carousel-item-end",nn=T?"carousel-item-next":"carousel-item-prev";j.classList.add(nn),p.classList.add(wt),j.classList.add(wt),this._queueCallback(()=>{j.classList.remove(wt,nn),j.classList.add(Ji),p.classList.remove(Ji,nn,wt),this._isSliding=!1,de(ni)},p,this._isAnimated()),Qe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ir.findOne(dd,this._element)}_getItems(){return ir.find(Pc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return br()?u===Kr?Fr:Bn:u===Kr?Bn:Fr}_orderToDirection(u){return br()?u===Fr?Kr:qr:u===Fr?qr:Kr}static jQueryInterface(u){return this.each(function(){const l=ha.getOrCreateInstance(this,u);if("number"!=typeof u){if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}}else l.to(u)})}}mt.on(document,js,"[data-bs-slide], [data-bs-slide-to]",function(y){const u=ir.getElementFromSelector(this);if(!u||!u.classList.contains(Po))return;y.preventDefault();const l=ha.getOrCreateInstance(u),p=this.getAttribute("data-bs-slide-to");return p?(l.to(p),void l._maybeEnableCycle()):"next"===ki.getDataAttribute(this,"slide")?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),mt.on(window,Jo,()=>{const y=ir.find('[data-bs-ride="carousel"]');for(const u of y)ha.getOrCreateInstance(u)}),rs(ha);const Tl=".bs.collapse",pr=`show${Tl}`,Mc=`shown${Tl}`,fu=`hide${Tl}`,fa=`hidden${Tl}`,xc=`click${Tl}.data-api`,pu="show",Da="collapse",Eo="collapsing",mu=`:scope .${Da} .${Da}`,Pr='[data-bs-toggle="collapse"]',$o={parent:null,toggle:!0},ps={parent:"(null|element)",toggle:"boolean"};class ms extends Ti{constructor(u,l){super(u,l),this._isTransitioning=!1,this._triggerArray=[];const p=ir.find(Pr);for(const T of p){const j=ir.getSelectorFromElement(T),ie=ir.find(j).filter(de=>de===this._element);null!==j&&ie.length&&this._triggerArray.push(T)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return $o}static get DefaultType(){return ps}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(de=>de!==this._element).map(de=>ms.getOrCreateInstance(de,{toggle:!1}))),u.length&&u[0]._isTransitioning||mt.trigger(this._element,pr).defaultPrevented)return;for(const de of u)de.hide();const p=this._getDimension();this._element.classList.remove(Da),this._element.classList.add(Eo),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ie=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Eo),this._element.classList.add(Da,pu),this._element.style[p]="",mt.trigger(this._element,Mc)},this._element,!0),this._element.style[p]=`${this._element[ie]}px`}hide(){if(this._isTransitioning||!this._isShown()||mt.trigger(this._element,fu).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,this._element.classList.add(Eo),this._element.classList.remove(Da,pu);for(const T of this._triggerArray){const j=ir.getElementFromSelector(T);j&&!this._isShown(j)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Eo),this._element.classList.add(Da),mt.trigger(this._element,fa)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(pu)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=Jn(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(Pr);for(const l of u){const p=ir.getElementFromSelector(l);p&&this._addAriaAndCollapsedClass([l],this._isShown(p))}}_getFirstLevelChildren(u){const l=ir.find(mu,this._config.parent);return ir.find(u,this._config.parent).filter(p=>!l.includes(p))}_addAriaAndCollapsedClass(u,l){if(u.length)for(const p of u)p.classList.toggle("collapsed",!l),p.setAttribute("aria-expanded",l)}static jQueryInterface(u){const l={};return"string"==typeof u&&/show|hide/.test(u)&&(l.toggle=!1),this.each(function(){const p=ms.getOrCreateInstance(this,l);if("string"==typeof u){if(typeof p[u]>"u")throw new TypeError(`No method named "${u}"`);p[u]()}})}}mt.on(document,xc,Pr,function(y){("A"===y.target.tagName||y.delegateTarget&&"A"===y.delegateTarget.tagName)&&y.preventDefault();for(const u of ir.getMultipleElementsFromSelector(this))ms.getOrCreateInstance(u,{toggle:!1}).toggle()}),rs(ms);const Il="dropdown",Ns=".bs.dropdown",Ya=".data-api",Oc="ArrowUp",Sa="ArrowDown",ho=`hide${Ns}`,Ra=`hidden${Ns}`,Xa=`show${Ns}`,bo=`shown${Ns}`,vu=`click${Ns}${Ya}`,ec=`keydown${Ns}${Ya}`,ep=`keyup${Ns}${Ya}`,Qa="show",w='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',F=`${w}.${Qa}`,H=".dropdown-menu",Ct=br()?"top-end":"top-start",Cn=br()?"top-start":"top-end",_r=br()?"bottom-end":"bottom-start",Sr=br()?"bottom-start":"bottom-end",Br=br()?"left-start":"right-start",gi=br()?"right-start":"left-start",tc={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Al={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class xo extends Ti{constructor(u,l){super(u,l),this._popper=null,this._parent=this._element.parentNode,this._menu=ir.next(this._element,H)[0]||ir.prev(this._element,H)[0]||ir.findOne(H,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return tc}static get DefaultType(){return Al}static get NAME(){return Il}toggle(){return this._isShown()?this.hide():this.show()}show(){if(kr(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!mt.trigger(this._element,Xa,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))mt.on(p,"mouseover",Gi);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Qa),this._element.classList.add(Qa),mt.trigger(this._element,bo,u)}}hide(){!kr(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!mt.trigger(this._element,ho,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))mt.off(p,"mouseover",Gi);this._popper&&this._popper.destroy(),this._menu.classList.remove(Qa),this._element.classList.remove(Qa),this._element.setAttribute("aria-expanded","false"),ki.removeDataAttribute(this._menu,"popper"),mt.trigger(this._element,Ra,u)}}_getConfig(u){if("object"==typeof(u=super._getConfig(u)).reference&&!xn(u.reference)&&"function"!=typeof u.reference.getBoundingClientRect)throw new TypeError(`${Il.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(typeof i>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let u=this._element;"parent"===this._config.reference?u=this._parent:xn(this._config.reference)?u=Jn(this._config.reference):"object"==typeof this._config.reference&&(u=this._config.reference);const l=this._getPopperConfig();this._popper=Is(u,this._menu,l)}_isShown(){return this._menu.classList.contains(Qa)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return Br;if(u.classList.contains("dropstart"))return gi;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const l="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return u.classList.contains("dropup")?l?Cn:Ct:l?Sr:_r}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ki.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...di(this._config.popperConfig,[u])}}_selectMenuItem({key:u,target:l}){const p=ir.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(T=>Qr(T));p.length&&Xs(p,l,u===Sa,!p.includes(l)).focus()}static jQueryInterface(u){return this.each(function(){const l=xo.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}static clearMenus(u){if(2===u.button||"keyup"===u.type&&"Tab"!==u.key)return;const l=ir.find(F);for(const p of l){const T=xo.getInstance(p);if(!T||!1===T._config.autoClose)continue;const j=u.composedPath(),ie=j.includes(T._menu);if(j.includes(T._element)||"inside"===T._config.autoClose&&!ie||"outside"===T._config.autoClose&&ie||T._menu.contains(u.target)&&("keyup"===u.type&&"Tab"===u.key||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const de={relatedTarget:T._element};"click"===u.type&&(de.clickEvent=u),T._completeHide(de)}}static dataApiKeydownHandler(u){const l=/input|textarea/i.test(u.target.tagName),p="Escape"===u.key,T=[Oc,Sa].includes(u.key);if(!T&&!p||l&&!p)return;u.preventDefault();const j=this.matches(w)?this:ir.prev(this,w)[0]||ir.next(this,w)[0]||ir.findOne(w,u.delegateTarget.parentNode),ie=xo.getOrCreateInstance(j);if(T)return u.stopPropagation(),ie.show(),void ie._selectMenuItem(u);ie._isShown()&&(u.stopPropagation(),ie.hide(),j.focus())}}mt.on(document,ec,w,xo.dataApiKeydownHandler),mt.on(document,ec,H,xo.dataApiKeydownHandler),mt.on(document,vu,xo.clearMenus),mt.on(document,ep,xo.clearMenus),mt.on(document,vu,w,function(y){y.preventDefault(),xo.getOrCreateInstance(this).toggle()}),rs(xo);const pd="backdrop",md=`mousedown.bs.${pd}`,Pa={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Nc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class kc extends Us{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return Pa}static get DefaultType(){return Nc}static get NAME(){return pd}show(u){if(!this._config.isVisible)return void di(u);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{di(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),di(u)})):di(u)}dispose(){this._isAppended&&(mt.off(this._element,md),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=Jn(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),mt.on(u,md,()=>{di(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){Ys(u,this._getElement(),this._config.isAnimated)}}const nc=".bs.focustrap",Tu=`focusin${nc}`,Oo=`keydown.tab${nc}`,_d="backward",yd={autofocus:!0,trapElement:null},qg={autofocus:"boolean",trapElement:"element"};class vd extends Us{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return yd}static get DefaultType(){return qg}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),mt.off(document,nc),mt.on(document,Tu,u=>this._handleFocusin(u)),mt.on(document,Oo,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,mt.off(document,nc))}_handleFocusin(u){const{trapElement:l}=this._config;if(u.target===document||u.target===l||l.contains(u.target))return;const p=ir.focusableChildren(l);0===p.length?l.focus():this._lastTabNavDirection===_d?p[p.length-1].focus():p[0].focus()}_handleKeydown(u){"Tab"===u.key&&(this._lastTabNavDirection=u.shiftKey?_d:"forward")}}const Fc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Mh=".sticky-top",Iu="padding-right",Lc="margin-right";class Ma{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Iu,l=>l+u),this._setElementAttributes(Fc,Iu,l=>l+u),this._setElementAttributes(Mh,Lc,l=>l-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Iu),this._resetElementAttributes(Fc,Iu),this._resetElementAttributes(Mh,Lc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,l,p){const T=this.getWidth();this._applyManipulationCallback(u,ie=>{if(ie!==this._element&&window.innerWidth>ie.clientWidth+T)return;this._saveInitialAttribute(ie,l);const de=window.getComputedStyle(ie).getPropertyValue(l);ie.style.setProperty(l,`${p(Number.parseFloat(de))}px`)})}_saveInitialAttribute(u,l){const p=u.style.getPropertyValue(l);p&&ki.setDataAttribute(u,l,p)}_resetElementAttributes(u,l){this._applyManipulationCallback(u,T=>{const j=ki.getDataAttribute(T,l);null!==j?(ki.removeDataAttribute(T,l),T.style.setProperty(l,j)):T.style.removeProperty(l)})}_applyManipulationCallback(u,l){if(xn(u))l(u);else for(const p of ir.find(u,this._element))l(p)}}const fo=".bs.modal",xh=`hide${fo}`,ma=`hidePrevented${fo}`,Uc=`hidden${fo}`,po=`show${fo}`,bd=`shown${fo}`,rc=`resize${fo}`,ks=`click.dismiss${fo}`,Oh=`mousedown.dismiss${fo}`,Sl=`keydown.dismiss${fo}`,ic=`click${fo}.data-api`,Td="modal-open",sc="modal-static",xl={backdrop:!0,focus:!0,keyboard:!0},Cu={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ol extends Ti{constructor(u,l){super(u,l),this._dialog=ir.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ma,this._addEventListeners()}static get Default(){return xl}static get DefaultType(){return Cu}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||mt.trigger(this._element,po,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Td),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){!this._isShown||this._isTransitioning||mt.trigger(this._element,xh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){mt.off(window,fo),mt.off(this._dialog,fo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new kc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new vd({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=ir.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,mt.trigger(this._element,bd,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){mt.on(this._element,Sl,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),mt.on(window,rc,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),mt.on(this._element,Oh,u=>{mt.one(this._element,ks,l=>{if(this._element===u.target&&this._element===l.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Td),this._resetAdjustments(),this._scrollBar.reset(),mt.trigger(this._element,Uc)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(mt.trigger(this._element,ma).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;"hidden"===p||this._element.classList.contains(sc)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(sc),this._queueCallback(()=>{this._element.classList.remove(sc),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),p=l>0;if(p&&!u){const T=br()?"paddingLeft":"paddingRight";this._element.style[T]=`${l}px`}if(!p&&u){const T=br()?"paddingRight":"paddingLeft";this._element.style[T]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,l){return this.each(function(){const p=Ol.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof p[u]>"u")throw new TypeError(`No method named "${u}"`);p[u](l)}})}}mt.on(document,ic,'[data-bs-toggle="modal"]',function(y){const u=ir.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&y.preventDefault(),mt.one(u,po,T=>{T.defaultPrevented||mt.one(u,Uc,()=>{Qr(this)&&this.focus()})});const l=ir.findOne(".modal.show");l&&Ol.getInstance(l).hide(),Ol.getOrCreateInstance(u).toggle(this)}),is(Ol),rs(Ol);const qi=".bs.offcanvas",Nh=".data-api",oc=`load${qi}${Nh}`,wu="showing",No=".offcanvas.show",ta=`show${qi}`,Fh=`shown${qi}`,Cd=`hide${qi}`,lc=`hidePrevented${qi}`,wd=`hidden${qi}`,Im=`resize${qi}`,Yg=`click${qi}${Nh}`,Cm=`keydown.dismiss${qi}`,Fs={backdrop:!0,keyboard:!0,scroll:!1},Xg={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class cc extends Ti{constructor(u,l){super(u,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Fs}static get DefaultType(){return Xg}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||mt.trigger(this._element,ta,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Ma).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(wu),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(wu),mt.trigger(this._element,Fh,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&!mt.trigger(this._element,Cd).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Ma).reset(),mt.trigger(this._element,wd)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new kc({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{"static"!==this._config.backdrop?this.hide():mt.trigger(this._element,lc)}:null})}_initializeFocusTrap(){return new vd({trapElement:this._element})}_addEventListeners(){mt.on(this._element,Cm,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();mt.trigger(this._element,lc)}})}static jQueryInterface(u){return this.each(function(){const l=cc.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}mt.on(document,Yg,'[data-bs-toggle="offcanvas"]',function(y){const u=ir.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&y.preventDefault(),kr(this))return;mt.one(u,wd,()=>{Qr(this)&&this.focus()});const l=ir.findOne(No);l&&l!==u&&cc.getInstance(l).hide(),cc.getOrCreateInstance(u).toggle(this)}),mt.on(window,oc,()=>{for(const y of ir.find(No))cc.getOrCreateInstance(y).show()}),mt.on(window,Im,()=>{for(const y of ir.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(y).position&&cc.getOrCreateInstance(y).hide()}),is(cc),rs(cc);const ip={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Lh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Bs=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ad=(y,u)=>{const l=y.nodeName.toLowerCase();return u.includes(l)?!Lh.has(l)||!!Bs.test(y.nodeValue):u.filter(p=>p instanceof RegExp).some(p=>p.test(l))},Ho={allowList:ip,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Fl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Dd={entry:"(string|element|function|null)",selector:"(string|element)"};class Ll extends Us{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return Ho}static get DefaultType(){return Fl}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[T,j]of Object.entries(this._config.content))this._setContent(u,j,T);const l=u.children[0],p=this._resolvePossibleFunction(this._config.extraClass);return p&&l.classList.add(...p.split(" ")),l}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[l,p]of Object.entries(u))super._typeCheckConfig({selector:l,entry:p},Dd)}_setContent(u,l,p){const T=ir.findOne(p,u);if(T){if(!(l=this._resolvePossibleFunction(l)))return void T.remove();if(xn(l))return void this._putElementInTemplate(Jn(l),T);if(this._config.html)return void(T.innerHTML=this._maybeSanitize(l));T.textContent=l}}_maybeSanitize(u){return this._config.sanitize?function kl(y,u,l){if(!y.length)return y;if(l&&"function"==typeof l)return l(y);const T=(new window.DOMParser).parseFromString(y,"text/html"),j=[].concat(...T.body.querySelectorAll("*"));for(const ie of j){const de=ie.nodeName.toLowerCase();if(!Object.keys(u).includes(de)){ie.remove();continue}const Pe=[].concat(...ie.attributes),Qe=[].concat(u["*"]||[],u[de]||[]);for(const wt of Pe)Ad(wt,Qe)||ie.removeAttribute(wt.nodeName)}return T.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return di(u,[this])}_putElementInTemplate(u,l){if(this._config.html)return l.innerHTML="",void l.append(u);l.textContent=u.textContent}}const Sd=new Set(["sanitize","allowList","sanitizeFn"]),Rd="fade",Pd="show",xa="hide.bs.modal",Ul="hover",Md="focus",$h={AUTO:"auto",TOP:"top",RIGHT:br()?"left":"right",BOTTOM:"bottom",LEFT:br()?"right":"left"},op={allowList:ip,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Pu={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Oa extends Ti{constructor(u,l){if(typeof i>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(u,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return op}static get DefaultType(){return Pu}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),mt.off(this._element.closest(".modal"),xa,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=mt.trigger(this._element,this.constructor.eventName("show")),p=(Ri(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!p)return;this._disposePopper();const T=this._getTipElement();this._element.setAttribute("aria-describedby",T.getAttribute("id"));const{container:j}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(j.append(T),mt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(T),T.classList.add(Pd),"ontouchstart"in document.documentElement)for(const de of[].concat(...document.body.children))mt.on(de,"mouseover",Gi);this._queueCallback(()=>{mt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!mt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Pd),"ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))mt.off(T,"mouseover",Gi);this._activeTrigger.click=!1,this._activeTrigger[Md]=!1,this._activeTrigger[Ul]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),mt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const l=this._getTemplateFactory(u).toHtml();if(!l)return null;l.classList.remove(Rd,Pd),l.classList.add(`bs-${this.constructor.NAME}-auto`);const p=(y=>{do{y+=Math.floor(1e6*Math.random())}while(document.getElementById(y));return y})(this.constructor.NAME).toString();return l.setAttribute("id",p),this._isAnimated()&&l.classList.add(Rd),l}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new Ll({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Rd)}_isShown(){return this.tip&&this.tip.classList.contains(Pd)}_createPopper(u){const l=di(this._config.placement,[this,u,this._element]),p=$h[l.toUpperCase()];return Is(this._element,u,this._getPopperConfig(p))}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_resolvePossibleFunction(u){return di(u,[this._element])}_getPopperConfig(u){const l={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:p=>{this._getTipElement().setAttribute("data-popper-placement",p.state.placement)}}]};return{...l,...di(this._config.popperConfig,[l])}}_setListeners(){const u=this._config.trigger.split(" ");for(const l of u)if("click"===l)mt.on(this._element,this.constructor.eventName("click"),this._config.selector,p=>{this._initializeOnDelegatedTarget(p).toggle()});else if("manual"!==l){const p=this.constructor.eventName(l===Ul?"mouseenter":"focusin"),T=this.constructor.eventName(l===Ul?"mouseleave":"focusout");mt.on(this._element,p,this._config.selector,j=>{const ie=this._initializeOnDelegatedTarget(j);ie._activeTrigger["focusin"===j.type?Md:Ul]=!0,ie._enter()}),mt.on(this._element,T,this._config.selector,j=>{const ie=this._initializeOnDelegatedTarget(j);ie._activeTrigger["focusout"===j.type?Md:Ul]=ie._element.contains(j.relatedTarget),ie._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},mt.on(this._element.closest(".modal"),xa,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,l){clearTimeout(this._timeout),this._timeout=setTimeout(u,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const l=ki.getDataAttributes(this._element);for(const p of Object.keys(l))Sd.has(p)&&delete l[p];return u={...l,..."object"==typeof u&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=!1===u.container?document.body:Jn(u.container),"number"==typeof u.delay&&(u.delay={show:u.delay,hide:u.delay}),"number"==typeof u.title&&(u.title=u.title.toString()),"number"==typeof u.content&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[l,p]of Object.entries(this._config))this.constructor.Default[l]!==p&&(u[l]=p);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const l=Oa.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}rs(Oa);const rl={...Oa.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},$l={...Oa.DefaultType,content:"(null|string|element|function)"};class C extends Oa{static get Default(){return rl}static get DefaultType(){return $l}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const l=C.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}rs(C);const R=".bs.scrollspy",me=`activate${R}`,et=`click${R}`,Ot=`load${R}.data-api`,Mn="active",Yr="[href]",Wo=".nav-link",Fd=`${Wo}, .nav-item > ${Wo}, .list-group-item`,ap={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Vd={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ud extends Ti{constructor(u,l){super(u,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ap}static get DefaultType(){return Vd}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=Jn(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,"string"==typeof u.threshold&&(u.threshold=u.threshold.split(",").map(l=>Number.parseFloat(l))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(mt.off(this._config.target,et),mt.on(this._config.target,et,Yr,u=>{const l=this._observableSections.get(u.target.hash);if(l){u.preventDefault();const p=this._rootElement||window,T=l.offsetTop-this._element.offsetTop;if(p.scrollTo)return void p.scrollTo({top:T,behavior:"smooth"});p.scrollTop=T}}))}_getNewObserver(){return new IntersectionObserver(l=>this._observerCallback(l),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(u){const l=ie=>this._targetLinks.get(`#${ie.target.id}`),p=ie=>{this._previousScrollData.visibleEntryTop=ie.target.offsetTop,this._process(l(ie))},T=(this._rootElement||document.documentElement).scrollTop,j=T>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=T;for(const ie of u){if(!ie.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(ie));continue}const de=ie.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(j&&de){if(p(ie),!T)return}else!j&&!de&&p(ie)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=ir.find(Yr,this._config.target);for(const l of u){if(!l.hash||kr(l))continue;const p=ir.findOne(decodeURI(l.hash),this._element);Qr(p)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,p))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(Mn),this._activateParents(u),mt.trigger(this._element,me,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))ir.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(Mn);else for(const l of ir.parents(u,".nav, .list-group"))for(const p of ir.prev(l,Fd))p.classList.add(Mn)}_clearActiveClass(u){u.classList.remove(Mn);const l=ir.find(`${Yr}.${Mn}`,u);for(const p of l)p.classList.remove(Mn)}static jQueryInterface(u){return this.each(function(){const l=Ud.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}mt.on(window,Ot,()=>{for(const y of ir.find('[data-bs-spy="scroll"]'))Ud.getOrCreateInstance(y)}),rs(Ud);const _a=".bs.tab",jd=`hide${_a}`,Bd=`hidden${_a}`,uc=`show${_a}`,$d=`shown${_a}`,Sm=`click${_a}`,cp=`keydown${_a}`,up=`load${_a}`,ya="ArrowLeft",dp="ArrowRight",Qg="ArrowUp",Mu="ArrowDown",Gd="Home",xu="End",Ou="active",Rm="show",Nu=".dropdown-toggle",pp=`:not(${Nu})`,Jg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',To=`.nav-link${pp}, .list-group-item${pp}, [role="tab"]${pp}, ${Jg}`,gp=`.${Ou}[data-bs-toggle="tab"], .${Ou}[data-bs-toggle="pill"], .${Ou}[data-bs-toggle="list"]`;class ku extends Ti{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),mt.on(this._element,cp,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const l=this._getActiveElem(),p=l?mt.trigger(l,jd,{relatedTarget:u}):null;mt.trigger(u,uc,{relatedTarget:l}).defaultPrevented||p&&p.defaultPrevented||(this._deactivate(l,u),this._activate(u,l))}_activate(u,l){u&&(u.classList.add(Ou),this._activate(ir.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),mt.trigger(u,$d,{relatedTarget:l})):u.classList.add(Rm)},u,u.classList.contains("fade")))}_deactivate(u,l){u&&(u.classList.remove(Ou),u.blur(),this._deactivate(ir.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),mt.trigger(u,Bd,{relatedTarget:l})):u.classList.remove(Rm)},u,u.classList.contains("fade")))}_keydown(u){if(![ya,dp,Qg,Mu,Gd,xu].includes(u.key))return;u.stopPropagation(),u.preventDefault();const l=this._getChildren().filter(T=>!kr(T));let p;if([Gd,xu].includes(u.key))p=l[u.key===Gd?0:l.length-1];else{const T=[dp,Mu].includes(u.key);p=Xs(l,u.target,T,!0)}p&&(p.focus({preventScroll:!0}),ku.getOrCreateInstance(p).show())}_getChildren(){return ir.find(To,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,l){this._setAttributeIfNotExists(u,"role","tablist");for(const p of l)this._setInitialAttributesOnChild(p)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const l=this._elemIsActive(u),p=this._getOuterElement(u);u.setAttribute("aria-selected",l),p!==u&&this._setAttributeIfNotExists(p,"role","presentation"),l||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const l=ir.getElementFromSelector(u);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,l){const p=this._getOuterElement(u);if(!p.classList.contains("dropdown"))return;const T=(j,ie)=>{const de=ir.findOne(j,p);de&&de.classList.toggle(ie,l)};T(Nu,Ou),T(".dropdown-menu",Rm),p.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(u,l,p){u.hasAttribute(l)||u.setAttribute(l,p)}_elemIsActive(u){return u.classList.contains(Ou)}_getInnerElement(u){return u.matches(To)?u:ir.findOne(To,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const l=ku.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}mt.on(document,Sm,Jg,function(y){["A","AREA"].includes(this.tagName)&&y.preventDefault(),!kr(this)&&ku.getOrCreateInstance(this).show()}),mt.on(window,up,()=>{for(const y of ir.find(gp))ku.getOrCreateInstance(y)}),rs(ku);const na=".bs.toast",Zg=`mouseover${na}`,_p=`mouseout${na}`,Ey=`focusin${na}`,yp=`focusout${na}`,e_=`hide${na}`,vp=`hidden${na}`,Mm=`show${na}`,Ep=`shown${na}`,Gc="show",il="showing",Wd={animation:"boolean",autohide:"boolean",delay:"number"},Kd={animation:!0,autohide:!0,delay:5e3};class hc extends Ti{constructor(u,l){super(u,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Kd}static get DefaultType(){return Wd}static get NAME(){return"toast"}show(){mt.trigger(this._element,Mm).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Gc,il),this._queueCallback(()=>{this._element.classList.remove(il),mt.trigger(this._element,Ep),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!mt.trigger(this._element,e_).defaultPrevented&&(this._element.classList.add(il),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(il,Gc),mt.trigger(this._element,vp)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Gc),super.dispose()}isShown(){return this._element.classList.contains(Gc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,l){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const p=u.relatedTarget;this._element===p||this._element.contains(p)||this._maybeScheduleHide()}_setListeners(){mt.on(this._element,Zg,u=>this._onInteraction(u,!0)),mt.on(this._element,_p,u=>this._onInteraction(u,!1)),mt.on(this._element,Ey,u=>this._onInteraction(u,!0)),mt.on(this._element,yp,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const l=hc.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u](this)}})}}is(hc),rs(hc);var Wh=k(5312);let xm=(()=>{class y{constructor(l){this.http=l,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(l){return this.http.post(this.emailEndpoint,l)}static{this.\u0275fac=function(p){return new(p||y)(r.KVO(be.Qq))}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();var _i=k(4341);let bp=(()=>{class y{static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(p,T){1&p&&(r.j41(0,"section",0)(1,"div",1)(2,"div",2),r.nrm(3,"i",3),r.j41(4,"p"),r.EFF(5),r.k0s()(),r.j41(6,"div",2),r.nrm(7,"i",4),r.j41(8,"p"),r.EFF(9),r.k0s()(),r.j41(10,"div",2),r.nrm(11,"i",5),r.j41(12,"p"),r.EFF(13),r.k0s()()()()),2&p&&(r.R7$(5),r.JRh(T.phoneNumber),r.R7$(4),r.JRh(T.address),r.R7$(4),r.JRh(T.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return y})();var Hc=k(3711),Fu=k(3095);let Tp=(()=>{class y{transform(l){if(!l)return"";let p=l.toString().replace(/\D/g,"");return 10!==p.length?l.toString():`${p.slice(0,3)}.${p.slice(3,6)}.${p.slice(6)}`}static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275pipe=r.EJ8({name:"phoneFormat",type:y,pure:!0})}}return y})();function Om(y,u){if(1&y&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==l.location?null:l.location.email,"",r.B4B),r.R7$(1),r.JRh(null==l.location?null:l.location.email)}}function Ip(y,u){if(1&y&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==l.location?null:l.location.fax))}}function Nm(y,u){if(1&y&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Social Media"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(4),r.FS9("href",l.business.socialMedia,r.B4B),r.R7$(1),r.JRh(l.business.socialMedia)}}function km(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"div",13)(2,"div",14)(3,"h1"),r.EFF(4,"Contact Us"),r.k0s(),r.j41(5,"div",15)(6,"p"),r.EFF(7,"We're here to answer any questions you have"),r.k0s()()()(),r.j41(8,"div",16)(9,"section",17)(10,"div",18),r.EFF(11,"Get in Touch"),r.k0s(),r.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),r.EFF(17,"Address"),r.k0s(),r.j41(18,"p"),r.EFF(19),r.k0s()(),r.j41(20,"div",22)(21,"h3"),r.EFF(22,"Phone"),r.k0s(),r.j41(23,"p"),r.EFF(24),r.nI1(25,"phoneFormat"),r.k0s()(),r.DNE(26,Om,6,2,"div",23),r.DNE(27,Ip,6,3,"div",23),r.DNE(28,Nm,6,2,"div",23),r.j41(29,"div")(30,"h3"),r.EFF(31,"Visitation Hours"),r.k0s(),r.nrm(32,"div",24),r.k0s()()(),r.j41(33,"div",25)(34,"div",26),r.nrm(35,"img",27),r.k0s()()()(),r.j41(36,"section",28)(37,"div",18),r.EFF(38,"Send Us a Message"),r.k0s(),r.j41(39,"div",29)(40,"div",30)(41,"div",31)(42,"h2",32),r.EFF(43,"How can we help?"),r.k0s(),r.j41(44,"p",33),r.EFF(45," Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help. "),r.k0s()()(),r.j41(46,"div",34)(47,"form",35,36),r.bIt("ngSubmit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(49,"div",37)(50,"label",38),r.EFF(51,"Name"),r.j41(52,"span"),r.EFF(53,"*"),r.k0s()(),r.j41(54,"input",39),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.name=T)}),r.k0s()(),r.j41(55,"div",37)(56,"label",40),r.EFF(57,"Email"),r.j41(58,"span"),r.EFF(59,"*"),r.k0s()(),r.j41(60,"input",41),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.email=T)}),r.k0s()(),r.j41(61,"div",37)(62,"label",42),r.EFF(63,"Phone "),r.j41(64,"span"),r.EFF(65,"*"),r.k0s()(),r.j41(66,"input",43),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.phone=T)}),r.k0s()(),r.j41(67,"div",37)(68,"label",44),r.EFF(69,"Message"),r.j41(70,"span"),r.EFF(71,"*"),r.k0s()(),r.j41(72,"textarea",45),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.message=T)}),r.k0s()(),r.j41(73,"button",46),r.EFF(74," Send "),r.k0s()()()()(),r.nrm(75,"app-information",47),r.nI1(76,"phoneFormat"),r.nrm(77,"app-google-maps",48),r.k0s(),r.nrm(78,"app-faq"),r.bVm()}if(2&y){const l=r.sdS(48),p=r.XpG(2);r.R7$(19),r.LHq("",null==p.location?null:p.location.street,", ",null==p.location?null:p.location.city,", ",null==p.location?null:p.location.state," ",null==p.location?null:p.location.zipcode,""),r.R7$(5),r.JRh(r.bMT(25,20,null==p.location?null:p.location.phone)),r.R7$(2),r.Y8G("ngIf",p.business.email),r.R7$(1),r.Y8G("ngIf",null==p.location?null:p.location.fax),r.R7$(1),r.Y8G("ngIf",p.business.socialMedia),r.R7$(4),r.Y8G("innerHTML",p.sanitizedBusinessHours,r.npT),r.R7$(3),r.Y8G("src",p.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",r.B4B),r.R7$(19),r.Y8G("ngModel",p.formData.name),r.R7$(6),r.Y8G("ngModel",p.formData.email),r.R7$(6),r.Y8G("ngModel",p.formData.phone),r.R7$(6),r.Y8G("ngModel",p.formData.message),r.R7$(1),r.Y8G("disabled",!l.form.valid),r.R7$(2),r.Y8G("phoneNumber",r.bMT(76,22,null==p.location?null:p.location.phone)||"")("address",p.formattedAddress)("email",(null==p.location?null:p.location.email)||""),r.R7$(2),r.Y8G("address",p.formattedAddress||"")("layoutType",p.business.theme.themeType||"demo")}}function t_(y,u){if(1&y&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==l.location?null:l.location.email,"",r.B4B),r.R7$(1),r.JRh(null==l.location?null:l.location.email)}}function Fm(y,u){if(1&y&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==l.location?null:l.location.fax))}}function by(y,u){if(1&y&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function n_(y,u){if(1&y){const l=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",51)(4,"form",52),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(5,"div",37)(6,"label",53),r.EFF(7,"Name "),r.j41(8,"span"),r.EFF(9,"(required)"),r.k0s()(),r.j41(10,"div",54)(11,"input",55),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.name=T)}),r.k0s()()(),r.j41(12,"div",37)(13,"label",40),r.EFF(14,"Email "),r.j41(15,"span"),r.EFF(16,"(required)"),r.k0s()(),r.j41(17,"input",56),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.email=T)}),r.k0s()(),r.j41(18,"div",37)(19,"label",42),r.EFF(20,"Phone "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"input",57),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.phone=T)}),r.k0s()(),r.j41(24,"div",37)(25,"label",44),r.EFF(26,"Message "),r.j41(27,"span"),r.EFF(28,"(required)"),r.k0s()(),r.j41(29,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.message=T)}),r.k0s()(),r.j41(30,"button",59),r.EFF(31,"Send"),r.k0s()()(),r.j41(32,"div",60)(33,"h2"),r.EFF(34,"Let's Talk"),r.k0s(),r.DNE(35,t_,6,2,"div",61),r.j41(36,"div",62)(37,"h4"),r.EFF(38,"Phone"),r.k0s(),r.j41(39,"p"),r.EFF(40),r.nI1(41,"phoneFormat"),r.k0s()(),r.DNE(42,Fm,6,3,"div",61),r.j41(43,"div",62)(44,"h4"),r.EFF(45,"Address"),r.k0s(),r.j41(46,"p"),r.EFF(47),r.nrm(48,"br"),r.EFF(49),r.nrm(50,"br"),r.EFF(51),r.k0s()(),r.DNE(52,by,3,1,"div",63),r.k0s()(),r.j41(53,"div",50)(54,"div",60)(55,"h2"),r.EFF(56,"Visitation Hours"),r.k0s(),r.nrm(57,"p",24),r.k0s(),r.j41(58,"div",64),r.nrm(59,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&y){const l=r.XpG(2);r.R7$(11),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.phone),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(6),r.Y8G("ngIf",null==l.location?null:l.location.email),r.R7$(5),r.JRh(r.bMT(41,15,null==l.location?null:l.location.phone)),r.R7$(2),r.Y8G("ngIf",null==l.location?null:l.location.fax),r.R7$(5),r.JRh(null==l.location?null:l.location.street),r.R7$(2),r.Lme(" ",null==l.location?null:l.location.zipcode," ",null==l.location?null:l.location.city,""),r.R7$(2),r.SpI(" ",null==l.location?null:l.location.state,""),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(5),r.Y8G("innerHTML",l.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function r_(y,u){if(1&y&&(r.j41(0,"div",62)(1,"span",68),r.EFF(2,"Fax: "),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==l.location?null:l.location.fax))}}function Kh(y,u){if(1&y&&(r.j41(0,"div",62)(1,"span",68),r.EFF(2,"Email: "),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==l.location?null:l.location.email,"",r.B4B),r.R7$(1),r.JRh(null==l.location?null:l.location.email)}}function Cp(y,u){if(1&y&&(r.j41(0,"div",62)(1,"span",68),r.EFF(2,"Hours: "),r.k0s(),r.nrm(3,"p",24),r.k0s()),2&y){const l=r.XpG(3);r.R7$(3),r.Y8G("innerHTML",l.sanitizedBusinessHours,r.npT)}}function wp(y,u){if(1&y&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function i_(y,u){if(1&y){const l=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Let's Get in touch"),r.k0s(),r.j41(6,"p"),r.EFF(7),r.k0s()(),r.j41(8,"div",60)(9,"div",62)(10,"span",68),r.EFF(11,"Address:"),r.k0s(),r.j41(12,"p"),r.EFF(13),r.k0s()(),r.j41(14,"div",62)(15,"span",68),r.EFF(16,"Phone: "),r.k0s(),r.j41(17,"p"),r.EFF(18),r.nI1(19,"phoneFormat"),r.k0s()(),r.DNE(20,r_,6,3,"div",61),r.DNE(21,Kh,6,2,"div",61),r.DNE(22,Cp,4,1,"div",61),r.DNE(23,wp,3,1,"div",63),r.k0s()(),r.j41(24,"div",50)(25,"div",51)(26,"form",52),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(27,"div",37)(28,"label",53),r.EFF(29,"Name "),r.j41(30,"span"),r.EFF(31,"(required)"),r.k0s()(),r.j41(32,"div",54)(33,"input",55),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.name=T)}),r.k0s()()(),r.j41(34,"div",37)(35,"label",40),r.EFF(36,"Email: "),r.j41(37,"span"),r.EFF(38,"(required)"),r.k0s()(),r.j41(39,"input",56),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.email=T)}),r.k0s()(),r.j41(40,"div",37)(41,"label",42),r.EFF(42,"Phone "),r.j41(43,"span"),r.EFF(44,"(required)"),r.k0s()(),r.j41(45,"input",57),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.phone=T)}),r.k0s()(),r.j41(46,"div",37)(47,"label",44),r.EFF(48,"Message "),r.j41(49,"span"),r.EFF(50,"(required)"),r.k0s()(),r.j41(51,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.message=T)}),r.k0s()(),r.j41(52,"button",69),r.EFF(53,"Send"),r.k0s()()(),r.j41(54,"div",64),r.nrm(55,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&y){const l=r.XpG(2);r.R7$(7),r.JRh(l.business.contactFormDetails),r.R7$(6),r.LHq("",null==l.location?null:l.location.street," ",null==l.location?null:l.location.zipcode," ",null==l.location?null:l.location.city," ",null==l.location?null:l.location.state,""),r.R7$(5),r.JRh(r.bMT(19,16,null==l.location?null:l.location.phone)),r.R7$(2),r.Y8G("ngIf",null==l.location?null:l.location.fax),r.R7$(1),r.Y8G("ngIf",null==l.location?null:l.location.email),r.R7$(1),r.Y8G("ngIf",null==l.location?null:l.location.fax),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(10),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.phone),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(4),r.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function Ty(y,u){if(1&y&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==l.location?null:l.location.email,"",r.B4B),r.R7$(1),r.JRh(null==l.location?null:l.location.email)}}function Lm(y,u){if(1&y&&(r.j41(0,"div",62)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==l.location?null:l.location.fax))}}function s_(y,u){if(1&y&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function Lu(y,u){if(1&y){const l=r.RV6();r.qex(0),r.nrm(1,"app-hero",70),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Ty,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,Lm,6,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.nrm(15,"br"),r.EFF(16),r.nrm(17,"br"),r.EFF(18),r.k0s()(),r.DNE(19,s_,3,1,"div",63),r.k0s(),r.j41(20,"div",51)(21,"form",52),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(22,"div",37)(23,"label",53),r.EFF(24,"Name "),r.j41(25,"span"),r.EFF(26,"(required)"),r.k0s()(),r.j41(27,"div",54)(28,"input",55),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.name=T)}),r.k0s()()(),r.j41(29,"div",37)(30,"label",40),r.EFF(31,"Email "),r.j41(32,"span"),r.EFF(33,"(required)"),r.k0s()(),r.j41(34,"input",56),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.email=T)}),r.k0s()(),r.j41(35,"div",37)(36,"label",42),r.EFF(37,"Phone "),r.j41(38,"span"),r.EFF(39,"(required)"),r.k0s()(),r.j41(40,"input",57),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.phone=T)}),r.k0s()(),r.j41(41,"div",37)(42,"label",44),r.EFF(43,"Message "),r.j41(44,"span"),r.EFF(45,"(required)"),r.k0s()(),r.j41(46,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.message=T)}),r.k0s()(),r.j41(47,"button",71),r.EFF(48,"Send"),r.k0s()()()(),r.j41(49,"div",50)(50,"div",60)(51,"div")(52,"h2"),r.EFF(53,"Hours"),r.k0s(),r.nrm(54,"div",24),r.k0s()(),r.j41(55,"div",64),r.nrm(56,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&y){const l=r.XpG(2);r.R7$(1),r.Y8G("layoutType","sb"),r.R7$(5),r.Y8G("ngIf",null==l.location?null:l.location.email),r.R7$(3),r.JRh(r.bMT(10,16,null==l.location?null:l.location.phone)),r.R7$(2),r.Y8G("ngIf",null==l.location?null:l.location.fax),r.R7$(3),r.JRh(null==l.location?null:l.location.street),r.R7$(2),r.JRh(null==l.location?null:l.location.city),r.R7$(2),r.Lme(" ",null==l.location?null:l.location.state," ",null==l.location?null:l.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(9),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.phone),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(8),r.Y8G("innerHTML",l.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function Ap(y,u){if(1&y&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==l.location?null:l.location.email,"",r.B4B),r.R7$(1),r.JRh(null==l.location?null:l.location.email)}}function o_(y,u){if(1&y&&(r.j41(0,"div",62)(1,"p"),r.EFF(2),r.nI1(3,"phoneFormat"),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(2),r.JRh(r.bMT(3,1,null==l.location?null:l.location.fax))}}function Vm(y,u){if(1&y&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function Iy(y,u){if(1&y){const l=r.RV6();r.qex(0),r.nrm(1,"app-hero",70),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Ap,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,o_,4,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.k0s()(),r.DNE(15,Vm,3,1,"div",63),r.k0s(),r.j41(16,"div",51)(17,"form",52),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(18,"div",37)(19,"label",53),r.EFF(20,"Name "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"div",54)(24,"input",55),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.name=T)}),r.k0s()()(),r.j41(25,"div",37)(26,"label",40),r.EFF(27,"Email "),r.j41(28,"span"),r.EFF(29,"(required)"),r.k0s()(),r.j41(30,"input",56),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.email=T)}),r.k0s()(),r.j41(31,"div",37)(32,"label",42),r.EFF(33,"Phone "),r.j41(34,"span"),r.EFF(35,"(required)"),r.k0s()(),r.j41(36,"input",57),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.phone=T)}),r.k0s()(),r.j41(37,"div",37)(38,"label",44),r.EFF(39,"Message "),r.j41(40,"span"),r.EFF(41,"(required)"),r.k0s()(),r.j41(42,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.message=T)}),r.k0s()(),r.j41(43,"button",71),r.EFF(44,"Send"),r.k0s()()()(),r.j41(45,"div",50)(46,"div",60)(47,"div")(48,"h2"),r.EFF(49,"Hours"),r.k0s(),r.nrm(50,"div",24),r.k0s()(),r.j41(51,"div",64),r.nrm(52,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&y){const l=r.XpG(2);r.R7$(1),r.Y8G("layoutType","prestige"),r.R7$(5),r.Y8G("ngIf",null==l.location?null:l.location.email),r.R7$(3),r.JRh(r.bMT(10,16,null==l.location?null:l.location.phone)),r.R7$(2),r.Y8G("ngIf",null==l.location?null:l.location.fax),r.R7$(3),r.LHq("",null==l.location?null:l.location.street,", ",null==l.location?null:l.location.city,", ",null==l.location?null:l.location.state," ",null==l.location?null:l.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(9),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.phone),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(8),r.Y8G("innerHTML",l.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function qd(y,u){if(1&y&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==l.location?null:l.location.email,"",r.B4B),r.R7$(1),r.JRh(null==l.location?null:l.location.email)}}function Um(y,u){if(1&y&&(r.j41(0,"div",62)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==l.location?null:l.location.fax))}}function Dp(y,u){if(1&y&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function a_(y,u){if(1&y){const l=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,qd,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,Um,6,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.k0s()(),r.DNE(15,Dp,3,1,"div",63),r.k0s(),r.j41(16,"div",51)(17,"form",52),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(18,"div",37)(19,"label",53),r.EFF(20,"Name "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"div",54)(24,"input",55),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.name=T)}),r.k0s()()(),r.j41(25,"div",37)(26,"label",40),r.EFF(27,"Email "),r.j41(28,"span"),r.EFF(29,"(required)"),r.k0s()(),r.j41(30,"input",56),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.email=T)}),r.k0s()(),r.j41(31,"div",37)(32,"label",44),r.EFF(33,"Message "),r.j41(34,"span"),r.EFF(35,"(required)"),r.k0s()(),r.j41(36,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(l);const j=r.XpG(2);return r.Njj(j.formData.message=T)}),r.k0s()(),r.j41(37,"button",59),r.EFF(38,"Send"),r.k0s()()()(),r.j41(39,"div",50)(40,"div",60)(41,"div")(42,"h2"),r.EFF(43,"Visitation Hours"),r.k0s(),r.nrm(44,"div",24),r.k0s()(),r.j41(45,"div",64),r.nrm(46,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&y){const l=r.XpG(2);r.R7$(6),r.Y8G("ngIf",null==l.location?null:l.location.email),r.R7$(3),r.JRh(r.bMT(10,14,null==l.location?null:l.location.phone)),r.R7$(2),r.Y8G("ngIf",null==l.location?null:l.location.fax),r.R7$(3),r.LHq("",null==l.location?null:l.location.street,", ",null==l.location?null:l.location.city,", ",null==l.location?null:l.location.state," ",null==l.location?null:l.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(9),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(8),r.Y8G("innerHTML",l.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function Sp(y,u){if(1&y&&(r.j41(0,"div")(1,"div",1),r.DNE(2,km,79,24,"ng-container",2),r.DNE(3,n_,60,17,"ng-container",2),r.DNE(4,i_,56,18,"ng-container",2),r.DNE(5,Lu,57,18,"ng-container",2),r.DNE(6,Iy,53,18,"ng-container",2),r.DNE(7,a_,47,16,"ng-container",3),r.k0s(),r.j41(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5",8),r.EFF(13),r.k0s(),r.nrm(14,"button",9),r.k0s(),r.j41(15,"div",10),r.EFF(16),r.k0s(),r.j41(17,"div",11)(18,"button",12),r.EFF(19," Close "),r.k0s()()()()()()),2&y){const l=r.XpG();r.R7$(1),r.Y8G("ngSwitch",l.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(7),r.JRh(l.modalTitle),r.R7$(3),r.SpI(" ",l.modalMessage," ")}}let jm=(()=>{class y{constructor(l,p,T,j,ie,de,Pe,Qe){this.sanitizer=l,this.businessDataService=p,this.webContent=T,this.route=j,this.http=ie,this.emailService=de,this.router=Pe,this.metaService=Qe,this.business=null,this.location=null,this.layoutType="demo",this.useMockMap=Wh.c.useMockGoogleMap,this.formData={name:"",email:"",phone:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business?.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{l&&(this.business=l,this.businessDataService.getLocations().subscribe(p=>{p.length>0?(this.location=p[0],console.log("\u{1f4cd} Updated Location [0]:",this.location)):(console.warn("\u26a0\ufe0f No locations available."),this.location=null)}),l?.id&&(this.metaService.loadAndApplyMeta(l.id),this.layoutType=l.theme?.themeType||"demo"))})}ngAfterViewInit(){setTimeout(()=>{const l=document.getElementById("responseModal");l?this.responseModal=new Ol(l):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(l=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},l=>{console.error("Error sending email",l),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(l){const p=l.split(".");return p.length>2?p.slice(-2).join("."):l}get formattedAddress(){return[this.location?.street,this.location?.city,this.location?.state,this.location?.zipcode].filter(l=>l).join(" ")}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(oe.up),r.rXU(Ce.A),r.rXU(rt.N),r.rXU(ae.nX),r.rXU(be.Qq),r.rXU(xm),r.rXU(ae.Ix),r.rXU(Ye.R))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","phone"],["type","phone","id","phone","required","","name","phone","required","",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["type","phone","id","phone","required","","name","phone","placeholder","Phone","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"],[1,"label"],["type","submit",1,"btn"],[3,"layoutType"],["type","submit",1,"btnSBSend"]],template:function(p,T){1&p&&r.DNE(0,Sp,20,8,"div",0),2&p&&r.Y8G("ngIf",T.business)},dependencies:[it.bT,it.ux,it.e1,it.fG,_i.qT,_i.me,_i.BC,_i.cb,_i.YS,_i.vS,_i.cV,bp,Te,Hc.a,Fu.C,Tp]})}}return y})();var Rp=k(467),Pp=k(8455);const Vu=["dynamicContainer"],Bm=["ctaContainer"];function qh(y,u){1&y&&(r.qex(0),r.j41(1,"div",10)(2,"div",11)(3,"h1"),r.EFF(4,"Our Home"),r.k0s(),r.j41(5,"div",12)(6,"p"),r.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),r.k0s()()()(),r.bVm())}function Yh(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","sb"))}function l_(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","ae"))}function Xh(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function Qh(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function $m(y,u){if(1&y){const l=r.RV6();r.j41(0,"div",14),r.bIt("click",function(){const j=r.eBV(l).$implicit,ie=r.XpG(2);return r.Njj(ie.onImageClick(j.url))}),r.nrm(1,"img",15),r.j41(2,"div",16)(3,"h3"),r.EFF(4),r.k0s(),r.j41(5,"p"),r.EFF(6),r.k0s()()()}if(2&y){const l=u.$implicit;r.R7$(1),r.Y8G("src",l.url,r.B4B),r.R7$(3),r.JRh(l.title),r.R7$(2),r.JRh(l.description)}}function c_(y,u){if(1&y&&(r.j41(0,"div")(1,"div",2),r.DNE(2,qh,8,0,"ng-container",3),r.DNE(3,Yh,2,1,"ng-container",3),r.DNE(4,l_,2,1,"ng-container",3),r.DNE(5,Xh,2,1,"ng-container",3),r.DNE(6,Qh,2,1,"ng-container",3),r.k0s(),r.eu8(7,null,4),r.j41(9,"section",5)(10,"div",6)(11,"h2"),r.EFF(12,"Explore Our Gallery"),r.k0s()(),r.j41(13,"div",7),r.DNE(14,$m,7,3,"div",8),r.k0s()(),r.eu8(15,null,9),r.k0s()),2&y){const l=r.XpG();r.R7$(1),r.Y8G("ngSwitch",l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(8),r.Y8G("ngForOf",l.images)}}function Gm(y,u){if(1&y){const l=r.RV6();r.j41(0,"div",17),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.onCloseModal())}),r.j41(1,"div",18),r.bIt("click",function(T){return T.stopPropagation()}),r.j41(2,"button",19),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.onCloseModal())}),r.EFF(3,"\xd7"),r.k0s(),r.nrm(4,"img",20),r.k0s()()}if(2&y){const l=r.XpG();r.R7$(4),r.Y8G("src",l.selectedImageUrl,r.B4B)}}let Cy=(()=>{class y{constructor(l,p,T,j,ie,de,Pe,Qe){this.businessDataService=l,this.route=p,this.webContent=T,this.metaService=j,this.router=ie,this.sectionService=de,this.resolver=Pe,this.injector=Qe,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.sections=[],this.selectedImageUrl=null,this.layoutType="demo",this.componentsMap={"center-text":Ie.W,"right-text":ke.F,"left-text":W.G,"item-list":ne.j,cta:pe.j}}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.layoutType=l?.theme.themeType||"",l?.id&&(this.businessId=l.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId),this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"gallery").subscribe(l=>{l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents(),this.loadCTAComponent()):console.warn("\u2757 No sections retrieved.")})}loadComponents(){this.container?(this.container.clear(),this.sections.length?this.sections.filter(p=>"cta"!==p.component).forEach(p=>{this.createDynamicComponent(p,this.container)}):console.warn("\u2757 No sections available to load.")):console.error("\u274c ViewContainerRef is undefined.")}loadCTAComponent(){if(!this.ctaContainer)return void console.error("\u274c CTA ViewContainerRef is undefined.");this.ctaContainer.clear();const l=this.sections.find(p=>"cta"===p.component);l?this.createDynamicComponent(l,this.ctaContainer):console.warn("\u2757 No CTA section found.")}createDynamicComponent(l,p){const T=this.componentsMap[l.component];if(!T)return void console.error("\u274c Component Not Found:",l.component);const j=this.resolver.resolveComponentFactory(T),ie=p.createComponent(j,void 0,this.injector);Object.assign(ie.instance,{title:this.applyReplaceKeyword(l.sectionTitle||""),subTitle:this.applyReplaceKeyword(l.sectionSubTitle||""),content:this.applyReplaceKeyword(l.sectionContent||""),imageURL:l.sectionImageUrl||"",showBtn:l.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!l.sectionImageUrl,themeType:this.business?.theme?.themeType,items:l.items||[],isMinimal:l.isMinimal||!1,isParallax:l.isParallax??!0,backgroundColor:l.backgroundColor||"#ffffff",textColor:l.textColor||"#000000",titleColor:l.titleColor||"#000000",subtitleColor:l.subtitleColor||"#000000",fullWidth:l.fullWidth||!1,showButton:l.showButton||!1,buttonText:l.buttonText||"Learn More",buttonLink:l.buttonLink||"",titleFontSize:l.titleFontSize||"36",subtitleFontSize:l.subtitleFontSize||"14",alignText:l.alignText||"left",boxShadow:l.boxShadow||!1,borderRadius:l.borderRadius??10,page:l.page,location:l.location})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}loadImages(){var l=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:T,target:j})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,T).pipe((0,Se.n)(ie=>{const de=ie.map(function(){var Pe=(0,Rp.A)(function*(Qe){return(yield l.webContent.checkImageExists(Qe.url))?Qe:null});return function(Qe){return Pe.apply(this,arguments)}}());return(0,Pp.H)(Promise.all(de))}),(0,He.T)(ie=>ie.filter(de=>null!==de)),(0,He.T)(ie=>ie.map(de=>({url:de.url,title:de.title||"No Title",description:de.description||"No Description",link:de.link||"No Link",order:isNaN(Number(de.order))?999:Number(de.order)})).sort((de,Pe)=>de.order-Pe.order))).subscribe(ie=>{this[j]||(this[j]=[]),this[j]=ie})})}onImageClick(l){this.selectedImageUrl=l}closeLightbox(){this.selectedImageUrl=null}onCloseModal(){this.selectedImageUrl=null}navigateToContact(l){this.router.navigate(["/contact-us"],{queryParams:{id:l}})}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(Ce.A),r.rXU(ae.nX),r.rXU(rt.N),r.rXU(Ye.R),r.rXU(ae.Ix),r.rXU(ve.W),r.rXU(r.OM3),r.rXU(r.zZn))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-photo-gallery"]],viewQuery:function(p,T){if(1&p&&(r.GBs(Vu,5,r.c1b),r.GBs(Bm,5,r.c1b)),2&p){let j;r.mGM(j=r.lsd())&&(T.container=j.first),r.mGM(j=r.lsd())&&(T.ctaContainer=j.first)}},inputs:{businessId:"businessId"},decls:2,vars:2,consts:[[4,"ngIf"],["class","image-modal",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["dynamicContainer",""],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],["ctaContainer",""],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[1,"gallery-item-overlay"],[1,"image-modal",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Image",3,"src"]],template:function(p,T){1&p&&(r.DNE(0,c_,17,7,"div",0),r.DNE(1,Gm,5,1,"div",1)),2&p&&(r.Y8G("ngIf",T.business),r.R7$(1),r.Y8G("ngIf",T.selectedImageUrl))},dependencies:[it.Sq,it.bT,it.ux,it.e1,Te],styles:[".gallery[_ngcontent-%COMP%]{padding:20px;max-width:var(--site-max-width);margin:0 auto}.section-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px}.gallery-item[_ngcontent-%COMP%]{position:relative;overflow:hidden;box-shadow:0 4px 10px #0000001a;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.gallery-item-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:25%;background-color:#0003;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0;transform:translateY(10%);transition:opacity .3s ease,transform .3s ease;padding:10px}.gallery-item-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin:.5rem 0;text-align:center}.gallery-item-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.gallery-item[_ngcontent-%COMP%]:hover   .gallery-item-overlay[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:1rem;border-radius:10px;max-width:90%;max-height:90%;box-shadow:0 0 20px #0000004d;overflow:hidden;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80vh}.close-btn[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.75rem;background:transparent;border:none;font-size:2rem;color:#333;cursor:pointer;font-weight:700;line-height:1;z-index:1001}.close-btn[_ngcontent-%COMP%]:hover{color:#000}@media (max-width: 600px){.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return y})();var Mp=k(4796);function xp(y,u){if(1&y&&(r.j41(0,"div",11),r.EFF(1),r.k0s()),2&y){const l=r.XpG();r.R7$(1),r.JRh(l.errorMessage)}}let Jh=(()=>{class y{constructor(l,p){this.authService=l,this.router=p,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(l=>{this.errorMessage=l.message})}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(Mp.u),r.rXU(ae.Ix))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(p,T){1&p&&(r.j41(0,"div",0)(1,"div",1)(2,"h2",2),r.EFF(3,"Login"),r.k0s(),r.j41(4,"form",3),r.bIt("submit",function(){return T.login()}),r.j41(5,"div",4)(6,"label",5),r.EFF(7,"Email"),r.k0s(),r.j41(8,"input",6),r.bIt("ngModelChange",function(ie){return T.email=ie}),r.k0s()(),r.j41(9,"div",4)(10,"label",7),r.EFF(11,"Password"),r.k0s(),r.j41(12,"input",8),r.bIt("ngModelChange",function(ie){return T.password=ie}),r.k0s()(),r.j41(13,"button",9),r.EFF(14,"Login"),r.k0s(),r.DNE(15,xp,2,1,"div",10),r.k0s()()()),2&p&&(r.R7$(8),r.Y8G("ngModel",T.email),r.R7$(4),r.Y8G("ngModel",T.password),r.R7$(3),r.Y8G("ngIf",T.errorMessage))},dependencies:[it.bT,_i.qT,_i.me,_i.BC,_i.cb,_i.YS,_i.vS,_i.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return y})();var fc=k(1985),Zh=k(6340);let zc=(()=>{class y{constructor(l){this.afs=l,this.basePath="businesses"}saveIntakeForm(l,p){const T=this.afs.createId(),j=this.afs.collection(`${this.basePath}/${p}/intake`).doc(T);return new fc.c(ie=>{j.set(l).then(()=>{ie.next(l),ie.complete()}).catch(de=>{console.error("Error saving intake form data",de),ie.error(de)})})}getIntakeForms(l){return this.afs.collection(`${this.basePath}/${l}/intake`).snapshotChanges().pipe((0,He.T)(p=>p.map(T=>{const j=T.payload.doc.data();return{id:T.payload.doc.id,...j}})))}getIntakeForm(l,p){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).valueChanges().pipe((0,He.T)(T=>T||void 0))}updateIntakeForm(l,p,T){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).update(T)}deleteIntakeForm(l,p){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).delete()}static{this.\u0275fac=function(p){return new(p||y)(r.KVO(Zh.Qe))}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function wy(y,u){if(1&y){const l=r.RV6();r.j41(0,"div"),r.nrm(1,"app-hero",1),r.j41(2,"form",2),r.bIt("ngSubmit",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.onSubmit())}),r.j41(3,"div",3)(4,"h2"),r.EFF(5,"Personal Information"),r.k0s(),r.j41(6,"label",4),r.EFF(7,"Name *"),r.k0s(),r.nrm(8,"input",5),r.j41(9,"label",6),r.EFF(10,"Email *"),r.k0s(),r.nrm(11,"input",7),r.j41(12,"label",8),r.EFF(13,"Phone number *"),r.k0s(),r.nrm(14,"input",9),r.k0s(),r.j41(15,"div",3)(16,"h2"),r.EFF(17,"Referral Source"),r.k0s(),r.j41(18,"label",10),r.EFF(19,"How did you find out about us? *"),r.k0s(),r.j41(20,"select",11)(21,"option",12),r.EFF(22,"Google"),r.k0s(),r.j41(23,"option",13),r.EFF(24,"Facebook"),r.k0s(),r.j41(25,"option",14),r.EFF(26,"Placement Agency"),r.k0s(),r.j41(27,"option",15),r.EFF(28,"Friends and/or Family"),r.k0s(),r.j41(29,"option",16),r.EFF(30,"Other"),r.k0s()(),r.j41(31,"label",17),r.EFF(32,"What is your relation to the resident? *"),r.k0s(),r.nrm(33,"input",18),r.k0s(),r.j41(34,"div",3)(35,"h2"),r.EFF(36,"Resident Information"),r.k0s(),r.j41(37,"label",19),r.EFF(38,"Resident's name *"),r.k0s(),r.nrm(39,"input",20),r.j41(40,"label",21),r.EFF(41,"Age *"),r.k0s(),r.nrm(42,"input",22),r.j41(43,"label",23),r.EFF(44,"Gender *"),r.k0s(),r.j41(45,"select",24)(46,"option",25),r.EFF(47,"Male"),r.k0s(),r.j41(48,"option",26),r.EFF(49,"Female"),r.k0s(),r.j41(50,"option",27),r.EFF(51,"Prefer not to say"),r.k0s(),r.j41(52,"option",16),r.EFF(53,"Other"),r.k0s()()(),r.j41(54,"div",3)(55,"h2"),r.EFF(56,"Medical History"),r.k0s(),r.j41(57,"label",28),r.EFF(58,"Relevant medical and surgical history *"),r.k0s(),r.nrm(59,"textarea",29),r.j41(60,"label",30),r.EFF(61,"Height *"),r.k0s(),r.nrm(62,"input",31),r.j41(63,"label",32),r.EFF(64,"Weight *"),r.k0s(),r.nrm(65,"input",33),r.j41(66,"label",34),r.EFF(67,"Reason for moving to an adult family home *"),r.k0s(),r.nrm(68,"textarea",35),r.j41(69,"label",36),r.EFF(70,'Do you already have an "RN Assessment for AFH"? *'),r.k0s(),r.j41(71,"select",37)(72,"option",38),r.EFF(73,"Yes"),r.k0s(),r.j41(74,"option",39),r.EFF(75,"No"),r.k0s()()(),r.j41(76,"div",3)(77,"h2"),r.EFF(78,"Care Levels"),r.k0s(),r.j41(79,"label",40),r.EFF(80,"Eating *"),r.k0s(),r.j41(81,"select",41)(82,"option",42),r.EFF(83,"Independent"),r.k0s(),r.j41(84,"option",43),r.EFF(85,"Needing Assistance"),r.k0s(),r.j41(86,"option",44),r.EFF(87,"Dependent"),r.k0s()(),r.j41(88,"label",45),r.EFF(89,"Personal Hygiene *"),r.k0s(),r.j41(90,"select",46)(91,"option",42),r.EFF(92,"Independent"),r.k0s(),r.j41(93,"option",43),r.EFF(94,"Needing Assistance"),r.k0s(),r.j41(95,"option",44),r.EFF(96,"Dependent"),r.k0s()(),r.j41(97,"label",47),r.EFF(98,"Bathing *"),r.k0s(),r.j41(99,"select",48)(100,"option",42),r.EFF(101,"Independent"),r.k0s(),r.j41(102,"option",43),r.EFF(103,"Needing Assistance"),r.k0s(),r.j41(104,"option",44),r.EFF(105,"Dependent"),r.k0s()(),r.j41(106,"label",49),r.EFF(107,"Toileting *"),r.k0s(),r.j41(108,"select",50)(109,"option",42),r.EFF(110,"Independent"),r.k0s(),r.j41(111,"option",43),r.EFF(112,"Needing Assistance"),r.k0s(),r.j41(113,"option",44),r.EFF(114,"Dependent"),r.k0s()(),r.j41(115,"label",51),r.EFF(116,"Mobility *"),r.k0s(),r.j41(117,"select",52)(118,"option",42),r.EFF(119,"Independent"),r.k0s(),r.j41(120,"option",43),r.EFF(121,"Needing Assistance"),r.k0s(),r.j41(122,"option",44),r.EFF(123,"Dependent"),r.k0s()(),r.j41(124,"label",53),r.EFF(125,"Transfers *"),r.k0s(),r.j41(126,"select",54)(127,"option",42),r.EFF(128,"Independent"),r.k0s(),r.j41(129,"option",43),r.EFF(130,"Needing Assistance"),r.k0s(),r.j41(131,"option",44),r.EFF(132,"Dependent"),r.k0s()(),r.j41(133,"label",55),r.EFF(134,"Medication Assistance *"),r.k0s(),r.j41(135,"select",56)(136,"option",38),r.EFF(137,"Yes"),r.k0s(),r.j41(138,"option",39),r.EFF(139,"No"),r.k0s()()(),r.j41(140,"div",3)(141,"h2"),r.EFF(142,"Other Medical Information"),r.k0s(),r.j41(143,"label",57),r.EFF(144,"Memory Issues *"),r.k0s(),r.j41(145,"select",58)(146,"option",38),r.EFF(147,"Yes"),r.k0s(),r.j41(148,"option",39),r.EFF(149,"No"),r.k0s()(),r.j41(150,"label",59),r.EFF(151,"Behavior"),r.k0s(),r.nrm(152,"textarea",60),r.j41(153,"label",61),r.EFF(154,"Skin Condition"),r.k0s(),r.nrm(155,"textarea",62),r.j41(156,"label",63),r.EFF(157,"Other information you want us to know"),r.k0s(),r.nrm(158,"textarea",64),r.k0s(),r.j41(159,"div",3)(160,"h2"),r.EFF(161,"Living Situation"),r.k0s(),r.j41(162,"label",65),r.EFF(163,"Current living situation *"),r.k0s(),r.j41(164,"select",66)(165,"option",67),r.EFF(166,"Own Home"),r.k0s(),r.j41(167,"option",68),r.EFF(168,"Relative's Home"),r.k0s(),r.j41(169,"option",69),r.EFF(170,"Hospital"),r.k0s(),r.j41(171,"option",70),r.EFF(172,"Adult Family Home"),r.k0s(),r.j41(173,"option",71),r.EFF(174,"Senior Living"),r.k0s(),r.j41(175,"option",16),r.EFF(176,"Other"),r.k0s()()(),r.j41(177,"div",3)(178,"label",72),r.EFF(179,"Target move in date *"),r.k0s(),r.nrm(180,"input",73),r.k0s(),r.j41(181,"div",3)(182,"label",74),r.EFF(183,"Would you like a summary of disclosures of our rates and services, including itemized services?"),r.k0s(),r.j41(184,"select",75)(185,"option",38),r.EFF(186,"Yes"),r.k0s(),r.j41(187,"option",39),r.EFF(188,"No"),r.k0s()()(),r.j41(189,"div",3)(190,"label",76),r.EFF(191,"Do you have any questions for us?"),r.k0s(),r.nrm(192,"textarea",77),r.k0s(),r.j41(193,"button",78),r.EFF(194,"Submit"),r.k0s()()()}if(2&y){const l=r.XpG();r.R7$(1),r.Y8G("layoutType",l.business.theme.themeType),r.R7$(1),r.Y8G("formGroup",l.intakeForm),r.R7$(191),r.Y8G("disabled",l.intakeForm.invalid)}}let Hm=(()=>{class y{constructor(l,p,T,j,ie){this.fb=l,this.intakeService=p,this.businessDataService=T,this.emailService=j,this.metaService=ie,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",_i.k0.required],email:["",[_i.k0.required,_i.k0.email]],phoneNumber:["",_i.k0.required],referralSource:["",_i.k0.required],relationToResident:[""],residentName:["",_i.k0.required],age:["",_i.k0.required],gender:["",_i.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const l=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(l,this.businessId).subscribe(T=>{console.log("Intake form saved successfully!",T)},T=>{console.error("Error saving intake form:",T)});const p={name:l.name,email:l.email,message:this.generateEmailMessage(l),website:window.location.hostname};this.emailService.sendEmail(p).subscribe(T=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},T=>{console.error("Error sending email",T),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(l){return`\n      Name: ${l.name}\n      Email: ${l.email}\n      Phone Number: ${l.phoneNumber}\n      Referral Source: ${l.referralSource}\n      Relation to Resident: ${l.relationToResident}\n      Resident Name: ${l.residentName}\n      Age: ${l.age}\n      Gender: ${l.gender}\n      Medical History: ${l.medicalHistory}\n      Height: ${l.height}\n      Weight: ${l.weight}\n      Reason for Moving: ${l.reasonForMoving}\n      RN Assessment: ${l.rnAssessment}\n      Eating: ${l.eating}\n      Personal Hygiene: ${l.personalHygiene}\n      Bathing: ${l.bathing}\n      Toileting: ${l.toileting}\n      Mobility: ${l.mobility}\n      Transfers: ${l.transfers}\n      Medication Assistance: ${l.medicationAssistance}\n      Memory Issues: ${l.memoryIssues}\n      Behavior: ${l.behavior}\n      Skin Condition: ${l.skinCondition}\n      Additional Info: ${l.additionalInfo}\n      Current Living Situation: ${l.currentLivingSituation}\n      Target Move-In Date: ${l.targetMoveInDate}\n      Disclosure Summary: ${l.disclosureSummary}\n      Questions: ${l.questions}\n    `}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(_i.ok),r.rXU(zc),r.rXU(Ce.A),r.rXU(xm),r.rXU(Ye.R))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-resident-intake-form"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"layoutType"],[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(p,T){1&p&&r.DNE(0,wy,195,3,"div",0),2&p&&r.Y8G("ngIf",T.business)},dependencies:[it.bT,_i.qT,_i.xH,_i.y7,_i.me,_i.Q0,_i.wz,_i.BC,_i.cb,_i.j4,_i.JD,Te],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return y})();var pc=k(6661);function zm(y,u){1&y&&r.nrm(0,"div",9)}function Wm(y,u){1&y&&(r.j41(0,"p",10),r.EFF(1,"Loading Google Reviews..."),r.k0s())}function Km(y,u){if(1&y&&r.nrm(0,"img",22),2&y){const l=r.XpG().$implicit;r.FS9("alt",l.name),r.Y8G("src",l.photoURL,r.B4B)}}function Yd(y,u){if(1&y&&(r.j41(0,"div",23),r.EFF(1),r.k0s()),2&y){const l=r.XpG().$implicit;r.R7$(1),r.SpI(" ",l.name.charAt(0).toUpperCase()," ")}}function Op(y,u){if(1&y&&(r.j41(0,"p",24),r.EFF(1),r.k0s()),2&y){const l=r.XpG().$implicit;r.R7$(1),r.SpI(" ",l.quote," ")}}function ef(y,u){if(1&y&&r.nrm(0,"p",25),2&y){const l=r.XpG().$implicit;r.Y8G("innerHTML",l.quote,r.npT)}}function u_(y,u){1&y&&(r.j41(0,"div",26),r.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),r.k0s())}const Np=function(y){return{"full-width":y}};function d_(y,u){if(1&y&&(r.j41(0,"div",11)(1,"div",12),r.DNE(2,Km,1,2,"img",13),r.DNE(3,Yd,2,1,"ng-template",null,14,r.C5r),r.k0s(),r.j41(5,"blockquote",15)(6,"div",16),r.EFF(7,"\u201c"),r.k0s(),r.DNE(8,Op,2,1,"p",17),r.DNE(9,ef,1,1,"p",18),r.k0s(),r.j41(10,"div",12)(11,"div")(12,"p",19),r.EFF(13),r.k0s(),r.j41(14,"p",20),r.EFF(15),r.k0s(),r.DNE(16,u_,2,0,"div",21),r.k0s()()()),2&y){const l=u.$implicit,p=r.sdS(4);r.Y8G("ngClass",r.eq3(8,Np,l.rawQuote.length>1e3)),r.R7$(2),r.Y8G("ngIf",l.photoURL)("ngIfElse",p),r.R7$(6),r.Y8G("ngIf",l.isGoogle),r.R7$(1),r.Y8G("ngIf",!l.isGoogle),r.R7$(4),r.JRh(l.name),r.R7$(2),r.JRh(l.relationship),r.R7$(1),r.Y8G("ngIf",l.isGoogle)}}function mc(y,u){if(1&y&&(r.j41(0,"a",27),r.EFF(1," Leave us a Google Review "),r.k0s()),2&y){const l=r.XpG();r.Y8G("href",l.googleReviewLink,r.B4B)}}function f_(y,u){1&y&&(r.j41(0,"div"),r.nrm(1,"img",11),r.k0s())}function qm(y,u){1&y&&r.nrm(0,"div",12)}const gc=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Ee.B},{path:"about-us",component:ee},{path:"services",component:kn},{path:"contact-us",component:jm},{path:"gallery",component:Cy},{path:"login",component:Jh},{path:"resident-form",component:Hm},{path:"testimonials",component:(()=>{class y{constructor(l,p,T,j,ie){this.businessDataService=l,this.metaService=p,this.googleMapsLoader=T,this.sanitizer=j,this.route=ie,this.testimonials=[],this.themeType=null,this.business=null,this.googleReviewsLoading=!0}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{l?(this.business=l,this.loadData()):this.route.queryParams.subscribe(p=>{const T=p.id;T&&this.businessDataService.loadBusinessData(T).subscribe(j=>{j&&(this.business=j,this.loadData())})})})}loadData(){this.loadTestimonials(),"0"!==this.business?.placeId&&this.loadGoogleReviews()}loadTestimonials(){this.businessDataService.loadBusinessData(this.business?.id||"").subscribe(l=>{if(l&&l.testimonials){const p=l.testimonials.map(T=>({...T,relationship:"Testimonial",rawQuote:T.quote,quote:this.sanitizeHtml(T.quote),isGoogle:!1}));this.testimonials=[...this.testimonials,...p]}})}loadGoogleReviews(){this.business?.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.business?.placeId,fields:["reviews"]},(p,T)=>{if(this.googleReviewsLoading=!1,T===google.maps.places.PlacesServiceStatus.OK){const j=p?.reviews?.map(ie=>({name:ie.author_name,quote:ie.text,rawQuote:ie.text,relationship:"Google Review",isGoogle:!0,photoURL:ie.profile_photo_url||null}))||[];this.testimonials=[...j,...this.testimonials]}else console.error("Error fetching Google reviews:",T)})}):console.error("Place ID is required to fetch Google reviews.")}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.business?.placeId}`}sanitizeHtml(l){return this.sanitizer.bypassSecurityTrustHtml(l)}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(Ce.A),r.rXU(Ye.R),r.rXU(pc.L),r.rXU(oe.up),r.rXU(ae.nX))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-testimonials-list"]],decls:12,vars:4,consts:[[1,"testimonial-section"],[1,"section-title"],[1,"section-description"],["class","spinner",4,"ngIf"],["class","loading-text",4,"ngIf"],[1,"testimonial-grid"],["class","testimonial-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"googleReviewLink"],["target","_blank","class","afhBtn",3,"href",4,"ngIf"],[1,"spinner"],[1,"loading-text"],[1,"testimonial-card",3,"ngClass"],[1,"author-info"],["class","author-photo",3,"src","alt",4,"ngIf","ngIfElse"],["fallbackAvatar",""],[1,"testimonial-quote"],[1,"quote-icon"],["class","quote-text-page",4,"ngIf"],["class","quote-text-page",3,"innerHTML",4,"ngIf"],[1,"author-name"],[1,"author-role"],["class","google-stars",4,"ngIf"],[1,"author-photo",3,"src","alt"],[1,"author-photo","placeholder"],[1,"quote-text-page"],[1,"quote-text-page",3,"innerHTML"],[1,"google-stars"],["target","_blank",1,"afhBtn",3,"href"]],template:function(p,T){1&p&&(r.nrm(0,"app-hero"),r.j41(1,"div",0)(2,"h1",1),r.EFF(3,"What Clients Say"),r.k0s(),r.j41(4,"p",2),r.EFF(5," We place huge value on strong relationships and have seen the benefit they bring to our business. Customer feedback is vital in helping us to get it right. "),r.k0s(),r.DNE(6,zm,1,0,"div",3),r.DNE(7,Wm,2,0,"p",4),r.j41(8,"div",5),r.DNE(9,d_,17,10,"div",6),r.k0s()(),r.j41(10,"div",7),r.DNE(11,mc,2,1,"a",8),r.k0s()),2&p&&(r.R7$(6),r.Y8G("ngIf",T.googleReviewsLoading&&"0"!=(null==T.business?null:T.business.placeId)),r.R7$(1),r.Y8G("ngIf",T.googleReviewsLoading&&"0"!=(null==T.business?null:T.business.placeId)),r.R7$(2),r.Y8G("ngForOf",T.testimonials),r.R7$(2),r.Y8G("ngIf","0"!=(null==T.business?null:T.business.placeId)))},dependencies:[it.YU,it.Sq,it.bT,Te],styles:['.testimonial-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:80px 20px;text-align:center;background-color:var(--background-color)}.section-subtitle[_ngcontent-%COMP%]{letter-spacing:1px}.section-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-top:10px}.section-description[_ngcontent-%COMP%]{font-size:16px;color:#444;max-width:700px;margin:20px auto 40px;line-height:1.6}.testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem}.testimonial-card.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.testimonial-grid[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center}.testimonial-card[_ngcontent-%COMP%]{background-color:#f7f7f7;border-radius:16px;padding:30px 20px;box-shadow:0 4px 12px #0000000d;transition:box-shadow .3s ease}.testimonial-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #0000001a}.testimonial-avatar[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 20px;border-radius:50%;overflow:hidden;border:4px solid #fff;box-shadow:0 2px 6px #0000001a}.testimonial-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:#333;font-size:15px;position:relative;padding:0 20px;font-size:.9rem}.testimonial-quote[_ngcontent-%COMP%]:before{content:"";font-size:28px;color:#999;position:absolute;left:10px;top:-10px}.testimonial-author[_ngcontent-%COMP%]{margin-top:20px}.quote-text-page[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.3;margin-bottom:2rem;max-width:1024px;text-align:left}.author-name[_ngcontent-%COMP%]{font-weight:700;color:var(--dark-background-color);margin-bottom:4px}.author-role[_ngcontent-%COMP%]{color:#777;font-size:14px}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #555;border-radius:50%;width:36px;height:36px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:1rem auto}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;color:#666}.googleReviewLink[_ngcontent-%COMP%]{text-align:center;margin:0 auto}']})}}return y})()},{path:"faq",component:Fu.C},{path:"location",component:(()=>{class y{constructor(l,p,T){this.route=l,this.businessDataService=p,this.googleMapsLoader=T,this.business=null,this.location=null,this.layoutType="demo",this.locationIndex=null,this.useMockMap=Wh.c.useMockGoogleMap}ngOnInit(){this.route.queryParams.subscribe(l=>{this.locationIndex=Number(l.locationIndex),null!==this.locationIndex&&this.businessDataService.getBusinessId().pipe((0,Se.n)(p=>p?this.businessDataService.loadBusinessData(p):[])).subscribe(p=>{p&&(this.business=p,this.loadBusinessData())})})}loadBusinessData(){this.businessDataService.getBusinessId().pipe((0,Se.n)(l=>l?this.businessDataService.loadBusinessData(l):[])).subscribe(l=>{l?(console.log("\u2705 Business Data Loaded:",l),this.business=l,this.layoutType=l.theme?.themeType,console.log("\u{1f4cd} Locations in Business Data:",l.locations),console.log("\u{1f522} Requested Location Index:",this.locationIndex),this.businessDataService.getLocations().subscribe(p=>{p&&this.locationIndex<p.length?(this.location=p[this.locationIndex],console.log("\u2705 Loaded Firestore Location:",this.location),this.loadMap()):console.error("\u274c Location index is out of range. Available Firestore locations:",p.length)})):console.error("\u274c Business data is null.")})}loadMap(){this.useMockMap?console.log("Mock map mode: displaying static map image."):this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.showAddressOnMap(`${this.location.street}, ${this.location.city}, ${this.location.state} ${this.location.zipcode}`)}).catch(l=>{console.error("Error loading Google Maps script:",l)})}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(l){this.geocoder.geocode({address:l},(p,T)=>{"OK"===T?(this.map.setCenter(p[0].geometry.location),this.map.setZoom(12),new google.maps.Marker({map:this.map,position:p[0].geometry.location})):console.error("Geocode was not successful: "+T)})}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(ae.nX),r.rXU(Ce.A),r.rXU(pc.L))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-location-page"]],decls:43,vars:19,consts:[[3,"layoutType"],[1,"location-page-container",2,"text-align","left"],[1,"row"],[1,"col"],["data-item","block-link",1,"map--open-maps-link"],["target","_blank","rel","noreferrer","aria-label","Open in maps",3,"href"],[1,"map-hours"],[3,"href","title"],[3,"src"],[4,"ngIf","ngIfElse"],["liveMap",""],["src","../../../../assets/sharedAssets/mock-map.png","alt","Static Map Preview"],["id","map",1,"map-container"]],template:function(p,T){if(1&p&&(r.nrm(0,"app-hero",0),r.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),r.EFF(5),r.k0s(),r.j41(6,"p")(7,"strong"),r.EFF(8,"Address:"),r.k0s(),r.EFF(9),r.k0s(),r.j41(10,"p")(11,"strong"),r.EFF(12,"Email:"),r.k0s(),r.EFF(13),r.k0s(),r.j41(14,"p")(15,"strong"),r.EFF(16,"Phone:"),r.k0s(),r.EFF(17),r.k0s(),r.j41(18,"p")(19,"strong"),r.EFF(20,"Fax:"),r.k0s(),r.EFF(21),r.k0s(),r.j41(22,"div",4)(23,"a",5),r.EFF(24," Open in maps "),r.k0s()(),r.j41(25,"div",6)(26,"p"),r.EFF(27,"Monday - Friday"),r.nrm(28,"br"),r.EFF(29,"9am - 5pm"),r.nrm(30,"br")(31,"br"),r.EFF(32,"Call to schedule an appointment "),r.j41(33,"a",7),r.EFF(34),r.k0s(),r.EFF(35),r.k0s()()(),r.j41(36,"div",3),r.nrm(37,"img",8),r.k0s()(),r.j41(38,"div",2)(39,"div",3),r.DNE(40,f_,2,0,"div",9),r.DNE(41,qm,1,0,"ng-template",null,10,r.C5r),r.k0s()()()),2&p){const j=r.sdS(42);r.Y8G("layoutType","prestige"),r.R7$(5),r.JRh((null==T.location?null:T.location.locationName)||"Location"),r.R7$(4),r.LHq(" ",null==T.location?null:T.location.street,", ",null==T.location?null:T.location.city,", ",null==T.location?null:T.location.state," ",null==T.location?null:T.location.zipcode," "),r.R7$(4),r.SpI(" ",null==T.location?null:T.location.email,""),r.R7$(4),r.SpI(" ",null==T.location?null:T.location.phone,""),r.R7$(4),r.SpI(" ",null==T.location?null:T.location.fax,""),r.R7$(2),r.yjJ("href","https://google.com/maps/place/'",T.location.street,"+",T.location.city,"+",T.location.zipcode,"'",r.B4B),r.R7$(10),r.Mz_("href","tel:",null==T.location?null:T.location.phone,"",r.B4B)("title","tel:",null==T.location?null:T.location.phone,""),r.R7$(1),r.SpI("",null==T.location?null:T.location.phone,","),r.R7$(1),r.SpI(" text us at: ",null==T.location?null:T.location.phone," "),r.R7$(2),r.FS9("src",null==T.location?null:T.location.image,r.B4B),r.R7$(3),r.Y8G("ngIf",T.useMockMap)("ngIfElse",j)}},dependencies:[it.bT,Te],styles:[".location-page-container[_ngcontent-%COMP%]{text-align:center;padding:20px}.map-container[_ngcontent-%COMP%]{width:100%;height:400px;border-radius:10px;margin-top:20px}"]})}}return y})()},{path:"login",component:Jh},{path:"admin",loadChildren:()=>k.e(380).then(k.bind(k,1380)).then(y=>y.AdminModule)},{path:":id",component:Ee.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Xd=(()=>{class y{static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275mod=r.$C({type:y})}static{this.\u0275inj=r.G2t({imports:[ae.iI.forRoot(gc),ae.iI]})}}return y})();var tf=k(5009);function Dy(y,u){if(1&y&&r.nrm(0,"img",12),2&y){const l=r.XpG();r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}function Ym(y,u){1&y&&(r.j41(0,"li",18),r.EFF(1,"No locations available"),r.k0s())}function kp(y,u){if(1&y){const l=r.RV6();r.j41(0,"li",18)(1,"span",19),r.bIt("click",function(){const j=r.eBV(l).index,ie=r.XpG(2);return r.Njj(ie.selectLocation(j))}),r.EFF(2),r.k0s()()}if(2&y){const l=u.$implicit;r.R7$(2),r.JRh(l.locationName||"Unknown City")}}function Xm(y,u){if(1&y){const l=r.RV6();r.j41(0,"li",13)(1,"span",14),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleDropdown(0))}),r.EFF(2," Locations "),r.k0s(),r.j41(3,"ul",15),r.DNE(4,Ym,2,0,"li",16),r.DNE(5,kp,3,1,"li",17),r.k0s()()}if(2&y){const l=r.XpG();r.R7$(3),r.AVh("show",0===l.expandedDropdownIndex),r.R7$(1),r.Y8G("ngIf",0===l.locations.length),r.R7$(1),r.Y8G("ngForOf",l.locations)}}function Sy(y,u){if(1&y){const l=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(2,"Our Home"),r.k0s()()}}function Uu(y,u){if(1&y){const l=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(2,"Our Work"),r.k0s()()}}function Ry(y,u){if(1&y){const l=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(2,"Resident Form"),r.k0s()()}}const Qm=function(y){return{"clemo-shrink":y}},m_=function(){return["/home"]},Qd=function(y){return{id:y}},nf=function(y){return{"clemo-show":y}};let Na=(()=>{class y{constructor(l,p,T){this.route=l,this.router=p,this.businessDataService=T,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1,this.locationsOpen=!1,this.selectedLocation=null,this.expandedDropdownIndex=null}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}),this.businessDataService.getLocations().subscribe(p=>{this.locations=p}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(l){const p=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:p}).then(T=>{T||console.error("Navigation failed!")})}toggleDropdown(l){this.expandedDropdownIndex=this.expandedDropdownIndex===l?null:l}selectLocation(l){const p={locationIndex:l};this.businessId&&(p.id=this.businessId),this.router.navigate(["/location"],{queryParams:p}).then(T=>{T?this.closeMenu():console.error("\u274c Navigation failed!")})}toggleLocations(){this.locationsOpen=!this.locationsOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(ae.nX),r.rXU(ae.Ix),r.rXU(Ce.A))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-expandable-navigation"]],hostBindings:function(p,T){1&p&&r.bIt("scroll",function(){return T.onWindowScroll()},!1,r.tSv)},decls:24,vars:16,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-linkitem"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-linkitem dropdown",4,"ngIf"],["class","clemo-nav-linkitem",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"],[1,"clemo-nav-linkitem","dropdown"],[1,"clemo-nav-link","dropdown-toggle",3,"click"],[1,"dropdown-menu"],["class","dropdown-item",4,"ngIf"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"dropdown-item"],[3,"click"]],template:function(p,T){1&p&&(r.j41(0,"nav",0)(1,"div",1)(2,"a",2),r.DNE(3,Dy,1,1,"img",3),r.k0s(),r.j41(4,"button",4),r.bIt("click",function(){return T.toggleMenu()}),r.nrm(5,"span",5),r.k0s(),r.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),r.bIt("click",function(){return T.navigateTo("home")}),r.EFF(10,"Home"),r.k0s()(),r.DNE(11,Xm,6,4,"li",10),r.j41(12,"li",8)(13,"span",9),r.bIt("click",function(){return T.navigateTo("about-us")}),r.EFF(14,"About Us"),r.k0s()(),r.j41(15,"li",8)(16,"span",9),r.bIt("click",function(){return T.navigateTo("services")}),r.EFF(17,"Services"),r.k0s()(),r.DNE(18,Sy,3,0,"li",11),r.DNE(19,Uu,3,0,"li",11),r.DNE(20,Ry,3,0,"li",11),r.j41(21,"li",8)(22,"span",9),r.bIt("click",function(){return T.navigateTo("contact-us")}),r.EFF(23,"Contact"),r.k0s()()()()()()),2&p&&(r.Y8G("ngClass",r.eq3(9,Qm,T.isShrunk)),r.R7$(2),r.Y8G("routerLink",r.lJ4(11,m_))("queryParams",r.eq3(12,Qd,T.businessId)),r.R7$(1),r.Y8G("ngIf",null==T.business?null:T.business.logoImage),r.R7$(3),r.Y8G("ngClass",r.eq3(14,nf,T.menuOpen)),r.R7$(5),r.Y8G("ngIf",T.locations.length>1),r.R7$(7),r.Y8G("ngIf","sb"!=T.layoutType),r.R7$(1),r.Y8G("ngIf","sb"==T.layoutType),r.R7$(1),r.Y8G("ngIf","sb"!=T.layoutType))},dependencies:[it.YU,it.Sq,it.bT,ae.Wk]})}}return y})();function rf(y,u){if(1&y&&r.nrm(0,"img",13),2&y){const l=r.XpG(2);r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}const sf=function(){return["/home"]},ju=function(y){return{id:y}},af=function(y){return{"open-bar1":y}},lf=function(y){return{"open-bar2":y}},cf=function(y){return{"open-bar3":y}},Fp=function(y){return{active:y}};function uf(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),r.DNE(5,rf,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(20,"Contact"),r.k0s()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(7,sf))("queryParams",r.eq3(8,ju,l.businessId)),r.R7$(1),r.Y8G("ngIf",null==l.business?null:l.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(10,af,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(12,lf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,cf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,Fp,l.menuOpen))}}function df(y,u){if(1&y&&r.nrm(0,"img",13),2&y){const l=r.XpG(2);r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}const Jm=function(){return["/contact-us"]};function Zm(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),r.DNE(5,df,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("testimonials"))}),r.EFF(20,"Testimonials"),r.k0s(),r.j41(21,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(22,"Contact"),r.k0s(),r.j41(23,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(24,"Resident Form"),r.k0s()(),r.j41(25,"div",4)(26,"a",5)(27,"button",15),r.EFF(28,"Schedule a Visit"),r.k0s()()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(9,sf))("queryParams",r.eq3(10,ju,l.businessId)),r.R7$(1),r.Y8G("ngIf",null==l.business?null:l.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(12,af,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,lf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,cf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(18,Fp,l.menuOpen)),r.R7$(16),r.Y8G("routerLink",r.lJ4(20,Jm))("queryParams",r.eq3(21,ju,l.businessId))}}function Lp(y,u){1&y&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function g_(y,u){1&y&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function Jd(y,u){if(1&y&&r.nrm(0,"img",13),2&y){const l=r.XpG(2);r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}function __(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"nav",16)(2,"div",3)(3,"div",4)(4,"a",5),r.DNE(5,Jd,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("contact-us"))}),r.EFF(20,"Contact"),r.k0s()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(7,sf))("queryParams",r.eq3(8,ju,l.businessId)),r.R7$(1),r.Y8G("ngIf",null==l.business?null:l.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(10,af,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(12,lf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,cf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,Fp,l.menuOpen))}}function eg(y,u){1&y&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function tg(y,u){if(1&y&&r.nrm(0,"img",13),2&y){const l=r.XpG(2);r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}function _c(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),r.DNE(5,tg,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(18,"gallery"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(20,"Contact"),r.k0s(),r.j41(21,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(22,"Intake Form"),r.k0s()(),r.j41(23,"div",4)(24,"a",5)(25,"button",15),r.EFF(26,"Schedule a Visit"),r.k0s()()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(9,sf))("queryParams",r.eq3(10,ju,l.businessId)),r.R7$(1),r.Y8G("ngIf",null==l.business?null:l.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(12,af,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,lf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,cf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(18,Fp,l.menuOpen)),r.R7$(14),r.Y8G("routerLink",r.lJ4(20,Jm))("queryParams",r.eq3(21,ju,l.businessId))}}let Vp=(()=>{class y{constructor(l,p,T){this.route=l,this.router=p,this.businessDataService=T,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}))})}navigateTo(l){const p=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:p}).then(T=>{T||console.error("Navigation failed!")})}scrollToSection(l){const p=document.getElementById(l);p&&p.scrollIntoView({behavior:"smooth",block:"start"}),this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(ae.nX),r.rXU(ae.Ix),r.rXU(Ce.A))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-navigation"]],decls:8,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"],[1,"navbar_sp"]],template:function(p,T){1&p&&(r.j41(0,"div",0),r.DNE(1,uf,21,18,"ng-container",1),r.DNE(2,Zm,29,23,"ng-container",1),r.DNE(3,Lp,2,0,"ng-container",1),r.DNE(4,g_,2,0,"ng-container",1),r.DNE(5,__,21,18,"ng-container",1),r.DNE(6,eg,2,0,"ng-container",1),r.DNE(7,_c,27,23,"ng-container",1),r.k0s()),2&p&&(r.Y8G("ngSwitch",T.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","sp"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngSwitchCase","demo"))},dependencies:[it.YU,it.bT,it.ux,it.e1,ae.Wk,Na],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;max-width:var(--site-max-width);margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 1081px){.navbar_[_ngcontent-%COMP%]{max-width:100vw}.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.nav-item[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;padding:0}.ae-navbar-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .afhBtn[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;max-width:100vw;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return y})();function ng(y,u){if(1&y&&(r.qex(0),r.j41(1,"footer",4)(2,"div",5)(3,"h2",6),r.EFF(4),r.k0s(),r.nrm(5,"hr",7),r.j41(6,"div",8)(7,"div",9)(8,"h3",10),r.EFF(9,"Location:"),r.k0s(),r.j41(10,"address"),r.EFF(11),r.k0s()(),r.j41(12,"div",9)(13,"h3",10),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Email: "),r.j41(17,"a",11),r.EFF(18),r.k0s()(),r.j41(19,"p"),r.EFF(20,"Phone: "),r.j41(21,"a",11),r.EFF(22),r.k0s()()(),r.j41(23,"div",9)(24,"h3",10),r.EFF(25),r.k0s(),r.j41(26,"p"),r.EFF(27,"Email: "),r.j41(28,"a",11),r.EFF(29),r.k0s()(),r.j41(30,"p"),r.EFF(31,"Phone: "),r.j41(32,"a",11),r.EFF(33),r.k0s()()()()(),r.j41(34,"div",12)(35,"div",13)(36,"div",14)(37,"p"),r.EFF(38,"DESIGNED BY "),r.j41(39,"a",15),r.EFF(40,"SB MEDIA HUB"),r.k0s()()(),r.j41(41,"div",16)(42,"p"),r.EFF(43," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()(),r.bVm()),2&y){const l=r.XpG();r.R7$(4),r.JRh(null==l.business?null:l.business.businessName),r.R7$(7),r.SpI(" ",null==l.business?null:l.business.address," "),r.R7$(3),r.SpI("Provider:",null==l.business?null:l.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone),r.R7$(3),r.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone)}}function Py(y,u){if(1&y&&(r.qex(0),r.j41(1,"footer",17)(2,"div",18)(3,"div",19),r.nrm(4,"hr",20),r.j41(5,"h2",21),r.EFF(6),r.k0s(),r.nrm(7,"hr",20),r.k0s(),r.j41(8,"div",22)(9,"div",23)(10,"h3",24),r.EFF(11,"Owner:"),r.k0s(),r.j41(12,"p"),r.EFF(13),r.k0s()(),r.j41(14,"div",23)(15,"h3",24),r.EFF(16,"Location:"),r.k0s(),r.j41(17,"p"),r.EFF(18),r.k0s()(),r.j41(19,"div",23)(20,"h3",24),r.EFF(21,"Provider:"),r.k0s(),r.j41(22,"p"),r.EFF(23),r.k0s(),r.j41(24,"p"),r.EFF(25,"Email: "),r.j41(26,"a",11),r.EFF(27),r.k0s()(),r.j41(28,"p"),r.EFF(29,"Phone: "),r.j41(30,"a",11),r.EFF(31),r.k0s()()()(),r.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"p"),r.EFF(36,"DESIGNED BY "),r.j41(37,"a",15),r.EFF(38,"SB MEDIA HUB"),r.k0s()()(),r.j41(39,"div",16)(40,"p"),r.EFF(41),r.k0s()()()()()(),r.bVm()),2&y){const l=r.XpG();r.R7$(6),r.JRh(null==l.business?null:l.business.businessName),r.R7$(7),r.JRh(null==l.business?null:l.business.providerName),r.R7$(5),r.JRh(null==l.business?null:l.business.address),r.R7$(5),r.JRh(null==l.business?null:l.business.providerName),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.email),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone),r.R7$(10),r.Lme("\xa9 ",2024," ",null==l.business?null:l.business.businessName,". All rights reserved.")}}function Bu(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",26)(3,"nav",27)(4,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(5,"HOME"),r.k0s(),r.j41(6,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(7,"ABOUT US"),r.k0s(),r.j41(8,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(9,"SERVICES"),r.k0s(),r.j41(10,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(11,"OUR HOME"),r.k0s(),r.j41(12,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("testimonials"))}),r.EFF(13,"TESTIMONIALS"),r.k0s(),r.j41(14,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(15,"RESIDENT FORM"),r.k0s(),r.j41(16,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(17,"CONTACT"),r.k0s()()(),r.j41(18,"div",29)(19,"div",30),r.nrm(20,"img",31),r.k0s(),r.j41(21,"h4",32),r.EFF(22),r.k0s()(),r.j41(23,"div",33)(24,"div",34)(25,"h4",32),r.EFF(26,"Address"),r.k0s(),r.j41(27,"p"),r.EFF(28),r.k0s()(),r.j41(29,"div",35)(30,"h4",32),r.EFF(31,"Contact Us"),r.k0s(),r.j41(32,"p"),r.EFF(33),r.nrm(34,"br"),r.EFF(35,"Email: "),r.j41(36,"a",11),r.EFF(37),r.k0s()()(),r.j41(38,"div",36)(39,"h4",32),r.EFF(40,"Provider"),r.k0s(),r.j41(41,"p"),r.EFF(42),r.k0s()()(),r.j41(43,"div",12)(44,"div",37)(45,"div",38)(46,"p"),r.EFF(47,"DESIGNED BY "),r.j41(48,"a",15),r.EFF(49,"SB MEDIA HUB"),r.k0s()()(),r.j41(50,"div",39)(51,"p"),r.EFF(52,"\xa9 Copyright 2025. All rights reserved."),r.k0s()()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(20),r.FS9("src",null==l.business?null:l.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==l.business?null:l.business.businessName),r.R7$(6),r.JRh(null==l.business?null:l.business.address),r.R7$(5),r.SpI("Phone:",null==l.business?null:l.business.phone,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(5),r.JRh(null==l.business?null:l.business.providerName)}}function rg(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",33)(3,"div",29),r.nrm(4,"img",31),r.j41(5,"h4"),r.EFF(6),r.k0s(),r.j41(7,"p",35),r.EFF(8),r.k0s(),r.j41(9,"p",34),r.EFF(10),r.k0s()(),r.j41(11,"div",40)(12,"a",41),r.nrm(13,"i",42),r.k0s(),r.j41(14,"a",41),r.nrm(15,"i",43),r.k0s()(),r.j41(16,"nav",27)(17,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(18,"HOME"),r.k0s(),r.j41(19,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(20,"ABOUT US"),r.k0s(),r.j41(21,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(22,"SERVICES"),r.k0s(),r.j41(23,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(24,"OUR HOME"),r.k0s(),r.j41(25,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("testimonials"))}),r.EFF(26,"TESTIMONIALS"),r.k0s(),r.j41(27,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(28,"RESIDENT FORM"),r.k0s(),r.j41(29,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(30,"CONTACT"),r.k0s()(),r.j41(31,"div",12)(32,"div",13)(33,"div",14)(34,"p"),r.EFF(35,"DESIGNED BY "),r.j41(36,"a",15),r.EFF(37,"SB MEDIA HUB"),r.k0s()()(),r.j41(38,"div",16)(39,"p"),r.EFF(40," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(4),r.FS9("src",null==l.business?null:l.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==l.business?null:l.business.businessName),r.R7$(2),r.JRh(null==l.business?null:l.business.phone),r.R7$(2),r.JRh(null==l.business?null:l.business.address)}}function My(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",33)(3,"div",29),r.nrm(4,"img",31),r.j41(5,"p",35),r.EFF(6),r.k0s(),r.j41(7,"p",34),r.EFF(8),r.k0s()(),r.j41(9,"div",40)(10,"a",41),r.nrm(11,"i",42),r.k0s(),r.j41(12,"a",41),r.nrm(13,"i",43),r.k0s()(),r.j41(14,"nav",27)(15,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(16,"HOME"),r.k0s(),r.j41(17,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(18,"ABOUT US"),r.k0s(),r.j41(19,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(20,"SERVICES"),r.k0s(),r.j41(21,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(22,"OUR WORK"),r.k0s(),r.j41(23,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(24,"CONTACT"),r.k0s()(),r.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"p"),r.EFF(29,"DESIGNED BY "),r.j41(30,"a",15),r.EFF(31,"SB MEDIA HUB"),r.k0s()()(),r.j41(32,"div",16)(33,"p"),r.EFF(34," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(4),r.FS9("src",null==l.business?null:l.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==l.business?null:l.business.phone),r.R7$(2),r.JRh(null==l.business?null:l.business.address)}}function Up(y,u){if(1&y&&(r.qex(0),r.j41(1,"footer",4)(2,"div",5)(3,"h2",6),r.EFF(4),r.k0s(),r.nrm(5,"hr",7),r.j41(6,"div",8)(7,"div",9)(8,"h3",10),r.EFF(9,"Location:"),r.k0s(),r.j41(10,"address"),r.EFF(11),r.k0s()(),r.j41(12,"div",9)(13,"h3",10),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Email: "),r.j41(17,"a",11),r.EFF(18),r.k0s()(),r.j41(19,"p"),r.EFF(20,"Phone: "),r.j41(21,"a",11),r.EFF(22),r.k0s()()(),r.j41(23,"div",9)(24,"h3",10),r.EFF(25),r.k0s(),r.j41(26,"p"),r.EFF(27,"Email: "),r.j41(28,"a",11),r.EFF(29),r.k0s()(),r.j41(30,"p"),r.EFF(31,"Phone: "),r.j41(32,"a",11),r.EFF(33),r.k0s()()()()()(),r.bVm()),2&y){const l=r.XpG();r.R7$(4),r.JRh(null==l.business?null:l.business.businessName),r.R7$(7),r.SpI(" ",null==l.business?null:l.business.address," "),r.R7$(3),r.SpI("Provider:",null==l.business?null:l.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone),r.R7$(3),r.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone)}}function y_(y,u){if(1&y&&(r.j41(0,"div",44)(1,"h1",45),r.EFF(2,"Debugger:"),r.k0s(),r.j41(3,"div",46)(4,"div",47)(5,"span",48),r.EFF(6,"Theme File:"),r.k0s(),r.j41(7,"span",49),r.EFF(8),r.k0s()(),r.j41(9,"div",47)(10,"span",48),r.EFF(11,"Theme Type:"),r.k0s(),r.j41(12,"span",49),r.EFF(13),r.k0s()(),r.j41(14,"div",47)(15,"span",48),r.EFF(16,"Business ID:"),r.k0s(),r.j41(17,"span",49),r.EFF(18),r.k0s()(),r.j41(19,"div",47)(20,"span",48),r.EFF(21,"Business Name:"),r.k0s(),r.j41(22,"span",49),r.EFF(23),r.k0s()(),r.j41(24,"div",47)(25,"span",48),r.EFF(26,"Environment:"),r.k0s(),r.j41(27,"span",49),r.EFF(28),r.k0s()(),r.j41(29,"div",47)(30,"span",48),r.EFF(31,"Use Mock Map:"),r.k0s(),r.j41(32,"span",49),r.EFF(33),r.k0s()(),r.j41(34,"div",47)(35,"span",48),r.EFF(36,"Use Mock Reviews:"),r.k0s(),r.j41(37,"span",49),r.EFF(38),r.k0s()()()()),2&y){const l=r.XpG();r.R7$(8),r.JRh(l.themeFileName),r.R7$(5),r.JRh(null==l.business||null==l.business.theme?null:l.business.theme.themeType),r.R7$(5),r.JRh(null==l.business?null:l.business.id),r.R7$(5),r.JRh(null==l.business?null:l.business.businessName),r.R7$(5),r.JRh(l.envName),r.R7$(5),r.JRh(l.useMockMap),r.R7$(5),r.JRh(l.useMockReviews)}}let xy=(()=>{class y{constructor(l,p,T,j,ie,de){this.route=l,this.webContentService=p,this.authService=T,this.themeService=j,this.businessDataService=ie,this.router=de,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo",this.envName=Wh.c.production?"Production":"Development",this.useMockMap=Wh.c.useMockGoogleMap,this.useMockReviews=Wh.c.useMockGoogleReviews}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(l){this.businessDataService.getBusinessId().subscribe(p=>{const T=p||this.businessId,j=T?{id:T}:{};console.log("Navigating to:",l,"with params:",j),this.router.navigate([`/${l}`],{queryParams:j}).then(ie=>{ie||console.error("Navigation failed!")})})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(l=>{this.business=l}),this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(p=>{p&&(this.themeFileName=p.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(ae.nX),r.rXU(rt.N),r.rXU(Mp.u),r.rXU(tf.F),r.rXU(Ce.A),r.rXU(ae.Ix))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-footer"]],decls:9,vars:9,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"clemo-footer-bottom"],[1,"copy"],[1,"design"],["href","sbmediahub.com"],[1,"rights"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"clemo-footer"],[1,"clemo-footer-links"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"clemo-footer-logo"],[1,"logo-circle"],["alt","",3,"src"],[1,"clemo-footer-section-heading"],[1,"clemo-footer-content"],[1,"clemo-footer-address"],[1,"clemo-footer-phone"],[1,"clemo-footer-contact"],[1,"clemo-footer-copy"],[1,"clemo-footer-design"],[1,"clemo-footer-rights"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(p,T){1&p&&(r.j41(0,"div",0),r.DNE(1,ng,44,12,"ng-container",1),r.DNE(2,Py,42,10,"ng-container",1),r.DNE(3,Bu,53,7,"ng-container",1),r.DNE(4,rg,41,4,"ng-container",1),r.DNE(5,My,35,3,"ng-container",1),r.DNE(6,Up,34,12,"ng-container",2),r.k0s(),r.DNE(7,y_,39,7,"div",3),r.nI1(8,"async")),2&p&&(r.Y8G("ngSwitch",T.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(2),r.Y8G("ngIf",r.bMT(8,7,T.isAuthenticated$)))},dependencies:[it.bT,it.ux,it.e1,it.fG,it.Jj]})}}return y})(),Oy=(()=>{class y{constructor(l,p,T,j,ie){this.route=l,this.webContent=p,this.metaService=T,this.router=j,this.themeService=ie,this.title="adult-family-home"}ngOnInit(){this.route.paramMap.subscribe(l=>{this.businessId=l.get("id")||"MGou3rzTVIbP77OLmZa7",this.loadBusinessData()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(l=>{l&&(this.business=l)})}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(ae.nX),r.rXU(rt.N),r.rXU(Ye.R),r.rXU(ae.Ix),r.rXU(tf.F))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-root"]],decls:3,vars:0,template:function(p,T){1&p&&r.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[ae.n3,Vp,xy]})}}return y})();const v__firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Wc=k(2214),to=k(5407);class hf{constructor(u){return u}}class ig{constructor(){return(0,Wc.Dk)()}}const pf=new r.nKC("angularfire2._apps"),sg={provide:hf,useFactory:function $u(y){return y&&1===y.length?y[0]:new hf((0,Wc.Sx)())},deps:[[new r.Xx1,pf]]},jp={provide:ig,deps:[[new r.Xx1,pf]]};function Zd(y){return(u,l)=>{const p=u.runOutsideAngular(()=>y(l));return new hf(p)}}let hi=(()=>{class y{constructor(l){(0,Wc.KO)("angularfire",to.xv.full,"core"),(0,Wc.KO)("angularfire",to.xv.full,"app"),(0,Wc.KO)("angular",r.xvI.full,l.toString())}static \u0275fac=function(p){return new(p||y)(r.KVO(r.Agw))};static \u0275mod=r.$C({type:y});static \u0275inj=r.G2t({providers:[sg,jp]})}return y})();function og(y,...u){return{ngModule:hi,providers:[{provide:pf,useFactory:Zd(y),multi:!0,deps:[r.SKi,r.zZn,to.u0,...u]}]}}const no=(0,to.S3)(Wc.Wp,!0);k(5504),k(7852),k(1076),k(8041),k(1362);class eh{constructor(){return(0,to.CA)("auth")}}var bf=k(9583);class gg{constructor(u){return u}}const P_="firestore",Xp=new r.nKC("angularfire2.firestore-instances");function qv(y){return(u,l)=>{const p=u.runOutsideAngular(()=>y(l));return new gg(p)}}const _g={provide:class Yp{constructor(){return(0,to.CA)(P_)}},deps:[[new r.Xx1,Xp]]},yg={provide:gg,useFactory:function lh(y,u){const l=(0,to.lR)(P_,y,u);return l&&new gg(l)},deps:[[new r.Xx1,Xp],hf]};let M_=(()=>{class y{constructor(){(0,Wc.KO)("angularfire",to.xv.full,"fst")}static \u0275fac=function(p){return new(p||y)};static \u0275mod=r.$C({type:y});static \u0275inj=r.G2t({providers:[yg,_g]})}return y})();function x_(y,...u){return{ngModule:M_,providers:[{provide:Xp,useFactory:qv(y),multi:!0,deps:[r.SKi,r.zZn,to.u0,ig,[new r.Xx1,eh],[new r.Xx1,to.Jv],...u]}]}}const L_=(0,to.S3)(bf.aU,!0);var L=k(9253),Y=k(8721),ue=k(1977),De=k(4535);class Ke{constructor(u){return u}}const Dt="storage",ln=new r.nKC("angularfire2.storage-instances");function dr(y){return(u,l)=>{const p=u.runOutsideAngular(()=>y(l));return new Ke(p)}}const nr={provide:class Xt{constructor(){return(0,to.CA)(Dt)}},deps:[[new r.Xx1,ln]]},Vr={provide:Ke,useFactory:function Zn(y,u){const l=(0,to.lR)(Dt,y,u);return l&&new Ke(l)},deps:[[new r.Xx1,ln],hf]};let Li=(()=>{class y{constructor(){(0,Wc.KO)("angularfire",to.xv.full,"gcs")}static \u0275fac=function(p){return new(p||y)};static \u0275mod=r.$C({type:y});static \u0275inj=r.G2t({providers:[Vr,nr]})}return y})();function ri(y,...u){return{ngModule:Li,providers:[{provide:ln,useFactory:dr(y),multi:!0,deps:[r.SKi,r.zZn,to.u0,ig,[new r.Xx1,eh],[new r.Xx1,to.Jv],...u]}]}}const If=(0,to.S3)(De.c7,!0);var ov=k(3012);let wf=(()=>{class y{constructor(l,p,T){this.http=l,this.themeService=p,this.businessService=T,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(l){return new Promise((p,T)=>{this.themeService.getBusinessTheme(l).subscribe({next:j=>{this.themeService.applyThemeFile(j?j.themeFileName:"default.css").then(()=>p()).catch(de=>{console.error("Error applying theme file:",de),p()}),this.themeService.getThemeColors(l).subscribe(de=>{this.applyTheme(de),p()},de=>{console.error("Error loading theme:",de),p()})},error:j=>{console.error("Error loading business theme:",j),this.themeService.applyThemeFile("default.css").then(()=>p()).catch(ie=>{console.error("Error applying default theme file:",ie),p()})}})})}applyTheme(l){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",l.primaryColor),document.documentElement.style.setProperty("--secondary-color",l.secondaryColor),document.documentElement.style.setProperty("--accent-color",l.accentColor),document.documentElement.style.setProperty("--background-color",l.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",l.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",l.textColor),document.documentElement.style.setProperty("--nav-background-color",l.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",l.navTextColor),document.documentElement.style.setProperty("--nav-active-background",l.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",l.navActiveText),document.documentElement.style.setProperty("--button-color",l.buttonColor),document.documentElement.style.setProperty("--button-hover-color",l.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(l){return l.primaryColor&&l.secondaryColor&&l.accentColor&&l.backgroundColor&&l.darkBackgroundColor&&l.textColor&&l.navBackgroundColor&&l.navTextColor&&l.navActiveBackground&&l.navActiveText&&l.buttonColor&&l.buttonHoverColor}static{this.\u0275fac=function(p){return new(p||y)(r.KVO(be.Qq),r.KVO(tf.F),r.KVO(ov.u))}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();var Ci=k(9969);function $_(y){return new r.wOt(3e3,!1)}function ra(y){switch(y.length){case 0:return new Ci.sf;case 1:return y[0];default:return new Ci.ui(y)}}function Xu(y,u,l=new Map,p=new Map){const T=[],j=[];let ie=-1,de=null;if(u.forEach(Pe=>{const Qe=Pe.get("offset"),wt=Qe==ie,nn=wt&&de||new Map;Pe.forEach(($n,Tn)=>{let On=Tn,Dn=$n;if("offset"!==Tn)switch(On=y.normalizePropertyName(On,T),Dn){case Ci.FX:Dn=l.get(Tn);break;case Ci.kp:Dn=p.get(Tn);break;default:Dn=y.normalizeStyleValue(Tn,On,Dn,T)}nn.set(On,Dn)}),wt||j.push(nn),de=nn,ie=Qe}),T.length)throw function vE(y){return new r.wOt(3502,!1)}();return j}function fh(y,u,l,p){switch(u){case"start":y.onStart(()=>p(l&&lm(l,"start",y)));break;case"done":y.onDone(()=>p(l&&lm(l,"done",y)));break;case"destroy":y.onDestroy(()=>p(l&&lm(l,"destroy",y)))}}function lm(y,u,l){const j=Qu(y.element,y.triggerName,y.fromState,y.toState,u||y.phaseName,l.totalTime??y.totalTime,!!l.disabled),ie=y._data;return null!=ie&&(j._data=ie),j}function Qu(y,u,l,p,T="",j=0,ie){return{element:y,triggerName:u,fromState:l,toState:p,phaseName:T,totalTime:j,disabled:!!ie}}function ia(y,u,l){let p=y.get(u);return p||y.set(u,p=l),p}function Lo(y){const u=y.indexOf(":");return[y.substring(1,u),y.slice(u+1)]}const X_=(()=>typeof document>"u"?null:document.documentElement)();function Ju(y){const u=y.parentNode||y.host||null;return u===X_?null:u}let Zc=null,cm=!1;function Of(y,u){for(;u;){if(u===y)return!0;u=Ju(u)}return!1}function xg(y,u,l){if(l)return Array.from(y.querySelectorAll(u));const p=y.querySelector(u);return p?[p]:[]}let Nf=(()=>{class y{validateStyleProperty(l){return function ph(y){Zc||(Zc=function cv(){return typeof document<"u"?document.body:null}()||{},cm=!!Zc.style&&"WebkitAppearance"in Zc.style);let u=!0;return Zc.style&&!function xf(y){return"ebkit"==y.substring(1,6)}(y)&&(u=y in Zc.style,!u&&cm&&(u="Webkit"+y.charAt(0).toUpperCase()+y.slice(1)in Zc.style)),u}(l)}matchesElement(l,p){return!1}containsElement(l,p){return Of(l,p)}getParentElement(l){return Ju(l)}query(l,p,T){return xg(l,p,T)}computeStyle(l,p,T){return T||""}animate(l,p,T,j,ie,de=[],Pe){return new Ci.sf(T,j)}static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac})}}return y})(),Gl=(()=>{class y{static{this.NOOP=new Nf}}return y})();const J_=1e3,kf="ng-enter",hm="ng-leave",mh="ng-trigger",Ff=".ng-trigger",fm="ng-animating",Zu=".ng-animating";function cl(y){if("number"==typeof y)return y;const u=y.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:ed(parseFloat(u[1]),u[2])}function ed(y,u){return"s"===u?y*J_:y}function ka(y,u,l){return y.hasOwnProperty("duration")?y:function Og(y,u,l){let T,j=0,ie="";if("string"==typeof y){const de=y.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===de)return u.push($_()),{duration:0,delay:0,easing:""};T=ed(parseFloat(de[1]),de[2]);const Pe=de[3];null!=Pe&&(j=ed(parseFloat(Pe),de[4]));const Qe=de[5];Qe&&(ie=Qe)}else T=y;if(!l){let de=!1,Pe=u.length;T<0&&(u.push(function G_(){return new r.wOt(3100,!1)}()),de=!0),j<0&&(u.push(function nm(){return new r.wOt(3101,!1)}()),de=!0),de&&u.splice(Pe,0,$_())}return{duration:T,delay:j,easing:ie}}(y,u,l)}function sa(y,u={}){return Object.keys(y).forEach(l=>{u[l]=y[l]}),u}function td(y){const u=new Map;return Object.keys(y).forEach(l=>{u.set(l,y[l])}),u}function va(y,u=new Map,l){if(l)for(let[p,T]of l)u.set(p,T);for(let[p,T]of y)u.set(p,T);return u}function As(y,u,l){u.forEach((p,T)=>{const j=Vo(T);l&&!l.has(T)&&l.set(T,y.style[j]),y.style[j]=p})}function Hl(y,u){u.forEach((l,p)=>{const T=Vo(p);y.style[T]=""})}function ul(y){return Array.isArray(y)?1==y.length?y[0]:(0,Ci.K2)(y):y}const eu=new RegExp("{{\\s*(.+?)\\s*}}","g");function tu(y){let u=[];if("string"==typeof y){let l;for(;l=eu.exec(y);)u.push(l[1]);eu.lastIndex=0}return u}function dl(y,u,l){const p=y.toString(),T=p.replace(eu,(j,ie)=>{let de=u[ie];return null==de&&(l.push(function rm(y){return new r.wOt(3003,!1)}()),de=""),de.toString()});return T==p?y:T}function wc(y){const u=[];let l=y.next();for(;!l.done;)u.push(l.value),l=y.next();return u}const Fa=/-+([a-z0-9])/g;function Vo(y){return y.replace(Fa,(...u)=>u[1].toUpperCase())}function fi(y,u,l){switch(u.type){case 7:return y.visitTrigger(u,l);case 0:return y.visitState(u,l);case 1:return y.visitTransition(u,l);case 2:return y.visitSequence(u,l);case 3:return y.visitGroup(u,l);case 4:return y.visitAnimate(u,l);case 5:return y.visitKeyframes(u,l);case 6:return y.visitStyle(u,l);case 8:return y.visitReference(u,l);case 9:return y.visitAnimateChild(u,l);case 10:return y.visitAnimateRef(u,l);case 11:return y.visitQuery(u,l);case 12:return y.visitStagger(u,l);default:throw function dh(y){return new r.wOt(3004,!1)}()}}function _h(y,u){return window.getComputedStyle(y)[u]}const pm="*";function EE(y,u){const l=[];return"string"==typeof y?y.split(/\s*,\s*/).forEach(p=>function mm(y,u,l){if(":"==y[0]){const Pe=function ru(y,u){switch(y){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,p)=>parseFloat(p)>parseFloat(l);case":decrement":return(l,p)=>parseFloat(p)<parseFloat(l);default:return u.push(function mo(y){return new r.wOt(3016,!1)}()),"* => *"}}(y,l);if("function"==typeof Pe)return void u.push(Pe);y=Pe}const p=y.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return l.push(function Fo(y){return new r.wOt(3015,!1)}()),u;const T=p[1],j=p[2],ie=p[3];u.push(kg(T,ie));"<"==j[0]&&!(T==pm&&ie==pm)&&u.push(kg(ie,T))}(p,l,u)):l.push(y),l}const jf=new Set(["true","1"]),gm=new Set(["false","0"]);function kg(y,u){const l=jf.has(y)||gm.has(y),p=jf.has(u)||gm.has(u);return(T,j)=>{let ie=y==pm||y==T,de=u==pm||u==j;return!ie&&l&&"boolean"==typeof T&&(ie=T?jf.has(y):gm.has(y)),!de&&p&&"boolean"==typeof j&&(de=j?jf.has(u):gm.has(u)),ie&&de}}const hv=new RegExp("s*:selfs*,?","g");function Fg(y,u,l,p){return new zl(y).build(u,l,p)}class zl{constructor(u){this._driver=u}build(u,l,p){const T=new iu(l);return this._resetContextStyleTimingState(T),fi(this,ul(u),T)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,l){let p=l.queryCount=0,T=l.depCount=0;const j=[],ie=[];return"@"==u.name.charAt(0)&&l.errors.push(function H_(){return new r.wOt(3006,!1)}()),u.definitions.forEach(de=>{if(this._resetContextStyleTimingState(l),0==de.type){const Pe=de,Qe=Pe.name;Qe.toString().split(/\s*,\s*/).forEach(wt=>{Pe.name=wt,j.push(this.visitState(Pe,l))}),Pe.name=Qe}else if(1==de.type){const Pe=this.visitTransition(de,l);p+=Pe.queryCount,T+=Pe.depCount,ie.push(Pe)}else l.errors.push(function Ig(){return new r.wOt(3007,!1)}())}),{type:7,name:u.name,states:j,transitions:ie,queryCount:p,depCount:T,options:null}}visitState(u,l){const p=this.visitStyle(u.styles,l),T=u.options&&u.options.params||null;if(p.containsDynamicStyles){const j=new Set,ie=T||{};p.styles.forEach(de=>{de instanceof Map&&de.forEach(Pe=>{tu(Pe).forEach(Qe=>{ie.hasOwnProperty(Qe)||j.add(Qe)})})}),j.size&&(wc(j.values()),l.errors.push(function Cg(y,u){return new r.wOt(3008,!1)}()))}return{type:0,name:u.name,style:p,options:T?{params:T}:null}}visitTransition(u,l){l.queryCount=0,l.depCount=0;const p=fi(this,ul(u.animation),l);return{type:1,matchers:EE(u.expr,l.errors),animation:p,queryCount:l.queryCount,depCount:l.depCount,options:La(u.options)}}visitSequence(u,l){return{type:2,steps:u.steps.map(p=>fi(this,p,l)),options:La(u.options)}}visitGroup(u,l){const p=l.currentTime;let T=0;const j=u.steps.map(ie=>{l.currentTime=p;const de=fi(this,ie,l);return T=Math.max(T,l.currentTime),de});return l.currentTime=T,{type:3,steps:j,options:La(u.options)}}visitAnimate(u,l){const p=function vh(y,u){if(y.hasOwnProperty("duration"))return y;if("number"==typeof y)return nd(ka(y,u).duration,0,"");const l=y;if(l.split(/\s+/).some(j=>"{"==j.charAt(0)&&"{"==j.charAt(1))){const j=nd(0,0,"");return j.dynamic=!0,j.strValue=l,j}const T=ka(l,u);return nd(T.duration,T.delay,T.easing)}(u.timings,l.errors);l.currentAnimateTimings=p;let T,j=u.styles?u.styles:(0,Ci.iF)({});if(5==j.type)T=this.visitKeyframes(j,l);else{let ie=u.styles,de=!1;if(!ie){de=!0;const Qe={};p.easing&&(Qe.easing=p.easing),ie=(0,Ci.iF)(Qe)}l.currentTime+=p.duration+p.delay;const Pe=this.visitStyle(ie,l);Pe.isEmptyStep=de,T=Pe}return l.currentAnimateTimings=null,{type:4,timings:p,style:T,options:null}}visitStyle(u,l){const p=this._makeStyleAst(u,l);return this._validateStyleAst(p,l),p}_makeStyleAst(u,l){const p=[],T=Array.isArray(u.styles)?u.styles:[u.styles];for(let de of T)"string"==typeof de?de===Ci.kp?p.push(de):l.errors.push(new r.wOt(3002,!1)):p.push(td(de));let j=!1,ie=null;return p.forEach(de=>{if(de instanceof Map&&(de.has("easing")&&(ie=de.get("easing"),de.delete("easing")),!j))for(let Pe of de.values())if(Pe.toString().indexOf("{{")>=0){j=!0;break}}),{type:6,styles:p,easing:ie,offset:u.offset,containsDynamicStyles:j,options:null}}_validateStyleAst(u,l){const p=l.currentAnimateTimings;let T=l.currentTime,j=l.currentTime;p&&j>0&&(j-=p.duration+p.delay),u.styles.forEach(ie=>{"string"!=typeof ie&&ie.forEach((de,Pe)=>{const Qe=l.collectedStyles.get(l.currentQuerySelector),wt=Qe.get(Pe);let nn=!0;wt&&(j!=T&&j>=wt.startTime&&T<=wt.endTime&&(l.errors.push(function im(y,u,l,p,T){return new r.wOt(3010,!1)}()),nn=!1),j=wt.startTime),nn&&Qe.set(Pe,{startTime:j,endTime:T}),l.options&&function gh(y,u,l){const p=u.params||{},T=tu(y);T.length&&T.forEach(j=>{p.hasOwnProperty(j)||l.push(function Af(y){return new r.wOt(3001,!1)}())})}(de,l.options,l.errors)})})}visitKeyframes(u,l){const p={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function ll(){return new r.wOt(3011,!1)}()),p;let j=0;const ie=[];let de=!1,Pe=!1,Qe=0;const wt=u.steps.map($r=>{const Jr=this._makeStyleAst($r,l);let wi=null!=Jr.offset?Jr.offset:function $f(y){if("string"==typeof y)return null;let u=null;if(Array.isArray(y))y.forEach(l=>{if(l instanceof Map&&l.has("offset")){const p=l;u=parseFloat(p.get("offset")),p.delete("offset")}});else if(y instanceof Map&&y.has("offset")){const l=y;u=parseFloat(l.get("offset")),l.delete("offset")}return u}(Jr.styles),yr=0;return null!=wi&&(j++,yr=Jr.offset=wi),Pe=Pe||yr<0||yr>1,de=de||yr<Qe,Qe=yr,ie.push(yr),Jr});Pe&&l.errors.push(function K_(){return new r.wOt(3012,!1)}()),de&&l.errors.push(function av(){return new r.wOt(3200,!1)}());const nn=u.steps.length;let $n=0;j>0&&j<nn?l.errors.push(function Sf(){return new r.wOt(3202,!1)}()):0==j&&($n=1/(nn-1));const Tn=nn-1,On=l.currentTime,Dn=l.currentAnimateTimings,hr=Dn.duration;return wt.forEach(($r,Jr)=>{const wi=$n>0?Jr==Tn?1:$n*Jr:ie[Jr],yr=wi*hr;l.currentTime=On+Dn.delay+yr,Dn.duration=yr,this._validateStyleAst($r,l),$r.offset=wi,p.styles.push($r)}),p}visitReference(u,l){return{type:8,animation:fi(this,ul(u.animation),l),options:La(u.options)}}visitAnimateChild(u,l){return l.depCount++,{type:9,options:La(u.options)}}visitAnimateRef(u,l){return{type:10,animation:this.visitReference(u.animation,l),options:La(u.options)}}visitQuery(u,l){const p=l.currentQuerySelector,T=u.options||{};l.queryCount++,l.currentQuery=u;const[j,ie]=function Bf(y){const u=!!y.split(/\s*,\s*/).find(l=>":self"==l);return u&&(y=y.replace(hv,"")),y=y.replace(/@\*/g,Ff).replace(/@\w+/g,l=>Ff+"-"+l.slice(1)).replace(/:animating/g,Zu),[y,u]}(u.selector);l.currentQuerySelector=p.length?p+" "+j:j,ia(l.collectedStyles,l.currentQuerySelector,new Map);const de=fi(this,ul(u.animation),l);return l.currentQuery=null,l.currentQuerySelector=p,{type:11,selector:j,limit:T.limit||0,optional:!!T.optional,includeSelf:ie,animation:de,originalSelector:u.selector,options:La(u.options)}}visitStagger(u,l){l.currentQuery||l.errors.push(function wg(){return new r.wOt(3013,!1)}());const p="full"===u.timings?{duration:0,delay:0,easing:"full"}:ka(u.timings,l.errors,!0);return{type:12,animation:fi(this,ul(u.animation),l),timings:p,options:null}}}class iu{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function La(y){return y?(y=sa(y)).params&&(y.params=function Lg(y){return y?sa(y):null}(y.params)):y={},y}function nd(y,u,l){return{duration:y,delay:u,easing:l}}function su(y,u,l,p,T,j,ie=null,de=!1){return{type:1,element:y,keyframes:u,preStyleProps:l,postStyleProps:p,duration:T,delay:j,totalTime:T+j,easing:ie,subTimeline:de}}class Eh{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,l){let p=this._map.get(u);p||this._map.set(u,p=[]),p.push(...l)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const pv=new RegExp(":enter","g"),Gf=new RegExp(":leave","g");function rd(y,u,l,p,T,j=new Map,ie=new Map,de,Pe,Qe=[]){return(new Vg).buildKeyframes(y,u,l,p,T,j,ie,de,Pe,Qe)}class Vg{buildKeyframes(u,l,p,T,j,ie,de,Pe,Qe,wt=[]){Qe=Qe||new Eh;const nn=new hl(u,l,Qe,T,j,wt,[]);nn.options=Pe;const $n=Pe.delay?cl(Pe.delay):0;nn.currentTimeline.delayNextStep($n),nn.currentTimeline.setStyles([ie],null,nn.errors,Pe),fi(this,p,nn);const Tn=nn.timelines.filter(On=>On.containsAnimation());if(Tn.length&&de.size){let On;for(let Dn=Tn.length-1;Dn>=0;Dn--){const hr=Tn[Dn];if(hr.element===l){On=hr;break}}On&&!On.allowOnlyTimelineStyles()&&On.setStyles([de],null,nn.errors,Pe)}return Tn.length?Tn.map(On=>On.buildKeyframes()):[su(l,[],[],[],0,$n,"",!1)]}visitTrigger(u,l){}visitState(u,l){}visitTransition(u,l){}visitAnimateChild(u,l){const p=l.subInstructions.get(l.element);if(p){const T=l.createSubContext(u.options),j=l.currentTimeline.currentTime,ie=this._visitSubInstructions(p,T,T.options);j!=ie&&l.transformIntoNewTimeline(ie)}l.previousNode=u}visitAnimateRef(u,l){const p=l.createSubContext(u.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([u.options,u.animation.options],l,p),this.visitReference(u.animation,p),l.transformIntoNewTimeline(p.currentTimeline.currentTime),l.previousNode=u}_applyAnimationRefDelays(u,l,p){for(const T of u){const j=T?.delay;if(j){const ie="number"==typeof j?j:cl(dl(j,T?.params??{},l.errors));p.delayNextStep(ie)}}}_visitSubInstructions(u,l,p){let j=l.currentTimeline.currentTime;const ie=null!=p.duration?cl(p.duration):null,de=null!=p.delay?cl(p.delay):null;return 0!==ie&&u.forEach(Pe=>{const Qe=l.appendInstructionToTimeline(Pe,ie,de);j=Math.max(j,Qe.duration+Qe.delay)}),j}visitReference(u,l){l.updateOptions(u.options,!0),fi(this,u.animation,l),l.previousNode=u}visitSequence(u,l){const p=l.subContextCount;let T=l;const j=u.options;if(j&&(j.params||j.delay)&&(T=l.createSubContext(j),T.transformIntoNewTimeline(),null!=j.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Hf);const ie=cl(j.delay);T.delayNextStep(ie)}u.steps.length&&(u.steps.forEach(ie=>fi(this,ie,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>p&&T.transformIntoNewTimeline()),l.previousNode=u}visitGroup(u,l){const p=[];let T=l.currentTimeline.currentTime;const j=u.options&&u.options.delay?cl(u.options.delay):0;u.steps.forEach(ie=>{const de=l.createSubContext(u.options);j&&de.delayNextStep(j),fi(this,ie,de),T=Math.max(T,de.currentTimeline.currentTime),p.push(de.currentTimeline)}),p.forEach(ie=>l.currentTimeline.mergeTimelineCollectedStyles(ie)),l.transformIntoNewTimeline(T),l.previousNode=u}_visitTiming(u,l){if(u.dynamic){const p=u.strValue;return ka(l.params?dl(p,l.params,l.errors):p,l.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,l){const p=l.currentAnimateTimings=this._visitTiming(u.timings,l),T=l.currentTimeline;p.delay&&(l.incrementTime(p.delay),T.snapshotCurrentStyles());const j=u.style;5==j.type?this.visitKeyframes(j,l):(l.incrementTime(p.duration),this.visitStyle(j,l),T.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=u}visitStyle(u,l){const p=l.currentTimeline,T=l.currentAnimateTimings;!T&&p.hasCurrentStyleProperties()&&p.forwardFrame();const j=T&&T.easing||u.easing;u.isEmptyStep?p.applyEmptyStep(j):p.setStyles(u.styles,j,l.errors,l.options),l.previousNode=u}visitKeyframes(u,l){const p=l.currentAnimateTimings,T=l.currentTimeline.duration,j=p.duration,de=l.createSubContext().currentTimeline;de.easing=p.easing,u.styles.forEach(Pe=>{de.forwardTime((Pe.offset||0)*j),de.setStyles(Pe.styles,Pe.easing,l.errors,l.options),de.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(de),l.transformIntoNewTimeline(T+j),l.previousNode=u}visitQuery(u,l){const p=l.currentTimeline.currentTime,T=u.options||{},j=T.delay?cl(T.delay):0;j&&(6===l.previousNode.type||0==p&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Hf);let ie=p;const de=l.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!T.optional,l.errors);l.currentQueryTotal=de.length;let Pe=null;de.forEach((Qe,wt)=>{l.currentQueryIndex=wt;const nn=l.createSubContext(u.options,Qe);j&&nn.delayNextStep(j),Qe===l.element&&(Pe=nn.currentTimeline),fi(this,u.animation,nn),nn.currentTimeline.applyStylesToKeyframe(),ie=Math.max(ie,nn.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(ie),Pe&&(l.currentTimeline.mergeTimelineCollectedStyles(Pe),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=u}visitStagger(u,l){const p=l.parentContext,T=l.currentTimeline,j=u.timings,ie=Math.abs(j.duration),de=ie*(l.currentQueryTotal-1);let Pe=ie*l.currentQueryIndex;switch(j.duration<0?"reverse":j.easing){case"reverse":Pe=de-Pe;break;case"full":Pe=p.currentStaggerTime}const wt=l.currentTimeline;Pe&&wt.delayNextStep(Pe);const nn=wt.currentTime;fi(this,u.animation,l),l.previousNode=u,p.currentStaggerTime=T.currentTime-nn+(T.startTime-p.currentTimeline.startTime)}}const Hf={};class hl{constructor(u,l,p,T,j,ie,de,Pe){this._driver=u,this.element=l,this.subInstructions=p,this._enterClassName=T,this._leaveClassName=j,this.errors=ie,this.timelines=de,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Hf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Pe||new id(this._driver,l,0),de.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,l){if(!u)return;const p=u;let T=this.options;null!=p.duration&&(T.duration=cl(p.duration)),null!=p.delay&&(T.delay=cl(p.delay));const j=p.params;if(j){let ie=T.params;ie||(ie=this.options.params={}),Object.keys(j).forEach(de=>{(!l||!ie.hasOwnProperty(de))&&(ie[de]=dl(j[de],ie,this.errors))})}}_copyOptions(){const u={};if(this.options){const l=this.options.params;if(l){const p=u.params={};Object.keys(l).forEach(T=>{p[T]=l[T]})}}return u}createSubContext(u=null,l,p){const T=l||this.element,j=new hl(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,p||0));return j.previousNode=this.previousNode,j.currentAnimateTimings=this.currentAnimateTimings,j.options=this._copyOptions(),j.updateOptions(u),j.currentQueryIndex=this.currentQueryIndex,j.currentQueryTotal=this.currentQueryTotal,j.parentContext=this,this.subContextCount++,j}transformIntoNewTimeline(u){return this.previousNode=Hf,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,l,p){const T={duration:l??u.duration,delay:this.currentTimeline.currentTime+(p??0)+u.delay,easing:""},j=new mv(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,T,u.stretchStartingKeyframe);return this.timelines.push(j),T}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,l,p,T,j,ie){let de=[];if(T&&de.push(this.element),u.length>0){u=(u=u.replace(pv,"."+this._enterClassName)).replace(Gf,"."+this._leaveClassName);let Qe=this._driver.query(this.element,u,1!=p);0!==p&&(Qe=p<0?Qe.slice(Qe.length+p,Qe.length):Qe.slice(0,p)),de.push(...Qe)}return!j&&0==de.length&&ie.push(function sm(y){return new r.wOt(3014,!1)}()),de}}class id{constructor(u,l,p,T){this._driver=u,this.element=l,this.startTime=p,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+u),l&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,l){return this.applyStylesToKeyframe(),new id(this._driver,u,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,l){this._localTimelineStyles.set(u,l),this._globalTimelineStyles.set(u,l),this._styleSummary.set(u,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[l,p]of this._globalTimelineStyles)this._backFill.set(l,p||Ci.kp),this._currentKeyframe.set(l,Ci.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,l,p,T){l&&this._previousKeyframe.set("easing",l);const j=T&&T.params||{},ie=function ny(y,u){const l=new Map;let p;return y.forEach(T=>{if("*"===T){p=p||u.keys();for(let j of p)l.set(j,Ci.kp)}else va(T,l)}),l}(u,this._globalTimelineStyles);for(let[de,Pe]of ie){const Qe=dl(Pe,j,p);this._pendingStyles.set(de,Qe),this._localTimelineStyles.has(de)||this._backFill.set(de,this._globalTimelineStyles.get(de)??Ci.kp),this._updateStyle(de,Qe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,l)=>{this._currentKeyframe.set(l,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,u)}))}snapshotCurrentStyles(){for(let[u,l]of this._localTimelineStyles)this._pendingStyles.set(u,l),this._updateStyle(u,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let l in this._currentKeyframe)u.push(l);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((l,p)=>{const T=this._styleSummary.get(p);(!T||l.time>T.time)&&this._updateStyle(p,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,l=new Set,p=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((de,Pe)=>{const Qe=va(de,new Map,this._backFill);Qe.forEach((wt,nn)=>{wt===Ci.FX?u.add(nn):wt===Ci.kp&&l.add(nn)}),p||Qe.set("offset",Pe/this.duration),T.push(Qe)});const j=u.size?wc(u.values()):[],ie=l.size?wc(l.values()):[];if(p){const de=T[0],Pe=new Map(de);de.set("offset",0),Pe.set("offset",1),T=[de,Pe]}return su(this.element,T,j,ie,this.duration,this.startTime,this.easing,!1)}}class mv extends id{constructor(u,l,p,T,j,ie,de=!1){super(u,l,ie.delay),this.keyframes=p,this.preStyleProps=T,this.postStyleProps=j,this._stretchStartingKeyframe=de,this.timings={duration:ie.duration,delay:ie.delay,easing:ie.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:l,duration:p,easing:T}=this.timings;if(this._stretchStartingKeyframe&&l){const j=[],ie=p+l,de=l/ie,Pe=va(u[0]);Pe.set("offset",0),j.push(Pe);const Qe=va(u[0]);Qe.set("offset",sd(de)),j.push(Qe);const wt=u.length-1;for(let nn=1;nn<=wt;nn++){let $n=va(u[nn]);const Tn=$n.get("offset");$n.set("offset",sd((l+Tn*p)/ie)),j.push($n)}p=ie,l=0,T="",u=j}return su(this.element,u,this.preStyleProps,this.postStyleProps,p,l,T,!0)}}function sd(y,u=3){const l=Math.pow(10,u-1);return Math.round(y*l)/l}class od{}const zf=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gv extends od{normalizePropertyName(u,l){return Vo(u)}normalizeStyleValue(u,l,p,T){let j="";const ie=p.toString().trim();if(zf.has(l)&&0!==p&&"0"!==p)if("number"==typeof p)j="px";else{const de=p.match(/^[+-]?[\d\.]+([a-z]*)$/);de&&0==de[1].length&&T.push(function Df(y,u){return new r.wOt(3005,!1)}())}return ie+j}}function Ug(y,u,l,p,T,j,ie,de,Pe,Qe,wt,nn,$n){return{type:0,element:y,triggerName:u,isRemovalTransition:T,fromState:l,fromStyles:j,toState:p,toStyles:ie,timelines:de,queriedElements:Pe,preStyleProps:Qe,postStyleProps:wt,totalTime:nn,errors:$n}}const ad={};class ym{constructor(u,l,p){this._triggerName=u,this.ast=l,this._stateStyles=p}match(u,l,p,T){return function Wf(y,u,l,p,T){return y.some(j=>j(u,l,p,T))}(this.ast.matchers,u,l,p,T)}buildStyles(u,l,p){let T=this._stateStyles.get("*");return void 0!==u&&(T=this._stateStyles.get(u?.toString())||T),T?T.buildStyles(l,p):new Map}build(u,l,p,T,j,ie,de,Pe,Qe,wt){const nn=[],$n=this.ast.options&&this.ast.options.params||ad,On=this.buildStyles(p,de&&de.params||ad,nn),Dn=Pe&&Pe.params||ad,hr=this.buildStyles(T,Dn,nn),$r=new Set,Jr=new Map,wi=new Map,yr="void"===T,xi={params:Bg(Dn,$n),delay:this.ast.options?.delay},pi=wt?[]:rd(u,l,this.ast.animation,j,ie,On,hr,xi,Qe,nn);let vi=0;if(pi.forEach(Xi=>{vi=Math.max(Xi.duration+Xi.delay,vi)}),nn.length)return Ug(l,this._triggerName,p,T,yr,On,hr,[],[],Jr,wi,vi,nn);pi.forEach(Xi=>{const Hi=Xi.element,io=ia(Jr,Hi,new Set);Xi.preStyleProps.forEach(Ds=>io.add(Ds));const jo=ia(wi,Hi,new Set);Xi.postStyleProps.forEach(Ds=>jo.add(Ds)),Hi!==l&&$r.add(Hi)});const gs=wc($r.values());return Ug(l,this._triggerName,p,T,yr,On,hr,pi,gs,Jr,wi,vi)}}function Bg(y,u){const l=sa(u);for(const p in y)y.hasOwnProperty(p)&&null!=y[p]&&(l[p]=y[p]);return l}class Kf{constructor(u,l,p){this.styles=u,this.defaultParams=l,this.normalizer=p}buildStyles(u,l){const p=new Map,T=sa(this.defaultParams);return Object.keys(u).forEach(j=>{const ie=u[j];null!==ie&&(T[j]=ie)}),this.styles.styles.forEach(j=>{"string"!=typeof j&&j.forEach((ie,de)=>{ie&&(ie=dl(ie,T,l));const Pe=this.normalizer.normalizePropertyName(de,l);ie=this.normalizer.normalizeStyleValue(de,Pe,ie,l),p.set(de,ie)})}),p}}class vm{constructor(u,l,p){this.name=u,this.ast=l,this._normalizer=p,this.transitionFactories=[],this.states=new Map,l.states.forEach(T=>{this.states.set(T.name,new Kf(T.style,T.options&&T.options.params||{},p))}),ou(this.states,"true","1"),ou(this.states,"false","0"),l.transitions.forEach(T=>{this.transitionFactories.push(new ym(u,T,this.states))}),this.fallbackTransition=function $g(y,u,l){return new ym(y,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ie,de)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,l,p,T){return this.transitionFactories.find(ie=>ie.match(u,l,p,T))||null}matchStyles(u,l,p){return this.fallbackTransition.buildStyles(u,l,p)}}function ou(y,u,l){y.has(u)?y.has(l)||y.set(l,y.get(u)):y.has(l)&&y.set(u,y.get(l))}const sy=new Eh;class oy{constructor(u,l,p){this.bodyNode=u,this._driver=l,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,l){const p=[],j=Fg(this._driver,l,p,[]);if(p.length)throw function Pf(y){return new r.wOt(3503,!1)}();this._animations.set(u,j)}_buildPlayer(u,l,p){const T=u.element,j=Xu(this._normalizer,u.keyframes,l,p);return this._driver.animate(T,j,u.duration,u.delay,u.easing,[],!0)}create(u,l,p={}){const T=[],j=this._animations.get(u);let ie;const de=new Map;if(j?(ie=rd(this._driver,l,j,kf,hm,new Map,new Map,p,sy,T),ie.forEach(wt=>{const nn=ia(de,wt.element,new Map);wt.postStyleProps.forEach($n=>nn.set($n,null))})):(T.push(function Dg(){return new r.wOt(3300,!1)}()),ie=[]),T.length)throw function Sg(y){return new r.wOt(3504,!1)}();de.forEach((wt,nn)=>{wt.forEach(($n,Tn)=>{wt.set(Tn,this._driver.computeStyle(nn,Tn,Ci.kp))})});const Qe=ra(ie.map(wt=>{const nn=de.get(wt.element);return this._buildPlayer(wt,new Map,nn)}));return this._playersById.set(u,Qe),Qe.onDestroy(()=>this.destroy(u)),this.players.push(Qe),Qe}destroy(u){const l=this._getPlayer(u);l.destroy(),this._playersById.delete(u);const p=this.players.indexOf(l);p>=0&&this.players.splice(p,1)}_getPlayer(u){const l=this._playersById.get(u);if(!l)throw function Rg(y){return new r.wOt(3301,!1)}();return l}listen(u,l,p,T){const j=Qu(l,"","","");return fh(this._getPlayer(u),p,j,T),()=>{}}command(u,l,p,T){if("register"==p)return void this.register(u,T[0]);if("create"==p)return void this.create(u,l,T[0]||{});const j=this._getPlayer(u);switch(p){case"play":j.play();break;case"pause":j.pause();break;case"reset":j.reset();break;case"restart":j.restart();break;case"finish":j.finish();break;case"init":j.init();break;case"setPosition":j.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(u)}}}const bh="ng-animate-queued",au="ng-animate-disabled",cd=[],E={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},U={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},q="__ng_removed";class _e{get params(){return this.options.params}constructor(u,l=""){this.namespaceId=l;const p=u&&u.hasOwnProperty("value");if(this.value=function Uo(y){return y??null}(p?u.value:u),p){const j=sa(u);delete j.value,this.options=j}else this.options={};this.options.params||(this.options.params={})}absorbOptions(u){const l=u.params;if(l){const p=this.options.params;Object.keys(l).forEach(T=>{null==p[T]&&(p[T]=l[T])})}}}const bt="void",Lt=new _e(bt);class An{constructor(u,l,p){this.id=u,this.hostElement=l,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,fl(l,this._hostClassName)}listen(u,l,p,T){if(!this._triggers.has(l))throw function lv(y,u){return new r.wOt(3302,!1)}();if(null==p||0==p.length)throw function q_(y){return new r.wOt(3303,!1)}();if(!function lu(y){return"start"==y||"done"==y}(p))throw function om(y,u){return new r.wOt(3400,!1)}();const j=ia(this._elementListeners,u,[]),ie={name:l,phase:p,callback:T};j.push(ie);const de=ia(this._engine.statesByElement,u,new Map);return de.has(l)||(fl(u,mh),fl(u,mh+"-"+l),de.set(l,Lt)),()=>{this._engine.afterFlush(()=>{const Pe=j.indexOf(ie);Pe>=0&&j.splice(Pe,1),this._triggers.has(l)||de.delete(l)})}}register(u,l){return!this._triggers.has(u)&&(this._triggers.set(u,l),!0)}_getTrigger(u){const l=this._triggers.get(u);if(!l)throw function hh(y){return new r.wOt(3401,!1)}();return l}trigger(u,l,p,T=!0){const j=this._getTrigger(l),ie=new Zs(this.id,l,u);let de=this._engine.statesByElement.get(u);de||(fl(u,mh),fl(u,mh+"-"+l),this._engine.statesByElement.set(u,de=new Map));let Pe=de.get(l);const Qe=new _e(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&Pe&&Qe.absorbOptions(Pe.options),de.set(l,Qe),Pe||(Pe=Lt),Qe.value!==bt&&Pe.value===Qe.value){if(!function IE(y,u){const l=Object.keys(y),p=Object.keys(u);if(l.length!=p.length)return!1;for(let T=0;T<l.length;T++){const j=l[T];if(!u.hasOwnProperty(j)||y[j]!==u[j])return!1}return!0}(Pe.params,Qe.params)){const Dn=[],hr=j.matchStyles(Pe.value,Pe.params,Dn),$r=j.matchStyles(Qe.value,Qe.params,Dn);Dn.length?this._engine.reportError(Dn):this._engine.afterFlush(()=>{Hl(u,hr),As(u,$r)})}return}const $n=ia(this._engine.playersByElement,u,[]);$n.forEach(Dn=>{Dn.namespaceId==this.id&&Dn.triggerName==l&&Dn.queued&&Dn.destroy()});let Tn=j.matchTransition(Pe.value,Qe.value,u,Qe.params),On=!1;if(!Tn){if(!T)return;Tn=j.fallbackTransition,On=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:l,transition:Tn,fromState:Pe,toState:Qe,player:ie,isFallbackTransition:On}),On||(fl(u,bh),ie.onStart(()=>{Yf(u,bh)})),ie.onDone(()=>{let Dn=this.players.indexOf(ie);Dn>=0&&this.players.splice(Dn,1);const hr=this._engine.playersByElement.get(u);if(hr){let $r=hr.indexOf(ie);$r>=0&&hr.splice($r,1)}}),this.players.push(ie),$n.push(ie),ie}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(l=>l.delete(u)),this._elementListeners.forEach((l,p)=>{this._elementListeners.set(p,l.filter(T=>T.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const l=this._engine.playersByElement.get(u);l&&(l.forEach(p=>p.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,l){const p=this._engine.driver.query(u,Ff,!0);p.forEach(T=>{if(T[q])return;const j=this._engine.fetchNamespacesByElement(T);j.size?j.forEach(ie=>ie.triggerLeaveAnimation(T,l,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(u,l,p,T){const j=this._engine.statesByElement.get(u),ie=new Map;if(j){const de=[];if(j.forEach((Pe,Qe)=>{if(ie.set(Qe,Pe.value),this._triggers.has(Qe)){const wt=this.trigger(u,Qe,bt,T);wt&&de.push(wt)}}),de.length)return this._engine.markElementAsRemoved(this.id,u,!0,l,ie),p&&ra(de).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const l=this._elementListeners.get(u),p=this._engine.statesByElement.get(u);if(l&&p){const T=new Set;l.forEach(j=>{const ie=j.name;if(T.has(ie))return;T.add(ie);const Pe=this._triggers.get(ie).fallbackTransition,Qe=p.get(ie)||Lt,wt=new _e(bt),nn=new Zs(this.id,ie,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:ie,transition:Pe,fromState:Qe,toState:wt,player:nn,isFallbackTransition:!0})})}}removeNode(u,l){const p=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,l),this.triggerLeaveAnimation(u,l,!0))return;let T=!1;if(p.totalAnimations){const j=p.players.length?p.playersByQueriedElement.get(u):[];if(j&&j.length)T=!0;else{let ie=u;for(;ie=ie.parentNode;)if(p.statesByElement.get(ie)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(u),T)p.markElementAsRemoved(this.id,u,!1,l);else{const j=u[q];(!j||j===E)&&(p.afterFlush(()=>this.clearElementCache(u)),p.destroyInnerAnimations(u),p._onRemovalComplete(u,l))}}insertNode(u,l){fl(u,this._hostClassName)}drainQueuedTransitions(u){const l=[];return this._queue.forEach(p=>{const T=p.player;if(T.destroyed)return;const j=p.element,ie=this._elementListeners.get(j);ie&&ie.forEach(de=>{if(de.name==p.triggerName){const Pe=Qu(j,p.triggerName,p.fromState.value,p.toState.value);Pe._data=u,fh(p.player,de.phase,Pe,de.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):l.push(p)}),this._queue=[],l.sort((p,T)=>{const j=p.transition.ast.depCount,ie=T.transition.ast.depCount;return 0==j||0==ie?j-ie:this._engine.driver.containsElement(p.element,T.element)?1:-1})}destroy(u){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}}class Yi{_onRemovalComplete(u,l){this.onRemovalComplete(u,l)}constructor(u,l,p){this.bodyNode=u,this.driver=l,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,j)=>{}}get queuedPlayers(){const u=[];return this._namespaceList.forEach(l=>{l.players.forEach(p=>{p.queued&&u.push(p)})}),u}createNamespace(u,l){const p=new An(u,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(p,l):(this.newHostElements.set(l,p),this.collectEnterElement(l)),this._namespaceLookup[u]=p}_balanceNamespaceList(u,l){const p=this._namespaceList,T=this.namespacesByHostElement;if(p.length-1>=0){let ie=!1,de=this.driver.getParentElement(l);for(;de;){const Pe=T.get(de);if(Pe){const Qe=p.indexOf(Pe);p.splice(Qe+1,0,u),ie=!0;break}de=this.driver.getParentElement(de)}ie||p.unshift(u)}else p.push(u);return T.set(l,u),u}register(u,l){let p=this._namespaceLookup[u];return p||(p=this.createNamespace(u,l)),p}registerTrigger(u,l,p){let T=this._namespaceLookup[u];T&&T.register(l,p)&&this.totalAnimations++}destroy(u,l){u&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(u);this.namespacesByHostElement.delete(p.hostElement);const T=this._namespaceList.indexOf(p);T>=0&&this._namespaceList.splice(T,1),p.destroy(l),delete this._namespaceLookup[u]}))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const l=new Set,p=this.statesByElement.get(u);if(p)for(let T of p.values())if(T.namespaceId){const j=this._fetchNamespace(T.namespaceId);j&&l.add(j)}return l}trigger(u,l,p,T){if(ro(l)){const j=this._fetchNamespace(u);if(j)return j.trigger(l,p,T),!0}return!1}insertNode(u,l,p,T){if(!ro(l))return;const j=l[q];if(j&&j.setForRemoval){j.setForRemoval=!1,j.setForMove=!0;const ie=this.collectedLeaveElements.indexOf(l);ie>=0&&this.collectedLeaveElements.splice(ie,1)}if(u){const ie=this._fetchNamespace(u);ie&&ie.insertNode(l,p)}T&&this.collectEnterElement(l)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,l){l?this.disabledNodes.has(u)||(this.disabledNodes.add(u),fl(u,au)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),Yf(u,au))}removeNode(u,l,p){if(ro(l)){const T=u?this._fetchNamespace(u):null;T?T.removeNode(l,p):this.markElementAsRemoved(u,l,!1,p);const j=this.namespacesByHostElement.get(l);j&&j.id!==u&&j.removeNode(l,p)}else this._onRemovalComplete(l,p)}markElementAsRemoved(u,l,p,T,j){this.collectedLeaveElements.push(l),l[q]={namespaceId:u,setForRemoval:T,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:j}}listen(u,l,p,T,j){return ro(l)?this._fetchNamespace(u).listen(l,p,T,j):()=>{}}_buildInstruction(u,l,p,T,j){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,p,T,u.fromState.options,u.toState.options,l,j)}destroyInnerAnimations(u){let l=this.driver.query(u,Ff,!0);l.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(u,Zu,!0),l.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(u){const l=this.playersByElement.get(u);l&&l.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(u){const l=this.playersByQueriedElement.get(u);l&&l.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return ra(this.players).onDone(()=>u());u()})}processLeaveNode(u){const l=u[q];if(l&&l.setForRemoval){if(u[q]=E,l.namespaceId){this.destroyInnerAnimations(u);const p=this._fetchNamespace(l.namespaceId);p&&p.clearElementCache(u)}this._onRemovalComplete(u,l.setForRemoval)}u.classList?.contains(au)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(u=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,T)=>this._balanceNamespaceList(p,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)fl(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{l=this._flushAnimations(p,u)}finally{for(let T=0;T<p.length;T++)p[T]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],l.length?ra(l).onDone(()=>{p.forEach(T=>T())}):p.forEach(T=>T())}}reportError(u){throw function Y_(y){return new r.wOt(3402,!1)}()}_flushAnimations(u,l){const p=new Eh,T=[],j=new Map,ie=[],de=new Map,Pe=new Map,Qe=new Map,wt=new Set;this.disabledNodes.forEach(Vn=>{wt.add(Vn);const er=this.driver.query(Vn,".ng-animate-queued",!0);for(let vr=0;vr<er.length;vr++)wt.add(er[vr])});const nn=this.bodyNode,$n=Array.from(this.statesByElement.keys()),Tn=Ih($n,this.collectedEnterElements),On=new Map;let Dn=0;Tn.forEach((Vn,er)=>{const vr=kf+Dn++;On.set(er,vr),Vn.forEach(ai=>fl(ai,vr))});const hr=[],$r=new Set,Jr=new Set;for(let Vn=0;Vn<this.collectedLeaveElements.length;Vn++){const er=this.collectedLeaveElements[Vn],vr=er[q];vr&&vr.setForRemoval&&(hr.push(er),$r.add(er),vr.hasAnimation?this.driver.query(er,".ng-star-inserted",!0).forEach(ai=>$r.add(ai)):Jr.add(er))}const wi=new Map,yr=Ih($n,Array.from($r));yr.forEach((Vn,er)=>{const vr=hm+Dn++;wi.set(er,vr),Vn.forEach(ai=>fl(ai,vr))}),u.push(()=>{Tn.forEach((Vn,er)=>{const vr=On.get(er);Vn.forEach(ai=>Yf(ai,vr))}),yr.forEach((Vn,er)=>{const vr=wi.get(er);Vn.forEach(ai=>Yf(ai,vr))}),hr.forEach(Vn=>{this.processLeaveNode(Vn)})});const xi=[],pi=[];for(let Vn=this._namespaceList.length-1;Vn>=0;Vn--)this._namespaceList[Vn].drainQueuedTransitions(l).forEach(vr=>{const ai=vr.player,Gs=vr.element;if(xi.push(ai),this.collectedEnterElements.length){const so=Gs[q];if(so&&so.setForMove){if(so.previousTriggersValues&&so.previousTriggersValues.has(vr.triggerName)){const Ea=so.previousTriggersValues.get(vr.triggerName),aa=this.statesByElement.get(vr.element);if(aa&&aa.has(vr.triggerName)){const Em=aa.get(vr.triggerName);Em.value=Ea,aa.set(vr.triggerName,Em)}}return void ai.destroy()}}const Va=!nn||!this.driver.containsElement(nn,Gs),wo=wi.get(Gs),pl=On.get(Gs),Qi=this._buildInstruction(vr,p,pl,wo,Va);if(Qi.errors&&Qi.errors.length)return void pi.push(Qi);if(Va)return ai.onStart(()=>Hl(Gs,Qi.fromStyles)),ai.onDestroy(()=>As(Gs,Qi.toStyles)),void T.push(ai);if(vr.isFallbackTransition)return ai.onStart(()=>Hl(Gs,Qi.fromStyles)),ai.onDestroy(()=>As(Gs,Qi.toStyles)),void T.push(ai);const Rc=[];Qi.timelines.forEach(so=>{so.stretchStartingKeyframe=!0,this.disabledNodes.has(so.element)||Rc.push(so)}),Qi.timelines=Rc,p.append(Gs,Qi.timelines),ie.push({instruction:Qi,player:ai,element:Gs}),Qi.queriedElements.forEach(so=>ia(de,so,[]).push(ai)),Qi.preStyleProps.forEach((so,Ea)=>{if(so.size){let aa=Pe.get(Ea);aa||Pe.set(Ea,aa=new Set),so.forEach((Em,Jf)=>aa.add(Jf))}}),Qi.postStyleProps.forEach((so,Ea)=>{let aa=Qe.get(Ea);aa||Qe.set(Ea,aa=new Set),so.forEach((Em,Jf)=>aa.add(Jf))})});if(pi.length){const Vn=[];pi.forEach(er=>{Vn.push(function am(y,u){return new r.wOt(3505,!1)}())}),xi.forEach(er=>er.destroy()),this.reportError(Vn)}const vi=new Map,gs=new Map;ie.forEach(Vn=>{const er=Vn.element;p.has(er)&&(gs.set(er,er),this._beforeAnimationBuild(Vn.player.namespaceId,Vn.instruction,vi))}),T.forEach(Vn=>{const er=Vn.element;this._getPreviousPlayers(er,!1,Vn.namespaceId,Vn.triggerName,null).forEach(ai=>{ia(vi,er,[]).push(ai),ai.destroy()})});const Xi=hr.filter(Vn=>Gg(Vn,Pe,Qe)),Hi=new Map;Th(Hi,this.driver,Jr,Qe,Ci.kp).forEach(Vn=>{Gg(Vn,Pe,Qe)&&Xi.push(Vn)});const jo=new Map;Tn.forEach((Vn,er)=>{Th(jo,this.driver,new Set(Vn),Pe,Ci.FX)}),Xi.forEach(Vn=>{const er=Hi.get(Vn),vr=jo.get(Vn);Hi.set(Vn,new Map([...er?.entries()??[],...vr?.entries()??[]]))});const Ds=[],Dc=[],Sc={};ie.forEach(Vn=>{const{element:er,player:vr,instruction:ai}=Vn;if(p.has(er)){if(wt.has(er))return vr.onDestroy(()=>As(er,ai.toStyles)),vr.disabled=!0,vr.overrideTotalTime(ai.totalTime),void T.push(vr);let Gs=Sc;if(gs.size>1){let wo=er;const pl=[];for(;wo=wo.parentNode;){const Qi=gs.get(wo);if(Qi){Gs=Qi;break}pl.push(wo)}pl.forEach(Qi=>gs.set(Qi,Gs))}const Va=this._buildAnimation(vr.namespaceId,ai,vi,j,jo,Hi);if(vr.setRealPlayer(Va),Gs===Sc)Ds.push(vr);else{const wo=this.playersByElement.get(Gs);wo&&wo.length&&(vr.parentPlayer=ra(wo)),T.push(vr)}}else Hl(er,ai.fromStyles),vr.onDestroy(()=>As(er,ai.toStyles)),Dc.push(vr),wt.has(er)&&T.push(vr)}),Dc.forEach(Vn=>{const er=j.get(Vn.element);if(er&&er.length){const vr=ra(er);Vn.setRealPlayer(vr)}}),T.forEach(Vn=>{Vn.parentPlayer?Vn.syncPlayerEvents(Vn.parentPlayer):Vn.destroy()});for(let Vn=0;Vn<hr.length;Vn++){const er=hr[Vn],vr=er[q];if(Yf(er,hm),vr&&vr.hasAnimation)continue;let ai=[];if(de.size){let Va=de.get(er);Va&&Va.length&&ai.push(...Va);let wo=this.driver.query(er,Zu,!0);for(let pl=0;pl<wo.length;pl++){let Qi=de.get(wo[pl]);Qi&&Qi.length&&ai.push(...Qi)}}const Gs=ai.filter(Va=>!Va.destroyed);Gs.length?bE(this,er,Gs):this.processLeaveNode(er)}return hr.length=0,Ds.forEach(Vn=>{this.players.push(Vn),Vn.onDone(()=>{Vn.destroy();const er=this.players.indexOf(Vn);this.players.splice(er,1)}),Vn.play()}),Ds}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,l,p,T,j){let ie=[];if(l){const de=this.playersByQueriedElement.get(u);de&&(ie=de)}else{const de=this.playersByElement.get(u);if(de){const Pe=!j||j==bt;de.forEach(Qe=>{Qe.queued||!Pe&&Qe.triggerName!=T||ie.push(Qe)})}}return(p||T)&&(ie=ie.filter(de=>!(p&&p!=de.namespaceId||T&&T!=de.triggerName))),ie}_beforeAnimationBuild(u,l,p){const j=l.element,ie=l.isRemovalTransition?void 0:u,de=l.isRemovalTransition?void 0:l.triggerName;for(const Pe of l.timelines){const Qe=Pe.element,wt=Qe!==j,nn=ia(p,Qe,[]);this._getPreviousPlayers(Qe,wt,ie,de,l.toState).forEach(Tn=>{const On=Tn.getRealPlayer();On.beforeDestroy&&On.beforeDestroy(),Tn.destroy(),nn.push(Tn)})}Hl(j,l.fromStyles)}_buildAnimation(u,l,p,T,j,ie){const de=l.triggerName,Pe=l.element,Qe=[],wt=new Set,nn=new Set,$n=l.timelines.map(On=>{const Dn=On.element;wt.add(Dn);const hr=Dn[q];if(hr&&hr.removedBeforeQueried)return new Ci.sf(On.duration,On.delay);const $r=Dn!==Pe,Jr=function TE(y){const u=[];return _v(y,u),u}((p.get(Dn)||cd).map(vi=>vi.getRealPlayer())).filter(vi=>!!vi.element&&vi.element===Dn),wi=j.get(Dn),yr=ie.get(Dn),xi=Xu(this._normalizer,On.keyframes,wi,yr),pi=this._buildPlayer(On,xi,Jr);if(On.subTimeline&&T&&nn.add(Dn),$r){const vi=new Zs(u,de,Dn);vi.setRealPlayer(pi),Qe.push(vi)}return pi});Qe.forEach(On=>{ia(this.playersByQueriedElement,On.element,[]).push(On),On.onDone(()=>function ji(y,u,l){let p=y.get(u);if(p){if(p.length){const T=p.indexOf(l);p.splice(T,1)}0==p.length&&y.delete(u)}return p}(this.playersByQueriedElement,On.element,On))}),wt.forEach(On=>fl(On,fm));const Tn=ra($n);return Tn.onDestroy(()=>{wt.forEach(On=>Yf(On,fm)),As(Pe,l.toStyles)}),nn.forEach(On=>{ia(T,On,[]).push(Tn)}),Tn}_buildPlayer(u,l,p){return l.length>0?this.driver.animate(u.element,l,u.duration,u.delay,u.easing,p):new Ci.sf(u.duration,u.delay)}}class Zs{constructor(u,l,p){this.namespaceId=u,this.triggerName=l,this.element=p,this._player=new Ci.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((l,p)=>{l.forEach(T=>fh(u,p,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const l=this._player;l.triggerCallback&&u.onStart(()=>l.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,l){ia(this._queuedCallbacks,u,[]).push(l)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const l=this._player;l.triggerCallback&&l.triggerCallback(u)}}function ro(y){return y&&1===y.nodeType}function Yo(y,u){const l=y.style.display;return y.style.display=u??"none",l}function Th(y,u,l,p,T){const j=[];l.forEach(Pe=>j.push(Yo(Pe)));const ie=[];p.forEach((Pe,Qe)=>{const wt=new Map;Pe.forEach(nn=>{const $n=u.computeStyle(Qe,nn,T);wt.set(nn,$n),(!$n||0==$n.length)&&(Qe[q]=U,ie.push(Qe))}),y.set(Qe,wt)});let de=0;return l.forEach(Pe=>Yo(Pe,j[de++])),ie}function Ih(y,u){const l=new Map;if(y.forEach(de=>l.set(de,[])),0==u.length)return l;const T=new Set(u),j=new Map;function ie(de){if(!de)return 1;let Pe=j.get(de);if(Pe)return Pe;const Qe=de.parentNode;return Pe=l.has(Qe)?Qe:T.has(Qe)?1:ie(Qe),j.set(de,Pe),Pe}return u.forEach(de=>{const Pe=ie(de);1!==Pe&&l.get(Pe).push(de)}),l}function fl(y,u){y.classList?.add(u)}function Yf(y,u){y.classList?.remove(u)}function bE(y,u,l){ra(l).onDone(()=>y.processLeaveNode(u))}function _v(y,u){for(let l=0;l<y.length;l++){const p=y[l];p instanceof Ci.ui?_v(p.players,u):u.push(p)}}function Gg(y,u,l){const p=l.get(y);if(!p)return!1;let T=u.get(y);return T?p.forEach(j=>T.add(j)):u.set(y,p),l.delete(y),!0}class Ac{constructor(u,l,p){this.bodyNode=u,this._driver=l,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(T,j)=>{},this._transitionEngine=new Yi(u,l,p),this._timelineEngine=new oy(u,l,p),this._transitionEngine.onRemovalComplete=(T,j)=>this.onRemovalComplete(T,j)}registerTrigger(u,l,p,T,j){const ie=u+"-"+T;let de=this._triggerCache[ie];if(!de){const Pe=[],wt=Fg(this._driver,j,Pe,[]);if(Pe.length)throw function Rf(y,u){return new r.wOt(3404,!1)}();de=function ld(y,u,l){return new vm(y,u,l)}(T,wt,this._normalizer),this._triggerCache[ie]=de}this._transitionEngine.registerTrigger(l,T,de)}register(u,l){this._transitionEngine.register(u,l)}destroy(u,l){this._transitionEngine.destroy(u,l)}onInsert(u,l,p,T){this._transitionEngine.insertNode(u,l,p,T)}onRemove(u,l,p){this._transitionEngine.removeNode(u,l,p)}disableAnimations(u,l){this._transitionEngine.markElementAsDisabled(u,l)}process(u,l,p,T){if("@"==p.charAt(0)){const[j,ie]=Lo(p);this._timelineEngine.command(j,l,ie,T)}else this._transitionEngine.trigger(u,l,p,T)}listen(u,l,p,T,j){if("@"==p.charAt(0)){const[ie,de]=Lo(p);return this._timelineEngine.listen(ie,l,de,j)}return this._transitionEngine.listen(u,l,p,T,j)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(u){this._transitionEngine.afterFlushAnimationsDone(u)}}let t0=(()=>{class y{static{this.initialStylesByElement=new WeakMap}constructor(l,p,T){this._element=l,this._startStyles=p,this._endStyles=T,this._state=0;let j=y.initialStylesByElement.get(l);j||y.initialStylesByElement.set(l,j=new Map),this._initialStyles=j}start(){this._state<1&&(this._startStyles&&As(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(As(this._element,this._initialStyles),this._endStyles&&(As(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(y.initialStylesByElement.delete(this._element),this._startStyles&&(Hl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hl(this._element,this._endStyles),this._endStyles=null),As(this._element,this._initialStyles),this._state=3)}}return y})();function Hg(y){let u=null;return y.forEach((l,p)=>{(function Xf(y){return"display"===y||"position"===y})(p)&&(u=u||new Map,u.set(p,l))}),u}class cy{constructor(u,l,p,T){this.element=u,this.keyframes=l,this.options=p,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const l=[];return u.forEach(p=>{l.push(Object.fromEntries(p))}),l}_triggerWebAnimation(u,l,p){return u.animate(this._convertKeyframesToObject(l),p)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,T)=>{"offset"!==T&&u.set(T,this._finished?p:_h(this.element,T))}),this.currentSnapshot=u}triggerCallback(u){const l="start"===u?this._onStartFns:this._onDoneFns;l.forEach(p=>p()),l.length=0}}class n0{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}matchesElement(u,l){return!1}containsElement(u,l){return Of(u,l)}getParentElement(u){return Ju(u)}query(u,l,p){return xg(u,l,p)}computeStyle(u,l,p){return window.getComputedStyle(u)[l]}animate(u,l,p,T,j,ie=[]){const Pe={duration:p,delay:T,fill:0==T?"both":"forwards"};j&&(Pe.easing=j);const Qe=new Map,wt=ie.filter(Tn=>Tn instanceof cy);(function Lf(y,u){return 0===y||0===u})(p,T)&&wt.forEach(Tn=>{Tn.currentSnapshot.forEach((On,Dn)=>Qe.set(Dn,On))});let nn=function Co(y){return y.length?y[0]instanceof Map?y:y.map(u=>td(u)):[]}(l).map(Tn=>va(Tn));nn=function Ng(y,u,l){if(l.size&&u.length){let p=u[0],T=[];if(l.forEach((j,ie)=>{p.has(ie)||T.push(ie),p.set(ie,j)}),T.length)for(let j=1;j<u.length;j++){let ie=u[j];T.forEach(de=>ie.set(de,_h(y,de)))}}return u}(u,nn,Qe);const $n=function e0(y,u){let l=null,p=null;return Array.isArray(u)&&u.length?(l=Hg(u[0]),u.length>1&&(p=Hg(u[u.length-1]))):u instanceof Map&&(l=Hg(u)),l||p?new t0(y,l,p):null}(u,nn);return new cy(u,nn,Pe,$n)}}let yv=(()=>{class y extends Ci.S6{constructor(l,p){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(p.body,{id:"0",encapsulation:r.gXe.None,styles:[],data:{animation:[]}})}build(l){const p=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(l)?(0,Ci.K2)(l):l;return CE(this._renderer,null,p,"register",[T]),new rb(p,this._renderer)}static{this.\u0275fac=function(p){return new(p||y)(r.KVO(r._9s),r.KVO(it.qQ))}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac})}}return y})();class rb extends Ci.Ro{constructor(u,l){super(),this._id=u,this._renderer=l}create(u,l){return new ib(this._id,u,l||{},this._renderer)}}class ib{constructor(u,l,p,T){this.id=u,this.element=l,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(u,l){return this._renderer.listen(this.element,`@@${this.id}:${u}`,l)}_command(u,...l){return CE(this._renderer,this.element,this.id,u,l)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function CE(y,u,l,p,T){return y.setProperty(u,`@@${l}:${p}`,T)}const vv="@.disabled";let r0=(()=>{class y{constructor(l,p,T){this.delegate=l,this.engine=p,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(j,ie)=>{const de=ie?.parentNode(j);de&&ie.removeChild(de,j)}}createRenderer(l,p){const j=this.delegate.createRenderer(l,p);if(!(l&&p&&p.data&&p.data.animation)){let wt=this._rendererCache.get(j);return wt||(wt=new go("",j,this.engine,()=>this._rendererCache.delete(j)),this._rendererCache.set(j,wt)),wt}const ie=p.id,de=p.id+"-"+this._currentId;this._currentId++,this.engine.register(de,l);const Pe=wt=>{Array.isArray(wt)?wt.forEach(Pe):this.engine.registerTrigger(ie,de,l,wt.name,wt)};return p.data.animation.forEach(Pe),new wE(this,de,j,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,p,T){l>=0&&l<this._microtaskId?this._zone.run(()=>p(T)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(j=>{const[ie,de]=j;ie(de)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(p){return new(p||y)(r.KVO(r._9s),r.KVO(Ac),r.KVO(r.SKi))}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac})}}return y})();class go{constructor(u,l,p,T){this.namespaceId=u,this.delegate=l,this.engine=p,this._onDestroy=T}get data(){return this.delegate.data}destroyNode(u){this.delegate.destroyNode?.(u)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(u,l){return this.delegate.createElement(u,l)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,l){this.delegate.appendChild(u,l),this.engine.onInsert(this.namespaceId,l,u,!1)}insertBefore(u,l,p,T=!0){this.delegate.insertBefore(u,l,p),this.engine.onInsert(this.namespaceId,l,u,T)}removeChild(u,l,p){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(u,l){return this.delegate.selectRootElement(u,l)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,l,p,T){this.delegate.setAttribute(u,l,p,T)}removeAttribute(u,l,p){this.delegate.removeAttribute(u,l,p)}addClass(u,l){this.delegate.addClass(u,l)}removeClass(u,l){this.delegate.removeClass(u,l)}setStyle(u,l,p,T){this.delegate.setStyle(u,l,p,T)}removeStyle(u,l,p){this.delegate.removeStyle(u,l,p)}setProperty(u,l,p){"@"==l.charAt(0)&&l==vv?this.disableAnimations(u,!!p):this.delegate.setProperty(u,l,p)}setValue(u,l){this.delegate.setValue(u,l)}listen(u,l,p){return this.delegate.listen(u,l,p)}disableAnimations(u,l){this.engine.disableAnimations(u,l)}}class wE extends go{constructor(u,l,p,T,j){super(l,p,T,j),this.factory=u,this.namespaceId=l}setProperty(u,l,p){"@"==l.charAt(0)?"."==l.charAt(1)&&l==vv?this.disableAnimations(u,p=void 0===p||!!p):this.engine.process(this.namespaceId,u,l.slice(1),p):this.delegate.setProperty(u,l,p)}listen(u,l,p){if("@"==l.charAt(0)){const T=function s0(y){switch(y){case"body":return document.body;case"document":return document;case"window":return window;default:return y}}(u);let j=l.slice(1),ie="";return"@"!=j.charAt(0)&&([j,ie]=function o0(y){const u=y.indexOf(".");return[y.substring(0,u),y.slice(u+1)]}(j)),this.engine.listen(this.namespaceId,T,j,ie,de=>{this.factory.scheduleListenerCallback(de._data||-1,p,de)})}return this.delegate.listen(u,l,p)}}const Ev=[{provide:Ci.S6,useClass:yv},{provide:od,useFactory:function a0(){return new gv}},{provide:Ac,useClass:(()=>{class y extends Ac{constructor(l,p,T,j){super(l.body,p,T)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(p){return new(p||y)(r.KVO(it.qQ),r.KVO(Gl),r.KVO(od),r.KVO(r.o8S))}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac})}}return y})()},{provide:r._9s,useFactory:function DE(y,u,l){return new r0(y,u,l)},deps:[oe.B7,Ac,r.SKi]}],Ch=[{provide:Gl,useFactory:()=>new n0},{provide:r.bc$,useValue:"BrowserAnimations"},...Ev],SE=[{provide:Gl,useClass:Nf},{provide:r.bc$,useValue:"NoopAnimations"},...Ev];let l0=(()=>{class y{static withConfig(l){return{ngModule:y,providers:l.disableAnimations?SE:Ch}}static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275mod=r.$C({type:y})}static{this.\u0275inj=r.G2t({providers:Ch,imports:[oe.Bb]})}}return y})();const RE={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","sp.sbmediahub.com":"KyQfU7hjez0uXRfAjqcu","elderlyhc.sbmediahub.com":"SJgFxBYkopnPR4WibCAf","prestige.sbmediahub.com":"pDJgpl34XUnRblyIlBA7","prestigecareafh.com":"pDJgpl34XUnRblyIlBA7","www.prestigecareafh.com":"pDJgpl34XUnRblyIlBA7","cc.sbmediahub.com":"yrNc50SvfPqwTSkvvygA","hh.sbmediahub.com":"vfCMoPjAu2ROVBbKvk0D","ae.sbmediahub.com":"UiSDf9elSjwcbQs2HZb1","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7","countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","www.countrycrestafh.com":"yrNc50SvfPqwTSkvvygA"};function bv(y,u,l){return()=>{const p=window.location.hostname,T=new URL(window.location.href);let j=RE[p]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return y.loadTheme(j)}}function Tv(y,u,l){const p=window.location.hostname,T=new URL(window.location.href);let j=RE[p]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return()=>{y.loadBusinessData(j).toPromise().then(()=>{}).catch(ie=>{console.error("Error loading business data:",ie)})}}let d0=(()=>{class y{static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275mod=r.$C({type:y,bootstrap:[Oy]})}static{this.\u0275inj=r.G2t({providers:[{provide:r.hnV,useFactory:bv,deps:[wf,it.aZ,ae.Ix],multi:!0},{provide:r.hnV,useFactory:Tv,deps:[Ce.A,it.aZ,ae.Ix],multi:!0}],imports:[oe.Bb,ae.iI,Xd,Zh.cM,Y.y5,ue.X8,L.bf.initializeApp(v__firebase),og(()=>no(v__firebase)),x_(()=>L_()),ri(()=>If()),_i.X1,_i.YN,be.q1,l0]})}}return y})();oe.sG().bootstrapModule(d0).catch(y=>console.error(y))},4412:(on,Xe,k)=>{k.d(Xe,{t:()=>oe});var i=k(1413);class oe extends i.B{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const ae=super._subscribe(be);return!ae.closed&&be.next(this._value),ae}getValue(){const{hasError:be,thrownError:ae,_value:Ee}=this;if(be)throw ae;return this._throwIfClosed(),Ee}next(be){super.next(this._value=be)}}},1985:(on,Xe,k)=>{k.d(Xe,{c:()=>Ie});var i=k(7707),oe=k(8359),r=k(3494),be=k(1203),ae=k(1026),Ee=k(8071),Se=k(9786);let Ie=(()=>{class pe{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const ve=new pe;return ve.source=this,ve.operator=Be,ve}subscribe(Be,ve,Ye){const Ce=function ne(pe){return pe&&pe instanceof i.vU||function W(pe){return pe&&(0,Ee.T)(pe.next)&&(0,Ee.T)(pe.error)&&(0,Ee.T)(pe.complete)}(pe)&&(0,oe.Uv)(pe)}(Be)?Be:new i.Ms(Be,ve,Ye);return(0,Se.Y)(()=>{const{operator:it,source:Ht}=this;Ce.add(it?it.call(Ce,Ht):Ht?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Be){try{return this._subscribe(Be)}catch(ve){Be.error(ve)}}forEach(Be,ve){return new(ve=ke(ve))((Ye,Ce)=>{const it=new i.Ms({next:Ht=>{try{Be(Ht)}catch(He){Ce(He),it.unsubscribe()}},error:Ce,complete:Ye});this.subscribe(it)})}_subscribe(Be){var ve;return null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(Be)}[r.s](){return this}pipe(...Be){return(0,be.m)(Be)(this)}toPromise(Be){return new(Be=ke(Be))((ve,Ye)=>{let Ce;this.subscribe(it=>Ce=it,it=>Ye(it),()=>ve(Ce))})}}return pe.create=we=>new pe(we),pe})();function ke(pe){var we;return null!==(we=pe??ae.$.Promise)&&void 0!==we?we:Promise}},1413:(on,Xe,k)=>{k.d(Xe,{B:()=>Se});var i=k(1985),oe=k(8359);const be=(0,k(1853).L)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=k(7908),Ee=k(9786);let Se=(()=>{class ke extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const pe=new Ie(this,this);return pe.operator=ne,pe}_throwIfClosed(){if(this.closed)throw new be}next(ne){(0,Ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(ne)}})}error(ne){(0,Ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:pe}=this;for(;pe.length;)pe.shift().error(ne)}})}complete(){(0,Ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:pe,isStopped:we,observers:Be}=this;return pe||we?oe.Kn:(this.currentObservers=null,Be.push(ne),new oe.yU(()=>{this.currentObservers=null,(0,ae.o)(Be,ne)}))}_checkFinalizedStatuses(ne){const{hasError:pe,thrownError:we,isStopped:Be}=this;pe?ne.error(we):Be&&ne.complete()}asObservable(){const ne=new i.c;return ne.source=this,ne}}return ke.create=(W,ne)=>new Ie(W,ne),ke})();class Ie extends Se{constructor(W,ne){super(),this.destination=W,this.source=ne}next(W){var ne,pe;null===(pe=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===pe||pe.call(ne,W)}error(W){var ne,pe;null===(pe=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===pe||pe.call(ne,W)}complete(){var W,ne;null===(ne=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===ne||ne.call(W)}_subscribe(W){var ne,pe;return null!==(pe=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(W))&&void 0!==pe?pe:oe.Kn}}},7707:(on,Xe,k)=>{k.d(Xe,{Ms:()=>Ye,vU:()=>pe});var i=k(8071),oe=k(8359),r=k(1026),be=k(5334),ae=k(5343);const Ee=ke("C",void 0,void 0);function ke(Ae,rt,tt){return{kind:Ae,value:rt,error:tt}}var W=k(9270),ne=k(9786);class pe extends oe.yU{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,oe.Uv)(rt)&&rt.add(this)):this.destination=He}static create(rt,tt,ft){return new Ye(rt,tt,ft)}next(rt){this.isStopped?Ht(function Ie(Ae){return ke("N",Ae,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?Ht(function Se(Ae){return ke("E",void 0,Ae)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?Ht(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const we=Function.prototype.bind;function Be(Ae,rt){return we.call(Ae,rt)}class ve{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:tt}=this;if(tt.next)try{tt.next(rt)}catch(ft){Ce(ft)}}error(rt){const{partialObserver:tt}=this;if(tt.error)try{tt.error(rt)}catch(ft){Ce(ft)}else Ce(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(tt){Ce(tt)}}}class Ye extends pe{constructor(rt,tt,ft){let Nt;if(super(),(0,i.T)(rt)||!rt)Nt={next:rt??void 0,error:tt??void 0,complete:ft??void 0};else{let pt;this&&r.$.useDeprecatedNextContext?(pt=Object.create(rt),pt.unsubscribe=()=>this.unsubscribe(),Nt={next:rt.next&&Be(rt.next,pt),error:rt.error&&Be(rt.error,pt),complete:rt.complete&&Be(rt.complete,pt)}):Nt=rt}this.destination=new ve(Nt)}}function Ce(Ae){r.$.useDeprecatedSynchronousErrorHandling?(0,ne.l)(Ae):(0,be.m)(Ae)}function Ht(Ae,rt){const{onStoppedNotification:tt}=r.$;tt&&W.f.setTimeout(()=>tt(Ae,rt))}const He={closed:!0,next:ae.l,error:function it(Ae){throw Ae},complete:ae.l}},8359:(on,Xe,k)=>{k.d(Xe,{Kn:()=>Ee,yU:()=>ae,Uv:()=>Se});var i=k(8071);const r=(0,k(1853).L)(ke=>function(ne){ke(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((pe,we)=>`${we+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var be=k(7908);class ae{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Be of ne)Be.remove(this);else ne.remove(this);const{initialTeardown:pe}=this;if((0,i.T)(pe))try{pe()}catch(Be){W=Be instanceof r?Be.errors:[Be]}const{_finalizers:we}=this;if(we){this._finalizers=null;for(const Be of we)try{Ie(Be)}catch(ve){W=W??[],ve instanceof r?W=[...W,...ve.errors]:W.push(ve)}}if(W)throw new r(W)}}add(W){var ne;if(W&&W!==this)if(this.closed)Ie(W);else{if(W instanceof ae){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(W)}}_hasParent(W){const{_parentage:ne}=this;return ne===W||Array.isArray(ne)&&ne.includes(W)}_addParent(W){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(W),ne):ne?[ne,W]:W}_removeParent(W){const{_parentage:ne}=this;ne===W?this._parentage=null:Array.isArray(ne)&&(0,be.o)(ne,W)}remove(W){const{_finalizers:ne}=this;ne&&(0,be.o)(ne,W),W instanceof ae&&W._removeParent(this)}}ae.EMPTY=(()=>{const ke=new ae;return ke.closed=!0,ke})();const Ee=ae.EMPTY;function Se(ke){return ke instanceof ae||ke&&"closed"in ke&&(0,i.T)(ke.remove)&&(0,i.T)(ke.add)&&(0,i.T)(ke.unsubscribe)}function Ie(ke){(0,i.T)(ke)?ke():ke.unsubscribe()}},1026:(on,Xe,k)=>{k.d(Xe,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(on,Xe,k)=>{k.d(Xe,{x:()=>ae});var i=k(6365),r=k(3794),be=k(8455);function ae(...Ee){return function oe(){return(0,i.U)(1)}()((0,be.H)(Ee,(0,r.lI)(Ee)))}},983:(on,Xe,k)=>{k.d(Xe,{w:()=>oe});const oe=new(k(1985).c)(ae=>ae.complete())},8455:(on,Xe,k)=>{k.d(Xe,{H:()=>rt});var i=k(8750),oe=k(941),r=k(6745),Ee=k(1985),Ie=k(4761),ke=k(8071),W=k(5225);function pe(tt,ft){if(!tt)throw new Error("Iterable cannot be null");return new Ee.c(Nt=>{(0,W.N)(Nt,ft,()=>{const pt=tt[Symbol.asyncIterator]();(0,W.N)(Nt,ft,()=>{pt.next().then(Te=>{Te.done?Nt.complete():Nt.next(Te.value)})},0,!0)})})}var we=k(5055),Be=k(9858),ve=k(7441),Ye=k(5397),Ce=k(7953),it=k(591),Ht=k(5196);function rt(tt,ft){return ft?function Ae(tt,ft){if(null!=tt){if((0,we.l)(tt))return function be(tt,ft){return(0,i.Tg)(tt).pipe((0,r._)(ft),(0,oe.Q)(ft))}(tt,ft);if((0,ve.X)(tt))return function Se(tt,ft){return new Ee.c(Nt=>{let pt=0;return ft.schedule(function(){pt===tt.length?Nt.complete():(Nt.next(tt[pt++]),Nt.closed||this.schedule())})})}(tt,ft);if((0,Be.y)(tt))return function ae(tt,ft){return(0,i.Tg)(tt).pipe((0,r._)(ft),(0,oe.Q)(ft))}(tt,ft);if((0,Ce.T)(tt))return pe(tt,ft);if((0,Ye.x)(tt))return function ne(tt,ft){return new Ee.c(Nt=>{let pt;return(0,W.N)(Nt,ft,()=>{pt=tt[Ie.l](),(0,W.N)(Nt,ft,()=>{let Te,Ze;try{({value:Te,done:Ze}=pt.next())}catch(Jt){return void Nt.error(Jt)}Ze?Nt.complete():Nt.next(Te)},0,!0)}),()=>(0,ke.T)(pt?.return)&&pt.return()})}(tt,ft);if((0,Ht.U)(tt))return function He(tt,ft){return pe((0,Ht.C)(tt),ft)}(tt,ft)}throw(0,it.L)(tt)}(tt,ft):(0,i.Tg)(tt)}},8750:(on,Xe,k)=>{k.d(Xe,{Tg:()=>we});var i=k(1635),oe=k(7441),r=k(9858),be=k(1985),ae=k(5055),Ee=k(7953),Se=k(591),Ie=k(5397),ke=k(5196),W=k(8071),ne=k(5334),pe=k(3494);function we(Ae){if(Ae instanceof be.c)return Ae;if(null!=Ae){if((0,ae.l)(Ae))return function Be(Ae){return new be.c(rt=>{const tt=Ae[pe.s]();if((0,W.T)(tt.subscribe))return tt.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,oe.X)(Ae))return function ve(Ae){return new be.c(rt=>{for(let tt=0;tt<Ae.length&&!rt.closed;tt++)rt.next(Ae[tt]);rt.complete()})}(Ae);if((0,r.y)(Ae))return function Ye(Ae){return new be.c(rt=>{Ae.then(tt=>{rt.closed||(rt.next(tt),rt.complete())},tt=>rt.error(tt)).then(null,ne.m)})}(Ae);if((0,Ee.T)(Ae))return it(Ae);if((0,Ie.x)(Ae))return function Ce(Ae){return new be.c(rt=>{for(const tt of Ae)if(rt.next(tt),rt.closed)return;rt.complete()})}(Ae);if((0,ke.U)(Ae))return function Ht(Ae){return it((0,ke.C)(Ae))}(Ae)}throw(0,Se.L)(Ae)}function it(Ae){return new be.c(rt=>{(function He(Ae,rt){var tt,ft,Nt,pt;return(0,i.sH)(this,void 0,void 0,function*(){try{for(tt=(0,i.xN)(Ae);!(ft=yield tt.next()).done;)if(rt.next(ft.value),rt.closed)return}catch(Te){Nt={error:Te}}finally{try{ft&&!ft.done&&(pt=tt.return)&&(yield pt.call(tt))}finally{if(Nt)throw Nt.error}}rt.complete()})})(Ae,rt).catch(tt=>rt.error(tt))})}},7786:(on,Xe,k)=>{k.d(Xe,{h:()=>Ee});var i=k(6365),oe=k(8750),r=k(983),be=k(3794),ae=k(8455);function Ee(...Se){const Ie=(0,be.lI)(Se),ke=(0,be.R0)(Se,1/0),W=Se;return W.length?1===W.length?(0,oe.Tg)(W[0]):(0,i.U)(ke)((0,ae.H)(W,Ie)):r.w}},7673:(on,Xe,k)=>{k.d(Xe,{of:()=>r});var i=k(3794),oe=k(8455);function r(...be){const ae=(0,i.lI)(be);return(0,oe.H)(be,ae)}},8810:(on,Xe,k)=>{k.d(Xe,{$:()=>r});var i=k(1985),oe=k(8071);function r(be,ae){const Ee=(0,oe.T)(be)?be:()=>be,Se=Ie=>Ie.error(Ee());return new i.c(ae?Ie=>ae.schedule(Se,0,Ie):Se)}},4360:(on,Xe,k)=>{k.d(Xe,{_:()=>oe});var i=k(7707);function oe(be,ae,Ee,Se,Ie){return new r(be,ae,Ee,Se,Ie)}class r extends i.vU{constructor(ae,Ee,Se,Ie,ke,W){super(ae),this.onFinalize=ke,this.shouldUnsubscribe=W,this._next=Ee?function(ne){try{Ee(ne)}catch(pe){ae.error(pe)}}:super._next,this._error=Ie?function(ne){try{Ie(ne)}catch(pe){ae.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(ne){ae.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},9437:(on,Xe,k)=>{k.d(Xe,{W:()=>be});var i=k(8750),oe=k(4360),r=k(9974);function be(ae){return(0,r.N)((Ee,Se)=>{let W,Ie=null,ke=!1;Ie=Ee.subscribe((0,oe._)(Se,void 0,void 0,ne=>{W=(0,i.Tg)(ae(ne,be(ae)(Ee))),Ie?(Ie.unsubscribe(),Ie=null,W.subscribe(Se)):ke=!0})),ke&&(Ie.unsubscribe(),Ie=null,W.subscribe(Se))})}},274:(on,Xe,k)=>{k.d(Xe,{H:()=>r});var i=k(1397),oe=k(8071);function r(be,ae){return(0,oe.T)(ae)?(0,i.Z)(be,ae,1):(0,i.Z)(be,1)}},9901:(on,Xe,k)=>{k.d(Xe,{U:()=>r});var i=k(9974),oe=k(4360);function r(be){return(0,i.N)((ae,Ee)=>{let Se=!1;ae.subscribe((0,oe._)(Ee,Ie=>{Se=!0,Ee.next(Ie)},()=>{Se||Ee.next(be),Ee.complete()}))})}},3294:(on,Xe,k)=>{k.d(Xe,{F:()=>be});var i=k(3669),oe=k(9974),r=k(4360);function be(Ee,Se=i.D){return Ee=Ee??ae,(0,oe.N)((Ie,ke)=>{let W,ne=!0;Ie.subscribe((0,r._)(ke,pe=>{const we=Se(pe);(ne||!Ee(W,we))&&(ne=!1,W=we,ke.next(pe))}))})}function ae(Ee,Se){return Ee===Se}},5964:(on,Xe,k)=>{k.d(Xe,{p:()=>r});var i=k(9974),oe=k(4360);function r(be,ae){return(0,i.N)((Ee,Se)=>{let Ie=0;Ee.subscribe((0,oe._)(Se,ke=>be.call(ae,ke,Ie++)&&Se.next(ke)))})}},980:(on,Xe,k)=>{k.d(Xe,{j:()=>oe});var i=k(9974);function oe(r){return(0,i.N)((be,ae)=>{try{be.subscribe(ae)}finally{ae.add(r)}})}},1594:(on,Xe,k)=>{k.d(Xe,{$:()=>Se});var i=k(9350),oe=k(5964),r=k(6697),be=k(9901),ae=k(3774),Ee=k(3669);function Se(Ie,ke){const W=arguments.length>=2;return ne=>ne.pipe(Ie?(0,oe.p)((pe,we)=>Ie(pe,we,ne)):Ee.D,(0,r.s)(1),W?(0,be.U)(ke):(0,ae.v)(()=>new i.G))}},6354:(on,Xe,k)=>{k.d(Xe,{T:()=>r});var i=k(9974),oe=k(4360);function r(be,ae){return(0,i.N)((Ee,Se)=>{let Ie=0;Ee.subscribe((0,oe._)(Se,ke=>{Se.next(be.call(ae,ke,Ie++))}))})}},6365:(on,Xe,k)=>{k.d(Xe,{U:()=>r});var i=k(1397),oe=k(3669);function r(be=1/0){return(0,i.Z)(oe.D,be)}},1397:(on,Xe,k)=>{k.d(Xe,{Z:()=>Ie});var i=k(6354),oe=k(8750),r=k(9974),be=k(5225),ae=k(4360),Se=k(8071);function Ie(ke,W,ne=1/0){return(0,Se.T)(W)?Ie((pe,we)=>(0,i.T)((Be,ve)=>W(pe,Be,we,ve))((0,oe.Tg)(ke(pe,we))),ne):("number"==typeof W&&(ne=W),(0,r.N)((pe,we)=>function Ee(ke,W,ne,pe,we,Be,ve,Ye){const Ce=[];let it=0,Ht=0,He=!1;const Ae=()=>{He&&!Ce.length&&!it&&W.complete()},rt=ft=>it<pe?tt(ft):Ce.push(ft),tt=ft=>{Be&&W.next(ft),it++;let Nt=!1;(0,oe.Tg)(ne(ft,Ht++)).subscribe((0,ae._)(W,pt=>{we?.(pt),Be?rt(pt):W.next(pt)},()=>{Nt=!0},void 0,()=>{if(Nt)try{for(it--;Ce.length&&it<pe;){const pt=Ce.shift();ve?(0,be.N)(W,ve,()=>tt(pt)):tt(pt)}Ae()}catch(pt){W.error(pt)}}))};return ke.subscribe((0,ae._)(W,rt,()=>{He=!0,Ae()})),()=>{Ye?.()}}(pe,we,ke,ne)))}},941:(on,Xe,k)=>{k.d(Xe,{Q:()=>be});var i=k(5225),oe=k(9974),r=k(4360);function be(ae,Ee=0){return(0,oe.N)((Se,Ie)=>{Se.subscribe((0,r._)(Ie,ke=>(0,i.N)(Ie,ae,()=>Ie.next(ke),Ee),()=>(0,i.N)(Ie,ae,()=>Ie.complete(),Ee),ke=>(0,i.N)(Ie,ae,()=>Ie.error(ke),Ee)))})}},2816:(on,Xe,k)=>{k.d(Xe,{S:()=>be});var i=k(9974),oe=k(4360);function be(ae,Ee){return(0,i.N)(function r(ae,Ee,Se,Ie,ke){return(W,ne)=>{let pe=Se,we=Ee,Be=0;W.subscribe((0,oe._)(ne,ve=>{const Ye=Be++;we=pe?ae(we,ve,Ye):(pe=!0,ve),Ie&&ne.next(we)},ke&&(()=>{pe&&ne.next(we),ne.complete()})))}}(ae,Ee,arguments.length>=2,!0))}},7647:(on,Xe,k)=>{k.d(Xe,{u:()=>ae});var i=k(8750),oe=k(1413),r=k(7707),be=k(9974);function ae(Se={}){const{connector:Ie=(()=>new oe.B),resetOnError:ke=!0,resetOnComplete:W=!0,resetOnRefCountZero:ne=!0}=Se;return pe=>{let we,Be,ve,Ye=0,Ce=!1,it=!1;const Ht=()=>{Be?.unsubscribe(),Be=void 0},He=()=>{Ht(),we=ve=void 0,Ce=it=!1},Ae=()=>{const rt=we;He(),rt?.unsubscribe()};return(0,be.N)((rt,tt)=>{Ye++,!it&&!Ce&&Ht();const ft=ve=ve??Ie();tt.add(()=>{Ye--,0===Ye&&!it&&!Ce&&(Be=Ee(Ae,ne))}),ft.subscribe(tt),!we&&Ye>0&&(we=new r.Ms({next:Nt=>ft.next(Nt),error:Nt=>{it=!0,Ht(),Be=Ee(He,ke,Nt),ft.error(Nt)},complete:()=>{Ce=!0,Ht(),Be=Ee(He,W),ft.complete()}}),(0,i.Tg)(rt).subscribe(we))})(pe)}}function Ee(Se,Ie,...ke){if(!0===Ie)return void Se();if(!1===Ie)return;const W=new r.Ms({next:()=>{W.unsubscribe(),Se()}});return(0,i.Tg)(Ie(...ke)).subscribe(W)}},9172:(on,Xe,k)=>{k.d(Xe,{Z:()=>be});var i=k(8793),oe=k(3794),r=k(9974);function be(...ae){const Ee=(0,oe.lI)(ae);return(0,r.N)((Se,Ie)=>{(Ee?(0,i.x)(ae,Se,Ee):(0,i.x)(ae,Se)).subscribe(Ie)})}},6745:(on,Xe,k)=>{k.d(Xe,{_:()=>oe});var i=k(9974);function oe(r,be=0){return(0,i.N)((ae,Ee)=>{Ee.add(r.schedule(()=>ae.subscribe(Ee),be))})}},5558:(on,Xe,k)=>{k.d(Xe,{n:()=>be});var i=k(8750),oe=k(9974),r=k(4360);function be(ae,Ee){return(0,oe.N)((Se,Ie)=>{let ke=null,W=0,ne=!1;const pe=()=>ne&&!ke&&Ie.complete();Se.subscribe((0,r._)(Ie,we=>{ke?.unsubscribe();let Be=0;const ve=W++;(0,i.Tg)(ae(we,ve)).subscribe(ke=(0,r._)(Ie,Ye=>Ie.next(Ee?Ee(we,Ye,ve,Be++):Ye),()=>{ke=null,pe()}))},()=>{ne=!0,pe()}))})}},6697:(on,Xe,k)=>{k.d(Xe,{s:()=>be});var i=k(983),oe=k(9974),r=k(4360);function be(ae){return ae<=0?()=>i.w:(0,oe.N)((Ee,Se)=>{let Ie=0;Ee.subscribe((0,r._)(Se,ke=>{++Ie<=ae&&(Se.next(ke),ae<=Ie&&Se.complete())}))})}},8141:(on,Xe,k)=>{k.d(Xe,{M:()=>ae});var i=k(8071),oe=k(9974),r=k(4360),be=k(3669);function ae(Ee,Se,Ie){const ke=(0,i.T)(Ee)||Se||Ie?{next:Ee,error:Se,complete:Ie}:Ee;return ke?(0,oe.N)((W,ne)=>{var pe;null===(pe=ke.subscribe)||void 0===pe||pe.call(ke);let we=!0;W.subscribe((0,r._)(ne,Be=>{var ve;null===(ve=ke.next)||void 0===ve||ve.call(ke,Be),ne.next(Be)},()=>{var Be;we=!1,null===(Be=ke.complete)||void 0===Be||Be.call(ke),ne.complete()},Be=>{var ve;we=!1,null===(ve=ke.error)||void 0===ve||ve.call(ke,Be),ne.error(Be)},()=>{var Be,ve;we&&(null===(Be=ke.unsubscribe)||void 0===Be||Be.call(ke)),null===(ve=ke.finalize)||void 0===ve||ve.call(ke)}))}):be.D}},3774:(on,Xe,k)=>{k.d(Xe,{v:()=>be});var i=k(9350),oe=k(9974),r=k(4360);function be(Ee=ae){return(0,oe.N)((Se,Ie)=>{let ke=!1;Se.subscribe((0,r._)(Ie,W=>{ke=!0,Ie.next(W)},()=>ke?Ie.complete():Ie.error(Ee())))})}function ae(){return new i.G}},6780:(on,Xe,k)=>{k.d(Xe,{R:()=>ae});var i=k(8359);class oe extends i.yU{constructor(Se,Ie){super()}schedule(Se,Ie=0){return this}}const r={setInterval(Ee,Se,...Ie){const{delegate:ke}=r;return ke?.setInterval?ke.setInterval(Ee,Se,...Ie):setInterval(Ee,Se,...Ie)},clearInterval(Ee){const{delegate:Se}=r;return(Se?.clearInterval||clearInterval)(Ee)},delegate:void 0};var be=k(7908);class ae extends oe{constructor(Se,Ie){super(Se,Ie),this.scheduler=Se,this.work=Ie,this.pending=!1}schedule(Se,Ie=0){var ke;if(this.closed)return this;this.state=Se;const W=this.id,ne=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(ne,W,Ie)),this.pending=!0,this.delay=Ie,this.id=null!==(ke=this.id)&&void 0!==ke?ke:this.requestAsyncId(ne,this.id,Ie),this}requestAsyncId(Se,Ie,ke=0){return r.setInterval(Se.flush.bind(Se,this),ke)}recycleAsyncId(Se,Ie,ke=0){if(null!=ke&&this.delay===ke&&!1===this.pending)return Ie;null!=Ie&&r.clearInterval(Ie)}execute(Se,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(Se,Ie);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Ie){let W,ke=!1;try{this.work(Se)}catch(ne){ke=!0,W=ne||new Error("Scheduled action threw falsy error")}if(ke)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Ie}=this,{actions:ke}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.o)(ke,this),null!=Se&&(this.id=this.recycleAsyncId(Ie,Se,null)),this.delay=null,super.unsubscribe()}}}},9687:(on,Xe,k)=>{k.d(Xe,{q:()=>r});var i=k(6129);class oe{constructor(ae,Ee=oe.now){this.schedulerActionCtor=ae,this.now=Ee}schedule(ae,Ee=0,Se){return new this.schedulerActionCtor(this,ae).schedule(Se,Ee)}}oe.now=i.U.now;class r extends oe{constructor(ae,Ee=oe.now){super(ae,Ee),this.actions=[],this._active=!1}flush(ae){const{actions:Ee}=this;if(this._active)return void Ee.push(ae);let Se;this._active=!0;do{if(Se=ae.execute(ae.state,ae.delay))break}while(ae=Ee.shift());if(this._active=!1,Se){for(;ae=Ee.shift();)ae.unsubscribe();throw Se}}}},3236:(on,Xe,k)=>{k.d(Xe,{E:()=>r});var i=k(6780);const r=new(k(9687).q)(i.R)},6129:(on,Xe,k)=>{k.d(Xe,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},9270:(on,Xe,k)=>{k.d(Xe,{f:()=>i});const i={setTimeout(oe,r,...be){const{delegate:ae}=i;return ae?.setTimeout?ae.setTimeout(oe,r,...be):setTimeout(oe,r,...be)},clearTimeout(oe){const{delegate:r}=i;return(r?.clearTimeout||clearTimeout)(oe)},delegate:void 0}},4761:(on,Xe,k)=>{k.d(Xe,{l:()=>oe});const oe=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(on,Xe,k)=>{k.d(Xe,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(on,Xe,k)=>{k.d(Xe,{G:()=>oe});const oe=(0,k(1853).L)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(on,Xe,k)=>{k.d(Xe,{R0:()=>Ee,ms:()=>be,lI:()=>ae});var i=k(8071);function r(Se){return Se[Se.length-1]}function be(Se){return(0,i.T)(r(Se))?Se.pop():void 0}function ae(Se){return function oe(Se){return Se&&(0,i.T)(Se.schedule)}(r(Se))?Se.pop():void 0}function Ee(Se,Ie){return"number"==typeof r(Se)?Se.pop():Ie}},3073:(on,Xe,k)=>{k.d(Xe,{D:()=>ae});const{isArray:i}=Array,{getPrototypeOf:oe,prototype:r,keys:be}=Object;function ae(Se){if(1===Se.length){const Ie=Se[0];if(i(Ie))return{args:Ie,keys:null};if(function Ee(Se){return Se&&"object"==typeof Se&&oe(Se)===r}(Ie)){const ke=be(Ie);return{args:ke.map(W=>Ie[W]),keys:ke}}}return{args:Se,keys:null}}},7908:(on,Xe,k)=>{function i(oe,r){if(oe){const be=oe.indexOf(r);0<=be&&oe.splice(be,1)}}k.d(Xe,{o:()=>i})},1853:(on,Xe,k)=>{function i(oe){const be=oe(ae=>{Error.call(ae),ae.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}k.d(Xe,{L:()=>i})},8496:(on,Xe,k)=>{function i(oe,r){return oe.reduce((be,ae,Ee)=>(be[ae]=r[Ee],be),{})}k.d(Xe,{e:()=>i})},9786:(on,Xe,k)=>{k.d(Xe,{Y:()=>r,l:()=>be});var i=k(1026);let oe=null;function r(ae){if(i.$.useDeprecatedSynchronousErrorHandling){const Ee=!oe;if(Ee&&(oe={errorThrown:!1,error:null}),ae(),Ee){const{errorThrown:Se,error:Ie}=oe;if(oe=null,Se)throw Ie}}else ae()}function be(ae){i.$.useDeprecatedSynchronousErrorHandling&&oe&&(oe.errorThrown=!0,oe.error=ae)}},5225:(on,Xe,k)=>{function i(oe,r,be,ae=0,Ee=!1){const Se=r.schedule(function(){be(),Ee?oe.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(oe.add(Se),!Ee)return Se}k.d(Xe,{N:()=>i})},3669:(on,Xe,k)=>{function i(oe){return oe}k.d(Xe,{D:()=>i})},7441:(on,Xe,k)=>{k.d(Xe,{X:()=>i});const i=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},7953:(on,Xe,k)=>{k.d(Xe,{T:()=>oe});var i=k(8071);function oe(r){return Symbol.asyncIterator&&(0,i.T)(r?.[Symbol.asyncIterator])}},8071:(on,Xe,k)=>{function i(oe){return"function"==typeof oe}k.d(Xe,{T:()=>i})},5055:(on,Xe,k)=>{k.d(Xe,{l:()=>r});var i=k(3494),oe=k(8071);function r(be){return(0,oe.T)(be[i.s])}},5397:(on,Xe,k)=>{k.d(Xe,{x:()=>r});var i=k(4761),oe=k(8071);function r(be){return(0,oe.T)(be?.[i.l])}},9858:(on,Xe,k)=>{k.d(Xe,{y:()=>oe});var i=k(8071);function oe(r){return(0,i.T)(r?.then)}},5196:(on,Xe,k)=>{k.d(Xe,{C:()=>r,U:()=>be});var i=k(1635),oe=k(8071);function r(ae){return(0,i.AQ)(this,arguments,function*(){const Se=ae.getReader();try{for(;;){const{value:Ie,done:ke}=yield(0,i.N3)(Se.read());if(ke)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(Ie)}}finally{Se.releaseLock()}})}function be(ae){return(0,oe.T)(ae?.getReader)}},9974:(on,Xe,k)=>{k.d(Xe,{N:()=>r,S:()=>oe});var i=k(8071);function oe(be){return(0,i.T)(be?.lift)}function r(be){return ae=>{if(oe(ae))return ae.lift(function(Ee){try{return be(Ee,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(on,Xe,k)=>{k.d(Xe,{I:()=>be});var i=k(6354);const{isArray:oe}=Array;function be(ae){return(0,i.T)(Ee=>function r(ae,Ee){return oe(Ee)?ae(...Ee):ae(Ee)}(ae,Ee))}},5343:(on,Xe,k)=>{function i(){}k.d(Xe,{l:()=>i})},1203:(on,Xe,k)=>{k.d(Xe,{F:()=>oe,m:()=>r});var i=k(3669);function oe(...be){return r(be)}function r(be){return 0===be.length?i.D:1===be.length?be[0]:function(Ee){return be.reduce((Se,Ie)=>Ie(Se),Ee)}}},5334:(on,Xe,k)=>{k.d(Xe,{m:()=>r});var i=k(1026),oe=k(9270);function r(be){oe.f.setTimeout(()=>{const{onUnhandledError:ae}=i.$;if(!ae)throw be;ae(be)})}},591:(on,Xe,k)=>{function i(oe){return new TypeError(`You provided ${null!==oe&&"object"==typeof oe?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Xe,{L:()=>i})},9969:(on,Xe,k)=>{k.d(Xe,{FX:()=>Ht,K2:()=>Se,Os:()=>Ee,P:()=>ve,Ro:()=>oe,S6:()=>i,hZ:()=>be,i0:()=>ae,iF:()=>Ie,kY:()=>ne,kp:()=>r,sf:()=>Ce,ui:()=>it,yc:()=>Ye});class i{}class oe{}const r="*";function be(He,Ae){return{type:7,name:He,definitions:Ae,options:{}}}function ae(He,Ae=null){return{type:4,styles:Ae,timings:He}}function Ee(He,Ae=null){return{type:3,steps:He,options:Ae}}function Se(He,Ae=null){return{type:2,steps:He,options:Ae}}function Ie(He){return{type:6,styles:He,offset:null}}function ne(He,Ae,rt=null){return{type:1,expr:He,animation:Ae,options:rt}}function ve(He,Ae,rt=null){return{type:11,selector:He,animation:Ae,options:rt}}function Ye(He,Ae){return{type:12,timings:He,animation:Ae}}class Ce{constructor(Ae=0,rt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ae+rt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}onStart(Ae){this._originalOnStartFns.push(Ae),this._onStartFns.push(Ae)}onDone(Ae){this._originalOnDoneFns.push(Ae),this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ae){this._position=this.totalTime?Ae*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ae){const rt="start"==Ae?this._onStartFns:this._onDoneFns;rt.forEach(tt=>tt()),rt.length=0}}class it{constructor(Ae){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ae;let rt=0,tt=0,ft=0;const Nt=this.players.length;0==Nt?queueMicrotask(()=>this._onFinish()):this.players.forEach(pt=>{pt.onDone(()=>{++rt==Nt&&this._onFinish()}),pt.onDestroy(()=>{++tt==Nt&&this._onDestroy()}),pt.onStart(()=>{++ft==Nt&&this._onStart()})}),this.totalTime=this.players.reduce((pt,Te)=>Math.max(pt,Te.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}init(){this.players.forEach(Ae=>Ae.init())}onStart(Ae){this._onStartFns.push(Ae)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[])}onDone(Ae){this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ae=>Ae.play())}pause(){this.players.forEach(Ae=>Ae.pause())}restart(){this.players.forEach(Ae=>Ae.restart())}finish(){this._onFinish(),this.players.forEach(Ae=>Ae.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ae=>Ae.destroy()),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this.players.forEach(Ae=>Ae.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ae){const rt=Ae*this.totalTime;this.players.forEach(tt=>{const ft=tt.totalTime?Math.min(1,rt/tt.totalTime):1;tt.setPosition(ft)})}getPosition(){const Ae=this.players.reduce((rt,tt)=>null===rt||tt.totalTime>rt.totalTime?tt:rt,null);return null!=Ae?Ae.getPosition():0}beforeDestroy(){this.players.forEach(Ae=>{Ae.beforeDestroy&&Ae.beforeDestroy()})}triggerCallback(Ae){const rt="start"==Ae?this._onStartFns:this._onDoneFns;rt.forEach(tt=>tt()),rt.length=0}}const Ht="!"},177:(on,Xe,k)=>{k.d(Xe,{AJ:()=>ti,B3:()=>Er,Jj:()=>Ws,MD:()=>qs,N0:()=>Pn,P9:()=>us,PV:()=>bs,QT:()=>r,QX:()=>oi,Sm:()=>ve,Sq:()=>Ai,VF:()=>ae,Vy:()=>Is,Xr:()=>je,YU:()=>Ln,ZD:()=>be,_b:()=>dn,aZ:()=>Ce,bT:()=>_o,e1:()=>Ki,fG:()=>ys,fw:()=>Ye,hb:()=>we,hj:()=>Ie,lG:()=>Ts,qQ:()=>Ee,ux:()=>Zr});var i=k(7705);let oe=null;function r(){return oe}function be(M){oe||(oe=M)}class ae{}const Ee=new i.nKC("DocumentToken");let Se=(()=>{class M{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275prov=i.jDH({token:M,factory:function(){return(0,i.WQX)(ke)},providedIn:"platform"})}}return M})();const Ie=new i.nKC("Location Initialized");let ke=(()=>{class M extends Se{constructor(){super(),this._doc=(0,i.WQX)(Ee),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return r().getBaseHref(this._doc)}onPopState(B){const X=r().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",B,!1),()=>X.removeEventListener("popstate",B)}onHashChange(B){const X=r().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",B,!1),()=>X.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,X,Le){this._history.pushState(B,X,Le)}replaceState(B,X,Le){this._history.replaceState(B,X,Le)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275prov=i.jDH({token:M,factory:function(){return new M},providedIn:"platform"})}}return M})();function W(M,se){if(0==M.length)return se;if(0==se.length)return M;let B=0;return M.endsWith("/")&&B++,se.startsWith("/")&&B++,2==B?M+se.substring(1):1==B?M+se:M+"/"+se}function ne(M){const se=M.match(/#|\?|$/),B=se&&se.index||M.length;return M.slice(0,B-("/"===M[B-1]?1:0))+M.slice(B)}function pe(M){return M&&"?"!==M[0]?"?"+M:M}let we=(()=>{class M{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275prov=i.jDH({token:M,factory:function(){return(0,i.WQX)(ve)},providedIn:"root"})}}return M})();const Be=new i.nKC("appBaseHref");let ve=(()=>{class M extends we{constructor(B,X){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return W(this._baseHref,B)}path(B=!1){const X=this._platformLocation.pathname+pe(this._platformLocation.search),Le=this._platformLocation.hash;return Le&&B?`${X}${Le}`:X}pushState(B,X,Le,xt){const zt=this.prepareExternalUrl(Le+pe(xt));this._platformLocation.pushState(B,X,zt)}replaceState(B,X,Le,xt){const zt=this.prepareExternalUrl(Le+pe(xt));this._platformLocation.replaceState(B,X,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(X){return new(X||M)(i.KVO(Se),i.KVO(Be,8))}}static{this.\u0275prov=i.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),Ye=(()=>{class M extends we{constructor(B,X){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(B){const X=W(this._baseHref,B);return X.length>0?"#"+X:X}pushState(B,X,Le,xt){let zt=this.prepareExternalUrl(Le+pe(xt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.pushState(B,X,zt)}replaceState(B,X,Le,xt){let zt=this.prepareExternalUrl(Le+pe(xt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.replaceState(B,X,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(X){return new(X||M)(i.KVO(Se),i.KVO(Be,8))}}static{this.\u0275prov=i.jDH({token:M,factory:M.\u0275fac})}}return M})(),Ce=(()=>{class M{constructor(B){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const X=this._locationStrategy.getBaseHref();this._basePath=function Ae(M){if(new RegExp("^(https?:)?//").test(M)){const[,B]=M.split(/\/\/[^\/]+/);return B}return M}(ne(He(X))),this._locationStrategy.onPopState(Le=>{this._subject.emit({url:this.path(!0),pop:!0,state:Le.state,type:Le.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,X=""){return this.path()==this.normalize(B+pe(X))}normalize(B){return M.stripTrailingSlash(function Ht(M,se){if(!M||!se.startsWith(M))return se;const B=se.substring(M.length);return""===B||["/",";","?","#"].includes(B[0])?B:se}(this._basePath,He(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,X="",Le=null){this._locationStrategy.pushState(Le,"",B,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+pe(X)),Le)}replaceState(B,X="",Le=null){this._locationStrategy.replaceState(Le,"",B,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+pe(X)),Le)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",X){this._urlChangeListeners.forEach(Le=>Le(B,X))}subscribe(B,X,Le){return this._subject.subscribe({next:B,error:X,complete:Le})}static{this.normalizeQueryParams=pe}static{this.joinWithSlash=W}static{this.stripTrailingSlash=ne}static{this.\u0275fac=function(X){return new(X||M)(i.KVO(we))}}static{this.\u0275prov=i.jDH({token:M,factory:function(){return function it(){return new Ce((0,i.KVO)(we))}()},providedIn:"root"})}}return M})();function He(M){return M.replace(/\/index.html$/,"")}var tt=function(M){return M[M.Decimal=0]="Decimal",M[M.Percent=1]="Percent",M[M.Currency=2]="Currency",M[M.Scientific=3]="Scientific",M}(tt||{}),Ze=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(Ze||{});function ye(M,se){const B=(0,i.H5H)(M),X=B[i.KH2.NumberSymbols][se];if(typeof X>"u"){if(se===Ze.CurrencyDecimal)return B[i.KH2.NumberSymbols][Ze.Decimal];if(se===Ze.CurrencyGroup)return B[i.KH2.NumberSymbols][Ze.Group]}return X}const A=/^(\d+)?\.((\d+)(-(\d+))?)?$/,$=".";function yn(M){const se=parseInt(M);if(isNaN(se))throw new Error("Invalid integer literal when parsing "+M);return se}function dn(M,se){se=encodeURIComponent(se);for(const B of M.split(";")){const X=B.indexOf("="),[Le,xt]=-1==X?[B,""]:[B.slice(0,X),B.slice(X+1)];if(Le.trim()===se)return decodeURIComponent(xt)}return null}const Fn=/\s+/,mn=[];let Ln=(()=>{class M{constructor(B,X,Le,xt){this._iterableDiffers=B,this._keyValueDiffers=X,this._ngEl=Le,this._renderer=xt,this.initialClasses=mn,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(Fn):mn}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(Fn):B}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const X of B)this._updateState(X,!0);else if(null!=B)for(const X of Object.keys(B))this._updateState(X,!!B[X]);this._applyStateDiff()}_updateState(B,X){const Le=this.stateMap.get(B);void 0!==Le?(Le.enabled!==X&&(Le.changed=!0,Le.enabled=X),Le.touched=!0):this.stateMap.set(B,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const X=B[0],Le=B[1];Le.changed?(this._toggleClass(X,Le.enabled),Le.changed=!1):Le.touched||(Le.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),Le.touched=!1}}_toggleClass(B,X){(B=B.trim()).length>0&&B.split(Fn).forEach(Le=>{X?this._renderer.addClass(this._ngEl.nativeElement,Le):this._renderer.removeClass(this._ngEl.nativeElement,Le)})}static{this.\u0275fac=function(X){return new(X||M)(i.rXU(i._q3),i.rXU(i.MKu),i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return M})();class Qn{constructor(se,B,X,Le){this.$implicit=se,this.ngForOf=B,this.index=X,this.count=Le}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ai=(()=>{class M{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,X,Le){this._viewContainer=B,this._template=X,this._differs=Le,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const X=this._viewContainer;B.forEachOperation((Le,xt,zt)=>{if(null==Le.previousIndex)X.createEmbeddedView(this._template,new Qn(Le.item,this._ngForOf,-1,-1),null===zt?void 0:zt);else if(null==zt)X.remove(null===xt?void 0:xt);else if(null!==xt){const Bn=X.get(xt);X.move(Bn,zt),ls(Bn,Le)}});for(let Le=0,xt=X.length;Le<xt;Le++){const Bn=X.get(Le).context;Bn.index=Le,Bn.count=xt,Bn.ngForOf=this._ngForOf}B.forEachIdentityChange(Le=>{ls(X.get(Le.currentIndex),Le)})}static ngTemplateContextGuard(B,X){return!0}static{this.\u0275fac=function(X){return new(X||M)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return M})();function ls(M,se){M.context.$implicit=se.item}let _o=(()=>{class M{constructor(B,X){this._viewContainer=B,this._context=new Hs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){zi("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){zi("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,X){return!0}static{this.\u0275fac=function(X){return new(X||M)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return M})();class Hs{constructor(){this.$implicit=null,this.ngIf=null}}function zi(M,se){if(se&&!se.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,i.Tbb)(se)}'.`)}class Ao{constructor(se,B){this._viewContainerRef=se,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(se){se&&!this._created?this.create():!se&&this._created&&this.destroy()}}let Zr=(()=>{class M{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews.push(B)}_matchCase(B){const X=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||X,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),X}_updateDefaultCases(B){if(this._defaultViews.length>0&&B!==this._defaultUsed){this._defaultUsed=B;for(const X of this._defaultViews)X.enforceState(B)}}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275dir=i.FsC({type:M,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return M})(),Ki=(()=>{class M{constructor(B,X,Le){this.ngSwitch=Le,Le._addCase(),this._view=new Ao(B,X)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(X){return new(X||M)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(Zr,9))}}static{this.\u0275dir=i.FsC({type:M,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return M})(),ys=(()=>{class M{constructor(B,X,Le){Le._addDefault(new Ao(B,X))}static{this.\u0275fac=function(X){return new(X||M)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(Zr,9))}}static{this.\u0275dir=i.FsC({type:M,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return M})(),Er=(()=>{class M{constructor(B,X,Le){this._ngEl=B,this._differs=X,this._renderer=Le,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,X){const[Le,xt]=B.split("."),zt=-1===Le.indexOf("-")?void 0:i.czy.DashCase;null!=X?this._renderer.setStyle(this._ngEl.nativeElement,Le,xt?`${X}${xt}`:X,zt):this._renderer.removeStyle(this._ngEl.nativeElement,Le,zt)}_applyChanges(B){B.forEachRemovedItem(X=>this._setStyle(X.key,null)),B.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),B.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}static{this.\u0275fac=function(X){return new(X||M)(i.rXU(i.aKT),i.rXU(i.MKu),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return M})();function li(M,se){return new i.wOt(2100,!1)}class ba{createSubscription(se,B){return(0,i.O8t)(()=>se.subscribe({next:B,error:X=>{throw X}}))}dispose(se){(0,i.O8t)(()=>se.unsubscribe())}}class Ua{createSubscription(se,B){return se.then(B,X=>{throw X})}dispose(se){}}const Di=new Ua,oo=new ba;let Ws=(()=>{class M{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,X=>this._updateLatestValue(B,X))}_selectStrategy(B){if((0,i.jNT)(B))return Di;if((0,i.zjR)(B))return oo;throw li()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,X){B===this._obj&&(this._latestValue=X,this._ref.markForCheck())}static{this.\u0275fac=function(X){return new(X||M)(i.rXU(i.gRc,16))}}static{this.\u0275pipe=i.EJ8({name:"async",type:M,pure:!1,standalone:!0})}}return M})();const Vs=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let bs=(()=>{class M{transform(B){if(null==B)return null;if("string"!=typeof B)throw li();return B.replace(Vs,X=>X[0].toUpperCase()+X.slice(1).toLowerCase())}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275pipe=i.EJ8({name:"titlecase",type:M,pure:!0,standalone:!0})}}return M})(),Ts=(()=>{class M{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=Ps}transform(B,X=Ps){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const Le=this.differ.diff(B),xt=X!==this.compareFn;return Le&&(this.keyValues=[],Le.forEachItem(zt=>{this.keyValues.push(function es(M,se){return{key:M,value:se}}(zt.key,zt.currentValue))})),(Le||xt)&&(this.keyValues.sort(X),this.compareFn=X),this.keyValues}static{this.\u0275fac=function(X){return new(X||M)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:M,pure:!1,standalone:!0})}}return M})();function Ps(M,se){const B=M.key,X=se.key;if(B===X)return 0;if(void 0===B)return 1;if(void 0===X)return-1;if(null===B)return 1;if(null===X)return-1;if("string"==typeof B&&"string"==typeof X)return B<X?-1:1;if("number"==typeof B&&"number"==typeof X)return B-X;if("boolean"==typeof B&&"boolean"==typeof X)return B<X?-1:1;const Le=String(B),xt=String(X);return Le==xt?0:Le<xt?-1:1}let oi=(()=>{class M{constructor(B){this._locale=B}transform(B,X,Le){if(!function gr(M){return!(null==M||""===M||M!=M)}(B))return null;Le=Le||this._locale;try{return function Vt(M,se,B){return function Ve(M,se,B,X,Le,xt,zt=!1){let Bn="",Fr=!1;if(isFinite(M)){let Kr=function fn(M){let X,Le,xt,zt,Bn,se=Math.abs(M)+"",B=0;for((Le=se.indexOf($))>-1&&(se=se.replace($,"")),(xt=se.search(/e/i))>0?(Le<0&&(Le=xt),Le+=+se.slice(xt+1),se=se.substring(0,xt)):Le<0&&(Le=se.length),xt=0;"0"===se.charAt(xt);xt++);if(xt===(Bn=se.length))X=[0],Le=1;else{for(Bn--;"0"===se.charAt(Bn);)Bn--;for(Le-=xt,X=[],zt=0;xt<=Bn;xt++,zt++)X[zt]=Number(se.charAt(xt))}return Le>22&&(X=X.splice(0,21),B=Le-1,Le=1),{digits:X,exponent:B,integerLen:Le}}(M);zt&&(Kr=function _n(M){if(0===M.digits[0])return M;const se=M.digits.length-M.integerLen;return M.exponent?M.exponent+=2:(0===se?M.digits.push(0,0):1===se&&M.digits.push(0),M.integerLen+=2),M}(Kr));let qr=se.minInt,Ir=se.minFrac,ni=se.maxFrac;if(xt){const js=xt.match(A);if(null===js)throw new Error(`${xt} is not a valid digit info`);const Po=js[1],Ji=js[3],Mo=js[5];null!=Po&&(qr=yn(Po)),null!=Ji&&(Ir=yn(Ji)),null!=Mo?ni=yn(Mo):null!=Ji&&Ir>ni&&(ni=Ir)}!function lr(M,se,B){if(se>B)throw new Error(`The minimum number of digits after fraction (${se}) is higher than the maximum (${B}).`);let X=M.digits,Le=X.length-M.integerLen;const xt=Math.min(Math.max(se,Le),B);let zt=xt+M.integerLen,Bn=X[zt];if(zt>0){X.splice(Math.max(M.integerLen,zt));for(let Ir=zt;Ir<X.length;Ir++)X[Ir]=0}else{Le=Math.max(0,Le),M.integerLen=1,X.length=Math.max(1,zt=xt+1),X[0]=0;for(let Ir=1;Ir<zt;Ir++)X[Ir]=0}if(Bn>=5)if(zt-1<0){for(let Ir=0;Ir>zt;Ir--)X.unshift(0),M.integerLen++;X.unshift(1),M.integerLen++}else X[zt-1]++;for(;Le<Math.max(0,xt);Le++)X.push(0);let Fr=0!==xt;const Kr=se+M.integerLen,qr=X.reduceRight(function(Ir,ni,Mi,Fi){return Fi[Mi]=(ni+=Ir)<10?ni:ni-10,Fr&&(0===Fi[Mi]&&Mi>=Kr?Fi.pop():Fr=!1),ni>=10?1:0},0);qr&&(X.unshift(qr),M.integerLen++)}(Kr,Ir,ni);let Mi=Kr.digits,Fi=Kr.integerLen;const uo=Kr.exponent;let Os=[];for(Fr=Mi.every(js=>!js);Fi<qr;Fi++)Mi.unshift(0);for(;Fi<0;Fi++)Mi.unshift(0);Fi>0?Os=Mi.splice(Fi,Mi.length):(Os=Mi,Mi=[0]);const Jo=[];for(Mi.length>=se.lgSize&&Jo.unshift(Mi.splice(-se.lgSize,Mi.length).join(""));Mi.length>se.gSize;)Jo.unshift(Mi.splice(-se.gSize,Mi.length).join(""));Mi.length&&Jo.unshift(Mi.join("")),Bn=Jo.join(ye(B,X)),Os.length&&(Bn+=ye(B,Le)+Os.join("")),uo&&(Bn+=ye(B,Ze.Exponential)+"+"+uo)}else Bn=ye(B,Ze.Infinity);return Bn=M<0&&!Fr?se.negPre+Bn+se.negSuf:se.posPre+Bn+se.posSuf,Bn}(M,function rn(M,se="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},X=M.split(";"),Le=X[0],xt=X[1],zt=-1!==Le.indexOf($)?Le.split($):[Le.substring(0,Le.lastIndexOf("0")+1),Le.substring(Le.lastIndexOf("0")+1)],Bn=zt[0],Fr=zt[1]||"";B.posPre=Bn.substring(0,Bn.indexOf("#"));for(let qr=0;qr<Fr.length;qr++){const Ir=Fr.charAt(qr);"0"===Ir?B.minFrac=B.maxFrac=qr+1:"#"===Ir?B.maxFrac=qr+1:B.posSuf+=Ir}const Kr=Bn.split(",");if(B.gSize=Kr[1]?Kr[1].length:0,B.lgSize=Kr[2]||Kr[1]?(Kr[2]||Kr[1]).length:0,xt){const qr=Le.length-B.posPre.length-B.posSuf.length,Ir=xt.indexOf("#");B.negPre=xt.substring(0,Ir).replace(/'/g,""),B.negSuf=xt.slice(Ir+qr).replace(/'/g,"")}else B.negPre=se+B.posPre,B.negSuf=B.posSuf;return B}(function Fe(M,se){return(0,i.H5H)(M)[i.KH2.NumberFormats][se]}(se,tt.Decimal),ye(se,Ze.MinusSign)),se,Ze.Group,Ze.Decimal,B)}(function ts(M){if("string"==typeof M&&!isNaN(Number(M)-parseFloat(M)))return Number(M);if("number"!=typeof M)throw new Error(`${M} is not a number`);return M}(B),Le,X)}catch(xt){throw li()}}static{this.\u0275fac=function(X){return new(X||M)(i.rXU(i.xe9,16))}}static{this.\u0275pipe=i.EJ8({name:"number",type:M,pure:!0,standalone:!0})}}return M})();let us=(()=>{class M{transform(B,X,Le){if(null==B)return null;if(!this.supports(B))throw li();return B.slice(X,Le)}supports(B){return"string"==typeof B||Array.isArray(B)}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275pipe=i.EJ8({name:"slice",type:M,pure:!1,standalone:!0})}}return M})(),qs=(()=>{class M{static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275mod=i.$C({type:M})}static{this.\u0275inj=i.G2t({})}}return M})();const ti="browser",ns="server";function Is(M){return M===ns}let je=(()=>{class M{static{this.\u0275prov=(0,i.jDH)({token:M,providedIn:"root",factory:()=>new lt((0,i.KVO)(Ee),window)})}}return M})();class lt{constructor(se,B){this.document=se,this.window=B,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const B=function St(M,se){const B=M.getElementById(se)||M.getElementsByName(se)[0];if(B)return B;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const X=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let Le=X.currentNode;for(;Le;){const xt=Le.shadowRoot;if(xt){const zt=xt.getElementById(se)||xt.querySelector(`[name="${se}"]`);if(zt)return zt}Le=X.nextNode()}}return null}(this.document,se);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(se){this.supportsScrolling()&&(this.window.history.scrollRestoration=se)}scrollToElement(se){const B=se.getBoundingClientRect(),X=B.left+this.window.pageXOffset,Le=B.top+this.window.pageYOffset,xt=this.offset();this.window.scrollTo(X-xt[0],Le-xt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Pn{}},1626:(on,Xe,k)=>{k.d(Xe,{Qq:()=>ct,q1:()=>A});var i=k(7705),oe=k(7673),r=k(8455),be=k(1985),ae=k(274),Ee=k(5964),Se=k(6354),Ie=k(980),ke=k(5558),W=k(177);class ne{}class pe{}class we{constructor(Ue){this.normalizedNames=new Map,this.lazyUpdate=null,Ue?"string"==typeof Ue?this.lazyInit=()=>{this.headers=new Map,Ue.split("\n").forEach(qe=>{const Vt=qe.indexOf(":");if(Vt>0){const rn=qe.slice(0,Vt),_n=rn.toLowerCase(),fn=qe.slice(Vt+1).trim();this.maybeSetNormalizedName(rn,_n),this.headers.has(_n)?this.headers.get(_n).push(fn):this.headers.set(_n,[fn])}})}:typeof Headers<"u"&&Ue instanceof Headers?(this.headers=new Map,Ue.forEach((qe,Vt)=>{this.setHeaderEntries(Vt,qe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ue).forEach(([qe,Vt])=>{this.setHeaderEntries(qe,Vt)})}:this.headers=new Map}has(Ue){return this.init(),this.headers.has(Ue.toLowerCase())}get(Ue){this.init();const qe=this.headers.get(Ue.toLowerCase());return qe&&qe.length>0?qe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ue){return this.init(),this.headers.get(Ue.toLowerCase())||null}append(Ue,qe){return this.clone({name:Ue,value:qe,op:"a"})}set(Ue,qe){return this.clone({name:Ue,value:qe,op:"s"})}delete(Ue,qe){return this.clone({name:Ue,value:qe,op:"d"})}maybeSetNormalizedName(Ue,qe){this.normalizedNames.has(qe)||this.normalizedNames.set(qe,Ue)}init(){this.lazyInit&&(this.lazyInit instanceof we?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ue=>this.applyUpdate(Ue)),this.lazyUpdate=null))}copyFrom(Ue){Ue.init(),Array.from(Ue.headers.keys()).forEach(qe=>{this.headers.set(qe,Ue.headers.get(qe)),this.normalizedNames.set(qe,Ue.normalizedNames.get(qe))})}clone(Ue){const qe=new we;return qe.lazyInit=this.lazyInit&&this.lazyInit instanceof we?this.lazyInit:this,qe.lazyUpdate=(this.lazyUpdate||[]).concat([Ue]),qe}applyUpdate(Ue){const qe=Ue.name.toLowerCase();switch(Ue.op){case"a":case"s":let Vt=Ue.value;if("string"==typeof Vt&&(Vt=[Vt]),0===Vt.length)return;this.maybeSetNormalizedName(Ue.name,qe);const rn=("a"===Ue.op?this.headers.get(qe):void 0)||[];rn.push(...Vt),this.headers.set(qe,rn);break;case"d":const _n=Ue.value;if(_n){let fn=this.headers.get(qe);if(!fn)return;fn=fn.filter(lr=>-1===_n.indexOf(lr)),0===fn.length?(this.headers.delete(qe),this.normalizedNames.delete(qe)):this.headers.set(qe,fn)}else this.headers.delete(qe),this.normalizedNames.delete(qe)}}setHeaderEntries(Ue,qe){const Vt=(Array.isArray(qe)?qe:[qe]).map(_n=>_n.toString()),rn=Ue.toLowerCase();this.headers.set(rn,Vt),this.maybeSetNormalizedName(Ue,rn)}forEach(Ue){this.init(),Array.from(this.normalizedNames.keys()).forEach(qe=>Ue(this.normalizedNames.get(qe),this.headers.get(qe)))}}class ve{encodeKey(Ue){return Ht(Ue)}encodeValue(Ue){return Ht(Ue)}decodeKey(Ue){return decodeURIComponent(Ue)}decodeValue(Ue){return decodeURIComponent(Ue)}}const Ce=/%(\d[a-f0-9])/gi,it={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ht(Ve){return encodeURIComponent(Ve).replace(Ce,(Ue,qe)=>it[qe]??Ue)}function He(Ve){return`${Ve}`}class Ae{constructor(Ue={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ue.encoder||new ve,Ue.fromString){if(Ue.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ye(Ve,Ue){const qe=new Map;return Ve.length>0&&Ve.replace(/^\?/,"").split("&").forEach(rn=>{const _n=rn.indexOf("="),[fn,lr]=-1==_n?[Ue.decodeKey(rn),""]:[Ue.decodeKey(rn.slice(0,_n)),Ue.decodeValue(rn.slice(_n+1))],yn=qe.get(fn)||[];yn.push(lr),qe.set(fn,yn)}),qe}(Ue.fromString,this.encoder)}else Ue.fromObject?(this.map=new Map,Object.keys(Ue.fromObject).forEach(qe=>{const Vt=Ue.fromObject[qe],rn=Array.isArray(Vt)?Vt.map(He):[He(Vt)];this.map.set(qe,rn)})):this.map=null}has(Ue){return this.init(),this.map.has(Ue)}get(Ue){this.init();const qe=this.map.get(Ue);return qe?qe[0]:null}getAll(Ue){return this.init(),this.map.get(Ue)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ue,qe){return this.clone({param:Ue,value:qe,op:"a"})}appendAll(Ue){const qe=[];return Object.keys(Ue).forEach(Vt=>{const rn=Ue[Vt];Array.isArray(rn)?rn.forEach(_n=>{qe.push({param:Vt,value:_n,op:"a"})}):qe.push({param:Vt,value:rn,op:"a"})}),this.clone(qe)}set(Ue,qe){return this.clone({param:Ue,value:qe,op:"s"})}delete(Ue,qe){return this.clone({param:Ue,value:qe,op:"d"})}toString(){return this.init(),this.keys().map(Ue=>{const qe=this.encoder.encodeKey(Ue);return this.map.get(Ue).map(Vt=>qe+"="+this.encoder.encodeValue(Vt)).join("&")}).filter(Ue=>""!==Ue).join("&")}clone(Ue){const qe=new Ae({encoder:this.encoder});return qe.cloneFrom=this.cloneFrom||this,qe.updates=(this.updates||[]).concat(Ue),qe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ue=>this.map.set(Ue,this.cloneFrom.map.get(Ue))),this.updates.forEach(Ue=>{switch(Ue.op){case"a":case"s":const qe=("a"===Ue.op?this.map.get(Ue.param):void 0)||[];qe.push(He(Ue.value)),this.map.set(Ue.param,qe);break;case"d":if(void 0===Ue.value){this.map.delete(Ue.param);break}{let Vt=this.map.get(Ue.param)||[];const rn=Vt.indexOf(He(Ue.value));-1!==rn&&Vt.splice(rn,1),Vt.length>0?this.map.set(Ue.param,Vt):this.map.delete(Ue.param)}}}),this.cloneFrom=this.updates=null)}}class tt{constructor(){this.map=new Map}set(Ue,qe){return this.map.set(Ue,qe),this}get(Ue){return this.map.has(Ue)||this.map.set(Ue,Ue.defaultValue()),this.map.get(Ue)}delete(Ue){return this.map.delete(Ue),this}has(Ue){return this.map.has(Ue)}keys(){return this.map.keys()}}function Nt(Ve){return typeof ArrayBuffer<"u"&&Ve instanceof ArrayBuffer}function pt(Ve){return typeof Blob<"u"&&Ve instanceof Blob}function Te(Ve){return typeof FormData<"u"&&Ve instanceof FormData}class Jt{constructor(Ue,qe,Vt,rn){let _n;if(this.url=qe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ue.toUpperCase(),function ft(Ve){switch(Ve){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||rn?(this.body=void 0!==Vt?Vt:null,_n=rn):_n=Vt,_n&&(this.reportProgress=!!_n.reportProgress,this.withCredentials=!!_n.withCredentials,_n.responseType&&(this.responseType=_n.responseType),_n.headers&&(this.headers=_n.headers),_n.context&&(this.context=_n.context),_n.params&&(this.params=_n.params)),this.headers||(this.headers=new we),this.context||(this.context=new tt),this.params){const fn=this.params.toString();if(0===fn.length)this.urlWithParams=qe;else{const lr=qe.indexOf("?");this.urlWithParams=qe+(-1===lr?"?":lr<qe.length-1?"&":"")+fn}}else this.params=new Ae,this.urlWithParams=qe}serializeBody(){return null===this.body?null:Nt(this.body)||pt(this.body)||Te(this.body)||function Ze(Ve){return typeof URLSearchParams<"u"&&Ve instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ae?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Te(this.body)?null:pt(this.body)?this.body.type||null:Nt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ae?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ue={}){const qe=Ue.method||this.method,Vt=Ue.url||this.url,rn=Ue.responseType||this.responseType,_n=void 0!==Ue.body?Ue.body:this.body,fn=void 0!==Ue.withCredentials?Ue.withCredentials:this.withCredentials,lr=void 0!==Ue.reportProgress?Ue.reportProgress:this.reportProgress;let yn=Ue.headers||this.headers,yi=Ue.params||this.params;const At=Ue.context??this.context;return void 0!==Ue.setHeaders&&(yn=Object.keys(Ue.setHeaders).reduce((at,kt)=>at.set(kt,Ue.setHeaders[kt]),yn)),Ue.setParams&&(yi=Object.keys(Ue.setParams).reduce((at,kt)=>at.set(kt,Ue.setParams[kt]),yi)),new Jt(qe,Vt,_n,{params:yi,headers:yn,context:At,reportProgress:lr,responseType:rn,withCredentials:fn})}}var Rn=function(Ve){return Ve[Ve.Sent=0]="Sent",Ve[Ve.UploadProgress=1]="UploadProgress",Ve[Ve.ResponseHeader=2]="ResponseHeader",Ve[Ve.DownloadProgress=3]="DownloadProgress",Ve[Ve.Response=4]="Response",Ve[Ve.User=5]="User",Ve}(Rn||{});class Ft{constructor(Ue,qe=200,Vt="OK"){this.headers=Ue.headers||new we,this.status=void 0!==Ue.status?Ue.status:qe,this.statusText=Ue.statusText||Vt,this.url=Ue.url||null,this.ok=this.status>=200&&this.status<300}}class qt extends Ft{constructor(Ue={}){super(Ue),this.type=Rn.ResponseHeader}clone(Ue={}){return new qt({headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class Qt extends Ft{constructor(Ue={}){super(Ue),this.type=Rn.Response,this.body=void 0!==Ue.body?Ue.body:null}clone(Ue={}){return new Qt({body:void 0!==Ue.body?Ue.body:this.body,headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class yt extends Ft{constructor(Ue){super(Ue,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ue.url||"(unknown url)"}`:`Http failure response for ${Ue.url||"(unknown url)"}: ${Ue.status} ${Ue.statusText}`,this.error=Ue.error||null}}function $e(Ve,Ue){return{body:Ue,headers:Ve.headers,context:Ve.context,observe:Ve.observe,params:Ve.params,reportProgress:Ve.reportProgress,responseType:Ve.responseType,withCredentials:Ve.withCredentials}}let ct=(()=>{class Ve{constructor(qe){this.handler=qe}request(qe,Vt,rn={}){let _n;if(qe instanceof Jt)_n=qe;else{let yn,yi;yn=rn.headers instanceof we?rn.headers:new we(rn.headers),rn.params&&(yi=rn.params instanceof Ae?rn.params:new Ae({fromObject:rn.params})),_n=new Jt(qe,Vt,void 0!==rn.body?rn.body:null,{headers:yn,context:rn.context,params:yi,reportProgress:rn.reportProgress,responseType:rn.responseType||"json",withCredentials:rn.withCredentials})}const fn=(0,oe.of)(_n).pipe((0,ae.H)(yn=>this.handler.handle(yn)));if(qe instanceof Jt||"events"===rn.observe)return fn;const lr=fn.pipe((0,Ee.p)(yn=>yn instanceof Qt));switch(rn.observe||"body"){case"body":switch(_n.responseType){case"arraybuffer":return lr.pipe((0,Se.T)(yn=>{if(null!==yn.body&&!(yn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return yn.body}));case"blob":return lr.pipe((0,Se.T)(yn=>{if(null!==yn.body&&!(yn.body instanceof Blob))throw new Error("Response is not a Blob.");return yn.body}));case"text":return lr.pipe((0,Se.T)(yn=>{if(null!==yn.body&&"string"!=typeof yn.body)throw new Error("Response is not a string.");return yn.body}));default:return lr.pipe((0,Se.T)(yn=>yn.body))}case"response":return lr;default:throw new Error(`Unreachable: unhandled observe type ${rn.observe}}`)}}delete(qe,Vt={}){return this.request("DELETE",qe,Vt)}get(qe,Vt={}){return this.request("GET",qe,Vt)}head(qe,Vt={}){return this.request("HEAD",qe,Vt)}jsonp(qe,Vt){return this.request("JSONP",qe,{params:(new Ae).append(Vt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(qe,Vt={}){return this.request("OPTIONS",qe,Vt)}patch(qe,Vt,rn={}){return this.request("PATCH",qe,$e(rn,Vt))}post(qe,Vt,rn={}){return this.request("POST",qe,$e(rn,Vt))}put(qe,Vt,rn={}){return this.request("PUT",qe,$e(rn,Vt))}static{this.\u0275fac=function(Vt){return new(Vt||Ve)(i.KVO(ne))}}static{this.\u0275prov=i.jDH({token:Ve,factory:Ve.\u0275fac})}}return Ve})();function $t(Ve,Ue){return Ue(Ve)}function wn(Ve,Ue){return(qe,Vt)=>Ue.intercept(qe,{handle:rn=>Ve(rn,Vt)})}const un=new i.nKC(""),Nn=new i.nKC(""),sn=new i.nKC("");function Yn(){let Ve=null;return(Ue,qe)=>{null===Ve&&(Ve=((0,i.WQX)(un,{optional:!0})??[]).reduceRight(wn,$t));const Vt=(0,i.WQX)(i.$K3),rn=Vt.add();return Ve(Ue,qe).pipe((0,Ie.j)(()=>Vt.remove(rn)))}}let kn=(()=>{class Ve extends ne{constructor(qe,Vt){super(),this.backend=qe,this.injector=Vt,this.chain=null,this.pendingTasks=(0,i.WQX)(i.$K3)}handle(qe){if(null===this.chain){const rn=Array.from(new Set([...this.injector.get(Nn),...this.injector.get(sn,[])]));this.chain=rn.reduceRight((_n,fn)=>function or(Ve,Ue,qe){return(Vt,rn)=>qe.runInContext(()=>Ue(Vt,_n=>Ve(_n,rn)))}(_n,fn,this.injector),$t)}const Vt=this.pendingTasks.add();return this.chain(qe,rn=>this.backend.handle(rn)).pipe((0,Ie.j)(()=>this.pendingTasks.remove(Vt)))}static{this.\u0275fac=function(Vt){return new(Vt||Ve)(i.KVO(pe),i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:Ve,factory:Ve.\u0275fac})}}return Ve})();const Dr=/^\)\]\}',?\n/;let Kn=(()=>{class Ve{constructor(qe){this.xhrFactory=qe}handle(qe){if("JSONP"===qe.method)throw new i.wOt(-2800,!1);const Vt=this.xhrFactory;return(Vt.\u0275loadImpl?(0,r.H)(Vt.\u0275loadImpl()):(0,oe.of)(null)).pipe((0,ke.n)(()=>new be.c(_n=>{const fn=Vt.build();if(fn.open(qe.method,qe.urlWithParams),qe.withCredentials&&(fn.withCredentials=!0),qe.headers.forEach((mn,Ln)=>fn.setRequestHeader(mn,Ln.join(","))),qe.headers.has("Accept")||fn.setRequestHeader("Accept","application/json, text/plain, */*"),!qe.headers.has("Content-Type")){const mn=qe.detectContentTypeHeader();null!==mn&&fn.setRequestHeader("Content-Type",mn)}if(qe.responseType){const mn=qe.responseType.toLowerCase();fn.responseType="json"!==mn?mn:"text"}const lr=qe.serializeBody();let yn=null;const yi=()=>{if(null!==yn)return yn;const mn=fn.statusText||"OK",Ln=new we(fn.getAllResponseHeaders()),wr=function Ur(Ve){return"responseURL"in Ve&&Ve.responseURL?Ve.responseURL:/^X-Request-URL:/m.test(Ve.getAllResponseHeaders())?Ve.getResponseHeader("X-Request-URL"):null}(fn)||qe.url;return yn=new qt({headers:Ln,status:fn.status,statusText:mn,url:wr}),yn},At=()=>{let{headers:mn,status:Ln,statusText:wr,url:jr}=yi(),Qn=null;204!==Ln&&(Qn=typeof fn.response>"u"?fn.responseText:fn.response),0===Ln&&(Ln=Qn?200:0);let Ai=Ln>=200&&Ln<300;if("json"===qe.responseType&&"string"==typeof Qn){const ls=Qn;Qn=Qn.replace(Dr,"");try{Qn=""!==Qn?JSON.parse(Qn):null}catch(Vi){Qn=ls,Ai&&(Ai=!1,Qn={error:Vi,text:Qn})}}Ai?(_n.next(new Qt({body:Qn,headers:mn,status:Ln,statusText:wr,url:jr||void 0})),_n.complete()):_n.error(new yt({error:Qn,headers:mn,status:Ln,statusText:wr,url:jr||void 0}))},at=mn=>{const{url:Ln}=yi(),wr=new yt({error:mn,status:fn.status||0,statusText:fn.statusText||"Unknown Error",url:Ln||void 0});_n.error(wr)};let kt=!1;const dn=mn=>{kt||(_n.next(yi()),kt=!0);let Ln={type:Rn.DownloadProgress,loaded:mn.loaded};mn.lengthComputable&&(Ln.total=mn.total),"text"===qe.responseType&&fn.responseText&&(Ln.partialText=fn.responseText),_n.next(Ln)},Fn=mn=>{let Ln={type:Rn.UploadProgress,loaded:mn.loaded};mn.lengthComputable&&(Ln.total=mn.total),_n.next(Ln)};return fn.addEventListener("load",At),fn.addEventListener("error",at),fn.addEventListener("timeout",at),fn.addEventListener("abort",at),qe.reportProgress&&(fn.addEventListener("progress",dn),null!==lr&&fn.upload&&fn.upload.addEventListener("progress",Fn)),fn.send(lr),_n.next({type:Rn.Sent}),()=>{fn.removeEventListener("error",at),fn.removeEventListener("abort",at),fn.removeEventListener("load",At),fn.removeEventListener("timeout",at),qe.reportProgress&&(fn.removeEventListener("progress",dn),null!==lr&&fn.upload&&fn.upload.removeEventListener("progress",Fn)),fn.readyState!==fn.DONE&&fn.abort()}})))}static{this.\u0275fac=function(Vt){return new(Vt||Ve)(i.KVO(W.N0))}}static{this.\u0275prov=i.jDH({token:Ve,factory:Ve.\u0275fac})}}return Ve})();const zr=new i.nKC("XSRF_ENABLED"),hn=new i.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),tr=new i.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mr{}let Wn=(()=>{class Ve{constructor(qe,Vt,rn){this.doc=qe,this.platform=Vt,this.cookieName=rn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const qe=this.doc.cookie||"";return qe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,W._b)(qe,this.cookieName),this.lastCookieString=qe),this.lastToken}static{this.\u0275fac=function(Vt){return new(Vt||Ve)(i.KVO(W.qQ),i.KVO(i.Agw),i.KVO(hn))}}static{this.\u0275prov=i.jDH({token:Ve,factory:Ve.\u0275fac})}}return Ve})();function bi(Ve,Ue){const qe=Ve.url.toLowerCase();if(!(0,i.WQX)(zr)||"GET"===Ve.method||"HEAD"===Ve.method||qe.startsWith("http://")||qe.startsWith("https://"))return Ue(Ve);const Vt=(0,i.WQX)(mr).getToken(),rn=(0,i.WQX)(tr);return null!=Vt&&!Ve.headers.has(rn)&&(Ve=Ve.clone({headers:Ve.headers.set(rn,Vt)})),Ue(Ve)}var vt=function(Ve){return Ve[Ve.Interceptors=0]="Interceptors",Ve[Ve.LegacyInterceptors=1]="LegacyInterceptors",Ve[Ve.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ve[Ve.NoXsrfProtection=3]="NoXsrfProtection",Ve[Ve.JsonpSupport=4]="JsonpSupport",Ve[Ve.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ve[Ve.Fetch=6]="Fetch",Ve}(vt||{});function le(Ve,Ue){return{\u0275kind:Ve,\u0275providers:Ue}}function xe(...Ve){const Ue=[ct,Kn,kn,{provide:ne,useExisting:kn},{provide:pe,useExisting:Kn},{provide:Nn,useValue:bi,multi:!0},{provide:zr,useValue:!0},{provide:mr,useClass:Wn}];for(const qe of Ve)Ue.push(...qe.\u0275providers);return(0,i.EmA)(Ue)}const Gt=new i.nKC("LEGACY_INTERCEPTOR_FN");let A=(()=>{class Ve{static{this.\u0275fac=function(Vt){return new(Vt||Ve)}}static{this.\u0275mod=i.$C({type:Ve})}static{this.\u0275inj=i.G2t({providers:[xe(le(vt.LegacyInterceptors,[{provide:Gt,useFactory:Yn},{provide:Nn,useExisting:Gt,multi:!0}]))]})}}return Ve})()},7705:(on,Xe,k)=>{k.d(Xe,{$C:()=>si,$GK:()=>vn,$K3:()=>HT,$MX:()=>nf,AVh:()=>Tv,Agw:()=>I_,B4B:()=>Up,BIS:()=>Hv,BMQ:()=>Hl,C4Q:()=>Fv,C5r:()=>wT,Co$:()=>kb,DNE:()=>od,EFF:()=>xi,EJ8:()=>Ss,EmA:()=>Zd,FS9:()=>lu,FsC:()=>ao,G2t:()=>sn,GBs:()=>vT,GFd:()=>Ff,H3F:()=>GT,H5H:()=>m0,H8p:()=>Bp,HJs:()=>W1,HbH:()=>y,Hbi:()=>O1,JRh:()=>Xi,JZv:()=>Kn,Jv_:()=>Nb,KH2:()=>fy,KVO:()=>We,Kcf:()=>Dy,L39:()=>H1,LHq:()=>Ds,LfX:()=>kn,Lme:()=>io,MKu:()=>Y0,Mz_:()=>Yo,NEm:()=>c1,NYb:()=>s1,Njj:()=>ps,O8t:()=>xt,OA$:()=>Ir,OM3:()=>vc,Ocv:()=>Nw,Ol2:()=>Lb,PLl:()=>Gv,QTQ:()=>d,Ql9:()=>Lw,QuC:()=>Rs,R7$:()=>gE,RV6:()=>cd,Rfq:()=>ve,RxE:()=>Wy,SKi:()=>Io,SpI:()=>Hi,TL$:()=>Km,Tbb:()=>pe,UyX:()=>kp,VBU:()=>Ua,Vns:()=>Wg,Vt3:()=>cm,WHO:()=>qT,WPN:()=>Bu,WQX:()=>Yt,XpG:()=>Zs,Xx1:()=>Bl,Y8G:()=>jg,Z63:()=>$u,ZF7:()=>Xd,_9s:()=>bf,_q3:()=>q0,aKT:()=>ah,aNF:()=>Vb,bIt:()=>q,bMT:()=>iT,bVm:()=>qf,bc$:()=>Hp,bkB:()=>Ic,brH:()=>oT,c1b:()=>jE,cWb:()=>Ym,czy:()=>xu,e01:()=>YT,e5t:()=>Sy,eBV:()=>$o,eq3:()=>Wb,eu8:()=>au,fpN:()=>x1,gRc:()=>y1,gXe:()=>fn,giA:()=>XT,h9k:()=>Vp,hnV:()=>$T,i5U:()=>sT,iLQ:()=>$0,j41:()=>Kf,jDH:()=>un,jNT:()=>E,k0s:()=>ld,kS0:()=>Au,kdw:()=>Ru,l4e:()=>Qb,lJ4:()=>zb,lNU:()=>He,l_i:()=>Kb,lsd:()=>bT,mGM:()=>yT,mq5:()=>ob,n$t:()=>to,nI1:()=>rT,nKC:()=>hn,naY:()=>_1,npT:()=>rg,nrm:()=>vm,o8S:()=>_y,oH4:()=>eI,osQ:()=>Xm,plB:()=>x0,qex:()=>bh,rXU:()=>Xc,rcV:()=>gc,s1E:()=>Xb,sFG:()=>gg,sMw:()=>qb,sZ2:()=>Uy,sdS:()=>ym,tSv:()=>Jy,uvJ:()=>Ii,w6W:()=>SC,wOt:()=>Ae,wni:()=>ET,xGo:()=>oc,xc7:()=>bv,xe9:()=>$E,xvI:()=>Xp,yjJ:()=>Ih,zZn:()=>Ec,zcH:()=>al,ziG:()=>Yb,zjR:()=>U});var i=k(1413),oe=k(8359),r=k(1985),be=k(7786),ae=k(4412),Ee=k(7673),Se=k(7647),Ie=k(5558),ke=k(3294);function W(t){for(let n in t)if(t[n]===W)return n;throw Error("Could not find renamed property on target object.")}function ne(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function we(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Be=W({__forward_ref__:W});function ve(t){return t.__forward_ref__=ve,t.toString=function(){return pe(this())},t}function Ye(t){return Ce(t)?t():t}function Ce(t){return"function"==typeof t&&t.hasOwnProperty(Be)&&t.__forward_ref__===ve}function it(t){return t&&!!t.\u0275providers}const He="https://g.co/ng/security#xss";class Ae extends Error{constructor(n,o){super(function rt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,o)),this.code=n}}function tt(t){return"string"==typeof t?t:null==t?"":String(t)}function Ze(t,n){throw new Ae(-201,!1)}function dt(t,n){null==t&&function st(t,n,o,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${o} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function un(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function sn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Yn(t){return jt(t,en)||jt(t,qn)}function kn(t){return null!==Yn(t)}function jt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Xn(t){return t&&(t.hasOwnProperty(Ar)||t.hasOwnProperty(Bt))?t[Ar]:null}const en=W({\u0275prov:W}),Ar=W({\u0275inj:W}),qn=W({ngInjectableDef:W}),Bt=W({ngInjectorDef:W});var vn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(vn||{});let zn;function Rr(t){const n=zn;return zn=t,n}function Dr(t,n,o){const c=Yn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&vn.Optional?null:void 0!==n?n:void Ze(pe(t))}const Kn=globalThis;class hn{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=un({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const jn={},Gr="__NG_DI_FLAG__",Cr="ngTempTokenPath",It=/\n/gm,x="__source";let A;function $(t){const n=A;return A=t,n}function ge(t,n=vn.Default){if(void 0===A)throw new Ae(-203,!1);return null===A?Dr(t,void 0,n):A.get(t,n&vn.Optional?null:void 0,n)}function We(t,n=vn.Default){return(function In(){return zn}()||ge)(Ye(t),n)}function Yt(t,n=vn.Default){return We(t,Sn(n))}function Sn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ar(t){const n=[];for(let o=0;o<t.length;o++){const c=Ye(t[o]);if(Array.isArray(c)){if(0===c.length)throw new Ae(900,!1);let f,m=vn.Default;for(let I=0;I<c.length;I++){const D=c[I],O=Ue(D);"number"==typeof O?-1===O?f=D.token:m|=O:f=D}n.push(We(f,m))}else n.push(We(c))}return n}function Ve(t,n){return t[Gr]=n,t.prototype[Gr]=n,t}function Ue(t){return t[Gr]}function rn(t){return{toString:t}.toString()}var _n=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_n||{}),fn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fn||{});const lr={},yn=[],yi=W({\u0275cmp:W}),At=W({\u0275dir:W}),at=W({\u0275pipe:W}),kt=W({\u0275mod:W}),dn=W({\u0275fac:W}),Fn=W({__NG_ELEMENT_ID__:W}),mn=W({__NG_ENV_ID__:W});function Ln(t,n,o){let c=t.length;for(;;){const f=t.indexOf(n,o);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const m=n.length;if(f+m===c||t.charCodeAt(f+m)<=32)return f}o=f+1}}function wr(t,n,o){let c=0;for(;c<o.length;){const f=o[c];if("number"==typeof f){if(0!==f)break;c++;const m=o[c++],I=o[c++],D=o[c++];t.setAttribute(n,I,D,m)}else{const m=f,I=o[++c];Qn(m)?t.setProperty(n,m,I):t.setAttribute(n,m,I),c++}}return c}function jr(t){return 3===t||4===t||6===t}function Qn(t){return 64===t.charCodeAt(0)}function Ai(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let c=0;c<n.length;c++){const f=n[c];"number"==typeof f?o=f:0===o||ls(t,o,f,null,-1===o||2===o?n[++c]:null)}}return t}function ls(t,n,o,c,f){let m=0,I=t.length;if(-1===n)I=-1;else for(;m<t.length;){const D=t[m++];if("number"==typeof D){if(D===n){I=-1;break}if(D>n){I=m-1;break}}}for(;m<t.length;){const D=t[m];if("number"==typeof D)break;if(D===o){if(null===c)return void(null!==f&&(t[m+1]=f));if(c===t[m+1])return void(t[m+2]=f)}m++,null!==c&&m++,null!==f&&m++}-1!==I&&(t.splice(I,0,n),m=I+1),t.splice(m++,0,o),null!==c&&t.splice(m++,0,c),null!==f&&t.splice(m++,0,f)}const Vi="ng-template";function _o(t,n,o){let c=0,f=!0;for(;c<t.length;){let m=t[c++];if("string"==typeof m&&f){const I=t[c++];if(o&&"class"===m&&-1!==Ln(I.toLowerCase(),n,0))return!0}else{if(1===m){for(;c<t.length&&"string"==typeof(m=t[c++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function Hs(t){return 4===t.type&&t.value!==Vi}function zi(t,n,o){return n===(4!==t.type||o?t.value:Vi)}function Ao(t,n,o){let c=4;const f=t.attrs||[],m=function Bi(t){for(let n=0;n<t.length;n++)if(jr(t[n]))return n;return t.length}(f);let I=!1;for(let D=0;D<n.length;D++){const O=n[D];if("number"!=typeof O){if(!I)if(4&c){if(c=2|1&c,""!==O&&!zi(t,O,o)||""===O&&1===n.length){if(Zr(c))return!1;I=!0}}else{const z=8&c?O:n[++D];if(8&c&&null!==t.attrs){if(!_o(t.attrs,z,o)){if(Zr(c))return!1;I=!0}continue}const Me=Ki(8&c?"class":O,f,Hs(t),o);if(-1===Me){if(Zr(c))return!1;I=!0;continue}if(""!==z){let ot;ot=Me>m?"":f[Me+1].toLowerCase();const Et=8&c?ot:null;if(Et&&-1!==Ln(Et,z,0)||2&c&&z!==ot){if(Zr(c))return!1;I=!0}}}}else{if(!I&&!Zr(c)&&!Zr(O))return!1;if(I&&Zr(O))continue;I=!1,c=O|1&c}}return Zr(c)||I}function Zr(t){return 0==(1&t)}function Ki(t,n,o,c){if(null===n)return-1;let f=0;if(c||!o){let m=!1;for(;f<n.length;){const I=n[f];if(I===t)return f;if(3===I||6===I)m=!0;else{if(1===I||2===I){let D=n[++f];for(;"string"==typeof D;)D=n[++f];continue}if(4===I)break;if(0===I){f+=4;continue}}f+=m?1:2}return-1}return function Oi(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const c=t[o];if("number"==typeof c)return-1;if(c===n)return o;o++}return-1}(n,t)}function ys(t,n,o=!1){for(let c=0;c<n.length;c++)if(Ao(t,n[c],o))return!0;return!1}function zs(t,n){return t?":not("+n.trim()+")":n}function Do(t){let n=t[0],o=1,c=2,f="",m=!1;for(;o<t.length;){let I=t[o];if("string"==typeof I)if(2&c){const D=t[++o];f+="["+I+(D.length>0?'="'+D+'"':"")+"]"}else 8&c?f+="."+I:4&c&&(f+=" "+I);else""!==f&&!Zr(I)&&(n+=zs(m,f),f=""),c=I,m=m||!Zr(c);o++}return""!==f&&(n+=zs(m,f)),n}function Ua(t){return rn(()=>{const n=cs(t),o={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_n.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fn.Emulated,styles:t.styles||yn,_:null,schemas:t.schemas||null,tView:null,id:""};Ks(o);const c=t.dependencies;return o.directiveDefs=es(c,!1),o.pipeDefs=es(c,!0),o.id=function Ps(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of o)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(o),o})}function oo(t){return Or(t)||ci(t)}function Ws(t){return null!==t}function si(t){return rn(()=>({type:t.type,bootstrap:t.bootstrap||yn,declarations:t.declarations||yn,imports:t.imports||yn,exports:t.exports||yn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bs(t,n){if(null==t)return lr;const o={};for(const c in t)if(t.hasOwnProperty(c)){let f=t[c],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),o[f]=c,n&&(n[f]=m)}return o}function ao(t){return rn(()=>{const n=cs(t);return Ks(n),n})}function Ss(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Or(t){return t[yi]||null}function ci(t){return t[At]||null}function Si(t){return t[at]||null}function Rs(t){const n=Or(t)||ci(t)||Si(t);return null!==n&&n.standalone}function ui(t,n){const o=t[kt]||null;if(!o&&!0===n)throw new Error(`Type ${pe(t)} does not have '\u0275mod' property.`);return o}function cs(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||lr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||yn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bs(t.inputs,n),outputs:bs(t.outputs)}}function Ks(t){t.features?.forEach(n=>n(t))}function es(t,n){if(!t)return null;const o=n?Si:oo;return()=>("function"==typeof t?t():t).map(c=>o(c)).filter(Ws)}const oi=0,En=1,ur=2,gr=3,ts=4,us=5,$i=6,qs=7,ti=8,ns=9,ds=10,sr=11,vs=12,Is=13,re=14,Z=15,Re=16,je=17,lt=18,St=19,an=20,Pn=21,bn=22,rr=23,Nr=24,Hn=25,Jn=1,Qr=2,kr=7,Gi=9,Mr=11;function Ui(t){return Array.isArray(t)&&"object"==typeof t[Jn]}function br(t){return Array.isArray(t)&&!0===t[Jn]}function rs(t){return 0!=(4&t.flags)}function di(t){return t.componentOffset>-1}function Ys(t){return 1==(1&t.flags)}function Xs(t){return!!t.template}function Xo(t){return 0!=(512&t[ur])}function eo(t,n){return t.hasOwnProperty(dn)?t[dn]:null}let is=null,ua=!1;function ss(t){const n=is;return is=t,n}const _l={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ba(t){if(!vo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Yl(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function os(t){t.dirty=!0,function lo(t){if(void 0===t.liveConsumerNode)return;const n=ua;ua=!0;try{for(const o of t.liveConsumerNode)o.dirty||os(o)}finally{ua=n}}(t),t.consumerMarkedDirty?.(t)}function Ia(t){return t&&(t.nextProducerIndex=0),ss(t)}function $a(t,n){if(ss(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(vo(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)yl(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Yl(t){co(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==o.version||(Ba(o),c!==o.version))return!0}return!1}function cu(t){if(co(t),vo(t))for(let n=0;n<t.producerNode.length;n++)yl(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function yl(t,n){if(function Ga(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),co(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)yl(t.producerNode[c],t.producerIndexOfThis[c]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];co(f),f.producerIndexOfThis[c]=n}}function vo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function co(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Bo=null;function xt(t){const n=ss(null);try{return t()}finally{ss(n)}}const Bn=()=>{},Fr=(()=>({..._l,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Bn}))();class qr{constructor(n,o,c){this.previousValue=n,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ir(){return ni}function ni(t){return t.type.prototype.ngOnChanges&&(t.setInput=Fi),Mi}function Mi(){const t=Os(this),n=t?.current;if(n){const o=t.previous;if(o===lr)t.previous=n;else for(let c in n)o[c]=n[c];t.current=null,this.ngOnChanges(n)}}function Fi(t,n,o,c){const f=this.declaredInputs[o],m=Os(t)||function Jo(t,n){return t[uo]=n}(t,{previous:lr,current:null}),I=m.current||(m.current={}),D=m.previous,O=D[f];I[f]=new qr(O&&O.currentValue,n,D===lr),t[c]=n}Ir.ngInherit=!0;const uo="__ngSimpleChanges__";function Os(t){return t[uo]||null}const Ji=function(t,n,o){};function xr(t){for(;Array.isArray(t);)t=t[oi];return t}function bl(t,n){return xr(n[t])}function Qs(t,n){return xr(n[t.index])}function dd(t,n){return t.data[n]}function Ql(t,n){return t[n]}function Wi(t,n){const o=n[t];return Ui(o)?o:o[oi]}function ws(t,n){return null==n?null:t[n]}function Aa(t){t[je]=0}function ha(t){1024&t[ur]||(t[ur]|=1024,Ph(t,1))}function hd(t){1024&t[ur]&&(t[ur]&=-1025,Ph(t,-1))}function Ph(t,n){let o=t[gr];if(null===o)return;o[us]+=n;let c=o;for(o=o[gr];null!==o&&(1===n&&1===c[us]||-1===n&&0===c[us]);)o[us]+=n,c=o,o=o[gr]}const pr={lFrame:he(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Da(){return pr.bindingsEnabled}function tn(){return pr.lFrame.lView}function Pr(){return pr.lFrame.tView}function $o(t){return pr.lFrame.contextLView=t,t[ti]}function ps(t){return pr.lFrame.contextLView=null,t}function ms(){let t=Il();for(;null!==t&&64===t.type;)t=t.parent;return t}function Il(){return pr.lFrame.currentTNode}function Ns(t,n){const o=pr.lFrame;o.currentTNode=t,o.isParent=n}function Ya(){return pr.lFrame.isParent}function _u(){pr.lFrame.isParent=!1}function Js(){const t=pr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ho(){return pr.lFrame.bindingIndex}function Xa(){return pr.lFrame.bindingIndex++}function bo(t){const n=pr.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}function ep(t,n){const o=pr.lFrame;o.bindingIndex=o.bindingRootIndex=t,Eu(n)}function Eu(t){pr.lFrame.currentDirectiveIndex=t}function Cl(){return pr.lFrame.currentQueryIndex}function S(t){pr.lFrame.currentQueryIndex=t}function N(t){const n=t[En];return 2===n.type?n.declTNode:1===n.type?t[$i]:null}function w(t,n,o){if(o&vn.SkipSelf){let f=n,m=t;for(;!(f=f.parent,null!==f||o&vn.Host||(f=N(m),null===f||(m=m[re],10&f.type))););if(null===f)return!1;n=f,t=m}const c=pr.lFrame=H();return c.currentTNode=n,c.lView=t,!0}function F(t){const n=H(),o=t[En];pr.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function H(){const t=pr.lFrame,n=null===t?null:t.child;return null===n?he(t):n}function he(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ne(){const t=pr.lFrame;return pr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Pt=Ne;function Ct(){const t=Ne();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Sr(){return pr.lFrame.selectedIndex}function Br(t){pr.lFrame.selectedIndex=t}function gi(){const t=pr.lFrame;return dd(t.tView,t.selectedIndex)}let pd=!0;function Za(){return pd}function Go(t){pd=t}function Pa(t,n){for(let o=n.directiveStart,c=n.directiveEnd;o<c;o++){const m=t.data[o].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:D,ngAfterViewInit:O,ngAfterViewChecked:z,ngOnDestroy:ce}=m;I&&(t.contentHooks??=[]).push(-o,I),D&&((t.contentHooks??=[]).push(o,D),(t.contentCheckHooks??=[]).push(o,D)),O&&(t.viewHooks??=[]).push(-o,O),z&&((t.viewHooks??=[]).push(o,z),(t.viewCheckHooks??=[]).push(o,z)),null!=ce&&(t.destroyHooks??=[]).push(o,ce)}}function Nc(t,n,o){gd(t,n,3,o)}function kc(t,n,o,c){(3&t[ur])===o&&gd(t,n,o,c)}function bu(t,n){let o=t[ur];(3&o)===n&&(o&=8191,o+=1,t[ur]=o)}function gd(t,n,o,c){const m=c??-1,I=n.length-1;let D=0;for(let O=void 0!==c?65535&t[je]:0;O<I;O++)if("number"==typeof n[O+1]){if(D=n[O],null!=c&&D>=c)break}else n[O]<0&&(t[je]+=65536),(D<m||-1==m)&&(Tu(t,o,n,O),t[je]=(4294901760&t[je])+O+2),O++}function nc(t,n){Ji(4,t,n);const o=ss(null);try{n.call(t)}finally{ss(o),Ji(5,t,n)}}function Tu(t,n,o,c){const f=o[c]<0,m=o[c+1],D=t[f?-o[c]:o[c]];f?t[ur]>>13<t[je]>>16&&(3&t[ur])===n&&(t[ur]+=8192,nc(D,m)):nc(D,m)}const Oo=-1;class ea{constructor(n,o,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function Lc(t){return t!==Oo}function Ma(t){return 32767&t}function Vc(t,n){let o=function Ed(t){return t>>16}(t),c=n;for(;o>0;)c=c[re],o--;return c}let fo=!0;function el(t){const n=fo;return fo=t,n}const xh=255,ma=5;let Uc=0;const po={};function rc(t,n){const o=Oh(t,n);if(-1!==o)return o;const c=n[En];c.firstCreatePass&&(t.injectorIndex=n.length,ks(c.data,t),ks(n,null),ks(c.blueprint,null));const f=Sl(t,n),m=t.injectorIndex;if(Lc(f)){const I=Ma(f),D=Vc(f,n),O=D[En].data;for(let z=0;z<8;z++)n[m+z]=D[I+z]|O[I+z]}return n[m+8]=f,m}function ks(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Oh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Sl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,c=null,f=n;for(;null!==f;){if(c=wu(f),null===c)return Oo;if(o++,f=f[re],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return Oo}function ic(t,n,o){!function bd(t,n,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(Fn)&&(c=o[Fn]),null==c&&(c=o[Fn]=Uc++);const f=c&xh;n.data[t+(f>>ma)]|=1<<f}(t,n,o)}function tl(t,n,o){if(o&vn.Optional||void 0!==t)return t;Ze()}function Rl(t,n,o,c){if(o&vn.Optional&&void 0===c&&(c=null),!(o&(vn.Self|vn.Host))){const f=t[ns],m=Rr(void 0);try{return f?f.get(n,c,o&vn.Optional):Dr(n,c,o&vn.Optional)}finally{Rr(m)}}return tl(c,0,o)}function sc(t,n,o,c=vn.Default,f){if(null!==t){if(2048&n[ur]&&!(c&vn.Self)){const I=function kh(t,n,o,c,f){let m=t,I=n;for(;null!==m&&null!==I&&2048&I[ur]&&!(512&I[ur]);){const D=Pl(m,I,o,c|vn.Self,po);if(D!==po)return D;let O=m.parent;if(!O){const z=I[an];if(z){const ce=z.get(o,po,c);if(ce!==po)return ce}O=wu(I),I=I[re]}m=O}return f}(t,n,o,c,po);if(I!==po)return I}const m=Pl(t,n,o,c,po);if(m!==po)return m}return Rl(n,o,c,f)}function Pl(t,n,o,c,f){const m=function xl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Fn)?t[Fn]:void 0;return"number"==typeof n?n>=0?n&xh:Nh:n}(o);if("function"==typeof m){if(!w(n,t,c))return c&vn.Host?tl(f,0,c):Rl(n,o,c,f);try{let I;if(I=m(c),null!=I||c&vn.Optional)return I;Ze()}finally{Pt()}}else if("number"==typeof m){let I=null,D=Oh(t,n),O=Oo,z=c&vn.Host?n[Z][$i]:null;for((-1===D||c&vn.SkipSelf)&&(O=-1===D?Sl(t,n):n[D+8],O!==Oo&&Ol(c,!1)?(I=n[En],D=Ma(O),n=Vc(O,n)):D=-1);-1!==D;){const ce=n[En];if(Cu(m,D,ce.data)){const Me=Tm(D,n,o,I,c,z);if(Me!==po)return Me}O=n[D+8],O!==Oo&&Ol(c,n[En].data[D+8]===z)&&Cu(m,D,n)?(I=ce,D=Ma(O),n=Vc(O,n)):D=-1}}return f}function Tm(t,n,o,c,f,m){const I=n[En],D=I.data[t+8],ce=ga(D,I,o,null==c?di(D)&&fo:c!=I&&0!=(3&D.type),f&vn.Host&&m===D);return null!==ce?Ml(n,I,ce,D):po}function ga(t,n,o,c,f){const m=t.providerIndexes,I=n.data,D=1048575&m,O=t.directiveStart,ce=m>>20,ot=f?D+ce:t.directiveEnd;for(let Et=c?D:D+ce;Et<ot;Et++){const Kt=I[Et];if(Et<O&&o===Kt||Et>=O&&Kt.type===o)return Et}if(f){const Et=I[O];if(Et&&Xs(Et)&&Et.type===o)return O}return null}function Ml(t,n,o,c){let f=t[o];const m=n.data;if(function Dl(t){return t instanceof ea}(f)){const I=f;I.resolving&&function Nt(t,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${t}${o}`)}(function ft(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():tt(t)}(m[o]));const D=el(I.canSeeViewProviders);I.resolving=!0;const z=I.injectImpl?Rr(I.injectImpl):null;w(t,c,vn.Default);try{f=t[o]=I.factory(void 0,m,t,c),n.firstCreatePass&&o>=c.directiveStart&&function md(t,n,o){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:m}=n.type.prototype;if(c){const I=ni(n);(o.preOrderHooks??=[]).push(t,I),(o.preOrderCheckHooks??=[]).push(t,I)}f&&(o.preOrderHooks??=[]).push(0-t,f),m&&((o.preOrderHooks??=[]).push(t,m),(o.preOrderCheckHooks??=[]).push(t,m))}(o,m[o],n)}finally{null!==z&&Rr(z),el(D),I.resolving=!1,Pt()}}return f}function Cu(t,n,o){return!!(o[n+(t>>ma)]&1<<t)}function Ol(t,n){return!(t&vn.Self||t&vn.Host&&n)}class qi{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,c){return sc(this._tNode,this._lView,n,Sn(c),o)}}function Nh(){return new qi(ms(),tn())}function oc(t){return rn(()=>{const n=t.prototype.constructor,o=n[dn]||Id(n),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const m=f[dn]||Id(f);if(m&&m!==o)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Id(t){return Ce(t)?()=>{const n=Id(Ye(t));return n&&n()}:eo(t)}function wu(t){const n=t[En],o=n.type;return 2===o?n.declTNode:1===o?t[$i]:null}function Au(t){return function Td(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const c=o.length;let f=0;for(;f<c;){const m=o[f];if(jr(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<c&&"string"==typeof o[f];)f++;else{if(m===n)return o[f+1];f+=2}}}return null}(ms(),t)}const No="__parameters__";function lc(t,n,o){return rn(()=>{const c=function Cd(t){return function(...o){if(t){const c=t(...o);for(const f in c)this[f]=c[f]}}}(n);function f(...m){if(this instanceof f)return c.apply(this,m),this;const I=new f(...m);return D.annotation=I,D;function D(O,z,ce){const Me=O.hasOwnProperty(No)?O[No]:Object.defineProperty(O,No,{value:[]})[No];for(;Me.length<=ce;)Me.push(null);return(Me[ce]=Me[ce]||[]).push(I),O}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Fl(t,n){t.forEach(o=>Array.isArray(o)?Fl(o,n):n(o))}function Dd(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function Ll(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function zo(t,n,o){let c=xa(t,n);return c>=0?t[1|c]=o:(c=~c,function wm(t,n,o,c){let f=t.length;if(f==n)t.push(o,c);else if(1===f)t.push(c,t[0]),t[0]=o;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=o,t[n+1]=c}}(t,c,n,o)),c}function Su(t,n){const o=xa(t,n);if(o>=0)return t[1|o]}function xa(t,n){return function Md(t,n,o){let c=0,f=t.length>>o;for(;f!==c;){const m=c+(f-c>>1),I=t[m<<o];if(n===I)return m<<o;I>n?f=m:c=m+1}return~(f<<o)}(t,n,1)}const Bl=Ve(lc("Optional"),8),Ru=Ve(lc("SkipSelf"),4);function Mu(t){return 128==(128&t.flags)}var xu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(xu||{});const Ou=/^>|^->|<!--|-->|--!>|<!-$/g,hp=/(<|>)/g,Rm="\u200b$1\u200b";const Nu=new Map;let Pm=0;const zh="__ngContext__";function Ko(t,n){Ui(n)?(t[zh]=n[St],function Hd(t){Nu.set(t[St],t)}(n)):t[zh]=n}let Gc;function il(t,n){return Gc(t,n)}function Kd(t){const n=t[gr];return br(n)?n[gr]:n}function xm(t){return bp(t[vs])}function _i(t){return bp(t[ts])}function bp(t){for(;null!==t&&!br(t);)t=t[ts];return t}function Hc(t,n,o,c,f){if(null!=c){let m,I=!1;br(c)?m=c:Ui(c)&&(I=!0,c=c[oi]);const D=xr(c);0===t&&null!==o?null==f?Ap(n,o,D):Lu(n,o,D,f||null,!0):1===t&&null!==o?Lu(n,o,D,f||null,!0):2===t?function Yh(t,n,o){const c=qd(t,n);c&&function Vm(t,n,o,c){t.removeChild(n,o,c)}(t,c,n,o)}(n,D,I):3===t&&n.destroyNode(D),null!=m&&function Gm(t,n,o,c,f){const m=o[kr];m!==xr(o)&&Hc(n,t,c,m,f);for(let D=Mr;D<o.length;D++){const O=o[D];Qh(O[En],O,t,n,c,m)}}(n,t,m,o,f)}}function Om(t,n){return t.createComment(function fp(t){return t.replace(Ou,n=>n.replace(hp,Rm))}(n))}function Ip(t,n,o){return t.createElement(n,o)}function r_(t,n){const o=t[Gi],c=o.indexOf(n);hd(n),o.splice(c,1)}function Kh(t,n){if(t.length<=Mr)return;const o=Mr+n,c=t[o];if(c){const f=c[Re];null!==f&&f!==t&&r_(f,c),n>0&&(t[o-1][ts]=c[ts]);const m=Ll(t,Mr+n);!function Nm(t,n){Qh(t,n,n[sr],2,null,null),n[oi]=null,n[$i]=null}(c[En],c);const I=m[lt];null!==I&&I.detachView(m[En]),c[gr]=null,c[ts]=null,c[ur]&=-129}return c}function Cp(t,n){if(!(256&n[ur])){const o=n[sr];n[rr]&&cu(n[rr]),n[Nr]&&cu(n[Nr]),o.destroyNode&&Qh(t,n,o,3,null,null),function Fm(t){let n=t[vs];if(!n)return wp(t[En],t);for(;n;){let o=null;if(Ui(n))o=n[vs];else{const c=n[Mr];c&&(o=c)}if(!o){for(;n&&!n[ts]&&n!==t;)Ui(n)&&wp(n[En],n),n=n[gr];null===n&&(n=t),Ui(n)&&wp(n[En],n),o=n&&n[ts]}n=o}}(n)}}function wp(t,n){if(!(256&n[ur])){n[ur]&=-129,n[ur]|=256,function Ty(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let c=0;c<o.length;c+=2){const f=n[o[c]];if(!(f instanceof ea)){const m=o[c+1];if(Array.isArray(m))for(let I=0;I<m.length;I+=2){const D=f[m[I]],O=m[I+1];Ji(4,D,O);try{O.call(D)}finally{Ji(5,D,O)}}else{Ji(4,f,m);try{m.call(f)}finally{Ji(5,f,m)}}}}}(t,n),function i_(t,n){const o=t.cleanup,c=n[qs];if(null!==o)for(let m=0;m<o.length-1;m+=2)if("string"==typeof o[m]){const I=o[m+3];I>=0?c[I]():c[-I].unsubscribe(),m+=2}else o[m].call(c[o[m+1]]);null!==c&&(n[qs]=null);const f=n[Pn];if(null!==f){n[Pn]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(t,n),1===n[En].type&&n[sr].destroy();const o=n[Re];if(null!==o&&br(n[gr])){o!==n[gr]&&r_(o,n);const c=n[lt];null!==c&&c.detachView(t)}!function vy(t){Nu.delete(t[St])}(n)}}function Lm(t,n,o){return function s_(t,n,o){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return o[oi];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:m}=t.data[c.directiveStart+f];if(m===fn.None||m===fn.Emulated)return null}return Qs(c,o)}}(t,n.parent,o)}function Lu(t,n,o,c,f){t.insertBefore(n,o,c,f)}function Ap(t,n,o){t.appendChild(n,o)}function o_(t,n,o,c,f){null!==c?Lu(t,n,o,c,f):Ap(t,n,o)}function qd(t,n){return t.parentNode(n)}let jm,fc,Wm,Op,Sp=function a_(t,n,o){return 40&t.type?Qs(t,o):null};function Pp(t,n,o,c){const f=Lm(t,c,n),m=n[sr],D=function Dp(t,n,o){return Sp(t,n,o)}(c.parent||n[$i],c,n);if(null!=f)if(Array.isArray(o))for(let O=0;O<o.length;O++)o_(m,f,o[O],D,!1);else o_(m,f,o,D,!1);void 0!==jm&&jm(m,c,n,o,f)}function Vu(t,n){if(null!==n){const o=n.type;if(3&o)return Qs(n,t);if(4&o)return qh(-1,t[n.index]);if(8&o){const c=n.child;if(null!==c)return Vu(t,c);{const f=t[n.index];return br(f)?qh(-1,f):xr(f)}}if(32&o)return il(n,t)()||xr(t[n.index]);{const c=Bm(t,n);return null!==c?Array.isArray(c)?c[0]:Vu(Kd(t[Z]),c):Vu(t,n.next)}}return null}function Bm(t,n){return null!==n?t[Z][$i].projection[n.projection]:null}function qh(t,n){const o=Mr+t+1;if(o<n.length){const c=n[o],f=c[En].firstChild;if(null!==f)return Vu(c,f)}return n[kr]}function Xh(t,n,o,c,f,m,I){for(;null!=o;){const D=c[o.index],O=o.type;if(I&&0===n&&(D&&Ko(xr(D),c),o.flags|=2),32!=(32&o.flags))if(8&O)Xh(t,n,o.child,c,f,m,!1),Hc(n,t,f,D,m);else if(32&O){const z=il(o,c);let ce;for(;ce=z();)Hc(n,t,f,ce,m);Hc(n,t,f,D,m)}else 16&O?c_(t,n,c,o,f,m):Hc(n,t,f,D,m);o=I?o.projectionNext:o.next}}function Qh(t,n,o,c,f,m){Xh(o,c,t.firstChild,n,f,m,!1)}function c_(t,n,o,c,f,m){const I=o[Z],O=I[$i].projection[c.projection];if(Array.isArray(O))for(let z=0;z<O.length;z++)Hc(n,t,f,O[z],m);else{let z=O;const ce=I[gr];Mu(c)&&(z.flags|=128),Xh(t,n,z,ce,f,m,!0)}}function xp(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function Jh(t,n,o){const{mergedAttrs:c,classes:f,styles:m}=o;null!==c&&wr(t,n,c),null!==f&&xp(t,n,f),null!==m&&function Mp(t,n,o){t.setAttribute(n,"style",o)}(t,n,m)}function zc(t){return function Zh(){if(void 0===fc&&(fc=null,Kn.trustedTypes))try{fc=Kn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fc}()?.createHTML(t)||t}function Km(t){Wm=t}function Yd(){if(void 0!==Wm)return Wm;if(typeof document<"u")return document;throw new Ae(210,!1)}function ef(){if(void 0===Op&&(Op=null,Kn.trustedTypes))try{Op=Kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Op}function u_(t){return ef()?.createHTML(t)||t}function d_(t){return ef()?.createScriptURL(t)||t}class mc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${He})`}}class Ay extends mc{getTypeName(){return"HTML"}}class h_ extends mc{getTypeName(){return"Style"}}class f_ extends mc{getTypeName(){return"Script"}}class qm extends mc{getTypeName(){return"URL"}}class p_ extends mc{getTypeName(){return"ResourceURL"}}function gc(t){return t instanceof mc?t.changingThisBreaksApplicationSecurity:t}function Xd(t,n){const o=function tf(t){return t instanceof mc&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${He})`)}return o===n}function Dy(t){return new Ay(t)}function Ym(t){return new h_(t)}function kp(t){return new f_(t)}function Xm(t){return new qm(t)}function Sy(t){return new p_(t)}class Ry{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(zc(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class Qm{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const o=this.inertDocument.createElement("template");return o.innerHTML=zc(n),o}}const Qd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nf(t){return(t=String(t)).match(Qd)?t:"unsafe:"+t}function Na(t){const n={};for(const o of t.split(","))n[o]=!0;return n}function rf(...t){const n={};for(const o of t)for(const c in o)o.hasOwnProperty(c)&&(n[c]=!0);return n}const sf=Na("area,br,col,hr,img,wbr"),ju=Na("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),af=Na("rp,rt"),uf=rf(sf,rf(ju,Na("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rf(af,Na("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rf(af,ju)),df=Na("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lp=rf(df,Na("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Na("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),g_=Na("script,style,template");class Jd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,c=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!uf.hasOwnProperty(o))return this.sanitizedSomething=!0,!g_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=n.attributes;for(let f=0;f<c.length;f++){const m=c.item(f),I=m.name,D=I.toLowerCase();if(!Lp.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let O=m.value;df[D]&&(O=nf(O)),this.buf.push(" ",I,'="',tg(O),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();uf.hasOwnProperty(o)&&!sf.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(tg(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const __=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eg=/([^\#-~ |!])/g;function tg(t){return t.replace(/&/g,"&amp;").replace(__,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(eg,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _c;function Vp(t,n){let o=null;try{_c=_c||function Uu(t){const n=new Qm(t);return function m_(){try{return!!(new window.DOMParser).parseFromString(zc(""),"text/html")}catch{return!1}}()?new Ry(n):n}(t);let c=n?String(n):"";o=_c.getInertBodyElement(c);let f=5,m=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=m,m=o.innerHTML,o=_c.getInertBodyElement(c)}while(c!==m);return zc((new Jd).sanitizeChildren(ng(o)||o))}finally{if(o){const c=ng(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function ng(t){return"content"in t&&function Py(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Bu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Bu||{});function rg(t){const n=ff();return n?u_(n.sanitize(Bu.HTML,t)||""):Xd(t,"HTML")?u_(gc(t)):Vp(Yd(),tt(t))}function Up(t){const n=ff();return n?n.sanitize(Bu.URL,t)||"":Xd(t,"URL")?gc(t):nf(tt(t))}function y_(t){const n=ff();if(n)return d_(n.sanitize(Bu.RESOURCE_URL,t)||"");if(Xd(t,"ResourceURL"))return d_(gc(t));throw new Ae(904,!1)}function to(t,n,o){return function Wc(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?y_:Up}(n,o)(t)}function ff(){const t=tn();return t&&t[ds].sanitizer}const $u=new hn("ENVIRONMENT_INITIALIZER"),pf=new hn("INJECTOR",-1),sg=new hn("INJECTOR_DEF_TYPES");class jp{get(n,o=jn){if(o===jn){const c=new Error(`NullInjectorError: No provider for ${pe(n)}!`);throw c.name="NullInjectorError",c}return o}}function Zd(t){return{\u0275providers:t}}function hi(...t){return{\u0275providers:og(0,t),\u0275fromNgModule:!0}}function og(t,...n){const o=[],c=new Set;let f;const m=I=>{o.push(I)};return Fl(n,I=>{const D=I;Gu(D,m,[],c)&&(f||=[],f.push(D))}),void 0!==f&&E_(f,m),o}function E_(t,n){for(let o=0;o<t.length;o++){const{ngModule:c,providers:f}=t[o];no(f,m=>{n(m,c)})}}function Gu(t,n,o,c){if(!(t=Ye(t)))return!1;let f=null,m=Xn(t);const I=!m&&Or(t);if(m||I){if(I&&!I.standalone)return!1;f=t}else{const O=t.ngModule;if(m=Xn(O),!m)return!1;f=O}const D=c.has(f);if(I){if(D)return!1;if(c.add(f),I.dependencies){const O="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const z of O)Gu(z,n,o,c)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let z;c.add(f);try{Fl(m.imports,ce=>{Gu(ce,n,o,c)&&(z||=[],z.push(ce))})}finally{}void 0!==z&&E_(z,n)}if(!D){const z=eo(f)||(()=>new f);n({provide:f,useFactory:z,deps:yn},f),n({provide:sg,useValue:f,multi:!0},f),n({provide:$u,useValue:()=>We(f),multi:!0},f)}const O=m.providers;if(null!=O&&!D){const z=t;no(O,ce=>{n(ce,z)})}}}return f!==t&&void 0!==t.providers}function no(t,n){for(let o of t)it(o)&&(o=o.\u0275providers),Array.isArray(o)?no(o,n):n(o)}const $s=W({provide:String,useValue:W});function sl(t){return null!==t&&"object"==typeof t&&$s in t}function Hu(t){return"function"==typeof t}const Bp=new hn("Set Injector scope."),$p={},Gp={};let mf;function eh(){return void 0===mf&&(mf=new jp),mf}class Ii{}class zu extends Ii{get destroyed(){return this._destroyed}constructor(n,o,c,f){super(),this.parent=o,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,T_(n,I=>this.processProvider(I)),this.records.set(pf,th(void 0,this)),f.has("environment")&&this.records.set(Ii,th(void 0,this));const m=this.records.get(Bp);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(sg.multi,yn,vn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=$(this),c=Rr(void 0);try{return n()}finally{$(o),Rr(c)}}get(n,o=jn,c=vn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(mn))return n[mn](this);c=Sn(c);const m=$(this),I=Rr(void 0);try{if(!(c&vn.SkipSelf)){let O=this.records.get(n);if(void 0===O){const z=function Bv(t){return"function"==typeof t||"object"==typeof t&&t instanceof hn}(n)&&Yn(n);O=z&&this.injectableDefInScope(z)?th(ag(n),$p):null,this.records.set(n,O)}if(null!=O)return this.hydrate(n,O)}return(c&vn.Self?eh():this.parent).get(n,o=c&vn.Optional&&o===jn?null:o)}catch(D){if("NullInjectorError"===D.name){if((D[Cr]=D[Cr]||[]).unshift(pe(n)),m)throw D;return function qe(t,n,o,c){const f=t[Cr];throw n[x]&&f.unshift(n[x]),t.message=function Vt(t,n,o,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=pe(n);if(Array.isArray(n))f=n.map(pe).join(" -> ");else if("object"==typeof n){let m=[];for(let I in n)if(n.hasOwnProperty(I)){let D=n[I];m.push(I+":"+("string"==typeof D?JSON.stringify(D):pe(D)))}f=`{${m.join(", ")}}`}return`${o}${c?"("+c+")":""}[${f}]: ${t.replace(It,"\n  ")}`}("\n"+t.message,f,o,c),t.ngTokenPath=f,t[Cr]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{Rr(I),$(m)}}resolveInjectorInitializers(){const n=$(this),o=Rr(void 0);try{const f=this.get($u.multi,yn,vn.Self);for(const m of f)m()}finally{$(n),Rr(o)}}toString(){const n=[],o=this.records;for(const c of o.keys())n.push(pe(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(n){let o=Hu(n=Ye(n))?n:Ye(n&&n.provide);const c=function Fy(t){return sl(t)?th(void 0,t.useValue):th(Ly(t),$p)}(n);if(Hu(n)||!0!==n.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=th(void 0,$p,!0),f.factory=()=>ar(f.multi),this.records.set(o,f)),o=n,f.multi.push(n)}this.records.set(o,c)}hydrate(n,o){return o.value===$p&&(o.value=Gp,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Vy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=Ye(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function ag(t){const n=Yn(t),o=null!==n?n.factory:eo(t);if(null!==o)return o;if(t instanceof hn)throw new Ae(204,!1);if(t instanceof Function)return function Es(t){const n=t.length;if(n>0)throw function Vl(t,n){const o=[];for(let c=0;c<t;c++)o.push(n);return o}(n,"?"),new Ae(204,!1);const o=function Ut(t){return t&&(t[en]||t[qn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Ae(204,!1)}function Ly(t,n,o){let c;if(Hu(t)){const f=Ye(t);return eo(f)||ag(f)}if(sl(t))c=()=>Ye(t.useValue);else if(function ky(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...ar(t.deps||[]));else if(function Ny(t){return!(!t||!t.useExisting)}(t))c=()=>We(Ye(t.useExisting));else{const f=Ye(t&&(t.useClass||t.provide));if(!function b_(t){return!!t.deps}(t))return eo(f)||ag(f);c=()=>new f(...ar(t.deps))}return c}function th(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function T_(t,n){for(const o of t)Array.isArray(o)?T_(o,n):o&&it(o)?T_(o.\u0275providers,n):n(o)}const Uy=new hn("AppId",{providedIn:"root",factory:()=>$v}),$v="ng",Gv=new hn("Platform Initializer"),I_=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hp=new hn("AnimationModuleType"),Hv=new hn("CSP nonce",{providedIn:"root",factory:()=>Yd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let hg=(t,n,o)=>null;function Kc(t,n,o=!1){return hg(t,n,o)}class Hy{}class pg{}class Wv{resolveComponentFactory(n){throw function Kp(t){const n=Error(`No component factory found for ${pe(t)}.`);return n.ngComponent=t,n}(n)}}let vc=(()=>{class t{static{this.NULL=new Wv}}return t})();function YE(){return qp(ms(),tn())}function qp(t,n){return new ah(Qs(t,n))}let ah=(()=>{class t{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=YE}}return t})();function Kv(t){return t instanceof ah?t.nativeElement:t}class bf{}let gg=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function P_(){const t=tn(),o=Wi(ms().index,t);return(Ui(o)?o:t)[sr]}()}}return t})(),Yp=(()=>{class t{static{this.\u0275prov=un({token:t,providedIn:"root",factory:()=>null})}}return t})();class Wy{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Xp=new Wy("16.2.12"),lh={};function Xv(t,n=null,o=null,c){const f=qy(t,n,o,c);return f.resolveInjectorInitializers(),f}function qy(t,n=null,o=null,c,f=new Set){const m=[o||yn,hi(t)];return c=c||("object"==typeof t?void 0:pe(t)),new zu(m,n||eh(),c||null,f)}let Ec=(()=>{class t{static{this.THROW_IF_NOT_FOUND=jn}static{this.NULL=new jp}static create(o,c){if(Array.isArray(o))return Xv({name:""},c,o,"");{const f=o.name??"";return Xv({name:f},o.parent,o.providers,f)}}static{this.\u0275prov=un({token:t,providedIn:"any",factory:()=>We(pf)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function qc(t){return t.ngOriginalError}class al{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&qc(n);for(;o&&qc(o);)o=qc(o);return o||null}}function Tc(t){return n=>{setTimeout(t,void 0,n)}}const Ic=class eE extends i.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,c){let f=n,m=o||(()=>null),I=c;if(n&&"object"==typeof n){const O=n;f=O.next?.bind(O),m=O.error?.bind(O),I=O.complete?.bind(O)}this.__isAsync&&(m=Tc(m),f&&(f=Tc(f)),I&&(I=Tc(I)));const D=super.subscribe({next:f,error:m,complete:I});return n instanceof oe.yU&&n.add(D),D}};function Yy(...t){}class Io{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ic(!1),this.onMicrotaskEmpty=new Ic(!1),this.onStable=new Ic(!1),this.onError=new Ic(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&o,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function tE(){const t="function"==typeof Kn.requestAnimationFrame;let n=Kn[t?"requestAnimationFrame":"setTimeout"],o=Kn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function iE(t){const n=()=>{!function rE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Kn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,k_(t),t.isCheckStableRunning=!0,N_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),k_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,f,m,I,D)=>{if(function oE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return o.invokeTask(f,m,I,D);try{return Xy(t),o.invokeTask(f,m,I,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),ch(t)}},onInvoke:(o,c,f,m,I,D,O)=>{try{return Xy(t),o.invoke(f,m,I,D,O)}finally{t.shouldCoalesceRunChangeDetection&&n(),ch(t)}},onHasTask:(o,c,f,m)=>{o.hasTask(f,m),c===f&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,k_(t),N_(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,c,f,m)=>(o.handleError(f,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Io.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(Io.isInAngularZone())throw new Ae(909,!1)}run(n,o,c){return this._inner.run(n,o,c)}runTask(n,o,c,f){const m=this._inner,I=m.scheduleEventTask("NgZoneEvent: "+f,n,nE,Yy,Yy);try{return m.runTask(I,o,c)}finally{m.cancelTask(I)}}runGuarded(n,o,c){return this._inner.runGuarded(n,o,c)}runOutsideAngular(n){return this._outer.run(n)}}const nE={};function N_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function k_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Xy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ch(t){t._nesting--,N_(t)}class F_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ic,this.onMicrotaskEmpty=new Ic,this.onStable=new Ic,this.onError=new Ic}run(n,o,c){return n.apply(o,c)}runGuarded(n,o,c){return n.apply(o,c)}runOutsideAngular(n){return n()}runTask(n,o,c,f){return n.apply(o,c)}}const sE=new hn("",{providedIn:"root",factory:Qy});function Qy(){const t=Yt(Io);let n=!0;const o=new r.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),c=new r.c(f=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{Io.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const I=t.onUnstable.subscribe(()=>{Io.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),I.unsubscribe()}});return(0,be.h)(o,c.pipe((0,Se.u)()))}function Jy(t){return t.ownerDocument.defaultView}function qu(t){return t instanceof Function?t():t}let L_=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=un({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Zp(t){for(;t;){t[ur]|=64;const n=Kd(t);if(Xo(t)&&!n)return t;t=n}return null}const nv=new hn("",{providedIn:"root",factory:()=>!1});let U_=null;function fE(t,n){return t[n]??mE()}function pE(t,n){const o=mE();o.producerNode?.length&&(t[n]=U_,o.lView=t,U_=j_())}const sv={..._l,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Zp(t.lView)},lView:null};function j_(){return Object.create(sv)}function mE(){return U_??=j_(),U_}const Xr={};function gE(t){bg(Pr(),tn(),Sr()+t,!1)}function bg(t,n,o,c){if(!c)if(3==(3&n[ur])){const m=t.preOrderCheckHooks;null!==m&&Nc(n,m,o)}else{const m=t.preOrderHooks;null!==m&&kc(n,m,0,o)}Br(o)}function Xc(t,n=vn.Default){const o=tn();return null===o?We(t,n):sc(ms(),o,Ye(t),n)}function d(){throw new Error("invalid")}function s(t,n,o,c,f,m,I,D,O,z,ce){const Me=n.blueprint.slice();return Me[oi]=f,Me[ur]=140|c,(null!==z||t&&2048&t[ur])&&(Me[ur]|=2048),Aa(Me),Me[gr]=Me[re]=t,Me[ti]=o,Me[ds]=I||t&&t[ds],Me[sr]=D||t&&t[sr],Me[ns]=O||t&&t[ns]||null,Me[$i]=m,Me[St]=function pp(){return Pm++}(),Me[bn]=ce,Me[an]=z,Me[Z]=2==n.type?t[Z]:Me,Me}function a(t,n,o,c,f){let m=t.data[n];if(null===m)m=function h(t,n,o,c,f){const m=Il(),I=Ya(),O=t.data[n]=function nr(t,n,o,c,f,m){let I=n?n.injectorIndex:-1,D=0;return function Eo(){return null!==pr.skipHydrationRootTNode}()&&(D|=128),{type:o,index:c,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?m:m&&m.parent,o,n,c,f);return null===t.firstChild&&(t.firstChild=O),null!==m&&(I?null==m.child&&null!==O.parent&&(m.child=O):null===m.next&&(m.next=O,O.prev=m)),O}(t,n,o,c,f),function vu(){return pr.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=o,m.value=c,m.attrs=f;const I=function Zl(){const t=pr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===I?-1:I.injectorIndex}return Ns(m,!0),m}function _(t,n,o,c){if(0===o)return-1;const f=n.length;for(let m=0;m<o;m++)n.push(c),t.blueprint.push(c),t.data.push(null);return f}function b(t,n,o,c,f){const m=fE(n,rr),I=Sr(),D=2&c;try{Br(-1),D&&n.length>Hn&&bg(t,n,Hn,!1),Ji(D?2:0,f);const z=D?m:null,ce=Ia(z);try{null!==z&&(z.dirty=!1),o(c,f)}finally{$a(z,ce)}}finally{D&&null===n[rr]&&pE(n,rr),Br(I),Ji(D?3:1,f)}}function P(t,n,o){if(rs(n)){const c=ss(null);try{const m=n.directiveEnd;for(let I=n.directiveStart;I<m;I++){const D=t.data[I];D.contentQueries&&D.contentQueries(1,o[I],I)}}finally{ss(c)}}}function L(t,n,o){Da()&&(function _E(t,n,o,c){const f=o.directiveStart,m=o.directiveEnd;di(o)&&function wf(t,n,o){const c=Qs(n,t),f=ue(o);let I=16;o.signals?I=4096:o.onPush&&(I=64);const D=dh(t,s(t,f,null,I,c,n,null,t[ds].rendererFactory.createRenderer(c,o),null,null,null));t[n.index]=D}(n,o,t.data[f+o.componentOffset]),t.firstCreatePass||rc(o,n),Ko(c,n);const I=o.initialInputs;for(let D=f;D<m;D++){const O=t.data[D],z=Ml(n,t,D,o);Ko(z,n),null!==I&&$_(0,D-f,z,O,0,I),Xs(O)&&(Wi(o.index,n)[ti]=Ml(n,t,D,o))}}(t,n,o,Qs(o,n)),64==(64&o.flags)&&Cf(t,n,o))}function Y(t,n,o=Qs){const c=n.localNames;if(null!==c){let f=n.index+1;for(let m=0;m<c.length;m+=2){const I=c[m+1],D=-1===I?o(n,t):t[I];t[f++]=D}}}function ue(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=De(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function De(t,n,o,c,f,m,I,D,O,z,ce){const Me=Hn+c,ot=Me+f,Et=function Ke(t,n){const o=[];for(let c=0;c<n;c++)o.push(c<t?null:Xr);return o}(Me,ot),Kt="function"==typeof z?z():z;return Et[En]={type:t,blueprint:Et,template:o,queries:null,viewQuery:D,declTNode:n,data:Et.slice().fill(null,Me),bindingStartIndex:Me,expandoStartIndex:ot,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:O,consts:Kt,incompleteFirstPass:!1,ssrId:ce}}let pn=t=>null;function Vr(t,n,o,c){for(let f in t)if(t.hasOwnProperty(f)){o=null===o?{}:o;const m=t[f];null===c?Li(o,n,f,m):c.hasOwnProperty(f)&&Li(o,n,c[f],m)}return o}function Li(t,n,o,c){t.hasOwnProperty(o)?t[o].push(n,c):t[o]=[n,c]}function Ge(t,n,o,c,f,m,I,D){const O=Qs(n,o);let ce,z=n.inputs;!D&&null!=z&&(ce=z[c])?(im(t,o,ce,c,f),di(n)&&function nt(t,n){const o=Wi(n,t);16&o[ur]||(o[ur]|=64)}(o,n.index)):3&n.type&&(c=function gt(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=I?I(f,n.value||"",c):f,m.setProperty(O,c,f))}function Mt(t,n,o,c){if(Da()){const f=null===c?null:{"":-1},m=function B_(t,n){const o=t.directiveRegistry;let c=null,f=null;if(o)for(let m=0;m<o.length;m++){const I=o[m];if(ys(n,I.selectors,!1))if(c||(c=[]),Xs(I))if(null!==I.findHostDirectiveDefs){const D=[];f=f||new Map,I.findHostDirectiveDefs(I,D,f),c.unshift(...D,I),Tg(t,n,D.length)}else c.unshift(I),Tg(t,n,0);else f=f||new Map,I.findHostDirectiveDefs?.(I,c,f),c.push(I)}return null===c?null:[c,f]}(t,o);let I,D;null===m?I=D=null:[I,D]=m,null!==I&&Je(t,n,o,I,f,D),f&&function yE(t,n,o){if(n){const c=t.localNames=[];for(let f=0;f<n.length;f+=2){const m=o[n[f+1]];if(null==m)throw new Ae(-301,!1);c.push(n[f],m)}}}(o,c,f)}o.mergedAttrs=Ai(o.mergedAttrs,o.attrs)}function Je(t,n,o,c,f,m){for(let z=0;z<c.length;z++)ic(rc(o,n),t,c[z].type);!function qo(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,c.length);for(let z=0;z<c.length;z++){const ce=c[z];ce.providersResolver&&ce.providersResolver(ce)}let I=!1,D=!1,O=_(t,n,c.length,null);for(let z=0;z<c.length;z++){const ce=c[z];o.mergedAttrs=Ai(o.mergedAttrs,ce.hostAttrs),ov(t,o,n,O,ce),Yu(O,ce,f),null!==ce.contentQueries&&(o.flags|=4),(null!==ce.hostBindings||null!==ce.hostAttrs||0!==ce.hostVars)&&(o.flags|=64);const Me=ce.type.prototype;!I&&(Me.ngOnChanges||Me.ngOnInit||Me.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),I=!0),!D&&(Me.ngOnChanges||Me.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),D=!0),O++}!function ri(t,n,o){const f=n.directiveEnd,m=t.data,I=n.attrs,D=[];let O=null,z=null;for(let ce=n.directiveStart;ce<f;ce++){const Me=m[ce],ot=o?o.get(Me):null,Kt=ot?ot.outputs:null;O=Vr(Me.inputs,ce,O,ot?ot.inputs:null),z=Vr(Me.outputs,ce,z,Kt);const gn=null===O||null===I||Hs(n)?null:nm(O,ce,I);D.push(gn)}null!==O&&(O.hasOwnProperty("class")&&(n.flags|=8),O.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=O,n.outputs=z}(t,o,m)}function Cf(t,n,o){const c=o.directiveStart,f=o.directiveEnd,m=o.index,I=function Qa(){return pr.lFrame.currentDirectiveIndex}();try{Br(m);for(let D=c;D<f;D++){const O=t.data[D],z=n[D];Eu(D),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&tm(O,z)}}finally{Br(-1),Eu(I)}}function tm(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Tg(t,n,o){n.componentOffset=o,(t.components??=[]).push(n.index)}function Yu(t,n,o){if(o){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)o[n.exportAs[c]]=t;Xs(n)&&(o[""]=t)}}function ov(t,n,o,c,f){t.data[c]=f;const m=f.factory||(f.factory=eo(f.type)),I=new ea(m,Xs(f),Xc);t.blueprint[c]=I,o[c]=I,function Qc(t,n,o,c,f){const m=f.hostBindings;if(m){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const D=~n.index;(function If(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(I)!=D&&I.push(D),I.push(o,c,m)}}(t,n,c,_(t,o,f.hostVars,Xr),f)}function Ci(t,n,o,c,f,m){const I=Qs(t,n);!function uh(t,n,o,c,f,m,I){if(null==m)t.removeAttribute(n,f,o);else{const D=null==I?tt(m):I(m,c||"",f);t.setAttribute(n,f,D,o)}}(n[sr],I,m,t.value,o,c,f)}function $_(t,n,o,c,f,m){const I=m[n];if(null!==I)for(let D=0;D<I.length;)G_(c,o,I[D++],I[D++],I[D++])}function G_(t,n,o,c,f){const m=ss(null);try{const I=t.inputTransforms;null!==I&&I.hasOwnProperty(c)&&(f=I[c].call(n,f)),null!==t.setInput?t.setInput(n,f,o,c):n[c]=f}finally{ss(m)}}function nm(t,n,o){let c=null,f=0;for(;f<o.length;){const m=o[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===c&&(c=[]);const I=t[m];for(let D=0;D<I.length;D+=2)if(I[D]===n){c.push(m,I[D+1],o[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function Af(t,n,o,c){return[t,!0,!1,n,null,0,c,o,null,null,null]}function rm(t,n){const o=t.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const m=o[c+1];if(-1!==m){const I=t.data[m];S(o[c]),I.contentQueries(2,n[m],m)}}}function dh(t,n){return t[vs]?t[Is][ts]=n:t[vs]=n,t[Is]=n,n}function Df(t,n,o){S(0);const c=ss(null);try{n(t,o)}finally{ss(c)}}function Ig(t){return t[qs]||(t[qs]=[])}function Cg(t){return t.cleanup||(t.cleanup=[])}function W_(t,n){const o=t[ns],c=o?o.get(al,null):null;c&&c.handleError(n)}function im(t,n,o,c,f){for(let m=0;m<o.length;){const I=o[m++],D=o[m++];G_(t.data[I],n[I],c,D,f)}}function ll(t,n,o){const c=bl(n,t);!function Tp(t,n,o){t.setValue(n,o)}(t[sr],c,o)}function K_(t,n){const o=Wi(n,t),c=o[En];!function av(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(c,o);const f=o[oi];null!==f&&null===o[bn]&&(o[bn]=Kc(f,o[ns])),Sf(c,o,o[ti])}function Sf(t,n,o){F(n);try{const c=t.viewQuery;null!==c&&Df(1,c,o);const f=t.template;null!==f&&b(t,n,f,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&rm(t,n),t.staticViewQueries&&Df(2,t.viewQuery,o);const m=t.components;null!==m&&function wg(t,n){for(let o=0;o<n.length;o++)K_(t,n[o])}(n,m)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[ur]&=-5,Ct()}}let sm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,c,f){const m=typeof Zone>"u"?null:Zone.current,I=function zt(t,n,o){const c=Object.create(Fr);o&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const f=I=>{c.cleanupFn=I};return c.ref={notify:()=>os(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Yl(c))return;c.hasRun=!0;const I=Ia(c);try{c.cleanupFn(),c.cleanupFn=Bn,c.fn(f)}finally{$a(c,I)}},cleanup:()=>c.cleanupFn()},c.ref}(o,z=>{this.all.has(z)&&this.queue.set(z,m)},f);let D;this.all.add(I),I.notify();const O=()=>{I.cleanup(),D?.(),this.all.delete(I),this.queue.delete(I)};return D=c?.onDestroy(O),{destroy:O}}flush(){if(0!==this.queue.size)for(const[o,c]of this.queue)this.queue.delete(o),c?c.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=un({token:t,providedIn:"root",factory:()=>new t})}}return t})();function mo(t,n,o){let c=o?t.styles:null,f=o?t.classes:null,m=0;if(null!==n)for(let I=0;I<n.length;I++){const D=n[I];"number"==typeof D?m=D:1==m?f=we(f,D):2==m&&(c=we(c,D+": "+n[++I]+";"))}o?t.styles=c:t.stylesWithoutHost=c,o?t.classes=f:t.classesWithoutHost=f}function Jc(t,n,o,c,f=!1){for(;null!==o;){const m=n[o.index];null!==m&&c.push(xr(m)),br(m)&&Ag(m,c);const I=o.type;if(8&I)Jc(t,n,o.child,c);else if(32&I){const D=il(o,n);let O;for(;O=D();)c.push(O)}else if(16&I){const D=Bm(n,o);if(Array.isArray(D))c.push(...D);else{const O=Kd(n[Z]);Jc(O[En],O,D,c,!0)}}o=f?o.projectionNext:o.next}return c}function Ag(t,n){for(let o=Mr;o<t.length;o++){const c=t[o],f=c[En].firstChild;null!==f&&Jc(c[En],c,f,n)}t[kr]!==t[oi]&&n.push(t[kr])}function Rf(t,n,o,c=!0){const f=n[ds],m=f.rendererFactory,I=f.afterRenderEventManager;m.begin?.(),I?.begin();try{Dg(t,n,t.template,o)}catch(O){throw c&&W_(n,O),O}finally{m.end?.(),f.effectManager?.flush(),I?.end()}}function Dg(t,n,o,c){const f=n[ur];if(256!=(256&f)){n[ds].effectManager?.flush(),F(n);try{Aa(n),function Ra(t){return pr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&b(t,n,o,2,c);const I=3==(3&f);if(I){const z=t.preOrderCheckHooks;null!==z&&Nc(n,z,null)}else{const z=t.preOrderHooks;null!==z&&kc(n,z,0,null),bu(n,0)}if(function Rg(t){for(let n=xm(t);null!==n;n=_i(n)){if(!n[Qr])continue;const o=n[Gi];for(let c=0;c<o.length;c++){ha(o[c])}}}(n),Sg(n,2),null!==t.contentQueries&&rm(t,n),I){const z=t.contentCheckHooks;null!==z&&Nc(n,z)}else{const z=t.contentHooks;null!==z&&kc(n,z,1),bu(n,1)}!function e(t,n){const o=t.hostBindingOpCodes;if(null===o)return;const c=fE(n,Nr);try{for(let f=0;f<o.length;f++){const m=o[f];if(m<0)Br(~m);else{const I=m,D=o[++f],O=o[++f];ep(D,I),c.dirty=!1;const z=Ia(c);try{O(2,n[I])}finally{$a(c,z)}}}}finally{null===n[Nr]&&pE(n,Nr),Br(-1)}}(t,n);const D=t.components;null!==D&&om(n,D,0);const O=t.viewQuery;if(null!==O&&Df(2,O,c),I){const z=t.viewCheckHooks;null!==z&&Nc(n,z)}else{const z=t.viewHooks;null!==z&&kc(n,z,2),bu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[ur]&=-73,hd(n)}finally{Ct()}}}function Sg(t,n){for(let o=xm(t);null!==o;o=_i(o))for(let c=Mr;c<o.length;c++)q_(o[c],n)}function lv(t,n,o){q_(Wi(n,t),o)}function q_(t,n){if(!function du(t){return 128==(128&t[ur])}(t))return;const o=t[En],c=t[ur];if(80&c&&0===n||1024&c||2===n)Dg(o,t,o.template,t[ti]);else if(t[us]>0){Sg(t,1);const f=o.components;null!==f&&om(t,f,1)}}function om(t,n,o){for(let c=0;c<n.length;c++)lv(t,n[c],o)}class hh{get rootNodes(){const n=this._lView,o=n[En];return Jc(o,n,o.firstChild,[])}constructor(n,o){this._lView=n,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ti]}set context(n){this._lView[ti]=n}get destroyed(){return 256==(256&this._lView[ur])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[gr];if(br(n)){const o=n[8],c=o?o.indexOf(this):-1;c>-1&&(Kh(n,c),Ll(o,c))}this._attachedToViewContainer=!1}Cp(this._lView[En],this._lView)}onDestroy(n){!function Tl(t,n){if(256==(256&t[ur]))throw new Ae(911,!1);null===t[Pn]&&(t[Pn]=[]),t[Pn].push(n)}(this._lView,n)}markForCheck(){Zp(this._cdRefInjectingView||this._lView)}detach(){this._lView[ur]&=-129}reattach(){this._lView[ur]|=128}detectChanges(){Rf(this._lView[En],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function t_(t,n){Qh(t,n,n[sr],2,null,null)}(this._lView[En],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=n}}class Y_ extends hh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Rf(n[En],n,n[ti],!1)}checkNoChanges(){}get context(){return null}}class Mf extends vc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=Or(n);return new Xu(o,this.ngModule)}}function am(t){const n=[];for(let o in t)t.hasOwnProperty(o)&&n.push({propName:t[o],templateName:o});return n}class ra{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,c){c=Sn(c);const f=this.injector.get(n,lh,c);return f!==lh||o===lh?f:this.parentInjector.get(n,o,c)}}class Xu extends pg{get inputs(){const n=this.componentDef,o=n.inputTransforms,c=am(n.inputs);if(null!==o)for(const f of c)o.hasOwnProperty(f.propName)&&(f.transform=o[f.propName]);return c}get outputs(){return am(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function li(t){return t.map(Do).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,c,f){let m=(f=f||this.ngModule)instanceof Ii?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const I=m?new ra(n,m):n,D=I.get(bf,null);if(null===D)throw new Ae(407,!1);const Me={rendererFactory:D,sanitizer:I.get(Yp,null),effectManager:I.get(sm,null),afterRenderEventManager:I.get(L_,null)},ot=D.createRenderer(null,this.componentDef),Et=this.componentDef.selectors[0][0]||"div",Kt=c?function Dt(t,n,o,c){const m=c.get(nv,!1)||o===fn.ShadowDom,I=t.selectRootElement(n,m);return function Xt(t){pn(t)}(I),I}(ot,c,this.componentDef.encapsulation,I):Ip(ot,Et,function Pg(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Et)),fr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let cn=null;null!==Kt&&(cn=Kc(Kt,I,!0));const Hr=De(0,null,null,1,0,null,null,null,null,null,null),Ei=s(null,Hr,null,fr,null,null,Me,ot,I,null,cn);let _s,ql;F(Ei);try{const Zf=this.componentDef;let yy,Q0=null;Zf.findHostDirectiveDefs?(yy=[],Q0=new Map,Zf.findHostDirectiveDefs(Zf,yy,Q0),yy.push(Zf)):yy=[Zf];const K1=function lm(t,n){const o=t[En],c=Hn;return t[c]=n,a(o,c,2,"#host",null)}(Ei,Kt),q1=function Qu(t,n,o,c,f,m,I){const D=f[En];!function ia(t,n,o,c){for(const f of t)n.mergedAttrs=Ai(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(mo(n,n.mergedAttrs,!0),null!==o&&Jh(c,o,n))}(c,t,n,I);let O=null;null!==n&&(O=Kc(n,f[ns]));const z=m.rendererFactory.createRenderer(n,o);let ce=16;o.signals?ce=4096:o.onPush&&(ce=64);const Me=s(f,ue(o),null,ce,f[t.index],t,m,z,null,null,O);return D.firstCreatePass&&Tg(D,t,c.length-1),dh(f,Me),f[t.index]=Me}(K1,Kt,Zf,yy,Ei,Me,ot);ql=dd(Hr,Hn),Kt&&function X_(t,n,o,c){if(c)wr(t,o,["ng-version",Xp.full]);else{const{attrs:f,classes:m}=function ba(t){const n=[],o=[];let c=1,f=2;for(;c<t.length;){let m=t[c];if("string"==typeof m)2===f?""!==m&&n.push(m,t[++c]):8===f&&o.push(m);else{if(!Zr(f))break;f=m}c++}return{attrs:n,classes:o}}(n.selectors[0]);f&&wr(t,o,f),m&&m.length>0&&xp(t,o,m.join(" "))}}(ot,Zf,Kt,c),void 0!==o&&function Ju(t,n,o){const c=t.projection=[];for(let f=0;f<n.length;f++){const m=o[f];c.push(null!=m?Array.from(m):null)}}(ql,this.ngContentSelectors,o),_s=function Lo(t,n,o,c,f,m){const I=ms(),D=f[En],O=Qs(I,f);Je(D,f,I,o,null,c);for(let ce=0;ce<o.length;ce++)Ko(Ml(f,D,I.directiveStart+ce,I),f);Cf(D,f,I),O&&Ko(O,f);const z=Ml(f,D,I.directiveStart+I.componentOffset,I);if(t[ti]=f[ti]=z,null!==m)for(const ce of m)ce(z,n);return P(D,I,t),z}(q1,Zf,yy,Q0,Ei,[xf]),Sf(Hr,Ei,null)}finally{Ct()}return new fh(this.componentType,_s,qp(ql,Ei),Ei,ql)}}class fh extends Hy{constructor(n,o,c,f,m){super(),this.location=c,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Y_(f),this.componentType=n}setInput(n,o){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const m=this._rootLView;im(m[En],m,f,n,o),this.previousInputValues.set(n,o),Zp(Wi(this._tNode.index,m))}}get injector(){return new qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function xf(){const t=ms();Pa(tn()[En],t)}function cm(t){let n=function Zc(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const c=[t];for(;n;){let f;if(Xs(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ae(903,!1);f=n.\u0275dir}if(f){if(o){c.push(f);const I=t;I.inputs=Mg(t.inputs),I.inputTransforms=Mg(t.inputTransforms),I.declaredInputs=Mg(t.declaredInputs),I.outputs=Mg(t.outputs);const D=f.hostBindings;D&&xg(t,D);const O=f.viewQuery,z=f.contentQueries;if(O&&cv(t,O),z&&Of(t,z),ne(t.inputs,f.inputs),ne(t.declaredInputs,f.declaredInputs),ne(t.outputs,f.outputs),null!==f.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),ne(I.inputTransforms,f.inputTransforms)),Xs(f)&&f.data.animation){const ce=t.data;ce.animation=(ce.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let I=0;I<m.length;I++){const D=m[I];D&&D.ngInherit&&D(t),D===cm&&(o=!1)}}n=Object.getPrototypeOf(n)}!function ph(t){let n=0,o=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=n+=f.hostVars,f.hostAttrs=Ai(f.hostAttrs,o=Ai(o,f.hostAttrs))}}(c)}function Mg(t){return t===lr?{}:t===yn?[]:t}function cv(t,n){const o=t.viewQuery;t.viewQuery=o?(c,f)=>{n(c,f),o(c,f)}:n}function Of(t,n){const o=t.contentQueries;t.contentQueries=o?(c,f,m)=>{n(c,f,m),o(c,f,m)}:n}function xg(t,n){const o=t.hostBindings;t.hostBindings=o?(c,f)=>{n(c,f),o(c,f)}:n}function Ff(t){const n=t.inputConfig,o={};for(const c in n)if(n.hasOwnProperty(c)){const f=n[c];Array.isArray(f)&&f[2]&&(o[c]=f[2])}t.inputTransforms=o}function Zu(t){return!!ka(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ka(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function sa(t,n,o){return t[n]=o}function td(t,n){return t[n]}function Co(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function Cc(t,n,o,c){const f=Co(t,n,o);return Co(t,n+1,c)||f}function va(t,n,o,c,f){const m=Cc(t,n,o,c);return Co(t,n+2,f)||m}function As(t,n,o,c,f,m){const I=Cc(t,n,o,c);return Cc(t,n+2,f,m)||I}function Hl(t,n,o,c){const f=tn();return Co(f,Xa(),n)&&(Pr(),Ci(gi(),f,t,n,o,c)),Hl}function gh(t,n,o,c){return Co(t,Xa(),o)?n+tt(o)+c:Xr}function od(t,n,o,c,f,m,I,D){const O=tn(),z=Pr(),ce=t+Hn,Me=z.firstCreatePass?function ry(t,n,o,c,f,m,I,D,O){const z=n.consts,ce=a(n,t,4,I||null,ws(z,D));Mt(n,o,ce,ws(z,O)),Pa(n,ce);const Me=ce.tView=De(2,ce,c,f,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,z,null);return null!==n.queries&&(n.queries.template(n,ce),Me.queries=n.queries.embeddedTView(ce)),ce}(ce,z,O,n,o,c,f,m,I):z.data[ce];Ns(Me,!1);const ot=iy(z,O,Me,t);Za()&&Pp(z,O,ot,Me),Ko(ot,O),dh(O,O[ce]=Af(ot,O,ot,Me)),Ys(Me)&&L(z,O,Me),null!=I&&Y(O,Me,D)}let iy=function zf(t,n,o,c){return Go(!0),n[sr].createComment("")};function ym(t){return Ql(function yu(){return pr.lFrame.contextLView}(),Hn+t)}function jg(t,n,o){const c=tn();return Co(c,Xa(),n)&&Ge(Pr(),gi(),c,t,n,c[sr],o,!1),jg}function Wf(t,n,o,c,f){const I=f?"class":"style";im(t,o,n.inputs[I],I,c)}function Kf(t,n,o,c){const f=tn(),m=Pr(),I=Hn+t,D=f[sr],O=m.firstCreatePass?function Bg(t,n,o,c,f,m){const I=n.consts,O=a(n,t,2,c,ws(I,f));return Mt(n,o,O,ws(I,m)),null!==O.attrs&&mo(O,O.attrs,!1),null!==O.mergedAttrs&&mo(O,O.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,O),O}(I,m,f,n,o,c):m.data[I],z=$g(m,f,O,D,n,t);f[I]=z;const ce=Ys(O);return Ns(O,!0),Jh(D,z,O),32!=(32&O.flags)&&Za()&&Pp(m,f,z,O),0===function fa(){return pr.lFrame.elementDepthCount}()&&Ko(z,f),function xc(){pr.lFrame.elementDepthCount++}(),ce&&(L(m,f,O),P(m,O,f)),null!==c&&Y(f,O),Kf}function ld(){let t=ms();Ya()?_u():(t=t.parent,Ns(t,!1));const n=t;(function fd(t){return pr.skipHydrationRootTNode===t})(n)&&function gu(){pr.skipHydrationRootTNode=null}(),function pu(){pr.lFrame.elementDepthCount--}();const o=Pr();return o.firstCreatePass&&(Pa(o,t),rs(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function vd(t){return 0!=(8&t.flags)}(n)&&Wf(o,n,tn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Fc(t){return 0!=(16&t.flags)}(n)&&Wf(o,n,tn(),n.stylesWithoutHost,!1),ld}function vm(t,n,o,c){return Kf(t,n,o,c),ld(),vm}let $g=(t,n,o,c,f,m)=>(Go(!0),Ip(c,f,function xo(){return pr.lFrame.currentNamespace}()));function bh(t,n,o){const c=tn(),f=Pr(),m=t+Hn,I=f.firstCreatePass?function oy(t,n,o,c,f){const m=n.consts,I=ws(m,c),D=a(n,t,8,"ng-container",I);return null!==I&&mo(D,I,!0),Mt(n,o,D,ws(m,f)),null!==n.queries&&n.queries.elementStart(n,D),D}(m,f,c,n,o):f.data[m];Ns(I,!0);const D=oa(f,c,I,t);return c[m]=D,Za()&&Pp(f,c,D,I),Ko(D,c),Ys(I)&&(L(f,c,I),P(f,I,c)),null!=o&&Y(c,I),bh}function qf(){let t=ms();const n=Pr();return Ya()?_u():(t=t.parent,Ns(t,!1)),n.firstCreatePass&&(Pa(n,t),rs(t)&&n.queries.elementEnd(t)),qf}function au(t,n,o){return bh(t,n,o),qf(),au}let oa=(t,n,o,c)=>(Go(!0),Om(n[sr],""));function cd(){return tn()}function E(t){return!!t&&"function"==typeof t.then}function U(t){return!!t&&"function"==typeof t.subscribe}function q(t,n,o,c){const f=tn(),m=Pr(),I=ms();return function Lt(t,n,o,c,f,m,I){const D=Ys(c),z=t.firstCreatePass&&Cg(t),ce=n[ti],Me=Ig(n);let ot=!0;if(3&c.type||I){const gn=Qs(c,n),Gn=I?I(gn):gn,fr=Me.length,cn=I?Ei=>I(xr(Ei[c.index])):c.index;let Hr=null;if(!I&&D&&(Hr=function bt(t,n,o,c){const f=t.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const I=f[m];if(I===o&&f[m+1]===c){const D=n[qs],O=f[m+2];return D.length>O?D[O]:null}"string"==typeof I&&(m+=2)}return null}(t,n,f,c.index)),null!==Hr)(Hr.__ngLastListenerFn__||Hr).__ngNextListenerFn__=m,Hr.__ngLastListenerFn__=m,ot=!1;else{m=Yi(c,n,ce,m,!1);const Ei=o.listen(Gn,f,m);Me.push(m,Ei),z&&z.push(f,cn,fr,fr+1)}}else m=Yi(c,n,ce,m,!1);const Et=c.outputs;let Kt;if(ot&&null!==Et&&(Kt=Et[f])){const gn=Kt.length;if(gn)for(let Gn=0;Gn<gn;Gn+=2){const _s=n[Kt[Gn]][Kt[Gn+1]].subscribe(m),ql=Me.length;Me.push(m,_s),z&&z.push(f,c.index,ql,-(ql+1))}}}(m,f,f[sr],I,t,n,c),q}function An(t,n,o,c){try{return Ji(6,n,o),!1!==o(c)}catch(f){return W_(t,f),!1}finally{Ji(7,n,o)}}function Yi(t,n,o,c,f){return function m(I){if(I===Function)return c;Zp(t.componentOffset>-1?Wi(t.index,n):n);let O=An(n,o,c,I),z=m.__ngNextListenerFn__;for(;z;)O=An(n,o,z,I)&&O,z=z.__ngNextListenerFn__;return f&&!1===O&&I.preventDefault(),O}}function Zs(t=1){return function Cn(t){return(pr.lFrame.contextLView=function _r(t,n){for(;t>0;)n=n[re],t--;return n}(t,pr.lFrame.contextLView))[ti]}(t)}function lu(t,n,o){return Yo(t,"",n,"",o),lu}function Yo(t,n,o,c,f){const m=tn(),I=gh(m,n,o,c);return I!==Xr&&Ge(Pr(),gi(),m,t,I,m[sr],f,!1),Yo}function Ih(t,n,o,c,f,m,I,D,O){const z=tn(),ce=function tu(t,n,o,c,f,m,I,D){const z=va(t,ho(),o,f,I);return bo(3),z?n+tt(o)+c+tt(f)+m+tt(I)+D:Xr}(z,n,o,c,f,m,I,D);return ce!==Xr&&Ge(Pr(),gi(),z,t,ce,z[sr],O,!1),Ih}function Gg(t,n){return t<<17|n<<2}function Ac(t){return t>>17&32767}function Hg(t){return 2|t}function Xf(t){return(131068&t)>>2}function cy(t,n){return-131069&t|n<<2}function yv(t){return 1|t}function vv(t,n,o,c,f){const m=t[o+1],I=null===n;let D=c?Ac(m):Xf(m),O=!1;for(;0!==D&&(!1===O||I);){const ce=t[D+1];r0(t[D],n)&&(O=!0,t[D+1]=c?yv(ce):Hg(ce)),D=c?Ac(ce):Xf(ce)}O&&(t[o+1]=c?Hg(m):yv(m))}function r0(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&xa(t,n)>=0}const go={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wE(t){return t.substring(go.key,go.keyEnd)}function AE(t,n){const o=go.textEnd;return o===n?-1:(n=go.keyEnd=function SE(t,n,o){for(;n<o&&t.charCodeAt(n)>32;)n++;return n}(t,go.key=n,o),Ch(t,n,o))}function Ch(t,n,o){for(;n<o&&t.charCodeAt(n)<=32;)n++;return n}function bv(t,n,o){return l(t,n,o,!1),bv}function Tv(t,n){return l(t,n,null,!0),Tv}function y(t){!function p(t,n,o,c){const f=Pr(),m=bo(2);f.firstUpdatePass&&j(f,null,m,c);const I=tn();if(o!==Xr&&Co(I,m,o)){const D=f.data[Sr()];if(yr(D,c)&&!T(f,m)){let O=c?D.classesWithoutHost:D.stylesWithoutHost;null!==O&&(o=we(O,o||"")),Wf(f,D,I,o,c)}else!function Dn(t,n,o,c,f,m,I,D){f===Xr&&(f=yn);let O=0,z=0,ce=0<f.length?f[0]:null,Me=0<m.length?m[0]:null;for(;null!==ce||null!==Me;){const ot=O<f.length?f[O+1]:void 0,Et=z<m.length?m[z+1]:void 0;let gn,Kt=null;ce===Me?(O+=2,z+=2,ot!==Et&&(Kt=Me,gn=Et)):null===Me||null!==ce&&ce<Me?(O+=2,Kt=ce):(z+=2,Kt=Me,gn=Et),null!==Kt&&hr(t,n,o,c,Kt,gn,I,D),ce=O<f.length?f[O]:null,Me=z<m.length?m[z]:null}}(f,D,I,I[sr],I[m+1],I[m+1]=function $n(t,n,o){if(null==o||""===o)return yn;const c=[],f=gc(o);if(Array.isArray(f))for(let m=0;m<f.length;m++)t(c,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&t(c,m,f[m]);else"string"==typeof f&&n(c,f);return c}(t,n,o),c,m)}}(On,u,t,!0)}function u(t,n){for(let o=function o0(t){return function Ev(t){go.key=0,go.keyEnd=0,go.value=0,go.valueEnd=0,go.textEnd=t.length}(t),AE(t,Ch(t,0,go.textEnd))}(n);o>=0;o=AE(n,o))zo(t,wE(n),!0)}function l(t,n,o,c){const f=tn(),m=Pr(),I=bo(2);m.firstUpdatePass&&j(m,t,I,c),n!==Xr&&Co(f,I,n)&&hr(m,m.data[Sr()],f,f[sr],t,f[I+1]=function wi(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=pe(gc(t)))),t}(n,o),c,I)}function T(t,n){return n>=t.expandoStartIndex}function j(t,n,o,c){const f=t.data;if(null===f[o+1]){const m=f[Sr()],I=T(t,o);yr(m,c)&&null===n&&!I&&(n=!1),n=function ie(t,n,o,c){const f=function pa(t){const n=pr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=c?n.residualClasses:n.residualStyles;if(null===f)0===(c?n.classBindings:n.styleBindings)&&(o=nn(o=wt(null,t,n,o,c),n.attrs,c),m=null);else{const I=n.directiveStylingLast;if(-1===I||t[I]!==f)if(o=wt(f,t,n,o,c),null===m){let O=function de(t,n,o){const c=o?n.classBindings:n.styleBindings;if(0!==Xf(c))return t[Ac(c)]}(t,n,c);void 0!==O&&Array.isArray(O)&&(O=wt(null,t,n,O[1],c),O=nn(O,n.attrs,c),function Pe(t,n,o,c){t[Ac(o?n.classBindings:n.styleBindings)]=c}(t,n,c,O))}else m=function Qe(t,n,o){let c;const f=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<f;m++)c=nn(c,t[m].hostAttrs,o);return nn(c,n.attrs,o)}(t,n,c)}return void 0!==m&&(c?n.residualClasses=m:n.residualStyles=m),o}(f,m,n,c),function CE(t,n,o,c,f,m){let I=m?n.classBindings:n.styleBindings,D=Ac(I),O=Xf(I);t[c]=o;let ce,z=!1;if(Array.isArray(o)?(ce=o[1],(null===ce||xa(o,ce)>0)&&(z=!0)):ce=o,f)if(0!==O){const ot=Ac(t[D+1]);t[c+1]=Gg(ot,D),0!==ot&&(t[ot+1]=cy(t[ot+1],c)),t[D+1]=function t0(t,n){return 131071&t|n<<17}(t[D+1],c)}else t[c+1]=Gg(D,0),0!==D&&(t[D+1]=cy(t[D+1],c)),D=c;else t[c+1]=Gg(O,0),0===D?D=c:t[O+1]=cy(t[O+1],c),O=c;z&&(t[c+1]=Hg(t[c+1])),vv(t,ce,c,!0),vv(t,ce,c,!1),function uy(t,n,o,c,f){const m=f?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&xa(m,n)>=0&&(o[c+1]=yv(o[c+1]))}(n,ce,t,c,m),I=Gg(D,O),m?n.classBindings=I:n.styleBindings=I}(f,m,n,o,I,c)}}function wt(t,n,o,c,f){let m=null;const I=o.directiveEnd;let D=o.directiveStylingLast;for(-1===D?D=o.directiveStart:D++;D<I&&(m=n[D],c=nn(c,m.hostAttrs,f),m!==t);)D++;return null!==t&&(o.directiveStylingLast=D),c}function nn(t,n,o){const c=o?1:2;let f=-1;if(null!==n)for(let m=0;m<n.length;m++){const I=n[m];"number"==typeof I?f=I:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zo(t,I,!!o||n[++m]))}return void 0===t?null:t}function On(t,n,o){const c=String(n);""!==c&&!c.includes(" ")&&zo(t,c,o)}function hr(t,n,o,c,f,m,I,D){if(!(3&n.type))return;const O=t.data,z=O[D+1],ce=function n0(t){return 1==(1&t)}(z)?$r(O,n,o,f,Xf(z),I):void 0;Jr(ce)||(Jr(m)||function e0(t){return 2==(2&t)}(z)&&(m=$r(O,null,o,f,D,I)),function Cy(t,n,o,c,f){if(n)f?t.addClass(o,c):t.removeClass(o,c);else{let m=-1===c.indexOf("-")?void 0:xu.DashCase;null==f?t.removeStyle(o,c,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=xu.Important),t.setStyle(o,c,f,m))}}(c,I,bl(Sr(),o),f,m))}function $r(t,n,o,c,f,m){const I=null===n;let D;for(;f>0;){const O=t[f],z=Array.isArray(O),ce=z?O[1]:O,Me=null===ce;let ot=o[f+1];ot===Xr&&(ot=Me?yn:void 0);let Et=Me?Su(ot,c):ce===c?ot:void 0;if(z&&!Jr(Et)&&(Et=Su(O,c)),Jr(Et)&&(D=Et,I))return D;const Kt=t[f+1];f=I?Ac(Kt):Xf(Kt)}if(null!==n){let O=m?n.residualClasses:n.residualStyles;null!=O&&(D=Su(O,c))}return D}function Jr(t){return void 0!==t}function yr(t,n){return 0!=(t.flags&(n?8:16))}function xi(t,n=""){const o=tn(),c=Pr(),f=t+Hn,m=c.firstCreatePass?a(c,f,1,n,null):c.data[f],I=pi(c,o,m,n,t);o[f]=I,Za()&&Pp(c,o,I,m),Ns(m,!1)}let pi=(t,n,o,c,f)=>(Go(!0),function Fu(t,n){return t.createText(n)}(n[sr],c));function Xi(t){return Hi("",t,""),Xi}function Hi(t,n,o){const c=tn(),f=gh(c,t,n,o);return f!==Xr&&ll(c,Sr(),f),Hi}function io(t,n,o,c,f){const m=tn(),I=function eu(t,n,o,c,f,m){const D=Cc(t,ho(),o,f);return bo(2),D?n+tt(o)+c+tt(f)+m:Xr}(m,t,n,o,c,f);return I!==Xr&&ll(m,Sr(),I),io}function Ds(t,n,o,c,f,m,I,D,O){const z=tn(),ce=function dl(t,n,o,c,f,m,I,D,O,z){const Me=As(t,ho(),o,f,I,O);return bo(4),Me?n+tt(o)+c+tt(f)+m+tt(I)+D+tt(O)+z:Xr}(z,t,n,o,c,f,m,I,D,O);return ce!==Xr&&ll(z,Sr(),ce),Ds}const Ah=void 0;var SI=["en",[["a","p"],["AM","PM"],Ah],[["AM","PM"],Ah,Ah],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ah,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ah,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ah,"{1} 'at' {0}",Ah],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DI(t){const o=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let hy={};function m0(t){const n=function RI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=ab(n);if(o)return o;const c=n.split("-")[0];if(o=ab(c),o)return o;if("en"===c)return SI;throw new Ae(701,!1)}function ob(t){return m0(t)[fy.PluralCase]}function ab(t){return t in hy||(hy[t]=Kn.ng&&Kn.ng.common&&Kn.ng.common.locales&&Kn.ng.common.locales[t]),hy[t]}var fy=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(fy||{});const py="en-US";let lb=py;function y0(t,n,o,c,f){if(t=Ye(t),Array.isArray(t))for(let m=0;m<t.length;m++)y0(t[m],n,o,c,f);else{const m=Pr(),I=tn(),D=ms();let O=Hu(t)?t:Ye(t.provide);const z=Ly(t),ce=1048575&D.providerIndexes,Me=D.directiveStart,ot=D.providerIndexes>>20;if(Hu(t)||!t.multi){const Et=new ea(z,f,Xc),Kt=E0(O,n,f?ce:ce+ot,Me);-1===Kt?(ic(rc(D,I),m,O),v0(m,t,n.length),n.push(O),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),o.push(Et),I.push(Et)):(o[Kt]=Et,I[Kt]=Et)}else{const Et=E0(O,n,ce+ot,Me),Kt=E0(O,n,ce,ce+ot),Gn=Kt>=0&&o[Kt];if(f&&!Gn||!f&&!(Et>=0&&o[Et])){ic(rc(D,I),m,O);const fr=function DC(t,n,o,c,f){const m=new ea(t,o,Xc);return m.multi=[],m.index=n,m.componentProviders=0,Ob(m,f,c&&!o),m}(f?AC:wC,o.length,f,c,z);!f&&Gn&&(o[Kt].providerFactory=fr),v0(m,t,n.length,0),n.push(O),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),o.push(fr),I.push(fr)}else v0(m,t,Et>-1?Et:Kt,Ob(o[f?Kt:Et],z,!f&&c));!f&&c&&Gn&&o[Kt].componentProviders++}}}function v0(t,n,o,c){const f=Hu(n),m=function jv(t){return!!t.useClass}(n);if(f||m){const O=(m?Ye(n.useClass):n).prototype.ngOnDestroy;if(O){const z=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const ce=z.indexOf(o);-1===ce?z.push(o,[c,O]):z[ce+1].push(c,O)}else z.push(o,O)}}}function Ob(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function E0(t,n,o,c){for(let f=o;f<c;f++)if(n[f]===t)return f;return-1}function wC(t,n,o,c){return b0(this.multi,[])}function AC(t,n,o,c){const f=this.multi;let m;if(this.providerFactory){const I=this.providerFactory.componentProviders,D=Ml(o,o[En],this.providerFactory.index,c);m=D.slice(0,I),b0(f,m);for(let O=I;O<D.length;O++)m.push(D[O])}else m=[],b0(f,m);return m}function b0(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function Nb(t,n=[]){return o=>{o.providersResolver=(c,f)=>function CC(t,n,o){const c=Pr();if(c.firstCreatePass){const f=Xs(t);y0(o,c.data,c.blueprint,f,!0),y0(n,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,n)}}class Wg{}class kb{}function SC(t,n){return new T0(t,n??null,[])}class T0 extends Wg{constructor(n,o,c){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mf(this);const f=ui(n);this._bootstrapComponents=qu(f.bootstrap),this._r3Injector=qy(n,o,[{provide:Wg,useValue:this},{provide:vc,useValue:this.componentFactoryResolver},...c],pe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class I0 extends kb{constructor(n){super(),this.moduleType=n}create(n){return new T0(this.moduleType,n,[])}}class Fb extends Wg{constructor(n){super(),this.componentFactoryResolver=new Mf(this),this.instance=null;const o=new zu([...n.providers,{provide:Wg,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],n.parent||eh(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Lb(t,n,o=null){return new Fb({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let PC=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const c=og(0,o.type),f=c.length>0?Lb([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,f)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=un({token:t,providedIn:"environment",factory:()=>new t(We(Ii))})}}return t})();function Vb(t){t.getStandaloneInjector=n=>n.get(PC).getOrCreateStandaloneInjector(t)}function zb(t,n,o){const c=Js()+t,f=tn();return f[c]===Xr?sa(f,c,o?n.call(o):n()):td(f,c)}function Wb(t,n,o,c){return Jb(tn(),Js(),t,n,o,c)}function Kb(t,n,o,c,f){return Zb(tn(),Js(),t,n,o,c,f)}function qb(t,n,o,c,f,m){return eT(tn(),Js(),t,n,o,c,f,m)}function Yb(t,n,o,c,f,m,I){return function tT(t,n,o,c,f,m,I,D,O){const z=n+o;return As(t,z,f,m,I,D)?sa(t,z+4,O?c.call(O,f,m,I,D):c(f,m,I,D)):Nv(t,z+4)}(tn(),Js(),t,n,o,c,f,m,I)}function Xb(t,n,o,c,f,m,I,D){const O=Js()+t,z=tn(),ce=As(z,O,o,c,f,m);return Co(z,O+4,I)||ce?sa(z,O+5,D?n.call(D,o,c,f,m,I):n(o,c,f,m,I)):td(z,O+5)}function Qb(t,n,o,c,f,m,I,D,O){const z=Js()+t,ce=tn(),Me=As(ce,z,o,c,f,m);return Cc(ce,z+4,I,D)||Me?sa(ce,z+6,O?n.call(O,o,c,f,m,I,D):n(o,c,f,m,I,D)):td(ce,z+6)}function Nv(t,n){const o=t[n];return o===Xr?void 0:o}function Jb(t,n,o,c,f,m){const I=n+o;return Co(t,I,f)?sa(t,I+1,m?c.call(m,f):c(f)):Nv(t,I+1)}function Zb(t,n,o,c,f,m,I){const D=n+o;return Cc(t,D,f,m)?sa(t,D+2,I?c.call(I,f,m):c(f,m)):Nv(t,D+2)}function eT(t,n,o,c,f,m,I,D){const O=n+o;return va(t,O,f,m,I)?sa(t,O+3,D?c.call(D,f,m,I):c(f,m,I)):Nv(t,O+3)}function rT(t,n){const o=Pr();let c;const f=t+Hn;o.firstCreatePass?(c=function $C(t,n){if(n)for(let o=n.length-1;o>=0;o--){const c=n[o];if(t===c.name)return c}}(n,o.pipeRegistry),o.data[f]=c,c.onDestroy&&(o.destroyHooks??=[]).push(f,c.onDestroy)):c=o.data[f];const m=c.factory||(c.factory=eo(c.type)),D=Rr(Xc);try{const O=el(!1),z=m();return el(O),function ad(t,n,o,c){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),n[o]=c}(o,tn(),f,z),z}finally{Rr(D)}}function iT(t,n,o){const c=t+Hn,f=tn(),m=Ql(f,c);return kv(f,c)?Jb(f,Js(),n,m.transform,o,m):m.transform(o)}function sT(t,n,o,c){const f=t+Hn,m=tn(),I=Ql(m,f);return kv(m,f)?Zb(m,Js(),n,I.transform,o,c,I):I.transform(o,c)}function oT(t,n,o,c,f){const m=t+Hn,I=tn(),D=Ql(I,m);return kv(I,m)?eT(I,Js(),n,D.transform,o,c,f,D):D.transform(o,c,f)}function kv(t,n){return t[En].data[n].pure}function zC(){return this._results[Symbol.iterator]()}class w0{get changes(){return this._changes||(this._changes=new Ic)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=w0.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=zC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){const c=this;c.dirty=!1;const f=function Ho(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Vh(t,n,o){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],m=n[c];if(o&&(f=o(f),m=o(m)),m!==f)return!1}return!0}(c._results,f,o))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function KC(t,n,o,c=!0){const f=n[En];if(function by(t,n,o,c){const f=Mr+c,m=o.length;c>0&&(o[f-1][ts]=n),c<m-Mr?(n[ts]=o[f],Dd(o,Mr+c,n)):(o.push(n),n[ts]=null),n[gr]=o;const I=n[Re];null!==I&&o!==I&&function n_(t,n){const o=t[Gi];n[Z]!==n[gr][gr][Z]&&(t[Qr]=!0),null===o?t[Gi]=[n]:o.push(n)}(I,n);const D=n[lt];null!==D&&D.insertView(t),n[ur]|=128}(f,n,t,o),c){const m=qh(o,t),I=n[sr],D=qd(I,t[kr]);null!==D&&function km(t,n,o,c,f,m){c[oi]=f,c[$i]=n,Qh(t,c,o,1,f,m)}(f,t[$i],I,n,D,m)}}let Fv=(()=>{class t{static{this.__NG_ELEMENT_ID__=XC}}return t})();const qC=Fv,YC=class extends qC{constructor(n,o,c){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,c){const f=function WC(t,n,o,c){const f=n.tView,D=s(t,f,o,4096&t[ur]?4096:16,null,n,null,null,null,c?.injector??null,c?.hydrationInfo??null);D[Re]=t[n.index];const z=t[lt];return null!==z&&(D[lt]=z.createEmbeddedView(f)),Sf(f,D,o),D}(this._declarationLView,this._declarationTContainer,n,{injector:o,hydrationInfo:c});return new hh(f)}};function XC(){return VE(ms(),tn())}function VE(t,n){return 4&t.type?new YC(n,t,qp(t,n)):null}let jE=(()=>{class t{static{this.__NG_ELEMENT_ID__=nw}}return t})();function nw(){return fT(ms(),tn())}const rw=jE,dT=class extends rw{constructor(n,o,c){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=c}get element(){return qp(this._hostTNode,this._hostLView)}get injector(){return new qi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Sl(this._hostTNode,this._hostLView);if(Lc(n)){const o=Vc(n,this._hostLView),c=Ma(n);return new qi(o[En].data[c+8],o)}return new qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=hT(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-Mr}createEmbeddedView(n,o,c){let f,m;"number"==typeof c?f=c:null!=c&&(f=c.index,m=c.injector);const D=n.createEmbeddedViewImpl(o||{},m,null);return this.insertImpl(D,f,false),D}createComponent(n,o,c,f,m){const I=n&&!function kl(t){return"function"==typeof t}(n);let D;if(I)D=o;else{const gn=o||{};D=gn.index,c=gn.injector,f=gn.projectableNodes,m=gn.environmentInjector||gn.ngModuleRef}const O=I?n:new Xu(Or(n)),z=c||this.parentInjector;if(!m&&null==O.ngModule){const Gn=(I?z:this.parentInjector).get(Ii,null);Gn&&(m=Gn)}Or(O.componentType??{});const Et=O.create(z,f,null,m);return this.insertImpl(Et.hostView,D,false),Et}insert(n,o){return this.insertImpl(n,o,!1)}insertImpl(n,o,c){const f=n._lView;if(function Zo(t){return br(t[gr])}(f)){const O=this.indexOf(n);if(-1!==O)this.detach(O);else{const z=f[gr],ce=new dT(z,z[$i],z[gr]);ce.detach(ce.indexOf(n))}}const I=this._adjustIndex(o),D=this._lContainer;return KC(D,f,I,!c),n.attachToViewContainerRef(),Dd(A0(D),I,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=hT(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),c=Kh(this._lContainer,o);c&&(Ll(A0(this._lContainer),o),Cp(c[En],c))}detach(n){const o=this._adjustIndex(n,-1),c=Kh(this._lContainer,o);return c&&null!=Ll(A0(this._lContainer),o)?new hh(c):null}_adjustIndex(n,o=0){return n??this.length+o}};function hT(t){return t[8]}function A0(t){return t[8]||(t[8]=[])}function fT(t,n){let o;const c=n[t.index];return br(c)?o=c:(o=Af(c,n,null,t),n[t.index]=o,dh(n,o)),pT(o,n,t,c),new dT(o,t,n)}let pT=function mT(t,n,o,c){if(t[kr])return;let f;f=8&o.type?xr(c):function iw(t,n){const o=t[sr],c=o.createComment(""),f=Qs(n,t);return Lu(o,qd(o,f),c,function Um(t,n){return t.nextSibling(n)}(o,f),!1),c}(n,o),t[kr]=f};class D0{constructor(n){this.queryList=n,this.matches=null}clone(){return new D0(this.queryList)}setDirty(){this.queryList.setDirty()}}class S0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const c=null!==n.contentQueries?n.contentQueries[0]:o.length,f=[];for(let m=0;m<c;m++){const I=o.getByIndex(m);f.push(this.queries[I.indexInDeclarationView].clone())}return new S0(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==CT(n,o).matches&&this.queries[o].setDirty()}}class gT{constructor(n,o,c=null){this.predicate=n,this.flags=o,this.read=c}}class R0{constructor(n=[]){this.queries=n}elementStart(n,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let c=0;c<this.length;c++){const f=null!==o?o.length:0,m=this.getByIndex(c).embeddedTView(n,f);m&&(m.indexInDeclarationView=c,null!==o?o.push(m):o=[m])}return null!==o?new R0(o):null}template(n,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class P0{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new P0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const m=c[f];this.matchTNodeWithReadOption(n,o,aw(o,m)),this.matchTNodeWithReadOption(n,o,ga(o,n,m,!1,!1))}else c===Fv?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,ga(o,n,c,!1,!1))}matchTNodeWithReadOption(n,o,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===ah||f===jE||f===Fv&&4&o.type)this.addMatch(o.index,-2);else{const m=ga(o,n,f,!1,!1);null!==m&&this.addMatch(o.index,m)}else this.addMatch(o.index,c)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function aw(t,n){const o=t.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===n)return o[c+1];return null}function cw(t,n,o,c){return-1===o?function lw(t,n){return 11&t.type?qp(t,n):4&t.type?VE(t,n):null}(n,t):-2===o?function uw(t,n,o){return o===ah?qp(n,t):o===Fv?VE(n,t):o===jE?fT(n,t):void 0}(t,n,c):Ml(t,t[En],o,n)}function _T(t,n,o,c){const f=n[lt].queries[c];if(null===f.matches){const m=t.data,I=o.matches,D=[];for(let O=0;O<I.length;O+=2){const z=I[O];D.push(z<0?null:cw(n,m[z],I[O+1],o.metadata.read))}f.matches=D}return f.matches}function M0(t,n,o,c){const f=t.queries.getByIndex(o),m=f.matches;if(null!==m){const I=_T(t,n,f,o);for(let D=0;D<m.length;D+=2){const O=m[D];if(O>0)c.push(I[D/2]);else{const z=m[D+1],ce=n[-O];for(let Me=Mr;Me<ce.length;Me++){const ot=ce[Me];ot[Re]===ot[gr]&&M0(ot[En],ot,z,c)}if(null!==ce[Gi]){const Me=ce[Gi];for(let ot=0;ot<Me.length;ot++){const Et=Me[ot];M0(Et[En],Et,z,c)}}}}}return c}function yT(t){const n=tn(),o=Pr(),c=Cl();S(c+1);const f=CT(o,c);if(t.dirty&&function Rh(t){return 4==(4&t[ur])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const m=f.crossesNgTemplate?M0(o,n,c,[]):_T(o,n,f,c);t.reset(m,Kv),t.notifyOnChanges()}return!0}return!1}function vT(t,n,o){const c=Pr();c.firstCreatePass&&(IT(c,new gT(t,n,o),-1),2==(2&n)&&(c.staticViewQueries=!0)),TT(c,tn(),n)}function ET(t,n,o,c){const f=Pr();if(f.firstCreatePass){const m=ms();IT(f,new gT(n,o,c),m.index),function hw(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(f,t),2==(2&o)&&(f.staticContentQueries=!0)}TT(f,tn(),o)}function bT(){return function dw(t,n){return t[lt].queries[n].queryList}(tn(),Cl())}function TT(t,n,o){const c=new w0(4==(4&o));(function dr(t,n,o,c){const f=Ig(n);f.push(o),t.firstCreatePass&&Cg(t).push(c,f.length-1)})(t,n,c,c.destroy),null===n[lt]&&(n[lt]=new S0),n[lt].queries.push(new D0(c))}function IT(t,n,o){null===t.queries&&(t.queries=new R0),t.queries.track(new P0(n,o))}function CT(t,n){return t.queries.getByIndex(n)}function wT(t,n){return VE(t,n)}function x0(t){return!!ui(t)}const $T=new hn("Application Initializer");let L0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c}),this.appInits=Yt($T,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const f of this.appInits){const m=f();if(E(m))o.push(m);else if(U(m)){const I=new Promise((D,O)=>{m.subscribe({complete:D,error:O})});o.push(I)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{c()}).catch(f=>{this.reject(f)}),0===o.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),GT=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const $E=new hn("LocaleId",{providedIn:"root",factory:()=>Yt($E,vn.Optional|vn.SkipSelf)||function Ow(){return typeof $localize<"u"&&$localize.locale||py}()}),Nw=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let HT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ae.t(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Fw{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let Lw=(()=>{class t{compileModuleSync(o){return new I0(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),m=qu(ui(o).declarations).reduce((I,D)=>{const O=Or(D);return O&&I.push(new Xu(O)),I},[]);return new Fw(c,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const qT=new hn(""),YT=new hn("");let j0,s1=(()=>{class t{constructor(o,c,f){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,j0||(function o1(t){j0=t}(f),f.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Io.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,f){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==m),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:f})}whenStable(o,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,f){return[]}static{this.\u0275fac=function(c){return new(c||t)(We(Io),We(XT),We(YT))}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac})}}return t})(),XT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return j0?.findTestabilityInTree(this,o,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),bm=null;const QT=new hn("AllowMultipleToken"),B0=new hn("PlatformDestroyListeners"),$0=new hn("appBootstrapListener");class c1{constructor(n,o){this.name=n,this.token=o}}function eI(t,n,o=[]){const c=`Platform: ${n}`,f=new hn(c);return(m=[])=>{let I=G0();if(!I||I.injector.get(QT,!1)){const D=[...o,...m,{provide:f,useValue:!0}];t?t(D):function u1(t){if(bm&&!bm.get(QT,!1))throw new Ae(400,!1);(function JT(){!function wa(t){Bo=t}(()=>{throw new Ae(600,!1)})})(),bm=t;const n=t.get(nI);(function ZT(t){t.get(Gv,null)?.forEach(o=>o())})(t)}(function tI(t=[],n){return Ec.create({name:n,providers:[{provide:Bp,useValue:"platform"},{provide:B0,useValue:new Set([()=>bm=null])},...t]})}(D,c))}return function h1(t){const n=G0();if(!n)throw new Ae(401,!1);return n}()}}function G0(){return bm?.get(nI)??null}let nI=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const f=function f1(t="zone.js",n){return"noop"===t?new F_:"zone.js"===t?new Io(n):t}(c?.ngZone,function rI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const m=function RC(t,n,o){return new T0(t,n,o)}(o.moduleType,this.injector,function lI(t){return[{provide:Io,useFactory:t},{provide:$u,multi:!0,useFactory:()=>{const n=Yt(m1,{optional:!0});return()=>n.initialize()}},{provide:aI,useFactory:p1},{provide:sE,useFactory:Qy}]}(()=>f)),I=m.injector.get(al,null);return f.runOutsideAngular(()=>{const D=f.onError.subscribe({next:O=>{I.handleError(O)}});m.onDestroy(()=>{HE(this._modules,m),D.unsubscribe()})}),function iI(t,n,o){try{const c=o();return E(c)?c.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(I,f,()=>{const D=m.injector.get(L0);return D.runInitializers(),D.donePromise.then(()=>(function cb(t){dt(t,"Expected localeId to be defined"),"string"==typeof t&&(lb=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get($E,py)||py),this._moduleDoBootstrap(m),m))})})}bootstrapModule(o,c=[]){const f=sI({},c);return function a1(t,n,o){const c=new I0(o);return Promise.resolve(c)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(o){const c=o.injector.get(_y);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new Ae(-403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(B0,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(We(Ec))}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function sI(t,n){return Array.isArray(n)?n.reduce(sI,t):{...t,...n}}let _y=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Yt(aI),this.zoneIsStable=Yt(sE),this.componentTypes=[],this.components=[],this.isStable=Yt(HT).hasPendingTasks.pipe((0,Ie.n)(o=>o?(0,Ee.of)(!1):this.zoneIsStable),(0,ke.F)(),(0,Se.u)()),this._injector=Yt(Ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const f=o instanceof pg;if(!this._injector.get(L0).done)throw!f&&Rs(o),new Ae(405,!1);let I;I=f?o:this._injector.get(vc).resolveComponentFactory(o),this.componentTypes.push(I.componentType);const D=function l1(t){return t.isBoundToModule}(I)?void 0:this._injector.get(Wg),z=I.create(Ec.NULL,[],c||I.selector,D),ce=z.location.nativeElement,Me=z.injector.get(qT,null);return Me?.registerApplication(ce),z.onDestroy(()=>{this.detachView(z.hostView),HE(this.components,z),Me?.unregisterApplication(ce)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;HE(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const c=this._injector.get($0,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>HE(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ae(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function HE(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}const aI=new hn("",{providedIn:"root",factory:()=>Yt(al).handleError.bind(void 0)});function p1(){const t=Yt(Io),n=Yt(al);return o=>t.runOutsideAngular(()=>n.handleError(o))}let m1=(()=>{class t{constructor(){this.zone=Yt(Io),this.applicationRef=Yt(_y)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _1(){return!1}let y1=(()=>{class t{static{this.__NG_ELEMENT_ID__=v1}}return t})();function v1(t){return function E1(t,n,o){if(di(t)&&!o){const c=Wi(t.index,n);return new hh(c,c)}return 47&t.type?new hh(n[Z],n):null}(ms(),tn(),16==(16&t))}class fI{constructor(){}supports(n){return Zu(n)}create(n){return new w1(n)}}const C1=(t,n)=>n;class w1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||C1}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,c=this._removalsHead,f=0,m=null;for(;o||c;){const I=!c||o&&o.currentIndex<mI(c,f,m)?o:c,D=mI(I,f,m),O=I.currentIndex;if(I===c)f--,c=c._nextRemoved;else if(o=o._next,null==I.previousIndex)f++;else{m||(m=[]);const z=D-f,ce=O-f;if(z!=ce){for(let ot=0;ot<z;ot++){const Et=ot<m.length?m[ot]:m[ot]=0,Kt=Et+ot;ce<=Kt&&Kt<z&&(m[ot]=Et+1)}m[I.previousIndex]=ce-z}}D!==O&&n(I,D,O)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!Zu(n))throw new Ae(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,m,I,o=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)m=n[D],I=this._trackByFn(D,m),null!==o&&Object.is(o.trackById,I)?(c&&(o=this._verifyReinsertion(o,m,I,D)),Object.is(o.item,m)||this._addIdentityChange(o,m)):(o=this._mismatch(o,m,I,D),c=!0),o=o._next}else f=0,function ed(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let c;for(;!(c=o.next()).done;)n(c.value)}}(n,D=>{I=this._trackByFn(f,D),null!==o&&Object.is(o.trackById,I)?(c&&(o=this._verifyReinsertion(o,D,I,f)),Object.is(o.item,D)||this._addIdentityChange(o,D)):(o=this._mismatch(o,D,I,f),c=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,c,f){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,m,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,m,f)):n=this._addAfter(new A1(o,c),m,f),n}_verifyReinsertion(n,o,c,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?n=this._reinsertAfter(m,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,m=n._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(n,o,c),this._addToMoves(n,c),n}_moveAfter(n,o,c){return this._unlink(n),this._insertAfter(n,o,c),this._addToMoves(n,c),n}_addAfter(n,o,c){return this._insertAfter(n,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,c){const f=null===o?this._itHead:o._next;return n._next=f,n._prev=o,null===f?this._itTail=n:f._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new pI),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,c=n._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class A1{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class D1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const o=n._prevDup,c=n._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class pI{constructor(){this.map=new Map}put(n){const o=n.trackById;let c=this.map.get(o);c||(c=new D1,this.map.set(o,c)),c.add(n)}get(n,o){const f=this.map.get(n);return f?f.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mI(t,n,o){const c=t.previousIndex;if(null===c)return c;let f=0;return o&&c<o.length&&(f=o[c]),c+n+f}class gI{constructor(){}supports(n){return n instanceof Map||ka(n)}create(){return new S1}}class S1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||ka(n)))throw new Ae(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const m=this._getOrCreateRecordForKey(f,c);o=this._insertBeforeOrAppend(o,m)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const c=n._prev;return o._next=n,o._prev=c,n._prev=o,c&&(c._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,o);const m=f._prev,I=f._next;return m&&(m._next=I),I&&(I._prev=m),f._next=null,f._prev=null,f}const c=new R1(n);return this._records.set(n,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(c=>o(n[c],c))}}class R1{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _I(){return new q0([new fI])}let q0=(()=>{class t{static{this.\u0275prov=un({token:t,providedIn:"root",factory:_I})}constructor(o){this.factories=o}static create(o,c){if(null!=c){const f=c.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||_I()),deps:[[t,new Ru,new Bl]]}}find(o){const c=this.factories.find(f=>f.supports(o));if(null!=c)return c;throw new Ae(901,!1)}}return t})();function yI(){return new Y0([new gI])}let Y0=(()=>{class t{static{this.\u0275prov=un({token:t,providedIn:"root",factory:yI})}constructor(o){this.factories=o}static create(o,c){if(c){const f=c.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||yI()),deps:[[t,new Ru,new Bl]]}}find(o){const c=this.factories.find(f=>f.supports(o));if(c)return c;throw new Ae(901,!1)}}return t})();const x1=eI(null,"core",[]);let O1=(()=>{class t{constructor(o){}static{this.\u0275fac=function(c){return new(c||t)(We(_y))}}static{this.\u0275mod=si({type:t})}static{this.\u0275inj=sn({})}}return t})();function H1(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function W1(t){const n=Or(t);if(!n)return null;const o=new Xu(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(on,Xe,k)=>{k.d(Xe,{DS:()=>qt,X8:()=>Qt,$z:()=>Ze,UB:()=>Rn,yy:()=>pt,ZP:()=>Te,AU:()=>Jt,CP:()=>Nt,gF:()=>Ft}),k(2438);var oe=k(177),r=k(7705),be=k(5407),ae=k(9253),Ee=k(1413),Se=k(7673),Ie=k(1985),ke=k(8455),W=k(7786),ne=k(941),pe=k(5558),we=k(6354),Be=k(6129);class ve extends Ee.B{constructor($e=1/0,ct=1/0,ut=Be.U){super(),this._bufferSize=$e,this._windowTime=ct,this._timestampProvider=ut,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ct===1/0,this._bufferSize=Math.max(1,$e),this._windowTime=Math.max(1,ct)}next($e){const{isStopped:ct,_buffer:ut,_infiniteTimeWindow:Oe,_timestampProvider:ee,_windowTime:ye}=this;ct||(ut.push($e),!Oe&&ut.push(ee.now()+ye)),this._trimBuffer(),super.next($e)}_subscribe($e){this._throwIfClosed(),this._trimBuffer();const ct=this._innerSubscribe($e),{_infiniteTimeWindow:ut,_buffer:Oe}=this,ee=Oe.slice();for(let ye=0;ye<ee.length&&!$e.closed;ye+=ut?1:2)$e.next(ee[ye]);return this._checkFinalizedStatuses($e),ct}_trimBuffer(){const{_bufferSize:$e,_timestampProvider:ct,_buffer:ut,_infiniteTimeWindow:Oe}=this,ee=(Oe?1:2)*$e;if($e<1/0&&ee<ut.length&&ut.splice(0,ut.length-ee),!Oe){const ye=ct.now();let Fe=0;for(let dt=1;dt<ut.length&&ut[dt]<=ye;dt+=2)Fe=dt;Fe&&ut.splice(0,Fe+1)}}}var Ye=k(7647);function Ce(yt,$e,ct){let ut,Oe=!1;return yt&&"object"==typeof yt?({bufferSize:ut=1/0,windowTime:$e=1/0,refCount:Oe=!1,scheduler:ct}=yt):ut=yt??1/0,(0,Ye.u)({connector:()=>new ve(ut,$e,ct),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Oe})}var it=k(1594),Ht=k(8071);function He(yt,$e){return(0,Ht.T)($e)?(0,pe.n)(()=>yt,$e):(0,pe.n)(()=>yt)}var Ae=k(6745),rt=k(5964),tt=k(7935);const Nt=new r.nKC("angularfire2.auth.use-emulator"),pt=new r.nKC("angularfire2.auth.settings"),Te=new r.nKC("angularfire2.auth.tenant-id"),Ze=new r.nKC("angularfire2.auth.langugage-code"),Jt=new r.nKC("angularfire2.auth.use-device-language"),Rn=new r.nKC("angularfire.auth.persistence"),Ft=(yt,$e,ct,ut,Oe,ee,ye,Fe)=>(0,ae.BM)(`${yt.name}.auth`,"AngularFireAuth",yt.name,()=>{const dt=$e.runOutsideAngular(()=>yt.auth());if(ct&&dt.useEmulator(...ct),ut&&(dt.tenantId=ut),dt.languageCode=Oe,ee&&dt.useDeviceLanguage(),ye)for(const[st,$t]of Object.entries(ye))dt.settings[st]=$t;return Fe&&dt.setPersistence(Fe),dt},[ct,ut,Oe,ee,ye,Fe]);let qt=(()=>{class yt{authState;idToken;user;idTokenResult;credential;constructor(ct,ut,Oe,ee,ye,Fe,dt,st,$t,wn,or,un){const Nn=new Ee.B,sn=(0,Se.of)(void 0).pipe((0,ne.Q)(ye.outsideAngular),(0,pe.n)(()=>ee.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2438)))),(0,we.T)(()=>(0,ae.iB)(ct,ee,ut)),(0,we.T)(Yn=>Ft(Yn,ee,Fe,st,$t,wn,dt,or)),Ce({bufferSize:1,refCount:!1}));if((0,oe.Vy)(Oe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Se.of)(null);else{sn.pipe((0,it.$)()).subscribe();const Yn=sn.pipe((0,pe.n)(Ut=>Ut.getRedirectResult().then(Xn=>Xn,()=>null)),be.U0,Ce({bufferSize:1,refCount:!1})),kn=sn.pipe((0,pe.n)(Ut=>new Ie.c(Xn=>({unsubscribe:ee.runOutsideAngular(()=>Ut.onAuthStateChanged(en=>Xn.next(en),en=>Xn.error(en),()=>Xn.complete()))})))),jt=sn.pipe((0,pe.n)(Ut=>new Ie.c(Xn=>({unsubscribe:ee.runOutsideAngular(()=>Ut.onIdTokenChanged(en=>Xn.next(en),en=>Xn.error(en),()=>Xn.complete()))}))));this.authState=Yn.pipe(He(kn),(0,Ae._)(ye.outsideAngular),(0,ne.Q)(ye.insideAngular)),this.user=Yn.pipe(He(jt),(0,Ae._)(ye.outsideAngular),(0,ne.Q)(ye.insideAngular)),this.idToken=this.user.pipe((0,pe.n)(Ut=>Ut?(0,ke.H)(Ut.getIdToken()):(0,Se.of)(null))),this.idTokenResult=this.user.pipe((0,pe.n)(Ut=>Ut?(0,ke.H)(Ut.getIdTokenResult()):(0,Se.of)(null))),this.credential=(0,W.h)(Yn,Nn,this.authState.pipe((0,rt.p)(Ut=>!Ut))).pipe((0,we.T)(Ut=>Ut?.user?Ut:null),(0,Ae._)(ye.outsideAngular),(0,ne.Q)(ye.insideAngular))}return(0,ae.Gt)(this,sn,ee,{spy:{apply:(Yn,kn,jt)=>{(Yn.startsWith("signIn")||Yn.startsWith("createUser"))&&jt.then(Ut=>Nn.next(Ut))}}})}static \u0275fac=function(ut){return new(ut||yt)(r.KVO(ae.rx),r.KVO(ae.uP,8),r.KVO(r.Agw),r.KVO(r.SKi),r.KVO(be.u0),r.KVO(Nt,8),r.KVO(pt,8),r.KVO(Te,8),r.KVO(Ze,8),r.KVO(Jt,8),r.KVO(Rn,8),r.KVO(be.Jv,8))};static \u0275prov=r.jDH({token:yt,factory:yt.\u0275fac,providedIn:"any"})}return yt})(),Qt=(()=>{class yt{constructor(){tt.A.registerVersion("angularfire",be.xv.full,"auth-compat")}static \u0275fac=function(ut){return new(ut||yt)};static \u0275mod=r.$C({type:yt});static \u0275inj=r.G2t({providers:[qt]})}return yt})()},6340:(on,Xe,k)=>{k.d(Xe,{Qe:()=>bi,cM:()=>ht});var i=k(177),oe=k(7705),r=k(5407),be=k(9253),ae=k(1977),Ee=k(3236),Se=k(1985),Ie=k(8455),ke=k(7673),W=k(9172),ne=k(9974),pe=k(4360);function we(){return(0,ne.N)((vt,le)=>{let xe,Rt=!1;vt.subscribe((0,pe._)(le,Gt=>{const jn=xe;xe=Gt,Rt&&le.next([jn,Gt]),Rt=!0}))})}var Be=k(6354),ve=k(2816),Ye=k(3294),Ce=k(5964),Ht=(k(2438),k(3345)),He=k(9583),Ae=k(1076),rt=k(1362);function Nt(vt,le){if(void 0===le)return{merge:!1};if(void 0!==le.mergeFields&&void 0!==le.merge)throw new He.W6("invalid-argument",`Invalid options passed to function ${vt}(): You cannot specify both "merge" and "mergeFields".`);return le}function pt(){if(typeof Uint8Array>"u")throw new He.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Te(){if(!(0,He.qG)())throw new He.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ze{constructor(le){this._delegate=le}static fromBase64String(le){return Te(),new Ze(He.Ix.fromBase64String(le))}static fromUint8Array(le){return pt(),new Ze(He.Ix.fromUint8Array(le))}toBase64(){return Te(),this._delegate.toBase64()}toUint8Array(){return pt(),this._delegate.toUint8Array()}isEqual(le){return this._delegate.isEqual(le._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Jt(vt){return function Rn(vt,le){if("object"!=typeof vt||null===vt)return!1;const xe=vt;for(const Rt of le)if(Rt in xe&&"function"==typeof xe[Rt])return!0;return!1}(vt,["next","error","complete"])}class Ft{enableIndexedDbPersistence(le,xe){return(0,He.ol)(le._delegate,{forceOwnership:xe})}enableMultiTabIndexedDbPersistence(le){return(0,He.Q5)(le._delegate)}clearIndexedDbPersistence(le){return(0,He.me)(le._delegate)}}class qt{constructor(le,xe,Rt){this._delegate=xe,this._persistenceProvider=Rt,this.INTERNAL={delete:()=>this.terminate()},le instanceof He.cm||(this._appCompat=le)}get _databaseId(){return this._delegate._databaseId}settings(le){const xe=this._delegate._getSettings();!le.merge&&xe.host!==le.host&&(0,He.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),le.merge&&delete(le=Object.assign(Object.assign({},xe),le)).merge,this._delegate._setSettings(le)}useEmulator(le,xe,Rt={}){(0,He.vN)(this._delegate,le,xe,Rt)}enableNetwork(){return(0,He.Os)(this._delegate)}disableNetwork(){return(0,He.LA)(this._delegate)}enablePersistence(le){let xe=!1,Rt=!1;return le&&(xe=!!le.synchronizeTabs,Rt=!!le.experimentalForceOwningTab,(0,He.c8)("synchronizeTabs",xe,"experimentalForceOwningTab",Rt)),xe?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Rt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,He.iB)(this._delegate)}onSnapshotsInSync(le){return(0,He.FC)(this._delegate,le)}get app(){if(!this._appCompat)throw new He.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(le){try{return new un(this,(0,He.rJ)(this._delegate,le))}catch(xe){throw ee(xe,"collection()","Firestore.collection()")}}doc(le){try{return new Oe(this,(0,He.H9)(this._delegate,le))}catch(xe){throw ee(xe,"doc()","Firestore.doc()")}}collectionGroup(le){try{return new $t(this,(0,He.Cs)(this._delegate,le))}catch(xe){throw ee(xe,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(le){return(0,He.c4)(this._delegate,xe=>le(new $e(this,xe)))}batch(){return(0,He.Ws)(this._delegate),new ct(new He.GA(this._delegate,le=>(0,He.z6)(this._delegate,le)))}loadBundle(le){return(0,He.po)(this._delegate,le)}namedQuery(le){return(0,He.St)(this._delegate,le).then(xe=>xe?new $t(this,xe):null)}}class Qt extends He.fS{constructor(le){super(),this.firestore=le}convertBytes(le){return new Ze(new He.Ix(le))}convertReference(le){const xe=this.convertDocumentKey(le,this.firestore._databaseId);return Oe.forKey(xe,this.firestore,null)}}class $e{constructor(le,xe){this._firestore=le,this._delegate=xe,this._userDataWriter=new Qt(le)}get(le){const xe=Nn(le);return this._delegate.get(xe).then(Rt=>new dt(this._firestore,new He.Wq(this._firestore._delegate,this._userDataWriter,Rt._key,Rt._document,Rt.metadata,xe.converter)))}set(le,xe,Rt){const Gt=Nn(le);return Rt?(Nt("Transaction.set",Rt),this._delegate.set(Gt,xe,Rt)):this._delegate.set(Gt,xe),this}update(le,xe,Rt,...Gt){const jn=Nn(le);return 2===arguments.length?this._delegate.update(jn,xe):this._delegate.update(jn,xe,Rt,...Gt),this}delete(le){const xe=Nn(le);return this._delegate.delete(xe),this}}class ct{constructor(le){this._delegate=le}set(le,xe,Rt){const Gt=Nn(le);return Rt?(Nt("WriteBatch.set",Rt),this._delegate.set(Gt,xe,Rt)):this._delegate.set(Gt,xe),this}update(le,xe,Rt,...Gt){const jn=Nn(le);return 2===arguments.length?this._delegate.update(jn,xe):this._delegate.update(jn,xe,Rt,...Gt),this}delete(le){const xe=Nn(le);return this._delegate.delete(xe),this}commit(){return this._delegate.commit()}}class ut{constructor(le,xe,Rt){this._firestore=le,this._userDataWriter=xe,this._delegate=Rt}fromFirestore(le,xe){const Rt=new He.YQ(this._firestore._delegate,this._userDataWriter,le._key,le._document,le.metadata,null);return this._delegate.fromFirestore(new st(this._firestore,Rt),xe??{})}toFirestore(le,xe){return xe?this._delegate.toFirestore(le,xe):this._delegate.toFirestore(le)}static getInstance(le,xe){const Rt=ut.INSTANCES;let Gt=Rt.get(le);Gt||(Gt=new WeakMap,Rt.set(le,Gt));let jn=Gt.get(xe);return jn||(jn=new ut(le,new Qt(le),xe),Gt.set(xe,jn)),jn}}ut.INSTANCES=new WeakMap;class Oe{constructor(le,xe){this.firestore=le,this._delegate=xe,this._userDataWriter=new Qt(le)}static forPath(le,xe,Rt){if(le.length%2!=0)throw new He.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${le.canonicalString()} has ${le.length}`);return new Oe(xe,new He.T1(xe._delegate,Rt,new He.K$(le)))}static forKey(le,xe,Rt){return new Oe(xe,new He.T1(xe._delegate,Rt,le))}get id(){return this._delegate.id}get parent(){return new un(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(le){try{return new un(this.firestore,(0,He.rJ)(this._delegate,le))}catch(xe){throw ee(xe,"collection()","DocumentReference.collection()")}}isEqual(le){return(le=(0,Ae.Ku)(le))instanceof He.T1&&(0,He.yx)(this._delegate,le)}set(le,xe){xe=Nt("DocumentReference.set",xe);try{return xe?(0,He.BN)(this._delegate,le,xe):(0,He.BN)(this._delegate,le)}catch(Rt){throw ee(Rt,"setDoc()","DocumentReference.set()")}}update(le,xe,...Rt){try{return 1===arguments.length?(0,He.mZ)(this._delegate,le):(0,He.mZ)(this._delegate,le,xe,...Rt)}catch(Gt){throw ee(Gt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,He.kd)(this._delegate)}onSnapshot(...le){const xe=ye(le),Rt=Fe(le,Gt=>new dt(this.firestore,new He.Wq(this.firestore._delegate,this._userDataWriter,Gt._key,Gt._document,Gt.metadata,this._delegate.converter)));return(0,He.aQ)(this._delegate,xe,Rt)}get(le){let xe;return xe="cache"===le?.source?(0,He.nY)(this._delegate):"server"===le?.source?(0,He._e)(this._delegate):(0,He.x7)(this._delegate),xe.then(Rt=>new dt(this.firestore,new He.Wq(this.firestore._delegate,this._userDataWriter,Rt._key,Rt._document,Rt.metadata,this._delegate.converter)))}withConverter(le){return new Oe(this.firestore,this._delegate.withConverter(le?ut.getInstance(this.firestore,le):null))}}function ee(vt,le,xe){return vt.message=vt.message.replace(le,xe),vt}function ye(vt){for(const le of vt)if("object"==typeof le&&!Jt(le))return le;return{}}function Fe(vt,le){var xe,Rt;let Gt;return Gt=Jt(vt[0])?vt[0]:Jt(vt[1])?vt[1]:"function"==typeof vt[0]?{next:vt[0],error:vt[1],complete:vt[2]}:{next:vt[1],error:vt[2],complete:vt[3]},{next:jn=>{Gt.next&&Gt.next(le(jn))},error:null===(xe=Gt.error)||void 0===xe?void 0:xe.bind(Gt),complete:null===(Rt=Gt.complete)||void 0===Rt?void 0:Rt.bind(Gt)}}class dt{constructor(le,xe){this._firestore=le,this._delegate=xe}get ref(){return new Oe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(le){return this._delegate.data(le)}get(le,xe){return this._delegate.get(le,xe)}isEqual(le){return(0,He.lN)(this._delegate,le._delegate)}}class st extends dt{data(le){const xe=this._delegate.data(le);return this._delegate._converter||(0,He.bI)(void 0!==xe,"Document in a QueryDocumentSnapshot should exist"),xe}}class $t{constructor(le,xe){this.firestore=le,this._delegate=xe,this._userDataWriter=new Qt(le)}where(le,xe,Rt){try{return new $t(this.firestore,(0,He.P)(this._delegate,(0,He._M)(le,xe,Rt)))}catch(Gt){throw ee(Gt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(le,xe){try{return new $t(this.firestore,(0,He.P)(this._delegate,(0,He.My)(le,xe)))}catch(Rt){throw ee(Rt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(le){try{return new $t(this.firestore,(0,He.P)(this._delegate,(0,He.AB)(le)))}catch(xe){throw ee(xe,"limit()","Query.limit()")}}limitToLast(le){try{return new $t(this.firestore,(0,He.P)(this._delegate,(0,He.$1)(le)))}catch(xe){throw ee(xe,"limitToLast()","Query.limitToLast()")}}startAt(...le){try{return new $t(this.firestore,(0,He.P)(this._delegate,(0,He.EO)(...le)))}catch(xe){throw ee(xe,"startAt()","Query.startAt()")}}startAfter(...le){try{return new $t(this.firestore,(0,He.P)(this._delegate,(0,He.HM)(...le)))}catch(xe){throw ee(xe,"startAfter()","Query.startAfter()")}}endBefore(...le){try{return new $t(this.firestore,(0,He.P)(this._delegate,(0,He.rf)(...le)))}catch(xe){throw ee(xe,"endBefore()","Query.endBefore()")}}endAt(...le){try{return new $t(this.firestore,(0,He.P)(this._delegate,(0,He.FD)(...le)))}catch(xe){throw ee(xe,"endAt()","Query.endAt()")}}isEqual(le){return(0,He.B)(this._delegate,le._delegate)}get(le){let xe;return xe="cache"===le?.source?(0,He.kU)(this._delegate):"server"===le?.source?(0,He.Rr)(this._delegate):(0,He.GG)(this._delegate),xe.then(Rt=>new or(this.firestore,new He.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Rt._snapshot)))}onSnapshot(...le){const xe=ye(le),Rt=Fe(le,Gt=>new or(this.firestore,new He.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Gt._snapshot)));return(0,He.aQ)(this._delegate,xe,Rt)}withConverter(le){return new $t(this.firestore,this._delegate.withConverter(le?ut.getInstance(this.firestore,le):null))}}class wn{constructor(le,xe){this._firestore=le,this._delegate=xe}get type(){return this._delegate.type}get doc(){return new st(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class or{constructor(le,xe){this._firestore=le,this._delegate=xe}get query(){return new $t(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(le=>new st(this._firestore,le))}docChanges(le){return this._delegate.docChanges(le).map(xe=>new wn(this._firestore,xe))}forEach(le,xe){this._delegate.forEach(Rt=>{le.call(xe,new st(this._firestore,Rt))})}isEqual(le){return(0,He.lN)(this._delegate,le._delegate)}}class un extends $t{constructor(le,xe){super(le,xe),this.firestore=le,this._delegate=xe}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const le=this._delegate.parent;return le?new Oe(this.firestore,le):null}doc(le){try{return new Oe(this.firestore,void 0===le?(0,He.H9)(this._delegate):(0,He.H9)(this._delegate,le))}catch(xe){throw ee(xe,"doc()","CollectionReference.doc()")}}add(le){return(0,He.gS)(this._delegate,le).then(xe=>new Oe(this.firestore,xe))}isEqual(le){return(0,He.yx)(this._delegate,le._delegate)}withConverter(le){return new un(this.firestore,this._delegate.withConverter(le?ut.getInstance(this.firestore,le):null))}}function Nn(vt){return(0,He.lo)(vt,He.T1)}class sn{constructor(...le){this._delegate=new He.uY(...le)}static documentId(){return new sn(He.FA.keyField().canonicalString())}isEqual(le){return(le=(0,Ae.Ku)(le))instanceof He.uY&&this._delegate._internalPath.isEqual(le._internalPath)}}class Yn{constructor(le){this._delegate=le}static serverTimestamp(){const le=(0,He.O5)();return le._methodName="FieldValue.serverTimestamp",new Yn(le)}static delete(){const le=(0,He.CL)();return le._methodName="FieldValue.delete",new Yn(le)}static arrayUnion(...le){const xe=(0,He.hq)(...le);return xe._methodName="FieldValue.arrayUnion",new Yn(xe)}static arrayRemove(...le){const xe=(0,He.C3)(...le);return xe._methodName="FieldValue.arrayRemove",new Yn(xe)}static increment(le){const xe=(0,He.GV)(le);return xe._methodName="FieldValue.increment",new Yn(xe)}isEqual(le){return this._delegate.isEqual(le._delegate)}}const kn={Firestore:qt,GeoPoint:He.Ci,Timestamp:He.Dc,Blob:Ze,Transaction:$e,WriteBatch:ct,DocumentReference:Oe,DocumentSnapshot:dt,Query:$t,QueryDocumentSnapshot:st,QuerySnapshot:or,CollectionReference:un,FieldPath:sn,FieldValue:Yn,setLogLevel:function yt(vt){(0,He.He)(vt)},CACHE_SIZE_UNLIMITED:He.H6};!function Ut(vt){(function jt(vt,le){vt.INTERNAL.registerComponent(new rt.uA("firestore-compat",xe=>{const Rt=xe.getProvider("app-compat").getImmediate(),Gt=xe.getProvider("firestore").getImmediate();return le(Rt,Gt)},"PUBLIC").setServiceProps(Object.assign({},kn)))})(vt,(le,xe)=>new qt(le,xe,new Ft)),vt.registerVersion("@firebase/firestore-compat","0.3.38")}(Ht.A);var Xn=k(7935);function Ar(vt,le){return function en(vt,le=Ee.E){return new Se.c(xe=>{let Rt;return null!=le?le.schedule(()=>{Rt=vt.onSnapshot({includeMetadataChanges:!0},xe)}):Rt=vt.onSnapshot({includeMetadataChanges:!0},xe),()=>{Rt?.()}})}(vt,le)}function Bt(vt,le){return Ar(vt,le).pipe((0,Be.T)(xe=>({payload:xe,type:"query"})))}class vn{ref;afs;constructor(le,xe){this.ref=le,this.afs=xe}set(le,xe){return this.ref.set(le,xe)}update(le){return this.ref.update(le)}delete(){return this.ref.delete()}collection(le,xe){const Rt=this.ref.collection(le),{ref:Gt,query:jn}=Wn(Rt,xe);return new zr(Gt,jn,this.afs)}snapshotChanges(){return function qn(vt,le){return Ar(vt,le).pipe((0,W.Z)(void 0),we(),(0,Be.T)(xe=>{const[Rt,Gt]=xe;return Gt.exists?Rt?.exists?{payload:Gt,type:"modified"}:{payload:Gt,type:"added"}:{payload:Gt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(le={}){return this.snapshotChanges().pipe((0,Be.T)(({payload:xe})=>le.idField?{...xe.data(),[le.idField]:xe.id}:xe.data()))}get(le){return(0,Ie.H)(this.ref.get(le)).pipe(r.U0)}}function zn(vt,le){return Bt(vt,le).pipe((0,W.Z)(void 0),we(),(0,Be.T)(xe=>{const[Rt,Gt]=xe,jn=Gt.payload.docChanges(),Gr=jn.map(Cr=>({type:Cr.type,payload:Cr}));return Rt&&JSON.stringify(Rt.payload.metadata)!==JSON.stringify(Gt.payload.metadata)&&Gt.payload.docs.forEach((Cr,ii)=>{const It=jn.find(x=>x.doc.ref.isEqual(Cr.ref)),G=Rt?.payload.docs.find(x=>x.ref.isEqual(Cr.ref));It&&JSON.stringify(It.doc.metadata)===JSON.stringify(Cr.metadata)||!It&&G&&JSON.stringify(G.metadata)===JSON.stringify(Cr.metadata)||Gr.push({type:"modified",payload:{oldIndex:ii,newIndex:ii,type:"modified",doc:Cr}})}),Gr}))}function In(vt,le,xe){return zn(vt,xe).pipe((0,ve.S)((Rt,Gt)=>function Rr(vt,le,xe){return le.forEach(Rt=>{xe.indexOf(Rt.type)>-1&&(vt=function Ur(vt,le){switch(le.type){case"added":if(!vt[le.newIndex]||!vt[le.newIndex].doc.ref.isEqual(le.doc.ref))return Dr(vt,le.newIndex,0,le);break;case"modified":if(null==vt[le.oldIndex]||vt[le.oldIndex].doc.ref.isEqual(le.doc.ref)){if(le.oldIndex!==le.newIndex){const xe=vt.slice();return xe.splice(le.oldIndex,1),xe.splice(le.newIndex,0,le),xe}return Dr(vt,le.newIndex,1,le)}break;case"removed":if(vt[le.oldIndex]&&vt[le.oldIndex].doc.ref.isEqual(le.doc.ref))return Dr(vt,le.oldIndex,1)}return vt}(vt,Rt))}),vt}(Rt,Gt.map(jn=>jn.payload),le),[]),(0,Ye.F)(),(0,Be.T)(Rt=>Rt.map(Gt=>({type:Gt.type,payload:Gt}))))}function Dr(vt,le,xe,...Rt){const Gt=vt.slice();return Gt.splice(le,xe,...Rt),Gt}function Kn(vt){return(!vt||0===vt.length)&&(vt=["added","removed","modified"]),vt}class zr{ref;query;afs;constructor(le,xe,Rt){this.ref=le,this.query=xe,this.afs=Rt}stateChanges(le){let xe=zn(this.query,this.afs.schedulers.outsideAngular);return le&&le.length>0&&(xe=xe.pipe((0,Be.T)(Rt=>Rt.filter(Gt=>le.indexOf(Gt.type)>-1)))),xe.pipe((0,W.Z)(void 0),we(),(0,Ce.p)(([Rt,Gt])=>Gt.length>0||!Rt),(0,Be.T)(([,Rt])=>Rt),r.U0)}auditTrail(le){return this.stateChanges(le).pipe((0,ve.S)((xe,Rt)=>[...xe,...Rt],[]))}snapshotChanges(le){const xe=Kn(le);return In(this.query,xe,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(le={}){return Bt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(xe=>xe.payload.docs.map(Rt=>le.idField?{...Rt.data(),[le.idField]:Rt.id}:Rt.data())),r.U0)}get(le){return(0,Ie.H)(this.query.get(le)).pipe(r.U0)}add(le){return this.ref.add(le)}doc(le){return new vn(this.ref.doc(le),this.afs)}}class Zi{query;afs;constructor(le,xe){this.query=le,this.afs=xe}stateChanges(le){return le&&0!==le.length?zn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(xe=>xe.filter(Rt=>le.indexOf(Rt.type)>-1)),(0,Ce.p)(xe=>xe.length>0),r.U0):zn(this.query,this.afs.schedulers.outsideAngular).pipe(r.U0)}auditTrail(le){return this.stateChanges(le).pipe((0,ve.S)((xe,Rt)=>[...xe,...Rt],[]))}snapshotChanges(le){const xe=Kn(le);return In(this.query,xe,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(le={}){return Bt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(Rt=>Rt.payload.docs.map(Gt=>le.idField?{[le.idField]:Gt.id,...Gt.data()}:Gt.data())),r.U0)}get(le){return(0,Ie.H)(this.query.get(le)).pipe(r.U0)}}const hn=new oe.nKC("angularfire2.enableFirestorePersistence"),Wr=new oe.nKC("angularfire2.firestore.persistenceSettings"),tr=new oe.nKC("angularfire2.firestore.settings"),mr=new oe.nKC("angularfire2.firestore.use-emulator");function Wn(vt,le=(xe=>xe)){return{query:le(vt),ref:vt}}let bi=(()=>{class vt{schedulers;firestore;persistenceEnabled$;constructor(xe,Rt,Gt,jn,Gr,Cr,ii,It,G,x,A,J,$,ge,We,Wt,Yt){this.schedulers=ii;const Sn=(0,be.iB)(xe,Cr,Rt),ar=G;x&&(0,ae.gF)(Sn,Cr,A,$,ge,We,J,Wt),[this.firestore,this.persistenceEnabled$]=(0,be.BM)(`${Sn.name}.firestore`,"AngularFirestore",Sn.name,()=>{const Ve=Cr.runOutsideAngular(()=>Sn.firestore());if(jn&&Ve.settings(jn),ar&&Ve.useEmulator(...ar),Gt&&!(0,i.Vy)(Gr)){const Ue=()=>{try{return(0,Ie.H)(Ve.enablePersistence(It||void 0).then(()=>!0,()=>!1))}catch(qe){return typeof console<"u"&&console.warn(qe),(0,ke.of)(!1)}};return[Ve,Cr.runOutsideAngular(Ue)]}return[Ve,(0,ke.of)(!1)]},[jn,ar,Gt])}collection(xe,Rt){let Gt;Gt="string"==typeof xe?this.firestore.collection(xe):xe;const{ref:jn,query:Gr}=Wn(Gt,Rt),Cr=this.schedulers.ngZone.run(()=>jn);return new zr(Cr,Gr,this)}collectionGroup(xe,Rt){const Gt=Rt||(Gr=>Gr),jn=this.firestore.collectionGroup(xe);return new Zi(Gt(jn),this)}doc(xe){let Rt;Rt="string"==typeof xe?this.firestore.doc(xe):xe;const Gt=this.schedulers.ngZone.run(()=>Rt);return new vn(Gt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(Rt){return new(Rt||vt)(oe.KVO(be.rx),oe.KVO(be.uP,8),oe.KVO(hn,8),oe.KVO(tr,8),oe.KVO(oe.Agw),oe.KVO(oe.SKi),oe.KVO(r.u0),oe.KVO(Wr,8),oe.KVO(mr,8),oe.KVO(ae.DS,8),oe.KVO(ae.CP,8),oe.KVO(ae.yy,8),oe.KVO(ae.ZP,8),oe.KVO(ae.$z,8),oe.KVO(ae.AU,8),oe.KVO(ae.UB,8),oe.KVO(r.Jv,8))};static \u0275prov=oe.jDH({token:vt,factory:vt.\u0275fac,providedIn:"any"})}return vt})(),ht=(()=>{class vt{constructor(){Xn.A.registerVersion("angularfire",r.xv.full,"fst-compat")}static enablePersistence(xe){return{ngModule:vt,providers:[{provide:hn,useValue:!0},{provide:Wr,useValue:xe}]}}static \u0275fac=function(Rt){return new(Rt||vt)};static \u0275mod=oe.$C({type:vt});static \u0275inj=oe.G2t({providers:[bi]})}return vt})()},8721:(on,Xe,k)=>{k.d(Xe,{ap:()=>$e,y5:()=>Oe});var i=k(5407),oe=k(1985),r=k(7673),be=k(8455),ae=k(3236),Ee=k(9974),Se=k(4360),ke=k(6354),W=k(5558),ne=k(7705),pe=k(9253),we=k(3345),Be=k(4535),ve=k(1362);class Ye{constructor(ye,Fe,dt){this._delegate=ye,this.task=Fe,this.ref=dt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ce{constructor(ye,Fe){this._delegate=ye,this._ref=Fe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ye(this._delegate.snapshot,this,this._ref)}then(ye,Fe){return this._delegate.then(dt=>{if(ye)return ye(new Ye(dt,this,this._ref))},Fe)}on(ye,Fe,dt,st){let $t;return Fe&&($t="function"==typeof Fe?wn=>Fe(new Ye(wn,this,this._ref)):{next:Fe.next?wn=>Fe.next(new Ye(wn,this,this._ref)):void 0,complete:Fe.complete||void 0,error:Fe.error||void 0}),this._delegate.on(ye,$t,dt||void 0,st||void 0)}}class it{constructor(ye,Fe){this._delegate=ye,this._service=Fe}get prefixes(){return this._delegate.prefixes.map(ye=>new Ht(ye,this._service))}get items(){return this._delegate.items.map(ye=>new Ht(ye,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ht{constructor(ye,Fe){this._delegate=ye,this.storage=Fe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(ye){const Fe=(0,Be.Mp)(this._delegate,ye);return new Ht(Fe,this.storage)}get root(){return new Ht(this._delegate.root,this.storage)}get parent(){const ye=this._delegate.parent;return null==ye?null:new Ht(ye,this.storage)}put(ye,Fe){return this._throwIfRoot("put"),new Ce((0,Be.bp)(this._delegate,ye,Fe),this)}putString(ye,Fe=Be.nw.RAW,dt){this._throwIfRoot("putString");const st=(0,Be.ZH)(Fe,ye),$t=Object.assign({},dt);return null==$t.contentType&&null!=st.contentType&&($t.contentType=st.contentType),new Ce(new Be.UC(this._delegate,new Be.Mx(st.data,!0),$t),this)}listAll(){return(0,Be._w)(this._delegate).then(ye=>new it(ye,this.storage))}list(ye){return(0,Be.p_)(this._delegate,ye||void 0).then(Fe=>new it(Fe,this.storage))}getMetadata(){return(0,Be.yb)(this._delegate)}updateMetadata(ye){return(0,Be.D5)(this._delegate,ye)}getDownloadURL(){return(0,Be.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Be.XR)(this._delegate)}_throwIfRoot(ye){if(""===this._delegate._location.path)throw(0,Be.UY)(ye)}}class He{constructor(ye,Fe){this.app=ye,this._delegate=Fe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(ye){if(Ae(ye))throw(0,Be.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new Ht((0,Be.KR)(this._delegate,ye),this)}refFromURL(ye){if(!Ae(ye))throw(0,Be.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Be.TZ.makeFromUrl(ye,this._delegate.host)}catch{throw(0,Be.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ht((0,Be.KR)(this._delegate,ye),this)}setMaxUploadRetryTime(ye){this._delegate.maxUploadRetryTime=ye}setMaxOperationRetryTime(ye){this._delegate.maxOperationRetryTime=ye}useEmulator(ye,Fe,dt={}){(0,Be.nb)(this._delegate,ye,Fe,dt)}}function Ae(ee){return/^[A-Za-z]+:\/\//.test(ee)}function Nt(ee,{instanceIdentifier:ye}){const Fe=ee.getProvider("app-compat").getImmediate(),dt=ee.getProvider("storage").getImmediate({identifier:ye});return new He(Fe,dt)}!function pt(ee){const ye={TaskState:Be.Ad,TaskEvent:Be.xc,StringFormat:Be.nw,Storage:He,Reference:Ht};ee.INTERNAL.registerComponent(new ve.uA("storage-compat",Nt,"PUBLIC").setServiceProps(ye).setMultipleInstances(!0)),ee.registerVersion("@firebase/storage-compat","0.3.12")}(we.A);var Te=k(7935);function Jt(ee){const ye=function Ze(ee){return new oe.c(ye=>{const Fe=wn=>ye.next(wn);Fe(ee.snapshot);const $t=ee.on("state_changed",Fe);return ee.then(wn=>{Fe(wn),ye.complete()},wn=>{Fe(ee.snapshot),(wn=>{ye.error(wn)})(wn)}),function(){$t()}}).pipe(function Ie(ee,ye=ae.E){return(0,Ee.N)((Fe,dt)=>{let st=null,$t=null,wn=null;const or=()=>{if(st){st.unsubscribe(),st=null;const Nn=$t;$t=null,dt.next(Nn)}};function un(){const Nn=wn+ee,sn=ye.now();if(sn<Nn)return st=this.schedule(void 0,Nn-sn),void dt.add(st);or()}Fe.subscribe((0,Se._)(dt,Nn=>{$t=Nn,wn=ye.now(),st||(st=ye.schedule(un,ee),dt.add(st))},()=>{or(),dt.complete()},void 0,()=>{$t=st=null}))})}(0))}(ee);return{task:ee,then:ee.then.bind(ee),catch:ee.catch.bind(ee),pause:ee.pause.bind(ee),cancel:ee.cancel.bind(ee),resume:ee.resume.bind(ee),snapshotChanges:()=>ye,percentageChanges:()=>ye.pipe((0,ke.T)(Fe=>Fe.bytesTransferred/Fe.totalBytes*100))}}function Rn(ee){return{getDownloadURL:()=>(0,r.of)(void 0).pipe(i.Oe,(0,W.n)(()=>ee.getDownloadURL()),i.U0),getMetadata:()=>(0,r.of)(void 0).pipe(i.Oe,(0,W.n)(()=>ee.getMetadata()),i.U0),delete:()=>(0,be.H)(ee.delete()),child:ye=>Rn(ee.child(ye)),updateMetadata:ye=>(0,be.H)(ee.updateMetadata(ye)),put:(ye,Fe)=>Jt(ee.put(ye,Fe)),putString:(ye,Fe,dt)=>Jt(ee.putString(ye,Fe,dt)),list:ye=>(0,be.H)(ee.list(ye)),listAll:()=>(0,be.H)(ee.listAll())}}const Ft=new ne.nKC("angularfire2.storageBucket"),qt=new ne.nKC("angularfire2.storage.maxUploadRetryTime"),Qt=new ne.nKC("angularfire2.storage.maxOperationRetryTime"),yt=new ne.nKC("angularfire2.storage.use-emulator");let $e=(()=>{class ee{storage;constructor(Fe,dt,st,$t,wn,or,un,Nn,sn,Yn){const kn=(0,pe.iB)(Fe,wn,dt);this.storage=(0,pe.BM)(`${kn.name}.storage.${st}`,"AngularFireStorage",kn.name,()=>{const jt=wn.runOutsideAngular(()=>kn.storage(st||void 0)),Ut=sn;return Ut&&jt.useEmulator(...Ut),un&&jt.setMaxUploadRetryTime(un),Nn&&jt.setMaxOperationRetryTime(Nn),jt},[un,Nn])}ref(Fe){return Rn(this.storage.ref(Fe))}refFromURL(Fe){return Rn(this.storage.refFromURL(Fe))}upload(Fe,dt,st){return Rn(this.storage.ref(Fe)).put(dt,st)}static \u0275fac=function(dt){return new(dt||ee)(ne.KVO(pe.rx),ne.KVO(pe.uP,8),ne.KVO(Ft,8),ne.KVO(ne.Agw),ne.KVO(ne.SKi),ne.KVO(i.u0),ne.KVO(qt,8),ne.KVO(Qt,8),ne.KVO(yt,8),ne.KVO(i.Jv,8))};static \u0275prov=ne.jDH({token:ee,factory:ee.\u0275fac,providedIn:"any"})}return ee})(),ut=(()=>{class ee{static \u0275fac=function(dt){return new(dt||ee)};static \u0275mod=ne.$C({type:ee});static \u0275inj=ne.G2t({})}return ee})(),Oe=(()=>{class ee{constructor(){Te.A.registerVersion("angularfire",i.xv.full,"gcs-compat")}static \u0275fac=function(dt){return new(dt||ee)};static \u0275mod=ne.$C({type:ee});static \u0275inj=ne.G2t({providers:[$e],imports:[ut]})}return ee})()},9253:(on,Xe,k)=>{k.d(Xe,{BM:()=>Be,Gt:()=>ae,bf:()=>we,e7:()=>Ee,iB:()=>W,rx:()=>Ie,uP:()=>ke});var i=k(7705),oe=k(5407),r=k(7935);const be=["ngOnDestroy"],ae=(it,Ht,He,Ae={})=>new Proxy(it,{get:(rt,tt)=>He.runOutsideAngular(()=>{if(it[tt])return Ae?.spy?.get&&Ae.spy.get(tt,it[tt]),it[tt];if(be.indexOf(tt)>-1)return()=>{};const ft=Ht.toPromise().then(Nt=>{const pt=Nt?.[tt];return"function"==typeof pt?pt.bind(Nt):pt?.then?pt.then(Te=>He.run(()=>Te)):He.run(()=>pt)});return new Proxy(()=>{},{get:(Nt,pt)=>ft[pt],apply:(Nt,pt,Te)=>ft.then(Ze=>{const Jt=Ze?.(...Te);return Ae?.spy?.apply&&Ae.spy.apply(tt,Te,Jt),Jt})})})}),Ee=(it,Ht)=>{Ht.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Ae=>{Object.defineProperty(it.prototype,Ae,Object.getOwnPropertyDescriptor(He.prototype||He,Ae))})})};class Se{constructor(Ht){return Ht}}const Ie=new i.nKC("angularfire2.app.options"),ke=new i.nKC("angularfire2.app.name");function W(it,Ht,He){const rt="object"==typeof He&&He||{};rt.name=rt.name||"string"==typeof He&&He||"[DEFAULT]";const ft=r.A.apps.filter(Nt=>Nt&&Nt.name===rt.name)[0]||Ht.runOutsideAngular(()=>r.A.initializeApp(it,rt));try{if(JSON.stringify(it)!==JSON.stringify(ft.options)){const Nt=!!module.hot;ne("error",`${ft.name} Firebase App already initialized with different options${Nt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Se(ft)}const ne=(it,...Ht)=>{(0,i.naY)()&&typeof console<"u"&&console[it](...Ht)},pe={provide:Se,useFactory:W,deps:[Ie,i.SKi,[new i.Xx1,ke]]};let we=(()=>{class it{static initializeApp(He,Ae){return{ngModule:it,providers:[{provide:Ie,useValue:He},{provide:ke,useValue:Ae}]}}constructor(He){r.A.registerVersion("angularfire",oe.xv.full,"core"),r.A.registerVersion("angularfire",oe.xv.full,"app-compat"),r.A.registerVersion("angular",i.xvI.full,He.toString())}static \u0275fac=function(Ae){return new(Ae||it)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:it});static \u0275inj=i.G2t({providers:[pe]})}return it})();function Be(it,Ht,He,Ae,rt){const[,tt,ft]=globalThis.\u0275AngularfireInstanceCache.find(Nt=>Nt[0]===it)||[];if(tt)return function ve(it,Ht){try{return it.toString()===Ht.toString()}catch{return it===Ht}}(rt,ft)||(Ce("error",`${Ht} was already initialized on the ${He} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:rt,was:ft})),tt;{const Nt=Ae();return globalThis.\u0275AngularfireInstanceCache.push([it,Nt,rt]),Nt}}const Ye=typeof module<"u"&&!!module.hot,Ce=(it,...Ht)=>{(0,i.naY)()&&typeof console<"u"&&console[it](...Ht)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(on,Xe,k)=>{k.d(Xe,{xv:()=>Be,U0:()=>Jt,Oe:()=>Te,u0:()=>tt,Jv:()=>it,CA:()=>Ce,lR:()=>Ye,S3:()=>qt});var i=k(7705),oe=k(2214),r=k(6780),ae=k(9687);const Se=new class Ee extends ae.q{}(class be extends r.R{constructor(yt,$e){super(yt,$e),this.scheduler=yt,this.work=$e}schedule(yt,$e=0){return $e>0?super.schedule(yt,$e):(this.delay=$e,this.state=yt,this.scheduler.flush(this),this)}execute(yt,$e){return $e>0||this.closed?super.execute(yt,$e):this._execute(yt,$e)}requestAsyncId(yt,$e,ct=0){return null!=ct&&ct>0||null==ct&&this.delay>0?super.requestAsyncId(yt,$e,ct):(yt.flush(this),0)}});var ke=k(3236),W=k(1985),ne=k(8141),pe=k(941),we=k(6745);const Be=new i.RxE("ANGULARFIRE2_VERSION");function Ye(Qt,yt,$e){if(yt){if(1===yt.length)return yt[0];const Oe=yt.filter(ee=>ee.app===$e);if(1===Oe.length)return Oe[0]}return $e.container.getProvider(Qt).getImmediate({optional:!0})}const Ce=(Qt,yt)=>{const $e=yt?[yt]:(0,oe.Dk)(),ct=[];return $e.forEach(ut=>{ut.container.getProvider(Qt).instances.forEach(ee=>{ct.includes(ee)||ct.push(ee)})}),ct};class it{constructor(){return Ce(Ht)}}const Ht="app-check";function He(){}class Ae{zone;delegate;constructor(yt,$e=Se){this.zone=yt,this.delegate=$e}now(){return this.delegate.now()}schedule(yt,$e,ct){const ut=this.zone;return this.delegate.schedule(function(ee){ut.runGuarded(()=>{yt.apply(this,[ee])})},$e,ct)}}class rt{zone;task=null;constructor(yt){this.zone=yt}call(yt,$e){const ct=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He)),$e.pipe((0,ne.M)({next:ct,complete:ct,error:ct})).subscribe(yt).add(ct)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let tt=(()=>{class Qt{ngZone;outsideAngular;insideAngular;constructor($e){this.ngZone=$e,this.outsideAngular=$e.runOutsideAngular(()=>new Ae(Zone.current)),this.insideAngular=$e.run(()=>new Ae(Zone.current,ke.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ct){return new(ct||Qt)(i.KVO(i.SKi))};static \u0275prov=i.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})();function ft(){const Qt=globalThis.\u0275AngularFireScheduler;if(!Qt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Qt}function pt(Qt){return ft().ngZone.run(()=>Qt())}function Te(Qt){return Qt.pipe((0,pe.Q)(ft().outsideAngular))}function Jt(Qt){return function Rn(Qt){return function($e){return($e=$e.lift(new rt(Qt.ngZone))).pipe((0,we._)(Qt.outsideAngular),(0,pe.Q)(Qt.insideAngular))}}(ft())(Qt)}const Ft=(Qt,yt)=>function(){const ct=arguments;return yt&&setTimeout(()=>{"scheduled"===yt.state&&yt.invoke()},10),pt(()=>Qt.apply(void 0,ct))},qt=(Qt,yt)=>function(){let $e;const ct=arguments;for(let Oe=0;Oe<arguments.length;Oe++)"function"==typeof ct[Oe]&&(yt&&($e||=pt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He))),ct[Oe]=Ft(ct[Oe],$e));const ut=function Nt(Qt){return ft().ngZone.runOutsideAngular(()=>Qt())}(()=>Qt.apply(this,ct));if(!yt){if(ut instanceof W.c){const Oe=ft();return ut.pipe((0,we._)(Oe.outsideAngular),(0,pe.Q)(Oe.insideAngular))}return pt(()=>ut)}return ut instanceof W.c?ut.pipe(Jt):ut instanceof Promise?pt(()=>new Promise((Oe,ee)=>ut.then(ye=>pt(()=>Oe(ye)),ye=>pt(()=>ee(ye))))):"function"==typeof ut&&$e?function(){return setTimeout(()=>{$e&&"scheduled"===$e.state&&$e.invoke()},10),ut.apply(this,arguments)}:pt(()=>ut)}},4341:(on,Xe,k)=>{k.d(Xe,{Zm:()=>Ce,me:()=>Ae,Yp:()=>Qo,v8:()=>us,ok:()=>So,MJ:()=>Bi,JD:()=>ti,gE:()=>We,j4:()=>En,$R:()=>gr,YN:()=>ca,BC:()=>zn,cb:()=>In,cV:()=>Ki,vS:()=>Vs,xH:()=>Is,Q0:()=>Ss,Fm:()=>ui,X1:()=>Ro,YS:()=>kr,wz:()=>vs,k0:()=>Te,qT:()=>bs,y7:()=>St});var i=k(7705),oe=k(177),r=k(8455),be=k(1985),ae=k(3073),Ee=k(8750),Se=k(3794),Ie=k(4360),ke=k(6450),W=k(8496),pe=k(6354);let we=(()=>{class K{constructor(V,fe){this._renderer=V,this._elementRef=fe,this.onChange=ze=>{},this.onTouched=()=>{}}setProperty(V,fe){this._renderer.setProperty(this._elementRef.nativeElement,V,fe)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}static{this.\u0275fac=function(fe){return new(fe||K)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:K})}}return K})(),Be=(()=>{class K extends we{static{this.\u0275fac=function(){let V;return function(ze){return(V||(V=i.xGo(K)))(ze||K)}}()}static{this.\u0275dir=i.FsC({type:K,features:[i.Vt3]})}}return K})();const ve=new i.nKC("NgValueAccessor"),Ye={provide:ve,useExisting:(0,i.Rfq)(()=>Ce),multi:!0};let Ce=(()=>{class K extends Be{writeValue(V){this.setProperty("checked",V)}static{this.\u0275fac=function(){let V;return function(ze){return(V||(V=i.xGo(K)))(ze||K)}}()}static{this.\u0275dir=i.FsC({type:K,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(fe,ze){1&fe&&i.bIt("change",function(cr){return ze.onChange(cr.target.checked)})("blur",function(){return ze.onTouched()})},features:[i.Jv_([Ye]),i.Vt3]})}}return K})();const it={provide:ve,useExisting:(0,i.Rfq)(()=>Ae),multi:!0},He=new i.nKC("CompositionEventMode");let Ae=(()=>{class K extends we{constructor(V,fe,ze){super(V,fe),this._compositionMode=ze,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ht(){const K=(0,oe.QT)()?(0,oe.QT)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}static{this.\u0275fac=function(fe){return new(fe||K)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(He,8))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(fe,ze){1&fe&&i.bIt("input",function(cr){return ze._handleInput(cr.target.value)})("blur",function(){return ze.onTouched()})("compositionstart",function(){return ze._compositionStart()})("compositionend",function(cr){return ze._compositionEnd(cr.target.value)})},features:[i.Jv_([it]),i.Vt3]})}}return K})();function rt(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function tt(K){return null!=K&&"number"==typeof K.length}const ft=new i.nKC("NgValidators"),Nt=new i.nKC("NgAsyncValidators"),pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Te{static min(te){return function Ze(K){return te=>{if(rt(te.value)||rt(K))return null;const V=parseFloat(te.value);return!isNaN(V)&&V<K?{min:{min:K,actual:te.value}}:null}}(te)}static max(te){return function Jt(K){return te=>{if(rt(te.value)||rt(K))return null;const V=parseFloat(te.value);return!isNaN(V)&&V>K?{max:{max:K,actual:te.value}}:null}}(te)}static required(te){return Rn(te)}static requiredTrue(te){return function Ft(K){return!0===K.value?null:{required:!0}}(te)}static email(te){return function qt(K){return rt(K.value)||pt.test(K.value)?null:{email:!0}}(te)}static minLength(te){return function Qt(K){return te=>rt(te.value)||!tt(te.value)?null:te.value.length<K?{minlength:{requiredLength:K,actualLength:te.value.length}}:null}(te)}static maxLength(te){return function yt(K){return te=>tt(te.value)&&te.value.length>K?{maxlength:{requiredLength:K,actualLength:te.value.length}}:null}(te)}static pattern(te){return function $e(K){if(!K)return ct;let te,V;return"string"==typeof K?(V="","^"!==K.charAt(0)&&(V+="^"),V+=K,"$"!==K.charAt(K.length-1)&&(V+="$"),te=new RegExp(V)):(V=K.toString(),te=K),fe=>{if(rt(fe.value))return null;const ze=fe.value;return te.test(ze)?null:{pattern:{requiredPattern:V,actualValue:ze}}}}(te)}static nullValidator(te){return null}static compose(te){return st(te)}static composeAsync(te){return wn(te)}}function Rn(K){return rt(K.value)?{required:!0}:null}function ct(K){return null}function ut(K){return null!=K}function Oe(K){return(0,i.jNT)(K)?(0,r.H)(K):K}function ee(K){let te={};return K.forEach(V=>{te=null!=V?{...te,...V}:te}),0===Object.keys(te).length?null:te}function ye(K,te){return te.map(V=>V(K))}function dt(K){return K.map(te=>function Fe(K){return!K.validate}(te)?te:V=>te.validate(V))}function st(K){if(!K)return null;const te=K.filter(ut);return 0==te.length?null:function(V){return ee(ye(V,te))}}function $t(K){return null!=K?st(dt(K)):null}function wn(K){if(!K)return null;const te=K.filter(ut);return 0==te.length?null:function(V){return function ne(...K){const te=(0,Se.ms)(K),{args:V,keys:fe}=(0,ae.D)(K),ze=new be.c(mt=>{const{length:cr}=V;if(!cr)return void mt.complete();const hs=new Array(cr);let xs=cr,ki=cr;for(let Us=0;Us<cr;Us++){let eo=!1;(0,Ee.Tg)(V[Us]).subscribe((0,Ie._)(mt,Ti=>{eo||(eo=!0,ki--),hs[Us]=Ti},()=>xs--,void 0,()=>{(!xs||!eo)&&(ki||mt.next(fe?(0,W.e)(fe,hs):hs),mt.complete())}))}});return te?ze.pipe((0,ke.I)(te)):ze}(ye(V,te).map(Oe)).pipe((0,pe.T)(ee))}}function or(K){return null!=K?wn(dt(K)):null}function un(K,te){return null===K?[te]:Array.isArray(K)?[...K,te]:[K,te]}function Nn(K){return K._rawValidators}function sn(K){return K._rawAsyncValidators}function Yn(K){return K?Array.isArray(K)?K:[K]:[]}function kn(K,te){return Array.isArray(K)?K.includes(te):K===te}function jt(K,te){const V=Yn(te);return Yn(K).forEach(ze=>{kn(V,ze)||V.push(ze)}),V}function Ut(K,te){return Yn(te).filter(V=>!kn(K,V))}class Xn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(te){this._rawValidators=te||[],this._composedValidatorFn=$t(this._rawValidators)}_setAsyncValidators(te){this._rawAsyncValidators=te||[],this._composedAsyncValidatorFn=or(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(te){this._onDestroyCallbacks.push(te)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(te=>te()),this._onDestroyCallbacks=[]}reset(te=void 0){this.control&&this.control.reset(te)}hasError(te,V){return!!this.control&&this.control.hasError(te,V)}getError(te,V){return this.control?this.control.getError(te,V):null}}class en extends Xn{get formDirective(){return null}get path(){return null}}class Ar extends Xn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qn{constructor(te){this._cd=te}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zn=(()=>{class K extends qn{constructor(V){super(V)}static{this.\u0275fac=function(fe){return new(fe||K)(i.rXU(Ar,2))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(fe,ze){2&fe&&i.AVh("ng-untouched",ze.isUntouched)("ng-touched",ze.isTouched)("ng-pristine",ze.isPristine)("ng-dirty",ze.isDirty)("ng-valid",ze.isValid)("ng-invalid",ze.isInvalid)("ng-pending",ze.isPending)},features:[i.Vt3]})}}return K})(),In=(()=>{class K extends qn{constructor(V){super(V)}static{this.\u0275fac=function(fe){return new(fe||K)(i.rXU(en,10))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(fe,ze){2&fe&&i.AVh("ng-untouched",ze.isUntouched)("ng-touched",ze.isTouched)("ng-pristine",ze.isPristine)("ng-dirty",ze.isDirty)("ng-valid",ze.isValid)("ng-invalid",ze.isInvalid)("ng-pending",ze.isPending)("ng-submitted",ze.isSubmitted)},features:[i.Vt3]})}}return K})();const Gt="VALID",jn="INVALID",Gr="PENDING",Cr="DISABLED";function ii(K){return(A(K)?K.validators:K)||null}function G(K,te){return(A(te)?te.asyncValidators:K)||null}function A(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function J(K,te,V){const fe=K.controls;if(!(te?Object.keys(fe):fe).length)throw new i.wOt(1e3,"");if(!fe[V])throw new i.wOt(1001,"")}function $(K,te,V){K._forEachChild((fe,ze)=>{if(void 0===V[ze])throw new i.wOt(1002,"")})}class ge{constructor(te,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(te),this._assignAsyncValidators(V)}get validator(){return this._composedValidatorFn}set validator(te){this._rawValidators=this._composedValidatorFn=te}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(te){this._rawAsyncValidators=this._composedAsyncValidatorFn=te}get parent(){return this._parent}get valid(){return this.status===Gt}get invalid(){return this.status===jn}get pending(){return this.status==Gr}get disabled(){return this.status===Cr}get enabled(){return this.status!==Cr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(te){this._assignValidators(te)}setAsyncValidators(te){this._assignAsyncValidators(te)}addValidators(te){this.setValidators(jt(te,this._rawValidators))}addAsyncValidators(te){this.setAsyncValidators(jt(te,this._rawAsyncValidators))}removeValidators(te){this.setValidators(Ut(te,this._rawValidators))}removeAsyncValidators(te){this.setAsyncValidators(Ut(te,this._rawAsyncValidators))}hasValidator(te){return kn(this._rawValidators,te)}hasAsyncValidator(te){return kn(this._rawAsyncValidators,te)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(te={}){this.touched=!0,this._parent&&!te.onlySelf&&this._parent.markAsTouched(te)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(te=>te.markAllAsTouched())}markAsUntouched(te={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}markAsDirty(te={}){this.pristine=!1,this._parent&&!te.onlySelf&&this._parent.markAsDirty(te)}markAsPristine(te={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}markAsPending(te={}){this.status=Gr,!1!==te.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!te.onlySelf&&this._parent.markAsPending(te)}disable(te={}){const V=this._parentMarkedDirty(te.onlySelf);this.status=Cr,this.errors=null,this._forEachChild(fe=>{fe.disable({...te,onlySelf:!0})}),this._updateValue(),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...te,skipPristineCheck:V}),this._onDisabledChange.forEach(fe=>fe(!0))}enable(te={}){const V=this._parentMarkedDirty(te.onlySelf);this.status=Gt,this._forEachChild(fe=>{fe.enable({...te,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent}),this._updateAncestors({...te,skipPristineCheck:V}),this._onDisabledChange.forEach(fe=>fe(!1))}_updateAncestors(te){this._parent&&!te.onlySelf&&(this._parent.updateValueAndValidity(te),te.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(te){this._parent=te}getRawValue(){return this.value}updateValueAndValidity(te={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gt||this.status===Gr)&&this._runAsyncValidator(te.emitEvent)),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!te.onlySelf&&this._parent.updateValueAndValidity(te)}_updateTreeValidity(te={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(te)),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cr:Gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(te){if(this.asyncValidator){this.status=Gr,this._hasOwnPendingAsyncValidator=!0;const V=Oe(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(fe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(fe,{emitEvent:te})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(te,V={}){this.errors=te,this._updateControlsErrors(!1!==V.emitEvent)}get(te){let V=te;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((fe,ze)=>fe&&fe._find(ze),this)}getError(te,V){const fe=V?this.get(V):this;return fe&&fe.errors?fe.errors[te]:null}hasError(te,V){return!!this.getError(te,V)}get root(){let te=this;for(;te._parent;)te=te._parent;return te}_updateControlsErrors(te){this.status=this._calculateStatus(),te&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(te)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?Cr:this.errors?jn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gr)?Gr:this._anyControlsHaveStatus(jn)?jn:Gt}_anyControlsHaveStatus(te){return this._anyControls(V=>V.status===te)}_anyControlsDirty(){return this._anyControls(te=>te.dirty)}_anyControlsTouched(){return this._anyControls(te=>te.touched)}_updatePristine(te={}){this.pristine=!this._anyControlsDirty(),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}_updateTouched(te={}){this.touched=this._anyControlsTouched(),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}_registerOnCollectionChange(te){this._onCollectionChange=te}_setUpdateStrategy(te){A(te)&&null!=te.updateOn&&(this._updateOn=te.updateOn)}_parentMarkedDirty(te){return!te&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(te){return null}_assignValidators(te){this._rawValidators=Array.isArray(te)?te.slice():te,this._composedValidatorFn=function It(K){return Array.isArray(K)?$t(K):K||null}(this._rawValidators)}_assignAsyncValidators(te){this._rawAsyncValidators=Array.isArray(te)?te.slice():te,this._composedAsyncValidatorFn=function x(K){return Array.isArray(K)?or(K):K||null}(this._rawAsyncValidators)}}class We extends ge{constructor(te,V,fe){super(ii(V),G(fe,V)),this.controls=te,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(te,V){return this.controls[te]?this.controls[te]:(this.controls[te]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(te,V,fe={}){this.registerControl(te,V),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}removeControl(te,V={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(te,V,fe={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],V&&this.registerControl(te,V),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}contains(te){return this.controls.hasOwnProperty(te)&&this.controls[te].enabled}setValue(te,V={}){$(this,0,te),Object.keys(te).forEach(fe=>{J(this,!0,fe),this.controls[fe].setValue(te[fe],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(te,V={}){null!=te&&(Object.keys(te).forEach(fe=>{const ze=this.controls[fe];ze&&ze.patchValue(te[fe],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(te={},V={}){this._forEachChild((fe,ze)=>{fe.reset(te?te[ze]:null,{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(te,V,fe)=>(te[fe]=V.getRawValue(),te))}_syncPendingControls(){let te=this._reduceChildren(!1,(V,fe)=>!!fe._syncPendingControls()||V);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){Object.keys(this.controls).forEach(V=>{const fe=this.controls[V];fe&&te(fe,V)})}_setUpControls(){this._forEachChild(te=>{te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(te){for(const[V,fe]of Object.entries(this.controls))if(this.contains(V)&&te(fe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,fe,ze)=>((fe.enabled||this.disabled)&&(V[ze]=fe.value),V))}_reduceChildren(te,V){let fe=te;return this._forEachChild((ze,mt)=>{fe=V(fe,ze,mt)}),fe}_allControlsDisabled(){for(const te of Object.keys(this.controls))if(this.controls[te].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(te){return this.controls.hasOwnProperty(te)?this.controls[te]:null}}class Sn extends We{}const Ve=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ue}),Ue="always";function qe(K,te){return[...te.path,K]}function Vt(K,te,V=Ue){lr(K,te),te.valueAccessor.writeValue(K.value),(K.disabled||"always"===V)&&te.valueAccessor.setDisabledState?.(K.disabled),function yi(K,te){te.valueAccessor.registerOnChange(V=>{K._pendingValue=V,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&at(K,te)})}(K,te),function kt(K,te){const V=(fe,ze)=>{te.valueAccessor.writeValue(fe),ze&&te.viewToModelUpdate(fe)};K.registerOnChange(V),te._registerOnDestroy(()=>{K._unregisterOnChange(V)})}(K,te),function At(K,te){te.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&at(K,te),"submit"!==K.updateOn&&K.markAsTouched()})}(K,te),function fn(K,te){if(te.valueAccessor.setDisabledState){const V=fe=>{te.valueAccessor.setDisabledState(fe)};K.registerOnDisabledChange(V),te._registerOnDestroy(()=>{K._unregisterOnDisabledChange(V)})}}(K,te)}function rn(K,te,V=!0){const fe=()=>{};te.valueAccessor&&(te.valueAccessor.registerOnChange(fe),te.valueAccessor.registerOnTouched(fe)),yn(K,te),K&&(te._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function _n(K,te){K.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(te)})}function lr(K,te){const V=Nn(K);null!==te.validator?K.setValidators(un(V,te.validator)):"function"==typeof V&&K.setValidators([V]);const fe=sn(K);null!==te.asyncValidator?K.setAsyncValidators(un(fe,te.asyncValidator)):"function"==typeof fe&&K.setAsyncValidators([fe]);const ze=()=>K.updateValueAndValidity();_n(te._rawValidators,ze),_n(te._rawAsyncValidators,ze)}function yn(K,te){let V=!1;if(null!==K){if(null!==te.validator){const ze=Nn(K);if(Array.isArray(ze)&&ze.length>0){const mt=ze.filter(cr=>cr!==te.validator);mt.length!==ze.length&&(V=!0,K.setValidators(mt))}}if(null!==te.asyncValidator){const ze=sn(K);if(Array.isArray(ze)&&ze.length>0){const mt=ze.filter(cr=>cr!==te.asyncValidator);mt.length!==ze.length&&(V=!0,K.setAsyncValidators(mt))}}}const fe=()=>{};return _n(te._rawValidators,fe),_n(te._rawAsyncValidators,fe),V}function at(K,te){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),te.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function dn(K,te){lr(K,te)}function Ai(K,te){if(!K.hasOwnProperty("model"))return!1;const V=K.model;return!!V.isFirstChange()||!Object.is(te,V.currentValue)}function Vi(K,te){K._syncPendingControls(),te.forEach(V=>{const fe=V.control;"submit"===fe.updateOn&&fe._pendingChange&&(V.viewToModelUpdate(fe._pendingValue),fe._pendingChange=!1)})}function _o(K,te){if(!te)return null;let V,fe,ze;return Array.isArray(te),te.forEach(mt=>{mt.constructor===Ae?V=mt:function ls(K){return Object.getPrototypeOf(K.constructor)===Be}(mt)?fe=mt:ze=mt}),ze||fe||V||null}const Ao={provide:en,useExisting:(0,i.Rfq)(()=>Ki)},Zr=(()=>Promise.resolve())();let Ki=(()=>{class K extends en{constructor(V,fe,ze){super(),this.callSetDisabledState=ze,this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new We({},$t(V),or(fe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){Zr.then(()=>{const fe=this._findContainer(V.path);V.control=fe.registerControl(V.name,V.control),Vt(V.control,V,this.callSetDisabledState),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){Zr.then(()=>{const fe=this._findContainer(V.path);fe&&fe.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){Zr.then(()=>{const fe=this._findContainer(V.path),ze=new We({});dn(ze,V),fe.registerControl(V.name,ze),ze.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){Zr.then(()=>{const fe=this._findContainer(V.path);fe&&fe.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,fe){Zr.then(()=>{this.form.get(V.path).setValue(fe)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,Vi(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}static{this.\u0275fac=function(fe){return new(fe||K)(i.rXU(ft,10),i.rXU(Nt,10),i.rXU(Ve,8))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(fe,ze){1&fe&&i.bIt("submit",function(cr){return ze.onSubmit(cr)})("reset",function(){return ze.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Ao]),i.Vt3]})}}return K})();function ys(K,te){const V=K.indexOf(te);V>-1&&K.splice(V,1)}function ei(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Bi=class extends ge{constructor(te=null,V,fe){super(ii(V),G(fe,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(te),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),A(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=ei(te)?te.value:te)}setValue(te,V={}){this.value=this._pendingValue=te,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(fe=>fe(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(te,V={}){this.setValue(te,V)}reset(te=this.defaultValue,V={}){this._applyFormState(te),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(te){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(te){this._onChange.push(te)}_unregisterOnChange(te){ys(this._onChange,te)}registerOnDisabledChange(te){this._onDisabledChange.push(te)}_unregisterOnDisabledChange(te){ys(this._onDisabledChange,te)}_forEachChild(te){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(te){ei(te)?(this.value=this._pendingValue=te.value,te.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=te}};let zs=(()=>{class K extends en{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return qe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let V;return function(ze){return(V||(V=i.xGo(K)))(ze||K)}}()}static{this.\u0275dir=i.FsC({type:K,features:[i.Vt3]})}}return K})();const Ws={provide:Ar,useExisting:(0,i.Rfq)(()=>Vs)},si=(()=>Promise.resolve())();let Vs=(()=>{class K extends Ar{constructor(V,fe,ze,mt,cr,hs){super(),this._changeDetectorRef=cr,this.callSetDisabledState=hs,this.control=new Bi,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=V,this._setValidators(fe),this._setAsyncValidators(ze),this.valueAccessor=_o(0,mt)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const fe=V.name.previousValue;this.formDirective.removeControl({name:fe,path:this._getPath(fe)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),Ai(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){si.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const fe=V.isDisabled.currentValue,ze=0!==fe&&(0,i.L39)(fe);si.then(()=>{ze&&!this.control.disabled?this.control.disable():!ze&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?qe(V,this._parent):[V]}static{this.\u0275fac=function(fe){return new(fe||K)(i.rXU(en,9),i.rXU(ft,10),i.rXU(Nt,10),i.rXU(ve,10),i.rXU(i.gRc,8),i.rXU(Ve,8))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([Ws]),i.Vt3,i.OA$]})}}return K})(),bs=(()=>{class K{static{this.\u0275fac=function(fe){return new(fe||K)}}static{this.\u0275dir=i.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return K})();const ao={provide:ve,useExisting:(0,i.Rfq)(()=>Ss),multi:!0};let Ss=(()=>{class K extends Be{writeValue(V){this.setProperty("value",V??"")}registerOnChange(V){this.onChange=fe=>{V(""==fe?null:parseFloat(fe))}}static{this.\u0275fac=function(){let V;return function(ze){return(V||(V=i.xGo(K)))(ze||K)}}()}static{this.\u0275dir=i.FsC({type:K,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(fe,ze){1&fe&&i.bIt("input",function(cr){return ze.onChange(cr.target.value)})("blur",function(){return ze.onTouched()})},features:[i.Jv_([ao]),i.Vt3]})}}return K})();const Or={provide:ve,useExisting:(0,i.Rfq)(()=>ui),multi:!0};let Si=(()=>{class K{static{this.\u0275fac=function(fe){return new(fe||K)}}static{this.\u0275mod=i.$C({type:K})}static{this.\u0275inj=i.G2t({})}}return K})(),Rs=(()=>{class K{constructor(){this._accessors=[]}add(V,fe){this._accessors.push([V,fe])}remove(V){for(let fe=this._accessors.length-1;fe>=0;--fe)if(this._accessors[fe][1]===V)return void this._accessors.splice(fe,1)}select(V){this._accessors.forEach(fe=>{this._isSameGroup(fe,V)&&fe[1]!==V&&fe[1].fireUncheck(V.value)})}_isSameGroup(V,fe){return!!V[0].control&&V[0]._parent===fe._control._parent&&V[1].name===fe.name}static{this.\u0275fac=function(fe){return new(fe||K)}}static{this.\u0275prov=i.jDH({token:K,factory:K.\u0275fac,providedIn:Si})}}return K})(),ui=(()=>{class K extends Be{constructor(V,fe,ze,mt){super(V,fe),this._registry=ze,this._injector=mt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(Ve,{optional:!0})??Ue}ngOnInit(){this._control=this._injector.get(Ar),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(V){this._state=V===this.value,this.setProperty("checked",this._state)}registerOnChange(V){this._fn=V,this.onChange=()=>{V(this.value),this._registry.select(this)}}setDisabledState(V){(this.setDisabledStateFired||V||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",V),this.setDisabledStateFired=!0}fireUncheck(V){this.writeValue(V)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(fe){return new(fe||K)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Rs),i.rXU(i.zZn))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(fe,ze){1&fe&&i.bIt("change",function(){return ze.onChange()})("blur",function(){return ze.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([Or]),i.Vt3]})}}return K})();const es=new i.nKC("NgModelWithFormControlWarning"),oi={provide:en,useExisting:(0,i.Rfq)(()=>En)};let En=(()=>{class K extends en{constructor(V,fe,ze){super(),this.callSetDisabledState=ze,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(V),this._setAsyncValidators(fe)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const fe=this.form.get(V.path);return Vt(fe,V,this.callSetDisabledState),fe.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),fe}getControl(V){return this.form.get(V.path)}removeControl(V){rn(V.control||null,V,!1),function Hs(K,te){const V=K.indexOf(te);V>-1&&K.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,fe){this.form.get(V.path).setValue(fe)}onSubmit(V){return this.submitted=!0,Vi(this.form,this.directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const fe=V.control,ze=this.form.get(V.path);fe!==ze&&(rn(fe||null,V),(K=>K instanceof Bi)(ze)&&(Vt(ze,V,this.callSetDisabledState),V.control=ze))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const fe=this.form.get(V.path);dn(fe,V),fe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const fe=this.form.get(V.path);fe&&function Fn(K,te){return yn(K,te)}(fe,V)&&fe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lr(this.form,this),this._oldForm&&yn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(fe){return new(fe||K)(i.rXU(ft,10),i.rXU(Nt,10),i.rXU(Ve,8))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","formGroup",""]],hostBindings:function(fe,ze){1&fe&&i.bIt("submit",function(cr){return ze.onSubmit(cr)})("reset",function(){return ze.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([oi]),i.Vt3,i.OA$]})}}return K})();const ur={provide:en,useExisting:(0,i.Rfq)(()=>gr)};let gr=(()=>{class K extends zs{constructor(V,fe,ze){super(),this.name=null,this._parent=V,this._setValidators(fe),this._setAsyncValidators(ze)}_checkParentType(){$i(this._parent)}static{this.\u0275fac=function(fe){return new(fe||K)(i.rXU(en,13),i.rXU(ft,10),i.rXU(Nt,10))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.Jv_([ur]),i.Vt3]})}}return K})();const ts={provide:en,useExisting:(0,i.Rfq)(()=>us)};let us=(()=>{class K extends en{constructor(V,fe,ze){super(),this.name=null,this._parent=V,this._setValidators(fe),this._setAsyncValidators(ze)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return qe(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){$i(this._parent)}static{this.\u0275fac=function(fe){return new(fe||K)(i.rXU(en,13),i.rXU(ft,10),i.rXU(Nt,10))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.Jv_([ts]),i.Vt3]})}}return K})();function $i(K){return!(K instanceof gr||K instanceof En||K instanceof us)}const qs={provide:Ar,useExisting:(0,i.Rfq)(()=>ti)};let ti=(()=>{class K extends Ar{set isDisabled(V){}static{this._ngModelWarningSentOnce=!1}constructor(V,fe,ze,mt,cr){super(),this._ngModelWarningConfig=cr,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(fe),this._setAsyncValidators(ze),this.valueAccessor=_o(0,mt)}ngOnChanges(V){this._added||this._setUpControl(),Ai(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return qe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(fe){return new(fe||K)(i.rXU(en,13),i.rXU(ft,10),i.rXU(Nt,10),i.rXU(ve,10),i.rXU(es,8))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([qs]),i.Vt3,i.OA$]})}}return K})();const ns={provide:ve,useExisting:(0,i.Rfq)(()=>vs),multi:!0};function ds(K,te){return null==K?`${te}`:(te&&"object"==typeof te&&(te="Object"),`${K}: ${te}`.slice(0,50))}let vs=(()=>{class K extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){this.value=V;const ze=ds(this._getOptionId(V),V);this.setProperty("value",ze)}registerOnChange(V){this.onChange=fe=>{this.value=this._getOptionValue(fe),V(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(V){for(const fe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(fe),V))return fe;return null}_getOptionValue(V){const fe=function sr(K){return K.split(":")[0]}(V);return this._optionMap.has(fe)?this._optionMap.get(fe):V}static{this.\u0275fac=function(){let V;return function(ze){return(V||(V=i.xGo(K)))(ze||K)}}()}static{this.\u0275dir=i.FsC({type:K,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(fe,ze){1&fe&&i.bIt("change",function(cr){return ze.onChange(cr.target.value)})("blur",function(){return ze.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([ns]),i.Vt3]})}}return K})(),Is=(()=>{class K{constructor(V,fe,ze){this._element=V,this._renderer=fe,this._select=ze,this._select&&(this.id=this._select._registerOption())}set ngValue(V){null!=this._select&&(this._select._optionMap.set(this.id,V),this._setElementValue(ds(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._setElementValue(V),this._select&&this._select.writeValue(this._select.value)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(fe){return new(fe||K)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(vs,9))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return K})();const re={provide:ve,useExisting:(0,i.Rfq)(()=>lt),multi:!0};function Z(K,te){return null==K?`${te}`:("string"==typeof te&&(te=`'${te}'`),te&&"object"==typeof te&&(te="Object"),`${K}: ${te}`.slice(0,50))}let lt=(()=>{class K extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){let fe;if(this.value=V,Array.isArray(V)){const ze=V.map(mt=>this._getOptionId(mt));fe=(mt,cr)=>{mt._setSelected(ze.indexOf(cr.toString())>-1)}}else fe=(ze,mt)=>{ze._setSelected(!1)};this._optionMap.forEach(fe)}registerOnChange(V){this.onChange=fe=>{const ze=[],mt=fe.selectedOptions;if(void 0!==mt){const cr=mt;for(let hs=0;hs<cr.length;hs++){const ki=this._getOptionValue(cr[hs].value);ze.push(ki)}}else{const cr=fe.options;for(let hs=0;hs<cr.length;hs++){const xs=cr[hs];if(xs.selected){const ki=this._getOptionValue(xs.value);ze.push(ki)}}}this.value=ze,V(ze)}}_registerOption(V){const fe=(this._idCounter++).toString();return this._optionMap.set(fe,V),fe}_getOptionId(V){for(const fe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(fe)._value,V))return fe;return null}_getOptionValue(V){const fe=function Re(K){return K.split(":")[0]}(V);return this._optionMap.has(fe)?this._optionMap.get(fe)._value:V}static{this.\u0275fac=function(){let V;return function(ze){return(V||(V=i.xGo(K)))(ze||K)}}()}static{this.\u0275dir=i.FsC({type:K,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(fe,ze){1&fe&&i.bIt("change",function(cr){return ze.onChange(cr.target)})("blur",function(){return ze.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([re]),i.Vt3]})}}return K})(),St=(()=>{class K{constructor(V,fe,ze){this._element=V,this._renderer=fe,this._select=ze,this._select&&(this.id=this._select._registerOption(this))}set ngValue(V){null!=this._select&&(this._value=V,this._setElementValue(Z(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._select?(this._value=V,this._setElementValue(Z(this.id,V)),this._select.writeValue(this._select.value)):this._setElementValue(V)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}_setSelected(V){this._renderer.setProperty(this._element.nativeElement,"selected",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(fe){return new(fe||K)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(lt,9))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return K})(),bn=(()=>{class K{constructor(){this._validator=ct}ngOnChanges(V){if(this.inputName in V){const fe=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(fe),this._validator=this._enabled?this.createValidator(fe):ct,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}static{this.\u0275fac=function(fe){return new(fe||K)}}static{this.\u0275dir=i.FsC({type:K,features:[i.OA$]})}}return K})();const Jn={provide:ft,useExisting:(0,i.Rfq)(()=>kr),multi:!0};let kr=(()=>{class K extends bn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=V=>Rn}enabled(V){return V}static{this.\u0275fac=function(){let V;return function(ze){return(V||(V=i.xGo(K)))(ze||K)}}()}static{this.\u0275dir=i.FsC({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(fe,ze){2&fe&&i.BMQ("required",ze._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([Jn]),i.Vt3]})}}return K})(),ja=(()=>{class K{static{this.\u0275fac=function(fe){return new(fe||K)}}static{this.\u0275mod=i.$C({type:K})}static{this.\u0275inj=i.G2t({imports:[Si]})}}return K})();class Qo extends ge{constructor(te,V,fe){super(ii(V),G(fe,V)),this.controls=te,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(te){return this.controls[this._adjustIndex(te)]}push(te,V={}){this.controls.push(te),this._registerControl(te),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(te,V,fe={}){this.controls.splice(te,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:fe.emitEvent})}removeAt(te,V={}){let fe=this._adjustIndex(te);fe<0&&(fe=0),this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),this.controls.splice(fe,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(te,V,fe={}){let ze=this._adjustIndex(te);ze<0&&(ze=0),this.controls[ze]&&this.controls[ze]._registerOnCollectionChange(()=>{}),this.controls.splice(ze,1),V&&(this.controls.splice(ze,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(te,V={}){$(this,0,te),te.forEach((fe,ze)=>{J(this,!1,ze),this.at(ze).setValue(fe,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(te,V={}){null!=te&&(te.forEach((fe,ze)=>{this.at(ze)&&this.at(ze).patchValue(fe,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(te=[],V={}){this._forEachChild((fe,ze)=>{fe.reset(te[ze],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(te=>te.getRawValue())}clear(te={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:te.emitEvent}))}_adjustIndex(te){return te<0?te+this.length:te}_syncPendingControls(){let te=this.controls.reduce((V,fe)=>!!fe._syncPendingControls()||V,!1);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){this.controls.forEach((V,fe)=>{te(V,fe)})}_updateValue(){this.value=this.controls.filter(te=>te.enabled||this.disabled).map(te=>te.value)}_anyControls(te){return this.controls.some(V=>V.enabled&&te(V))}_setUpControls(){this._forEachChild(te=>this._registerControl(te))}_allControlsDisabled(){for(const te of this.controls)if(te.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(te){te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)}_find(te){return this.at(te)??null}}function Cs(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let So=(()=>{class K{constructor(){this.useNonNullable=!1}get nonNullable(){const V=new K;return V.useNonNullable=!0,V}group(V,fe=null){const ze=this._reduceControls(V);let mt={};return Cs(fe)?mt=fe:null!==fe&&(mt.validators=fe.validator,mt.asyncValidators=fe.asyncValidator),new We(ze,mt)}record(V,fe=null){const ze=this._reduceControls(V);return new Sn(ze,fe)}control(V,fe,ze){let mt={};return this.useNonNullable?(Cs(fe)?mt=fe:(mt.validators=fe,mt.asyncValidators=ze),new Bi(V,{...mt,nonNullable:!0})):new Bi(V,fe,ze)}array(V,fe,ze){const mt=V.map(cr=>this._createControl(cr));return new Qo(mt,fe,ze)}_reduceControls(V){const fe={};return Object.keys(V).forEach(ze=>{fe[ze]=this._createControl(V[ze])}),fe}_createControl(V){return V instanceof Bi||V instanceof ge?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}static{this.\u0275fac=function(fe){return new(fe||K)}}static{this.\u0275prov=i.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})(),ca=(()=>{class K{static withConfig(V){return{ngModule:K,providers:[{provide:Ve,useValue:V.callSetDisabledState??Ue}]}}static{this.\u0275fac=function(fe){return new(fe||K)}}static{this.\u0275mod=i.$C({type:K})}static{this.\u0275inj=i.G2t({imports:[ja]})}}return K})(),Ro=(()=>{class K{static withConfig(V){return{ngModule:K,providers:[{provide:es,useValue:V.warnOnNgModelWithFormControl??"always"},{provide:Ve,useValue:V.callSetDisabledState??Ue}]}}static{this.\u0275fac=function(fe){return new(fe||K)}}static{this.\u0275mod=i.$C({type:K})}static{this.\u0275inj=i.G2t({imports:[ja]})}}return K})()},345:(on,Xe,k)=>{k.d(Xe,{B7:()=>pt,Bb:()=>kn,W8:()=>Ut,hE:()=>Ar,sG:()=>un,up:()=>bi});var i=k(7705),oe=k(177);class r extends oe.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends r{static makeCurrent(){(0,oe.ZD)(new be)}onAndCancel(G,x,A){return G.addEventListener(x,A),()=>{G.removeEventListener(x,A)}}dispatchEvent(G,x){G.dispatchEvent(x)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,x){return(x=x||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,x){return"window"===x?window:"document"===x?G:"body"===x?G.body:null}getBaseHref(G){const x=function Ee(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==x?null:function Ie(It){Se=Se||document.createElement("a"),Se.setAttribute("href",It);const G=Se.pathname;return"/"===G.charAt(0)?G:`/${G}`}(x)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,oe._b)(document.cookie,G)}}let Se,ae=null,W=(()=>{class It{build(){return new XMLHttpRequest}static{this.\u0275fac=function(A){return new(A||It)}}static{this.\u0275prov=i.jDH({token:It,factory:It.\u0275fac})}}return It})();const ne=new i.nKC("EventManagerPlugins");let pe=(()=>{class It{constructor(x,A){this._zone=A,this._eventNameToPlugin=new Map,x.forEach(J=>{J.manager=this}),this._plugins=x.slice().reverse()}addEventListener(x,A,J){return this._findPluginFor(A).addEventListener(x,A,J)}getZone(){return this._zone}_findPluginFor(x){let A=this._eventNameToPlugin.get(x);if(A)return A;if(A=this._plugins.find($=>$.supports(x)),!A)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(x,A),A}static{this.\u0275fac=function(A){return new(A||It)(i.KVO(ne),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:It,factory:It.\u0275fac})}}return It})();class we{constructor(G){this._doc=G}}const Be="ng-app-id";let ve=(()=>{class It{constructor(x,A,J,$={}){this.doc=x,this.appId=A,this.nonce=J,this.platformId=$,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,oe.Vy)($),this.resetHostNodes()}addStyles(x){for(const A of x)1===this.changeUsageCount(A,1)&&this.onStyleAdded(A)}removeStyles(x){for(const A of x)this.changeUsageCount(A,-1)<=0&&this.onStyleRemoved(A)}ngOnDestroy(){const x=this.styleNodesInDOM;x&&(x.forEach(A=>A.remove()),x.clear());for(const A of this.getAllStyles())this.onStyleRemoved(A);this.resetHostNodes()}addHost(x){this.hostNodes.add(x);for(const A of this.getAllStyles())this.addStyleToHost(x,A)}removeHost(x){this.hostNodes.delete(x)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(x){for(const A of this.hostNodes)this.addStyleToHost(A,x)}onStyleRemoved(x){const A=this.styleRef;A.get(x)?.elements?.forEach(J=>J.remove()),A.delete(x)}collectServerRenderedStyles(){const x=this.doc.head?.querySelectorAll(`style[${Be}="${this.appId}"]`);if(x?.length){const A=new Map;return x.forEach(J=>{null!=J.textContent&&A.set(J.textContent,J)}),A}return null}changeUsageCount(x,A){const J=this.styleRef;if(J.has(x)){const $=J.get(x);return $.usage+=A,$.usage}return J.set(x,{usage:A,elements:[]}),A}getStyleElement(x,A){const J=this.styleNodesInDOM,$=J?.get(A);if($?.parentNode===x)return J.delete(A),$.removeAttribute(Be),$;{const ge=this.doc.createElement("style");return this.nonce&&ge.setAttribute("nonce",this.nonce),ge.textContent=A,this.platformIsServer&&ge.setAttribute(Be,this.appId),ge}}addStyleToHost(x,A){const J=this.getStyleElement(x,A);x.appendChild(J);const $=this.styleRef,ge=$.get(A)?.elements;ge?ge.push(J):$.set(A,{elements:[J],usage:1})}resetHostNodes(){const x=this.hostNodes;x.clear(),x.add(this.doc.head)}static{this.\u0275fac=function(A){return new(A||It)(i.KVO(oe.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:It,factory:It.\u0275fac})}}return It})();const Ye={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ce=/%COMP%/g,rt=new i.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Nt(It,G){return G.map(x=>x.replace(Ce,It))}let pt=(()=>{class It{constructor(x,A,J,$,ge,We,Wt,Yt=null){this.eventManager=x,this.sharedStylesHost=A,this.appId=J,this.removeStylesOnCompDestroy=$,this.doc=ge,this.platformId=We,this.ngZone=Wt,this.nonce=Yt,this.rendererByCompId=new Map,this.platformIsServer=(0,oe.Vy)(We),this.defaultRenderer=new Te(x,ge,Wt,this.platformIsServer)}createRenderer(x,A){if(!x||!A)return this.defaultRenderer;this.platformIsServer&&A.encapsulation===i.gXe.ShadowDom&&(A={...A,encapsulation:i.gXe.Emulated});const J=this.getOrCreateRenderer(x,A);return J instanceof Qt?J.applyToHost(x):J instanceof qt&&J.applyStyles(),J}getOrCreateRenderer(x,A){const J=this.rendererByCompId;let $=J.get(A.id);if(!$){const ge=this.doc,We=this.ngZone,Wt=this.eventManager,Yt=this.sharedStylesHost,Sn=this.removeStylesOnCompDestroy,ar=this.platformIsServer;switch(A.encapsulation){case i.gXe.Emulated:$=new Qt(Wt,Yt,A,this.appId,Sn,ge,We,ar);break;case i.gXe.ShadowDom:return new Ft(Wt,Yt,x,A,ge,We,this.nonce,ar);default:$=new qt(Wt,Yt,A,Sn,ge,We,ar)}J.set(A.id,$)}return $}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(A){return new(A||It)(i.KVO(pe),i.KVO(ve),i.KVO(i.sZ2),i.KVO(rt),i.KVO(oe.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))}}static{this.\u0275prov=i.jDH({token:It,factory:It.\u0275fac})}}return It})();class Te{constructor(G,x,A,J){this.eventManager=G,this.doc=x,this.ngZone=A,this.platformIsServer=J,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,x){return x?this.doc.createElementNS(Ye[x]||x,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,x){(Rn(G)?G.content:G).appendChild(x)}insertBefore(G,x,A){G&&(Rn(G)?G.content:G).insertBefore(x,A)}removeChild(G,x){G&&G.removeChild(x)}selectRootElement(G,x){let A="string"==typeof G?this.doc.querySelector(G):G;if(!A)throw new i.wOt(-5104,!1);return x||(A.textContent=""),A}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,x,A,J){if(J){x=J+":"+x;const $=Ye[J];$?G.setAttributeNS($,x,A):G.setAttribute(x,A)}else G.setAttribute(x,A)}removeAttribute(G,x,A){if(A){const J=Ye[A];J?G.removeAttributeNS(J,x):G.removeAttribute(`${A}:${x}`)}else G.removeAttribute(x)}addClass(G,x){G.classList.add(x)}removeClass(G,x){G.classList.remove(x)}setStyle(G,x,A,J){J&(i.czy.DashCase|i.czy.Important)?G.style.setProperty(x,A,J&i.czy.Important?"important":""):G.style[x]=A}removeStyle(G,x,A){A&i.czy.DashCase?G.style.removeProperty(x):G.style[x]=""}setProperty(G,x,A){G[x]=A}setValue(G,x){G.nodeValue=x}listen(G,x,A){if("string"==typeof G&&!(G=(0,oe.QT)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${x}`);return this.eventManager.addEventListener(G,x,this.decoratePreventDefault(A))}decoratePreventDefault(G){return x=>{if("__ngUnwrap__"===x)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(x)):G(x))&&x.preventDefault()}}}function Rn(It){return"TEMPLATE"===It.tagName&&void 0!==It.content}class Ft extends Te{constructor(G,x,A,J,$,ge,We,Wt){super(G,$,ge,Wt),this.sharedStylesHost=x,this.hostEl=A,this.shadowRoot=A.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Yt=Nt(J.id,J.styles);for(const Sn of Yt){const ar=document.createElement("style");We&&ar.setAttribute("nonce",We),ar.textContent=Sn,this.shadowRoot.appendChild(ar)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,x){return super.appendChild(this.nodeOrShadowRoot(G),x)}insertBefore(G,x,A){return super.insertBefore(this.nodeOrShadowRoot(G),x,A)}removeChild(G,x){return super.removeChild(this.nodeOrShadowRoot(G),x)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qt extends Te{constructor(G,x,A,J,$,ge,We,Wt){super(G,$,ge,We),this.sharedStylesHost=x,this.removeStylesOnCompDestroy=J,this.styles=Wt?Nt(Wt,A.styles):A.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Qt extends qt{constructor(G,x,A,J,$,ge,We,Wt){const Yt=J+"-"+A.id;super(G,x,A,$,ge,We,Wt,Yt),this.contentAttr=function tt(It){return"_ngcontent-%COMP%".replace(Ce,It)}(Yt),this.hostAttr=function ft(It){return"_nghost-%COMP%".replace(Ce,It)}(Yt)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,x){const A=super.createElement(G,x);return super.setAttribute(A,this.contentAttr,""),A}}let yt=(()=>{class It extends we{constructor(x){super(x)}supports(x){return!0}addEventListener(x,A,J){return x.addEventListener(A,J,!1),()=>this.removeEventListener(x,A,J)}removeEventListener(x,A,J){return x.removeEventListener(A,J)}static{this.\u0275fac=function(A){return new(A||It)(i.KVO(oe.qQ))}}static{this.\u0275prov=i.jDH({token:It,factory:It.\u0275fac})}}return It})();const $e=["alt","control","meta","shift"],ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ut={alt:It=>It.altKey,control:It=>It.ctrlKey,meta:It=>It.metaKey,shift:It=>It.shiftKey};let Oe=(()=>{class It extends we{constructor(x){super(x)}supports(x){return null!=It.parseEventName(x)}addEventListener(x,A,J){const $=It.parseEventName(A),ge=It.eventCallback($.fullKey,J,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,oe.QT)().onAndCancel(x,$.domEventName,ge))}static parseEventName(x){const A=x.toLowerCase().split("."),J=A.shift();if(0===A.length||"keydown"!==J&&"keyup"!==J)return null;const $=It._normalizeKey(A.pop());let ge="",We=A.indexOf("code");if(We>-1&&(A.splice(We,1),ge="code."),$e.forEach(Yt=>{const Sn=A.indexOf(Yt);Sn>-1&&(A.splice(Sn,1),ge+=Yt+".")}),ge+=$,0!=A.length||0===$.length)return null;const Wt={};return Wt.domEventName=J,Wt.fullKey=ge,Wt}static matchEventFullKeyCode(x,A){let J=ct[x.key]||x.key,$="";return A.indexOf("code.")>-1&&(J=x.code,$="code."),!(null==J||!J)&&(J=J.toLowerCase()," "===J?J="space":"."===J&&(J="dot"),$e.forEach(ge=>{ge!==J&&(0,ut[ge])(x)&&($+=ge+".")}),$+=J,$===A)}static eventCallback(x,A,J){return $=>{It.matchEventFullKeyCode($,x)&&J.runGuarded(()=>A($))}}static _normalizeKey(x){return"esc"===x?"escape":x}static{this.\u0275fac=function(A){return new(A||It)(i.KVO(oe.qQ))}}static{this.\u0275prov=i.jDH({token:It,factory:It.\u0275fac})}}return It})();const un=(0,i.oH4)(i.fpN,"browser",[{provide:i.Agw,useValue:oe.AJ},{provide:i.PLl,useValue:function st(){be.makeCurrent()},multi:!0},{provide:oe.qQ,useFactory:function wn(){return(0,i.TL$)(document),document},deps:[]}]),Nn=new i.nKC(""),sn=[{provide:i.e01,useClass:class ke{addToWindow(G){i.JZv.getAngularTestability=(A,J=!0)=>{const $=G.findTestabilityInTree(A,J);if(null==$)throw new i.wOt(5103,!1);return $},i.JZv.getAllAngularTestabilities=()=>G.getAllTestabilities(),i.JZv.getAllAngularRootElements=()=>G.getAllRootElements(),i.JZv.frameworkStabilizers||(i.JZv.frameworkStabilizers=[]),i.JZv.frameworkStabilizers.push(A=>{const J=i.JZv.getAllAngularTestabilities();let $=J.length,ge=!1;const We=function(Wt){ge=ge||Wt,$--,0==$&&A(ge)};J.forEach(Wt=>{Wt.whenStable(We)})})}findTestabilityInTree(G,x,A){return null==x?null:G.getTestability(x)??(A?(0,oe.QT)().isShadowRoot(x)?this.findTestabilityInTree(G,x.host,!0):this.findTestabilityInTree(G,x.parentElement,!0):null)}},deps:[]},{provide:i.WHO,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]},{provide:i.NYb,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]}],Yn=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function $t(){return new i.zcH},deps:[]},{provide:ne,useClass:yt,multi:!0,deps:[oe.qQ,i.SKi,i.Agw]},{provide:ne,useClass:Oe,multi:!0,deps:[oe.qQ]},pt,ve,pe,{provide:i._9s,useExisting:pt},{provide:oe.N0,useClass:W,deps:[]},[]];let kn=(()=>{class It{constructor(x){}static withServerTransition(x){return{ngModule:It,providers:[{provide:i.sZ2,useValue:x.appId}]}}static{this.\u0275fac=function(A){return new(A||It)(i.KVO(Nn,12))}}static{this.\u0275mod=i.$C({type:It})}static{this.\u0275inj=i.G2t({providers:[...Yn,...sn],imports:[oe.MD,i.Hbi]})}}return It})(),Ut=(()=>{class It{constructor(x){this._doc=x,this._dom=(0,oe.QT)()}addTag(x,A=!1){return x?this._getOrCreateElement(x,A):null}addTags(x,A=!1){return x?x.reduce((J,$)=>($&&J.push(this._getOrCreateElement($,A)),J),[]):[]}getTag(x){return x&&this._doc.querySelector(`meta[${x}]`)||null}getTags(x){if(!x)return[];const A=this._doc.querySelectorAll(`meta[${x}]`);return A?[].slice.call(A):[]}updateTag(x,A){if(!x)return null;A=A||this._parseSelector(x);const J=this.getTag(A);return J?this._setMetaElementAttributes(x,J):this._getOrCreateElement(x,!0)}removeTag(x){this.removeTagElement(this.getTag(x))}removeTagElement(x){x&&this._dom.remove(x)}_getOrCreateElement(x,A=!1){if(!A){const ge=this._parseSelector(x),We=this.getTags(ge).filter(Wt=>this._containsAttributes(x,Wt))[0];if(void 0!==We)return We}const J=this._dom.createElement("meta");return this._setMetaElementAttributes(x,J),this._doc.getElementsByTagName("head")[0].appendChild(J),J}_setMetaElementAttributes(x,A){return Object.keys(x).forEach(J=>A.setAttribute(this._getMetaKeyMap(J),x[J])),A}_parseSelector(x){const A=x.name?"name":"property";return`${A}="${x[A]}"`}_containsAttributes(x,A){return Object.keys(x).every(J=>A.getAttribute(this._getMetaKeyMap(J))===x[J])}_getMetaKeyMap(x){return Xn[x]||x}static{this.\u0275fac=function(A){return new(A||It)(i.KVO(oe.qQ))}}static{this.\u0275prov=i.jDH({token:It,factory:function(A){let J=null;return J=A?new A:function jt(){return new Ut((0,i.KVO)(oe.qQ))}(),J},providedIn:"root"})}}return It})();const Xn={httpEquiv:"http-equiv"};let Ar=(()=>{class It{constructor(x){this._doc=x}getTitle(){return this._doc.title}setTitle(x){this._doc.title=x||""}static{this.\u0275fac=function(A){return new(A||It)(i.KVO(oe.qQ))}}static{this.\u0275prov=i.jDH({token:It,factory:function(A){let J=null;return J=A?new A:function en(){return new Ar((0,i.KVO)(oe.qQ))}(),J},providedIn:"root"})}}return It})();typeof window<"u"&&window;let bi=(()=>{class It{static{this.\u0275fac=function(A){return new(A||It)}}static{this.\u0275prov=i.jDH({token:It,factory:function(A){let J=null;return J=A?new(A||It):i.KVO(vt),J},providedIn:"root"})}}return It})(),vt=(()=>{class It extends bi{constructor(x){super(),this._doc=x}sanitize(x,A){if(null==A)return null;switch(x){case i.WPN.NONE:return A;case i.WPN.HTML:return(0,i.ZF7)(A,"HTML")?(0,i.rcV)(A):(0,i.h9k)(this._doc,String(A)).toString();case i.WPN.STYLE:return(0,i.ZF7)(A,"Style")?(0,i.rcV)(A):A;case i.WPN.SCRIPT:if((0,i.ZF7)(A,"Script"))return(0,i.rcV)(A);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(A,"URL")?(0,i.rcV)(A):(0,i.$MX)(String(A));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(A,"ResourceURL"))return(0,i.rcV)(A);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(x){return(0,i.Kcf)(x)}bypassSecurityTrustStyle(x){return(0,i.cWb)(x)}bypassSecurityTrustScript(x){return(0,i.UyX)(x)}bypassSecurityTrustUrl(x){return(0,i.osQ)(x)}bypassSecurityTrustResourceUrl(x){return(0,i.e5t)(x)}static{this.\u0275fac=function(A){return new(A||It)(i.KVO(oe.qQ))}}static{this.\u0275prov=i.jDH({token:It,factory:function(A){let J=null;return J=A?new A:function ht(It){return new vt(It.get(oe.qQ))}(i.KVO(i.zZn)),J},providedIn:"root"})}}return It})()},6814:(on,Xe,k)=>{k.d(Xe,{nX:()=>gr,Ix:()=>Wi,Wk:()=>Zo,wQ:()=>ws,iI:()=>Oc,n3:()=>vs});var i=k(7705),oe=k(1985),r=k(8071),ae=k(8455),Ee=k(7673),Se=k(4412),Ie=k(3073),ke=k(3669),W=k(6450),ne=k(3794),pe=k(8496),we=k(4360),Be=k(5225);function ve(...S){const N=(0,ne.lI)(S),w=(0,ne.ms)(S),{args:F,keys:H}=(0,Ie.D)(S);if(0===F.length)return(0,ae.H)([],N);const he=new oe.c(function Ye(S,N,w=ke.D){return F=>{Ce(N,()=>{const{length:H}=S,he=new Array(H);let Ne=H,Pt=H;for(let Ct=0;Ct<H;Ct++)Ce(N,()=>{const Cn=(0,ae.H)(S[Ct],N);let _r=!1;Cn.subscribe((0,we._)(F,Sr=>{he[Ct]=Sr,_r||(_r=!0,Pt--),Pt||F.next(w(he.slice()))},()=>{--Ne||F.complete()}))},F)},F)}}(F,N,H?Ne=>(0,pe.e)(H,Ne):ke.D));return w?he.pipe((0,W.I)(w)):he}function Ce(S,N,w){S?(0,Be.N)(w,S,N):N()}var it=k(9350),Ht=k(8793),He=k(8750);function Ae(S){return new oe.c(N=>{(0,He.Tg)(S()).subscribe(N)})}var rt=k(1203),tt=k(8810),ft=k(983),Nt=k(8359),pt=k(9974);function Te(){return(0,pt.N)((S,N)=>{let w=null;S._refCount++;const F=(0,we._)(N,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const H=S._connection,he=w;w=null,H&&(!he||H===he)&&H.unsubscribe(),N.unsubscribe()});S.subscribe(F),F.closed||(w=S.connect())})}class Ze extends oe.c{constructor(N,w){super(),this.source=N,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,pt.S)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new Nt.yU;const w=this.getSubject();N.add(this.source.subscribe((0,we._)(w,void 0,()=>{this._teardown(),w.complete()},F=>{this._teardown(),w.error(F)},()=>this._teardown()))),N.closed&&(this._connection=null,N=Nt.yU.EMPTY)}return N}refCount(){return Te()(this)}}var Jt=k(1413),Rn=k(177),Ft=k(6354),qt=k(5558),Qt=k(6697),yt=k(9172),$e=k(5964),ct=k(1397),ut=k(1594),Oe=k(274),ee=k(8141),ye=k(9437),Fe=k(2816),dt=k(9901);function st(S){return S<=0?()=>ft.w:(0,pt.N)((N,w)=>{let F=[];N.subscribe((0,we._)(w,H=>{F.push(H),S<F.length&&F.shift()},()=>{for(const H of F)w.next(H);w.complete()},void 0,()=>{F=null}))})}var $t=k(3774),un=k(980),Nn=k(5343),Yn=k(6365),kn=k(345);const jt="primary",Ut=Symbol("RouteTitle");class Xn{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w[0]:w}return null}getAll(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function en(S){return new Xn(S)}function Ar(S,N,w){const F=w.path.split("/");if(F.length>S.length||"full"===w.pathMatch&&(N.hasChildren()||F.length<S.length))return null;const H={};for(let he=0;he<F.length;he++){const Ne=F[he],Pt=S[he];if(Ne.startsWith(":"))H[Ne.substring(1)]=Pt;else if(Ne!==Pt.path)return null}return{consumed:S.slice(0,F.length),posParams:H}}function Bt(S,N){const w=S?Object.keys(S):void 0,F=N?Object.keys(N):void 0;if(!w||!F||w.length!=F.length)return!1;let H;for(let he=0;he<w.length;he++)if(H=w[he],!vn(S[H],N[H]))return!1;return!0}function vn(S,N){if(Array.isArray(S)&&Array.isArray(N)){if(S.length!==N.length)return!1;const w=[...S].sort(),F=[...N].sort();return w.every((H,he)=>F[he]===H)}return S===N}function zn(S){return S.length>0?S[S.length-1]:null}function In(S){return function be(S){return!!S&&(S instanceof oe.c||(0,r.T)(S.lift)&&(0,r.T)(S.subscribe))}(S)?S:(0,i.jNT)(S)?(0,ae.H)(Promise.resolve(S)):(0,Ee.of)(S)}const Rr={exact:function zr(S,N,w){if(!vt(S.segments,N.segments)||!tr(S.segments,N.segments,w)||S.numberOfChildren!==N.numberOfChildren)return!1;for(const F in N.children)if(!S.children[F]||!zr(S.children[F],N.children[F],w))return!1;return!0},subset:hn},Dr={exact:function Kn(S,N){return Bt(S,N)},subset:function Zi(S,N){return Object.keys(N).length<=Object.keys(S).length&&Object.keys(N).every(w=>vn(S[w],N[w]))},ignored:()=>!0};function Ur(S,N,w){return Rr[w.paths](S.root,N.root,w.matrixParams)&&Dr[w.queryParams](S.queryParams,N.queryParams)&&!("exact"===w.fragment&&S.fragment!==N.fragment)}function hn(S,N,w){return Wr(S,N,N.segments,w)}function Wr(S,N,w,F){if(S.segments.length>w.length){const H=S.segments.slice(0,w.length);return!(!vt(H,w)||N.hasChildren()||!tr(H,w,F))}if(S.segments.length===w.length){if(!vt(S.segments,w)||!tr(S.segments,w,F))return!1;for(const H in N.children)if(!S.children[H]||!hn(S.children[H],N.children[H],F))return!1;return!0}{const H=w.slice(0,S.segments.length),he=w.slice(S.segments.length);return!!(vt(S.segments,H)&&tr(S.segments,H,F)&&S.children[jt])&&Wr(S.children[jt],N,he,F)}}function tr(S,N,w){return N.every((F,H)=>Dr[w](S[H].parameters,F.parameters))}class mr{constructor(N=new Wn([],{}),w={},F=null){this.root=N,this.queryParams=w,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return Gt.serialize(this)}}class Wn{constructor(N,w){this.segments=N,this.children=w,this.parent=null,Object.values(w).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jn(this)}}class bi{constructor(N,w){this.path=N,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=en(this.parameters)),this._parameterMap}toString(){return J(this)}}function vt(S,N){return S.length===N.length&&S.every((w,F)=>w.path===N[F].path)}let xe=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:function(){return new Rt},providedIn:"root"})}}return S})();class Rt{parse(N){const w=new Vt(N);return new mr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(N){const w=`/${Gr(N.root,!0)}`,F=function ge(S){const N=Object.keys(S).map(w=>{const F=S[w];return Array.isArray(F)?F.map(H=>`${ii(w)}=${ii(H)}`).join("&"):`${ii(w)}=${ii(F)}`}).filter(w=>!!w);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${w}${F}${"string"==typeof N.fragment?`#${function It(S){return encodeURI(S)}(N.fragment)}`:""}`}}const Gt=new Rt;function jn(S){return S.segments.map(N=>J(N)).join("/")}function Gr(S,N){if(!S.hasChildren())return jn(S);if(N){const w=S.children[jt]?Gr(S.children[jt],!1):"",F=[];return Object.entries(S.children).forEach(([H,he])=>{H!==jt&&F.push(`${H}:${Gr(he,!1)}`)}),F.length>0?`${w}(${F.join("//")})`:w}{const w=function le(S,N){let w=[];return Object.entries(S.children).forEach(([F,H])=>{F===jt&&(w=w.concat(N(H,F)))}),Object.entries(S.children).forEach(([F,H])=>{F!==jt&&(w=w.concat(N(H,F)))}),w}(S,(F,H)=>H===jt?[Gr(S.children[jt],!1)]:[`${H}:${Gr(F,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[jt]?`${jn(S)}/${w[0]}`:`${jn(S)}/(${w.join("//")})`}}function Cr(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ii(S){return Cr(S).replace(/%3B/gi,";")}function G(S){return Cr(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function x(S){return decodeURIComponent(S)}function A(S){return x(S.replace(/\+/g,"%20"))}function J(S){return`${G(S.path)}${function $(S){return Object.keys(S).map(N=>`;${G(N)}=${G(S[N])}`).join("")}(S.parameters)}`}const We=/^[^\/()?;#]+/;function Wt(S){const N=S.match(We);return N?N[0]:""}const Yt=/^[^\/()?;=#]+/,ar=/^[^=?&#]+/,Ue=/^[^&#]+/;class Vt{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wn([],{}):new Wn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(N.length>0||Object.keys(w).length>0)&&(F[jt]=new Wn(N,w)),F}parseSegment(){const N=Wt(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new i.wOt(4009,!1);return this.capture(N),new bi(x(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const w=function Sn(S){const N=S.match(Yt);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let F="";if(this.consumeOptional("=")){const H=Wt(this.remaining);H&&(F=H,this.capture(F))}N[x(w)]=x(F)}parseQueryParam(N){const w=function Ve(S){const N=S.match(ar);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let F="";if(this.consumeOptional("=")){const Ne=function qe(S){const N=S.match(Ue);return N?N[0]:""}(this.remaining);Ne&&(F=Ne,this.capture(F))}const H=A(w),he=A(F);if(N.hasOwnProperty(H)){let Ne=N[H];Array.isArray(Ne)||(Ne=[Ne],N[H]=Ne),Ne.push(he)}else N[H]=he}parseParens(N){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Wt(this.remaining),H=this.remaining[F.length];if("/"!==H&&")"!==H&&";"!==H)throw new i.wOt(4010,!1);let he;F.indexOf(":")>-1?(he=F.slice(0,F.indexOf(":")),this.capture(he),this.capture(":")):N&&(he=jt);const Ne=this.parseChildren();w[he]=1===Object.keys(Ne).length?Ne[jt]:new Wn([],Ne),this.consumeOptional("//")}return w}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new i.wOt(4011,!1)}}function rn(S){return S.segments.length>0?new Wn([],{[jt]:S}):S}function _n(S){const N={};for(const F of Object.keys(S.children)){const he=_n(S.children[F]);if(F===jt&&0===he.segments.length&&he.hasChildren())for(const[Ne,Pt]of Object.entries(he.children))N[Ne]=Pt;else(he.segments.length>0||he.hasChildren())&&(N[F]=he)}return function fn(S){if(1===S.numberOfChildren&&S.children[jt]){const N=S.children[jt];return new Wn(S.segments.concat(N.segments),N.children)}return S}(new Wn(S.segments,N))}function lr(S){return S instanceof mr}function yi(S){let N;const H=rn(function w(he){const Ne={};for(const Ct of he.children){const Cn=w(Ct);Ne[Ct.outlet]=Cn}const Pt=new Wn(he.url,Ne);return he===S&&(N=Pt),Pt}(S.root));return N??H}function At(S,N,w,F){let H=S;for(;H.parent;)H=H.parent;if(0===N.length)return dn(H,H,H,w,F);const he=function Ln(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new mn(!0,0,S);let N=0,w=!1;const F=S.reduce((H,he,Ne)=>{if("object"==typeof he&&null!=he){if(he.outlets){const Pt={};return Object.entries(he.outlets).forEach(([Ct,Cn])=>{Pt[Ct]="string"==typeof Cn?Cn.split("/"):Cn}),[...H,{outlets:Pt}]}if(he.segmentPath)return[...H,he.segmentPath]}return"string"!=typeof he?[...H,he]:0===Ne?(he.split("/").forEach((Pt,Ct)=>{0==Ct&&"."===Pt||(0==Ct&&""===Pt?w=!0:".."===Pt?N++:""!=Pt&&H.push(Pt))}),H):[...H,he]},[]);return new mn(w,N,F)}(N);if(he.toRoot())return dn(H,H,new Wn([],{}),w,F);const Ne=function jr(S,N,w){if(S.isAbsolute)return new wr(N,!0,0);if(!w)return new wr(N,!1,NaN);if(null===w.parent)return new wr(w,!0,0);const F=at(S.commands[0])?0:1;return function Qn(S,N,w){let F=S,H=N,he=w;for(;he>H;){if(he-=H,F=F.parent,!F)throw new i.wOt(4005,!1);H=F.segments.length}return new wr(F,!1,H-he)}(w,w.segments.length-1+F,S.numberOfDoubleDots)}(he,H,S),Pt=Ne.processChildren?Vi(Ne.segmentGroup,Ne.index,he.commands):ls(Ne.segmentGroup,Ne.index,he.commands);return dn(H,Ne.segmentGroup,Pt,w,F)}function at(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function kt(S){return"object"==typeof S&&null!=S&&S.outlets}function dn(S,N,w,F,H){let Ne,he={};F&&Object.entries(F).forEach(([Ct,Cn])=>{he[Ct]=Array.isArray(Cn)?Cn.map(_r=>`${_r}`):`${Cn}`}),Ne=S===N?w:Fn(S,N,w);const Pt=rn(_n(Ne));return new mr(Pt,he,H)}function Fn(S,N,w){const F={};return Object.entries(S.children).forEach(([H,he])=>{F[H]=he===N?w:Fn(he,N,w)}),new Wn(S.segments,F)}class mn{constructor(N,w,F){if(this.isAbsolute=N,this.numberOfDoubleDots=w,this.commands=F,N&&F.length>0&&at(F[0]))throw new i.wOt(4003,!1);const H=F.find(kt);if(H&&H!==zn(F))throw new i.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wr{constructor(N,w,F){this.segmentGroup=N,this.processChildren=w,this.index=F}}function ls(S,N,w){if(S||(S=new Wn([],{})),0===S.segments.length&&S.hasChildren())return Vi(S,N,w);const F=function _o(S,N,w){let F=0,H=N;const he={match:!1,pathIndex:0,commandIndex:0};for(;H<S.segments.length;){if(F>=w.length)return he;const Ne=S.segments[H],Pt=w[F];if(kt(Pt))break;const Ct=`${Pt}`,Cn=F<w.length-1?w[F+1]:null;if(H>0&&void 0===Ct)break;if(Ct&&Cn&&"object"==typeof Cn&&void 0===Cn.outlets){if(!Zr(Ct,Cn,Ne))return he;F+=2}else{if(!Zr(Ct,{},Ne))return he;F++}H++}return{match:!0,pathIndex:H,commandIndex:F}}(S,N,w),H=w.slice(F.commandIndex);if(F.match&&F.pathIndex<S.segments.length){const he=new Wn(S.segments.slice(0,F.pathIndex),{});return he.children[jt]=new Wn(S.segments.slice(F.pathIndex),S.children),Vi(he,0,H)}return F.match&&0===H.length?new Wn(S.segments,{}):F.match&&!S.hasChildren()?Hs(S,N,w):F.match?Vi(S,0,H):Hs(S,N,w)}function Vi(S,N,w){if(0===w.length)return new Wn(S.segments,{});{const F=function Ai(S){return kt(S[0])?S[0].outlets:{[jt]:S}}(w),H={};if(Object.keys(F).some(he=>he!==jt)&&S.children[jt]&&1===S.numberOfChildren&&0===S.children[jt].segments.length){const he=Vi(S.children[jt],N,w);return new Wn(S.segments,he.children)}return Object.entries(F).forEach(([he,Ne])=>{"string"==typeof Ne&&(Ne=[Ne]),null!==Ne&&(H[he]=ls(S.children[he],N,Ne))}),Object.entries(S.children).forEach(([he,Ne])=>{void 0===F[he]&&(H[he]=Ne)}),new Wn(S.segments,H)}}function Hs(S,N,w){const F=S.segments.slice(0,N);let H=0;for(;H<w.length;){const he=w[H];if(kt(he)){const Ct=zi(he.outlets);return new Wn(F,Ct)}if(0===H&&at(w[0])){F.push(new bi(S.segments[N].path,Ao(w[0]))),H++;continue}const Ne=kt(he)?he.outlets[jt]:`${he}`,Pt=H<w.length-1?w[H+1]:null;Ne&&Pt&&at(Pt)?(F.push(new bi(Ne,Ao(Pt))),H+=2):(F.push(new bi(Ne,{})),H++)}return new Wn(F,{})}function zi(S){const N={};return Object.entries(S).forEach(([w,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(N[w]=Hs(new Wn([],{}),0,F))}),N}function Ao(S){const N={};return Object.entries(S).forEach(([w,F])=>N[w]=`${F}`),N}function Zr(S,N,w){return S==w.path&&Bt(N,w.parameters)}const Ki="imperative";class ys{constructor(N,w){this.id=N,this.url=w}}class ei extends ys{constructor(N,w,F="imperative",H=null){super(N,w),this.type=0,this.navigationTrigger=F,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bi extends ys{constructor(N,w,F){super(N,w),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oi extends ys{constructor(N,w,F,H){super(N,w),this.reason=F,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Er extends ys{constructor(N,w,F,H){super(N,w),this.reason=F,this.code=H,this.type=16}}class zs extends ys{constructor(N,w,F,H){super(N,w),this.error=F,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Do extends ys{constructor(N,w,F,H){super(N,w),this.urlAfterRedirects=F,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class li extends ys{constructor(N,w,F,H){super(N,w),this.urlAfterRedirects=F,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ba extends ys{constructor(N,w,F,H,he){super(N,w),this.urlAfterRedirects=F,this.state=H,this.shouldActivate=he,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ua extends ys{constructor(N,w,F,H){super(N,w),this.urlAfterRedirects=F,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di extends ys{constructor(N,w,F,H){super(N,w),this.urlAfterRedirects=F,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ws{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class si{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bs{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ao{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(N,w,F){this.routerEvent=N,this.position=w,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Or{}class ci{constructor(N){this.url=N}}class Rs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ui,this.attachRef=null}}let ui=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,F){const H=this.getOrCreateContext(w);H.outlet=F,this.contexts.set(w,H)}onChildOutletDestroyed(w){const F=this.getContext(w);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let F=this.getContext(w);return F||(F=new Rs,this.contexts.set(w,F)),F}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();class cs{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const w=this.pathFromRoot(N);return w.length>1?w[w.length-2]:null}children(N){const w=Ks(N,this._root);return w?w.children.map(F=>F.value):[]}firstChild(N){const w=Ks(N,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(N){const w=es(N,this._root);return w.length<2?[]:w[w.length-2].children.map(H=>H.value).filter(H=>H!==N)}pathFromRoot(N){return es(N,this._root).map(w=>w.value)}}function Ks(S,N){if(S===N.value)return N;for(const w of N.children){const F=Ks(S,w);if(F)return F}return null}function es(S,N){if(S===N.value)return[N];for(const w of N.children){const F=es(S,w);if(F.length)return F.unshift(N),F}return[]}class Ts{constructor(N,w){this.value=N,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ps(S){const N={};return S&&S.children.forEach(w=>N[w.value.outlet]=w),N}class oi extends cs{constructor(N,w){super(N),this.snapshot=w,ti(this,N)}toString(){return this.snapshot.toString()}}function En(S,N){const w=function ur(S,N){const Ne=new $i([],{},{},"",{},jt,N,null,{});return new qs("",new Ts(Ne,[]))}(0,N),F=new Se.t([new bi("",{})]),H=new Se.t({}),he=new Se.t({}),Ne=new Se.t({}),Pt=new Se.t(""),Ct=new gr(F,H,Ne,Pt,he,jt,N,w.root);return Ct.snapshot=w.root,new oi(new Ts(Ct,[]),w)}class gr{constructor(N,w,F,H,he,Ne,Pt,Ct){this.urlSubject=N,this.paramsSubject=w,this.queryParamsSubject=F,this.fragmentSubject=H,this.dataSubject=he,this.outlet=Ne,this.component=Pt,this._futureSnapshot=Ct,this.title=this.dataSubject?.pipe((0,Ft.T)(Cn=>Cn[Ut]))??(0,Ee.of)(void 0),this.url=N,this.params=w,this.queryParams=F,this.fragment=H,this.data=he}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ft.T)(N=>en(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ft.T)(N=>en(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ts(S,N="emptyOnly"){const w=S.pathFromRoot;let F=0;if("always"!==N)for(F=w.length-1;F>=1;){const H=w[F],he=w[F-1];if(H.routeConfig&&""===H.routeConfig.path)F--;else{if(he.component)break;F--}}return function us(S){return S.reduce((N,w)=>({params:{...N.params,...w.params},data:{...N.data,...w.data},resolve:{...w.data,...N.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(F))}class $i{get title(){return this.data?.[Ut]}constructor(N,w,F,H,he,Ne,Pt,Ct,Cn){this.url=N,this.params=w,this.queryParams=F,this.fragment=H,this.data=he,this.outlet=Ne,this.component=Pt,this.routeConfig=Ct,this._resolve=Cn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=en(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qs extends cs{constructor(N,w){super(w),this.url=N,ti(this,w)}toString(){return ns(this._root)}}function ti(S,N){N.value._routerState=S,N.children.forEach(w=>ti(S,w))}function ns(S){const N=S.children.length>0?` { ${S.children.map(ns).join(", ")} } `:"";return`${S.value}${N}`}function ds(S){if(S.snapshot){const N=S.snapshot,w=S._futureSnapshot;S.snapshot=w,Bt(N.queryParams,w.queryParams)||S.queryParamsSubject.next(w.queryParams),N.fragment!==w.fragment&&S.fragmentSubject.next(w.fragment),Bt(N.params,w.params)||S.paramsSubject.next(w.params),function qn(S,N){if(S.length!==N.length)return!1;for(let w=0;w<S.length;++w)if(!Bt(S[w],N[w]))return!1;return!0}(N.url,w.url)||S.urlSubject.next(w.url),Bt(N.data,w.data)||S.dataSubject.next(w.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function sr(S,N){const w=Bt(S.params,N.params)&&function ht(S,N){return vt(S,N)&&S.every((w,F)=>Bt(w.parameters,N[F].parameters))}(S.url,N.url);return w&&!(!S.parent!=!N.parent)&&(!S.parent||sr(S.parent,N.parent))}let vs=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new i.bkB,this.deactivateEvents=new i.bkB,this.attachEvents=new i.bkB,this.detachEvents=new i.bkB,this.parentContexts=(0,i.WQX)(ui),this.location=(0,i.WQX)(i.c1b),this.changeDetector=(0,i.WQX)(i.gRc),this.environmentInjector=(0,i.WQX)(i.uvJ),this.inputBinder=(0,i.WQX)(re,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:F,previousValue:H}=w.name;if(F)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,F){this.activated=w,this._activatedRoute=F,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,F){if(this.isActivated)throw new i.wOt(4013,!1);this._activatedRoute=w;const H=this.location,Ne=w.snapshot.component,Pt=this.parentContexts.getOrCreateContext(this.name).children,Ct=new Is(w,Pt,H.injector);this.activated=H.createComponent(Ne,{index:H.length,injector:Ct,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275dir=i.FsC({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[i.OA$]})}}return S})();class Is{constructor(N,w,F){this.route=N,this.childContexts=w,this.parent=F}get(N,w){return N===gr?this.route:N===ui?this.childContexts:this.parent.get(N,w)}}const re=new i.nKC("");let Z=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:F}=w,H=ve([F.queryParams,F.params,F.data]).pipe((0,qt.n)(([he,Ne,Pt],Ct)=>(Pt={...he,...Ne,...Pt},0===Ct?(0,Ee.of)(Pt):Promise.resolve(Pt)))).subscribe(he=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(w);const Ne=(0,i.HJs)(F.component);if(Ne)for(const{templateName:Pt}of Ne.inputs)w.activatedComponentRef.setInput(Pt,he[Pt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,H)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac})}}return S})();function je(S,N,w){if(w&&S.shouldReuseRoute(N.value,w.value.snapshot)){const F=w.value;F._futureSnapshot=N.value;const H=function lt(S,N,w){return N.children.map(F=>{for(const H of w.children)if(S.shouldReuseRoute(F.value,H.value.snapshot))return je(S,F,H);return je(S,F)})}(S,N,w);return new Ts(F,H)}{if(S.shouldAttach(N.value)){const he=S.retrieve(N.value);if(null!==he){const Ne=he.route;return Ne.value._futureSnapshot=N.value,Ne.children=N.children.map(Pt=>je(S,Pt)),Ne}}const F=function St(S){return new gr(new Se.t(S.url),new Se.t(S.params),new Se.t(S.queryParams),new Se.t(S.fragment),new Se.t(S.data),S.outlet,S.component,S)}(N.value),H=N.children.map(he=>je(S,he));return new Ts(F,H)}}const an="ngNavigationCancelingError";function Pn(S,N){const{redirectTo:w,navigationBehaviorOptions:F}=lr(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,H=bn(!1,0,N);return H.url=w,H.navigationBehaviorOptions=F,H}function bn(S,N,w){const F=new Error("NavigationCancelingError: "+(S||""));return F[an]=!0,F.cancellationCode=N,w&&(F.url=w),F}function Nr(S){return S&&S[an]}let Hn=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275cmp=i.VBU({type:S,selectors:[["ng-component"]],standalone:!0,features:[i.aNF],decls:1,vars:0,template:function(F,H){1&F&&i.nrm(0,"router-outlet")},dependencies:[vs],encapsulation:2})}}return S})();function Ui(S){const N=S.children&&S.children.map(Ui),w=N?{...S,children:N}:{...S};return!w.component&&!w.loadComponent&&(N||w.loadChildren)&&w.outlet&&w.outlet!==jt&&(w.component=Hn),w}function br(S){return S.outlet||jt}function di(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let N=S.parent;N;N=N.parent){const w=N.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class Xo{constructor(N,w,F,H,he){this.routeReuseStrategy=N,this.futureState=w,this.currState=F,this.forwardEvent=H,this.inputBindingEnabled=he}activate(N){const w=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,F,N),ds(this.futureState.root),this.activateChildRoutes(w,F,N)}deactivateChildRoutes(N,w,F){const H=Ps(w);N.children.forEach(he=>{const Ne=he.value.outlet;this.deactivateRoutes(he,H[Ne],F),delete H[Ne]}),Object.values(H).forEach(he=>{this.deactivateRouteAndItsChildren(he,F)})}deactivateRoutes(N,w,F){const H=N.value,he=w?w.value:null;if(H===he)if(H.component){const Ne=F.getContext(H.outlet);Ne&&this.deactivateChildRoutes(N,w,Ne.children)}else this.deactivateChildRoutes(N,w,F);else he&&this.deactivateRouteAndItsChildren(w,F)}deactivateRouteAndItsChildren(N,w){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,w):this.deactivateRouteAndOutlet(N,w)}detachAndStoreRouteSubtree(N,w){const F=w.getContext(N.value.outlet),H=F&&N.value.component?F.children:w,he=Ps(N);for(const Ne of Object.keys(he))this.deactivateRouteAndItsChildren(he[Ne],H);if(F&&F.outlet){const Ne=F.outlet.detach(),Pt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Ne,route:N,contexts:Pt})}}deactivateRouteAndOutlet(N,w){const F=w.getContext(N.value.outlet),H=F&&N.value.component?F.children:w,he=Ps(N);for(const Ne of Object.keys(he))this.deactivateRouteAndItsChildren(he[Ne],H);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(N,w,F){const H=Ps(w);N.children.forEach(he=>{this.activateRoutes(he,H[he.value.outlet],F),this.forwardEvent(new ao(he.value.snapshot))}),N.children.length&&this.forwardEvent(new Vs(N.value.snapshot))}activateRoutes(N,w,F){const H=N.value,he=w?w.value:null;if(ds(H),H===he)if(H.component){const Ne=F.getOrCreateContext(H.outlet);this.activateChildRoutes(N,w,Ne.children)}else this.activateChildRoutes(N,w,F);else if(H.component){const Ne=F.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const Pt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Ne.children.onOutletReAttached(Pt.contexts),Ne.attachRef=Pt.componentRef,Ne.route=Pt.route.value,Ne.outlet&&Ne.outlet.attach(Pt.componentRef,Pt.route.value),ds(Pt.route.value),this.activateChildRoutes(N,null,Ne.children)}else{const Pt=di(H.snapshot);Ne.attachRef=null,Ne.route=H,Ne.injector=Pt,Ne.outlet&&Ne.outlet.activateWith(H,Ne.injector),this.activateChildRoutes(N,null,Ne.children)}}else this.activateChildRoutes(N,null,F)}}class ja{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class Qo{constructor(N,w){this.component=N,this.route=w}}function gl(S,N,w){const F=S._root;return So(F,N?N._root:null,w,[F.value])}function Cs(S,N){const w=Symbol(),F=N.get(S,w);return F===w?"function"!=typeof S||(0,i.LfX)(S)?N.get(S):S:F}function So(S,N,w,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const he=Ps(N);return S.children.forEach(Ne=>{(function Ta(S,N,w,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const he=S.value,Ne=N?N.value:null,Pt=w?w.getContext(S.value.outlet):null;if(Ne&&he.routeConfig===Ne.routeConfig){const Ct=function la(S,N,w){if("function"==typeof w)return w(S,N);switch(w){case"pathParamsChange":return!vt(S.url,N.url);case"pathParamsOrQueryParamsChange":return!vt(S.url,N.url)||!Bt(S.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sr(S,N)||!Bt(S.queryParams,N.queryParams);default:return!sr(S,N)}}(Ne,he,he.routeConfig.runGuardsAndResolvers);Ct?H.canActivateChecks.push(new ja(F)):(he.data=Ne.data,he._resolvedData=Ne._resolvedData),So(S,N,he.component?Pt?Pt.children:null:w,F,H),Ct&&Pt&&Pt.outlet&&Pt.outlet.isActivated&&H.canDeactivateChecks.push(new Qo(Pt.outlet.component,Ne))}else Ne&&Pi(N,Pt,H),H.canActivateChecks.push(new ja(F)),So(S,null,he.component?Pt?Pt.children:null:w,F,H)})(Ne,he[Ne.value.outlet],w,F.concat([Ne.value]),H),delete he[Ne.value.outlet]}),Object.entries(he).forEach(([Ne,Pt])=>Pi(Pt,w.getContext(Ne),H)),H}function Pi(S,N,w){const F=Ps(S),H=S.value;Object.entries(F).forEach(([he,Ne])=>{Pi(Ne,H.component?N?N.children.getContext(he):null:N,w)}),w.canDeactivateChecks.push(new Qo(H.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,H))}function ca(S){return"function"==typeof S}function hs(S){return S instanceof it.G||"EmptyError"===S?.name}const xs=Symbol("INITIAL_VALUE");function ki(){return(0,qt.n)(S=>ve(S.map(N=>N.pipe((0,Qt.s)(1),(0,yt.Z)(xs)))).pipe((0,Ft.T)(N=>{for(const w of N)if(!0!==w){if(w===xs)return xs;if(!1===w||w instanceof mr)return w}return!0}),(0,$e.p)(N=>N!==xs),(0,Qt.s)(1)))}function fs(S){return(0,rt.F)((0,ee.M)(N=>{if(lr(N))throw Pn(0,N)}),(0,Ft.T)(N=>!0===N))}class lo{constructor(N){this.segmentGroup=N||null}}class da{constructor(N){this.urlTree=N}}function os(S){return(0,tt.$)(new lo(S))}function Ia(S){return(0,tt.$)(new da(S))}class cu{constructor(N,w){this.urlSerializer=N,this.urlTree=w}noMatchError(N){return new i.wOt(4002,!1)}lineralizeSegments(N,w){let F=[],H=w.root;for(;;){if(F=F.concat(H.segments),0===H.numberOfChildren)return(0,Ee.of)(F);if(H.numberOfChildren>1||!H.children[jt])return(0,tt.$)(new i.wOt(4e3,!1));H=H.children[jt]}}applyRedirectCommands(N,w,F){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),N,F)}applyRedirectCreateUrlTree(N,w,F,H){const he=this.createSegmentGroup(N,w.root,F,H);return new mr(he,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(N,w){const F={};return Object.entries(N).forEach(([H,he])=>{if("string"==typeof he&&he.startsWith(":")){const Pt=he.substring(1);F[H]=w[Pt]}else F[H]=he}),F}createSegmentGroup(N,w,F,H){const he=this.createSegments(N,w.segments,F,H);let Ne={};return Object.entries(w.children).forEach(([Pt,Ct])=>{Ne[Pt]=this.createSegmentGroup(N,Ct,F,H)}),new Wn(he,Ne)}createSegments(N,w,F,H){return w.map(he=>he.path.startsWith(":")?this.findPosParam(N,he,H):this.findOrReturn(he,F))}findPosParam(N,w,F){const H=F[w.path.substring(1)];if(!H)throw new i.wOt(4001,!1);return H}findOrReturn(N,w){let F=0;for(const H of w){if(H.path===N.path)return w.splice(F),H;F++}return N}}const Tr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yl(S,N,w,F,H){const he=vo(S,N,w);return he.matched?(F=function xn(S,N){return S.providers&&!S._injector&&(S._injector=(0,i.Ol2)(S.providers,N,`Route: ${S.path}`)),S._injector??N}(N,F),function Ba(S,N,w,F){const H=N.canMatch;if(!H||0===H.length)return(0,Ee.of)(!0);const he=H.map(Ne=>{const Pt=Cs(Ne,S);return In(function ze(S){return S&&ca(S.canMatch)}(Pt)?Pt.canMatch(N,w):S.runInContext(()=>Pt(N,w)))});return(0,Ee.of)(he).pipe(ki(),fs())}(F,N,w).pipe((0,Ft.T)(Ne=>!0===Ne?he:{...Tr}))):(0,Ee.of)(he)}function vo(S,N,w){if(""===N.path)return"full"===N.pathMatch&&(S.hasChildren()||w.length>0)?{...Tr}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const H=(N.matcher||Ar)(w,S,N);if(!H)return{...Tr};const he={};Object.entries(H.posParams??{}).forEach(([Pt,Ct])=>{he[Pt]=Ct.path});const Ne=H.consumed.length>0?{...he,...H.consumed[H.consumed.length-1].parameters}:he;return{matched:!0,consumedSegments:H.consumed,remainingSegments:w.slice(H.consumed.length),parameters:Ne,positionalParamSegments:H.posParams??{}}}function co(S,N,w,F){return w.length>0&&function vl(S,N,w){return w.some(F=>Ha(S,N,F)&&br(F)!==jt)}(S,w,F)?{segmentGroup:new Wn(N,Ca(F,new Wn(w,S.children))),slicedSegments:[]}:0===w.length&&function Dh(S,N,w){return w.some(F=>Ha(S,N,F))}(S,w,F)?{segmentGroup:new Wn(S.segments,Ga(S,0,w,F,S.children)),slicedSegments:w}:{segmentGroup:new Wn(S.segments,S.children),slicedSegments:w}}function Ga(S,N,w,F,H){const he={};for(const Ne of F)if(Ha(S,w,Ne)&&!H[br(Ne)]){const Pt=new Wn([],{});he[br(Ne)]=Pt}return{...H,...he}}function Ca(S,N){const w={};w[jt]=N;for(const F of S)if(""===F.path&&br(F)!==jt){const H=new Wn([],{});w[br(F)]=H}return w}function Ha(S,N,w){return(!(S.hasChildren()||N.length>0)||"full"!==w.pathMatch)&&""===w.path}class Xl{constructor(N,w,F,H,he,Ne,Pt){this.injector=N,this.configLoader=w,this.rootComponentType=F,this.config=H,this.urlTree=he,this.paramsInheritanceStrategy=Ne,this.urlSerializer=Pt,this.allowRedirects=!0,this.applyRedirects=new cu(this.urlSerializer,this.urlTree)}noMatchError(N){return new i.wOt(4002,!1)}recognize(){const N=co(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,jt).pipe((0,ye.W)(w=>{if(w instanceof da)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof lo?this.noMatchError(w):w}),(0,Ft.T)(w=>{const F=new $i([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,{}),H=new Ts(F,w),he=new qs("",H),Ne=function yn(S,N,w=null,F=null){return At(yi(S),N,w,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return Ne.queryParams=this.urlTree.queryParams,he.url=this.urlSerializer.serialize(Ne),this.inheritParamsAndData(he._root),{state:he,tree:Ne}}))}match(N){return this.processSegmentGroup(this.injector,this.config,N.root,jt).pipe((0,ye.W)(F=>{throw F instanceof lo?this.noMatchError(F):F}))}inheritParamsAndData(N){const w=N.value,F=ts(w,this.paramsInheritanceStrategy);w.params=Object.freeze(F.params),w.data=Object.freeze(F.data),N.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(N,w,F,H){return 0===F.segments.length&&F.hasChildren()?this.processChildren(N,w,F):this.processSegment(N,w,F,F.segments,H,!0)}processChildren(N,w,F){const H=[];for(const he of Object.keys(F.children))"primary"===he?H.unshift(he):H.push(he);return(0,ae.H)(H).pipe((0,Oe.H)(he=>{const Ne=F.children[he],Pt=function rs(S,N){const w=S.filter(F=>br(F)===N);return w.push(...S.filter(F=>br(F)!==N)),w}(w,he);return this.processSegmentGroup(N,Pt,Ne,he)}),(0,Fe.S)((he,Ne)=>(he.push(...Ne),he)),(0,dt.U)(null),function wn(S,N){const w=arguments.length>=2;return F=>F.pipe(S?(0,$e.p)((H,he)=>S(H,he,F)):ke.D,st(1),w?(0,dt.U)(N):(0,$t.v)(()=>new it.G))}(),(0,ct.Z)(he=>{if(null===he)return os(F);const Ne=Wa(he);return function wa(S){S.sort((N,w)=>N.value.outlet===jt?-1:w.value.outlet===jt?1:N.value.outlet.localeCompare(w.value.outlet))}(Ne),(0,Ee.of)(Ne)}))}processSegment(N,w,F,H,he,Ne){return(0,ae.H)(w).pipe((0,Oe.H)(Pt=>this.processSegmentAgainstRoute(Pt._injector??N,w,Pt,F,H,he,Ne).pipe((0,ye.W)(Ct=>{if(Ct instanceof lo)return(0,Ee.of)(null);throw Ct}))),(0,ut.$)(Pt=>!!Pt),(0,ye.W)(Pt=>{if(hs(Pt))return function El(S,N,w){return 0===N.length&&!S.children[w]}(F,H,he)?(0,Ee.of)([]):os(F);throw Pt}))}processSegmentAgainstRoute(N,w,F,H,he,Ne,Pt){return function uu(S,N,w,F){return!!(br(S)===F||F!==jt&&Ha(N,w,S))&&("**"===S.path||vo(N,S,w).matched)}(F,H,he,Ne)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(N,H,F,he,Ne,Pt):Pt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,H,w,F,he,Ne):os(H):os(H)}expandSegmentAgainstRouteUsingRedirect(N,w,F,H,he,Ne){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,F,H,Ne):this.expandRegularSegmentAgainstRouteUsingRedirect(N,w,F,H,he,Ne)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,w,F,H){const he=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?Ia(he):this.applyRedirects.lineralizeSegments(F,he).pipe((0,ct.Z)(Ne=>{const Pt=new Wn(Ne,{});return this.processSegment(N,w,Pt,Ne,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,w,F,H,he,Ne){const{matched:Pt,consumedSegments:Ct,remainingSegments:Cn,positionalParamSegments:_r}=vo(w,H,he);if(!Pt)return os(w);const Sr=this.applyRedirects.applyRedirectCommands(Ct,H.redirectTo,_r);return H.redirectTo.startsWith("/")?Ia(Sr):this.applyRedirects.lineralizeSegments(H,Sr).pipe((0,ct.Z)(Br=>this.processSegment(N,F,w,Br.concat(Cn),Ne,!1)))}matchSegmentAgainstRoute(N,w,F,H,he,Ne){let Pt;if("**"===F.path){const Ct=H.length>0?zn(H).parameters:{},Cn=new $i(H,Ct,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qa(F),br(F),F.component??F._loadedComponent??null,F,M(F));Pt=(0,Ee.of)({snapshot:Cn,consumedSegments:[],remainingSegments:[]}),w.children={}}else Pt=yl(w,F,H,N).pipe((0,Ft.T)(({matched:Ct,consumedSegments:Cn,remainingSegments:_r,parameters:Sr})=>Ct?{snapshot:new $i(Cn,Sr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qa(F),br(F),F.component??F._loadedComponent??null,F,M(F)),consumedSegments:Cn,remainingSegments:_r}:null));return Pt.pipe((0,qt.n)(Ct=>null===Ct?os(w):this.getChildConfig(N=F._injector??N,F,H).pipe((0,qt.n)(({routes:Cn})=>{const _r=F._loadedInjector??N,{snapshot:Sr,consumedSegments:Br,remainingSegments:gi}=Ct,{segmentGroup:Ja,slicedSegments:wl}=co(w,Br,gi,Cn);if(0===wl.length&&Ja.hasChildren())return this.processChildren(_r,Cn,Ja).pipe((0,Ft.T)(Al=>null===Al?null:[new Ts(Sr,Al)]));if(0===Cn.length&&0===wl.length)return(0,Ee.of)([new Ts(Sr,[])]);const tc=br(F)===he;return this.processSegment(_r,Cn,Ja,wl,tc?jt:he,!0).pipe((0,Ft.T)(Al=>[new Ts(Sr,Al)]))}))))}getChildConfig(N,w,F){return w.children?(0,Ee.of)({routes:w.children,injector:N}):w.loadChildren?void 0!==w._loadedRoutes?(0,Ee.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function _l(S,N,w,F){const H=N.canLoad;if(void 0===H||0===H.length)return(0,Ee.of)(!0);const he=H.map(Ne=>{const Pt=Cs(Ne,S);return In(function K(S){return S&&ca(S.canLoad)}(Pt)?Pt.canLoad(N,w):S.runInContext(()=>Pt(N,w)))});return(0,Ee.of)(he).pipe(ki(),fs())}(N,w,F).pipe((0,ct.Z)(H=>H?this.configLoader.loadChildren(N,w).pipe((0,ee.M)(he=>{w._loadedRoutes=he.routes,w._loadedInjector=he.injector})):function Yl(S){return(0,tt.$)(bn(!1,3))}())):(0,Ee.of)({routes:[],injector:N})}}function za(S){const N=S.value.routeConfig;return N&&""===N.path}function Wa(S){const N=[],w=new Set;for(const F of S){if(!za(F)){N.push(F);continue}const H=N.find(he=>F.value.routeConfig===he.value.routeConfig);void 0!==H?(H.children.push(...F.children),w.add(H)):N.push(F)}for(const F of w){const H=Wa(F.children);N.push(new Ts(F.value,H))}return N.filter(F=>!w.has(F))}function qa(S){return S.data||{}}function M(S){return S.resolve||{}}function Bn(S){return"string"==typeof S.title||null===S.title}function Fr(S){return(0,qt.n)(N=>{const w=S(N);return w?(0,ae.H)(w).pipe((0,Ft.T)(()=>N)):(0,Ee.of)(N)})}const Kr=new i.nKC("ROUTES");let qr=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,i.WQX)(i.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Ee.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const F=In(w.loadComponent()).pipe((0,Ft.T)(Mi),(0,ee.M)(he=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=he}),(0,un.j)(()=>{this.componentLoaders.delete(w)})),H=new Ze(F,()=>new Jt.B).pipe(Te());return this.componentLoaders.set(w,H),H}loadChildren(w,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,Ee.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const he=function Ir(S,N,w,F){return In(S.loadChildren()).pipe((0,Ft.T)(Mi),(0,ct.Z)(H=>H instanceof i.Co$||Array.isArray(H)?(0,Ee.of)(H):(0,ae.H)(N.compileModuleAsync(H))),(0,Ft.T)(H=>{F&&F(S);let he,Ne,Pt=!1;return Array.isArray(H)?(Ne=H,!0):(he=H.create(w).injector,Ne=he.get(Kr,[],{optional:!0,self:!0}).flat()),{routes:Ne.map(Ui),injector:he}}))}(F,this.compiler,w,this.onLoadEndListener).pipe((0,un.j)(()=>{this.childrenLoaders.delete(F)})),Ne=new Ze(he,()=>new Jt.B).pipe(Te());return this.childrenLoaders.set(F,Ne),Ne}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Mi(S){return function ni(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Fi=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Jt.B,this.transitionAbortSubject=new Jt.B,this.configLoader=(0,i.WQX)(qr),this.environmentInjector=(0,i.WQX)(i.uvJ),this.urlSerializer=(0,i.WQX)(xe),this.rootContexts=(0,i.WQX)(ui),this.inputBindingEnabled=null!==(0,i.WQX)(re,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ee.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Ws(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new oo(H))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:F})}setupNavigations(w,F,H){return this.transitions=new Se.t({id:0,currentUrlTree:F,currentRawUrl:F,currentBrowserUrl:F,extractedUrl:w.urlHandlingStrategy.extract(F),urlAfterRedirects:w.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ki,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,$e.p)(he=>0!==he.id),(0,Ft.T)(he=>({...he,extractedUrl:w.urlHandlingStrategy.extract(he.rawUrl)})),(0,qt.n)(he=>{this.currentTransition=he;let Ne=!1,Pt=!1;return(0,Ee.of)(he).pipe((0,ee.M)(Ct=>{this.currentNavigation={id:Ct.id,initialUrl:Ct.rawUrl,extractedUrl:Ct.extractedUrl,trigger:Ct.source,extras:Ct.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,qt.n)(Ct=>{const Cn=Ct.currentBrowserUrl.toString(),_r=!w.navigated||Ct.extractedUrl.toString()!==Cn||Cn!==Ct.currentUrlTree.toString();if(!_r&&"reload"!==(Ct.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Br="";return this.events.next(new Er(Ct.id,this.urlSerializer.serialize(Ct.rawUrl),Br,0)),Ct.resolve(null),ft.w}if(w.urlHandlingStrategy.shouldProcessUrl(Ct.rawUrl))return(0,Ee.of)(Ct).pipe((0,qt.n)(Br=>{const gi=this.transitions?.getValue();return this.events.next(new ei(Br.id,this.urlSerializer.serialize(Br.extractedUrl),Br.source,Br.restoredState)),gi!==this.transitions?.getValue()?ft.w:Promise.resolve(Br)}),function se(S,N,w,F,H,he){return(0,ct.Z)(Ne=>function Bo(S,N,w,F,H,he,Ne="emptyOnly"){return new Xl(S,N,w,F,H,Ne,he).recognize()}(S,N,w,F,Ne.extractedUrl,H,he).pipe((0,Ft.T)(({state:Pt,tree:Ct})=>({...Ne,targetSnapshot:Pt,urlAfterRedirects:Ct}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,ee.M)(Br=>{he.targetSnapshot=Br.targetSnapshot,he.urlAfterRedirects=Br.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Br.urlAfterRedirects};const gi=new Do(Br.id,this.urlSerializer.serialize(Br.extractedUrl),this.urlSerializer.serialize(Br.urlAfterRedirects),Br.targetSnapshot);this.events.next(gi)}));if(_r&&w.urlHandlingStrategy.shouldProcessUrl(Ct.currentRawUrl)){const{id:Br,extractedUrl:gi,source:Ja,restoredState:wl,extras:tc}=Ct,Al=new ei(Br,this.urlSerializer.serialize(gi),Ja,wl);this.events.next(Al);const xo=En(0,this.rootComponentType).snapshot;return this.currentTransition=he={...Ct,targetSnapshot:xo,urlAfterRedirects:gi,extras:{...tc,skipLocationChange:!1,replaceUrl:!1}},(0,Ee.of)(he)}{const Br="";return this.events.next(new Er(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),Br,1)),Ct.resolve(null),ft.w}}),(0,ee.M)(Ct=>{const Cn=new li(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),this.urlSerializer.serialize(Ct.urlAfterRedirects),Ct.targetSnapshot);this.events.next(Cn)}),(0,Ft.T)(Ct=>(this.currentTransition=he={...Ct,guards:gl(Ct.targetSnapshot,Ct.currentSnapshot,this.rootContexts)},he)),function Us(S,N){return(0,ct.Z)(w=>{const{targetSnapshot:F,currentSnapshot:H,guards:{canActivateChecks:he,canDeactivateChecks:Ne}}=w;return 0===Ne.length&&0===he.length?(0,Ee.of)({...w,guardsResult:!0}):function eo(S,N,w,F){return(0,ae.H)(S).pipe((0,ct.Z)(H=>function ss(S,N,w,F,H){const he=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!he||0===he.length)return(0,Ee.of)(!0);const Ne=he.map(Pt=>{const Ct=di(N)??H,Cn=Cs(Pt,Ct);return In(function fe(S){return S&&ca(S.canDeactivate)}(Cn)?Cn.canDeactivate(S,N,w,F):Ct.runInContext(()=>Cn(S,N,w,F))).pipe((0,ut.$)())});return(0,Ee.of)(Ne).pipe(ki())}(H.component,H.route,w,N,F)),(0,ut.$)(H=>!0!==H,!0))}(Ne,F,H,S).pipe((0,ct.Z)(Pt=>Pt&&function Ro(S){return"boolean"==typeof S}(Pt)?function Ti(S,N,w,F){return(0,ae.H)(N).pipe((0,Oe.H)(H=>(0,Ht.x)(function ir(S,N){return null!==S&&N&&N(new si(S)),(0,Ee.of)(!0)}(H.route.parent,F),function yo(S,N){return null!==S&&N&&N(new bs(S)),(0,Ee.of)(!0)}(H.route,F),function ua(S,N,w){const F=N[N.length-1],he=N.slice(0,N.length-1).reverse().map(Ne=>function Ms(S){const N=S.routeConfig?S.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:S,guards:N}:null}(Ne)).filter(Ne=>null!==Ne).map(Ne=>Ae(()=>{const Pt=Ne.guards.map(Ct=>{const Cn=di(Ne.node)??w,_r=Cs(Ct,Cn);return In(function V(S){return S&&ca(S.canActivateChild)}(_r)?_r.canActivateChild(F,S):Cn.runInContext(()=>_r(F,S))).pipe((0,ut.$)())});return(0,Ee.of)(Pt).pipe(ki())}));return(0,Ee.of)(he).pipe(ki())}(S,H.path,w),function is(S,N,w){const F=N.routeConfig?N.routeConfig.canActivate:null;if(!F||0===F.length)return(0,Ee.of)(!0);const H=F.map(he=>Ae(()=>{const Ne=di(N)??w,Pt=Cs(he,Ne);return In(function te(S){return S&&ca(S.canActivate)}(Pt)?Pt.canActivate(N,S):Ne.runInContext(()=>Pt(N,S))).pipe((0,ut.$)())}));return(0,Ee.of)(H).pipe(ki())}(S,H.route,w))),(0,ut.$)(H=>!0!==H,!0))}(F,he,S,N):(0,Ee.of)(Pt)),(0,Ft.T)(Pt=>({...w,guardsResult:Pt})))})}(this.environmentInjector,Ct=>this.events.next(Ct)),(0,ee.M)(Ct=>{if(he.guardsResult=Ct.guardsResult,lr(Ct.guardsResult))throw Pn(0,Ct.guardsResult);const Cn=new ba(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),this.urlSerializer.serialize(Ct.urlAfterRedirects),Ct.targetSnapshot,!!Ct.guardsResult);this.events.next(Cn)}),(0,$e.p)(Ct=>!!Ct.guardsResult||(this.cancelNavigationTransition(Ct,"",3),!1)),Fr(Ct=>{if(Ct.guards.canActivateChecks.length)return(0,Ee.of)(Ct).pipe((0,ee.M)(Cn=>{const _r=new Ua(Cn.id,this.urlSerializer.serialize(Cn.extractedUrl),this.urlSerializer.serialize(Cn.urlAfterRedirects),Cn.targetSnapshot);this.events.next(_r)}),(0,qt.n)(Cn=>{let _r=!1;return(0,Ee.of)(Cn).pipe(function B(S,N){return(0,ct.Z)(w=>{const{targetSnapshot:F,guards:{canActivateChecks:H}}=w;if(!H.length)return(0,Ee.of)(w);let he=0;return(0,ae.H)(H).pipe((0,Oe.H)(Ne=>function X(S,N,w,F){const H=S.routeConfig,he=S._resolve;return void 0!==H?.title&&!Bn(H)&&(he[Ut]=H.title),function Le(S,N,w,F){const H=function xt(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===H.length)return(0,Ee.of)({});const he={};return(0,ae.H)(H).pipe((0,ct.Z)(Ne=>function zt(S,N,w,F){const H=di(N)??F,he=Cs(S,H);return In(he.resolve?he.resolve(N,w):H.runInContext(()=>he(N,w)))}(S[Ne],N,w,F).pipe((0,ut.$)(),(0,ee.M)(Pt=>{he[Ne]=Pt}))),st(1),function or(S){return(0,Ft.T)(()=>S)}(he),(0,ye.W)(Ne=>hs(Ne)?ft.w:(0,tt.$)(Ne)))}(he,S,N,F).pipe((0,Ft.T)(Ne=>(S._resolvedData=Ne,S.data=ts(S,w).resolve,H&&Bn(H)&&(S.data[Ut]=H.title),null)))}(Ne.route,F,S,N)),(0,ee.M)(()=>he++),st(1),(0,ct.Z)(Ne=>he===H.length?(0,Ee.of)(w):ft.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,ee.M)({next:()=>_r=!0,complete:()=>{_r||this.cancelNavigationTransition(Cn,"",2)}}))}),(0,ee.M)(Cn=>{const _r=new Di(Cn.id,this.urlSerializer.serialize(Cn.extractedUrl),this.urlSerializer.serialize(Cn.urlAfterRedirects),Cn.targetSnapshot);this.events.next(_r)}))}),Fr(Ct=>{const Cn=_r=>{const Sr=[];_r.routeConfig?.loadComponent&&!_r.routeConfig._loadedComponent&&Sr.push(this.configLoader.loadComponent(_r.routeConfig).pipe((0,ee.M)(Br=>{_r.component=Br}),(0,Ft.T)(()=>{})));for(const Br of _r.children)Sr.push(...Cn(Br));return Sr};return ve(Cn(Ct.targetSnapshot.root)).pipe((0,dt.U)(),(0,Qt.s)(1))}),Fr(()=>this.afterPreactivation()),(0,Ft.T)(Ct=>{const Cn=function Re(S,N,w){const F=je(S,N._root,w?w._root:void 0);return new oi(F,N)}(w.routeReuseStrategy,Ct.targetSnapshot,Ct.currentRouterState);return this.currentTransition=he={...Ct,targetRouterState:Cn},he}),(0,ee.M)(()=>{this.events.next(new Or)}),((S,N,w,F)=>(0,Ft.T)(H=>(new Xo(N,H.targetRouterState,H.currentRouterState,w,F).activate(S),H)))(this.rootContexts,w.routeReuseStrategy,Ct=>this.events.next(Ct),this.inputBindingEnabled),(0,Qt.s)(1),(0,ee.M)({next:Ct=>{Ne=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bi(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),this.urlSerializer.serialize(Ct.urlAfterRedirects))),w.titleStrategy?.updateTitle(Ct.targetRouterState.snapshot),Ct.resolve(!0)},complete:()=>{Ne=!0}}),function sn(S){return(0,pt.N)((N,w)=>{(0,He.Tg)(S).subscribe((0,we._)(w,()=>w.complete(),Nn.l)),!w.closed&&N.subscribe(w)})}(this.transitionAbortSubject.pipe((0,ee.M)(Ct=>{throw Ct}))),(0,un.j)(()=>{Ne||Pt||this.cancelNavigationTransition(he,"",1),this.currentNavigation?.id===he.id&&(this.currentNavigation=null)}),(0,ye.W)(Ct=>{if(Pt=!0,Nr(Ct))this.events.next(new Oi(he.id,this.urlSerializer.serialize(he.extractedUrl),Ct.message,Ct.cancellationCode)),function rr(S){return Nr(S)&&lr(S.url)}(Ct)?this.events.next(new ci(Ct.url)):he.resolve(!1);else{this.events.next(new zs(he.id,this.urlSerializer.serialize(he.extractedUrl),Ct,he.targetSnapshot??void 0));try{he.resolve(w.errorHandler(Ct))}catch(Cn){he.reject(Cn)}}return ft.w}))}))}cancelNavigationTransition(w,F,H){const he=new Oi(w.id,this.urlSerializer.serialize(w.extractedUrl),F,H);this.events.next(he),w.resolve(!1)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function uo(S){return S!==Ki}let Os=(()=>{class S{buildTitle(w){let F,H=w.root;for(;void 0!==H;)F=this.getResolvedTitleForRoute(H)??F,H=H.children.find(he=>he.outlet===jt);return F}getResolvedTitleForRoute(w){return w.data[Ut]}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:function(){return(0,i.WQX)(Jo)},providedIn:"root"})}}return S})(),Jo=(()=>{class S extends Os{constructor(w){super(),this.title=w}updateTitle(w){const F=this.buildTitle(w);void 0!==F&&this.title.setTitle(F)}static{this.\u0275fac=function(F){return new(F||S)(i.KVO(kn.hE))}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),js=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:function(){return(0,i.WQX)(Ji)},providedIn:"root"})}}return S})();class Po{shouldDetach(N){return!1}store(N,w){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,w){return N.routeConfig===w.routeConfig}}let Ji=(()=>{class S extends Po{static{this.\u0275fac=function(){let w;return function(H){return(w||(w=i.xGo(S)))(H||S)}}()}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const Mo=new i.nKC("",{providedIn:"root",factory:()=>({})});let Sh=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:function(){return(0,i.WQX)(xr)},providedIn:"root"})}}return S})(),xr=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,F){return w}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();var Lr=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Lr||{});function bl(S,N){S.events.pipe((0,$e.p)(w=>w instanceof Bi||w instanceof Oi||w instanceof zs||w instanceof Er),(0,Ft.T)(w=>w instanceof Bi||w instanceof Er?Lr.COMPLETE:w instanceof Oi&&(0===w.code||1===w.code)?Lr.REDIRECTING:Lr.FAILED),(0,$e.p)(w=>w!==Lr.REDIRECTING),(0,Qt.s)(1)).subscribe(()=>{N()})}function Qs(S){throw S}function Pc(S,N,w){return N.parse("/")}const dd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ql={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wi=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,i.WQX)(i.H3F),this.isNgZoneEnabled=!1,this._events=new Jt.B,this.options=(0,i.WQX)(Mo,{optional:!0})||{},this.pendingTasks=(0,i.WQX)(i.$K3),this.errorHandler=this.options.errorHandler||Qs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Pc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,i.WQX)(Sh),this.routeReuseStrategy=(0,i.WQX)(js),this.titleStrategy=(0,i.WQX)(Os),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,i.WQX)(Kr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,i.WQX)(Fi),this.urlSerializer=(0,i.WQX)(xe),this.location=(0,i.WQX)(Rn.aZ),this.componentInputBindingEnabled=!!(0,i.WQX)(re,{optional:!0}),this.eventsSubscription=new Nt.yU,this.isNgZoneEnabled=(0,i.WQX)(i.SKi)instanceof i.SKi&&i.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new mr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=En(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(F=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(du(F)&&this._events.next(F));if(F instanceof ei)uo(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(F instanceof Er)this.rawUrlTree=H.rawUrl;else if(F instanceof Do){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const he=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(he,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(F instanceof Or)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(F instanceof Oi)0!==F.code&&1!==F.code&&(this.navigated=!0),(3===F.code||2===F.code)&&this.restoreHistory(H);else if(F instanceof ci){const he=this.urlHandlingStrategy.merge(F.url,H.currentRawUrl),Ne={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uo(H.source)};this.scheduleNavigation(he,Ki,null,Ne,{resolve:H.resolve,reject:H.reject,promise:H.promise})}F instanceof zs&&this.restoreHistory(H,!0),F instanceof Bi&&(this.navigated=!0),du(F)&&this._events.next(F)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ki,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const F="popstate"===w.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,F,w.state)},0)}))}navigateToSyncWithBrowser(w,F,H){const he={replaceUrl:!0},Ne=H?.navigationId?H:null;if(H){const Ct={...H};delete Ct.navigationId,delete Ct.\u0275routerPageId,0!==Object.keys(Ct).length&&(he.state=Ct)}const Pt=this.parseUrl(w);this.scheduleNavigation(Pt,F,Ne,he)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Ui),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,F={}){const{relativeTo:H,queryParams:he,fragment:Ne,queryParamsHandling:Pt,preserveFragment:Ct}=F,Cn=Ct?this.currentUrlTree.fragment:Ne;let Sr,_r=null;switch(Pt){case"merge":_r={...this.currentUrlTree.queryParams,...he};break;case"preserve":_r=this.currentUrlTree.queryParams;break;default:_r=he||null}null!==_r&&(_r=this.removeEmptyProps(_r));try{Sr=yi(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),Sr=this.currentUrlTree.root}return At(Sr,w,_r,Cn??null)}navigateByUrl(w,F={skipLocationChange:!1}){const H=lr(w)?w:this.parseUrl(w),he=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(he,Ki,null,F)}navigate(w,F={skipLocationChange:!1}){return function Rh(S){for(let N=0;N<S.length;N++)if(null==S[N])throw new i.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,F),F)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let F;try{F=this.urlSerializer.parse(w)}catch(H){F=this.malformedUriErrorHandler(H,this.urlSerializer,w)}return F}isActive(w,F){let H;if(H=!0===F?{...dd}:!1===F?{...Ql}:F,lr(w))return Ur(this.currentUrlTree,w,H);const he=this.parseUrl(w);return Ur(this.currentUrlTree,he,H)}removeEmptyProps(w){return Object.keys(w).reduce((F,H)=>{const he=w[H];return null!=he&&(F[H]=he),F},{})}scheduleNavigation(w,F,H,he,Ne){if(this.disposed)return Promise.resolve(!1);let Pt,Ct,Cn;Ne?(Pt=Ne.resolve,Ct=Ne.reject,Cn=Ne.promise):Cn=new Promise((Sr,Br)=>{Pt=Sr,Ct=Br});const _r=this.pendingTasks.add();return bl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_r))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:he,resolve:Pt,reject:Ct,promise:Cn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Cn.catch(Sr=>Promise.reject(Sr))}setBrowserUrl(w,F){const H=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(H)||F.extras.replaceUrl){const Ne={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(H,"",Ne)}else{const he={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(H,"",he)}}restoreHistory(w,F=!1){if("computed"===this.canceledNavigationResolution){const he=this.currentPageId-this.browserPageId;0!==he?this.location.historyGo(he):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===he&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,F){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:F}:{navigationId:w}}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function du(S){return!(S instanceof Or||S instanceof ci)}let Zo=(()=>{class S{constructor(w,F,H,he,Ne,Pt){this.router=w,this.route=F,this.tabIndexAttribute=H,this.renderer=he,this.el=Ne,this.locationStrategy=Pt,this.href=null,this.commands=null,this.onChanges=new Jt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ct=Ne.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ct||"area"===Ct,this.isAnchorElement?this.subscription=w.events.subscribe(Cn=>{Cn instanceof Bi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,F,H,he,Ne){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||F||H||he||Ne||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,i.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,F){const H=this.renderer,he=this.el.nativeElement;null!==F?H.setAttribute(he,w,F):H.removeAttribute(he,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(F){return new(F||S)(i.rXU(Wi),i.rXU(gr),i.kS0("tabindex"),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Rn.hb))}}static{this.\u0275dir=i.FsC({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,H){1&F&&i.bIt("click",function(Ne){return H.onClick(Ne.button,Ne.ctrlKey,Ne.shiftKey,Ne.altKey,Ne.metaKey)}),2&F&&i.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",i.L39],skipLocationChange:["skipLocationChange","skipLocationChange",i.L39],replaceUrl:["replaceUrl","replaceUrl",i.L39],routerLink:"routerLink"},standalone:!0,features:[i.GFd,i.OA$]})}}return S})(),ws=(()=>{class S{get isActive(){return this._isActive}constructor(w,F,H,he,Ne){this.router=w,this.element=F,this.renderer=H,this.cdr=he,this.link=Ne,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new i.bkB,this.routerEventsSubscription=w.events.subscribe(Pt=>{Pt instanceof Bi&&this.update()})}ngAfterContentInit(){(0,Ee.of)(this.links.changes,(0,Ee.of)(null)).pipe((0,Yn.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,ae.H)(w).pipe((0,Yn.U)()).subscribe(F=>{this._isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(w){const F=Array.isArray(w)?w:w.split(" ");this.classes=F.filter(H=>!!H)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(F=>{w?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const F=function Aa(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&w.isActive(H.urlTree,F)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(F){return new(F||S)(i.rXU(Wi),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.gRc),i.rXU(Zo,8))}}static{this.\u0275dir=i.FsC({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(F,H,he){if(1&F&&i.wni(he,Zo,5),2&F){let Ne;i.mGM(Ne=i.lsd())&&(H.links=Ne)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[i.OA$]})}}return S})();class ha{}let Tl=(()=>{class S{constructor(w,F,H,he,Ne){this.router=w,this.injector=H,this.preloadingStrategy=he,this.loader=Ne}setUpPreloading(){this.subscription=this.router.events.pipe((0,$e.p)(w=>w instanceof Bi),(0,Oe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,F){const H=[];for(const he of F){he.providers&&!he._injector&&(he._injector=(0,i.Ol2)(he.providers,w,`Route: ${he.path}`));const Ne=he._injector??w,Pt=he._loadedInjector??Ne;(he.loadChildren&&!he._loadedRoutes&&void 0===he.canLoad||he.loadComponent&&!he._loadedComponent)&&H.push(this.preloadConfig(Ne,he)),(he.children||he._loadedRoutes)&&H.push(this.processRoutes(Pt,he.children??he._loadedRoutes))}return(0,ae.H)(H).pipe((0,Yn.U)())}preloadConfig(w,F){return this.preloadingStrategy.preload(F,()=>{let H;H=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(w,F):(0,Ee.of)(null);const he=H.pipe((0,ct.Z)(Ne=>null===Ne?(0,Ee.of)(void 0):(F._loadedRoutes=Ne.routes,F._loadedInjector=Ne.injector,this.processRoutes(Ne.injector??w,Ne.routes))));if(F.loadComponent&&!F._loadedComponent){const Ne=this.loader.loadComponent(F);return(0,ae.H)([he,Ne]).pipe((0,Yn.U)())}return he})}static{this.\u0275fac=function(F){return new(F||S)(i.KVO(Wi),i.KVO(i.Ql9),i.KVO(i.uvJ),i.KVO(ha),i.KVO(qr))}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const hu=new i.nKC("");let pr=(()=>{class S{constructor(w,F,H,he,Ne={}){this.urlSerializer=w,this.transitions=F,this.viewportScroller=H,this.zone=he,this.options=Ne,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ne.scrollPositionRestoration=Ne.scrollPositionRestoration||"disabled",Ne.anchorScrolling=Ne.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof ei?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Bi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Er&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Ss&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ss(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(F){i.QTQ()}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac})}}return S})();function fa(S,N){return{\u0275kind:S,\u0275providers:N}}function fd(){const S=(0,i.WQX)(i.zZn);return N=>{const w=S.get(i.o8S);if(N!==w.components[0])return;const F=S.get(Wi),H=S.get(mu);1===S.get(as)&&F.initialNavigation(),S.get(Pr,null,i.$GK.Optional)?.setUpPreloading(),S.get(hu,null,i.$GK.Optional)?.init(),F.resetRootComponentType(w.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const mu=new i.nKC("",{factory:()=>new Jt.B}),as=new i.nKC("",{providedIn:"root",factory:()=>1}),Pr=new i.nKC("");function $o(S){return fa(0,[{provide:Pr,useExisting:Tl},{provide:ha,useExisting:S}])}const Ya=new i.nKC("ROUTER_FORROOT_GUARD"),_u=[Rn.aZ,{provide:xe,useClass:Rt},Wi,ui,{provide:gr,useFactory:function fu(S){return S.routerState.root},deps:[Wi]},qr,[]];function yu(){return new i.NEm("Router",Wi)}let Oc=(()=>{class S{constructor(w){}static forRoot(w,F){return{ngModule:S,providers:[_u,[],{provide:Kr,multi:!0,useValue:w},{provide:Ya,useFactory:Ra,deps:[[Wi,new i.Xx1,new i.kdw]]},{provide:Mo,useValue:F||{}},F?.useHash?{provide:Rn.hb,useClass:Rn.fw}:{provide:Rn.hb,useClass:Rn.Sm},{provide:hu,useFactory:()=>{const S=(0,i.WQX)(Rn.Xr),N=(0,i.WQX)(i.SKi),w=(0,i.WQX)(Mo),F=(0,i.WQX)(Fi),H=(0,i.WQX)(xe);return w.scrollOffset&&S.setOffset(w.scrollOffset),new pr(H,F,S,N,w)}},F?.preloadingStrategy?$o(F.preloadingStrategy).\u0275providers:[],{provide:i.NEm,multi:!0,useFactory:yu},F?.initialNavigation?Xa(F):[],F?.bindToComponentInputs?fa(8,[Z,{provide:re,useExisting:Z}]).\u0275providers:[],[{provide:bo,useFactory:fd},{provide:i.iLQ,multi:!0,useExisting:bo}]]}}static forChild(w){return{ngModule:S,providers:[{provide:Kr,multi:!0,useValue:w}]}}static{this.\u0275fac=function(F){return new(F||S)(i.KVO(Ya,8))}}static{this.\u0275mod=i.$C({type:S})}static{this.\u0275inj=i.G2t({})}}return S})();function Ra(S){return"guarded"}function Xa(S){return["disabled"===S.initialNavigation?fa(3,[{provide:i.hnV,multi:!0,useFactory:()=>{const N=(0,i.WQX)(Wi);return()=>{N.setUpLocationChangeListener()}}},{provide:as,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?fa(2,[{provide:as,useValue:0},{provide:i.hnV,multi:!0,deps:[i.zZn],useFactory:N=>{const w=N.get(Rn.hj,Promise.resolve());return()=>w.then(()=>new Promise(F=>{const H=N.get(Wi),he=N.get(mu);bl(H,()=>{F(!0)}),N.get(Fi).afterPreactivation=()=>(F(!0),he.closed?(0,Ee.of)(void 0):he),H.initialNavigation()}))}}]).\u0275providers:[]]}const bo=new i.nKC("")},3345:(on,Xe,k)=>{k.d(Xe,{A:()=>ve});var i=k(1076),oe=k(1362),r=k(7852),be=k(8041);class ae{constructor(Ce,it){this._delegate=Ce,this.firebase=it,(0,r._addComponent)(Ce,new oe.uA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,r.deleteApp)(this._delegate)))}_getService(Ce,it=r._DEFAULT_ENTRY_NAME){var Ht;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(Ce);return!He.isInitialized()&&"EXPLICIT"===(null===(Ht=He.getComponent())||void 0===Ht?void 0:Ht.instantiationMode)&&He.initialize(),He.getImmediate({identifier:it})}_removeServiceInstance(Ce,it=r._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(it)}_addComponent(Ce){(0,r._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,r._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new i.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ke(){const Ye=function Ie(Ye){const Ce={},it={__esModule:!0,initializeApp:function Ae(Nt,pt={}){const Te=r.initializeApp(Nt,pt);if((0,i.gR)(Ce,Te.name))return Ce[Te.name];const Ze=new Ye(Te,it);return Ce[Te.name]=Ze,Ze},app:He,registerVersion:r.registerVersion,setLogLevel:r.setLogLevel,onLog:r.onLog,apps:null,SDK_VERSION:r.SDK_VERSION,INTERNAL:{registerComponent:function tt(Nt){const pt=Nt.name,Te=pt.replace("-compat","");if(r._registerComponent(Nt)&&"PUBLIC"===Nt.type){const Ze=(Jt=He())=>{if("function"!=typeof Jt[Te])throw Se.create("invalid-app-argument",{appName:pt});return Jt[Te]()};void 0!==Nt.serviceProps&&(0,i.zw)(Ze,Nt.serviceProps),it[Te]=Ze,Ye.prototype[Te]=function(...Jt){return this._getService.bind(this,pt).apply(this,Nt.multipleInstances?Jt:[])}}return"PUBLIC"===Nt.type?it[Te]:null},removeApp:function Ht(Nt){delete Ce[Nt]},useAsService:function ft(Nt,pt){return"serverAuth"===pt?null:pt},modularAPIs:r}};function He(Nt){if(!(0,i.gR)(Ce,Nt=Nt||r._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:Nt});return Ce[Nt]}return it.default=it,Object.defineProperty(it,"apps",{get:function rt(){return Object.keys(Ce).map(Nt=>Ce[Nt])}}),He.App=Ye,it}(ae);return Ye.INTERNAL=Object.assign(Object.assign({},Ye.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function Ce(it){(0,i.zw)(Ye,it)},createSubscribe:i.tD,ErrorFactory:i.FA,deepExtend:i.zw}),Ye}(),ne=new be.Vy("@firebase/app-compat");try{const Ye=(0,i.mS)();if(void 0!==Ye.firebase){ne.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Ce=Ye.firebase.SDK_VERSION;Ce&&Ce.indexOf("LITE")>=0&&ne.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const ve=W;!function Be(Ye){(0,r.registerVersion)("@firebase/app-compat","0.2.43",Ye)}()},7852:(on,Xe,k)=>{k.r(Xe),k.d(Xe,{FirebaseError:()=>be.g,SDK_VERSION:()=>Rt,_DEFAULT_ENTRY_NAME:()=>In,_addComponent:()=>zr,_addOrOverwriteComponent:()=>Zi,_apps:()=>Dr,_clearComponents:()=>bi,_components:()=>Kn,_getProvider:()=>Wr,_isFirebaseApp:()=>mr,_isFirebaseServerApp:()=>Wn,_registerComponent:()=>hn,_removeServiceInstance:()=>tr,_serverApps:()=>Ur,deleteApp:()=>ii,getApp:()=>Gr,getApps:()=>Cr,initializeApp:()=>Gt,initializeServerApp:()=>jn,onLog:()=>x,registerVersion:()=>G,setLogLevel:()=>A});var i=k(467),oe=k(1362),r=k(8041),be=k(1076);const ae=(At,at)=>at.some(kt=>At instanceof kt);let Ee,Se;const W=new WeakMap,ne=new WeakMap,pe=new WeakMap,we=new WeakMap,Be=new WeakMap;let Ce={get(At,at,kt){if(At instanceof IDBTransaction){if("done"===at)return ne.get(At);if("objectStoreNames"===at)return At.objectStoreNames||pe.get(At);if("store"===at)return kt.objectStoreNames[1]?void 0:kt.objectStore(kt.objectStoreNames[0])}return Ae(At[at])},set:(At,at,kt)=>(At[at]=kt,!0),has:(At,at)=>At instanceof IDBTransaction&&("done"===at||"store"===at)||at in At};function He(At){return"function"==typeof At?function Ht(At){return At!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(At)?function(...at){return At.apply(rt(this),at),Ae(W.get(this))}:function(...at){return Ae(At.apply(rt(this),at))}:function(at,...kt){const dn=At.call(rt(this),at,...kt);return pe.set(dn,at.sort?at.sort():[at]),Ae(dn)}}(At):(At instanceof IDBTransaction&&function Ye(At){if(ne.has(At))return;const at=new Promise((kt,dn)=>{const Fn=()=>{At.removeEventListener("complete",mn),At.removeEventListener("error",Ln),At.removeEventListener("abort",Ln)},mn=()=>{kt(),Fn()},Ln=()=>{dn(At.error||new DOMException("AbortError","AbortError")),Fn()};At.addEventListener("complete",mn),At.addEventListener("error",Ln),At.addEventListener("abort",Ln)});ne.set(At,at)}(At),ae(At,function Ie(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(At,Ce):At)}function Ae(At){if(At instanceof IDBRequest)return function ve(At){const at=new Promise((kt,dn)=>{const Fn=()=>{At.removeEventListener("success",mn),At.removeEventListener("error",Ln)},mn=()=>{kt(Ae(At.result)),Fn()},Ln=()=>{dn(At.error),Fn()};At.addEventListener("success",mn),At.addEventListener("error",Ln)});return at.then(kt=>{kt instanceof IDBCursor&&W.set(kt,At)}).catch(()=>{}),Be.set(at,At),at}(At);if(we.has(At))return we.get(At);const at=He(At);return at!==At&&(we.set(At,at),Be.set(at,At)),at}const rt=At=>Be.get(At),Nt=["get","getKey","getAll","getAllKeys","count"],pt=["put","add","delete","clear"],Te=new Map;function Ze(At,at){if(!(At instanceof IDBDatabase)||at in At||"string"!=typeof at)return;if(Te.get(at))return Te.get(at);const kt=at.replace(/FromIndex$/,""),dn=at!==kt,Fn=pt.includes(kt);if(!(kt in(dn?IDBIndex:IDBObjectStore).prototype)||!Fn&&!Nt.includes(kt))return;const mn=function(){var Ln=(0,i.A)(function*(wr,...jr){const Qn=this.transaction(wr,Fn?"readwrite":"readonly");let Ai=Qn.store;return dn&&(Ai=Ai.index(jr.shift())),(yield Promise.all([Ai[kt](...jr),Fn&&Qn.done]))[0]});return function(jr){return Ln.apply(this,arguments)}}();return Te.set(at,mn),mn}!function it(At){Ce=At(Ce)}(At=>({...At,get:(at,kt,dn)=>Ze(at,kt)||At.get(at,kt,dn),has:(at,kt)=>!!Ze(at,kt)||At.has(at,kt)}));class Jt{constructor(at){this.container=at}getPlatformInfoString(){return this.container.getProviders().map(kt=>{if(function Rn(At){const at=At.getComponent();return"VERSION"===at?.type}(kt)){const dn=kt.getImmediate();return`${dn.library}/${dn.version}`}return null}).filter(kt=>kt).join(" ")}}const Ft="@firebase/app",qt="0.10.13",Qt=new r.Vy("@firebase/app"),In="[DEFAULT]",Rr={[Ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Dr=new Map,Ur=new Map,Kn=new Map;function zr(At,at){try{At.container.addComponent(at)}catch(kt){Qt.debug(`Component ${at.name} failed to register with FirebaseApp ${At.name}`,kt)}}function Zi(At,at){At.container.addOrOverwriteComponent(at)}function hn(At){const at=At.name;if(Kn.has(at))return Qt.debug(`There were multiple attempts to register component ${at}.`),!1;Kn.set(at,At);for(const kt of Dr.values())zr(kt,At);for(const kt of Ur.values())zr(kt,At);return!0}function Wr(At,at){const kt=At.container.getProvider("heartbeat").getImmediate({optional:!0});return kt&&kt.triggerHeartbeat(),At.container.getProvider(at)}function tr(At,at,kt=In){Wr(At,at).clearInstance(kt)}function mr(At){return void 0!==At.options}function Wn(At){return void 0!==At.settings}function bi(){Kn.clear()}const vt=new be.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class le{constructor(at,kt,dn){this._isDeleted=!1,this._options=Object.assign({},at),this._config=Object.assign({},kt),this._name=kt.name,this._automaticDataCollectionEnabled=kt.automaticDataCollectionEnabled,this._container=dn,this.container.addComponent(new oe.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this.checkDestroyed(),this._automaticDataCollectionEnabled=at}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(at){this._isDeleted=at}checkDestroyed(){if(this.isDeleted)throw vt.create("app-deleted",{appName:this._name})}}class xe extends le{constructor(at,kt,dn,Fn){const mn=void 0!==kt.automaticDataCollectionEnabled&&kt.automaticDataCollectionEnabled,Ln={name:dn,automaticDataCollectionEnabled:mn};super(void 0!==at.apiKey?at:at.options,Ln,Fn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:mn},kt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,kt.releaseOnDeref=void 0,G(Ft,qt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(at){this.isDeleted||(this._refCount++,void 0!==at&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(at,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ii(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw vt.create("server-app-deleted")}}const Rt="10.14.1";function Gt(At,at={}){let kt=At;"object"!=typeof at&&(at={name:at});const dn=Object.assign({name:In,automaticDataCollectionEnabled:!1},at),Fn=dn.name;if("string"!=typeof Fn||!Fn)throw vt.create("bad-app-name",{appName:String(Fn)});if(kt||(kt=(0,be.T9)()),!kt)throw vt.create("no-options");const mn=Dr.get(Fn);if(mn){if((0,be.bD)(kt,mn.options)&&(0,be.bD)(dn,mn.config))return mn;throw vt.create("duplicate-app",{appName:Fn})}const Ln=new oe.h1(Fn);for(const jr of Kn.values())Ln.addComponent(jr);const wr=new le(kt,dn,Ln);return Dr.set(Fn,wr),wr}function jn(At,at){if((0,be.Bd)()&&!(0,be.p7)())throw vt.create("invalid-server-app-environment");let kt;void 0===at.automaticDataCollectionEnabled&&(at.automaticDataCollectionEnabled=!1),kt=mr(At)?At.options:At;const dn=Object.assign(Object.assign({},at),kt);if(void 0!==dn.releaseOnDeref&&delete dn.releaseOnDeref,void 0!==at.releaseOnDeref&&typeof FinalizationRegistry>"u")throw vt.create("finalization-registry-not-supported",{});const mn=""+(Qn=JSON.stringify(dn),[...Qn].reduce((Ai,ls)=>Math.imul(31,Ai)+ls.charCodeAt(0)|0,0)),Ln=Ur.get(mn);var Qn;if(Ln)return Ln.incRefCount(at.releaseOnDeref),Ln;const wr=new oe.h1(mn);for(const Qn of Kn.values())wr.addComponent(Qn);const jr=new xe(kt,at,mn,wr);return Ur.set(mn,jr),jr}function Gr(At=In){const at=Dr.get(At);if(!at&&At===In&&(0,be.T9)())return Gt();if(!at)throw vt.create("no-app",{appName:At});return at}function Cr(){return Array.from(Dr.values())}function ii(At){return It.apply(this,arguments)}function It(){return(It=(0,i.A)(function*(At){let at=!1;const kt=At.name;Dr.has(kt)?(at=!0,Dr.delete(kt)):Ur.has(kt)&&At.decRefCount()<=0&&(Ur.delete(kt),at=!0),at&&(yield Promise.all(At.container.getProviders().map(dn=>dn.delete())),At.isDeleted=!0)})).apply(this,arguments)}function G(At,at,kt){var dn;let Fn=null!==(dn=Rr[At])&&void 0!==dn?dn:At;kt&&(Fn+=`-${kt}`);const mn=Fn.match(/\s|\//),Ln=at.match(/\s|\//);if(mn||Ln){const wr=[`Unable to register library "${Fn}" with version "${at}":`];return mn&&wr.push(`library name "${Fn}" contains illegal characters (whitespace or "/")`),mn&&Ln&&wr.push("and"),Ln&&wr.push(`version name "${at}" contains illegal characters (whitespace or "/")`),void Qt.warn(wr.join(" "))}hn(new oe.uA(`${Fn}-version`,()=>({library:Fn,version:at}),"VERSION"))}function x(At,at){if(null!==At&&"function"!=typeof At)throw vt.create("invalid-log-argument");(0,r.Ey)(At,at)}function A(At){(0,r.He)(At)}const J="firebase-heartbeat-database",$=1,ge="firebase-heartbeat-store";let We=null;function Wt(){return We||(We=function tt(At,at,{blocked:kt,upgrade:dn,blocking:Fn,terminated:mn}={}){const Ln=indexedDB.open(At,at),wr=Ae(Ln);return dn&&Ln.addEventListener("upgradeneeded",jr=>{dn(Ae(Ln.result),jr.oldVersion,jr.newVersion,Ae(Ln.transaction),jr)}),kt&&Ln.addEventListener("blocked",jr=>kt(jr.oldVersion,jr.newVersion,jr)),wr.then(jr=>{mn&&jr.addEventListener("close",()=>mn()),Fn&&jr.addEventListener("versionchange",Qn=>Fn(Qn.oldVersion,Qn.newVersion,Qn))}).catch(()=>{}),wr}(J,$,{upgrade:(At,at)=>{if(0===at)try{At.createObjectStore(ge)}catch(kt){console.warn(kt)}}}).catch(At=>{throw vt.create("idb-open",{originalErrorMessage:At.message})})),We}function Sn(){return(Sn=(0,i.A)(function*(At){try{const kt=(yield Wt()).transaction(ge),dn=yield kt.objectStore(ge).get(Ue(At));return yield kt.done,dn}catch(at){if(at instanceof be.g)Qt.warn(at.message);else{const kt=vt.create("idb-get",{originalErrorMessage:at?.message});Qt.warn(kt.message)}}})).apply(this,arguments)}function ar(At,at){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,i.A)(function*(At,at){try{const dn=(yield Wt()).transaction(ge,"readwrite");yield dn.objectStore(ge).put(at,Ue(At)),yield dn.done}catch(kt){if(kt instanceof be.g)Qt.warn(kt.message);else{const dn=vt.create("idb-set",{originalErrorMessage:kt?.message});Qt.warn(dn.message)}}})).apply(this,arguments)}function Ue(At){return`${At.name}!${At.options.appId}`}class rn{constructor(at){this.container=at,this._heartbeatsCache=null;const kt=this.container.getProvider("app").getImmediate();this._storage=new lr(kt),this._heartbeatsCachePromise=this._storage.read().then(dn=>(this._heartbeatsCache=dn,dn))}triggerHeartbeat(){var at=this;return(0,i.A)(function*(){var kt,dn;try{const mn=at.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ln=_n();return null==(null===(kt=at._heartbeatsCache)||void 0===kt?void 0:kt.heartbeats)&&(at._heartbeatsCache=yield at._heartbeatsCachePromise,null==(null===(dn=at._heartbeatsCache)||void 0===dn?void 0:dn.heartbeats))||at._heartbeatsCache.lastSentHeartbeatDate===Ln||at._heartbeatsCache.heartbeats.some(wr=>wr.date===Ln)?void 0:(at._heartbeatsCache.heartbeats.push({date:Ln,agent:mn}),at._heartbeatsCache.heartbeats=at._heartbeatsCache.heartbeats.filter(wr=>{const jr=new Date(wr.date).valueOf();return Date.now()-jr<=2592e6}),at._storage.overwrite(at._heartbeatsCache))}catch(Fn){Qt.warn(Fn)}})()}getHeartbeatsHeader(){var at=this;return(0,i.A)(function*(){var kt;try{if(null===at._heartbeatsCache&&(yield at._heartbeatsCachePromise),null==(null===(kt=at._heartbeatsCache)||void 0===kt?void 0:kt.heartbeats)||0===at._heartbeatsCache.heartbeats.length)return"";const dn=_n(),{heartbeatsToSend:Fn,unsentEntries:mn}=function fn(At,at=1024){const kt=[];let dn=At.slice();for(const Fn of At){const mn=kt.find(Ln=>Ln.agent===Fn.agent);if(mn){if(mn.dates.push(Fn.date),yn(kt)>at){mn.dates.pop();break}}else if(kt.push({agent:Fn.agent,dates:[Fn.date]}),yn(kt)>at){kt.pop();break}dn=dn.slice(1)}return{heartbeatsToSend:kt,unsentEntries:dn}}(at._heartbeatsCache.heartbeats),Ln=(0,be.Uj)(JSON.stringify({version:2,heartbeats:Fn}));return at._heartbeatsCache.lastSentHeartbeatDate=dn,mn.length>0?(at._heartbeatsCache.heartbeats=mn,yield at._storage.overwrite(at._heartbeatsCache)):(at._heartbeatsCache.heartbeats=[],at._storage.overwrite(at._heartbeatsCache)),Ln}catch(dn){return Qt.warn(dn),""}})()}}function _n(){return(new Date).toISOString().substring(0,10)}class lr{constructor(at){this.app=at,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,i.A)(function*(){return!!(0,be.zW)()&&(0,be.eX)().then(()=>!0).catch(()=>!1)})()}read(){var at=this;return(0,i.A)(function*(){if(yield at._canUseIndexedDBPromise){const dn=yield function Yt(At){return Sn.apply(this,arguments)}(at.app);return dn?.heartbeats?dn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(at){var kt=this;return(0,i.A)(function*(){var dn;if(yield kt._canUseIndexedDBPromise){const mn=yield kt.read();return ar(kt.app,{lastSentHeartbeatDate:null!==(dn=at.lastSentHeartbeatDate)&&void 0!==dn?dn:mn.lastSentHeartbeatDate,heartbeats:at.heartbeats})}})()}add(at){var kt=this;return(0,i.A)(function*(){var dn;if(yield kt._canUseIndexedDBPromise){const mn=yield kt.read();return ar(kt.app,{lastSentHeartbeatDate:null!==(dn=at.lastSentHeartbeatDate)&&void 0!==dn?dn:mn.lastSentHeartbeatDate,heartbeats:[...mn.heartbeats,...at.heartbeats]})}})()}}function yn(At){return(0,be.Uj)(JSON.stringify({version:2,heartbeats:At})).length}!function yi(At){hn(new oe.uA("platform-logger",at=>new Jt(at),"PRIVATE")),hn(new oe.uA("heartbeat",at=>new rn(at),"PRIVATE")),G(Ft,qt,At),G(Ft,qt,"esm2017"),G("fire-js","")}("")},1362:(on,Xe,k)=>{k.d(Xe,{h1:()=>Ie,uA:()=>r});var i=k(467),oe=k(1076);class r{constructor(W,ne,pe){this.name=W,this.instanceFactory=ne,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const be="[DEFAULT]";class ae{constructor(W,ne){this.name=W,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const ne=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(ne)){const pe=new oe.cY;if(this.instancesDeferred.set(ne,pe),this.isInitialized(ne)||this.shouldAutoInitialize())try{const we=this.getOrInitializeService({instanceIdentifier:ne});we&&pe.resolve(we)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(W){var ne;const pe=this.normalizeInstanceIdentifier(W?.identifier),we=null!==(ne=W?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(we)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(Be){if(we)return null;throw Be}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function Se(ke){return"EAGER"===ke.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[ne,pe]of this.instancesDeferred.entries()){const we=this.normalizeInstanceIdentifier(ne);try{const Be=this.getOrInitializeService({instanceIdentifier:we});pe.resolve(Be)}catch{}}}}clearInstance(W=be){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,i.A)(function*(){const ne=Array.from(W.instances.values());yield Promise.all([...ne.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...ne.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=be){return this.instances.has(W)}getOptions(W=be){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:ne={}}=W,pe=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const we=this.getOrInitializeService({instanceIdentifier:pe,options:ne});for(const[Be,ve]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier(Be)&&ve.resolve(we);return we}onInit(W,ne){var pe;const we=this.normalizeInstanceIdentifier(ne),Be=null!==(pe=this.onInitCallbacks.get(we))&&void 0!==pe?pe:new Set;Be.add(W),this.onInitCallbacks.set(we,Be);const ve=this.instances.get(we);return ve&&W(ve,we),()=>{Be.delete(W)}}invokeOnInitCallbacks(W,ne){const pe=this.onInitCallbacks.get(ne);if(pe)for(const we of pe)try{we(W,ne)}catch{}}getOrInitializeService({instanceIdentifier:W,options:ne={}}){let pe=this.instances.get(W);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=W,ke===be?void 0:ke),options:ne}),this.instances.set(W,pe),this.instancesOptions.set(W,ne),this.invokeOnInitCallbacks(pe,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,pe)}catch{}var ke;return pe||null}normalizeInstanceIdentifier(W=be){return this.component?this.component.multipleInstances?W:be:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const ne=this.getProvider(W.name);if(ne.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);ne.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const ne=new ae(W,this);return this.providers.set(W,ne),ne}getProviders(){return Array.from(this.providers.values())}}},8041:(on,Xe,k)=>{k.d(Xe,{$b:()=>oe,Ey:()=>ke,He:()=>Ie,Vy:()=>Se});const i=[];var oe=function(W){return W[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",W}(oe||{});const r={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},be=oe.INFO,ae={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},Ee=(W,ne,...pe)=>{if(ne<W.logLevel)return;const we=(new Date).toISOString(),Be=ae[ne];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Be](`[${we}]  ${W.name}:`,...pe)};class Se{constructor(ne){this.name=ne,this._logLevel=be,this._logHandler=Ee,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in oe))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?r[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...ne),this._logHandler(this,oe.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...ne),this._logHandler(this,oe.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...ne),this._logHandler(this,oe.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...ne),this._logHandler(this,oe.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...ne),this._logHandler(this,oe.ERROR,...ne)}}function Ie(W){i.forEach(ne=>{ne.setLogLevel(W)})}function ke(W,ne){for(const pe of i){let we=null;ne&&ne.level&&(we=r[ne.level]),pe.userLogHandler=null===W?null:(Be,ve,...Ye)=>{const Ce=Ye.map(it=>{if(null==it)return null;if("string"==typeof it)return it;if("number"==typeof it||"boolean"==typeof it)return it.toString();if(it instanceof Error)return it.message;try{return JSON.stringify(it)}catch{return null}}).filter(it=>it).join(" ");ve>=(we??Be.logLevel)&&W({level:oe[ve].toLowerCase(),message:Ce,args:Ye,type:Be.name})}}}},2214:(on,Xe,k)=>{k.d(Xe,{Dk:()=>i.getApps,KO:()=>i.registerVersion,Sx:()=>i.getApp,Wp:()=>i.initializeApp});var i=k(7852);(0,i.registerVersion)("firebase","10.14.1","app")},7935:(on,Xe,k)=>{k.d(Xe,{A:()=>i.A});var i=k(3345);i.A.registerVersion("firebase","10.14.1","app-compat")},2438:(on,Xe,k)=>{var i=k(467),oe=k(3345),r=k(5504),be=k(1076),Se=(k(7852),k(8041),k(1362));function Ie(){return window}function ne(){return ne=(0,i.A)(function*(G,x,A){var J;const{BuildInfo:$}=Ie();(0,r.au)(x.sessionId,"AuthEvent did not contain a session ID");const ge=yield function it(G){return Ht.apply(this,arguments)}(x.sessionId),We={};return(0,r.av)()?We.ibi=$.packageName:(0,r.aw)()?We.apn=$.packageName:(0,r.ax)(G,"operation-not-supported-in-this-environment"),$.displayName&&(We.appDisplayName=$.displayName),We.sessionId=ge,(0,r.ay)(G,A,x.type,void 0,null!==(J=x.eventId)&&void 0!==J?J:void 0,We)}),ne.apply(this,arguments)}function we(){return(we=(0,i.A)(function*(G){const{BuildInfo:x}=Ie(),A={};(0,r.av)()?A.iosBundleId=x.packageName:(0,r.aw)()?A.androidPackageName=x.packageName:(0,r.ax)(G,"operation-not-supported-in-this-environment"),yield(0,r.az)(G,A)})).apply(this,arguments)}function Ye(){return(Ye=(0,i.A)(function*(G,x,A){const{cordova:J}=Ie();let $=()=>{};try{yield new Promise((ge,We)=>{let Wt=null;function Yt(){var Ve;ge();const Ue=null===(Ve=J.plugins.browsertab)||void 0===Ve?void 0:Ve.close;"function"==typeof Ue&&Ue(),"function"==typeof A?.close&&A.close()}function Sn(){Wt||(Wt=window.setTimeout(()=>{We((0,r.aB)(G,"redirect-cancelled-by-user"))},2e3))}function ar(){"visible"===document?.visibilityState&&Sn()}x.addPassiveListener(Yt),document.addEventListener("resume",Sn,!1),(0,r.aw)()&&document.addEventListener("visibilitychange",ar,!1),$=()=>{x.removePassiveListener(Yt),document.removeEventListener("resume",Sn,!1),document.removeEventListener("visibilitychange",ar,!1),Wt&&window.clearTimeout(Wt)}})}finally{$()}})).apply(this,arguments)}function Ht(){return(Ht=(0,i.A)(function*(G){const x=function He(G){if((0,r.au)(/[0-9a-zA-Z]+/.test(G),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(G);const x=new ArrayBuffer(G.length),A=new Uint8Array(x);for(let J=0;J<G.length;J++)A[J]=G.charCodeAt(J);return A}(G),A=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(A)).map($=>$.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class rt extends r.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInitialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInitialized(),this.passiveListeners.forEach(A=>A(x)),super.onEvent(x)}initialized(){var x=this;return(0,i.A)(function*(){yield x.initPromise})()}}function Nt(G){return pt.apply(this,arguments)}function pt(){return(pt=(0,i.A)(function*(G){const x=yield Jt()._get(Rn(G));return x&&(yield Jt()._remove(Rn(G))),x})).apply(this,arguments)}function Ze(){const G=[];for(let A=0;A<20;A++){const J=Math.floor(62*Math.random());G.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(J))}return G.join("")}function Jt(){return(0,r.aE)(r.b)}function Rn(G){return(0,r.aF)("authEvent",G.config.apiKey,G.name)}function Qt(G){if(!G?.includes("?"))return{};const[x,...A]=G.split("?");return(0,be.I9)(A.join("?"))}const ct=class $e{constructor(){this._redirectPersistence=r.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=r.aG,this._overrideRedirectResult=r.aH}_initialize(x){var A=this;return(0,i.A)(function*(){const J=x._key();let $=A.eventManagers.get(J);return $||($=new rt(x),A.eventManagers.set(J,$),A.attachCallbackListeners(x,$)),$})()}_openPopup(x){(0,r.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,A,J,$){var ge=this;return(0,i.A)(function*(){!function Ce(G){var x,A,J,$,ge,We,Wt,Yt,Sn,ar;const Ve=Ie();(0,r.aC)("function"==typeof(null===(x=Ve?.universalLinks)||void 0===x?void 0:x.subscribe),G,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,r.aC)(typeof(null===(A=Ve?.BuildInfo)||void 0===A?void 0:A.packageName)<"u",G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,r.aC)("function"==typeof(null===(ge=null===($=null===(J=Ve?.cordova)||void 0===J?void 0:J.plugins)||void 0===$?void 0:$.browsertab)||void 0===ge?void 0:ge.openUrl),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(Yt=null===(Wt=null===(We=Ve?.cordova)||void 0===We?void 0:We.plugins)||void 0===Wt?void 0:Wt.browsertab)||void 0===Yt?void 0:Yt.isAvailable),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(ar=null===(Sn=Ve?.cordova)||void 0===Sn?void 0:Sn.InAppBrowser)||void 0===ar?void 0:ar.open),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const We=yield ge._initialize(x);yield We.initialized(),We.resetRedirect(),(0,r.aI)(),yield ge._originValidation(x);const Wt=function tt(G,x,A=null){return{type:x,eventId:A,urlResponse:null,sessionId:Ze(),postBody:null,tenantId:G.tenantId,error:(0,r.aB)(G,"no-auth-event")}}(x,J,$);yield function ft(G,x){return Jt()._set(Rn(G),x)}(x,Wt);const Yt=yield function W(G,x,A){return ne.apply(this,arguments)}(x,Wt,A),Sn=yield function Be(G){const{cordova:x}=Ie();return new Promise(A=>{x.plugins.browsertab.isAvailable(J=>{let $=null;J?x.plugins.browsertab.openUrl(G):$=x.InAppBrowser.open(G,(0,r.aA)()?"_blank":"_system","location=yes"),A($)})})}(Yt);return function ve(G,x,A){return Ye.apply(this,arguments)}(x,We,Sn)})()}_isIframeWebStorageSupported(x,A){throw new Error("Method not implemented.")}_originValidation(x){const A=x._key();return this.originValidationPromises[A]||(this.originValidationPromises[A]=function pe(G){return we.apply(this,arguments)}(x)),this.originValidationPromises[A]}attachCallbackListeners(x,A){const{universalLinks:J,handleOpenURL:$,BuildInfo:ge}=Ie(),We=setTimeout((0,i.A)(function*(){yield Nt(x),A.onEvent(ut())}),500),Wt=function(){var ar=(0,i.A)(function*(Ve){clearTimeout(We);const Ue=yield Nt(x);let qe=null;Ue&&Ve?.url&&(qe=function Te(G,x){var A,J;const $=function qt(G){const x=Qt(G),A=x.link?decodeURIComponent(x.link):void 0,J=Qt(A).link,$=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return Qt($).link||$||J||A||G}(x);if($.includes("/__/auth/callback")){const ge=Qt($),We=ge.firebaseError?function Ft(G){try{return JSON.parse(G)}catch{return null}}(decodeURIComponent(ge.firebaseError)):null,Wt=null===(J=null===(A=We?.code)||void 0===A?void 0:A.split("auth/"))||void 0===J?void 0:J[1],Yt=Wt?(0,r.aB)(Wt):null;return Yt?{type:G.type,eventId:G.eventId,tenantId:G.tenantId,error:Yt,urlResponse:null,sessionId:null,postBody:null}:{type:G.type,eventId:G.eventId,tenantId:G.tenantId,sessionId:G.sessionId,urlResponse:$,postBody:null}}return null}(Ue,Ve.url)),A.onEvent(qe||ut())});return function(Ue){return ar.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,Wt);const Yt=$,Sn=`${ge.packageName.toLowerCase()}://`;Ie().handleOpenURL=function(){var ar=(0,i.A)(function*(Ve){if(Ve.toLowerCase().startsWith(Sn)&&Wt({url:Ve}),"function"==typeof Yt)try{Yt(Ve)}catch(Ue){console.error(Ue)}});return function(Ve){return ar.apply(this,arguments)}}()}};function ut(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,r.aB)("no-auth-event")}}function dt(){var G;return(null===(G=self?.location)||void 0===G?void 0:G.protocol)||null}function $t(G=(0,be.ZQ)()){return!("file:"!==dt()&&"ionic:"!==dt()&&"capacitor:"!==dt()||!G.toLowerCase().match(/iphone|ipad|ipod|android/))}function sn(){try{const G=self.localStorage,x=r.aN();if(G)return G.setItem(x,"1"),G.removeItem(x),!function Nn(G=(0,be.ZQ)()){return function or(){return(0,be.lT)()&&11===document?.documentMode}()||function un(G=(0,be.ZQ)()){return/Edge\/\d+/.test(G)}(G)}()||(0,be.zW)()}catch{return Yn()&&(0,be.zW)()}return!1}function Yn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kn(){return(function st(){return"http:"===dt()||"https:"===dt()}()||(0,be.sr)()||$t())&&!function wn(){return(0,be.lV)()||(0,be.Ll)()}()&&sn()&&!Yn()}function jt(){return $t()&&typeof document<"u"}function Xn(){return(Xn=(0,i.A)(function*(){return!!jt()&&new Promise(G=>{const x=setTimeout(()=>{G(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),G(!0)})})})).apply(this,arguments)}const Ar={LOCAL:"local",NONE:"none",SESSION:"session"},qn=r.aC,Bt="persistence";function zn(G){return In.apply(this,arguments)}function In(){return(In=(0,i.A)(function*(G){yield G._initializationPromise;const x=Dr(),A=r.aF(Bt,G.config.apiKey,G.name);x&&x.setItem(A,G._getPersistence())})).apply(this,arguments)}function Dr(){var G;try{return(null===(G=function en(){return typeof window<"u"?window:null}())||void 0===G?void 0:G.sessionStorage)||null}catch{return null}}const Ur=r.aC;class Kn{constructor(){this.browserResolver=r.aE(r.k),this.cordovaResolver=r.aE(ct),this.underlyingResolver=null,this._redirectPersistence=r.a,this._completeRedirectFn=r.aG,this._overrideRedirectResult=r.aH}_initialize(x){var A=this;return(0,i.A)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,A,J,$){var ge=this;return(0,i.A)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._openPopup(x,A,J,$)})()}_openRedirect(x,A,J,$){var ge=this;return(0,i.A)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._openRedirect(x,A,J,$)})()}_isIframeWebStorageSupported(x,A){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,A)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return jt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ur(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,i.A)(function*(){if(x.underlyingResolver)return;const A=yield function Ut(){return Xn.apply(this,arguments)}();x.underlyingResolver=A?x.cordovaResolver:x.browserResolver})()}}function zr(G){return G.unwrap()}function hn(G){return tr(G)}function tr(G){const{_tokenResponse:x}=G instanceof be.g?G.customData:G;if(!x)return null;if(!(G instanceof be.g)&&"temporaryProof"in x&&"phoneNumber"in x)return r.P.credentialFromResult(G);const A=x.providerId;if(!A||A===r.p.PASSWORD)return null;let J;switch(A){case r.p.GOOGLE:J=r.X;break;case r.p.FACEBOOK:J=r.W;break;case r.p.GITHUB:J=r.Y;break;case r.p.TWITTER:J=r.$;break;default:const{oauthIdToken:$,oauthAccessToken:ge,oauthTokenSecret:We,pendingToken:Wt,nonce:Yt}=x;return ge||We||$||Wt?Wt?A.startsWith("saml.")?r.aQ._create(A,Wt):r.N._fromParams({providerId:A,signInMethod:A,pendingToken:Wt,idToken:$,accessToken:ge}):new r.Z(A).credential({idToken:$,accessToken:ge,rawNonce:Yt}):null}return G instanceof be.g?J.credentialFromError(G):J.credentialFromResult(G)}function mr(G,x){return x.catch(A=>{throw A instanceof be.g&&function Wr(G,x){var A;const J=null===(A=x.customData)||void 0===A?void 0:A._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new ht(G,r.as(G,x));else if(J){const $=tr(x),ge=x;$&&(ge.credential=$,ge.tenantId=J.tenantId||void 0,ge.email=J.email||void 0,ge.phoneNumber=J.phoneNumber||void 0)}}(G,A),A}).then(A=>{const $=A.user;return{operationType:A.operationType,credential:hn(A),additionalUserInfo:r.aq(A),user:vt.getOrCreate($)}})}function Wn(G,x){return bi.apply(this,arguments)}function bi(){return(bi=(0,i.A)(function*(G,x){const A=yield x;return{verificationId:A.verificationId,confirm:J=>mr(G,A.confirm(J))}})).apply(this,arguments)}class ht{constructor(x,A){this.resolver=A,this.auth=function Zi(G){return G.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return mr(zr(this.auth),this.resolver.resolveSignIn(x))}}class vt{constructor(x){this._delegate=x,this.multiFactor=r.at(x)}static getOrCreate(x){return vt.USER_MAP.has(x)||vt.USER_MAP.set(x,new vt(x)),vt.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var A=this;return(0,i.A)(function*(){return mr(A.auth,r.a2(A._delegate,x))})()}linkWithPhoneNumber(x,A){var J=this;return(0,i.A)(function*(){return Wn(J.auth,r.l(J._delegate,x,A))})()}linkWithPopup(x){var A=this;return(0,i.A)(function*(){return mr(A.auth,r.d(A._delegate,x,Kn))})()}linkWithRedirect(x){var A=this;return(0,i.A)(function*(){return yield zn(r.aJ(A.auth)),r.g(A._delegate,x,Kn)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var A=this;return(0,i.A)(function*(){return mr(A.auth,r.a3(A._delegate,x))})()}reauthenticateWithPhoneNumber(x,A){return Wn(this.auth,r.r(this._delegate,x,A))}reauthenticateWithPopup(x){return mr(this.auth,r.e(this._delegate,x,Kn))}reauthenticateWithRedirect(x){var A=this;return(0,i.A)(function*(){return yield zn(r.aJ(A.auth)),r.h(A._delegate,x,Kn)})()}sendEmailVerification(x){return r.ag(this._delegate,x)}unlink(x){var A=this;return(0,i.A)(function*(){return yield r.ap(A._delegate,x),A})()}updateEmail(x){return r.al(this._delegate,x)}updatePassword(x){return r.am(this._delegate,x)}updatePhoneNumber(x){return r.u(this._delegate,x)}updateProfile(x){return r.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,A){return r.ah(this._delegate,x,A)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vt.USER_MAP=new WeakMap;const le=r.aC;let xe=(()=>{class G{constructor(A,J){if(this.app=A,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$}=A.options;le($,"invalid-api-key",{appName:A.name}),le($,"invalid-api-key",{appName:A.name});const ge=typeof window<"u"?Kn:void 0;this._delegate=J.initialize({options:{persistence:Gt($,A.name),popupRedirectResolver:ge}}),this._delegate._updateErrorMap(r.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(A){this._delegate.languageCode=A}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(A){this._delegate.tenantId=A}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(A,J){r.K(this._delegate,A,J)}applyActionCode(A){return r.a7(this._delegate,A)}checkActionCode(A){return r.a8(this._delegate,A)}confirmPasswordReset(A,J){return r.a6(this._delegate,A,J)}createUserWithEmailAndPassword(A,J){var $=this;return(0,i.A)(function*(){return mr($._delegate,r.aa($._delegate,A,J))})()}fetchProvidersForEmail(A){return this.fetchSignInMethodsForEmail(A)}fetchSignInMethodsForEmail(A){return r.af(this._delegate,A)}isSignInWithEmailLink(A){return r.ad(this._delegate,A)}getRedirectResult(){var A=this;return(0,i.A)(function*(){le(kn(),A._delegate,"operation-not-supported-in-this-environment");const J=yield r.j(A._delegate,Kn);return J?mr(A._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(A){!function Oe(G,x){(0,r.aJ)(G)._logFramework(x)}(this._delegate,A)}onAuthStateChanged(A,J,$){const{next:ge,error:We,complete:Wt}=Rt(A,J,$);return this._delegate.onAuthStateChanged(ge,We,Wt)}onIdTokenChanged(A,J,$){const{next:ge,error:We,complete:Wt}=Rt(A,J,$);return this._delegate.onIdTokenChanged(ge,We,Wt)}sendSignInLinkToEmail(A,J){return r.ac(this._delegate,A,J)}sendPasswordResetEmail(A,J){return r.a5(this._delegate,A,J||void 0)}setPersistence(A){var J=this;return(0,i.A)(function*(){let $;switch(function vn(G,x){qn(Object.values(Ar).includes(x),G,"invalid-persistence-type"),(0,be.lV)()?qn(x!==Ar.SESSION,G,"unsupported-persistence-type"):(0,be.Ll)()?qn(x===Ar.NONE,G,"unsupported-persistence-type"):Yn()?qn(x===Ar.NONE||x===Ar.LOCAL&&(0,be.zW)(),G,"unsupported-persistence-type"):qn(x===Ar.NONE||sn(),G,"unsupported-persistence-type")}(J._delegate,A),A){case Ar.SESSION:$=r.a;break;case Ar.LOCAL:$=(yield r.aE(r.i)._isAvailable())?r.i:r.b;break;case Ar.NONE:$=r.U;break;default:return r.ax("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence($)})()}signInAndRetrieveDataWithCredential(A){return this.signInWithCredential(A)}signInAnonymously(){return mr(this._delegate,r.a0(this._delegate))}signInWithCredential(A){return mr(this._delegate,r.a1(this._delegate,A))}signInWithCustomToken(A){return mr(this._delegate,r.a4(this._delegate,A))}signInWithEmailAndPassword(A,J){return mr(this._delegate,r.ab(this._delegate,A,J))}signInWithEmailLink(A,J){return mr(this._delegate,r.ae(this._delegate,A,J))}signInWithPhoneNumber(A,J){return Wn(this._delegate,r.s(this._delegate,A,J))}signInWithPopup(A){var J=this;return(0,i.A)(function*(){return le(kn(),J._delegate,"operation-not-supported-in-this-environment"),mr(J._delegate,r.c(J._delegate,A,Kn))})()}signInWithRedirect(A){var J=this;return(0,i.A)(function*(){return le(kn(),J._delegate,"operation-not-supported-in-this-environment"),yield zn(J._delegate),r.f(J._delegate,A,Kn)})()}updateCurrentUser(A){return this._delegate.updateCurrentUser(A)}verifyPasswordResetCode(A){return r.a9(this._delegate,A)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return G.Persistence=Ar,G})();function Rt(G,x,A){let J=G;"function"!=typeof G&&({next:J,error:x,complete:A}=G);const $=J;return{next:We=>$(We&&vt.getOrCreate(We)),error:x,complete:A}}function Gt(G,x){const A=function Rr(G,x){const A=Dr();if(!A)return[];const J=r.aF(Bt,G,x);switch(A.getItem(J)){case Ar.NONE:return[r.U];case Ar.LOCAL:return[r.i,r.a];case Ar.SESSION:return[r.a];default:return[]}}(G,x);if(typeof self<"u"&&!A.includes(r.i)&&A.push(r.i),typeof window<"u")for(const J of[r.b,r.a])A.includes(J)||A.push(J);return A.includes(r.U)||A.push(r.U),A}class jn{constructor(){this.providerId="phone",this._delegate=new r.P(zr(oe.A.auth()))}static credential(x,A){return r.P.credential(x,A)}verifyPhoneNumber(x,A){return this._delegate.verifyPhoneNumber(x,A)}unwrap(){return this._delegate}}jn.PHONE_SIGN_IN_METHOD=r.P.PHONE_SIGN_IN_METHOD,jn.PROVIDER_ID=r.P.PROVIDER_ID;const Gr=r.aC;class Cr{constructor(x,A,J=oe.A.app()){var $;Gr(null===($=J.options)||void 0===$?void 0:$.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new r.R(J.auth(),x,A),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function It(G){G.INTERNAL.registerComponent(new Se.uA("auth-compat",x=>{const A=x.getProvider("app-compat").getImmediate(),J=x.getProvider("auth");return new xe(A,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:r.A.EMAIL_SIGNIN,PASSWORD_RESET:r.A.PASSWORD_RESET,RECOVER_EMAIL:r.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:r.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:r.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:r.A.VERIFY_EMAIL}},EmailAuthProvider:r.V,FacebookAuthProvider:r.W,GithubAuthProvider:r.Y,GoogleAuthProvider:r.X,OAuthProvider:r.Z,SAMLAuthProvider:r._,PhoneAuthProvider:jn,PhoneMultiFactorGenerator:r.m,RecaptchaVerifier:Cr,TwitterAuthProvider:r.$,Auth:xe,AuthCredential:r.L,Error:be.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),G.registerVersion("@firebase/auth-compat","0.5.14")}(oe.A)},467:(on,Xe,k)=>{function i(r,be,ae,Ee,Se,Ie,ke){try{var W=r[Ie](ke),ne=W.value}catch(pe){return void ae(pe)}W.done?be(ne):Promise.resolve(ne).then(Ee,Se)}function oe(r){return function(){var be=this,ae=arguments;return new Promise(function(Ee,Se){var Ie=r.apply(be,ae);function ke(ne){i(Ie,Ee,Se,ke,W,"next",ne)}function W(ne){i(Ie,Ee,Se,ke,W,"throw",ne)}ke(void 0)})}}k.d(Xe,{A:()=>oe})},1635:(on,Xe,k)=>{function be(Oe,ee){var ye={};for(var Fe in Oe)Object.prototype.hasOwnProperty.call(Oe,Fe)&&ee.indexOf(Fe)<0&&(ye[Fe]=Oe[Fe]);if(null!=Oe&&"function"==typeof Object.getOwnPropertySymbols){var dt=0;for(Fe=Object.getOwnPropertySymbols(Oe);dt<Fe.length;dt++)ee.indexOf(Fe[dt])<0&&Object.prototype.propertyIsEnumerable.call(Oe,Fe[dt])&&(ye[Fe[dt]]=Oe[Fe[dt]])}return ye}function pe(Oe,ee,ye,Fe){return new(ye||(ye=Promise))(function(st,$t){function wn(Nn){try{un(Fe.next(Nn))}catch(sn){$t(sn)}}function or(Nn){try{un(Fe.throw(Nn))}catch(sn){$t(sn)}}function un(Nn){Nn.done?st(Nn.value):function dt(st){return st instanceof ye?st:new ye(function($t){$t(st)})}(Nn.value).then(wn,or)}un((Fe=Fe.apply(Oe,ee||[])).next())})}function Ae(Oe){return this instanceof Ae?(this.v=Oe,this):new Ae(Oe)}function rt(Oe,ee,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,Fe=ye.apply(Oe,ee||[]),st=[];return dt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),wn("next"),wn("throw"),wn("return",function $t(kn){return function(jt){return Promise.resolve(jt).then(kn,sn)}}),dt[Symbol.asyncIterator]=function(){return this},dt;function wn(kn,jt){Fe[kn]&&(dt[kn]=function(Ut){return new Promise(function(Xn,en){st.push([kn,Ut,Xn,en])>1||or(kn,Ut)})},jt&&(dt[kn]=jt(dt[kn])))}function or(kn,jt){try{!function un(kn){kn.value instanceof Ae?Promise.resolve(kn.value.v).then(Nn,sn):Yn(st[0][2],kn)}(Fe[kn](jt))}catch(Ut){Yn(st[0][3],Ut)}}function Nn(kn){or("next",kn)}function sn(kn){or("throw",kn)}function Yn(kn,jt){kn(jt),st.shift(),st.length&&or(st[0][0],st[0][1])}}function ft(Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ee=Oe[Symbol.asyncIterator];return ee?ee.call(Oe):(Oe=function Ye(Oe){var ee="function"==typeof Symbol&&Symbol.iterator,ye=ee&&Oe[ee],Fe=0;if(ye)return ye.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&Fe>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[Fe++],done:!Oe}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(Oe),ye={},Fe("next"),Fe("throw"),Fe("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function Fe(st){ye[st]=Oe[st]&&function($t){return new Promise(function(wn,or){!function dt(st,$t,wn,or){Promise.resolve(or).then(function(un){st({value:un,done:wn})},$t)}(wn,or,($t=Oe[st]($t)).done,$t.value)})}}}k.d(Xe,{AQ:()=>rt,N3:()=>Ae,Tt:()=>be,sH:()=>pe,xN:()=>ft}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=5824)}]);