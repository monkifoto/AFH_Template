"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(nn,qe,U)=>{U.d(qe,{$:()=>La,A:()=>oe,G:()=>$e,K:()=>xi,L:()=>Vs,N:()=>Ie,P:()=>_o,R:()=>xu,U:()=>an,V:()=>Xi,W:()=>ai,X:()=>Nr,Y:()=>qs,Z:()=>Yr,_:()=>jo,a:()=>Ic,a0:()=>wo,a1:()=>hs,a2:()=>eo,a3:()=>ho,a4:()=>Ui,a5:()=>Ta,a6:()=>tl,a7:()=>Ec,a8:()=>Jo,a9:()=>Ua,aA:()=>or,aB:()=>Je,aC:()=>we,aD:()=>ap,aE:()=>ot,aF:()=>fn,aG:()=>Wh,aH:()=>Oc,aI:()=>Gh,aJ:()=>Tr,aN:()=>xr,aQ:()=>Ys,aa:()=>Vh,ab:()=>Ll,ac:()=>nc,ad:()=>nl,ae:()=>Aa,af:()=>Vl,ag:()=>re,ah:()=>Y,ak:()=>jn,al:()=>pi,am:()=>ei,ap:()=>Qo,aq:()=>Fi,as:()=>Da,at:()=>ta,au:()=>mn,av:()=>Ai,aw:()=>wi,ax:()=>ye,ay:()=>fc,az:()=>ia,b:()=>$l,c:()=>Nu,d:()=>Rc,e:()=>Td,f:()=>uc,g:()=>kc,h:()=>Nc,i:()=>O,j:()=>op,k:()=>Xh,l:()=>na,m:()=>Yl,p:()=>Ne,r:()=>Cd,s:()=>pa,u:()=>Mu});var a=U(467),le=U(7852),s=U(1076),be=U(8041),me=U(1635),De=U(1362);const Ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const $e=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Tt=function rt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},wt=new s.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),St=new be.Vy("@firebase/auth");function Le(T,...m){St.logLevel<=be.$b.ERROR&&St.error(`Auth (${le.SDK_VERSION}): ${T}`,...m)}function ye(T,...m){throw Ot(T,...m)}function Je(T,...m){return Ot(T,...m)}function We(T,m,v){const S=Object.assign(Object.assign({},Tt()),{[m]:v});return new s.FA("auth","Firebase",S).create(m,{appName:T.name})}function it(T){return We(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dt(T,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&ye(T,"argument-error"),We(T,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ot(T,...m){if("string"!=typeof T){const v=m[0],S=[...m.slice(1)];return S[0]&&(S[0].appName=T.name),T._errorFactory.create(v,...S)}return wt.create(T,...m)}function we(T,m,...v){if(!T)throw Ot(m,...v)}function en(T){const m="INTERNAL ASSERTION FAILED: "+T;throw Le(m),new Error(m)}function mn(T,m){T||en(m)}function ur(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function Mt(){return"http:"===jt()||"https:"===jt()}function jt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class ke{constructor(m,v){this.shortDelay=m,this.longDelay=v,mn(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,s.jZ)()||(0,s.lV)()}get(){return function Kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,s.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ze(T,m){mn(T.emulator,"Emulator should always be set here");const{url:v}=T.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Jt{static initialize(m,v,S){this.fetchImpl=m,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void en("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void en("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void en("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Te=new ke(3e4,6e4);function Ee(T,m){return T.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:T.tenantId}):m}function Fe(T,m,v,S){return tt.apply(this,arguments)}function tt(){return(tt=(0,a.A)(function*(T,m,v,S,X={}){return Xe(T,X,(0,a.A)(function*(){let he={},Ge={};S&&("GET"===m?Ge=S:he={body:JSON.stringify(S)});const It=(0,s.Am)(Object.assign({key:T.config.apiKey},Ge)).slice(1),Ht=yield T._getAdditionalHeaders();Ht["Content-Type"]="application/json",T.languageCode&&(Ht["X-Firebase-Locale"]=T.languageCode);const Sn=Object.assign({method:m,headers:Ht},he);return(0,s.c1)()||(Sn.referrerPolicy="no-referrer"),Jt.fetch()(tn(T,T.config.apiHost,v,It),Sn)}))})).apply(this,arguments)}function Xe(T,m,v){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,a.A)(function*(T,m,v){T._canInitEmulator=!1;const S=Object.assign(Object.assign({},je),m);try{const X=new Ft(T),he=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const Ge=yield he.json();if("needConfirmation"in Ge)throw Hn(T,"account-exists-with-different-credential",Ge);if(he.ok&&!("errorMessage"in Ge))return Ge;{const It=he.ok?Ge.errorMessage:Ge.error.message,[Ht,Sn]=It.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ht)throw Hn(T,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===Ht)throw Hn(T,"email-already-in-use",Ge);if("USER_DISABLED"===Ht)throw Hn(T,"user-disabled",Ge);const xn=S[Ht]||Ht.toLowerCase().replace(/[_\s]+/g,"-");if(Sn)throw We(T,xn,Sn);ye(T,xn)}}catch(X){if(X instanceof s.g)throw X;ye(T,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function Cn(T,m,v,S){return rr.apply(this,arguments)}function rr(){return(rr=(0,a.A)(function*(T,m,v,S,X={}){const he=yield Fe(T,m,v,S,X);return"mfaPendingCredential"in he&&ye(T,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function tn(T,m,v,S){const X=`${m}${v}?${S}`;return T.config.emulator?Ze(T.config,X):`${T.config.apiScheme}://${X}`}function Ln(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ft{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(Je(this.auth,"network-request-failed")),Te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(T,m,v){const S={appName:T.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const X=Je(T,m,S);return X.customData._tokenResponse=v,X}function On(T){return void 0!==T&&void 0!==T.getResponse}function Gt(T){return void 0!==T&&void 0!==T.enterprise}class Ut{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===m)return Ln(v.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function on(){return(on=(0,a.A)(function*(T){return(yield Fe(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mr(T,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,a.A)(function*(T,m){return Fe(T,"GET","/v2/recaptchaConfig",Ee(T,m))})).apply(this,arguments)}function bn(){return(bn=(0,a.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function In(){return(In=(0,a.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function jr(T,m){return br.apply(this,arguments)}function br(){return(br=(0,a.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Xr(T){if(T)try{const m=new Date(Number(T));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function gs(){return(gs=(0,a.A)(function*(T,m=!1){const v=(0,s.Ku)(T),S=yield v.getIdToken(m),X=Qr(S);we(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const he="object"==typeof X.firebase?X.firebase:void 0,Ge=he?.sign_in_provider;return{claims:X,token:S,authTime:Xr(hn(X.auth_time)),issuedAtTime:Xr(hn(X.iat)),expirationTime:Xr(hn(X.exp)),signInProvider:Ge||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function hn(T){return 1e3*Number(T)}function Qr(T){const[m,v,S]=T.split(".");if(void 0===m||void 0===v||void 0===S)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,s.u)(v);return X?JSON.parse(X):(Le("Failed to decode base64 JWT payload"),null)}catch(X){return Le("Caught error parsing JWT payload as JSON",X?.toString()),null}}function tr(T){const m=Qr(T);return we(m,"internal-error"),we(typeof m.exp<"u","internal-error"),we(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function Cr(T,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.A)(function*(T,m,v=!1){if(v)return m;try{return yield m}catch(S){throw S instanceof s.g&&function Pi({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(S)&&T.auth.currentUser===T&&(yield T.auth.signOut()),S}})).apply(this,arguments)}class et{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(m);this.timerId=setTimeout((0,a.A)(function*(){yield v.iteration()}),S)}iteration(){var m=this;return(0,a.A)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&m.schedule(!0))}m.schedule()})()}}class pt{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xr(this.lastLoginAt),this.creationTime=Xr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function de(T){return xe.apply(this,arguments)}function xe(){return(xe=(0,a.A)(function*(T){var m;const v=T.auth,S=yield T.getIdToken(),X=yield Cr(T,jr(v,{idToken:S}));we(X?.users.length,v,"internal-error");const he=X.users[0];T._notifyReloadListener(he);const Ge=null!==(m=he.providerUserInfo)&&void 0!==m&&m.length?Fr(he.providerUserInfo):[],It=function $n(T,m){return[...T.filter(S=>!m.some(X=>X.providerId===S.providerId)),...m]}(T.providerData,Ge),xn=!!T.isAnonymous&&!(T.email&&he.passwordHash||It?.length),Hr={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:It,metadata:new pt(he.createdAt,he.lastLoginAt),isAnonymous:xn};Object.assign(T,Hr)})).apply(this,arguments)}function Wt(){return(Wt=(0,a.A)(function*(T){const m=(0,s.Ku)(T);yield de(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Fr(T){return T.map(m=>{var{providerId:v}=m,S=(0,me.Tt)(m,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function sn(){return(sn=(0,a.A)(function*(T,m){const v=yield Xe(T,{},(0,a.A)(function*(){const S=(0,s.Am)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:X,apiKey:he}=T.config,Ge=tn(T,X,"/v1/token",`key=${he}`),It=yield T._getAdditionalHeaders();return It["Content-Type"]="application/x-www-form-urlencoded",Jt.fetch()(Ge,{method:"POST",headers:It,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function k(){return(k=(0,a.A)(function*(T,m){return Fe(T,"POST","/v2/accounts:revokeToken",Ee(T,m))})).apply(this,arguments)}class P{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){we(m.idToken,"internal-error"),we(typeof m.idToken<"u","internal-error"),we(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):tr(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}updateFromIdToken(m){we(0!==m.length,"internal-error");const v=tr(m);this.updateTokensAndExpiration(m,null,v)}getToken(m,v=!1){var S=this;return(0,a.A)(function*(){return v||!S.accessToken||S.isExpired?(we(S.refreshToken,m,"user-token-expired"),S.refreshToken?(yield S.refresh(m,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var S=this;return(0,a.A)(function*(){const{accessToken:X,refreshToken:he,expiresIn:Ge}=yield function Ue(T,m){return sn.apply(this,arguments)}(m,v);S.updateTokensAndExpiration(X,he,Number(Ge))})()}updateTokensAndExpiration(m,v,S){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(m,v){const{refreshToken:S,accessToken:X,expirationTime:he}=v,Ge=new P;return S&&(we("string"==typeof S,"internal-error",{appName:m}),Ge.refreshToken=S),X&&(we("string"==typeof X,"internal-error",{appName:m}),Ge.accessToken=X),he&&(we("number"==typeof he,"internal-error",{appName:m}),Ge.expirationTime=he),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new P,this.toJSON())}_performRefresh(){return en("not implemented")}}function F(T,m){we("string"==typeof T||typeof T>"u","internal-error",{appName:m})}class ne{constructor(m){var{uid:v,auth:S,stsTokenManager:X}=m,he=(0,me.Tt)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new et(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new pt(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,a.A)(function*(){const S=yield Cr(v,v.stsTokenManager.getToken(v.auth,m));return we(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(m){return function ui(T){return gs.apply(this,arguments)}(this,m)}reload(){return function yt(T){return Wt.apply(this,arguments)}(this)}_assign(m){this!==m&&(we(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new ne(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var S=this;return(0,a.A)(function*(){let X=!1;m.idToken&&m.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(m),X=!0),v&&(yield de(S)),yield S.auth._persistUserIfCurrent(S),X&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var m=this;return(0,a.A)(function*(){if((0,le._isFirebaseServerApp)(m.auth.app))return Promise.reject(it(m.auth));const v=yield m.getIdToken();return yield Cr(m,function Bt(T,m){return bn.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var S,X,he,Ge,It,Ht,Sn,xn;const Hr=null!==(S=v.displayName)&&void 0!==S?S:void 0,qo=null!==(X=v.email)&&void 0!==X?X:void 0,Ma=null!==(he=v.phoneNumber)&&void 0!==he?he:void 0,Js=null!==(Ge=v.photoURL)&&void 0!==Ge?Ge:void 0,$d=null!==(It=v.tenantId)&&void 0!==It?It:void 0,Hd=null!==(Ht=v._redirectEventId)&&void 0!==Ht?Ht:void 0,Gd=null!==(Sn=v.createdAt)&&void 0!==Sn?Sn:void 0,xg=null!==(xn=v.lastLoginAt)&&void 0!==xn?xn:void 0,{uid:ef,emailVerified:Bu,isAnonymous:Mg,providerData:Xl,stsTokenManager:tf}=v;we(ef&&tf,m,"internal-error");const $u=P.fromJSON(this.name,tf);we("string"==typeof ef,m,"internal-error"),F(Hr,m.name),F(qo,m.name),we("boolean"==typeof Bu,m,"internal-error"),we("boolean"==typeof Mg,m,"internal-error"),F(Ma,m.name),F(Js,m.name),F($d,m.name),F(Hd,m.name),F(Gd,m.name),F(xg,m.name);const zd=new ne({uid:ef,auth:m,email:qo,emailVerified:Bu,displayName:Hr,isAnonymous:Mg,photoURL:Js,phoneNumber:Ma,tenantId:$d,stsTokenManager:$u,createdAt:Gd,lastLoginAt:xg});return Xl&&Array.isArray(Xl)&&(zd.providerData=Xl.map(Wd=>Object.assign({},Wd))),Hd&&(zd._redirectEventId=Hd),zd}static _fromIdTokenResponse(m,v,S=!1){return(0,a.A)(function*(){const X=new P;X.updateFromServerResponse(v);const he=new ne({uid:v.localId,auth:m,stsTokenManager:X,isAnonymous:S});return yield de(he),he})()}static _fromGetAccountInfoResponse(m,v,S){return(0,a.A)(function*(){const X=v.users[0];we(void 0!==X.localId,"internal-error");const he=void 0!==X.providerUserInfo?Fr(X.providerUserInfo):[],Ge=!(X.email&&X.passwordHash||he?.length),It=new P;It.updateFromIdToken(S);const Ht=new ne({uid:X.localId,auth:m,stsTokenManager:It,isAnonymous:Ge}),Sn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:he,metadata:new pt(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||he?.length)};return Object.assign(Ht,Sn),Ht})()}}const ge=new Map;function ot(T){mn(T instanceof Function,"Expected a class definition");let m=ge.get(T);return m?(mn(m instanceof T,"Instance stored in cache mismatched with class"),m):(m=new T,ge.set(T,m),m)}const an=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.A)(function*(){return!0})()}_set(v,S){var X=this;return(0,a.A)(function*(){X.storage[v]=S})()}_get(v){var S=this;return(0,a.A)(function*(){const X=S.storage[v];return void 0===X?null:X})()}_remove(v){var S=this;return(0,a.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return T.type="NONE",T})();function fn(T,m,v){return`firebase:${T}:${m}:${v}`}class Dn{constructor(m,v,S){this.persistence=m,this.auth=v,this.userKey=S;const{config:X,name:he}=this.auth;this.fullUserKey=fn(this.userKey,X.apiKey,he),this.fullPersistenceKey=fn("persistence",X.apiKey,he),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,a.A)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?ne._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,a.A)(function*(){if(v.persistence===m)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,S="authUser"){return(0,a.A)(function*(){if(!v.length)return new Dn(ot(an),m,S);const X=(yield Promise.all(v.map(function(){var Sn=(0,a.A)(function*(xn){if(yield xn._isAvailable())return xn});return function(xn){return Sn.apply(this,arguments)}}()))).filter(Sn=>Sn);let he=X[0]||ot(an);const Ge=fn(S,m.config.apiKey,m.name);let It=null;for(const Sn of v)try{const xn=yield Sn._get(Ge);if(xn){const Hr=ne._fromJSON(m,xn);Sn!==he&&(It=Hr),he=Sn;break}}catch{}const Ht=X.filter(Sn=>Sn._shouldAllowMigration);return he._shouldAllowMigration&&Ht.length?(he=Ht[0],It&&(yield he._set(Ge,It.toJSON())),yield Promise.all(v.map(function(){var Sn=(0,a.A)(function*(xn){if(xn!==he)try{yield xn._remove(Ge)}catch{}});return function(xn){return Sn.apply(this,arguments)}}())),new Dn(he,m,S)):new Dn(he,m,S)})()}}function vr(T){const m=T.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ks(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(cn(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(zi(m))return"Blackberry";if(ki(m))return"Webos";if(Gr(m))return"Safari";if((m.includes("chrome/")||fr(m))&&!m.includes("edge/"))return"Chrome";if(wi(m))return"Android";{const S=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function cn(T=(0,s.ZQ)()){return/firefox\//i.test(T)}function Gr(T=(0,s.ZQ)()){const m=T.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function fr(T=(0,s.ZQ)()){return/crios\//i.test(T)}function ks(T=(0,s.ZQ)()){return/iemobile/i.test(T)}function wi(T=(0,s.ZQ)()){return/android/i.test(T)}function zi(T=(0,s.ZQ)()){return/blackberry/i.test(T)}function ki(T=(0,s.ZQ)()){return/webos/i.test(T)}function Ai(T=(0,s.ZQ)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function or(T=(0,s.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function nt(T=(0,s.ZQ)()){return Ai(T)||wi(T)||ki(T)||zi(T)||/windows phone/i.test(T)||ks(T)}function Rt(T,m=[]){let v;switch(T){case"Browser":v=vr((0,s.ZQ)());break;case"Worker":v=`${vr((0,s.ZQ)())}-${T}`;break;default:v=T}const S=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${le.SDK_VERSION}/${S}`}class ln{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const S=he=>new Promise((Ge,It)=>{try{Ge(m(he))}catch(Ht){It(Ht)}});S.onAbort=v,this.queue.push(S);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,a.A)(function*(){if(v.auth.currentUser===m)return;const S=[];try{for(const X of v.queue)yield X(m),X.onAbort&&S.push(X.onAbort)}catch(X){S.reverse();for(const he of S)try{he()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function Mn(){return(Mn=(0,a.A)(function*(T,m={}){return Fe(T,"GET","/v2/passwordPolicy",Ee(T,m))})).apply(this,arguments)}class Br{constructor(m){var v,S,X,he;const Ge=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Ge.minPasswordLength)&&void 0!==v?v:6,Ge.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ge.maxPasswordLength),void 0!==Ge.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ge.containsLowercaseCharacter),void 0!==Ge.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ge.containsUppercaseCharacter),void 0!==Ge.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ge.containsNumericCharacter),void 0!==Ge.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ge.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(S=m.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(he=m.forceUpgradeOnSignin)&&void 0!==he&&he,this.schemaVersion=m.schemaVersion}validatePassword(m){var v,S,X,he,Ge,It;const Ht={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,Ht),this.validatePasswordCharacterOptions(m,Ht),Ht.isValid&&(Ht.isValid=null===(v=Ht.meetsMinPasswordLength)||void 0===v||v),Ht.isValid&&(Ht.isValid=null===(S=Ht.meetsMaxPasswordLength)||void 0===S||S),Ht.isValid&&(Ht.isValid=null===(X=Ht.containsLowercaseLetter)||void 0===X||X),Ht.isValid&&(Ht.isValid=null===(he=Ht.containsUppercaseLetter)||void 0===he||he),Ht.isValid&&(Ht.isValid=null===(Ge=Ht.containsNumericCharacter)||void 0===Ge||Ge),Ht.isValid&&(Ht.isValid=null===(It=Ht.containsNonAlphanumericCharacter)||void 0===It||It),Ht}validatePasswordLengthOptions(m,v){const S=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=m.length>=S),X&&(v.meetsMaxPasswordLength=m.length<=X)}validatePasswordCharacterOptions(m,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<m.length;X++)S=m.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(m,v,S,X,he){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=he))}}class Kr{constructor(m,v,S,X){this.app=m,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wi(this),this.idTokenSubscription=new Wi(this),this.beforeStateQueue=new ln(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(m,v){var S=this;return v&&(this._popupRedirectResolver=ot(v)),this._initializationPromise=this.queue((0,a.A)(function*(){var X,he;if(!S._deleted&&(S.persistenceManager=yield Dn.create(S,m),!S._deleted)){if(null!==(X=S._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(he=S.currentUser)||void 0===he?void 0:he.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,a.A)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(m){var v=this;return(0,a.A)(function*(){try{const S=yield jr(v,{idToken:m}),X=yield ne._fromGetAccountInfoResponse(v,S,m);yield v.directlySetCurrentUser(X)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var v=this;return(0,a.A)(function*(){var S;if((0,le._isFirebaseServerApp)(v.app)){const It=v.app.settings.authIdToken;return It?new Promise(Ht=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(It).then(Ht,Ht))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let he=X,Ge=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const It=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,Ht=he?._redirectEventId,Sn=yield v.tryRedirectSignIn(m);(!It||It===Ht)&&Sn?.user&&(he=Sn.user,Ge=!0)}if(!he)return v.directlySetCurrentUser(null);if(!he._redirectEventId){if(Ge)try{yield v.beforeStateQueue.runMiddleware(he)}catch(It){he=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(It))}return he?v.reloadAndSetCurrentUserOrClear(he):v.directlySetCurrentUser(null)}return we(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===he._redirectEventId?v.directlySetCurrentUser(he):v.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(m){var v=this;return(0,a.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,a.A)(function*(){try{yield de(m)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function lt(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var m=this;return(0,a.A)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,a.A)(function*(){if((0,le._isFirebaseServerApp)(v.app))return Promise.reject(it(v));const S=m?(0,s.Ku)(m):null;return S&&we(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(m,v=!1){var S=this;return(0,a.A)(function*(){if(!S._deleted)return m&&we(S.tenantId===m.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(m)),S.queue((0,a.A)(function*(){yield S.directlySetCurrentUser(m),S.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,a.A)(function*(){return(0,le._isFirebaseServerApp)(m.app)?Promise.reject(it(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var v=this;return(0,le._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,a.A)(function*(){yield v.assertedPersistence.setPersistence(ot(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var v=this;return(0,a.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,a.A)(function*(){const v=yield function Vn(T){return Mn.apply(this,arguments)}(m),S=new Br(v);null===m.tenantId?m._projectPasswordPolicy=S:m._tenantPasswordPolicies[m.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new s.FA("auth","Firebase",m())}onAuthStateChanged(m,v,S){return this.registerStateListener(this.authStateSubscription,m,v,S)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,S){return this.registerStateListener(this.idTokenSubscription,m,v,S)}authStateReady(){return new Promise((m,v)=>{if(this.currentUser)m();else{const S=this.onAuthStateChanged(()=>{S(),m()},v)}})}revokeAccessToken(m){var v=this;return(0,a.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:S};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function te(T,m){return k.apply(this,arguments)}(v,X)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var S=this;return(0,a.A)(function*(){const X=yield S.getOrInitRedirectPersistenceManager(v);return null===m?X.removeCurrentUser():X.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,a.A)(function*(){if(!v.redirectPersistenceManager){const S=m&&ot(m)||v._popupRedirectResolver;we(S,v,"argument-error"),v.redirectPersistenceManager=yield Dn.create(v,[ot(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,a.A)(function*(){var S,X;return v._isInitialized&&(yield v.queue((0,a.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===m?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,a.A)(function*(){if(m===v.currentUser)return v.queue((0,a.A)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,S,X){if(this._deleted)return()=>{};const he="function"==typeof v?v:v.next.bind(v);let Ge=!1;const It=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(It,this,"internal-error"),It.then(()=>{Ge||he(this.currentUser)}),"function"==typeof v){const Ht=m.addObserver(v,S,X);return()=>{Ge=!0,Ht()}}{const Ht=m.addObserver(v);return()=>{Ge=!0,Ht()}}}directlySetCurrentUser(m){var v=this;return(0,a.A)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Rt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,a.A)(function*(){var v;const S={"X-Client-Version":m.clientVersion};m.app.options.appId&&(S["X-Firebase-gmpid"]=m.app.options.appId);const X=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(S["X-Firebase-Client"]=X);const he=yield m._getAppCheckToken();return he&&(S["X-Firebase-AppCheck"]=he),S})()}_getAppCheckToken(){var m=this;return(0,a.A)(function*(){var v;const S=yield null===(v=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function Pt(T,...m){St.logLevel<=be.$b.WARN&&St.warn(`Auth (${le.SDK_VERSION}): ${T}`,...m)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function Tr(T){return(0,s.Ku)(T)}class Wi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,s.tD)(v=>this.observer=v)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ws={loadJS:()=>(0,a.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lo(T){return ws.loadJS(T)}function ii(T){return`__${T}${Math.floor(1e6*Math.random())}`}class qr{constructor(m){this.type="recaptcha-enterprise",this.auth=Tr(m)}verify(m="verify",v=!1){var S=this;return(0,a.A)(function*(){function he(){return he=(0,a.A)(function*(It){if(!v){if(null==It.tenantId&&null!=It._agentRecaptchaConfig)return It._agentRecaptchaConfig.siteKey;if(null!=It.tenantId&&void 0!==It._tenantRecaptchaConfigs[It.tenantId])return It._tenantRecaptchaConfigs[It.tenantId].siteKey}return new Promise(function(){var Ht=(0,a.A)(function*(Sn,xn){Mr(It,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Hr=>{if(void 0!==Hr.recaptchaKey){const qo=new Ut(Hr);return null==It.tenantId?It._agentRecaptchaConfig=qo:It._tenantRecaptchaConfigs[It.tenantId]=qo,Sn(qo.siteKey)}xn(new Error("recaptcha Enterprise site key undefined"))}).catch(Hr=>{xn(Hr)})});return function(Sn,xn){return Ht.apply(this,arguments)}}())}),he.apply(this,arguments)}function Ge(It,Ht,Sn){const xn=window.grecaptcha;Gt(xn)?xn.enterprise.ready(()=>{xn.enterprise.execute(It,{action:m}).then(Hr=>{Ht(Hr)}).catch(()=>{Ht("NO_RECAPTCHA")})}):Sn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((It,Ht)=>{(function X(It){return he.apply(this,arguments)})(S.auth).then(Sn=>{if(!v&&Gt(window.grecaptcha))Ge(Sn,It,Ht);else{if(typeof window>"u")return void Ht(new Error("RecaptchaVerifier is only supported in browser"));let xn=function Bi(){return ws.recaptchaEnterpriseScript}();0!==xn.length&&(xn+=Sn),Lo(xn).then(()=>{Ge(Sn,It,Ht)}).catch(Hr=>{Ht(Hr)})}}).catch(Sn=>{Ht(Sn)})})})()}}function Ki(T,m,v){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,a.A)(function*(T,m,v,S=!1){const X=new qr(T);let he;try{he=yield X.verify(v)}catch{he=yield X.verify(v,!0)}const Ge=Object.assign({},m);return Object.assign(Ge,S?{captchaResp:he}:{captchaResponse:he}),Object.assign(Ge,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ge,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ge})).apply(this,arguments)}function wr(T,m,v,S){return co.apply(this,arguments)}function co(){return co=(0,a.A)(function*(T,m,v,S){var X;if(null!==(X=T._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const he=yield Ki(T,m,v,"getOobCode"===v);return S(T,he)}return S(T,m).catch(function(){var he=(0,a.A)(function*(Ge){if("auth/missing-recaptcha-token"===Ge.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const It=yield Ki(T,m,v,"getOobCode"===v);return S(T,It)}return Promise.reject(Ge)});return function(Ge){return he.apply(this,arguments)}}())}),co.apply(this,arguments)}function xi(T,m,v){const S=Tr(T);we(S._canInitEmulator,S,"emulator-config-failed"),we(/^https?:\/\//.test(m),S,"invalid-emulator-scheme");const X=!!v?.disableWarnings,he=Ea(m),{host:Ge,port:It}=function Ks(T){const m=Ea(T),v=/(\/\/)?([^?#/]+)/.exec(T.substr(m.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(S);if(X){const he=X[1];return{host:he,port:Jr(S.substr(he.length+1))}}{const[he,Ge]=S.split(":");return{host:he,port:Jr(Ge)}}}(m);S.config.emulator={url:`${he}//${Ge}${null===It?"":`:${It}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Ge,port:It,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function Ls(){function T(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function Ea(T){const m=T.indexOf(":");return m<0?"":T.substr(0,m+1)}function Jr(T){if(!T)return null;const m=Number(T);return isNaN(m)?null:m}class Vs{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return en("not implemented")}_getIdTokenResponse(m){return en("not implemented")}_linkToIdToken(m,v){return en("not implemented")}_getReauthenticationResolver(m){return en("not implemented")}}function To(T,m){return Us.apply(this,arguments)}function Us(){return(Us=(0,a.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:resetPassword",Ee(T,m))})).apply(this,arguments)}function hi(){return(hi=(0,a.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Di(T,m){return As.apply(this,arguments)}function As(){return(As=(0,a.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function ls(){return(ls=(0,a.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:update",Ee(T,m))})).apply(this,arguments)}function lo(T,m){return rs.apply(this,arguments)}function rs(){return(rs=(0,a.A)(function*(T,m){return Cn(T,"POST","/v1/accounts:signInWithPassword",Ee(T,m))})).apply(this,arguments)}function Es(T,m){return js.apply(this,arguments)}function js(){return(js=(0,a.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:sendOobCode",Ee(T,m))})).apply(this,arguments)}function pn(){return(pn=(0,a.A)(function*(T,m){return Es(T,m)})).apply(this,arguments)}function Fn(T,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,a.A)(function*(T,m){return Es(T,m)})).apply(this,arguments)}function oi(T,m){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,a.A)(function*(T,m){return Es(T,m)})).apply(this,arguments)}function us(){return(us=(0,a.A)(function*(T,m){return Es(T,m)})).apply(this,arguments)}function Vi(){return(Vi=(0,a.A)(function*(T,m){return Cn(T,"POST","/v1/accounts:signInWithEmailLink",Ee(T,m))})).apply(this,arguments)}function Qn(){return(Qn=(0,a.A)(function*(T,m){return Cn(T,"POST","/v1/accounts:signInWithEmailLink",Ee(T,m))})).apply(this,arguments)}class $i extends Vs{constructor(m,v,S,X=null){super("password",S),this._email=m,this._password=v,this._tenantId=X}static _fromEmailAndPassword(m,v){return new $i(m,v,"password")}static _fromEmailAndCode(m,v,S=null){return new $i(m,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,a.A)(function*(){switch(v.signInMethod){case"password":return wr(m,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",lo);case"emailLink":return function Rr(T,m){return Vi.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:ye(m,"internal-error")}})()}_linkToIdToken(m,v){var S=this;return(0,a.A)(function*(){switch(S.signInMethod){case"password":return wr(m,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Di);case"emailLink":return function bs(T,m){return Qn.apply(this,arguments)}(m,{idToken:v,email:S._email,oobCode:S._password});default:ye(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ds(T,m){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.A)(function*(T,m){return Cn(T,"POST","/v1/accounts:signInWithIdp",Ee(T,m))})).apply(this,arguments)}class Ie extends Vs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Ie(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):ye("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X}=v,he=(0,me.Tt)(v,["providerId","signInMethod"]);if(!S||!X)return null;const Ge=new Ie(S,X);return Ge.idToken=he.idToken||void 0,Ge.accessToken=he.accessToken||void 0,Ge.secret=he.secret,Ge.nonce=he.nonce,Ge.pendingToken=he.pendingToken||null,Ge}_getIdTokenResponse(m){return Ds(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,Ds(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Ds(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,s.Am)(v)}return m}}function Qe(){return(Qe=(0,a.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:sendVerificationCode",Ee(T,m))})).apply(this,arguments)}function Yt(){return(Yt=(0,a.A)(function*(T,m){return Cn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ee(T,m))})).apply(this,arguments)}function _n(){return(_n=(0,a.A)(function*(T,m){const v=yield Cn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ee(T,m));if(v.temporaryProof)throw Hn(T,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Jn={USER_NOT_FOUND:"user-not-found"};function kn(){return(kn=(0,a.A)(function*(T,m){return Cn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ee(T,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Jn)})).apply(this,arguments)}class An extends Vs{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new An({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new An({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function gt(T,m){return Yt.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function wn(T,m){return _n.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Ar(T,m){return kn.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:S,verificationCode:X}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:S,code:X}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:he}=m;return S||v||X||he?new An({verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:he}):null}}class Er{constructor(m){var v,S,X,he,Ge,It;const Ht=(0,s.I9)((0,s.hp)(m)),Sn=null!==(v=Ht.apiKey)&&void 0!==v?v:null,xn=null!==(S=Ht.oobCode)&&void 0!==S?S:null,Hr=function Un(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=Ht.mode)&&void 0!==X?X:null);we(Sn&&xn&&Hr,"argument-error"),this.apiKey=Sn,this.operation=Hr,this.code=xn,this.continueUrl=null!==(he=Ht.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(Ge=Ht.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(It=Ht.tenantId)&&void 0!==It?It:null}static parseLink(m){const v=function $r(T){const m=(0,s.I9)((0,s.hp)(T)).link,v=m?(0,s.I9)((0,s.hp)(m)).deep_link_id:null,S=(0,s.I9)((0,s.hp)(T)).deep_link_id;return(S?(0,s.I9)((0,s.hp)(S)).link:null)||S||v||m||T}(m);try{return new Er(v)}catch{return null}}}let Xi=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(v,S){return $i._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const X=Er.parseLink(S);return we(X,"argument-error"),$i._fromEmailAndCode(v,X.code,X.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class Ri{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Ir extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Yr extends Ir{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return we("providerId"in v&&"signInMethod"in v,"argument-error"),Ie._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return we(m.idToken||m.accessToken,"argument-error"),Ie._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Yr.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Yr.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:X,pendingToken:he,nonce:Ge,providerId:It}=m;if(!S&&!X&&!v&&!he||!It)return null;try{return new Yr(It)._credential({idToken:v,accessToken:S,nonce:Ge,pendingToken:he})}catch{return null}}}let ai=(()=>{class T extends Ir{constructor(){super("facebook.com")}static credential(v){return Ie._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),Nr=(()=>{class T extends Ir{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Ie._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:X}=v;if(!S&&!X)return null;try{return T.credential(S,X)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),qs=(()=>{class T extends Ir{constructor(){super("github.com")}static credential(v){return Ie._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Ys extends Vs{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Ds(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,Ds(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Ds(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X,pendingToken:he}=v;return S&&X&&he&&S===X?new Ys(S,he):null}static _create(m,v){return new Ys(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class jo extends Ri{constructor(m){we(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return jo.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return jo.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Ys.fromJSON(m);return we(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:S}=m;if(!v||!S)return null;try{return Ys._create(S,v)}catch{return null}}}let La=(()=>{class T extends Ir{constructor(){super("twitter.com")}static credential(v,S){return Ie._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:X}=v;if(!S||!X)return null;try{return T.credential(S,X)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Bs(T,m){return kl.apply(this,arguments)}function kl(){return(kl=(0,a.A)(function*(T,m){return Cn(T,"POST","/v1/accounts:signUp",Ee(T,m))})).apply(this,arguments)}class qi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,S,X=!1){return(0,a.A)(function*(){const he=yield ne._fromIdTokenResponse(m,S,X),Ge=ds(S);return new qi({user:he,providerId:Ge,_tokenResponse:S,operationType:v})})()}static _forOperation(m,v,S){return(0,a.A)(function*(){yield m._updateTokensIfNecessary(S,!0);const X=ds(S);return new qi({user:m,providerId:X,_tokenResponse:S,operationType:v})})()}}function ds(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function wo(T){return ec.apply(this,arguments)}function ec(){return(ec=(0,a.A)(function*(T){var m;if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const v=Tr(T);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new qi({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield Bs(v,{returnSecureToken:!0}),X=yield qi._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class Bo extends s.g{constructor(m,v,S,X){var he;super(v.code,v.message),this.operationType=S,this.user=X,Object.setPrototypeOf(this,Bo.prototype),this.customData={appName:m.name,tenantId:null!==(he=m.tenantId)&&void 0!==he?he:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(m,v,S,X){return new Bo(m,v,S,X)}}function yi(T,m,v,S){return("reauthenticate"===m?v._getReauthenticationResolver(T):v._getIdTokenResponse(T)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?Bo._fromErrorAndOperation(T,he,m,S):he})}function Ao(T){return new Set(T.map(({providerId:m})=>m).filter(m=>!!m))}function Qo(T,m){return W.apply(this,arguments)}function W(){return W=(0,a.A)(function*(T,m){const v=(0,s.Ku)(T);yield ue(!0,v,m);const{providerUserInfo:S}=yield function zn(T,m){return In.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),X=Ao(S||[]);return v.providerData=v.providerData.filter(he=>X.has(he.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),W.apply(this,arguments)}function J(T,m){return j.apply(this,arguments)}function j(){return(j=(0,a.A)(function*(T,m,v=!1){const S=yield Cr(T,m._linkToIdToken(T.auth,yield T.getIdToken()),v);return qi._forOperation(T,"link",S)})).apply(this,arguments)}function ue(T,m,v){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,a.A)(function*(T,m,v){yield de(m);const X=!1===T?"provider-already-linked":"no-such-provider";we(Ao(m.providerData).has(v)===T,m.auth,X)})).apply(this,arguments)}function gn(T,m){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.A)(function*(T,m,v=!1){const{auth:S}=T;if((0,le._isFirebaseServerApp)(S.app))return Promise.reject(it(S));const X="reauthenticate";try{const he=yield Cr(T,yi(S,X,m,T),v);we(he.idToken,S,"internal-error");const Ge=Qr(he.idToken);we(Ge,S,"internal-error");const{sub:It}=Ge;return we(T.uid===It,S,"user-mismatch"),qi._forOperation(T,X,he)}catch(he){throw"auth/user-not-found"===he?.code&&ye(S,"user-mismatch"),he}})).apply(this,arguments)}function Hi(T,m){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,a.A)(function*(T,m,v=!1){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S="signIn",X=yield yi(T,S,m),he=yield qi._fromIdTokenResponse(T,S,X);return v||(yield T._updateCurrentUser(he.user)),he})).apply(this,arguments)}function hs(T,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,a.A)(function*(T,m){return Hi(Tr(T),m)})).apply(this,arguments)}function eo(T,m){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,a.A)(function*(T,m){const v=(0,s.Ku)(T);return yield ue(!1,v,m.providerId),J(v,m)})).apply(this,arguments)}function ho(T,m){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,a.A)(function*(T,m){return gn((0,s.Ku)(T),m)})).apply(this,arguments)}function ba(){return(ba=(0,a.A)(function*(T,m){return Cn(T,"POST","/v1/accounts:signInWithCustomToken",Ee(T,m))})).apply(this,arguments)}function Ui(T,m){return el.apply(this,arguments)}function el(){return el=(0,a.A)(function*(T,m){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const v=Tr(T),S=yield function fs(T,m){return ba.apply(this,arguments)}(v,{token:m,returnSecureToken:!0}),X=yield qi._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(X.user),X}),el.apply(this,arguments)}class is{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?Ca._fromServerResponse(m,v):"totpInfo"in v?Qs._fromServerResponse(m,v):ye(m,"internal-error")}}class Ca extends is{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new Ca(v)}}class Qs extends is{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new Qs(v)}}function Ia(T,m,v){var S;we((null===(S=v.url)||void 0===S?void 0:S.length)>0,T,"invalid-continue-uri"),we(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(we(v.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(we(v.android.packageName.length>0,T,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Is(T){return fa.apply(this,arguments)}function fa(){return(fa=(0,a.A)(function*(T){const m=Tr(T);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function Ta(T,m,v){return wa.apply(this,arguments)}function wa(){return(wa=(0,a.A)(function*(T,m,v){const S=Tr(T),X={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};v&&Ia(S,X,v),yield wr(S,X,"getOobCode",Fn)})).apply(this,arguments)}function tl(T,m,v){return pr.apply(this,arguments)}function pr(){return pr=(0,a.A)(function*(T,m,v){yield To((0,s.Ku)(T),{oobCode:m,newPassword:v}).catch(function(){var S=(0,a.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Is(T),X});return function(X){return S.apply(this,arguments)}}())}),pr.apply(this,arguments)}function Ec(T,m){return Do.apply(this,arguments)}function Do(){return Do=(0,a.A)(function*(T,m){yield function fi(T,m){return ls.apply(this,arguments)}((0,s.Ku)(T),{oobCode:m})}),Do.apply(this,arguments)}function Jo(T,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,a.A)(function*(T,m){const v=(0,s.Ku)(T),S=yield To(v,{oobCode:m}),X=S.requestType;switch(we(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(S.mfaInfo,v,"internal-error");default:we(S.email,v,"internal-error")}let he=null;return S.mfaInfo&&(he=is._fromServerResponse(Tr(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:he},operation:X}})).apply(this,arguments)}function Ua(T,m){return bc.apply(this,arguments)}function bc(){return(bc=(0,a.A)(function*(T,m){const{data:v}=yield Jo((0,s.Ku)(T),m);return v.email})).apply(this,arguments)}function Vh(T,m,v){return tc.apply(this,arguments)}function tc(){return(tc=(0,a.A)(function*(T,m,v){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=Tr(T),Ge=yield wr(S,{returnSecureToken:!0,email:m,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bs).catch(Ht=>{throw"auth/password-does-not-meet-requirements"===Ht.code&&Is(T),Ht}),It=yield qi._fromIdTokenResponse(S,"signIn",Ge);return yield S._updateCurrentUser(It.user),It})).apply(this,arguments)}function Ll(T,m,v){return(0,le._isFirebaseServerApp)(T.app)?Promise.reject(it(T)):hs((0,s.Ku)(T),Xi.credential(m,v)).catch(function(){var S=(0,a.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Is(T),X});return function(X){return S.apply(this,arguments)}}())}function nc(T,m,v){return $o.apply(this,arguments)}function $o(){return($o=(0,a.A)(function*(T,m,v){const S=Tr(T),X={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function he(Ge,It){we(It.handleCodeInApp,S,"argument-error"),It&&Ia(S,Ge,It)})(X,v),yield wr(S,X,"getOobCode",oi)})).apply(this,arguments)}function nl(T,m){const v=Er.parseLink(m);return"EMAIL_SIGNIN"===v?.operation}function Aa(T,m,v){return rc.apply(this,arguments)}function rc(){return(rc=(0,a.A)(function*(T,m,v){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=(0,s.Ku)(T),X=Xi.credentialWithLink(m,v||ur());return we(X._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),hs(S,X)})).apply(this,arguments)}function ja(){return(ja=(0,a.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:createAuthUri",Ee(T,m))})).apply(this,arguments)}function Vl(T,m){return M.apply(this,arguments)}function M(){return M=(0,a.A)(function*(T,m){const S={identifier:m,continueUri:Mt()?ur():"http://localhost"},{signinMethods:X}=yield function ic(T,m){return ja.apply(this,arguments)}((0,s.Ku)(T),S);return X||[]}),M.apply(this,arguments)}function re(T,m){return $.apply(this,arguments)}function $(){return $=(0,a.A)(function*(T,m){const v=(0,s.Ku)(T),X={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};m&&Ia(v.auth,X,m);const{email:he}=yield function si(T,m){return pn.apply(this,arguments)}(v.auth,X);he!==T.email&&(yield T.reload())}),$.apply(this,arguments)}function Y(T,m,v){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,a.A)(function*(T,m,v){const S=(0,s.Ku)(T),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:m};v&&Ia(S.auth,he,v);const{email:Ge}=yield function Mi(T,m){return us.apply(this,arguments)}(S.auth,he);Ge!==T.email&&(yield T.reload())}),Pe.apply(this,arguments)}function kt(){return(kt=(0,a.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function jn(T,m){return zr.apply(this,arguments)}function zr(){return zr=(0,a.A)(function*(T,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const S=(0,s.Ku)(T),he={idToken:yield S.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},Ge=yield Cr(S,function Ct(T,m){return kt.apply(this,arguments)}(S.auth,he));S.displayName=Ge.displayName||null,S.photoURL=Ge.photoUrl||null;const It=S.providerData.find(({providerId:Ht})=>"password"===Ht);It&&(It.displayName=S.displayName,It.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Ge)}),zr.apply(this,arguments)}function pi(T,m){const v=(0,s.Ku)(T);return(0,le._isFirebaseServerApp)(v.auth.app)?Promise.reject(it(v.auth)):gr(v,m,null)}function ei(T,m){return gr((0,s.Ku)(T),null,m)}function gr(T,m,v){return ti.apply(this,arguments)}function ti(){return ti=(0,a.A)(function*(T,m,v){const{auth:S}=T,he={idToken:yield T.getIdToken(),returnSecureToken:!0};m&&(he.email=m),v&&(he.password=v);const Ge=yield Cr(T,function Pr(T,m){return hi.apply(this,arguments)}(S,he));yield T._updateTokensIfNecessary(Ge,!0)}),ti.apply(this,arguments)}class vi{constructor(m,v,S={}){this.isNewUser=m,this.providerId=v,this.profile=S}}class fo extends vi{constructor(m,v,S,X){super(m,v,S),this.username=X}}class Ss extends vi{constructor(m,v){super(m,"facebook.com",v)}}class Ho extends fo{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class $s extends vi{constructor(m,v){super(m,"google.com",v)}}class Zo extends fo{constructor(m,v,S){super(m,"twitter.com",v,S)}}function Fi(T){const{user:m,_tokenResponse:v}=T;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ti(T){var m,v;if(!T)return null;const{providerId:S}=T,X=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},he=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!S&&T?.idToken){const Ge=null===(v=null===(m=Qr(T.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(Ge)return new vi(he,"anonymous"!==Ge&&"custom"!==Ge?Ge:null)}if(!S)return null;switch(S){case"facebook.com":return new Ss(he,X);case"github.com":return new Ho(he,X);case"google.com":return new $s(he,X);case"twitter.com":return new Zo(he,X,T.screenName||null);case"custom":case"anonymous":return new vi(he,null);default:return new vi(he,S,X)}}(v)}class _s{constructor(m,v,S){this.type=m,this.credential=v,this.user=S}static _fromIdtoken(m,v){return new _s("enroll",m,v)}static _fromMfaPendingCredential(m){return new _s("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,S;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return _s._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(S=m.multiFactorSession)&&void 0!==S&&S.idToken)return _s._fromIdtoken(m.multiFactorSession.idToken)}return null}}class ea{constructor(m,v,S){this.session=m,this.hints=v,this.signInResolver=S}static _fromError(m,v){const S=Tr(m),X=v.customData._serverResponse,he=(X.mfaInfo||[]).map(It=>is._fromServerResponse(S,It));we(X.mfaPendingCredential,S,"internal-error");const Ge=_s._fromMfaPendingCredential(X.mfaPendingCredential);return new ea(Ge,he,function(){var It=(0,a.A)(function*(Ht){const Sn=yield Ht._process(S,Ge);delete X.mfaInfo,delete X.mfaPendingCredential;const xn=Object.assign(Object.assign({},X),{idToken:Sn.idToken,refreshToken:Sn.refreshToken});switch(v.operationType){case"signIn":const Hr=yield qi._fromIdTokenResponse(S,v.operationType,xn);return yield S._updateCurrentUser(Hr.user),Hr;case"reauthenticate":return we(v.user,S,"internal-error"),qi._forOperation(v.user,v.operationType,xn);default:ye(S,"internal-error")}});return function(Ht){return It.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,a.A)(function*(){return v.signInResolver(m)})()}}function Da(T,m){var v;const S=(0,s.Ku)(T),X=m;return we(m.customData.operationType,S,"argument-error"),we(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),ea._fromError(S,X)}class Gs{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>is._fromServerResponse(m.auth,S)))})}static _fromUser(m){return new Gs(m)}getSession(){var m=this;return(0,a.A)(function*(){return _s._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,v){var S=this;return(0,a.A)(function*(){const X=m,he=yield S.getSession(),Ge=yield Cr(S.user,X._process(S.user.auth,he,v));return yield S.user._updateTokensIfNecessary(Ge),S.user.reload()})()}unenroll(m){var v=this;return(0,a.A)(function*(){const S="string"==typeof m?m:m.uid,X=yield v.user.getIdToken();try{const he=yield Cr(v.user,function qn(T,m){return Fe(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(T,m))}(v.user.auth,{idToken:X,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ge})=>Ge!==S),yield v.user._updateTokensIfNecessary(he),yield v.user.reload()}catch(he){throw he}})()}}const jl=new WeakMap;function ta(T){const m=(0,s.Ku)(T);return jl.has(m)||jl.set(m,Gs._fromUser(m)),jl.get(m)}const Bl="__sak";class jh{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Bl,"1"),this.storage.removeItem(Bl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const $l=(()=>{class T extends jh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const X=this.storage.getItem(S),he=this.localCache[S];X!==he&&v(S,he,X)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((It,Ht,Sn)=>{this.notifyListeners(It,Sn)});const X=v.key;S?this.detachListener():this.stopPolling();const he=()=>{const It=this.storage.getItem(X);!S&&this.localCache[X]===It||this.notifyListeners(X,It)},Ge=this.storage.getItem(X);!function Et(){return(0,s.lT)()&&10===document.documentMode}()||Ge===v.newValue||v.newValue===v.oldValue?he():setTimeout(he,10)}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const he of Array.from(X))he(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var X=()=>super._set,he=this;return(0,a.A)(function*(){yield X().call(he,v,S),he.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,X=this;return(0,a.A)(function*(){const he=yield S().call(X,v);return X.localCache[v]=JSON.stringify(he),he})()}_remove(v){var S=()=>super._remove,X=this;return(0,a.A)(function*(){yield S().call(X,v),delete X.localCache[v]})()}}return T.type="LOCAL",T})(),Ic=(()=>{class T extends jh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return T.type="SESSION",T})();let zt=(()=>{class T{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(he=>he.isListeningto(v));if(S)return S;const X=new T(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,a.A)(function*(){const X=v,{eventId:he,eventType:Ge,data:It}=X.data,Ht=S.handlersMap[Ge];if(!Ht?.size)return;X.ports[0].postMessage({status:"ack",eventId:he,eventType:Ge});const Sn=Array.from(Ht).map(function(){var Hr=(0,a.A)(function*(qo){return qo(X.origin,It)});return function(qo){return Hr.apply(this,arguments)}}()),xn=yield function Hl(T){return Promise.all(T.map(function(){var m=(0,a.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return m.apply(this,arguments)}}()))}(Sn);X.ports[0].postMessage({status:"done",eventId:he,eventType:Ge,response:xn})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function xr(T="",m=10){let v="";for(let S=0;S<m;S++)v+=Math.floor(10*Math.random());return T+v}class zo{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,S=50){var X=this;return(0,a.A)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let Ge,It;return new Promise((Ht,Sn)=>{const xn=xr("",20);he.port1.start();const Hr=setTimeout(()=>{Sn(new Error("unsupported_event"))},S);It={messageChannel:he,onMessage(qo){const Ma=qo;if(Ma.data.eventId===xn)switch(Ma.data.status){case"ack":clearTimeout(Hr),Ge=setTimeout(()=>{Sn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),Ht(Ma.data.response);break;default:clearTimeout(Hr),clearTimeout(Ge),Sn(new Error("invalid_response"))}}},X.handlers.add(It),he.port1.addEventListener("message",It.onMessage),X.target.postMessage({eventType:m,eventId:xn,data:v},[he.port2])}).finally(()=>{It&&X.removeMessageHandler(It)})})()}}function os(){return window}function oc(){return typeof os().WorkerGlobalScope<"u"&&"function"==typeof os().importScripts}function So(){return(So=(0,a.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Du="firebaseLocalStorageDb",no="firebaseLocalStorage",ys="fbase_key";class mo{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function xs(T,m){return T.transaction([no],m?"readwrite":"readonly").objectStore(no)}function Bn(){const T=indexedDB.open(Du,1);return new Promise((m,v)=>{T.addEventListener("error",()=>{v(T.error)}),T.addEventListener("upgradeneeded",()=>{const S=T.result;try{S.createObjectStore(no,{keyPath:ys})}catch(X){v(X)}}),T.addEventListener("success",(0,a.A)(function*(){const S=T.result;S.objectStoreNames.contains(no)?m(S):(S.close(),yield function Sa(){const T=indexedDB.deleteDatabase(Du);return new mo(T).toPromise()}(),m(yield Bn()))}))})}function il(T,m,v){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,a.A)(function*(T,m,v){const S=xs(T,!0).put({[ys]:m,value:v});return new mo(S).toPromise()})).apply(this,arguments)}function Su(){return(Su=(0,a.A)(function*(T,m){const v=xs(T,!1).get(m),S=yield new mo(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Pu(T,m){const v=xs(T,!0).delete(m);return new mo(v).toPromise()}const O=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,a.A)(function*(){return v.db||(v.db=yield Bn()),v.db})()}_withRetries(v){var S=this;return(0,a.A)(function*(){let X=0;for(;;)try{const he=yield S._openDb();return yield v(he)}catch(he){if(X++>3)throw he;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,a.A)(function*(){return oc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,a.A)(function*(){v.receiver=zt._getInstance(function rl(){return oc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,a.A)(function*(X,he){return{keyProcessed:(yield v._poll()).includes(he.key)}});return function(X,he){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,a.A)(function*(X,he){return["keyChanged"]});return function(X,he){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,a.A)(function*(){var S,X;if(v.activeServiceWorker=yield function Tc(){return So.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new zo(v.activeServiceWorker);const he=yield v.sender._send("ping",{},800);he&&null!==(S=he[0])&&void 0!==S&&S.fulfilled&&null!==(X=he[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,a.A)(function*(){if(S.sender&&S.activeServiceWorker&&function qt(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.A)(function*(){try{if(!indexedDB)return!1;const v=yield Bn();return yield il(v,Bl,"1"),yield Pu(v,Bl),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,a.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var X=this;return(0,a.A)(function*(){return X._withPendingWrite((0,a.A)(function*(){return yield X._withRetries(he=>il(he,v,S)),X.localCache[v]=S,X.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,a.A)(function*(){const X=yield S._withRetries(he=>function wg(T,m){return Su.apply(this,arguments)}(he,v));return S.localCache[v]=X,X})()}_remove(v){var S=this;return(0,a.A)(function*(){return S._withPendingWrite((0,a.A)(function*(){return yield S._withRetries(X=>Pu(X,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,a.A)(function*(){const S=yield v._withRetries(Ge=>{const It=xs(Ge,!1).getAll();return new mo(It).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const X=[],he=new Set;if(0!==S.length)for(const{fbase_key:Ge,value:It}of S)he.add(Ge),JSON.stringify(v.localCache[Ge])!==JSON.stringify(It)&&(v.notifyListeners(Ge,It),X.push(Ge));for(const Ge of Object.keys(v.localCache))v.localCache[Ge]&&!he.has(Ge)&&(v.notifyListeners(Ge,null),X.push(Ge));return X})()}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const he of Array.from(X))he(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,a.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),mt=1e12;class ft{constructor(m){this.auth=m,this.counter=mt,this._widgets=new Map}render(m,v){const S=this.counter;return this._widgets.set(S,new yn(m,this.auth.name,v||{})),this.counter++,S}reset(m){var v;const S=m||mt;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(m){var v;return(null===(v=this._widgets.get(m||mt))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,a.A)(function*(){var S;return null===(S=v._widgets.get(m||mt))||void 0===S||S.execute(),""})()}}class yn{constructor(m,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof m?document.getElementById(m):m;we(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hr(T){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<T;S++)m.push(v.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ar=ii("rcb"),kr=new ke(3e4,6e4);class mi{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=os().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return we(function ac(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(v),m,"argument-error"),this.shouldResolveImmediately(v)&&On(os().grecaptcha)?Promise.resolve(os().grecaptcha):new Promise((S,X)=>{const he=os().setTimeout(()=>{X(Je(m,"network-request-failed"))},kr.get());os()[ar]=()=>{os().clearTimeout(he),delete os()[ar];const It=os().grecaptcha;if(!It||!On(It))return void X(Je(m,"internal-error"));const Ht=It.render;It.render=(Sn,xn)=>{const Hr=Ht(Sn,xn);return this.counter++,Hr},this.hostLanguage=v,S(It)},Lo(`${function Vo(){return ws.recaptchaV2Script}()}?${(0,s.Am)({onload:ar,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(he),X(Je(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=os().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Dc{load(m){return(0,a.A)(function*(){return new ft(m)})()}clearedOneInstance(){}}const sl="recaptcha",Sc={theme:"light",type:"image"};class xu{constructor(m,v,S=Object.assign({},Sc)){this.parameters=S,this.type=sl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tr(m),this.isInvisible="invisible"===this.parameters.size,we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;we(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dc:new mi,this.validateStartingState()}verify(){var m=this;return(0,a.A)(function*(){m.assertNotDestroyed();const v=yield m.render(),S=m.getAssertedRecaptcha();return S.getResponse(v)||new Promise(he=>{const Ge=It=>{It&&(m.tokenChangeListeners.delete(Ge),he(It))};m.tokenChangeListeners.add(Ge),m.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof m)m(v);else if("string"==typeof m){const S=os()[m];"function"==typeof S&&S(v)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,a.A)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,a.A)(function*(){we(Mt()&&!oc(),m.auth,"internal-error"),yield function Bh(){let T=null;return new Promise(m=>{"complete"!==document.readyState?(T=()=>m(),window.addEventListener("load",T)):m()}).catch(m=>{throw T&&window.removeEventListener("load",T),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function yr(T){return on.apply(this,arguments)}(m.auth);we(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cc{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=An._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function pa(T,m,v){return $h.apply(this,arguments)}function $h(){return($h=(0,a.A)(function*(T,m,v){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=Tr(T),X=yield Wl(S,m,(0,s.Ku)(v));return new cc(X,he=>hs(S,he))})).apply(this,arguments)}function na(T,m,v){return zl.apply(this,arguments)}function zl(){return(zl=(0,a.A)(function*(T,m,v){const S=(0,s.Ku)(T);yield ue(!1,S,"phone");const X=yield Wl(S.auth,m,(0,s.Ku)(v));return new cc(X,he=>eo(S,he))})).apply(this,arguments)}function Cd(T,m,v){return ga.apply(this,arguments)}function ga(){return(ga=(0,a.A)(function*(T,m,v){const S=(0,s.Ku)(T);if((0,le._isFirebaseServerApp)(S.auth.app))return Promise.reject(it(S.auth));const X=yield Wl(S.auth,m,(0,s.Ku)(v));return new cc(X,he=>ho(S,he))})).apply(this,arguments)}function Wl(T,m,v){return Id.apply(this,arguments)}function Id(){return Id=(0,a.A)(function*(T,m,v){var S;const X=yield v.verify();try{let he;if(we("string"==typeof X,T,"argument-error"),we(v.type===sl,T,"argument-error"),he="string"==typeof m?{phoneNumber:m}:m,"session"in he){const Ge=he.session;if("phoneNumber"in he)return we("enroll"===Ge.type,T,"internal-error"),(yield function Tu(T,m){return Fe(T,"POST","/v2/accounts/mfaEnrollment:start",Ee(T,m))}(T,{idToken:Ge.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{we("signin"===Ge.type,T,"internal-error");const It=(null===(S=he.multiFactorHint)||void 0===S?void 0:S.uid)||he.multiFactorUid;return we(It,T,"missing-multi-factor-info"),(yield function w(T,m){return Fe(T,"POST","/v2/accounts/mfaSignIn:start",Ee(T,m))}(T,{mfaPendingCredential:Ge.credential,mfaEnrollmentId:It,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ge}=yield function Me(T,m){return Qe.apply(this,arguments)}(T,{phoneNumber:he.phoneNumber,recaptchaToken:X});return Ge}}finally{v._reset()}}),Id.apply(this,arguments)}function Mu(T,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,a.A)(function*(T,m){const v=(0,s.Ku)(T);if((0,le._isFirebaseServerApp)(v.auth.app))return Promise.reject(it(v.auth));yield J(v,m)})).apply(this,arguments)}let _o=(()=>{class T{constructor(v){this.providerId=T.PROVIDER_ID,this.auth=Tr(v)}verifyPhoneNumber(v,S){return Wl(this.auth,v,(0,s.Ku)(S))}static credential(v,S){return An._fromVerification(v,S)}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:X}=v;return S&&X?An._fromTokenResponse(S,X):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function ra(T,m){return m?ot(m):(we(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class Pc extends Vs{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ds(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Ds(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Ds(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function ol(T){return Hi(T.auth,new Pc(T),T.bypassAuthState)}function Zm(T){const{auth:m,user:v}=T;return we(v,m,"internal-error"),gn(v,new Pc(T),T.bypassAuthState)}function Ru(T){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,a.A)(function*(T){const{auth:m,user:v}=T;return we(v,m,"internal-error"),J(v,new Pc(T),T.bypassAuthState)})).apply(this,arguments)}class rp{constructor(m,v,S,X,he=!1){this.auth=m,this.resolver=S,this.user=X,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,a.A)(function*(S,X){m.pendingPromise={resolve:S,reject:X};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(he){m.reject(he)}});return function(S,X){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,a.A)(function*(){const{urlResponse:S,sessionId:X,postBody:he,tenantId:Ge,error:It,type:Ht}=m;if(It)return void v.reject(It);const Sn={auth:v.auth,requestUri:S,sessionId:X,tenantId:Ge||void 0,postBody:he||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ht)(Sn))}catch(xn){v.reject(xn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ol;case"linkViaPopup":case"linkViaRedirect":return Ru;case"reauthViaPopup":case"reauthViaRedirect":return Zm;default:ye(this.auth,"internal-error")}}resolve(m){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ip=new ke(2e3,1e4);function Nu(T,m,v){return xc.apply(this,arguments)}function xc(){return(xc=(0,a.A)(function*(T,m,v){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(Je(T,"operation-not-supported-in-this-environment"));const S=Tr(T);Dt(T,m,Ri);const X=ra(S,v);return new sp(S,"signInViaPopup",m,X).executeNotNull()})).apply(this,arguments)}function Td(T,m,v){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,a.A)(function*(T,m,v){const S=(0,s.Ku)(T);if((0,le._isFirebaseServerApp)(S.auth.app))return Promise.reject(Je(S.auth,"operation-not-supported-in-this-environment"));Dt(S.auth,m,Ri);const X=ra(S.auth,v);return new sp(S.auth,"reauthViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}function Rc(T,m,v){return lc.apply(this,arguments)}function lc(){return(lc=(0,a.A)(function*(T,m,v){const S=(0,s.Ku)(T);Dt(S.auth,m,Ri);const X=ra(S.auth,v);return new sp(S.auth,"linkViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}let sp=(()=>{class T extends rp{constructor(v,S,X,he,Ge){super(v,S,he,Ge),this.provider=X,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var v=this;return(0,a.A)(function*(){const S=yield v.execute();return we(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,a.A)(function*(){mn(1===v.filter.length,"Popup operations only handle one event");const S=xr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(Je(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,X;this.pollId=null!==(X=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,ip.get())};v()}}return T.currentPopupAction=null,T})();const Hh="pendingRedirect",xa=new Map;class ku extends rp{constructor(m,v,S=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,a.A)(function*(){let S=xa.get(v.auth._key());if(!S){try{const he=(yield function yo(T,m){return Fu.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;S=()=>Promise.resolve(he)}catch(X){S=()=>Promise.reject(X)}xa.set(v.auth._key(),S)}return v.bypassAuthState||xa.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,S=this;return(0,a.A)(function*(){if("signInViaRedirect"===m.type)return v().call(S,m);if("unknown"!==m.type){if(m.eventId){const X=yield S.auth._redirectUserForId(m.eventId);if(X)return S.user=X,v().call(S,m);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,a.A)(function*(){})()}cleanUp(){}}function Fu(){return(Fu=(0,a.A)(function*(T,m){const v=zh(m),S=cl(T);if(!(yield S._isAvailable()))return!1;const X="true"===(yield S._get(v));return yield S._remove(v),X})).apply(this,arguments)}function al(T,m){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,a.A)(function*(T,m){return cl(T)._set(zh(m),"true")})).apply(this,arguments)}function Gh(){xa.clear()}function Oc(T,m){xa.set(T._key(),m)}function cl(T){return ot(T._redirectPersistence)}function zh(T){return fn(Hh,T.config.apiKey,T.name)}function uc(T,m,v){return function ll(T,m,v){return dc.apply(this,arguments)}(T,m,v)}function dc(){return(dc=(0,a.A)(function*(T,m,v){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=Tr(T);Dt(T,m,Ri),yield S._initializationPromise;const X=ra(S,v);return yield al(X,S),X._openRedirect(S,m,"signInViaRedirect")})).apply(this,arguments)}function Nc(T,m,v){return function e_(T,m,v){return Po.apply(this,arguments)}(T,m,v)}function Po(){return(Po=(0,a.A)(function*(T,m,v){const S=(0,s.Ku)(T);if(Dt(S.auth,m,Ri),(0,le._isFirebaseServerApp)(S.auth.app))return Promise.reject(it(S.auth));yield S.auth._initializationPromise;const X=ra(S.auth,v);yield al(X,S.auth);const he=yield ul(S);return X._openRedirect(S.auth,m,"reauthViaRedirect",he)})).apply(this,arguments)}function kc(T,m,v){return function Fc(T,m,v){return Lu.apply(this,arguments)}(T,m,v)}function Lu(){return(Lu=(0,a.A)(function*(T,m,v){const S=(0,s.Ku)(T);Dt(S.auth,m,Ri),yield S.auth._initializationPromise;const X=ra(S.auth,v);yield ue(!1,S,m.providerId),yield al(X,S.auth);const he=yield ul(S);return X._openRedirect(S.auth,m,"linkViaRedirect",he)})).apply(this,arguments)}function op(T,m){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,a.A)(function*(T,m){return yield Tr(T)._initializationPromise,Wh(T,m,!1)})).apply(this,arguments)}function Wh(T,m){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,a.A)(function*(T,m,v=!1){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=Tr(T),X=ra(S,m),Ge=yield new ku(S,X,v).execute();return Ge&&!v&&(delete Ge.user._redirectEventId,yield S._persistUserIfCurrent(Ge.user),yield S._setRedirectUser(null,m)),Ge})).apply(this,arguments)}function ul(T){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,a.A)(function*(T){const m=xr(`${T.uid}:::`);return T._redirectEventId=m,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),m})).apply(this,arguments)}class ap{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(m,S)&&(v=!0,this.sendToConsumer(m,S),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function dl(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dd(T);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var S;if(m.error&&!Dd(m)){const X=(null===(S=m.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(Je(this.auth,X))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const S=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&S}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ad(m))}saveEventToCache(m){this.cachedEventUids.add(Ad(m)),this.lastProcessedEventTime=Date.now()}}function Ad(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(m=>m).join("-")}function Dd({type:T,error:m}){return"unknown"===T&&"auth/no-auth-event"===m?.code}function ia(T){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,a.A)(function*(T,m={}){return Fe(T,"GET","/v1/projects",m)})).apply(this,arguments)}const Kh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sd=/^https?/;function Pd(){return(Pd=(0,a.A)(function*(T){if(T.config.emulator)return;const{authorizedDomains:m}=yield ia(T);for(const v of m)try{if(t_(v))return}catch{}ye(T,"unauthorized-domain")})).apply(this,arguments)}function t_(T){const m=ur(),{protocol:v,hostname:S}=new URL(m);if(T.startsWith("chrome-extension://")){const Ge=new URL(T);return""===Ge.hostname&&""===S?"chrome-extension:"===v&&T.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&Ge.hostname===S}if(!Sd.test(v))return!1;if(Kh.test(T))return S===T;const X=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(S)}const Kl=new ke(3e4,6e4);function qh(){const T=os().___jsl;if(T?.H)for(const m of Object.keys(T.H))if(T.H[m].r=T.H[m].r||[],T.H[m].L=T.H[m].L||[],T.H[m].r=[...T.H[m].L],T.CP)for(let v=0;v<T.CP.length;v++)T.CP[v]=null}let Ts=null;const Ag=new ke(5e3,15e3),ql="__/auth/iframe",Dg="emulator/auth/iframe",Yh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xd(T){const m=T.config;we(m.authDomain,T,"auth-domain-config-required");const v=m.emulator?Ze(m,Dg):`https://${T.config.authDomain}/${ql}`,S={apiKey:m.apiKey,appName:T.name,v:le.SDK_VERSION},X=zs.get(T.config.apiHost);X&&(S.eid=X);const he=T._getFrameworks();return he.length&&(S.fw=he.join(",")),`${v}?${(0,s.Am)(S).slice(1)}`}function Md(){return Md=(0,a.A)(function*(T){const m=yield function n_(T){return Ts=Ts||function cp(T){return new Promise((m,v)=>{var S,X,he;function Ge(){qh(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{qh(),v(Je(T,"network-request-failed"))},timeout:Kl.get()})}if(null!==(X=null===(S=os().gapi)||void 0===S?void 0:S.iframes)&&void 0!==X&&X.Iframe)m(gapi.iframes.getContext());else{if(null===(he=os().gapi)||void 0===he||!he.load){const It=ii("iframefcb");return os()[It]=()=>{gapi.load?Ge():v(Je(T,"network-request-failed"))},Lo(`${function Xo(){return ws.gapiScript}()}?onload=${It}`).catch(Ht=>v(Ht))}Ge()}}).catch(m=>{throw Ts=null,m})}(T),Ts}(T),v=os().gapi;return we(v,T,"internal-error"),m.open({where:document.body,url:xd(T),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yh,dontclear:!0},S=>new Promise(function(){var X=(0,a.A)(function*(he,Ge){yield S.restyle({setHideOnLeave:!1});const It=Je(T,"network-request-failed"),Ht=os().setTimeout(()=>{Ge(It)},Ag.get());function Sn(){os().clearTimeout(Ht),he(S)}S.ping(Sn).then(Sn,()=>{Ge(It)})});return function(he,Ge){return X.apply(this,arguments)}}()))}),Md.apply(this,arguments)}const sa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Od{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Sg="__/auth/handler",vo="emulator/auth/handler",Nd=encodeURIComponent("fac");function fc(T,m,v,S,X,he){return kd.apply(this,arguments)}function kd(){return(kd=(0,a.A)(function*(T,m,v,S,X,he){we(T.config.authDomain,T,"auth-domain-config-required"),we(T.config.apiKey,T,"invalid-api-key");const Ge={apiKey:T.config.apiKey,appName:T.name,authType:v,redirectUrl:S,v:le.SDK_VERSION,eventId:X};if(m instanceof Ri){m.setDefaultLanguage(T.languageCode),Ge.providerId=m.providerId||"",(0,s.Im)(m.getCustomParameters())||(Ge.customParameters=JSON.stringify(m.getCustomParameters()));for(const[xn,Hr]of Object.entries(he||{}))Ge[xn]=Hr}if(m instanceof Ir){const xn=m.getScopes().filter(Hr=>""!==Hr);xn.length>0&&(Ge.scopes=xn.join(","))}T.tenantId&&(Ge.tid=T.tenantId);const It=Ge;for(const xn of Object.keys(It))void 0===It[xn]&&delete It[xn];const Ht=yield T._getAppCheckToken(),Sn=Ht?`#${Nd}=${encodeURIComponent(Ht)}`:"";return`${function up({config:T}){return T.emulator?Ze(T,vo):`https://${T.authDomain}/${Sg}`}(T)}?${(0,s.Am)(It).slice(1)}${Sn}`})).apply(this,arguments)}const Fd="webStorageSupport",Xh=class Pg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ic,this._completeRedirectFn=Wh,this._overrideRedirectResult=Oc}_openPopup(m,v,S,X){var he=this;return(0,a.A)(function*(){var Ge;mn(null===(Ge=he.eventManagers[m._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const It=yield fc(m,v,S,ur(),X);return function lp(T,m,v,S=500,X=600){const he=Math.max((window.screen.availHeight-X)/2,0).toString(),Ge=Math.max((window.screen.availWidth-S)/2,0).toString();let It="";const Ht=Object.assign(Object.assign({},sa),{width:S.toString(),height:X.toString(),top:he,left:Ge}),Sn=(0,s.ZQ)().toLowerCase();v&&(It=fr(Sn)?"_blank":v),cn(Sn)&&(m=m||"http://localhost",Ht.scrollbars="yes");const xn=Object.entries(Ht).reduce((qo,[Ma,Js])=>`${qo}${Ma}=${Js},`,"");if(function Fs(T=(0,s.ZQ)()){var m;return Ai(T)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Sn)&&"_self"!==It)return function hl(T,m){const v=document.createElement("a");v.href=T,v.target=m;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(m||"",It),new Od(null);const Hr=window.open(m||"",It,xn);we(Hr,T,"popup-blocked");try{Hr.focus()}catch{}return new Od(Hr)}(m,It,xr())})()}_openRedirect(m,v,S,X){var he=this;return(0,a.A)(function*(){return yield he._originValidation(m),function Ps(T){os().location.href=T}(yield fc(m,v,S,ur(),X)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:X,promise:he}=this.eventManagers[v];return X?Promise.resolve(X):(mn(he,"If manager is not set, promise should be"),he)}const S=this.initAndGetManager(m);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(m){var v=this;return(0,a.A)(function*(){const S=yield function hc(T){return Md.apply(this,arguments)}(m),X=new ap(m);return S.register("authEvent",he=>(we(he?.authEvent,m,"invalid-auth-event"),{status:X.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:X},v.iframes[m._key()]=S,X})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Fd,{type:Fd},X=>{var he;const Ge=null===(he=X?.[0])||void 0===he?void 0:he[Fd];void 0!==Ge&&v(!!Ge),ye(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ga(T){return Pd.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return nt()||Gr()||Ai()}};class dp{constructor(m){this.factorId=m}_process(m,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,S);case"signin":return this._finalizeSignIn(m,v.credential);default:return en("unexpected MultiFactorSessionType")}}}class jc extends dp{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new jc(m)}_finalizeEnroll(m,v,S){return function Ul(T,m){return Fe(T,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(T,m))}(m,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function N(T,m){return Fe(T,"POST","/v2/accounts/mfaSignIn:finalize",Ee(T,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yl=(()=>{class T{constructor(){}static assertion(v){return jc._fromCredential(v)}}return T.FACTOR_ID="phone",T})();var Vd="@firebase/auth";class Ud{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,a.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(S=>{m(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);v&&(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,s.XA)("authIdTokenMaxAge"),function ts(T){ws=T}({loadJS:T=>new Promise((m,v)=>{const S=document.createElement("script");S.setAttribute("src",T),S.onload=m,S.onerror=X=>{const he=Je("internal-error");he.customData=X,v(he)},S.type="text/javascript",S.charset="UTF-8",function Bc(){var T,m;return null!==(m=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==m?m:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Uu(T){(0,le._registerComponent)(new De.uA("auth",(m,{options:v})=>{const S=m.getProvider("app").getImmediate(),X=m.getProvider("heartbeat"),he=m.getProvider("app-check-internal"),{apiKey:Ge,authDomain:It}=S.options;we(Ge&&!Ge.includes(":"),"invalid-api-key",{appName:S.name});const Ht={apiKey:Ge,authDomain:It,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rt(T)},Sn=new Kr(S,X,he,Ht);return function Za(T,m){const v=m?.persistence||[],S=(Array.isArray(v)?v:[v]).map(ot);m?.errorMap&&T._updateErrorMap(m.errorMap),T._initializeWithPersistence(S,m?.popupRedirectResolver)}(Sn,v),Sn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,S)=>{m.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new De.uA("auth-internal",m=>{const v=Tr(m.getProvider("auth").getImmediate());return new Ud(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Vd,"1.7.9",function Jh(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,le.registerVersion)(Vd,"1.7.9","esm2017")}("Browser")},9583:(nn,qe,U)=>{U.d(qe,{fS:()=>Em,Ix:()=>ru,H6:()=>Up,T1:()=>Os,Wq:()=>lu,uY:()=>Ju,W6:()=>Ze,Ci:()=>iu,YQ:()=>mc,NJ:()=>Tl,Dc:()=>Gt,GA:()=>eg,cm:()=>hi,K$:()=>Bt,FA:()=>Zn,lo:()=>li,bI:()=>Kt,qG:()=>Za,qi:()=>mn,c8:()=>em,gS:()=>S0,C3:()=>yv,hq:()=>F0,me:()=>ev,rJ:()=>R_,Cs:()=>O_,vN:()=>Jy,kd:()=>D0,CL:()=>N0,LA:()=>tv,H9:()=>nu,ol:()=>am,Q5:()=>hh,Os:()=>k_,FD:()=>_m,rf:()=>U_,Ws:()=>vs,z6:()=>vh,x7:()=>T0,nY:()=>Al,_e:()=>lv,GG:()=>w0,kU:()=>VE,Rr:()=>Mo,aU:()=>jp,GV:()=>jE,AB:()=>_0,$1:()=>y0,po:()=>dm,St:()=>g0,aQ:()=>B_,FC:()=>uv,My:()=>m0,P:()=>rv,B:()=>bf,yx:()=>Zy,c4:()=>O0,O5:()=>k0,BN:()=>A0,He:()=>Ot,lN:()=>I0,HM:()=>Xp,EO:()=>Yp,mZ:()=>j_,iB:()=>lm,_M:()=>iv});var Ne,Re,a=U(467),le=U(7852),s=U(1362),be=U(8041),me=U(1076),De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={};(function(){var d;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(st,Oe,ze){ze||(ze=0);var at=Array(16);if("string"==typeof Oe)for(var dt=0;16>dt;++dt)at[dt]=Oe.charCodeAt(ze++)|Oe.charCodeAt(ze++)<<8|Oe.charCodeAt(ze++)<<16|Oe.charCodeAt(ze++)<<24;else for(dt=0;16>dt;++dt)at[dt]=Oe[ze++]|Oe[ze++]<<8|Oe[ze++]<<16|Oe[ze++]<<24;var bt=st.g[3],He=(Oe=st.g[0])+(bt^(ze=st.g[1])&((dt=st.g[2])^bt))+at[0]+3614090360&4294967295;He=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=(ze=(dt=(bt=(Oe=ze+(He<<7&4294967295|He>>>25))+((He=bt+(dt^Oe&(ze^dt))+at[1]+3905402710&4294967295)<<12&4294967295|He>>>20))+((He=dt+(ze^bt&(Oe^ze))+at[2]+606105819&4294967295)<<17&4294967295|He>>>15))+((He=ze+(Oe^dt&(bt^Oe))+at[3]+3250441966&4294967295)<<22&4294967295|He>>>10))+((He=Oe+(bt^ze&(dt^bt))+at[4]+4118548399&4294967295)<<7&4294967295|He>>>25))+((He=bt+(dt^Oe&(ze^dt))+at[5]+1200080426&4294967295)<<12&4294967295|He>>>20))+((He=dt+(ze^bt&(Oe^ze))+at[6]+2821735955&4294967295)<<17&4294967295|He>>>15))+((He=ze+(Oe^dt&(bt^Oe))+at[7]+4249261313&4294967295)<<22&4294967295|He>>>10))+((He=Oe+(bt^ze&(dt^bt))+at[8]+1770035416&4294967295)<<7&4294967295|He>>>25))+((He=bt+(dt^Oe&(ze^dt))+at[9]+2336552879&4294967295)<<12&4294967295|He>>>20))+((He=dt+(ze^bt&(Oe^ze))+at[10]+4294925233&4294967295)<<17&4294967295|He>>>15))+((He=ze+(Oe^dt&(bt^Oe))+at[11]+2304563134&4294967295)<<22&4294967295|He>>>10))+((He=Oe+(bt^ze&(dt^bt))+at[12]+1804603682&4294967295)<<7&4294967295|He>>>25))+((He=bt+(dt^Oe&(ze^dt))+at[13]+4254626195&4294967295)<<12&4294967295|He>>>20))+((He=dt+(ze^bt&(Oe^ze))+at[14]+2792965006&4294967295)<<17&4294967295|He>>>15))+((He=ze+(Oe^dt&(bt^Oe))+at[15]+1236535329&4294967295)<<22&4294967295|He>>>10))+((He=Oe+(dt^bt&(ze^dt))+at[1]+4129170786&4294967295)<<5&4294967295|He>>>27))+((He=bt+(ze^dt&(Oe^ze))+at[6]+3225465664&4294967295)<<9&4294967295|He>>>23))+((He=dt+(Oe^ze&(bt^Oe))+at[11]+643717713&4294967295)<<14&4294967295|He>>>18))+((He=ze+(bt^Oe&(dt^bt))+at[0]+3921069994&4294967295)<<20&4294967295|He>>>12))+((He=Oe+(dt^bt&(ze^dt))+at[5]+3593408605&4294967295)<<5&4294967295|He>>>27))+((He=bt+(ze^dt&(Oe^ze))+at[10]+38016083&4294967295)<<9&4294967295|He>>>23))+((He=dt+(Oe^ze&(bt^Oe))+at[15]+3634488961&4294967295)<<14&4294967295|He>>>18))+((He=ze+(bt^Oe&(dt^bt))+at[4]+3889429448&4294967295)<<20&4294967295|He>>>12))+((He=Oe+(dt^bt&(ze^dt))+at[9]+568446438&4294967295)<<5&4294967295|He>>>27))+((He=bt+(ze^dt&(Oe^ze))+at[14]+3275163606&4294967295)<<9&4294967295|He>>>23))+((He=dt+(Oe^ze&(bt^Oe))+at[3]+4107603335&4294967295)<<14&4294967295|He>>>18))+((He=ze+(bt^Oe&(dt^bt))+at[8]+1163531501&4294967295)<<20&4294967295|He>>>12))+((He=Oe+(dt^bt&(ze^dt))+at[13]+2850285829&4294967295)<<5&4294967295|He>>>27))+((He=bt+(ze^dt&(Oe^ze))+at[2]+4243563512&4294967295)<<9&4294967295|He>>>23))+((He=dt+(Oe^ze&(bt^Oe))+at[7]+1735328473&4294967295)<<14&4294967295|He>>>18))+((He=ze+(bt^Oe&(dt^bt))+at[12]+2368359562&4294967295)<<20&4294967295|He>>>12))+((He=Oe+(ze^dt^bt)+at[5]+4294588738&4294967295)<<4&4294967295|He>>>28))+((He=bt+(Oe^ze^dt)+at[8]+2272392833&4294967295)<<11&4294967295|He>>>21))+((He=dt+(bt^Oe^ze)+at[11]+1839030562&4294967295)<<16&4294967295|He>>>16))+((He=ze+(dt^bt^Oe)+at[14]+4259657740&4294967295)<<23&4294967295|He>>>9))+((He=Oe+(ze^dt^bt)+at[1]+2763975236&4294967295)<<4&4294967295|He>>>28))+((He=bt+(Oe^ze^dt)+at[4]+1272893353&4294967295)<<11&4294967295|He>>>21))+((He=dt+(bt^Oe^ze)+at[7]+4139469664&4294967295)<<16&4294967295|He>>>16))+((He=ze+(dt^bt^Oe)+at[10]+3200236656&4294967295)<<23&4294967295|He>>>9))+((He=Oe+(ze^dt^bt)+at[13]+681279174&4294967295)<<4&4294967295|He>>>28))+((He=bt+(Oe^ze^dt)+at[0]+3936430074&4294967295)<<11&4294967295|He>>>21))+((He=dt+(bt^Oe^ze)+at[3]+3572445317&4294967295)<<16&4294967295|He>>>16))+((He=ze+(dt^bt^Oe)+at[6]+76029189&4294967295)<<23&4294967295|He>>>9))+((He=Oe+(ze^dt^bt)+at[9]+3654602809&4294967295)<<4&4294967295|He>>>28))+((He=bt+(Oe^ze^dt)+at[12]+3873151461&4294967295)<<11&4294967295|He>>>21))+((He=dt+(bt^Oe^ze)+at[15]+530742520&4294967295)<<16&4294967295|He>>>16))+((He=ze+(dt^bt^Oe)+at[2]+3299628645&4294967295)<<23&4294967295|He>>>9))+((He=Oe+(dt^(ze|~bt))+at[0]+4096336452&4294967295)<<6&4294967295|He>>>26))+((He=bt+(ze^(Oe|~dt))+at[7]+1126891415&4294967295)<<10&4294967295|He>>>22))+((He=dt+(Oe^(bt|~ze))+at[14]+2878612391&4294967295)<<15&4294967295|He>>>17))+((He=ze+(bt^(dt|~Oe))+at[5]+4237533241&4294967295)<<21&4294967295|He>>>11))+((He=Oe+(dt^(ze|~bt))+at[12]+1700485571&4294967295)<<6&4294967295|He>>>26))+((He=bt+(ze^(Oe|~dt))+at[3]+2399980690&4294967295)<<10&4294967295|He>>>22))+((He=dt+(Oe^(bt|~ze))+at[10]+4293915773&4294967295)<<15&4294967295|He>>>17))+((He=ze+(bt^(dt|~Oe))+at[1]+2240044497&4294967295)<<21&4294967295|He>>>11))+((He=Oe+(dt^(ze|~bt))+at[8]+1873313359&4294967295)<<6&4294967295|He>>>26))+((He=bt+(ze^(Oe|~dt))+at[15]+4264355552&4294967295)<<10&4294967295|He>>>22))+((He=dt+(Oe^(bt|~ze))+at[6]+2734768916&4294967295)<<15&4294967295|He>>>17))+((He=ze+(bt^(dt|~Oe))+at[13]+1309151649&4294967295)<<21&4294967295|He>>>11))+((bt=(Oe=ze+((He=Oe+(dt^(ze|~bt))+at[4]+4149444226&4294967295)<<6&4294967295|He>>>26))+((He=bt+(ze^(Oe|~dt))+at[11]+3174756917&4294967295)<<10&4294967295|He>>>22))^((dt=bt+((He=dt+(Oe^(bt|~ze))+at[2]+718787259&4294967295)<<15&4294967295|He>>>17))|~Oe))+at[9]+3951481745&4294967295,st.g[0]=st.g[0]+Oe&4294967295,st.g[1]=st.g[1]+(dt+(He<<21&4294967295|He>>>11))&4294967295,st.g[2]=st.g[2]+dt&4294967295,st.g[3]=st.g[3]+bt&4294967295}function b(st,Oe){this.h=Oe;for(var ze=[],at=!0,dt=st.length-1;0<=dt;dt--){var bt=0|st[dt];at&&bt==Oe||(ze[dt]=bt,at=!1)}this.g=ze}(function e(st,Oe){function ze(){}ze.prototype=Oe.prototype,st.D=Oe.prototype,st.prototype=new ze,st.prototype.constructor=st,st.C=function(at,dt,bt){for(var He=Array(arguments.length-2),hu=2;hu<arguments.length;hu++)He[hu-2]=arguments[hu];return Oe.prototype[dt].apply(at,He)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(st,Oe){void 0===Oe&&(Oe=st.length);for(var ze=Oe-this.blockSize,at=this.B,dt=this.h,bt=0;bt<Oe;){if(0==dt)for(;bt<=ze;)h(this,st,bt),bt+=this.blockSize;if("string"==typeof st){for(;bt<Oe;)if(at[dt++]=st.charCodeAt(bt++),dt==this.blockSize){h(this,at),dt=0;break}}else for(;bt<Oe;)if(at[dt++]=st[bt++],dt==this.blockSize){h(this,at),dt=0;break}}this.h=dt,this.o+=Oe},o.prototype.v=function(){var st=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);st[0]=128;for(var Oe=1;Oe<st.length-8;++Oe)st[Oe]=0;var ze=8*this.o;for(Oe=st.length-8;Oe<st.length;++Oe)st[Oe]=255&ze,ze/=256;for(this.u(st),st=Array(16),Oe=ze=0;4>Oe;++Oe)for(var at=0;32>at;at+=8)st[ze++]=this.g[Oe]>>>at&255;return st};var x={};function L(st){return-128<=st&&128>st?function _(st,Oe){var ze=x;return Object.prototype.hasOwnProperty.call(ze,st)?ze[st]:ze[st]=Oe(st)}(st,function(Oe){return new b([0|Oe],0>Oe?-1:0)}):new b([0|st],0>st?-1:0)}function K(st){if(isNaN(st)||!isFinite(st))return ve;if(0>st)return Zt(K(-st));for(var Oe=[],ze=1,at=0;st>=ze;at++)Oe[at]=st/ze|0,ze*=4294967296;return new b(Oe,0)}var ve=L(0),Be=L(1),_t=L(16777216);function $t(st){if(0!=st.h)return!1;for(var Oe=0;Oe<st.g.length;Oe++)if(0!=st.g[Oe])return!1;return!0}function un(st){return-1==st.h}function Zt(st){for(var Oe=st.g.length,ze=[],at=0;at<Oe;at++)ze[at]=~st.g[at];return new b(ze,~st.h).add(Be)}function Xn(st,Oe){return st.add(Zt(Oe))}function cr(st,Oe){for(;(65535&st[Oe])!=st[Oe];)st[Oe+1]+=st[Oe]>>>16,st[Oe]&=65535,Oe++}function er(st,Oe){this.g=st,this.h=Oe}function Or(st,Oe){if($t(Oe))throw Error("division by zero");if($t(st))return new er(ve,ve);if(un(st))return Oe=Or(Zt(st),Oe),new er(Zt(Oe.g),Zt(Oe.h));if(un(Oe))return Oe=Or(st,Zt(Oe)),new er(Zt(Oe.g),Oe.h);if(30<st.g.length){if(un(st)||un(Oe))throw Error("slowDivide_ only works with positive integers.");for(var ze=Be,at=Oe;0>=at.l(st);)ze=Ni(ze),at=Ni(at);var dt=ni(ze,1),bt=ni(at,1);for(at=ni(at,2),ze=ni(ze,2);!$t(at);){var He=bt.add(at);0>=He.l(st)&&(dt=dt.add(ze),bt=He),at=ni(at,1),ze=ni(ze,1)}return Oe=Xn(st,dt.j(Oe)),new er(dt,Oe)}for(dt=ve;0<=st.l(Oe);){for(ze=Math.max(1,Math.floor(st.m()/Oe.m())),at=48>=(at=Math.ceil(Math.log(ze)/Math.LN2))?1:Math.pow(2,at-48),He=(bt=K(ze)).j(Oe);un(He)||0<He.l(st);)He=(bt=K(ze-=at)).j(Oe);$t(bt)&&(bt=Be),dt=dt.add(bt),st=Xn(st,He)}return new er(dt,st)}function Ni(st){for(var Oe=st.g.length+1,ze=[],at=0;at<Oe;at++)ze[at]=st.i(at)<<1|st.i(at-1)>>>31;return new b(ze,st.h)}function ni(st,Oe){var ze=Oe>>5;Oe%=32;for(var at=st.g.length-ze,dt=[],bt=0;bt<at;bt++)dt[bt]=0<Oe?st.i(bt+ze)>>>Oe|st.i(bt+ze+1)<<32-Oe:st.i(bt+ze);return new b(dt,st.h)}(d=b.prototype).m=function(){if(un(this))return-Zt(this).m();for(var st=0,Oe=1,ze=0;ze<this.g.length;ze++){var at=this.i(ze);st+=(0<=at?at:4294967296+at)*Oe,Oe*=4294967296}return st},d.toString=function(st){if(2>(st=st||10)||36<st)throw Error("radix out of range: "+st);if($t(this))return"0";if(un(this))return"-"+Zt(this).toString(st);for(var Oe=K(Math.pow(st,6)),ze=this,at="";;){var dt=Or(ze,Oe).g,bt=((0<(ze=Xn(ze,dt.j(Oe))).g.length?ze.g[0]:ze.h)>>>0).toString(st);if($t(ze=dt))return bt+at;for(;6>bt.length;)bt="0"+bt;at=bt+at}},d.i=function(st){return 0>st?0:st<this.g.length?this.g[st]:this.h},d.l=function(st){return un(st=Xn(this,st))?-1:$t(st)?0:1},d.abs=function(){return un(this)?Zt(this):this},d.add=function(st){for(var Oe=Math.max(this.g.length,st.g.length),ze=[],at=0,dt=0;dt<=Oe;dt++){var bt=at+(65535&this.i(dt))+(65535&st.i(dt)),He=(bt>>>16)+(this.i(dt)>>>16)+(st.i(dt)>>>16);at=He>>>16,ze[dt]=(He&=65535)<<16|(bt&=65535)}return new b(ze,-2147483648&ze[ze.length-1]?-1:0)},d.j=function(st){if($t(this)||$t(st))return ve;if(un(this))return un(st)?Zt(this).j(Zt(st)):Zt(Zt(this).j(st));if(un(st))return Zt(this.j(Zt(st)));if(0>this.l(_t)&&0>st.l(_t))return K(this.m()*st.m());for(var Oe=this.g.length+st.g.length,ze=[],at=0;at<2*Oe;at++)ze[at]=0;for(at=0;at<this.g.length;at++)for(var dt=0;dt<st.g.length;dt++){var bt=this.i(at)>>>16,He=65535&this.i(at),hu=st.i(dt)>>>16,rg=65535&st.i(dt);ze[2*at+2*dt]+=He*rg,cr(ze,2*at+2*dt),ze[2*at+2*dt+1]+=bt*rg,cr(ze,2*at+2*dt+1),ze[2*at+2*dt+1]+=He*hu,cr(ze,2*at+2*dt+1),ze[2*at+2*dt+2]+=bt*hu,cr(ze,2*at+2*dt+2)}for(at=0;at<Oe;at++)ze[at]=ze[2*at+1]<<16|ze[2*at];for(at=Oe;at<2*Oe;at++)ze[at]=0;return new b(ze,0)},d.A=function(st){return Or(this,st).h},d.and=function(st){for(var Oe=Math.max(this.g.length,st.g.length),ze=[],at=0;at<Oe;at++)ze[at]=this.i(at)&st.i(at);return new b(ze,this.h&st.h)},d.or=function(st){for(var Oe=Math.max(this.g.length,st.g.length),ze=[],at=0;at<Oe;at++)ze[at]=this.i(at)|st.i(at);return new b(ze,this.h|st.h)},d.xor=function(st){for(var Oe=Math.max(this.g.length,st.g.length),ze=[],at=0;at<Oe;at++)ze[at]=this.i(at)^st.i(at);return new b(ze,this.h^st.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Re=Ae.Md5=o,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=K,b.fromString=function se(st,Oe){if(0==st.length)throw Error("number format error: empty string");if(2>(Oe=Oe||10)||36<Oe)throw Error("radix out of range: "+Oe);if("-"==st.charAt(0))return Zt(se(st.substring(1),Oe));if(0<=st.indexOf("-"))throw Error('number format error: interior "-" character');for(var ze=K(Math.pow(Oe,8)),at=ve,dt=0;dt<st.length;dt+=8){var bt=Math.min(8,st.length-dt),He=parseInt(st.substring(dt,dt+bt),Oe);8>bt?(bt=K(Math.pow(Oe,bt)),at=at.j(bt).add(K(He))):at=(at=at.j(ze)).add(K(He))}return at},Ne=Ae.Integer=b}).apply(typeof De<"u"?De:typeof self<"u"?self:typeof window<"u"?window:{});var pe,$e,Tt,wt,vt,St,Pt,Le,ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,B,q){return E==Array.prototype||E==Object.prototype||(E[B]=q.value),E},o=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ee&&ee];for(var B=0;B<E.length;++B){var q=E[B];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(E,B){if(B)e:{var q=o;E=E.split(".");for(var fe=0;fe<E.length-1;fe++){var ht=E[fe];if(!(ht in q))break e;q=q[ht]}(B=B(fe=q[E=E[E.length-1]]))!=fe&&null!=B&&e(q,E,{configurable:!0,writable:!0,value:B})}}("Array.prototype.values",function(E){return E||function(){return function _(E,B){E instanceof String&&(E+="");var q=0,fe=!1,ht={next:function(){if(!fe&&q<E.length){var xt=q++;return{value:B(xt,E[xt]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return ht[Symbol.iterator]=function(){return ht},ht}(this,function(B,q){return q})}});var b=b||{},x=this||self;function L(E){var B=typeof E;return"array"==(B="object"!=B?B:E?Array.isArray(E)?"array":B:"null")||"object"==B&&"number"==typeof E.length}function K(E){var B=typeof E;return"object"==B&&null!=E||"function"==B}function se(E,B,q){return E.call.apply(E.bind,arguments)}function ve(E,B,q){if(!E)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var ht=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ht,fe),E.apply(B,ht)}}return function(){return E.apply(B,arguments)}}function Be(E,B,q){return(Be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?se:ve).apply(null,arguments)}function _t(E,B){var q=Array.prototype.slice.call(arguments,1);return function(){var fe=q.slice();return fe.push.apply(fe,arguments),E.apply(this,fe)}}function $t(E,B){function q(){}q.prototype=B.prototype,E.aa=B.prototype,E.prototype=new q,E.prototype.constructor=E,E.Qb=function(fe,ht,xt){for(var Tn=Array(arguments.length-2),Zi=2;Zi<arguments.length;Zi++)Tn[Zi-2]=arguments[Zi];return B.prototype[ht].apply(fe,Tn)}}function un(E){const B=E.length;if(0<B){const q=Array(B);for(let fe=0;fe<B;fe++)q[fe]=E[fe];return q}return[]}function Zt(E,B){for(let q=1;q<arguments.length;q++){const fe=arguments[q];if(L(fe)){const ht=E.length||0,xt=fe.length||0;E.length=ht+xt;for(let Tn=0;Tn<xt;Tn++)E[ht+Tn]=fe[Tn]}else E.push(fe)}}function cr(E){return/^[\s\xa0]*$/.test(E)}function er(){var E=x.navigator;return E&&(E=E.userAgent)?E:""}function Or(E){return Or[" "](E),E}Or[" "]=function(){};var Ni=!(-1==er().indexOf("Gecko")||-1!=er().toLowerCase().indexOf("webkit")&&-1==er().indexOf("Edge")||-1!=er().indexOf("Trident")||-1!=er().indexOf("MSIE")||-1!=er().indexOf("Edge"));function ni(E,B,q){for(const fe in E)B.call(q,E[fe],fe,E)}function Oe(E){const B={};for(const q in E)B[q]=E[q];return B}const ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(E,B){let q,fe;for(let ht=1;ht<arguments.length;ht++){for(q in fe=arguments[ht],fe)E[q]=fe[q];for(let xt=0;xt<ze.length;xt++)q=ze[xt],Object.prototype.hasOwnProperty.call(fe,q)&&(E[q]=fe[q])}}function dt(E){var B=1;E=E.split(":");const q=[];for(;0<B&&E.length;)q.push(E.shift()),B--;return E.length&&q.push(E.join(":")),q}function bt(E){x.setTimeout(()=>{throw E},0)}function He(){var E=G_;let B=null;return E.g&&(B=E.g,E.g=E.g.next,E.g||(E.h=null),B.next=null),B}var rg=new class Xn{constructor(B,q){this.i=B,this.j=q,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}(()=>new U0,E=>E.reset());class U0{constructor(){this.next=this.g=this.h=null}set(B,q){this.h=B,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Rf,ig=!1,G_=new class hu{constructor(){this.h=this.g=null}add(B,q){const fe=rg.get();fe.set(B,q),this.h?this.h.next=fe:this.g=fe,this.h=fe}},Am=()=>{const E=x.Promise.resolve(void 0);Rf=()=>{E.then(j0)}};var j0=()=>{for(var E;E=He();){try{E.h.call(E.g)}catch(q){bt(q)}var B=rg;B.j(E),100>B.h&&(B.h++,E.next=B.g,B.g=E)}ig=!1};function rd(){this.s=this.s,this.C=this.C}function la(E,B){this.type=E,this.g=this.target=B,this.defaultPrevented=!1}rd.prototype.s=!1,rd.prototype.ma=function(){this.s||(this.s=!0,this.N())},rd.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},la.prototype.h=function(){this.defaultPrevented=!0};var B0=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var E=!1,B=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const q=()=>{};x.addEventListener("test",q,B),x.removeEventListener("test",q,B)}catch{}return E}();function sg(E,B){if(la.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var q=this.type=E.type,fe=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=B,B=E.relatedTarget){if(Ni){e:{try{Or(B.nodeName);var ht=!0;break e}catch{}ht=!1}ht||(B=null)}}else"mouseover"==q?B=E.fromElement:"mouseout"==q&&(B=E.toElement);this.relatedTarget=B,fe?(this.clientX=void 0!==fe.clientX?fe.clientX:fe.pageX,this.clientY=void 0!==fe.clientY?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Dl[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&sg.aa.h.call(this)}}$t(sg,la);var Dl={2:"touch",3:"pen",4:"mouse"};sg.prototype.h=function(){sg.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var id="closure_listenable_"+(1e6*Math.random()|0),$0=0;function bv(E,B,q,fe,ht){this.listener=E,this.proxy=null,this.src=B,this.type=q,this.capture=!!fe,this.ha=ht,this.key=++$0,this.da=this.fa=!1}function Dm(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function og(E){this.src=E,this.g={},this.h=0}function Sm(E,B){var q=B.type;if(q in E.g){var xt,fe=E.g[q],ht=Array.prototype.indexOf.call(fe,B,void 0);(xt=0<=ht)&&Array.prototype.splice.call(fe,ht,1),xt&&(Dm(B),0==E.g[q].length&&(delete E.g[q],E.h--))}}function Of(E,B,q,fe){for(var ht=0;ht<E.length;++ht){var xt=E[ht];if(!xt.da&&xt.listener==B&&xt.capture==!!q&&xt.ha==fe)return ht}return-1}og.prototype.add=function(E,B,q,fe,ht){var xt=E.toString();(E=this.g[xt])||(E=this.g[xt]=[],this.h++);var Tn=Of(E,B,fe,ht);return-1<Tn?(B=E[Tn],q||(B.fa=!1)):((B=new bv(B,this.src,xt,!!fe,ht)).fa=q,E.push(B)),B};var ag="closure_lm_"+(1e6*Math.random()|0),Cv={};function z_(E,B,q,fe,ht){if(fe&&fe.once)return K_(E,B,q,fe,ht);if(Array.isArray(B)){for(var xt=0;xt<B.length;xt++)z_(E,B[xt],q,fe,ht);return null}return q=xm(q),E&&E[id]?E.K(B,q,K(fe)?!!fe.capture:!!fe,ht):W_(E,B,q,!1,fe,ht)}function W_(E,B,q,fe,ht,xt){if(!B)throw Error("Invalid event type");var Tn=K(ht)?!!ht.capture:!!ht,Zi=cg(E);if(Zi||(E[ag]=Zi=new og(E)),(q=Zi.add(B,q,fe,Tn,xt)).proxy)return q;if(fe=function Iv(){const B=H0;return function E(q){return B.call(E.src,E.listener,q)}}(),q.proxy=fe,fe.src=E,fe.listener=q,E.addEventListener)B0||(ht=Tn),void 0===ht&&(ht=!1),E.addEventListener(B.toString(),fe,ht);else if(E.attachEvent)E.attachEvent(Tv(B.toString()),fe);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(fe)}return q}function K_(E,B,q,fe,ht){if(Array.isArray(B)){for(var xt=0;xt<B.length;xt++)K_(E,B[xt],q,fe,ht);return null}return q=xm(q),E&&E[id]?E.L(B,q,K(fe)?!!fe.capture:!!fe,ht):W_(E,B,q,!0,fe,ht)}function Pm(E,B,q,fe,ht){if(Array.isArray(B))for(var xt=0;xt<B.length;xt++)Pm(E,B[xt],q,fe,ht);else fe=K(fe)?!!fe.capture:!!fe,q=xm(q),E&&E[id]?(E=E.i,(B=String(B).toString())in E.g&&-1<(q=Of(xt=E.g[B],q,fe,ht))&&(Dm(xt[q]),Array.prototype.splice.call(xt,q,1),0==xt.length&&(delete E.g[B],E.h--))):E&&(E=cg(E))&&(B=E.g[B.toString()],E=-1,B&&(E=Of(B,q,fe,ht)),(q=-1<E?B[E]:null)&&Kc(q))}function Kc(E){if("number"!=typeof E&&E&&!E.da){var B=E.src;if(B&&B[id])Sm(B.i,E);else{var q=E.type,fe=E.proxy;B.removeEventListener?B.removeEventListener(q,fe,E.capture):B.detachEvent?B.detachEvent(Tv(q),fe):B.addListener&&B.removeListener&&B.removeListener(fe),(q=cg(B))?(Sm(q,E),0==q.h&&(q.src=null,B[ag]=null)):Dm(E)}}}function Tv(E){return E in Cv?Cv[E]:Cv[E]="on"+E}function H0(E,B){if(E.da)E=!0;else{B=new sg(B,this);var q=E.listener,fe=E.ha||E.src;E.fa&&Kc(E),E=q.call(fe,B)}return E}function cg(E){return(E=E[ag])instanceof og?E:null}var q_="__closure_events_fn_"+(1e9*Math.random()>>>0);function xm(E){return"function"==typeof E?E:(E[q_]||(E[q_]=function(B){return E.handleEvent(B)}),E[q_])}function ua(){rd.call(this),this.i=new og(this),this.M=this,this.F=null}function Ro(E,B){var q,fe=E.F;if(fe)for(q=[];fe;fe=fe.F)q.push(fe);if(E=E.M,fe=B.type||B,"string"==typeof B)B=new la(B,E);else if(B instanceof la)B.target=B.target||E;else{var ht=B;at(B=new la(fe,E),ht)}if(ht=!0,q)for(var xt=q.length-1;0<=xt;xt--){var Tn=B.g=q[xt];ht=sd(Tn,fe,!0,B)&&ht}if(ht=sd(Tn=B.g=E,fe,!0,B)&&ht,ht=sd(Tn,fe,!1,B)&&ht,q)for(xt=0;xt<q.length;xt++)ht=sd(Tn=B.g=q[xt],fe,!1,B)&&ht}function sd(E,B,q,fe){if(!(B=E.i.g[String(B)]))return!0;B=B.concat();for(var ht=!0,xt=0;xt<B.length;++xt){var Tn=B[xt];if(Tn&&!Tn.da&&Tn.capture==q){var Zi=Tn.listener,ko=Tn.ha||Tn.src;Tn.fa&&Sm(E.i,Tn),ht=!1!==Zi.call(ko,fe)&&ht}}return ht&&!fe.defaultPrevented}function Y_(E,B,q){if("function"==typeof E)q&&(E=Be(E,q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=Be(E.handleEvent,E)}return 2147483647<Number(B)?-1:x.setTimeout(E,B||0)}function lg(E){E.g=Y_(()=>{E.g=null,E.i&&(E.i=!1,lg(E))},E.l);const B=E.h;E.h=null,E.m.apply(null,B)}$t(ua,rd),ua.prototype[id]=!0,ua.prototype.removeEventListener=function(E,B,q,fe){Pm(this,E,B,q,fe)},ua.prototype.N=function(){if(ua.aa.N.call(this),this.i){var B,E=this.i;for(B in E.g){for(var q=E.g[B],fe=0;fe<q.length;fe++)Dm(q[fe]);delete E.g[B],E.h--}}this.F=null},ua.prototype.K=function(E,B,q,fe){return this.i.add(String(E),B,!1,q,fe)},ua.prototype.L=function(E,B,q,fe){return this.i.add(String(E),B,!0,q,fe)};class $E extends rd{constructor(B,q){super(),this.m=B,this.l=q,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:lg(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ug(E){rd.call(this),this.h=E,this.g={}}$t(ug,rd);var X_=[];function Q_(E){ni(E.g,function(B,q){this.g.hasOwnProperty(q)&&Kc(B)},E),E.g={}}ug.prototype.N=function(){ug.aa.N.call(this),Q_(this)},ug.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var J_=x.JSON.stringify,G0=x.JSON.parse,wv=class{stringify(E){return x.JSON.stringify(E,void 0)}parse(E){return x.JSON.parse(E,void 0)}};function Mm(){}function Av(){}Mm.prototype.h=null;var Eh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dg(){la.call(this,"d")}function Rm(){la.call(this,"c")}$t(dg,la),$t(Rm,la);var od={},fu=null;function kf(){return fu=fu||new ua}function Z_(E){la.call(this,od.La,E)}function hg(E){const B=kf();Ro(B,new Z_(B))}function fg(E,B){la.call(this,od.STAT_EVENT,E),this.stat=B}function da(E){const B=kf();Ro(B,new fg(B,E))}function ey(E,B){la.call(this,od.Ma,E),this.size=B}function Ff(E,B){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){E()},B)}function Lf(){this.g=!0}function Vf(E,B,q,fe){E.info(function(){return"XMLHTTP TEXT ("+B+"): "+function z0(E,B){if(!E.g)return B;if(!B)return null;try{var q=JSON.parse(B);if(q)for(E=0;E<q.length;E++)if(Array.isArray(q[E])){var fe=q[E];if(!(2>fe.length)){var ht=fe[1];if(Array.isArray(ht)&&!(1>ht.length)){var xt=ht[0];if("noop"!=xt&&"stop"!=xt&&"close"!=xt)for(var Tn=1;Tn<ht.length;Tn++)ht[Tn]=""}}}return J_(q)}catch{return B}}(E,q)+(fe?" "+fe:"")})}od.La="serverreachability",$t(Z_,la),od.STAT_EVENT="statevent",$t(fg,la),od.Ma="timingevent",$t(ey,la),Lf.prototype.xa=function(){this.g=!1},Lf.prototype.info=function(){};var ny,km={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Fm(){}function ad(E,B,q,fe){this.j=E,this.i=B,this.l=q,this.R=fe||1,this.U=new ug(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ry}function ry(){this.i=null,this.g="",this.h=!1}$t(Fm,Mm),Fm.prototype.g=function(){return new XMLHttpRequest},Fm.prototype.i=function(){return{}},ny=new Fm;var iy={},Lm={};function sy(E,B,q){E.L=1,E.v=Bf(ya(B)),E.m=q,E.P=!0,W0(E,null)}function W0(E,B){E.F=Date.now(),ay(E),E.A=ya(E.v);var q=E.A,fe=E.R;Array.isArray(fe)||(fe=[String(fe)]),hy(q.i,"t",fe),E.C=0,q=E.j.J,E.h=new ry,E.g=Xf(E.j,q?B:null,!E.m),0<E.O&&(E.M=new $E(Be(E.Y,E,E.g),E.O)),B=E.U,q=E.g,fe=E.ca;var ht="readystatechange";Array.isArray(ht)||(ht&&(X_[0]=ht.toString()),ht=X_);for(var xt=0;xt<ht.length;xt++){var Tn=z_(q,ht[xt],fe||B.handleEvent,!1,B.h||B);if(!Tn)break;B.g[Tn.key]=Tn}B=E.H?Oe(E.H):{},E.m?(E.u||(E.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,B)):(E.u="GET",E.g.ea(E.A,E.u,null,B)),hg(),function ty(E,B,q,fe,ht,xt){E.info(function(){if(E.g)if(xt)for(var Tn="",Zi=xt.split("&"),ko=0;ko<Zi.length;ko++){var Li=Zi[ko].split("=");if(1<Li.length){var ha=Li[0];Li=Li[1];var so=ha.split("_");Tn=2<=so.length&&"type"==so[1]?Tn+(ha+"=")+Li+"&":Tn+(ha+"=redacted&")}}else Tn=null;else Tn=xt;return"XMLHTTP REQ ("+fe+") [attempt "+ht+"]: "+B+"\n"+q+"\n"+Tn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function oy(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Sv(E,B){var q=E.C,fe=B.indexOf("\n",q);return-1==fe?Lm:(q=Number(B.substring(q,fe)),isNaN(q)?iy:(fe+=1)+q>B.length?Lm:(B=B.slice(fe,fe+q),E.C=fe+q,B))}function ay(E){E.S=Date.now()+E.I,pg(E,E.I)}function pg(E,B){if(null!=E.B)throw Error("WatchDog timer not null");E.B=Ff(Be(E.ba,E),B)}function Vm(E){E.B&&(x.clearTimeout(E.B),E.B=null)}function Uf(E){0==E.j.G||E.J||Yf(E.j,E)}function Si(E){Vm(E);var B=E.M;B&&"function"==typeof B.ma&&B.ma(),E.M=null,Q_(E.U),E.g&&(B=E.g,E.g=null,B.abort(),B.ma())}function cy(E,B){try{var q=E.j;if(0!=q.G&&(q.g==E||Ch(q.h,E)))if(!E.K&&Ch(q.h,E)&&3==q.G){try{var fe=q.Da.g.parse(B)}catch{fe=null}if(Array.isArray(fe)&&3==fe.length){var ht=fe;if(0==ht[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<E.F))break e;gd(q),_u(q)}qf(q),da(18)}}else q.za=ht[1],0<q.za-q.T&&37500>ht[2]&&q.F&&0==q.v&&!q.C&&(q.C=Ff(Be(q.Za,q),6e3));if(1>=pu(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Yo(q,11)}else if((E.K||q.g==E)&&gd(q),!cr(B))for(ht=q.Da.g.parse(B),B=0;B<ht.length;B++){let Li=ht[B];if(q.T=Li[0],Li=Li[1],2==q.G)if("c"==Li[0]){q.K=Li[1],q.ia=Li[2];const ha=Li[3];null!=ha&&(q.la=ha,q.j.info("VER="+q.la));const so=Li[4];null!=so&&(q.Aa=so,q.j.info("SVER="+q.Aa));const Eu=Li[5];null!=Eu&&"number"==typeof Eu&&0<Eu&&(q.L=fe=1.5*Eu,q.j.info("backChannelRequestTimeoutMs_="+fe)),fe=q;const va=E.g;if(va){const Jf=va.g?va.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jf){var xt=fe.h;xt.g||-1==Jf.indexOf("spdy")&&-1==Jf.indexOf("quic")&&-1==Jf.indexOf("h2")||(xt.j=xt.l,xt.g=new Set,xt.h&&(_a(xt,xt.h),xt.h=null))}if(fe.D){const yd=va.g?va.g.getResponseHeader("X-HTTP-Session-Id"):null;yd&&(fe.ya=yd,as(fe.I,fe.D,yd))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-E.F,q.j.info("Handshake RTT: "+q.R+"ms"));var Tn=E;if((fe=q).qa=Nh(fe,fe.J?fe.ia:null,fe.W),Tn.K){gg(fe.h,Tn);var Zi=Tn,ko=fe.L;ko&&(Zi.I=ko),Zi.B&&(Vm(Zi),ay(Zi)),fe.g=Tn}else fd(fe);0<q.i.length&&yu(q)}else"stop"!=Li[0]&&"close"!=Li[0]||Yo(q,7);else 3==q.G&&("stop"==Li[0]||"close"==Li[0]?"stop"==Li[0]?Yo(q,7):Wf(q):"noop"!=Li[0]&&q.l&&q.l.ta(Li),q.v=0)}hg()}catch{}}function bh(E){this.l=E||10,E=x.PerformanceNavigationTiming?0<(E=x.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oo(E){return!!E.h||!!E.g&&E.g.size>=E.j}function pu(E){return E.h?1:E.g?E.g.size:0}function Ch(E,B){return E.h?E.h==B:!!E.g&&E.g.has(B)}function _a(E,B){E.g?E.g.add(B):E.h=B}function gg(E,B){E.h&&E.h==B?E.h=null:E.g&&E.g.has(B)&&E.g.delete(B)}function cd(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let B=E.i;for(const q of E.g.values())B=B.concat(q.D);return B}return un(E.i)}function ld(E,B){if(E.forEach&&"function"==typeof E.forEach)E.forEach(B,void 0);else if(L(E)||"string"==typeof E)Array.prototype.forEach.call(E,B,void 0);else for(var q=function Th(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(L(E)||"string"==typeof E){var B=[];E=E.length;for(var q=0;q<E;q++)B.push(q);return B}B=[],q=0;for(const fe in E)B[q++]=fe;return B}}}(E),fe=function Ih(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(L(E)){for(var B=[],q=E.length,fe=0;fe<q;fe++)B.push(E[fe]);return B}for(fe in B=[],q=0,E)B[q++]=E[fe];return B}(E),ht=fe.length,xt=0;xt<ht;xt++)B.call(void 0,fe[xt],q&&q[xt],E)}ad.prototype.ca=function(E){E=E.target;const B=this.M;B&&3==Yc(E)?B.j():this.Y(E)},ad.prototype.Y=function(E){try{if(E==this.g)e:{const so=Yc(this.g);var B=this.g.Ba();if(this.g.Z(),!(3>so)&&(3!=so||this.g&&(this.h.h||this.g.oa()||Mh(this.g)))){this.J||4!=so||7==B||hg(),Vm(this);var q=this.g.Z();this.X=q;t:if(oy(this)){var fe=Mh(this.g);E="";var ht=fe.length,xt=4==Yc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),Uf(this);var Tn="";break t}this.h.i=new x.TextDecoder}for(B=0;B<ht;B++)this.h.h=!0,E+=this.h.i.decode(fe[B],{stream:!(xt&&B==ht-1)});fe.length=0,this.h.g+=E,this.C=0,Tn=this.h.g}else Tn=this.g.oa();if(this.o=200==q,function Om(E,B,q,fe,ht,xt,Tn){E.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+ht+"]: "+B+"\n"+q+"\n"+xt+" "+Tn})}(this.i,this.u,this.A,this.l,this.R,so,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Zi,ko=this.g;if((Zi=ko.g?ko.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cr(Zi)){var Li=Zi;break t}}Li=null}if(!(q=Li)){this.o=!1,this.s=3,da(12),Si(this),Uf(this);break e}Vf(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cy(this,q)}if(this.P){let va;for(q=!0;!this.J&&this.C<Tn.length;){if(va=Sv(this,Tn),va==Lm){4==so&&(this.s=4,da(14),q=!1),Vf(this.i,this.l,null,"[Incomplete Response]");break}if(va==iy){this.s=4,da(15),Vf(this.i,this.l,Tn,"[Invalid Chunk]"),q=!1;break}Vf(this.i,this.l,va,null),cy(this,va)}if(oy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=so||0!=Tn.length||this.h.h||(this.s=1,da(16),q=!1),this.o=this.o&&q,q){if(0<Tn.length&&!this.W){this.W=!0;var ha=this.j;ha.g==this&&ha.ba&&!ha.M&&(ha.j.info("Great, no buffering proxy detected. Bytes received: "+Tn.length),pd(ha),ha.M=!0,da(11))}}else Vf(this.i,this.l,Tn,"[Invalid Chunked Response]"),Si(this),Uf(this)}else Vf(this.i,this.l,Tn,null),cy(this,Tn);4==so&&Si(this),this.o&&!this.J&&(4==so?Yf(this.j,this):(this.o=!1,ay(this)))}else(function kv(E){const B={};E=(E.g&&2<=Yc(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let fe=0;fe<E.length;fe++){if(cr(E[fe]))continue;var q=dt(E[fe]);const ht=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const xt=B[ht]||[];B[ht]=xt,xt.push(q)}!function st(E,B){for(const q in E)B.call(void 0,E[q],q,E)}(B,function(fe){return fe.join(", ")})})(this.g),400==q&&0<Tn.indexOf("Unknown SID")?(this.s=3,da(12)):(this.s=0,da(13)),Si(this),Uf(this)}}}catch{}},ad.prototype.cancel=function(){this.J=!0,Si(this)},ad.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function Nm(E,B){E.info(function(){return"TIMEOUT: "+B})}(this.i,this.A),2!=this.L&&(hg(),da(17)),Si(this),this.s=2,Uf(this)):pg(this,this.S-E)},bh.prototype.cancel=function(){if(this.i=cd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var wh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Xa){this.h=E.h,Sl(this,E.j),this.o=E.o,this.g=E.g,jf(this,E.s),this.l=E.l;var B=E.i,q=new mg;q.i=B.i,B.g&&(q.g=new Map(B.g),q.h=B.h),Um(this,q),this.m=E.m}else E&&(B=String(E).match(wh))?(this.h=!1,Sl(this,B[1]||"",!0),this.o=Dh(B[2]||""),this.g=Dh(B[3]||"",!0),jf(this,B[4]),this.l=Dh(B[5]||"",!0),Um(this,B[6]||"",!0),this.m=Dh(B[7]||"")):(this.h=!1,this.i=new mg(null,this.h))}function ya(E){return new Xa(E)}function Sl(E,B,q){E.j=q?Dh(B,!0):B,E.j&&(E.j=E.j.replace(/:$/,""))}function jf(E,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);E.s=B}else E.s=null}function Um(E,B,q){B instanceof mg?(E.i=B,function q0(E,B){B&&!E.j&&(gu(E),E.i=null,E.g.forEach(function(q,fe){var ht=fe.toLowerCase();fe!=ht&&(dy(this,fe),hy(this,ht,q))},E)),E.j=B}(E.i,E.h)):(q||(B=Sh(B,Pv)),E.i=new mg(B,E.h))}function as(E,B,q){E.i.set(B,q)}function Bf(E){return as(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Dh(E,B){return E?B?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Sh(E,B,q){return"string"==typeof E?(E=encodeURI(E).replace(B,ly),q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function ly(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Xa.prototype.toString=function(){var E=[],B=this.j;B&&E.push(Sh(B,jm,!0),":");var q=this.g;return(q||"file"==B)&&(E.push("//"),(B=this.o)&&E.push(Sh(B,jm,!0),"@"),E.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&E.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&E.push("/"),E.push(Sh(q,"/"==q.charAt(0)?Bm:uy,!0))),(q=this.i.toString())&&E.push("?",q),(q=this.m)&&E.push("#",Sh(q,K0)),E.join("")};var E,jm=/[#\/\?@]/g,uy=/[#\?:]/g,Bm=/[#\?]/g,Pv=/[#\?@]/g,K0=/#/g;function mg(E,B){this.h=this.g=null,this.i=E||null,this.j=!!B}function gu(E){E.g||(E.g=new Map,E.h=0,E.i&&function Ah(E,B){if(E){E=E.split("&");for(var q=0;q<E.length;q++){var fe=E[q].indexOf("="),ht=null;if(0<=fe){var xt=E[q].substring(0,fe);ht=E[q].substring(fe+1)}else xt=E[q];B(xt,ht?decodeURIComponent(ht.replace(/\+/g," ")):"")}}}(E.i,function(B,q){E.add(decodeURIComponent(B.replace(/\+/g," ")),q)}))}function dy(E,B){gu(E),B=$f(E,B),E.g.has(B)&&(E.i=null,E.h-=E.g.get(B).length,E.g.delete(B))}function xv(E,B){return gu(E),B=$f(E,B),E.g.has(B)}function hy(E,B,q){dy(E,B),0<q.length&&(E.i=null,E.g.set($f(E,B),un(q)),E.h+=q.length)}function $f(E,B){return B=String(B),E.j&&(B=B.toLowerCase()),B}function No(E,B,q,fe,ht){try{ht&&(ht.onload=null,ht.onerror=null,ht.onabort=null,ht.ontimeout=null),fe(q)}catch{}}function Ph(){this.g=new wv}function Hf(E,B,q){const fe=q||"";try{ld(E,function(ht,xt){let Tn=ht;K(ht)&&(Tn=J_(ht)),B.push(fe+xt+"="+encodeURIComponent(Tn))})}catch(ht){throw B.push(fe+"type="+encodeURIComponent("_badmap")),ht}}function qc(E){this.l=E.Ub||null,this.j=E.eb||!1}function ud(E,B){ua.call(this),this.D=E,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Eo(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function dd(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Gf(E)}function Gf(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function mu(E){let B="";return ni(E,function(q,fe){B+=fe,B+=":",B+=q,B+="\r\n"}),B}function $m(E,B,q){e:{for(fe in q){var fe=!1;break e}fe=!0}fe||(q=mu(q),"string"==typeof E?null!=q&&encodeURIComponent(String(q)):as(E,B,q))}function Yi(E){ua.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=mg.prototype).add=function(E,B){gu(this),this.i=null,E=$f(this,E);var q=this.g.get(E);return q||this.g.set(E,q=[]),q.push(B),this.h+=1,this},d.forEach=function(E,B){gu(this),this.g.forEach(function(q,fe){q.forEach(function(ht){E.call(B,ht,fe,this)},this)},this)},d.na=function(){gu(this);const E=Array.from(this.g.values()),B=Array.from(this.g.keys()),q=[];for(let fe=0;fe<B.length;fe++){const ht=E[fe];for(let xt=0;xt<ht.length;xt++)q.push(B[fe])}return q},d.V=function(E){gu(this);let B=[];if("string"==typeof E)xv(this,E)&&(B=B.concat(this.g.get($f(this,E))));else{E=Array.from(this.g.values());for(let q=0;q<E.length;q++)B=B.concat(E[q])}return B},d.set=function(E,B){return gu(this),this.i=null,xv(this,E=$f(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[B]),this.h+=1,this},d.get=function(E,B){return E&&0<(E=this.V(E)).length?String(E[0]):B},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],B=Array.from(this.g.keys());for(var q=0;q<B.length;q++){var fe=B[q];const xt=encodeURIComponent(String(fe)),Tn=this.V(fe);for(fe=0;fe<Tn.length;fe++){var ht=xt;""!==Tn[fe]&&(ht+="="+encodeURIComponent(String(Tn[fe]))),E.push(ht)}}return this.i=E.join("&")},$t(qc,Mm),qc.prototype.g=function(){return new ud(this.l,this.j)},qc.prototype.i=(E={},function(){return E}),$t(ud,ua),(d=ud.prototype).open=function(E,B){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=B,this.readyState=1,Gf(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(B.body=E),(this.D||x).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dd(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Gf(this)),this.g&&(this.readyState=3,Gf(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var B=E.value?E.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!E.done}))&&(this.response=this.responseText+=B)}E.done?dd(this):Gf(this),3==this.readyState&&Eo(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,dd(this))},d.Qa=function(E){this.g&&(this.response=E,dd(this))},d.ga=function(){this.g&&dd(this)},d.setRequestHeader=function(E,B){this.u.append(E,B)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],B=this.h.entries();for(var q=B.next();!q.done;)E.push((q=q.value)[0]+": "+q[1]),q=B.next();return E.join("\r\n")},Object.defineProperty(ud.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),$t(Yi,ua);var fy=/^https?$/i,Ov=["POST","PUT"];function Hm(E,B){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=B,E.m=5,zf(E),_g(E)}function zf(E){E.A||(E.A=!0,Ro(E,"complete"),Ro(E,"error"))}function xh(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=Yc(E)||2!=E.Z()))if(E.u&&4==Yc(E))Y_(E.Ea,0,E);else if(Ro(E,"readystatechange"),4==Yc(E)){E.h=!1;try{const Tn=E.Z();e:switch(Tn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var q;if(!(q=B)){var fe;if(fe=0===Tn){var ht=String(E.D).match(wh)[1]||null;!ht&&x.self&&x.self.location&&(ht=x.self.location.protocol.slice(0,-1)),fe=!fy.test(ht?ht.toLowerCase():"")}q=fe}if(q)Ro(E,"complete"),Ro(E,"success");else{E.m=6;try{var xt=2<Yc(E)?E.g.statusText:""}catch{xt=""}E.l=xt+" ["+E.Z()+"]",zf(E)}}finally{_g(E)}}}function _g(E,B){if(E.g){Nv(E);const q=E.g,fe=E.v[0]?()=>{}:null;E.g=null,E.v=null,B||Ro(E,"ready");try{q.onreadystatechange=fe}catch{}}}function Nv(E){E.I&&(x.clearTimeout(E.I),E.I=null)}function Yc(E){return E.g?E.g.readyState:0}function Mh(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function hd(E,B,q){return q&&q.internalChannelParams&&q.internalChannelParams[E]||B}function py(E){this.Aa=0,this.i=[],this.j=new Lf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hd("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hd("baseRetryDelayMs",5e3,E),this.cb=hd("retryDelaySeedMs",1e4,E),this.Wa=hd("forwardChannelMaxRetries",2,E),this.wa=hd("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new bh(E&&E.concurrentRequestLimit),this.Da=new Ph,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Wf(E){if(Rh(E),3==E.G){var B=E.U++,q=ya(E.I);if(as(q,"SID",E.K),as(q,"RID",B),as(q,"TYPE","terminate"),Oa(E,q),(B=new ad(E,E.j,B)).L=2,B.v=Bf(ya(q)),q=!1,x.navigator&&x.navigator.sendBeacon)try{q=x.navigator.sendBeacon(B.v.toString(),"")}catch{}!q&&x.Image&&((new Image).src=B.v,q=!0),q||(B.g=Xf(B.j,null),B.g.ea(B.v)),B.F=Date.now(),ay(B)}vu(E)}function _u(E){E.g&&(pd(E),E.g.cancel(),E.g=null)}function Rh(E){_u(E),E.u&&(x.clearTimeout(E.u),E.u=null),gd(E),E.h.cancel(),E.s&&("number"==typeof E.s&&x.clearTimeout(E.s),E.s=null)}function yu(E){if(!Oo(E.h)&&!E.s){E.s=!0;var B=E.Ga;Rf||Am(),ig||(Rf(),ig=!0),G_.add(B,E),E.B=0}}function yg(E,B){var q;q=B?B.l:E.U++;const fe=ya(E.I);as(fe,"SID",E.K),as(fe,"RID",q),as(fe,"AID",E.T),Oa(E,fe),E.m&&E.o&&$m(fe,E.m,E.o),q=new ad(E,E.j,q,E.B+1),null===E.m&&(q.H=E.o),B&&(E.i=B.D.concat(E.i)),B=Kf(E,q,1e3),q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),_a(E.h,q),sy(q,fe,B)}function Oa(E,B){E.H&&ni(E.H,function(q,fe){as(B,fe,q)}),E.l&&ld({},function(q,fe){as(B,fe,q)})}function Kf(E,B,q){q=Math.min(E.i.length,q);var fe=E.l?Be(E.l.Na,E.l,E):null;e:{var ht=E.i;let xt=-1;for(;;){const Tn=["count="+q];-1==xt?0<q?(xt=ht[0].g,Tn.push("ofs="+xt)):xt=0:Tn.push("ofs="+xt);let Zi=!0;for(let ko=0;ko<q;ko++){let Li=ht[ko].g;const ha=ht[ko].map;if(Li-=xt,0>Li)xt=Math.max(0,ht[ko].g-100),Zi=!1;else try{Hf(ha,Tn,"req"+Li+"_")}catch{fe&&fe(ha)}}if(Zi){fe=Tn.join("&");break e}}}return E=E.i.splice(0,q),B.D=E,fe}function fd(E){if(!E.g&&!E.u){E.Y=1;var B=E.Fa;Rf||Am(),ig||(Rf(),ig=!0),G_.add(B,E),E.v=0}}function qf(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=Ff(Be(E.Fa,E),Xc(E,E.v)),E.v++,0))}function pd(E){null!=E.A&&(x.clearTimeout(E.A),E.A=null)}function Oh(E){E.g=new ad(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var B=ya(E.qa);as(B,"RID","rpc"),as(B,"SID",E.K),as(B,"AID",E.T),as(B,"CI",E.F?"0":"1"),!E.F&&E.ja&&as(B,"TO",E.ja),as(B,"TYPE","xmlhttp"),Oa(E,B),E.m&&E.o&&$m(B,E.m,E.o),E.L&&(E.g.I=E.L);var q=E.g;E=E.ia,q.L=1,q.v=Bf(ya(B)),q.m=null,q.P=!0,W0(q,E)}function gd(E){null!=E.C&&(x.clearTimeout(E.C),E.C=null)}function Yf(E,B){var q=null;if(E.g==B){gd(E),pd(E),E.g=null;var fe=2}else{if(!Ch(E.h,B))return;q=B.D,gg(E.h,B),fe=1}if(0!=E.G)if(B.o)if(1==fe){q=B.m?B.m.length:0,B=Date.now()-B.F;var ht=E.B;Ro(fe=kf(),new ey(fe,q)),yu(E)}else fd(E);else if(3==(ht=B.s)||0==ht&&0<B.X||!(1==fe&&function gy(E,B){return!(pu(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=B.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=Ff(Be(E.Ga,E,B),Xc(E,E.B)),E.B++,0)))}(E,B)||2==fe&&qf(E)))switch(q&&0<q.length&&(B=E.h,B.i=B.i.concat(q)),ht){case 1:Yo(E,5);break;case 4:Yo(E,10);break;case 3:Yo(E,6);break;default:Yo(E,2)}}function Xc(E,B){let q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(q*=2),q*B}function Yo(E,B){if(E.j.info("Error code "+B),2==B){var q=Be(E.fb,E),fe=E.Xa;const ht=!fe;fe=new Xa(fe||"//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Sl(fe,"https"),Bf(fe),ht?function Mv(E,B){const q=new Lf;if(x.Image){const fe=new Image;fe.onload=_t(No,q,"TestLoadImage: loaded",!0,B,fe),fe.onerror=_t(No,q,"TestLoadImage: error",!1,B,fe),fe.onabort=_t(No,q,"TestLoadImage: abort",!1,B,fe),fe.ontimeout=_t(No,q,"TestLoadImage: timeout",!1,B,fe),x.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=E}else B(!1)}(fe.toString(),q):function Rv(E,B){new Lf;const fe=new AbortController,ht=setTimeout(()=>{fe.abort(),No(0,0,!1,B)},1e4);fetch(E,{signal:fe.signal}).then(xt=>{clearTimeout(ht),No(0,0,!!xt.ok,B)}).catch(()=>{clearTimeout(ht),No(0,0,!1,B)})}(fe.toString(),q)}else da(2);E.G=0,E.l&&E.l.sa(B),vu(E),Rh(E)}function vu(E){if(E.G=0,E.ka=[],E.l){const B=cd(E.h);(0!=B.length||0!=E.i.length)&&(Zt(E.ka,B),Zt(E.ka,E.i),E.h.i.length=0,un(E.i),E.i.length=0),E.l.ra()}}function Nh(E,B,q){var fe=q instanceof Xa?ya(q):new Xa(q);if(""!=fe.g)B&&(fe.g=B+"."+fe.g),jf(fe,fe.s);else{var ht=x.location;fe=ht.protocol,B=B?B+"."+ht.hostname:ht.hostname,ht=+ht.port;var xt=new Xa(null);fe&&Sl(xt,fe),B&&(xt.g=B),ht&&jf(xt,ht),q&&(xt.l=q),fe=xt}return B=E.ya,(q=E.D)&&B&&as(fe,q,B),as(fe,"VER",E.la),Oa(E,fe),fe}function Xf(E,B,q){if(B&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(B=new Yi(E.Ca&&!E.pa?new qc({eb:q}):E.pa)).Ha(E.J),B}function md(){}function _d(){}function bo(E,B){ua.call(this),this.g=new py(B),this.l=E,this.h=B&&B.messageUrlParams||null,E=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(E?E["X-WebChannel-Content-Type"]=B.messageContentType:E={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(E?E["X-WebChannel-Client-Profile"]=B.va:E={"X-WebChannel-Client-Profile":B.va}),this.g.S=E,(E=B&&B.Sb)&&!cr(E)&&(this.g.m=E),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!cr(B)&&(this.g.D=B,null!==(E=this.h)&&B in E&&B in(E=this.h)&&delete E[B]),this.j=new Pl(this)}function Qf(E){dg.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var B=E.__sm__;if(B){e:{for(const q in B){E=q;break e}E=void 0}(this.i=E)&&(E=this.i,B=null!==B&&E in B?B[E]:void 0),this.data=B}else this.data=E}function my(){Rm.call(this),this.status=1}function Pl(E){this.g=E}(d=Yi.prototype).Ha=function(E){this.J=E},d.ea=function(E,B,q,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);B=B?B.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ny.g(),this.v=function Nf(E){return E.h||(E.h=E.i())}(this.o?this.o:ny),this.g.onreadystatechange=Be(this.Ea,this);try{this.B=!0,this.g.open(B,String(E),!0),this.B=!1}catch(xt){return void Hm(this,xt)}if(E=q||"",q=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var ht in fe)q.set(ht,fe[ht]);else{if("function"!=typeof fe.keys||"function"!=typeof fe.get)throw Error("Unknown input type for opt_headers: "+String(fe));for(const xt of fe.keys())q.set(xt,fe.get(xt))}fe=Array.from(q.keys()).find(xt=>"content-type"==xt.toLowerCase()),ht=x.FormData&&E instanceof x.FormData,!(0<=Array.prototype.indexOf.call(Ov,B,void 0))||fe||ht||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xt,Tn]of q)this.g.setRequestHeader(xt,Tn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nv(this),this.u=!0,this.g.send(E),this.u=!1}catch(xt){Hm(this,xt)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,Ro(this,"complete"),Ro(this,"abort"),_g(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_g(this,!0)),Yi.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?xh(this):this.bb())},d.bb=function(){xh(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<Yc(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var B=this.g.responseText;return E&&0==B.indexOf(E)&&(B=B.substring(E.length)),G0(B)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=py.prototype).la=8,d.G=1,d.connect=function(E,B,q,fe){da(0),this.W=E,this.H=B||{},q&&void 0!==fe&&(this.H.OSID=q,this.H.OAID=fe),this.F=this.X,this.I=Nh(this,null,this.W),yu(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const ht=new ad(this,this.j,E);let xt=this.o;if(this.S&&(xt?(xt=Oe(xt),at(xt,this.S)):xt=this.S),null!==this.m||this.O||(ht.H=xt,xt=null),this.P)e:{for(var B=0,q=0;q<this.i.length;q++){var fe=this.i[q];if(void 0===(fe="__data__"in fe.map&&"string"==typeof(fe=fe.map.__data__)?fe.length:void 0))break;if(4096<(B+=fe)){B=q;break e}if(4096===B||q===this.i.length-1){B=q+1;break e}}B=1e3}else B=1e3;B=Kf(this,ht,B),as(q=ya(this.I),"RID",E),as(q,"CVER",22),this.D&&as(q,"X-HTTP-Session-Id",this.D),Oa(this,q),xt&&(this.O?B="headers="+encodeURIComponent(String(mu(xt)))+"&"+B:this.m&&$m(q,this.m,xt)),_a(this.h,ht),this.Ua&&as(q,"TYPE","init"),this.P?(as(q,"$req",B),as(q,"SID","null"),ht.T=!0,sy(ht,q,null)):sy(ht,q,B),this.G=2}}else 3==this.G&&(E?yg(this,E):0==this.i.length||Oo(this.h)||yg(this))},d.Fa=function(){if(this.u=null,Oh(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=Ff(Be(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,da(10),_u(this),Oh(this))},d.Za=function(){null!=this.C&&(this.C=null,_u(this),qf(this),da(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),da(2)):(this.j.info("Failed to ping google.com"),da(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=md.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},_d.prototype.g=function(E,B){return new bo(E,B)},$t(bo,ua),bo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bo.prototype.close=function(){Wf(this.g)},bo.prototype.o=function(E){var B=this.g;if("string"==typeof E){var q={};q.__data__=E,E=q}else this.u&&((q={}).__data__=J_(E),E=q);B.i.push(new class{constructor(E,B){this.g=E,this.map=B}}(B.Ya++,E)),3==B.G&&yu(B)},bo.prototype.N=function(){this.g.l=null,delete this.j,Wf(this.g),delete this.g,bo.aa.N.call(this)},$t(Qf,dg),$t(my,Rm),$t(Pl,md),Pl.prototype.ua=function(){Ro(this.g,"a")},Pl.prototype.ta=function(E){Ro(this.g,new Qf(E))},Pl.prototype.sa=function(E){Ro(this.g,new my)},Pl.prototype.ra=function(){Ro(this.g,"b")},_d.prototype.createWebChannel=_d.prototype.g,bo.prototype.send=bo.prototype.o,bo.prototype.open=bo.prototype.m,bo.prototype.close=bo.prototype.close,Le=oe.createWebChannelTransport=function(){return new _d},Pt=oe.getStatEventTarget=function(){return kf()},St=oe.Event=od,vt=oe.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},km.NO_ERROR=0,km.TIMEOUT=8,km.HTTP_ERROR=6,wt=oe.ErrorCode=km,Dv.COMPLETE="complete",Tt=oe.EventType=Dv,Av.EventType=Eh,Eh.OPEN="a",Eh.CLOSE="b",Eh.ERROR="c",Eh.MESSAGE="d",ua.prototype.listen=ua.prototype.K,$e=oe.WebChannel=Av,oe.FetchXmlHttpFactory=qc,Yi.prototype.listenOnce=Yi.prototype.L,Yi.prototype.getLastError=Yi.prototype.Ka,Yi.prototype.getLastErrorCode=Yi.prototype.Ba,Yi.prototype.getStatus=Yi.prototype.Z,Yi.prototype.getResponseJson=Yi.prototype.Oa,Yi.prototype.getResponseText=Yi.prototype.oa,Yi.prototype.send=Yi.prototype.ea,Yi.prototype.setWithCredentials=Yi.prototype.Ha,pe=oe.XhrIo=Yi}).apply(typeof ee<"u"?ee:typeof self<"u"?self:typeof window<"u"?window:{});const ye="@firebase/firestore";class Je{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let We="10.14.0";const it=new be.Vy("@firebase/firestore");function Dt(){return it.logLevel}function Ot(d){it.setLogLevel(d)}function we(d,...e){if(it.logLevel<=be.$b.DEBUG){const r=e.map(ur);it.debug(`Firestore (${We}): ${d}`,...r)}}function en(d,...e){if(it.logLevel<=be.$b.ERROR){const r=e.map(ur);it.error(`Firestore (${We}): ${d}`,...r)}}function mn(d,...e){if(it.logLevel<=be.$b.WARN){const r=e.map(ur);it.warn(`Firestore (${We}): ${d}`,...r)}}function ur(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Mt(d="Unexpected state"){const e=`FIRESTORE (${We}) INTERNAL ASSERTION FAILED: `+d;throw en(e),new Error(e)}function jt(d,e){d||Mt()}function Kt(d,e){d||Mt()}function lt(d,e){return d}const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends me.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jt{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class je{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Te{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Je.UNAUTHENTICATED))}shutdown(){}}class Ee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Fe{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;jt(void 0===this.o);let h=this.i;const _=K=>this.i!==h?(h=this.i,r(K)):Promise.resolve();let b=new Jt;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Jt,e.enqueueRetryable(()=>_(this.currentUser))};const x=()=>{const K=b;e.enqueueRetryable((0,a.A)(function*(){yield K.promise,yield _(o.currentUser)}))},L=K=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),x())};this.t.onInit(K=>L(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?L(K):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Jt)}},0),x()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(jt("string"==typeof o.accessToken),new je(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(null===e||"string"==typeof e),new Je(e)}}class tt{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Xe{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new tt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){jt(void 0===this.o);const o=_=>{null!=_.error&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const b=_.token!==this.R;return this.R=_.token,we("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>o(_))};const h=_=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>h(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?h(_):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(jt("string"==typeof r.token),this.R=r.token,new Nt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<d;o++)r[o]=Math.floor(256*Math.random());return r}class Ln{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const h=tn(40);for(let _=0;_<h.length;++_)o.length<20&&h[_]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[_]%62))}return o}}function Ft(d,e){return d<e?-1:d>e?1:0}function Hn(d,e,r){return d.length===e.length&&d.every((o,h)=>r(o,e[h]))}function On(d){return d+"\0"}class Gt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ze(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ze(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ze(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Gt(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Gt(0,0))}static max(){return new Ut(new Gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yr{constructor(e,r,o){void 0===r?r=0:r>e.length&&Mt(),void 0===o?o=e.length-r:o>e.length-r&&Mt(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===yr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let h=0;h<o;h++){const _=e.get(h),b=r.get(h);if(_<b)return-1;if(_>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class on extends yr{construct(e,r,o){return new on(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ze(ke.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(h=>h.length>0))}return new on(r)}static emptyPath(){return new on([])}}const Mr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends yr{construct(e,r,o){return new Zn(e,r,o)}static isValidIdentifier(e){return Mr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zn(["__name__"])}static fromServerFormat(e){const r=[];let o="",h=0;const _=()=>{if(0===o.length)throw new Ze(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let b=!1;for(;h<e.length;){const x=e[h];if("\\"===x){if(h+1===e.length)throw new Ze(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[h+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new Ze(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=L,h+=2}else"`"===x?(b=!b,h++):"."!==x||b?(o+=x,h++):(_(),h++)}if(_(),b)throw new Ze(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(r)}static emptyPath(){return new Zn([])}}class Bt{constructor(e){this.path=e}static fromPath(e){return new Bt(on.fromString(e))}static fromName(e){return new Bt(on.fromString(e).popFirst(5))}static empty(){return new Bt(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return on.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bt(new on(e.slice()))}}class bn{constructor(e,r,o,h){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=h}}function zn(d){return d.fields.find(e=>2===e.kind)}function In(d){return d.fields.filter(e=>2!==e.kind)}bn.UNKNOWN_ID=-1;class br{constructor(e,r){this.fieldPath=e,this.kind=r}}class Yn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Yn(0,hn.min())}}function ui(d,e){const r=d.toTimestamp().seconds,o=d.toTimestamp().nanoseconds+1,h=Ut.fromTimestamp(1e9===o?new Gt(r+1,0):new Gt(r,o));return new hn(h,Bt.empty(),e)}function gs(d){return new hn(d.readTime,d.key,-1)}class hn{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new hn(Ut.min(),Bt.empty(),-1)}static max(){return new hn(Ut.max(),Bt.empty(),-1)}}function Qr(d,e){let r=d.readTime.compareTo(e.readTime);return 0!==r?r:(r=Bt.comparator(d.documentKey,e.documentKey),0!==r?r:Ft(d.largestBatchId,e.largestBatchId))}const tr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Wn(d){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,a.A)(function*(d){if(d.code!==ke.FAILED_PRECONDITION||d.message!==tr)throw d;we("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new et((o,h)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(o,h)},this.catchCallback=_=>{this.wrapFailure(r,_).next(o,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof et?r:et.resolve(r)}catch(r){return et.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):et.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):et.reject(r)}static resolve(e){return new et((r,o)=>{r(e)})}static reject(e){return new et((r,o)=>{o(e)})}static waitFor(e){return new et((r,o)=>{let h=0,_=0,b=!1;e.forEach(x=>{++h,x.next(()=>{++_,b&&_===h&&r()},L=>o(L))}),b=!0,_===h&&r()})}static or(e){let r=et.resolve(!1);for(const o of e)r=r.next(h=>h?et.resolve(h):o());return r}static forEach(e,r){const o=[];return e.forEach((h,_)=>{o.push(r.call(this,h,_))}),this.waitFor(o)}static mapArray(e,r){return new et((o,h)=>{const _=e.length,b=new Array(_);let x=0;for(let L=0;L<_;L++){const K=L;r(e[K]).next(se=>{b[K]=se,++x,x===_&&o(b)},se=>h(se))}})}static doWhile(e,r){return new et((o,h)=>{const _=()=>{!0===e()?r().next(()=>{_()},h):o()};_()})}}class pt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Jt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Wt(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const h=te(o.target.error);this.V.reject(new Wt(e,h))}}static open(e,r,o,h){try{return new pt(r,e.transaction(h,o))}catch(_){throw new Wt(r,_)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(we("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Fr(r)}}class de{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===de.S((0,me.ZQ)())&&en("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return we("SimpleDb","Removing database:",e),Ue(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,me.zW)())return!1;if(de.v())return!0;const e=(0,me.ZQ)(),r=de.S(e),o=0<r&&r<10,h=xe(e),_=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||_)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(e){var r=this;return(0,a.A)(function*(){return r.db||(we("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,h)=>{const _=indexedDB.open(r.name,r.version);_.onsuccess=b=>{o(b.target.result)},_.onblocked=()=>{h(new Wt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=b=>{const x=b.target.error;h("VersionError"===x.name?new Ze(ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new Ze(ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Wt(e,x))},_.onupgradeneeded=b=>{we("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,_.transaction,b.oldVersion,r.version).next(()=>{we("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,h){var _=this;return(0,a.A)(function*(){const b="readonly"===r;let x=0;for(;;){++x;try{_.db=yield _.M(e);const L=pt.open(_.db,e,b?"readonly":"readwrite",o),K=h(L).next(se=>(L.g(),se)).catch(se=>(L.abort(se),et.reject(se))).toPromise();return K.catch(()=>{}),yield L.m,K}catch(L){const K=L,se="FirebaseError"!==K.name&&x<3;if(we("SimpleDb","Transaction failed with error:",K.message,"Retrying:",se),_.close(),!se)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function xe(d){const e=d.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class yt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ue(this.B.delete())}}class Wt extends Ze{constructor(e,r){super(ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function $n(d){return"IndexedDbTransactionError"===d.name}class Fr{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(we("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(we("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ue(o)}add(e){return we("SimpleDb","ADD",this.store.name,e,e),Ue(this.store.add(e))}get(e){return Ue(this.store.get(e)).next(r=>(void 0===r&&(r=null),we("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return we("SimpleDb","DELETE",this.store.name,e),Ue(this.store.delete(e))}count(){return we("SimpleDb","COUNT",this.store.name),Ue(this.store.count())}U(e,r){const o=this.options(e,r),h=o.index?this.store.index(o.index):this.store;if("function"==typeof h.getAll){const _=h.getAll(o.range);return new et((b,x)=>{_.onerror=L=>{x(L.target.error)},_.onsuccess=L=>{b(L.target.result)}})}{const _=this.cursor(o),b=[];return this.W(_,(x,L)=>{b.push(L)}).next(()=>b)}}G(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new et((h,_)=>{o.onerror=b=>{_(b.target.error)},o.onsuccess=b=>{h(b.target.result)}})}j(e,r){we("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const h=this.cursor(o);return this.W(h,(_,b,x)=>x.delete())}J(e,r){let o;r?o=e:(o={},r=e);const h=this.cursor(o);return this.W(h,r)}Y(e){const r=this.cursor({});return new et((o,h)=>{r.onerror=_=>{const b=te(_.target.error);h(b)},r.onsuccess=_=>{const b=_.target.result;b?e(b.primaryKey,b.value).next(x=>{x?b.continue():o()}):o()}})}W(e,r){const o=[];return new et((h,_)=>{e.onerror=b=>{_(b.target.error)},e.onsuccess=b=>{const x=b.target.result;if(!x)return void h();const L=new yt(x),K=r(x.primaryKey,x.value,L);if(K instanceof et){const se=K.catch(ve=>(L.done(),et.reject(ve)));o.push(se)}L.isDone?h():null===L.K?x.continue():x.continue(L.K)}}).next(()=>et.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ue(d){return new et((e,r)=>{d.onsuccess=o=>{e(o.target.result)},d.onerror=o=>{const h=te(o.target.error);r(h)}})}let sn=!1;function te(d){const e=de.S((0,me.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(r)>=0){const o=new Ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sn||(sn=!0,setTimeout(()=>{throw o},0)),o}}return d}class k{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;we("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,a.A)(function*(){r.task=null;try{we("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){$n(o)?we("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield Wn(o)}yield r.X(6e4)}))}}class P{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,a.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.te(o,e))})()}te(e,r){const o=new Set;let h=r,_=!0;return et.doWhile(()=>!0===_&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!o.has(b))return we("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(x=>{h-=x,o.add(b)});_=!1})).next(()=>r-h)}ne(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(h=>this.localStore.localDocuments.getNextDocuments(e,r,h,o).next(_=>{const b=_.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,_)).next(x=>(we("IndexBackfiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,r,x))).next(()=>b.size)}))}re(e,r){let o=e;return r.changes.forEach((h,_)=>{const b=gs(_);Qr(b,o)>0&&(o=b)}),new hn(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let F=(()=>{class d{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=h=>this.ie(h),this.se=h=>o.writeSequenceNumber(h))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return d.oe=-1,d})();function ne(d){return null==d}function ge(d){return 0===d&&1/d==-1/0}function ot(d){return"number"==typeof d&&Number.isInteger(d)&&!ge(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function At(d){let e="";for(let r=0;r<d.length;r++)e.length>0&&(e=fn(e)),e=an(d.get(r),e);return fn(e)}function an(d,e){let r=e;const o=d.length;for(let h=0;h<o;h++){const _=d.charAt(h);switch(_){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=_}}return r}function fn(d){return d+"\x01\x01"}function Dn(d){const e=d.length;if(jt(e>=2),2===e)return jt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),on.emptyPath();const r=e-2,o=[];let h="";for(let _=0;_<e;){const b=d.indexOf("\x01",_);switch((b<0||b>r)&&Mt(),d.charAt(b+1)){case"\x01":const x=d.substring(_,b);let L;0===h.length?L=x:(h+=x,L=h,h=""),o.push(L);break;case"\x10":h+=d.substring(_,b),h+="\0";break;case"\x11":h+=d.substring(_,b+1);break;default:Mt()}_=b+2}return new on(o)}const vr=["userId","batchId"];function cn(d,e){return[d,At(e)]}function Gr(d,e,r){return[d,At(e),r]}const fr={},ks=["prefixPath","collectionGroup","readTime","documentId"],wi=["prefixPath","collectionGroup","documentId"],zi=["collectionGroup","readTime","prefixPath","documentId"],ki=["canonicalId","targetId"],Ai=["targetId","path"],or=["path","targetId"],Fs=["collectionId","parent"],Et=["indexId","uid"],nt=["uid","sequenceNumber"],Rt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ln=["indexId","uid","orderedDocumentKey"],Vn=["userId","collectionPath","documentId"],Mn=["userId","collectionPath","largestBatchId"],dr=["userId","collectionGroup","largestBatchId"],Br=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kr=[...Br,"documentOverlays"],Tr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wi=Tr,ws=[...Wi,"indexConfiguration","indexState","indexEntries"],ts=ws,Lo=[...ws,"globals"];class Vo extends Cr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Bi(d,e){const r=lt(d);return de.F(r._e,e)}function Xo(d){let e=0;for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e++;return e}function ii(d,e){for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e(r,d[r])}function ms(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class qr{constructor(e,r){this.comparator=e,this.root=r||Oi.EMPTY}insert(e,r){return new qr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Oi.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const h=this.comparator(e,o.key);if(0===h)return r+o.left.size;h<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ki(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ki(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ki(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ki(this.root,e,this.comparator,!0)}}class Ki{constructor(e,r,o,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=r?o(e.key,r):1,r&&h&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oi{constructor(e,r,o,h,_){this.key=e,this.value=r,this.color=o??Oi.RED,this.left=h??Oi.EMPTY,this.right=_??Oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,h,_){return new Oi(e??this.key,r??this.value,o??this.color,h??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let h=this;const _=o(e,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(e,r,o),null):0===_?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,o)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return Oi.EMPTY;o=h.right.min(),h=h.copy(o.key,o.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1,Oi.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(e,r,o,h,_){return this}insert(e,r,o){return new Oi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wr{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const h=o.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new co(this.data.getIterator())}getIteratorFrom(e){return new co(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=o.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new wr(this.comparator);return r.data=e,r}}class co{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Uo(d){return d.hasNext()?d.getNext():void 0}class di{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new di([])}unionWith(e){let r=new wr(Zn.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new di(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Hn(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Fa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Za(){return typeof atob<"u"}class xi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new Fa("Invalid base64 string: "+_):_}}(e);return new xi(r)}static fromUint8Array(e){const r=function(h){let _="";for(let b=0;b<h.length;++b)_+=String.fromCharCode(h[b]);return _}(e);return new xi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let h=0;h<r.length;h++)o[h]=r.charCodeAt(h);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const Ea=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(d){if(jt(!!d),"string"==typeof d){let e=0;const r=Ea.exec(d);if(jt(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const o=new Date(d);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Jr(d.seconds),nanos:Jr(d.nanos)}}function Jr(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function Ls(d){return"string"==typeof d?xi.fromBase64String(d):xi.fromUint8Array(d)}function Vs(d){var e,r;return"server_timestamp"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function To(d){const e=d.mapValue.fields.__previous_value__;return Vs(e)?To(e):e}function Us(d){const e=Ks(d.mapValue.fields.__local_write_time__.timestampValue);return new Gt(e.seconds,e.nanos)}class Pr{constructor(e,r,o,h,_,b,x,L,K){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=h,this.ssl=_,this.forceLongPolling=b,this.autoDetectLongPolling=x,this.longPollingOptions=L,this.useFetchStreams=K}}class hi{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new hi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hi&&e.projectId===this.projectId&&e.database===this.database}}const Di={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},As={nullValue:"NULL_VALUE"};function fi(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?Vs(d)?4:Qn(d)?9007199254740991:Vi(d)?10:11:Mt()}function ls(d,e){if(d===e)return!0;const r=fi(d);if(r!==fi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return Us(d).isEqual(Us(e));case 3:return function(h,_){if("string"==typeof h.timestampValue&&"string"==typeof _.timestampValue&&h.timestampValue.length===_.timestampValue.length)return h.timestampValue===_.timestampValue;const b=Ks(h.timestampValue),x=Ks(_.timestampValue);return b.seconds===x.seconds&&b.nanos===x.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return _=e,Ls(d.bytesValue).isEqual(Ls(_.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,_){return Jr(h.geoPointValue.latitude)===Jr(_.geoPointValue.latitude)&&Jr(h.geoPointValue.longitude)===Jr(_.geoPointValue.longitude)}(d,e);case 2:return function(h,_){if("integerValue"in h&&"integerValue"in _)return Jr(h.integerValue)===Jr(_.integerValue);if("doubleValue"in h&&"doubleValue"in _){const b=Jr(h.doubleValue),x=Jr(_.doubleValue);return b===x?ge(b)===ge(x):isNaN(b)&&isNaN(x)}return!1}(d,e);case 9:return Hn(d.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return function(h,_){const b=h.mapValue.fields||{},x=_.mapValue.fields||{};if(Xo(b)!==Xo(x))return!1;for(const L in b)if(b.hasOwnProperty(L)&&(void 0===x[L]||!ls(b[L],x[L])))return!1;return!0}(d,e);default:return Mt()}var _}function lo(d,e){return void 0!==(d.values||[]).find(r=>ls(r,e))}function rs(d,e){if(d===e)return 0;const r=fi(d),o=fi(e);if(r!==o)return Ft(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ft(d.booleanValue,e.booleanValue);case 2:return function(_,b){const x=Jr(_.integerValue||_.doubleValue),L=Jr(b.integerValue||b.doubleValue);return x<L?-1:x>L?1:x===L?0:isNaN(x)?isNaN(L)?0:-1:1}(d,e);case 3:return Es(d.timestampValue,e.timestampValue);case 4:return Es(Us(d),Us(e));case 5:return Ft(d.stringValue,e.stringValue);case 6:return function(_,b){const x=Ls(_),L=Ls(b);return x.compareTo(L)}(d.bytesValue,e.bytesValue);case 7:return function(_,b){const x=_.split("/"),L=b.split("/");for(let K=0;K<x.length&&K<L.length;K++){const se=Ft(x[K],L[K]);if(0!==se)return se}return Ft(x.length,L.length)}(d.referenceValue,e.referenceValue);case 8:return function(_,b){const x=Ft(Jr(_.latitude),Jr(b.latitude));return 0!==x?x:Ft(Jr(_.longitude),Jr(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return js(d.arrayValue,e.arrayValue);case 10:return function(_,b){var x,L,K,se;const _t=null===(x=(_.fields||{}).value)||void 0===x?void 0:x.arrayValue,$t=null===(L=(b.fields||{}).value)||void 0===L?void 0:L.arrayValue,un=Ft((null===(K=_t?.values)||void 0===K?void 0:K.length)||0,(null===(se=$t?.values)||void 0===se?void 0:se.length)||0);return 0!==un?un:js(_t,$t)}(d.mapValue,e.mapValue);case 11:return function(_,b){if(_===Di.mapValue&&b===Di.mapValue)return 0;if(_===Di.mapValue)return 1;if(b===Di.mapValue)return-1;const x=_.fields||{},L=Object.keys(x),K=b.fields||{},se=Object.keys(K);L.sort(),se.sort();for(let ve=0;ve<L.length&&ve<se.length;++ve){const Be=Ft(L[ve],se[ve]);if(0!==Be)return Be;const _t=rs(x[L[ve]],K[se[ve]]);if(0!==_t)return _t}return Ft(L.length,se.length)}(d.mapValue,e.mapValue);default:throw Mt()}}function Es(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return Ft(d,e);const r=Ks(d),o=Ks(e),h=Ft(r.seconds,o.seconds);return 0!==h?h:Ft(r.nanos,o.nanos)}function js(d,e){const r=d.values||[],o=e.values||[];for(let h=0;h<r.length&&h<o.length;++h){const _=rs(r[h],o[h]);if(_)return _}return Ft(r.length,o.length)}function si(d){return pn(d)}function pn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(r){const o=Ks(r);return`time(${o.seconds},${o.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?Ls(d.bytesValue).toBase64():"referenceValue"in d?Bt.fromName(d.referenceValue).toString():"geoPointValue"in d?function(r){return`geo(${r.latitude},${r.longitude})`}(d.geoPointValue):"arrayValue"in d?function(r){let o="[",h=!0;for(const _ of r.values||[])h?h=!1:o+=",",o+=pn(_);return o+"]"}(d.arrayValue):"mapValue"in d?function(r){const o=Object.keys(r.fields||{}).sort();let h="{",_=!0;for(const b of o)_?_=!1:h+=",",h+=`${b}:${pn(r.fields[b])}`;return h+"}"}(d.mapValue):Mt()}function Kn(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function oi(d){return!!d&&"integerValue"in d}function Zr(d){return!!d&&"arrayValue"in d}function Mi(d){return!!d&&"nullValue"in d}function us(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function Rr(d){return!!d&&"mapValue"in d}function Vi(d){var e,r;return"__vector__"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function bs(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return ii(d.mapValue.fields,(r,o)=>e.mapValue.fields[r]=bs(o)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(d.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=bs(d.arrayValue.values[r]);return e}return Object.assign({},d)}function Qn(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const $i={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Ds(d){return"nullValue"in d?As:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?Kn(hi.empty(),Bt.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?Vi(d)?$i:{mapValue:{}}:Mt()}function Z(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?Kn(hi.empty(),Bt.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?$i:"mapValue"in d?Vi(d)?{mapValue:{}}:Di:Mt()}function Q(d,e){const r=rs(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Ie(d,e){const r=rs(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Me{constructor(e){this.value=e}static empty(){return new Me({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Rr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=bs(r)}setAll(e){let r=Zn.emptyPath(),o={},h=[];e.forEach((b,x)=>{if(!r.isImmediateParentOf(x)){const L=this.getFieldsMap(r);this.applyChanges(L,o,h),o={},h=[],r=x.popLast()}b?o[x.lastSegment()]=bs(b):h.push(x.lastSegment())});const _=this.getFieldsMap(r);this.applyChanges(_,o,h)}delete(e){const r=this.field(e.popLast());Rr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let h=r.mapValue.fields[e.get(o)];Rr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,o){ii(r,(h,_)=>e[h]=_);for(const h of o)delete e[h]}clone(){return new Me(bs(this.value))}}function Qe(d){const e=[];return ii(d.fields,(r,o)=>{const h=new Zn([r]);if(Rr(o)){const _=Qe(o.mapValue).fields;if(0===_.length)e.push(h);else for(const b of _)e.push(h.child(b))}else e.push(h)}),new di(e)}class gt{constructor(e,r,o,h,_,b,x){this.key=e,this.documentType=r,this.version=o,this.readTime=h,this.createTime=_,this.data=b,this.documentState=x}static newInvalidDocument(e){return new gt(e,0,Ut.min(),Ut.min(),Ut.min(),Me.empty(),0)}static newFoundDocument(e,r,o,h){return new gt(e,1,r,Ut.min(),o,h,0)}static newNoDocument(e,r){return new gt(e,2,r,Ut.min(),Ut.min(),Me.empty(),0)}static newUnknownDocument(e,r){return new gt(e,3,r,Ut.min(),Ut.min(),Me.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Me.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Me.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yt{constructor(e,r){this.position=e,this.inclusive=r}}function wn(d,e,r){let o=0;for(let h=0;h<d.position.length;h++){const _=e[h],b=d.position[h];if(o=_.field.isKeyField()?Bt.comparator(Bt.fromName(b.referenceValue),r.key):rs(b,r.data.field(_.field)),"desc"===_.dir&&(o*=-1),0!==o)break}return o}function _n(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let r=0;r<d.position.length;r++)if(!ls(d.position[r],e.position[r]))return!1;return!0}class Jn{constructor(e,r="asc"){this.field=e,this.dir=r}}function Ar(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class kn{}class An extends kn{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new Nr(e,r,o):"array-contains"===r?new Cs(e,o):"in"===r?new jo(e,o):"not-in"===r?new La(e,o):"array-contains-any"===r?new Bs(e,o):new An(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new qs(e,o):new Qi(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(rs(r,this.value)):null!==r&&fi(this.value)===fi(r)&&this.matchesComparison(rs(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends kn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Un(e,r)}matches(e){return $r(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $r(d){return"and"===d.op}function Er(d){return"or"===d.op}function Ii(d){return Xi(d)&&$r(d)}function Xi(d){for(const e of d.filters)if(e instanceof Un)return!1;return!0}function Ri(d){if(d instanceof An)return d.field.canonicalString()+d.op.toString()+si(d.value);if(Ii(d))return d.filters.map(e=>Ri(e)).join(",");{const e=d.filters.map(r=>Ri(r)).join(",");return`${d.op}(${e})`}}function Ir(d,e){return d instanceof An?(o=d,(h=e)instanceof An&&o.op===h.op&&o.field.isEqual(h.field)&&ls(o.value,h.value)):d instanceof Un?function(o,h){return h instanceof Un&&o.op===h.op&&o.filters.length===h.filters.length&&o.filters.reduce((_,b,x)=>_&&Ir(b,h.filters[x]),!0)}(d,e):void Mt();var o,h}function Yr(d,e){const r=d.filters.concat(e);return Un.create(r,d.op)}function ai(d){return d instanceof An?`${(r=d).field.canonicalString()} ${r.op} ${si(r.value)}`:d instanceof Un?function(r){return r.op.toString()+" {"+r.getFilters().map(ai).join(" ,")+"}"}(d):"Filter";var r}class Nr extends An{constructor(e,r,o){super(e,r,o),this.key=Bt.fromName(o.referenceValue)}matches(e){const r=Bt.comparator(e.key,this.key);return this.matchesComparison(r)}}class qs extends An{constructor(e,r){super(e,"in",r),this.keys=Ys(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Qi extends An{constructor(e,r){super(e,"not-in",r),this.keys=Ys(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Ys(d,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Bt.fromName(o.referenceValue))}class Cs extends An{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Zr(r)&&lo(r.arrayValue,this.value)}}class jo extends An{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&lo(this.value.arrayValue,r)}}class La extends An{constructor(e,r){super(e,"not-in",r)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!lo(this.value.arrayValue,r)}}class Bs extends An{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Zr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>lo(this.value.arrayValue,o))}}class kl{constructor(e,r=null,o=[],h=[],_=null,b=null,x=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=h,this.limit=_,this.startAt=b,this.endAt=x,this.ue=null}}function qi(d,e=null,r=[],o=[],h=null,_=null,b=null){return new kl(d,e,r,o,h,_,b)}function ds(d){const e=lt(d);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Ri(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(_=o).field.canonicalString()+_.dir;var _}).join(","),ne(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>si(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>si(o)).join(",")),e.ue=r}return e.ue}function wo(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<d.orderBy.length;r++)if(!Ar(d.orderBy[r],e.orderBy[r]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let r=0;r<d.filters.length;r++)if(!Ir(d.filters[r],e.filters[r]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!_n(d.startAt,e.startAt)&&_n(d.endAt,e.endAt)}function ec(d){return Bt.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function Bo(d,e){return d.filters.filter(r=>r instanceof An&&r.field.isEqual(e))}function yi(d,e,r){let o=As,h=!0;for(const _ of Bo(d,e)){let b=As,x=!0;switch(_.op){case"<":case"<=":b=Ds(_.value);break;case"==":case"in":case">=":b=_.value;break;case">":b=_.value,x=!1;break;case"!=":case"not-in":b=As}Q({value:o,inclusive:h},{value:b,inclusive:x})<0&&(o=b,h=x)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];Q({value:o,inclusive:h},{value:b,inclusive:r.inclusive})<0&&(o=b,h=r.inclusive);break}return{value:o,inclusive:h}}function Ao(d,e,r){let o=Di,h=!0;for(const _ of Bo(d,e)){let b=Di,x=!0;switch(_.op){case">=":case">":b=Z(_.value),x=!1;break;case"==":case"in":case"<=":b=_.value;break;case"<":b=_.value,x=!1;break;case"!=":case"not-in":b=Di}Ie({value:o,inclusive:h},{value:b,inclusive:x})>0&&(o=b,h=x)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];Ie({value:o,inclusive:h},{value:b,inclusive:r.inclusive})>0&&(o=b,h=r.inclusive);break}return{value:o,inclusive:h}}class Qo{constructor(e,r=null,o=[],h=[],_=null,b="F",x=null,L=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=h,this.limit=_,this.limitType=b,this.startAt=x,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function W(d,e,r,o,h,_,b,x){return new Qo(d,e,r,o,h,_,b,x)}function J(d){return new Qo(d)}function j(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function ue(d){return null!==d.collectionGroup}function Ve(d){const e=lt(d);if(null===e.ce){e.ce=[];const r=new Set;for(const _ of e.explicitOrderBy)e.ce.push(_),r.add(_.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let x=new wr(Zn.comparator);return b.filters.forEach(L=>{L.getFlattenedFilters().forEach(K=>{K.isInequality()&&(x=x.add(K.field))})}),x})(e).forEach(_=>{r.has(_.canonicalString())||_.isKeyField()||e.ce.push(new Jn(_,o))}),r.has(Zn.keyField().canonicalString())||e.ce.push(new Jn(Zn.keyField(),o))}return e.ce}function gn(d){const e=lt(d);return e.le||(e.le=function Hi(d,e){if("F"===d.limitType)return qi(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new Jn(h.field,"desc"===h.dir?"asc":"desc"));const r=d.endAt?new Yt(d.endAt.position,d.endAt.inclusive):null,o=d.startAt?new Yt(d.startAt.position,d.startAt.inclusive):null;return qi(d.path,d.collectionGroup,e,d.filters,d.limit,r,o)}}(e,Ve(d))),e.le}function Xs(d,e){const r=d.filters.concat([e]);return new Qo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),r,d.limit,d.limitType,d.startAt,d.endAt)}function hs(d,e,r){return new Qo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,r,d.startAt,d.endAt)}function uo(d,e){return wo(gn(d),gn(e))&&d.limitType===e.limitType}function eo(d){return`${ds(gn(d))}|lt:${d.limitType}`}function Ji(d){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(h=>ai(h)).join(", ")}]`),ne(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(h=>si(h)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(h=>si(h)).join(",")),`Target(${o})`}(gn(d))}; limitType=${d.limitType})`}function ho(d,e){return e.isFoundDocument()&&function(o,h){const _=h.key.path;return null!==o.collectionGroup?h.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(_):Bt.isDocumentKey(o.path)?o.path.isEqual(_):o.path.isImmediateParentOf(_)}(d,e)&&function(o,h){for(const _ of Ve(o))if(!_.field.isKeyField()&&null===h.data.field(_.field))return!1;return!0}(d,e)&&function(o,h){for(const _ of o.filters)if(!_.matches(h))return!1;return!0}(d,e)&&(h=e,!((o=d).startAt&&!function(b,x,L){const K=wn(b,x,L);return b.inclusive?K<=0:K<0}(o.startAt,Ve(o),h)||o.endAt&&!function(b,x,L){const K=wn(b,x,L);return b.inclusive?K>=0:K>0}(o.endAt,Ve(o),h)));var o,h}function Fl(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function fs(d){return(e,r)=>{let o=!1;for(const h of Ve(d)){const _=ba(h,e,r);if(0!==_)return _;o=o||h.field.isKeyField()}return 0}}function ba(d,e,r){const o=d.field.isKeyField()?Bt.comparator(e.key,r.key):function(_,b,x){const L=b.data.field(_),K=x.data.field(_);return null!==L&&null!==K?rs(L,K):Mt()}(d.field,e,r);switch(d.dir){case"asc":return o;case"desc":return-1*o;default:return Mt()}}class Ui{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[h,_]of o)if(this.equalsFn(h,e))return _}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),h=this.inner[o];if(void 0===h)return this.inner[o]=[[e,r]],void this.innerSize++;for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],e))return void(h[_]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return 1===o.length?delete this.inner[r]:o.splice(h,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,(r,o)=>{for(const[h,_]of o)e(h,_)})}isEmpty(){return ms(this.inner)}size(){return this.innerSize}}const el=new qr(Bt.comparator);function is(){return el}const Ca=new qr(Bt.comparator);function Qs(...d){let e=Ca;for(const r of d)e=e.insert(r.key,r);return e}function Ia(d){let e=Ca;return d.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Is(){return Ta()}function fa(){return Ta()}function Ta(){return new Ui(d=>d.toString(),(d,e)=>d.isEqual(e))}const wa=new qr(Bt.comparator),tl=new wr(Bt.comparator);function pr(...d){let e=tl;for(const r of d)e=e.add(r);return e}const Ec=new wr(Ft);function Do(){return Ec}function Jo(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ge(e)?"-0":e}}function Va(d){return{integerValue:""+d}}function Ua(d,e){return ot(e)?Va(e):Jo(d,e)}class bc{constructor(){this._=void 0}}function Vh(d,e,r){return d instanceof nc?function(h,_){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return _&&Vs(_)&&(_=To(_)),_&&(b.fields.__previous_value__=_),{mapValue:b}}(r,e):d instanceof $o?nl(d,e):d instanceof Aa?rc(d,e):function(h,_){const b=Ll(h,_),x=ja(b)+ja(h.Pe);return oi(b)&&oi(h.Pe)?Va(x):Jo(h.serializer,x)}(d,e)}function tc(d,e,r){return d instanceof $o?nl(d,e):d instanceof Aa?rc(d,e):r}function Ll(d,e){return d instanceof ic?oi(o=e)||(_=o)&&"doubleValue"in _?e:{integerValue:0}:null;var o,_}class nc extends bc{}class $o extends bc{constructor(e){super(),this.elements=e}}function nl(d,e){const r=Vl(e);for(const o of d.elements)r.some(h=>ls(h,o))||r.push(o);return{arrayValue:{values:r}}}class Aa extends bc{constructor(e){super(),this.elements=e}}function rc(d,e){let r=Vl(e);for(const o of d.elements)r=r.filter(h=>!ls(h,o));return{arrayValue:{values:r}}}class ic extends bc{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function ja(d){return Jr(d.integerValue||d.doubleValue)}function Vl(d){return Zr(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class M{constructor(e,r){this.field=e,this.transform=r}}class ${constructor(e,r){this.version=e,this.transformResults=r}}class Y{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Y}static exists(e){return new Y(void 0,e)}static updateTime(e){return new Y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pe(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class Ct{}function kt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Ss(d.key,Y.none()):new gr(d.key,d.data,Y.none());{const r=d.data,o=Me.empty();let h=new wr(Zn.comparator);for(let _ of e.fields)if(!h.has(_)){let b=r.field(_);null===b&&_.length>1&&(_=_.popLast(),b=r.field(_)),null===b?o.delete(_):o.set(_,b),h=h.add(_)}return new ti(d.key,o,new di(h.toArray()),Y.none())}}function jn(d,e,r){d instanceof gr?function(h,_,b){const x=h.value.clone(),L=vi(h.fieldTransforms,_,b.transformResults);x.setAll(L),_.convertToFoundDocument(b.version,x).setHasCommittedMutations()}(d,e,r):d instanceof ti?function(h,_,b){if(!Pe(h.precondition,_))return void _.convertToUnknownDocument(b.version);const x=vi(h.fieldTransforms,_,b.transformResults),L=_.data;L.setAll(Ti(h)),L.setAll(x),_.convertToFoundDocument(b.version,L).setHasCommittedMutations()}(d,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function zr(d,e,r,o){return d instanceof gr?function(_,b,x,L){if(!Pe(_.precondition,b))return x;const K=_.value.clone(),se=fo(_.fieldTransforms,L,b);return K.setAll(se),b.convertToFoundDocument(b.version,K).setHasLocalMutations(),null}(d,e,r,o):d instanceof ti?function(_,b,x,L){if(!Pe(_.precondition,b))return x;const K=fo(_.fieldTransforms,L,b),se=b.data;return se.setAll(Ti(_)),se.setAll(K),b.convertToFoundDocument(b.version,se).setHasLocalMutations(),null===x?null:x.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(ve=>ve.field))}(d,e,r,o):(x=r,Pe(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):x);var b,x}function pi(d,e){let r=null;for(const o of d.fieldTransforms){const h=e.data.field(o.field),_=Ll(o.transform,h||null);null!=_&&(null===r&&(r=Me.empty()),r.set(o.field,_))}return r||null}function ei(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(o=d.fieldTransforms)&&void 0===h||o&&h&&Hn(o,h,(_,b)=>function re(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(o=d.transform)instanceof $o&&h instanceof $o||o instanceof Aa&&h instanceof Aa?Hn(o.elements,h.elements,ls):o instanceof ic&&h instanceof ic?ls(o.Pe,h.Pe):o instanceof nc&&h instanceof nc);var o,h}(_,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var o,h}class gr extends Ct{constructor(e,r,o,h=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ti extends Ct{constructor(e,r,o,h,_=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=h,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function Ti(d){const e=new Map;return d.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=d.data.field(r);e.set(r,o)}}),e}function vi(d,e,r){const o=new Map;jt(d.length===r.length);for(let h=0;h<r.length;h++){const _=d[h],b=_.transform,x=e.data.field(_.field);o.set(_.field,tc(b,x,r[h]))}return o}function fo(d,e,r){const o=new Map;for(const h of d){const _=h.transform,b=r.data.field(h.field);o.set(h.field,Vh(_,b,e))}return o}class Ss extends Ct{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ho extends Ct{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $s{constructor(e,r,o,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=h}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(e.key)&&jn(_,e,o[h])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=zr(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=zr(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=fa();return this.mutations.forEach(h=>{const _=e.get(h.key),b=_.overlayedDocument;let x=this.applyToLocalView(b,_.mutatedFields);x=r.has(h.key)?null:x;const L=kt(b,x);null!==L&&o.set(h.key,L),b.isValidDocument()||b.convertToNoDocument(Ut.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),pr())}isEqual(e){return this.batchId===e.batchId&&Hn(this.mutations,e.mutations,(r,o)=>ei(r,o))&&Hn(this.baseMutations,e.baseMutations,(r,o)=>ei(r,o))}}class Zo{constructor(e,r,o,h){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=h}static from(e,r,o){jt(e.mutations.length===o.length);let h=wa;const _=e.mutations;for(let b=0;b<_.length;b++)h=h.insert(_[b].key,o[b].version);return new Zo(e,r,o,h)}}class Fi{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Uh{constructor(e,r){this.count=e,this.unchangedNames=r}}var Dr,Sr;function sc(d){switch(d){default:return Mt();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function to(d){if(void 0===d)return en("GRPC error has no .code"),ke.UNKNOWN;switch(d){case Dr.OK:return ke.OK;case Dr.CANCELLED:return ke.CANCELLED;case Dr.UNKNOWN:return ke.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return ke.INTERNAL;case Dr.UNAVAILABLE:return ke.UNAVAILABLE;case Dr.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Dr.NOT_FOUND:return ke.NOT_FOUND;case Dr.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Dr.ABORTED:return ke.ABORTED;case Dr.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Dr.DATA_LOSS:return ke.DATA_LOSS;default:return Mt()}}(Sr=Dr||(Dr={}))[Sr.OK=0]="OK",Sr[Sr.CANCELLED=1]="CANCELLED",Sr[Sr.UNKNOWN=2]="UNKNOWN",Sr[Sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sr[Sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sr[Sr.NOT_FOUND=5]="NOT_FOUND",Sr[Sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sr[Sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sr[Sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sr[Sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sr[Sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sr[Sr.ABORTED=10]="ABORTED",Sr[Sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sr[Sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sr[Sr.INTERNAL=13]="INTERNAL",Sr[Sr.UNAVAILABLE=14]="UNAVAILABLE",Sr[Sr.DATA_LOSS=15]="DATA_LOSS";function Ed(){return new TextEncoder}const Cc=new Ne([4294967295,4294967295],0);function gi(d){const e=Ed().encode(d),r=new Re;return r.update(e),new Uint8Array(r.digest())}function Ba(d){const e=new DataView(d.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),h=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new Ne([r,o],0),new Ne([h,_],0)]}class $a{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Hs(`Invalid padding: ${r}`);if(o<0)throw new Hs(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Hs(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new Hs(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ne.fromNumber(this.Ie)}Ee(e,r,o){let h=e.add(r.multiply(Ne.fromNumber(o)));return 1===h.compare(Cc)&&(h=new Ne([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=gi(e),[o,h]=Ba(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(o,h,_);if(!this.de(b))return!1}return!0}static create(e,r,o){const h=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),b=new $a(_,h,r);return o.forEach(x=>b.insert(x)),b}insert(e){if(0===this.Ie)return;const r=gi(e),[o,h]=Ba(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(o,h,_);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Hs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _s{constructor(e,r,o,h,_){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const h=new Map;return h.set(e,ea.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new _s(Ut.min(),h,new qr(Ft),is(),pr())}}class ea{constructor(e,r,o,h,_){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new ea(o,r,pr(),pr(),pr())}}class Da{constructor(e,r,o,h){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=h}}class Tu{constructor(e,r){this.targetId=e,this.me=r}}class Ul{constructor(e,r,o=xi.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=h}}class bd{constructor(){this.fe=0,this.ge=Gs(),this.pe=xi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pr(),r=pr(),o=pr();return this.ge.forEach((h,_)=>{switch(_){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:o=o.add(h);break;default:Mt()}}),new ea(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=Gs()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,jt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class go{constructor(e){this.Le=e,this.Be=new Map,this.ke=is(),this.qe=qn(),this.Qe=new qr(Ft)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:Mt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,h)=>{this.ze(h)&&r(h)})}He(e){const r=e.targetId,o=e.me.count,h=this.Je(r);if(h){const _=h.target;if(ec(_))if(0===o){const b=new Bt(_.path);this.Ue(r,b,gt.newNoDocument(b,Ut.min()))}else jt(1===o);else{const b=this.Ye(r);if(b!==o){const x=this.Ze(e),L=x?this.Xe(x,e,b):1;0!==L&&(this.je(r),this.Qe=this.Qe.insert(r,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:h=0},hashCount:_=0}=r;let b,x;try{b=Ls(o).toUint8Array()}catch(L){if(L instanceof Fa)return mn("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{x=new $a(b,h,_)}catch(L){return mn(L instanceof Hs?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===x.Ie?null:x}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let h=0;return o.forEach(_=>{const b=this.Le.tt(),x=`projects/${b.projectId}/databases/${b.database}/documents/${_.path.canonicalString()}`;e.mightContain(x)||(this.Ue(r,_,null),h++)}),h}rt(e){const r=new Map;this.Be.forEach((_,b)=>{const x=this.Je(b);if(x){if(_.current&&ec(x.target)){const L=new Bt(x.target.path);null!==this.ke.get(L)||this.it(b,L)||this.Ue(b,L,gt.newNoDocument(L,e))}_.be&&(r.set(b,_.ve()),_.Ce())}});let o=pr();this.qe.forEach((_,b)=>{let x=!0;b.forEachWhile(L=>{const K=this.Je(L);return!K||"TargetPurposeLimboResolution"===K.purpose||(x=!1,!1)}),x&&(o=o.add(_))}),this.ke.forEach((_,b)=>b.setReadTime(e));const h=new _s(e,r,this.Qe,this.ke,o);return this.ke=is(),this.qe=qn(),this.Qe=new qr(Ft),h}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,r)?h.Fe(r,1):h.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new bd,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new wr(Ft),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||we("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bd),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function qn(){return new qr(Bt.comparator)}function Gs(){return new qr(Bt.comparator)}const jl={asc:"ASCENDING",desc:"DESCENDING"},ta={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bl={and:"AND",or:"OR"};class jh{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function wu(d,e){return d.useProto3Json||ne(e)?e:{value:e}}function Go(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Au(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function $l(d,e){return Go(d,e.toTimestamp())}function ss(d){return jt(!!d),Ut.fromTimestamp(function(r){const o=Ks(r);return new Gt(o.seconds,o.nanos)}(d))}function Ic(d,e){return Hl(d,e).canonicalString()}function Hl(d,e){const r=(h=d,new on(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?r:r.child(e)}function zt(d){const e=on.fromString(d);return jt(w(e)),e}function xr(d,e){return Ic(d.databaseId,e.path)}function zo(d,e){const r=zt(e);if(r.get(1)!==d.databaseId.projectId)throw new Ze(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+d.databaseId.projectId);if(r.get(3)!==d.databaseId.database)throw new Ze(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+d.databaseId.database);return new Bt(Tc(r))}function os(d,e){return Ic(d.databaseId,e)}function Ps(d){const e=zt(d);return 4===e.length?on.emptyPath():Tc(e)}function oc(d){return new on(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function Tc(d){return jt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function So(d,e,r){return{name:xr(d,e),fields:r.value.mapValue.fields}}function qt(d,e,r){const o=zo(d,e.name),h=ss(e.updateTime),_=e.createTime?ss(e.createTime):Ut.min(),b=new Me({mapValue:{fields:e.fields}}),x=gt.newFoundDocument(o,h,_,b);return r&&x.setHasCommittedMutations(),r?x.setHasCommittedMutations():x}function wc(d,e){let r;if(e instanceof gr)r={update:So(d,e.key,e.value)};else if(e instanceof Ss)r={delete:xr(d,e.key)};else if(e instanceof ti)r={update:So(d,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof Ho))return Mt();r={verify:xr(d,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(_,b){const x=b.transform;if(x instanceof nc)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof $o)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof Aa)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof ic)return{fieldPath:b.field.canonicalString(),increment:x.Pe};throw Mt()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(_=e.precondition).updateTime?{updateTime:$l(d,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:Mt()),r;var _}function no(d,e){const r=e.currentDocument?void 0!==(_=e.currentDocument).updateTime?Y.updateTime(ss(_.updateTime)):void 0!==_.exists?Y.exists(_.exists):Y.none():Y.none(),o=e.updateTransforms?e.updateTransforms.map(h=>function(b,x){let L=null;"setToServerValue"in x?(jt("REQUEST_TIME"===x.setToServerValue),L=new nc):"appendMissingElements"in x?L=new $o(x.appendMissingElements.values||[]):"removeAllFromArray"in x?L=new Aa(x.removeAllFromArray.values||[]):"increment"in x?L=new ic(b,x.increment):Mt();const K=Zn.fromServerFormat(x.fieldPath);return new M(K,L)}(d,h)):[];var _;if(e.update){const h=zo(d,e.update.name),_=new Me({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new di((e.updateMask.fieldPaths||[]).map(se=>Zn.fromServerFormat(se)));return new ti(h,_,b,r,o)}return new gr(h,_,r,o)}if(e.delete){const h=zo(d,e.delete);return new Ss(h,r)}if(e.verify){const h=zo(d,e.verify);return new Ho(h,r)}return Mt()}function mo(d,e){return{documents:[os(d,e.path)]}}function xs(d,e){const r={structuredQuery:{}},o=e.path;let h;null!==e.collectionGroup?(h=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=os(d,h);const _=function(K){if(0!==K.length)return D(Un.create(K,"and"))}(e.filters);_&&(r.structuredQuery.where=_);const b=function(K){if(0!==K.length)return K.map(se=>{return{field:Pa((Be=se).field),direction:wg(Be.dir)};var Be})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const x=wu(d,e.limit);return null!==x&&(r.structuredQuery.limit=x),e.startAt&&(r.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:r,parent:h};var K}function Bn(d){let e=Ps(d.parent);const r=d.structuredQuery,o=r.from?r.from.length:0;let h=null;if(o>0){jt(1===o);const se=r.from[0];se.allDescendants?h=se.collectionId:e=e.child(se.collectionId)}let _=[];r.where&&(_=function(ve){const Be=Gl(ve);return Be instanceof Un&&Ii(Be)?Be.getFilters():[Be]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(Be=>{return new Jn(Ac(($t=Be).field),function(Zt){switch(Zt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($t.direction));var $t}));let x=null;r.limit&&(x=function(ve){let Be;return Be="object"==typeof ve?ve.value:ve,ne(Be)?null:Be}(r.limit));let L=null;var ve;r.startAt&&(L=new Yt((ve=r.startAt).values||[],!!ve.before));let K=null;return r.endAt&&(K=function(ve){return new Yt(ve.values||[],!ve.before)}(r.endAt)),W(e,h,b,_,x,"F",L,K)}function Gl(d){return void 0!==d.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Ac(r.unaryFilter.field);return An.create(o,"==",{doubleValue:NaN});case"IS_NULL":const h=Ac(r.unaryFilter.field);return An.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=Ac(r.unaryFilter.field);return An.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Ac(r.unaryFilter.field);return An.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}(d):void 0!==d.fieldFilter?An.create(Ac((r=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==d.compositeFilter?function(r){return Un.create(r.compositeFilter.filters.map(o=>Gl(o)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Mt()}}(r.compositeFilter.op))}(d):Mt();var r}function wg(d){return jl[d]}function Su(d){return ta[d]}function Pu(d){return Bl[d]}function Pa(d){return{fieldPath:d.canonicalString()}}function Ac(d){return Zn.fromServerFormat(d.fieldPath)}function D(d){return d instanceof An?function(r){if("=="===r.op){if(us(r.value))return{unaryFilter:{field:Pa(r.field),op:"IS_NAN"}};if(Mi(r.value))return{unaryFilter:{field:Pa(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(us(r.value))return{unaryFilter:{field:Pa(r.field),op:"IS_NOT_NAN"}};if(Mi(r.value))return{unaryFilter:{field:Pa(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(r.field),op:Su(r.op),value:r.value}}}(d):d instanceof Un?function(r){const o=r.getFilters().map(h=>D(h));return 1===o.length?o[0]:{compositeFilter:{op:Pu(r.op),filters:o}}}(d):Mt()}function O(d){const e=[];return d.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class N{constructor(e,r,o,h,_=Ut.min(),b=Ut.min(),x=xi.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=x,this.expectedCount=L}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function Se(d,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:mt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:xr(_=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Go(_,b.version.toTimestamp()),createTime:Go(_,b.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:ft(e.version)};else{if(!e.isUnknownDocument())return Mt();o.unknownDocument={path:r.path.toArray(),version:ft(e.version)}}var _,b;return o}function mt(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function ft(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yn(d){const e=new Gt(d.seconds,d.nanoseconds);return Ut.fromTimestamp(e)}function hr(d,e){const r=(e.baseMutations||[]).map(_=>no(d.ct,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const o=e.mutations.map(_=>no(d.ct,_)),h=Gt.fromMillis(e.localWriteTimeMs);return new $s(e.batchId,h,r,o)}function ar(d){const e=yn(d.readTime),r=void 0!==d.lastLimboFreeSnapshotVersion?yn(d.lastLimboFreeSnapshotVersion):Ut.min();let o;return o=void 0!==d.query.documents?(jt(1===(_=d.query).documents.length),gn(J(Ps(_.documents[0])))):function(_){return gn(Bn(_))}(d.query),new N(o,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,r,xi.fromBase64String(d.resumeToken));var _}function kr(d,e){const r=ft(e.snapshotVersion),o=ft(e.lastLimboFreeSnapshotVersion);let h;h=ec(e.target)?mo(d.ct,e.target):xs(d.ct,e.target)._t;const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ds(e.target),readTime:r,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:h}}function mi(d){const e=Bn({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?hs(e,e.limit,"L"):e}function ac(d,e){return new Fi(e.largestBatchId,no(d.ct,e.overlayMutation))}function Dc(d,e){const r=e.path.lastSegment();return[d,At(e.path.popLast()),r]}function sl(d,e,r,o){return{indexId:d,uid:e,sequenceNumber:r,readTime:ft(o.readTime),documentKey:At(o.documentKey.path),largestBatchId:o.largestBatchId}}class Sc{getBundleMetadata(e,r){return xu(e).get(r).next(o=>{if(o)return{id:(_=o).bundleId,createTime:yn(_.createTime),version:_.version};var _})}saveBundleMetadata(e,r){return xu(e).put({bundleId:(h=r).id,createTime:ft(ss(h.createTime)),version:h.version});var h}getNamedQuery(e,r){return Bh(e).get(r).next(o=>{if(o)return{name:(_=o).name,query:mi(_.bundledQuery),readTime:yn(_.readTime)};var _})}saveNamedQuery(e,r){return Bh(e).put({name:(h=r).name,readTime:ft(ss(h.readTime)),bundledQuery:h.bundledQuery});var h}}function xu(d){return Bi(d,"bundles")}function Bh(d){return Bi(d,"namedQueries")}class cc{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new cc(e,r.uid||"")}getOverlay(e,r){return pa(e).get(Dc(this.userId,r)).next(o=>o?ac(this.serializer,o):null)}getOverlays(e,r){const o=Is();return et.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&o.set(h,_)})).next(()=>o)}saveOverlays(e,r,o){const h=[];return o.forEach((_,b)=>{const x=new Fi(r,b);h.push(this.ht(e,x))}),et.waitFor(h)}removeOverlaysForBatchId(e,r,o){const h=new Set;r.forEach(b=>h.add(At(b.getCollectionPath())));const _=[];return h.forEach(b=>{const x=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);_.push(pa(e).j("collectionPathOverlayIndex",x))}),et.waitFor(_)}getOverlaysForCollection(e,r,o){const h=Is(),_=At(r),b=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,Number.POSITIVE_INFINITY],!0);return pa(e).U("collectionPathOverlayIndex",b).next(x=>{for(const L of x){const K=ac(this.serializer,L);h.set(K.getKey(),K)}return h})}getOverlaysForCollectionGroup(e,r,o,h){const _=Is();let b;const x=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return pa(e).J({index:"collectionGroupOverlayIndex",range:x},(L,K,se)=>{const ve=ac(this.serializer,K);_.size()<h||ve.largestBatchId===b?(_.set(ve.getKey(),ve),b=ve.largestBatchId):se.done()}).next(()=>_)}ht(e,r){return pa(e).put(function(h,_,b){const[x,L,K]=Dc(_,b.mutation.key);return{userId:_,collectionPath:L,documentId:K,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:wc(h.ct,b.mutation)}}(this.serializer,this.userId,r))}}function pa(d){return Bi(d,"documentOverlays")}class $h{Pt(e){return Bi(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const o=r?.value;return o?xi.fromUint8Array(o):xi.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class na{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Jr(e.integerValue));else if("doubleValue"in e){const o=Jr(e.doubleValue);isNaN(o)?this.dt(r,13):(this.dt(r,15),ge(o)?r.At(0):r.At(o))}else if("timestampValue"in e){let o=e.timestampValue;this.dt(r,20),"string"==typeof o&&(o=Ks(o)),r.Rt(`${o.seconds||""}`),r.At(o.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Ls(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.dt(r,45),r.At(o.latitude||0),r.At(o.longitude||0)}else"mapValue"in e?Qn(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Vi(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Mt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const o=e.fields||{};this.dt(r,55);for(const h of Object.keys(o))this.Vt(h,r),this.Tt(o[h],r)}wt(e,r){var o,h;const _=e.fields||{};this.dt(r,53);const b="value",x=(null===(h=null===(o=_[b].arrayValue)||void 0===o?void 0:o.values)||void 0===h?void 0:h.length)||0;this.dt(r,15),r.At(Jr(x)),this.Vt(b,r),this.Tt(_[b],r)}bt(e,r){const o=e.values||[];this.dt(r,50);for(const h of o)this.Tt(h,r)}yt(e,r){this.dt(r,37),Bt.fromName(e).path.forEach(o=>{this.dt(r,60),this.Dt(o,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function zl(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Cd(d){const e=64-function(o){let h=0;for(let _=0;_<8;++_){const b=zl(255&o[_]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}na.vt=new na;class ga{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ft(o.value),o=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ot(o.value),o=r.next();this.Nt()}Lt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const h=r.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ot(o);else if(o<2048)this.Ot(960|o>>>6),this.Ot(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|o>>>12),this.Ot(128|63&o>>>6),this.Ot(128|63&o);else{const h=r.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const r=this.qt(e),o=Cd(r);this.Qt(1+o),this.buffer[this.position++]=255&o;for(let h=r.length-o;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Kt(e){const r=this.qt(e),o=Cd(r);this.Qt(1+o),this.buffer[this.position++]=~(255&o);for(let h=r.length-o;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(_){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,_,!1),new Uint8Array(b.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let h=1;h<r.length;++h)r[h]^=o?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const h=new Uint8Array(o);h.set(this.buffer),this.buffer=h}}class Wl{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Id{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Mu{constructor(){this.jt=new ga,this.Ht=new Wl(this.jt),this.Jt=new Id(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Wo{constructor(e,r,o,h){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=h}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Wo(this.indexId,this.documentKey,this.arrayValue,o)}}function _o(d,e){let r=d.indexId-e.indexId;return 0!==r?r:(r=ra(d.arrayValue,e.arrayValue),0!==r?r:(r=ra(d.directionalValue,e.directionalValue),0!==r?r:Bt.comparator(d.documentKey,e.documentKey)))}function ra(d,e){for(let r=0;r<d.length&&r<e.length;++r){const o=d[r]-e[r];if(0!==o)return o}return d.length-e.length}class Pc{constructor(e){this.Xt=new wr((r,o)=>Zn.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const o=r;o.isInequality()?this.Xt=this.Xt.add(o):this.tn.push(o)}}get nn(){return this.Xt.size>1}rn(e){if(jt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=zn(e);if(void 0!==r&&!this.sn(r))return!1;const o=In(e);let h=new Set,_=0,b=0;for(;_<o.length&&this.sn(o[_]);++_)h=h.add(o[_].fieldPath.canonicalString());if(_===o.length)return!0;if(this.Xt.size>0){const x=this.Xt.getIterator().getNext();if(!h.has(x.field.canonicalString())){const L=o[_];if(!this.on(x,L)||!this._n(this.en[b++],L))return!1}++_}for(;_<o.length;++_)if(b>=this.en.length||!this._n(this.en[b++],o[_]))return!1;return!0}an(){if(this.nn)return null;let e=new wr(Zn.comparator);const r=[];for(const o of this.tn)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new br(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new br(o.field,0))}for(const o of this.en)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new br(o.field,"asc"===o.dir?0:1)));return new bn(bn.UNKNOWN_ID,this.collectionId,r,Yn.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function ol(d){var e,r;if(jt(d instanceof An||d instanceof Un),d instanceof An){if(d instanceof jo){const h=(null===(r=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(_=>An.create(d.field,"==",_)))||[];return Un.create(h,"or")}return d}const o=d.filters.map(h=>ol(h));return Un.create(o,d.op)}function Zm(d){if(0===d.getFilters().length)return[];const e=ip(ol(d));return jt(rp(e)),Ru(e)||Ou(e)?[e]:e.getFilters()}function Ru(d){return d instanceof An}function Ou(d){return d instanceof Un&&Ii(d)}function rp(d){return Ru(d)||Ou(d)||function(r){if(r instanceof Un&&Er(r)){for(const o of r.getFilters())if(!Ru(o)&&!Ou(o))return!1;return!0}return!1}(d)}function ip(d){if(jt(d instanceof An||d instanceof Un),d instanceof An)return d;if(1===d.filters.length)return ip(d.filters[0]);const e=d.filters.map(o=>ip(o));let r=Un.create(e,d.op);return r=Td(r),rp(r)?r:(jt(r instanceof Un),jt($r(r)),jt(r.filters.length>1),r.filters.reduce((o,h)=>Nu(o,h)))}function Nu(d,e){let r;return jt(d instanceof An||d instanceof Un),jt(e instanceof An||e instanceof Un),r=d instanceof An?e instanceof An?Un.create([d,e],"and"):xc(d,e):e instanceof An?xc(e,d):function(h,_){if(jt(h.filters.length>0&&_.filters.length>0),$r(h)&&$r(_))return Yr(h,_.getFilters());const b=Er(h)?h:_,x=Er(h)?_:h,L=b.filters.map(K=>Nu(K,x));return Un.create(L,"or")}(d,e),Td(r)}function xc(d,e){if($r(e))return Yr(e,d.getFilters());{const r=e.filters.map(o=>Nu(d,o));return Un.create(r,"or")}}function Td(d){if(jt(d instanceof An||d instanceof Un),d instanceof An)return d;const e=d.getFilters();if(1===e.length)return Td(e[0]);if(Xi(d))return d;const r=e.map(h=>Td(h)),o=[];return r.forEach(h=>{h instanceof An?o.push(h):h instanceof Un&&(h.op===d.op?o.push(...h.filters):o.push(h))}),1===o.length?o[0]:Un.create(o,d.op)}class Mc{constructor(){this.un=new Rc}addToCollectionParentIndex(e,r){return this.un.add(r),et.resolve()}getCollectionParents(e,r){return et.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return et.resolve()}deleteFieldIndex(e,r){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,r){return et.resolve()}getDocumentsMatchingTarget(e,r){return et.resolve(null)}getIndexType(e,r){return et.resolve(0)}getFieldIndexes(e,r){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,r){return et.resolve(hn.min())}getMinOffsetFromCollectionGroup(e,r){return et.resolve(hn.min())}updateCollectionGroup(e,r,o){return et.resolve()}updateIndexEntries(e,r){return et.resolve()}}class Rc{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),h=this.index[r]||new wr(on.comparator),_=!h.has(o);return this.index[r]=h.add(o),_}has(e){const r=e.lastSegment(),o=e.popLast(),h=this.index[r];return h&&h.has(o)}getEntries(e){return(this.index[e]||new wr(on.comparator)).toArray()}}const lc=new Uint8Array(0);class sp{constructor(e,r){this.databaseId=r,this.cn=new Rc,this.ln=new Ui(o=>ds(o),(o,h)=>wo(o,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const o=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const _={collectionId:o,parent:At(h)};return Hh(e).put(_)}return et.resolve()}getCollectionParents(e,r){const o=[],h=IDBKeyRange.bound([r,""],[On(r),""],!1,!0);return Hh(e).U(h).next(_=>{for(const b of _){if(b.collectionId!==r)break;o.push(Dn(b.parent))}return o})}addFieldIndex(e,r){const o=ku(e),h={indexId:(x=r).indexId,collectionGroup:x.collectionGroup,fields:x.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var x;delete h.indexId;const _=o.add(h);if(r.indexState){const b=yo(e);return _.next(x=>{b.put(sl(x,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return _.next()}deleteFieldIndex(e,r){const o=ku(e),h=yo(e),_=xa(e);return o.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=ku(e),o=xa(e),h=yo(e);return r.j().next(()=>o.j()).next(()=>h.j())}createTargetIndexes(e,r){return et.forEach(this.hn(r),o=>this.getIndexType(e,o).next(h=>{if(0===h||1===h){const _=new Pc(o).an();if(null!=_)return this.addFieldIndex(e,_)}}))}getDocumentsMatchingTarget(e,r){const o=xa(e);let h=!0;const _=new Map;return et.forEach(this.hn(r),b=>this.Pn(e,b).next(x=>{h&&(h=!!x),_.set(b,x)})).next(()=>{if(h){let b=pr();const x=[];return et.forEach(_,(L,K)=>{var er;we("IndexedDbIndexManager",`Using index ${er=L,`id=${er.indexId}|cg=${er.collectionGroup}|f=${er.fields.map(Or=>`${Or.fieldPath}:${Or.kind}`).join(",")}`} to execute ${ds(r)}`);const se=function(er,Or){const Ni=zn(Or);if(void 0===Ni)return null;for(const ni of Bo(er,Ni.fieldPath))switch(ni.op){case"array-contains-any":return ni.value.arrayValue.values||[];case"array-contains":return[ni.value]}return null}(K,L),ve=function(er,Or){const Ni=new Map;for(const ni of In(Or))for(const st of Bo(er,ni.fieldPath))switch(st.op){case"==":case"in":Ni.set(ni.fieldPath.canonicalString(),st.value);break;case"not-in":case"!=":return Ni.set(ni.fieldPath.canonicalString(),st.value),Array.from(Ni.values())}return null}(K,L),Be=function(er,Or){const Ni=[];let ni=!0;for(const st of In(Or)){const Oe=0===st.kind?yi(er,st.fieldPath,er.startAt):Ao(er,st.fieldPath,er.startAt);Ni.push(Oe.value),ni&&(ni=Oe.inclusive)}return new Yt(Ni,ni)}(K,L),_t=function(er,Or){const Ni=[];let ni=!0;for(const st of In(Or)){const Oe=0===st.kind?Ao(er,st.fieldPath,er.endAt):yi(er,st.fieldPath,er.endAt);Ni.push(Oe.value),ni&&(ni=Oe.inclusive)}return new Yt(Ni,ni)}(K,L),$t=this.In(L,K,Be),un=this.In(L,K,_t),Zt=this.Tn(L,K,ve),Xn=this.En(L.indexId,se,$t,Be.inclusive,un,_t.inclusive,Zt);return et.forEach(Xn,cr=>o.G(cr,r.limit).next(er=>{er.forEach(Or=>{const Ni=Bt.fromSegments(Or.documentKey);b.has(Ni)||(b=b.add(Ni),x.push(Ni))})}))}).next(()=>x)}return et.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:Zm(Un.create(e.filters,"and")).map(o=>qi(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,o,h,_,b,x){const L=(null!=r?r.length:1)*Math.max(o.length,_.length),K=L/(null!=r?r.length:1),se=[];for(let ve=0;ve<L;++ve){const Be=r?this.dn(r[ve/K]):lc,_t=this.An(e,Be,o[ve%K],h),$t=this.Rn(e,Be,_[ve%K],b),un=x.map(Zt=>this.An(e,Be,Zt,!0));se.push(...this.createRange(_t,$t,un))}return se}An(e,r,o,h){const _=new Wo(e,Bt.empty(),r,o);return h?_:_.Zt()}Rn(e,r,o,h){const _=new Wo(e,Bt.empty(),r,o);return h?_.Zt():_}Pn(e,r){const o=new Pc(r),h=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,h).next(_=>{let b=null;for(const x of _)o.rn(x)&&(!b||x.fields.length>b.fields.length)&&(b=x);return b})}getIndexType(e,r){let o=2;const h=this.hn(r);return et.forEach(h,_=>this.Pn(e,_).next(b=>{b?0!==o&&b.fields.length<function(L){let K=new wr(Zn.comparator),se=!1;for(const ve of L.filters)for(const Be of ve.getFlattenedFilters())Be.field.isKeyField()||("array-contains"===Be.op||"array-contains-any"===Be.op?se=!0:K=K.add(Be.field));for(const ve of L.orderBy)ve.field.isKeyField()||(K=K.add(ve.field));return K.size+(se?1:0)}(_)&&(o=1):o=0})).next(()=>null!==r.limit&&h.length>1&&2===o?1:o)}Vn(e,r){const o=new Mu;for(const h of In(e)){const _=r.data.field(h.fieldPath);if(null==_)return null;const b=o.Yt(h.kind);na.vt.It(_,b)}return o.zt()}dn(e){const r=new Mu;return na.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const o=new Mu;return na.vt.It(Kn(this.databaseId,r),o.Yt(function(_){const b=In(_);return 0===b.length?0:b[b.length-1].kind}(e))),o.zt()}Tn(e,r,o){if(null===o)return[];let h=[];h.push(new Mu);let _=0;for(const b of In(e)){const x=o[_++];for(const L of h)if(this.fn(r,b.fieldPath)&&Zr(x))h=this.gn(h,b,x);else{const K=L.Yt(b.kind);na.vt.It(x,K)}}return this.pn(h)}In(e,r,o){return this.Tn(e,r,o.position)}pn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].zt();return r}gn(e,r,o){const h=[...e],_=[];for(const b of o.arrayValue.values||[])for(const x of h){const L=new Mu;L.seed(x.zt()),na.vt.It(b,L.Yt(r.kind)),_.push(L)}return _}fn(e,r){return!!e.filters.find(o=>o instanceof An&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=ku(e),h=yo(e);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(_=>{const b=[];return et.forEach(_,x=>h.get([x.indexId,this.uid]).next(L=>{b.push(function(se,ve){const Be=ve?new Yn(ve.sequenceNumber,new hn(yn(ve.readTime),new Bt(Dn(ve.documentKey)),ve.largestBatchId)):Yn.empty(),_t=se.fields.map(([$t,un])=>new br(Zn.fromServerFormat($t),un));return new bn(se.indexId,se.collectionGroup,_t,Be)}(x,L))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,h)=>{const _=o.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==_?_:Ft(o.collectionGroup,h.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const h=ku(e),_=yo(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(x=>et.forEach(x,L=>_.put(sl(L.indexId,this.uid,b,o)))))}updateIndexEntries(e,r){const o=new Map;return et.forEach(r,(h,_)=>{const b=o.get(h.collectionGroup);return(b?et.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(x=>(o.set(h.collectionGroup,x),et.forEach(x,L=>this.wn(e,h,L).next(K=>{const se=this.Sn(_,L);return K.isEqual(se)?et.resolve():this.bn(e,_,L,K,se)}))))})}Dn(e,r,o,h){return xa(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(o,r.key),documentKey:r.key.path.toArray()})}vn(e,r,o,h){return xa(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(o,r.key),r.key.path.toArray()])}wn(e,r,o){const h=xa(e);let _=new wr(_o);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.mn(o,r)])},(b,x)=>{_=_.add(new Wo(o.indexId,r,x.arrayValue,x.directionalValue))}).next(()=>_)}Sn(e,r){let o=new wr(_o);const h=this.Vn(r,e);if(null==h)return o;const _=zn(r);if(null!=_){const b=e.data.field(_.fieldPath);if(Zr(b))for(const x of b.arrayValue.values||[])o=o.add(new Wo(r.indexId,e.key,this.dn(x),h))}else o=o.add(new Wo(r.indexId,e.key,lc,h));return o}bn(e,r,o,h,_){we("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(L,K,se,ve,Be){const _t=L.getIterator(),$t=K.getIterator();let un=Uo(_t),Zt=Uo($t);for(;un||Zt;){let Xn=!1,cr=!1;if(un&&Zt){const er=se(un,Zt);er<0?cr=!0:er>0&&(Xn=!0)}else null!=un?cr=!0:Xn=!0;Xn?(ve(Zt),Zt=Uo($t)):cr?(Be(un),un=Uo(_t)):(un=Uo(_t),Zt=Uo($t))}}(h,_,_o,x=>{b.push(this.Dn(e,r,o,x))},x=>{b.push(this.vn(e,r,o,x))}),et.waitFor(b)}yn(e){let r=1;return yo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,h,_)=>{_.done(),r=h.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((b,x)=>_o(b,x)).filter((b,x,L)=>!x||0!==_o(b,L[x-1]));const h=[];h.push(e);for(const b of o){const x=_o(b,e),L=_o(b,r);if(0===x)h[0]=e.Zt();else if(x>0&&L<0)h.push(b),h.push(b.Zt());else if(L>0)break}h.push(r);const _=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];_.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,lc,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,lc,[]]))}return _}Cn(e,r){return _o(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Fu)}getMinOffset(e,r){return et.mapArray(this.hn(r),o=>this.Pn(e,o).next(h=>h||Mt())).next(Fu)}}function Hh(d){return Bi(d,"collectionParents")}function xa(d){return Bi(d,"indexEntries")}function ku(d){return Bi(d,"indexConfiguration")}function yo(d){return Bi(d,"indexState")}function Fu(d){jt(0!==d.length);let e=d[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<d.length;o++){const h=d[o].indexState.offset;Qr(h,e)<0&&(e=h),r<h.largestBatchId&&(r=h.largestBatchId)}return new hn(e.readTime,e.documentKey,r)}const al={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ms{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ms(e,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Gh(d,e,r){const o=d.store("mutations"),h=d.store("documentMutations"),_=[],b=IDBKeyRange.only(r.batchId);let x=0;const L=o.J({range:b},(se,ve,Be)=>(x++,Be.delete()));_.push(L.next(()=>{jt(1===x)}));const K=[];for(const se of r.mutations){const ve=Gr(e,se.key.path,r.batchId);_.push(h.delete(ve)),K.push(se.key)}return et.waitFor(_).next(()=>K)}function Oc(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Mt();e=d.noDocument}return JSON.stringify(e).length}Ms.DEFAULT_COLLECTION_PERCENTILE=10,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ms.DEFAULT=new Ms(41943040,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ms.DISABLED=new Ms(-1,0,0);class cl{constructor(e,r,o,h){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=h,this.Fn={}}static lt(e,r,o,h){jt(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new cl(_,r,o,h)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).J({index:"userMutationsIndex",range:o},(h,_,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,o,h){const _=ll(e),b=uc(e);return b.add({}).next(x=>{jt("number"==typeof x);const L=new $s(x,r,o,h),K=function(_t,$t,un){const Zt=un.baseMutations.map(cr=>wc(_t.ct,cr)),Xn=un.mutations.map(cr=>wc(_t.ct,cr));return{userId:$t,batchId:un.batchId,localWriteTimeMs:un.localWriteTime.toMillis(),baseMutations:Zt,mutations:Xn}}(this.serializer,this.userId,L),se=[];let ve=new wr((Be,_t)=>Ft(Be.canonicalString(),_t.canonicalString()));for(const Be of h){const _t=Gr(this.userId,Be.key.path,x);ve=ve.add(Be.key.path.popLast()),se.push(b.put(K)),se.push(_.put(_t,fr))}return ve.forEach(Be=>{se.push(this.indexManager.addToCollectionParentIndex(e,Be))}),e.addOnCommittedListener(()=>{this.Fn[x]=L.keys()}),et.waitFor(se).next(()=>L)})}lookupMutationBatch(e,r){return uc(e).get(r).next(o=>o?(jt(o.userId===this.userId),hr(this.serializer,o)):null)}Mn(e,r){return this.Fn[r]?et.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const h=o.keys();return this.Fn[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,h=IDBKeyRange.lowerBound([this.userId,o]);let _=null;return uc(e).J({index:"userMutationsIndex",range:h},(b,x,L)=>{x.userId===this.userId&&(jt(x.batchId>=o),_=hr(this.serializer,x)),L.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return uc(e).J({index:"userMutationsIndex",range:r,reverse:!0},(h,_,b)=>{o=_.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).U("userMutationsIndex",r).next(o=>o.map(h=>hr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=cn(this.userId,r.path),h=IDBKeyRange.lowerBound(o),_=[];return ll(e).J({range:h},(b,x,L)=>{const[K,se,ve]=b,Be=Dn(se);if(K===this.userId&&r.path.isEqual(Be))return uc(e).get(ve).next(_t=>{if(!_t)throw Mt();jt(_t.userId===this.userId),_.push(hr(this.serializer,_t))});L.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new wr(Ft);const h=[];return r.forEach(_=>{const b=cn(this.userId,_.path),x=IDBKeyRange.lowerBound(b),L=ll(e).J({range:x},(K,se,ve)=>{const[Be,_t,$t]=K,un=Dn(_t);Be===this.userId&&_.path.isEqual(un)?o=o.add($t):ve.done()});h.push(L)}),et.waitFor(h).next(()=>this.xn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,h=o.length+1,_=cn(this.userId,o),b=IDBKeyRange.lowerBound(_);let x=new wr(Ft);return ll(e).J({range:b},(L,K,se)=>{const[ve,Be,_t]=L,$t=Dn(Be);ve===this.userId&&o.isPrefixOf($t)?$t.length===h&&(x=x.add(_t)):se.done()}).next(()=>this.xn(e,x))}xn(e,r){const o=[],h=[];return r.forEach(_=>{h.push(uc(e).get(_).next(b=>{if(null===b)throw Mt();jt(b.userId===this.userId),o.push(hr(this.serializer,b))}))}),et.waitFor(h).next(()=>o)}removeMutationBatch(e,r){return Gh(e._e,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),et.forEach(o,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return et.resolve();const o=IDBKeyRange.lowerBound([this.userId]),h=[];return ll(e).J({range:o},(_,b,x)=>{if(_[0]===this.userId){const L=Dn(_[1]);h.push(L)}else x.done()}).next(()=>{jt(0===h.length)})})}containsKey(e,r){return zh(e,this.userId,r)}Nn(e){return dc(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zh(d,e,r){const o=cn(e,r.path),h=o[1],_=IDBKeyRange.lowerBound(o);let b=!1;return ll(d).J({range:_,H:!0},(x,L,K)=>{const[se,ve,Be]=x;se===e&&ve===h&&(b=!0),K.done()}).next(()=>b)}function uc(d){return Bi(d,"mutations")}function ll(d){return Bi(d,"documentMutations")}function dc(d){return Bi(d,"mutationQueues")}class Nc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Nc(0)}static kn(){return new Nc(-1)}}class e_{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const o=new Nc(r.highestTargetId);return r.highestTargetId=o.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Ut.fromTimestamp(new Gt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.qn(e).next(h=>(h.highestListenSequenceNumber=r,o&&(h.lastRemoteSnapshotVersion=o.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Qn(e,h)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(o=>(o.targetCount+=1,this.$n(r,o),this.Qn(e,o))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Po(e).delete(r.targetId)).next(()=>this.qn(e)).next(o=>(jt(o.targetCount>0),o.targetCount-=1,this.Qn(e,o)))}removeTargets(e,r,o){let h=0;const _=[];return Po(e).J((b,x)=>{const L=ar(x);L.sequenceNumber<=r&&null===o.get(L.targetId)&&(h++,_.push(this.removeTargetData(e,L)))}).next(()=>et.waitFor(_)).next(()=>h)}forEachTarget(e,r){return Po(e).J((o,h)=>{const _=ar(h);r(_)})}qn(e){return kc(e).get("targetGlobalKey").next(r=>(jt(null!==r),r))}Qn(e,r){return kc(e).put("targetGlobalKey",r)}Kn(e,r){return Po(e).put(kr(this.serializer,r))}$n(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=ds(r),h=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let _=null;return Po(e).J({range:h,index:"queryTargetsIndex"},(b,x,L)=>{const K=ar(x);wo(r,K.target)&&(_=K,L.done())}).next(()=>_)}addMatchingKeys(e,r,o){const h=[],_=Fc(e);return r.forEach(b=>{const x=At(b.path);h.push(_.put({targetId:o,path:x})),h.push(this.referenceDelegate.addReference(e,o,b))}),et.waitFor(h)}removeMatchingKeys(e,r,o){const h=Fc(e);return et.forEach(r,_=>{const b=At(_.path);return et.waitFor([h.delete([o,b]),this.referenceDelegate.removeReference(e,o,_)])})}removeMatchingKeysForTargetId(e,r){const o=Fc(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(h)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),h=Fc(e);let _=pr();return h.J({range:o,H:!0},(b,x,L)=>{const K=Dn(b[1]),se=new Bt(K);_=_.add(se)}).next(()=>_)}containsKey(e,r){const o=At(r.path),h=IDBKeyRange.bound([o],[On(o)],!1,!0);let _=0;return Fc(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,x],L,K)=>{0!==b&&(_++,K.done())}).next(()=>_>0)}ot(e,r){return Po(e).get(r).next(o=>o?ar(o):null)}}function Po(d){return Bi(d,"targets")}function kc(d){return Bi(d,"targetGlobal")}function Fc(d){return Bi(d,"targetDocuments")}function Lu([d,e],[r,o]){const h=Ft(d,r);return 0===h?Ft(e,o):h}class op{constructor(e){this.Un=e,this.buffer=new wr(Lu),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Lu(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Lc{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;we("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,a.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){$n(o)?we("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Wn(o)}yield r.Hn(3e5)}))}}class Wh{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return et.resolve(F.oe);const o=new op(r);return this.Jn.forEachTarget(e,h=>o.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>o.zn(h))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.Jn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(al)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),al):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let o,h,_,b,x,L,K;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ve=>(ve>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ve}`),h=this.params.maximumSequenceNumbersToCollect):h=ve,b=Date.now(),this.nthSequenceNumber(e,h))).next(ve=>(o=ve,x=Date.now(),this.removeTargets(e,o,r))).next(ve=>(_=ve,L=Date.now(),this.removeOrphanedDocuments(e,o))).next(ve=>(K=Date.now(),Dt()<=be.$b.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-se}ms\n\tDetermined least recently used ${h} in `+(x-b)+`ms\n\tRemoved ${_} targets in `+(L-x)+`ms\n\tRemoved ${ve} documents in `+(K-L)+`ms\nTotal Duration: ${K-se}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:ve})))}}class ul{constructor(e,r){this.db=e,this.garbageCollector=function Rs(d,e){return new Wh(d,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(h=>o+h))}er(e){let r=0;return this.Zn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(o,h)=>r(h))}addReference(e,r,o){return Ha(e,o)}removeReference(e,r,o){return Ha(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Ha(e,r)}nr(e,r){return function(h,_){let b=!1;return dc(h).Y(x=>zh(h,x,_).next(L=>(L&&(b=!0),et.resolve(!L)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.tr(e,(b,x)=>{if(x<=r){const L=this.nr(e,b).next(K=>{if(!K)return _++,o.getEntry(e,b).next(()=>(o.removeEntry(b,Ut.min()),Fc(e).delete([0,At(b.path)])))});h.push(L)}}).next(()=>et.waitFor(h)).next(()=>o.apply(e)).next(()=>_)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Ha(e,r)}tr(e,r){const o=Fc(e);let h,_=F.oe;return o.J({index:"documentTargetsIndex"},([b,x],{path:L,sequenceNumber:K})=>{0===b?(_!==F.oe&&r(new Bt(Dn(h)),_),_=K,h=L):_=F.oe}).next(()=>{_!==F.oe&&r(new Bt(Dn(h)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ha(d,e){return Fc(d).put((h=d.currentSequenceNumber,{targetId:0,path:At(e.path),sequenceNumber:h}));var h}class wd{constructor(){this.changes=new Ui(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?et.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ap{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return ia(e).put(o)}removeEntry(e,r,o){return ia(e).delete(function(_,b){const x=_.path.toArray();return[x.slice(0,x.length-2),x[x.length-2],mt(b),x[x.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.rr(e,o)))}getEntry(e,r){let o=gt.newInvalidDocument(r);return ia(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ko(r))},(h,_)=>{o=this.ir(r,_)}).next(()=>o)}sr(e,r){let o={size:0,document:gt.newInvalidDocument(r)};return ia(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ko(r))},(h,_)=>{o={document:this.ir(r,_),size:Oc(_)}}).next(()=>o)}getEntries(e,r){let o=is();return this._r(e,r,(h,_)=>{const b=this.ir(h,_);o=o.insert(h,b)}).next(()=>o)}ar(e,r){let o=is(),h=new qr(Bt.comparator);return this._r(e,r,(_,b)=>{const x=this.ir(_,b);o=o.insert(_,x),h=h.insert(_,Oc(b))}).next(()=>({documents:o,ur:h}))}_r(e,r,o){if(r.isEmpty())return et.resolve();let h=new wr(Sd);r.forEach(L=>h=h.add(L));const _=IDBKeyRange.bound(Ko(h.first()),Ko(h.last())),b=h.getIterator();let x=b.getNext();return ia(e).J({index:"documentKeyIndex",range:_},(L,K,se)=>{const ve=Bt.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;x&&Sd(x,ve)<0;)o(x,null),x=b.getNext();x&&x.isEqual(ve)&&(o(x,K),x=b.hasNext()?b.getNext():null),x?se.$(Ko(x)):se.done()}).next(()=>{for(;x;)o(x,null),x=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,o,h,_){const b=r.path,x=[b.popLast().toArray(),b.lastSegment(),mt(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],L=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ia(e).U(IDBKeyRange.bound(x,L,!0)).next(K=>{_?.incrementDocumentReadCount(K.length);let se=is();for(const ve of K){const Be=this.ir(Bt.fromSegments(ve.prefixPath.concat(ve.collectionGroup,ve.documentId)),ve);Be.isFoundDocument()&&(ho(r,Be)||h.has(Be.key))&&(se=se.insert(Be.key,Be))}return se})}getAllFromCollectionGroup(e,r,o,h){let _=is();const b=Kh(r,o),x=Kh(r,hn.max());return ia(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,x,!0)},(L,K,se)=>{const ve=this.ir(Bt.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);_=_.insert(ve.key,ve),_.size===h&&se.done()}).next(()=>_)}newChangeBuffer(e){return new Dd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return dl(e).get("remoteDocumentGlobalKey").next(r=>(jt(!!r),r))}rr(e,r){return dl(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const o=function ce(d,e){let r;if(e.document)r=qt(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Bt.fromSegments(e.noDocument.path),h=yn(e.noDocument.readTime);r=gt.newNoDocument(o,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Mt();{const o=Bt.fromSegments(e.unknownDocument.path),h=yn(e.unknownDocument.version);r=gt.newUnknownDocument(o,h)}}return e.readTime&&r.setReadTime(function(h){const _=new Gt(h[0],h[1]);return Ut.fromTimestamp(_)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(Ut.min()))return o}return gt.newInvalidDocument(e)}}function Ad(d){return new ap(d)}class Dd extends wd{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new Ui(o=>o.toString(),(o,h)=>o.isEqual(h))}applyChanges(e){const r=[];let o=0,h=new wr((_,b)=>Ft(_.canonicalString(),b.canonicalString()));return this.changes.forEach((_,b)=>{const x=this.lr.get(_);if(r.push(this.cr.removeEntry(e,_,x.readTime)),b.isValidDocument()){const L=Se(this.cr.serializer,b);h=h.add(_.path.popLast());const K=Oc(L);o+=K-x.size,r.push(this.cr.addEntry(e,_,L))}else if(o-=x.size,this.trackRemovals){const L=Se(this.cr.serializer,b.convertToNoDocument(Ut.min()));r.push(this.cr.addEntry(e,_,L))}}),h.forEach(_=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,_))}),r.push(this.cr.updateMetadata(e,o)),et.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(o=>(this.lr.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:o,ur:h})=>(h.forEach((_,b)=>{this.lr.set(_,{size:b,readTime:o.get(_).readTime})}),o))}}function dl(d){return Bi(d,"remoteDocumentGlobal")}function ia(d){return Bi(d,"remoteDocumentsV14")}function Ko(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Kh(d,e){const r=e.documentKey.path.toArray();return[d,mt(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Sd(d,e){const r=d.path.toArray(),o=e.path.toArray();let h=0;for(let _=0;_<r.length-2&&_<o.length-2;++_)if(h=Ft(r[_],o[_]),h)return h;return h=Ft(r.length,o.length),h||(h=Ft(r[r.length-2],o[o.length-2]),h||Ft(r[r.length-1],o[o.length-1]))}class Ga{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Pd{constructor(e,r,o,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=h}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(o=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(null!==o&&zr(o.mutation,h,di.empty(),Gt.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,pr()).next(()=>o))}getLocalViewOfDocuments(e,r,o=pr()){const h=Is();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,o).next(_=>{let b=Qs();return _.forEach((x,L)=>{b=b.insert(x,L.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const o=Is();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,pr()))}populateOverlays(e,r,o){const h=[];return o.forEach(_=>{r.has(_)||h.push(_)}),this.documentOverlayCache.getOverlays(e,h).next(_=>{_.forEach((b,x)=>{r.set(b,x)})})}computeViews(e,r,o,h){let _=is();const b=Ta(),x=Ta();return r.forEach((L,K)=>{const se=o.get(K.key);h.has(K.key)&&(void 0===se||se.mutation instanceof ti)?_=_.insert(K.key,K):void 0!==se?(b.set(K.key,se.mutation.getFieldMask()),zr(se.mutation,K,se.mutation.getFieldMask(),Gt.now())):b.set(K.key,di.empty())}),this.recalculateAndSaveOverlays(e,_).next(L=>(L.forEach((K,se)=>b.set(K,se)),r.forEach((K,se)=>{var ve;return x.set(K,new Ga(se,null!==(ve=b.get(K))&&void 0!==ve?ve:null))}),x))}recalculateAndSaveOverlays(e,r){const o=Ta();let h=new qr((b,x)=>b-x),_=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const x of b)x.keys().forEach(L=>{const K=r.get(L);if(null===K)return;let se=o.get(L)||di.empty();se=x.applyToLocalView(K,se),o.set(L,se);const ve=(h.get(x.batchId)||pr()).add(L);h=h.insert(x.batchId,ve)})}).next(()=>{const b=[],x=h.getReverseIterator();for(;x.hasNext();){const L=x.getNext(),K=L.key,se=L.value,ve=fa();se.forEach(Be=>{if(!_.has(Be)){const _t=kt(r.get(Be),o.get(Be));null!==_t&&ve.set(Be,_t),_=_.add(Be)}}),b.push(this.documentOverlayCache.saveOverlays(e,K,ve))}return et.waitFor(b)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,h){return Bt.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ue(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,h):this.getDocumentsMatchingCollectionQuery(e,r,o,h);var b}getNextDocuments(e,r,o,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,h).next(_=>{const b=h-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,h-_.size):et.resolve(Is());let x=-1,L=_;return b.next(K=>et.forEach(K,(se,ve)=>(x<ve.largestBatchId&&(x=ve.largestBatchId),_.get(se)?et.resolve():this.remoteDocumentCache.getEntry(e,se).next(Be=>{L=L.insert(se,Be)}))).next(()=>this.populateOverlays(e,K,_)).next(()=>this.computeViews(e,L,K,pr())).next(se=>({batchId:x,changes:Ia(se)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Bt(r)).next(o=>{let h=Qs();return o.isFoundDocument()&&(h=h.insert(o.key,o)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,o,h){const _=r.collectionGroup;let b=Qs();return this.indexManager.getCollectionParents(e,_).next(x=>et.forEach(x,L=>{const K=(ve=r,Be=L.child(_),new Qo(Be,null,ve.explicitOrderBy.slice(),ve.filters.slice(),ve.limit,ve.limitType,ve.startAt,ve.endAt));var ve,Be;return this.getDocumentsMatchingCollectionQuery(e,K,o,h).next(se=>{se.forEach((ve,Be)=>{b=b.insert(ve,Be)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,o,h){let _;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(b=>(_=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,_,h))).next(b=>{_.forEach((L,K)=>{const se=K.getKey();null===b.get(se)&&(b=b.insert(se,gt.newInvalidDocument(se)))});let x=Qs();return b.forEach((L,K)=>{const se=_.get(L);void 0!==se&&zr(se.mutation,K,di.empty(),Gt.now()),ho(r,K)&&(x=x.insert(L,K))}),x})}}class t_{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return et.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(h=r).id,version:h.version,createTime:ss(h.createTime)}),et.resolve();var h}getNamedQuery(e,r){return et.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(h=r).name,query:mi(h.bundledQuery),readTime:ss(h.readTime)}),et.resolve();var h}}class Kl{constructor(){this.overlays=new qr(Bt.comparator),this.Ir=new Map}getOverlay(e,r){return et.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Is();return et.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&o.set(h,_)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((h,_)=>{this.ht(e,r,_)}),et.resolve()}removeOverlaysForBatchId(e,r,o){const h=this.Ir.get(o);return void 0!==h&&(h.forEach(_=>this.overlays=this.overlays.remove(_)),this.Ir.delete(o)),et.resolve()}getOverlaysForCollection(e,r,o){const h=Is(),_=r.length+1,b=new Bt(r.child("")),x=this.overlays.getIteratorFrom(b);for(;x.hasNext();){const L=x.getNext().value,K=L.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===_&&L.largestBatchId>o&&h.set(L.getKey(),L)}return et.resolve(h)}getOverlaysForCollectionGroup(e,r,o,h){let _=new qr((K,se)=>K-se);const b=this.overlays.getIterator();for(;b.hasNext();){const K=b.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>o){let se=_.get(K.largestBatchId);null===se&&(se=Is(),_=_.insert(K.largestBatchId,se)),se.set(K.getKey(),K)}}const x=Is(),L=_.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((K,se)=>x.set(K,se)),!(x.size()>=h)););return et.resolve(x)}ht(e,r,o){const h=this.overlays.get(o.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(o.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new Fi(r,o));let _=this.Ir.get(r);void 0===_&&(_=pr(),this.Ir.set(r,_)),this.Ir.set(r,_.add(o.key))}}class qh{constructor(){this.sessionToken=xi.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,et.resolve()}}class cp{constructor(){this.Tr=new wr(Ts.Er),this.dr=new wr(Ts.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const o=new Ts(e,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Vr(new Ts(e,r))}mr(e,r){e.forEach(o=>this.removeReference(o,r))}gr(e){const r=new Bt(new on([])),o=new Ts(r,e),h=new Ts(r,e+1),_=[];return this.dr.forEachInRange([o,h],b=>{this.Vr(b),_.push(b.key)}),_}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Bt(new on([])),o=new Ts(r,e),h=new Ts(r,e+1);let _=pr();return this.dr.forEachInRange([o,h],b=>{_=_.add(b.key)}),_}containsKey(e){const r=new Ts(e,0),o=this.Tr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class Ts{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Bt.comparator(e.key,r.key)||Ft(e.wr,r.wr)}static Ar(e,r){return Ft(e.wr,r.wr)||Bt.comparator(e.key,r.key)}}class n_{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new wr(Ts.Er)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,h){const _=this.Sr;this.Sr++;const b=new $s(_,r,o,h);this.mutationQueue.push(b);for(const x of h)this.br=this.br.add(new Ts(x.key,_)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return et.resolve(b)}lookupMutationBatch(e,r){return et.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.vr(r+1),_=h<0?0:h;return et.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Ts(r,0),h=new Ts(r,Number.POSITIVE_INFINITY),_=[];return this.br.forEachInRange([o,h],b=>{const x=this.Dr(b.wr);_.push(x)}),et.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new wr(Ft);return r.forEach(h=>{const _=new Ts(h,0),b=new Ts(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([_,b],x=>{o=o.add(x.wr)})}),et.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,h=o.length+1;let _=o;Bt.isDocumentKey(_)||(_=_.child(""));const b=new Ts(new Bt(_),0);let x=new wr(Ft);return this.br.forEachWhile(L=>{const K=L.key.path;return!!o.isPrefixOf(K)&&(K.length===h&&(x=x.add(L.wr)),!0)},b),et.resolve(this.Cr(x))}Cr(e){const r=[];return e.forEach(o=>{const h=this.Dr(o);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){jt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return et.forEach(r.mutations,h=>{const _=new Ts(h.key,r.batchId);return o=o.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,r){const o=new Ts(r,0),h=this.br.firstAfterOrEqual(o);return et.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return et.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ag{constructor(e){this.Mr=e,this.docs=new qr(Bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,h=this.docs.get(o),_=h?h.size:0,b=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:b}),this.size+=b-_,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return et.resolve(o?o.document.mutableCopy():gt.newInvalidDocument(r))}getEntries(e,r){let o=is();return r.forEach(h=>{const _=this.docs.get(h);o=o.insert(h,_?_.document.mutableCopy():gt.newInvalidDocument(h))}),et.resolve(o)}getDocumentsMatchingQuery(e,r,o,h){let _=is();const b=r.path,x=new Bt(b.child("")),L=this.docs.getIteratorFrom(x);for(;L.hasNext();){const{key:K,value:{document:se}}=L.getNext();if(!b.isPrefixOf(K.path))break;K.path.length>b.length+1||Qr(gs(se),o)<=0||(h.has(se.key)||ho(r,se))&&(_=_.insert(se.key,se.mutableCopy()))}return et.resolve(_)}getAllFromCollectionGroup(e,r,o,h){Mt()}Or(e,r){return et.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new ql(this)}getSize(e){return et.resolve(this.size)}}class ql extends wd{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((o,h)=>{h.isValidDocument()?r.push(this.cr.addEntry(e,h)):this.cr.removeEntry(o)}),et.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class Dg{constructor(e){this.persistence=e,this.Nr=new Ui(r=>ds(r),wo),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Lr=0,this.Br=new cp,this.targetCount=0,this.kr=Nc.Bn()}forEachTarget(e,r){return this.Nr.forEach((o,h)=>r(h)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),et.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Nc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,et.resolve()}updateTargetData(e,r){return this.Kn(r),et.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,r,o){let h=0;const _=[];return this.Nr.forEach((b,x)=>{x.sequenceNumber<=r&&null===o.get(x.targetId)&&(this.Nr.delete(b),_.push(this.removeMatchingKeysForTargetId(e,x.targetId)),h++)}),et.waitFor(_).next(()=>h)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,r){const o=this.Nr.get(r)||null;return et.resolve(o)}addMatchingKeys(e,r,o){return this.Br.Rr(r,o),et.resolve()}removeMatchingKeys(e,r,o){this.Br.mr(r,o);const h=this.persistence.referenceDelegate,_=[];return h&&r.forEach(b=>{_.push(h.markPotentiallyOrphaned(e,b))}),et.waitFor(_)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),et.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Br.yr(r);return et.resolve(o)}containsKey(e,r){return et.resolve(this.Br.containsKey(r))}}class Yh{constructor(e,r){this.qr={},this.overlays={},this.Qr=new F(0),this.Kr=!1,this.Kr=!0,this.$r=new qh,this.referenceDelegate=e(this),this.Ur=new Dg(this),this.indexManager=new Mc,this.remoteDocumentCache=new Ag(o=>this.referenceDelegate.Wr(o)),this.serializer=new H(r),this.Gr=new t_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Kl,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.qr[e.toKey()];return o||(o=new n_(r,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,o){we("MemoryPersistence","Starting transaction:",e);const h=new zs(this.Qr.next());return this.referenceDelegate.zr(),o(h).next(_=>this.referenceDelegate.jr(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}Hr(e,r){return et.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,r)))}}class zs extends Cr{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Jr=new cp,this.Yr=null}static Zr(e){return new xd(e)}get Xr(){if(this.Yr)return this.Yr;throw Mt()}addReference(e,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),et.resolve()}removeReference(e,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),et.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),et.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(h=>this.Xr.add(h.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(_=>this.Xr.add(_.toString()))}).next(()=>o.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Xr,o=>{const h=Bt.fromPath(o);return this.ei(e,h).next(_=>{_||r.removeEntry(h,Ut.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return et.or([()=>et.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Md{constructor(e){this.serializer=e}O(e,r,o,h){const _=new pt("createOrUpgrade",r);var L;o<1&&h>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vr,{unique:!0}),L.createObjectStore("documentMutations"),sa(e),function(L){L.createObjectStore("remoteDocuments")}(e));let b=et.resolve();return o<3&&h>=3&&(0!==o&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),sa(e)),b=b.next(()=>function(L){const K=L.store("targetGlobal"),se={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",se)}(_))),o<4&&h>=4&&(0!==o&&(b=b.next(()=>function(L,K){return K.store("mutations").U().next(se=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vr,{unique:!0});const ve=K.store("mutations"),Be=se.map(_t=>ve.put(_t));return et.waitFor(Be)})}(e,_))),b=b.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&h>=5&&(b=b.next(()=>this.ni(_))),o<6&&h>=6&&(b=b.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.ri(_)))),o<7&&h>=7&&(b=b.next(()=>this.ii(_))),o<8&&h>=8&&(b=b.next(()=>this.si(e,_))),o<9&&h>=9&&(b=b.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&h>=10&&(b=b.next(()=>this.oi(_))),o<11&&h>=11&&(b=b.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&h>=12&&(b=b.next(()=>{!function(L){const K=L.createObjectStore("documentOverlays",{keyPath:Vn});K.createIndex("collectionPathOverlayIndex",Mn,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",dr,{unique:!1})}(e)})),o<13&&h>=13&&(b=b.next(()=>function(L){const K=L.createObjectStore("remoteDocumentsV14",{keyPath:ks});K.createIndex("documentKeyIndex",wi),K.createIndex("collectionGroupIndex",zi)}(e)).next(()=>this._i(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&h>=14&&(b=b.next(()=>this.ai(e,_))),o<15&&h>=15&&(b=b.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:Et}).createIndex("sequenceNumberIndex",nt,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:Rt}).createIndex("documentKeyIndex",ln,{unique:!1})}(e))),o<16&&h>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),o<17&&h>=17&&(b=b.next(()=>{!function(L){L.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let r=0;return e.store("remoteDocuments").J((o,h)=>{r+=Oc(h)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}ni(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.U().next(h=>et.forEach(h,_=>{const b=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",b).next(x=>et.forEach(x,L=>{jt(L.userId===_.userId);const K=hr(this.serializer,L);return Gh(e,_.userId,K).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const _=[];return o.J((b,x)=>{const L=new on(b),K=[0,At(L)];_.push(r.get(K).next(se=>se?et.resolve():r.put({targetId:0,path:At(L),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>et.waitFor(_))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:Fs});const o=r.store("collectionParents"),h=new Rc,_=b=>{if(h.add(b)){const x=b.lastSegment(),L=b.popLast();return o.put({collectionId:x,parent:At(L)})}};return r.store("remoteDocuments").J({H:!0},(b,x)=>{const L=new on(b);return _(L.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,x,L],K)=>{const se=Dn(x);return _(se.popLast())}))}oi(e){const r=e.store("targets");return r.J((o,h)=>{const _=ar(h),b=kr(this.serializer,_);return r.put(b)})}_i(e,r){const o=r.store("remoteDocuments"),h=[];return o.J((_,b)=>{const x=r.store("remoteDocumentsV14"),L=(ve=b,ve.document?new Bt(on.fromString(ve.document.name).popFirst(5)):ve.noDocument?Bt.fromSegments(ve.noDocument.path):ve.unknownDocument?Bt.fromSegments(ve.unknownDocument.path):Mt()).path.toArray(),K={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var ve;h.push(x.put(K))}).next(()=>et.waitFor(h))}ai(e,r){const o=r.store("mutations"),h=Ad(this.serializer),_=new Yh(xd.Zr,this.serializer.ct);return o.U().next(b=>{const x=new Map;return b.forEach(L=>{var K;let se=null!==(K=x.get(L.userId))&&void 0!==K?K:pr();hr(this.serializer,L).keys().forEach(ve=>se=se.add(ve)),x.set(L.userId,se)}),et.forEach(x,(L,K)=>{const se=new Je(K),ve=cc.lt(this.serializer,se),Be=_.getIndexManager(se),_t=cl.lt(se,this.serializer,Be,_.referenceDelegate);return new Pd(h,_t,ve,Be).recalculateAndSaveOverlaysForDocumentKeys(new Vo(r,F.oe),L).next()})})}}function sa(d){d.createObjectStore("targetDocuments",{keyPath:Ai}).createIndex("documentTargetsIndex",or,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ki,{unique:!0}),d.createObjectStore("targetGlobal")}const oa="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Rd{constructor(e,r,o,h,_,b,x,L,K,se,ve=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.ui=_,this.window=b,this.document=x,this.ci=K,this.li=se,this.hi=ve,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Be=>Promise.resolve(),!Rd.D())throw new Ze(ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ul(this,h),this.Ai=r+"main",this.serializer=new H(L),this.Ri=new de(this.Ai,this.hi,new Md(this.serializer)),this.$r=new $h,this.Ur=new e_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ad(this.serializer),this.Gr=new Sc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===se&&en("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ze(ke.FAILED_PRECONDITION,oa);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new F(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var o=(0,a.A)(function*(h){if(r.started)return e(h)});return function(h){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,a.A)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,a.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Uc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if($n(e))return we("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return we("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Vc(e).get("owner").next(r=>et.resolve(this.vi(r)))}Ci(e){return Uc(e).delete(this.clientId)}Fi(){var e=this;return(0,a.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const h=Bi(o,"clientMetadata");return h.U().next(_=>{const b=e.xi(_,18e5),x=_.filter(L=>-1===b.indexOf(L));return et.forEach(x,L=>h.delete(L.clientId)).next(()=>x)})}).catch(()=>[]);if(e.Vi)for(const o of r)e.Vi.removeItem(e.Oi(o.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?et.resolve(!0):Vc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Ze(ke.FAILED_PRECONDITION,oa);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uc(e).U().next(o=>void 0===this.xi(o,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(r=>(this.isPrimary!==r&&we("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,a.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new Vo(r,F.oe);return e.bi(o).next(()=>e.Ci(o))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(o=>this.Mi(o.updateTimeMs,r)&&!this.Ni(o.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Uc(e).U().next(r=>this.xi(r,18e5).map(o=>o.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return cl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sp(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return cc.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,o){we("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",_=17===(L=this.hi)?Lo:16===L?ts:15===L?ws:14===L?Wi:13===L?Tr:12===L?Kr:11===L?Br:void Mt();var L;let b;return this.Ri.runTransaction(e,h,_,x=>(b=new Vo(x,this.Qr?this.Qr.next():F.oe),"readwrite-primary"===r?this.wi(b).next(L=>!!L||this.Si(b)).next(L=>{if(!L)throw en(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ze(ke.FAILED_PRECONDITION,tr);return o(b)}).next(L=>this.Di(b).next(()=>L)):this.Ki(b).next(()=>o(b)))).then(x=>(b.raiseOnCommittedEvent(),x))}Ki(e){return Vc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ze(ke.FAILED_PRECONDITION,oa)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vc(e).put("owner",r)}static D(){return de.D()}bi(e){const r=Vc(e);return r.get("owner").next(o=>this.vi(o)?(we("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):et.resolve())}Mi(e,r){const o=Date.now();return!(e<o-r||e>o&&(en(`Detected an update time that is in the future: ${e} > ${o}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,me.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const o=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return we("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return en("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){en("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vc(d){return Bi(d,"owner")}function Uc(d){return Bi(d,"clientMetadata")}function Od(d,e){let r=d.projectId;return d.isDefaultDatabase||(r+="."+d.database),"firestore/"+e+"/"+r+"/"}class lp{constructor(e,r,o,h){this.targetId=e,this.fromCache=r,this.$i=o,this.Ui=h}static Wi(e,r){let o=pr(),h=pr();for(const _ of r.docChanges)switch(_.type){case 0:o=o.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new lp(e,r.fromCache,o,h)}}class hl{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Sg{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,me.nr)()?8:xe((0,me.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,o,h){const _={result:null};return this.Yi(e,r).next(b=>{_.result=b}).next(()=>{if(!_.result)return this.Zi(e,r,h,o).next(b=>{_.result=b})}).next(()=>{if(_.result)return;const b=new hl;return this.Xi(e,r,b).next(x=>{if(_.result=x,this.zi)return this.es(e,r,b,x.size)})}).next(()=>_.result)}es(e,r,o,h){return o.documentReadCount<this.ji?(Dt()<=be.$b.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Ji(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),et.resolve()):(Dt()<=be.$b.DEBUG&&we("QueryEngine","Query:",Ji(r),"scans",o.documentReadCount,"local documents and returns",h,"documents as results."),o.documentReadCount>this.Hi*h?(Dt()<=be.$b.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Ji(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(r))):et.resolve())}Yi(e,r){if(j(r))return et.resolve(null);let o=gn(r);return this.indexManager.getIndexType(e,o).next(h=>0===h?null:(null!==r.limit&&1===h&&(r=hs(r,null,"F"),o=gn(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(_=>{const b=pr(..._);return this.Ji.getDocuments(e,b).next(x=>this.indexManager.getMinOffset(e,o).next(L=>{const K=this.ts(r,x);return this.ns(r,K,b,L.readTime)?this.Yi(e,hs(r,null,"F")):this.rs(e,K,r,L)}))})))}Zi(e,r,o,h){return j(r)||h.isEqual(Ut.min())?et.resolve(null):this.Ji.getDocuments(e,o).next(_=>{const b=this.ts(r,_);return this.ns(r,b,o,h)?et.resolve(null):(Dt()<=be.$b.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Ji(r)),this.rs(e,b,r,ui(h,-1)).next(x=>x))})}ts(e,r){let o=new wr(fs(e));return r.forEach((h,_)=>{ho(e,_)&&(o=o.add(_))}),o}ns(e,r,o,h){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const _="F"===e.limitType?r.last():r.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}Xi(e,r,o){return Dt()<=be.$b.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Ji(r)),this.Ji.getDocumentsMatchingQuery(e,r,hn.min(),o)}rs(e,r,o,h){return this.Ji.getDocumentsMatchingQuery(e,o,h).next(_=>(r.forEach(b=>{_=_.insert(b.key,b)}),_))}}class vo{constructor(e,r,o,h){this.persistence=e,this.ss=r,this.serializer=h,this.os=new qr(Ft),this._s=new Ui(_=>ds(_),wo),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pd(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Nd(d,e,r,o){return new vo(d,e,r,o)}function fc(d,e){return kd.apply(this,arguments)}function kd(){return(kd=(0,a.A)(function*(d,e){const r=lt(d);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let h;return r.mutationQueue.getAllMutationBatches(o).next(_=>(h=_,r.ls(e),r.mutationQueue.getAllMutationBatches(o))).next(_=>{const b=[],x=[];let L=pr();for(const K of h){b.push(K.batchId);for(const se of K.mutations)L=L.add(se.key)}for(const K of _){x.push(K.batchId);for(const se of K.mutations)L=L.add(se.key)}return r.localDocuments.getDocuments(o,L).next(K=>({hs:K,removedBatchIds:b,addedBatchIds:x}))})})})).apply(this,arguments)}function Fd(d){const e=lt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Xh(d,e,r){let o=pr(),h=pr();return r.forEach(_=>o=o.add(_)),e.getEntries(d,o).next(_=>{let b=is();return r.forEach((x,L)=>{const K=_.get(x);L.isFoundDocument()!==K.isFoundDocument()&&(h=h.add(x)),L.isNoDocument()&&L.version.isEqual(Ut.min())?(e.removeEntry(x,L.readTime),b=b.insert(x,L)):!K.isValidDocument()||L.version.compareTo(K.version)>0||0===L.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(L),b=b.insert(x,L)):we("LocalStore","Ignoring outdated watch update for ",x,". Current version:",K.version," Watch version:",L.version)}),{Ps:b,Is:h}})}function dp(d,e){const r=lt(d);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function jc(d,e){const r=lt(d);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let h;return r.Ur.getTargetData(o,e).next(_=>_?(h=_,et.resolve(h)):r.Ur.allocateTargetId(o).next(b=>(h=new N(e,b,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,h).next(()=>h))))}).then(o=>{const h=r.os.get(o.targetId);return(null===h||o.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(e,o.targetId)),o})}function Yl(d,e,r){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,a.A)(function*(d,e,r){const o=lt(d),h=o.os.get(e),_=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",_,b=>o.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!$n(b))throw b;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.os=o.os.remove(e),o._s.delete(h.target)})).apply(this,arguments)}function pc(d,e,r){const o=lt(d);let h=Ut.min(),_=pr();return o.persistence.runTransaction("Execute query","readwrite",b=>function(L,K,se){const ve=lt(L),Be=ve._s.get(se);return void 0!==Be?et.resolve(ve.os.get(Be)):ve.Ur.getTargetData(K,se)}(o,b,gn(e)).next(x=>{if(x)return h=x.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(b,x.targetId).next(L=>{_=L})}).next(()=>o.ss.getDocumentsMatchingQuery(b,e,r?h:Ut.min(),r?_:pr())).next(x=>(Vd(o,Fl(e),x),{documents:x,Ts:_})))}function Qh(d,e){const r=lt(d),o=lt(r.Ur),h=r.os.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",_=>o.ot(_,e).next(b=>b?b.target:null))}function ro(d,e){const r=lt(d),o=r.us.get(e)||Ut.min();return r.persistence.runTransaction("Get new document changes","readonly",h=>r.cs.getAllFromCollectionGroup(h,e,ui(o,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Vd(r,e,h),h))}function Vd(d,e,r){let o=d.us.get(e)||Ut.min();r.forEach((h,_)=>{_.readTime.compareTo(o)>0&&(o=_.readTime)}),d.us.set(e,o)}function Ud(){return(Ud=(0,a.A)(function*(d,e,r,o){const h=lt(d);let _=pr(),b=is();for(const K of r){const se=e.Es(K.metadata.name);K.document&&(_=_.add(se));const ve=e.ds(K);ve.setReadTime(e.As(K.metadata.readTime)),b=b.insert(se,ve)}const x=h.cs.newChangeBuffer({trackRemovals:!0}),L=yield jc(h,(se=o,gn(J(on.fromString(`__bundle__/docs/${se}`)))));var se;return h.persistence.runTransaction("Apply bundle documents","readwrite",K=>Xh(K,x,b).next(se=>(x.apply(K),se)).next(se=>h.Ur.removeMatchingKeysForTargetId(K,L.targetId).next(()=>h.Ur.addMatchingKeys(K,_,L.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(K,se.Ps,se.Is)).next(()=>se.Ps)))})).apply(this,arguments)}function Jh(d,e){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,a.A)(function*(d,e,r=pr()){const o=yield jc(d,gn(mi(e.bundledQuery))),h=lt(d);return h.persistence.runTransaction("Save named query","readwrite",_=>{const b=ss(e.readTime);if(o.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(_,e);const x=o.withResumeToken(xi.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(x.targetId,x),h.Ur.updateTargetData(_,x).next(()=>h.Ur.removeMatchingKeysForTargetId(_,o.targetId)).next(()=>h.Ur.addMatchingKeys(_,r,o.targetId)).next(()=>h.Gr.saveNamedQuery(_,e))})})).apply(this,arguments)}function ju(d,e){return`firestore_clients_${d}_${e}`}function jd(d,e,r){let o=`firestore_mutations_${d}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Bd(d,e){return`firestore_targets_${d}_${e}`}class Zh{constructor(e,r,o,h){this.user=e,this.batchId=r,this.state=o,this.error=h}static Rs(e,r,o){const h=JSON.parse(o);let _,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(_=new Ze(h.error.code,h.error.message))),b?new Zh(e,r,h.state,_):(en("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ma{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Rs(e,r){const o=JSON.parse(r);let h,_="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return _&&o.error&&(_="string"==typeof o.error.message&&"string"==typeof o.error.code,_&&(h=new Ze(o.error.code,o.error.message))),_?new ma(e,o.state,h):(en("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bc{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const o=JSON.parse(r);let h="object"==typeof o&&o.activeTargetIds instanceof Array,_=Do();for(let b=0;h&&b<o.activeTargetIds.length;++b)h=ot(o.activeTargetIds[b]),_=_.add(o.activeTargetIds[b]);return h?new Bc(e,_):(en("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class T{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new T(r.clientId,r.onlineState):(en("SharedClientState",`Failed to parse online state: ${e}`),null)}}class m{constructor(){this.activeTargetIds=Do()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,r,o,h,_){this.window=e,this.ui=r,this.persistenceKey=o,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new qr(Ft),this.started=!1,this.bs=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Ds=ju(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new m),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,a.A)(function*(){const r=yield e.syncEngine.Qi();for(const h of r){if(h===e.ps)continue;const _=e.getItem(ju(e.persistenceKey,h));if(_){const b=Bc.Rs(h,_);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const o=e.storage.getItem(e.xs);if(o){const h=e.Ls(o);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((o,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,o){this.qs(e,r,o),this.Qs(e)}addLocalQueryTarget(e,r=!0){let o="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(Bd(this.persistenceKey,e));if(h){const _=ma.Rs(e,h);_&&(o=_.state)}}return r&&this.Ks.fs(e),this.Ns(),o}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Bd(this.persistenceKey,e))}updateQueryState(e,r,o){this.$s(e,r,o)}handleUserChange(e,r,o){r.forEach(h=>{this.Qs(h)}),this.currentUser=e,o.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return we("SharedClientState","READ",e,r),r}setItem(e,r){we("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){we("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const o=e;if(o.storageArea===this.storage){if(we("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Ds)return void en("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,a.A)(function*(){if(r.started){if(null!==o.key)if(r.Cs.test(o.key)){if(null==o.newValue){const h=r.Gs(o.key);return r.zs(h,null)}{const h=r.js(o.key,o.newValue);if(h)return r.zs(h.clientId,h)}}else if(r.Fs.test(o.key)){if(null!==o.newValue){const h=r.Hs(o.key,o.newValue);if(h)return r.Js(h)}}else if(r.Ms.test(o.key)){if(null!==o.newValue){const h=r.Ys(o.key,o.newValue);if(h)return r.Zs(h)}}else if(o.key===r.xs){if(null!==o.newValue){const h=r.Ls(o.newValue);if(h)return r.Bs(h)}}else if(o.key===r.vs){const h=function(b){let x=F.oe;if(null!=b)try{const L=JSON.parse(b);jt("number"==typeof L),x=L}catch(L){en("SharedClientState","Failed to read sequence number from WebStorage",L)}return x}(o.newValue);h!==F.oe&&r.sequenceNumberHandler(h)}else if(o.key===r.Os){const h=r.Xs(o.newValue);yield Promise.all(h.map(_=>r.syncEngine.eo(_)))}}else r.bs.push(o)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,o){const h=new Zh(this.currentUser,e,r,o),_=jd(this.persistenceKey,this.currentUser,e);this.setItem(_,h.Vs())}Qs(e){const r=jd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,o){const h=Bd(this.persistenceKey,e),_=new ma(e,r,o);this.setItem(h,_.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const o=this.Gs(e);return Bc.Rs(o,r)}Hs(e,r){const o=this.Fs.exec(e),h=Number(o[1]);return Zh.Rs(new Je(void 0!==o[2]?o[2]:null),h,r)}Ys(e,r){const o=this.Ms.exec(e),h=Number(o[1]);return ma.Rs(h,r)}Ls(e){return T.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,a.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);we("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const o=r?this.Ss.insert(e,r):this.Ss.remove(e),h=this.ks(this.Ss),_=this.ks(o),b=[],x=[];return _.forEach(L=>{h.has(L)||b.push(L)}),h.forEach(L=>{_.has(L)||x.push(L)}),this.syncEngine.io(b,x).then(()=>{this.Ss=o})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=Do();return e.forEach((o,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class S{constructor(){this.so=new m,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,o){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X{_o(e){}shutdown(){}}class he{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ge=null;function It(){return null===Ge?Ge=268435456+Math.round(2147483648*Math.random()):Ge++,"0x"+Ge.toString(16)}const Ht={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const xn="WebChannelConnection";class Hr extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${h}/databases/${_}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${_}`}get Fo(){return!1}Mo(r,o,h,_,b){const x=It(),L=this.xo(r,o.toUriEncodedString());we("RestConnection",`Sending RPC '${r}' ${x}:`,L,h);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,_,b),this.No(r,L,K,h).then(se=>(we("RestConnection",`Received RPC '${r}' ${x}: `,se),se),se=>{throw mn("RestConnection",`RPC '${r}' ${x} failed with error: `,se,"url: ",L,"request:",h),se})}Lo(r,o,h,_,b,x){return this.Mo(r,o,h,_,b)}Oo(r,o,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+We,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((_,b)=>r[b]=_),h&&h.headers.forEach((_,b)=>r[b]=_)}xo(r,o){return`${this.Do}/v1/${o}:${Ht[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,o,h){const _=It();return new Promise((b,x)=>{const L=new pe;L.setWithCredentials(!0),L.listenOnce(Tt.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case wt.NO_ERROR:const se=L.getResponseJson();we(xn,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(se)),b(se);break;case wt.TIMEOUT:we(xn,`RPC '${e}' ${_} timed out`),x(new Ze(ke.DEADLINE_EXCEEDED,"Request time out"));break;case wt.HTTP_ERROR:const ve=L.getStatus();if(we(xn,`RPC '${e}' ${_} failed with status:`,ve,"response text:",L.getResponseText()),ve>0){let Be=L.getResponseJson();Array.isArray(Be)&&(Be=Be[0]);const _t=Be?.error;if(_t&&_t.status&&_t.message){const $t=function(Zt){const Xn=Zt.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(Xn)>=0?Xn:ke.UNKNOWN}(_t.status);x(new Ze($t,_t.message))}else x(new Ze(ke.UNKNOWN,"Server responded with status "+L.getStatus()))}else x(new Ze(ke.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{we(xn,`RPC '${e}' ${_} completed.`)}});const K=JSON.stringify(h);we(xn,`RPC '${e}' ${_} sending request:`,h),L.send(r,"POST",K,o,15)})}Bo(e,r,o){const h=It(),_=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Le(),x=Pt(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(L.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(L.useFetchStreams=!0),this.Oo(L.initMessageHeaders,r,o),L.encodeInitMessageHeaders=!0;const se=_.join("");we(xn,`Creating RPC '${e}' stream ${h}: ${se}`,L);const ve=b.createWebChannel(se,L);let Be=!1,_t=!1;const $t=new Sn({Io:Zt=>{_t?we(xn,`Not sending because RPC '${e}' stream ${h} is closed:`,Zt):(Be||(we(xn,`Opening RPC '${e}' stream ${h} transport.`),ve.open(),Be=!0),we(xn,`RPC '${e}' stream ${h} sending:`,Zt),ve.send(Zt))},To:()=>ve.close()}),un=(Zt,Xn,cr)=>{Zt.listen(Xn,er=>{try{cr(er)}catch(Or){setTimeout(()=>{throw Or},0)}})};return un(ve,$e.EventType.OPEN,()=>{_t||(we(xn,`RPC '${e}' stream ${h} transport opened.`),$t.yo())}),un(ve,$e.EventType.CLOSE,()=>{_t||(_t=!0,we(xn,`RPC '${e}' stream ${h} transport closed`),$t.So())}),un(ve,$e.EventType.ERROR,Zt=>{_t||(_t=!0,mn(xn,`RPC '${e}' stream ${h} transport errored:`,Zt),$t.So(new Ze(ke.UNAVAILABLE,"The operation could not be completed")))}),un(ve,$e.EventType.MESSAGE,Zt=>{var Xn;if(!_t){const cr=Zt.data[0];jt(!!cr);const Or=cr.error||(null===(Xn=cr[0])||void 0===Xn?void 0:Xn.error);if(Or){we(xn,`RPC '${e}' stream ${h} received error:`,Or);const Ni=Or.status;let ni=function(ze){const at=Dr[ze];if(void 0!==at)return to(at)}(Ni),st=Or.message;void 0===ni&&(ni=ke.INTERNAL,st="Unknown error status: "+Ni+" with message "+Or.message),_t=!0,$t.So(new Ze(ni,st)),ve.close()}else we(xn,`RPC '${e}' stream ${h} received:`,cr),$t.bo(cr)}}),un(x,St.STAT_EVENT,Zt=>{Zt.stat===vt.PROXY?we(xn,`RPC '${e}' stream ${h} detected buffering proxy`):Zt.stat===vt.NOPROXY&&we(xn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{$t.wo()},0),$t}}function qo(){return typeof window<"u"?window:null}function Ma(){return typeof document<"u"?document:null}function Js(d){return new jh(d,!0)}class $d{constructor(e,r,o=1e3,h=1.5,_=6e4){this.ui=e,this.timerId=r,this.ko=o,this.qo=h,this.Qo=_,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),h=Math.max(0,r-o);h>0&&we("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Hd{constructor(e,r,o,h,_,b,x,L){this.ui=e,this.Ho=o,this.Jo=h,this.connection=_,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=x,this.listener=L,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $d(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,a.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,a.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var o=this;return(0,a.A)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==e?o.t_.reset():r&&r.code===ke.RESOURCE_EXHAUSTED?(en(r.toString()),en("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):r&&r.code===ke.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,h])=>{this.Yo===r&&this.P_(o,h)},o=>{e(()=>{const h=new Ze(ke.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(h)})})}P_(e,r){const o=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{o(()=>this.I_(h))}),this.stream.onMessage(h=>{o(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,a.A)(function*(){e.state=0,e.start()}))}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gd extends Hd{constructor(e,r,o,h,_,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,h,b),this.serializer=_}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function Du(d,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Mt(),h=e.targetChange.targetIds||[],_=function(K,se){return K.useProto3Json?(jt(void 0===se||"string"==typeof se),xi.fromBase64String(se||"")):(jt(void 0===se||se instanceof Buffer||se instanceof Uint8Array),xi.fromUint8Array(se||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,x=b&&function(K){const se=void 0===K.code?ke.UNKNOWN:to(K.code);return new Ze(se,K.message||"")}(b);r=new Ul(o,h,_,x||null)}else if("documentChange"in e){const o=e.documentChange,h=zo(d,o.document.name),_=ss(o.document.updateTime),b=o.document.createTime?ss(o.document.createTime):Ut.min(),x=new Me({mapValue:{fields:o.document.fields}}),L=gt.newFoundDocument(h,_,b,x);r=new Da(o.targetIds||[],o.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const o=e.documentDelete,h=zo(d,o.document),_=o.readTime?ss(o.readTime):Ut.min(),b=gt.newNoDocument(h,_);r=new Da([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,h=zo(d,o.document);r=new Da([],o.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Mt();{const o=e.filter,{count:h=0,unchangedNames:_}=o,b=new Uh(h,_);r=new Tu(o.targetId,b)}}var K;return r}(this.serializer,e),o=function(_){if(!("targetChange"in _))return Ut.min();const b=_.targetChange;return b.targetIds&&b.targetIds.length?Ut.min():b.readTime?ss(b.readTime):Ut.min()}(e);return this.listener.d_(r,o)}A_(e){const r={};r.database=oc(this.serializer),r.addTarget=function(_,b){let x;const L=b.target;if(x=ec(L)?{documents:mo(_,L)}:{query:xs(_,L)._t},x.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){x.resumeToken=Au(_,b.resumeToken);const K=wu(_,b.expectedCount);null!==K&&(x.expectedCount=K)}else if(b.snapshotVersion.compareTo(Ut.min())>0){x.readTime=Go(_,b.snapshotVersion.toTimestamp());const K=wu(_,b.expectedCount);null!==K&&(x.expectedCount=K)}return x}(this.serializer,e);const o=function il(d,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.a_(r)}R_(e){const r={};r.database=oc(this.serializer),r.removeTarget=e,this.a_(r)}}class xg extends Hd{constructor(e,r,o,h,_,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,h,b),this.serializer=_}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return jt(!!e.streamToken),this.lastStreamToken=e.streamToken,jt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function ys(d,e){return d&&d.length>0?(jt(void 0!==e),d.map(r=>function(h,_){let b=ss(h.updateTime?h.updateTime:_);return b.isEqual(Ut.min())&&(b=ss(_)),new $(b,h.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=ss(e.commitTime);return this.listener.g_(o,r)}p_(){const e={};e.database=oc(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>wc(this.serializer,o))};this.a_(r)}}class ef extends class{}{constructor(e,r,o,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new Ze(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,o,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,b])=>this.connection.Mo(e,Hl(r,o),h,_,b)).catch(_=>{throw"FirebaseError"===_.name?(_.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Ze(ke.UNKNOWN,_.toString())})}Lo(e,r,o,h,_){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,x])=>this.connection.Lo(e,Hl(r,o),h,b,x,_)).catch(b=>{throw"FirebaseError"===b.name?(b.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new Ze(ke.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Bu{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(en(r),this.D_=!1):we("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Mg{constructor(e,r,o,h,_){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=_,this.k_._o(x=>{o.enqueueAndForget((0,a.A)(function*(){var L;Ra(b)&&(we("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,a.A)(function*(se){const ve=lt(se);ve.L_.add(4),yield $u(ve),ve.q_.set("Unknown"),ve.L_.delete(4),yield Xl(ve)}),function K(se){return L.apply(this,arguments)})(b))}))}),this.q_=new Bu(o,h)}}function Xl(d){return tf.apply(this,arguments)}function tf(){return(tf=(0,a.A)(function*(d){if(Ra(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function $u(d){return zd.apply(this,arguments)}function zd(){return(zd=(0,a.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function Wd(d,e){const r=lt(d);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),fp(r)?qd(r):Jd(r).r_()&&Kd(r,e))}function $c(d,e){const r=lt(d),o=Jd(r);r.N_.delete(e),o.r_()&&hp(r,e),0===r.N_.size&&(o.r_()?o.o_():Ra(r)&&r.q_.set("Unknown"))}function Kd(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const r=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Jd(d).A_(e)}function hp(d,e){d.Q_.xe(e),Jd(d).R_(e)}function qd(d){d.Q_=new go({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),Jd(d).start(),d.q_.v_()}function fp(d){return Ra(d)&&!Jd(d).n_()&&d.N_.size>0}function Ra(d){return 0===lt(d).L_.size}function Rg(d){d.Q_=void 0}function r_(d){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,a.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function pp(d){return za.apply(this,arguments)}function za(){return(za=(0,a.A)(function*(d){d.N_.forEach((e,r)=>{Kd(d,e)})})).apply(this,arguments)}function Ny(d,e){return i_.apply(this,arguments)}function i_(){return(i_=(0,a.A)(function*(d,e){Rg(d),fp(d)?(d.q_.M_(e),qd(d)):d.q_.set("Unknown")})).apply(this,arguments)}function fl(d,e,r){return nf.apply(this,arguments)}function nf(){return nf=(0,a.A)(function*(d,e,r){if(d.q_.set("Online"),e instanceof Ul&&2===e.state&&e.cause)try{yield(o=(0,a.A)(function*(_,b){const x=b.cause;for(const L of b.targetIds)_.N_.has(L)&&(yield _.remoteSyncer.rejectListen(L,x),_.N_.delete(L),_.Q_.removeTarget(L))}),function h(_,b){return o.apply(this,arguments)})(d,e)}catch(o){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Xd(d,o)}else if(e instanceof Da?d.Q_.Ke(e):e instanceof Tu?d.Q_.He(e):d.Q_.We(e),!r.isEqual(Ut.min()))try{const o=yield Fd(d.localStore);r.compareTo(o)>=0&&(yield function(_,b){const x=_.Q_.rt(b);return x.targetChanges.forEach((L,K)=>{if(L.resumeToken.approximateByteSize()>0){const se=_.N_.get(K);se&&_.N_.set(K,se.withResumeToken(L.resumeToken,b))}}),x.targetMismatches.forEach((L,K)=>{const se=_.N_.get(L);if(!se)return;_.N_.set(L,se.withResumeToken(xi.EMPTY_BYTE_STRING,se.snapshotVersion)),hp(_,L);const ve=new N(se.target,L,K,se.sequenceNumber);Kd(_,ve)}),_.remoteSyncer.applyRemoteEvent(x)}(d,r))}catch(o){we("RemoteStore","Failed to raise snapshot:",o),yield Xd(d,o)}var o}),nf.apply(this,arguments)}function Xd(d,e,r){return Og.apply(this,arguments)}function Og(){return(Og=(0,a.A)(function*(d,e,r){if(!$n(e))throw e;d.L_.add(1),yield $u(d),d.q_.set("Offline"),r||(r=()=>Fd(d.localStore)),d.asyncQueue.enqueueRetryable((0,a.A)(function*(){we("RemoteStore","Retrying IndexedDB access"),yield r(),d.L_.delete(1),yield Xl(d)}))})).apply(this,arguments)}function Ng(d,e){return e().catch(r=>Xd(d,r,e))}function Hu(d){return rf.apply(this,arguments)}function rf(){return(rf=(0,a.A)(function*(d){const e=lt(d),r=Ql(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ky(e);)try{const h=yield dp(e.localStore,o);if(null===h){0===e.O_.length&&r.o_();break}o=h.batchId,s_(e,h)}catch(h){yield Xd(e,h)}aa(e)&&gp(e)})).apply(this,arguments)}function ky(d){return Ra(d)&&d.O_.length<10}function s_(d,e){d.O_.push(e);const r=Ql(d);r.r_()&&r.V_&&r.m_(e.mutations)}function aa(d){return Ra(d)&&!Ql(d).n_()&&d.O_.length>0}function gp(d){Ql(d).start()}function o_(d){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,a.A)(function*(d){Ql(d).p_()})).apply(this,arguments)}function xo(d){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,a.A)(function*(d){const e=Ql(d);for(const r of d.O_)e.m_(r.mutations)})).apply(this,arguments)}function a_(d,e,r){return mp.apply(this,arguments)}function mp(){return(mp=(0,a.A)(function*(d,e,r){const o=d.O_.shift(),h=Zo.from(o,e,r);yield Ng(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield Hu(d)})).apply(this,arguments)}function Fy(d,e){return _p.apply(this,arguments)}function _p(){return _p=(0,a.A)(function*(d,e){var r;e&&Ql(d).V_&&(yield(r=(0,a.A)(function*(h,_){if(sc(x=_.code)&&x!==ke.ABORTED){const b=h.O_.shift();Ql(h).s_(),yield Ng(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,_)),yield Hu(h)}var x}),function o(h,_){return r.apply(this,arguments)})(d,e)),aa(d)&&gp(d)}),_p.apply(this,arguments)}function c_(d,e){return gc.apply(this,arguments)}function gc(){return(gc=(0,a.A)(function*(d,e){const r=lt(d);r.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const o=Ra(r);r.L_.add(3),yield $u(r),o&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield Xl(r)})).apply(this,arguments)}function l_(d,e){return sf.apply(this,arguments)}function sf(){return(sf=(0,a.A)(function*(d,e){const r=lt(d);e?(r.L_.delete(2),yield Xl(r)):e||(r.L_.add(2),yield $u(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Jd(d){return d.K_||(d.K_=function(r,o,h){const _=lt(r);return _.w_(),new Gd(o,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:r_.bind(null,d),Ro:pp.bind(null,d),mo:Ny.bind(null,d),d_:fl.bind(null,d)}),d.B_.push(function(){var e=(0,a.A)(function*(r){r?(d.K_.s_(),fp(d)?qd(d):d.q_.set("Unknown")):(yield d.K_.stop(),Rg(d))});return function(r){return e.apply(this,arguments)}}())),d.K_}function Ql(d){return d.U_||(d.U_=function(r,o,h){const _=lt(r);return _.w_(),new xg(o,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:o_.bind(null,d),mo:Fy.bind(null,d),f_:xo.bind(null,d),g_:a_.bind(null,d)}),d.B_.push(function(){var e=(0,a.A)(function*(r){r?(d.U_.s_(),yield Hu(d)):(yield d.U_.stop(),d.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(r){return e.apply(this,arguments)}}())),d.U_}class af{constructor(e,r,o,h,_){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=h,this.removalCallback=_,this.deferred=new Jt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,h,_){const b=Date.now()+o,x=new af(e,r,b,h,_);return x.start(o),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ze(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jl(d,e){if(en("AsyncQueue",`${e}: ${d}`),$n(d))return new Ze(ke.UNAVAILABLE,`${e}: ${d}`);throw d}class Zd{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Bt.comparator(r.key,o.key):(r,o)=>Bt.comparator(r.key,o.key),this.keyedMap=Qs(),this.sortedSet=new qr(this.comparator)}static emptySet(e){return new Zd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Zd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=o.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Zd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class eh{constructor(){this.W_=new qr(Bt.comparator)}track(e){const r=e.doc.key,o=this.W_.get(r);o?0!==e.type&&3===o.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==o.type?this.W_=this.W_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.W_=this.W_.remove(r):1===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Mt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,o)=>{e.push(o)}),e}}class th{constructor(e,r,o,h,_,b,x,L,K){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=h,this.mutatedKeys=_,this.fromCache=b,this.syncStateChanged=x,this.excludesMetadataChanges=L,this.hasCachedResults=K}static fromInitialDocuments(e,r,o,h,_){const b=[];return r.forEach(x=>{b.push({type:0,doc:x})}),new th(e,r,Zd.emptySet(r),b,o,h,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==o[h].type||!r[h].doc.isEqual(o[h].doc))return!1;return!0}}class Ly{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class u_{constructor(){this.queries=kg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,o){const h=lt(r),_=h.queries;h.queries=kg(),_.forEach((b,x)=>{for(const L of x.j_)L.onError(o)})}(this,new Ze(ke.ABORTED,"Firestore shutting down"))}}function kg(){return new Ui(d=>eo(d),uo)}function yp(d,e){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,a.A)(function*(d,e){const r=lt(d);let o=3;const h=e.query;let _=r.queries.get(h);_?!_.H_()&&e.J_()&&(o=2):(_=new Ly,o=e.J_()?0:1);try{switch(o){case 0:_.z_=yield r.onListen(h,!0);break;case 1:_.z_=yield r.onListen(h,!1);break;case 2:yield r.onFirstRemoteStoreListen(h)}}catch(b){const x=Jl(b,`Initialization of query '${Ji(e.query)}' failed`);return void e.onError(x)}r.queries.set(h,_),_.j_.push(e),e.Z_(r.onlineState),_.z_&&e.X_(_.z_)&&vp(r)})).apply(this,arguments)}function nh(d,e){return zu.apply(this,arguments)}function zu(){return(zu=(0,a.A)(function*(d,e){const r=lt(d),o=e.query;let h=3;const _=r.queries.get(o);if(_){const b=_.j_.indexOf(e);b>=0&&(_.j_.splice(b,1),0===_.j_.length?h=e.J_()?0:1:!_.H_()&&e.J_()&&(h=2))}switch(h){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function Fg(d,e){const r=lt(d);let o=!1;for(const h of e){const b=r.queries.get(h.query);if(b){for(const x of b.j_)x.X_(h)&&(o=!0);b.z_=h}}o&&vp(r)}function cf(d,e,r){const o=lt(d),h=o.queries.get(e);if(h)for(const _ of h.j_)_.onError(r);o.queries.delete(e)}function vp(d){d.Y_.forEach(e=>{e.next()})}var Wu,Ep;(Ep=Wu||(Wu={})).ea="default",Ep.Cache="cache";class Lg{constructor(e,r,o){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const h of e.docChanges)3!==h.type&&o.push(h);e=new th(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wu.Cache}}class Vy{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class d_{constructor(e){this.serializer=e}Es(e){return zo(this.serializer,e)}ds(e){return e.metadata.exists?qt(this.serializer,e.document,!1):gt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return ss(e)}}class h_{constructor(e,r,o){this.ca=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lf(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const o=on.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,o=new d_(this.serializer);for(const h of e)if(h.metadata.queries){const _=o.Es(h.metadata.name);for(const b of h.metadata.queries){const x=(r.get(b)||pr()).add(_);r.set(b,x)}}return r}complete(){var e=this;return(0,a.A)(function*(){const r=yield function Vu(d,e,r,o){return Ud.apply(this,arguments)}(e.localStore,new d_(e.serializer),e.documents,e.ca.id),o=e.ha(e.documents);for(const h of e.queries)yield Jh(e.localStore,h,o.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function lf(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class bp{constructor(e){this.key=e}}class Cp{constructor(e){this.key=e}}class f_{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pr(),this.mutatedKeys=pr(),this.Aa=fs(e),this.Ra=new Zd(this.Aa)}get Va(){return this.Ta}ma(e,r){const o=r?r.fa:new eh,h=r?r.Ra:this.Ra;let _=r?r.mutatedKeys:this.mutatedKeys,b=h,x=!1;const L="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,K="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((se,ve)=>{const Be=h.get(se),_t=ho(this.query,ve)?ve:null,$t=!!Be&&this.mutatedKeys.has(Be.key),un=!!_t&&(_t.hasLocalMutations||this.mutatedKeys.has(_t.key)&&_t.hasCommittedMutations);let Zt=!1;Be&&_t?Be.data.isEqual(_t.data)?$t!==un&&(o.track({type:3,doc:_t}),Zt=!0):this.ga(Be,_t)||(o.track({type:2,doc:_t}),Zt=!0,(L&&this.Aa(_t,L)>0||K&&this.Aa(_t,K)<0)&&(x=!0)):!Be&&_t?(o.track({type:0,doc:_t}),Zt=!0):Be&&!_t&&(o.track({type:1,doc:Be}),Zt=!0,(L||K)&&(x=!0)),Zt&&(_t?(b=b.add(_t),_=un?_.add(se):_.delete(se)):(b=b.delete(se),_=_.delete(se)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const se="F"===this.query.limitType?b.last():b.first();b=b.delete(se.key),_=_.delete(se.key),o.track({type:1,doc:se})}return{Ra:b,fa:o,ns:x,mutatedKeys:_}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,h){const _=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((se,ve)=>function(_t,$t){const un=Zt=>{switch(Zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return un(_t)-un($t)}(se.type,ve.type)||this.Aa(se.doc,ve.doc)),this.pa(o),h=null!=h&&h;const x=r&&!h?this.ya():[],L=0===this.da.size&&this.current&&!h?1:0,K=L!==this.Ea;return this.Ea=L,0!==b.length||K?{snapshot:new th(this.query,e.Ra,_,b,e.mutatedKeys,0===L,K,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:x}:{wa:x}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new eh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pr(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return e.forEach(o=>{this.da.has(o)||r.push(new Cp(o))}),this.da.forEach(o=>{e.has(o)||r.push(new bp(o))}),r}ba(e){this.Ta=e.Ts,this.da=pr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return th.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Uy{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class Vg{constructor(e){this.key=e,this.va=!1}}class p_{constructor(e,r,o,h,_,b){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new Ui(x=>eo(x),uo),this.Ma=new Map,this.xa=new Set,this.Oa=new qr(Bt.comparator),this.Na=new Map,this.La=new cp,this.Ba={},this.ka=new Map,this.qa=Nc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Ku(d,e){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,a.A)(function*(d,e,r=!0){const o=Op(d);let h;const _=o.Fa.get(e);return _?(o.sharedClientState.addLocalQueryTarget(_.targetId),h=_.view.Da()):h=yield rh(o,e,r,!0),h})).apply(this,arguments)}function g_(d,e){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,a.A)(function*(d,e){const r=Op(d);yield rh(r,e,!0,!1)})).apply(this,arguments)}function rh(d,e,r,o){return ih.apply(this,arguments)}function ih(){return(ih=(0,a.A)(function*(d,e,r,o){const h=yield jc(d.localStore,gn(e)),_=h.targetId,b=d.sharedClientState.addLocalQueryTarget(_,r);let x;return o&&(x=yield jg(d,e,_,"current"===b,h.resumeToken)),d.isPrimaryClient&&r&&Wd(d.remoteStore,h),x})).apply(this,arguments)}function jg(d,e,r,o,h){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,a.A)(function*(d,e,r,o,h){d.Ka=(ve,Be,_t)=>{return($t=(0,a.A)(function*(Zt,Xn,cr,er){let Or=Xn.view.ma(cr);Or.ns&&(Or=yield pc(Zt.localStore,Xn.query,!1).then(({documents:Oe})=>Xn.view.ma(Oe,Or)));const Ni=er&&er.targetChanges.get(Xn.targetId),ni=er&&null!=er.targetMismatches.get(Xn.targetId),st=Xn.view.applyChanges(Or,Zt.isPrimaryClient,Ni,ni);return Zl(Zt,Xn.targetId,st.wa),st.snapshot}),function un(Zt,Xn,cr,er){return $t.apply(this,arguments)})(d,ve,Be,_t);var $t};const _=yield pc(d.localStore,e,!0),b=new f_(e,_.Ts),x=b.ma(_.documents),L=ea.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==d.onlineState,h),K=b.applyChanges(x,d.isPrimaryClient,L);Zl(d,r,K.wa);const se=new Uy(e,r,b);return d.Fa.set(e,se),d.Ma.has(r)?d.Ma.get(r).push(e):d.Ma.set(r,[e]),K.snapshot}),Tp.apply(this,arguments)}function m_(d,e,r){return wp.apply(this,arguments)}function wp(){return(wp=(0,a.A)(function*(d,e,r){const o=lt(d),h=o.Fa.get(e),_=o.Ma.get(h.targetId);if(_.length>1)return o.Ma.set(h.targetId,_.filter(b=>!uo(b,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(h.targetId),o.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Yl(o.localStore,h.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(h.targetId),r&&$c(o.remoteStore,h.targetId),gl(o,h.targetId)}).catch(Wn))):(gl(o,h.targetId),yield Yl(o.localStore,h.targetId,!0))})).apply(this,arguments)}function uf(d,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,a.A)(function*(d,e){const r=lt(d),o=r.Fa.get(e),h=r.Ma.get(o.targetId);r.isPrimaryClient&&1===h.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),$c(r.remoteStore,o.targetId))})).apply(this,arguments)}function pl(){return(pl=(0,a.A)(function*(d,e,r){const o=mf(d);try{const h=yield function(b,x){const L=lt(b),K=Gt.now(),se=x.reduce((_t,$t)=>_t.add($t.key),pr());let ve,Be;return L.persistence.runTransaction("Locally write mutations","readwrite",_t=>{let $t=is(),un=pr();return L.cs.getEntries(_t,se).next(Zt=>{$t=Zt,$t.forEach((Xn,cr)=>{cr.isValidDocument()||(un=un.add(Xn))})}).next(()=>L.localDocuments.getOverlayedDocuments(_t,$t)).next(Zt=>{ve=Zt;const Xn=[];for(const cr of x){const er=pi(cr,ve.get(cr.key).overlayedDocument);null!=er&&Xn.push(new ti(cr.key,er,Qe(er.value.mapValue),Y.exists(!0)))}return L.mutationQueue.addMutationBatch(_t,K,Xn,x)}).next(Zt=>{Be=Zt;const Xn=Zt.applyToLocalDocumentSet(ve,un);return L.documentOverlayCache.saveOverlays(_t,Zt.batchId,Xn)})}).then(()=>({batchId:Be.batchId,changes:Ia(ve)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(h.batchId),function(b,x,L){let K=b.Ba[b.currentUser.toKey()];K||(K=new qr(Ft)),K=K.insert(x,L),b.Ba[b.currentUser.toKey()]=K}(o,h.batchId,r),yield eu(o,h.changes),yield Hu(o.remoteStore)}catch(h){const _=Jl(h,"Failed to persist write");r.reject(_)}})).apply(this,arguments)}function $g(d,e){return df.apply(this,arguments)}function df(){return(df=(0,a.A)(function*(d,e){const r=lt(d);try{const o=yield function Pg(d,e){const r=lt(d),o=e.snapshotVersion;let h=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const b=r.cs.newChangeBuffer({trackRemovals:!0});h=r.os;const x=[];e.targetChanges.forEach((se,ve)=>{const Be=h.get(ve);if(!Be)return;x.push(r.Ur.removeMatchingKeys(_,se.removedDocuments,ve).next(()=>r.Ur.addMatchingKeys(_,se.addedDocuments,ve)));let _t=Be.withSequenceNumber(_.currentSequenceNumber);var un,Zt,Xn;null!==e.targetMismatches.get(ve)?_t=_t.withResumeToken(xi.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):se.resumeToken.approximateByteSize()>0&&(_t=_t.withResumeToken(se.resumeToken,o)),h=h.insert(ve,_t),Zt=_t,Xn=se,(0===(un=Be).resumeToken.approximateByteSize()||Zt.snapshotVersion.toMicroseconds()-un.snapshotVersion.toMicroseconds()>=3e8||Xn.addedDocuments.size+Xn.modifiedDocuments.size+Xn.removedDocuments.size>0)&&x.push(r.Ur.updateTargetData(_,_t))});let L=is(),K=pr();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&x.push(r.persistence.referenceDelegate.updateLimboDocument(_,se))}),x.push(Xh(_,b,e.documentUpdates).next(se=>{L=se.Ps,K=se.Is})),!o.isEqual(Ut.min())){const se=r.Ur.getLastRemoteSnapshotVersion(_).next(ve=>r.Ur.setTargetsMetadata(_,_.currentSequenceNumber,o));x.push(se)}return et.waitFor(x).next(()=>b.apply(_)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,L,K)).next(()=>L)}).then(_=>(r.os=h,_))}(r.localStore,e);e.targetChanges.forEach((h,_)=>{const b=r.Na.get(_);b&&(jt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?jt(b.va):h.removedDocuments.size>0&&(jt(b.va),b.va=!1))}),yield eu(r,o,e)}catch(o){yield Wn(o)}})).apply(this,arguments)}function sh(d,e,r){const o=lt(d);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const h=[];o.Fa.forEach((_,b)=>{const x=b.view.Z_(e);x.snapshot&&h.push(x.snapshot)}),function(b,x){const L=lt(b);L.onlineState=x;let K=!1;L.queries.forEach((se,ve)=>{for(const Be of ve.j_)Be.Z_(x)&&(K=!0)}),K&&vp(L)}(o.eventManager,e),h.length&&o.Ca.d_(h),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function __(d,e,r){return hf.apply(this,arguments)}function hf(){return(hf=(0,a.A)(function*(d,e,r){const o=lt(d);o.sharedClientState.updateQueryState(e,"rejected",r);const h=o.Na.get(e),_=h&&h.key;if(_){let b=new qr(Bt.comparator);b=b.insert(_,gt.newNoDocument(_,Ut.min()));const x=pr().add(_),L=new _s(Ut.min(),new Map,new qr(Ft),b,x);yield $g(o,L),o.Oa=o.Oa.remove(_),o.Na.delete(e),oh(o)}else yield Yl(o.localStore,e,!1).then(()=>gl(o,e,r)).catch(Wn)})).apply(this,arguments)}function Gc(d,e){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,a.A)(function*(d,e){const r=lt(d),o=e.batch.batchId;try{const h=yield function up(d,e){const r=lt(d);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const h=e.batch.keys(),_=r.cs.newChangeBuffer({trackRemovals:!0});return function(x,L,K,se){const ve=K.batch,Be=ve.keys();let _t=et.resolve();return Be.forEach($t=>{_t=_t.next(()=>se.getEntry(L,$t)).next(un=>{const Zt=K.docVersions.get($t);jt(null!==Zt),un.version.compareTo(Zt)<0&&(ve.applyToRemoteDocument(un,K),un.isValidDocument()&&(un.setReadTime(K.commitVersion),se.addEntry(un)))})}),_t.next(()=>x.mutationQueue.removeMutationBatch(L,ve))}(r,o,e,_).next(()=>_.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(x){let L=pr();for(let K=0;K<x.mutationResults.length;++K)x.mutationResults[K].transformResults.length>0&&(L=L.add(x.batch.mutations[K].key));return L}(e))).next(()=>r.localDocuments.getDocuments(o,h))})}(r.localStore,e);Sp(r,o,null),zg(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield eu(r,h)}catch(h){yield Wn(h)}})).apply(this,arguments)}function Dp(d,e,r){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,a.A)(function*(d,e,r){const o=lt(d);try{const h=yield function(b,x){const L=lt(b);return L.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let se;return L.mutationQueue.lookupMutationBatch(K,x).next(ve=>(jt(null!==ve),se=ve.keys(),L.mutationQueue.removeMutationBatch(K,ve))).next(()=>L.mutationQueue.performConsistencyCheck(K)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(K,se,x)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,se)).next(()=>L.localDocuments.getDocuments(K,se))})}(o.localStore,e);Sp(o,e,r),zg(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield eu(o,h)}catch(h){yield Wn(h)}})).apply(this,arguments)}function v_(){return(v_=(0,a.A)(function*(d,e){const r=lt(d);Ra(r.remoteStore)||we("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(b){const x=lt(b);return x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>x.mutationQueue.getHighestUnacknowledgedBatchId(L))}(r.localStore);if(-1===o)return void e.resolve();const h=r.ka.get(o)||[];h.push(e),r.ka.set(o,h)}catch(o){const h=Jl(o,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function zg(d,e){(d.ka.get(e)||[]).forEach(r=>{r.resolve()}),d.ka.delete(e)}function Sp(d,e,r){const o=lt(d);let h=o.Ba[o.currentUser.toKey()];if(h){const _=h.get(e);_&&(r?_.reject(r):_.resolve(),h=h.remove(e)),o.Ba[o.currentUser.toKey()]=h}}function gl(d,e,r=null){d.sharedClientState.removeLocalQueryTarget(e);for(const o of d.Ma.get(e))d.Fa.delete(o),r&&d.Ca.$a(o,r);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(o=>{d.La.containsKey(o)||Pp(d,o)})}function Pp(d,e){d.xa.delete(e.path.canonicalString());const r=d.Oa.get(e);null!==r&&($c(d.remoteStore,r),d.Oa=d.Oa.remove(e),d.Na.delete(r),oh(d))}function Zl(d,e,r){for(const o of r)o instanceof bp?(d.La.addReference(o.key,e),jy(d,o)):o instanceof Cp?(we("SyncEngine","Document no longer in limbo: "+o.key),d.La.removeReference(o.key,e),d.La.containsKey(o.key)||Pp(d,o.key)):Mt()}function jy(d,e){const r=e.key,o=r.path.canonicalString();d.Oa.get(r)||d.xa.has(o)||(we("SyncEngine","New document in limbo: "+r),d.xa.add(o),oh(d))}function oh(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const r=new Bt(on.fromString(e)),o=d.qa.next();d.Na.set(o,new Vg(r)),d.Oa=d.Oa.insert(r,o),Wd(d.remoteStore,new N(gn(J(r.path)),o,"TargetPurposeLimboResolution",F.oe))}}function eu(d,e,r){return E_.apply(this,arguments)}function E_(){return E_=(0,a.A)(function*(d,e,r){const o=lt(d),h=[],_=[],b=[];var x;o.Fa.isEmpty()||(o.Fa.forEach((x,L)=>{b.push(o.Ka(L,e,r).then(K=>{var se;if((K||r)&&o.isPrimaryClient){const ve=K?!K.fromCache:null===(se=r?.targetChanges.get(L.targetId))||void 0===se?void 0:se.current;o.sharedClientState.updateQueryState(L.targetId,ve?"current":"not-current")}if(K){h.push(K);const ve=lp.Wi(L.targetId,K);_.push(ve)}}))}),yield Promise.all(b),o.Ca.d_(h),yield(x=(0,a.A)(function*(K,se){const ve=lt(K);try{yield ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",Be=>et.forEach(se,_t=>et.forEach(_t.$i,$t=>ve.persistence.referenceDelegate.addReference(Be,_t.targetId,$t)).next(()=>et.forEach(_t.Ui,$t=>ve.persistence.referenceDelegate.removeReference(Be,_t.targetId,$t)))))}catch(Be){if(!$n(Be))throw Be;we("LocalStore","Failed to update sequence numbers: "+Be)}for(const Be of se){const _t=Be.targetId;if(!Be.fromCache){const $t=ve.os.get(_t),Zt=$t.withLastLimboFreeSnapshotVersion($t.snapshotVersion);ve.os=ve.os.insert(_t,Zt)}}}),function L(K,se){return x.apply(this,arguments)})(o.localStore,_))}),E_.apply(this,arguments)}function ml(d,e){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,a.A)(function*(d,e){const r=lt(d);if(!r.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const o=yield fc(r.localStore,e);r.currentUser=e,(_=r).ka.forEach(x=>{x.forEach(L=>{L.reject(new Ze(ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.ka.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield eu(r,o.hs)}var _})).apply(this,arguments)}function ah(d,e){const r=lt(d),o=r.Na.get(e);if(o&&o.va)return pr().add(o.key);{let h=pr();const _=r.Ma.get(e);if(!_)return h;for(const b of _){const x=r.Fa.get(b);h=h.unionWith(x.view.Va)}return h}}function xp(d,e){return ff.apply(this,arguments)}function ff(){return(ff=(0,a.A)(function*(d,e){const r=lt(d),o=yield pc(r.localStore,e.query,!0),h=e.view.ba(o);return r.isPrimaryClient&&Zl(r,e.targetId,h.wa),h})).apply(this,arguments)}function b_(d,e){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,a.A)(function*(d,e){const r=lt(d);return ro(r.localStore,e).then(o=>eu(r,o))})).apply(this,arguments)}function C_(d,e,r,o){return _l.apply(this,arguments)}function _l(){return(_l=(0,a.A)(function*(d,e,r,o){const h=lt(d),_=yield function(x,L){const K=lt(x),se=lt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",ve=>se.Mn(ve,L).next(Be=>Be?K.localDocuments.getDocuments(ve,Be):et.resolve(null)))}(h.localStore,e);var L;null!==_?("pending"===r?yield Hu(h.remoteStore):"acknowledged"===r||"rejected"===r?(Sp(h,e,o||null),zg(h,e),L=e,lt(lt(h.localStore).mutationQueue).On(L)):Mt(),yield eu(h,_)):we("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Kg(){return(Kg=(0,a.A)(function*(d,e){const r=lt(d);if(Op(r),mf(r),!0===e&&!0!==r.Qa){const o=r.sharedClientState.getAllActiveQueryTargets(),h=yield qg(r,o.toArray());r.Qa=!0,yield l_(r.remoteStore,!0);for(const _ of h)Wd(r.remoteStore,_)}else if(!1===e&&!1!==r.Qa){const o=[];let h=Promise.resolve();r.Ma.forEach((_,b)=>{r.sharedClientState.isLocalQueryTarget(b)?o.push(b):h=h.then(()=>(gl(r,b),Yl(r.localStore,b,!0))),$c(r.remoteStore,b)}),yield h,yield qg(r,o),function(b){const x=lt(b);x.Na.forEach((L,K)=>{$c(x.remoteStore,K)}),x.La.pr(),x.Na=new Map,x.Oa=new qr(Bt.comparator)}(r),r.Qa=!1,yield l_(r.remoteStore,!1)}})).apply(this,arguments)}function qg(d,e,r){return pf.apply(this,arguments)}function pf(){return(pf=(0,a.A)(function*(d,e,r){const o=lt(d),h=[],_=[];for(const b of e){let x;const L=o.Ma.get(b);if(L&&0!==L.length){x=yield jc(o.localStore,gn(L[0]));for(const K of L){const se=o.Fa.get(K),ve=yield xp(o,se);ve.snapshot&&_.push(ve.snapshot)}}else{const K=yield Qh(o.localStore,b);x=yield jc(o.localStore,K),yield jg(o,Yg(K),b,!1,x.resumeToken)}h.push(x)}return o.Ca.d_(_),h})).apply(this,arguments)}function Yg(d){return W(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function ca(d){return r=lt(d).localStore,lt(lt(r).persistence).Qi();var r}function qu(d,e,r,o){return gf.apply(this,arguments)}function gf(){return(gf=(0,a.A)(function*(d,e,r,o){const h=lt(d);if(h.Qa)return void we("SyncEngine","Ignoring unexpected query state notification.");const _=h.Ma.get(e);if(_&&_.length>0)switch(r){case"current":case"not-current":{const b=yield ro(h.localStore,Fl(_[0])),x=_s.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,xi.EMPTY_BYTE_STRING);yield eu(h,b,x);break}case"rejected":yield Yl(h.localStore,e,!0),gl(h,e,o);break;default:Mt()}})).apply(this,arguments)}function By(d,e,r){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,a.A)(function*(d,e,r){const o=Op(d);if(o.Qa){for(const h of e){if(o.Ma.has(h)&&o.sharedClientState.isActiveQueryTarget(h)){we("SyncEngine","Adding an already active target "+h);continue}const _=yield Qh(o.localStore,h),b=yield jc(o.localStore,_);yield jg(o,Yg(_),b.targetId,!1,b.resumeToken),Wd(o.remoteStore,b)}for(const h of r)o.Ma.has(h)&&(yield Yl(o.localStore,h,!1).then(()=>{$c(o.remoteStore,h),gl(o,h)}).catch(Wn))}})).apply(this,arguments)}function Op(d){const e=lt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=$g.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ah.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__.bind(null,e),e.Ca.d_=Fg.bind(null,e.eventManager),e.Ca.$a=cf.bind(null,e.eventManager),e}function mf(d){const e=lt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gc.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dp.bind(null,e),e}let Yu=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var o=this;return(0,a.A)(function*(){o.serializer=Js(r.databaseInfo.databaseId),o.sharedClientState=o.Wa(r),o.persistence=o.Ga(r),yield o.persistence.start(),o.localStore=o.za(r),o.gcScheduler=o.ja(r,o.localStore),o.indexBackfillerScheduler=o.Ha(r,o.localStore)})()}ja(r,o){return null}Ha(r,o){return null}za(r){return Nd(this.persistence,new Sg,r.initialUser,this.serializer)}Ga(r){return new Yh(xd.Zr,this.serializer)}Wa(r){return new S}terminate(){var r=this;return(0,a.A)(function*(){var o,h;null===(o=r.gcScheduler)||void 0===o||o.stop(),null===(h=r.indexBackfillerScheduler)||void 0===h||h.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class Np extends Yu{constructor(e,r,o){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,a.A)(function*(){yield r().call(o,e),yield o.Ja.initialize(o,e),yield mf(o.Ja.syncEngine),yield Hu(o.Ja.remoteStore),yield o.persistence.yi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Nd(this.persistence,new Sg,e.initialUser,this.serializer)}ja(e,r){return new Lc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const o=new P(r,this.persistence);return new k(e.asyncQueue,o)}Ga(e){const r=Od(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ms.withCacheSize(this.cacheSizeBytes):Ms.DEFAULT;return new Rd(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,qo(),Ma(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class kp extends Np{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,a.A)(function*(){yield r().call(o,e);const h=o.Ja.syncEngine;o.sharedClientState instanceof v&&(o.sharedClientState.syncEngine={no:C_.bind(null,h),ro:qu.bind(null,h),io:By.bind(null,h),Qi:ca.bind(null,h),eo:b_.bind(null,h)},yield o.sharedClientState.start()),yield o.persistence.yi(function(){var _=(0,a.A)(function*(b){yield function I_(d,e){return Kg.apply(this,arguments)}(o.Ja.syncEngine,b),o.gcScheduler&&(b&&!o.gcScheduler.started?o.gcScheduler.start():b||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(b&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():b||o.indexBackfillerScheduler.stop())});return function(b){return _.apply(this,arguments)}}())})()}Wa(e){const r=qo();if(!v.D(r))throw new Ze(ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Od(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(r,e.asyncQueue,o,e.clientId,e.initialUser)}}let ch=(()=>{class d{initialize(r,o){var h=this;return(0,a.A)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(o),h.remoteStore=h.createRemoteStore(o),h.eventManager=h.createEventManager(o),h.syncEngine=h.createSyncEngine(o,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=_=>sh(h.syncEngine,_,1),h.remoteStore.remoteSyncer.handleCredentialChange=ml.bind(null,h.syncEngine),yield l_(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new u_}createDatastore(r){const o=Js(r.databaseInfo.databaseId),h=new Hr(r.databaseInfo);return new ef(r.authCredentials,r.appCheckCredentials,h,o)}createRemoteStore(r){return h=this.localStore,_=this.datastore,b=r.asyncQueue,x=o=>sh(this.syncEngine,o,0),L=he.D()?new he:new X,new Mg(h,_,b,x,L);var h,_,b,x,L}createSyncEngine(r,o){return function(_,b,x,L,K,se,ve){const Be=new p_(_,b,x,L,K,se);return ve&&(Be.Qa=!0),Be}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,o)}terminate(){var r=this;return(0,a.A)(function*(){var o,h,_;yield(_=(0,a.A)(function*(x){const L=lt(x);we("RemoteStore","RemoteStore shutting down."),L.L_.add(5),yield $u(L),L.k_.shutdown(),L.q_.set("Unknown")}),function b(x){return _.apply(this,arguments)})(r.remoteStore),null===(o=r.datastore)||void 0===o||o.terminate(),null===(h=r.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function zc(d,e=10240){let r=0;return{read:()=>(0,a.A)(function*(){if(r<d.byteLength){const o={value:d.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,a.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Wa{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):en("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class Fp{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new Jt,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(o=>{o&&o.ua()?this.metadata.resolve(o.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.aa)}`))},o=>this.metadata.reject(o))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,a.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,a.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,a.A)(function*(){const r=yield e.nu();if(null===r)return null;const o=e.eu.decode(r),h=Number(o);isNaN(h)&&e.ru(`length string (${o}) is not valid number`);const _=yield e.iu(h);return new Vy(JSON.parse(_),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,a.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}iu(e){var r=this;return(0,a.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const o=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,a.A)(function*(){const r=yield e.Xa.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class yl{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,a.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Ze(ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(h=(0,a.A)(function*(b,x){const L=lt(b),K={documents:x.map(_t=>xr(L.serializer,_t))},se=yield L.Lo("BatchGetDocuments",L.serializer.databaseId,on.emptyPath(),K,x.length),ve=new Map;se.forEach(_t=>{const $t=function rl(d,e){return"found"in e?function(o,h){jt(!!h.found);const _=zo(o,h.found.name),b=ss(h.found.updateTime),x=h.found.createTime?ss(h.found.createTime):Ut.min(),L=new Me({mapValue:{fields:h.found.fields}});return gt.newFoundDocument(_,b,x,L)}(d,e):"missing"in e?function(o,h){jt(!!h.missing),jt(!!h.readTime);const _=zo(o,h.missing),b=ss(h.readTime);return gt.newNoDocument(_,b)}(d,e):Mt()}(L.serializer,_t);ve.set($t.key.toString(),$t)});const Be=[];return x.forEach(_t=>{const $t=ve.get(_t.toString());jt(!!$t),Be.push($t)}),Be}),function _(b,x){return h.apply(this,arguments)})(r.datastore,e);var h;return o.forEach(h=>r.recordVersion(h)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ss(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,a.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,h)=>{const _=Bt.fromPath(h);e.mutations.push(new Ho(_,e.precondition(_)))}),yield(o=(0,a.A)(function*(_,b){const x=lt(_),L={writes:b.map(K=>wc(x.serializer,K))};yield x.Mo("Commit",x.serializer.databaseId,on.emptyPath(),L)}),function h(_,b){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Mt();r=Ut.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new Ze(ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Ut.min())?Y.exists(!1):Y.updateTime(r):Y.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Ut.min()))throw new Ze(ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y.updateTime(r)}return Y.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class T_{constructor(e,r,o,h,_){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=h,this.deferred=_,this._u=o.maxAttempts,this.t_=new $d(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,a.A)(function*(){const r=new yl(e.datastore),o=e.cu(r);o&&o.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(_=>{e.lu(_)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!ne(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!sc(r)}return!1}}class w_{constructor(e,r,o,h,_){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=h,this.user=Je.UNAUTHENTICATED,this.clientId=Ln.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=_,this.authCredentials.start(o,function(){var x=(0,a.A)(function*(L){we("FirestoreClient","Received user=",L.uid),yield b.authCredentialListener(L),b.user=L});return function(L){return x.apply(this,arguments)}}()),this.appCheckCredentials.start(o,x=>(we("FirestoreClient","Received new app check token=",x),this.appCheckCredentialListener(x,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Jt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,a.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const h=Jl(o,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function A_(d,e){return D_.apply(this,arguments)}function D_(){return D_=(0,a.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const r=d.configuration;yield e.initialize(r);let o=r.initialUser;d.setCredentialChangeListener(function(){var h=(0,a.A)(function*(_){o.isEqual(_)||(yield fc(e.localStore,_),o=_)});return function(_){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),D_.apply(this,arguments)}function Gy(d,e){return _f.apply(this,arguments)}function _f(){return(_f=(0,a.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const r=yield yf(d);we("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,d.configuration),d.setCredentialChangeListener(o=>c_(e.remoteStore,o)),d.setAppCheckTokenChangeListener((o,h)=>c_(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function yf(d){return S_.apply(this,arguments)}function S_(){return(S_=(0,a.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{yield A_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===ke.FAILED_PRECONDITION||h.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;mn("Error using user provided cache. Falling back to memory cache: "+e),yield A_(d,new Yu)}}else we("FirestoreClient","Using default OfflineComponentProvider"),yield A_(d,new Yu);var h;return d._offlineComponents})).apply(this,arguments)}function Xg(d){return vf.apply(this,arguments)}function vf(){return(vf=(0,a.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),yield Gy(d,d._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),yield Gy(d,new ch))),d._onlineComponents})).apply(this,arguments)}function Ef(d){return yf(d).then(e=>e.persistence)}function vl(d){return yf(d).then(e=>e.localStore)}function P_(d){return Xg(d).then(e=>e.remoteStore)}function Qg(d){return Xg(d).then(e=>e.syncEngine)}function Wc(d){return ci.apply(this,arguments)}function ci(){return(ci=(0,a.A)(function*(d){const e=yield Xg(d),r=e.eventManager;return r.onListen=Ku.bind(null,e.syncEngine),r.onUnlisten=m_.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=g_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=uf.bind(null,e.syncEngine),r})).apply(this,arguments)}function Zg(d,e,r={}){const o=new Jt;return d.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function(_,b,x,L,K){const se=new Wa({next:Be=>{se.Za(),b.enqueueAndForget(()=>nh(_,ve));const _t=Be.docs.has(x);!_t&&Be.fromCache?K.reject(new Ze(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):_t&&Be.fromCache&&L&&"server"===L.source?K.reject(new Ze(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Be)},error:Be=>K.reject(Be)}),ve=new Lg(J(x.path),se,{includeMetadataChanges:!0,_a:!0});return yp(_,ve)}(yield Wc(d),d.asyncQueue,e,r,o)})),o.promise}function Lp(d,e,r={}){const o=new Jt;return d.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function(_,b,x,L,K){const se=new Wa({next:Be=>{se.Za(),b.enqueueAndForget(()=>nh(_,ve)),Be.fromCache&&"server"===L.source?K.reject(new Ze(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Be)},error:Be=>K.reject(Be)}),ve=new Lg(x,se,{includeMetadataChanges:!0,_a:!0});return yp(_,ve)}(yield Wc(d),d.asyncQueue,e,r,o)})),o.promise}function Qy(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const uh=new Map;function Qu(d,e,r){if(!r)throw new Ze(ke.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function em(d,e,r,o){if(!0===e&&!0===o)throw new Ze(ke.INVALID_ARGUMENT,`${d} and ${r} cannot be used together.`)}function tm(d){if(!Bt.isDocumentKey(d))throw new Ze(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function Vp(d){if(Bt.isDocumentKey(d))throw new Ze(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function dh(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(o=d).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof d?"a function":Mt()}function li(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new Ze(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=dh(d);throw new Ze(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return d}function nm(d,e){if(e<=0)throw new Ze(ke.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class rm{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ze(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ze(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}em("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Qy(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new Ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new Ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new Ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tu{constructor(e,r,o,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ze(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rm(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Te;switch(o.type){case"firstParty":return new Xe(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Ze(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,a.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=uh.get(r);o&&(we("ComponentProvider","Removing Datastore"),uh.delete(r),o.terminate())}(this),Promise.resolve()}}function Jy(d,e,r,o={}){var h;const _=(d=li(d,tu))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==_.host&&_.host!==b&&mn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},_),{host:b,ssl:!1})),o.mockUserToken){let x,L;if("string"==typeof o.mockUserToken)x=o.mockUserToken,L=Je.MOCK_USER;else{x=(0,me.Fy)(o.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const K=o.mockUserToken.sub||o.mockUserToken.user_id;if(!K)throw new Ze(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new Je(K)}d._authCredentials=new Ee(new je(x,L))}}class io{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class Os{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Os(this.firestore,e,this._key)}}class Ka extends io{constructor(e,r,o){super(e,r,J(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Os(this.firestore,null,new Bt(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function R_(d,e,...r){if(d=(0,me.Ku)(d),Qu("collection","path",e),d instanceof tu){const o=on.fromString(e,...r);return Vp(o),new Ka(d,null,o)}{if(!(d instanceof Os||d instanceof Ka))throw new Ze(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=d._path.child(on.fromString(e,...r));return Vp(o),new Ka(d.firestore,null,o)}}function O_(d,e){if(d=li(d,tu),Qu("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ze(ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new io(d,null,(o=e,new Qo(on.emptyPath(),o)));var o}function nu(d,e,...r){if(d=(0,me.Ku)(d),1===arguments.length&&(e=Ln.newId()),Qu("doc","path",e),d instanceof tu){const o=on.fromString(e,...r);return tm(o),new Os(d,null,new Bt(o))}{if(!(d instanceof Os||d instanceof Ka))throw new Ze(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=d._path.child(on.fromString(e,...r));return tm(o),new Os(d.firestore,d instanceof Ka?d.converter:null,new Bt(o))}}function Zy(d,e){return d=(0,me.Ku)(d),e=(0,me.Ku)(e),(d instanceof Os||d instanceof Ka)&&(e instanceof Os||e instanceof Ka)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function bf(d,e){return d=(0,me.Ku)(d),e=(0,me.Ku)(e),d instanceof io&&e instanceof io&&d.firestore===e.firestore&&uo(d._query,e._query)&&d.converter===e.converter}class Cf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new $d(this,"async_queue_retry"),this.Vu=()=>{const o=Ma();o&&we("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const r=Ma();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ma();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Jt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,a.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!$n(r))throw r;we("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(o=>{throw this.Eu=o,this.du=!1,en("INTERNAL UNHANDLED ERROR: ",function(b){let x=b.message||"";return b.stack&&(x=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),x}(o)),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(e,r,o){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const h=af.createAndSchedule(this,e,r,o,_=>this.yu(_));return this.Tu.push(h),h}fu(){this.Eu&&Mt()}verifyOperationInProgress(){}wu(){var e=this;return(0,a.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function im(d){return function(r,o){if("object"!=typeof r||null===r)return!1;const h=r;for(const _ of["next","error","complete"])if(_ in h&&"function"==typeof h[_])return!0;return!1}(d)}class sm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Jt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Up=-1;class Ei extends tu{constructor(e,r,o,h){super(e,r,o,h),this.type="firestore",this._queue=new Cf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,a.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new Cf(r),e._firestoreClient=void 0,yield r}})()}}function jp(d,e){const r="object"==typeof d?d:(0,le.getApp)(),o="string"==typeof d?d:e||"(default)",h=(0,le._getProvider)(r,"firestore").getImmediate({identifier:o});if(!h._initialized){const _=(0,me.yU)("firestore");_&&Jy(h,..._)}return h}function vs(d){if(d._terminated)throw new Ze(ke.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||om(d),d._firestoreClient}function om(d){var e,r,o;const h=d._freezeSettings(),_=(L=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new Pr(d._databaseId,L,d._persistenceKey,(se=h).host,se.ssl,se.experimentalForceLongPolling,se.experimentalAutoDetectLongPolling,Qy(se.experimentalLongPollingOptions),se.useFetchStreams));var L,se;d._componentsProvider||!(null===(r=h.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(o=h.localCache)||void 0===o)&&o._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new w_(d._authCredentials,d._appCheckCredentials,d._queue,_,d._componentsProvider&&function(x){const L=x?._online.build();return{_offline:x?._offline.build(L),_online:L}}(d._componentsProvider))}function am(d,e){mn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=d._freezeSettings();return N_(d,ch.provider,{build:o=>new Np(o,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function hh(d){return cm.apply(this,arguments)}function cm(){return(cm=(0,a.A)(function*(d){mn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();N_(d,ch.provider,{build:r=>new kp(r,e.cacheSizeBytes)})})).apply(this,arguments)}function N_(d,e,r){if((d=li(d,Ei))._firestoreClient||d._terminated)throw new Ze(ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new Ze(ke.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:r},om(d)}function ev(d){if(d._initialized&&!d._terminated)throw new Ze(ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Jt;return d._queue.enqueueAndForgetEvenWhileRestricted((0,a.A)(function*(){try{yield(r=(0,a.A)(function*(h){if(!de.D())return Promise.resolve();const _=h+"main";yield de.delete(_)}),function o(h){return r.apply(this,arguments)})(Od(d._databaseId,d._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function lm(d){return function(r){const o=new Jt;return r.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function y_(d,e){return v_.apply(this,arguments)}(yield Qg(r),o)})),o.promise}(vs(d=li(d,Ei)))}function k_(d){return function Jg(d){return d.asyncQueue.enqueue((0,a.A)(function*(){const e=yield Ef(d),r=yield P_(d);return e.setNetworkEnabled(!0),function(h){const _=lt(h);return _.L_.delete(0),Xl(_)}(r)}))}(vs(d=li(d,Ei)))}function tv(d){return function zy(d){return d.asyncQueue.enqueue((0,a.A)(function*(){const e=yield Ef(d),r=yield P_(d);return e.setNetworkEnabled(!1),(o=(0,a.A)(function*(_){const b=lt(_);b.L_.add(0),yield $u(b),b.q_.set("Offline")}),function h(_){return o.apply(this,arguments)})(r);var o}))}(vs(d=li(d,Ei)))}function dm(d,e){const r=vs(d=li(d,Ei)),o=new sm;return function qy(d,e,r,o){const h=function(b,x){let L;return L="string"==typeof b?Ed().encode(b):b,se=function(se,ve){if(se instanceof Uint8Array)return zc(se,void 0);if(se instanceof ArrayBuffer)return zc(new Uint8Array(se),void 0);if(se instanceof ReadableStream)return se.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new Fp(se,x);var se}(r,Js(e));d.asyncQueue.enqueueAndForget((0,a.A)(function*(){!function $y(d,e,r){const o=lt(d);var h;(h=(0,a.A)(function*(b,x,L){try{const K=yield x.getMetadata();if(yield function($t,un){const Zt=lt($t),Xn=ss(un.createTime);return Zt.persistence.runTransaction("hasNewerBundle","readonly",cr=>Zt.Gr.getBundleMetadata(cr,un.id)).then(cr=>!!cr&&cr.createTime.compareTo(Xn)>=0)}(b.localStore,K))return yield x.close(),L._completeWith({taskState:"Success",documentsLoaded:($t=K).totalDocuments,bytesLoaded:$t.totalBytes,totalDocuments:$t.totalDocuments,totalBytes:$t.totalBytes}),Promise.resolve(new Set);L._updateProgress(lf(K));const se=new h_(K,b.localStore,x.serializer);let ve=yield x.Ua();for(;ve;){const _t=yield se.la(ve);_t&&L._updateProgress(_t),ve=yield x.Ua()}const Be=yield se.complete();return yield eu(b,Be.Ia,void 0),yield function($t,un){const Zt=lt($t);return Zt.persistence.runTransaction("Save bundle","readwrite",Xn=>Zt.Gr.saveBundleMetadata(Xn,un))}(b.localStore,K),L._completeWith(Be.progress),Promise.resolve(Be.Pa)}catch(K){return mn("SyncEngine",`Loading bundle failed with ${K}`),L._failWith(K),Promise.resolve(new Set)}var $t}),function _(b,x,L){return h.apply(this,arguments)})(o,e,r).then(h=>{o.sharedClientState.notifyBundleLoaded(h)})}(yield Qg(d),h,o)}))}(r,d._databaseId,e,o),o}function g0(d,e){return function Yy(d,e){return d.asyncQueue.enqueue((0,a.A)(function*(){return function(o,h){const _=lt(o);return _.persistence.runTransaction("Get named query","readonly",b=>_.Gr.getNamedQuery(b,h))}(yield vl(d),e)}))}(vs(d=li(d,Ei)),e).then(r=>r?new io(d,null,r.query):null)}class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(xi.fromBase64String(e))}catch(r){throw new Ze(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ru(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ju{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Ze(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qa{constructor(e){this._methodName=e}}class iu{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ze(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ze(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}class su{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,h){if(o.length!==h.length)return!1;for(let _=0;_<o.length;++_)if(o[_]!==h[_])return!1;return!0}(this._values,e._values)}}const wf=/^__.*__$/;class ou{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new ti(e,this.data,this.fieldMask,r,this.fieldTransforms):new gr(e,this.data,r,this.fieldTransforms)}}class fh{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new ti(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Bp(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class au{constructor(e,r,o,h,_,b){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=h,void 0===_&&this.vu(),this.fieldTransforms=_||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new au(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:o,xu:!1});return h.Ou(e),h}Nu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:o,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Bp(this.Cu)&&wf.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Af{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Js(e)}Qu(e,r,o,h=!1){return new au({Cu:e,methodName:r,qu:o,path:Zn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ya(d){const e=d._freezeSettings(),r=Js(d._databaseId);return new Af(d._databaseId,!!e.ignoreUndefinedProperties,r)}function ph(d,e,r,o,h,_={}){const b=d.Qu(_.merge||_.mergeFields?2:0,e,r,h);Zs("Data must be an object, but it was:",b,o);const x=Hp(o,b);let L,K;if(_.merge)L=new di(b.fieldMask),K=b.fieldTransforms;else if(_.mergeFields){const se=[];for(const ve of _.mergeFields){const Be=Cl(e,ve,r);if(!b.contains(Be))throw new Ze(ke.INVALID_ARGUMENT,`Field '${Be}' is specified in your field mask but missing from your input data.`);Gp(se,Be)||se.push(Be)}L=new di(se),K=b.fieldTransforms.filter(ve=>L.covers(ve.field))}else L=null,K=b.fieldTransforms;return new ou(new Me(x),L,K)}class Zu extends qa{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zu}}function Df(d,e,r){return new au({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class F_ extends qa{_toFieldTransform(e){return new M(e.path,new nc)}isEqual(e){return e instanceof F_}}class Sf extends qa{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Df(this,e,!0),o=this.Ku.map(_=>El(_,r)),h=new $o(o);return new M(e.path,h)}isEqual(e){return e instanceof Sf&&(0,me.bD)(this.Ku,e.Ku)}}class ed extends qa{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Df(this,e,!0),o=this.Ku.map(_=>El(_,r)),h=new Aa(o);return new M(e.path,h)}isEqual(e){return e instanceof ed&&(0,me.bD)(this.Ku,e.Ku)}}class hm extends qa{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new ic(e.serializer,Ua(e.serializer,this.$u));return new M(e.path,r)}isEqual(e){return e instanceof hm&&this.$u===e.$u}}function $p(d,e,r,o){const h=d.Qu(1,e,r);Zs("Data must be an object, but it was:",h,o);const _=[],b=Me.empty();ii(o,(L,K)=>{const se=gh(e,L,r);K=(0,me.Ku)(K);const ve=h.Nu(se);if(K instanceof Zu)_.push(se);else{const Be=El(K,ve);null!=Be&&(_.push(se),b.set(se,Be))}});const x=new di(_);return new fh(b,x,h.fieldTransforms)}function fm(d,e,r,o,h,_){const b=d.Qu(1,e,r),x=[Cl(e,o,r)],L=[h];if(_.length%2!=0)throw new Ze(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Be=0;Be<_.length;Be+=2)x.push(Cl(e,_[Be])),L.push(_[Be+1]);const K=[],se=Me.empty();for(let Be=x.length-1;Be>=0;--Be)if(!Gp(K,x[Be])){const _t=x[Be];let $t=L[Be];$t=(0,me.Ku)($t);const un=b.Nu(_t);if($t instanceof Zu)K.push(_t);else{const Zt=El($t,un);null!=Zt&&(K.push(_t),se.set(_t,Zt))}}const ve=new di(K);return new fh(se,ve,b.fieldTransforms)}function L_(d,e,r,o=!1){return El(r,d.Qu(o?4:3,e))}function El(d,e){if(bl(d=(0,me.Ku)(d)))return Zs("Unsupported field value:",e,d),Hp(d,e);if(d instanceof qa)return function(o,h){if(!Bp(h.Cu))throw h.Bu(`${o._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${o._methodName}() is not currently supported inside arrays`);const _=o._toFieldTransform(h);_&&h.fieldTransforms.push(_)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(o,h){const _=[];let b=0;for(const x of o){let L=El(x,h.Lu(b));null==L&&(L={nullValue:"NULL_VALUE"}),_.push(L),b++}return{arrayValue:{values:_}}}(d,e)}return function(o,h){if(null===(o=(0,me.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Ua(h.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const _=Gt.fromDate(o);return{timestampValue:Go(h.serializer,_)}}if(o instanceof Gt){const _=new Gt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Go(h.serializer,_)}}if(o instanceof iu)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ru)return{bytesValue:Au(h.serializer,o._byteString)};if(o instanceof Os){const _=h.databaseId,b=o.firestore._databaseId;if(!b.isEqual(_))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:Ic(o.firestore._databaseId||h.databaseId,o._key.path)}}if(o instanceof su)return x=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(L=>{if("number"!=typeof L)throw x.Bu("VectorValues must only contain numeric values.");return Jo(x.serializer,L)})}}}}};var x;throw h.Bu(`Unsupported field value: ${dh(o)}`)}(d,e)}function Hp(d,e){const r={};return ms(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ii(d,(o,h)=>{const _=El(h,e.Mu(o));null!=_&&(r[o]=_)}),{mapValue:{fields:r}}}function bl(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Gt||d instanceof iu||d instanceof ru||d instanceof Os||d instanceof qa||d instanceof su)}function Zs(d,e,r){if(!bl(r)||"object"!=typeof(h=r)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const o=dh(r);throw e.Bu("an object"===o?d+" a custom object":d+" "+o)}var h}function Cl(d,e,r){if((e=(0,me.Ku)(e))instanceof Ju)return e._internalPath;if("string"==typeof e)return gh(d,e);throw mh("Field path arguments must be of type string or ",d,!1,void 0,r)}const pm=new RegExp("[~\\*/\\[\\]]");function gh(d,e,r){if(e.search(pm)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,r);try{return new Ju(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,r)}}function mh(d,e,r,o,h){const _=o&&!o.isEmpty(),b=void 0!==h;let x=`Function ${e}() called with invalid data`;r&&(x+=" (via `toFirestore()`)"),x+=". ";let L="";return(_||b)&&(L+=" (found",_&&(L+=` in field ${o}`),b&&(L+=` in document ${h}`),L+=")"),new Ze(ke.INVALID_ARGUMENT,x+d+L)}function Gp(d,e){return d.some(r=>r.isEqual(e))}class _h{constructor(e,r,o,h,_){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Os(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(td("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class gm extends _h{data(){return super.data()}}function td(d,e){return"string"==typeof e?gh(d,e):e instanceof Ju?e._internalPath:e._delegate._internalPath}function V_(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new Ze(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zp{}class Wp extends zp{}function rv(d,e,...r){let o=[];e instanceof zp&&o.push(e),o=o.concat(r),function(_){const b=_.filter(L=>L instanceof cu).length,x=_.filter(L=>L instanceof mm).length;if(b>1||b>0&&x>0)throw new Ze(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const h of o)d=h._apply(d);return d}class mm extends Wp{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new mm(e,r,o)}_apply(e){const r=this._parse(e);return vm(e._query,r),new io(e.firestore,e.converter,Xs(e._query,r))}_parse(e){const r=Ya(e.firestore);return function(_,b,x,L,K,se,ve){let Be;if(K.isKeyField()){if("array-contains"===se||"array-contains-any"===se)throw new Ze(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${se}' queries on documentId().`);if("in"===se||"not-in"===se){ov(ve,se);const _t=[];for(const $t of ve)_t.push(sv(L,_,$t));Be={arrayValue:{values:_t}}}else Be=sv(L,_,ve)}else"in"!==se&&"not-in"!==se&&"array-contains-any"!==se||ov(ve,se),Be=L_(x,"where",ve,"in"===se||"not-in"===se);return An.create(K,se,Be)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function iv(d,e,r){const o=e,h=td("where",d);return mm._create(h,o,r)}class cu extends zp{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new cu(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:Un.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(h,_){let b=h;const x=_.getFlattenedFilters();for(const L of x)vm(b,L),b=Xs(b,L)}(e._query,r),new io(e.firestore,e.converter,Xs(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yh extends Wp{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new yh(e,r)}_apply(e){const r=function(h,_,b){if(null!==h.startAt)throw new Ze(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new Ze(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jn(_,b)}(e._query,this._field,this._direction);return new io(e.firestore,e.converter,function(h,_){const b=h.explicitOrderBy.concat([_]);return new Qo(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,r))}}function m0(d,e="asc"){const r=e,o=td("orderBy",d);return yh._create(o,r)}class qp extends Wp{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new qp(e,r,o)}_apply(e){return new io(e.firestore,e.converter,hs(e._query,this._limit,this._limitType))}}function _0(d){return nm("limit",d),qp._create("limit",d,"F")}function y0(d){return nm("limitToLast",d),qp._create("limitToLast",d,"L")}class Pf extends Wp{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new Pf(e,r,o)}_apply(e){const r=ym(e,this.type,this._docOrFields,this._inclusive);return new io(e.firestore,e.converter,(_=r,new Qo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,_,h.endAt)));var h,_}}function Yp(...d){return Pf._create("startAt",d,!0)}function Xp(...d){return Pf._create("startAfter",d,!1)}class xf extends Wp{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new xf(e,r,o)}_apply(e){const r=ym(e,this.type,this._docOrFields,this._inclusive);return new io(e.firestore,e.converter,(_=r,new Qo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,_)));var h,_}}function U_(...d){return xf._create("endBefore",d,!1)}function _m(...d){return xf._create("endAt",d,!0)}function ym(d,e,r,o){if(r[0]=(0,me.Ku)(r[0]),r[0]instanceof _h)return function(_,b,x,L,K){if(!L)throw new Ze(ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${x}().`);const se=[];for(const ve of Ve(_))if(ve.field.isKeyField())se.push(Kn(b,L.key));else{const Be=L.data.field(ve.field);if(Vs(Be))throw new Ze(ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Be){const _t=ve.field.canonicalString();throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_t}' (used as the orderBy) does not exist.`)}se.push(Be)}return new Yt(se,K)}(d._query,d.firestore._databaseId,e,r[0]._document,o);{const h=Ya(d.firestore);return function(b,x,L,K,se,ve){const Be=b.explicitOrderBy;if(se.length>Be.length)throw new Ze(ke.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _t=[];for(let $t=0;$t<se.length;$t++){const un=se[$t];if(Be[$t].field.isKeyField()){if("string"!=typeof un)throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof un}`);if(!ue(b)&&-1!==un.indexOf("/"))throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${un}' contains a slash.`);const Zt=b.path.child(on.fromString(un));if(!Bt.isDocumentKey(Zt))throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${Zt}' is not because it contains an odd number of segments.`);const Xn=new Bt(Zt);_t.push(Kn(x,Xn))}else{const Zt=L_(L,K,un);_t.push(Zt)}}return new Yt(_t,ve)}(d._query,d.firestore._databaseId,h,e,r,o)}}function sv(d,e,r){if("string"==typeof(r=(0,me.Ku)(r))){if(""===r)throw new Ze(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ue(e)&&-1!==r.indexOf("/"))throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(on.fromString(r));if(!Bt.isDocumentKey(o))throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Kn(d,new Bt(o))}if(r instanceof Os)return Kn(d,r._key);throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(r)}.`)}function ov(d,e){if(!Array.isArray(d)||0===d.length)throw new Ze(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vm(d,e){const r=function(h,_){for(const b of h)for(const x of b.getFlattenedFilters())if(_.indexOf(x.op)>=0)return x.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Ze(ke.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Em{convertValue(e,r="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Mt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return ii(e,(h,_)=>{o[h]=this.convertValue(_,r)}),o}convertVectorValue(e){var r,o,h;const _=null===(h=null===(o=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===o?void 0:o.values)||void 0===h?void 0:h.map(b=>Jr(b.doubleValue));return new su(_)}convertGeoPoint(e){return new iu(Jr(e.latitude),Jr(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=To(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Us(e));default:return null}}convertTimestamp(e){const r=Ks(e);return new Gt(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=on.fromString(e);jt(w(o));const h=new hi(o.get(1),o.get(3)),_=new Bt(o.popFirst(5));return h.isEqual(r)||en(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),_}}function bm(d,e,r){let o;return o=d?r&&(r.merge||r.mergeFields)?d.toFirestore(e,r):d.toFirestore(e):e,o}class v0 extends Em{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Os(this.firestore,null,r)}}class Mf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lu extends _h{constructor(e,r,o,h,_,b){super(e,r,o,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(td("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class mc extends lu{data(e={}){return super.data(e)}}class Tl{constructor(e,r,o,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new Mf(h.hasPendingWrites,h.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new mc(this._firestore,this._userDataWriter,o.key,o,new Mf(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ze(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,_){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(x=>({type:"added",doc:new mc(h._firestore,h._userDataWriter,x.doc.key,x.doc,new Mf(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(x=>_||3!==x.type).map(x=>{const L=new mc(h._firestore,h._userDataWriter,x.doc.key,x.doc,new Mf(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter);let K=-1,se=-1;return 0!==x.type&&(K=b.indexOf(x.doc.key),b=b.delete(x.doc.key)),1!==x.type&&(b=b.add(x.doc),se=b.indexOf(x.doc.key)),{type:C0(x.type),doc:L,oldIndex:K,newIndex:se}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function C0(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}function I0(d,e){return d instanceof lu&&e instanceof lu?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Tl&&e instanceof Tl&&d._firestore===e._firestore&&bf(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function T0(d){d=li(d,Os);const e=li(d.firestore,Ei);return Zg(vs(e),d._key).then(r=>$_(e,d,r))}class wl extends Em{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Os(this.firestore,null,r)}}function Al(d){d=li(d,Os);const e=li(d.firestore,Ei),r=vs(e),o=new wl(e);return function Xu(d,e){const r=new Jt;return d.asyncQueue.enqueueAndForget((0,a.A)(function*(){return(o=(0,a.A)(function*(_,b,x){try{const L=yield function(se,ve){const Be=lt(se);return Be.persistence.runTransaction("read document","readonly",_t=>Be.localDocuments.getDocument(_t,ve))}(_,b);L.isFoundDocument()?x.resolve(L):L.isNoDocument()?x.resolve(null):x.reject(new Ze(ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const K=Jl(L,`Failed to get document '${b} from cache`);x.reject(K)}}),function h(_,b,x){return o.apply(this,arguments)})(yield vl(d),e,r);var o})),r.promise}(r,d._key).then(h=>new lu(e,o,d._key,h,new Mf(null!==h&&h.hasLocalMutations,!0),d.converter))}function lv(d){d=li(d,Os);const e=li(d.firestore,Ei);return Zg(vs(e),d._key,{source:"server"}).then(r=>$_(e,d,r))}function w0(d){d=li(d,io);const e=li(d.firestore,Ei),r=vs(e),o=new wl(e);return V_(d._query),Lp(r,d._query).then(h=>new Tl(e,o,d,h))}function VE(d){d=li(d,io);const e=li(d.firestore,Ei),r=vs(e),o=new wl(e);return function Wy(d,e){const r=new Jt;return d.asyncQueue.enqueueAndForget((0,a.A)(function*(){return(o=(0,a.A)(function*(_,b,x){try{const L=yield pc(_,b,!0),K=new f_(b,L.Ts),se=K.ma(L.documents),ve=K.applyChanges(se,!1);x.resolve(ve.snapshot)}catch(L){const K=Jl(L,`Failed to execute query '${b} against cache`);x.reject(K)}}),function h(_,b,x){return o.apply(this,arguments)})(yield vl(d),e,r);var o})),r.promise}(r,d._query).then(h=>new Tl(e,o,d,h))}function Mo(d){d=li(d,io);const e=li(d.firestore,Ei),r=vs(e),o=new wl(e);return Lp(r,d._query,{source:"server"}).then(h=>new Tl(e,o,d,h))}function A0(d,e,r){d=li(d,Os);const o=li(d.firestore,Ei),h=bm(d.converter,e,r);return vh(o,[ph(Ya(o),"setDoc",d._key,h,null!==d.converter,r).toMutation(d._key,Y.none())])}function j_(d,e,r,...o){d=li(d,Os);const h=li(d.firestore,Ei),_=Ya(h);let b;return b="string"==typeof(e=(0,me.Ku)(e))||e instanceof Ju?fm(_,"updateDoc",d._key,e,r,o):$p(_,"updateDoc",d._key,e),vh(h,[b.toMutation(d._key,Y.exists(!0))])}function D0(d){return vh(li(d.firestore,Ei),[new Ss(d._key,Y.none())])}function S0(d,e){const r=li(d.firestore,Ei),o=nu(d),h=bm(d.converter,e);return vh(r,[ph(Ya(d.firestore),"addDoc",o._key,h,null!==d.converter,{}).toMutation(o._key,Y.exists(!1))]).then(()=>o)}function B_(d,...e){var r,o,h;d=(0,me.Ku)(d);let _={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||im(e[b])||(_=e[b],b++);const x={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(im(e[b])){const ve=e[b];e[b]=null===(r=ve.next)||void 0===r?void 0:r.bind(ve),e[b+1]=null===(o=ve.error)||void 0===o?void 0:o.bind(ve),e[b+2]=null===(h=ve.complete)||void 0===h?void 0:h.bind(ve)}let L,K,se;if(d instanceof Os)K=li(d.firestore,Ei),se=J(d._key.path),L={next:ve=>{e[b]&&e[b]($_(K,d,ve))},error:e[b+1],complete:e[b+2]};else{const ve=li(d,io);K=li(ve.firestore,Ei),se=ve._query;const Be=new wl(K);L={next:_t=>{e[b]&&e[b](new Tl(K,Be,ve,_t))},error:e[b+1],complete:e[b+2]},V_(d._query)}return function(Be,_t,$t,un){const Zt=new Wa(un),Xn=new Lg(_t,Zt,$t);return Be.asyncQueue.enqueueAndForget((0,a.A)(function*(){return yp(yield Wc(Be),Xn)})),()=>{Zt.Za(),Be.asyncQueue.enqueueAndForget((0,a.A)(function*(){return nh(yield Wc(Be),Xn)}))}}(vs(K),se,x,L)}function uv(d,e){return function Ky(d,e){const r=new Wa(e);return d.asyncQueue.enqueueAndForget((0,a.A)(function*(){return h=yield Wc(d),_=r,lt(h).Y_.add(_),void _.next();var h,_})),()=>{r.Za(),d.asyncQueue.enqueueAndForget((0,a.A)(function*(){return h=yield Wc(d),_=r,void lt(h).Y_.delete(_);var h,_}))}}(vs(d=li(d,Ei)),im(e)?e:{next:e})}function vh(d,e){return function(o,h){const _=new Jt;return o.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function Bg(d,e,r){return pl.apply(this,arguments)}(yield Qg(o),h,_)})),_.promise}(vs(d),e)}function $_(d,e,r){const o=r.docs.get(e._key),h=new wl(d);return new lu(d,h,e._key,o,new Mf(r.hasPendingWrites,r.fromCache),e.converter)}const Zp={maxAttempts:5};class eg{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ya(e)}set(e,r,o){this._verifyNotCommitted();const h=uu(e,this._firestore),_=bm(h.converter,r,o),b=ph(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,o);return this._mutations.push(b.toMutation(h._key,Y.none())),this}update(e,r,o,...h){this._verifyNotCommitted();const _=uu(e,this._firestore);let b;return b="string"==typeof(r=(0,me.Ku)(r))||r instanceof Ju?fm(this._dataReader,"WriteBatch.update",_._key,r,o,h):$p(this._dataReader,"WriteBatch.update",_._key,r),this._mutations.push(b.toMutation(_._key,Y.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=uu(e,this._firestore);return this._mutations=this._mutations.concat(new Ss(r._key,Y.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ze(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uu(d,e){if((d=(0,me.Ku)(d)).firestore!==e)throw new Ze(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class _v extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=Ya(r)}get(r){const o=uu(r,this._firestore),h=new v0(this._firestore);return this._transaction.lookup([o._key]).then(_=>{if(!_||1!==_.length)return Mt();const b=_[0];if(b.isFoundDocument())return new _h(this._firestore,h,b.key,b,o.converter);if(b.isNoDocument())return new _h(this._firestore,h,o._key,null,o.converter);throw Mt()})}set(r,o,h){const _=uu(r,this._firestore),b=bm(_.converter,o,h),x=ph(this._dataReader,"Transaction.set",_._key,b,null!==_.converter,h);return this._transaction.set(_._key,x),this}update(r,o,h,..._){const b=uu(r,this._firestore);let x;return x="string"==typeof(o=(0,me.Ku)(o))||o instanceof Ju?fm(this._dataReader,"Transaction.update",b._key,o,h,_):$p(this._dataReader,"Transaction.update",b._key,o),this._transaction.update(b._key,x),this}delete(r){const o=uu(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=uu(e,this._firestore),o=new wl(this._firestore);return super.get(e).then(h=>new lu(this._firestore,o,r._key,h._document,new Mf(!1,!1),r.converter))}}function O0(d,e,r){d=li(d,Ei);const o=Object.assign(Object.assign({},Zp),r);return function(_){if(_.maxAttempts<1)throw new Ze(ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(_,b,x){const L=new Jt;return _.asyncQueue.enqueueAndForget((0,a.A)(function*(){const K=yield function lh(d){return Xg(d).then(e=>e.datastore)}(_);new T_(_.asyncQueue,K,x,b,L).au()})),L.promise}(vs(d),h=>e(new _v(d,h)),o)}function N0(){return new Zu("deleteField")}function k0(){return new F_("serverTimestamp")}function F0(...d){return new Sf("arrayUnion",d)}function yv(...d){return new ed("arrayRemove",d)}function jE(d){return new hm("increment",d)}!function(e,r=!0){We=le.SDK_VERSION,(0,le._registerComponent)(new s.uA("firestore",(o,{instanceIdentifier:h,options:_})=>{const b=o.getProvider("app").getImmediate(),x=new Ei(new Fe(o.getProvider("auth-internal")),new Cn(o.getProvider("app-check-internal")),function(K,se){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new Ze(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hi(K.options.projectId,se)}(b,h),b);return _=Object.assign({useFetchStreams:r},_),x._setSettings(_),x},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(ye,"4.7.3",e),(0,le.registerVersion)(ye,"4.7.3","esm2017")}()},4535:(nn,qe,U)=>{U.d(qe,{Ad:()=>Mn,D5:()=>pn,KR:()=>Mi,Mp:()=>us,Mx:()=>Qr,TZ:()=>Kt,UC:()=>ii,UY:()=>ur,XR:()=>Zr,ZH:()=>In,_w:()=>Kn,bp:()=>js,c7:()=>Rr,nb:()=>Vi,nw:()=>bn,p_:()=>Fn,qk:()=>oi,uj:()=>en,xc:()=>Vn,yb:()=>si});var a=U(467),le=U(7852),s=U(1076),be=U(1362);const me="firebasestorage.googleapis.com",De="storageBucket";class ee extends s.g{constructor(Q,Ie,Me=0){super(pe(Q),`Firebase Storage: ${Ie} (${pe(Q)})`),this.status_=Me,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ee.prototype)}get status(){return this.status_}set status(Q){this.status_=Q}_codeEquals(Q){return pe(Q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Q){this.customData.serverResponse=Q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var oe=function(Z){return Z.UNKNOWN="unknown",Z.OBJECT_NOT_FOUND="object-not-found",Z.BUCKET_NOT_FOUND="bucket-not-found",Z.PROJECT_NOT_FOUND="project-not-found",Z.QUOTA_EXCEEDED="quota-exceeded",Z.UNAUTHENTICATED="unauthenticated",Z.UNAUTHORIZED="unauthorized",Z.UNAUTHORIZED_APP="unauthorized-app",Z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Z.INVALID_CHECKSUM="invalid-checksum",Z.CANCELED="canceled",Z.INVALID_EVENT_NAME="invalid-event-name",Z.INVALID_URL="invalid-url",Z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Z.NO_DEFAULT_BUCKET="no-default-bucket",Z.CANNOT_SLICE_BLOB="cannot-slice-blob",Z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Z.NO_DOWNLOAD_URL="no-download-url",Z.INVALID_ARGUMENT="invalid-argument",Z.INVALID_ARGUMENT_COUNT="invalid-argument-count",Z.APP_DELETED="app-deleted",Z.INVALID_ROOT_OPERATION="invalid-root-operation",Z.INVALID_FORMAT="invalid-format",Z.INTERNAL_ERROR="internal-error",Z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Z}(oe||{});function pe(Z){return"storage/"+Z}function rt(){return new ee(oe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Pt(){return new ee(oe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Le(){return new ee(oe.CANCELED,"User canceled the upload/download.")}function it(){return new ee(oe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function en(Z){return new ee(oe.INVALID_ARGUMENT,Z)}function mn(){return new ee(oe.APP_DELETED,"The Firebase app was deleted.")}function ur(Z){return new ee(oe.INVALID_ROOT_OPERATION,"The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mt(Z,Q){return new ee(oe.INVALID_FORMAT,"String does not match format '"+Z+"': "+Q)}function jt(Z){throw new ee(oe.INTERNAL_ERROR,"Internal error: "+Z)}class Kt{constructor(Q,Ie){this.bucket=Q,this.path_=Ie}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o/"+Q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Q,Ie){let Me;try{Me=Kt.makeFromUrl(Q,Ie)}catch{return new Kt(Q,"")}if(""===Me.path)return Me;throw function Je(Z){return new ee(oe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Z+"'.")}(Q)}static makeFromUrl(Q,Ie){let Me=null;const Qe="([A-Za-z0-9.\\-_]+)",wn=new RegExp("^gs://"+Qe+"(/(.*))?$","i");function Jn(Yr){Yr.path_=decodeURIComponent(Yr.path)}const kn=Ie.replace(/[.]/g,"\\."),Ir=[{regex:wn,indices:{bucket:1,path:3},postModify:function gt(Yr){"/"===Yr.path.charAt(Yr.path.length-1)&&(Yr.path_=Yr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${kn}/v[A-Za-z0-9_]+/b/${Qe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Jn},{regex:new RegExp(`^https?://${Ie===me?"(?:storage.googleapis.com|storage.cloud.google.com)":Ie}/${Qe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Jn}];for(let Yr=0;Yr<Ir.length;Yr++){const ai=Ir[Yr],Nr=ai.regex.exec(Q);if(Nr){let Qi=Nr[ai.indices.path];Qi||(Qi=""),Me=new Kt(Nr[ai.indices.bucket],Qi),ai.postModify(Me);break}}if(null==Me)throw function ye(Z){return new ee(oe.INVALID_URL,"Invalid URL '"+Z+"'.")}(Q);return Me}}class lt{constructor(Q){this.promise_=Promise.reject(Q)}getPromise(){return this.promise_}cancel(Q=!1){}}function Ee(Z){return"string"==typeof Z||Z instanceof String}function Fe(Z){return tt()&&Z instanceof Blob}function tt(){return typeof Blob<"u"}function Xe(Z,Q,Ie,Me){if(Me<Q)throw en(`Invalid value for '${Z}'. Expected ${Q} or greater.`);if(Me>Ie)throw en(`Invalid value for '${Z}'. Expected ${Ie} or less.`)}function Nt(Z,Q,Ie){let Me=Q;return null==Ie&&(Me=`https://${Q}`),`${Ie}://${Me}/v0${Z}`}function Cn(Z){const Q=encodeURIComponent;let Ie="?";for(const Me in Z)Z.hasOwnProperty(Me)&&(Ie=Ie+(Q(Me)+"=")+Q(Z[Me])+"&");return Ie=Ie.slice(0,-1),Ie}var rr=function(Z){return Z[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",Z}(rr||{});function tn(Z,Q){const Ie=Z>=500&&Z<600,Qe=-1!==[408,429].indexOf(Z),gt=-1!==Q.indexOf(Z);return Ie||Qe||gt}class Ln{constructor(Q,Ie,Me,Qe,gt,Yt,wn,_n,Jn,Ar,kn,An=!0){this.url_=Q,this.method_=Ie,this.headers_=Me,this.body_=Qe,this.successCodes_=gt,this.additionalRetryCodes_=Yt,this.callback_=wn,this.errorCallback_=_n,this.timeout_=Jn,this.progressCallback_=Ar,this.connectionFactory_=kn,this.retry=An,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Un,$r)=>{this.resolve_=Un,this.reject_=$r,this.start_()})}start_(){const Ie=(Me,Qe)=>{const gt=this.resolve_,Yt=this.reject_,wn=Qe.connection;if(Qe.wasSuccessCode)try{const _n=this.callback_(wn,wn.getResponse());!function Jt(Z){return void 0!==Z}(_n)?gt():gt(_n)}catch(_n){Yt(_n)}else if(null!==wn){const _n=rt();_n.serverResponse=wn.getErrorText(),Yt(this.errorCallback_?this.errorCallback_(wn,_n):_n)}else Yt(Qe.canceled?this.appDelete_?mn():Le():Pt())};this.canceled_?Ie(0,new Ft(!1,null,!0)):this.backoffId_=function ke(Z,Q,Ie){let Me=1,Qe=null,gt=null,Yt=!1,wn=0;function _n(){return 2===wn}let Jn=!1;function Ar(...Ii){Jn||(Jn=!0,Q.apply(null,Ii))}function kn(Ii){Qe=setTimeout(()=>{Qe=null,Z(Un,_n())},Ii)}function An(){gt&&clearTimeout(gt)}function Un(Ii,...Xi){if(Jn)return void An();if(Ii)return An(),void Ar.call(null,Ii,...Xi);if(_n()||Yt)return An(),void Ar.call(null,Ii,...Xi);let Ir;Me<64&&(Me*=2),1===wn?(wn=2,Ir=0):Ir=1e3*(Me+Math.random()),kn(Ir)}let $r=!1;function Er(Ii){$r||($r=!0,An(),!Jn&&(null!==Qe?(Ii||(wn=2),clearTimeout(Qe),kn(0)):Ii||(wn=1)))}return kn(0),gt=setTimeout(()=>{Yt=!0,Er(!0)},Ie),Er}((Me,Qe)=>{if(Qe)return void Me(!1,new Ft(!1,null,!0));const gt=this.connectionFactory_();this.pendingConnection_=gt;const Yt=wn=>{null!==this.progressCallback_&&this.progressCallback_(wn.loaded,wn.lengthComputable?wn.total:-1)};null!==this.progressCallback_&&gt.addUploadProgressListener(Yt),gt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&gt.removeUploadProgressListener(Yt),this.pendingConnection_=null;const wn=gt.getErrorCode()===rr.NO_ERROR,_n=gt.getStatus();if(!wn||tn(_n,this.additionalRetryCodes_)&&this.retry){const Ar=gt.getErrorCode()===rr.ABORT;return void Me(!1,new Ft(!1,null,Ar))}const Jn=-1!==this.successCodes_.indexOf(_n);Me(!0,new Ft(Jn,gt))})},Ie,this.timeout_)}getPromise(){return this.promise_}cancel(Q){this.canceled_=!0,this.appDelete_=Q||!1,null!==this.backoffId_&&function Ze(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ft{constructor(Q,Ie,Me){this.wasSuccessCode=Q,this.connection=Ie,this.canceled=!!Me}}function Mr(...Z){const Q=function on(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Q){const Ie=new Q;for(let Me=0;Me<Z.length;Me++)Ie.append(Z[Me]);return Ie.getBlob()}if(tt())return new Blob(Z);throw new ee(oe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zn{constructor(Q,Ie){this.data=Q,this.contentType=Ie||null}}function In(Z,Q){switch(Z){case bn.RAW:return new zn(jr(Q));case bn.BASE64:case bn.BASE64URL:return new zn(Xr(Z,Q));case bn.DATA_URL:return new zn(function ui(Z){const Q=new Yn(Z);return Q.base64?Xr(bn.BASE64,Q.rest):function br(Z){let Q;try{Q=decodeURIComponent(Z)}catch{throw Mt(bn.DATA_URL,"Malformed data URL.")}return jr(Q)}(Q.rest)}(Q),function gs(Z){return new Yn(Z).contentType}(Q))}throw rt()}function jr(Z){const Q=[];for(let Ie=0;Ie<Z.length;Ie++){let Me=Z.charCodeAt(Ie);Me<=127?Q.push(Me):Me<=2047?Q.push(192|Me>>6,128|63&Me):55296==(64512&Me)?Ie<Z.length-1&&56320==(64512&Z.charCodeAt(Ie+1))?(Me=65536|(1023&Me)<<10|1023&Z.charCodeAt(++Ie),Q.push(240|Me>>18,128|Me>>12&63,128|Me>>6&63,128|63&Me)):Q.push(239,191,189):56320==(64512&Me)?Q.push(239,191,189):Q.push(224|Me>>12,128|Me>>6&63,128|63&Me)}return new Uint8Array(Q)}function Xr(Z,Q){switch(Z){case bn.BASE64:{const Qe=-1!==Q.indexOf("-"),gt=-1!==Q.indexOf("_");if(Qe||gt)throw Mt(Z,"Invalid character '"+(Qe?"-":"_")+"' found: is it base64url encoded?");break}case bn.BASE64URL:{const Qe=-1!==Q.indexOf("+"),gt=-1!==Q.indexOf("/");if(Qe||gt)throw Mt(Z,"Invalid character '"+(Qe?"+":"/")+"' found: is it base64 encoded?");Q=Q.replace(/-/g,"+").replace(/_/g,"/");break}}let Ie;try{Ie=function Bt(Z){if(typeof atob>"u")throw function we(Z){return new ee(oe.UNSUPPORTED_ENVIRONMENT,`${Z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Z)}(Q)}catch(Qe){throw Qe.message.includes("polyfill")?Qe:Mt(Z,"Invalid character found")}const Me=new Uint8Array(Ie.length);for(let Qe=0;Qe<Ie.length;Qe++)Me[Qe]=Ie.charCodeAt(Qe);return Me}class Yn{constructor(Q){this.base64=!1,this.contentType=null;const Ie=Q.match(/^data:([^,]+)?,/);if(null===Ie)throw Mt(bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Me=Ie[1]||null;null!=Me&&(this.base64=function hn(Z,Q){return Z.length>=Q.length&&Z.substring(Z.length-Q.length)===Q}(Me,";base64"),this.contentType=this.base64?Me.substring(0,Me.length-7):Me),this.rest=Q.substring(Q.indexOf(",")+1)}}class Qr{constructor(Q,Ie){let Me=0,Qe="";Fe(Q)?(this.data_=Q,Me=Q.size,Qe=Q.type):Q instanceof ArrayBuffer?(Ie?this.data_=new Uint8Array(Q):(this.data_=new Uint8Array(Q.byteLength),this.data_.set(new Uint8Array(Q))),Me=this.data_.length):Q instanceof Uint8Array&&(Ie?this.data_=Q:(this.data_=new Uint8Array(Q.length),this.data_.set(Q)),Me=Q.length),this.size_=Me,this.type_=Qe}size(){return this.size_}type(){return this.type_}slice(Q,Ie){if(Fe(this.data_)){const Qe=function Zn(Z,Q,Ie){return Z.webkitSlice?Z.webkitSlice(Q,Ie):Z.mozSlice?Z.mozSlice(Q,Ie):Z.slice?Z.slice(Q,Ie):null}(this.data_,Q,Ie);return null===Qe?null:new Qr(Qe)}{const Me=new Uint8Array(this.data_.buffer,Q,Ie-Q);return new Qr(Me,!0)}}static getBlob(...Q){if(tt()){const Ie=Q.map(Me=>Me instanceof Qr?Me.data_:Me);return new Qr(Mr.apply(null,Ie))}{const Ie=Q.map(Yt=>Ee(Yt)?In(bn.RAW,Yt).data:Yt.data_);let Me=0;Ie.forEach(Yt=>{Me+=Yt.byteLength});const Qe=new Uint8Array(Me);let gt=0;return Ie.forEach(Yt=>{for(let wn=0;wn<Yt.length;wn++)Qe[gt++]=Yt[wn]}),new Qr(Qe,!0)}}uploadData(){return this.data_}}function tr(Z){let Q;try{Q=JSON.parse(Z)}catch{return null}return function Te(Z){return"object"==typeof Z&&!Array.isArray(Z)}(Q)?Q:null}function Pi(Z){const Q=Z.lastIndexOf("/",Z.length-2);return-1===Q?Z:Z.slice(Q+1)}function et(Z,Q){return Q}class pt{constructor(Q,Ie,Me,Qe){this.server=Q,this.local=Ie||Q,this.writable=!!Me,this.xform=Qe||et}}let de=null;function yt(){if(de)return de;const Z=[];Z.push(new pt("bucket")),Z.push(new pt("generation")),Z.push(new pt("metageneration")),Z.push(new pt("name","fullPath",!0));const Ie=new pt("name");Ie.xform=function Q(gt,Yt){return function xe(Z){return!Ee(Z)||Z.length<2?Z:Pi(Z)}(Yt)},Z.push(Ie);const Qe=new pt("size");return Qe.xform=function Me(gt,Yt){return void 0!==Yt?Number(Yt):Yt},Z.push(Qe),Z.push(new pt("timeCreated")),Z.push(new pt("updated")),Z.push(new pt("md5Hash",null,!0)),Z.push(new pt("cacheControl",null,!0)),Z.push(new pt("contentDisposition",null,!0)),Z.push(new pt("contentEncoding",null,!0)),Z.push(new pt("contentLanguage",null,!0)),Z.push(new pt("contentType",null,!0)),Z.push(new pt("metadata","customMetadata",!0)),de=Z,de}function Fr(Z,Q,Ie){const Me=tr(Q);return null===Me?null:function $n(Z,Q,Ie){const Me={type:"file"},Qe=Ie.length;for(let gt=0;gt<Qe;gt++){const Yt=Ie[gt];Me[Yt.local]=Yt.xform(Me,Q[Yt.server])}return function Wt(Z,Q){Object.defineProperty(Z,"ref",{get:function Ie(){const gt=new Kt(Z.bucket,Z.fullPath);return Q._makeStorageReference(gt)}})}(Me,Z),Me}(Z,Me,Ie)}function sn(Z,Q){const Ie={},Me=Q.length;for(let Qe=0;Qe<Me;Qe++){const gt=Q[Qe];gt.writable&&(Ie[gt.server]=Z[gt.local])}return JSON.stringify(Ie)}const te="prefixes",k="items";class ne{constructor(Q,Ie,Me,Qe){this.url=Q,this.method=Ie,this.handler=Me,this.timeout=Qe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ge(Z){if(!Z)throw rt()}function ot(Z,Q){return function Ie(Me,Qe){const gt=Fr(Z,Qe,Q);return ge(null!==gt),gt}}function fn(Z){return function Q(Ie,Me){let Qe;return Qe=401===Ie.getStatus()?Ie.getErrorText().includes("Firebase App Check token is invalid")?function vt(){return new ee(oe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function wt(){return new ee(oe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Ie.getStatus()?function Tt(Z){return new ee(oe.QUOTA_EXCEEDED,"Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===Ie.getStatus()?function St(Z){return new ee(oe.UNAUTHORIZED,"User does not have permission to access '"+Z+"'.")}(Z.path):Me,Qe.status=Ie.getStatus(),Qe.serverResponse=Me.serverResponse,Qe}}function Dn(Z){const Q=fn(Z);return function Ie(Me,Qe){let gt=Q(Me,Qe);return 404===Me.getStatus()&&(gt=function $e(Z){return new ee(oe.OBJECT_NOT_FOUND,"Object '"+Z+"' does not exist.")}(Z.path)),gt.serverResponse=Qe.serverResponse,gt}}function vr(Z,Q,Ie){const Qe=Nt(Q.fullServerUrl(),Z.host,Z._protocol),Yt=Z.maxOperationRetryTime,wn=new ne(Qe,"GET",ot(Z,Ie),Yt);return wn.errorHandler=Dn(Q),wn}function cn(Z,Q,Ie,Me,Qe){const gt={};gt.prefix=Q.isRoot?"":Q.path+"/",Ie&&Ie.length>0&&(gt.delimiter=Ie),Me&&(gt.pageToken=Me),Qe&&(gt.maxResults=Qe);const wn=Nt(Q.bucketOnlyServerUrl(),Z.host,Z._protocol),Jn=Z.maxOperationRetryTime,Ar=new ne(wn,"GET",function At(Z,Q){return function Ie(Me,Qe){const gt=function F(Z,Q,Ie){const Me=tr(Ie);return null===Me?null:function P(Z,Q,Ie){const Me={prefixes:[],items:[],nextPageToken:Ie.nextPageToken};if(Ie[te])for(const Qe of Ie[te]){const gt=Qe.replace(/\/$/,""),Yt=Z._makeStorageReference(new Kt(Q,gt));Me.prefixes.push(Yt)}if(Ie[k])for(const Qe of Ie[k]){const gt=Z._makeStorageReference(new Kt(Q,Qe.name));Me.items.push(gt)}return Me}(Z,Q,Me)}(Z,Q,Qe);return ge(null!==gt),gt}}(Z,Q.bucket),Jn);return Ar.urlParams=gt,Ar.errorHandler=fn(Q),Ar}function ki(Z,Q,Ie){const Me=Object.assign({},Ie);return Me.fullPath=Z.path,Me.size=Q.size(),Me.contentType||(Me.contentType=function zi(Z,Q){return Z&&Z.contentType||Q&&Q.type()||"application/octet-stream"}(null,Q)),Me}class or{constructor(Q,Ie,Me,Qe){this.current=Q,this.total=Ie,this.finalized=!!Me,this.metadata=Qe||null}}function Fs(Z,Q){let Ie=null;try{Ie=Z.getResponseHeader("X-Goog-Upload-Status")}catch{ge(!1)}return ge(!!Ie&&-1!==(Q||["active"]).indexOf(Ie)),Ie}const Vn={STATE_CHANGED:"state_changed"},Mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dr(Z){switch(Z){case"running":case"pausing":case"canceling":return Mn.RUNNING;case"paused":return Mn.PAUSED;case"success":return Mn.SUCCESS;case"canceled":return Mn.CANCELED;default:return Mn.ERROR}}class Br{constructor(Q,Ie,Me){if(function je(Z){return"function"==typeof Z}(Q)||null!=Ie||null!=Me)this.next=Q,this.error=Ie??void 0,this.complete=Me??void 0;else{const gt=Q;this.next=gt.next,this.error=gt.error,this.complete=gt.complete}}}function Kr(Z){return(...Q)=>{Promise.resolve().then(()=>Z(...Q))}}let Tr=null;class Wi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rr.NO_ERROR,this.sendPromise_=new Promise(Q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rr.ABORT,Q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rr.NETWORK_ERROR,Q()}),this.xhr_.addEventListener("load",()=>{Q()})})}send(Q,Ie,Me,Qe){if(this.sent_)throw jt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Ie,Q,!0),void 0!==Qe)for(const gt in Qe)Qe.hasOwnProperty(gt)&&this.xhr_.setRequestHeader(gt,Qe[gt].toString());return void 0!==Me?this.xhr_.send(Me):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Q){return this.xhr_.getResponseHeader(Q)}addUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Q)}removeUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Q)}}class ws extends Wi{initXhr(){this.xhr_.responseType="text"}}function ts(){return Tr?Tr():new ws}class ii{constructor(Q,Ie,Me=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Q,this._blob=Ie,this._metadata=Me,this._mappings=yt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Qe=>{if(this._request=void 0,this._chunkMultiplier=1,Qe._codeEquals(oe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const gt=this.isExponentialBackoffExpired();if(tn(Qe.status,[])){if(!gt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Qe=Pt()}this._error=Qe,this._transition("error")}},this._metadataErrorHandler=Qe=>{this._request=void 0,Qe._codeEquals(oe.CANCELED)?this.completeTransitions_():(this._error=Qe,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Qe,gt)=>{this._resolve=Qe,this._reject=gt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Q=this._transferred;return Ie=>this._updateProgress(Q+Ie)}_shouldDoResumable(Q){return Q.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Q){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Ie,Me])=>{switch(this._state){case"running":Q(Ie,Me);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Q,Ie)=>{const Me=function Et(Z,Q,Ie,Me,Qe){const gt=Q.bucketOnlyServerUrl(),Yt=ki(Q,Me,Qe),wn={name:Yt.fullPath},_n=Nt(gt,Z.host,Z._protocol),Ar={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Me.size()}`,"X-Goog-Upload-Header-Content-Type":Yt.contentType,"Content-Type":"application/json; charset=utf-8"},kn=sn(Yt,Ie),$r=new ne(_n,"POST",function Un(Er){let Ii;Fs(Er);try{Ii=Er.getResponseHeader("X-Goog-Upload-URL")}catch{ge(!1)}return ge(Ee(Ii)),Ii},Z.maxUploadRetryTime);return $r.urlParams=wn,$r.headers=Ar,$r.body=kn,$r.errorHandler=fn(Q),$r}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Qe=this._ref.storage._makeRequest(Me,ts,Q,Ie);this._request=Qe,Qe.getPromise().then(gt=>{this._request=void 0,this._uploadUrl=gt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Q=this._uploadUrl;this._resolveToken((Ie,Me)=>{const Qe=function nt(Z,Q,Ie,Me){const _n=new ne(Ie,"POST",function gt(Jn){const Ar=Fs(Jn,["active","final"]);let kn=null;try{kn=Jn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ge(!1)}kn||ge(!1);const An=Number(kn);return ge(!isNaN(An)),new or(An,Me.size(),"final"===Ar)},Z.maxUploadRetryTime);return _n.headers={"X-Goog-Upload-Command":"query"},_n.errorHandler=fn(Q),_n}(this._ref.storage,this._ref._location,Q,this._blob),gt=this._ref.storage._makeRequest(Qe,ts,Ie,Me);this._request=gt,gt.getPromise().then(Yt=>{this._request=void 0,this._updateProgress(Yt.current),this._needToFetchStatus=!1,Yt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Q=262144*this._chunkMultiplier,Ie=new or(this._transferred,this._blob.size()),Me=this._uploadUrl;this._resolveToken((Qe,gt)=>{let Yt;try{Yt=function ln(Z,Q,Ie,Me,Qe,gt,Yt,wn){const _n=new or(0,0);if(Yt?(_n.current=Yt.current,_n.total=Yt.total):(_n.current=0,_n.total=Me.size()),Me.size()!==_n.total)throw function Dt(){return new ee(oe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Jn=_n.total-_n.current;let Ar=Jn;Qe>0&&(Ar=Math.min(Ar,Qe));const kn=_n.current;let Un="";Un=0===Ar?"finalize":Jn===Ar?"upload, finalize":"upload";const $r={"X-Goog-Upload-Command":Un,"X-Goog-Upload-Offset":`${_n.current}`},Er=Me.slice(kn,kn+Ar);if(null===Er)throw it();const Ir=new ne(Ie,"POST",function Ii(Yr,ai){const Nr=Fs(Yr,["active","final"]),qs=_n.current+Ar,Qi=Me.size();let Ys;return Ys="final"===Nr?ot(Q,gt)(Yr,ai):null,new or(qs,Qi,"final"===Nr,Ys)},Q.maxUploadRetryTime);return Ir.headers=$r,Ir.body=Er.uploadData(),Ir.progressCallback=wn||null,Ir.errorHandler=fn(Z),Ir}(this._ref._location,this._ref.storage,Me,this._blob,Q,this._mappings,Ie,this._makeProgressCallback())}catch(_n){return this._error=_n,void this._transition("error")}const wn=this._ref.storage._makeRequest(Yt,ts,Qe,gt,!1);this._request=wn,wn.getPromise().then(_n=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_n.current),_n.finalized?(this._metadata=_n.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Q,Ie)=>{const Me=vr(this._ref.storage,this._ref._location,this._mappings),Qe=this._ref.storage._makeRequest(Me,ts,Q,Ie);this._request=Qe,Qe.getPromise().then(gt=>{this._request=void 0,this._metadata=gt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Q,Ie)=>{const Me=function Ai(Z,Q,Ie,Me,Qe){const gt=Q.bucketOnlyServerUrl(),Yt={"X-Goog-Upload-Protocol":"multipart"},_n=function wn(){let Ir="";for(let Yr=0;Yr<2;Yr++)Ir+=Math.random().toString().slice(2);return Ir}();Yt["Content-Type"]="multipart/related; boundary="+_n;const Jn=ki(Q,Me,Qe),Ar=sn(Jn,Ie),Un=Qr.getBlob("--"+_n+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ar+"\r\n--"+_n+"\r\nContent-Type: "+Jn.contentType+"\r\n\r\n",Me,"\r\n--"+_n+"--");if(null===Un)throw it();const $r={name:Jn.fullPath},Er=Nt(gt,Z.host,Z._protocol),Xi=Z.maxUploadRetryTime,Ri=new ne(Er,"POST",ot(Z,Ie),Xi);return Ri.urlParams=$r,Ri.headers=Yt,Ri.body=Un.uploadData(),Ri.errorHandler=fn(Q),Ri}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Qe=this._ref.storage._makeRequest(Me,ts,Q,Ie);this._request=Qe,Qe.getPromise().then(gt=>{this._request=void 0,this._metadata=gt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Q){const Ie=this._transferred;this._transferred=Q,this._transferred!==Ie&&this._notifyObservers()}_transition(Q){if(this._state!==Q)switch(Q){case"canceling":case"pausing":this._state=Q,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Ie="paused"===this._state;this._state=Q,Ie&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Q,this._notifyObservers();break;case"canceled":this._error=Le(),this._state=Q,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Q=dr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Q,metadata:this._metadata,task:this,ref:this._ref}}on(Q,Ie,Me,Qe){const gt=new Br(Ie||void 0,Me||void 0,Qe||void 0);return this._addObserver(gt),()=>{this._removeObserver(gt)}}then(Q,Ie){return this._promise.then(Q,Ie)}catch(Q){return this.then(null,Q)}_addObserver(Q){this._observers.push(Q),this._notifyObserver(Q)}_removeObserver(Q){const Ie=this._observers.indexOf(Q);-1!==Ie&&this._observers.splice(Ie,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Ie=>{this._notifyObserver(Ie)})}_finishPromise(){if(void 0!==this._resolve){let Q=!0;switch(dr(this._state)){case Mn.SUCCESS:Kr(this._resolve.bind(null,this.snapshot))();break;case Mn.CANCELED:case Mn.ERROR:Kr(this._reject.bind(null,this._error))();break;default:Q=!1}Q&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Q){switch(dr(this._state)){case Mn.RUNNING:case Mn.PAUSED:Q.next&&Kr(Q.next.bind(Q,this.snapshot))();break;case Mn.SUCCESS:Q.complete&&Kr(Q.complete.bind(Q))();break;default:Q.error&&Kr(Q.error.bind(Q,this._error))()}}resume(){const Q="paused"===this._state||"pausing"===this._state;return Q&&this._transition("running"),Q}pause(){const Q="running"===this._state;return Q&&this._transition("pausing"),Q}cancel(){const Q="running"===this._state||"pausing"===this._state;return Q&&this._transition("canceling"),Q}}class ns{constructor(Q,Ie){this._service=Q,this._location=Ie instanceof Kt?Ie:Kt.makeFromUrl(Ie,Q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Q,Ie){return new ns(Q,Ie)}get root(){const Q=new Kt(this._location.bucket,"");return this._newRef(this._service,Q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pi(this._location.path)}get storage(){return this._service}get parent(){const Q=function Cr(Z){if(0===Z.length)return null;const Q=Z.lastIndexOf("/");return-1===Q?"":Z.slice(0,Q)}(this._location.path);if(null===Q)return null;const Ie=new Kt(this._location.bucket,Q);return new ns(this._service,Ie)}_throwIfRoot(Q){if(""===this._location.path)throw ur(Q)}}function Uo(Z,Q,Ie){return di.apply(this,arguments)}function di(){return(di=(0,a.A)(function*(Z,Q,Ie){const Qe=yield Fa(Z,{pageToken:Ie});Q.prefixes.push(...Qe.prefixes),Q.items.push(...Qe.items),null!=Qe.nextPageToken&&(yield Uo(Z,Q,Qe.nextPageToken))})).apply(this,arguments)}function Fa(Z,Q){null!=Q&&"number"==typeof Q.maxResults&&Xe("options.maxResults",1,1e3,Q.maxResults);const Ie=Q||{},Me=cn(Z.storage,Z._location,"/",Ie.pageToken,Ie.maxResults);return Z.storage.makeRequestWithTokens(Me,ts)}function Ea(Z){Z._throwIfRoot("getDownloadURL");const Q=function fr(Z,Q,Ie){const Qe=Nt(Q.fullServerUrl(),Z.host,Z._protocol),Yt=Z.maxOperationRetryTime,wn=new ne(Qe,"GET",function an(Z,Q){return function Ie(Me,Qe){const gt=Fr(Z,Qe,Q);return ge(null!==gt),function Ue(Z,Q,Ie,Me){const Qe=tr(Q);if(null===Qe||!Ee(Qe.downloadTokens))return null;const gt=Qe.downloadTokens;if(0===gt.length)return null;const Yt=encodeURIComponent;return gt.split(",").map(Jn=>{const kn=Z.fullPath;return Nt("/b/"+Yt(Z.bucket)+"/o/"+Yt(kn),Ie,Me)+Cn({alt:"media",token:Jn})})[0]}(gt,Qe,Z.host,Z._protocol)}}(Z,Ie),Yt);return wn.errorHandler=Dn(Q),wn}(Z.storage,Z._location,yt());return Z.storage.makeRequestWithTokens(Q,ts).then(Ie=>{if(null===Ie)throw function Ot(){return new ee(oe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Ie})}function Jr(Z,Q){const Ie=function Wn(Z,Q){const Ie=Q.split("/").filter(Me=>Me.length>0).join("/");return 0===Z.length?Ie:Z+"/"+Ie}(Z._location.path,Q),Me=new Kt(Z._location.bucket,Ie);return new ns(Z.storage,Me)}function To(Z,Q){if(Z instanceof Di){const Ie=Z;if(null==Ie._bucket)throw function We(){return new ee(oe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+De+"' property when initializing the app?")}();const Me=new ns(Ie,Ie._bucket);return null!=Q?To(Me,Q):Me}return void 0!==Q?Jr(Z,Q):Z}function Us(Z,Q){if(Q&&function Ls(Z){return/^[A-Za-z]+:\/\//.test(Z)}(Q)){if(Z instanceof Di)return function Vs(Z,Q){return new ns(Z,Q)}(Z,Q);throw en("To use ref(service, url), the first argument must be a Storage instance.")}return To(Z,Q)}function Pr(Z,Q){const Ie=Q?.[De];return null==Ie?null:Kt.makeFromBucketSpec(Ie,Z)}class Di{constructor(Q,Ie,Me,Qe,gt){this.app=Q,this._authProvider=Ie,this._appCheckProvider=Me,this._url=Qe,this._firebaseVersion=gt,this._bucket=null,this._host=me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Qe?Kt.makeFromBucketSpec(Qe,this._host):Pr(this._host,this.app.options)}get host(){return this._host}set host(Q){this._host=Q,this._bucket=null!=this._url?Kt.makeFromBucketSpec(this._url,Q):Pr(Q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Q){Xe("time",0,Number.POSITIVE_INFINITY,Q),this._maxUploadRetryTime=Q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Q){Xe("time",0,Number.POSITIVE_INFINITY,Q),this._maxOperationRetryTime=Q}_getAuthToken(){var Q=this;return(0,a.A)(function*(){if(Q._overrideAuthToken)return Q._overrideAuthToken;const Ie=Q._authProvider.getImmediate({optional:!0});if(Ie){const Me=yield Ie.getToken();if(null!==Me)return Me.accessToken}return null})()}_getAppCheckToken(){var Q=this;return(0,a.A)(function*(){const Ie=Q._appCheckProvider.getImmediate({optional:!0});return Ie?(yield Ie.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Q=>Q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Q){return new ns(this,Q)}_makeRequest(Q,Ie,Me,Qe,gt=!0){if(this._deleted)return new lt(mn());{const Yt=function yr(Z,Q,Ie,Me,Qe,gt,Yt=!0){const wn=Cn(Z.urlParams),_n=Z.url+wn,Jn=Object.assign({},Z.headers);return function Gt(Z,Q){Q&&(Z["X-Firebase-GMPID"]=Q)}(Jn,Q),function Hn(Z,Q){null!==Q&&Q.length>0&&(Z.Authorization="Firebase "+Q)}(Jn,Ie),function On(Z,Q){Z["X-Firebase-Storage-Version"]="webjs/"+(Q??"AppManager")}(Jn,gt),function Ut(Z,Q){null!==Q&&(Z["X-Firebase-AppCheck"]=Q)}(Jn,Me),new Ln(_n,Z.method,Jn,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,Qe,Yt)}(Q,this._appId,Me,Qe,Ie,this._firebaseVersion,gt);return this._requests.add(Yt),Yt.getPromise().then(()=>this._requests.delete(Yt),()=>this._requests.delete(Yt)),Yt}}makeRequestWithTokens(Q,Ie){var Me=this;return(0,a.A)(function*(){const[Qe,gt]=yield Promise.all([Me._getAuthToken(),Me._getAppCheckToken()]);return Me._makeRequest(Q,Ie,Qe,gt).getPromise()})()}}const As="@firebase/storage",ls="storage";function js(Z,Q,Ie){return function Oi(Z,Q,Ie){return Z._throwIfRoot("uploadBytesResumable"),new ii(Z,new Qr(Q),Ie)}(Z=(0,s.Ku)(Z),Q,Ie)}function si(Z){return function Za(Z){Z._throwIfRoot("getMetadata");const Q=vr(Z.storage,Z._location,yt());return Z.storage.makeRequestWithTokens(Q,ts)}(Z=(0,s.Ku)(Z))}function pn(Z,Q){return function xi(Z,Q){Z._throwIfRoot("updateMetadata");const Ie=function ks(Z,Q,Ie,Me){const gt=Nt(Q.fullServerUrl(),Z.host,Z._protocol),wn=sn(Ie,Me),Jn=Z.maxOperationRetryTime,Ar=new ne(gt,"PATCH",ot(Z,Me),Jn);return Ar.headers={"Content-Type":"application/json; charset=utf-8"},Ar.body=wn,Ar.errorHandler=Dn(Q),Ar}(Z.storage,Z._location,Q,yt());return Z.storage.makeRequestWithTokens(Ie,ts)}(Z=(0,s.Ku)(Z),Q)}function Fn(Z,Q){return Fa(Z=(0,s.Ku)(Z),Q)}function Kn(Z){return function co(Z){const Q={prefixes:[],items:[]};return Uo(Z,Q).then(()=>Q)}(Z=(0,s.Ku)(Z))}function oi(Z){return Ea(Z=(0,s.Ku)(Z))}function Zr(Z){return function Ks(Z){Z._throwIfRoot("deleteObject");const Q=function wi(Z,Q){const Me=Nt(Q.fullServerUrl(),Z.host,Z._protocol),wn=new ne(Me,"DELETE",function Yt(_n,Jn){},Z.maxOperationRetryTime);return wn.successCodes=[200,204],wn.errorHandler=Dn(Q),wn}(Z.storage,Z._location);return Z.storage.makeRequestWithTokens(Q,ts)}(Z=(0,s.Ku)(Z))}function Mi(Z,Q){return Us(Z=(0,s.Ku)(Z),Q)}function us(Z,Q){return Jr(Z,Q)}function Rr(Z=(0,le.getApp)(),Q){Z=(0,s.Ku)(Z);const Me=(0,le._getProvider)(Z,ls).getImmediate({identifier:Q}),Qe=(0,s.yU)("storage");return Qe&&Vi(Me,...Qe),Me}function Vi(Z,Q,Ie,Me={}){!function hi(Z,Q,Ie,Me={}){Z.host=`${Q}:${Ie}`,Z._protocol="http";const{mockUserToken:Qe}=Me;Qe&&(Z._overrideAuthToken="string"==typeof Qe?Qe:(0,s.Fy)(Qe,Z.app.options.projectId))}(Z,Q,Ie,Me)}function $i(Z,{instanceIdentifier:Q}){const Ie=Z.getProvider("app").getImmediate(),Me=Z.getProvider("auth-internal"),Qe=Z.getProvider("app-check-internal");return new Di(Ie,Me,Qe,Q,le.SDK_VERSION)}!function Ds(){(0,le._registerComponent)(new be.uA(ls,$i,"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(As,"0.13.2",""),(0,le.registerVersion)(As,"0.13.2","esm2017")}()},1076:(nn,qe,U)=>{U.d(qe,{Am:()=>zn,Bd:()=>en,FA:()=>Xe,Fy:()=>it,I9:()=>In,Im:()=>on,Ku:()=>te,Ll:()=>we,T9:()=>ye,Uj:()=>Re,XA:()=>Je,ZQ:()=>Dt,bD:()=>Zn,c1:()=>ur,cY:()=>We,eX:()=>Te,g:()=>tt,gR:()=>Ut,hp:()=>jr,jZ:()=>Ot,lT:()=>lt,lV:()=>jt,mS:()=>$e,nr:()=>Jt,p7:()=>mn,sr:()=>Mt,tD:()=>Xr,u:()=>ee,yU:()=>Le,zW:()=>je,zw:()=>pe});const be=function(k){const P=[];let F=0;for(let ne=0;ne<k.length;ne++){let ge=k.charCodeAt(ne);ge<128?P[F++]=ge:ge<2048?(P[F++]=ge>>6|192,P[F++]=63&ge|128):55296==(64512&ge)&&ne+1<k.length&&56320==(64512&k.charCodeAt(ne+1))?(ge=65536+((1023&ge)<<10)+(1023&k.charCodeAt(++ne)),P[F++]=ge>>18|240,P[F++]=ge>>12&63|128,P[F++]=ge>>6&63|128,P[F++]=63&ge|128):(P[F++]=ge>>12|224,P[F++]=ge>>6&63|128,P[F++]=63&ge|128)}return P},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(k,P){if(!Array.isArray(k))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let ge=0;ge<k.length;ge+=3){const ot=k[ge],At=ge+1<k.length,an=At?k[ge+1]:0,fn=ge+2<k.length,Dn=fn?k[ge+2]:0;let Gr=(15&an)<<2|Dn>>6,fr=63&Dn;fn||(fr=64,At||(Gr=64)),ne.push(F[ot>>2],F[(3&ot)<<4|an>>4],F[Gr],F[fr])}return ne.join("")},encodeString(k,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(k):this.encodeByteArray(be(k),P)},decodeString(k,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(k):function(k){const P=[];let F=0,ne=0;for(;F<k.length;){const ge=k[F++];if(ge<128)P[ne++]=String.fromCharCode(ge);else if(ge>191&&ge<224){const ot=k[F++];P[ne++]=String.fromCharCode((31&ge)<<6|63&ot)}else if(ge>239&&ge<365){const fn=((7&ge)<<18|(63&k[F++])<<12|(63&k[F++])<<6|63&k[F++])-65536;P[ne++]=String.fromCharCode(55296+(fn>>10)),P[ne++]=String.fromCharCode(56320+(1023&fn))}else{const ot=k[F++],At=k[F++];P[ne++]=String.fromCharCode((15&ge)<<12|(63&ot)<<6|63&At)}}return P.join("")}(this.decodeStringToByteArray(k,P))},decodeStringToByteArray(k,P){this.init_();const F=P?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let ge=0;ge<k.length;){const ot=F[k.charAt(ge++)],an=ge<k.length?F[k.charAt(ge)]:0;++ge;const Dn=ge<k.length?F[k.charAt(ge)]:64;++ge;const cn=ge<k.length?F[k.charAt(ge)]:64;if(++ge,null==ot||null==an||null==Dn||null==cn)throw new Ae;ne.push(ot<<2|an>>4),64!==Dn&&(ne.push(an<<4&240|Dn>>2),64!==cn&&ne.push(Dn<<6&192|cn))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let k=0;k<this.ENCODED_VALS.length;k++)this.byteToCharMap_[k]=this.ENCODED_VALS.charAt(k),this.charToByteMap_[this.byteToCharMap_[k]]=k,this.byteToCharMapWebSafe_[k]=this.ENCODED_VALS_WEBSAFE.charAt(k),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[k]]=k,k>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(k)]=k,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(k)]=k)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(k){return function(k){const P=be(k);return De.encodeByteArray(P,!0)}(k).replace(/\./g,"")},ee=function(k){try{return De.decodeString(k,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function pe(k,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===k&&(k={});break;case Array:k=[];break;default:return P}for(const F in P)!P.hasOwnProperty(F)||!rt(F)||(k[F]=pe(k[F],P[F]));return k}function rt(k){return"__proto__"!==k}function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const St=()=>{try{return $e().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const k=process.env.__FIREBASE_DEFAULTS__;return k?JSON.parse(k):void 0})()||(()=>{if(typeof document>"u")return;let k;try{k=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=k&&ee(k[1]);return P&&JSON.parse(P)})()}catch(k){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${k}`)}},Le=k=>{const P=(k=>{var P,F;return null===(F=null===(P=St())||void 0===P?void 0:P.emulatorHosts)||void 0===F?void 0:F[k]})(k);if(!P)return;const F=P.lastIndexOf(":");if(F<=0||F+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const ne=parseInt(P.substring(F+1),10);return"["===P[0]?[P.substring(1,F-1),ne]:[P.substring(0,F),ne]},ye=()=>{var k;return null===(k=St())||void 0===k?void 0:k.config},Je=k=>{var P;return null===(P=St())||void 0===P?void 0:P[`_${k}`]};class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,F)=>{this.resolve=P,this.reject=F})}wrapCallback(P){return(F,ne)=>{F?this.reject(F):this.resolve(ne),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(F):P(F,ne))}}}function it(k,P){if(k.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=P||"demo-project",ge=k.iat||0,ot=k.sub||k.user_id;if(!ot)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const At=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:ge,exp:ge+3600,auth_time:ge,sub:ot,user_id:ot,firebase:{sign_in_provider:"custom",identities:{}}},k);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(At)),""].join(".")}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ot(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function we(){var k;const P=null===(k=St())||void 0===k?void 0:k.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function en(){return typeof window<"u"||mn()}function mn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ur(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Mt(){const k="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof k&&void 0!==k.id}function jt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){const k=Dt();return k.indexOf("MSIE ")>=0||k.indexOf("Trident/")>=0}function Jt(){return!we()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function je(){try{return"object"==typeof indexedDB}catch{return!1}}function Te(){return new Promise((k,P)=>{try{let F=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",ge=self.indexedDB.open(ne);ge.onsuccess=()=>{ge.result.close(),F||self.indexedDB.deleteDatabase(ne),k(!0)},ge.onupgradeneeded=()=>{F=!1},ge.onerror=()=>{var ot;P((null===(ot=ge.error)||void 0===ot?void 0:ot.message)||"")}}catch(F){P(F)}})}class tt extends Error{constructor(P,F,ne){super(F),this.code=P,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(P,F,ne){this.service=P,this.serviceName=F,this.errors=ne}create(P,...F){const ne=F[0]||{},ge=`${this.service}/${P}`,ot=this.errors[P],At=ot?function Nt(k,P){return k.replace(Cn,(F,ne)=>{const ge=P[ne];return null!=ge?String(ge):`<${ne}?>`})}(ot,ne):"Error";return new tt(ge,`${this.serviceName}: ${At} (${ge}).`,ne)}}const Cn=/\{\$([^}]+)}/g;function Ut(k,P){return Object.prototype.hasOwnProperty.call(k,P)}function on(k){for(const P in k)if(Object.prototype.hasOwnProperty.call(k,P))return!1;return!0}function Zn(k,P){if(k===P)return!0;const F=Object.keys(k),ne=Object.keys(P);for(const ge of F){if(!ne.includes(ge))return!1;const ot=k[ge],At=P[ge];if(Bt(ot)&&Bt(At)){if(!Zn(ot,At))return!1}else if(ot!==At)return!1}for(const ge of ne)if(!F.includes(ge))return!1;return!0}function Bt(k){return null!==k&&"object"==typeof k}function zn(k){const P=[];for(const[F,ne]of Object.entries(k))Array.isArray(ne)?ne.forEach(ge=>{P.push(encodeURIComponent(F)+"="+encodeURIComponent(ge))}):P.push(encodeURIComponent(F)+"="+encodeURIComponent(ne));return P.length?"&"+P.join("&"):""}function In(k){const P={};return k.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[ge,ot]=ne.split("=");P[decodeURIComponent(ge)]=decodeURIComponent(ot)}}),P}function jr(k){const P=k.indexOf("?");if(!P)return"";const F=k.indexOf("#",P);return k.substring(P,F>0?F:void 0)}function Xr(k,P){const F=new Yn(k,P);return F.subscribe.bind(F)}class Yn{constructor(P,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{P(this)}).catch(ne=>{this.error(ne)})}next(P){this.forEachObserver(F=>{F.next(P)})}error(P){this.forEachObserver(F=>{F.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,F,ne){let ge;if(void 0===P&&void 0===F&&void 0===ne)throw new Error("Missing Observer.");ge=function gs(k,P){if("object"!=typeof k||null===k)return!1;for(const F of P)if(F in k&&"function"==typeof k[F])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:F,complete:ne},void 0===ge.next&&(ge.next=hn),void 0===ge.error&&(ge.error=hn),void 0===ge.complete&&(ge.complete=hn);const ot=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ge.error(this.finalError):ge.complete()}catch{}}),this.observers.push(ge),ot}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,P)}sendOne(P,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{F(this.observers[P])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hn(){}function te(k){return k&&k._delegate?k._delegate:k}},7304:(nn,qe,U)=>{U.d(qe,{W:()=>wt});var a=U(7705),le=U(345),s=U(6814),be=U(177);let me=(()=>{class vt{transform(Pt,Le){if(!Pt||!Le)return Pt;let ye=Pt;for(const Je in Le)if(Le.hasOwnProperty(Je)){const We=new RegExp(`{{${Je}}}`,"g");ye=ye.replace(We,Le[Je])}return ye}static{this.\u0275fac=function(Le){return new(Le||vt)}}static{this.\u0275pipe=a.EJ8({name:"replaceKeyword",type:vt,pure:!0})}}return vt})();function De(vt,St){if(1&vt){const Pt=a.RV6();a.j41(0,"button",10),a.bIt("click",function(){a.eBV(Pt);const ye=a.XpG(2);return a.Njj(ye.navigateToContact())}),a.EFF(1,"Contact Us"),a.k0s()}}const Ae=function(vt){return{businessName:vt}};function Ne(vt,St){if(1&vt&&(a.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3")(4,"span",6),a.EFF(5),a.nI1(6,"replaceKeyword"),a.k0s()(),a.j41(7,"h1"),a.EFF(8),a.k0s(),a.nrm(9,"p",7),a.j41(10,"div",8),a.DNE(11,De,2,0,"button",9),a.k0s()()()()),2&vt){const Pt=a.XpG();a.Y8G("ngClass",Pt.themeType),a.R7$(5),a.JRh(a.i5U(6,5,Pt.subTitle,a.eq3(8,Ae,Pt._businessName))),a.R7$(3),a.JRh(Pt.title),a.R7$(1),a.Y8G("innerHTML",Pt.sanitizedContent,a.npT),a.R7$(2),a.Y8G("ngIf",Pt.showBtn)}}function Re(vt,St){if(1&vt&&a.nrm(0,"img",16),2&vt){const Pt=a.XpG(2);a.Y8G("src",Pt.imageURL,a.B4B)}}function ee(vt,St){1&vt&&(a.j41(0,"button",17),a.EFF(1,"Schedule A Visit"),a.k0s())}function oe(vt,St){if(1&vt&&(a.j41(0,"div",11),a.DNE(1,Re,1,1,"img",12),a.j41(2,"h3",13),a.EFF(3),a.nI1(4,"replaceKeyword"),a.k0s(),a.j41(5,"h2",13),a.EFF(6),a.k0s(),a.nrm(7,"h4",14),a.DNE(8,ee,2,0,"button",15),a.k0s()),2&vt){const Pt=a.XpG();a.Y8G("ngClass",Pt.themeType),a.R7$(1),a.Y8G("ngIf",Pt.imageURL&&Pt.showImage),a.R7$(2),a.JRh(a.i5U(4,6,Pt.subTitle,a.eq3(9,Ae,Pt._businessName))),a.R7$(3),a.JRh(Pt.title),a.R7$(1),a.Y8G("innerHTML",Pt.sanitizedContent,a.npT),a.R7$(1),a.Y8G("ngIf",Pt.showBtn)}}function pe(vt,St){if(1&vt&&a.nrm(0,"img",16),2&vt){const Pt=a.XpG(2);a.Y8G("src",Pt.imageURL,a.B4B)}}function rt(vt,St){if(1&vt&&(a.j41(0,"span"),a.EFF(1),a.k0s()),2&vt){const Pt=a.XpG(2);a.R7$(1),a.SpI(" ",Pt.titleParts.part2,"")}}function $e(vt,St){1&vt&&(a.j41(0,"button",17),a.EFF(1,"Schedule A Visit"),a.k0s())}function Tt(vt,St){if(1&vt&&(a.j41(0,"div",18),a.DNE(1,pe,1,1,"img",12),a.j41(2,"div",19)(3,"h3"),a.EFF(4),a.k0s(),a.j41(5,"h2"),a.DNE(6,rt,2,1,"span",20),a.k0s(),a.nrm(7,"div",21)(8,"p",14),a.k0s(),a.DNE(9,$e,2,0,"button",15),a.k0s()),2&vt){const Pt=a.XpG();a.Y8G("ngClass",Pt.themeType),a.R7$(1),a.Y8G("ngIf",Pt.imageURL&&Pt.showImage),a.R7$(3),a.SpI(" ",Pt.titleParts.part1,""),a.R7$(2),a.Y8G("ngIf",Pt.titleParts.part2),a.R7$(2),a.Y8G("innerHTML",Pt.sanitizedContent,a.npT),a.R7$(1),a.Y8G("ngIf",Pt.showBtn)}}let wt=(()=>{class vt{constructor(Pt,Le){this.sanitizer=Pt,this.router=Le,this.showBtn=!1,this.showImage=!1,this._businessName=""}set content(Pt){this._content=Pt,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(Pt)}get titleParts(){if(this.title.includes("|")){const[Pt,Le]=this.title.split("|").map(ye=>ye.trim());return{part1:Pt,part2:Le}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(){this.router.navigate(["/contact-us"])}static{this.\u0275fac=function(Le){return new(Le||vt)(a.rXU(le.up),a.rXU(s.Ix))}}static{this.\u0275cmp=a.VBU({type:vt,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",content:"content"},decls:3,vars:3,consts:[["class","welcome-info-container",3,"ngClass",4,"ngIf"],["class","center-text-section",3,"ngClass",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass",4,"ngIf"],[1,"welcome-info-container",3,"ngClass"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],["type","button",1,"afhBtn",3,"click"],[1,"center-text-section",3,"ngClass"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],[1,"center-text-description",3,"innerHTML"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass"],[1,"text-container"],[4,"ngIf"],[1,"separator2"]],template:function(Le,ye){1&Le&&(a.DNE(0,Ne,12,10,"div",0),a.DNE(1,oe,9,11,"div",1),a.DNE(2,Tt,10,6,"div",2)),2&Le&&(a.Y8G("ngIf","hh"==ye.themeType),a.R7$(1),a.Y8G("ngIf","clemo"!=ye.themeType&&"hh"!=ye.themeType),a.R7$(1),a.Y8G("ngIf","clemo"==ye.themeType))},dependencies:[be.YU,be.bT,me],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:var(--site-max-width);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-section-clemo[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:var(--site-max-width);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}.clemo-center-title[_ngcontent-%COMP%]{padding-bottom:3rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}"]})}}return vt})()},3711:(nn,qe,U)=>{U.d(qe,{a:()=>De});var a=U(7705),le=U(4710),s=U(177);function be(Ae,Ne){1&Ae&&(a.qex(0),a.nrm(1,"div",3),a.bVm())}function me(Ae,Ne){1&Ae&&(a.qex(0),a.nrm(1,"div",4),a.bVm())}let De=(()=>{class Ae{constructor(Re){this.googleMapsLoader=Re,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Re=>{console.error("Error loading Google Maps script:",Re)})}ngOnChanges(Re){Re.address&&!Re.address.firstChange&&this.showAddressOnMap(Re.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Re){this.geocoder.geocode({address:Re},(ee,oe)=>{if("OK"===oe){this.map.setCenter(ee[0].geometry.location);const pe=new google.maps.LatLngBounds;pe.extend(ee[0].geometry.location),this.map.fitBounds(pe),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:ee[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+oe)})}getZoomLevel(Re){document.getElementById("map");const pe=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Re*pe)))}static{this.\u0275fac=function(ee){return new(ee||Ae)(a.rXU(le.L))}}static{this.\u0275cmp=a.VBU({type:Ae,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[a.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(ee,oe){1&ee&&(a.j41(0,"div",0),a.qex(1),a.DNE(2,be,2,0,"ng-container",1),a.DNE(3,me,2,0,"ng-container",2),a.bVm(),a.k0s()),2&ee&&(a.Y8G("ngSwitch",oe.layoutType),a.R7$(2),a.Y8G("ngSwitchCase","clemo"))},dependencies:[s.ux,s.e1,s.fG],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return Ae})()},1915:(nn,qe,U)=>{U.d(qe,{j:()=>oe});var a=U(7705),le=U(177),s=U(4591);function be(pe,rt){if(1&pe&&(a.j41(0,"div",12),a.nrm(1,"i",13),a.j41(2,"h3",14),a.EFF(3),a.k0s()()),2&pe){const $e=rt.$implicit;a.R7$(1),a.Y8G("ngClass",$e.icon),a.R7$(2),a.JRh($e.name)}}function me(pe,rt){if(1&pe&&(a.j41(0,"div")(1,"section",5)(2,"div",6)(3,"span",7),a.EFF(4,"Our "),a.k0s(),a.j41(5,"span",8),a.EFF(6,"Services"),a.k0s()(),a.j41(7,"h3",9),a.EFF(8,"Home Care From Trained Professionals"),a.k0s(),a.j41(9,"div",10),a.DNE(10,be,4,2,"div",11),a.k0s()()()),2&pe){const $e=a.XpG(2);a.R7$(10),a.Y8G("ngForOf",$e.services)}}function De(pe,rt){if(1&pe&&(a.j41(0,"li",17)(1,"h2"),a.EFF(2),a.k0s(),a.j41(3,"div",18)(4,"p"),a.EFF(5),a.k0s()()()),2&pe){const $e=rt.$implicit;a.R7$(2),a.JRh($e.name),a.R7$(3),a.JRh($e.description)}}function Ae(pe,rt){if(1&pe&&(a.j41(0,"div",15)(1,"ul"),a.DNE(2,De,6,2,"li",16),a.k0s()()),2&pe){const $e=a.XpG(2);a.R7$(2),a.Y8G("ngForOf",$e.services)}}function Ne(pe,rt){if(1&pe&&(a.j41(0,"section",2),a.DNE(1,me,11,1,"div",3),a.DNE(2,Ae,3,1,"div",4),a.k0s()),2&pe){const $e=a.XpG();a.R7$(1),a.Y8G("ngIf",$e.minimal),a.R7$(1),a.Y8G("ngIf",!$e.minimal)}}function Re(pe,rt){if(1&pe&&(a.j41(0,"div",23),a.nrm(1,"i",24),a.j41(2,"h2"),a.EFF(3),a.k0s(),a.j41(4,"p"),a.EFF(5),a.k0s()()),2&pe){const $e=rt.$implicit;a.R7$(1),a.Y8G("ngClass",$e.icon),a.R7$(2),a.JRh($e.name),a.R7$(2),a.JRh($e.description)}}function ee(pe,rt){if(1&pe&&(a.j41(0,"section",19),a.nrm(1,"app-section-tilte",20),a.j41(2,"div",21),a.DNE(3,Re,6,3,"div",22),a.k0s()()),2&pe){const $e=a.XpG();a.R7$(1),a.Y8G("title","Our Services"),a.R7$(2),a.Y8G("ngForOf",$e.services)}}let oe=(()=>{class pe{constructor(){this.layoutType="demo",this.minimal=!1}ngOnInit(){console.log("List Items: ",this.services),console.log("List Items layoutType",this.layoutType)}static{this.\u0275fac=function(Tt){return new(Tt||pe)}}static{this.\u0275cmp=a.VBU({type:pe,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType",minimal:"minimal"},decls:2,vars:2,consts:[["class","services-list-section",4,"ngIf"],["class","services-section",4,"ngIf"],[1,"services-list-section"],[4,"ngIf"],["class","services-list",4,"ngIf"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"services-list"],["class","service-list-item",4,"ngFor","ngForOf"],[1,"service-list-item"],[1,"our-services-item-description"],[1,"services-section"],[3,"title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"]],template:function(Tt,wt){1&Tt&&(a.DNE(0,Ne,3,2,"section",0),a.DNE(1,ee,4,2,"section",1)),2&Tt&&(a.Y8G("ngIf","hh"==wt.layoutType),a.R7$(1),a.Y8G("ngIf","hh"!=wt.layoutType))},dependencies:[le.YU,le.Sq,le.bT,s.L],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.minimal-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}"]})}}return pe})()},491:(nn,qe,U)=>{U.d(qe,{G:()=>De});var a=U(7705),le=U(177);function s(Ae,Ne){if(1&Ae&&(a.j41(0,"section",2)(1,"div",3)(2,"h2"),a.EFF(3),a.k0s(),a.j41(4,"h4"),a.EFF(5),a.k0s()(),a.j41(6,"div",4),a.nrm(7,"img",5),a.k0s()()),2&Ae){const Re=a.XpG();a.R7$(3),a.JRh(Re.title),a.R7$(2),a.JRh(Re.content),a.R7$(2),a.FS9("src",Re.imageURL,a.B4B),a.FS9("alt",Re.title)}}function be(Ae,Ne){if(1&Ae&&(a.j41(0,"span"),a.EFF(1),a.k0s()),2&Ae){const Re=a.XpG(2);a.R7$(1),a.SpI(" ",Re.titleParts.part2,"")}}function me(Ae,Ne){if(1&Ae&&(a.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",3)(4,"h3"),a.EFF(5),a.k0s(),a.j41(6,"h2"),a.DNE(7,be,2,1,"span",9),a.k0s(),a.nrm(8,"div",10),a.j41(9,"p"),a.EFF(10),a.k0s(),a.j41(11,"a",11),a.EFF(12,"learn more"),a.k0s()(),a.j41(13,"div",12),a.nrm(14,"img",5),a.k0s()()()()),2&Ae){const Re=a.XpG();a.R7$(5),a.SpI(" ",Re.titleParts.part1,""),a.R7$(2),a.Y8G("ngIf",Re.titleParts.part2),a.R7$(3),a.JRh(Re.content),a.R7$(4),a.FS9("src",Re.imageURL,a.B4B),a.FS9("alt",Re.title)}}let De=(()=>{class Ae{get titleParts(){if(this.title.includes("|")){const[Re,ee]=this.title.split("|").map(oe=>oe.trim());return{part1:Re,part2:ee}}return{part1:this.title,part2:null}}static{this.\u0275fac=function(ee){return new(ee||Ae)}}static{this.\u0275cmp=a.VBU({type:Ae,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL",themeType:"themeType"},decls:2,vars:2,consts:[["class","left-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],["href","#",1,"btn"],[1,"left-image-container"]],template:function(ee,oe){1&ee&&(a.DNE(0,s,8,4,"section",0),a.DNE(1,me,15,5,"section",1)),2&ee&&(a.Y8G("ngIf","clemo"!=oe.themeType),a.R7$(1),a.Y8G("ngIf","clemo"==oe.themeType))},dependencies:[le.bT],styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return Ae})()},4593:(nn,qe,U)=>{U.d(qe,{F:()=>Ae});var a=U(7705),le=U(345),s=U(177);function be(Ne,Re){if(1&Ne&&(a.j41(0,"section",2)(1,"div",3),a.nrm(2,"img",4),a.k0s(),a.j41(3,"div",5)(4,"h2"),a.EFF(5),a.k0s(),a.j41(6,"h4"),a.EFF(7),a.k0s()()()),2&Ne){const ee=a.XpG();a.R7$(2),a.FS9("src",ee.imageURL,a.B4B),a.FS9("alt",ee.title),a.R7$(3),a.JRh(ee.title),a.R7$(2),a.JRh(ee.content)}}function me(Ne,Re){if(1&Ne&&(a.j41(0,"span"),a.EFF(1),a.k0s()),2&Ne){const ee=a.XpG(2);a.R7$(1),a.SpI(" ",ee.titleParts.part2,"")}}function De(Ne,Re){if(1&Ne&&(a.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",9),a.nrm(4,"img",4),a.k0s(),a.j41(5,"div",5)(6,"h3"),a.EFF(7),a.k0s(),a.j41(8,"h2"),a.DNE(9,me,2,1,"span",10),a.k0s(),a.nrm(10,"div",11),a.j41(11,"p",12),a.EFF(12),a.k0s(),a.j41(13,"a",13),a.EFF(14,"learn more"),a.k0s()()()()()),2&Ne){const ee=a.XpG();a.R7$(4),a.FS9("src",ee.imageURL,a.B4B),a.FS9("alt",ee.title),a.R7$(3),a.SpI(" ",ee.titleParts.part1,""),a.R7$(2),a.Y8G("ngIf",ee.titleParts.part2),a.R7$(2),a.Y8G("innerHTML",ee.sanitizedContent,a.npT),a.R7$(1),a.JRh(ee.content)}}let Ae=(()=>{class Ne{set content(ee){this._content=ee,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(ee)}constructor(ee){this.sanitizer=ee}get titleParts(){if(this.title.includes("|")){const[ee,oe]=this.title.split("|").map(pe=>pe.trim());return{part1:ee,part2:oe}}return{part1:this.title,part2:null}}get content(){return this._content}static{this.\u0275fac=function(oe){return new(oe||Ne)(a.rXU(le.up))}}static{this.\u0275cmp=a.VBU({type:Ne,selectors:[["app-right-text"]],inputs:{title:"title",imageURL:"imageURL",themeType:"themeType",content:"content"},decls:2,vars:2,consts:[["class","right-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"],[3,"innerHTML"],["href","#",1,"btn"]],template:function(oe,pe){1&oe&&(a.DNE(0,be,8,4,"section",0),a.DNE(1,De,15,6,"section",1)),2&oe&&(a.Y8G("ngIf","clemo"!=pe.themeType),a.R7$(1),a.Y8G("ngIf","clemo"==pe.themeType))},dependencies:[s.bT],styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return Ne})()},4591:(nn,qe,U)=>{U.d(qe,{L:()=>le});var a=U(7705);let le=(()=>{class s{static{this.\u0275fac=function(De){return new(De||s)}}static{this.\u0275cmp=a.VBU({type:s,selectors:[["app-section-tilte"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"center-text-section"],[1,"center-text-title"]],template:function(De,Ae){1&De&&(a.j41(0,"div",0)(1,"h2",1),a.EFF(2),a.k0s()()),2&De&&(a.R7$(2),a.JRh(Ae.title))},styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}"]})}}return s})()},3112:(nn,qe,U)=>{U.d(qe,{B:()=>Fr});var a=U(7705),le=U(6814),s=U(6861),be=U(923),me=U(177);function De(Ue,sn){if(1&Ue&&(a.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),a.EFF(5),a.k0s(),a.j41(6,"strong"),a.EFF(7),a.k0s()()()()()),2&Ue){const te=sn.$implicit;a.R7$(5),a.SpI('" ',te.quote,' "'),a.R7$(2),a.JRh(te.name)}}function Ae(Ue,sn){if(1&Ue&&(a.qex(0),a.j41(1,"section",3)(2,"div",4)(3,"span",5),a.EFF(4,"Testimonials"),a.k0s()(),a.j41(5,"div",6),a.DNE(6,De,8,2,"div",7),a.k0s()(),a.bVm()),2&Ue){const te=a.XpG();a.R7$(6),a.Y8G("ngForOf",te.testimonials)}}function Ne(Ue,sn){if(1&Ue&&(a.j41(0,"div",21)(1,"div",22)(2,"div",23),a.EFF(3,"\u275d"),a.k0s(),a.j41(4,"p",24),a.EFF(5),a.k0s(),a.j41(6,"h4",25),a.EFF(7),a.k0s()()()),2&Ue){const te=sn.$implicit;a.R7$(5),a.JRh(te.quote),a.R7$(2),a.JRh(te.name)}}function Re(Ue,sn){if(1&Ue&&(a.qex(0),a.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),a.EFF(5,"Word of mouth"),a.k0s(),a.j41(6,"p",15),a.EFF(7,"You should hear what people have to say about us"),a.k0s()(),a.j41(8,"div",16)(9,"div",17),a.DNE(10,Ne,8,2,"div",18),a.nI1(11,"slice"),a.k0s(),a.j41(12,"div",19)(13,"button",20),a.EFF(14," View All Testimonials "),a.k0s()()()()(),a.bVm()),2&Ue){const te=a.XpG();a.R7$(10),a.Y8G("ngForOf",a.brH(11,1,te.testimonials,0,4))}}function ee(Ue,sn){if(1&Ue&&(a.j41(0,"div",21)(1,"div",22)(2,"div",23),a.EFF(3,"\u275d"),a.k0s(),a.j41(4,"p",24),a.EFF(5),a.k0s(),a.j41(6,"h4",25),a.EFF(7),a.k0s()()()),2&Ue){const te=sn.$implicit;a.R7$(5),a.JRh(te.quote),a.R7$(2),a.JRh(te.name)}}function oe(Ue,sn){if(1&Ue&&(a.qex(0),a.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),a.EFF(5,"Word of mouth"),a.k0s(),a.j41(6,"p",15),a.EFF(7,"You should hear what people have to say about us"),a.k0s()(),a.j41(8,"div",16)(9,"div",17),a.DNE(10,ee,8,2,"div",18),a.nI1(11,"slice"),a.k0s(),a.j41(12,"div",19)(13,"button",20),a.EFF(14," View All Testimonials "),a.k0s()()()()(),a.bVm()),2&Ue){const te=a.XpG();a.R7$(10),a.Y8G("ngForOf",a.brH(11,1,te.testimonials,0,4))}}function pe(Ue,sn){if(1&Ue&&(a.j41(0,"div",33)(1,"div",34),a.nrm(2,"div",35),a.j41(3,"p",36),a.EFF(4),a.k0s()(),a.j41(5,"div",37)(6,"p",38),a.EFF(7),a.k0s()()()),2&Ue){const te=sn.$implicit;a.R7$(4),a.JRh(te.quote),a.R7$(3),a.JRh(te.name)}}function rt(Ue,sn){if(1&Ue&&(a.qex(0),a.j41(1,"section",26)(2,"div",27)(3,"h2",28),a.EFF(4,"Word of Mouth"),a.k0s(),a.j41(5,"p",29),a.EFF(6,"You should hear what people have to say about us"),a.k0s()(),a.j41(7,"div",30)(8,"div",31),a.DNE(9,pe,8,2,"div",32),a.k0s()()(),a.bVm()),2&Ue){const te=a.XpG();a.R7$(9),a.Y8G("ngForOf",te.testimonials)}}let $e=(()=>{class Ue{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(te){this.currentIndex=te,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(k){return new(k||Ue)}}static{this.\u0275cmp=a.VBU({type:Ue,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(k,P){1&k&&(a.j41(0,"div",0),a.DNE(1,Ae,7,1,"ng-container",1),a.DNE(2,Re,15,5,"ng-container",1),a.DNE(3,oe,15,5,"ng-container",1),a.DNE(4,rt,10,1,"ng-container",2),a.k0s()),2&k&&(a.Y8G("ngSwitch",P.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"),a.R7$(1),a.Y8G("ngSwitchCase","clemo"))},dependencies:[me.Sq,me.ux,me.e1,me.fG,le.Wk,me.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return Ue})();function Tt(Ue,sn){if(1&Ue){const te=a.RV6();a.qex(0),a.j41(1,"div",2)(2,"div",3)(3,"span",4),a.EFF(4,"Book a "),a.k0s(),a.j41(5,"span",5),a.EFF(6," Consultation"),a.k0s()(),a.j41(7,"p",6),a.EFF(8," We would love to meet you! Contact us to schedule a tour. "),a.k0s(),a.j41(9,"button",7),a.bIt("click",function(){a.eBV(te);const P=a.XpG();return a.Njj(P.navigateToContact(P.id))}),a.EFF(10,"Book Consultation"),a.k0s()(),a.bVm()}}function wt(Ue,sn){if(1&Ue){const te=a.RV6();a.qex(0),a.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),a.EFF(6,"Ready to experience "),a.k0s(),a.j41(7,"span",13),a.EFF(8),a.k0s()(),a.j41(9,"p"),a.EFF(10,"Discover what makes our services unique and tailored to your needs."),a.k0s(),a.j41(11,"div",14)(12,"button",15),a.bIt("click",function(){a.eBV(te);const P=a.XpG();return a.Njj(P.navigateToContact(P.id))}),a.EFF(13,"Schedule a Visit"),a.k0s()()()()(),a.bVm()}if(2&Ue){const te=a.XpG();a.R7$(8),a.SpI("",te.businessName,"?")}}let vt=(()=>{class Ue{constructor(te){this.router=te,this.id=null,this.layoutType="demo"}navigateToContact(te){this.router.navigate(["/contact-us"],{queryParams:{id:te}})}static{this.\u0275fac=function(k){return new(k||Ue)(a.rXU(le.Ix))}}static{this.\u0275cmp=a.VBU({type:Ue,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(k,P){1&k&&(a.j41(0,"div",0),a.DNE(1,Tt,11,0,"ng-container",1),a.DNE(2,wt,14,1,"ng-container",1),a.k0s()),2&k&&(a.Y8G("ngSwitch",P.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[me.ux,me.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}"]})}}return Ue})();var St=U(8704);function Pt(Ue,sn){if(1&Ue&&(a.j41(0,"div",10),a.nrm(1,"div",11)(2,"div",12),a.k0s()),2&Ue){const te=sn.$implicit;a.R7$(1),a.Y8G("innerHTML",te.name,a.npT),a.R7$(1),a.Y8G("innerHTML",te.description,a.npT)}}function Le(Ue,sn){if(1&Ue&&(a.qex(0),a.j41(1,"section",2)(2,"div",3)(3,"span",4),a.EFF(4,"Our Unique "),a.k0s(),a.j41(5,"span",5),a.EFF(6," Features"),a.k0s()(),a.j41(7,"p",6),a.EFF(8," What sets us appart. "),a.k0s(),a.j41(9,"div",7)(10,"div",8),a.DNE(11,Pt,3,2,"div",9),a.k0s()()(),a.bVm()),2&Ue){const te=a.XpG();a.R7$(11),a.Y8G("ngForOf",te.uniqueService)}}function ye(Ue,sn){1&Ue&&a.eu8(0)}let Je=(()=>{class Ue{constructor(te,k){this.webContent=te,this.route=k,this.layoutType="demo"}static{this.\u0275fac=function(k){return new(k||Ue)(a.rXU(St.N),a.rXU(le.nX))}}static{this.\u0275cmp=a.VBU({type:Ue,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(k,P){1&k&&(a.j41(0,"div",0),a.DNE(1,Le,12,1,"ng-container",1),a.DNE(2,ye,1,0,"ng-container",1),a.k0s()),2&k&&(a.Y8G("ngSwitch",P.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[me.Sq,me.ux,me.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}}return Ue})();function We(Ue,sn){if(1&Ue&&(a.j41(0,"div",10),a.nrm(1,"div",11)(2,"div",12),a.k0s()),2&Ue){const te=sn.$implicit;a.R7$(1),a.Y8G("innerHTML",te.name,a.npT),a.R7$(1),a.Y8G("innerHTML",te.description,a.npT)}}function it(Ue,sn){if(1&Ue&&(a.qex(0),a.j41(1,"section",3)(2,"div",4)(3,"span",5),a.EFF(4,"Why Choose "),a.k0s(),a.j41(5,"span",6),a.EFF(6," US "),a.k0s()(),a.j41(7,"div",7)(8,"div",8),a.DNE(9,We,3,2,"div",9),a.k0s()()(),a.bVm()),2&Ue){const te=a.XpG();a.R7$(9),a.Y8G("ngForOf",te.whyChooseUs)}}function Dt(Ue,sn){1&Ue&&a.eu8(0)}function Ot(Ue,sn){if(1&Ue&&(a.j41(0,"div",10),a.nrm(1,"div",11)(2,"div",12),a.k0s()),2&Ue){const te=sn.$implicit;a.R7$(1),a.Y8G("innerHTML",te.name,a.npT),a.R7$(1),a.Y8G("innerHTML",te.description,a.npT)}}function we(Ue,sn){if(1&Ue&&(a.qex(0),a.j41(1,"section",3)(2,"div",4)(3,"span",5),a.EFF(4,"Why Choose "),a.k0s(),a.j41(5,"span",6),a.EFF(6),a.k0s()(),a.j41(7,"p",13),a.EFF(8," What sets us appart. "),a.k0s(),a.j41(9,"div",7)(10,"div",8),a.DNE(11,Ot,3,2,"div",9),a.k0s()()(),a.bVm()),2&Ue){const te=a.XpG();a.R7$(6),a.SpI(" ",te.businessName,""),a.R7$(5),a.Y8G("ngForOf",te.whyChooseUs)}}let en=(()=>{class Ue{constructor(te,k){this.webContent=te,this.route=k,this.layoutType="demo"}static{this.\u0275fac=function(k){return new(k||Ue)(a.rXU(St.N),a.rXU(le.nX))}}static{this.\u0275cmp=a.VBU({type:Ue,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(k,P){1&k&&(a.j41(0,"div",0),a.DNE(1,it,10,1,"ng-container",1),a.DNE(2,Dt,1,0,"ng-container",1),a.DNE(3,we,12,2,"ng-container",2),a.k0s()),2&k&&(a.Y8G("ngSwitch",P.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[me.Sq,me.ux,me.e1,me.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}}return Ue})();var mn=U(7304),ur=U(4593),Mt=U(491),jt=U(1915);function Kt(Ue,sn){if(1&Ue&&(a.j41(0,"div",7),a.nrm(1,"i",8),a.j41(2,"h3",9),a.EFF(3),a.k0s()()),2&Ue){const te=sn.$implicit;a.R7$(1),a.HbH(te.icon),a.R7$(2),a.JRh(te.title)}}let lt=(()=>{class Ue{constructor(){this.services=[]}static{this.\u0275fac=function(k){return new(k||Ue)}}static{this.\u0275cmp=a.VBU({type:Ue,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:9,vars:1,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(k,P){1&k&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a.EFF(4,"Our Services"),a.k0s(),a.j41(5,"div",4),a.DNE(6,Kt,4,3,"div",5),a.k0s(),a.j41(7,"button",6),a.EFF(8,"Learn More"),a.k0s()()()()),2&k&&(a.R7$(6),a.Y8G("ngForOf",P.services))},dependencies:[me.Sq,le.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return Ue})(),ke=(()=>{class Ue{static{this.\u0275fac=function(k){return new(k||Ue)}}static{this.\u0275cmp=a.VBU({type:Ue,selectors:[["app-parallax-text"]],decls:6,vars:0,consts:[[1,"parallax-container"],[1,"content"]],template:function(k,P){1&k&&(a.j41(0,"div",0)(1,"div",1)(2,"h1"),a.EFF(3,"Our Motto"),a.k0s(),a.j41(4,"h4"),a.EFF(5,' "Compassion in our hearts, excellent care in our hands. Serving and making a difference in our seniors\' lives is our true passion." '),a.k0s()()())},styles:['.parallax-container[_ngcontent-%COMP%]{height:400px;background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px;overflow:hidden}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff9;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:var(--site-max-width);margin:0 auto}@media (max-width: 768px){.parallax-container[_ngcontent-%COMP%]{height:300px;background-attachment:scroll;background-size:cover}}@media (max-width: 480px){.parallax-container[_ngcontent-%COMP%]{height:250px}h1[_ngcontent-%COMP%]{font-size:1.5rem}h4[_ngcontent-%COMP%]{font-size:1rem}}']})}}return Ue})(),Ze=(()=>{class Ue{constructor(){this.backgroundImage="",this.yearsOfExperience=0,this.happyFamilies=0,this.servicesOffered=0,this.trainedStaff=0}static{this.\u0275fac=function(k){return new(k||Ue)}}static{this.\u0275cmp=a.VBU({type:Ue,selectors:[["app-parallax-stats"]],inputs:{backgroundImage:"backgroundImage",yearsOfExperience:"yearsOfExperience",happyFamilies:"happyFamilies",servicesOffered:"servicesOffered",trainedStaff:"trainedStaff"},decls:22,vars:6,consts:[[1,"parallax-container"],[1,"stats-overlay"],[1,"stat"],[1,"number"],[1,"label"]],template:function(k,P){1&k&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a.EFF(4),a.k0s(),a.j41(5,"span",4),a.EFF(6,"Years of Experience"),a.k0s()(),a.j41(7,"div",2)(8,"span",3),a.EFF(9),a.k0s(),a.j41(10,"span",4),a.EFF(11,"Happy Families"),a.k0s()(),a.j41(12,"div",2)(13,"span",3),a.EFF(14),a.k0s(),a.j41(15,"span",4),a.EFF(16,"Services Offered"),a.k0s()(),a.j41(17,"div",2)(18,"span",3),a.EFF(19),a.k0s(),a.j41(20,"span",4),a.EFF(21,"Trained Staff"),a.k0s()()()()),2&k&&(a.xc7("background-image","url("+P.backgroundImage+")"),a.R7$(4),a.JRh(P.yearsOfExperience),a.R7$(5),a.JRh(P.happyFamilies),a.R7$(5),a.JRh(P.servicesOffered),a.R7$(5),a.JRh(P.trainedStaff))},styles:[".parallax-container[_ngcontent-%COMP%]{width:100vw;background-size:cover;background-attachment:fixed;background-position:center;display:flex;justify-content:center;align-items:center;position:relative;color:#fff;box-sizing:border-box}.stats-overlay[_ngcontent-%COMP%]{display:flex;gap:150px;text-align:center;background:rgba(0,0,0,.5);padding:150px;width:100vw;height:100%;height:auto;justify-content:center;flex-wrap:wrap}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:10px}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:5.5rem}@media (max-width: 768px){.parallax-container[_ngcontent-%COMP%]{height:auto;background-attachment:scroll}.stats-overlay[_ngcontent-%COMP%]{gap:20px;padding:15px;flex-direction:column;align-items:center;width:100%}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:3rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem}}"]})}}return Ue})();const Jt=function(Ue,sn){return{"clemo-btn":Ue,"clemo-btn-outline":sn}};function je(Ue,sn){if(1&Ue&&(a.qex(0),a.j41(1,"a",17),a.EFF(2),a.k0s(),a.bVm()),2&Ue){const te=sn.$implicit;a.R7$(1),a.Y8G("routerLink",te.link)("ngClass",a.l_i(3,Jt,!te.outline,te.outline)),a.R7$(1),a.SpI(" ",te.text," ")}}function Te(Ue,sn){if(1&Ue&&(a.j41(0,"div",9)(1,"h1"),a.EFF(2),a.k0s(),a.nrm(3,"div",10)(4,"h2",11),a.j41(5,"div",12),a.DNE(6,je,3,6,"ng-container",13),a.k0s(),a.j41(7,"div",14)(8,"div",15),a.nrm(9,"div",16),a.k0s(),a.j41(10,"p"),a.EFF(11,"Scroll down"),a.k0s()()()),2&Ue){const te=a.XpG().$implicit;a.R7$(2),a.JRh(te.title),a.R7$(2),a.Y8G("innerHTML",te.subtitle,a.npT),a.R7$(2),a.Y8G("ngForOf",te.buttons)}}const Ee=function(Ue){return{background:Ue,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function Fe(Ue,sn){if(1&Ue&&(a.j41(0,"div",6),a.nrm(1,"div",7),a.DNE(2,Te,12,3,"div",8),a.k0s()),2&Ue){const te=sn.$implicit,k=sn.index,P=a.XpG();a.AVh("clemo-active",k===P.currentSlide),a.R7$(1),a.Y8G("ngStyle",a.eq3(4,Ee,"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+te.backgroundImage+")")),a.R7$(1),a.Y8G("ngIf",null==te.title?null:te.title.trim())}}const tt=function(Ue){return{"line-style":Ue}};function Xe(Ue,sn){if(1&Ue){const te=a.RV6();a.j41(0,"div",18),a.bIt("click",function(){const F=a.eBV(te).index,ne=a.XpG();return a.Njj(ne.navigateToSlide(F))}),a.k0s()}if(2&Ue){const te=sn.index,k=a.XpG();a.AVh("clemo-active",te===k.currentSlide),a.Y8G("ngClass",a.eq3(3,tt,"bottom"===k.navigation))}}function Nt(Ue,sn){if(1&Ue){const te=a.RV6();a.j41(0,"button",19),a.bIt("click",function(){a.eBV(te);const P=a.XpG();return a.Njj(P.prevSlide())}),a.nrm(1,"span",20),a.j41(2,"span",21),a.EFF(3,"Previous"),a.k0s()()}}function Cn(Ue,sn){if(1&Ue){const te=a.RV6();a.j41(0,"button",22),a.bIt("click",function(){a.eBV(te);const P=a.XpG();return a.Njj(P.nextSlide())}),a.nrm(1,"span",23),a.j41(2,"span",21),a.EFF(3,"Next"),a.k0s()()}}const rr=function(Ue,sn){return{"--slider-opacity":Ue,height:sn}},tn=function(Ue){return{"bottom-nav":Ue}};let Ln=(()=>{class Ue{constructor(te,k){this.router=te,this.businessDataService=k,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(te=>{te?(console.log("HeroSliderComponent - Retrieved business data:",te),this.business=te,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?this.slides=this.business.heroSlider.map(k=>({title:this.replaceKeywords(k.title),subtitle:this.replaceKeywords(k.subtitle),backgroundImage:k.backgroundImage,buttons:k.buttons||[]})):(console.warn("HeroSliderComponent - No heroSlider data available in the business data."),this.slides=[])):console.error("HeroSliderComponent - No business data available.")})}replaceKeywords(te){return te&&this.business?.businessName?te.replace(/{{businessName}}/g,this.business.businessName):te}navigateToSlide(te){this.currentSlide=te}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const te=window.scrollY,k=window.innerHeight;this.sliderOpacity=Math.max(1-te/k,0)}static{this.\u0275fac=function(k){return new(k||Ue)(a.rXU(le.Ix),a.rXU(be.A))}}static{this.\u0275cmp=a.VBU({type:Ue,selectors:[["app-hero-slider"]],hostBindings:function(k,P){1&k&&a.bIt("scroll",function(ne){return P.onScroll(ne)},!1,a.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight"},decls:6,vars:11,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button","data-bs-target","#heroCarousel","data-bs-slide","next",3,"click",4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","ngClass"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(k,P){1&k&&(a.j41(0,"div",0),a.DNE(1,Fe,3,6,"div",1),a.j41(2,"div",2),a.DNE(3,Xe,1,5,"div",3),a.k0s(),a.DNE(4,Nt,4,0,"button",4),a.DNE(5,Cn,4,0,"button",5),a.k0s()),2&k&&(a.Y8G("ngStyle",a.l_i(6,rr,P.sliderOpacity,P.sliderHeight)),a.R7$(1),a.Y8G("ngForOf",P.slides),a.R7$(1),a.Y8G("ngClass",a.eq3(9,tn,"bottom"===P.navigation)),a.R7$(1),a.Y8G("ngForOf",P.slides),a.R7$(1),a.Y8G("ngIf",P.sideButtons),a.R7$(1),a.Y8G("ngIf",P.sideButtons))},dependencies:[me.YU,me.Sq,me.bT,me.B3,le.Wk,le.wQ],styles:[".clemo-slider-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden;opacity:var(--slider-opacity, 1);transition:opacity .3s ease;pointer-events:auto}.clemo-slider-container.hidden[_ngcontent-%COMP%]{pointer-events:none}.clemo-slides[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;opacity:0;transition:opacity 1s ease-in-out}.clemo-slides.clemo-active[_ngcontent-%COMP%]{display:block;opacity:1}.clemo-single-home-slider[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.clemo-home-overlay[_ngcontent-%COMP%]{outline:2px solid blue;position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;opacity:.9;z-index:1}.clemo-main-home[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:2;color:#000;animation:_ngcontent-%COMP%_fade-in-opacity 1s ease-in-out}.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;font-weight:700;margin:0;color:#fff}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0;color:#fff}.clemo-separator[_ngcontent-%COMP%]{width:50px;height:2px;background-color:#fff;margin:20px auto}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;margin:20px 0;line-height:1.5}.clemo-home-btn[_ngcontent-%COMP%]{margin-top:20px}.clemo-btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#000;background-color:#fff;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out;margin-right:50px}.clemo-btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-btn-outline[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#fff;background-color:transparent;border:2px solid #fff;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out}.clemo-btn-outline[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-slider-navigation[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:10}.clemo-slider-navigation.bottom-nav[_ngcontent-%COMP%]{inset:auto auto 20px 50%;transform:translate(-50%);flex-direction:row}.clemo-nav-item[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#fff;border-radius:50%;cursor:pointer;transition:all .3s ease;border:2px solid transparent}.clemo-nav-item[_ngcontent-%COMP%]:hover{background-color:#555}.clemo-nav-item.clemo-active[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.clemo-nav-item.line-style[_ngcontent-%COMP%]{width:30px;height:4px;background-color:#fff;clip-path:none;border-radius:2px}@keyframes _ngcontent-%COMP%_fade-in-opacity{0%{opacity:0}to{opacity:1}}.mouse-scroll[_ngcontent-%COMP%]{position:absolute;bottom:-220px;left:50%;transform:translate(-50%);text-align:center;z-index:100;font-family:Arial,sans-serif}.mouse[_ngcontent-%COMP%]{width:30px;height:50px;border:2px solid #fff;border-radius:15px;display:flex;justify-content:center;align-items:center;margin:0 auto 10px;position:relative}.scroll[_ngcontent-%COMP%]{width:6px;height:10px;background-color:#fff;border-radius:3px;animation:_ngcontent-%COMP%_scroll 1.5s infinite}.mouse-scroll[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin:0;opacity:.8}@keyframes _ngcontent-%COMP%_scroll{0%{opacity:0;transform:translateY(-5px)}50%{opacity:1;transform:translateY(5px)}to{opacity:0;transform:translateY(10px)}}@media (max-width: 1024px){.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 768px){.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1rem}.clemo-home-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.clemo-btn[_ngcontent-%COMP%], .clemo-btn-outline[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 15px;margin-right:0}.mouse-scroll[_ngcontent-%COMP%]{bottom:-150px}}@media (max-width: 480px){.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.clemo-subtitle[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.4}.clemo-btn[_ngcontent-%COMP%], .clemo-btn-outline[_ngcontent-%COMP%]{font-size:.85rem;padding:6px 12px}.mouse-scroll[_ngcontent-%COMP%]{bottom:-120px}}"]})}}return Ue})();var Ft=U(9969),Hn=U(4710);function On(Ue,sn){1&Ue&&(a.j41(0,"div",13),a.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),a.k0s())}function Gt(Ue,sn){if(1&Ue){const te=a.RV6();a.j41(0,"button",15),a.bIt("click",function(){a.eBV(te);const P=a.XpG(3);return a.Njj(P.navigateToTestimonials())}),a.EFF(1," Read More "),a.k0s()}}function Ut(Ue,sn){if(1&Ue&&(a.j41(0,"span"),a.EFF(1,"[...]"),a.DNE(2,Gt,2,0,"button",14),a.k0s()),2&Ue){const te=a.XpG().$implicit,k=a.XpG();a.R7$(2),a.Y8G("ngIf",k.isTruncated(te.quote))}}function yr(Ue,sn){if(1&Ue&&(a.j41(0,"div",5)(1,"div",6)(2,"h3",7),a.EFF(3),a.k0s(),a.nrm(4,"div",8),a.j41(5,"p",9),a.EFF(6),a.k0s(),a.DNE(7,On,2,0,"div",10),a.k0s(),a.j41(8,"div",11)(9,"p"),a.EFF(10),a.DNE(11,Ut,3,1,"span",12),a.k0s()()()),2&Ue){const te=sn.$implicit,k=a.XpG();a.Y8G("@slideIn",void 0),a.R7$(1),a.Y8G("@fadeInRight",void 0),a.R7$(2),a.JRh(te.name),a.R7$(3),a.JRh(te.relationship),a.R7$(1),a.Y8G("ngIf",te.isGoogle),a.R7$(1),a.Y8G("@fadeInLeft",void 0),a.R7$(2),a.SpI(" ",k.truncateText(te.quote)," "),a.R7$(1),a.Y8G("ngIf",k.isTruncated(te.quote))}}function on(Ue,sn){if(1&Ue){const te=a.RV6();a.j41(0,"button",16),a.bIt("click",function(){const F=a.eBV(te).index,ne=a.XpG();return a.Njj(ne.goToSlide(F))}),a.EFF(1," \u25cf "),a.k0s()}if(2&Ue){const te=sn.index,k=a.XpG();a.AVh("active",te===k.currentIndex)}}const Mr=function(Ue){return[Ue]};let Zn=(()=>{class Ue{constructor(te,k,P){this.businessDataService=te,this.googleMapsLoader=k,this.router=P,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(te=>{if(te&&te.testimonials){const k=te.testimonials.map(P=>({...P,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...k]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(k,P)=>{if(P===google.maps.places.PlacesServiceStatus.OK){const F=k?.reviews?.map(ne=>({name:ne.author_name,quote:ne.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...F,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",P)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials[this.currentIndex]}goToSlide(te){this.currentIndex=te}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.testimonials.length}trackByIndex(te,k){return te}truncateText(te){return te.length>this.maxTextLength?te.slice(0,this.maxTextLength):te}isTruncated(te){return te.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}static{this.\u0275fac=function(k){return new(k||Ue)(a.rXU(be.A),a.rXU(Hn.L),a.rXU(le.Ix))}}static{this.\u0275cmp=a.VBU({type:Ue,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:5,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],["class","btn read-more",3,"click",4,"ngIf"],[1,"btn","read-more",3,"click"],[3,"click"]],template:function(k,P){1&k&&(a.j41(0,"div",0)(1,"h1",1),a.EFF(2,"clients say\u2019s"),a.k0s(),a.DNE(3,yr,12,8,"div",2),a.j41(4,"div",3),a.DNE(5,on,2,2,"button",4),a.k0s()()),2&k&&(a.R7$(3),a.Y8G("ngForOf",a.eq3(3,Mr,P.currentTestimonial))("ngForTrackBy",P.trackByIndex),a.R7$(2),a.Y8G("ngForOf",P.testimonials))},dependencies:[me.Sq,me.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}@media (max-width: 768px){.testimonials-container[_ngcontent-%COMP%]{padding:3rem 1rem}.testimonial-row[_ngcontent-%COMP%]{gap:15px;flex-direction:column}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .separator5[_ngcontent-%COMP%]{width:60%}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .google-stars[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.carousel-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:2px;button {font-size: 1rem; margin: 0 1px;}}}"],data:{animation:[(0,Ft.hZ)("slideIn",[(0,Ft.kY)(":enter",[(0,Ft.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Ft.i0)("0.5s ease-in",(0,Ft.iF)({opacity:1,transform:"translateX(0)"}))]),(0,Ft.kY)(":leave",[(0,Ft.i0)("0.5s ease-out",(0,Ft.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,Ft.hZ)("fadeInLeft",[(0,Ft.kY)(":enter",[(0,Ft.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Ft.i0)("0.5s ease-in",(0,Ft.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,Ft.hZ)("fadeInRight",[(0,Ft.kY)(":enter",[(0,Ft.iF)({opacity:0,transform:"translateX(100%)"}),(0,Ft.i0)("0.5s ease-in",(0,Ft.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return Ue})();var Bt=U(3711),bn=U(4591);let zn=(()=>{class Ue{constructor(){this.videoSource="",this.autoplay=!1,this.controls=!0,this.loop=!1,this.muted=!1}static{this.\u0275fac=function(k){return new(k||Ue)}}static{this.\u0275cmp=a.VBU({type:Ue,selectors:[["app-video"]],inputs:{videoSource:"videoSource",autoplay:"autoplay",controls:"controls",loop:"loop",muted:"muted"},decls:3,vars:1,consts:[[3,"title"],[1,"video-container"],["width","1024","height","560","src","https://www.youtube.com/embed/rVBHH5DwYFA?si=H-h0ymBehDKZAubx","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen",""]],template:function(k,P){1&k&&(a.nrm(0,"app-section-tilte",0),a.j41(1,"div",1),a.nrm(2,"iframe",2),a.k0s()),2&k&&a.Y8G("title","Video")},dependencies:[bn.L],styles:[".video-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color);padding:20px;box-sizing:border-box}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border:1px solid #ccc;border-radius:8px;aspect-ratio:16 / 9}@media (max-width: 768px){.video-container[_ngcontent-%COMP%]{height:auto;padding:10px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;max-height:60vh}}"]})}}return Ue})();var In=U(5449);function jr(Ue,sn){if(1&Ue&&a.nrm(0,"app-center-text",8),2&Ue){const te=sn.ngIf,k=a.XpG(2);a.Y8G("themeType",(null==k.business||null==k.business.theme?null:k.business.theme.themeType)||"")("imageURL",(null==te?null:te.sectionImageUrl)||"")("title",(null==te?null:te.sectionTitle)||"")("subTitle",(null==te?null:te.sectionSubTitle)||"")("content",(null==te?null:te.sectionContent)||"")("showBtn",!0)("_businessName",(null==k.business?null:k.business.businessName)||"")}}const br=function(){return[]};function Xr(Ue,sn){if(1&Ue&&(a.j41(0,"section"),a.nrm(1,"app-hero-slider",2),a.DNE(2,jr,1,7,"app-center-text",3),a.nI1(3,"sectionFilter"),a.nrm(4,"app-item-list",4)(5,"app-why-us",5)(6,"app-features",6)(7,"app-testimonials",7),a.k0s()),2&Ue){const te=a.XpG();a.R7$(1),a.Y8G("navigation","bottom")("sideButtons",!0),a.R7$(1),a.Y8G("ngIf",a.i5U(3,13,null==te.business?null:te.business.sections,"HomeWelcomeText")),a.R7$(2),a.Y8G("layoutType","hh")("services",(null==te.business?null:te.business.services)||a.lJ4(16,br))("minimal",!0),a.R7$(1),a.Y8G("whyChooseUs",(null==te.business?null:te.business.whyChoose)||a.lJ4(17,br))("layoutType",(null==te.business||null==te.business.theme?null:te.business.theme.themeType)||"demo")("businessName",(null==te.business?null:te.business.businessName)||"Demo"),a.R7$(1),a.Y8G("uniqueService",(null==te.business?null:te.business.uniqueService)||a.lJ4(18,br))("layoutType",(null==te.business||null==te.business.theme?null:te.business.theme.themeType)||"demo"),a.R7$(1),a.Y8G("testimonials",null==te.business?null:te.business.testimonials)("layoutType",(null==te.business||null==te.business.theme?null:te.business.theme.themeType)||"demo")}}function Yn(Ue,sn){if(1&Ue&&a.nrm(0,"app-center-text",13),2&Ue){const te=sn.ngIf,k=a.XpG(2);a.Y8G("themeType",(null==k.business||null==k.business.theme?null:k.business.theme.themeType)||"")("imageURL",(null==te?null:te.sectionImageUrl)||"")("title",(null==te?null:te.sectionTitle)||"")("content",(null==te?null:te.sectionContent)||"")("showBtn",!1)}}function ui(Ue,sn){if(1&Ue&&a.nrm(0,"app-right-text",14),2&Ue){const te=sn.ngIf,k=a.XpG(2);a.Y8G("themeType",(null==k.business||null==k.business.theme?null:k.business.theme.themeType)||"")("imageURL",(null==te?null:te.sectionImageUrl)||"")("title",(null==te?null:te.sectionTitle)||"")("content",(null==te?null:te.sectionContent)||"")}}function gs(Ue,sn){if(1&Ue&&a.nrm(0,"app-left-text",14),2&Ue){const te=sn.ngIf,k=a.XpG(2);a.Y8G("themeType",(null==k.business||null==k.business.theme?null:k.business.theme.themeType)||"")("imageURL",(null==te?null:te.sectionImageUrl)||"")("title",(null==te?null:te.sectionTitle)||"")("content",(null==te?null:te.sectionContent)||"")}}const hn=function(){return{icon:"fas fa-dove",title:"Hospice Care",description:"..."}},Qr=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},tr=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},Cr=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},Wn=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},Pi=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},et=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},pt=function(Ue,sn,te,k,P,F,ne){return[Ue,sn,te,k,P,F,ne]};function de(Ue,sn){if(1&Ue&&(a.j41(0,"section"),a.nrm(1,"app-hero-slider",9),a.DNE(2,Yn,1,5,"app-center-text",10),a.nI1(3,"sectionFilter"),a.DNE(4,ui,1,4,"app-right-text",11),a.nI1(5,"sectionFilter"),a.DNE(6,gs,1,4,"app-left-text",11),a.nI1(7,"sectionFilter"),a.nrm(8,"app-icon-list",12)(9,"app-testimonials",7),a.k0s()),2&Ue){const te=a.XpG();a.R7$(1),a.Y8G("navigation","side")("sideButtons",!1),a.R7$(1),a.Y8G("ngIf",a.i5U(3,8,null==te.business?null:te.business.sections,"HomeCenterText")),a.R7$(2),a.Y8G("ngIf",a.i5U(5,11,null==te.business?null:te.business.sections,"HomeRightText")),a.R7$(2),a.Y8G("ngIf",a.i5U(7,14,null==te.business?null:te.business.sections,"HomeLeftText")),a.R7$(2),a.Y8G("services",a.sGs(24,pt,a.lJ4(17,hn),a.lJ4(18,Qr),a.lJ4(19,tr),a.lJ4(20,Cr),a.lJ4(21,Wn),a.lJ4(22,Pi),a.lJ4(23,et))),a.R7$(1),a.Y8G("testimonials",null==te.business?null:te.business.testimonials)("layoutType",(null==te.business||null==te.business.theme?null:te.business.theme.themeType)||"demo")}}function xe(Ue,sn){if(1&Ue&&a.nrm(0,"app-right-text",14),2&Ue){const te=sn.ngIf,k=a.XpG(2);a.Y8G("themeType",(null==k.business||null==k.business.theme?null:k.business.theme.themeType)||"")("imageURL",(null==te?null:te.sectionImageUrl)||"")("title",(null==te?null:te.sectionTitle)||"")("content",(null==te?null:te.sectionContent)||"")}}function yt(Ue,sn){if(1&Ue&&a.nrm(0,"app-google-maps",20),2&Ue){const te=a.XpG(2);a.Y8G("address",(null==te.business?null:te.business.address)||"")("layoutType",(null==te.business||null==te.business.theme?null:te.business.theme.themeType)||"demo")}}function Wt(Ue,sn){if(1&Ue&&(a.j41(0,"section"),a.nrm(1,"app-hero-slider",15),a.DNE(2,xe,1,4,"app-right-text",11),a.nI1(3,"sectionFilter"),a.nrm(4,"app-video",16)(5,"app-parallax-stats",17)(6,"app-testimonial-carousel",18)(7,"app-parallax-text"),a.DNE(8,yt,1,2,"app-google-maps",19),a.k0s()),2&Ue){const te=a.XpG();a.R7$(1),a.Y8G("navigation","side")("sideButtons",!1),a.R7$(1),a.Y8G("ngIf",a.i5U(3,11,null==te.business?null:te.business.sections,"HomeRightText")),a.R7$(2),a.Y8G("videoSource","https://youtu.be/rVBHH5DwYFA?si=Cr3AncNVTaxqHsfX"),a.R7$(1),a.Y8G("backgroundImage","https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fgallery%2F13.jpg?alt=media&token=cc737375-bdbf-4ba3-95d9-66b63a73b45a")("yearsOfExperience",20)("happyFamilies",55)("servicesOffered",36)("trainedStaff",4),a.R7$(1),a.Y8G("placeId",(null==te.business?null:te.business.placeId)||""),a.R7$(2),a.Y8G("ngIf","clemo"==(null==te.business||null==te.business.theme?null:te.business.theme.themeType))}}function $n(Ue,sn){if(1&Ue&&a.nrm(0,"app-consultation",21),2&Ue){const te=a.XpG();a.Y8G("id",(null==te.business?null:te.business.id)||"")("layoutType",(null==te.business||null==te.business.theme?null:te.business.theme.themeType)||"demo")("businessName",(null==te.business?null:te.business.businessName)||"Demo")}}let Fr=(()=>{class Ue{constructor(te,k,P){this.route=te,this.metaService=k,this.businessDataService=P,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(te=>{te&&(this.businessId=te,this.businessDataService.getBusinessData().subscribe(k=>{this.business=k}),this.metaService.loadAndApplyMeta(this.businessId))})}getSectionByName(te){return this.business?.sections?.find(k=>k.sectionName===te)||null}static{this.\u0275fac=function(k){return new(k||Ue)(a.rXU(le.nX),a.rXU(s.R),a.rXU(be.A))}}static{this.\u0275cmp=a.VBU({type:Ue,selectors:[["app-home"]],decls:4,vars:4,consts:[[4,"ngIf"],[3,"id","layoutType","businessName",4,"ngIf"],["sliderHeight","70vh",3,"navigation","sideButtons"],[3,"themeType","imageURL","title","subTitle","content","showBtn","_businessName",4,"ngIf"],[3,"layoutType","services","minimal"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],[3,"themeType","imageURL","title","subTitle","content","showBtn","_businessName"],["sliderHeight","80vh",3,"navigation","sideButtons"],[3,"themeType","imageURL","title","content","showBtn",4,"ngIf"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"services"],[3,"themeType","imageURL","title","content","showBtn"],[3,"themeType","imageURL","title","content"],["sliderHeight","100vh",3,"navigation","sideButtons"],[3,"videoSource"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff"],[3,"placeId"],[3,"address","layoutType",4,"ngIf"],[3,"address","layoutType"],[3,"id","layoutType","businessName"]],template:function(k,P){1&k&&(a.DNE(0,Xr,8,19,"section",0),a.DNE(1,de,10,32,"section",0),a.DNE(2,Wt,9,14,"section",0),a.DNE(3,$n,1,3,"app-consultation",1)),2&k&&(a.Y8G("ngIf","hh"===(null==P.business||null==P.business.theme?null:P.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","ae"===(null==P.business||null==P.business.theme?null:P.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","clemo"===(null==P.business||null==P.business.theme?null:P.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","clemo"!=(null==P.business||null==P.business.theme?null:P.business.theme.themeType)))},dependencies:[me.bT,$e,vt,Je,en,mn.W,ur.F,Mt.G,jt.j,lt,ke,Ze,Ln,Zn,Bt.a,zn,In.W]})}}return Ue})()},214:(nn,qe,U)=>{U.d(qe,{W:()=>le});var a=U(7705);let le=(()=>{class s{constructor(){this.closeModal=new a.bkB}close(){this.closeModal.emit()}static{this.\u0275fac=function(De){return new(De||s)}}static{this.\u0275cmp=a.VBU({type:s,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(De,Ae){1&De&&(a.j41(0,"div",0),a.bIt("click",function(){return Ae.close()}),a.j41(1,"div",1),a.bIt("click",function(Re){return Re.stopPropagation()}),a.j41(2,"button",2),a.bIt("click",function(){return Ae.close()}),a.EFF(3,"Close"),a.k0s(),a.nrm(4,"img",3),a.k0s()()),2&De&&(a.R7$(4),a.Y8G("src",Ae.imageUrl,a.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}}return s})()},5449:(nn,qe,U)=>{U.d(qe,{W:()=>le});var a=U(7705);let le=(()=>{class s{transform(me,De){return me&&De&&me.find(Ae=>Ae.sectionName===De)||null}static{this.\u0275fac=function(De){return new(De||s)}}static{this.\u0275pipe=a.EJ8({name:"sectionFilter",type:s,pure:!0})}}return s})()},4796:(nn,qe,U)=>{U.d(qe,{u:()=>me});var a=U(6354),le=U(7705),s=U(1977),be=U(6814);let me=(()=>{class De{constructor(Ne,Re){this.afAuth=Ne,this.router=Re,this.user$=Ne.authState}login(Ne,Re){return this.afAuth.signInWithEmailAndPassword(Ne,Re)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,a.T)(Ne=>!!Ne))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Re){return new(Re||De)(le.KVO(s.DS),le.KVO(be.Ix))}}static{this.\u0275prov=le.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})()},923:(nn,qe,U)=>{U.d(qe,{A:()=>De});var a=U(4412),le=U(6354),s=U(8141),be=U(7705),me=U(3012);let De=(()=>{class Ae{constructor(Re){this.businessService=Re,this.businessDataSubject=new a.t(null),this.businessIdSubject=new a.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Re){return console.log("BusinessDataService - loadBusinessData for ID:",Re),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Re).pipe((0,le.T)(ee=>ee??null),(0,s.M)(ee=>{console.log("BusinessDataService - Business fetched:",ee),this.businessDataSubject.next(ee),this.businessIdSubject.next(Re)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static{this.\u0275fac=function(ee){return new(ee||Ae)(be.KVO(me.u))}}static{this.\u0275prov=be.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}}return Ae})()},3012:(nn,qe,U)=>{U.d(qe,{u:()=>Ae});var a=U(7673),le=U(6354),s=U(5558),be=U(7705),me=U(6340),De=U(8721);let Ae=(()=>{class Ne{constructor(ee,oe){this.afs=ee,this.storage=oe,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(ee){console.log("Business Created");const oe=this.afs.createId();return this.afs.doc(`${this.basePath}/${oe}`).set({...ee,id:oe}),this.afs.doc(`${this.basePath}/${oe}`).valueChanges().pipe((0,le.T)(pe=>{if(!pe)throw new Error("Business not found after creation");return pe}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,le.T)(ee=>ee.map(oe=>{const pe=oe.payload.doc.data(),rt=oe.payload.doc.id,{id:$e,...Tt}=pe;return{id:rt,...Tt}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,ee=>ee.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(ee){return this.getBusinessData(ee)}getBusinessData(ee){const oe=ee&&ee.trim()?ee:this.defaultBusinessId;return this.afs.collection("businesses").doc(oe).snapshotChanges().pipe((0,s.n)(pe=>{const rt=pe.payload.data(),$e=pe.payload.id;if(!rt)return(0,a.of)(void 0);const{id:Tt,...wt}=rt,vt={id:$e,...wt},St={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${$e}/theme`).doc("themeDoc").snapshotChanges().pipe((0,le.T)(Le=>{const ye=Le.payload.data()||St;return vt.theme=ye,vt}))}))}updateBusiness(ee,oe){return this.afs.doc(`${this.basePath}/${ee}`).update(oe)}deleteBusiness(ee){return this.afs.doc(`${this.basePath}/${ee}`).delete()}uploadFile(ee,oe){return this.storage.upload(ee,oe)}getDownloadURL(ee){return this.storage.ref(ee).getDownloadURL()}updateThemeFileName(ee,oe=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${oe}`).update({"theme.themeFileName":ee})}getThemeFileName(ee=this.defaultBusinessId){const pe=this.afs.collection(this.basePath).doc(ee).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${ee}`),pe.get().toPromise().then(rt=>{if(rt&&rt.exists){const $e=rt.data();console.log("Theme document found:",$e);const Tt=$e?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${Tt}`),Tt}return console.warn(`No theme document found for business ID: ${ee}. Using default theme.`),"default.css"}).catch(rt=>(console.error(`Error fetching theme file name for business ID: ${ee}`,rt),"default.css"))}static{this.\u0275fac=function(oe){return new(oe||Ne)(be.KVO(me.Qe),be.KVO(De.ap))}}static{this.\u0275prov=be.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})()},4710:(nn,qe,U)=>{U.d(qe,{L:()=>s});var le=U(7705);let s=(()=>{class be{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((De,Ae)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void De();const Ne=document.createElement("script");Ne.id="google-maps-script",Ne.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Ne.async=!0,Ne.defer=!0,Ne.onload=()=>{this.scriptLoaded=!0,De()},Ne.onerror=Re=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,Ae(Re)},document.body.appendChild(Ne)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(Ae){return new(Ae||be)}}static{this.\u0275prov=le.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},6861:(nn,qe,U)=>{U.d(qe,{R:()=>be});var a=U(7705),le=U(345),s=U(923);let be=(()=>{class me{constructor(Ae,Ne,Re){this.meta=Ae,this.title=Ne,this.businessDataService=Re}updateMetaTags(Ae){this.title.setTitle(Ae.title),this.meta.updateTag({name:"description",content:Ae.description}),this.meta.updateTag({name:"keywords",content:Ae.keywords}),this.meta.updateTag({property:"og:title",content:Ae.title}),this.meta.updateTag({property:"og:description",content:Ae.description})}updateFavicon(Ae){const Ne=document.getElementsByTagName("head")[0];let Re=document.querySelector("link[rel*='icon']");Re||(Re=document.createElement("link"),Re.rel="icon",Ne.appendChild(Re)),Re.href=Ae}loadAndApplyMeta(Ae){this.businessDataService.loadBusinessData(Ae).subscribe(Ne=>{Ne?(this.updateMetaTags({title:Ne.metaTitle||"Default Title",description:Ne.metaDescription||"Default Description",keywords:Ne.metaKeywords||"default, keywords"}),Ne.faviconUrl&&this.updateFavicon(Ne.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Ne){return new(Ne||me)(a.KVO(le.W8),a.KVO(le.hE),a.KVO(s.A))}}static{this.\u0275prov=a.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}}return me})()},5009:(nn,qe,U)=>{U.d(qe,{F:()=>Re});var a=U(8810),le=U(8455),s=U(7673),be=U(6697),me=U(5558),De=U(9437),Ae=U(7705),Ne=U(6340);let Re=(()=>{class ee{constructor(pe){this.firestore=pe,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(pe){return this.firestore.collection("businesses").doc(pe).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(pe){console.log("Theme Service: - Fetching theme for business ID:",pe);const rt=this.firestore.collection("businesses").doc(pe),$e=rt.collection("theme").doc("themeDoc");return rt.snapshotChanges().pipe((0,be.s)(1),(0,me.n)(Tt=>Tt.payload.exists?$e.get().pipe((0,me.n)(wt=>wt.exists?(wt.data(),$e.valueChanges()):(0,le.H)($e.set(this.defaultTheme)).pipe((0,me.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),$e.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,a.$)("Theme Service: - Business document does not exist"))),(0,De.W)(Tt=>(console.error("Error fetching theme:",Tt),this.applyThemeFile(this.defaultTheme.themeFileName),(0,s.of)(this.defaultTheme))))}updateColors(pe,rt){const $e=this.firestore.collection("businesses").doc(pe).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+pe+" theme service updateColors: ",rt),$e.set(rt,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),rt.themeFileName&&this.applyThemeFile(rt.themeFileName)}).catch(Tt=>{throw console.error("Theme Service: - Error updating colors:",Tt),new Error(Tt)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(pe){return this.loadCss(`assets/themes/${pe}`)}loadCss(pe){return new Promise((rt,$e)=>{console.log("Load css from  file:",pe);const Tt=document.createElement("link");Tt.rel="stylesheet",Tt.href=pe,Tt.onload=()=>{console.log(`Loaded theme: ${pe}`),rt()},Tt.onerror=wt=>{console.error(`Failed to load theme: ${pe}`,wt),$e(wt)},document.head.appendChild(Tt)})}static{this.\u0275fac=function(rt){return new(rt||ee)(Ae.KVO(Ne.Qe))}}static{this.\u0275prov=Ae.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}}return ee})()},8704:(nn,qe,U)=>{U.d(qe,{N:()=>Ae});var a=U(6354),le=U(9437),s=U(7673),be=U(7705),me=U(6340),De=U(8721);let Ae=(()=>{class Ne{constructor(ee,oe){this.firestore=ee,this.storage=oe,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(ee){const oe=ee&&ee.trim()?ee:this.defaultBusinessId;return this.firestore.collection("businesses").doc(oe).snapshotChanges().pipe((0,a.T)(pe=>{const rt=pe.payload.data(),$e=pe.payload.id;if(rt){const{id:Tt,testimonials:wt=[],...vt}=rt;return{id:$e,testimonials:wt.map(Pt=>({...Pt,photoURL:Pt.photoURL&&Pt.photoURL.trim()?Pt.photoURL:this.defaultImage})),...vt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(ee){return this.storage.ref(ee).getDownloadURL().pipe((0,le.W)(oe=>(console.error("Error fetching photo URL:",oe),(0,s.of)(""))))}getEmployeesByBusinessId(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).get().pipe((0,a.T)(oe=>{if(oe.exists){const pe=oe.data();return pe&&pe.employees?pe.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,le.W)(oe=>(console.error("Error fetching employees:",oe),(0,s.of)([]))))}getBusinessGalleryImagesById(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection("gallery").valueChanges()}getBusinessUploadedImagesById(ee,oe){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection(oe).valueChanges()}checkImageExists(ee){return this.storage.refFromURL(ee).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(oe){return new(oe||Ne)(be.KVO(me.Qe),be.KVO(De.ap))}}static{this.\u0275prov=be.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})()},5421:(nn,qe,U)=>{var a={};U.r(a),U.d(a,{afterMain:()=>wn,afterRead:()=>Qe,afterWrite:()=>Ar,applyStyles:()=>Ir,arrow:()=>ir,auto:()=>Mi,basePlacements:()=>us,beforeMain:()=>gt,beforeRead:()=>Ie,beforeWrite:()=>_n,bottom:()=>Kn,clippingParents:()=>bs,computeStyles:()=>Ji,createPopper:()=>Ho,createPopperBase:()=>fo,createPopperLite:()=>Zo,detectOverflow:()=>Ua,end:()=>Vi,eventListeners:()=>fs,flip:()=>Ll,hide:()=>Aa,left:()=>Zr,main:()=>Yt,modifierPhases:()=>kn,offset:()=>ja,placements:()=>Q,popper:()=>$i,popperGenerator:()=>vi,popperOffsets:()=>M,preventOverflow:()=>Y,read:()=>Me,reference:()=>Ds,right:()=>oi,start:()=>Rr,top:()=>Fn,variationPlacements:()=>Z,viewport:()=>Qn,write:()=>Jn});var le=U(345),s=U(7705),be=U(7673),me=U(8455),De=U(1985),Ae=U(274),Ne=U(5964),Re=U(6354),ee=U(980),oe=U(5558),pe=U(177);class rt{}class $e{}class Tt{constructor(l){this.normalizedNames=new Map,this.lazyUpdate=null,l?"string"==typeof l?this.lazyInit=()=>{this.headers=new Map,l.split("\n").forEach(c=>{const y=c.indexOf(":");if(y>0){const I=c.slice(0,y),V=I.toLowerCase(),z=c.slice(y+1).trim();this.maybeSetNormalizedName(I,V),this.headers.has(V)?this.headers.get(V).push(z):this.headers.set(V,[z])}})}:typeof Headers<"u"&&l instanceof Headers?(this.headers=new Map,l.forEach((c,y)=>{this.setHeaderEntries(y,c)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(l).forEach(([c,y])=>{this.setHeaderEntries(c,y)})}:this.headers=new Map}has(l){return this.init(),this.headers.has(l.toLowerCase())}get(l){this.init();const c=this.headers.get(l.toLowerCase());return c&&c.length>0?c[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(l){return this.init(),this.headers.get(l.toLowerCase())||null}append(l,c){return this.clone({name:l,value:c,op:"a"})}set(l,c){return this.clone({name:l,value:c,op:"s"})}delete(l,c){return this.clone({name:l,value:c,op:"d"})}maybeSetNormalizedName(l,c){this.normalizedNames.has(c)||this.normalizedNames.set(c,l)}init(){this.lazyInit&&(this.lazyInit instanceof Tt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(l=>this.applyUpdate(l)),this.lazyUpdate=null))}copyFrom(l){l.init(),Array.from(l.headers.keys()).forEach(c=>{this.headers.set(c,l.headers.get(c)),this.normalizedNames.set(c,l.normalizedNames.get(c))})}clone(l){const c=new Tt;return c.lazyInit=this.lazyInit&&this.lazyInit instanceof Tt?this.lazyInit:this,c.lazyUpdate=(this.lazyUpdate||[]).concat([l]),c}applyUpdate(l){const c=l.name.toLowerCase();switch(l.op){case"a":case"s":let y=l.value;if("string"==typeof y&&(y=[y]),0===y.length)return;this.maybeSetNormalizedName(l.name,c);const I=("a"===l.op?this.headers.get(c):void 0)||[];I.push(...y),this.headers.set(c,I);break;case"d":const V=l.value;if(V){let z=this.headers.get(c);if(!z)return;z=z.filter(ae=>-1===V.indexOf(ae)),0===z.length?(this.headers.delete(c),this.normalizedNames.delete(c)):this.headers.set(c,z)}else this.headers.delete(c),this.normalizedNames.delete(c)}}setHeaderEntries(l,c){const y=(Array.isArray(c)?c:[c]).map(V=>V.toString()),I=l.toLowerCase();this.headers.set(I,y),this.maybeSetNormalizedName(l,I)}forEach(l){this.init(),Array.from(this.normalizedNames.keys()).forEach(c=>l(this.normalizedNames.get(c),this.headers.get(c)))}}class vt{encodeKey(l){return ye(l)}encodeValue(l){return ye(l)}decodeKey(l){return decodeURIComponent(l)}decodeValue(l){return decodeURIComponent(l)}}const Pt=/%(\d[a-f0-9])/gi,Le={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ye(p){return encodeURIComponent(p).replace(Pt,(l,c)=>Le[c]??l)}function Je(p){return`${p}`}class We{constructor(l={}){if(this.updates=null,this.cloneFrom=null,this.encoder=l.encoder||new vt,l.fromString){if(l.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function St(p,l){const c=new Map;return p.length>0&&p.replace(/^\?/,"").split("&").forEach(I=>{const V=I.indexOf("="),[z,ae]=-1==V?[l.decodeKey(I),""]:[l.decodeKey(I.slice(0,V)),l.decodeValue(I.slice(V+1))],_e=c.get(z)||[];_e.push(ae),c.set(z,_e)}),c}(l.fromString,this.encoder)}else l.fromObject?(this.map=new Map,Object.keys(l.fromObject).forEach(c=>{const y=l.fromObject[c],I=Array.isArray(y)?y.map(Je):[Je(y)];this.map.set(c,I)})):this.map=null}has(l){return this.init(),this.map.has(l)}get(l){this.init();const c=this.map.get(l);return c?c[0]:null}getAll(l){return this.init(),this.map.get(l)||null}keys(){return this.init(),Array.from(this.map.keys())}append(l,c){return this.clone({param:l,value:c,op:"a"})}appendAll(l){const c=[];return Object.keys(l).forEach(y=>{const I=l[y];Array.isArray(I)?I.forEach(V=>{c.push({param:y,value:V,op:"a"})}):c.push({param:y,value:I,op:"a"})}),this.clone(c)}set(l,c){return this.clone({param:l,value:c,op:"s"})}delete(l,c){return this.clone({param:l,value:c,op:"d"})}toString(){return this.init(),this.keys().map(l=>{const c=this.encoder.encodeKey(l);return this.map.get(l).map(y=>c+"="+this.encoder.encodeValue(y)).join("&")}).filter(l=>""!==l).join("&")}clone(l){const c=new We({encoder:this.encoder});return c.cloneFrom=this.cloneFrom||this,c.updates=(this.updates||[]).concat(l),c}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(l=>this.map.set(l,this.cloneFrom.map.get(l))),this.updates.forEach(l=>{switch(l.op){case"a":case"s":const c=("a"===l.op?this.map.get(l.param):void 0)||[];c.push(Je(l.value)),this.map.set(l.param,c);break;case"d":if(void 0===l.value){this.map.delete(l.param);break}{let y=this.map.get(l.param)||[];const I=y.indexOf(Je(l.value));-1!==I&&y.splice(I,1),y.length>0?this.map.set(l.param,y):this.map.delete(l.param)}}}),this.cloneFrom=this.updates=null)}}class Dt{constructor(){this.map=new Map}set(l,c){return this.map.set(l,c),this}get(l){return this.map.has(l)||this.map.set(l,l.defaultValue()),this.map.get(l)}delete(l){return this.map.delete(l),this}has(l){return this.map.has(l)}keys(){return this.map.keys()}}function we(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer}function en(p){return typeof Blob<"u"&&p instanceof Blob}function mn(p){return typeof FormData<"u"&&p instanceof FormData}class Mt{constructor(l,c,y,I){let V;if(this.url=c,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=l.toUpperCase(),function Ot(p){switch(p){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||I?(this.body=void 0!==y?y:null,V=I):V=y,V&&(this.reportProgress=!!V.reportProgress,this.withCredentials=!!V.withCredentials,V.responseType&&(this.responseType=V.responseType),V.headers&&(this.headers=V.headers),V.context&&(this.context=V.context),V.params&&(this.params=V.params)),this.headers||(this.headers=new Tt),this.context||(this.context=new Dt),this.params){const z=this.params.toString();if(0===z.length)this.urlWithParams=c;else{const ae=c.indexOf("?");this.urlWithParams=c+(-1===ae?"?":ae<c.length-1?"&":"")+z}}else this.params=new We,this.urlWithParams=c}serializeBody(){return null===this.body?null:we(this.body)||en(this.body)||mn(this.body)||function ur(p){return typeof URLSearchParams<"u"&&p instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof We?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mn(this.body)?null:en(this.body)?this.body.type||null:we(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof We?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(l={}){const c=l.method||this.method,y=l.url||this.url,I=l.responseType||this.responseType,V=void 0!==l.body?l.body:this.body,z=void 0!==l.withCredentials?l.withCredentials:this.withCredentials,ae=void 0!==l.reportProgress?l.reportProgress:this.reportProgress;let _e=l.headers||this.headers,Ke=l.params||this.params;const ut=l.context??this.context;return void 0!==l.setHeaders&&(_e=Object.keys(l.setHeaders).reduce((Lt,rn)=>Lt.set(rn,l.setHeaders[rn]),_e)),l.setParams&&(Ke=Object.keys(l.setParams).reduce((Lt,rn)=>Lt.set(rn,l.setParams[rn]),Ke)),new Mt(c,y,V,{params:Ke,headers:_e,context:ut,reportProgress:ae,responseType:I,withCredentials:z})}}var jt=function(p){return p[p.Sent=0]="Sent",p[p.UploadProgress=1]="UploadProgress",p[p.ResponseHeader=2]="ResponseHeader",p[p.DownloadProgress=3]="DownloadProgress",p[p.Response=4]="Response",p[p.User=5]="User",p}(jt||{});class Kt{constructor(l,c=200,y="OK"){this.headers=l.headers||new Tt,this.status=void 0!==l.status?l.status:c,this.statusText=l.statusText||y,this.url=l.url||null,this.ok=this.status>=200&&this.status<300}}class lt extends Kt{constructor(l={}){super(l),this.type=jt.ResponseHeader}clone(l={}){return new lt({headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class ke extends Kt{constructor(l={}){super(l),this.type=jt.Response,this.body=void 0!==l.body?l.body:null}clone(l={}){return new ke({body:void 0!==l.body?l.body:this.body,headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class Ze extends Kt{constructor(l){super(l,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${l.url||"(unknown url)"}`:`Http failure response for ${l.url||"(unknown url)"}: ${l.status} ${l.statusText}`,this.error=l.error||null}}function Jt(p,l){return{body:l,headers:p.headers,context:p.context,observe:p.observe,params:p.params,reportProgress:p.reportProgress,responseType:p.responseType,withCredentials:p.withCredentials}}let je=(()=>{class p{constructor(c){this.handler=c}request(c,y,I={}){let V;if(c instanceof Mt)V=c;else{let _e,Ke;_e=I.headers instanceof Tt?I.headers:new Tt(I.headers),I.params&&(Ke=I.params instanceof We?I.params:new We({fromObject:I.params})),V=new Mt(c,y,void 0!==I.body?I.body:null,{headers:_e,context:I.context,params:Ke,reportProgress:I.reportProgress,responseType:I.responseType||"json",withCredentials:I.withCredentials})}const z=(0,be.of)(V).pipe((0,Ae.H)(_e=>this.handler.handle(_e)));if(c instanceof Mt||"events"===I.observe)return z;const ae=z.pipe((0,Ne.p)(_e=>_e instanceof ke));switch(I.observe||"body"){case"body":switch(V.responseType){case"arraybuffer":return ae.pipe((0,Re.T)(_e=>{if(null!==_e.body&&!(_e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _e.body}));case"blob":return ae.pipe((0,Re.T)(_e=>{if(null!==_e.body&&!(_e.body instanceof Blob))throw new Error("Response is not a Blob.");return _e.body}));case"text":return ae.pipe((0,Re.T)(_e=>{if(null!==_e.body&&"string"!=typeof _e.body)throw new Error("Response is not a string.");return _e.body}));default:return ae.pipe((0,Re.T)(_e=>_e.body))}case"response":return ae;default:throw new Error(`Unreachable: unhandled observe type ${I.observe}}`)}}delete(c,y={}){return this.request("DELETE",c,y)}get(c,y={}){return this.request("GET",c,y)}head(c,y={}){return this.request("HEAD",c,y)}jsonp(c,y){return this.request("JSONP",c,{params:(new We).append(y,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(c,y={}){return this.request("OPTIONS",c,y)}patch(c,y,I={}){return this.request("PATCH",c,Jt(I,y))}post(c,y,I={}){return this.request("POST",c,Jt(I,y))}put(c,y,I={}){return this.request("PUT",c,Jt(I,y))}static{this.\u0275fac=function(y){return new(y||p)(s.KVO(rt))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})();function rr(p,l){return l(p)}function tn(p,l){return(c,y)=>l.intercept(c,{handle:I=>p(I,y)})}const Ft=new s.nKC(""),Hn=new s.nKC(""),On=new s.nKC("");function Gt(){let p=null;return(l,c)=>{null===p&&(p=((0,s.WQX)(Ft,{optional:!0})??[]).reduceRight(tn,rr));const y=(0,s.WQX)(s.$K3),I=y.add();return p(l,c).pipe((0,ee.j)(()=>y.remove(I)))}}let Ut=(()=>{class p extends rt{constructor(c,y){super(),this.backend=c,this.injector=y,this.chain=null,this.pendingTasks=(0,s.WQX)(s.$K3)}handle(c){if(null===this.chain){const I=Array.from(new Set([...this.injector.get(Hn),...this.injector.get(On,[])]));this.chain=I.reduceRight((V,z)=>function Ln(p,l,c){return(y,I)=>c.runInContext(()=>l(y,V=>p(V,I)))}(V,z,this.injector),rr)}const y=this.pendingTasks.add();return this.chain(c,I=>this.backend.handle(I)).pipe((0,ee.j)(()=>this.pendingTasks.remove(y)))}static{this.\u0275fac=function(y){return new(y||p)(s.KVO($e),s.KVO(s.uvJ))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})();const Yn=/^\)\]\}',?\n/;let gs=(()=>{class p{constructor(c){this.xhrFactory=c}handle(c){if("JSONP"===c.method)throw new s.wOt(-2800,!1);const y=this.xhrFactory;return(y.\u0275loadImpl?(0,me.H)(y.\u0275loadImpl()):(0,be.of)(null)).pipe((0,oe.n)(()=>new De.c(V=>{const z=y.build();if(z.open(c.method,c.urlWithParams),c.withCredentials&&(z.withCredentials=!0),c.headers.forEach((Xt,Pn)=>z.setRequestHeader(Xt,Pn.join(","))),c.headers.has("Accept")||z.setRequestHeader("Accept","application/json, text/plain, */*"),!c.headers.has("Content-Type")){const Xt=c.detectContentTypeHeader();null!==Xt&&z.setRequestHeader("Content-Type",Xt)}if(c.responseType){const Xt=c.responseType.toLowerCase();z.responseType="json"!==Xt?Xt:"text"}const ae=c.serializeBody();let _e=null;const Ke=()=>{if(null!==_e)return _e;const Xt=z.statusText||"OK",Pn=new Tt(z.getAllResponseHeaders()),mr=function ui(p){return"responseURL"in p&&p.responseURL?p.responseURL:/^X-Request-URL:/m.test(p.getAllResponseHeaders())?p.getResponseHeader("X-Request-URL"):null}(z)||c.url;return _e=new lt({headers:Pn,status:z.status,statusText:Xt,url:mr}),_e},ut=()=>{let{headers:Xt,status:Pn,statusText:mr,url:Vr}=Ke(),_r=null;204!==Pn&&(_r=typeof z.response>"u"?z.responseText:z.response),0===Pn&&(Pn=_r?200:0);let nr=Pn>=200&&Pn<300;if("json"===c.responseType&&"string"==typeof _r){const bi=_r;_r=_r.replace(Yn,"");try{_r=""!==_r?JSON.parse(_r):null}catch(Wr){_r=bi,nr&&(nr=!1,_r={error:Wr,text:_r})}}nr?(V.next(new ke({body:_r,headers:Xt,status:Pn,statusText:mr,url:Vr||void 0})),V.complete()):V.error(new Ze({error:_r,headers:Xt,status:Pn,statusText:mr,url:Vr||void 0}))},Lt=Xt=>{const{url:Pn}=Ke(),mr=new Ze({error:Xt,status:z.status||0,statusText:z.statusText||"Unknown Error",url:Pn||void 0});V.error(mr)};let rn=!1;const vn=Xt=>{rn||(V.next(Ke()),rn=!0);let Pn={type:jt.DownloadProgress,loaded:Xt.loaded};Xt.lengthComputable&&(Pn.total=Xt.total),"text"===c.responseType&&z.responseText&&(Pn.partialText=z.responseText),V.next(Pn)},En=Xt=>{let Pn={type:jt.UploadProgress,loaded:Xt.loaded};Xt.lengthComputable&&(Pn.total=Xt.total),V.next(Pn)};return z.addEventListener("load",ut),z.addEventListener("error",Lt),z.addEventListener("timeout",Lt),z.addEventListener("abort",Lt),c.reportProgress&&(z.addEventListener("progress",vn),null!==ae&&z.upload&&z.upload.addEventListener("progress",En)),z.send(ae),V.next({type:jt.Sent}),()=>{z.removeEventListener("error",Lt),z.removeEventListener("abort",Lt),z.removeEventListener("load",ut),z.removeEventListener("timeout",Lt),c.reportProgress&&(z.removeEventListener("progress",vn),null!==ae&&z.upload&&z.upload.removeEventListener("progress",En)),z.readyState!==z.DONE&&z.abort()}})))}static{this.\u0275fac=function(y){return new(y||p)(s.KVO(pe.N0))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})();const hn=new s.nKC("XSRF_ENABLED"),tr=new s.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Wn=new s.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Pi{}let et=(()=>{class p{constructor(c,y,I){this.doc=c,this.platform=y,this.cookieName=I,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const c=this.doc.cookie||"";return c!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,pe._b)(c,this.cookieName),this.lastCookieString=c),this.lastToken}static{this.\u0275fac=function(y){return new(y||p)(s.KVO(pe.qQ),s.KVO(s.Agw),s.KVO(tr))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})();function pt(p,l){const c=p.url.toLowerCase();if(!(0,s.WQX)(hn)||"GET"===p.method||"HEAD"===p.method||c.startsWith("http://")||c.startsWith("https://"))return l(p);const y=(0,s.WQX)(Pi).getToken(),I=(0,s.WQX)(Wn);return null!=y&&!p.headers.has(I)&&(p=p.clone({headers:p.headers.set(I,y)})),l(p)}var xe=function(p){return p[p.Interceptors=0]="Interceptors",p[p.LegacyInterceptors=1]="LegacyInterceptors",p[p.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",p[p.NoXsrfProtection=3]="NoXsrfProtection",p[p.JsonpSupport=4]="JsonpSupport",p[p.RequestsMadeViaParent=5]="RequestsMadeViaParent",p[p.Fetch=6]="Fetch",p}(xe||{});function yt(p,l){return{\u0275kind:p,\u0275providers:l}}function Wt(...p){const l=[je,gs,Ut,{provide:rt,useExisting:Ut},{provide:$e,useExisting:gs},{provide:Hn,useValue:pt,multi:!0},{provide:hn,useValue:!0},{provide:Pi,useClass:et}];for(const c of p)l.push(...c.\u0275providers);return(0,s.EmA)(l)}const Fr=new s.nKC("LEGACY_INTERCEPTOR_FN");let ge=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=s.$C({type:p})}static{this.\u0275inj=s.G2t({providers:[Wt(yt(xe.LegacyInterceptors,[{provide:Fr,useFactory:Gt},{provide:Hn,useExisting:Fr,multi:!0}]))]})}}return p})();var fr=U(6814),ks=U(3112),wi=U(8704),zi=U(6861),ki=U(923),Ai=U(9437),or=U(4591);function Fs(p,l){if(1&p&&(s.j41(0,"div",5),s.nrm(1,"img",6),s.j41(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"h4"),s.EFF(5),s.k0s(),s.j41(6,"p"),s.EFF(7),s.k0s()()),2&p){const c=l.$implicit;s.R7$(1),s.FS9("alt",c.name),s.Y8G("src",c.photoURL,s.B4B),s.R7$(2),s.JRh(c.name),s.R7$(2),s.JRh(c.role),s.R7$(2),s.JRh(c.bio)}}function Et(p,l){if(1&p&&(s.j41(0,"div",1),s.nrm(1,"app-section-tilte",2),s.j41(2,"div",3),s.DNE(3,Fs,8,5,"div",4),s.nI1(4,"async"),s.k0s()()),2&p){const c=s.XpG();s.R7$(1),s.Y8G("title","Meet the Team"),s.R7$(2),s.Y8G("ngForOf",s.bMT(4,2,c.employees$))}}let nt=(()=>{class p{constructor(c,y){this.route=c,this.employeeService=y}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Re.T)(c=>c.get("id")||""),(0,oe.n)(c=>this.employeeService.getEmployeesByBusinessId(c)),(0,Ai.W)(c=>(console.error("Error fetching employees:",c),(0,be.of)([]))))}static{this.\u0275fac=function(y){return new(y||p)(s.rXU(fr.nX),s.rXU(wi.N))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(y,I){1&y&&s.DNE(0,Et,5,4,"div",0),2&y&&s.Y8G("ngIf",I.employees$)},dependencies:[pe.Sq,pe.bT,or.L,pe.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--dark-background-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:var(--primary-color)}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--dark-background-color);margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}}return p})();var Rt=U(4593),ln=U(491);let Vn=(()=>{class p{constructor(c,y){this.route=c,this.router=y,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"}}}ngOnInit(){this.router.events.subscribe(()=>{const y=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",y),y&&this.imagesAndMessages[y]?(this.backgroundImage=`url(${this.imagesAndMessages[y].image})`,this.message=this.imagesAndMessages[y].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(y){return new(y||p)(s.rXU(fr.nX),s.rXU(fr.Ix))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(y,I){1&y&&(s.j41(0,"div",0)(1,"div",1)(2,"h1"),s.EFF(3),s.k0s()()()),2&y&&(s.xc7("background-image",I.backgroundImage),s.R7$(3),s.JRh(I.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px;color:var(--primary-color)}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}}return p})(),Mn=(()=>{class p{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(y,I){1&y&&(s.j41(0,"div",0)(1,"div",1),s.nrm(2,"img",2),s.j41(3,"div",3)(4,"p",4),s.EFF(5),s.k0s(),s.j41(6,"p",5),s.EFF(7),s.k0s()()()()),2&y&&(s.R7$(2),s.FS9("src",I.imageURL,s.B4B),s.R7$(3),s.SpI('" ',I.text,'"'),s.R7$(2),s.SpI("\u2013 ",I.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return p})();function dr(p,l){if(1&p&&(s.qex(0),s.j41(1,"button",3),s.EFF(2),s.k0s(),s.bVm()),2&p){const c=s.XpG();s.R7$(2),s.JRh(c.buttonText)}}function Br(p,l){if(1&p&&(s.j41(0,"a",4),s.EFF(1),s.k0s()),2&p){const c=s.XpG();s.R7$(1),s.JRh(c.buttonText)}}const Kr=function(p,l){return{"background-color":p,color:l}};let Tr=(()=>{class p{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(y,I){if(1&y&&(s.j41(0,"div",0)(1,"h2"),s.EFF(2),s.k0s(),s.DNE(3,dr,3,1,"ng-container",1),s.DNE(4,Br,2,1,"ng-template",null,2,s.C5r),s.k0s()),2&y){const V=s.sdS(5);s.Y8G("ngStyle",s.l_i(4,Kr,I.bgColor,I.textColor)),s.R7$(2),s.JRh(I.text),s.R7$(1),s.Y8G("ngIf",I.isButton)("ngIfElse",V)}},dependencies:[pe.bT,pe.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return p})();var Wi=U(5449);function ws(p,l){if(1&p&&(s.j41(0,"section",17)(1,"div",18),s.nrm(2,"h2",19),s.k0s(),s.nrm(3,"div",20),s.k0s()),2&p){const c=l.ngIf;s.R7$(2),s.Y8G("innerHTML",c.sectionTitle||"",s.npT),s.R7$(1),s.Y8G("innerHTML",c.sectionContent||"",s.npT)}}function ts(p,l){if(1&p&&(s.j41(0,"div",21),s.nrm(1,"img",22),s.j41(2,"div",18),s.nrm(3,"h2",19),s.k0s(),s.nrm(4,"div",20),s.k0s()),2&p){const c=l.ngIf;s.R7$(1),s.Y8G("src",c.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",s.B4B),s.R7$(2),s.Y8G("innerHTML",c.sectionTitle||"",s.npT),s.R7$(1),s.Y8G("innerHTML",c.sectionContent||"",s.npT)}}function Lo(p,l){if(1&p&&(s.j41(0,"div",23),s.nrm(1,"img",22),s.j41(2,"div",18),s.nrm(3,"h2",19),s.k0s(),s.nrm(4,"div",20),s.k0s()),2&p){const c=l.ngIf;s.R7$(1),s.Y8G("src",c.sectionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",s.B4B),s.R7$(2),s.Y8G("innerHTML",c.sectionTitle||"",s.npT),s.R7$(1),s.Y8G("innerHTML",c.sectionContent||"",s.npT)}}function Vo(p,l){if(1&p&&(s.j41(0,"section",17)(1,"div",18),s.nrm(2,"h2",19),s.k0s(),s.nrm(3,"div",20),s.k0s()),2&p){const c=l.ngIf;s.R7$(2),s.Y8G("innerHTML",c.sectionTitle||"",s.npT),s.R7$(1),s.Y8G("innerHTML",c.sectionContent||"",s.npT)}}function Bi(p,l){if(1&p){const c=s.RV6();s.qex(0),s.j41(1,"div",4)(2,"div",5)(3,"h1"),s.EFF(4,"About Us"),s.k0s(),s.j41(5,"div",6)(6,"p"),s.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),s.k0s()()()(),s.j41(8,"div",7),s.DNE(9,ws,4,2,"section",8),s.nI1(10,"sectionFilter"),s.j41(11,"section",9),s.DNE(12,ts,5,3,"div",10),s.nI1(13,"sectionFilter"),s.DNE(14,Lo,5,3,"div",11),s.nI1(15,"sectionFilter"),s.k0s(),s.DNE(16,Vo,4,2,"section",8),s.nI1(17,"sectionFilter"),s.j41(18,"section",12),s.nrm(19,"app-meet-the-team",13),s.k0s()(),s.j41(20,"div",14)(21,"div",15)(22,"h2"),s.EFF(23,"Come Meet Our Family"),s.k0s(),s.j41(24,"p"),s.EFF(25," We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home. "),s.k0s(),s.j41(26,"button",16),s.bIt("click",function(){s.eBV(c);const I=s.XpG(2);return s.Njj(I.navigateToContact())}),s.EFF(27," Schedule a Visit "),s.k0s()()(),s.bVm()}if(2&p){const c=s.XpG(2);s.R7$(9),s.Y8G("ngIf",s.i5U(10,5,c.business.sections,"AboutUsCenterText")),s.R7$(3),s.Y8G("ngIf",s.i5U(13,8,c.business.sections,"AboutUsLeftText")),s.R7$(2),s.Y8G("ngIf",s.i5U(15,11,c.business.sections,"AboutUsRightText")),s.R7$(2),s.Y8G("ngIf",s.i5U(17,14,c.business.sections,"AboutUsCenterText2")),s.R7$(3),s.Y8G("businessId",c.business.id)}}function Xo(p,l){if(1&p&&s.nrm(0,"app-right-text",29),2&p){const c=l.ngIf,y=s.XpG(3);s.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function ii(p,l){if(1&p&&s.nrm(0,"app-left-text",29),2&p){const c=l.ngIf,y=s.XpG(3);s.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",(null==c?null:c.sectionTitle)||"")("content",c.sectionContent||"")}}function ns(p,l){if(1&p&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",24)(3,"section",25),s.DNE(4,Xo,1,4,"app-right-text",26),s.nI1(5,"sectionFilter"),s.DNE(6,ii,1,4,"app-left-text",26),s.nI1(7,"sectionFilter"),s.k0s(),s.nrm(8,"app-testimonial-image",27)(9,"app-call-to-action",28)(10,"app-meet-the-team"),s.k0s(),s.bVm()),2&p){const c=s.XpG(2);s.R7$(4),s.Y8G("ngIf",s.i5U(5,10,c.business.sections,"AboutUsRightText")),s.R7$(2),s.Y8G("ngIf",s.i5U(7,13,c.business.sections,"AboutUsLeftText")),s.R7$(2),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[0].name)("text",c.business.testimonials[0].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function ms(p,l){if(1&p&&s.nrm(0,"app-right-text",29),2&p){const c=l.ngIf,y=s.XpG(3);s.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function qr(p,l){if(1&p&&s.nrm(0,"app-left-text",29),2&p){const c=l.ngIf,y=s.XpG(3);s.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function Ki(p,l){if(1&p&&s.nrm(0,"app-right-text",29),2&p){const c=l.ngIf,y=s.XpG(3);s.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function Oi(p,l){if(1&p&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"section",25),s.DNE(3,ms,1,4,"app-right-text",26),s.nI1(4,"sectionFilter"),s.DNE(5,qr,1,4,"app-left-text",26),s.nI1(6,"sectionFilter"),s.DNE(7,Ki,1,4,"app-right-text",26),s.nI1(8,"sectionFilter"),s.k0s(),s.nrm(9,"app-testimonial-image",27)(10,"app-call-to-action",28)(11,"app-meet-the-team"),s.bVm()),2&p){const c=s.XpG(2);s.R7$(3),s.Y8G("ngIf",s.i5U(4,11,c.business.sections,"AboutUsRightText")),s.R7$(2),s.Y8G("ngIf",s.i5U(6,14,c.business.sections,"AboutUsLeftText")),s.R7$(2),s.Y8G("ngIf",s.i5U(8,17,c.business.sections,"AboutUsRightText2")),s.R7$(2),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[2].name)("text",c.business.testimonials[2].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function wr(p,l){if(1&p&&(s.qex(0),s.nrm(1,"app-hero")(2,"app-testimonial-image",27)(3,"app-call-to-action",28),s.bVm()),2&p){const c=s.XpG(2);s.R7$(2),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[5].name)("text",c.business.testimonials[5].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function co(p,l){if(1&p&&(s.j41(0,"div")(1,"div",1),s.DNE(2,Bi,28,17,"ng-container",2),s.DNE(3,ns,11,16,"ng-container",2),s.DNE(4,Oi,12,20,"ng-container",2),s.DNE(5,wr,4,8,"ng-container",3),s.k0s()()),2&p){const c=s.XpG();s.R7$(1),s.Y8G("ngSwitch",c.business.theme.themeType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo")}}let Uo=(()=>{class p{constructor(c,y,I,V,z){this.webContent=c,this.route=y,this.router=I,this.metaService=V,this.businessDataService=z,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.businessId=c?.id||null,console.log("About Us Business.Sections",c?.sections),this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(s.rXU(wi.N),s.rXU(fr.nX),s.rXU(fr.Ix),s.rXU(zi.R),s.rXU(ki.A))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],["class","business-story",4,"ngIf"],[1,"mission-vision"],["class","mission",4,"ngIf"],["class","vision",4,"ngIf"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading",3,"innerHTML"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"content-wrapper"],[1,"our-approach"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"themeType","imageURL","title","content"]],template:function(y,I){1&y&&s.DNE(0,co,6,4,"div",0),2&y&&s.Y8G("ngIf",I.business)},dependencies:[pe.bT,pe.ux,pe.e1,pe.fG,nt,Rt.F,ln.G,Vn,Mn,Tr,Wi.W],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}}return p})();var di=U(1915);function Fa(p,l){if(1&p&&(s.j41(0,"section",19)(1,"div",9),s.nrm(2,"h2",20),s.k0s(),s.nrm(3,"h3",21),s.k0s()),2&p){const c=l.ngIf;s.R7$(2),s.Y8G("innerHTML",c.sectionTitle||"",s.npT),s.R7$(1),s.Y8G("innerHTML",c.sectionContent||"",s.npT)}}function Za(p,l){if(1&p&&(s.j41(0,"div",22),s.nrm(1,"img",23),s.j41(2,"div",9),s.nrm(3,"h2",20),s.k0s(),s.nrm(4,"div",21),s.k0s()),2&p){const c=l.ngIf;s.R7$(1),s.Y8G("src",c.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",s.B4B),s.R7$(2),s.Y8G("innerHTML",c.sectionTitle||"",s.npT),s.R7$(1),s.Y8G("innerHTML",c.sectionContent||"",s.npT)}}function xi(p,l){if(1&p&&(s.j41(0,"div",24),s.nrm(1,"img",23),s.j41(2,"div",9),s.nrm(3,"h2",20),s.k0s(),s.nrm(4,"div",21),s.k0s()),2&p){const c=l.ngIf;s.R7$(1),s.Y8G("src",c.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",s.B4B),s.R7$(2),s.Y8G("innerHTML",c.sectionTitle||"",s.npT),s.R7$(1),s.Y8G("innerHTML",c.sectionContent||"",s.npT)}}function Ea(p,l){if(1&p){const c=s.RV6();s.qex(0),s.j41(1,"div",4)(2,"div",5)(3,"h1"),s.EFF(4,"Our Services"),s.k0s(),s.j41(5,"div",6)(6,"p"),s.EFF(7,"Providing exceptional care tailored to your needs"),s.k0s()()()(),s.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),s.EFF(12,"Our Services"),s.k0s()(),s.nrm(13,"app-item-list",11),s.k0s(),s.j41(14,"section",8)(15,"div",9)(16,"h2",10),s.EFF(17,"Our Benefits"),s.k0s()(),s.nrm(18,"app-item-list",11),s.k0s(),s.DNE(19,Fa,4,2,"section",12),s.nI1(20,"sectionFilter"),s.j41(21,"section",13),s.DNE(22,Za,5,3,"div",14),s.nI1(23,"sectionFilter"),s.DNE(24,xi,5,3,"div",15),s.nI1(25,"sectionFilter"),s.k0s()(),s.j41(26,"div",16)(27,"div",17)(28,"h2"),s.EFF(29,"Ready to Experience Exceptional Care?"),s.k0s(),s.j41(30,"p"),s.EFF(31," Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services. "),s.k0s(),s.j41(32,"button",18),s.bIt("click",function(){s.eBV(c);const I=s.XpG(2);return s.Njj(I.navigateToContact())}),s.EFF(33," Book a Consultation "),s.k0s()()(),s.bVm()}if(2&p){const c=s.XpG(2);s.R7$(13),s.Y8G("layoutType",c.business.theme.themeType)("services",c.business.services)("minimal",!1),s.R7$(5),s.Y8G("layoutType",c.business.theme.themeType)("services",c.business.benefits)("minimal",!1),s.R7$(1),s.Y8G("ngIf",s.i5U(20,9,c.business.sections,"ServicesCenterText")),s.R7$(3),s.Y8G("ngIf",s.i5U(23,12,c.business.sections,"ServicesLeftText")),s.R7$(2),s.Y8G("ngIf",s.i5U(25,15,c.business.sections,"ServicesRightText"))}}function Ks(p,l){if(1&p&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",25),s.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),s.k0s(),s.bVm()),2&p){const c=s.XpG(2);s.R7$(3),s.Y8G("layoutType",c.business.theme.themeType)("services",c.business.services),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[1].name)("text",c.business.testimonials[1].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function Jr(p,l){if(1&p&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",25),s.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),s.k0s(),s.bVm()),2&p){const c=s.XpG(2);s.R7$(3),s.Y8G("layoutType",c.business.theme.themeType)("services",c.business.services),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[4].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}const Vs=function(){return{icon:"fas fa-person-cane",name:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},Us=function(){return{icon:"fas fa-people-group",name:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},hi=function(){return{icon:"fas fa-bowl-food",name:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},As=function(){return{icon:"fas fa-prescription-bottle",name:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},ls=function(){return{icon:"fas fa-shower",name:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},rs=function(){return{icon:"fas fa-bed-pulse",name:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},Es=function(p,l,c,y,I,V){return[p,l,c,y,I,V]};function js(p,l){if(1&p&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",25),s.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),s.k0s(),s.bVm()),2&p){const c=s.XpG(2);s.R7$(3),s.Y8G("layoutType",c.business.theme.themeType)("services",s.l4e(16,Es,s.lJ4(10,Vs),s.lJ4(11,Us),s.lJ4(12,hi),s.lJ4(13,As),s.lJ4(14,ls),s.lJ4(15,rs))),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[6].name)("text",c.business.testimonials[6].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function si(p,l){if(1&p&&(s.j41(0,"div")(1,"div",1),s.DNE(2,Ea,34,18,"ng-container",2),s.DNE(3,Ks,6,10,"ng-container",2),s.DNE(4,Jr,6,10,"ng-container",2),s.DNE(5,js,6,23,"ng-container",3),s.k0s()()),2&p){const c=s.XpG();s.R7$(1),s.Y8G("ngSwitch",c.business.theme.themeType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo")}}let pn=(()=>{class p{constructor(c,y,I){this.router=c,this.businessDataService=y,this.metaService=I,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.businessId=c?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(s.rXU(fr.Ix),s.rXU(ki.A),s.rXU(zi.R))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],[1,"heading-container"],[1,"styled-heading"],[3,"layoutType","services","minimal"],["class","special-programs",4,"ngIf"],[1,"tours-consulting"],["class","tours",4,"ngIf"],["class","consulting",4,"ngIf"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"special-programs"],[1,"styled-heading",3,"innerHTML"],[1,"services_txt","garamond",3,"innerHTML"],[1,"tours"],["alt","Contact Image",3,"src"],[1,"consulting"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(y,I){1&y&&s.DNE(0,si,6,4,"div",0),2&y&&s.Y8G("ngIf",I.business)},dependencies:[pe.bT,pe.ux,pe.e1,pe.fG,di.j,Vn,Mn,Tr,Wi.W],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}}return p})();var Fn="top",Kn="bottom",oi="right",Zr="left",Mi="auto",us=[Fn,Kn,oi,Zr],Rr="start",Vi="end",bs="clippingParents",Qn="viewport",$i="popper",Ds="reference",Z=us.reduce(function(p,l){return p.concat([l+"-"+Rr,l+"-"+Vi])},[]),Q=[].concat(us,[Mi]).reduce(function(p,l){return p.concat([l,l+"-"+Rr,l+"-"+Vi])},[]),Ie="beforeRead",Me="read",Qe="afterRead",gt="beforeMain",Yt="main",wn="afterMain",_n="beforeWrite",Jn="write",Ar="afterWrite",kn=[Ie,Me,Qe,gt,Yt,wn,_n,Jn,Ar];function An(p){return p?(p.nodeName||"").toLowerCase():null}function Un(p){if(null==p)return window;if("[object Window]"!==p.toString()){var l=p.ownerDocument;return l&&l.defaultView||window}return p}function $r(p){return p instanceof Un(p).Element||p instanceof Element}function Er(p){return p instanceof Un(p).HTMLElement||p instanceof HTMLElement}function Ii(p){return!(typeof ShadowRoot>"u")&&(p instanceof Un(p).ShadowRoot||p instanceof ShadowRoot)}const Ir={name:"applyStyles",enabled:!0,phase:"write",fn:function Xi(p){var l=p.state;Object.keys(l.elements).forEach(function(c){var y=l.styles[c]||{},I=l.attributes[c]||{},V=l.elements[c];!Er(V)||!An(V)||(Object.assign(V.style,y),Object.keys(I).forEach(function(z){var ae=I[z];!1===ae?V.removeAttribute(z):V.setAttribute(z,!0===ae?"":ae)}))})},effect:function Ri(p){var l=p.state,c={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,c.popper),l.styles=c,l.elements.arrow&&Object.assign(l.elements.arrow.style,c.arrow),function(){Object.keys(l.elements).forEach(function(y){var I=l.elements[y],V=l.attributes[y]||{},ae=Object.keys(l.styles.hasOwnProperty(y)?l.styles[y]:c[y]).reduce(function(_e,Ke){return _e[Ke]="",_e},{});!Er(I)||!An(I)||(Object.assign(I.style,ae),Object.keys(V).forEach(function(_e){I.removeAttribute(_e)}))})}},requires:["computeStyles"]};function Yr(p){return p.split("-")[0]}var ai=Math.max,Nr=Math.min,qs=Math.round;function Qi(){var p=navigator.userAgentData;return null!=p&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function Ys(){return!/^((?!chrome|android).)*safari/i.test(Qi())}function Cs(p,l,c){void 0===l&&(l=!1),void 0===c&&(c=!1);var y=p.getBoundingClientRect(),I=1,V=1;l&&Er(p)&&(I=p.offsetWidth>0&&qs(y.width)/p.offsetWidth||1,V=p.offsetHeight>0&&qs(y.height)/p.offsetHeight||1);var ae=($r(p)?Un(p):window).visualViewport,_e=!Ys()&&c,Ke=(y.left+(_e&&ae?ae.offsetLeft:0))/I,ut=(y.top+(_e&&ae?ae.offsetTop:0))/V,Lt=y.width/I,rn=y.height/V;return{width:Lt,height:rn,top:ut,right:Ke+Lt,bottom:ut+rn,left:Ke,x:Ke,y:ut}}function jo(p){var l=Cs(p),c=p.offsetWidth,y=p.offsetHeight;return Math.abs(l.width-c)<=1&&(c=l.width),Math.abs(l.height-y)<=1&&(y=l.height),{x:p.offsetLeft,y:p.offsetTop,width:c,height:y}}function La(p,l){var c=l.getRootNode&&l.getRootNode();if(p.contains(l))return!0;if(c&&Ii(c)){var y=l;do{if(y&&p.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function Bs(p){return Un(p).getComputedStyle(p)}function kl(p){return["table","td","th"].indexOf(An(p))>=0}function qi(p){return(($r(p)?p.ownerDocument:p.document)||window.document).documentElement}function ds(p){return"html"===An(p)?p:p.assignedSlot||p.parentNode||(Ii(p)?p.host:null)||qi(p)}function wo(p){return Er(p)&&"fixed"!==Bs(p).position?p.offsetParent:null}function Bo(p){for(var l=Un(p),c=wo(p);c&&kl(c)&&"static"===Bs(c).position;)c=wo(c);return c&&("html"===An(c)||"body"===An(c)&&"static"===Bs(c).position)?l:c||function ec(p){var l=/firefox/i.test(Qi());if(/Trident/i.test(Qi())&&Er(p)&&"fixed"===Bs(p).position)return null;var I=ds(p);for(Ii(I)&&(I=I.host);Er(I)&&["html","body"].indexOf(An(I))<0;){var V=Bs(I);if("none"!==V.transform||"none"!==V.perspective||"paint"===V.contain||-1!==["transform","perspective"].indexOf(V.willChange)||l&&"filter"===V.willChange||l&&V.filter&&"none"!==V.filter)return I;I=I.parentNode}return null}(p)||l}function yi(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function Ao(p,l,c){return ai(p,Nr(l,c))}function J(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function j(p,l){return l.reduce(function(c,y){return c[y]=p,c},{})}const ir={name:"arrow",enabled:!0,phase:"main",fn:function Ve(p){var l,c=p.state,y=p.name,I=p.options,V=c.elements.arrow,z=c.modifiersData.popperOffsets,ae=Yr(c.placement),_e=yi(ae),ut=[Zr,oi].indexOf(ae)>=0?"height":"width";if(V&&z){var Lt=function(l,c){return J("number"!=typeof(l="function"==typeof l?l(Object.assign({},c.rects,{placement:c.placement})):l)?l:j(l,us))}(I.padding,c),rn=jo(V),vn="y"===_e?Fn:Zr,En="y"===_e?Kn:oi,Xt=c.rects.reference[ut]+c.rects.reference[_e]-z[_e]-c.rects.popper[ut],Pn=z[_e]-c.rects.reference[_e],mr=Bo(V),Vr=mr?"y"===_e?mr.clientHeight||0:mr.clientWidth||0:0,Wr=Vr/2-rn[ut]/2+(Xt/2-Pn/2),_i=Ao(Lt[vn],Wr,Vr-rn[ut]-Lt[En]);c.modifiersData[y]=((l={})[_e]=_i,l.centerOffset=_i-Wr,l)}},effect:function gn(p){var l=p.state,y=p.options.element,I=void 0===y?"[data-popper-arrow]":y;null!=I&&("string"==typeof I&&!(I=l.elements.popper.querySelector(I))||La(l.elements.popper,I)&&(l.elements.arrow=I))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Hi(p){return p.split("-")[1]}var Xs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uo(p){var l,c=p.popper,y=p.popperRect,I=p.placement,V=p.variation,z=p.offsets,ae=p.position,_e=p.gpuAcceleration,Ke=p.adaptive,ut=p.roundOffsets,Lt=p.isFixed,rn=z.x,vn=void 0===rn?0:rn,En=z.y,Xt=void 0===En?0:En,Pn="function"==typeof ut?ut({x:vn,y:Xt}):{x:vn,y:Xt};vn=Pn.x,Xt=Pn.y;var mr=z.hasOwnProperty("x"),Vr=z.hasOwnProperty("y"),_r=Zr,nr=Fn,bi=window;if(Ke){var Wr=Bo(c),_i="clientHeight",ji="clientWidth";Wr===Un(c)&&"static"!==Bs(Wr=qi(c)).position&&"absolute"===ae&&(_i="scrollHeight",ji="scrollWidth"),(I===Fn||(I===Zr||I===oi)&&V===Vi)&&(nr=Kn,Xt-=(Lt&&Wr===bi&&bi.visualViewport?bi.visualViewport.height:Wr[_i])-y.height,Xt*=_e?1:-1),I!==Zr&&(I!==Fn&&I!==Kn||V!==Vi)||(_r=oi,vn-=(Lt&&Wr===bi&&bi.visualViewport?bi.visualViewport.width:Wr[ji])-y.width,vn*=_e?1:-1)}var Ns,Fo=Object.assign({position:ae},Ke&&Xs),Co=!0===ut?function hs(p,l){var y=p.y,I=l.devicePixelRatio||1;return{x:qs(p.x*I)/I||0,y:qs(y*I)/I||0}}({x:vn,y:Xt},Un(c)):{x:vn,y:Xt};return vn=Co.x,Xt=Co.y,Object.assign({},Fo,_e?((Ns={})[nr]=Vr?"0":"",Ns[_r]=mr?"0":"",Ns.transform=(bi.devicePixelRatio||1)<=1?"translate("+vn+"px, "+Xt+"px)":"translate3d("+vn+"px, "+Xt+"px, 0)",Ns):((l={})[nr]=Vr?Xt+"px":"",l[_r]=mr?vn+"px":"",l.transform="",l))}const Ji={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function eo(p){var l=p.state,c=p.options,y=c.gpuAcceleration,I=void 0===y||y,V=c.adaptive,z=void 0===V||V,ae=c.roundOffsets,_e=void 0===ae||ae,Ke={placement:Yr(l.placement),variation:Hi(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:I,isFixed:"fixed"===l.options.strategy};null!=l.modifiersData.popperOffsets&&(l.styles.popper=Object.assign({},l.styles.popper,uo(Object.assign({},Ke,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:z,roundOffsets:_e})))),null!=l.modifiersData.arrow&&(l.styles.arrow=Object.assign({},l.styles.arrow,uo(Object.assign({},Ke,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_e})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var ho={passive:!0};const fs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Fl(p){var l=p.state,c=p.instance,y=p.options,I=y.scroll,V=void 0===I||I,z=y.resize,ae=void 0===z||z,_e=Un(l.elements.popper),Ke=[].concat(l.scrollParents.reference,l.scrollParents.popper);return V&&Ke.forEach(function(ut){ut.addEventListener("scroll",c.update,ho)}),ae&&_e.addEventListener("resize",c.update,ho),function(){V&&Ke.forEach(function(ut){ut.removeEventListener("scroll",c.update,ho)}),ae&&_e.removeEventListener("resize",c.update,ho)}},data:{}};var ba={left:"right",right:"left",bottom:"top",top:"bottom"};function Ui(p){return p.replace(/left|right|bottom|top/g,function(l){return ba[l]})}var el={start:"end",end:"start"};function is(p){return p.replace(/start|end/g,function(l){return el[l]})}function Ca(p){var l=Un(p);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function Qs(p){return Cs(qi(p)).left+Ca(p).scrollLeft}function fa(p){var l=Bs(p);return/auto|scroll|overlay|hidden/.test(l.overflow+l.overflowY+l.overflowX)}function Ta(p){return["html","body","#document"].indexOf(An(p))>=0?p.ownerDocument.body:Er(p)&&fa(p)?p:Ta(ds(p))}function wa(p,l){var c;void 0===l&&(l=[]);var y=Ta(p),I=y===(null==(c=p.ownerDocument)?void 0:c.body),V=Un(y),z=I?[V].concat(V.visualViewport||[],fa(y)?y:[]):y,ae=l.concat(z);return I?ae:ae.concat(wa(ds(z)))}function tl(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function Ec(p,l,c){return l===Qn?tl(function Ia(p,l){var c=Un(p),y=qi(p),I=c.visualViewport,V=y.clientWidth,z=y.clientHeight,ae=0,_e=0;if(I){V=I.width,z=I.height;var Ke=Ys();(Ke||!Ke&&"fixed"===l)&&(ae=I.offsetLeft,_e=I.offsetTop)}return{width:V,height:z,x:ae+Qs(p),y:_e}}(p,c)):$r(l)?function pr(p,l){var c=Cs(p,!1,"fixed"===l);return c.top=c.top+p.clientTop,c.left=c.left+p.clientLeft,c.bottom=c.top+p.clientHeight,c.right=c.left+p.clientWidth,c.width=p.clientWidth,c.height=p.clientHeight,c.x=c.left,c.y=c.top,c}(l,c):tl(function Is(p){var l,c=qi(p),y=Ca(p),I=null==(l=p.ownerDocument)?void 0:l.body,V=ai(c.scrollWidth,c.clientWidth,I?I.scrollWidth:0,I?I.clientWidth:0),z=ai(c.scrollHeight,c.clientHeight,I?I.scrollHeight:0,I?I.clientHeight:0),ae=-y.scrollLeft+Qs(p),_e=-y.scrollTop;return"rtl"===Bs(I||c).direction&&(ae+=ai(c.clientWidth,I?I.clientWidth:0)-V),{width:V,height:z,x:ae,y:_e}}(qi(p)))}function Va(p){var _e,l=p.reference,c=p.element,y=p.placement,I=y?Yr(y):null,V=y?Hi(y):null,z=l.x+l.width/2-c.width/2,ae=l.y+l.height/2-c.height/2;switch(I){case Fn:_e={x:z,y:l.y-c.height};break;case Kn:_e={x:z,y:l.y+l.height};break;case oi:_e={x:l.x+l.width,y:ae};break;case Zr:_e={x:l.x-c.width,y:ae};break;default:_e={x:l.x,y:l.y}}var Ke=I?yi(I):null;if(null!=Ke){var ut="y"===Ke?"height":"width";switch(V){case Rr:_e[Ke]=_e[Ke]-(l[ut]/2-c[ut]/2);break;case Vi:_e[Ke]=_e[Ke]+(l[ut]/2-c[ut]/2)}}return _e}function Ua(p,l){void 0===l&&(l={});var y=l.placement,I=void 0===y?p.placement:y,V=l.strategy,z=void 0===V?p.strategy:V,ae=l.boundary,_e=void 0===ae?bs:ae,Ke=l.rootBoundary,ut=void 0===Ke?Qn:Ke,Lt=l.elementContext,rn=void 0===Lt?$i:Lt,vn=l.altBoundary,En=void 0!==vn&&vn,Xt=l.padding,Pn=void 0===Xt?0:Xt,mr=J("number"!=typeof Pn?Pn:j(Pn,us)),_r=p.rects.popper,nr=p.elements[En?rn===$i?Ds:$i:rn],bi=function Jo(p,l,c,y){var I="clippingParents"===l?function Do(p){var l=wa(ds(p)),y=["absolute","fixed"].indexOf(Bs(p).position)>=0&&Er(p)?Bo(p):p;return $r(y)?l.filter(function(I){return $r(I)&&La(I,y)&&"body"!==An(I)}):[]}(p):[].concat(l),V=[].concat(I,[c]),ae=V.reduce(function(_e,Ke){var ut=Ec(p,Ke,y);return _e.top=ai(ut.top,_e.top),_e.right=Nr(ut.right,_e.right),_e.bottom=Nr(ut.bottom,_e.bottom),_e.left=ai(ut.left,_e.left),_e},Ec(p,V[0],y));return ae.width=ae.right-ae.left,ae.height=ae.bottom-ae.top,ae.x=ae.left,ae.y=ae.top,ae}($r(nr)?nr:nr.contextElement||qi(p.elements.popper),_e,ut,z),Wr=Cs(p.elements.reference),_i=Va({reference:Wr,element:_r,strategy:"absolute",placement:I}),ji=tl(Object.assign({},_r,_i)),cs=rn===$i?ji:Wr,es={top:bi.top-cs.top+mr.top,bottom:cs.bottom-bi.bottom+mr.bottom,left:bi.left-cs.left+mr.left,right:cs.right-bi.right+mr.right},Fo=p.modifiersData.offset;if(rn===$i&&Fo){var Co=Fo[I];Object.keys(es).forEach(function(Ns){var Rl=[oi,Kn].indexOf(Ns)>=0?1:-1,Ol=[Fn,Kn].indexOf(Ns)>=0?"y":"x";es[Ns]+=Co[Ol]*Rl})}return es}const Ll={name:"flip",enabled:!0,phase:"main",fn:function tc(p){var l=p.state,c=p.options,y=p.name;if(!l.modifiersData[y]._skip){for(var I=c.mainAxis,V=void 0===I||I,z=c.altAxis,ae=void 0===z||z,_e=c.fallbackPlacements,Ke=c.padding,ut=c.boundary,Lt=c.rootBoundary,rn=c.altBoundary,vn=c.flipVariations,En=void 0===vn||vn,Xt=c.allowedAutoPlacements,Pn=l.options.placement,mr=Yr(Pn),_r=_e||(mr!==Pn&&En?function Vh(p){if(Yr(p)===Mi)return[];var l=Ui(p);return[is(p),l,is(l)]}(Pn):[Ui(Pn)]),nr=[Pn].concat(_r).reduce(function(Gi,Nl){return Gi.concat(Yr(Nl)===Mi?function bc(p,l){void 0===l&&(l={});var I=l.boundary,V=l.rootBoundary,z=l.padding,ae=l.flipVariations,_e=l.allowedAutoPlacements,Ke=void 0===_e?Q:_e,ut=Hi(l.placement),Lt=ut?ae?Z:Z.filter(function(En){return Hi(En)===ut}):us,rn=Lt.filter(function(En){return Ke.indexOf(En)>=0});0===rn.length&&(rn=Lt);var vn=rn.reduce(function(En,Xt){return En[Xt]=Ua(p,{placement:Xt,boundary:I,rootBoundary:V,padding:z})[Yr(Xt)],En},{});return Object.keys(vn).sort(function(En,Xt){return vn[En]-vn[Xt]})}(l,{placement:Nl,boundary:ut,rootBoundary:Lt,padding:Ke,flipVariations:En,allowedAutoPlacements:Xt}):Nl)},[]),bi=l.rects.reference,Wr=l.rects.popper,_i=new Map,ji=!0,cs=nr[0],es=0;es<nr.length;es++){var Fo=nr[es],Co=Yr(Fo),Ns=Hi(Fo)===Rr,Rl=[Fn,Kn].indexOf(Co)>=0,Ol=Rl?"width":"height",Rn=Ua(l,{placement:Fo,boundary:ut,rootBoundary:Lt,altBoundary:rn,padding:Ke}),Gn=Rl?Ns?oi:Zr:Ns?Kn:Fn;bi[Ol]>Wr[Ol]&&(Gn=Ui(Gn));var sr=Ui(Gn),ri=[];if(V&&ri.push(Rn[Co]<=0),ae&&ri.push(Rn[Gn]<=0,Rn[sr]<=0),ri.every(function(Gi){return Gi})){cs=Fo,ji=!1;break}_i.set(Fo,ri)}if(ji)for(var Qa=function(Nl){var Lh=nr.find(function(ao){var Na=_i.get(ao);if(Na)return Na.slice(0,Nl).every(function(ka){return ka})});if(Lh)return cs=Lh,"break"},Io=En?3:1;Io>0&&"break"!==Qa(Io);Io--);l.placement!==cs&&(l.modifiersData[y]._skip=!0,l.placement=cs,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function nc(p,l,c){return void 0===c&&(c={x:0,y:0}),{top:p.top-l.height-c.y,right:p.right-l.width+c.x,bottom:p.bottom-l.height+c.y,left:p.left-l.width-c.x}}function $o(p){return[Fn,oi,Kn,Zr].some(function(l){return p[l]>=0})}const Aa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function nl(p){var l=p.state,c=p.name,y=l.rects.reference,I=l.rects.popper,V=l.modifiersData.preventOverflow,z=Ua(l,{elementContext:"reference"}),ae=Ua(l,{altBoundary:!0}),_e=nc(z,y),Ke=nc(ae,I,V),ut=$o(_e),Lt=$o(Ke);l.modifiersData[c]={referenceClippingOffsets:_e,popperEscapeOffsets:Ke,isReferenceHidden:ut,hasPopperEscaped:Lt},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":ut,"data-popper-escaped":Lt})}},ja={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function ic(p){var l=p.state,y=p.name,I=p.options.offset,V=void 0===I?[0,0]:I,z=Q.reduce(function(ut,Lt){return ut[Lt]=function rc(p,l,c){var y=Yr(p),I=[Zr,Fn].indexOf(y)>=0?-1:1,V="function"==typeof c?c(Object.assign({},l,{placement:p})):c,z=V[0],ae=V[1];return z=z||0,ae=(ae||0)*I,[Zr,oi].indexOf(y)>=0?{x:ae,y:z}:{x:z,y:ae}}(Lt,l.rects,V),ut},{}),ae=z[l.placement],Ke=ae.y;null!=l.modifiersData.popperOffsets&&(l.modifiersData.popperOffsets.x+=ae.x,l.modifiersData.popperOffsets.y+=Ke),l.modifiersData[y]=z}},M={name:"popperOffsets",enabled:!0,phase:"read",fn:function Vl(p){var l=p.state;l.modifiersData[p.name]=Va({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})},data:{}},Y={name:"preventOverflow",enabled:!0,phase:"main",fn:function $(p){var l=p.state,c=p.options,y=p.name,I=c.mainAxis,V=void 0===I||I,z=c.altAxis,ae=void 0!==z&&z,rn=c.tether,vn=void 0===rn||rn,En=c.tetherOffset,Xt=void 0===En?0:En,Pn=Ua(l,{boundary:c.boundary,rootBoundary:c.rootBoundary,padding:c.padding,altBoundary:c.altBoundary}),mr=Yr(l.placement),Vr=Hi(l.placement),_r=!Vr,nr=yi(mr),bi=function re(p){return"x"===p?"y":"x"}(nr),Wr=l.modifiersData.popperOffsets,_i=l.rects.reference,ji=l.rects.popper,cs="function"==typeof Xt?Xt(Object.assign({},l.rects,{placement:l.placement})):Xt,es="number"==typeof cs?{mainAxis:cs,altAxis:cs}:Object.assign({mainAxis:0,altAxis:0},cs),Fo=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,Co={x:0,y:0};if(Wr){if(V){var Ns,Rl="y"===nr?Fn:Zr,Ol="y"===nr?Kn:oi,Rn="y"===nr?"height":"width",Gn=Wr[nr],sr=Gn+Pn[Rl],ri=Gn-Pn[Ol],Ws=vn?-ji[Rn]/2:0,Qa=Vr===Rr?_i[Rn]:ji[Rn],Io=Vr===Rr?-ji[Rn]:-_i[Rn],Ja=l.elements.arrow,Gi=vn&&Ja?jo(Ja):{width:0,height:0},Nl=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Lh=Nl[Rl],ao=Nl[Ol],Na=Ao(0,_i[Rn],Gi[Rn]),ka=_r?_i[Rn]/2-Ws-Na-Lh-es.mainAxis:Qa-Na-Lh-es.mainAxis,Ym=_r?-_i[Rn]/2+Ws+Na+ao+es.mainAxis:Io+Na+ao+es.mainAxis,Cg=l.elements.arrow&&Bo(l.elements.arrow),oC=Cg?"y"===nr?Cg.clientTop||0:Cg.clientLeft||0:0,s0=null!=(Ns=Fo?.[nr])?Ns:0,mb=Gn+Ym-s0,CE=Ao(vn?Nr(sr,Gn+ka-s0-oC):sr,Gn,vn?ai(ri,mb):ri);Wr[nr]=CE,Co[nr]=CE-Gn}if(ae){var o0,tp=Wr[bi],Py="y"===bi?"height":"width",IE=tp+Pn["x"===nr?Fn:Zr],yb=tp-Pn["x"===nr?Kn:oi],a0=-1!==[Fn,Zr].indexOf(mr),c0=null!=(o0=Fo?.[bi])?o0:0,TE=a0?IE:tp-_i[Py]-ji[Py]-c0+es.altAxis,wE=a0?tp+_i[Py]+ji[Py]-c0-es.altAxis:yb,Ig=vn&&a0?function Qo(p,l,c){var y=Ao(p,l,c);return y>c?c:y}(TE,tp,wE):Ao(vn?TE:IE,tp,vn?wE:yb);Wr[bi]=Ig,Co[bi]=Ig-tp}l.modifiersData[y]=Co}},requiresIfExists:["offset"]};function jn(p,l,c){void 0===c&&(c=!1);var y=Er(l),I=Er(l)&&function kt(p){var l=p.getBoundingClientRect(),c=qs(l.width)/p.offsetWidth||1,y=qs(l.height)/p.offsetHeight||1;return 1!==c||1!==y}(l),V=qi(l),z=Cs(p,I,c),ae={scrollLeft:0,scrollTop:0},_e={x:0,y:0};return(y||!y&&!c)&&(("body"!==An(l)||fa(V))&&(ae=function Ct(p){return p!==Un(p)&&Er(p)?function Pe(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):Ca(p)}(l)),Er(l)?((_e=Cs(l,!0)).x+=l.clientLeft,_e.y+=l.clientTop):V&&(_e.x=Qs(V))),{x:z.left+ae.scrollLeft-_e.x,y:z.top+ae.scrollTop-_e.y,width:z.width,height:z.height}}function zr(p){var l=new Map,c=new Set,y=[];function I(V){c.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(ae){if(!c.has(ae)){var _e=l.get(ae);_e&&I(_e)}}),y.push(V)}return p.forEach(function(V){l.set(V.name,V)}),p.forEach(function(V){c.has(V.name)||I(V)}),y}function ei(p){var l;return function(){return l||(l=new Promise(function(c){Promise.resolve().then(function(){l=void 0,c(p())})})),l}}var ti={placement:"bottom",modifiers:[],strategy:"absolute"};function Ti(){for(var p=arguments.length,l=new Array(p),c=0;c<p;c++)l[c]=arguments[c];return!l.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function vi(p){void 0===p&&(p={});var c=p.defaultModifiers,y=void 0===c?[]:c,I=p.defaultOptions,V=void 0===I?ti:I;return function(ae,_e,Ke){void 0===Ke&&(Ke=V);var ut={placement:"bottom",orderedModifiers:[],options:Object.assign({},ti,V),modifiersData:{},elements:{reference:ae,popper:_e},attributes:{},styles:{}},Lt=[],rn=!1,vn={state:ut,setOptions:function(mr){var Vr="function"==typeof mr?mr(ut.options):mr;Xt(),ut.options=Object.assign({},V,ut.options,Vr),ut.scrollParents={reference:$r(ae)?wa(ae):ae.contextElement?wa(ae.contextElement):[],popper:wa(_e)};var _r=function pi(p){var l=zr(p);return kn.reduce(function(c,y){return c.concat(l.filter(function(I){return I.phase===y}))},[])}(function gr(p){var l=p.reduce(function(c,y){var I=c[y.name];return c[y.name]=I?Object.assign({},I,y,{options:Object.assign({},I.options,y.options),data:Object.assign({},I.data,y.data)}):y,c},{});return Object.keys(l).map(function(c){return l[c]})}([].concat(y,ut.options.modifiers)));return ut.orderedModifiers=_r.filter(function(nr){return nr.enabled}),function En(){ut.orderedModifiers.forEach(function(Pn){var Vr=Pn.options,nr=Pn.effect;if("function"==typeof nr){var bi=nr({state:ut,name:Pn.name,instance:vn,options:void 0===Vr?{}:Vr});Lt.push(bi||function(){})}})}(),vn.update()},forceUpdate:function(){if(!rn){var mr=ut.elements,Vr=mr.reference,_r=mr.popper;if(Ti(Vr,_r)){ut.rects={reference:jn(Vr,Bo(_r),"fixed"===ut.options.strategy),popper:jo(_r)},ut.reset=!1,ut.placement=ut.options.placement,ut.orderedModifiers.forEach(function(es){return ut.modifiersData[es.name]=Object.assign({},es.data)});for(var nr=0;nr<ut.orderedModifiers.length;nr++)if(!0!==ut.reset){var bi=ut.orderedModifiers[nr],Wr=bi.fn,_i=bi.options;"function"==typeof Wr&&(ut=Wr({state:ut,options:void 0===_i?{}:_i,name:bi.name,instance:vn})||ut)}else ut.reset=!1,nr=-1}}},update:ei(function(){return new Promise(function(Pn){vn.forceUpdate(),Pn(ut)})}),destroy:function(){Xt(),rn=!0}};if(!Ti(ae,_e))return vn;function Xt(){Lt.forEach(function(Pn){return Pn()}),Lt=[]}return vn.setOptions(Ke).then(function(Pn){!rn&&Ke.onFirstUpdate&&Ke.onFirstUpdate(Pn)}),vn}}var fo=vi(),Ho=vi({defaultModifiers:[fs,M,Ji,Ir,ja,Ll,Y,ir,Aa]}),Zo=vi({defaultModifiers:[fs,M,Ji,Ir]});const Fi=new Map,po={set(p,l,c){Fi.has(p)||Fi.set(p,new Map);const y=Fi.get(p);y.has(l)||0===y.size?y.set(l,c):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(p,l)=>Fi.has(p)&&Fi.get(p).get(l)||null,remove(p,l){if(!Fi.has(p))return;const c=Fi.get(p);c.delete(l),0===c.size&&Fi.delete(p)}},Sr="transitionend",sc=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(l,c)=>`#${CSS.escape(c)}`)),p),Cc=p=>{p.dispatchEvent(new Event(Sr))},gi=p=>!(!p||"object"!=typeof p)&&(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),Ba=p=>gi(p)?p.jquery?p[0]:p:"string"==typeof p&&p.length>0?document.querySelector(sc(p)):null,$a=p=>{if(!gi(p)||0===p.getClientRects().length)return!1;const l="visible"===getComputedStyle(p).getPropertyValue("visibility"),c=p.closest("details:not([open])");if(!c)return l;if(c!==p){const y=p.closest("summary");if(y&&y.parentNode!==c||null===y)return!1}return l},Hs=p=>!(p&&p.nodeType===Node.ELEMENT_NODE&&!p.classList.contains("disabled"))||(typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&"false"!==p.getAttribute("disabled")),_s=p=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof p.getRootNode){const l=p.getRootNode();return l instanceof ShadowRoot?l:null}return p instanceof ShadowRoot?p:p.parentNode?_s(p.parentNode):null},ea=()=>{},Tu=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ul=[],go=()=>"rtl"===document.documentElement.dir,qn=p=>{(p=>{"loading"===document.readyState?(Ul.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of Ul)l()}),Ul.push(p)):p()})(()=>{const l=Tu();if(l){const c=p.NAME,y=l.fn[c];l.fn[c]=p.jQueryInterface,l.fn[c].Constructor=p,l.fn[c].noConflict=()=>(l.fn[c]=y,p.jQueryInterface)}})},Gs=(p,l=[],c=p)=>"function"==typeof p?p(...l):c,jl=(p,l,c=!0)=>{if(!c)return void Gs(p);const I=(p=>{if(!p)return 0;let{transitionDuration:l,transitionDelay:c}=window.getComputedStyle(p);const y=Number.parseFloat(l),I=Number.parseFloat(c);return y||I?(l=l.split(",")[0],c=c.split(",")[0],1e3*(Number.parseFloat(l)+Number.parseFloat(c))):0})(l)+5;let V=!1;const z=({target:ae})=>{ae===l&&(V=!0,l.removeEventListener(Sr,z),Gs(p))};l.addEventListener(Sr,z),setTimeout(()=>{V||Cc(l)},I)},ta=(p,l,c,y)=>{const I=p.length;let V=p.indexOf(l);return-1===V?!c&&y?p[I-1]:p[0]:(V+=c?1:-1,y&&(V=(V+I)%I),p[Math.max(0,Math.min(V,I-1))])},Bl=/[^.]*(?=\..*)\.|.*/,jh=/\..*/,wu=/::\d+$/,Go={};let Au=1;const $l={mouseenter:"mouseover",mouseleave:"mouseout"},ss=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ic(p,l){return l&&`${l}::${Au++}`||p.uidEvent||Au++}function Hl(p){const l=Ic(p);return p.uidEvent=l,Go[l]=Go[l]||{},Go[l]}function zo(p,l,c=null){return Object.values(p).find(y=>y.callable===l&&y.delegationSelector===c)}function os(p,l,c){const y="string"==typeof l,I=y?c:l||c;let V=So(p);return ss.has(V)||(V=p),[y,I,V]}function Ps(p,l,c,y,I){if("string"!=typeof l||!p)return;let[V,z,ae]=os(l,c,y);var En;l in $l&&(En=z,z=function(Xt){if(!Xt.relatedTarget||Xt.relatedTarget!==Xt.delegateTarget&&!Xt.delegateTarget.contains(Xt.relatedTarget))return En.call(this,Xt)});const _e=Hl(p),Ke=_e[ae]||(_e[ae]={}),ut=zo(Ke,z,V?c:null);if(ut)return void(ut.oneOff=ut.oneOff&&I);const Lt=Ic(z,l.replace(Bl,"")),rn=V?function xr(p,l,c){return function y(I){const V=p.querySelectorAll(l);for(let{target:z}=I;z&&z!==this;z=z.parentNode)for(const ae of V)if(ae===z)return rl(I,{delegateTarget:z}),y.oneOff&&qt.off(p,I.type,l,c),c.apply(z,[I])}}(p,c,z):function zt(p,l){return function c(y){return rl(y,{delegateTarget:p}),c.oneOff&&qt.off(p,y.type,l),l.apply(p,[y])}}(p,z);rn.delegationSelector=V?c:null,rn.callable=z,rn.oneOff=I,rn.uidEvent=Lt,Ke[Lt]=rn,p.addEventListener(ae,rn,V)}function oc(p,l,c,y,I){const V=zo(l[c],y,I);V&&(p.removeEventListener(c,V,!!I),delete l[c][V.uidEvent])}function Tc(p,l,c,y){const I=l[c]||{};for(const[V,z]of Object.entries(I))V.includes(y)&&oc(p,l,c,z.callable,z.delegationSelector)}function So(p){return p=p.replace(jh,""),$l[p]||p}const qt={on(p,l,c,y){Ps(p,l,c,y,!1)},one(p,l,c,y){Ps(p,l,c,y,!0)},off(p,l,c,y){if("string"!=typeof l||!p)return;const[I,V,z]=os(l,c,y),ae=z!==l,_e=Hl(p),Ke=_e[z]||{},ut=l.startsWith(".");if(typeof V<"u"){if(!Object.keys(Ke).length)return;oc(p,_e,z,V,I?c:null)}else{if(ut)for(const Lt of Object.keys(_e))Tc(p,_e,Lt,l.slice(1));for(const[Lt,rn]of Object.entries(Ke)){const vn=Lt.replace(wu,"");(!ae||l.includes(vn))&&oc(p,_e,z,rn.callable,rn.delegationSelector)}}},trigger(p,l,c){if("string"!=typeof l||!p)return null;const y=Tu();let z=null,ae=!0,_e=!0,Ke=!1;l!==So(l)&&y&&(z=y.Event(l,c),y(p).trigger(z),ae=!z.isPropagationStopped(),_e=!z.isImmediatePropagationStopped(),Ke=z.isDefaultPrevented());const ut=rl(new Event(l,{bubbles:ae,cancelable:!0}),c);return Ke&&ut.preventDefault(),_e&&p.dispatchEvent(ut),ut.defaultPrevented&&z&&z.preventDefault(),ut}};function rl(p,l={}){for(const[c,y]of Object.entries(l))try{p[c]=y}catch{Object.defineProperty(p,c,{configurable:!0,get:()=>y})}return p}function Du(p){if("true"===p)return!0;if("false"===p)return!1;if(p===Number(p).toString())return Number(p);if(""===p||"null"===p)return null;if("string"!=typeof p)return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function wc(p){return p.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const no={setDataAttribute(p,l,c){p.setAttribute(`data-bs-${wc(l)}`,c)},removeDataAttribute(p,l){p.removeAttribute(`data-bs-${wc(l)}`)},getDataAttributes(p){if(!p)return{};const l={},c=Object.keys(p.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of c){let I=y.replace(/^bs/,"");I=I.charAt(0).toLowerCase()+I.slice(1,I.length),l[I]=Du(p.dataset[y])}return l},getDataAttribute:(p,l)=>Du(p.getAttribute(`data-bs-${wc(l)}`))};class ys{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,c){const y=gi(c)?no.getDataAttribute(c,"config"):{};return{...this.constructor.Default,..."object"==typeof y?y:{},...gi(c)?no.getDataAttributes(c):{},..."object"==typeof l?l:{}}}_typeCheckConfig(l,c=this.constructor.DefaultType){for(const[y,I]of Object.entries(c)){const V=l[y],z=gi(V)?"element":null==(p=V)?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(I).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${z}" but expected type "${I}".`)}var p}}class xs extends ys{constructor(l,c){super(),(l=Ba(l))&&(this._element=l,this._config=this._getConfig(c),po.set(this._element,this.constructor.DATA_KEY,this))}dispose(){po.remove(this._element,this.constructor.DATA_KEY),qt.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,c,y=!0){jl(l,c,y)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return po.get(Ba(l),this.DATA_KEY)}static getOrCreateInstance(l,c={}){return this.getInstance(l)||new this(l,"object"==typeof c?c:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const Sa=p=>{let l=p.getAttribute("data-bs-target");if(!l||"#"===l){let c=p.getAttribute("href");if(!c||!c.includes("#")&&!c.startsWith("."))return null;c.includes("#")&&!c.startsWith("#")&&(c=`#${c.split("#")[1]}`),l=c&&"#"!==c?c.trim():null}return l?l.split(",").map(c=>sc(c)).join(","):null},Bn={find:(p,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,p)),findOne:(p,l=document.documentElement)=>Element.prototype.querySelector.call(l,p),children:(p,l)=>[].concat(...p.children).filter(c=>c.matches(l)),parents(p,l){const c=[];let y=p.parentNode.closest(l);for(;y;)c.push(y),y=y.parentNode.closest(l);return c},prev(p,l){let c=p.previousElementSibling;for(;c;){if(c.matches(l))return[c];c=c.previousElementSibling}return[]},next(p,l){let c=p.nextElementSibling;for(;c;){if(c.matches(l))return[c];c=c.nextElementSibling}return[]},focusableChildren(p){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(c=>`${c}:not([tabindex^="-"])`).join(",");return this.find(l,p).filter(c=>!Hs(c)&&$a(c))},getSelectorFromElement(p){const l=Sa(p);return l&&Bn.findOne(l)?l:null},getElementFromSelector(p){const l=Sa(p);return l?Bn.findOne(l):null},getMultipleElementsFromSelector(p){const l=Sa(p);return l?Bn.find(l):[]}},il=(p,l="hide")=>{const y=p.NAME;qt.on(document,`click.dismiss${p.EVENT_KEY}`,`[data-bs-dismiss="${y}"]`,function(I){if(["A","AREA"].includes(this.tagName)&&I.preventDefault(),Hs(this))return;const V=Bn.getElementFromSelector(this)||this.closest(`.${y}`);p.getOrCreateInstance(V)[l]()})},Su=".bs.alert",Pu=`close${Su}`,Pa=`closed${Su}`;class O extends xs{static get NAME(){return"alert"}close(){if(qt.trigger(this._element,Pu).defaultPrevented)return;this._element.classList.remove("show");const c=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,c)}_destroyElement(){this._element.remove(),qt.trigger(this._element,Pa),this.dispose()}static jQueryInterface(l){return this.each(function(){const c=O.getOrCreateInstance(this);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l](this)}})}}il(O,"close"),qn(O);const mt='[data-bs-toggle="button"]';class yn extends xs{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const c=yn.getOrCreateInstance(this);"toggle"===l&&c[l]()})}}qt.on(document,"click.bs.button.data-api",mt,p=>{p.preventDefault();const l=p.target.closest(mt);yn.getOrCreateInstance(l).toggle()}),qn(yn);const ar=".bs.swipe",kr=`touchstart${ar}`,mi=`touchmove${ar}`,ac=`touchend${ar}`,Dc=`pointerdown${ar}`,sl=`pointerup${ar}`,pa={endCallback:null,leftCallback:null,rightCallback:null},$h={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class na extends ys{constructor(l,c){super(),this._element=l,l&&na.isSupported()&&(this._config=this._getConfig(c),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return pa}static get DefaultType(){return $h}static get NAME(){return"swipe"}dispose(){qt.off(this._element,ar)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),Gs(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const c=l/this._deltaX;this._deltaX=0,c&&Gs(c>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(qt.on(this._element,Dc,l=>this._start(l)),qt.on(this._element,sl,l=>this._end(l)),this._element.classList.add("pointer-event")):(qt.on(this._element,kr,l=>this._start(l)),qt.on(this._element,mi,l=>this._move(l)),qt.on(this._element,ac,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&("pen"===l.pointerType||"touch"===l.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ga=".bs.carousel",Wl=".data-api",_o="next",ra="prev",Pc="left",ol="right",Zm=`slide${ga}`,Ru=`slid${ga}`,Ou=`keydown${ga}`,rp=`mouseenter${ga}`,ip=`mouseleave${ga}`,Nu=`dragstart${ga}`,xc=`load${ga}${Wl}`,Td=`click${ga}${Wl}`,Mc="carousel",Rc="active",yo=".active",Fu=".carousel-item",al=yo+Fu,zh={ArrowLeft:ol,ArrowRight:Pc},uc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ll={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class dc extends xs{constructor(l,c){super(l,c),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Bn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Mc&&this.cycle()}static get Default(){return uc}static get DefaultType(){return ll}static get NAME(){return"carousel"}next(){this._slide(_o)}nextWhenVisible(){!document.hidden&&$a(this._element)&&this.next()}prev(){this._slide(ra)}pause(){this._isSliding&&Cc(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void qt.one(this._element,Ru,()=>this.cycle());this.cycle()}}to(l){const c=this._getItems();if(l>c.length-1||l<0)return;if(this._isSliding)return void qt.one(this._element,Ru,()=>this.to(l));const y=this._getItemIndex(this._getActive());y!==l&&this._slide(l>y?_o:ra,c[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&qt.on(this._element,Ou,l=>this._keydown(l)),"hover"===this._config.pause&&(qt.on(this._element,rp,()=>this.pause()),qt.on(this._element,ip,()=>this._maybeEnableCycle())),this._config.touch&&na.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of Bn.find(".carousel-item img",this._element))qt.on(y,Nu,I=>I.preventDefault());this._swipeHelper=new na(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Pc)),rightCallback:()=>this._slide(this._directionToOrder(ol)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const c=zh[l.key];c&&(l.preventDefault(),this._slide(this._directionToOrder(c)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const c=Bn.findOne(yo,this._indicatorsElement);c.classList.remove(Rc),c.removeAttribute("aria-current");const y=Bn.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);y&&(y.classList.add(Rc),y.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const c=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=c||this._config.defaultInterval}_slide(l,c=null){if(this._isSliding)return;const y=this._getActive(),I=l===_o,V=c||ta(this._getItems(),y,I,this._config.wrap);if(V===y)return;const z=this._getItemIndex(V),ae=vn=>qt.trigger(this._element,vn,{relatedTarget:V,direction:this._orderToDirection(l),from:this._getItemIndex(y),to:z});if(ae(Zm).defaultPrevented||!y||!V)return;const Ke=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=V;const ut=I?"carousel-item-start":"carousel-item-end",Lt=I?"carousel-item-next":"carousel-item-prev";V.classList.add(Lt),y.classList.add(ut),V.classList.add(ut),this._queueCallback(()=>{V.classList.remove(ut,Lt),V.classList.add(Rc),y.classList.remove(Rc,Lt,ut),this._isSliding=!1,ae(Ru)},y,this._isAnimated()),Ke&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Bn.findOne(al,this._element)}_getItems(){return Bn.find(Fu,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return go()?l===Pc?ra:_o:l===Pc?_o:ra}_orderToDirection(l){return go()?l===ra?Pc:ol:l===ra?ol:Pc}static jQueryInterface(l){return this.each(function(){const c=dc.getOrCreateInstance(this,l);if("number"!=typeof l){if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}}else c.to(l)})}}qt.on(document,Td,"[data-bs-slide], [data-bs-slide-to]",function(p){const l=Bn.getElementFromSelector(this);if(!l||!l.classList.contains(Mc))return;p.preventDefault();const c=dc.getOrCreateInstance(l),y=this.getAttribute("data-bs-slide-to");return y?(c.to(y),void c._maybeEnableCycle()):"next"===no.getDataAttribute(this,"slide")?(c.next(),void c._maybeEnableCycle()):(c.prev(),void c._maybeEnableCycle())}),qt.on(window,xc,()=>{const p=Bn.find('[data-bs-ride="carousel"]');for(const l of p)dc.getOrCreateInstance(l)}),qn(dc);const Po=".bs.collapse",Fc=`show${Po}`,Lu=`shown${Po}`,op=`hide${Po}`,Lc=`hidden${Po}`,Wh=`click${Po}.data-api`,Rs="show",ul="collapse",Ha="collapsing",ap=`:scope .${ul} .${ul}`,Ko='[data-bs-toggle="collapse"]',Kh={parent:null,toggle:!0},Sd={parent:"(null|element)",toggle:"boolean"};class Ga extends xs{constructor(l,c){super(l,c),this._isTransitioning=!1,this._triggerArray=[];const y=Bn.find(Ko);for(const I of y){const V=Bn.getSelectorFromElement(I),z=Bn.find(V).filter(ae=>ae===this._element);null!==V&&z.length&&this._triggerArray.push(I)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Kh}static get DefaultType(){return Sd}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ae=>ae!==this._element).map(ae=>Ga.getOrCreateInstance(ae,{toggle:!1}))),l.length&&l[0]._isTransitioning||qt.trigger(this._element,Fc).defaultPrevented)return;for(const ae of l)ae.hide();const y=this._getDimension();this._element.classList.remove(ul),this._element.classList.add(Ha),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const z=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ha),this._element.classList.add(ul,Rs),this._element.style[y]="",qt.trigger(this._element,Lu)},this._element,!0),this._element.style[y]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||qt.trigger(this._element,op).defaultPrevented)return;const c=this._getDimension();this._element.style[c]=`${this._element.getBoundingClientRect()[c]}px`,this._element.classList.add(Ha),this._element.classList.remove(ul,Rs);for(const I of this._triggerArray){const V=Bn.getElementFromSelector(I);V&&!this._isShown(V)&&this._addAriaAndCollapsedClass([I],!1)}this._isTransitioning=!0,this._element.style[c]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ha),this._element.classList.add(ul),qt.trigger(this._element,Lc)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(Rs)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=Ba(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Ko);for(const c of l){const y=Bn.getElementFromSelector(c);y&&this._addAriaAndCollapsedClass([c],this._isShown(y))}}_getFirstLevelChildren(l){const c=Bn.find(ap,this._config.parent);return Bn.find(l,this._config.parent).filter(y=>!c.includes(y))}_addAriaAndCollapsedClass(l,c){if(l.length)for(const y of l)y.classList.toggle("collapsed",!c),y.setAttribute("aria-expanded",c)}static jQueryInterface(l){const c={};return"string"==typeof l&&/show|hide/.test(l)&&(c.toggle=!1),this.each(function(){const y=Ga.getOrCreateInstance(this,c);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l]()}})}}qt.on(document,Wh,Ko,function(p){("A"===p.target.tagName||p.delegateTarget&&"A"===p.delegateTarget.tagName)&&p.preventDefault();for(const l of Bn.getMultipleElementsFromSelector(this))Ga.getOrCreateInstance(l,{toggle:!1}).toggle()}),qn(Ga);const Pd="dropdown",Kl=".bs.dropdown",qh=".data-api",n_="ArrowUp",Ag="ArrowDown",Dg=`hide${Kl}`,Yh=`hidden${Kl}`,zs=`show${Kl}`,xd=`shown${Kl}`,hc=`click${Kl}${qh}`,Md=`keydown${Kl}${qh}`,sa=`keyup${Kl}${qh}`,oa="show",hl='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Sg=`${hl}.${oa}`,vo=".dropdown-menu",up=go()?"top-end":"top-start",Fd=go()?"top-start":"top-end",Pg=go()?"bottom-end":"bottom-start",Xh=go()?"bottom-start":"bottom-end",dp=go()?"left-start":"right-start",jc=go()?"right-start":"left-start",pc={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Qh={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ro extends xs{constructor(l,c){super(l,c),this._popper=null,this._parent=this._element.parentNode,this._menu=Bn.next(this._element,vo)[0]||Bn.prev(this._element,vo)[0]||Bn.findOne(vo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return pc}static get DefaultType(){return Qh}static get NAME(){return Pd}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Hs(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!qt.trigger(this._element,zs,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const y of[].concat(...document.body.children))qt.on(y,"mouseover",ea);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(oa),this._element.classList.add(oa),qt.trigger(this._element,xd,l)}}hide(){!Hs(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!qt.trigger(this._element,Dg,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))qt.off(y,"mouseover",ea);this._popper&&this._popper.destroy(),this._menu.classList.remove(oa),this._element.classList.remove(oa),this._element.setAttribute("aria-expanded","false"),no.removeDataAttribute(this._menu,"popper"),qt.trigger(this._element,Yh,l)}}_getConfig(l){if("object"==typeof(l=super._getConfig(l)).reference&&!gi(l.reference)&&"function"!=typeof l.reference.getBoundingClientRect)throw new TypeError(`${Pd.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(typeof a>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;"parent"===this._config.reference?l=this._parent:gi(this._config.reference)?l=Ba(this._config.reference):"object"==typeof this._config.reference&&(l=this._config.reference);const c=this._getPopperConfig();this._popper=Ho(l,this._menu,c)}_isShown(){return this._menu.classList.contains(oa)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return dp;if(l.classList.contains("dropstart"))return jc;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const c="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return l.classList.contains("dropup")?c?Fd:up:c?Xh:Pg}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(c=>Number.parseInt(c,10)):"function"==typeof l?c=>l(c,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(no.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...Gs(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:c}){const y=Bn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(I=>$a(I));y.length&&ta(y,c,l===Ag,!y.includes(c)).focus()}static jQueryInterface(l){return this.each(function(){const c=ro.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}static clearMenus(l){if(2===l.button||"keyup"===l.type&&"Tab"!==l.key)return;const c=Bn.find(Sg);for(const y of c){const I=ro.getInstance(y);if(!I||!1===I._config.autoClose)continue;const V=l.composedPath(),z=V.includes(I._menu);if(V.includes(I._element)||"inside"===I._config.autoClose&&!z||"outside"===I._config.autoClose&&z||I._menu.contains(l.target)&&("keyup"===l.type&&"Tab"===l.key||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const ae={relatedTarget:I._element};"click"===l.type&&(ae.clickEvent=l),I._completeHide(ae)}}static dataApiKeydownHandler(l){const c=/input|textarea/i.test(l.target.tagName),y="Escape"===l.key,I=[n_,Ag].includes(l.key);if(!I&&!y||c&&!y)return;l.preventDefault();const V=this.matches(hl)?this:Bn.prev(this,hl)[0]||Bn.next(this,hl)[0]||Bn.findOne(hl,l.delegateTarget.parentNode),z=ro.getOrCreateInstance(V);if(I)return l.stopPropagation(),z.show(),void z._selectMenuItem(l);z._isShown()&&(l.stopPropagation(),z.hide(),V.focus())}}qt.on(document,Md,hl,ro.dataApiKeydownHandler),qt.on(document,Md,vo,ro.dataApiKeydownHandler),qt.on(document,hc,ro.clearMenus),qt.on(document,sa,ro.clearMenus),qt.on(document,hc,hl,function(p){p.preventDefault(),ro.getOrCreateInstance(this).toggle()}),qn(ro);const Vd="backdrop",Jh=`mousedown.bs.${Vd}`,Uu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ju={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class jd extends ys{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return Uu}static get DefaultType(){return ju}static get NAME(){return Vd}show(l){if(!this._config.isVisible)return void Gs(l);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Gs(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Gs(l)})):Gs(l)}dispose(){this._isAppended&&(qt.off(this._element,Jh),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=Ba(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),qt.on(l,Jh,()=>{Gs(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){jl(l,this._getElement(),this._config.isAnimated)}}const ma=".bs.focustrap",Bc=`focusin${ma}`,T=`keydown.tab${ma}`,S="backward",X={autofocus:!0,trapElement:null},he={autofocus:"boolean",trapElement:"element"};class Ge extends ys{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return X}static get DefaultType(){return he}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),qt.off(document,ma),qt.on(document,Bc,l=>this._handleFocusin(l)),qt.on(document,T,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,qt.off(document,ma))}_handleFocusin(l){const{trapElement:c}=this._config;if(l.target===document||l.target===c||c.contains(l.target))return;const y=Bn.focusableChildren(c);0===y.length?c.focus():this._lastTabNavDirection===S?y[y.length-1].focus():y[0].focus()}_handleKeydown(l){"Tab"===l.key&&(this._lastTabNavDirection=l.shiftKey?S:"forward")}}const It=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ht=".sticky-top",Sn="padding-right",xn="margin-right";class Hr{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Sn,c=>c+l),this._setElementAttributes(It,Sn,c=>c+l),this._setElementAttributes(Ht,xn,c=>c-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Sn),this._resetElementAttributes(It,Sn),this._resetElementAttributes(Ht,xn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,c,y){const I=this.getWidth();this._applyManipulationCallback(l,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+I)return;this._saveInitialAttribute(z,c);const ae=window.getComputedStyle(z).getPropertyValue(c);z.style.setProperty(c,`${y(Number.parseFloat(ae))}px`)})}_saveInitialAttribute(l,c){const y=l.style.getPropertyValue(c);y&&no.setDataAttribute(l,c,y)}_resetElementAttributes(l,c){this._applyManipulationCallback(l,I=>{const V=no.getDataAttribute(I,c);null!==V?(no.removeDataAttribute(I,c),I.style.setProperty(c,V)):I.style.removeProperty(c)})}_applyManipulationCallback(l,c){if(gi(l))c(l);else for(const y of Bn.find(l,this._element))c(y)}}const Js=".bs.modal",Gd=`hide${Js}`,xg=`hidePrevented${Js}`,ef=`hidden${Js}`,Bu=`show${Js}`,Mg=`shown${Js}`,Xl=`resize${Js}`,tf=`click.dismiss${Js}`,$u=`mousedown.dismiss${Js}`,zd=`keydown.dismiss${Js}`,Wd=`click${Js}.data-api`,$c="modal-open",qd="modal-static",Yd={backdrop:!0,focus:!0,keyboard:!0},pp={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class za extends xs{constructor(l,c){super(l,c),this._dialog=Bn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Hr,this._addEventListeners()}static get Default(){return Yd}static get DefaultType(){return pp}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||qt.trigger(this._element,Bu,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add($c),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){!this._isShown||this._isTransitioning||qt.trigger(this._element,Gd).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){qt.off(window,Js),qt.off(this._dialog,Js),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new jd({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ge({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const c=Bn.findOne(".modal-body",this._dialog);c&&(c.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,qt.trigger(this._element,Mg,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){qt.on(this._element,zd,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),qt.on(window,Xl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),qt.on(this._element,$u,l=>{qt.one(this._element,tf,c=>{if(this._element===l.target&&this._element===c.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove($c),this._resetAdjustments(),this._scrollBar.reset(),qt.trigger(this._element,ef)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(qt.trigger(this._element,xg).defaultPrevented)return;const c=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;"hidden"===y||this._element.classList.contains(qd)||(c||(this._element.style.overflowY="hidden"),this._element.classList.add(qd),this._queueCallback(()=>{this._element.classList.remove(qd),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,c=this._scrollBar.getWidth(),y=c>0;if(y&&!l){const I=go()?"paddingLeft":"paddingRight";this._element.style[I]=`${c}px`}if(!y&&l){const I=go()?"paddingRight":"paddingLeft";this._element.style[I]=`${c}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,c){return this.each(function(){const y=za.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l](c)}})}}qt.on(document,Wd,'[data-bs-toggle="modal"]',function(p){const l=Bn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),qt.one(l,Bu,I=>{I.defaultPrevented||qt.one(l,ef,()=>{$a(this)&&this.focus()})});const c=Bn.findOne(".modal.show");c&&za.getInstance(c).hide(),za.getOrCreateInstance(l).toggle(this)}),il(za),qn(za);const fl=".bs.offcanvas",nf=".data-api",Xd=`load${fl}${nf}`,Hu="showing",s_=".offcanvas.show",aa=`show${fl}`,gp=`shown${fl}`,o_=`hide${fl}`,Qd=`hidePrevented${fl}`,xo=`hidden${fl}`,Gu=`resize${fl}`,a_=`click${fl}${nf}`,mp=`keydown.dismiss${fl}`,_p={backdrop:!0,keyboard:!0,scroll:!1},c_={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class gc extends xs{constructor(l,c){super(l,c),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return _p}static get DefaultType(){return c_}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||qt.trigger(this._element,aa,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Hr).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Hu),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Hu),qt.trigger(this._element,gp,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&!qt.trigger(this._element,o_).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Hr).reset(),qt.trigger(this._element,xo)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=!!this._config.backdrop;return new jd({className:"offcanvas-backdrop",isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?()=>{"static"!==this._config.backdrop?this.hide():qt.trigger(this._element,Qd)}:null})}_initializeFocusTrap(){return new Ge({trapElement:this._element})}_addEventListeners(){qt.on(this._element,mp,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();qt.trigger(this._element,Qd)}})}static jQueryInterface(l){return this.each(function(){const c=gc.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l](this)}})}}qt.on(document,a_,'[data-bs-toggle="offcanvas"]',function(p){const l=Bn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),Hs(this))return;qt.one(l,xo,()=>{$a(this)&&this.focus()});const c=Bn.findOne(s_);c&&c!==l&&gc.getInstance(c).hide(),gc.getOrCreateInstance(l).toggle(this)}),qt.on(window,Xd,()=>{for(const p of Bn.find(s_))gc.getOrCreateInstance(p).show()}),qt.on(window,Gu,()=>{for(const p of Bn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(p).position&&gc.getOrCreateInstance(p).hide()}),il(gc),qn(gc);const sf={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Jd=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ql=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,af=(p,l)=>{const c=p.nodeName.toLowerCase();return l.includes(c)?!Jd.has(c)||!!Ql.test(p.nodeValue):l.filter(y=>y instanceof RegExp).some(y=>y.test(c))},eh={allowList:sf,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},th={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ly={entry:"(string|element|function|null)",selector:"(string|element)"};class u_ extends ys{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return eh}static get DefaultType(){return th}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[I,V]of Object.entries(this._config.content))this._setContent(l,V,I);const c=l.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&c.classList.add(...y.split(" ")),c}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[c,y]of Object.entries(l))super._typeCheckConfig({selector:c,entry:y},Ly)}_setContent(l,c,y){const I=Bn.findOne(y,l);if(I){if(!(c=this._resolvePossibleFunction(c)))return void I.remove();if(gi(c))return void this._putElementInTemplate(Ba(c),I);if(this._config.html)return void(I.innerHTML=this._maybeSanitize(c));I.textContent=c}}_maybeSanitize(l){return this._config.sanitize?function Jl(p,l,c){if(!p.length)return p;if(c&&"function"==typeof c)return c(p);const I=(new window.DOMParser).parseFromString(p,"text/html"),V=[].concat(...I.body.querySelectorAll("*"));for(const z of V){const ae=z.nodeName.toLowerCase();if(!Object.keys(l).includes(ae)){z.remove();continue}const _e=[].concat(...z.attributes),Ke=[].concat(l["*"]||[],l[ae]||[]);for(const ut of _e)af(ut,Ke)||z.removeAttribute(ut.nodeName)}return I.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return Gs(l,[this])}_putElementInTemplate(l,c){if(this._config.html)return c.innerHTML="",void c.append(l);c.textContent=l.textContent}}const yp=new Set(["sanitize","allowList","sanitizeFn"]),Hc="fade",zu="show",vp="hide.bs.modal",Wu="hover",Ep="focus",Ip={AUTO:"auto",TOP:"top",RIGHT:go()?"left":"right",BOTTOM:"bottom",LEFT:go()?"right":"left"},g_={allowList:sf,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ug={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class rh extends xs{constructor(l,c){if(typeof a>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,c),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return g_}static get DefaultType(){return Ug}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),qt.off(this._element.closest(".modal"),vp,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=qt.trigger(this._element,this.constructor.eventName("show")),y=(_s(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!y)return;this._disposePopper();const I=this._getTipElement();this._element.setAttribute("aria-describedby",I.getAttribute("id"));const{container:V}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(V.append(I),qt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(I),I.classList.add(zu),"ontouchstart"in document.documentElement)for(const ae of[].concat(...document.body.children))qt.on(ae,"mouseover",ea);this._queueCallback(()=>{qt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!qt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(zu),"ontouchstart"in document.documentElement)for(const I of[].concat(...document.body.children))qt.off(I,"mouseover",ea);this._activeTrigger.click=!1,this._activeTrigger[Ep]=!1,this._activeTrigger[Wu]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),qt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const c=this._getTemplateFactory(l).toHtml();if(!c)return null;c.classList.remove(Hc,zu),c.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(p=>{do{p+=Math.floor(1e6*Math.random())}while(document.getElementById(p));return p})(this.constructor.NAME).toString();return c.setAttribute("id",y),this._isAnimated()&&c.classList.add(Hc),c}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new u_({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Hc)}_isShown(){return this.tip&&this.tip.classList.contains(zu)}_createPopper(l){const c=Gs(this._config.placement,[this,l,this._element]),y=Ip[c.toUpperCase()];return Ho(this._element,l,this._getPopperConfig(y))}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(c=>Number.parseInt(c,10)):"function"==typeof l?c=>l(c,this._element):l}_resolvePossibleFunction(l){return Gs(l,[this._element])}_getPopperConfig(l){const c={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...c,...Gs(this._config.popperConfig,[c])}}_setListeners(){const l=this._config.trigger.split(" ");for(const c of l)if("click"===c)qt.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if("manual"!==c){const y=this.constructor.eventName(c===Wu?"mouseenter":"focusin"),I=this.constructor.eventName(c===Wu?"mouseleave":"focusout");qt.on(this._element,y,this._config.selector,V=>{const z=this._initializeOnDelegatedTarget(V);z._activeTrigger["focusin"===V.type?Ep:Wu]=!0,z._enter()}),qt.on(this._element,I,this._config.selector,V=>{const z=this._initializeOnDelegatedTarget(V);z._activeTrigger["focusout"===V.type?Ep:Wu]=z._element.contains(V.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},qt.on(this._element.closest(".modal"),vp,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,c){clearTimeout(this._timeout),this._timeout=setTimeout(l,c)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const c=no.getDataAttributes(this._element);for(const y of Object.keys(c))yp.has(y)&&delete c[y];return l={...c,..."object"==typeof l&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=!1===l.container?document.body:Ba(l.container),"number"==typeof l.delay&&(l.delay={show:l.delay,hide:l.delay}),"number"==typeof l.title&&(l.title=l.title.toString()),"number"==typeof l.content&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[c,y]of Object.entries(this._config))this.constructor.Default[c]!==y&&(l[c]=y);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const c=rh.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}}qn(rh);const m_={...rh.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},wp={...rh.DefaultType,content:"(null|string|element|function)"};class uf extends rh{static get Default(){return m_}static get DefaultType(){return wp}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const c=uf.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}}qn(uf);const pl=".bs.scrollspy",df=`activate${pl}`,sh=`click${pl}`,__=`load${pl}.data-api`,Gc="active",Dp="[href]",y_=".nav-link",Sp=`${y_}, .nav-item > ${y_}, .list-group-item`,Zl={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},jy={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class oh extends xs{constructor(l,c){super(l,c),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Zl}static get DefaultType(){return jy}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=Ba(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,"string"==typeof l.threshold&&(l.threshold=l.threshold.split(",").map(c=>Number.parseFloat(c))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(qt.off(this._config.target,sh),qt.on(this._config.target,sh,Dp,l=>{const c=this._observableSections.get(l.target.hash);if(c){l.preventDefault();const y=this._rootElement||window,I=c.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:I,behavior:"smooth"});y.scrollTop=I}}))}_getNewObserver(){return new IntersectionObserver(c=>this._observerCallback(c),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(l){const c=z=>this._targetLinks.get(`#${z.target.id}`),y=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(c(z))},I=(this._rootElement||document.documentElement).scrollTop,V=I>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=I;for(const z of l){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(c(z));continue}const ae=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&ae){if(y(z),!I)return}else!V&&!ae&&y(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=Bn.find(Dp,this._config.target);for(const c of l){if(!c.hash||Hs(c))continue;const y=Bn.findOne(decodeURI(c.hash),this._element);$a(y)&&(this._targetLinks.set(decodeURI(c.hash),c),this._observableSections.set(c.hash,y))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(Gc),this._activateParents(l),qt.trigger(this._element,df,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))Bn.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(Gc);else for(const c of Bn.parents(l,".nav, .list-group"))for(const y of Bn.prev(c,Sp))y.classList.add(Gc)}_clearActiveClass(l){l.classList.remove(Gc);const c=Bn.find(`${Dp}.${Gc}`,l);for(const y of c)y.classList.remove(Gc)}static jQueryInterface(l){return this.each(function(){const c=oh.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}})}}qt.on(window,__,()=>{for(const p of Bn.find('[data-bs-spy="scroll"]'))oh.getOrCreateInstance(p)}),qn(oh);const ml=".bs.tab",Wg=`hide${ml}`,ah=`hidden${ml}`,xp=`show${ml}`,ff=`shown${ml}`,b_=`click${ml}`,Mp=`keydown${ml}`,C_=`load${ml}`,_l="ArrowLeft",I_="ArrowRight",Kg="ArrowUp",qg="ArrowDown",pf="Home",Yg="End",ca="active",gf="show",Rp=".dropdown-toggle",mf=`:not(${Rp})`,Np='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',kp=`.nav-link${mf}, .list-group-item${mf}, [role="tab"]${mf}, ${Np}`,ch=`.${ca}[data-bs-toggle="tab"], .${ca}[data-bs-toggle="pill"], .${ca}[data-bs-toggle="list"]`;class zc extends xs{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),qt.on(this._element,Mp,c=>this._keydown(c)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const c=this._getActiveElem(),y=c?qt.trigger(c,Wg,{relatedTarget:l}):null;qt.trigger(l,xp,{relatedTarget:c}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(c,l),this._activate(l,c))}_activate(l,c){l&&(l.classList.add(ca),this._activate(Bn.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),qt.trigger(l,ff,{relatedTarget:c})):l.classList.add(gf)},l,l.classList.contains("fade")))}_deactivate(l,c){l&&(l.classList.remove(ca),l.blur(),this._deactivate(Bn.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),qt.trigger(l,ah,{relatedTarget:c})):l.classList.remove(gf)},l,l.classList.contains("fade")))}_keydown(l){if(![_l,I_,Kg,qg,pf,Yg].includes(l.key))return;l.stopPropagation(),l.preventDefault();const c=this._getChildren().filter(I=>!Hs(I));let y;if([pf,Yg].includes(l.key))y=c[l.key===pf?0:c.length-1];else{const I=[I_,qg].includes(l.key);y=ta(c,l.target,I,!0)}y&&(y.focus({preventScroll:!0}),zc.getOrCreateInstance(y).show())}_getChildren(){return Bn.find(kp,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,c){this._setAttributeIfNotExists(l,"role","tablist");for(const y of c)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const c=this._elemIsActive(l),y=this._getOuterElement(l);l.setAttribute("aria-selected",c),y!==l&&this._setAttributeIfNotExists(y,"role","presentation"),c||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const c=Bn.getElementFromSelector(l);c&&(this._setAttributeIfNotExists(c,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(c,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,c){const y=this._getOuterElement(l);if(!y.classList.contains("dropdown"))return;const I=(V,z)=>{const ae=Bn.findOne(V,y);ae&&ae.classList.toggle(z,c)};I(Rp,ca),I(".dropdown-menu",gf),y.setAttribute("aria-expanded",c)}_setAttributeIfNotExists(l,c,y){l.hasAttribute(c)||l.setAttribute(c,y)}_elemIsActive(l){return l.classList.contains(ca)}_getInnerElement(l){return l.matches(kp)?l:Bn.findOne(kp,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const c=zc.getOrCreateInstance(this);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}})}}qt.on(document,b_,Np,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!Hs(this)&&zc.getOrCreateInstance(this).show()}),qt.on(window,C_,()=>{for(const p of Bn.find(ch))zc.getOrCreateInstance(p)}),qn(zc);const yl=".bs.toast",T_=`mouseover${yl}`,w_=`mouseout${yl}`,A_=`focusin${yl}`,D_=`focusout${yl}`,Gy=`hide${yl}`,_f=`hidden${yl}`,yf=`show${yl}`,S_=`shown${yl}`,Ef="show",vl="showing",P_={animation:"boolean",autohide:"boolean",delay:"number"},Qg={animation:!0,autohide:!0,delay:5e3};class lh extends xs{constructor(l,c){super(l,c),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Qg}static get DefaultType(){return P_}static get NAME(){return"toast"}show(){qt.trigger(this._element,yf).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Ef,vl),this._queueCallback(()=>{this._element.classList.remove(vl),qt.trigger(this._element,S_),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!qt.trigger(this._element,Gy).defaultPrevented&&(this._element.classList.add(vl),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(vl,Ef),qt.trigger(this._element,_f)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ef),super.dispose()}isShown(){return this._element.classList.contains(Ef)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,c){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=c;break;case"focusin":case"focusout":this._hasKeyboardInteraction=c}if(c)return void this._clearTimeout();const y=l.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){qt.on(this._element,T_,l=>this._onInteraction(l,!0)),qt.on(this._element,w_,l=>this._onInteraction(l,!1)),qt.on(this._element,A_,l=>this._onInteraction(l,!0)),qt.on(this._element,D_,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const c=lh.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l](this)}})}}il(lh),qn(lh);let Wc=(()=>{class p{constructor(c){this.http=c,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(c){return this.http.post(this.emailEndpoint,c)}static{this.\u0275fac=function(y){return new(y||p)(s.KVO(je))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var ci=U(4341);let Jg=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(y,I){1&y&&(s.j41(0,"section",0)(1,"div",1)(2,"div",2),s.nrm(3,"i",3),s.j41(4,"p"),s.EFF(5),s.k0s()(),s.j41(6,"div",2),s.nrm(7,"i",4),s.j41(8,"p"),s.EFF(9),s.k0s()(),s.j41(10,"div",2),s.nrm(11,"i",5),s.j41(12,"p"),s.EFF(13),s.k0s()()()()),2&y&&(s.R7$(5),s.JRh(I.phoneNumber),s.R7$(4),s.JRh(I.address),s.R7$(4),s.JRh(I.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();var zy=U(3711);function Xu(p,l){if(1&p&&(s.j41(0,"div",22)(1,"h3"),s.EFF(2,"Email"),s.k0s(),s.j41(3,"p")(4,"a",47),s.EFF(5),s.k0s()()()),2&p){const c=s.XpG(3);s.R7$(4),s.Mz_("href","mailto:",c.business.email,"",s.B4B),s.R7$(1),s.JRh(c.business.email)}}function Zg(p,l){if(1&p&&(s.j41(0,"div",22)(1,"h3"),s.EFF(2,"Fax"),s.k0s(),s.j41(3,"p"),s.EFF(4),s.k0s()()),2&p){const c=s.XpG(3);s.R7$(4),s.JRh(c.business.fax)}}function Wy(p,l){if(1&p&&(s.j41(0,"div",22)(1,"h3"),s.EFF(2,"Social Media"),s.k0s(),s.j41(3,"p")(4,"a",47),s.EFF(5),s.k0s()()()),2&p){const c=s.XpG(3);s.R7$(4),s.FS9("href",c.business.socialMedia,s.B4B),s.R7$(1),s.JRh(c.business.socialMedia)}}function Lp(p,l){if(1&p){const c=s.RV6();s.qex(0),s.j41(1,"div",13)(2,"div",14)(3,"h1"),s.EFF(4,"Contact Us"),s.k0s(),s.j41(5,"div",15)(6,"p"),s.EFF(7,"We're here to answer any questions you have"),s.k0s()()()(),s.j41(8,"div",16)(9,"section",17)(10,"div",18),s.EFF(11,"Get in Touch"),s.k0s(),s.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),s.EFF(17,"Address"),s.k0s(),s.j41(18,"p"),s.EFF(19),s.k0s()(),s.j41(20,"div",22)(21,"h3"),s.EFF(22,"Phone"),s.k0s(),s.j41(23,"p"),s.EFF(24),s.k0s()(),s.DNE(25,Xu,6,2,"div",23),s.DNE(26,Zg,5,1,"div",23),s.DNE(27,Wy,6,2,"div",23),s.j41(28,"div")(29,"h3"),s.EFF(30,"Visitation Hours"),s.k0s(),s.nrm(31,"div",24),s.k0s()()(),s.j41(32,"div",25)(33,"div",26),s.nrm(34,"img",27),s.k0s()()()(),s.j41(35,"section",28)(36,"div",18),s.EFF(37,"Send Us a Message"),s.k0s(),s.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),s.EFF(42,"How can we help?"),s.k0s(),s.j41(43,"p",33),s.EFF(44,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),s.k0s()()(),s.j41(45,"div",34)(46,"form",35,36),s.bIt("ngSubmit",function(){s.eBV(c);const I=s.XpG(2);return s.Njj(I.onSubmit())}),s.j41(48,"div",37)(49,"label",38),s.EFF(50,"Name"),s.k0s(),s.j41(51,"input",39),s.bIt("ngModelChange",function(I){s.eBV(c);const V=s.XpG(2);return s.Njj(V.formData.name=I)}),s.k0s()(),s.j41(52,"div",37)(53,"label",40),s.EFF(54,"Email"),s.k0s(),s.j41(55,"input",41),s.bIt("ngModelChange",function(I){s.eBV(c);const V=s.XpG(2);return s.Njj(V.formData.email=I)}),s.k0s()(),s.j41(56,"div",37)(57,"label",42),s.EFF(58,"Message"),s.k0s(),s.j41(59,"textarea",43),s.bIt("ngModelChange",function(I){s.eBV(c);const V=s.XpG(2);return s.Njj(V.formData.message=I)}),s.k0s()(),s.j41(60,"button",44),s.EFF(61,"Submit"),s.k0s()()()()(),s.nrm(62,"app-information",45)(63,"app-google-maps",46),s.k0s(),s.bVm()}if(2&p){const c=s.sdS(47),y=s.XpG(2);s.R7$(19),s.JRh(y.business.address),s.R7$(5),s.JRh(y.business.phone),s.R7$(1),s.Y8G("ngIf",y.business.email),s.R7$(1),s.Y8G("ngIf",y.business.fax),s.R7$(1),s.Y8G("ngIf",y.business.socialMedia),s.R7$(4),s.Y8G("innerHTML",y.sanitizedBusinessHours,s.npT),s.R7$(3),s.Y8G("src",y.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",s.B4B),s.R7$(17),s.Y8G("ngModel",y.formData.name),s.R7$(4),s.Y8G("ngModel",y.formData.email),s.R7$(4),s.Y8G("ngModel",y.formData.message),s.R7$(1),s.Y8G("disabled",!c.form.valid),s.R7$(2),s.Y8G("phoneNumber",y.business.phone)("address",y.business.address)("email",y.business.email),s.R7$(1),s.Y8G("address",y.business.address||"")("layoutType",y.business.theme.themeType||"demo")}}function x_(p,l){if(1&p&&(s.j41(0,"div",51)(1,"p")(2,"a",47),s.EFF(3),s.k0s()()()),2&p){const c=s.XpG(3);s.R7$(2),s.Mz_("href","mailto:",c.business.email,"",s.B4B),s.R7$(1),s.JRh(c.business.email)}}function Ky(p,l){if(1&p&&(s.j41(0,"div",62)(1,"a",63),s.nrm(2,"i",64),s.k0s()()),2&p){const c=s.XpG(3);s.R7$(1),s.FS9("href",c.business.socialMedia,s.B4B)}}function qy(p,l){if(1&p){const c=s.RV6();s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",48)(3,"div",49)(4,"h2"),s.EFF(5,"Contact us"),s.k0s(),s.DNE(6,x_,4,2,"div",50),s.j41(7,"div",51)(8,"p"),s.EFF(9),s.k0s()(),s.j41(10,"div",51)(11,"p"),s.EFF(12),s.k0s()(),s.DNE(13,Ky,3,1,"div",52),s.k0s(),s.j41(14,"div",53)(15,"form",54),s.bIt("submit",function(){s.eBV(c);const I=s.XpG(2);return s.Njj(I.onSubmit())}),s.j41(16,"div",37)(17,"label",55),s.EFF(18,"Name "),s.j41(19,"span"),s.EFF(20,"(required)"),s.k0s()(),s.j41(21,"div",56)(22,"input",57),s.bIt("ngModelChange",function(I){s.eBV(c);const V=s.XpG(2);return s.Njj(V.formData.name=I)}),s.k0s()()(),s.j41(23,"div",37)(24,"label",40),s.EFF(25,"Email "),s.j41(26,"span"),s.EFF(27,"(required)"),s.k0s()(),s.j41(28,"input",58),s.bIt("ngModelChange",function(I){s.eBV(c);const V=s.XpG(2);return s.Njj(V.formData.email=I)}),s.k0s()(),s.j41(29,"div",37)(30,"label",42),s.EFF(31,"Message "),s.j41(32,"span"),s.EFF(33,"(required)"),s.k0s()(),s.j41(34,"textarea",59),s.bIt("ngModelChange",function(I){s.eBV(c);const V=s.XpG(2);return s.Njj(V.formData.message=I)}),s.k0s()(),s.j41(35,"button",60),s.EFF(36,"Send"),s.k0s()()()(),s.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),s.EFF(41,"Visitation Hours"),s.k0s(),s.nrm(42,"div",24),s.k0s()(),s.j41(43,"div",61),s.nrm(44,"app-google-maps",46),s.k0s()(),s.bVm()}if(2&p){const c=s.XpG(2);s.R7$(6),s.Y8G("ngIf",c.business.email),s.R7$(3),s.JRh(c.business.phone),s.R7$(3),s.JRh(c.business.address),s.R7$(1),s.Y8G("ngIf",c.business.socialMedia),s.R7$(9),s.Y8G("ngModel",c.formData.name),s.R7$(6),s.Y8G("ngModel",c.formData.email),s.R7$(6),s.Y8G("ngModel",c.formData.message),s.R7$(8),s.Y8G("innerHTML",c.sanitizedBusinessHours,s.npT),s.R7$(2),s.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function Yy(p,l){if(1&p&&(s.j41(0,"div",51)(1,"p")(2,"a",47),s.EFF(3),s.k0s()()()),2&p){const c=s.XpG(3);s.R7$(2),s.Mz_("href","mailto:",c.business.email,"",s.B4B),s.R7$(1),s.JRh(c.business.email)}}function Xy(p,l){if(1&p&&(s.j41(0,"div",62)(1,"a",63),s.nrm(2,"i",64),s.k0s()()),2&p){const c=s.XpG(3);s.R7$(1),s.FS9("href",c.business.socialMedia,s.B4B)}}function M_(p,l){if(1&p){const c=s.RV6();s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",48)(3,"div",49)(4,"h2"),s.EFF(5,"Contact us"),s.k0s(),s.DNE(6,Yy,4,2,"div",50),s.j41(7,"div",51)(8,"p"),s.EFF(9),s.k0s()(),s.j41(10,"div",51)(11,"p"),s.EFF(12),s.k0s()(),s.DNE(13,Xy,3,1,"div",52),s.k0s(),s.j41(14,"div",53)(15,"form",54),s.bIt("submit",function(){s.eBV(c);const I=s.XpG(2);return s.Njj(I.onSubmit())}),s.j41(16,"div",37)(17,"label",55),s.EFF(18,"Name "),s.j41(19,"span"),s.EFF(20,"(required)"),s.k0s()(),s.j41(21,"div",56)(22,"input",57),s.bIt("ngModelChange",function(I){s.eBV(c);const V=s.XpG(2);return s.Njj(V.formData.name=I)}),s.k0s()()(),s.j41(23,"div",37)(24,"label",40),s.EFF(25,"Email "),s.j41(26,"span"),s.EFF(27,"(required)"),s.k0s()(),s.j41(28,"input",58),s.bIt("ngModelChange",function(I){s.eBV(c);const V=s.XpG(2);return s.Njj(V.formData.email=I)}),s.k0s()(),s.j41(29,"div",37)(30,"label",42),s.EFF(31,"Message "),s.j41(32,"span"),s.EFF(33,"(required)"),s.k0s()(),s.j41(34,"textarea",59),s.bIt("ngModelChange",function(I){s.eBV(c);const V=s.XpG(2);return s.Njj(V.formData.message=I)}),s.k0s()(),s.j41(35,"button",60),s.EFF(36,"Send"),s.k0s()()()(),s.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),s.EFF(41,"Visitation Hours"),s.k0s(),s.nrm(42,"div",24),s.k0s()(),s.j41(43,"div",61),s.nrm(44,"app-google-maps",46),s.k0s()(),s.bVm()}if(2&p){const c=s.XpG(2);s.R7$(6),s.Y8G("ngIf",c.business.email),s.R7$(3),s.JRh(c.business.phone),s.R7$(3),s.JRh(c.business.address),s.R7$(1),s.Y8G("ngIf",c.business.socialMedia),s.R7$(9),s.Y8G("ngModel",c.formData.name),s.R7$(6),s.Y8G("ngModel",c.formData.email),s.R7$(6),s.Y8G("ngModel",c.formData.message),s.R7$(8),s.Y8G("innerHTML",c.sanitizedBusinessHours,s.npT),s.R7$(2),s.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function p0(p,l){if(1&p&&(s.j41(0,"div",51)(1,"p")(2,"a",47),s.EFF(3),s.k0s()()()),2&p){const c=s.XpG(3);s.R7$(2),s.Mz_("href","mailto:",c.business.email,"",s.B4B),s.R7$(1),s.JRh(c.business.email)}}function Qy(p,l){if(1&p&&(s.j41(0,"div",62)(1,"a",63),s.nrm(2,"i",64),s.k0s()()),2&p){const c=s.XpG(3);s.R7$(1),s.FS9("href",c.business.socialMedia,s.B4B)}}function uh(p,l){if(1&p){const c=s.RV6();s.qex(0),s.j41(1,"div",48)(2,"div",49)(3,"h2"),s.EFF(4,"Contact us"),s.k0s(),s.DNE(5,p0,4,2,"div",50),s.j41(6,"div",51)(7,"p"),s.EFF(8),s.k0s()(),s.j41(9,"div",51)(10,"p"),s.EFF(11),s.k0s()(),s.DNE(12,Qy,3,1,"div",52),s.k0s(),s.j41(13,"div",53)(14,"form",54),s.bIt("submit",function(){s.eBV(c);const I=s.XpG(2);return s.Njj(I.onSubmit())}),s.j41(15,"div",37)(16,"label",55),s.EFF(17,"Name "),s.j41(18,"span"),s.EFF(19,"(required)"),s.k0s()(),s.j41(20,"div",56)(21,"input",57),s.bIt("ngModelChange",function(I){s.eBV(c);const V=s.XpG(2);return s.Njj(V.formData.name=I)}),s.k0s()()(),s.j41(22,"div",37)(23,"label",40),s.EFF(24,"Email "),s.j41(25,"span"),s.EFF(26,"(required)"),s.k0s()(),s.j41(27,"input",58),s.bIt("ngModelChange",function(I){s.eBV(c);const V=s.XpG(2);return s.Njj(V.formData.email=I)}),s.k0s()(),s.j41(28,"div",37)(29,"label",42),s.EFF(30,"Message "),s.j41(31,"span"),s.EFF(32,"(required)"),s.k0s()(),s.j41(33,"textarea",59),s.bIt("ngModelChange",function(I){s.eBV(c);const V=s.XpG(2);return s.Njj(V.formData.message=I)}),s.k0s()(),s.j41(34,"button",60),s.EFF(35,"Send"),s.k0s()()()(),s.j41(36,"div",48)(37,"div",49)(38,"div")(39,"h2"),s.EFF(40,"Visitation Hours"),s.k0s(),s.j41(41,"ul")(42,"li")(43,"strong"),s.EFF(44,"Monday:"),s.k0s(),s.EFF(45," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(46,"li")(47,"strong"),s.EFF(48,"Tuesday:"),s.k0s(),s.EFF(49," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(50,"li")(51,"strong"),s.EFF(52,"Wednesday:"),s.k0s(),s.EFF(53," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(54,"li")(55,"strong"),s.EFF(56,"Thursday:"),s.k0s(),s.EFF(57," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(58,"li")(59,"strong"),s.EFF(60,"Friday:"),s.k0s(),s.EFF(61," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(62,"li")(63,"strong"),s.EFF(64,"Saturday:"),s.k0s(),s.EFF(65," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(66,"li")(67,"strong"),s.EFF(68,"Sunday:"),s.k0s(),s.EFF(69," 7:00am \u2013 7:00pm"),s.k0s()()()(),s.j41(70,"div",61),s.nrm(71,"app-google-maps",46),s.k0s()(),s.bVm()}if(2&p){const c=s.XpG(2);s.R7$(5),s.Y8G("ngIf",c.business.email),s.R7$(3),s.JRh(c.business.phone),s.R7$(3),s.JRh(c.business.address),s.R7$(1),s.Y8G("ngIf",c.business.socialMedia),s.R7$(9),s.Y8G("ngModel",c.formData.name),s.R7$(6),s.Y8G("ngModel",c.formData.email),s.R7$(6),s.Y8G("ngModel",c.formData.message),s.R7$(38),s.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function Qu(p,l){if(1&p&&(s.j41(0,"div")(1,"div",1),s.DNE(2,Lp,64,16,"ng-container",2),s.DNE(3,qy,45,10,"ng-container",2),s.DNE(4,M_,45,10,"ng-container",2),s.DNE(5,uh,72,9,"ng-container",3),s.k0s(),s.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"h5",8),s.EFF(11),s.k0s(),s.nrm(12,"button",9),s.k0s(),s.j41(13,"div",10),s.EFF(14),s.k0s(),s.j41(15,"div",11)(16,"button",12),s.EFF(17,"Close"),s.k0s()()()()()()),2&p){const c=s.XpG();s.R7$(1),s.Y8G("ngSwitch",c.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(7),s.JRh(c.modalTitle),s.R7$(3),s.SpI(" ",c.modalMessage," ")}}let em=(()=>{class p{constructor(c,y,I,V,z,ae,_e){this.sanitizer=c,this.businessDataService=y,this.webContent=I,this.route=V,this.http=z,this.emailService=ae,this.metaService=_e,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,c?.id&&(this.metaService.loadAndApplyMeta(c?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const c=document.getElementById("responseModal");c?this.responseModal=new za(c):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(c=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},c=>{console.error("Error sending email",c),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(c){const y=c.split(".");return y.length>2?y.slice(-2).join("."):c}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(y){return new(y||p)(s.rXU(le.up),s.rXU(ki.A),s.rXU(wi.N),s.rXU(fr.nX),s.rXU(je),s.rXU(Wc),s.rXU(zi.R))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(y,I){1&y&&s.DNE(0,Qu,18,6,"div",0),2&y&&s.Y8G("ngIf",I.business)},dependencies:[pe.bT,pe.ux,pe.e1,pe.fG,ci.qT,ci.me,ci.BC,ci.cb,ci.YS,ci.vS,ci.cV,Jg,Vn,zy.a],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}}return p})();var tm=U(467),Vp=U(214),dh=U(7304);let li=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-tour-3-d"]],decls:3,vars:1,consts:[[3,"title"],[1,"tour-container"],["width","853","height","480","src","https://my.matterport.com/show/?m=sxoFqpwFyex","frameborder","0","allowfullscreen","","allow","autoplay; fullscreen; web-share; xr-spatial-tracking;"]],template:function(y,I){1&y&&(s.nrm(0,"app-section-tilte",0),s.j41(1,"div",1),s.nrm(2,"iframe",2),s.k0s()),2&y&&s.Y8G("title","Virtual Tour")},dependencies:[or.L],styles:[".tour-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}"]})}}return p})();function nm(p,l){if(1&p&&(s.j41(0,"section",17),s.nrm(1,"div",18),s.j41(2,"div"),s.nrm(3,"p",19),s.k0s()()),2&p){const c=l.ngIf;s.R7$(1),s.Y8G("innerHTML",c.sectionTitle,s.npT),s.R7$(2),s.Y8G("innerHTML",c.sectionContent,s.npT)}}function rm(p,l){if(1&p){const c=s.RV6();s.j41(0,"div",20),s.bIt("click",function(){const V=s.eBV(c).$implicit,z=s.XpG(3);return s.Njj(z.onImageClick(V.url))}),s.nrm(1,"img",21),s.k0s()}if(2&p){const c=l.$implicit;s.R7$(1),s.Y8G("src",c.url,s.B4B)}}function tu(p,l){if(1&p){const c=s.RV6();s.qex(0),s.j41(1,"div",5)(2,"div",6)(3,"h1"),s.EFF(4,"Our Home"),s.k0s(),s.j41(5,"div",7)(6,"p"),s.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),s.k0s()()()(),s.j41(8,"div",8),s.DNE(9,nm,4,2,"section",9),s.nI1(10,"sectionFilter"),s.j41(11,"section",10)(12,"div",11),s.EFF(13,"Explore Our Gallery"),s.k0s(),s.j41(14,"div",12),s.DNE(15,rm,2,1,"div",13),s.k0s()(),s.j41(16,"div",14)(17,"div",15)(18,"h2"),s.EFF(19,"Come Meet Our Family"),s.k0s(),s.j41(20,"p"),s.EFF(21,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),s.k0s(),s.j41(22,"button",16),s.bIt("click",function(){s.eBV(c);const I=s.XpG(2);return s.Njj(I.navigateToContact(I.business.id))}),s.EFF(23,"Schedule a Visit"),s.k0s()()()(),s.bVm()}if(2&p){const c=s.XpG(2);s.R7$(9),s.Y8G("ngIf",s.i5U(10,2,null==c.business?null:c.business.sections,"GalleryCenterText")),s.R7$(6),s.Y8G("ngForOf",c.images)}}function Jy(p,l){if(1&p&&s.nrm(0,"app-center-text",27),2&p){const c=l.ngIf,y=s.XpG(3);s.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")("showBtn",!1)}}function io(p,l){if(1&p){const c=s.RV6();s.j41(0,"div",20),s.bIt("click",function(){const V=s.eBV(c).$implicit,z=s.XpG(3);return s.Njj(z.onImageClick(V.url))}),s.nrm(1,"img",21),s.k0s()}if(2&p){const c=l.$implicit;s.R7$(1),s.Y8G("src",c.url,s.B4B)}}function Os(p,l){if(1&p){const c=s.RV6();s.j41(0,"div",20),s.bIt("click",function(){const V=s.eBV(c).$implicit,z=s.XpG(3);return s.Njj(z.onImageClick(V.url))}),s.nrm(1,"img",28),s.k0s()}if(2&p){const c=l.$implicit;s.R7$(1),s.Y8G("src",c.url,s.B4B)}}function Ka(p,l){if(1&p&&(s.qex(0),s.nrm(1,"app-hero"),s.DNE(2,Jy,1,5,"app-center-text",22),s.nI1(3,"sectionFilter"),s.j41(4,"section",23)(5,"div",11),s.nrm(6,"app-section-tilte",24),s.k0s(),s.j41(7,"div",25),s.DNE(8,io,2,1,"div",13),s.k0s()(),s.j41(9,"section",23)(10,"div",11),s.nrm(11,"app-section-tilte",24),s.k0s(),s.j41(12,"div",25),s.DNE(13,Os,2,1,"div",13),s.k0s()(),s.nrm(14,"app-testimonial-image",26),s.bVm()),2&p){const c=s.XpG(2);s.R7$(2),s.Y8G("ngIf",s.i5U(3,8,null==c.business?null:c.business.sections,"GalleryCenterText")),s.R7$(4),s.Y8G("title","Gallery"),s.R7$(2),s.Y8G("ngForOf",c.images),s.R7$(3),s.Y8G("title","Lifestyle Images"),s.R7$(2),s.Y8G("ngForOf",c.lifeStyleImages),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[5].quote)}}function R_(p,l){if(1&p&&s.nrm(0,"app-center-text",27),2&p){const c=l.ngIf,y=s.XpG(3);s.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")("showBtn",!1)}}function O_(p,l){if(1&p){const c=s.RV6();s.j41(0,"div",20),s.bIt("click",function(){const V=s.eBV(c).$implicit,z=s.XpG(3);return s.Njj(z.onImageClick(V.url))}),s.nrm(1,"img",21),s.k0s()}if(2&p){const c=l.$implicit;s.R7$(1),s.Y8G("src",c.url,s.B4B)}}function nu(p,l){if(1&p){const c=s.RV6();s.j41(0,"div",20),s.bIt("click",function(){const V=s.eBV(c).$implicit,z=s.XpG(3);return s.Njj(z.onImageClick(V.url))}),s.nrm(1,"img",28),s.k0s()}if(2&p){const c=l.$implicit;s.R7$(1),s.Y8G("src",c.url,s.B4B)}}function Zy(p,l){1&p&&s.nrm(0,"app-tour-3-d")}function bf(p,l){if(1&p&&(s.qex(0),s.nrm(1,"app-hero"),s.DNE(2,R_,1,5,"app-center-text",22),s.nI1(3,"sectionFilter"),s.j41(4,"section",23)(5,"div",11),s.nrm(6,"app-section-tilte",24),s.k0s(),s.j41(7,"div",25),s.DNE(8,O_,2,1,"div",13),s.k0s()(),s.j41(9,"section",23)(10,"div",11),s.nrm(11,"app-section-tilte",24),s.k0s(),s.j41(12,"div",25),s.DNE(13,nu,2,1,"div",13),s.k0s()(),s.DNE(14,Zy,1,0,"app-tour-3-d",0),s.nrm(15,"app-testimonial-image",26),s.bVm()),2&p){const c=s.XpG(2);s.R7$(2),s.Y8G("ngIf",s.i5U(3,9,null==c.business?null:c.business.sections,"GalleryCenterText")),s.R7$(4),s.Y8G("title","Gallery"),s.R7$(2),s.Y8G("ngForOf",c.images),s.R7$(3),s.Y8G("title","Lifestyle Images"),s.R7$(2),s.Y8G("ngForOf",c.lifeStyleImages),s.R7$(1),s.Y8G("ngIf","clemo"===(null==c.business||null==c.business.theme?null:c.business.theme.themeType)),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[4].quote)}}function Cf(p,l){if(1&p&&s.nrm(0,"app-center-text",27),2&p){const c=l.ngIf,y=s.XpG(3);s.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")("showBtn",!1)}}function im(p,l){if(1&p){const c=s.RV6();s.j41(0,"div",20),s.bIt("click",function(){const V=s.eBV(c).$implicit,z=s.XpG(3);return s.Njj(z.onImageClick(V.url))}),s.nrm(1,"img",21),s.k0s()}if(2&p){const c=l.$implicit;s.R7$(1),s.Y8G("src",c.url,s.B4B)}}function sm(p,l){if(1&p&&(s.qex(0),s.nrm(1,"app-hero"),s.DNE(2,Cf,1,5,"app-center-text",22),s.nI1(3,"sectionFilter"),s.j41(4,"section",10)(5,"div",11)(6,"h2"),s.EFF(7,"Explore Our Gallery"),s.k0s()(),s.j41(8,"div",12),s.DNE(9,im,2,1,"div",13),s.k0s()(),s.bVm()),2&p){const c=s.XpG(2);s.R7$(2),s.Y8G("ngIf",s.i5U(3,2,null==c.business?null:c.business.sections,"GalleryCenterText")),s.R7$(7),s.Y8G("ngForOf",c.images)}}function Up(p,l){if(1&p){const c=s.RV6();s.j41(0,"app-image-viewer-modal",29),s.bIt("closeModal",function(){s.eBV(c);const I=s.XpG(2);return s.Njj(I.onCloseModal())}),s.k0s()}if(2&p){const c=s.XpG(2);s.Y8G("imageUrl",c.selectedImageUrl)}}function Ei(p,l){if(1&p&&(s.j41(0,"div")(1,"div",1),s.DNE(2,tu,24,5,"ng-container",2),s.DNE(3,Ka,15,11,"ng-container",2),s.DNE(4,bf,16,12,"ng-container",2),s.DNE(5,sm,10,5,"ng-container",3),s.DNE(6,Up,1,1,"app-image-viewer-modal",4),s.k0s()()),2&p){const c=s.XpG();s.R7$(1),s.Y8G("ngSwitch",c.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(2),s.Y8G("ngIf",c.selectedImageUrl)}}let If=(()=>{class p{constructor(c,y,I,V,z){this.businessDataService=c,this.route=y,this.webContent=I,this.metaService=V,this.router=z,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.layoutType=c?.theme.themeType||"",c?.id&&(this.businessId=c.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var c=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:I,target:V})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,I).pipe((0,oe.n)(z=>{const ae=z.map(function(){var _e=(0,tm.A)(function*(Ke){return(yield c.webContent.checkImageExists(Ke.url))?Ke:null});return function(Ke){return _e.apply(this,arguments)}}());return(0,me.H)(Promise.all(ae))}),(0,Re.T)(z=>z.filter(ae=>null!==ae))).subscribe(z=>{this[V]=z})})}onImageClick(c){this.selectedImageUrl=c}onCloseModal(){this.selectedImageUrl=null}navigateToContact(c){this.router.navigate(["/contact-us"],{queryParams:{id:c}})}static{this.\u0275fac=function(y){return new(y||p)(s.rXU(ki.A),s.rXU(fr.nX),s.rXU(wi.N),s.rXU(zi.R),s.rXU(fr.Ix))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],["class","home-description",4,"ngIf"],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"home-description"],[1,"section-heading",3,"innerHTML"],[3,"innerHTML"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"themeType","imageURL","title","content","showBtn",4,"ngIf"],[1,"gallery","ae-gallery"],[3,"title"],[1,"gallery-grid","gallery-container","ae-gallery-container"],[3,"imageURL","author","text"],[3,"themeType","imageURL","title","content","showBtn"],["alt","Lifestyle Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(y,I){1&y&&s.DNE(0,Ei,7,5,"div",0),2&y&&s.Y8G("ngIf",I.business)},dependencies:[pe.Sq,pe.bT,pe.ux,pe.e1,pe.fG,Vp.W,dh.W,Vn,Mn,or.L,li,Wi.W],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{padding:40px 120px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;transition:transform .3s,box-shadow .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}"]})}}return p})();var jp=U(4796);function vs(p,l){if(1&p&&(s.j41(0,"div",11),s.EFF(1),s.k0s()),2&p){const c=s.XpG();s.R7$(1),s.JRh(c.errorMessage)}}let om=(()=>{class p{constructor(c,y){this.authService=c,this.router=y,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(c=>{this.errorMessage=c.message})}static{this.\u0275fac=function(y){return new(y||p)(s.rXU(jp.u),s.rXU(fr.Ix))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(y,I){1&y&&(s.j41(0,"div",0)(1,"div",1)(2,"h2",2),s.EFF(3,"Login"),s.k0s(),s.j41(4,"form",3),s.bIt("submit",function(){return I.login()}),s.j41(5,"div",4)(6,"label",5),s.EFF(7,"Email"),s.k0s(),s.j41(8,"input",6),s.bIt("ngModelChange",function(z){return I.email=z}),s.k0s()(),s.j41(9,"div",4)(10,"label",7),s.EFF(11,"Password"),s.k0s(),s.j41(12,"input",8),s.bIt("ngModelChange",function(z){return I.password=z}),s.k0s()(),s.j41(13,"button",9),s.EFF(14,"Login"),s.k0s(),s.DNE(15,vs,2,1,"div",10),s.k0s()()()),2&y&&(s.R7$(8),s.Y8G("ngModel",I.email),s.R7$(4),s.Y8G("ngModel",I.password),s.R7$(3),s.Y8G("ngIf",I.errorMessage))},dependencies:[pe.bT,ci.qT,ci.me,ci.BC,ci.cb,ci.YS,ci.vS,ci.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return p})();var am=U(6340);let hh=(()=>{class p{constructor(c){this.afs=c,this.basePath="businesses"}saveIntakeForm(c,y){const I=this.afs.createId(),V=this.afs.collection(`${this.basePath}/${y}/intake`).doc(I);return new De.c(z=>{V.set(c).then(()=>{z.next(c),z.complete()}).catch(ae=>{console.error("Error saving intake form data",ae),z.error(ae)})})}getIntakeForms(c){return this.afs.collection(`${this.basePath}/${c}/intake`).snapshotChanges().pipe((0,Re.T)(y=>y.map(I=>{const V=I.payload.doc.data();return{id:I.payload.doc.id,...V}})))}getIntakeForm(c,y){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).valueChanges().pipe((0,Re.T)(I=>I||void 0))}updateIntakeForm(c,y,I){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).update(I)}deleteIntakeForm(c,y){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).delete()}static{this.\u0275fac=function(y){return new(y||p)(s.KVO(am.Qe))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function N_(p,l){if(1&p&&(s.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),s.EFF(3),s.k0s()(),s.j41(4,"div",6)(5,"p"),s.EFF(6),s.k0s()()()),2&p){const c=l.$implicit;s.R7$(3),s.SpI('"',c.quote,'"'),s.R7$(3),s.JRh(c.name)}}function ev(p,l){if(1&p&&(s.j41(0,"div",2),s.DNE(1,N_,7,2,"div",3),s.k0s()),2&p){const c=s.XpG();s.R7$(1),s.Y8G("ngForOf",c.testimonials)}}const k_=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:ks.B},{path:"about-us",component:Uo},{path:"services",component:pn},{path:"contact-us",component:em},{path:"gallery",component:If},{path:"login",component:om},{path:"resident-form",component:(()=>{class p{constructor(c,y,I,V,z){this.fb=c,this.intakeService=y,this.businessDataService=I,this.emailService=V,this.metaService=z,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",ci.k0.required],email:["",[ci.k0.required,ci.k0.email]],phoneNumber:["",ci.k0.required],referralSource:["",ci.k0.required],relationToResident:[""],residentName:["",ci.k0.required],age:["",ci.k0.required],gender:["",ci.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,c?.id&&(this.metaService.loadAndApplyMeta(c?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const c=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(c,this.businessId).subscribe(I=>{console.log("Intake form saved successfully!",I)},I=>{console.error("Error saving intake form:",I)});const y={name:c.name,email:c.email,message:this.generateEmailMessage(c),website:window.location.hostname};this.emailService.sendEmail(y).subscribe(I=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},I=>{console.error("Error sending email",I),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(c){return`\n      Name: ${c.name}\n      Email: ${c.email}\n      Phone Number: ${c.phoneNumber}\n      Referral Source: ${c.referralSource}\n      Relation to Resident: ${c.relationToResident}\n      Resident Name: ${c.residentName}\n      Age: ${c.age}\n      Gender: ${c.gender}\n      Medical History: ${c.medicalHistory}\n      Height: ${c.height}\n      Weight: ${c.weight}\n      Reason for Moving: ${c.reasonForMoving}\n      RN Assessment: ${c.rnAssessment}\n      Eating: ${c.eating}\n      Personal Hygiene: ${c.personalHygiene}\n      Bathing: ${c.bathing}\n      Toileting: ${c.toileting}\n      Mobility: ${c.mobility}\n      Transfers: ${c.transfers}\n      Medication Assistance: ${c.medicationAssistance}\n      Memory Issues: ${c.memoryIssues}\n      Behavior: ${c.behavior}\n      Skin Condition: ${c.skinCondition}\n      Additional Info: ${c.additionalInfo}\n      Current Living Situation: ${c.currentLivingSituation}\n      Target Move-In Date: ${c.targetMoveInDate}\n      Disclosure Summary: ${c.disclosureSummary}\n      Questions: ${c.questions}\n    `}static{this.\u0275fac=function(y){return new(y||p)(s.rXU(ci.ok),s.rXU(hh),s.rXU(ki.A),s.rXU(Wc),s.rXU(zi.R))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-resident-intake-form"]],decls:194,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(y,I){1&y&&(s.nrm(0,"app-hero"),s.j41(1,"form",0),s.bIt("ngSubmit",function(){return I.onSubmit()}),s.j41(2,"div",1)(3,"h2"),s.EFF(4,"Personal Information"),s.k0s(),s.j41(5,"label",2),s.EFF(6,"Name *"),s.k0s(),s.nrm(7,"input",3),s.j41(8,"label",4),s.EFF(9,"Email *"),s.k0s(),s.nrm(10,"input",5),s.j41(11,"label",6),s.EFF(12,"Phone number *"),s.k0s(),s.nrm(13,"input",7),s.k0s(),s.j41(14,"div",1)(15,"h2"),s.EFF(16,"Referral Source"),s.k0s(),s.j41(17,"label",8),s.EFF(18,"How did you find out about us? *"),s.k0s(),s.j41(19,"select",9)(20,"option",10),s.EFF(21,"Google"),s.k0s(),s.j41(22,"option",11),s.EFF(23,"Facebook"),s.k0s(),s.j41(24,"option",12),s.EFF(25,"Placement Agency"),s.k0s(),s.j41(26,"option",13),s.EFF(27,"Friends and/or Family"),s.k0s(),s.j41(28,"option",14),s.EFF(29,"Other"),s.k0s()(),s.j41(30,"label",15),s.EFF(31,"What is your relation to the resident? *"),s.k0s(),s.nrm(32,"input",16),s.k0s(),s.j41(33,"div",1)(34,"h2"),s.EFF(35,"Resident Information"),s.k0s(),s.j41(36,"label",17),s.EFF(37,"Resident's name *"),s.k0s(),s.nrm(38,"input",18),s.j41(39,"label",19),s.EFF(40,"Age *"),s.k0s(),s.nrm(41,"input",20),s.j41(42,"label",21),s.EFF(43,"Gender *"),s.k0s(),s.j41(44,"select",22)(45,"option",23),s.EFF(46,"Male"),s.k0s(),s.j41(47,"option",24),s.EFF(48,"Female"),s.k0s(),s.j41(49,"option",25),s.EFF(50,"Prefer not to say"),s.k0s(),s.j41(51,"option",14),s.EFF(52,"Other"),s.k0s()()(),s.j41(53,"div",1)(54,"h2"),s.EFF(55,"Medical History"),s.k0s(),s.j41(56,"label",26),s.EFF(57,"Relevant medical and surgical history *"),s.k0s(),s.nrm(58,"textarea",27),s.j41(59,"label",28),s.EFF(60,"Height *"),s.k0s(),s.nrm(61,"input",29),s.j41(62,"label",30),s.EFF(63,"Weight *"),s.k0s(),s.nrm(64,"input",31),s.j41(65,"label",32),s.EFF(66,"Reason for moving to an adult family home *"),s.k0s(),s.nrm(67,"textarea",33),s.j41(68,"label",34),s.EFF(69,'Do you already have an "RN Assessment for AFH"? *'),s.k0s(),s.j41(70,"select",35)(71,"option",36),s.EFF(72,"Yes"),s.k0s(),s.j41(73,"option",37),s.EFF(74,"No"),s.k0s()()(),s.j41(75,"div",1)(76,"h2"),s.EFF(77,"Care Levels"),s.k0s(),s.j41(78,"label",38),s.EFF(79,"Eating *"),s.k0s(),s.j41(80,"select",39)(81,"option",40),s.EFF(82,"Independent"),s.k0s(),s.j41(83,"option",41),s.EFF(84,"Needing Assistance"),s.k0s(),s.j41(85,"option",42),s.EFF(86,"Dependent"),s.k0s()(),s.j41(87,"label",43),s.EFF(88,"Personal Hygiene *"),s.k0s(),s.j41(89,"select",44)(90,"option",40),s.EFF(91,"Independent"),s.k0s(),s.j41(92,"option",41),s.EFF(93,"Needing Assistance"),s.k0s(),s.j41(94,"option",42),s.EFF(95,"Dependent"),s.k0s()(),s.j41(96,"label",45),s.EFF(97,"Bathing *"),s.k0s(),s.j41(98,"select",46)(99,"option",40),s.EFF(100,"Independent"),s.k0s(),s.j41(101,"option",41),s.EFF(102,"Needing Assistance"),s.k0s(),s.j41(103,"option",42),s.EFF(104,"Dependent"),s.k0s()(),s.j41(105,"label",47),s.EFF(106,"Toileting *"),s.k0s(),s.j41(107,"select",48)(108,"option",40),s.EFF(109,"Independent"),s.k0s(),s.j41(110,"option",41),s.EFF(111,"Needing Assistance"),s.k0s(),s.j41(112,"option",42),s.EFF(113,"Dependent"),s.k0s()(),s.j41(114,"label",49),s.EFF(115,"Mobility *"),s.k0s(),s.j41(116,"select",50)(117,"option",40),s.EFF(118,"Independent"),s.k0s(),s.j41(119,"option",41),s.EFF(120,"Needing Assistance"),s.k0s(),s.j41(121,"option",42),s.EFF(122,"Dependent"),s.k0s()(),s.j41(123,"label",51),s.EFF(124,"Transfers *"),s.k0s(),s.j41(125,"select",52)(126,"option",40),s.EFF(127,"Independent"),s.k0s(),s.j41(128,"option",41),s.EFF(129,"Needing Assistance"),s.k0s(),s.j41(130,"option",42),s.EFF(131,"Dependent"),s.k0s()(),s.j41(132,"label",53),s.EFF(133,"Medication Assistance *"),s.k0s(),s.j41(134,"select",54)(135,"option",36),s.EFF(136,"Yes"),s.k0s(),s.j41(137,"option",37),s.EFF(138,"No"),s.k0s()()(),s.j41(139,"div",1)(140,"h2"),s.EFF(141,"Other Medical Information"),s.k0s(),s.j41(142,"label",55),s.EFF(143,"Memory Issues *"),s.k0s(),s.j41(144,"select",56)(145,"option",36),s.EFF(146,"Yes"),s.k0s(),s.j41(147,"option",37),s.EFF(148,"No"),s.k0s()(),s.j41(149,"label",57),s.EFF(150,"Behavior"),s.k0s(),s.nrm(151,"textarea",58),s.j41(152,"label",59),s.EFF(153,"Skin Condition"),s.k0s(),s.nrm(154,"textarea",60),s.j41(155,"label",61),s.EFF(156,"Other information you want us to know"),s.k0s(),s.nrm(157,"textarea",62),s.k0s(),s.j41(158,"div",1)(159,"h2"),s.EFF(160,"Living Situation"),s.k0s(),s.j41(161,"label",63),s.EFF(162,"Current living situation *"),s.k0s(),s.j41(163,"select",64)(164,"option",65),s.EFF(165,"Own Home"),s.k0s(),s.j41(166,"option",66),s.EFF(167,"Relative's Home"),s.k0s(),s.j41(168,"option",67),s.EFF(169,"Hospital"),s.k0s(),s.j41(170,"option",68),s.EFF(171,"Adult Family Home"),s.k0s(),s.j41(172,"option",69),s.EFF(173,"Senior Living"),s.k0s(),s.j41(174,"option",14),s.EFF(175,"Other"),s.k0s()()(),s.j41(176,"div",1)(177,"label",70),s.EFF(178,"Target move in date *"),s.k0s(),s.nrm(179,"input",71),s.k0s(),s.j41(180,"div",1)(181,"label",72),s.EFF(182,"Would you like a summary of disclosures of our rates and services, including itemized services?"),s.k0s(),s.j41(183,"select",73)(184,"option",36),s.EFF(185,"Yes"),s.k0s(),s.j41(186,"option",37),s.EFF(187,"No"),s.k0s()()(),s.j41(188,"div",1)(189,"label",74),s.EFF(190,"Do you have any questions for us?"),s.k0s(),s.nrm(191,"textarea",75),s.k0s(),s.j41(192,"button",76),s.EFF(193,"Submit"),s.k0s()()),2&y&&(s.R7$(1),s.Y8G("formGroup",I.intakeForm),s.R7$(191),s.Y8G("disabled",I.intakeForm.invalid))},dependencies:[ci.qT,ci.xH,ci.y7,ci.me,ci.Q0,ci.wz,ci.BC,ci.cb,ci.j4,ci.JD,Vn],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return p})()},{path:"testimonials",component:(()=>{class p{constructor(c,y){this.businessDataService=c,this.metaService=y,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{console.log("Testimonial List - :",c),c&&(this.testimonials=c.testimonials||[],this.themeType=c.theme.themeType,this.metaService.loadAndApplyMeta(c?.id))})}static{this.\u0275fac=function(y){return new(y||p)(s.rXU(ki.A),s.rXU(zi.R))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(y,I){1&y&&(s.nrm(0,"app-hero"),s.j41(1,"div",0),s.DNE(2,ev,2,1,"div",1),s.k0s()),2&y&&(s.R7$(2),s.Y8G("ngIf",I.testimonials.length>0))},dependencies:[pe.Sq,pe.bT,Vn],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return p})()},{path:"login",component:om},{path:"admin",loadChildren:()=>U.e(655).then(U.bind(U,9655)).then(p=>p.AdminModule)},{path:":id",component:ks.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let tv=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=s.$C({type:p})}static{this.\u0275inj=s.G2t({imports:[fr.iI.forRoot(k_),fr.iI]})}}return p})();var um=U(5009);function dm(p,l){if(1&p&&s.nrm(0,"img",10),2&p){const c=s.XpG();s.Y8G("src",null==c.business?null:c.business.logoImage,s.B4B)}}const g0=function(p){return{"clemo-shrink":p}},Tf=function(){return["/home"]},nv=function(p){return{id:p}},ru=function(p){return{"clemo-show":p}};let Ju=(()=>{class p{constructor(c,y,I){this.route=c,this.router=y,this.businessDataService=I,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1}ngOnInit(){this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(c){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${c}`],{queryParams:y}).then(I=>{I||console.error("Navigation failed!")})}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(s.rXU(fr.nX),s.rXU(fr.Ix),s.rXU(ki.A))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-expandable-navigation"]],hostBindings:function(y,I){1&y&&s.bIt("scroll",function(){return I.onWindowScroll()},!1,s.tSv)},decls:26,vars:12,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-item"],[1,"clemo-nav-link",3,"click"],["alt","Business Logo",1,"clemo-logo",3,"src"]],template:function(y,I){1&y&&(s.j41(0,"nav",0)(1,"div",1)(2,"a",2),s.DNE(3,dm,1,1,"img",3),s.k0s(),s.j41(4,"button",4),s.bIt("click",function(){return I.toggleMenu()}),s.nrm(5,"span",5),s.k0s(),s.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),s.bIt("click",function(){return I.navigateTo("home")}),s.EFF(10,"Home"),s.k0s()(),s.j41(11,"li",8)(12,"span",9),s.bIt("click",function(){return I.navigateTo("about-us")}),s.EFF(13,"About Us"),s.k0s()(),s.j41(14,"li",8)(15,"span",9),s.bIt("click",function(){return I.navigateTo("services")}),s.EFF(16,"Services"),s.k0s()(),s.j41(17,"li",8)(18,"span",9),s.bIt("click",function(){return I.navigateTo("gallery")}),s.EFF(19,"Our Home"),s.k0s()(),s.j41(20,"li",8)(21,"span",9),s.bIt("click",function(){return I.navigateTo("resident-form")}),s.EFF(22,"Resident Form"),s.k0s()(),s.j41(23,"li",8)(24,"span",9),s.bIt("click",function(){return I.navigateTo("contact-us")}),s.EFF(25,"Contact"),s.k0s()()()()()()),2&y&&(s.Y8G("ngClass",s.eq3(5,g0,I.isShrunk)),s.R7$(2),s.Y8G("routerLink",s.lJ4(7,Tf))("queryParams",s.eq3(8,nv,I.businessId)),s.R7$(1),s.Y8G("ngIf",null==I.business?null:I.business.logoImage),s.R7$(3),s.Y8G("ngClass",s.eq3(10,ru,I.menuOpen)))},dependencies:[pe.YU,pe.bT,fr.Wk],styles:['.clemo-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:9999;background-color:#fff;transition:all .3s ease;height:150px;display:flex;justify-content:space-between;align-items:center;padding:0 20px;box-shadow:0 6px 12px #0000001a}.clemo-header.clemo-shrink[_ngcontent-%COMP%]{height:70px;box-shadow:none}.clemo-logo[_ngcontent-%COMP%]{max-height:100px;transition:max-height .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-logo[_ngcontent-%COMP%]{max-height:40px}.clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.clemo-navbar-brand[_ngcontent-%COMP%]{margin-left:0;display:flex;align-items:center}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;transition:max-height .3s ease;align-items:center}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-nav[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0}.clemo-nav-item[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.clemo-nav-link[_ngcontent-%COMP%]{color:#333;font-size:1.3rem;text-transform:uppercase;padding:15px 0;display:block;transition:font-size .3s ease,color .3s ease;cursor:pointer}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-nav-link[_ngcontent-%COMP%]{font-size:1rem}.clemo-nav-link[_ngcontent-%COMP%]:hover{color:var(--dark-background-color)}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:none}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]{width:25px;height:2px;background-color:#333;display:block;position:relative}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before, .clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{content:"";width:25px;height:2px;background-color:#333;position:absolute;left:0;transition:transform .3s ease}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before{top:-7px}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{top:7px}@media (max-width: 991px){.clemo-navbar-nav[_ngcontent-%COMP%]{display:block;height:80vh}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:none;flex-direction:column;background-color:var(--background-color);position:absolute;top:170px;left:0;width:100%;z-index:1000}.clemo-nav-item[_ngcontent-%COMP%]{width:100%;text-align:center;padding:30px}.clemo-nav-link[_ngcontent-%COMP%]{padding:10px;font-size:1.25rem}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:block;padding:20px;background-color:transparent;border:0px}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-collapse[_ngcontent-%COMP%]{top:170px}}']})}}return p})();function FE(p,l){if(1&p&&s.nrm(0,"img",13),2&p){const c=s.XpG(2);s.Y8G("src",null==c.business?null:c.business.logoImage,s.B4B)}}const qa=function(){return["/home"]},iu=function(p){return{id:p}},su=function(p){return{"open-bar1":p}},wf=function(p){return{"open-bar2":p}},ou=function(p){return{"open-bar3":p}},fh=function(p){return{active:p}};function Bp(p,l){if(1&p){const c=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),s.DNE(5,FE,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("gallery"))}),s.EFF(18,"Our Home"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("contact-us"))}),s.EFF(20,"Contact"),s.k0s()()()(),s.bVm()}if(2&p){const c=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(7,qa))("queryParams",s.eq3(8,iu,c.businessId)),s.R7$(1),s.Y8G("ngIf",null==c.business?null:c.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(10,su,c.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(12,wf,c.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,ou,c.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,fh,c.menuOpen))}}function au(p,l){if(1&p&&s.nrm(0,"img",13),2&p){const c=s.XpG(2);s.Y8G("src",null==c.business?null:c.business.logoImage,s.B4B)}}const Af=function(){return["/contact-us"]};function Ya(p,l){if(1&p){const c=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),s.DNE(5,au,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("gallery"))}),s.EFF(18,"Our Home"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("testimonials"))}),s.EFF(20,"Testimonials"),s.k0s(),s.j41(21,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("contact-us"))}),s.EFF(22,"Contact"),s.k0s(),s.j41(23,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("resident-form"))}),s.EFF(24,"Resident Form"),s.k0s()(),s.j41(25,"div",4)(26,"a",5)(27,"button",15),s.EFF(28,"Schedule a Visit"),s.k0s()()()()(),s.bVm()}if(2&p){const c=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(9,qa))("queryParams",s.eq3(10,iu,c.businessId)),s.R7$(1),s.Y8G("ngIf",null==c.business?null:c.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(12,su,c.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,wf,c.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,ou,c.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(18,fh,c.menuOpen)),s.R7$(16),s.Y8G("routerLink",s.lJ4(20,Af))("queryParams",s.eq3(21,iu,c.businessId))}}function ph(p,l){1&p&&(s.qex(0),s.nrm(1,"app-expandable-navigation"),s.bVm())}function Zu(p,l){if(1&p&&s.nrm(0,"img",13),2&p){const c=s.XpG(2);s.Y8G("src",null==c.business?null:c.business.logoImage,s.B4B)}}function Df(p,l){if(1&p){const c=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),s.DNE(5,Zu,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("gallery"))}),s.EFF(18,"gallery"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("contact-us"))}),s.EFF(20,"Contact"),s.k0s(),s.j41(21,"li",12),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("resident-form"))}),s.EFF(22,"Intake Form"),s.k0s()(),s.j41(23,"div",4)(24,"a",5)(25,"button",15),s.EFF(26,"Schedule a Visit"),s.k0s()()()()(),s.bVm()}if(2&p){const c=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(9,qa))("queryParams",s.eq3(10,iu,c.businessId)),s.R7$(1),s.Y8G("ngIf",null==c.business?null:c.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(12,su,c.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,wf,c.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,ou,c.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(18,fh,c.menuOpen)),s.R7$(14),s.Y8G("routerLink",s.lJ4(20,Af))("queryParams",s.eq3(21,iu,c.businessId))}}let F_=(()=>{class p{constructor(c,y,I){this.route=c,this.router=y,this.businessDataService=I,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(c){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${c}`],{queryParams:y}).then(I=>{I||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(s.rXU(fr.nX),s.rXU(fr.Ix),s.rXU(ki.A))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-navigation"]],decls:5,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(y,I){1&y&&(s.j41(0,"div",0),s.DNE(1,Bp,21,18,"ng-container",1),s.DNE(2,Ya,29,23,"ng-container",1),s.DNE(3,ph,2,0,"ng-container",1),s.DNE(4,Df,27,23,"ng-container",1),s.k0s()),2&y&&(s.Y8G("ngSwitch",I.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","demo"))},dependencies:[pe.YU,pe.bT,pe.ux,pe.e1,fr.Wk,Ju],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return p})();function Sf(p,l){if(1&p&&(s.qex(0),s.j41(1,"footer",4)(2,"div",5)(3,"h2",6),s.EFF(4),s.k0s(),s.nrm(5,"hr",7),s.j41(6,"div",8)(7,"div",9)(8,"h3",10),s.EFF(9,"Location:"),s.k0s(),s.j41(10,"address"),s.EFF(11),s.k0s()(),s.j41(12,"div",9)(13,"h3",10),s.EFF(14),s.k0s(),s.j41(15,"p"),s.EFF(16,"Email: "),s.j41(17,"a",11),s.EFF(18),s.k0s()(),s.j41(19,"p"),s.EFF(20,"Phone: "),s.j41(21,"a",11),s.EFF(22),s.k0s()()(),s.j41(23,"div",9)(24,"h3",10),s.EFF(25),s.k0s(),s.j41(26,"p"),s.EFF(27,"Email: "),s.j41(28,"a",11),s.EFF(29),s.k0s()(),s.j41(30,"p"),s.EFF(31,"Phone: "),s.j41(32,"a",11),s.EFF(33),s.k0s()()()()()(),s.bVm()),2&p){const c=s.XpG();s.R7$(4),s.JRh(null==c.business?null:c.business.businessName),s.R7$(7),s.SpI(" ",null==c.business?null:c.business.address," "),s.R7$(3),s.SpI("Provider:",null==c.business?null:c.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==c.business?null:c.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==c.business?null:c.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==c.business?null:c.business.phone),s.R7$(3),s.SpI("Resident Manager:",null==c.business?null:c.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==c.business?null:c.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==c.business?null:c.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==c.business?null:c.business.phone)}}function ed(p,l){if(1&p&&(s.qex(0),s.j41(1,"footer",12)(2,"div",13)(3,"div",14),s.nrm(4,"hr",15),s.j41(5,"h2",16),s.EFF(6),s.k0s(),s.nrm(7,"hr",15),s.k0s(),s.j41(8,"div",17)(9,"div",18)(10,"h3",19),s.EFF(11,"Owner:"),s.k0s(),s.j41(12,"p"),s.EFF(13),s.k0s()(),s.j41(14,"div",18)(15,"h3",19),s.EFF(16,"Location:"),s.k0s(),s.j41(17,"p"),s.EFF(18),s.k0s()(),s.j41(19,"div",18)(20,"h3",19),s.EFF(21,"Provider:"),s.k0s(),s.j41(22,"p"),s.EFF(23),s.k0s(),s.j41(24,"p"),s.EFF(25,"Email: "),s.j41(26,"a",11),s.EFF(27),s.k0s()(),s.j41(28,"p"),s.EFF(29,"Phone: "),s.j41(30,"a",11),s.EFF(31),s.k0s()()()(),s.j41(32,"div",20)(33,"p"),s.EFF(34),s.k0s()()()(),s.bVm()),2&p){const c=s.XpG();s.R7$(6),s.JRh(null==c.business?null:c.business.businessName),s.R7$(7),s.JRh(null==c.business?null:c.business.providerName),s.R7$(5),s.JRh(null==c.business?null:c.business.address),s.R7$(5),s.JRh(null==c.business?null:c.business.providerName),s.R7$(3),s.Mz_("href","mailto:",null==c.business?null:c.business.email,"",s.B4B),s.R7$(1),s.JRh(null==c.business?null:c.business.email),s.R7$(3),s.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==c.business?null:c.business.phone),s.R7$(3),s.Lme("\xa9 ",2024," ",null==c.business?null:c.business.businessName,". All rights reserved.")}}function hm(p,l){if(1&p){const c=s.RV6();s.qex(0),s.j41(1,"footer",21)(2,"div",22)(3,"div",23),s.nrm(4,"img",24),s.j41(5,"h4"),s.EFF(6),s.k0s(),s.j41(7,"p",25),s.EFF(8),s.k0s(),s.j41(9,"p",26),s.EFF(10),s.k0s()(),s.j41(11,"div",27)(12,"a",28),s.nrm(13,"i",29),s.k0s(),s.j41(14,"a",28),s.nrm(15,"i",30),s.k0s()(),s.j41(16,"nav",31)(17,"span",32),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("home"))}),s.EFF(18,"HOME"),s.k0s(),s.j41(19,"span",32),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("about-us"))}),s.EFF(20,"ABOUT US"),s.k0s(),s.j41(21,"span",32),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("services"))}),s.EFF(22,"SERVICES"),s.k0s(),s.j41(23,"span",32),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("gallery"))}),s.EFF(24,"OUR HOME"),s.k0s(),s.j41(25,"span",32),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("resident-form"))}),s.EFF(26,"RESIDENT FORM"),s.k0s(),s.j41(27,"span",32),s.bIt("click",function(){s.eBV(c);const I=s.XpG();return s.Njj(I.navigateTo("contact-us"))}),s.EFF(28,"CONTACT"),s.k0s()(),s.j41(29,"div",33)(30,"p"),s.EFF(31,"\xa9 Copyright. All rights reserved."),s.k0s()()()(),s.bVm()}if(2&p){const c=s.XpG();s.R7$(4),s.FS9("src",null==c.business?null:c.business.logoImage,s.B4B),s.R7$(2),s.JRh(null==c.business?null:c.business.businessName),s.R7$(2),s.JRh(null==c.business?null:c.business.phone),s.R7$(2),s.JRh(null==c.business?null:c.business.address)}}function $p(p,l){if(1&p&&(s.qex(0),s.j41(1,"footer",4)(2,"div",5)(3,"h2",6),s.EFF(4),s.k0s(),s.nrm(5,"hr",7),s.j41(6,"div",8)(7,"div",9)(8,"h3",10),s.EFF(9,"Location:"),s.k0s(),s.j41(10,"address"),s.EFF(11),s.k0s()(),s.j41(12,"div",9)(13,"h3",10),s.EFF(14),s.k0s(),s.j41(15,"p"),s.EFF(16,"Email: "),s.j41(17,"a",11),s.EFF(18),s.k0s()(),s.j41(19,"p"),s.EFF(20,"Phone: "),s.j41(21,"a",11),s.EFF(22),s.k0s()()(),s.j41(23,"div",9)(24,"h3",10),s.EFF(25),s.k0s(),s.j41(26,"p"),s.EFF(27,"Email: "),s.j41(28,"a",11),s.EFF(29),s.k0s()(),s.j41(30,"p"),s.EFF(31,"Phone: "),s.j41(32,"a",11),s.EFF(33),s.k0s()()()()()(),s.bVm()),2&p){const c=s.XpG();s.R7$(4),s.JRh(null==c.business?null:c.business.businessName),s.R7$(7),s.SpI(" ",null==c.business?null:c.business.address," "),s.R7$(3),s.SpI("Provider:",null==c.business?null:c.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==c.business?null:c.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==c.business?null:c.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==c.business?null:c.business.phone),s.R7$(3),s.SpI("Resident Manager:",null==c.business?null:c.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==c.business?null:c.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==c.business?null:c.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==c.business?null:c.business.phone)}}function fm(p,l){if(1&p&&(s.j41(0,"div",34)(1,"h1",35),s.EFF(2,"Debugger:"),s.k0s(),s.j41(3,"div",36)(4,"div",37)(5,"span",38),s.EFF(6,"Theme File:"),s.k0s(),s.j41(7,"span",39),s.EFF(8),s.k0s()(),s.j41(9,"div",37)(10,"span",38),s.EFF(11,"Business ID:"),s.k0s(),s.j41(12,"span",39),s.EFF(13),s.k0s()(),s.j41(14,"div",37)(15,"span",38),s.EFF(16,"Business Name:"),s.k0s(),s.j41(17,"span",39),s.EFF(18),s.k0s()()()()),2&p){const c=s.XpG();s.R7$(8),s.JRh(c.themeFileName),s.R7$(5),s.JRh(null==c.business?null:c.business.id),s.R7$(5),s.JRh(null==c.business?null:c.business.businessName)}}let L_=(()=>{class p{constructor(c,y,I,V,z,ae){this.route=c,this.webContentService=y,this.authService=I,this.themeService=V,this.businessDataService=z,this.router=ae,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(c){this.router.navigate([`/${c}`],{queryParams:this.businessId?{id:this.businessId}:{}}).then(I=>{I||console.error("Navigation failed!")})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(c=>{this.business=c}),this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(y=>{y&&(this.themeFileName=y.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(y){return new(y||p)(s.rXU(fr.nX),s.rXU(wi.N),s.rXU(jp.u),s.rXU(um.F),s.rXU(ki.A),s.rXU(fr.Ix))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-footer"]],decls:7,vars:7,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"clemo-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(y,I){1&y&&(s.j41(0,"div",0),s.DNE(1,Sf,34,12,"ng-container",1),s.DNE(2,ed,35,10,"ng-container",1),s.DNE(3,hm,32,4,"ng-container",1),s.DNE(4,$p,34,12,"ng-container",2),s.k0s(),s.DNE(5,fm,19,3,"div",3),s.nI1(6,"async")),2&y&&(s.Y8G("ngSwitch",I.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(2),s.Y8G("ngIf",s.bMT(6,5,I.isAuthenticated$)))},dependencies:[pe.bT,pe.ux,pe.e1,pe.fG,pe.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:var(--site-max-width);margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.clemo-footer[_ngcontent-%COMP%]{background-color:var(--background-color);text-align:center;padding:40px 20px;font-family:Arial,sans-serif;color:var(--text-color)}.clemo-footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.clemo-footer-logo-text[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:var(--text-color);margin-bottom:10px}.clemo-footer-phone[_ngcontent-%COMP%], .clemo-footer-address[_ngcontent-%COMP%]{font-size:14px;margin:5px 0}.clemo-footer-social[_ngcontent-%COMP%]{margin:15px 0}.clemo-social-icon[_ngcontent-%COMP%]{display:inline-block;margin:0 10px;font-size:18px;color:var(--text-color);text-decoration:none}.clemo-social-icon[_ngcontent-%COMP%]:hover{color:var(--text-color)}.clemo-footer-nav[_ngcontent-%COMP%]{margin:20px 0}.clemo-footer-link[_ngcontent-%COMP%]{font-size:14px;color:#333;text-decoration:none;margin:0 15px;font-weight:700;cursor:pointer}.clemo-footer-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.clemo-footer-bottom[_ngcontent-%COMP%]{font-size:12px;color:#999;margin-top:20px}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}.footer[_ngcontent-%COMP%], .ae-footer[_ngcontent-%COMP%], .clemo-footer[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}.footer-info[_ngcontent-%COMP%], .ae-footer-columns[_ngcontent-%COMP%], .clemo-footer-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;width:100%;max-width:100%;box-sizing:border-box;padding:0 10px}.footer-column[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%], .clemo-footer-logo[_ngcontent-%COMP%], .clemo-footer-nav[_ngcontent-%COMP%]{flex:1 1 100%;min-width:unset;text-align:center;margin-bottom:15px}.clemo-footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%], .ae-footer-columns[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.footer-column[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]{width:100%;min-width:100%}.clemo-footer-nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10px}}"]})}}return p})(),El=(()=>{class p{constructor(c,y,I,V,z){this.route=c,this.webContent=y,this.metaService=I,this.router=V,this.themeService=z,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(c=>{c&&(this.business=c)})}static{this.\u0275fac=function(y){return new(y||p)(s.rXU(fr.nX),s.rXU(wi.N),s.rXU(zi.R),s.rXU(fr.Ix),s.rXU(um.F))}}static{this.\u0275cmp=s.VBU({type:p,selectors:[["app-root"]],decls:3,vars:0,template:function(y,I){1&y&&s.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[fr.n3,F_,L_]})}}return p})();const Hp_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var bl=U(2214),Zs=U(5407);class Cl{constructor(l){return l}}class pm{constructor(){return(0,bl.Dk)()}}const Gp=new s.nKC("angularfire2._apps"),_h={provide:Cl,useFactory:function mh(p){return p&&1===p.length?p[0]:new Cl((0,bl.Sx)())},deps:[[new s.Xx1,Gp]]},gm={provide:pm,deps:[[new s.Xx1,Gp]]};function td(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new Cl(y)}}let V_=(()=>{class p{constructor(c){(0,bl.KO)("angularfire",Zs.xv.full,"core"),(0,bl.KO)("angularfire",Zs.xv.full,"app"),(0,bl.KO)("angular",s.xvI.full,c.toString())}static \u0275fac=function(y){return new(y||p)(s.KVO(s.Agw))};static \u0275mod=s.$C({type:p});static \u0275inj=s.G2t({providers:[_h,gm]})}return p})();function zp(p,...l){return{ngModule:V_,providers:[{provide:Gp,useFactory:td(p),multi:!0,deps:[s.SKi,s.zZn,Zs.u0,...l]}]}}const iv=(0,Zs.S3)(bl.Wp,!0);U(5504),U(7852),U(1076),U(8041),U(1362);class Xp{constructor(){return(0,Zs.CA)("auth")}}var Cm=U(9583);class tg{constructor(l){return l}}const L0="firestore",Tm=new s.nKC("angularfire2.firestore-instances");function wm(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new tg(y)}}const vv={provide:class Im{constructor(){return(0,Zs.CA)(L0)}},deps:[[new s.Xx1,Tm]]},Lr={provide:tg,useFactory:function H_(p,l){const c=(0,Zs.lR)(L0,p,l);return c&&new tg(c)},deps:[[new s.Xx1,Tm],Cl]};let Ev=(()=>{class p{constructor(){(0,bl.KO)("angularfire",Zs.xv.full,"fst")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=s.$C({type:p});static \u0275inj=s.G2t({providers:[Lr,vv]})}return p})();function ng(p,...l){return{ngModule:Ev,providers:[{provide:Tm,useFactory:wm(p),multi:!0,deps:[s.SKi,s.zZn,Zs.u0,pm,[new s.Xx1,Xp],[new s.Xx1,Zs.Jv],...l]}]}}const id=(0,Zs.S3)(Cm.aU,!0);var Eh=U(9253),dg=U(8721),Rm=U(1977),od=U(4535);class fu{constructor(l){return l}}const kf="storage",fg=new s.nKC("angularfire2.storage-instances");function ey(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new fu(y)}}const Ff={provide:class Z_{constructor(){return(0,Zs.CA)(kf)}},deps:[[new s.Xx1,fg]]},Lf={provide:fu,useFactory:function da(p,l){const c=(0,Zs.lR)(kf,p,l);return c&&new fu(c)},deps:[[new s.Xx1,fg],Cl]};let ty=(()=>{class p{constructor(){(0,bl.KO)("angularfire",Zs.xv.full,"gcs")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=s.$C({type:p});static \u0275inj=s.G2t({providers:[Lf,Ff]})}return p})();function Om(p,...l){return{ngModule:ty,providers:[{provide:fg,useFactory:ey(p),multi:!0,deps:[s.SKi,s.zZn,Zs.u0,pm,[new s.Xx1,Xp],[new s.Xx1,Zs.Jv],...l]}]}}const ry=(0,Zs.S3)(od.c7,!0);var Vm=U(3012);let Uf=(()=>{class p{constructor(c,y,I){this.http=c,this.themeService=y,this.businessService=I,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(c){return new Promise((y,I)=>{this.themeService.getBusinessTheme(c).subscribe({next:V=>{this.themeService.applyThemeFile(V?V.themeFileName:"default.css").then(()=>y()).catch(ae=>{console.error("Error applying theme file:",ae),y()}),this.themeService.getThemeColors(c).subscribe(ae=>{this.applyTheme(ae),y()},ae=>{console.error("Error loading theme:",ae),y()})},error:V=>{console.error("Error loading business theme:",V),this.themeService.applyThemeFile("default.css").then(()=>y()).catch(z=>{console.error("Error applying default theme file:",z),y()})}})})}applyTheme(c){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",c.primaryColor),document.documentElement.style.setProperty("--secondary-color",c.secondaryColor),document.documentElement.style.setProperty("--accent-color",c.accentColor),document.documentElement.style.setProperty("--background-color",c.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",c.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",c.textColor),document.documentElement.style.setProperty("--nav-background-color",c.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",c.navTextColor),document.documentElement.style.setProperty("--nav-active-background",c.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",c.navActiveText),document.documentElement.style.setProperty("--button-color",c.buttonColor),document.documentElement.style.setProperty("--button-hover-color",c.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(c){return c.primaryColor&&c.secondaryColor&&c.accentColor&&c.backgroundColor&&c.darkBackgroundColor&&c.textColor&&c.navBackgroundColor&&c.navTextColor&&c.navActiveBackground&&c.navActiveText&&c.buttonColor&&c.buttonHoverColor}static{this.\u0275fac=function(y){return new(y||p)(s.KVO(je),s.KVO(um.F),s.KVO(Vm.u))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var Si=U(9969);function _c(p){return new s.wOt(3e3,!1)}function No(p){switch(p.length){case 0:return new Si.sf;case 1:return p[0];default:return new Si.ui(p)}}function Ph(p,l,c=new Map,y=new Map){const I=[],V=[];let z=-1,ae=null;if(l.forEach(_e=>{const Ke=_e.get("offset"),ut=Ke==z,Lt=ut&&ae||new Map;_e.forEach((rn,vn)=>{let En=vn,Xt=rn;if("offset"!==vn)switch(En=p.normalizePropertyName(En,I),Xt){case Si.FX:Xt=c.get(vn);break;case Si.kp:Xt=y.get(vn);break;default:Xt=p.normalizeStyleValue(vn,En,Xt,I)}Lt.set(En,Xt)}),ut||V.push(Lt),ae=Lt,z=Ke}),I.length)throw function uy(p){return new s.wOt(3502,!1)}();return V}function Hf(p,l,c,y){switch(l){case"start":p.onStart(()=>y(c&&qc(c,"start",p)));break;case"done":p.onDone(()=>y(c&&qc(c,"done",p)));break;case"destroy":p.onDestroy(()=>y(c&&qc(c,"destroy",p)))}}function qc(p,l,c){const V=ud(p.element,p.triggerName,p.fromState,p.toState,l||p.phaseName,c.totalTime??p.totalTime,!!c.disabled),z=p._data;return null!=z&&(V._data=z),V}function ud(p,l,c,y,I="",V=0,z){return{element:p,triggerName:l,fromState:c,toState:y,phaseName:I,totalTime:V,disabled:!!z}}function Eo(p,l,c){let y=p.get(l);return y||p.set(l,y=c),y}function dd(p){const l=p.indexOf(":");return[p.substring(1,l),p.slice(l+1)]}const Gf=(()=>typeof document>"u"?null:document.documentElement)();function mu(p){const l=p.parentNode||p.host||null;return l===Gf?null:l}let Yi=null,fy=!1;function xh(p,l){for(;l;){if(l===p)return!0;l=mu(l)}return!1}function _g(p,l,c){if(c)return Array.from(p.querySelectorAll(l));const y=p.querySelector(l);return y?[y]:[]}let Yc=(()=>{class p{validateStyleProperty(c){return function Ov(p){Yi||(Yi=function zf(){return typeof document<"u"?document.body:null}()||{},fy=!!Yi.style&&"WebkitAppearance"in Yi.style);let l=!0;return Yi.style&&!function $m(p){return"ebkit"==p.substring(1,6)}(p)&&(l=p in Yi.style,!l&&fy&&(l="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in Yi.style)),l}(c)}matchesElement(c,y){return!1}containsElement(c,y){return xh(c,y)}getParentElement(c){return mu(c)}query(c,y,I){return _g(c,y,I)}computeStyle(c,y,I){return I||""}animate(c,y,I,V,z,ae=[],_e){return new Si.sf(I,V)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})(),Mh=(()=>{class p{static{this.NOOP=new Yc}}return p})();const kv=1e3,Wf="ng-enter",_u="ng-leave",Rh="ng-trigger",yu=".ng-trigger",gy="ng-animating",yg=".ng-animating";function Oa(p){if("number"==typeof p)return p;const l=p.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:Kf(parseFloat(l[1]),l[2])}function Kf(p,l){return"s"===l?p*kv:p}function fd(p,l,c){return p.hasOwnProperty("duration")?p:function qf(p,l,c){let I,V=0,z="";if("string"==typeof p){const ae=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ae)return l.push(_c()),{duration:0,delay:0,easing:""};I=Kf(parseFloat(ae[1]),ae[2]);const _e=ae[3];null!=_e&&(V=Kf(parseFloat(_e),ae[4]));const Ke=ae[5];Ke&&(z=Ke)}else I=p;if(!c){let ae=!1,_e=l.length;I<0&&(l.push(function bh(){return new s.wOt(3100,!1)}()),ae=!0),V<0&&(l.push(function Oo(){return new s.wOt(3101,!1)}()),ae=!0),ae&&l.splice(_e,0,_c())}return{duration:I,delay:V,easing:z}}(p,l,c)}function pd(p,l={}){return Object.keys(p).forEach(c=>{l[c]=p[c]}),l}function Oh(p){const l=new Map;return Object.keys(p).forEach(c=>{l.set(c,p[c])}),l}function Xc(p,l=new Map,c){if(c)for(let[y,I]of c)l.set(y,I);for(let[y,I]of p)l.set(y,I);return l}function Yo(p,l,c){l.forEach((y,I)=>{const V=Pl(I);c&&!c.has(I)&&c.set(I,p.style[V]),p.style[V]=y})}function vu(p,l){l.forEach((c,y)=>{const I=Pl(y);p.style[I]=""})}function Nh(p){return Array.isArray(p)?1==p.length?p[0]:(0,Si.K2)(p):p}const md=new RegExp("{{\\s*(.+?)\\s*}}","g");function _d(p){let l=[];if("string"==typeof p){let c;for(;c=md.exec(p);)l.push(c[1]);md.lastIndex=0}return l}function bo(p,l,c){const y=p.toString(),I=y.replace(md,(V,z)=>{let ae=l[z];return null==ae&&(c.push(function Ch(p){return new s.wOt(3003,!1)}()),ae=""),ae.toString()});return I==y?p:I}function Qf(p){const l=[];let c=p.next();for(;!c.done;)l.push(c.value),c=p.next();return l}const my=/-+([a-z0-9])/g;function Pl(p){return p.replace(my,(...l)=>l[1].toUpperCase())}function fe(p,l,c){switch(l.type){case 7:return p.visitTrigger(l,c);case 0:return p.visitState(l,c);case 1:return p.visitTransition(l,c);case 2:return p.visitSequence(l,c);case 3:return p.visitGroup(l,c);case 4:return p.visitAnimate(l,c);case 5:return p.visitKeyframes(l,c);case 6:return p.visitStyle(l,c);case 8:return p.visitReference(l,c);case 9:return p.visitAnimateChild(l,c);case 10:return p.visitAnimateRef(l,c);case 11:return p.visitQuery(l,c);case 12:return p.visitStagger(l,c);default:throw function _a(p){return new s.wOt(3004,!1)}()}}function ht(p,l){return window.getComputedStyle(p)[l]}const so="*";function Eu(p,l){const c=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(y=>function va(p,l,c){if(":"==p[0]){const _e=function Jf(p,l){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,y)=>parseFloat(y)>parseFloat(c);case":decrement":return(c,y)=>parseFloat(y)<parseFloat(c);default:return l.push(function Dh(p){return new s.wOt(3016,!1)}()),"* => *"}}(p,c);if("function"==typeof _e)return void l.push(_e);p=_e}const y=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return c.push(function Bf(p){return new s.wOt(3015,!1)}()),l;const I=y[1],V=y[2],z=y[3];l.push(Fv(I,z));"<"==V[0]&&!(I==so&&z==so)&&l.push(Fv(z,I))}(y,c,l)):c.push(p),c}const yd=new Set(["true","1"]),Gm=new Set(["false","0"]);function Fv(p,l){const c=yd.has(p)||Gm.has(p),y=yd.has(l)||Gm.has(l);return(I,V)=>{let z=p==so||p==I,ae=l==so||l==V;return!z&&c&&"boolean"==typeof I&&(z=I?yd.has(p):Gm.has(p)),!ae&&y&&"boolean"==typeof V&&(ae=V?yd.has(l):Gm.has(l)),z&&ae}}const Y0=new RegExp("s*:selfs*,?","g");function _y(p,l,c,y){return new yy(p).build(l,c,y)}class yy{constructor(l){this._driver=l}build(l,c,y){const I=new GE(c);return this._resetContextStyleTimingState(I),fe(this,Nh(l),I)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,c){let y=c.queryCount=0,I=c.depCount=0;const V=[],z=[];return"@"==l.name.charAt(0)&&c.errors.push(function cd(){return new s.wOt(3006,!1)}()),l.definitions.forEach(ae=>{if(this._resetContextStyleTimingState(c),0==ae.type){const _e=ae,Ke=_e.name;Ke.toString().split(/\s*,\s*/).forEach(ut=>{_e.name=ut,V.push(this.visitState(_e,c))}),_e.name=Ke}else if(1==ae.type){const _e=this.visitTransition(ae,c);y+=_e.queryCount,I+=_e.depCount,z.push(_e)}else c.errors.push(function Ih(){return new s.wOt(3007,!1)}())}),{type:7,name:l.name,states:V,transitions:z,queryCount:y,depCount:I,options:null}}visitState(l,c){const y=this.visitStyle(l.styles,c),I=l.options&&l.options.params||null;if(y.containsDynamicStyles){const V=new Set,z=I||{};y.styles.forEach(ae=>{ae instanceof Map&&ae.forEach(_e=>{_d(_e).forEach(Ke=>{z.hasOwnProperty(Ke)||V.add(Ke)})})}),V.size&&(Qf(V.values()),c.errors.push(function Th(p,l){return new s.wOt(3008,!1)}()))}return{type:0,name:l.name,style:y,options:I?{params:I}:null}}visitTransition(l,c){c.queryCount=0,c.depCount=0;const y=fe(this,Nh(l.animation),c);return{type:1,matchers:Eu(l.expr,c.errors),animation:y,queryCount:c.queryCount,depCount:c.depCount,options:vd(l.options)}}visitSequence(l,c){return{type:2,steps:l.steps.map(y=>fe(this,y,c)),options:vd(l.options)}}visitGroup(l,c){const y=c.currentTime;let I=0;const V=l.steps.map(z=>{c.currentTime=y;const ae=fe(this,z,c);return I=Math.max(I,c.currentTime),ae});return c.currentTime=I,{type:3,steps:V,options:vd(l.options)}}visitAnimate(l,c){const y=function Zf(p,l){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return jv(fd(p,l).duration,0,"");const c=p;if(c.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=jv(0,0,"");return V.dynamic=!0,V.strValue=c,V}const I=fd(c,l);return jv(I.duration,I.delay,I.easing)}(l.timings,c.errors);c.currentAnimateTimings=y;let I,V=l.styles?l.styles:(0,Si.iF)({});if(5==V.type)I=this.visitKeyframes(V,c);else{let z=l.styles,ae=!1;if(!z){ae=!0;const Ke={};y.easing&&(Ke.easing=y.easing),z=(0,Si.iF)(Ke)}c.currentTime+=y.duration+y.delay;const _e=this.visitStyle(z,c);_e.isEmptyStep=ae,I=_e}return c.currentAnimateTimings=null,{type:4,timings:y,style:I,options:null}}visitStyle(l,c){const y=this._makeStyleAst(l,c);return this._validateStyleAst(y,c),y}_makeStyleAst(l,c){const y=[],I=Array.isArray(l.styles)?l.styles:[l.styles];for(let ae of I)"string"==typeof ae?ae===Si.kp?y.push(ae):c.errors.push(new s.wOt(3002,!1)):y.push(Oh(ae));let V=!1,z=null;return y.forEach(ae=>{if(ae instanceof Map&&(ae.has("easing")&&(z=ae.get("easing"),ae.delete("easing")),!V))for(let _e of ae.values())if(_e.toString().indexOf("{{")>=0){V=!0;break}}),{type:6,styles:y,easing:z,offset:l.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(l,c){const y=c.currentAnimateTimings;let I=c.currentTime,V=c.currentTime;y&&V>0&&(V-=y.duration+y.delay),l.styles.forEach(z=>{"string"!=typeof z&&z.forEach((ae,_e)=>{const Ke=c.collectedStyles.get(c.currentQuerySelector),ut=Ke.get(_e);let Lt=!0;ut&&(V!=I&&V>=ut.startTime&&I<=ut.endTime&&(c.errors.push(function Ah(p,l,c,y,I){return new s.wOt(3010,!1)}()),Lt=!1),V=ut.startTime),Lt&&Ke.set(_e,{startTime:V,endTime:I}),c.options&&function Xf(p,l,c){const y=l.params||{},I=_d(p);I.length&&I.forEach(V=>{y.hasOwnProperty(V)||c.push(function pu(p){return new s.wOt(3001,!1)}())})}(ae,c.options,c.errors)})})}visitKeyframes(l,c){const y={type:5,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function Xa(){return new s.wOt(3011,!1)}()),y;let V=0;const z=[];let ae=!1,_e=!1,Ke=0;const ut=l.steps.map(mr=>{const Vr=this._makeStyleAst(mr,c);let _r=null!=Vr.offset?Vr.offset:function Uv(p){if("string"==typeof p)return null;let l=null;if(Array.isArray(p))p.forEach(c=>{if(c instanceof Map&&c.has("offset")){const y=c;l=parseFloat(y.get("offset")),y.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const c=p;l=parseFloat(c.get("offset")),c.delete("offset")}return l}(Vr.styles),nr=0;return null!=_r&&(V++,nr=Vr.offset=_r),_e=_e||nr<0||nr>1,ae=ae||nr<Ke,Ke=nr,z.push(nr),Vr});_e&&c.errors.push(function ya(){return new s.wOt(3012,!1)}()),ae&&c.errors.push(function Sl(){return new s.wOt(3200,!1)}());const Lt=l.steps.length;let rn=0;V>0&&V<Lt?c.errors.push(function jf(){return new s.wOt(3202,!1)}()):0==V&&(rn=1/(Lt-1));const vn=Lt-1,En=c.currentTime,Xt=c.currentAnimateTimings,Pn=Xt.duration;return ut.forEach((mr,Vr)=>{const _r=rn>0?Vr==vn?1:rn*Vr:z[Vr],nr=_r*Pn;c.currentTime=En+Xt.delay+nr,Xt.duration=nr,this._validateStyleAst(mr,c),mr.offset=_r,y.styles.push(mr)}),y}visitReference(l,c){return{type:8,animation:fe(this,Nh(l.animation),c),options:vd(l.options)}}visitAnimateChild(l,c){return c.depCount++,{type:9,options:vd(l.options)}}visitAnimateRef(l,c){return{type:10,animation:this.visitReference(l.animation,c),options:vd(l.options)}}visitQuery(l,c){const y=c.currentQuerySelector,I=l.options||{};c.queryCount++,c.currentQuery=l;const[V,z]=function kh(p){const l=!!p.split(/\s*,\s*/).find(c=>":self"==c);return l&&(p=p.replace(Y0,"")),p=p.replace(/@\*/g,yu).replace(/@\w+/g,c=>yu+"-"+c.slice(1)).replace(/:animating/g,yg),[p,l]}(l.selector);c.currentQuerySelector=y.length?y+" "+V:V,Eo(c.collectedStyles,c.currentQuerySelector,new Map);const ae=fe(this,Nh(l.animation),c);return c.currentQuery=null,c.currentQuerySelector=y,{type:11,selector:V,limit:I.limit||0,optional:!!I.optional,includeSelf:z,animation:ae,originalSelector:l.selector,options:vd(l.options)}}visitStagger(l,c){c.currentQuery||c.errors.push(function Um(){return new s.wOt(3013,!1)}());const y="full"===l.timings?{duration:0,delay:0,easing:"full"}:fd(l.timings,c.errors,!0);return{type:12,animation:fe(this,Nh(l.animation),c),timings:y,options:null}}}class GE{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vd(p){return p?(p=pd(p)).params&&(p.params=function HE(p){return p?pd(p):null}(p.params)):p={},p}function jv(p,l,c){return{duration:p,delay:l,easing:c}}function zm(p,l,c,y,I,V,z=null,ae=!1){return{type:1,element:p,keyframes:l,preStyleProps:c,postStyleProps:y,duration:I,delay:V,totalTime:I+V,easing:z,subTimeline:ae}}class Bv{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,c){let y=this._map.get(l);y||this._map.set(l,y=[]),y.push(...c)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const WE=new RegExp(":enter","g"),KE=new RegExp(":leave","g");function oo(p,l,c,y,I,V=new Map,z=new Map,ae,_e,Ke=[]){return(new Q0).buildKeyframes(p,l,c,y,I,V,z,ae,_e,Ke)}class Q0{buildKeyframes(l,c,y,I,V,z,ae,_e,Ke,ut=[]){Ke=Ke||new Bv;const Lt=new $v(l,c,Ke,I,V,ut,[]);Lt.options=_e;const rn=_e.delay?Oa(_e.delay):0;Lt.currentTimeline.delayNextStep(rn),Lt.currentTimeline.setStyles([z],null,Lt.errors,_e),fe(this,y,Lt);const vn=Lt.timelines.filter(En=>En.containsAnimation());if(vn.length&&ae.size){let En;for(let Xt=vn.length-1;Xt>=0;Xt--){const Pn=vn[Xt];if(Pn.element===c){En=Pn;break}}En&&!En.allowOnlyTimelineStyles()&&En.setStyles([ae],null,Lt.errors,_e)}return vn.length?vn.map(En=>En.buildKeyframes()):[zm(c,[],[],[],0,rn,"",!1)]}visitTrigger(l,c){}visitState(l,c){}visitTransition(l,c){}visitAnimateChild(l,c){const y=c.subInstructions.get(c.element);if(y){const I=c.createSubContext(l.options),V=c.currentTimeline.currentTime,z=this._visitSubInstructions(y,I,I.options);V!=z&&c.transformIntoNewTimeline(z)}c.previousNode=l}visitAnimateRef(l,c){const y=c.createSubContext(l.options);y.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],c,y),this.visitReference(l.animation,y),c.transformIntoNewTimeline(y.currentTimeline.currentTime),c.previousNode=l}_applyAnimationRefDelays(l,c,y){for(const I of l){const V=I?.delay;if(V){const z="number"==typeof V?V:Oa(bo(V,I?.params??{},c.errors));y.delayNextStep(z)}}}_visitSubInstructions(l,c,y){let V=c.currentTimeline.currentTime;const z=null!=y.duration?Oa(y.duration):null,ae=null!=y.delay?Oa(y.delay):null;return 0!==z&&l.forEach(_e=>{const Ke=c.appendInstructionToTimeline(_e,z,ae);V=Math.max(V,Ke.duration+Ke.delay)}),V}visitReference(l,c){c.updateOptions(l.options,!0),fe(this,l.animation,c),c.previousNode=l}visitSequence(l,c){const y=c.subContextCount;let I=c;const V=l.options;if(V&&(V.params||V.delay)&&(I=c.createSubContext(V),I.transformIntoNewTimeline(),null!=V.delay)){6==I.previousNode.type&&(I.currentTimeline.snapshotCurrentStyles(),I.previousNode=vy);const z=Oa(V.delay);I.delayNextStep(z)}l.steps.length&&(l.steps.forEach(z=>fe(this,z,I)),I.currentTimeline.applyStylesToKeyframe(),I.subContextCount>y&&I.transformIntoNewTimeline()),c.previousNode=l}visitGroup(l,c){const y=[];let I=c.currentTimeline.currentTime;const V=l.options&&l.options.delay?Oa(l.options.delay):0;l.steps.forEach(z=>{const ae=c.createSubContext(l.options);V&&ae.delayNextStep(V),fe(this,z,ae),I=Math.max(I,ae.currentTimeline.currentTime),y.push(ae.currentTimeline)}),y.forEach(z=>c.currentTimeline.mergeTimelineCollectedStyles(z)),c.transformIntoNewTimeline(I),c.previousNode=l}_visitTiming(l,c){if(l.dynamic){const y=l.strValue;return fd(c.params?bo(y,c.params,c.errors):y,c.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,c){const y=c.currentAnimateTimings=this._visitTiming(l.timings,c),I=c.currentTimeline;y.delay&&(c.incrementTime(y.delay),I.snapshotCurrentStyles());const V=l.style;5==V.type?this.visitKeyframes(V,c):(c.incrementTime(y.duration),this.visitStyle(V,c),I.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=l}visitStyle(l,c){const y=c.currentTimeline,I=c.currentAnimateTimings;!I&&y.hasCurrentStyleProperties()&&y.forwardFrame();const V=I&&I.easing||l.easing;l.isEmptyStep?y.applyEmptyStep(V):y.setStyles(l.styles,V,c.errors,c.options),c.previousNode=l}visitKeyframes(l,c){const y=c.currentAnimateTimings,I=c.currentTimeline.duration,V=y.duration,ae=c.createSubContext().currentTimeline;ae.easing=y.easing,l.styles.forEach(_e=>{ae.forwardTime((_e.offset||0)*V),ae.setStyles(_e.styles,_e.easing,c.errors,c.options),ae.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(ae),c.transformIntoNewTimeline(I+V),c.previousNode=l}visitQuery(l,c){const y=c.currentTimeline.currentTime,I=l.options||{},V=I.delay?Oa(I.delay):0;V&&(6===c.previousNode.type||0==y&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=vy);let z=y;const ae=c.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!I.optional,c.errors);c.currentQueryTotal=ae.length;let _e=null;ae.forEach((Ke,ut)=>{c.currentQueryIndex=ut;const Lt=c.createSubContext(l.options,Ke);V&&Lt.delayNextStep(V),Ke===c.element&&(_e=Lt.currentTimeline),fe(this,l.animation,Lt),Lt.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,Lt.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(z),_e&&(c.currentTimeline.mergeTimelineCollectedStyles(_e),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=l}visitStagger(l,c){const y=c.parentContext,I=c.currentTimeline,V=l.timings,z=Math.abs(V.duration),ae=z*(c.currentQueryTotal-1);let _e=z*c.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":_e=ae-_e;break;case"full":_e=y.currentStaggerTime}const ut=c.currentTimeline;_e&&ut.delayNextStep(_e);const Lt=ut.currentTime;fe(this,l.animation,c),c.previousNode=l,y.currentStaggerTime=I.currentTime-Lt+(I.startTime-y.currentTimeline.startTime)}}const vy={};class $v{constructor(l,c,y,I,V,z,ae,_e){this._driver=l,this.element=c,this.subInstructions=y,this._enterClassName=I,this._leaveClassName=V,this.errors=z,this.timelines=ae,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_e||new Wm(this._driver,c,0),ae.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,c){if(!l)return;const y=l;let I=this.options;null!=y.duration&&(I.duration=Oa(y.duration)),null!=y.delay&&(I.delay=Oa(y.delay));const V=y.params;if(V){let z=I.params;z||(z=this.options.params={}),Object.keys(V).forEach(ae=>{(!c||!z.hasOwnProperty(ae))&&(z[ae]=bo(V[ae],z,this.errors))})}}_copyOptions(){const l={};if(this.options){const c=this.options.params;if(c){const y=l.params={};Object.keys(c).forEach(I=>{y[I]=c[I]})}}return l}createSubContext(l=null,c,y){const I=c||this.element,V=new $v(this._driver,I,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(I,y||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(l),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(l){return this.previousNode=vy,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,c,y){const I={duration:c??l.duration,delay:this.currentTimeline.currentTime+(y??0)+l.delay,easing:""},V=new qE(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,I,l.stretchStartingKeyframe);return this.timelines.push(V),I}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,c,y,I,V,z){let ae=[];if(I&&ae.push(this.element),l.length>0){l=(l=l.replace(WE,"."+this._enterClassName)).replace(KE,"."+this._leaveClassName);let Ke=this._driver.query(this.element,l,1!=y);0!==y&&(Ke=y<0?Ke.slice(Ke.length+y,Ke.length):Ke.slice(0,y)),ae.push(...Ke)}return!V&&0==ae.length&&z.push(function as(p){return new s.wOt(3014,!1)}()),ae}}class Wm{constructor(l,c,y,I){this._driver=l,this.element=c,this.startTime=y,this._elementTimelineStylesLookup=I,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+l),c&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,c){return this.applyStylesToKeyframe(),new Wm(this._driver,l,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,c){this._localTimelineStyles.set(l,c),this._globalTimelineStyles.set(l,c),this._styleSummary.set(l,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[c,y]of this._globalTimelineStyles)this._backFill.set(c,y||Si.kp),this._currentKeyframe.set(c,Si.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,c,y,I){c&&this._previousKeyframe.set("easing",c);const V=I&&I.params||{},z=function J0(p,l){const c=new Map;let y;return p.forEach(I=>{if("*"===I){y=y||l.keys();for(let V of y)c.set(V,Si.kp)}else Xc(I,c)}),c}(l,this._globalTimelineStyles);for(let[ae,_e]of z){const Ke=bo(_e,V,y);this._pendingStyles.set(ae,Ke),this._localTimelineStyles.has(ae)||this._backFill.set(ae,this._globalTimelineStyles.get(ae)??Si.kp),this._updateStyle(ae,Ke)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,c)=>{this._currentKeyframe.set(c,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,l)}))}snapshotCurrentStyles(){for(let[l,c]of this._localTimelineStyles)this._pendingStyles.set(l,c),this._updateStyle(l,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let c in this._currentKeyframe)l.push(c);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((c,y)=>{const I=this._styleSummary.get(y);(!I||c.time>I.time)&&this._updateStyle(y,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,c=new Set,y=1===this._keyframes.size&&0===this.duration;let I=[];this._keyframes.forEach((ae,_e)=>{const Ke=Xc(ae,new Map,this._backFill);Ke.forEach((ut,Lt)=>{ut===Si.FX?l.add(Lt):ut===Si.kp&&c.add(Lt)}),y||Ke.set("offset",_e/this.duration),I.push(Ke)});const V=l.size?Qf(l.values()):[],z=c.size?Qf(c.values()):[];if(y){const ae=I[0],_e=new Map(ae);ae.set("offset",0),_e.set("offset",1),I=[ae,_e]}return zm(this.element,I,V,z,this.duration,this.startTime,this.easing,!1)}}class qE extends Wm{constructor(l,c,y,I,V,z,ae=!1){super(l,c,z.delay),this.keyframes=y,this.preStyleProps=I,this.postStyleProps=V,this._stretchStartingKeyframe=ae,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:c,duration:y,easing:I}=this.timings;if(this._stretchStartingKeyframe&&c){const V=[],z=y+c,ae=c/z,_e=Xc(l[0]);_e.set("offset",0),V.push(_e);const Ke=Xc(l[0]);Ke.set("offset",Hv(ae)),V.push(Ke);const ut=l.length-1;for(let Lt=1;Lt<=ut;Lt++){let rn=Xc(l[Lt]);const vn=rn.get("offset");rn.set("offset",Hv((c+vn*y)/z)),V.push(rn)}y=z,c=0,I="",l=V}return zm(this.element,l,this.preStyleProps,this.postStyleProps,y,c,I,!0)}}function Hv(p,l=3){const c=Math.pow(10,l-1);return Math.round(p*c)/c}class Gv{}const Z0=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class YE extends Gv{normalizePropertyName(l,c){return Pl(l)}normalizeStyleValue(l,c,y,I){let V="";const z=y.toString().trim();if(Z0.has(c)&&0!==y&&"0"!==y)if("number"==typeof y)V="px";else{const ae=y.match(/^[+-]?[\d\.]+([a-z]*)$/);ae&&0==ae[1].length&&I.push(function gg(p,l){return new s.wOt(3005,!1)}())}return z+V}}function zv(p,l,c,y,I,V,z,ae,_e,Ke,ut,Lt,rn){return{type:0,element:p,triggerName:l,isRemovalTransition:I,fromState:c,fromStyles:V,toState:y,toStyles:z,timelines:ae,queriedElements:_e,preStyleProps:Ke,postStyleProps:ut,totalTime:Lt,errors:rn}}const eE={};class Ey{constructor(l,c,y){this._triggerName=l,this.ast=c,this._stateStyles=y}match(l,c,y,I){return function bu(p,l,c,y,I){return p.some(V=>V(l,c,y,I))}(this.ast.matchers,l,c,y,I)}buildStyles(l,c,y){let I=this._stateStyles.get("*");return void 0!==l&&(I=this._stateStyles.get(l?.toString())||I),I?I.buildStyles(c,y):new Map}build(l,c,y,I,V,z,ae,_e,Ke,ut){const Lt=[],rn=this.ast.options&&this.ast.options.params||eE,En=this.buildStyles(y,ae&&ae.params||eE,Lt),Xt=_e&&_e.params||eE,Pn=this.buildStyles(I,Xt,Lt),mr=new Set,Vr=new Map,_r=new Map,nr="void"===I,bi={params:XE(Xt,rn),delay:this.ast.options?.delay},Wr=ut?[]:oo(l,c,this.ast.animation,V,z,En,Pn,bi,Ke,Lt);let _i=0;if(Wr.forEach(cs=>{_i=Math.max(cs.duration+cs.delay,_i)}),Lt.length)return zv(c,this._triggerName,y,I,nr,En,Pn,[],[],Vr,_r,_i,Lt);Wr.forEach(cs=>{const es=cs.element,Fo=Eo(Vr,es,new Set);cs.preStyleProps.forEach(Ns=>Fo.add(Ns));const Co=Eo(_r,es,new Set);cs.postStyleProps.forEach(Ns=>Co.add(Ns)),es!==c&&mr.add(es)});const ji=Qf(mr.values());return zv(c,this._triggerName,y,I,nr,En,Pn,Wr,ji,Vr,_r,_i)}}function XE(p,l){const c=pd(l);for(const y in p)p.hasOwnProperty(y)&&null!=p[y]&&(c[y]=p[y]);return c}class nE{constructor(l,c,y){this.styles=l,this.defaultParams=c,this.normalizer=y}buildStyles(l,c){const y=new Map,I=pd(this.defaultParams);return Object.keys(l).forEach(V=>{const z=l[V];null!==z&&(I[V]=z)}),this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((z,ae)=>{z&&(z=bo(z,I,c));const _e=this.normalizer.normalizePropertyName(ae,c);z=this.normalizer.normalizeStyleValue(ae,_e,z,c),y.set(ae,z)})}),y}}class xl{constructor(l,c,y){this.name=l,this.ast=c,this._normalizer=y,this.transitionFactories=[],this.states=new Map,c.states.forEach(I=>{this.states.set(I.name,new nE(I.style,I.options&&I.options.params||{},y))}),Wv(this.states,"true","1"),Wv(this.states,"false","0"),c.transitions.forEach(I=>{this.transitionFactories.push(new Ey(l,I,this.states))}),this.fallbackTransition=function Ml(p,l,c){return new Ey(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,ae)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,c,y,I){return this.transitionFactories.find(z=>z.match(l,c,y,I))||null}matchStyles(l,c,y){return this.fallbackTransition.buildStyles(l,c,y)}}function Wv(p,l,c){p.has(l)?p.has(c)||p.set(c,p.get(l)):p.has(c)&&p.set(l,p.get(c))}const rE=new Bv;class QE{constructor(l,c,y){this.bodyNode=l,this._driver=c,this._normalizer=y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,c){const y=[],V=_y(this._driver,c,y,[]);if(y.length)throw function Bm(p){return new s.wOt(3503,!1)}();this._animations.set(l,V)}_buildPlayer(l,c,y){const I=l.element,V=Ph(this._normalizer,l.keyframes,c,y);return this._driver.animate(I,V,l.duration,l.delay,l.easing,[],!0)}create(l,c,y={}){const I=[],V=this._animations.get(l);let z;const ae=new Map;if(V?(z=oo(this._driver,c,V,Wf,_u,new Map,new Map,y,rE,I),z.forEach(ut=>{const Lt=Eo(ae,ut.element,new Map);ut.postStyleProps.forEach(rn=>Lt.set(rn,null))})):(I.push(function Pv(){return new s.wOt(3300,!1)}()),z=[]),I.length)throw function K0(p){return new s.wOt(3504,!1)}();ae.forEach((ut,Lt)=>{ut.forEach((rn,vn)=>{ut.set(vn,this._driver.computeStyle(Lt,vn,Si.kp))})});const Ke=No(z.map(ut=>{const Lt=ae.get(ut.element);return this._buildPlayer(ut,new Map,Lt)}));return this._playersById.set(l,Ke),Ke.onDestroy(()=>this.destroy(l)),this.players.push(Ke),Ke}destroy(l){const c=this._getPlayer(l);c.destroy(),this._playersById.delete(l);const y=this.players.indexOf(c);y>=0&&this.players.splice(y,1)}_getPlayer(l){const c=this._playersById.get(l);if(!c)throw function mg(p){return new s.wOt(3301,!1)}();return c}listen(l,c,y,I){const V=ud(c,"","","");return Hf(this._getPlayer(l),y,V,I),()=>{}}command(l,c,y,I){if("register"==y)return void this.register(l,I[0]);if("create"==y)return void this.create(l,c,I[0]||{});const V=this._getPlayer(l);switch(y){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(I[0]));break;case"destroy":this.destroy(l)}}}const iE="ng-animate-queued",Kv="ng-animate-disabled",sE=[],oE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eb={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qc="__ng_removed";class by{get params(){return this.options.params}constructor(l,c=""){this.namespaceId=c;const y=l&&l.hasOwnProperty("value");if(this.value=function nb(p){return p??null}(y?l.value:l),y){const V=pd(l);delete V.value,this.options=V}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const c=l.params;if(c){const y=this.options.params;Object.keys(c).forEach(I=>{null==y[I]&&(y[I]=c[I])})}}}const Fh="void",Yv=new by(Fh);class aE{constructor(l,c,y){this.id=l,this.hostElement=c,this._engine=y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,yc(c,this._hostClassName)}listen(l,c,y,I){if(!this._triggers.has(c))throw function gu(p,l){return new s.wOt(3302,!1)}();if(null==y||0==y.length)throw function dy(p){return new s.wOt(3303,!1)}();if(!function Iy(p){return"start"==p||"done"==p}(y))throw function xv(p,l){return new s.wOt(3400,!1)}();const V=Eo(this._elementListeners,l,[]),z={name:c,phase:y,callback:I};V.push(z);const ae=Eo(this._engine.statesByElement,l,new Map);return ae.has(c)||(yc(l,Rh),yc(l,Rh+"-"+c),ae.set(c,Yv)),()=>{this._engine.afterFlush(()=>{const _e=V.indexOf(z);_e>=0&&V.splice(_e,1),this._triggers.has(c)||ae.delete(c)})}}register(l,c){return!this._triggers.has(l)&&(this._triggers.set(l,c),!0)}_getTrigger(l){const c=this._triggers.get(l);if(!c)throw function hy(p){return new s.wOt(3401,!1)}();return c}trigger(l,c,y,I=!0){const V=this._getTrigger(c),z=new Cy(this.id,c,l);let ae=this._engine.statesByElement.get(l);ae||(yc(l,Rh),yc(l,Rh+"-"+c),this._engine.statesByElement.set(l,ae=new Map));let _e=ae.get(c);const Ke=new by(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&_e&&Ke.absorbOptions(_e.options),ae.set(c,Ke),_e||(_e=Yv),Ke.value!==Fh&&_e.value===Ke.value){if(!function rb(p,l){const c=Object.keys(p),y=Object.keys(l);if(c.length!=y.length)return!1;for(let I=0;I<c.length;I++){const V=c[I];if(!l.hasOwnProperty(V)||p[V]!==l[V])return!1}return!0}(_e.params,Ke.params)){const Xt=[],Pn=V.matchStyles(_e.value,_e.params,Xt),mr=V.matchStyles(Ke.value,Ke.params,Xt);Xt.length?this._engine.reportError(Xt):this._engine.afterFlush(()=>{vu(l,Pn),Yo(l,mr)})}return}const rn=Eo(this._engine.playersByElement,l,[]);rn.forEach(Xt=>{Xt.namespaceId==this.id&&Xt.triggerName==c&&Xt.queued&&Xt.destroy()});let vn=V.matchTransition(_e.value,Ke.value,l,Ke.params),En=!1;if(!vn){if(!I)return;vn=V.fallbackTransition,En=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:c,transition:vn,fromState:_e,toState:Ke,player:z,isFallbackTransition:En}),En||(yc(l,iE),z.onStart(()=>{ep(l,iE)})),z.onDone(()=>{let Xt=this.players.indexOf(z);Xt>=0&&this.players.splice(Xt,1);const Pn=this._engine.playersByElement.get(l);if(Pn){let mr=Pn.indexOf(z);mr>=0&&Pn.splice(mr,1)}}),this.players.push(z),rn.push(z),z}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(c=>c.delete(l)),this._elementListeners.forEach((c,y)=>{this._elementListeners.set(y,c.filter(I=>I.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const c=this._engine.playersByElement.get(l);c&&(c.forEach(y=>y.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,c){const y=this._engine.driver.query(l,yu,!0);y.forEach(I=>{if(I[Qc])return;const V=this._engine.fetchNamespacesByElement(I);V.size?V.forEach(z=>z.triggerLeaveAnimation(I,c,!1,!0)):this.clearElementCache(I)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(I=>this.clearElementCache(I)))}triggerLeaveAnimation(l,c,y,I){const V=this._engine.statesByElement.get(l),z=new Map;if(V){const ae=[];if(V.forEach((_e,Ke)=>{if(z.set(Ke,_e.value),this._triggers.has(Ke)){const ut=this.trigger(l,Ke,Fh,I);ut&&ae.push(ut)}}),ae.length)return this._engine.markElementAsRemoved(this.id,l,!0,c,z),y&&No(ae).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const c=this._elementListeners.get(l),y=this._engine.statesByElement.get(l);if(c&&y){const I=new Set;c.forEach(V=>{const z=V.name;if(I.has(z))return;I.add(z);const _e=this._triggers.get(z).fallbackTransition,Ke=y.get(z)||Yv,ut=new by(Fh),Lt=new Cy(this.id,z,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:z,transition:_e,fromState:Ke,toState:ut,player:Lt,isFallbackTransition:!0})})}}removeNode(l,c){const y=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,c),this.triggerLeaveAnimation(l,c,!0))return;let I=!1;if(y.totalAnimations){const V=y.players.length?y.playersByQueriedElement.get(l):[];if(V&&V.length)I=!0;else{let z=l;for(;z=z.parentNode;)if(y.statesByElement.get(z)){I=!0;break}}}if(this.prepareLeaveAnimationListeners(l),I)y.markElementAsRemoved(this.id,l,!1,c);else{const V=l[Qc];(!V||V===oE)&&(y.afterFlush(()=>this.clearElementCache(l)),y.destroyInnerAnimations(l),y._onRemovalComplete(l,c))}}insertNode(l,c){yc(l,this._hostClassName)}drainQueuedTransitions(l){const c=[];return this._queue.forEach(y=>{const I=y.player;if(I.destroyed)return;const V=y.element,z=this._elementListeners.get(V);z&&z.forEach(ae=>{if(ae.name==y.triggerName){const _e=ud(V,y.triggerName,y.fromState.value,y.toState.value);_e._data=l,Hf(y.player,ae.phase,_e,ae.callback)}}),I.markedForDestroy?this._engine.afterFlush(()=>{I.destroy()}):c.push(y)}),this._queue=[],c.sort((y,I)=>{const V=y.transition.ast.depCount,z=I.transition.ast.depCount;return 0==V||0==z?V-z:this._engine.driver.containsElement(y.element,I.element)?1:-1})}destroy(l){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}}class cE{_onRemovalComplete(l,c){this.onRemovalComplete(l,c)}constructor(l,c,y){this.bodyNode=l,this.driver=c,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(I,V)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(c=>{c.players.forEach(y=>{y.queued&&l.push(y)})}),l}createNamespace(l,c){const y=new aE(l,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(y,c):(this.newHostElements.set(c,y),this.collectEnterElement(c)),this._namespaceLookup[l]=y}_balanceNamespaceList(l,c){const y=this._namespaceList,I=this.namespacesByHostElement;if(y.length-1>=0){let z=!1,ae=this.driver.getParentElement(c);for(;ae;){const _e=I.get(ae);if(_e){const Ke=y.indexOf(_e);y.splice(Ke+1,0,l),z=!0;break}ae=this.driver.getParentElement(ae)}z||y.unshift(l)}else y.push(l);return I.set(c,l),l}register(l,c){let y=this._namespaceLookup[l];return y||(y=this.createNamespace(l,c)),y}registerTrigger(l,c,y){let I=this._namespaceLookup[l];I&&I.register(c,y)&&this.totalAnimations++}destroy(l,c){l&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const y=this._fetchNamespace(l);this.namespacesByHostElement.delete(y.hostElement);const I=this._namespaceList.indexOf(y);I>=0&&this._namespaceList.splice(I,1),y.destroy(c),delete this._namespaceLookup[l]}))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const c=new Set,y=this.statesByElement.get(l);if(y)for(let I of y.values())if(I.namespaceId){const V=this._fetchNamespace(I.namespaceId);V&&c.add(V)}return c}trigger(l,c,y,I){if(vg(c)){const V=this._fetchNamespace(l);if(V)return V.trigger(c,y,I),!0}return!1}insertNode(l,c,y,I){if(!vg(c))return;const V=c[Qc];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const z=this.collectedLeaveElements.indexOf(c);z>=0&&this.collectedLeaveElements.splice(z,1)}if(l){const z=this._fetchNamespace(l);z&&z.insertNode(c,y)}I&&this.collectEnterElement(c)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,c){c?this.disabledNodes.has(l)||(this.disabledNodes.add(l),yc(l,Kv)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),ep(l,Kv))}removeNode(l,c,y){if(vg(c)){const I=l?this._fetchNamespace(l):null;I?I.removeNode(c,y):this.markElementAsRemoved(l,c,!1,y);const V=this.namespacesByHostElement.get(c);V&&V.id!==l&&V.removeNode(c,y)}else this._onRemovalComplete(c,y)}markElementAsRemoved(l,c,y,I,V){this.collectedLeaveElements.push(c),c[Qc]={namespaceId:l,setForRemoval:I,hasAnimation:y,removedBeforeQueried:!1,previousTriggersValues:V}}listen(l,c,y,I,V){return vg(c)?this._fetchNamespace(l).listen(c,y,I,V):()=>{}}_buildInstruction(l,c,y,I,V){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,y,I,l.fromState.options,l.toState.options,c,V)}destroyInnerAnimations(l){let c=this.driver.query(l,yu,!0);c.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(l,yg,!0),c.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(l){const c=this.playersByElement.get(l);c&&c.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(l){const c=this.playersByQueriedElement.get(l);c&&c.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return No(this.players).onDone(()=>l());l()})}processLeaveNode(l){const c=l[Qc];if(c&&c.setForRemoval){if(l[Qc]=oE,c.namespaceId){this.destroyInnerAnimations(l);const y=this._fetchNamespace(c.namespaceId);y&&y.clearElementCache(l)}this._onRemovalComplete(l,c.setForRemoval)}l.classList?.contains(Kv)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(l=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,I)=>this._balanceNamespaceList(y,I)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)yc(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{c=this._flushAnimations(y,l)}finally{for(let I=0;I<y.length;I++)y[I]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],c.length?No(c).onDone(()=>{y.forEach(I=>I())}):y.forEach(I=>I())}}reportError(l){throw function $f(p){return new s.wOt(3402,!1)}()}_flushAnimations(l,c){const y=new Bv,I=[],V=new Map,z=[],ae=new Map,_e=new Map,Ke=new Map,ut=new Set;this.disabledNodes.forEach(Rn=>{ut.add(Rn);const Gn=this.driver.query(Rn,".ng-animate-queued",!0);for(let sr=0;sr<Gn.length;sr++)ut.add(Gn[sr])});const Lt=this.bodyNode,rn=Array.from(this.statesByElement.keys()),vn=Qv(rn,this.collectedEnterElements),En=new Map;let Xt=0;vn.forEach((Rn,Gn)=>{const sr=Wf+Xt++;En.set(Gn,sr),Rn.forEach(ri=>yc(ri,sr))});const Pn=[],mr=new Set,Vr=new Set;for(let Rn=0;Rn<this.collectedLeaveElements.length;Rn++){const Gn=this.collectedLeaveElements[Rn],sr=Gn[Qc];sr&&sr.setForRemoval&&(Pn.push(Gn),mr.add(Gn),sr.hasAnimation?this.driver.query(Gn,".ng-star-inserted",!0).forEach(ri=>mr.add(ri)):Vr.add(Gn))}const _r=new Map,nr=Qv(rn,Array.from(mr));nr.forEach((Rn,Gn)=>{const sr=_u+Xt++;_r.set(Gn,sr),Rn.forEach(ri=>yc(ri,sr))}),l.push(()=>{vn.forEach((Rn,Gn)=>{const sr=En.get(Gn);Rn.forEach(ri=>ep(ri,sr))}),nr.forEach((Rn,Gn)=>{const sr=_r.get(Gn);Rn.forEach(ri=>ep(ri,sr))}),Pn.forEach(Rn=>{this.processLeaveNode(Rn)})});const bi=[],Wr=[];for(let Rn=this._namespaceList.length-1;Rn>=0;Rn--)this._namespaceList[Rn].drainQueuedTransitions(c).forEach(sr=>{const ri=sr.player,Ws=sr.element;if(bi.push(ri),this.collectedEnterElements.length){const ao=Ws[Qc];if(ao&&ao.setForMove){if(ao.previousTriggersValues&&ao.previousTriggersValues.has(sr.triggerName)){const Na=ao.previousTriggersValues.get(sr.triggerName),ka=this.statesByElement.get(sr.element);if(ka&&ka.has(sr.triggerName)){const Ym=ka.get(sr.triggerName);Ym.value=Na,ka.set(sr.triggerName,Ym)}}return void ri.destroy()}}const Qa=!Lt||!this.driver.containsElement(Lt,Ws),Io=_r.get(Ws),Ja=En.get(Ws),Gi=this._buildInstruction(sr,y,Ja,Io,Qa);if(Gi.errors&&Gi.errors.length)return void Wr.push(Gi);if(Qa)return ri.onStart(()=>vu(Ws,Gi.fromStyles)),ri.onDestroy(()=>Yo(Ws,Gi.toStyles)),void I.push(ri);if(sr.isFallbackTransition)return ri.onStart(()=>vu(Ws,Gi.fromStyles)),ri.onDestroy(()=>Yo(Ws,Gi.toStyles)),void I.push(ri);const Nl=[];Gi.timelines.forEach(ao=>{ao.stretchStartingKeyframe=!0,this.disabledNodes.has(ao.element)||Nl.push(ao)}),Gi.timelines=Nl,y.append(Ws,Gi.timelines),z.push({instruction:Gi,player:ri,element:Ws}),Gi.queriedElements.forEach(ao=>Eo(ae,ao,[]).push(ri)),Gi.preStyleProps.forEach((ao,Na)=>{if(ao.size){let ka=_e.get(Na);ka||_e.set(Na,ka=new Set),ao.forEach((Ym,Cg)=>ka.add(Cg))}}),Gi.postStyleProps.forEach((ao,Na)=>{let ka=Ke.get(Na);ka||Ke.set(Na,ka=new Set),ao.forEach((Ym,Cg)=>ka.add(Cg))})});if(Wr.length){const Rn=[];Wr.forEach(Gn=>{Rn.push(function Mv(p,l){return new s.wOt(3505,!1)}())}),bi.forEach(Gn=>Gn.destroy()),this.reportError(Rn)}const _i=new Map,ji=new Map;z.forEach(Rn=>{const Gn=Rn.element;y.has(Gn)&&(ji.set(Gn,Gn),this._beforeAnimationBuild(Rn.player.namespaceId,Rn.instruction,_i))}),I.forEach(Rn=>{const Gn=Rn.element;this._getPreviousPlayers(Gn,!1,Rn.namespaceId,Rn.triggerName,null).forEach(ri=>{Eo(_i,Gn,[]).push(ri),ri.destroy()})});const cs=Pn.filter(Rn=>dE(Rn,_e,Ke)),es=new Map;Xv(es,this.driver,Vr,Ke,Si.kp).forEach(Rn=>{dE(Rn,_e,Ke)&&cs.push(Rn)});const Co=new Map;vn.forEach((Rn,Gn)=>{Xv(Co,this.driver,new Set(Rn),_e,Si.FX)}),cs.forEach(Rn=>{const Gn=es.get(Rn),sr=Co.get(Rn);es.set(Rn,new Map([...Gn?.entries()??[],...sr?.entries()??[]]))});const Ns=[],Rl=[],Ol={};z.forEach(Rn=>{const{element:Gn,player:sr,instruction:ri}=Rn;if(y.has(Gn)){if(ut.has(Gn))return sr.onDestroy(()=>Yo(Gn,ri.toStyles)),sr.disabled=!0,sr.overrideTotalTime(ri.totalTime),void I.push(sr);let Ws=Ol;if(ji.size>1){let Io=Gn;const Ja=[];for(;Io=Io.parentNode;){const Gi=ji.get(Io);if(Gi){Ws=Gi;break}Ja.push(Io)}Ja.forEach(Gi=>ji.set(Gi,Ws))}const Qa=this._buildAnimation(sr.namespaceId,ri,_i,V,Co,es);if(sr.setRealPlayer(Qa),Ws===Ol)Ns.push(sr);else{const Io=this.playersByElement.get(Ws);Io&&Io.length&&(sr.parentPlayer=No(Io)),I.push(sr)}}else vu(Gn,ri.fromStyles),sr.onDestroy(()=>Yo(Gn,ri.toStyles)),Rl.push(sr),ut.has(Gn)&&I.push(sr)}),Rl.forEach(Rn=>{const Gn=V.get(Rn.element);if(Gn&&Gn.length){const sr=No(Gn);Rn.setRealPlayer(sr)}}),I.forEach(Rn=>{Rn.parentPlayer?Rn.syncPlayerEvents(Rn.parentPlayer):Rn.destroy()});for(let Rn=0;Rn<Pn.length;Rn++){const Gn=Pn[Rn],sr=Gn[Qc];if(ep(Gn,_u),sr&&sr.hasAnimation)continue;let ri=[];if(ae.size){let Qa=ae.get(Gn);Qa&&Qa.length&&ri.push(...Qa);let Io=this.driver.query(Gn,yg,!0);for(let Ja=0;Ja<Io.length;Ja++){let Gi=ae.get(Io[Ja]);Gi&&Gi.length&&ri.push(...Gi)}}const Ws=ri.filter(Qa=>!Qa.destroyed);Ws.length?lE(this,Gn,Ws):this.processLeaveNode(Gn)}return Pn.length=0,Ns.forEach(Rn=>{this.players.push(Rn),Rn.onDone(()=>{Rn.destroy();const Gn=this.players.indexOf(Rn);this.players.splice(Gn,1)}),Rn.play()}),Ns}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,c,y,I,V){let z=[];if(c){const ae=this.playersByQueriedElement.get(l);ae&&(z=ae)}else{const ae=this.playersByElement.get(l);if(ae){const _e=!V||V==Fh;ae.forEach(Ke=>{Ke.queued||!_e&&Ke.triggerName!=I||z.push(Ke)})}}return(y||I)&&(z=z.filter(ae=>!(y&&y!=ae.namespaceId||I&&I!=ae.triggerName))),z}_beforeAnimationBuild(l,c,y){const V=c.element,z=c.isRemovalTransition?void 0:l,ae=c.isRemovalTransition?void 0:c.triggerName;for(const _e of c.timelines){const Ke=_e.element,ut=Ke!==V,Lt=Eo(y,Ke,[]);this._getPreviousPlayers(Ke,ut,z,ae,c.toState).forEach(vn=>{const En=vn.getRealPlayer();En.beforeDestroy&&En.beforeDestroy(),vn.destroy(),Lt.push(vn)})}vu(V,c.fromStyles)}_buildAnimation(l,c,y,I,V,z){const ae=c.triggerName,_e=c.element,Ke=[],ut=new Set,Lt=new Set,rn=c.timelines.map(En=>{const Xt=En.element;ut.add(Xt);const Pn=Xt[Qc];if(Pn&&Pn.removedBeforeQueried)return new Si.sf(En.duration,En.delay);const mr=Xt!==_e,Vr=function uE(p){const l=[];return Jv(p,l),l}((y.get(Xt)||sE).map(_i=>_i.getRealPlayer())).filter(_i=>!!_i.element&&_i.element===Xt),_r=V.get(Xt),nr=z.get(Xt),bi=Ph(this._normalizer,En.keyframes,_r,nr),Wr=this._buildPlayer(En,bi,Vr);if(En.subTimeline&&I&&Lt.add(Xt),mr){const _i=new Cy(l,ae,Xt);_i.setRealPlayer(Wr),Ke.push(_i)}return Wr});Ke.forEach(En=>{Eo(this.playersByQueriedElement,En.element,[]).push(En),En.onDone(()=>function tb(p,l,c){let y=p.get(l);if(y){if(y.length){const I=y.indexOf(c);y.splice(I,1)}0==y.length&&p.delete(l)}return y}(this.playersByQueriedElement,En.element,En))}),ut.forEach(En=>yc(En,gy));const vn=No(rn);return vn.onDestroy(()=>{ut.forEach(En=>ep(En,gy)),Yo(_e,c.toStyles)}),Lt.forEach(En=>{Eo(I,En,[]).push(vn)}),vn}_buildPlayer(l,c,y){return c.length>0?this.driver.animate(l.element,c,l.duration,l.delay,l.easing,y):new Si.sf(l.duration,l.delay)}}class Cy{constructor(l,c,y){this.namespaceId=l,this.triggerName=c,this.element=y,this._player=new Si.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((c,y)=>{c.forEach(I=>Hf(l,y,void 0,I))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const c=this._player;c.triggerCallback&&l.onStart(()=>c.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,c){Eo(this._queuedCallbacks,l,[]).push(c)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const c=this._player;c.triggerCallback&&c.triggerCallback(l)}}function vg(p){return p&&1===p.nodeType}function Ty(p,l){const c=p.style.display;return p.style.display=l??"none",c}function Xv(p,l,c,y,I){const V=[];c.forEach(_e=>V.push(Ty(_e)));const z=[];y.forEach((_e,Ke)=>{const ut=new Map;_e.forEach(Lt=>{const rn=l.computeStyle(Ke,Lt,I);ut.set(Lt,rn),(!rn||0==rn.length)&&(Ke[Qc]=eb,z.push(Ke))}),p.set(Ke,ut)});let ae=0;return c.forEach(_e=>Ty(_e,V[ae++])),z}function Qv(p,l){const c=new Map;if(p.forEach(ae=>c.set(ae,[])),0==l.length)return c;const I=new Set(l),V=new Map;function z(ae){if(!ae)return 1;let _e=V.get(ae);if(_e)return _e;const Ke=ae.parentNode;return _e=c.has(Ke)?Ke:I.has(Ke)?1:z(Ke),V.set(ae,_e),_e}return l.forEach(ae=>{const _e=z(ae);1!==_e&&c.get(_e).push(ae)}),c}function yc(p,l){p.classList?.add(l)}function ep(p,l){p.classList?.remove(l)}function lE(p,l,c){No(c).onDone(()=>p.processLeaveNode(l))}function Jv(p,l){for(let c=0;c<p.length;c++){const y=p[c];y instanceof Si.ui?Jv(y.players,l):l.push(y)}}function dE(p,l,c){const y=c.get(p);if(!y)return!1;let I=l.get(p);return I?y.forEach(V=>I.add(V)):l.set(p,y),c.delete(p),!0}class wy{constructor(l,c,y){this.bodyNode=l,this._driver=c,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(I,V)=>{},this._transitionEngine=new cE(l,c,y),this._timelineEngine=new QE(l,c,y),this._transitionEngine.onRemovalComplete=(I,V)=>this.onRemovalComplete(I,V)}registerTrigger(l,c,y,I,V){const z=l+"-"+I;let ae=this._triggerCache[z];if(!ae){const _e=[],ut=_y(this._driver,V,_e,[]);if(_e.length)throw function jm(p,l){return new s.wOt(3404,!1)}();ae=function Cu(p,l,c){return new xl(p,l,c)}(I,ut,this._normalizer),this._triggerCache[z]=ae}this._transitionEngine.registerTrigger(c,I,ae)}register(l,c){this._transitionEngine.register(l,c)}destroy(l,c){this._transitionEngine.destroy(l,c)}onInsert(l,c,y,I){this._transitionEngine.insertNode(l,c,y,I)}onRemove(l,c,y){this._transitionEngine.removeNode(l,c,y)}disableAnimations(l,c){this._transitionEngine.markElementAsDisabled(l,c)}process(l,c,y,I){if("@"==y.charAt(0)){const[V,z]=dd(y);this._timelineEngine.command(V,c,z,I)}else this._transitionEngine.trigger(l,c,y,I)}listen(l,c,y,I,V){if("@"==y.charAt(0)){const[z,ae]=dd(y);return this._timelineEngine.listen(z,c,ae,V)}return this._transitionEngine.listen(l,c,y,I,V)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}let sb=(()=>{class p{static{this.initialStylesByElement=new WeakMap}constructor(c,y,I){this._element=c,this._startStyles=y,this._endStyles=I,this._state=0;let V=p.initialStylesByElement.get(c);V||p.initialStylesByElement.set(c,V=new Map),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&Yo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yo(this._element,this._initialStyles),this._endStyles&&(Yo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(vu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vu(this._element,this._endStyles),this._endStyles=null),Yo(this._element,this._initialStyles),this._state=3)}}return p})();function Zv(p){let l=null;return p.forEach((c,y)=>{(function ob(p){return"display"===p||"position"===p})(y)&&(l=l||new Map,l.set(y,c))}),l}class hE{constructor(l,c,y,I){this.element=l,this.keyframes=c,this.options=y,this._specialStyles=I,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map;const c=()=>this._onFinish();this.domPlayer.addEventListener("finish",c),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",c)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const c=[];return l.forEach(y=>{c.push(Object.fromEntries(y))}),c}_triggerWebAnimation(l,c,y){return l.animate(this._convertKeyframesToObject(c),y)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((y,I)=>{"offset"!==I&&l.set(I,this._finished?y:ht(this.element,I))}),this.currentSnapshot=l}triggerCallback(l){const c="start"===l?this._onStartFns:this._onDoneFns;c.forEach(y=>y()),c.length=0}}class ab{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,c){return!1}containsElement(l,c){return xh(l,c)}getParentElement(l){return mu(l)}query(l,c,y){return _g(l,c,y)}computeStyle(l,c,y){return window.getComputedStyle(l)[c]}animate(l,c,y,I,V,z=[]){const _e={duration:y,delay:I,fill:0==I?"both":"forwards"};V&&(_e.easing=V);const Ke=new Map,ut=z.filter(vn=>vn instanceof hE);(function B(p,l){return 0===p||0===l})(y,I)&&ut.forEach(vn=>{vn.currentSnapshot.forEach((En,Xt)=>Ke.set(Xt,En))});let Lt=function gd(p){return p.length?p[0]instanceof Map?p:p.map(l=>Oh(l)):[]}(c).map(vn=>Xc(vn));Lt=function q(p,l,c){if(c.size&&l.length){let y=l[0],I=[];if(c.forEach((V,z)=>{y.has(z)||I.push(z),y.set(z,V)}),I.length)for(let V=1;V<l.length;V++){let z=l[V];I.forEach(ae=>z.set(ae,ht(p,ae)))}}return l}(l,Lt,Ke);const rn=function ib(p,l){let c=null,y=null;return Array.isArray(l)&&l.length?(c=Zv(l[0]),l.length>1&&(y=Zv(l[l.length-1]))):l instanceof Map&&(c=Zv(l)),c||y?new sb(p,c,y):null}(l,Lt);return new hE(l,Lt,_e,rn)}}let cb=(()=>{class p extends Si.S6{constructor(c,y){super(),this._nextAnimationId=0,this._renderer=c.createRenderer(y.body,{id:"0",encapsulation:s.gXe.None,styles:[],data:{animation:[]}})}build(c){const y=this._nextAnimationId.toString();this._nextAnimationId++;const I=Array.isArray(c)?(0,Si.K2)(c):c;return fE(this._renderer,null,y,"register",[I]),new lb(y,this._renderer)}static{this.\u0275fac=function(y){return new(y||p)(s.KVO(s._9s),s.KVO(pe.qQ))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})();class lb extends Si.Ro{constructor(l,c){super(),this._id=l,this._renderer=c}create(l,c){return new ub(this._id,l,c||{},this._renderer)}}class ub{constructor(l,c,y,I){this.id=l,this.element=c,this._renderer=I,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(l,c){return this._renderer.listen(this.element,`@@${this.id}:${l}`,c)}_command(l,...c){return fE(this._renderer,this.element,this.id,l,c)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function fE(p,l,c,y,I){return p.setProperty(l,`@@${c}:${y}`,I)}const pE="@.disabled";let db=(()=>{class p{constructor(c,y,I){this.delegate=c,this.engine=y,this._zone=I,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,y.onRemovalComplete=(V,z)=>{const ae=z?.parentNode(V);ae&&z.removeChild(ae,V)}}createRenderer(c,y){const V=this.delegate.createRenderer(c,y);if(!(c&&y&&y.data&&y.data.animation)){let ut=this._rendererCache.get(V);return ut||(ut=new gE("",V,this.engine,()=>this._rendererCache.delete(V)),this._rendererCache.set(V,ut)),ut}const z=y.id,ae=y.id+"-"+this._currentId;this._currentId++,this.engine.register(ae,c);const _e=ut=>{Array.isArray(ut)?ut.forEach(_e):this.engine.registerTrigger(z,ae,c,ut.name,ut)};return y.data.animation.forEach(_e),new hb(this,ae,V,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(c,y,I){c>=0&&c<this._microtaskId?this._zone.run(()=>y(I)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(V=>{const[z,ae]=V;z(ae)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,I]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(y){return new(y||p)(s.KVO(s._9s),s.KVO(wy),s.KVO(s.SKi))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})();class gE{constructor(l,c,y,I){this.namespaceId=l,this.delegate=c,this.engine=y,this._onDestroy=I}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,c){return this.delegate.createElement(l,c)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,c){this.delegate.appendChild(l,c),this.engine.onInsert(this.namespaceId,c,l,!1)}insertBefore(l,c,y,I=!0){this.delegate.insertBefore(l,c,y),this.engine.onInsert(this.namespaceId,c,l,I)}removeChild(l,c,y){this.engine.onRemove(this.namespaceId,c,this.delegate)}selectRootElement(l,c){return this.delegate.selectRootElement(l,c)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,c,y,I){this.delegate.setAttribute(l,c,y,I)}removeAttribute(l,c,y){this.delegate.removeAttribute(l,c,y)}addClass(l,c){this.delegate.addClass(l,c)}removeClass(l,c){this.delegate.removeClass(l,c)}setStyle(l,c,y,I){this.delegate.setStyle(l,c,y,I)}removeStyle(l,c,y){this.delegate.removeStyle(l,c,y)}setProperty(l,c,y){"@"==c.charAt(0)&&c==pE?this.disableAnimations(l,!!y):this.delegate.setProperty(l,c,y)}setValue(l,c){this.delegate.setValue(l,c)}listen(l,c,y){return this.delegate.listen(l,c,y)}disableAnimations(l,c){this.engine.disableAnimations(l,c)}}class hb extends gE{constructor(l,c,y,I,V){super(c,y,I,V),this.factory=l,this.namespaceId=c}setProperty(l,c,y){"@"==c.charAt(0)?"."==c.charAt(1)&&c==pE?this.disableAnimations(l,y=void 0===y||!!y):this.engine.process(this.namespaceId,l,c.slice(1),y):this.delegate.setProperty(l,c,y)}listen(l,c,y){if("@"==c.charAt(0)){const I=function mE(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(l);let V=c.slice(1),z="";return"@"!=V.charAt(0)&&([V,z]=function _E(p){const l=p.indexOf(".");return[p.substring(0,l),p.slice(l+1)]}(V)),this.engine.listen(this.namespaceId,I,V,z,ae=>{this.factory.scheduleListenerCallback(ae._data||-1,y,ae)})}return this.delegate.listen(l,c,y)}}const e0=[{provide:Si.S6,useClass:cb},{provide:Gv,useFactory:function vE(){return new YE}},{provide:wy,useClass:(()=>{class p extends wy{constructor(c,y,I,V){super(c.body,y,I)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(y){return new(y||p)(s.KVO(pe.qQ),s.KVO(Mh),s.KVO(Gv),s.KVO(s.o8S))}}static{this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac})}}return p})()},{provide:s._9s,useFactory:function EE(p,l,c){return new db(p,l,c)},deps:[le.B7,wy,s.SKi]}],Dy=[{provide:Mh,useFactory:()=>new ab},{provide:s.bc$,useValue:"BrowserAnimations"},...e0],t0=[{provide:Mh,useClass:Yc},{provide:s.bc$,useValue:"NoopAnimations"},...e0];let bE=(()=>{class p{static withConfig(c){return{ngModule:p,providers:c.disableAnimations?t0:Dy}}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=s.$C({type:p})}static{this.\u0275inj=s.G2t({providers:Dy,imports:[le.Bb]})}}return p})();const n0={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1"};function gb(p,l,c){return()=>{const y=window.location.hostname,I=new URL(window.location.href);let V=n0[y]||I.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("themeInitializerFactory app.module businessId: "+V+" - hostname: "+y),p.loadTheme(V)}}function bg(p,l,c){const y=window.location.hostname,I=new URL(window.location.href);let V=n0[y]||I.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("initializeBusinessData app.module businessId:: "+V+" - hostname: "+y),()=>{p.loadBusinessData(V).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(z=>{console.error("Error loading business data:",z)})}}let r0=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=s.$C({type:p,bootstrap:[El]})}static{this.\u0275inj=s.G2t({providers:[{provide:s.hnV,useFactory:gb,deps:[Uf,pe.aZ,fr.Ix],multi:!0},{provide:s.hnV,useFactory:bg,deps:[ki.A,pe.aZ,fr.Ix],multi:!0}],imports:[le.Bb,fr.iI,tv,am.cM,dg.y5,Rm.X8,Eh.bf.initializeApp(Hp_firebase),zp(()=>iv(Hp_firebase)),ng(()=>id()),Om(()=>ry()),ci.X1,ci.YN,ge,bE]})}}return p})();le.sG().bootstrapModule(r0).catch(p=>console.error(p))},4412:(nn,qe,U)=>{U.d(qe,{t:()=>le});var a=U(1413);class le extends a.B{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const me=super._subscribe(be);return!me.closed&&be.next(this._value),me}getValue(){const{hasError:be,thrownError:me,_value:De}=this;if(be)throw me;return this._throwIfClosed(),De}next(be){super.next(this._value=be)}}},1985:(nn,qe,U)=>{U.d(qe,{c:()=>Ne});var a=U(7707),le=U(8359),s=U(3494),be=U(1203),me=U(1026),De=U(8071),Ae=U(9786);let Ne=(()=>{class pe{constructor($e){$e&&(this._subscribe=$e)}lift($e){const Tt=new pe;return Tt.source=this,Tt.operator=$e,Tt}subscribe($e,Tt,wt){const vt=function oe(pe){return pe&&pe instanceof a.vU||function ee(pe){return pe&&(0,De.T)(pe.next)&&(0,De.T)(pe.error)&&(0,De.T)(pe.complete)}(pe)&&(0,le.Uv)(pe)}($e)?$e:new a.Ms($e,Tt,wt);return(0,Ae.Y)(()=>{const{operator:St,source:Pt}=this;vt.add(St?St.call(vt,Pt):Pt?this._subscribe(vt):this._trySubscribe(vt))}),vt}_trySubscribe($e){try{return this._subscribe($e)}catch(Tt){$e.error(Tt)}}forEach($e,Tt){return new(Tt=Re(Tt))((wt,vt)=>{const St=new a.Ms({next:Pt=>{try{$e(Pt)}catch(Le){vt(Le),St.unsubscribe()}},error:vt,complete:wt});this.subscribe(St)})}_subscribe($e){var Tt;return null===(Tt=this.source)||void 0===Tt?void 0:Tt.subscribe($e)}[s.s](){return this}pipe(...$e){return(0,be.m)($e)(this)}toPromise($e){return new($e=Re($e))((Tt,wt)=>{let vt;this.subscribe(St=>vt=St,St=>wt(St),()=>Tt(vt))})}}return pe.create=rt=>new pe(rt),pe})();function Re(pe){var rt;return null!==(rt=pe??me.$.Promise)&&void 0!==rt?rt:Promise}},1413:(nn,qe,U)=>{U.d(qe,{B:()=>Ae});var a=U(1985),le=U(8359);const be=(0,U(1853).L)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=U(7908),De=U(9786);let Ae=(()=>{class Re extends a.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const pe=new Ne(this,this);return pe.operator=oe,pe}_throwIfClosed(){if(this.closed)throw new be}next(oe){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(oe)}})}error(oe){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:pe}=this;for(;pe.length;)pe.shift().error(oe)}})}complete(){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:pe,isStopped:rt,observers:$e}=this;return pe||rt?le.Kn:(this.currentObservers=null,$e.push(oe),new le.yU(()=>{this.currentObservers=null,(0,me.o)($e,oe)}))}_checkFinalizedStatuses(oe){const{hasError:pe,thrownError:rt,isStopped:$e}=this;pe?oe.error(rt):$e&&oe.complete()}asObservable(){const oe=new a.c;return oe.source=this,oe}}return Re.create=(ee,oe)=>new Ne(ee,oe),Re})();class Ne extends Ae{constructor(ee,oe){super(),this.destination=ee,this.source=oe}next(ee){var oe,pe;null===(pe=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===pe||pe.call(oe,ee)}error(ee){var oe,pe;null===(pe=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===pe||pe.call(oe,ee)}complete(){var ee,oe;null===(oe=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===oe||oe.call(ee)}_subscribe(ee){var oe,pe;return null!==(pe=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(ee))&&void 0!==pe?pe:le.Kn}}},7707:(nn,qe,U)=>{U.d(qe,{Ms:()=>wt,vU:()=>pe});var a=U(8071),le=U(8359),s=U(1026),be=U(5334),me=U(5343);const De=Re("C",void 0,void 0);function Re(ye,Je,We){return{kind:ye,value:Je,error:We}}var ee=U(9270),oe=U(9786);class pe extends le.yU{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,le.Uv)(Je)&&Je.add(this)):this.destination=Le}static create(Je,We,it){return new wt(Je,We,it)}next(Je){this.isStopped?Pt(function Ne(ye){return Re("N",ye,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?Pt(function Ae(ye){return Re("E",void 0,ye)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?Pt(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rt=Function.prototype.bind;function $e(ye,Je){return rt.call(ye,Je)}class Tt{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:We}=this;if(We.next)try{We.next(Je)}catch(it){vt(it)}}error(Je){const{partialObserver:We}=this;if(We.error)try{We.error(Je)}catch(it){vt(it)}else vt(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch(We){vt(We)}}}class wt extends pe{constructor(Je,We,it){let Dt;if(super(),(0,a.T)(Je)||!Je)Dt={next:Je??void 0,error:We??void 0,complete:it??void 0};else{let Ot;this&&s.$.useDeprecatedNextContext?(Ot=Object.create(Je),Ot.unsubscribe=()=>this.unsubscribe(),Dt={next:Je.next&&$e(Je.next,Ot),error:Je.error&&$e(Je.error,Ot),complete:Je.complete&&$e(Je.complete,Ot)}):Dt=Je}this.destination=new Tt(Dt)}}function vt(ye){s.$.useDeprecatedSynchronousErrorHandling?(0,oe.l)(ye):(0,be.m)(ye)}function Pt(ye,Je){const{onStoppedNotification:We}=s.$;We&&ee.f.setTimeout(()=>We(ye,Je))}const Le={closed:!0,next:me.l,error:function St(ye){throw ye},complete:me.l}},8359:(nn,qe,U)=>{U.d(qe,{Kn:()=>De,yU:()=>me,Uv:()=>Ae});var a=U(8071);const s=(0,U(1853).L)(Re=>function(oe){Re(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((pe,rt)=>`${rt+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var be=U(7908);class me{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const $e of oe)$e.remove(this);else oe.remove(this);const{initialTeardown:pe}=this;if((0,a.T)(pe))try{pe()}catch($e){ee=$e instanceof s?$e.errors:[$e]}const{_finalizers:rt}=this;if(rt){this._finalizers=null;for(const $e of rt)try{Ne($e)}catch(Tt){ee=ee??[],Tt instanceof s?ee=[...ee,...Tt.errors]:ee.push(Tt)}}if(ee)throw new s(ee)}}add(ee){var oe;if(ee&&ee!==this)if(this.closed)Ne(ee);else{if(ee instanceof me){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(ee)}}_hasParent(ee){const{_parentage:oe}=this;return oe===ee||Array.isArray(oe)&&oe.includes(ee)}_addParent(ee){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(ee),oe):oe?[oe,ee]:ee}_removeParent(ee){const{_parentage:oe}=this;oe===ee?this._parentage=null:Array.isArray(oe)&&(0,be.o)(oe,ee)}remove(ee){const{_finalizers:oe}=this;oe&&(0,be.o)(oe,ee),ee instanceof me&&ee._removeParent(this)}}me.EMPTY=(()=>{const Re=new me;return Re.closed=!0,Re})();const De=me.EMPTY;function Ae(Re){return Re instanceof me||Re&&"closed"in Re&&(0,a.T)(Re.remove)&&(0,a.T)(Re.add)&&(0,a.T)(Re.unsubscribe)}function Ne(Re){(0,a.T)(Re)?Re():Re.unsubscribe()}},1026:(nn,qe,U)=>{U.d(qe,{$:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(nn,qe,U)=>{U.d(qe,{x:()=>me});var a=U(6365),s=U(3794),be=U(8455);function me(...De){return function le(){return(0,a.U)(1)}()((0,be.H)(De,(0,s.lI)(De)))}},983:(nn,qe,U)=>{U.d(qe,{w:()=>le});const le=new(U(1985).c)(me=>me.complete())},8455:(nn,qe,U)=>{U.d(qe,{H:()=>Je});var a=U(8750),le=U(941),s=U(6745),De=U(1985),Ne=U(4761),Re=U(8071),ee=U(5225);function pe(We,it){if(!We)throw new Error("Iterable cannot be null");return new De.c(Dt=>{(0,ee.N)(Dt,it,()=>{const Ot=We[Symbol.asyncIterator]();(0,ee.N)(Dt,it,()=>{Ot.next().then(we=>{we.done?Dt.complete():Dt.next(we.value)})},0,!0)})})}var rt=U(5055),$e=U(9858),Tt=U(7441),wt=U(5397),vt=U(7953),St=U(591),Pt=U(5196);function Je(We,it){return it?function ye(We,it){if(null!=We){if((0,rt.l)(We))return function be(We,it){return(0,a.Tg)(We).pipe((0,s._)(it),(0,le.Q)(it))}(We,it);if((0,Tt.X)(We))return function Ae(We,it){return new De.c(Dt=>{let Ot=0;return it.schedule(function(){Ot===We.length?Dt.complete():(Dt.next(We[Ot++]),Dt.closed||this.schedule())})})}(We,it);if((0,$e.y)(We))return function me(We,it){return(0,a.Tg)(We).pipe((0,s._)(it),(0,le.Q)(it))}(We,it);if((0,vt.T)(We))return pe(We,it);if((0,wt.x)(We))return function oe(We,it){return new De.c(Dt=>{let Ot;return(0,ee.N)(Dt,it,()=>{Ot=We[Ne.l](),(0,ee.N)(Dt,it,()=>{let we,en;try{({value:we,done:en}=Ot.next())}catch(mn){return void Dt.error(mn)}en?Dt.complete():Dt.next(we)},0,!0)}),()=>(0,Re.T)(Ot?.return)&&Ot.return()})}(We,it);if((0,Pt.U)(We))return function Le(We,it){return pe((0,Pt.C)(We),it)}(We,it)}throw(0,St.L)(We)}(We,it):(0,a.Tg)(We)}},8750:(nn,qe,U)=>{U.d(qe,{Tg:()=>rt});var a=U(1635),le=U(7441),s=U(9858),be=U(1985),me=U(5055),De=U(7953),Ae=U(591),Ne=U(5397),Re=U(5196),ee=U(8071),oe=U(5334),pe=U(3494);function rt(ye){if(ye instanceof be.c)return ye;if(null!=ye){if((0,me.l)(ye))return function $e(ye){return new be.c(Je=>{const We=ye[pe.s]();if((0,ee.T)(We.subscribe))return We.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ye);if((0,le.X)(ye))return function Tt(ye){return new be.c(Je=>{for(let We=0;We<ye.length&&!Je.closed;We++)Je.next(ye[We]);Je.complete()})}(ye);if((0,s.y)(ye))return function wt(ye){return new be.c(Je=>{ye.then(We=>{Je.closed||(Je.next(We),Je.complete())},We=>Je.error(We)).then(null,oe.m)})}(ye);if((0,De.T)(ye))return St(ye);if((0,Ne.x)(ye))return function vt(ye){return new be.c(Je=>{for(const We of ye)if(Je.next(We),Je.closed)return;Je.complete()})}(ye);if((0,Re.U)(ye))return function Pt(ye){return St((0,Re.C)(ye))}(ye)}throw(0,Ae.L)(ye)}function St(ye){return new be.c(Je=>{(function Le(ye,Je){var We,it,Dt,Ot;return(0,a.sH)(this,void 0,void 0,function*(){try{for(We=(0,a.xN)(ye);!(it=yield We.next()).done;)if(Je.next(it.value),Je.closed)return}catch(we){Dt={error:we}}finally{try{it&&!it.done&&(Ot=We.return)&&(yield Ot.call(We))}finally{if(Dt)throw Dt.error}}Je.complete()})})(ye,Je).catch(We=>Je.error(We))})}},7786:(nn,qe,U)=>{U.d(qe,{h:()=>De});var a=U(6365),le=U(8750),s=U(983),be=U(3794),me=U(8455);function De(...Ae){const Ne=(0,be.lI)(Ae),Re=(0,be.R0)(Ae,1/0),ee=Ae;return ee.length?1===ee.length?(0,le.Tg)(ee[0]):(0,a.U)(Re)((0,me.H)(ee,Ne)):s.w}},7673:(nn,qe,U)=>{U.d(qe,{of:()=>s});var a=U(3794),le=U(8455);function s(...be){const me=(0,a.lI)(be);return(0,le.H)(be,me)}},8810:(nn,qe,U)=>{U.d(qe,{$:()=>s});var a=U(1985),le=U(8071);function s(be,me){const De=(0,le.T)(be)?be:()=>be,Ae=Ne=>Ne.error(De());return new a.c(me?Ne=>me.schedule(Ae,0,Ne):Ae)}},4360:(nn,qe,U)=>{U.d(qe,{_:()=>le});var a=U(7707);function le(be,me,De,Ae,Ne){return new s(be,me,De,Ae,Ne)}class s extends a.vU{constructor(me,De,Ae,Ne,Re,ee){super(me),this.onFinalize=Re,this.shouldUnsubscribe=ee,this._next=De?function(oe){try{De(oe)}catch(pe){me.error(pe)}}:super._next,this._error=Ne?function(oe){try{Ne(oe)}catch(pe){me.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(oe){me.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},9437:(nn,qe,U)=>{U.d(qe,{W:()=>be});var a=U(8750),le=U(4360),s=U(9974);function be(me){return(0,s.N)((De,Ae)=>{let ee,Ne=null,Re=!1;Ne=De.subscribe((0,le._)(Ae,void 0,void 0,oe=>{ee=(0,a.Tg)(me(oe,be(me)(De))),Ne?(Ne.unsubscribe(),Ne=null,ee.subscribe(Ae)):Re=!0})),Re&&(Ne.unsubscribe(),Ne=null,ee.subscribe(Ae))})}},274:(nn,qe,U)=>{U.d(qe,{H:()=>s});var a=U(1397),le=U(8071);function s(be,me){return(0,le.T)(me)?(0,a.Z)(be,me,1):(0,a.Z)(be,1)}},9901:(nn,qe,U)=>{U.d(qe,{U:()=>s});var a=U(9974),le=U(4360);function s(be){return(0,a.N)((me,De)=>{let Ae=!1;me.subscribe((0,le._)(De,Ne=>{Ae=!0,De.next(Ne)},()=>{Ae||De.next(be),De.complete()}))})}},3294:(nn,qe,U)=>{U.d(qe,{F:()=>be});var a=U(3669),le=U(9974),s=U(4360);function be(De,Ae=a.D){return De=De??me,(0,le.N)((Ne,Re)=>{let ee,oe=!0;Ne.subscribe((0,s._)(Re,pe=>{const rt=Ae(pe);(oe||!De(ee,rt))&&(oe=!1,ee=rt,Re.next(pe))}))})}function me(De,Ae){return De===Ae}},5964:(nn,qe,U)=>{U.d(qe,{p:()=>s});var a=U(9974),le=U(4360);function s(be,me){return(0,a.N)((De,Ae)=>{let Ne=0;De.subscribe((0,le._)(Ae,Re=>be.call(me,Re,Ne++)&&Ae.next(Re)))})}},980:(nn,qe,U)=>{U.d(qe,{j:()=>le});var a=U(9974);function le(s){return(0,a.N)((be,me)=>{try{be.subscribe(me)}finally{me.add(s)}})}},1594:(nn,qe,U)=>{U.d(qe,{$:()=>Ae});var a=U(9350),le=U(5964),s=U(6697),be=U(9901),me=U(3774),De=U(3669);function Ae(Ne,Re){const ee=arguments.length>=2;return oe=>oe.pipe(Ne?(0,le.p)((pe,rt)=>Ne(pe,rt,oe)):De.D,(0,s.s)(1),ee?(0,be.U)(Re):(0,me.v)(()=>new a.G))}},6354:(nn,qe,U)=>{U.d(qe,{T:()=>s});var a=U(9974),le=U(4360);function s(be,me){return(0,a.N)((De,Ae)=>{let Ne=0;De.subscribe((0,le._)(Ae,Re=>{Ae.next(be.call(me,Re,Ne++))}))})}},6365:(nn,qe,U)=>{U.d(qe,{U:()=>s});var a=U(1397),le=U(3669);function s(be=1/0){return(0,a.Z)(le.D,be)}},1397:(nn,qe,U)=>{U.d(qe,{Z:()=>Ne});var a=U(6354),le=U(8750),s=U(9974),be=U(5225),me=U(4360),Ae=U(8071);function Ne(Re,ee,oe=1/0){return(0,Ae.T)(ee)?Ne((pe,rt)=>(0,a.T)(($e,Tt)=>ee(pe,$e,rt,Tt))((0,le.Tg)(Re(pe,rt))),oe):("number"==typeof ee&&(oe=ee),(0,s.N)((pe,rt)=>function De(Re,ee,oe,pe,rt,$e,Tt,wt){const vt=[];let St=0,Pt=0,Le=!1;const ye=()=>{Le&&!vt.length&&!St&&ee.complete()},Je=it=>St<pe?We(it):vt.push(it),We=it=>{$e&&ee.next(it),St++;let Dt=!1;(0,le.Tg)(oe(it,Pt++)).subscribe((0,me._)(ee,Ot=>{rt?.(Ot),$e?Je(Ot):ee.next(Ot)},()=>{Dt=!0},void 0,()=>{if(Dt)try{for(St--;vt.length&&St<pe;){const Ot=vt.shift();Tt?(0,be.N)(ee,Tt,()=>We(Ot)):We(Ot)}ye()}catch(Ot){ee.error(Ot)}}))};return Re.subscribe((0,me._)(ee,Je,()=>{Le=!0,ye()})),()=>{wt?.()}}(pe,rt,Re,oe)))}},941:(nn,qe,U)=>{U.d(qe,{Q:()=>be});var a=U(5225),le=U(9974),s=U(4360);function be(me,De=0){return(0,le.N)((Ae,Ne)=>{Ae.subscribe((0,s._)(Ne,Re=>(0,a.N)(Ne,me,()=>Ne.next(Re),De),()=>(0,a.N)(Ne,me,()=>Ne.complete(),De),Re=>(0,a.N)(Ne,me,()=>Ne.error(Re),De)))})}},2816:(nn,qe,U)=>{U.d(qe,{S:()=>be});var a=U(9974),le=U(4360);function be(me,De){return(0,a.N)(function s(me,De,Ae,Ne,Re){return(ee,oe)=>{let pe=Ae,rt=De,$e=0;ee.subscribe((0,le._)(oe,Tt=>{const wt=$e++;rt=pe?me(rt,Tt,wt):(pe=!0,Tt),Ne&&oe.next(rt)},Re&&(()=>{pe&&oe.next(rt),oe.complete()})))}}(me,De,arguments.length>=2,!0))}},7647:(nn,qe,U)=>{U.d(qe,{u:()=>me});var a=U(8750),le=U(1413),s=U(7707),be=U(9974);function me(Ae={}){const{connector:Ne=(()=>new le.B),resetOnError:Re=!0,resetOnComplete:ee=!0,resetOnRefCountZero:oe=!0}=Ae;return pe=>{let rt,$e,Tt,wt=0,vt=!1,St=!1;const Pt=()=>{$e?.unsubscribe(),$e=void 0},Le=()=>{Pt(),rt=Tt=void 0,vt=St=!1},ye=()=>{const Je=rt;Le(),Je?.unsubscribe()};return(0,be.N)((Je,We)=>{wt++,!St&&!vt&&Pt();const it=Tt=Tt??Ne();We.add(()=>{wt--,0===wt&&!St&&!vt&&($e=De(ye,oe))}),it.subscribe(We),!rt&&wt>0&&(rt=new s.Ms({next:Dt=>it.next(Dt),error:Dt=>{St=!0,Pt(),$e=De(Le,Re,Dt),it.error(Dt)},complete:()=>{vt=!0,Pt(),$e=De(Le,ee),it.complete()}}),(0,a.Tg)(Je).subscribe(rt))})(pe)}}function De(Ae,Ne,...Re){if(!0===Ne)return void Ae();if(!1===Ne)return;const ee=new s.Ms({next:()=>{ee.unsubscribe(),Ae()}});return(0,a.Tg)(Ne(...Re)).subscribe(ee)}},9172:(nn,qe,U)=>{U.d(qe,{Z:()=>be});var a=U(8793),le=U(3794),s=U(9974);function be(...me){const De=(0,le.lI)(me);return(0,s.N)((Ae,Ne)=>{(De?(0,a.x)(me,Ae,De):(0,a.x)(me,Ae)).subscribe(Ne)})}},6745:(nn,qe,U)=>{U.d(qe,{_:()=>le});var a=U(9974);function le(s,be=0){return(0,a.N)((me,De)=>{De.add(s.schedule(()=>me.subscribe(De),be))})}},5558:(nn,qe,U)=>{U.d(qe,{n:()=>be});var a=U(8750),le=U(9974),s=U(4360);function be(me,De){return(0,le.N)((Ae,Ne)=>{let Re=null,ee=0,oe=!1;const pe=()=>oe&&!Re&&Ne.complete();Ae.subscribe((0,s._)(Ne,rt=>{Re?.unsubscribe();let $e=0;const Tt=ee++;(0,a.Tg)(me(rt,Tt)).subscribe(Re=(0,s._)(Ne,wt=>Ne.next(De?De(rt,wt,Tt,$e++):wt),()=>{Re=null,pe()}))},()=>{oe=!0,pe()}))})}},6697:(nn,qe,U)=>{U.d(qe,{s:()=>be});var a=U(983),le=U(9974),s=U(4360);function be(me){return me<=0?()=>a.w:(0,le.N)((De,Ae)=>{let Ne=0;De.subscribe((0,s._)(Ae,Re=>{++Ne<=me&&(Ae.next(Re),me<=Ne&&Ae.complete())}))})}},8141:(nn,qe,U)=>{U.d(qe,{M:()=>me});var a=U(8071),le=U(9974),s=U(4360),be=U(3669);function me(De,Ae,Ne){const Re=(0,a.T)(De)||Ae||Ne?{next:De,error:Ae,complete:Ne}:De;return Re?(0,le.N)((ee,oe)=>{var pe;null===(pe=Re.subscribe)||void 0===pe||pe.call(Re);let rt=!0;ee.subscribe((0,s._)(oe,$e=>{var Tt;null===(Tt=Re.next)||void 0===Tt||Tt.call(Re,$e),oe.next($e)},()=>{var $e;rt=!1,null===($e=Re.complete)||void 0===$e||$e.call(Re),oe.complete()},$e=>{var Tt;rt=!1,null===(Tt=Re.error)||void 0===Tt||Tt.call(Re,$e),oe.error($e)},()=>{var $e,Tt;rt&&(null===($e=Re.unsubscribe)||void 0===$e||$e.call(Re)),null===(Tt=Re.finalize)||void 0===Tt||Tt.call(Re)}))}):be.D}},3774:(nn,qe,U)=>{U.d(qe,{v:()=>be});var a=U(9350),le=U(9974),s=U(4360);function be(De=me){return(0,le.N)((Ae,Ne)=>{let Re=!1;Ae.subscribe((0,s._)(Ne,ee=>{Re=!0,Ne.next(ee)},()=>Re?Ne.complete():Ne.error(De())))})}function me(){return new a.G}},6780:(nn,qe,U)=>{U.d(qe,{R:()=>me});var a=U(8359);class le extends a.yU{constructor(Ae,Ne){super()}schedule(Ae,Ne=0){return this}}const s={setInterval(De,Ae,...Ne){const{delegate:Re}=s;return Re?.setInterval?Re.setInterval(De,Ae,...Ne):setInterval(De,Ae,...Ne)},clearInterval(De){const{delegate:Ae}=s;return(Ae?.clearInterval||clearInterval)(De)},delegate:void 0};var be=U(7908);class me extends le{constructor(Ae,Ne){super(Ae,Ne),this.scheduler=Ae,this.work=Ne,this.pending=!1}schedule(Ae,Ne=0){var Re;if(this.closed)return this;this.state=Ae;const ee=this.id,oe=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(oe,ee,Ne)),this.pending=!0,this.delay=Ne,this.id=null!==(Re=this.id)&&void 0!==Re?Re:this.requestAsyncId(oe,this.id,Ne),this}requestAsyncId(Ae,Ne,Re=0){return s.setInterval(Ae.flush.bind(Ae,this),Re)}recycleAsyncId(Ae,Ne,Re=0){if(null!=Re&&this.delay===Re&&!1===this.pending)return Ne;null!=Ne&&s.clearInterval(Ne)}execute(Ae,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Re=this._execute(Ae,Ne);if(Re)return Re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,Ne){let ee,Re=!1;try{this.work(Ae)}catch(oe){Re=!0,ee=oe||new Error("Scheduled action threw falsy error")}if(Re)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:Ne}=this,{actions:Re}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.o)(Re,this),null!=Ae&&(this.id=this.recycleAsyncId(Ne,Ae,null)),this.delay=null,super.unsubscribe()}}}},9687:(nn,qe,U)=>{U.d(qe,{q:()=>s});var a=U(6129);class le{constructor(me,De=le.now){this.schedulerActionCtor=me,this.now=De}schedule(me,De=0,Ae){return new this.schedulerActionCtor(this,me).schedule(Ae,De)}}le.now=a.U.now;class s extends le{constructor(me,De=le.now){super(me,De),this.actions=[],this._active=!1}flush(me){const{actions:De}=this;if(this._active)return void De.push(me);let Ae;this._active=!0;do{if(Ae=me.execute(me.state,me.delay))break}while(me=De.shift());if(this._active=!1,Ae){for(;me=De.shift();)me.unsubscribe();throw Ae}}}},3236:(nn,qe,U)=>{U.d(qe,{E:()=>s});var a=U(6780);const s=new(U(9687).q)(a.R)},6129:(nn,qe,U)=>{U.d(qe,{U:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},9270:(nn,qe,U)=>{U.d(qe,{f:()=>a});const a={setTimeout(le,s,...be){const{delegate:me}=a;return me?.setTimeout?me.setTimeout(le,s,...be):setTimeout(le,s,...be)},clearTimeout(le){const{delegate:s}=a;return(s?.clearTimeout||clearTimeout)(le)},delegate:void 0}},4761:(nn,qe,U)=>{U.d(qe,{l:()=>le});const le=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(nn,qe,U)=>{U.d(qe,{s:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(nn,qe,U)=>{U.d(qe,{G:()=>le});const le=(0,U(1853).L)(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(nn,qe,U)=>{U.d(qe,{R0:()=>De,ms:()=>be,lI:()=>me});var a=U(8071);function s(Ae){return Ae[Ae.length-1]}function be(Ae){return(0,a.T)(s(Ae))?Ae.pop():void 0}function me(Ae){return function le(Ae){return Ae&&(0,a.T)(Ae.schedule)}(s(Ae))?Ae.pop():void 0}function De(Ae,Ne){return"number"==typeof s(Ae)?Ae.pop():Ne}},3073:(nn,qe,U)=>{U.d(qe,{D:()=>me});const{isArray:a}=Array,{getPrototypeOf:le,prototype:s,keys:be}=Object;function me(Ae){if(1===Ae.length){const Ne=Ae[0];if(a(Ne))return{args:Ne,keys:null};if(function De(Ae){return Ae&&"object"==typeof Ae&&le(Ae)===s}(Ne)){const Re=be(Ne);return{args:Re.map(ee=>Ne[ee]),keys:Re}}}return{args:Ae,keys:null}}},7908:(nn,qe,U)=>{function a(le,s){if(le){const be=le.indexOf(s);0<=be&&le.splice(be,1)}}U.d(qe,{o:()=>a})},1853:(nn,qe,U)=>{function a(le){const be=le(me=>{Error.call(me),me.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}U.d(qe,{L:()=>a})},8496:(nn,qe,U)=>{function a(le,s){return le.reduce((be,me,De)=>(be[me]=s[De],be),{})}U.d(qe,{e:()=>a})},9786:(nn,qe,U)=>{U.d(qe,{Y:()=>s,l:()=>be});var a=U(1026);let le=null;function s(me){if(a.$.useDeprecatedSynchronousErrorHandling){const De=!le;if(De&&(le={errorThrown:!1,error:null}),me(),De){const{errorThrown:Ae,error:Ne}=le;if(le=null,Ae)throw Ne}}else me()}function be(me){a.$.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=me)}},5225:(nn,qe,U)=>{function a(le,s,be,me=0,De=!1){const Ae=s.schedule(function(){be(),De?le.add(this.schedule(null,me)):this.unsubscribe()},me);if(le.add(Ae),!De)return Ae}U.d(qe,{N:()=>a})},3669:(nn,qe,U)=>{function a(le){return le}U.d(qe,{D:()=>a})},7441:(nn,qe,U)=>{U.d(qe,{X:()=>a});const a=le=>le&&"number"==typeof le.length&&"function"!=typeof le},7953:(nn,qe,U)=>{U.d(qe,{T:()=>le});var a=U(8071);function le(s){return Symbol.asyncIterator&&(0,a.T)(s?.[Symbol.asyncIterator])}},8071:(nn,qe,U)=>{function a(le){return"function"==typeof le}U.d(qe,{T:()=>a})},5055:(nn,qe,U)=>{U.d(qe,{l:()=>s});var a=U(3494),le=U(8071);function s(be){return(0,le.T)(be[a.s])}},5397:(nn,qe,U)=>{U.d(qe,{x:()=>s});var a=U(4761),le=U(8071);function s(be){return(0,le.T)(be?.[a.l])}},9858:(nn,qe,U)=>{U.d(qe,{y:()=>le});var a=U(8071);function le(s){return(0,a.T)(s?.then)}},5196:(nn,qe,U)=>{U.d(qe,{C:()=>s,U:()=>be});var a=U(1635),le=U(8071);function s(me){return(0,a.AQ)(this,arguments,function*(){const Ae=me.getReader();try{for(;;){const{value:Ne,done:Re}=yield(0,a.N3)(Ae.read());if(Re)return yield(0,a.N3)(void 0);yield yield(0,a.N3)(Ne)}}finally{Ae.releaseLock()}})}function be(me){return(0,le.T)(me?.getReader)}},9974:(nn,qe,U)=>{U.d(qe,{N:()=>s,S:()=>le});var a=U(8071);function le(be){return(0,a.T)(be?.lift)}function s(be){return me=>{if(le(me))return me.lift(function(De){try{return be(De,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(nn,qe,U)=>{U.d(qe,{I:()=>be});var a=U(6354);const{isArray:le}=Array;function be(me){return(0,a.T)(De=>function s(me,De){return le(De)?me(...De):me(De)}(me,De))}},5343:(nn,qe,U)=>{function a(){}U.d(qe,{l:()=>a})},1203:(nn,qe,U)=>{U.d(qe,{F:()=>le,m:()=>s});var a=U(3669);function le(...be){return s(be)}function s(be){return 0===be.length?a.D:1===be.length?be[0]:function(De){return be.reduce((Ae,Ne)=>Ne(Ae),De)}}},5334:(nn,qe,U)=>{U.d(qe,{m:()=>s});var a=U(1026),le=U(9270);function s(be){le.f.setTimeout(()=>{const{onUnhandledError:me}=a.$;if(!me)throw be;me(be)})}},591:(nn,qe,U)=>{function a(le){return new TypeError(`You provided ${null!==le&&"object"==typeof le?"an invalid object":`'${le}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(qe,{L:()=>a})},9969:(nn,qe,U)=>{U.d(qe,{FX:()=>Pt,K2:()=>Ae,Ro:()=>le,S6:()=>a,hZ:()=>be,i0:()=>me,iF:()=>Ne,kY:()=>oe,kp:()=>s,sf:()=>vt,ui:()=>St});class a{}class le{}const s="*";function be(Le,ye){return{type:7,name:Le,definitions:ye,options:{}}}function me(Le,ye=null){return{type:4,styles:ye,timings:Le}}function Ae(Le,ye=null){return{type:2,steps:Le,options:ye}}function Ne(Le){return{type:6,styles:Le,offset:null}}function oe(Le,ye,Je=null){return{type:1,expr:Le,animation:ye,options:Je}}class vt{constructor(ye=0,Je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ye+Je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ye=>ye()),this._onDoneFns=[])}onStart(ye){this._originalOnStartFns.push(ye),this._onStartFns.push(ye)}onDone(ye){this._originalOnDoneFns.push(ye),this._onDoneFns.push(ye)}onDestroy(ye){this._onDestroyFns.push(ye)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ye=>ye()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ye=>ye()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ye){this._position=this.totalTime?ye*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ye){const Je="start"==ye?this._onStartFns:this._onDoneFns;Je.forEach(We=>We()),Je.length=0}}class St{constructor(ye){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ye;let Je=0,We=0,it=0;const Dt=this.players.length;0==Dt?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ot=>{Ot.onDone(()=>{++Je==Dt&&this._onFinish()}),Ot.onDestroy(()=>{++We==Dt&&this._onDestroy()}),Ot.onStart(()=>{++it==Dt&&this._onStart()})}),this.totalTime=this.players.reduce((Ot,we)=>Math.max(Ot,we.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ye=>ye()),this._onDoneFns=[])}init(){this.players.forEach(ye=>ye.init())}onStart(ye){this._onStartFns.push(ye)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ye=>ye()),this._onStartFns=[])}onDone(ye){this._onDoneFns.push(ye)}onDestroy(ye){this._onDestroyFns.push(ye)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ye=>ye.play())}pause(){this.players.forEach(ye=>ye.pause())}restart(){this.players.forEach(ye=>ye.restart())}finish(){this._onFinish(),this.players.forEach(ye=>ye.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ye=>ye.destroy()),this._onDestroyFns.forEach(ye=>ye()),this._onDestroyFns=[])}reset(){this.players.forEach(ye=>ye.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ye){const Je=ye*this.totalTime;this.players.forEach(We=>{const it=We.totalTime?Math.min(1,Je/We.totalTime):1;We.setPosition(it)})}getPosition(){const ye=this.players.reduce((Je,We)=>null===Je||We.totalTime>Je.totalTime?We:Je,null);return null!=ye?ye.getPosition():0}beforeDestroy(){this.players.forEach(ye=>{ye.beforeDestroy&&ye.beforeDestroy()})}triggerCallback(ye){const Je="start"==ye?this._onStartFns:this._onDoneFns;Je.forEach(We=>We()),Je.length=0}}const Pt="!"},177:(nn,qe,U)=>{U.d(qe,{AJ:()=>Rr,B3:()=>wr,Jj:()=>Ks,MD:()=>us,N0:()=>wn,P9:()=>Zr,QT:()=>s,Sm:()=>Tt,Sq:()=>Wi,VF:()=>me,Vy:()=>Ds,Xr:()=>Me,YU:()=>dr,ZD:()=>be,_b:()=>ln,aZ:()=>vt,bT:()=>Lo,e1:()=>ns,fG:()=>ms,fw:()=>wt,hb:()=>rt,hj:()=>Ne,lG:()=>Es,qQ:()=>De,ux:()=>ii});var a=U(7705);let le=null;function s(){return le}function be(M){le||(le=M)}class me{}const De=new a.nKC("DocumentToken");let Ae=(()=>{class M{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||M)}}static{this.\u0275prov=a.jDH({token:M,factory:function(){return(0,a.WQX)(Re)},providedIn:"platform"})}}return M})();const Ne=new a.nKC("Location Initialized");let Re=(()=>{class M extends Ae{constructor(){super(),this._doc=(0,a.WQX)(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState($){const Y=s().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",$,!1),()=>Y.removeEventListener("popstate",$)}onHashChange($){const Y=s().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",$,!1),()=>Y.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,Y,Pe){this._history.pushState($,Y,Pe)}replaceState($,Y,Pe){this._history.replaceState($,Y,Pe)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}static{this.\u0275fac=function(Y){return new(Y||M)}}static{this.\u0275prov=a.jDH({token:M,factory:function(){return new M},providedIn:"platform"})}}return M})();function ee(M,re){if(0==M.length)return re;if(0==re.length)return M;let $=0;return M.endsWith("/")&&$++,re.startsWith("/")&&$++,2==$?M+re.substring(1):1==$?M+re:M+"/"+re}function oe(M){const re=M.match(/#|\?|$/),$=re&&re.index||M.length;return M.slice(0,$-("/"===M[$-1]?1:0))+M.slice($)}function pe(M){return M&&"?"!==M[0]?"?"+M:M}let rt=(()=>{class M{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||M)}}static{this.\u0275prov=a.jDH({token:M,factory:function(){return(0,a.WQX)(Tt)},providedIn:"root"})}}return M})();const $e=new a.nKC("appBaseHref");let Tt=(()=>{class M extends rt{constructor($,Y){super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,a.WQX)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return ee(this._baseHref,$)}path($=!1){const Y=this._platformLocation.pathname+pe(this._platformLocation.search),Pe=this._platformLocation.hash;return Pe&&$?`${Y}${Pe}`:Y}pushState($,Y,Pe,Ct){const kt=this.prepareExternalUrl(Pe+pe(Ct));this._platformLocation.pushState($,Y,kt)}replaceState($,Y,Pe,Ct){const kt=this.prepareExternalUrl(Pe+pe(Ct));this._platformLocation.replaceState($,Y,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(Y){return new(Y||M)(a.KVO(Ae),a.KVO($e,8))}}static{this.\u0275prov=a.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),wt=(()=>{class M extends rt{constructor($,Y){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl($){const Y=ee(this._baseHref,$);return Y.length>0?"#"+Y:Y}pushState($,Y,Pe,Ct){let kt=this.prepareExternalUrl(Pe+pe(Ct));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.pushState($,Y,kt)}replaceState($,Y,Pe,Ct){let kt=this.prepareExternalUrl(Pe+pe(Ct));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.replaceState($,Y,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(Y){return new(Y||M)(a.KVO(Ae),a.KVO($e,8))}}static{this.\u0275prov=a.jDH({token:M,factory:M.\u0275fac})}}return M})(),vt=(()=>{class M{constructor($){this._subject=new a.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const Y=this._locationStrategy.getBaseHref();this._basePath=function ye(M){if(new RegExp("^(https?:)?//").test(M)){const[,$]=M.split(/\/\/[^\/]+/);return $}return M}(oe(Le(Y))),this._locationStrategy.onPopState(Pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Pe.state,type:Pe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,Y=""){return this.path()==this.normalize($+pe(Y))}normalize($){return M.stripTrailingSlash(function Pt(M,re){if(!M||!re.startsWith(M))return re;const $=re.substring(M.length);return""===$||["/",";","?","#"].includes($[0])?$:re}(this._basePath,Le($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,Y="",Pe=null){this._locationStrategy.pushState(Pe,"",$,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl($+pe(Y)),Pe)}replaceState($,Y="",Pe=null){this._locationStrategy.replaceState(Pe,"",$,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl($+pe(Y)),Pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){this._locationStrategy.historyGo?.($)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf($);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",Y){this._urlChangeListeners.forEach(Pe=>Pe($,Y))}subscribe($,Y,Pe){return this._subject.subscribe({next:$,error:Y,complete:Pe})}static{this.normalizeQueryParams=pe}static{this.joinWithSlash=ee}static{this.stripTrailingSlash=oe}static{this.\u0275fac=function(Y){return new(Y||M)(a.KVO(rt))}}static{this.\u0275prov=a.jDH({token:M,factory:function(){return function St(){return new vt((0,a.KVO)(rt))}()},providedIn:"root"})}}return M})();function Le(M){return M.replace(/\/index.html$/,"")}function ln(M,re){re=encodeURIComponent(re);for(const $ of M.split(";")){const Y=$.indexOf("="),[Pe,Ct]=-1==Y?[$,""]:[$.slice(0,Y),$.slice(Y+1)];if(Pe.trim()===re)return decodeURIComponent(Ct)}return null}const Vn=/\s+/,Mn=[];let dr=(()=>{class M{constructor($,Y,Pe,Ct){this._iterableDiffers=$,this._keyValueDiffers=Y,this._ngEl=Pe,this._renderer=Ct,this.initialClasses=Mn,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(Vn):Mn}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(Vn):$}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const Y of $)this._updateState(Y,!0);else if(null!=$)for(const Y of Object.keys($))this._updateState(Y,!!$[Y]);this._applyStateDiff()}_updateState($,Y){const Pe=this.stateMap.get($);void 0!==Pe?(Pe.enabled!==Y&&(Pe.changed=!0,Pe.enabled=Y),Pe.touched=!0):this.stateMap.set($,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const Y=$[0],Pe=$[1];Pe.changed?(this._toggleClass(Y,Pe.enabled),Pe.changed=!1):Pe.touched||(Pe.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),Pe.touched=!1}}_toggleClass($,Y){($=$.trim()).length>0&&$.split(Vn).forEach(Pe=>{Y?this._renderer.addClass(this._ngEl.nativeElement,Pe):this._renderer.removeClass(this._ngEl.nativeElement,Pe)})}static{this.\u0275fac=function(Y){return new(Y||M)(a.rXU(a._q3),a.rXU(a.MKu),a.rXU(a.aKT),a.rXU(a.sFG))}}static{this.\u0275dir=a.FsC({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return M})();class Tr{constructor(re,$,Y,Pe){this.$implicit=re,this.ngForOf=$,this.index=Y,this.count=Pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wi=(()=>{class M{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,Y,Pe){this._viewContainer=$,this._template=Y,this._differs=Pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const Y=this._viewContainer;$.forEachOperation((Pe,Ct,kt)=>{if(null==Pe.previousIndex)Y.createEmbeddedView(this._template,new Tr(Pe.item,this._ngForOf,-1,-1),null===kt?void 0:kt);else if(null==kt)Y.remove(null===Ct?void 0:Ct);else if(null!==Ct){const jn=Y.get(Ct);Y.move(jn,kt),ws(jn,Pe)}});for(let Pe=0,Ct=Y.length;Pe<Ct;Pe++){const jn=Y.get(Pe).context;jn.index=Pe,jn.count=Ct,jn.ngForOf=this._ngForOf}$.forEachIdentityChange(Pe=>{ws(Y.get(Pe.currentIndex),Pe)})}static ngTemplateContextGuard($,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||M)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(a._q3))}}static{this.\u0275dir=a.FsC({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return M})();function ws(M,re){M.context.$implicit=re.item}let Lo=(()=>{class M{constructor($,Y){this._viewContainer=$,this._context=new Vo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){Bi("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){Bi("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||M)(a.rXU(a.c1b),a.rXU(a.C4Q))}}static{this.\u0275dir=a.FsC({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return M})();class Vo{constructor(){this.$implicit=null,this.ngIf=null}}function Bi(M,re){if(re&&!re.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,a.Tbb)(re)}'.`)}class Xo{constructor(re,$){this._viewContainerRef=re,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(re){re&&!this._created?this.create():!re&&this._created&&this.destroy()}}let ii=(()=>{class M{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews.push($)}_matchCase($){const Y=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases($){if(this._defaultViews.length>0&&$!==this._defaultUsed){this._defaultUsed=$;for(const Y of this._defaultViews)Y.enforceState($)}}static{this.\u0275fac=function(Y){return new(Y||M)}}static{this.\u0275dir=a.FsC({type:M,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return M})(),ns=(()=>{class M{constructor($,Y,Pe){this.ngSwitch=Pe,Pe._addCase(),this._view=new Xo($,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Y){return new(Y||M)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(ii,9))}}static{this.\u0275dir=a.FsC({type:M,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return M})(),ms=(()=>{class M{constructor($,Y,Pe){Pe._addDefault(new Xo($,Y))}static{this.\u0275fac=function(Y){return new(Y||M)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(ii,9))}}static{this.\u0275dir=a.FsC({type:M,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return M})(),wr=(()=>{class M{constructor($,Y,Pe){this._ngEl=$,this._differs=Y,this._renderer=Pe,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,Y){const[Pe,Ct]=$.split("."),kt=-1===Pe.indexOf("-")?void 0:a.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,Pe,Ct?`${Y}${Ct}`:Y,kt):this._renderer.removeStyle(this._ngEl.nativeElement,Pe,kt)}_applyChanges($){$.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),$.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),$.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static{this.\u0275fac=function(Y){return new(Y||M)(a.rXU(a.aKT),a.rXU(a.MKu),a.rXU(a.sFG))}}static{this.\u0275dir=a.FsC({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return M})();function di(M,re){return new a.wOt(2100,!1)}class Fa{createSubscription(re,$){return(0,a.O8t)(()=>re.subscribe({next:$,error:Y=>{throw Y}}))}dispose(re){(0,a.O8t)(()=>re.unsubscribe())}}class Za{createSubscription(re,$){return re.then($,Y=>{throw Y})}dispose(re){}}const xi=new Za,Ea=new Fa;let Ks=(()=>{class M{constructor($){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=$}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,Y=>this._updateLatestValue($,Y))}_selectStrategy($){if((0,a.jNT)($))return xi;if((0,a.zjR)($))return Ea;throw di()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,Y){$===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static{this.\u0275fac=function(Y){return new(Y||M)(a.rXU(a.gRc,16))}}static{this.\u0275pipe=a.EJ8({name:"async",type:M,pure:!1,standalone:!0})}}return M})(),Es=(()=>{class M{constructor($){this.differs=$,this.keyValues=[],this.compareFn=js}transform($,Y=js){if(!$||!($ instanceof Map)&&"object"!=typeof $)return null;this.differ||(this.differ=this.differs.find($).create());const Pe=this.differ.diff($),Ct=Y!==this.compareFn;return Pe&&(this.keyValues=[],Pe.forEachItem(kt=>{this.keyValues.push(function rs(M,re){return{key:M,value:re}}(kt.key,kt.currentValue))})),(Pe||Ct)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static{this.\u0275fac=function(Y){return new(Y||M)(a.rXU(a.MKu,16))}}static{this.\u0275pipe=a.EJ8({name:"keyvalue",type:M,pure:!1,standalone:!0})}}return M})();function js(M,re){const $=M.key,Y=re.key;if($===Y)return 0;if(void 0===$)return 1;if(void 0===Y)return-1;if(null===$)return 1;if(null===Y)return-1;if("string"==typeof $&&"string"==typeof Y)return $<Y?-1:1;if("number"==typeof $&&"number"==typeof Y)return $-Y;if("boolean"==typeof $&&"boolean"==typeof Y)return $<Y?-1:1;const Pe=String($),Ct=String(Y);return Pe==Ct?0:Pe<Ct?-1:1}let Zr=(()=>{class M{transform($,Y,Pe){if(null==$)return null;if(!this.supports($))throw di();return $.slice(Y,Pe)}supports($){return"string"==typeof $||Array.isArray($)}static{this.\u0275fac=function(Y){return new(Y||M)}}static{this.\u0275pipe=a.EJ8({name:"slice",type:M,pure:!1,standalone:!0})}}return M})(),us=(()=>{class M{static{this.\u0275fac=function(Y){return new(Y||M)}}static{this.\u0275mod=a.$C({type:M})}static{this.\u0275inj=a.G2t({})}}return M})();const Rr="browser",Vi="server";function Ds(M){return M===Vi}let Me=(()=>{class M{static{this.\u0275prov=(0,a.jDH)({token:M,providedIn:"root",factory:()=>new Qe((0,a.KVO)(De),window)})}}return M})();class Qe{constructor(re,$){this.document=re,this.window=$,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const $=function gt(M,re){const $=M.getElementById(re)||M.getElementsByName(re)[0];if($)return $;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const Y=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let Pe=Y.currentNode;for(;Pe;){const Ct=Pe.shadowRoot;if(Ct){const kt=Ct.getElementById(re)||Ct.querySelector(`[name="${re}"]`);if(kt)return kt}Pe=Y.nextNode()}}return null}(this.document,re);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const $=re.getBoundingClientRect(),Y=$.left+this.window.pageXOffset,Pe=$.top+this.window.pageYOffset,Ct=this.offset();this.window.scrollTo(Y-Ct[0],Pe-Ct[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class wn{}},7705:(nn,qe,U)=>{U.d(qe,{$C:()=>Jr,$GK:()=>bn,$K3:()=>wI,$MX:()=>zc,AVh:()=>tE,Agw:()=>dm,B4B:()=>Lp,BIS:()=>nv,BMQ:()=>gg,C4Q:()=>d0,C5r:()=>oI,Co$:()=>yC,DNE:()=>_u,EFF:()=>cE,EJ8:()=>Us,EmA:()=>dh,FS9:()=>Eu,FsC:()=>To,G2t:()=>Ft,GBs:()=>eI,GFd:()=>Sv,H3F:()=>TI,H5H:()=>r0,H8p:()=>bf,HJs:()=>t1,HbH:()=>nE,Hbi:()=>$A,JRh:()=>vg,JZv:()=>Yn,Jv_:()=>_C,KH2:()=>I,KVO:()=>At,Kcf:()=>By,L39:()=>ZA,LfX:()=>On,Lme:()=>Ty,MKu:()=>Jb,Mz_:()=>va,NEm:()=>yA,NYb:()=>pA,Njj:()=>os,O8t:()=>Ct,OA$:()=>gr,Ocv:()=>Hw,Ol2:()=>EC,PLl:()=>um,QTQ:()=>d,Ql9:()=>Ww,QuC:()=>As,R7$:()=>Ev,RV6:()=>Pl,Rfq:()=>Tt,RxE:()=>Yp,SKi:()=>Mo,SpI:()=>Iy,TL$:()=>Wg,Tbb:()=>pe,UyX:()=>Op,VBU:()=>Za,Vns:()=>Qm,Vt3:()=>Om,WHO:()=>PI,WPN:()=>Xu,WQX:()=>fn,XpG:()=>ko,Xx1:()=>ro,Y8G:()=>fd,Z63:()=>Qu,ZF7:()=>qu,_9s:()=>qp,_q3:()=>Qb,aKT:()=>yh,aNF:()=>bC,bIt:()=>q,bMT:()=>UC,bVm:()=>md,bc$:()=>Tf,bkB:()=>Al,brH:()=>BC,c1b:()=>SE,cWb:()=>Rp,czy:()=>za,e01:()=>xI,e5t:()=>$y,eBV:()=>zo,eq3:()=>PC,eu8:()=>_d,fpN:()=>BA,gRc:()=>DA,gXe:()=>ki,giA:()=>MI,h9k:()=>ci,hnV:()=>II,i5U:()=>jC,iLQ:()=>zb,j41:()=>Oh,jDH:()=>tn,jNT:()=>E,k0s:()=>gd,kS0:()=>Dd,kdw:()=>Vu,l4e:()=>MC,lJ4:()=>SC,lNU:()=>Le,l_i:()=>xC,lsd:()=>nI,mGM:()=>ZC,mq5:()=>l,n$t:()=>M_,nI1:()=>VC,nKC:()=>hn,naY:()=>AA,npT:()=>Zg,nrm:()=>Yf,o8S:()=>Ry,oH4:()=>kI,osQ:()=>mf,plB:()=>kb,qex:()=>Xf,rXU:()=>du,rcV:()=>ca,sFG:()=>_0,sGs:()=>RC,sZ2:()=>k_,sdS:()=>Kf,tSv:()=>hv,uvJ:()=>Ei,w6W:()=>kT,wOt:()=>ye,wni:()=>tI,xGo:()=>Ha,xc7:()=>Ey,xe9:()=>xE,xvI:()=>Xp,zZn:()=>Il,zcH:()=>mc,zjR:()=>B});var a=U(1413),le=U(8359),s=U(1985),be=U(7786),me=U(4412),De=U(7673),Ae=U(7647),Ne=U(5558),Re=U(3294);function ee(t){for(let n in t)if(t[n]===ee)return n;throw Error("Could not find renamed property on target object.")}function oe(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function rt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const $e=ee({__forward_ref__:ee});function Tt(t){return t.__forward_ref__=Tt,t.toString=function(){return pe(this())},t}function wt(t){return vt(t)?t():t}function vt(t){return"function"==typeof t&&t.hasOwnProperty($e)&&t.__forward_ref__===Tt}function St(t){return t&&!!t.\u0275providers}const Le="https://g.co/ng/security#xss";class ye extends Error{constructor(n,i){super(function Je(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function We(t){return"string"==typeof t?t:null==t?"":String(t)}function en(t,n){throw new ye(-201,!1)}function tt(t,n){null==t&&function Xe(t,n,i,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${i} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function tn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ft(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hn(t){return Gt(t,on)||Gt(t,Zn)}function On(t){return null!==Hn(t)}function Gt(t,n){return t.hasOwnProperty(n)?t[n]:null}function yr(t){return t&&(t.hasOwnProperty(Mr)||t.hasOwnProperty(Bt))?t[Mr]:null}const on=ee({\u0275prov:ee}),Mr=ee({\u0275inj:ee}),Zn=ee({ngInjectableDef:ee}),Bt=ee({ngInjectorDef:ee});var bn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(bn||{});let zn;function jr(t){const n=zn;return zn=t,n}function br(t,n,i){const u=Hn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:i&bn.Optional?null:void 0!==n?n:void en(pe(t))}const Yn=globalThis;class hn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=tn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $n={},Fr="__NG_DI_FLAG__",Ue="ngTempTokenPath",te=/\n/gm,P="__source";let F;function ge(t){const n=F;return F=t,n}function ot(t,n=bn.Default){if(void 0===F)throw new ye(-203,!1);return null===F?br(t,void 0,n):F.get(t,n&bn.Optional?null:void 0,n)}function At(t,n=bn.Default){return(function In(){return zn}()||ot)(wt(t),n)}function fn(t,n=bn.Default){return At(t,Dn(n))}function Dn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vr(t){const n=[];for(let i=0;i<t.length;i++){const u=wt(t[i]);if(Array.isArray(u)){if(0===u.length)throw new ye(900,!1);let f,g=bn.Default;for(let C=0;C<u.length;C++){const A=u[C],R=Gr(A);"number"==typeof R?-1===R?f=A.token:g|=R:f=A}n.push(At(f,g))}else n.push(At(u))}return n}function cn(t,n){return t[Fr]=n,t.prototype[Fr]=n,t}function Gr(t){return t[Fr]}function wi(t){return{toString:t}.toString()}var zi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zi||{}),ki=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ki||{});const Ai={},or=[],Fs=ee({\u0275cmp:ee}),Et=ee({\u0275dir:ee}),nt=ee({\u0275pipe:ee}),Rt=ee({\u0275mod:ee}),ln=ee({\u0275fac:ee}),Vn=ee({__NG_ELEMENT_ID__:ee}),Mn=ee({__NG_ENV_ID__:ee});function dr(t,n,i){let u=t.length;for(;;){const f=t.indexOf(n,i);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const g=n.length;if(f+g===u||t.charCodeAt(f+g)<=32)return f}i=f+1}}function Br(t,n,i){let u=0;for(;u<i.length;){const f=i[u];if("number"==typeof f){if(0!==f)break;u++;const g=i[u++],C=i[u++],A=i[u++];t.setAttribute(n,C,A,g)}else{const g=f,C=i[++u];Tr(g)?t.setProperty(n,g,C):t.setAttribute(n,g,C),u++}}return u}function Kr(t){return 3===t||4===t||6===t}function Tr(t){return 64===t.charCodeAt(0)}function Wi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?i=f:0===i||ws(t,i,f,null,-1===i||2===i?n[++u]:null)}}return t}function ws(t,n,i,u,f){let g=0,C=t.length;if(-1===n)C=-1;else for(;g<t.length;){const A=t[g++];if("number"==typeof A){if(A===n){C=-1;break}if(A>n){C=g-1;break}}}for(;g<t.length;){const A=t[g];if("number"==typeof A)break;if(A===i){if(null===u)return void(null!==f&&(t[g+1]=f));if(u===t[g+1])return void(t[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==C&&(t.splice(C,0,n),g=C+1),t.splice(g++,0,i),null!==u&&t.splice(g++,0,u),null!==f&&t.splice(g++,0,f)}const ts="ng-template";function Lo(t,n,i){let u=0,f=!0;for(;u<t.length;){let g=t[u++];if("string"==typeof g&&f){const C=t[u++];if(i&&"class"===g&&-1!==dr(C.toLowerCase(),n,0))return!0}else{if(1===g){for(;u<t.length&&"string"==typeof(g=t[u++]);)if(g.toLowerCase()===n)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function Vo(t){return 4===t.type&&t.value!==ts}function Bi(t,n,i){return n===(4!==t.type||i?t.value:ts)}function Xo(t,n,i){let u=4;const f=t.attrs||[],g=function Ki(t){for(let n=0;n<t.length;n++)if(Kr(t[n]))return n;return t.length}(f);let C=!1;for(let A=0;A<n.length;A++){const R=n[A];if("number"!=typeof R){if(!C)if(4&u){if(u=2|1&u,""!==R&&!Bi(t,R,i)||""===R&&1===n.length){if(ii(u))return!1;C=!0}}else{const G=8&u?R:n[++A];if(8&u&&null!==t.attrs){if(!Lo(t.attrs,G,i)){if(ii(u))return!1;C=!0}continue}const Ce=ns(8&u?"class":R,f,Vo(t),i);if(-1===Ce){if(ii(u))return!1;C=!0;continue}if(""!==G){let Ye;Ye=Ce>g?"":f[Ce+1].toLowerCase();const ct=8&u?Ye:null;if(ct&&-1!==dr(ct,G,0)||2&u&&G!==Ye){if(ii(u))return!1;C=!0}}}}else{if(!C&&!ii(u)&&!ii(R))return!1;if(C&&ii(R))continue;C=!1,u=R|1&u}}return ii(u)||C}function ii(t){return 0==(1&t)}function ns(t,n,i,u){if(null===n)return-1;let f=0;if(u||!i){let g=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)g=!0;else{if(1===C||2===C){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=g?1:2}return-1}return function Oi(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const u=t[i];if("number"==typeof u)return-1;if(u===n)return i;i++}return-1}(n,t)}function ms(t,n,i=!1){for(let u=0;u<n.length;u++)if(Xo(t,n[u],i))return!0;return!1}function co(t,n){return t?":not("+n.trim()+")":n}function Uo(t){let n=t[0],i=1,u=2,f="",g=!1;for(;i<t.length;){let C=t[i];if("string"==typeof C)if(2&u){const A=t[++i];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?f+="."+C:4&u&&(f+=" "+C);else""!==f&&!ii(C)&&(n+=co(g,f),f=""),u=C,g=g||!ii(u);i++}return""!==f&&(n+=co(g,f)),n}function Za(t){return wi(()=>{const n=ls(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ki.Emulated,styles:t.styles||or,_:null,schemas:t.schemas||null,tView:null,id:""};lo(i);const u=t.dependencies;return i.directiveDefs=rs(u,!1),i.pipeDefs=rs(u,!0),i.id=function js(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of i)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Ea(t){return Pr(t)||hi(t)}function Ks(t){return null!==t}function Jr(t){return wi(()=>({type:t.type,bootstrap:t.bootstrap||or,declarations:t.declarations||or,imports:t.imports||or,exports:t.exports||or,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Vs(t,n){if(null==t)return Ai;const i={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),i[f]=u,n&&(n[f]=g)}return i}function To(t){return wi(()=>{const n=ls(t);return lo(n),n})}function Us(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pr(t){return t[Fs]||null}function hi(t){return t[Et]||null}function Di(t){return t[nt]||null}function As(t){const n=Pr(t)||hi(t)||Di(t);return null!==n&&n.standalone}function fi(t,n){const i=t[Rt]||null;if(!i&&!0===n)throw new Error(`Type ${pe(t)} does not have '\u0275mod' property.`);return i}function ls(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ai,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||or,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vs(t.inputs,n),outputs:Vs(t.outputs)}}function lo(t){t.features?.forEach(n=>n(t))}function rs(t,n){if(!t)return null;const i=n?Di:Ea;return()=>("function"==typeof t?t():t).map(u=>i(u)).filter(Ks)}const si=0,pn=1,Fn=2,Kn=3,oi=4,Zr=5,Mi=6,us=7,Rr=8,Vi=9,bs=10,Qn=11,$i=12,Ds=13,Z=14,Q=15,Ie=16,Me=17,Qe=18,gt=19,Yt=20,wn=21,_n=22,Jn=23,Ar=24,kn=25,Un=1,$r=2,Er=7,Xi=9,Ir=11;function ai(t){return Array.isArray(t)&&"object"==typeof t[Un]}function Nr(t){return Array.isArray(t)&&!0===t[Un]}function qs(t){return 0!=(4&t.flags)}function Qi(t){return t.componentOffset>-1}function Ys(t){return 1==(1&t.flags)}function Cs(t){return!!t.template}function jo(t){return 0!=(512&t[Fn])}function eo(t,n){return t.hasOwnProperty(ln)?t[ln]:null}let fs=null,ba=!1;function Ui(t){const n=fs;return fs=t,n}const el={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ca(t){if(!Do(t)||t.dirty){if(!t.producerMustRecompute(t)&&!wa(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Is(t){t.dirty=!0,function Qs(t){if(void 0===t.liveConsumerNode)return;const n=ba;ba=!0;try{for(const i of t.liveConsumerNode)i.dirty||Is(i)}finally{ba=n}}(t),t.consumerMarkedDirty?.(t)}function fa(t){return t&&(t.nextProducerIndex=0),Ui(t)}function Ta(t,n){if(Ui(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Do(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Ec(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function wa(t){Jo(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],u=t.producerLastReadVersion[n];if(u!==i.version||(Ca(i),u!==i.version))return!0}return!1}function tl(t){if(Jo(t),Do(t))for(let n=0;n<t.producerNode.length;n++)Ec(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ec(t,n){if(function Va(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Jo(t),1===t.liveConsumerNode.length)for(let u=0;u<t.producerNode.length;u++)Ec(t.producerNode[u],t.producerIndexOfThis[u]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];Jo(f),f.producerIndexOfThis[u]=n}}function Do(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Jo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let $o=null;function Ct(t){const n=Ui(null);try{return t()}finally{Ui(n)}}const jn=()=>{},zr=(()=>({...el,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:jn}))();class ei{constructor(n,i,u){this.previousValue=n,this.currentValue=i,this.firstChange=u}isFirstChange(){return this.firstChange}}function gr(){return ti}function ti(t){return t.type.prototype.ngOnChanges&&(t.setInput=vi),Ti}function Ti(){const t=Ss(this),n=t?.current;if(n){const i=t.previous;if(i===Ai)t.previous=n;else for(let u in n)i[u]=n[u];t.current=null,this.ngOnChanges(n)}}function vi(t,n,i,u){const f=this.declaredInputs[i],g=Ss(t)||function Ho(t,n){return t[fo]=n}(t,{previous:Ai,current:null}),C=g.current||(g.current={}),A=g.previous,R=A[f];C[f]=new ei(R&&R.currentValue,n,A===Ai),t[u]=n}gr.ngInherit=!0;const fo="__ngSimpleChanges__";function Ss(t){return t[fo]||null}const Fi=function(t,n,i){};function Dr(t){for(;Array.isArray(t);)t=t[si];return t}function sc(t,n){return Dr(n[t])}function to(t,n){return Dr(n[t.index])}function Ed(t,n){return t.data[n]}function Cc(t,n){return t[n]}function gi(t,n){const i=n[t];return ai(i)?i:i[si]}function _s(t,n){return null==n?null:t[n]}function ea(t){t[Me]=0}function Da(t){1024&t[Fn]||(t[Fn]|=1024,Ul(t,1))}function Tu(t){1024&t[Fn]&&(t[Fn]&=-1025,Ul(t,-1))}function Ul(t,n){let i=t[Kn];if(null===i)return;i[Zr]+=n;let u=i;for(i=i[Kn];null!==i&&(1===n&&1===u[Zr]||-1===n&&0===u[Zr]);)i[Zr]+=n,u=i,i=i[Kn]}const qn={lFrame:ce(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wu(){return qn.bindingsEnabled}function zt(){return qn.lFrame.lView}function xr(){return qn.lFrame.tView}function zo(t){return qn.lFrame.contextLView=t,t[Rr]}function os(t){return qn.lFrame.contextLView=null,t}function Ps(){let t=oc();for(;null!==t&&64===t.type;)t=t.parent;return t}function oc(){return qn.lFrame.currentTNode}function So(t,n){const i=qn.lFrame;i.currentTNode=t,i.isParent=n}function qt(){return qn.lFrame.isParent}function rl(){qn.lFrame.isParent=!1}function ys(){const t=qn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Sa(){return qn.lFrame.bindingIndex++}function Bn(t){const n=qn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function wg(t,n){const i=qn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Pu(n)}function Pu(t){qn.lFrame.currentDirectiveIndex=t}function Ac(){return qn.lFrame.currentQueryIndex}function D(t){qn.lFrame.currentQueryIndex=t}function O(t){const n=t[pn];return 2===n.type?n.declTNode:1===n.type?t[Mi]:null}function w(t,n,i){if(i&bn.SkipSelf){let f=n,g=t;for(;!(f=f.parent,null!==f||i&bn.Host||(f=O(g),null===f||(g=g[Z],10&f.type))););if(null===f)return!1;n=f,t=g}const u=qn.lFrame=H();return u.currentTNode=n,u.lView=t,!0}function N(t){const n=H(),i=t[pn];qn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function H(){const t=qn.lFrame,n=null===t?null:t.child;return null===n?ce(t):n}function ce(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Se(){const t=qn.lFrame;return qn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const mt=Se;function ft(){const t=Se();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ar(){return qn.lFrame.selectedIndex}function kr(t){qn.lFrame.selectedIndex=t}function mi(){const t=qn.lFrame;return Ed(t.tView,t.selectedIndex)}let Bh=!0;function cc(){return Bh}function pa(t){Bh=t}function na(t,n){for(let i=n.directiveStart,u=n.directiveEnd;i<u;i++){const g=t.data[i].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:R,ngAfterViewChecked:G,ngOnDestroy:ie}=g;C&&(t.contentHooks??=[]).push(-i,C),A&&((t.contentHooks??=[]).push(i,A),(t.contentCheckHooks??=[]).push(i,A)),R&&(t.viewHooks??=[]).push(-i,R),G&&((t.viewHooks??=[]).push(i,G),(t.viewCheckHooks??=[]).push(i,G)),null!=ie&&(t.destroyHooks??=[]).push(i,ie)}}function zl(t,n,i){Wl(t,n,3,i)}function Cd(t,n,i,u){(3&t[Fn])===i&&Wl(t,n,i,u)}function ga(t,n){let i=t[Fn];(3&i)===n&&(i&=8191,i+=1,t[Fn]=i)}function Wl(t,n,i,u){const g=u??-1,C=n.length-1;let A=0;for(let R=void 0!==u?65535&t[Me]:0;R<C;R++)if("number"==typeof n[R+1]){if(A=n[R],null!=u&&A>=u)break}else n[R]<0&&(t[Me]+=65536),(A<g||-1==g)&&(Mu(t,i,n,R),t[Me]=(4294901760&t[Me])+R+2),R++}function Id(t,n){Fi(4,t,n);const i=Ui(null);try{n.call(t)}finally{Ui(i),Fi(5,t,n)}}function Mu(t,n,i,u){const f=i[u]<0,g=i[u+1],A=t[f?-i[u]:i[u]];f?t[Fn]>>13<t[Me]>>16&&(3&t[Fn])===n&&(t[Fn]+=8192,Id(A,g)):Id(A,g)}const Wo=-1;class _o{constructor(n,i,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=u}}function Nu(t){return t!==Wo}function xc(t){return 32767&t}function Mc(t,n){let i=function Td(t){return t>>16}(t),u=n;for(;i>0;)u=u[Z],i--;return u}let Rc=!0;function lc(t){const n=Rc;return Rc=t,n}const Hh=255,xa=5;let ku=0;const yo={};function al(t,n){const i=Gh(t,n);if(-1!==i)return i;const u=n[pn];u.firstCreatePass&&(t.injectorIndex=n.length,Ms(u.data,t),Ms(n,null),Ms(u.blueprint,null));const f=Oc(t,n),g=t.injectorIndex;if(Nu(f)){const C=xc(f),A=Mc(f,n),R=A[pn].data;for(let G=0;G<8;G++)n[g+G]=A[C+G]|R[C+G]}return n[g+8]=f,g}function Ms(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Gh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Oc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,u=null,f=n;for(;null!==f;){if(u=Ad(f),null===u)return Wo;if(i++,f=f[Z],-1!==u.injectorIndex)return u.injectorIndex|i<<16}return Wo}function cl(t,n,i){!function Fu(t,n,i){let u;"string"==typeof i?u=i.charCodeAt(0)||0:i.hasOwnProperty(Vn)&&(u=i[Vn]),null==u&&(u=i[Vn]=ku++);const f=u&Hh;n.data[t+(f>>xa)]|=1<<f}(t,n,i)}function uc(t,n,i){if(i&bn.Optional||void 0!==t)return t;en()}function ll(t,n,i,u){if(i&bn.Optional&&void 0===u&&(u=null),!(i&(bn.Self|bn.Host))){const f=t[Vi],g=jr(void 0);try{return f?f.get(n,u,i&bn.Optional):br(n,u,i&bn.Optional)}finally{jr(g)}}return uc(u,0,i)}function dc(t,n,i,u=bn.Default,f){if(null!==t){if(2048&n[Fn]&&!(u&bn.Self)){const C=function ap(t,n,i,u,f){let g=t,C=n;for(;null!==g&&null!==C&&2048&C[Fn]&&!(512&C[Fn]);){const A=Nc(g,C,i,u|bn.Self,yo);if(A!==yo)return A;let R=g.parent;if(!R){const G=C[Yt];if(G){const ie=G.get(i,yo,u);if(ie!==yo)return ie}R=Ad(C),C=C[Z]}g=R}return f}(t,n,i,u,yo);if(C!==yo)return C}const g=Nc(t,n,i,u,yo);if(g!==yo)return g}return ll(n,i,u,f)}function Nc(t,n,i,u,f){const g=function Fc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Vn)?t[Vn]:void 0;return"number"==typeof n?n>=0?n&Hh:ul:n}(i);if("function"==typeof g){if(!w(n,t,u))return u&bn.Host?uc(f,0,u):ll(n,i,u,f);try{let C;if(C=g(u),null!=C||u&bn.Optional)return C;en()}finally{mt()}}else if("number"==typeof g){let C=null,A=Gh(t,n),R=Wo,G=u&bn.Host?n[Q][Mi]:null;for((-1===A||u&bn.SkipSelf)&&(R=-1===A?Oc(t,n):n[A+8],R!==Wo&&op(u,!1)?(C=n[pn],A=xc(R),n=Mc(R,n)):A=-1);-1!==A;){const ie=n[pn];if(Lu(g,A,ie.data)){const Ce=e_(A,n,i,C,u,G);if(Ce!==yo)return Ce}R=n[A+8],R!==Wo&&op(u,n[pn].data[A+8]===G)&&Lu(g,A,n)?(C=ie,A=xc(R),n=Mc(R,n)):A=-1}}return f}function e_(t,n,i,u,f,g){const C=n[pn],A=C.data[t+8],ie=Po(A,C,i,null==u?Qi(A)&&Rc:u!=C&&0!=(3&A.type),f&bn.Host&&g===A);return null!==ie?kc(n,C,ie,A):yo}function Po(t,n,i,u,f){const g=t.providerIndexes,C=n.data,A=1048575&g,R=t.directiveStart,ie=g>>20,Ye=f?A+ie:t.directiveEnd;for(let ct=u?A:A+ie;ct<Ye;ct++){const Vt=C[ct];if(ct<R&&i===Vt||ct>=R&&Vt.type===i)return ct}if(f){const ct=C[R];if(ct&&Cs(ct)&&ct.type===i)return R}return null}function kc(t,n,i,u){let f=t[i];const g=n.data;if(function ra(t){return t instanceof _o}(f)){const C=f;C.resolving&&function Dt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ye(-200,`Circular dependency in DI detected for ${t}${i}`)}(function it(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():We(t)}(g[i]));const A=lc(C.canSeeViewProviders);C.resolving=!0;const G=C.injectImpl?jr(C.injectImpl):null;w(t,u,bn.Default);try{f=t[i]=C.factory(void 0,g,t,u),n.firstCreatePass&&i>=u.directiveStart&&function $h(t,n,i){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=n.type.prototype;if(u){const C=ti(n);(i.preOrderHooks??=[]).push(t,C),(i.preOrderCheckHooks??=[]).push(t,C)}f&&(i.preOrderHooks??=[]).push(0-t,f),g&&((i.preOrderHooks??=[]).push(t,g),(i.preOrderCheckHooks??=[]).push(t,g))}(i,g[i],n)}finally{null!==G&&jr(G),lc(A),C.resolving=!1,mt()}}return f}function Lu(t,n,i){return!!(i[n+(t>>xa)]&1<<t)}function op(t,n){return!(t&bn.Self||t&bn.Host&&n)}class Rs{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,u){return dc(this._tNode,this._lView,n,Dn(u),i)}}function ul(){return new Rs(Ps(),zt())}function Ha(t){return wi(()=>{const n=t.prototype.constructor,i=n[ln]||wd(n),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const g=f[ln]||wd(f);if(g&&g!==i)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function wd(t){return vt(t)?()=>{const n=wd(wt(t));return n&&n()}:eo(t)}function Ad(t){const n=t[pn],i=n.type;return 2===i?n.declTNode:1===i?t[Mi]:null}function Dd(t){return function zh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const u=i.length;let f=0;for(;f<u;){const g=i[f];if(Kr(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof i[f];)f++;else{if(g===n)return i[f+1];f+=2}}}return null}(Ps(),t)}const ia="__parameters__";function Ga(t,n,i){return wi(()=>{const u=function Sd(t){return function(...i){if(t){const u=t(...i);for(const f in u)this[f]=u[f]}}}(n);function f(...g){if(this instanceof f)return u.apply(this,g),this;const C=new f(...g);return A.annotation=C,A;function A(R,G,ie){const Ce=R.hasOwnProperty(ia)?R[ia]:Object.defineProperty(R,ia,{value:[]})[ia];for(;Ce.length<=ie;)Ce.push(null);return(Ce[ie]=Ce[ie]||[]).push(C),R}}return i&&(f.prototype=Object.create(i.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function oa(t,n){t.forEach(i=>Array.isArray(i)?oa(i,n):n(i))}function Rd(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Vc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function vo(t,n,i){let u=fc(t,n);return u>=0?t[1|u]=i:(u=~u,function hl(t,n,i,u){let f=t.length;if(f==n)t.push(i,u);else if(1===f)t.push(u,t[0]),t[0]=i;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=i,t[n+1]=u}}(t,u,n,i)),u}function Nd(t,n){const i=fc(t,n);if(i>=0)return t[1|i]}function fc(t,n){return function up(t,n,i){let u=0,f=t.length>>i;for(;f!==u;){const g=u+(f-u>>1),C=t[g<<i];if(n===C)return g<<i;C>n?f=g:u=g+1}return~(f<<i)}(t,n,1)}const ro=cn(Ga("Optional"),8),Vu=cn(Ga("SkipSelf"),4);function Yd(t){return 128==(128&t.flags)}var za=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(za||{});const Ny=/^>|^->|<!--|-->|--!>|<!-$/g,i_=/(<|>)/g,fl="\u200b$1\u200b";const Xd=new Map;let Og=0;const Qd="__ngContext__";function xo(t,n){ai(n)?(t[Qd]=n[gt],function Hu(t){Xd.set(t[gt],t)}(n)):t[Qd]=n}let af;function Jl(t,n){return af(t,n)}function eh(t){const n=t[Kn];return Nr(n)?n[Kn]:n}function u_(t){return yp(t[$i])}function kg(t){return yp(t[oi])}function yp(t){for(;null!==t&&!Nr(t);)t=t[oi];return t}function Hc(t,n,i,u,f){if(null!=u){let g,C=!1;Nr(u)?g=u:ai(u)&&(C=!0,u=u[si]);const A=Dr(u);0===t&&null!==i?null==f?Ip(n,i,A):Ku(n,i,A,f||null,!0):1===t&&null!==i?Ku(n,i,A,f||null,!0):2===t?function sh(t,n,i){const u=ih(t,n);u&&function Ug(t,n,i,u){t.removeChild(n,i,u)}(t,u,n,i)}(n,A,C):3===t&&n.destroyNode(A),null!=g&&function Gg(t,n,i,u,f){const g=i[Er];g!==Dr(i)&&Hc(n,t,u,g,f);for(let A=Ir;A<i.length;A++){const R=i[A];Gc(R[pn],R,t,n,u,g)}}(n,t,g,i,f)}}function Fg(t,n){return t.createComment(function nf(t){return t.replace(Ny,n=>n.replace(i_,fl))}(n))}function cf(t,n,i){return t.createElement(n,i)}function h_(t,n){const i=t[Xi],u=i.indexOf(n);Tu(n),i.splice(u,1)}function lf(t,n){if(t.length<=Ir)return;const i=Ir+n,u=t[i];if(u){const f=u[Ie];null!==f&&f!==t&&h_(f,u),n>0&&(t[i-1][oi]=u[oi]);const g=Vc(t,Ir+n);!function vp(t,n){Gc(t,n,n[Qn],2,null,null),n[si]=null,n[Mi]=null}(u[pn],u);const C=g[Qe];null!==C&&C.detachView(g[pn]),u[Kn]=null,u[oi]=null,u[Fn]&=-129}return u}function bp(t,n){if(!(256&n[Fn])){const i=n[Qn];n[Jn]&&tl(n[Jn]),n[Ar]&&tl(n[Ar]),i.destroyNode&&Gc(t,n,i,3,null,null),function Lg(t){let n=t[$i];if(!n)return Cp(t[pn],t);for(;n;){let i=null;if(ai(n))i=n[$i];else{const u=n[Ir];u&&(i=u)}if(!i){for(;n&&!n[oi]&&n!==t;)ai(n)&&Cp(n[pn],n),n=n[Kn];null===n&&(n=t),ai(n)&&Cp(n[pn],n),i=n&&n[oi]}n=i}}(n)}}function Cp(t,n){if(!(256&n[Fn])){n[Fn]&=-129,n[Fn]|=256,function Uy(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let u=0;u<i.length;u+=2){const f=n[i[u]];if(!(f instanceof _o)){const g=i[u+1];if(Array.isArray(g))for(let C=0;C<g.length;C+=2){const A=f[g[C]],R=g[C+1];Fi(4,A,R);try{R.call(A)}finally{Fi(5,A,R)}}else{Fi(4,f,g);try{g.call(f)}finally{Fi(5,f,g)}}}}}(t,n),function f_(t,n){const i=t.cleanup,u=n[us];if(null!==i)for(let g=0;g<i.length-1;g+=2)if("string"==typeof i[g]){const C=i[g+3];C>=0?u[C]():u[-C].unsubscribe(),g+=2}else i[g].call(u[i[g+1]]);null!==u&&(n[us]=null);const f=n[wn];if(null!==f){n[wn]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(t,n),1===n[pn].type&&n[Qn].destroy();const i=n[Ie];if(null!==i&&Nr(n[Kn])){i!==n[Kn]&&h_(i,n);const u=n[Qe];null!==u&&u.detachView(t)}!function ky(t){Xd.delete(t[gt])}(n)}}function Vg(t,n,i){return function p_(t,n,i){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return i[si];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:g}=t.data[u.directiveStart+f];if(g===ki.None||g===ki.Emulated)return null}return to(u,i)}}(t,n.parent,i)}function Ku(t,n,i,u,f){t.insertBefore(n,i,u,f)}function Ip(t,n,i){t.appendChild(n,i)}function g_(t,n,i,u,f){null!==u?Ku(t,n,i,u,f):Ip(t,n,i)}function ih(t,n){return t.parentNode(n)}let uf,gl,ml,xp,wp=function m_(t,n,i){return 40&t.type?to(t,i):null};function Bg(t,n,i,u){const f=Vg(t,u,n),g=n[Qn],A=function Tp(t,n,i){return wp(t,n,i)}(u.parent||n[Mi],u,n);if(null!=f)if(Array.isArray(i))for(let R=0;R<i.length;R++)g_(g,f,i[R],A,!1);else g_(g,f,i,A,!1);void 0!==uf&&uf(g,u,n,i,f)}function pl(t,n){if(null!==n){const i=n.type;if(3&i)return to(n,t);if(4&i)return df(-1,t[n.index]);if(8&i){const u=n.child;if(null!==u)return pl(t,u);{const f=t[n.index];return Nr(f)?df(-1,f):Dr(f)}}if(32&i)return Jl(n,t)()||Dr(t[n.index]);{const u=$g(t,n);return null!==u?Array.isArray(u)?u[0]:pl(eh(t[Q]),u):pl(t,n.next)}}return null}function $g(t,n){return null!==n?t[Q][Mi].projection[n.projection]:null}function df(t,n){const i=Ir+t+1;if(i<n.length){const u=n[i],f=u[pn].firstChild;if(null!==f)return pl(u,f)}return n[Er]}function hf(t,n,i,u,f,g,C){for(;null!=i;){const A=u[i.index],R=i.type;if(C&&0===n&&(A&&xo(Dr(A),u),i.flags|=2),32!=(32&i.flags))if(8&R)hf(t,n,i.child,u,f,g,!1),Hc(n,t,f,A,g);else if(32&R){const G=Jl(i,u);let ie;for(;ie=G();)Hc(n,t,f,ie,g);Hc(n,t,f,A,g)}else 16&R?Dp(t,n,u,i,f,g):Hc(n,t,f,A,g);i=C?i.projectionNext:i.next}}function Gc(t,n,i,u,f,g){hf(i,u,t.firstChild,n,f,g,!1)}function Dp(t,n,i,u,f,g){const C=i[Q],R=C[Mi].projection[u.projection];if(Array.isArray(R))for(let G=0;G<R.length;G++)Hc(n,t,f,R[G],g);else{let G=R;const ie=C[Kn];Yd(u)&&(G.flags|=128),hf(t,n,G,ie,f,g,!0)}}function zg(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Sp(t,n,i){const{mergedAttrs:u,classes:f,styles:g}=i;null!==u&&Br(t,n,u),null!==f&&zg(t,n,f),null!==g&&function v_(t,n,i){t.setAttribute(n,"style",i)}(t,n,g)}function Zl(t){return function Pp(){if(void 0===gl&&(gl=null,Yn.trustedTypes))try{gl=Yn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gl}()?.createHTML(t)||t}function Wg(t){ml=t}function ah(){if(void 0!==ml)return ml;if(typeof document<"u")return document;throw new ye(210,!1)}function ff(){if(void 0===xp&&(xp=null,Yn.trustedTypes))try{xp=Yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return xp}function b_(t){return ff()?.createHTML(t)||t}function C_(t){return ff()?.createScriptURL(t)||t}class _l{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Le})`}}class I_ extends _l{getTypeName(){return"HTML"}}class Kg extends _l{getTypeName(){return"Style"}}class qg extends _l{getTypeName(){return"Script"}}class pf extends _l{getTypeName(){return"URL"}}class Yg extends _l{getTypeName(){return"ResourceURL"}}function ca(t){return t instanceof _l?t.changingThisBreaksApplicationSecurity:t}function qu(t,n){const i=function gf(t){return t instanceof _l&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Le})`)}return i===n}function By(t){return new I_(t)}function Rp(t){return new Kg(t)}function Op(t){return new qg(t)}function mf(t){return new pf(t)}function $y(t){return new Yg(t)}class Hy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Zl(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Np{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=Zl(n),i}}const ch=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zc(t){return(t=String(t)).match(ch)?t:"unsafe:"+t}function Wa(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Fp(...t){const n={};for(const i of t)for(const u in i)i.hasOwnProperty(u)&&(n[u]=!0);return n}const yl=Wa("area,br,col,hr,img,wbr"),T_=Wa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w_=Wa("rp,rt"),_f=Fp(yl,Fp(T_,Wa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fp(w_,Wa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fp(w_,T_)),yf=Wa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vf=Fp(yf,Wa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ef=Wa("script,style,template");class vl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,u=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?u=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,u&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let f=this.checkClobberedElement(i,i.nextSibling);if(f){i=f;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!_f.hasOwnProperty(i))return this.sanitizedSomething=!0,!Ef.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const u=n.attributes;for(let f=0;f<u.length;f++){const g=u.item(f),C=g.name,A=C.toLowerCase();if(!vf.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let R=g.value;yf[A]&&(R=zc(R)),this.buf.push(" ",C,'="',lh(R),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();_f.hasOwnProperty(i)&&!yl.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(lh(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const P_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qg=/([^\#-~ |!])/g;function lh(t){return t.replace(/&/g,"&amp;").replace(P_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Qg,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wc;function ci(t,n){let i=null;try{Wc=Wc||function Yu(t){const n=new Np(t);return function kp(){try{return!!(new window.DOMParser).parseFromString(Zl(""),"text/html")}catch{return!1}}()?new Hy(n):n}(t);let u=n?String(n):"";i=Wc.getInertBodyElement(u);let f=5,g=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=g,g=i.innerHTML,i=Wc.getInertBodyElement(u)}while(u!==g);return Zl((new vl).sanitizeChildren(Jg(i)||i))}finally{if(i){const u=Jg(i)||i;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Jg(t){return"content"in t&&function zy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Xu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Xu||{});function Zg(t){const n=uh();return n?b_(n.sanitize(Xu.HTML,t)||""):qu(t,"HTML")?b_(ca(t)):ci(ah(),We(t))}function Lp(t){const n=uh();return n?n.sanitize(Xu.URL,t)||"":qu(t,"URL")?ca(t):zc(We(t))}function x_(t){const n=uh();if(n)return C_(n.sanitize(Xu.RESOURCE_URL,t)||"");if(qu(t,"ResourceURL"))return C_(ca(t));throw new ye(904,!1)}function M_(t,n,i){return function Xy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?x_:Lp}(n,i)(t)}function uh(){const t=zt();return t&&t[bs].sanitizer}const Qu=new hn("ENVIRONMENT_INITIALIZER"),em=new hn("INJECTOR",-1),tm=new hn("INJECTOR_DEF_TYPES");class Vp{get(n,i=$n){if(i===$n){const u=new Error(`NullInjectorError: No provider for ${pe(n)}!`);throw u.name="NullInjectorError",u}return i}}function dh(t){return{\u0275providers:t}}function li(...t){return{\u0275providers:nm(0,t),\u0275fromNgModule:!0}}function nm(t,...n){const i=[],u=new Set;let f;const g=C=>{i.push(C)};return oa(n,C=>{const A=C;tu(A,g,[],u)&&(f||=[],f.push(A))}),void 0!==f&&rm(f,g),i}function rm(t,n){for(let i=0;i<t.length;i++){const{ngModule:u,providers:f}=t[i];io(f,g=>{n(g,u)})}}function tu(t,n,i,u){if(!(t=wt(t)))return!1;let f=null,g=yr(t);const C=!g&&Pr(t);if(g||C){if(C&&!C.standalone)return!1;f=t}else{const R=t.ngModule;if(g=yr(R),!g)return!1;f=R}const A=u.has(f);if(C){if(A)return!1;if(u.add(f),C.dependencies){const R="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const G of R)tu(G,n,i,u)}}else{if(!g)return!1;{if(null!=g.imports&&!A){let G;u.add(f);try{oa(g.imports,ie=>{tu(ie,n,i,u)&&(G||=[],G.push(ie))})}finally{}void 0!==G&&rm(G,n)}if(!A){const G=eo(f)||(()=>new f);n({provide:f,useFactory:G,deps:or},f),n({provide:tm,useValue:f,multi:!0},f),n({provide:Qu,useValue:()=>At(f),multi:!0},f)}const R=g.providers;if(null!=R&&!A){const G=t;io(R,ie=>{n(ie,G)})}}}return f!==t&&void 0!==t.providers}function io(t,n){for(let i of t)St(i)&&(i=i.\u0275providers),Array.isArray(i)?io(i,n):n(i)}const Os=ee({provide:String,useValue:ee});function Ka(t){return null!==t&&"object"==typeof t&&Os in t}function nu(t){return"function"==typeof t}const bf=new hn("Set Injector scope."),Cf={},im={};let sm;function Up(){return void 0===sm&&(sm=new Vp),sm}class Ei{}class If extends Ei{get destroyed(){return this._destroyed}constructor(n,i,u,f){super(),this.parent=i,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lm(n,C=>this.processProvider(C)),this.records.set(em,hh(void 0,this)),f.has("environment")&&this.records.set(Ei,hh(void 0,this));const g=this.records.get(bf);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(tm.multi,or,bn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=ge(this),u=jr(void 0);try{return n()}finally{ge(i),jr(u)}}get(n,i=$n,u=bn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Mn))return n[Mn](this);u=Dn(u);const g=ge(this),C=jr(void 0);try{if(!(u&bn.SkipSelf)){let R=this.records.get(n);if(void 0===R){const G=function ev(t){return"function"==typeof t||"object"==typeof t&&t instanceof hn}(n)&&Hn(n);R=G&&this.injectableDefInScope(G)?hh(jp(n),Cf):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(u&bn.Self?Up():this.parent).get(n,i=u&bn.Optional&&i===$n?null:i)}catch(A){if("NullInjectorError"===A.name){if((A[Ue]=A[Ue]||[]).unshift(pe(n)),g)throw A;return function fr(t,n,i,u){const f=t[Ue];throw n[P]&&f.unshift(n[P]),t.message=function ks(t,n,i,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=pe(n);if(Array.isArray(n))f=n.map(pe).join(" -> ");else if("object"==typeof n){let g=[];for(let C in n)if(n.hasOwnProperty(C)){let A=n[C];g.push(C+":"+("string"==typeof A?JSON.stringify(A):pe(A)))}f=`{${g.join(", ")}}`}return`${i}${u?"("+u+")":""}[${f}]: ${t.replace(te,"\n  ")}`}("\n"+t.message,f,i,u),t.ngTokenPath=f,t[Ue]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{jr(C),ge(g)}}resolveInjectorInitializers(){const n=ge(this),i=jr(void 0);try{const f=this.get(Qu.multi,or,bn.Self);for(const g of f)g()}finally{ge(n),jr(i)}}toString(){const n=[],i=this.records;for(const u of i.keys())n.push(pe(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(n){let i=nu(n=wt(n))?n:wt(n&&n.provide);const u=function om(t){return Ka(t)?hh(void 0,t.useValue):hh(am(t),Cf)}(n);if(nu(n)||!0!==n.multi)this.records.get(i);else{let f=this.records.get(i);f||(f=hh(void 0,Cf,!0),f.factory=()=>vr(f.multi),this.records.set(i,f)),i=n,f.multi.push(n)}this.records.set(i,u)}hydrate(n,i){return i.value===Cf&&(i.value=im,i.value=i.factory()),"object"==typeof i.value&&i.value&&function N_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=wt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function jp(t){const n=Hn(t),i=null!==n?n.factory:eo(t);if(null!==i)return i;if(t instanceof hn)throw new ye(204,!1);if(t instanceof Function)return function vs(t){const n=t.length;if(n>0)throw function Uc(t,n){const i=[];for(let u=0;u<t;u++)i.push(n);return i}(n,"?"),new ye(204,!1);const i=function Ut(t){return t&&(t[on]||t[Zn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new ye(204,!1)}function am(t,n,i){let u;if(nu(t)){const f=wt(t);return eo(f)||jp(f)}if(Ka(t))u=()=>wt(t.useValue);else if(function O_(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...vr(t.deps||[]));else if(function R_(t){return!(!t||!t.useExisting)}(t))u=()=>At(wt(t.useExisting));else{const f=wt(t&&(t.useClass||t.provide));if(!function cm(t){return!!t.deps}(t))return eo(f)||jp(f);u=()=>new f(...vr(t.deps))}return u}function hh(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function lm(t,n){for(const i of t)Array.isArray(i)?lm(i,n):i&&St(i)?lm(i.\u0275providers,n):n(i)}const k_=new hn("AppId",{providedIn:"root",factory:()=>tv}),tv="ng",um=new hn("Platform Initializer"),dm=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Tf=new hn("AnimationModuleType"),nv=new hn("CSP nonce",{providedIn:"root",factory:()=>ah().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $p=(t,n,i)=>null;function El(t,n,i=!1){return $p(t,n,i)}class V_{}class zp{}class iv{resolveComponentFactory(n){throw function Wp(t){const n=Error(`No component factory found for ${pe(t)}.`);return n.ngComponent=t,n}(n)}}let cu=(()=>{class t{static{this.NULL=new iv}}return t})();function LE(){return Kp(Ps(),zt())}function Kp(t,n){return new yh(to(t,n))}let yh=(()=>{class t{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=LE}}return t})();function m0(t){return t instanceof yh?t.nativeElement:t}class qp{}let _0=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function y0(){const t=zt(),i=gi(Ps().index,t);return(ai(i)?i:t)[Qn]}()}}return t})(),Pf=(()=>{class t{static{this.\u0275prov=tn({token:t,providedIn:"root",factory:()=>null})}}return t})();class Yp{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Xp=new Yp("16.2.12"),xf={};function E0(t,n=null,i=null,u){const f=cv(t,n,i,u);return f.resolveInjectorInitializers(),f}function cv(t,n=null,i=null,u,f=new Set){const g=[i||or,li(t)];return u=u||("object"==typeof t?void 0:pe(t)),new If(g,n||Up(),u||null,f)}let Il=(()=>{class t{static{this.THROW_IF_NOT_FOUND=$n}static{this.NULL=new Vp}static create(i,u){if(Array.isArray(i))return E0({name:""},u,i,"");{const f=i.name??"";return E0({name:f},i.parent,i.providers,f)}}static{this.\u0275prov=tn({token:t,providedIn:"any",factory:()=>At(em)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function lu(t){return t.ngOriginalError}class mc{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&lu(n);for(;i&&lu(i);)i=lu(i);return i||null}}function wl(t){return n=>{setTimeout(t,void 0,n)}}const Al=class T0 extends a.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,u){let f=n,g=i||(()=>null),C=u;if(n&&"object"==typeof n){const R=n;f=R.next?.bind(R),g=R.error?.bind(R),C=R.complete?.bind(R)}this.__isAsync&&(g=wl(g),f&&(f=wl(f)),C&&(C=wl(C)));const A=super.subscribe({next:f,error:g,complete:C});return n instanceof le.yU&&n.add(A),A}};function lv(...t){}class Mo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Al(!1),this.onMicrotaskEmpty=new Al(!1),this.onStable=new Al(!1),this.onError=new Al(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&i,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function w0(){const t="function"==typeof Yn.requestAnimationFrame;let n=Yn[t?"requestAnimationFrame":"setTimeout"],i=Yn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const f=i[Zone.__symbol__("OriginalDelegate")];f&&(i=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function S0(t){const n=()=>{!function D0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Yn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,B_(t),t.isCheckStableRunning=!0,j_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),B_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,u,f,g,C,A)=>{if(function x0(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return i.invokeTask(f,g,C,A);try{return uv(t),i.invokeTask(f,g,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),vh(t)}},onInvoke:(i,u,f,g,C,A,R)=>{try{return uv(t),i.invoke(f,g,C,A,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),vh(t)}},onHasTask:(i,u,f,g)=>{i.hasTask(f,g),u===f&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,B_(t),j_(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(i,u,f,g)=>(i.handleError(f,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mo.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(Mo.isInAngularZone())throw new ye(909,!1)}run(n,i,u){return this._inner.run(n,i,u)}runTask(n,i,u,f){const g=this._inner,C=g.scheduleEventTask("NgZoneEvent: "+f,n,A0,lv,lv);try{return g.runTask(C,i,u)}finally{g.cancelTask(C)}}runGuarded(n,i,u){return this._inner.runGuarded(n,i,u)}runOutsideAngular(n){return this._outer.run(n)}}const A0={};function j_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function B_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function uv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vh(t){t._nesting--,j_(t)}class $_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Al,this.onMicrotaskEmpty=new Al,this.onStable=new Al,this.onError=new Al}run(n,i,u){return n.apply(i,u)}runGuarded(n,i,u){return n.apply(i,u)}runOutsideAngular(n){return n()}runTask(n,i,u,f){return n.apply(i,u)}}const P0=new hn("",{providedIn:"root",factory:dv});function dv(){const t=fn(Mo);let n=!0;const i=new s.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),u=new s.c(f=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{Mo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{Mo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),C.unsubscribe()}});return(0,be.h)(i,u.pipe((0,Ae.u)()))}function hv(t){return t.ownerDocument.defaultView}function nd(t){return t instanceof Function?t():t}let mv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=tn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Zp(t){for(;t;){t[Fn]|=64;const n=eh(t);if(jo(t)&&!n)return t;t=n}return null}const _v=new hn("",{providedIn:"root",factory:()=>!1});let Im=null;function V0(t,n){return t[n]??vv()}function Tm(t,n){const i=vv();i.producerNode?.length&&(t[n]=Im,i.lView=t,Im=wm())}const H_={...el,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Zp(t.lView)},lView:null};function wm(){return Object.create(H_)}function vv(){return Im??=wm(),Im}const Lr={};function Ev(t){ng(xr(),zt(),ar()+t,!1)}function ng(t,n,i,u){if(!u)if(3==(3&n[Fn])){const g=t.preOrderCheckHooks;null!==g&&zl(n,g,i)}else{const g=t.preOrderHooks;null!==g&&Cd(n,g,0,i)}kr(i)}function du(t,n=bn.Default){const i=zt();return null===i?At(t,n):dc(Ps(),i,wt(t),n)}function d(){throw new Error("invalid")}function r(t,n,i,u,f,g,C,A,R,G,ie){const Ce=n.blueprint.slice();return Ce[si]=f,Ce[Fn]=140|u,(null!==G||t&&2048&t[Fn])&&(Ce[Fn]|=2048),ea(Ce),Ce[Kn]=Ce[Z]=t,Ce[Rr]=i,Ce[bs]=C||t&&t[bs],Ce[Qn]=A||t&&t[Qn],Ce[Vi]=R||t&&t[Vi]||null,Ce[Mi]=g,Ce[gt]=function Ng(){return Og++}(),Ce[_n]=ie,Ce[Yt]=G,Ce[Q]=2==n.type?t[Q]:Ce,Ce}function o(t,n,i,u,f){let g=t.data[n];if(null===g)g=function h(t,n,i,u,f){const g=oc(),C=qt(),R=t.data[n]=function er(t,n,i,u,f,g){let C=n?n.injectorIndex:-1,A=0;return function Go(){return null!==qn.skipHydrationRootTNode}()&&(A|=128),{type:i,index:u,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?g:g&&g.parent,i,n,u,f);return null===t.firstChild&&(t.firstChild=R),null!==g&&(C?null==g.child&&null!==R.parent&&(g.child=R):null===g.next&&(g.next=R,R.prev=g)),R}(t,n,i,u,f),function il(){return qn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=i,g.value=u,g.attrs=f;const C=function Tc(){const t=qn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===C?-1:C.injectorIndex}return So(g,!0),g}function _(t,n,i,u){if(0===i)return-1;const f=n.length;for(let g=0;g<i;g++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function b(t,n,i,u,f){const g=V0(n,Jn),C=ar(),A=2&u;try{kr(-1),A&&n.length>kn&&ng(t,n,kn,!1),Fi(A?2:0,f);const G=A?g:null,ie=fa(G);try{null!==G&&(G.dirty=!1),i(u,f)}finally{Ta(G,ie)}}finally{A&&null===n[Jn]&&Tm(n,Jn),kr(C),Fi(A?3:1,f)}}function x(t,n,i){if(qs(n)){const u=Ui(null);try{const g=n.directiveEnd;for(let C=n.directiveStart;C<g;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,i[C],C)}}finally{Ui(u)}}}function L(t,n,i){wu()&&(function U0(t,n,i,u){const f=i.directiveStart,g=i.directiveEnd;Qi(i)&&function sg(t,n,i){const u=to(n,t),f=se(i);let C=16;i.signals?C=4096:i.onPush&&(C=64);const A=Of(t,r(t,f,null,C,u,n,null,t[bs].rendererFactory.createRenderer(u,i),null,null,null));t[n.index]=A}(n,i,t.data[f+i.componentOffset]),t.firstCreatePass||al(i,n),xo(u,n);const C=i.initialInputs;for(let A=f;A<g;A++){const R=t.data[A],G=kc(n,t,A,i);xo(G,n),null!==C&&$0(0,A-f,G,R,0,C),Cs(R)&&(gi(i.index,n)[Rr]=kc(n,t,A,i))}}(t,n,i,to(i,n)),64==(64&i.flags)&&Rf(t,n,i))}function K(t,n,i=to){const u=n.localNames;if(null!==u){let f=n.index+1;for(let g=0;g<u.length;g+=2){const C=u[g+1],A=-1===C?i(n,t):t[C];t[f++]=A}}}function se(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ve(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function ve(t,n,i,u,f,g,C,A,R,G,ie){const Ce=kn+u,Ye=Ce+f,ct=function Be(t,n){const i=[];for(let u=0;u<n;u++)i.push(u<t?null:Lr);return i}(Ce,Ye),Vt="function"==typeof G?G():G;return ct[pn]={type:t,blueprint:ct,template:i,queries:null,viewQuery:A,declTNode:n,data:ct.slice().fill(null,Ce),bindingStartIndex:Ce,expandoStartIndex:Ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:R,consts:Vt,incompleteFirstPass:!1,ssrId:ie}}let un=t=>null;function Or(t,n,i,u){for(let f in t)if(t.hasOwnProperty(f)){i=null===i?{}:i;const g=t[f];null===u?Ni(i,n,f,g):u.hasOwnProperty(f)&&Ni(i,n,u[f],g)}return i}function Ni(t,n,i,u){t.hasOwnProperty(i)?t[i].push(n,u):t[i]=[n,u]}function Oe(t,n,i,u,f,g,C,A){const R=to(n,i);let ie,G=n.inputs;!A&&null!=G&&(ie=G[u])?(Pm(t,i,ie,u,f),Qi(n)&&function ze(t,n){const i=gi(n,t);16&i[Fn]||(i[Fn]|=64)}(i,n.index)):3&n.type&&(u=function st(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=C?C(f,n.value||"",u):f,g.setProperty(R,u,f))}function bt(t,n,i,u){if(wu()){const f=null===u?null:{"":-1},g=function G_(t,n){const i=t.directiveRegistry;let u=null,f=null;if(i)for(let g=0;g<i.length;g++){const C=i[g];if(ms(n,C.selectors,!1))if(u||(u=[]),Cs(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),u.unshift(...A,C),Am(t,n,A.length)}else u.unshift(C),Am(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,u,f),u.push(C)}return null===u?null:[u,f]}(t,i);let C,A;null===g?C=A=null:[C,A]=g,null!==C&&He(t,n,i,C,f,A),f&&function j0(t,n,i){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const g=i[n[f+1]];if(null==g)throw new ye(-301,!1);u.push(n[f],g)}}}(i,u,f)}i.mergedAttrs=Wi(i.mergedAttrs,i.attrs)}function He(t,n,i,u,f,g){for(let G=0;G<u.length;G++)cl(al(i,n),t,u[G].type);!function la(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,u.length);for(let G=0;G<u.length;G++){const ie=u[G];ie.providersResolver&&ie.providersResolver(ie)}let C=!1,A=!1,R=_(t,n,u.length,null);for(let G=0;G<u.length;G++){const ie=u[G];i.mergedAttrs=Wi(i.mergedAttrs,ie.hostAttrs),B0(t,i,n,R,ie),rd(R,ie,f),null!==ie.contentQueries&&(i.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(i.flags|=64);const Ce=ie.type.prototype;!C&&(Ce.ngOnChanges||Ce.ngOnInit||Ce.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),C=!0),!A&&(Ce.ngOnChanges||Ce.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),A=!0),R++}!function ni(t,n,i){const f=n.directiveEnd,g=t.data,C=n.attrs,A=[];let R=null,G=null;for(let ie=n.directiveStart;ie<f;ie++){const Ce=g[ie],Ye=i?i.get(Ce):null,Vt=Ye?Ye.outputs:null;R=Or(Ce.inputs,ie,R,Ye?Ye.inputs:null),G=Or(Ce.outputs,ie,G,Vt);const dn=null===R||null===C||Vo(n)?null:Dm(R,ie,C);A.push(dn)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=R,n.outputs=G}(t,i,g)}function Rf(t,n,i){const u=i.directiveStart,f=i.directiveEnd,g=i.index,C=function Su(){return qn.lFrame.currentDirectiveIndex}();try{kr(g);for(let A=u;A<f;A++){const R=t.data[A],G=n[A];Pu(A),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&ig(R,G)}}finally{kr(-1),Pu(C)}}function ig(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Am(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function rd(t,n,i){if(i){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)i[n.exportAs[u]]=t;Cs(n)&&(i[""]=t)}}function B0(t,n,i,u,f){t.data[u]=f;const g=f.factory||(f.factory=eo(f.type)),C=new _o(g,Cs(f),du);t.blueprint[u]=C,i[u]=C,function hu(t,n,i,u,f){const g=f.hostBindings;if(g){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~n.index;(function rg(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(C)!=A&&C.push(A),C.push(i,u,g)}}(t,n,u,_(t,i,f.hostVars,Lr),f)}function Dl(t,n,i,u,f,g){const C=to(t,n);!function id(t,n,i,u,f,g,C){if(null==g)t.removeAttribute(n,f,i);else{const A=null==C?We(g):C(g,u||"",f);t.setAttribute(n,f,A,i)}}(n[Qn],C,g,t.value,i,u,f)}function $0(t,n,i,u,f,g){const C=g[n];if(null!==C)for(let A=0;A<C.length;)bv(u,i,C[A++],C[A++],C[A++])}function bv(t,n,i,u,f){const g=Ui(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(u)&&(f=C[u].call(n,f)),null!==t.setInput?t.setInput(n,f,i,u):n[u]=f}finally{Ui(g)}}function Dm(t,n,i){let u=null,f=0;for(;f<i.length;){const g=i[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===u&&(u=[]);const C=t[g];for(let A=0;A<C.length;A+=2)if(C[A]===n){u.push(g,C[A+1],i[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function og(t,n,i,u){return[t,!0,!1,n,null,0,u,i,null,null,null]}function Sm(t,n){const i=t.contentQueries;if(null!==i)for(let u=0;u<i.length;u+=2){const g=i[u+1];if(-1!==g){const C=t.data[g];D(i[u]),C.contentQueries(2,n[g],g)}}}function Of(t,n){return t[$i]?t[Ds][oi]=n:t[$i]=n,t[Ds]=n,n}function ag(t,n,i){D(0);const u=Ui(null);try{n(t,i)}finally{Ui(u)}}function z_(t){return t[us]||(t[us]=[])}function W_(t){return t.cleanup||(t.cleanup=[])}function K_(t,n){const i=t[Vi],u=i?i.get(mc,null):null;u&&u.handleError(n)}function Pm(t,n,i,u,f){for(let g=0;g<i.length;){const C=i[g++],A=i[g++];bv(t.data[C],n[C],u,A,f)}}function Kc(t,n,i){const u=sc(n,t);!function zu(t,n,i){t.setValue(n,i)}(t[Qn],u,i)}function Tv(t,n){const i=gi(n,t),u=i[pn];!function H0(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(u,i);const f=i[si];null!==f&&null===i[_n]&&(i[_n]=El(f,i[Vi])),cg(u,i,i[Rr])}function cg(t,n,i){N(n);try{const u=t.viewQuery;null!==u&&ag(1,u,i);const f=t.template;null!==f&&b(t,n,f,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Sm(t,n),t.staticViewQueries&&ag(2,t.viewQuery,i);const g=t.components;null!==g&&function q_(t,n){for(let i=0;i<n.length;i++)Tv(t,n[i])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[Fn]&=-5,ft()}}let xm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,u,f){const g=typeof Zone>"u"?null:Zone.current,C=function kt(t,n,i){const u=Object.create(zr);i&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=n;const f=C=>{u.cleanupFn=C};return u.ref={notify:()=>Is(u),run:()=>{if(u.dirty=!1,u.hasRun&&!wa(u))return;u.hasRun=!0;const C=fa(u);try{u.cleanupFn(),u.cleanupFn=jn,u.fn(f)}finally{Ta(u,C)}},cleanup:()=>u.cleanupFn()},u.ref}(i,G=>{this.all.has(G)&&this.queue.set(G,g)},f);let A;this.all.add(C),C.notify();const R=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=u?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[i,u]of this.queue)this.queue.delete(i),u?u.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=tn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Ro(t,n,i){let u=i?t.styles:null,f=i?t.classes:null,g=0;if(null!==n)for(let C=0;C<n.length;C++){const A=n[C];"number"==typeof A?g=A:1==g?f=rt(f,A):2==g&&(u=rt(u,A+": "+n[++C]+";"))}i?t.styles=u:t.stylesWithoutHost=u,i?t.classes=f:t.classesWithoutHost=f}function sd(t,n,i,u,f=!1){for(;null!==i;){const g=n[i.index];null!==g&&u.push(Dr(g)),Nr(g)&&Y_(g,u);const C=i.type;if(8&C)sd(t,n,i.child,u);else if(32&C){const A=Jl(i,n);let R;for(;R=A();)u.push(R)}else if(16&C){const A=$g(n,i);if(Array.isArray(A))u.push(...A);else{const R=eh(n[Q]);sd(R[pn],R,A,u,!0)}}i=f?i.projectionNext:i.next}return u}function Y_(t,n){for(let i=Ir;i<t.length;i++){const u=t[i],f=u[pn].firstChild;null!==f&&sd(u[pn],u,f,n)}t[Er]!==t[si]&&n.push(t[Er])}function lg(t,n,i,u=!0){const f=n[bs],g=f.rendererFactory,C=f.afterRenderEventManager;g.begin?.(),C?.begin();try{X_(t,n,t.template,i)}catch(R){throw u&&K_(n,R),R}finally{g.end?.(),f.effectManager?.flush(),C?.end()}}function X_(t,n,i,u){const f=n[Fn];if(256!=(256&f)){n[bs].effectManager?.flush(),N(n);try{ea(n),function xs(t){return qn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&b(t,n,i,2,u);const C=3==(3&f);if(C){const G=t.preOrderCheckHooks;null!==G&&zl(n,G,null)}else{const G=t.preOrderHooks;null!==G&&Cd(n,G,0,null),ga(n,0)}if(function J_(t){for(let n=u_(t);null!==n;n=kg(n)){if(!n[$r])continue;const i=n[Xi];for(let u=0;u<i.length;u++){Da(i[u])}}}(n),Q_(n,2),null!==t.contentQueries&&Sm(t,n),C){const G=t.contentCheckHooks;null!==G&&zl(n,G)}else{const G=t.contentHooks;null!==G&&Cd(n,G,1),ga(n,1)}!function e(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const u=V0(n,Ar);try{for(let f=0;f<i.length;f++){const g=i[f];if(g<0)kr(~g);else{const C=g,A=i[++f],R=i[++f];wg(A,C),u.dirty=!1;const G=fa(u);try{R(2,n[C])}finally{Ta(u,G)}}}}finally{null===n[Ar]&&Tm(n,Ar),kr(-1)}}(t,n);const A=t.components;null!==A&&Mm(n,A,0);const R=t.viewQuery;if(null!==R&&ag(2,R,u),C){const G=t.viewCheckHooks;null!==G&&zl(n,G)}else{const G=t.viewHooks;null!==G&&Cd(n,G,2),ga(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Fn]&=-73,Tu(n)}finally{ft()}}}function Q_(t,n){for(let i=u_(t);null!==i;i=kg(i))for(let u=Ir;u<i.length;u++)wv(i[u],n)}function G0(t,n,i){wv(gi(n,t),i)}function wv(t,n){if(!function $a(t){return 128==(128&t[Fn])}(t))return;const i=t[pn],u=t[Fn];if(80&u&&0===n||1024&u||2===n)X_(i,t,i.template,t[Rr]);else if(t[Zr]>0){Q_(t,1);const f=i.components;null!==f&&Mm(t,f,1)}}function Mm(t,n,i){for(let u=0;u<n.length;u++)G0(t,n[u],i)}class Nf{get rootNodes(){const n=this._lView,i=n[pn];return sd(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rr]}set context(n){this._lView[Rr]=n}get destroyed(){return 256==(256&this._lView[Fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Kn];if(Nr(n)){const i=n[8],u=i?i.indexOf(this):-1;u>-1&&(lf(n,u),Vc(i,u))}this._attachedToViewContainer=!1}bp(this._lView[pn],this._lView)}onDestroy(n){!function bd(t,n){if(256==(256&t[Fn]))throw new ye(911,!1);null===t[wn]&&(t[wn]=[]),t[wn].push(n)}(this._lView,n)}markForCheck(){Zp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fn]&=-129}reattach(){this._lView[Fn]|=128}detectChanges(){lg(this._lView[pn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ep(t,n){Gc(t,n,n[Qn],2,null,null)}(this._lView[pn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=n}}class Av extends Nf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;lg(n[pn],n,n[Rr],!1)}checkNoChanges(){}get context(){return null}}class Eh extends cu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Pr(n);return new fu(i,this.ngModule)}}function dg(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class od{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,u){u=Dn(u);const f=this.injector.get(n,xf,u);return f!==xf||i===xf?f:this.parentInjector.get(n,i,u)}}class fu extends zp{get inputs(){const n=this.componentDef,i=n.inputTransforms,u=dg(n.inputs);if(null!==i)for(const f of u)i.hasOwnProperty(f.propName)&&(f.transform=i[f.propName]);return u}get outputs(){return dg(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function di(t){return t.map(Uo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,u,f){let g=(f=f||this.ngModule)instanceof Ei?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const C=g?new od(n,g):n,A=C.get(qp,null);if(null===A)throw new ye(407,!1);const Ce={rendererFactory:A,sanitizer:C.get(Pf,null),effectManager:C.get(xm,null),afterRenderEventManager:C.get(mv,null)},Ye=A.createRenderer(null,this.componentDef),ct=this.componentDef.selectors[0][0]||"div",Vt=u?function _t(t,n,i,u){const g=u.get(_v,!1)||i===ki.ShadowDom,C=t.selectRootElement(n,g);return function $t(t){un(t)}(C),C}(Ye,u,this.componentDef.encapsulation,C):cf(Ye,ct,function Rm(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ct)),lr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Qt=null;null!==Vt&&(Qt=El(Vt,C,!0));const Ur=ve(0,null,null,1,0,null,null,null,null,null,null),Ci=r(null,Ur,null,lr,null,null,Ce,Ye,C,null,Qt);let ps,Zc;N(Ci);try{const np=this.componentDef;let Oy,eC=null;np.findHostDirectiveDefs?(Oy=[],eC=new Map,np.findHostDirectiveDefs(np,Oy,eC),Oy.push(np)):Oy=[np];const n1=function Z_(t,n){const i=t[pn],u=kn;return t[u]=n,o(i,u,2,"#host",null)}(Ci,Vt),r1=function hg(t,n,i,u,f,g,C){const A=f[pn];!function fg(t,n,i,u){for(const f of t)n.mergedAttrs=Wi(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(Ro(n,n.mergedAttrs,!0),null!==i&&Sp(u,i,n))}(u,t,n,C);let R=null;null!==n&&(R=El(n,f[Vi]));const G=g.rendererFactory.createRenderer(n,i);let ie=16;i.signals?ie=4096:i.onPush&&(ie=64);const Ce=r(f,se(i),null,ie,f[t.index],t,g,G,null,null,R);return A.firstCreatePass&&Am(A,t,u.length-1),Of(f,Ce),f[t.index]=Ce}(n1,Vt,np,Oy,Ci,Ce,Ye);Zc=Ed(Ur,kn),Vt&&function ey(t,n,i,u){if(u)Br(t,i,["ng-version",Xp.full]);else{const{attrs:f,classes:g}=function Fa(t){const n=[],i=[];let u=1,f=2;for(;u<t.length;){let g=t[u];if("string"==typeof g)2===f?""!==g&&n.push(g,t[++u]):8===f&&i.push(g);else{if(!ii(f))break;f=g}u++}return{attrs:n,classes:i}}(n.selectors[0]);f&&Br(t,i,f),g&&g.length>0&&zg(t,i,g.join(" "))}}(Ye,np,Vt,u),void 0!==i&&function Ff(t,n,i){const u=t.projection=[];for(let f=0;f<n.length;f++){const g=i[f];u.push(null!=g?Array.from(g):null)}}(Zc,this.ngContentSelectors,i),ps=function da(t,n,i,u,f,g){const C=Ps(),A=f[pn],R=to(C,f);He(A,f,C,i,null,u);for(let ie=0;ie<i.length;ie++)xo(kc(f,A,C.directiveStart+ie,C),f);Rf(A,f,C),R&&xo(R,f);const G=kc(f,A,C.directiveStart+C.componentOffset,C);if(t[Rr]=f[Rr]=G,null!==g)for(const ie of g)ie(G,n);return x(A,C,t),G}(r1,np,Oy,eC,Ci,[Lf]),cg(Ur,Ci,null)}finally{ft()}return new kf(this.componentType,ps,Kp(Zc,Ci),Ci,Zc)}}class kf extends V_{constructor(n,i,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Av(f),this.componentType=n}setInput(n,i){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const g=this._rootLView;Pm(g[pn],g,f,n,i),this.previousInputValues.set(n,i),Zp(gi(this._tNode.index,g))}}get injector(){return new Rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Lf(){const t=Ps();na(zt()[pn],t)}function Om(t){let n=function ty(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const u=[t];for(;n;){let f;if(Cs(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ye(903,!1);f=n.\u0275dir}if(f){if(i){u.push(f);const C=t;C.inputs=Nm(t.inputs),C.inputTransforms=Nm(t.inputTransforms),C.declaredInputs=Nm(t.declaredInputs),C.outputs=Nm(t.outputs);const A=f.hostBindings;A&&Dv(t,A);const R=f.viewQuery,G=f.contentQueries;if(R&&z0(t,R),G&&km(t,G),oe(t.inputs,f.inputs),oe(t.declaredInputs,f.declaredInputs),oe(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),oe(C.inputTransforms,f.inputTransforms)),Cs(f)&&f.data.animation){const ie=t.data;ie.animation=(ie.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let C=0;C<g.length;C++){const A=g[C];A&&A.ngInherit&&A(t),A===Om&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Vf(t){let n=0,i=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=n+=f.hostVars,f.hostAttrs=Wi(f.hostAttrs,i=Wi(i,f.hostAttrs))}}(u)}function Nm(t){return t===Ai?{}:t===or?[]:t}function z0(t,n){const i=t.viewQuery;t.viewQuery=i?(u,f)=>{n(u,f),i(u,f)}:n}function km(t,n){const i=t.contentQueries;t.contentQueries=i?(u,f,g)=>{n(u,f,g),i(u,f,g)}:n}function Dv(t,n){const i=t.hostBindings;t.hostBindings=i?(u,f)=>{n(u,f),i(u,f)}:n}function Sv(t){const n=t.inputConfig,i={};for(const u in n)if(n.hasOwnProperty(u)){const f=n[u];Array.isArray(f)&&f[2]&&(i[u]=f[2])}t.inputTransforms=i}function pg(t){return!!Si(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Si(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _c(t,n,i){return t[n]=i}function bh(t,n){return t[n]}function Oo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function pu(t,n,i,u){const f=Oo(t,n,i);return Oo(t,n+1,u)||f}function Ch(t,n,i,u,f){const g=pu(t,n,i,u);return Oo(t,n+2,f)||g}function _a(t,n,i,u,f,g){const C=pu(t,n,i,u);return pu(t,n+2,f,g)||C}function gg(t,n,i,u){const f=zt();return Oo(f,Sa(),n)&&(xr(),Dl(mi(),f,t,n,i,u)),gg}function Ih(t,n,i,u){return Oo(t,Sa(),i)?n+We(i)+u:Lr}function Th(t,n,i,u,f,g){const A=pu(t,function mo(){return qn.lFrame.bindingIndex}(),i,f);return Bn(2),A?n+We(i)+u+We(f)+g:Lr}function _u(t,n,i,u,f,g,C,A){const R=zt(),G=xr(),ie=t+kn,Ce=G.firstCreatePass?function Wf(t,n,i,u,f,g,C,A,R){const G=n.consts,ie=o(n,t,4,C||null,_s(G,A));bt(n,i,ie,_s(G,R)),na(n,ie);const Ce=ie.tView=ve(2,ie,u,f,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,G,null);return null!==n.queries&&(n.queries.template(n,ie),Ce.queries=n.queries.embeddedTView(ie)),ie}(ie,G,R,n,i,u,f,g,C):G.data[ie];So(Ce,!1);const Ye=Rh(G,R,Ce,t);cc()&&Bg(G,R,Ye,Ce),xo(Ye,R),Of(R,R[ie]=og(Ye,R,Ye,Ce)),Ys(Ce)&&L(G,R,Ce),null!=C&&K(R,Ce,A)}let Rh=function yu(t,n,i,u){return pa(!0),n[Qn].createComment("")};function Kf(t){return Cc(function Du(){return qn.lFrame.contextLView}(),kn+t)}function fd(t,n,i){const u=zt();return Oo(u,Sa(),n)&&Oe(xr(),mi(),u,t,n,u[Qn],i,!1),fd}function qf(t,n,i,u,f){const C=f?"class":"style";Pm(t,i,n.inputs[C],C,u)}function Oh(t,n,i,u){const f=zt(),g=xr(),C=kn+t,A=f[Qn],R=g.firstCreatePass?function pd(t,n,i,u,f,g){const C=n.consts,R=o(n,t,2,u,_s(C,f));return bt(n,i,R,_s(C,g)),null!==R.attrs&&Ro(R,R.attrs,!1),null!==R.mergedAttrs&&Ro(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(C,g,f,n,i,u):g.data[C],G=Xc(g,f,R,A,n,t);f[C]=G;const ie=Ys(R);return So(R,!0),Sp(A,G,R),32!=(32&R.flags)&&cc()&&Bg(g,f,G,R),0===function ta(){return qn.lFrame.elementDepthCount}()&&xo(G,f),function Bl(){qn.lFrame.elementDepthCount++}(),ie&&(L(g,f,R),x(g,R,f)),null!==u&&K(f,R),Oh}function gd(){let t=Ps();qt()?rl():(t=t.parent,So(t,!1));const n=t;(function Au(t){return qn.skipHydrationRootTNode===t})(n)&&function Hl(){qn.skipHydrationRootTNode=null}(),function jh(){qn.lFrame.elementDepthCount--}();const i=xr();return i.firstCreatePass&&(na(i,t),qs(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ru(t){return 0!=(8&t.flags)}(n)&&qf(i,n,zt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ou(t){return 0!=(16&t.flags)}(n)&&qf(i,n,zt(),n.stylesWithoutHost,!1),gd}function Yf(t,n,i,u){return Oh(t,n,i,u),gd(),Yf}let Xc=(t,n,i,u,f,g)=>(pa(!0),cf(u,f,function xu(){return qn.lFrame.currentNamespace}()));function Xf(t,n,i){const u=zt(),f=xr(),g=t+kn,C=f.firstCreatePass?function Nh(t,n,i,u,f){const g=n.consts,C=_s(g,u),A=o(n,t,8,"ng-container",C);return null!==C&&Ro(A,C,!0),bt(n,i,A,_s(g,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(g,f,u,n,i):f.data[g];So(C,!0);const A=bo(f,u,C,t);return u[g]=A,cc()&&Bg(f,u,A,C),xo(A,u),Ys(C)&&(L(f,u,C),x(f,C,u)),null!=i&&K(u,C),Xf}function md(){let t=Ps();const n=xr();return qt()?rl():(t=t.parent,So(t,!1)),n.firstCreatePass&&(na(n,t),qs(t)&&n.queries.elementEnd(t)),md}function _d(t,n,i){return Xf(t,n,i),md(),_d}let bo=(t,n,i,u)=>(pa(!0),Fg(n[Qn],""));function Pl(){return zt()}function E(t){return!!t&&"function"==typeof t.then}function B(t){return!!t&&"function"==typeof t.subscribe}function q(t,n,i,u){const f=zt(),g=xr(),C=Ps();return function xt(t,n,i,u,f,g,C){const A=Ys(u),G=t.firstCreatePass&&W_(t),ie=n[Rr],Ce=z_(n);let Ye=!0;if(3&u.type||C){const dn=to(u,n),Nn=C?C(dn):dn,lr=Ce.length,Qt=C?Ci=>C(Dr(Ci[u.index])):u.index;let Ur=null;if(!C&&A&&(Ur=function ht(t,n,i,u){const f=t.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const C=f[g];if(C===i&&f[g+1]===u){const A=n[us],R=f[g+2];return A.length>R?A[R]:null}"string"==typeof C&&(g+=2)}return null}(t,n,f,u.index)),null!==Ur)(Ur.__ngLastListenerFn__||Ur).__ngNextListenerFn__=g,Ur.__ngLastListenerFn__=g,Ye=!1;else{g=Zi(u,n,ie,g,!1);const Ci=i.listen(Nn,f,g);Ce.push(g,Ci),G&&G.push(f,Qt,lr,lr+1)}}else g=Zi(u,n,ie,g,!1);const ct=u.outputs;let Vt;if(Ye&&null!==ct&&(Vt=ct[f])){const dn=Vt.length;if(dn)for(let Nn=0;Nn<dn;Nn+=2){const ps=n[Vt[Nn]][Vt[Nn+1]].subscribe(g),Zc=Ce.length;Ce.push(g,ps),G&&G.push(f,u.index,Zc,-(Zc+1))}}}(g,f,f[Qn],C,t,n,u),q}function Tn(t,n,i,u){try{return Fi(6,n,i),!1!==i(u)}catch(f){return K_(t,f),!1}finally{Fi(7,n,i)}}function Zi(t,n,i,u,f){return function g(C){if(C===Function)return u;Zp(t.componentOffset>-1?gi(t.index,n):n);let R=Tn(n,i,u,C),G=g.__ngNextListenerFn__;for(;G;)R=Tn(n,i,G,C)&&R,G=G.__ngNextListenerFn__;return f&&!1===R&&C.preventDefault(),R}}function ko(t=1){return function yn(t){return(qn.lFrame.contextLView=function hr(t,n){for(;t>0;)n=n[Z],t--;return n}(t,qn.lFrame.contextLView))[Rr]}(t)}function Eu(t,n,i){return va(t,"",n,"",i),Eu}function va(t,n,i,u,f){const g=zt(),C=Ih(g,n,i,u);return C!==Lr&&Oe(xr(),mi(),g,t,C,g[Qn],f,!1),va}function yy(t,n){return t<<17|n<<2}function kh(t){return t>>17&32767}function Uv(t){return 2|t}function Zf(t){return(131068&t)>>2}function vd(t,n){return-131069&t|n<<2}function zm(t){return 1|t}function X0(t,n,i,u,f){const g=t[i+1],C=null===n;let A=u?kh(g):Zf(g),R=!1;for(;0!==A&&(!1===R||C);){const ie=t[A+1];KE(t[A],n)&&(R=!0,t[A+1]=u?zm(ie):Uv(ie)),A=u?kh(ie):Zf(ie)}R&&(t[i+1]=u?Uv(g):zm(g))}function KE(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&fc(t,n)>=0}const oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Q0(t){return t.substring(oo.key,oo.keyEnd)}function Wm(t,n){const i=oo.textEnd;return i===n?-1:(n=oo.keyEnd=function Gv(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,oo.key=n,i),Km(t,n,i))}function Km(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Ey(t,n,i){return xl(t,n,i,!1),Ey}function tE(t,n){return xl(t,n,null,!0),tE}function nE(t){!function Ml(t,n,i,u){const f=xr(),g=Bn(2);f.firstUpdatePass&&rE(f,null,g,u);const C=zt();if(i!==Lr&&Oo(C,g,i)){const A=f.data[ar()];if(aE(A,u)&&!Wv(f,g)){let R=u?A.classesWithoutHost:A.stylesWithoutHost;null!==R&&(i=rt(R,i||"")),qf(f,A,C,i,u)}else!function eb(t,n,i,u,f,g,C,A){f===Lr&&(f=or);let R=0,G=0,ie=0<f.length?f[0]:null,Ce=0<g.length?g[0]:null;for(;null!==ie||null!==Ce;){const Ye=R<f.length?f[R+1]:void 0,ct=G<g.length?g[G+1]:void 0;let dn,Vt=null;ie===Ce?(R+=2,G+=2,Ye!==ct&&(Vt=Ce,dn=ct)):null===Ce||null!==ie&&ie<Ce?(R+=2,Vt=ie):(G+=2,Vt=Ce,dn=ct),null!==Vt&&Qc(t,n,i,u,Vt,dn,C,A),ie=R<f.length?f[R]:null,Ce=G<g.length?g[G]:null}}(f,A,C,C[Qn],C[g+1],C[g+1]=function ZE(t,n,i){if(null==i||""===i)return or;const u=[],f=ca(i);if(Array.isArray(f))for(let g=0;g<f.length;g++)t(u,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&t(u,g,f[g]);else"string"==typeof f&&n(u,f);return u}(t,n,i),u,g)}}(oE,Cu,t,!0)}function Cu(t,n){for(let i=function $v(t){return function J0(t){oo.key=0,oo.keyEnd=0,oo.value=0,oo.valueEnd=0,oo.textEnd=t.length}(t),Wm(t,Km(t,0,oo.textEnd))}(n);i>=0;i=Wm(n,i))vo(t,Q0(n),!0)}function xl(t,n,i,u){const f=zt(),g=xr(),C=Bn(2);g.firstUpdatePass&&rE(g,t,C,u),n!==Lr&&Oo(f,C,n)&&Qc(g,g.data[ar()],f,f[Qn],t,f[C+1]=function Yv(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=pe(ca(t)))),t}(n,i),u,C)}function Wv(t,n){return n>=t.expandoStartIndex}function rE(t,n,i,u){const f=t.data;if(null===f[i+1]){const g=f[ar()],C=Wv(t,i);aE(g,u)&&null===n&&!C&&(n=!1),n=function QE(t,n,i,u){const f=function Pa(t){const n=qn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let g=u?n.residualClasses:n.residualStyles;if(null===f)0===(u?n.classBindings:n.styleBindings)&&(i=qm(i=qv(null,t,n,i,u),n.attrs,u),g=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(i=qv(f,t,n,i,u),null===g){let R=function iE(t,n,i){const u=i?n.classBindings:n.styleBindings;if(0!==Zf(u))return t[kh(u)]}(t,n,u);void 0!==R&&Array.isArray(R)&&(R=qv(null,t,n,R[1],u),R=qm(R,n.attrs,u),function JE(t,n,i,u){t[kh(i?n.classBindings:n.styleBindings)]=u}(t,n,u,R))}else g=function Kv(t,n,i){let u;const f=n.directiveEnd;for(let g=1+n.directiveStylingLast;g<f;g++)u=qm(u,t[g].hostAttrs,i);return qm(u,n.attrs,i)}(t,n,u)}return void 0!==g&&(u?n.residualClasses=g:n.residualStyles=g),i}(f,g,n,u),function zE(t,n,i,u,f,g){let C=g?n.classBindings:n.styleBindings,A=kh(C),R=Zf(C);t[u]=i;let ie,G=!1;if(Array.isArray(i)?(ie=i[1],(null===ie||fc(i,ie)>0)&&(G=!0)):ie=i,f)if(0!==R){const Ye=kh(t[A+1]);t[u+1]=yy(Ye,A),0!==Ye&&(t[Ye+1]=vd(t[Ye+1],u)),t[A+1]=function GE(t,n){return 131071&t|n<<17}(t[A+1],u)}else t[u+1]=yy(A,0),0!==A&&(t[A+1]=vd(t[A+1],u)),A=u;else t[u+1]=yy(R,0),0===A?A=u:t[R+1]=vd(t[R+1],u),R=u;G&&(t[u+1]=Uv(t[u+1])),X0(t,ie,u,!0),X0(t,ie,u,!1),function WE(t,n,i,u,f){const g=f?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof n&&fc(g,n)>=0&&(i[u+1]=zm(i[u+1]))}(n,ie,t,u,g),C=yy(A,R),g?n.classBindings=C:n.styleBindings=C}(f,g,n,i,C,u)}}function qv(t,n,i,u,f){let g=null;const C=i.directiveEnd;let A=i.directiveStylingLast;for(-1===A?A=i.directiveStart:A++;A<C&&(g=n[A],u=qm(u,g.hostAttrs,f),g!==t);)A++;return null!==t&&(i.directiveStylingLast=A),u}function qm(t,n,i){const u=i?1:2;let f=-1;if(null!==n)for(let g=0;g<n.length;g++){const C=n[g];"number"==typeof C?f=C:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vo(t,C,!!i||n[++g]))}return void 0===t?null:t}function oE(t,n,i){const u=String(n);""!==u&&!u.includes(" ")&&vo(t,u,i)}function Qc(t,n,i,u,f,g,C,A){if(!(3&n.type))return;const R=t.data,G=R[A+1],ie=function jv(t){return 1==(1&t)}(G)?by(R,n,i,f,Zf(G),C):void 0;Fh(ie)||(Fh(g)||function HE(t){return 2==(2&t)}(G)&&(g=by(R,null,i,f,A,C)),function y_(t,n,i,u,f){if(n)f?t.addClass(i,u):t.removeClass(i,u);else{let g=-1===u.indexOf("-")?void 0:za.DashCase;null==f?t.removeStyle(i,u,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=za.Important),t.setStyle(i,u,f,g))}}(u,C,sc(ar(),i),f,g))}function by(t,n,i,u,f,g){const C=null===n;let A;for(;f>0;){const R=t[f],G=Array.isArray(R),ie=G?R[1]:R,Ce=null===ie;let Ye=i[f+1];Ye===Lr&&(Ye=Ce?or:void 0);let ct=Ce?Nd(Ye,u):ie===u?Ye:void 0;if(G&&!Fh(ct)&&(ct=Nd(R,u)),Fh(ct)&&(A=ct,C))return A;const Vt=t[f+1];f=C?kh(Vt):Zf(Vt)}if(null!==n){let R=g?n.residualClasses:n.residualStyles;null!=R&&(A=Nd(R,u))}return A}function Fh(t){return void 0!==t}function aE(t,n){return 0!=(t.flags&(n?8:16))}function cE(t,n=""){const i=zt(),u=xr(),f=t+kn,g=u.firstCreatePass?o(u,f,1,n,null):u.data[f],C=Cy(u,i,g,n,t);i[f]=C,cc()&&Bg(u,i,C,g),So(g,!1)}let Cy=(t,n,i,u,f)=>(pa(!0),function nh(t,n){return t.createText(n)}(n[Qn],u));function vg(t){return Iy("",t,""),vg}function Iy(t,n,i){const u=zt(),f=Ih(u,t,n,i);return f!==Lr&&Kc(u,ar(),f),Iy}function Ty(t,n,i,u,f){const g=zt(),C=Th(g,t,n,i,u,f);return C!==Lr&&Kc(g,ar(),C),Ty}const Eg=void 0;var gb=["en",[["a","p"],["AM","PM"],Eg],[["AM","PM"],Eg,Eg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eg,"{1} 'at' {0}",Eg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function n0(t){const i=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===u?1:5}];let bg={};function r0(t){const n=function V(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=c(n);if(i)return i;const u=n.split("-")[0];if(i=c(u),i)return i;if("en"===u)return gb;throw new ye(701,!1)}function l(t){return r0(t)[I.PluralCase]}function c(t){return t in bg||(bg[t]=Yn.ng&&Yn.ng.common&&Yn.ng.common.locales&&Yn.ng.common.locales[t]),bg[t]}var I=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(I||{});const _e="en-US";let En=_e;function bb(t,n,i,u,f){if(t=wt(t),Array.isArray(t))for(let g=0;g<t.length;g++)bb(t[g],n,i,u,f);else{const g=xr(),C=zt(),A=Ps();let R=nu(t)?t:wt(t.provide);const G=am(t),ie=1048575&A.providerIndexes,Ce=A.directiveStart,Ye=A.providerIndexes>>20;if(nu(t)||!t.multi){const ct=new _o(G,f,du),Vt=Ib(R,n,f?ie:ie+Ye,Ce);-1===Vt?(cl(al(A,C),g,R),Cb(g,t,n.length),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),i.push(ct),C.push(ct)):(i[Vt]=ct,C[Vt]=ct)}else{const ct=Ib(R,n,ie+Ye,Ce),Vt=Ib(R,n,ie,ie+Ye),Nn=Vt>=0&&i[Vt];if(f&&!Nn||!f&&!(ct>=0&&i[ct])){cl(al(A,C),g,R);const lr=function NT(t,n,i,u,f){const g=new _o(t,i,du);return g.multi=[],g.index=n,g.componentProviders=0,mC(g,f,u&&!i),g}(f?OT:RT,i.length,f,u,G);!f&&Nn&&(i[Vt].providerFactory=lr),Cb(g,t,n.length,0),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),i.push(lr),C.push(lr)}else Cb(g,t,ct>-1?ct:Vt,mC(i[f?Vt:ct],G,!f&&u));!f&&u&&Nn&&i[Vt].componentProviders++}}}function Cb(t,n,i,u){const f=nu(n),g=function Zy(t){return!!t.useClass}(n);if(f||g){const R=(g?wt(n.useClass):n).prototype.ngOnDestroy;if(R){const G=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const ie=G.indexOf(i);-1===ie?G.push(i,[u,R]):G[ie+1].push(u,R)}else G.push(i,R)}}}function mC(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Ib(t,n,i,u){for(let f=i;f<u;f++)if(n[f]===t)return f;return-1}function RT(t,n,i,u){return Tb(this.multi,[])}function OT(t,n,i,u){const f=this.multi;let g;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=kc(i,i[pn],this.providerFactory.index,u);g=A.slice(0,C),Tb(f,g);for(let R=C;R<A.length;R++)g.push(A[R])}else g=[],Tb(f,g);return g}function Tb(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function _C(t,n=[]){return i=>{i.providersResolver=(u,f)=>function MT(t,n,i){const u=xr();if(u.firstCreatePass){const f=Cs(t);bb(i,u.data,u.blueprint,f,!0),bb(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class Qm{}class yC{}function kT(t,n){return new wb(t,n??null,[])}class wb extends Qm{constructor(n,i,u){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eh(this);const f=fi(n);this._bootstrapComponents=nd(f.bootstrap),this._r3Injector=cv(n,i,[{provide:Qm,useValue:this},{provide:cu,useValue:this.componentFactoryResolver},...u],pe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Ab extends yC{constructor(n){super(),this.moduleType=n}create(n){return new wb(this.moduleType,n,[])}}class vC extends Qm{constructor(n){super(),this.componentFactoryResolver=new Eh(this),this.instance=null;const i=new If([...n.providers,{provide:Qm,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],n.parent||Up(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function EC(t,n,i=null){return new vC({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let LT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const u=nm(0,i.type),f=u.length>0?EC([u],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,f)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=tn({token:t,providedIn:"environment",factory:()=>new t(At(Ei))})}}return t})();function bC(t){t.getStandaloneInjector=n=>n.get(LT).getOrCreateStandaloneInjector(t)}function SC(t,n,i){const u=ys()+t,f=zt();return f[u]===Lr?_c(f,u,i?n.call(i):n()):bh(f,u)}function PC(t,n,i,u){return OC(zt(),ys(),t,n,i,u)}function xC(t,n,i,u,f){return NC(zt(),ys(),t,n,i,u,f)}function MC(t,n,i,u,f,g,C,A,R){const G=ys()+t,ie=zt(),Ce=_a(ie,G,i,u,f,g);return pu(ie,G+4,C,A)||Ce?_c(ie,G+6,R?n.call(R,i,u,f,g,C,A):n(i,u,f,g,C,A)):bh(ie,G+6)}function RC(t,n,i,u,f,g,C,A,R,G){const ie=ys()+t,Ce=zt();let Ye=_a(Ce,ie,i,u,f,g);return Ch(Ce,ie+4,C,A,R)||Ye?_c(Ce,ie+7,G?n.call(G,i,u,f,g,C,A,R):n(i,u,f,g,C,A,R)):bh(Ce,ie+7)}function l0(t,n){const i=t[n];return i===Lr?void 0:i}function OC(t,n,i,u,f,g){const C=n+i;return Oo(t,C,f)?_c(t,C+1,g?u.call(g,f):u(f)):l0(t,C+1)}function NC(t,n,i,u,f,g,C){const A=n+i;return pu(t,A,f,g)?_c(t,A+2,C?u.call(C,f,g):u(f,g)):l0(t,A+2)}function VC(t,n){const i=xr();let u;const f=t+kn;i.firstCreatePass?(u=function QT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const u=n[i];if(t===u.name)return u}}(n,i.pipeRegistry),i.data[f]=u,u.onDestroy&&(i.destroyHooks??=[]).push(f,u.onDestroy)):u=i.data[f];const g=u.factory||(u.factory=eo(u.type)),A=jr(du);try{const R=lc(!1),G=g();return lc(R),function Oa(t,n,i,u){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=u}(i,zt(),f,G),G}finally{jr(A)}}function UC(t,n,i){const u=t+kn,f=zt(),g=Cc(f,u);return u0(f,u)?OC(f,ys(),n,g.transform,i,g):g.transform(i)}function jC(t,n,i,u){const f=t+kn,g=zt(),C=Cc(g,f);return u0(g,f)?NC(g,ys(),n,C.transform,i,u,C):C.transform(i,u)}function BC(t,n,i,u,f){const g=t+kn,C=zt(),A=Cc(C,g);return u0(C,g)?function kC(t,n,i,u,f,g,C,A){const R=n+i;return Ch(t,R,f,g,C)?_c(t,R+3,A?u.call(A,f,g,C):u(f,g,C)):l0(t,R+3)}(C,ys(),n,A.transform,i,u,f,A):A.transform(i,u,f)}function u0(t,n){return t[pn].data[n].pure}function ew(){return this._results[Symbol.iterator]()}class Sb{get changes(){return this._changes||(this._changes=new Al)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Sb.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=ew)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const u=this;u.dirty=!1;const f=function sa(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Md(t,n,i){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],g=n[u];if(i&&(f=i(f),g=i(g)),g!==f)return!1}return!0}(u._results,f,i))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nw(t,n,i,u=!0){const f=n[pn];if(function Vy(t,n,i,u){const f=Ir+u,g=i.length;u>0&&(i[f-1][oi]=n),u<g-Ir?(n[oi]=i[f],Rd(i,Ir+u,n)):(i.push(n),n[oi]=null),n[Kn]=i;const C=n[Ie];null!==C&&i!==C&&function d_(t,n){const i=t[Xi];n[Q]!==n[Kn][Kn][Q]&&(t[$r]=!0),null===i?t[Xi]=[n]:i.push(n)}(C,n);const A=n[Qe];null!==A&&A.insertView(t),n[Fn]|=128}(f,n,t,i),u){const g=df(i,t),C=n[Qn],A=ih(C,t[Er]);null!==A&&function Wu(t,n,i,u,f,g){u[si]=f,u[Mi]=n,Gc(t,u,i,1,f,g)}(f,t[Mi],C,n,A,g)}}let d0=(()=>{class t{static{this.__NG_ELEMENT_ID__=sw}}return t})();const rw=d0,iw=class extends rw{constructor(n,i,u){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,u){const f=function tw(t,n,i,u){const f=n.tView,A=r(t,f,i,4096&t[Fn]?4096:16,null,n,null,null,null,u?.injector??null,u?.hydrationInfo??null);A[Ie]=t[n.index];const G=t[Qe];return null!==G&&(A[Qe]=G.createEmbeddedView(f)),cg(f,A,i),A}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:u});return new Nf(f)}};function sw(){return AE(Ps(),zt())}function AE(t,n){return 4&t.type?new iw(n,t,Kp(t,n)):null}let SE=(()=>{class t{static{this.__NG_ELEMENT_ID__=dw}}return t})();function dw(){return qC(Ps(),zt())}const hw=SE,WC=class extends hw{constructor(n,i,u){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=u}get element(){return Kp(this._hostTNode,this._hostLView)}get injector(){return new Rs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Oc(this._hostTNode,this._hostLView);if(Nu(n)){const i=Mc(n,this._hostLView),u=xc(n);return new Rs(i[pn].data[u+8],i)}return new Rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=KC(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Ir}createEmbeddedView(n,i,u){let f,g;"number"==typeof u?f=u:null!=u&&(f=u.index,g=u.injector);const A=n.createEmbeddedViewImpl(i||{},g,null);return this.insertImpl(A,f,false),A}createComponent(n,i,u,f,g){const C=n&&!function hc(t){return"function"==typeof t}(n);let A;if(C)A=i;else{const dn=i||{};A=dn.index,u=dn.injector,f=dn.projectableNodes,g=dn.environmentInjector||dn.ngModuleRef}const R=C?n:new fu(Pr(n)),G=u||this.parentInjector;if(!g&&null==R.ngModule){const Nn=(C?G:this.parentInjector).get(Ei,null);Nn&&(g=Nn)}Pr(R.componentType??{});const ct=R.create(G,f,null,g);return this.insertImpl(ct.hostView,A,false),ct}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,u){const f=n._lView;if(function Hs(t){return Nr(t[Kn])}(f)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const G=f[Kn],ie=new WC(G,G[Mi],G[Kn]);ie.detach(ie.indexOf(n))}}const C=this._adjustIndex(i),A=this._lContainer;return nw(A,f,C,!u),n.attachToViewContainerRef(),Rd(Pb(A),C,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=KC(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),u=lf(this._lContainer,i);u&&(Vc(Pb(this._lContainer),i),bp(u[pn],u))}detach(n){const i=this._adjustIndex(n,-1),u=lf(this._lContainer,i);return u&&null!=Vc(Pb(this._lContainer),i)?new Nf(u):null}_adjustIndex(n,i=0){return n??this.length+i}};function KC(t){return t[8]}function Pb(t){return t[8]||(t[8]=[])}function qC(t,n){let i;const u=n[t.index];return Nr(u)?i=u:(i=og(u,n,null,t),n[t.index]=i,Of(n,i)),YC(i,n,t,u),new WC(i,t,n)}let YC=function XC(t,n,i,u){if(t[Er])return;let f;f=8&i.type?Dr(u):function fw(t,n){const i=t[Qn],u=i.createComment(""),f=to(n,t);return Ku(i,ih(i,f),u,function jg(t,n){return t.nextSibling(n)}(i,f),!1),u}(n,i),t[Er]=f};class xb{constructor(n){this.queryList=n,this.matches=null}clone(){return new xb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const u=null!==n.contentQueries?n.contentQueries[0]:i.length,f=[];for(let g=0;g<u;g++){const C=i.getByIndex(g);f.push(this.queries[C.indexInDeclarationView].clone())}return new Mb(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==sI(n,i).matches&&this.queries[i].setDirty()}}class QC{constructor(n,i,u=null){this.predicate=n,this.flags=i,this.read=u}}class Rb{constructor(n=[]){this.queries=n}elementStart(n,i){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let u=0;u<this.length;u++){const f=null!==i?i.length:0,g=this.getByIndex(u).embeddedTView(n,f);g&&(g.indexInDeclarationView=u,null!==i?i.push(g):i=[g])}return null!==i?new Rb(i):null}template(n,i){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ob{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Ob(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==i;)u=u.parent;return i===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(n,i,mw(i,g)),this.matchTNodeWithReadOption(n,i,Po(i,n,g,!1,!1))}else u===d0?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Po(i,n,u,!1,!1))}matchTNodeWithReadOption(n,i,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===yh||f===SE||f===d0&&4&i.type)this.addMatch(i.index,-2);else{const g=Po(i,n,f,!1,!1);null!==g&&this.addMatch(i.index,g)}else this.addMatch(i.index,u)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function mw(t,n){const i=t.localNames;if(null!==i)for(let u=0;u<i.length;u+=2)if(i[u]===n)return i[u+1];return null}function yw(t,n,i,u){return-1===i?function _w(t,n){return 11&t.type?Kp(t,n):4&t.type?AE(t,n):null}(n,t):-2===i?function vw(t,n,i){return i===yh?Kp(n,t):i===d0?AE(n,t):i===SE?qC(n,t):void 0}(t,n,u):kc(t,t[pn],i,n)}function JC(t,n,i,u){const f=n[Qe].queries[u];if(null===f.matches){const g=t.data,C=i.matches,A=[];for(let R=0;R<C.length;R+=2){const G=C[R];A.push(G<0?null:yw(n,g[G],C[R+1],i.metadata.read))}f.matches=A}return f.matches}function Nb(t,n,i,u){const f=t.queries.getByIndex(i),g=f.matches;if(null!==g){const C=JC(t,n,f,i);for(let A=0;A<g.length;A+=2){const R=g[A];if(R>0)u.push(C[A/2]);else{const G=g[A+1],ie=n[-R];for(let Ce=Ir;Ce<ie.length;Ce++){const Ye=ie[Ce];Ye[Ie]===Ye[Kn]&&Nb(Ye[pn],Ye,G,u)}if(null!==ie[Xi]){const Ce=ie[Xi];for(let Ye=0;Ye<Ce.length;Ye++){const ct=Ce[Ye];Nb(ct[pn],ct,G,u)}}}}}return u}function ZC(t){const n=zt(),i=xr(),u=Ac();D(u+1);const f=sI(i,u);if(t.dirty&&function Ba(t){return 4==(4&t[Fn])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const g=f.crossesNgTemplate?Nb(i,n,u,[]):JC(i,n,f,u);t.reset(g,m0),t.notifyOnChanges()}return!0}return!1}function eI(t,n,i){const u=xr();u.firstCreatePass&&(iI(u,new QC(t,n,i),-1),2==(2&n)&&(u.staticViewQueries=!0)),rI(u,zt(),n)}function tI(t,n,i,u){const f=xr();if(f.firstCreatePass){const g=Ps();iI(f,new QC(n,i,u),g.index),function bw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(f,t),2==(2&i)&&(f.staticContentQueries=!0)}rI(f,zt(),i)}function nI(){return function Ew(t,n){return t[Qe].queries[n].queryList}(zt(),Ac())}function rI(t,n,i){const u=new Sb(4==(4&i));(function cr(t,n,i,u){const f=z_(n);f.push(i),t.firstCreatePass&&W_(t).push(u,f.length-1)})(t,n,u,u.destroy),null===n[Qe]&&(n[Qe]=new Mb),n[Qe].queries.push(new xb(u))}function iI(t,n,i){null===t.queries&&(t.queries=new Rb),t.queries.track(new Ob(n,i))}function sI(t,n){return t.queries.getByIndex(n)}function oI(t,n){return AE(t,n)}function kb(t){return!!fi(t)}const II=new hn("Application Initializer");let jb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,u)=>{this.resolve=i,this.reject=u}),this.appInits=fn(II,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const f of this.appInits){const g=f();if(E(g))i.push(g);else if(B(g)){const C=new Promise((A,R)=>{g.subscribe({complete:A,error:R})});i.push(C)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{u()}).catch(f=>{this.reject(f)}),0===i.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),TI=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const xE=new hn("LocaleId",{providedIn:"root",factory:()=>fn(xE,bn.Optional|bn.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||_e}()}),Hw=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let wI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class zw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Ww=(()=>{class t{compileModuleSync(i){return new Ab(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const u=this.compileModuleSync(i),g=nd(fi(i).declarations).reduce((C,A)=>{const R=Pr(A);return R&&C.push(new fu(R)),C},[]);return new zw(u,g)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const PI=new hn(""),xI=new hn("");let Hb,pA=(()=>{class t{constructor(i,u,f){this._ngZone=i,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hb||(function gA(t){Hb=t}(f),f.addToWindow(u)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(i)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,u,f){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),i(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:i,timeoutId:g,updateCb:f})}whenStable(i,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,u,f){return[]}static{this.\u0275fac=function(u){return new(u||t)(At(Mo),At(MI),At(xI))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})(),MI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,u){this._applications.set(i,u)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,u=!0){return Hb?.findTestabilityInTree(this,i,u)??null}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Tg=null;const RI=new hn("AllowMultipleToken"),Gb=new hn("PlatformDestroyListeners"),zb=new hn("appBootstrapListener");class yA{constructor(n,i){this.name=n,this.token=i}}function kI(t,n,i=[]){const u=`Platform: ${n}`,f=new hn(u);return(g=[])=>{let C=Wb();if(!C||C.injector.get(RI,!1)){const A=[...i,...g,{provide:f,useValue:!0}];t?t(A):function vA(t){if(Tg&&!Tg.get(RI,!1))throw new ye(400,!1);(function OI(){!function Aa(t){$o=t}(()=>{throw new ye(600,!1)})})(),Tg=t;const n=t.get(LI);(function NI(t){t.get(um,null)?.forEach(i=>i())})(t)}(function FI(t=[],n){return Il.create({name:n,providers:[{provide:bf,useValue:"platform"},{provide:Gb,useValue:new Set([()=>Tg=null])},...t]})}(A,u))}return function bA(t){const n=Wb();if(!n)throw new ye(401,!1);return n}()}}function Wb(){return Tg?.get(LI)??null}let LI=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,u){const f=function CA(t="zone.js",n){return"noop"===t?new $_:"zone.js"===t?new Mo(n):t}(u?.ngZone,function VI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const g=function FT(t,n,i){return new wb(t,n,i)}(i.moduleType,this.injector,function HI(t){return[{provide:Mo,useFactory:t},{provide:Qu,multi:!0,useFactory:()=>{const n=fn(TA,{optional:!0});return()=>n.initialize()}},{provide:$I,useFactory:IA},{provide:P0,useFactory:dv}]}(()=>f)),C=g.injector.get(mc,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{C.handleError(R)}});g.onDestroy(()=>{RE(this._modules,g),A.unsubscribe()})}),function UI(t,n,i){try{const u=i();return E(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(C,f,()=>{const A=g.injector.get(jb);return A.runInitializers(),A.donePromise.then(()=>(function Xt(t){tt(t,"Expected localeId to be defined"),"string"==typeof t&&(En=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(xE,_e)||_e),this._moduleDoBootstrap(g),g))})})}bootstrapModule(i,u=[]){const f=jI({},u);return function mA(t,n,i){const u=new Ab(i);return Promise.resolve(u)}(0,0,i).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(i){const u=i.injector.get(Ry);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!i.instance.ngDoBootstrap)throw new ye(-403,!1);i.instance.ngDoBootstrap(u)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const i=this._injector.get(Gb,null);i&&(i.forEach(u=>u()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||t)(At(Il))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function jI(t,n){return Array.isArray(n)?n.reduce(jI,t):{...t,...n}}let Ry=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fn($I),this.zoneIsStable=fn(P0),this.componentTypes=[],this.components=[],this.isStable=fn(wI).hasPendingTasks.pipe((0,Ne.n)(i=>i?(0,De.of)(!1):this.zoneIsStable),(0,Re.F)(),(0,Ae.u)()),this._injector=fn(Ei)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,u){const f=i instanceof zp;if(!this._injector.get(jb).done)throw!f&&As(i),new ye(405,!1);let C;C=f?i:this._injector.get(cu).resolveComponentFactory(i),this.componentTypes.push(C.componentType);const A=function _A(t){return t.isBoundToModule}(C)?void 0:this._injector.get(Qm),G=C.create(Il.NULL,[],u||C.selector,A),ie=G.location.nativeElement,Ce=G.injector.get(PI,null);return Ce?.registerApplication(ie),G.onDestroy(()=>{this.detachView(G.hostView),RE(this.components,G),Ce?.unregisterApplication(ie)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const u=i;this._views.push(u),u.attachToAppRef(this)}detachView(i){const u=i;RE(this._views,u),u.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const u=this._injector.get(zb,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>RE(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ye(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function RE(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const $I=new hn("",{providedIn:"root",factory:()=>fn(mc).handleError.bind(void 0)});function IA(){const t=fn(Mo),n=fn(mc);return i=>t.runOutsideAngular(()=>n.handleError(i))}let TA=(()=>{class t{constructor(){this.zone=fn(Mo),this.applicationRef=fn(Ry)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function AA(){return!1}let DA=(()=>{class t{static{this.__NG_ELEMENT_ID__=SA}}return t})();function SA(t){return function PA(t,n,i){if(Qi(t)&&!i){const u=gi(t.index,n);return new Nf(u,u)}return 47&t.type?new Nf(n[Q],n):null}(Ps(),zt(),16==(16&t))}class qI{constructor(){}supports(n){return pg(n)}create(n){return new NA(n)}}const OA=(t,n)=>n;class NA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||OA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,u=this._removalsHead,f=0,g=null;for(;i||u;){const C=!u||i&&i.currentIndex<XI(u,f,g)?i:u,A=XI(C,f,g),R=C.currentIndex;if(C===u)f--,u=u._nextRemoved;else if(i=i._next,null==C.previousIndex)f++;else{g||(g=[]);const G=A-f,ie=R-f;if(G!=ie){for(let Ye=0;Ye<G;Ye++){const ct=Ye<g.length?g[Ye]:g[Ye]=0,Vt=ct+Ye;ie<=Vt&&Vt<G&&(g[Ye]=ct+1)}g[C.previousIndex]=ie-G}}A!==R&&n(C,A,R)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!pg(n))throw new ye(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,g,C,i=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)g=n[A],C=this._trackByFn(A,g),null!==i&&Object.is(i.trackById,C)?(u&&(i=this._verifyReinsertion(i,g,C,A)),Object.is(i.item,g)||this._addIdentityChange(i,g)):(i=this._mismatch(i,g,C,A),u=!0),i=i._next}else f=0,function Uf(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let u;for(;!(u=i.next()).done;)n(u.value)}}(n,A=>{C=this._trackByFn(f,A),null!==i&&Object.is(i.trackById,C)?(u&&(i=this._verifyReinsertion(i,A,C,f)),Object.is(i.item,A)||this._addIdentityChange(i,A)):(i=this._mismatch(i,A,C,f),u=!0),i=i._next,f++}),this.length=f;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,u,f){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,g,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,g,f)):n=this._addAfter(new kA(i,u),g,f),n}_verifyReinsertion(n,i,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?n=this._reinsertAfter(g,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,g=n._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(n,i,u),this._addToMoves(n,u),n}_moveAfter(n,i,u){return this._unlink(n),this._insertAfter(n,i,u),this._addToMoves(n,u),n}_addAfter(n,i,u){return this._insertAfter(n,i,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,u){const f=null===i?this._itHead:i._next;return n._next=f,n._prev=i,null===f?this._itTail=n:f._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new YI),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,u=n._next;return null===i?this._itHead=u:i._next=u,null===u?this._itTail=i:u._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class kA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===i||i<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const i=n._prevDup,u=n._nextDup;return null===i?this._head=u:i._nextDup=u,null===u?this._tail=i:u._prevDup=i,null===this._head}}class YI{constructor(){this.map=new Map}put(n){const i=n.trackById;let u=this.map.get(i);u||(u=new FA,this.map.set(i,u)),u.add(n)}get(n,i){const f=this.map.get(n);return f?f.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function XI(t,n,i){const u=t.previousIndex;if(null===u)return u;let f=0;return i&&u<i.length&&(f=i[u]),u+n+f}class QI{constructor(){}supports(n){return n instanceof Map||Si(n)}create(){return new LA}}class LA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Si(n)))throw new ye(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(i&&i.key===f)this._maybeAddToChanges(i,u),this._appendAfter=i,i=i._next;else{const g=this._getOrCreateRecordForKey(f,u);i=this._insertBeforeOrAppend(i,g)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let u=i;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const u=n._prev;return i._next=n,i._prev=u,n._prev=i,u&&(u._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,i);const g=f._prev,C=f._next;return g&&(g._next=C),C&&(C._prev=g),f._next=null,f._prev=null,f}const u=new VA(n);return this._records.set(n,u),u.currentValue=i,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(u=>i(n[u],u))}}class VA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JI(){return new Qb([new qI])}let Qb=(()=>{class t{static{this.\u0275prov=tn({token:t,providedIn:"root",factory:JI})}constructor(i){this.factories=i}static create(i,u){if(null!=u){const f=u.factories.slice();i=i.concat(f)}return new t(i)}static extend(i){return{provide:t,useFactory:u=>t.create(i,u||JI()),deps:[[t,new Vu,new ro]]}}find(i){const u=this.factories.find(f=>f.supports(i));if(null!=u)return u;throw new ye(901,!1)}}return t})();function ZI(){return new Jb([new QI])}let Jb=(()=>{class t{static{this.\u0275prov=tn({token:t,providedIn:"root",factory:ZI})}constructor(i){this.factories=i}static create(i,u){if(u){const f=u.factories.slice();i=i.concat(f)}return new t(i)}static extend(i){return{provide:t,useFactory:u=>t.create(i,u||ZI()),deps:[[t,new Vu,new ro]]}}find(i){const u=this.factories.find(f=>f.supports(i));if(u)return u;throw new ye(901,!1)}}return t})();const BA=kI(null,"core",[]);let $A=(()=>{class t{constructor(i){}static{this.\u0275fac=function(u){return new(u||t)(At(Ry))}}static{this.\u0275mod=Jr({type:t})}static{this.\u0275inj=Ft({})}}return t})();function ZA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function t1(t){const n=Pr(t);if(!n)return null;const i=new fu(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(nn,qe,U)=>{U.d(qe,{DS:()=>jt,X8:()=>Kt,$z:()=>en,UB:()=>ur,yy:()=>Ot,ZP:()=>we,AU:()=>mn,CP:()=>Dt,gF:()=>Mt}),U(2438);var le=U(177),s=U(7705),be=U(5407),me=U(9253),De=U(1413),Ae=U(7673),Ne=U(1985),Re=U(8455),ee=U(7786),oe=U(941),pe=U(5558),rt=U(6354),$e=U(6129);class Tt extends De.B{constructor(ke=1/0,Ze=1/0,Jt=$e.U){super(),this._bufferSize=ke,this._windowTime=Ze,this._timestampProvider=Jt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ze===1/0,this._bufferSize=Math.max(1,ke),this._windowTime=Math.max(1,Ze)}next(ke){const{isStopped:Ze,_buffer:Jt,_infiniteTimeWindow:je,_timestampProvider:Te,_windowTime:Ee}=this;Ze||(Jt.push(ke),!je&&Jt.push(Te.now()+Ee)),this._trimBuffer(),super.next(ke)}_subscribe(ke){this._throwIfClosed(),this._trimBuffer();const Ze=this._innerSubscribe(ke),{_infiniteTimeWindow:Jt,_buffer:je}=this,Te=je.slice();for(let Ee=0;Ee<Te.length&&!ke.closed;Ee+=Jt?1:2)ke.next(Te[Ee]);return this._checkFinalizedStatuses(ke),Ze}_trimBuffer(){const{_bufferSize:ke,_timestampProvider:Ze,_buffer:Jt,_infiniteTimeWindow:je}=this,Te=(je?1:2)*ke;if(ke<1/0&&Te<Jt.length&&Jt.splice(0,Jt.length-Te),!je){const Ee=Ze.now();let Fe=0;for(let tt=1;tt<Jt.length&&Jt[tt]<=Ee;tt+=2)Fe=tt;Fe&&Jt.splice(0,Fe+1)}}}var wt=U(7647);function vt(lt,ke,Ze){let Jt,je=!1;return lt&&"object"==typeof lt?({bufferSize:Jt=1/0,windowTime:ke=1/0,refCount:je=!1,scheduler:Ze}=lt):Jt=lt??1/0,(0,wt.u)({connector:()=>new Tt(Jt,ke,Ze),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:je})}var St=U(1594),Pt=U(8071);function Le(lt,ke){return(0,Pt.T)(ke)?(0,pe.n)(()=>lt,ke):(0,pe.n)(()=>lt)}var ye=U(6745),Je=U(5964),We=U(7935);const Dt=new s.nKC("angularfire2.auth.use-emulator"),Ot=new s.nKC("angularfire2.auth.settings"),we=new s.nKC("angularfire2.auth.tenant-id"),en=new s.nKC("angularfire2.auth.langugage-code"),mn=new s.nKC("angularfire2.auth.use-device-language"),ur=new s.nKC("angularfire.auth.persistence"),Mt=(lt,ke,Ze,Jt,je,Te,Ee,Fe)=>(0,me.BM)(`${lt.name}.auth`,"AngularFireAuth",lt.name,()=>{const tt=ke.runOutsideAngular(()=>lt.auth());if(Ze&&tt.useEmulator(...Ze),Jt&&(tt.tenantId=Jt),tt.languageCode=je,Te&&tt.useDeviceLanguage(),Ee)for(const[Xe,Nt]of Object.entries(Ee))tt.settings[Xe]=Nt;return Fe&&tt.setPersistence(Fe),tt},[Ze,Jt,je,Te,Ee,Fe]);let jt=(()=>{class lt{authState;idToken;user;idTokenResult;credential;constructor(Ze,Jt,je,Te,Ee,Fe,tt,Xe,Nt,Cn,rr,tn){const Ln=new De.B,Ft=(0,Ae.of)(void 0).pipe((0,oe.Q)(Ee.outsideAngular),(0,pe.n)(()=>Te.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,2438)))),(0,rt.T)(()=>(0,me.iB)(Ze,Te,Jt)),(0,rt.T)(Hn=>Mt(Hn,Te,Fe,Xe,Nt,Cn,tt,rr)),vt({bufferSize:1,refCount:!1}));if((0,le.Vy)(je))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ae.of)(null);else{Ft.pipe((0,St.$)()).subscribe();const Hn=Ft.pipe((0,pe.n)(Ut=>Ut.getRedirectResult().then(yr=>yr,()=>null)),be.U0,vt({bufferSize:1,refCount:!1})),On=Ft.pipe((0,pe.n)(Ut=>new Ne.c(yr=>({unsubscribe:Te.runOutsideAngular(()=>Ut.onAuthStateChanged(on=>yr.next(on),on=>yr.error(on),()=>yr.complete()))})))),Gt=Ft.pipe((0,pe.n)(Ut=>new Ne.c(yr=>({unsubscribe:Te.runOutsideAngular(()=>Ut.onIdTokenChanged(on=>yr.next(on),on=>yr.error(on),()=>yr.complete()))}))));this.authState=Hn.pipe(Le(On),(0,ye._)(Ee.outsideAngular),(0,oe.Q)(Ee.insideAngular)),this.user=Hn.pipe(Le(Gt),(0,ye._)(Ee.outsideAngular),(0,oe.Q)(Ee.insideAngular)),this.idToken=this.user.pipe((0,pe.n)(Ut=>Ut?(0,Re.H)(Ut.getIdToken()):(0,Ae.of)(null))),this.idTokenResult=this.user.pipe((0,pe.n)(Ut=>Ut?(0,Re.H)(Ut.getIdTokenResult()):(0,Ae.of)(null))),this.credential=(0,ee.h)(Hn,Ln,this.authState.pipe((0,Je.p)(Ut=>!Ut))).pipe((0,rt.T)(Ut=>Ut?.user?Ut:null),(0,ye._)(Ee.outsideAngular),(0,oe.Q)(Ee.insideAngular))}return(0,me.Gt)(this,Ft,Te,{spy:{apply:(Hn,On,Gt)=>{(Hn.startsWith("signIn")||Hn.startsWith("createUser"))&&Gt.then(Ut=>Ln.next(Ut))}}})}static \u0275fac=function(Jt){return new(Jt||lt)(s.KVO(me.rx),s.KVO(me.uP,8),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(be.u0),s.KVO(Dt,8),s.KVO(Ot,8),s.KVO(we,8),s.KVO(en,8),s.KVO(mn,8),s.KVO(ur,8),s.KVO(be.Jv,8))};static \u0275prov=s.jDH({token:lt,factory:lt.\u0275fac,providedIn:"any"})}return lt})(),Kt=(()=>{class lt{constructor(){We.A.registerVersion("angularfire",be.xv.full,"auth-compat")}static \u0275fac=function(Jt){return new(Jt||lt)};static \u0275mod=s.$C({type:lt});static \u0275inj=s.G2t({providers:[jt]})}return lt})()},6340:(nn,qe,U)=>{U.d(qe,{Qe:()=>Pi,cM:()=>et});var a=U(177),le=U(7705),s=U(5407),be=U(9253),me=U(1977),De=U(3236),Ae=U(1985),Ne=U(8455),Re=U(7673),ee=U(9172),oe=U(9974),pe=U(4360);function rt(){return(0,oe.N)((pt,de)=>{let xe,yt=!1;pt.subscribe((0,pe._)(de,Wt=>{const $n=xe;xe=Wt,yt&&de.next([$n,Wt]),yt=!0}))})}var $e=U(6354),Tt=U(2816),wt=U(3294),vt=U(5964),Pt=(U(2438),U(3345)),Le=U(9583),ye=U(1076),Je=U(1362);function Dt(pt,de){if(void 0===de)return{merge:!1};if(void 0!==de.mergeFields&&void 0!==de.merge)throw new Le.W6("invalid-argument",`Invalid options passed to function ${pt}(): You cannot specify both "merge" and "mergeFields".`);return de}function Ot(){if(typeof Uint8Array>"u")throw new Le.W6("unimplemented","Uint8Arrays are not available in this environment.")}function we(){if(!(0,Le.qG)())throw new Le.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class en{constructor(de){this._delegate=de}static fromBase64String(de){return we(),new en(Le.Ix.fromBase64String(de))}static fromUint8Array(de){return Ot(),new en(Le.Ix.fromUint8Array(de))}toBase64(){return we(),this._delegate.toBase64()}toUint8Array(){return Ot(),this._delegate.toUint8Array()}isEqual(de){return this._delegate.isEqual(de._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mn(pt){return function ur(pt,de){if("object"!=typeof pt||null===pt)return!1;const xe=pt;for(const yt of de)if(yt in xe&&"function"==typeof xe[yt])return!0;return!1}(pt,["next","error","complete"])}class Mt{enableIndexedDbPersistence(de,xe){return(0,Le.ol)(de._delegate,{forceOwnership:xe})}enableMultiTabIndexedDbPersistence(de){return(0,Le.Q5)(de._delegate)}clearIndexedDbPersistence(de){return(0,Le.me)(de._delegate)}}class jt{constructor(de,xe,yt){this._delegate=xe,this._persistenceProvider=yt,this.INTERNAL={delete:()=>this.terminate()},de instanceof Le.cm||(this._appCompat=de)}get _databaseId(){return this._delegate._databaseId}settings(de){const xe=this._delegate._getSettings();!de.merge&&xe.host!==de.host&&(0,Le.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),de.merge&&delete(de=Object.assign(Object.assign({},xe),de)).merge,this._delegate._setSettings(de)}useEmulator(de,xe,yt={}){(0,Le.vN)(this._delegate,de,xe,yt)}enableNetwork(){return(0,Le.Os)(this._delegate)}disableNetwork(){return(0,Le.LA)(this._delegate)}enablePersistence(de){let xe=!1,yt=!1;return de&&(xe=!!de.synchronizeTabs,yt=!!de.experimentalForceOwningTab,(0,Le.c8)("synchronizeTabs",xe,"experimentalForceOwningTab",yt)),xe?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,yt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Le.iB)(this._delegate)}onSnapshotsInSync(de){return(0,Le.FC)(this._delegate,de)}get app(){if(!this._appCompat)throw new Le.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(de){try{return new tn(this,(0,Le.rJ)(this._delegate,de))}catch(xe){throw Te(xe,"collection()","Firestore.collection()")}}doc(de){try{return new je(this,(0,Le.H9)(this._delegate,de))}catch(xe){throw Te(xe,"doc()","Firestore.doc()")}}collectionGroup(de){try{return new Nt(this,(0,Le.Cs)(this._delegate,de))}catch(xe){throw Te(xe,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(de){return(0,Le.c4)(this._delegate,xe=>de(new ke(this,xe)))}batch(){return(0,Le.Ws)(this._delegate),new Ze(new Le.GA(this._delegate,de=>(0,Le.z6)(this._delegate,de)))}loadBundle(de){return(0,Le.po)(this._delegate,de)}namedQuery(de){return(0,Le.St)(this._delegate,de).then(xe=>xe?new Nt(this,xe):null)}}class Kt extends Le.fS{constructor(de){super(),this.firestore=de}convertBytes(de){return new en(new Le.Ix(de))}convertReference(de){const xe=this.convertDocumentKey(de,this.firestore._databaseId);return je.forKey(xe,this.firestore,null)}}class ke{constructor(de,xe){this._firestore=de,this._delegate=xe,this._userDataWriter=new Kt(de)}get(de){const xe=Ln(de);return this._delegate.get(xe).then(yt=>new tt(this._firestore,new Le.Wq(this._firestore._delegate,this._userDataWriter,yt._key,yt._document,yt.metadata,xe.converter)))}set(de,xe,yt){const Wt=Ln(de);return yt?(Dt("Transaction.set",yt),this._delegate.set(Wt,xe,yt)):this._delegate.set(Wt,xe),this}update(de,xe,yt,...Wt){const $n=Ln(de);return 2===arguments.length?this._delegate.update($n,xe):this._delegate.update($n,xe,yt,...Wt),this}delete(de){const xe=Ln(de);return this._delegate.delete(xe),this}}class Ze{constructor(de){this._delegate=de}set(de,xe,yt){const Wt=Ln(de);return yt?(Dt("WriteBatch.set",yt),this._delegate.set(Wt,xe,yt)):this._delegate.set(Wt,xe),this}update(de,xe,yt,...Wt){const $n=Ln(de);return 2===arguments.length?this._delegate.update($n,xe):this._delegate.update($n,xe,yt,...Wt),this}delete(de){const xe=Ln(de);return this._delegate.delete(xe),this}commit(){return this._delegate.commit()}}class Jt{constructor(de,xe,yt){this._firestore=de,this._userDataWriter=xe,this._delegate=yt}fromFirestore(de,xe){const yt=new Le.YQ(this._firestore._delegate,this._userDataWriter,de._key,de._document,de.metadata,null);return this._delegate.fromFirestore(new Xe(this._firestore,yt),xe??{})}toFirestore(de,xe){return xe?this._delegate.toFirestore(de,xe):this._delegate.toFirestore(de)}static getInstance(de,xe){const yt=Jt.INSTANCES;let Wt=yt.get(de);Wt||(Wt=new WeakMap,yt.set(de,Wt));let $n=Wt.get(xe);return $n||($n=new Jt(de,new Kt(de),xe),Wt.set(xe,$n)),$n}}Jt.INSTANCES=new WeakMap;class je{constructor(de,xe){this.firestore=de,this._delegate=xe,this._userDataWriter=new Kt(de)}static forPath(de,xe,yt){if(de.length%2!=0)throw new Le.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${de.canonicalString()} has ${de.length}`);return new je(xe,new Le.T1(xe._delegate,yt,new Le.K$(de)))}static forKey(de,xe,yt){return new je(xe,new Le.T1(xe._delegate,yt,de))}get id(){return this._delegate.id}get parent(){return new tn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(de){try{return new tn(this.firestore,(0,Le.rJ)(this._delegate,de))}catch(xe){throw Te(xe,"collection()","DocumentReference.collection()")}}isEqual(de){return(de=(0,ye.Ku)(de))instanceof Le.T1&&(0,Le.yx)(this._delegate,de)}set(de,xe){xe=Dt("DocumentReference.set",xe);try{return xe?(0,Le.BN)(this._delegate,de,xe):(0,Le.BN)(this._delegate,de)}catch(yt){throw Te(yt,"setDoc()","DocumentReference.set()")}}update(de,xe,...yt){try{return 1===arguments.length?(0,Le.mZ)(this._delegate,de):(0,Le.mZ)(this._delegate,de,xe,...yt)}catch(Wt){throw Te(Wt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Le.kd)(this._delegate)}onSnapshot(...de){const xe=Ee(de),yt=Fe(de,Wt=>new tt(this.firestore,new Le.Wq(this.firestore._delegate,this._userDataWriter,Wt._key,Wt._document,Wt.metadata,this._delegate.converter)));return(0,Le.aQ)(this._delegate,xe,yt)}get(de){let xe;return xe="cache"===de?.source?(0,Le.nY)(this._delegate):"server"===de?.source?(0,Le._e)(this._delegate):(0,Le.x7)(this._delegate),xe.then(yt=>new tt(this.firestore,new Le.Wq(this.firestore._delegate,this._userDataWriter,yt._key,yt._document,yt.metadata,this._delegate.converter)))}withConverter(de){return new je(this.firestore,this._delegate.withConverter(de?Jt.getInstance(this.firestore,de):null))}}function Te(pt,de,xe){return pt.message=pt.message.replace(de,xe),pt}function Ee(pt){for(const de of pt)if("object"==typeof de&&!mn(de))return de;return{}}function Fe(pt,de){var xe,yt;let Wt;return Wt=mn(pt[0])?pt[0]:mn(pt[1])?pt[1]:"function"==typeof pt[0]?{next:pt[0],error:pt[1],complete:pt[2]}:{next:pt[1],error:pt[2],complete:pt[3]},{next:$n=>{Wt.next&&Wt.next(de($n))},error:null===(xe=Wt.error)||void 0===xe?void 0:xe.bind(Wt),complete:null===(yt=Wt.complete)||void 0===yt?void 0:yt.bind(Wt)}}class tt{constructor(de,xe){this._firestore=de,this._delegate=xe}get ref(){return new je(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(de){return this._delegate.data(de)}get(de,xe){return this._delegate.get(de,xe)}isEqual(de){return(0,Le.lN)(this._delegate,de._delegate)}}class Xe extends tt{data(de){const xe=this._delegate.data(de);return this._delegate._converter||(0,Le.bI)(void 0!==xe,"Document in a QueryDocumentSnapshot should exist"),xe}}class Nt{constructor(de,xe){this.firestore=de,this._delegate=xe,this._userDataWriter=new Kt(de)}where(de,xe,yt){try{return new Nt(this.firestore,(0,Le.P)(this._delegate,(0,Le._M)(de,xe,yt)))}catch(Wt){throw Te(Wt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(de,xe){try{return new Nt(this.firestore,(0,Le.P)(this._delegate,(0,Le.My)(de,xe)))}catch(yt){throw Te(yt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(de){try{return new Nt(this.firestore,(0,Le.P)(this._delegate,(0,Le.AB)(de)))}catch(xe){throw Te(xe,"limit()","Query.limit()")}}limitToLast(de){try{return new Nt(this.firestore,(0,Le.P)(this._delegate,(0,Le.$1)(de)))}catch(xe){throw Te(xe,"limitToLast()","Query.limitToLast()")}}startAt(...de){try{return new Nt(this.firestore,(0,Le.P)(this._delegate,(0,Le.EO)(...de)))}catch(xe){throw Te(xe,"startAt()","Query.startAt()")}}startAfter(...de){try{return new Nt(this.firestore,(0,Le.P)(this._delegate,(0,Le.HM)(...de)))}catch(xe){throw Te(xe,"startAfter()","Query.startAfter()")}}endBefore(...de){try{return new Nt(this.firestore,(0,Le.P)(this._delegate,(0,Le.rf)(...de)))}catch(xe){throw Te(xe,"endBefore()","Query.endBefore()")}}endAt(...de){try{return new Nt(this.firestore,(0,Le.P)(this._delegate,(0,Le.FD)(...de)))}catch(xe){throw Te(xe,"endAt()","Query.endAt()")}}isEqual(de){return(0,Le.B)(this._delegate,de._delegate)}get(de){let xe;return xe="cache"===de?.source?(0,Le.kU)(this._delegate):"server"===de?.source?(0,Le.Rr)(this._delegate):(0,Le.GG)(this._delegate),xe.then(yt=>new rr(this.firestore,new Le.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,yt._snapshot)))}onSnapshot(...de){const xe=Ee(de),yt=Fe(de,Wt=>new rr(this.firestore,new Le.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Wt._snapshot)));return(0,Le.aQ)(this._delegate,xe,yt)}withConverter(de){return new Nt(this.firestore,this._delegate.withConverter(de?Jt.getInstance(this.firestore,de):null))}}class Cn{constructor(de,xe){this._firestore=de,this._delegate=xe}get type(){return this._delegate.type}get doc(){return new Xe(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rr{constructor(de,xe){this._firestore=de,this._delegate=xe}get query(){return new Nt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(de=>new Xe(this._firestore,de))}docChanges(de){return this._delegate.docChanges(de).map(xe=>new Cn(this._firestore,xe))}forEach(de,xe){this._delegate.forEach(yt=>{de.call(xe,new Xe(this._firestore,yt))})}isEqual(de){return(0,Le.lN)(this._delegate,de._delegate)}}class tn extends Nt{constructor(de,xe){super(de,xe),this.firestore=de,this._delegate=xe}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const de=this._delegate.parent;return de?new je(this.firestore,de):null}doc(de){try{return new je(this.firestore,void 0===de?(0,Le.H9)(this._delegate):(0,Le.H9)(this._delegate,de))}catch(xe){throw Te(xe,"doc()","CollectionReference.doc()")}}add(de){return(0,Le.gS)(this._delegate,de).then(xe=>new je(this.firestore,xe))}isEqual(de){return(0,Le.yx)(this._delegate,de._delegate)}withConverter(de){return new tn(this.firestore,this._delegate.withConverter(de?Jt.getInstance(this.firestore,de):null))}}function Ln(pt){return(0,Le.lo)(pt,Le.T1)}class Ft{constructor(...de){this._delegate=new Le.uY(...de)}static documentId(){return new Ft(Le.FA.keyField().canonicalString())}isEqual(de){return(de=(0,ye.Ku)(de))instanceof Le.uY&&this._delegate._internalPath.isEqual(de._internalPath)}}class Hn{constructor(de){this._delegate=de}static serverTimestamp(){const de=(0,Le.O5)();return de._methodName="FieldValue.serverTimestamp",new Hn(de)}static delete(){const de=(0,Le.CL)();return de._methodName="FieldValue.delete",new Hn(de)}static arrayUnion(...de){const xe=(0,Le.hq)(...de);return xe._methodName="FieldValue.arrayUnion",new Hn(xe)}static arrayRemove(...de){const xe=(0,Le.C3)(...de);return xe._methodName="FieldValue.arrayRemove",new Hn(xe)}static increment(de){const xe=(0,Le.GV)(de);return xe._methodName="FieldValue.increment",new Hn(xe)}isEqual(de){return this._delegate.isEqual(de._delegate)}}const On={Firestore:jt,GeoPoint:Le.Ci,Timestamp:Le.Dc,Blob:en,Transaction:ke,WriteBatch:Ze,DocumentReference:je,DocumentSnapshot:tt,Query:Nt,QueryDocumentSnapshot:Xe,QuerySnapshot:rr,CollectionReference:tn,FieldPath:Ft,FieldValue:Hn,setLogLevel:function lt(pt){(0,Le.He)(pt)},CACHE_SIZE_UNLIMITED:Le.H6};!function Ut(pt){(function Gt(pt,de){pt.INTERNAL.registerComponent(new Je.uA("firestore-compat",xe=>{const yt=xe.getProvider("app-compat").getImmediate(),Wt=xe.getProvider("firestore").getImmediate();return de(yt,Wt)},"PUBLIC").setServiceProps(Object.assign({},On)))})(pt,(de,xe)=>new jt(de,xe,new Mt)),pt.registerVersion("@firebase/firestore-compat","0.3.38")}(Pt.A);var yr=U(7935);function Mr(pt,de){return function on(pt,de=De.E){return new Ae.c(xe=>{let yt;return null!=de?de.schedule(()=>{yt=pt.onSnapshot({includeMetadataChanges:!0},xe)}):yt=pt.onSnapshot({includeMetadataChanges:!0},xe),()=>{yt?.()}})}(pt,de)}function Bt(pt,de){return Mr(pt,de).pipe((0,$e.T)(xe=>({payload:xe,type:"query"})))}class bn{ref;afs;constructor(de,xe){this.ref=de,this.afs=xe}set(de,xe){return this.ref.set(de,xe)}update(de){return this.ref.update(de)}delete(){return this.ref.delete()}collection(de,xe){const yt=this.ref.collection(de),{ref:Wt,query:$n}=Wn(yt,xe);return new ui(Wt,$n,this.afs)}snapshotChanges(){return function Zn(pt,de){return Mr(pt,de).pipe((0,ee.Z)(void 0),rt(),(0,$e.T)(xe=>{const[yt,Wt]=xe;return Wt.exists?yt?.exists?{payload:Wt,type:"modified"}:{payload:Wt,type:"added"}:{payload:Wt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(s.U0)}valueChanges(de={}){return this.snapshotChanges().pipe((0,$e.T)(({payload:xe})=>de.idField?{...xe.data(),[de.idField]:xe.id}:xe.data()))}get(de){return(0,Ne.H)(this.ref.get(de)).pipe(s.U0)}}function zn(pt,de){return Bt(pt,de).pipe((0,ee.Z)(void 0),rt(),(0,$e.T)(xe=>{const[yt,Wt]=xe,$n=Wt.payload.docChanges(),Fr=$n.map(Ue=>({type:Ue.type,payload:Ue}));return yt&&JSON.stringify(yt.payload.metadata)!==JSON.stringify(Wt.payload.metadata)&&Wt.payload.docs.forEach((Ue,sn)=>{const te=$n.find(P=>P.doc.ref.isEqual(Ue.ref)),k=yt?.payload.docs.find(P=>P.ref.isEqual(Ue.ref));te&&JSON.stringify(te.doc.metadata)===JSON.stringify(Ue.metadata)||!te&&k&&JSON.stringify(k.metadata)===JSON.stringify(Ue.metadata)||Fr.push({type:"modified",payload:{oldIndex:sn,newIndex:sn,type:"modified",doc:Ue}})}),Fr}))}function In(pt,de,xe){return zn(pt,xe).pipe((0,Tt.S)((yt,Wt)=>function jr(pt,de,xe){return de.forEach(yt=>{xe.indexOf(yt.type)>-1&&(pt=function Xr(pt,de){switch(de.type){case"added":if(!pt[de.newIndex]||!pt[de.newIndex].doc.ref.isEqual(de.doc.ref))return br(pt,de.newIndex,0,de);break;case"modified":if(null==pt[de.oldIndex]||pt[de.oldIndex].doc.ref.isEqual(de.doc.ref)){if(de.oldIndex!==de.newIndex){const xe=pt.slice();return xe.splice(de.oldIndex,1),xe.splice(de.newIndex,0,de),xe}return br(pt,de.newIndex,1,de)}break;case"removed":if(pt[de.oldIndex]&&pt[de.oldIndex].doc.ref.isEqual(de.doc.ref))return br(pt,de.oldIndex,1)}return pt}(pt,yt))}),pt}(yt,Wt.map($n=>$n.payload),de),[]),(0,wt.F)(),(0,$e.T)(yt=>yt.map(Wt=>({type:Wt.type,payload:Wt}))))}function br(pt,de,xe,...yt){const Wt=pt.slice();return Wt.splice(de,xe,...yt),Wt}function Yn(pt){return(!pt||0===pt.length)&&(pt=["added","removed","modified"]),pt}class ui{ref;query;afs;constructor(de,xe,yt){this.ref=de,this.query=xe,this.afs=yt}stateChanges(de){let xe=zn(this.query,this.afs.schedulers.outsideAngular);return de&&de.length>0&&(xe=xe.pipe((0,$e.T)(yt=>yt.filter(Wt=>de.indexOf(Wt.type)>-1)))),xe.pipe((0,ee.Z)(void 0),rt(),(0,vt.p)(([yt,Wt])=>Wt.length>0||!yt),(0,$e.T)(([,yt])=>yt),s.U0)}auditTrail(de){return this.stateChanges(de).pipe((0,Tt.S)((xe,yt)=>[...xe,...yt],[]))}snapshotChanges(de){const xe=Yn(de);return In(this.query,xe,this.afs.schedulers.outsideAngular).pipe(s.U0)}valueChanges(de={}){return Bt(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.T)(xe=>xe.payload.docs.map(yt=>de.idField?{...yt.data(),[de.idField]:yt.id}:yt.data())),s.U0)}get(de){return(0,Ne.H)(this.query.get(de)).pipe(s.U0)}add(de){return this.ref.add(de)}doc(de){return new bn(this.ref.doc(de),this.afs)}}class gs{query;afs;constructor(de,xe){this.query=de,this.afs=xe}stateChanges(de){return de&&0!==de.length?zn(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.T)(xe=>xe.filter(yt=>de.indexOf(yt.type)>-1)),(0,vt.p)(xe=>xe.length>0),s.U0):zn(this.query,this.afs.schedulers.outsideAngular).pipe(s.U0)}auditTrail(de){return this.stateChanges(de).pipe((0,Tt.S)((xe,yt)=>[...xe,...yt],[]))}snapshotChanges(de){const xe=Yn(de);return In(this.query,xe,this.afs.schedulers.outsideAngular).pipe(s.U0)}valueChanges(de={}){return Bt(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.T)(yt=>yt.payload.docs.map(Wt=>de.idField?{[de.idField]:Wt.id,...Wt.data()}:Wt.data())),s.U0)}get(de){return(0,Ne.H)(this.query.get(de)).pipe(s.U0)}}const hn=new le.nKC("angularfire2.enableFirestorePersistence"),Qr=new le.nKC("angularfire2.firestore.persistenceSettings"),tr=new le.nKC("angularfire2.firestore.settings"),Cr=new le.nKC("angularfire2.firestore.use-emulator");function Wn(pt,de=(xe=>xe)){return{query:de(pt),ref:pt}}let Pi=(()=>{class pt{schedulers;firestore;persistenceEnabled$;constructor(xe,yt,Wt,$n,Fr,Ue,sn,te,k,P,F,ne,ge,ot,At,an,fn){this.schedulers=sn;const Dn=(0,be.iB)(xe,Ue,yt),vr=k;P&&(0,me.gF)(Dn,Ue,F,ge,ot,At,ne,an),[this.firestore,this.persistenceEnabled$]=(0,be.BM)(`${Dn.name}.firestore`,"AngularFirestore",Dn.name,()=>{const cn=Ue.runOutsideAngular(()=>Dn.firestore());if($n&&cn.settings($n),vr&&cn.useEmulator(...vr),Wt&&!(0,a.Vy)(Fr)){const Gr=()=>{try{return(0,Ne.H)(cn.enablePersistence(te||void 0).then(()=>!0,()=>!1))}catch(fr){return typeof console<"u"&&console.warn(fr),(0,Re.of)(!1)}};return[cn,Ue.runOutsideAngular(Gr)]}return[cn,(0,Re.of)(!1)]},[$n,vr,Wt])}collection(xe,yt){let Wt;Wt="string"==typeof xe?this.firestore.collection(xe):xe;const{ref:$n,query:Fr}=Wn(Wt,yt),Ue=this.schedulers.ngZone.run(()=>$n);return new ui(Ue,Fr,this)}collectionGroup(xe,yt){const Wt=yt||(Fr=>Fr),$n=this.firestore.collectionGroup(xe);return new gs(Wt($n),this)}doc(xe){let yt;yt="string"==typeof xe?this.firestore.doc(xe):xe;const Wt=this.schedulers.ngZone.run(()=>yt);return new bn(Wt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(yt){return new(yt||pt)(le.KVO(be.rx),le.KVO(be.uP,8),le.KVO(hn,8),le.KVO(tr,8),le.KVO(le.Agw),le.KVO(le.SKi),le.KVO(s.u0),le.KVO(Qr,8),le.KVO(Cr,8),le.KVO(me.DS,8),le.KVO(me.CP,8),le.KVO(me.yy,8),le.KVO(me.ZP,8),le.KVO(me.$z,8),le.KVO(me.AU,8),le.KVO(me.UB,8),le.KVO(s.Jv,8))};static \u0275prov=le.jDH({token:pt,factory:pt.\u0275fac,providedIn:"any"})}return pt})(),et=(()=>{class pt{constructor(){yr.A.registerVersion("angularfire",s.xv.full,"fst-compat")}static enablePersistence(xe){return{ngModule:pt,providers:[{provide:hn,useValue:!0},{provide:Qr,useValue:xe}]}}static \u0275fac=function(yt){return new(yt||pt)};static \u0275mod=le.$C({type:pt});static \u0275inj=le.G2t({providers:[Pi]})}return pt})()},8721:(nn,qe,U)=>{U.d(qe,{ap:()=>ke,y5:()=>je});var a=U(5407),le=U(1985),s=U(7673),be=U(8455),me=U(3236),De=U(9974),Ae=U(4360),Re=U(6354),ee=U(5558),oe=U(7705),pe=U(9253),rt=U(3345),$e=U(4535),Tt=U(1362);class wt{constructor(Ee,Fe,tt){this._delegate=Ee,this.task=Fe,this.ref=tt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class vt{constructor(Ee,Fe){this._delegate=Ee,this._ref=Fe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new wt(this._delegate.snapshot,this,this._ref)}then(Ee,Fe){return this._delegate.then(tt=>{if(Ee)return Ee(new wt(tt,this,this._ref))},Fe)}on(Ee,Fe,tt,Xe){let Nt;return Fe&&(Nt="function"==typeof Fe?Cn=>Fe(new wt(Cn,this,this._ref)):{next:Fe.next?Cn=>Fe.next(new wt(Cn,this,this._ref)):void 0,complete:Fe.complete||void 0,error:Fe.error||void 0}),this._delegate.on(Ee,Nt,tt||void 0,Xe||void 0)}}class St{constructor(Ee,Fe){this._delegate=Ee,this._service=Fe}get prefixes(){return this._delegate.prefixes.map(Ee=>new Pt(Ee,this._service))}get items(){return this._delegate.items.map(Ee=>new Pt(Ee,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Pt{constructor(Ee,Fe){this._delegate=Ee,this.storage=Fe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ee){const Fe=(0,$e.Mp)(this._delegate,Ee);return new Pt(Fe,this.storage)}get root(){return new Pt(this._delegate.root,this.storage)}get parent(){const Ee=this._delegate.parent;return null==Ee?null:new Pt(Ee,this.storage)}put(Ee,Fe){return this._throwIfRoot("put"),new vt((0,$e.bp)(this._delegate,Ee,Fe),this)}putString(Ee,Fe=$e.nw.RAW,tt){this._throwIfRoot("putString");const Xe=(0,$e.ZH)(Fe,Ee),Nt=Object.assign({},tt);return null==Nt.contentType&&null!=Xe.contentType&&(Nt.contentType=Xe.contentType),new vt(new $e.UC(this._delegate,new $e.Mx(Xe.data,!0),Nt),this)}listAll(){return(0,$e._w)(this._delegate).then(Ee=>new St(Ee,this.storage))}list(Ee){return(0,$e.p_)(this._delegate,Ee||void 0).then(Fe=>new St(Fe,this.storage))}getMetadata(){return(0,$e.yb)(this._delegate)}updateMetadata(Ee){return(0,$e.D5)(this._delegate,Ee)}getDownloadURL(){return(0,$e.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,$e.XR)(this._delegate)}_throwIfRoot(Ee){if(""===this._delegate._location.path)throw(0,$e.UY)(Ee)}}class Le{constructor(Ee,Fe){this.app=Ee,this._delegate=Fe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ee){if(ye(Ee))throw(0,$e.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new Pt((0,$e.KR)(this._delegate,Ee),this)}refFromURL(Ee){if(!ye(Ee))throw(0,$e.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$e.TZ.makeFromUrl(Ee,this._delegate.host)}catch{throw(0,$e.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pt((0,$e.KR)(this._delegate,Ee),this)}setMaxUploadRetryTime(Ee){this._delegate.maxUploadRetryTime=Ee}setMaxOperationRetryTime(Ee){this._delegate.maxOperationRetryTime=Ee}useEmulator(Ee,Fe,tt={}){(0,$e.nb)(this._delegate,Ee,Fe,tt)}}function ye(Te){return/^[A-Za-z]+:\/\//.test(Te)}function Dt(Te,{instanceIdentifier:Ee}){const Fe=Te.getProvider("app-compat").getImmediate(),tt=Te.getProvider("storage").getImmediate({identifier:Ee});return new Le(Fe,tt)}!function Ot(Te){const Ee={TaskState:$e.Ad,TaskEvent:$e.xc,StringFormat:$e.nw,Storage:Le,Reference:Pt};Te.INTERNAL.registerComponent(new Tt.uA("storage-compat",Dt,"PUBLIC").setServiceProps(Ee).setMultipleInstances(!0)),Te.registerVersion("@firebase/storage-compat","0.3.12")}(rt.A);var we=U(7935);function mn(Te){const Ee=function en(Te){return new le.c(Ee=>{const Fe=Cn=>Ee.next(Cn);Fe(Te.snapshot);const Nt=Te.on("state_changed",Fe);return Te.then(Cn=>{Fe(Cn),Ee.complete()},Cn=>{Fe(Te.snapshot),(Cn=>{Ee.error(Cn)})(Cn)}),function(){Nt()}}).pipe(function Ne(Te,Ee=me.E){return(0,De.N)((Fe,tt)=>{let Xe=null,Nt=null,Cn=null;const rr=()=>{if(Xe){Xe.unsubscribe(),Xe=null;const Ln=Nt;Nt=null,tt.next(Ln)}};function tn(){const Ln=Cn+Te,Ft=Ee.now();if(Ft<Ln)return Xe=this.schedule(void 0,Ln-Ft),void tt.add(Xe);rr()}Fe.subscribe((0,Ae._)(tt,Ln=>{Nt=Ln,Cn=Ee.now(),Xe||(Xe=Ee.schedule(tn,Te),tt.add(Xe))},()=>{rr(),tt.complete()},void 0,()=>{Nt=Xe=null}))})}(0))}(Te);return{task:Te,then:Te.then.bind(Te),catch:Te.catch.bind(Te),pause:Te.pause.bind(Te),cancel:Te.cancel.bind(Te),resume:Te.resume.bind(Te),snapshotChanges:()=>Ee,percentageChanges:()=>Ee.pipe((0,Re.T)(Fe=>Fe.bytesTransferred/Fe.totalBytes*100))}}function ur(Te){return{getDownloadURL:()=>(0,s.of)(void 0).pipe(a.Oe,(0,ee.n)(()=>Te.getDownloadURL()),a.U0),getMetadata:()=>(0,s.of)(void 0).pipe(a.Oe,(0,ee.n)(()=>Te.getMetadata()),a.U0),delete:()=>(0,be.H)(Te.delete()),child:Ee=>ur(Te.child(Ee)),updateMetadata:Ee=>(0,be.H)(Te.updateMetadata(Ee)),put:(Ee,Fe)=>mn(Te.put(Ee,Fe)),putString:(Ee,Fe,tt)=>mn(Te.putString(Ee,Fe,tt)),list:Ee=>(0,be.H)(Te.list(Ee)),listAll:()=>(0,be.H)(Te.listAll())}}const Mt=new oe.nKC("angularfire2.storageBucket"),jt=new oe.nKC("angularfire2.storage.maxUploadRetryTime"),Kt=new oe.nKC("angularfire2.storage.maxOperationRetryTime"),lt=new oe.nKC("angularfire2.storage.use-emulator");let ke=(()=>{class Te{storage;constructor(Fe,tt,Xe,Nt,Cn,rr,tn,Ln,Ft,Hn){const On=(0,pe.iB)(Fe,Cn,tt);this.storage=(0,pe.BM)(`${On.name}.storage.${Xe}`,"AngularFireStorage",On.name,()=>{const Gt=Cn.runOutsideAngular(()=>On.storage(Xe||void 0)),Ut=Ft;return Ut&&Gt.useEmulator(...Ut),tn&&Gt.setMaxUploadRetryTime(tn),Ln&&Gt.setMaxOperationRetryTime(Ln),Gt},[tn,Ln])}ref(Fe){return ur(this.storage.ref(Fe))}refFromURL(Fe){return ur(this.storage.refFromURL(Fe))}upload(Fe,tt,Xe){return ur(this.storage.ref(Fe)).put(tt,Xe)}static \u0275fac=function(tt){return new(tt||Te)(oe.KVO(pe.rx),oe.KVO(pe.uP,8),oe.KVO(Mt,8),oe.KVO(oe.Agw),oe.KVO(oe.SKi),oe.KVO(a.u0),oe.KVO(jt,8),oe.KVO(Kt,8),oe.KVO(lt,8),oe.KVO(a.Jv,8))};static \u0275prov=oe.jDH({token:Te,factory:Te.\u0275fac,providedIn:"any"})}return Te})(),Jt=(()=>{class Te{static \u0275fac=function(tt){return new(tt||Te)};static \u0275mod=oe.$C({type:Te});static \u0275inj=oe.G2t({})}return Te})(),je=(()=>{class Te{constructor(){we.A.registerVersion("angularfire",a.xv.full,"gcs-compat")}static \u0275fac=function(tt){return new(tt||Te)};static \u0275mod=oe.$C({type:Te});static \u0275inj=oe.G2t({providers:[ke],imports:[Jt]})}return Te})()},9253:(nn,qe,U)=>{U.d(qe,{BM:()=>$e,Gt:()=>me,bf:()=>rt,e7:()=>De,iB:()=>ee,rx:()=>Ne,uP:()=>Re});var a=U(7705),le=U(5407),s=U(7935);const be=["ngOnDestroy"],me=(St,Pt,Le,ye={})=>new Proxy(St,{get:(Je,We)=>Le.runOutsideAngular(()=>{if(St[We])return ye?.spy?.get&&ye.spy.get(We,St[We]),St[We];if(be.indexOf(We)>-1)return()=>{};const it=Pt.toPromise().then(Dt=>{const Ot=Dt?.[We];return"function"==typeof Ot?Ot.bind(Dt):Ot?.then?Ot.then(we=>Le.run(()=>we)):Le.run(()=>Ot)});return new Proxy(()=>{},{get:(Dt,Ot)=>it[Ot],apply:(Dt,Ot,we)=>it.then(en=>{const mn=en?.(...we);return ye?.spy?.apply&&ye.spy.apply(We,we,mn),mn})})})}),De=(St,Pt)=>{Pt.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(ye=>{Object.defineProperty(St.prototype,ye,Object.getOwnPropertyDescriptor(Le.prototype||Le,ye))})})};class Ae{constructor(Pt){return Pt}}const Ne=new a.nKC("angularfire2.app.options"),Re=new a.nKC("angularfire2.app.name");function ee(St,Pt,Le){const Je="object"==typeof Le&&Le||{};Je.name=Je.name||"string"==typeof Le&&Le||"[DEFAULT]";const it=s.A.apps.filter(Dt=>Dt&&Dt.name===Je.name)[0]||Pt.runOutsideAngular(()=>s.A.initializeApp(St,Je));try{if(JSON.stringify(St)!==JSON.stringify(it.options)){const Dt=!!module.hot;oe("error",`${it.name} Firebase App already initialized with different options${Dt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ae(it)}const oe=(St,...Pt)=>{(0,a.naY)()&&typeof console<"u"&&console[St](...Pt)},pe={provide:Ae,useFactory:ee,deps:[Ne,a.SKi,[new a.Xx1,Re]]};let rt=(()=>{class St{static initializeApp(Le,ye){return{ngModule:St,providers:[{provide:Ne,useValue:Le},{provide:Re,useValue:ye}]}}constructor(Le){s.A.registerVersion("angularfire",le.xv.full,"core"),s.A.registerVersion("angularfire",le.xv.full,"app-compat"),s.A.registerVersion("angular",a.xvI.full,Le.toString())}static \u0275fac=function(ye){return new(ye||St)(a.KVO(a.Agw))};static \u0275mod=a.$C({type:St});static \u0275inj=a.G2t({providers:[pe]})}return St})();function $e(St,Pt,Le,ye,Je){const[,We,it]=globalThis.\u0275AngularfireInstanceCache.find(Dt=>Dt[0]===St)||[];if(We)return function Tt(St,Pt){try{return St.toString()===Pt.toString()}catch{return St===Pt}}(Je,it)||(vt("error",`${Pt} was already initialized on the ${Le} Firebase App with different settings.${wt?" You may need to reload as Firebase is not HMR aware.":""}`),vt("warn",{is:Je,was:it})),We;{const Dt=ye();return globalThis.\u0275AngularfireInstanceCache.push([St,Dt,Je]),Dt}}const wt=typeof module<"u"&&!!module.hot,vt=(St,...Pt)=>{(0,a.naY)()&&typeof console<"u"&&console[St](...Pt)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(nn,qe,U)=>{U.d(qe,{xv:()=>$e,U0:()=>mn,Oe:()=>we,u0:()=>We,Jv:()=>St,CA:()=>vt,lR:()=>wt,S3:()=>jt});var a=U(7705),le=U(2214),s=U(6780),me=U(9687);const Ae=new class De extends me.q{}(class be extends s.R{constructor(lt,ke){super(lt,ke),this.scheduler=lt,this.work=ke}schedule(lt,ke=0){return ke>0?super.schedule(lt,ke):(this.delay=ke,this.state=lt,this.scheduler.flush(this),this)}execute(lt,ke){return ke>0||this.closed?super.execute(lt,ke):this._execute(lt,ke)}requestAsyncId(lt,ke,Ze=0){return null!=Ze&&Ze>0||null==Ze&&this.delay>0?super.requestAsyncId(lt,ke,Ze):(lt.flush(this),0)}});var Re=U(3236),ee=U(1985),oe=U(8141),pe=U(941),rt=U(6745);const $e=new a.RxE("ANGULARFIRE2_VERSION");function wt(Kt,lt,ke){if(lt){if(1===lt.length)return lt[0];const je=lt.filter(Te=>Te.app===ke);if(1===je.length)return je[0]}return ke.container.getProvider(Kt).getImmediate({optional:!0})}const vt=(Kt,lt)=>{const ke=lt?[lt]:(0,le.Dk)(),Ze=[];return ke.forEach(Jt=>{Jt.container.getProvider(Kt).instances.forEach(Te=>{Ze.includes(Te)||Ze.push(Te)})}),Ze};class St{constructor(){return vt(Pt)}}const Pt="app-check";function Le(){}class ye{zone;delegate;constructor(lt,ke=Ae){this.zone=lt,this.delegate=ke}now(){return this.delegate.now()}schedule(lt,ke,Ze){const Jt=this.zone;return this.delegate.schedule(function(Te){Jt.runGuarded(()=>{lt.apply(this,[Te])})},ke,Ze)}}class Je{zone;task=null;constructor(lt){this.zone=lt}call(lt,ke){const Ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Le,{},Le,Le)),ke.pipe((0,oe.M)({next:Ze,complete:Ze,error:Ze})).subscribe(lt).add(Ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let We=(()=>{class Kt{ngZone;outsideAngular;insideAngular;constructor(ke){this.ngZone=ke,this.outsideAngular=ke.runOutsideAngular(()=>new ye(Zone.current)),this.insideAngular=ke.run(()=>new ye(Zone.current,Re.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Ze){return new(Ze||Kt)(a.KVO(a.SKi))};static \u0275prov=a.jDH({token:Kt,factory:Kt.\u0275fac,providedIn:"root"})}return Kt})();function it(){const Kt=globalThis.\u0275AngularFireScheduler;if(!Kt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Kt}function Ot(Kt){return it().ngZone.run(()=>Kt())}function we(Kt){return Kt.pipe((0,pe.Q)(it().outsideAngular))}function mn(Kt){return function ur(Kt){return function(ke){return(ke=ke.lift(new Je(Kt.ngZone))).pipe((0,rt._)(Kt.outsideAngular),(0,pe.Q)(Kt.insideAngular))}}(it())(Kt)}const Mt=(Kt,lt)=>function(){const Ze=arguments;return lt&&setTimeout(()=>{"scheduled"===lt.state&&lt.invoke()},10),Ot(()=>Kt.apply(void 0,Ze))},jt=(Kt,lt)=>function(){let ke;const Ze=arguments;for(let je=0;je<arguments.length;je++)"function"==typeof Ze[je]&&(lt&&(ke||=Ot(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Le,{},Le,Le))),Ze[je]=Mt(Ze[je],ke));const Jt=function Dt(Kt){return it().ngZone.runOutsideAngular(()=>Kt())}(()=>Kt.apply(this,Ze));if(!lt){if(Jt instanceof ee.c){const je=it();return Jt.pipe((0,rt._)(je.outsideAngular),(0,pe.Q)(je.insideAngular))}return Ot(()=>Jt)}return Jt instanceof ee.c?Jt.pipe(mn):Jt instanceof Promise?Ot(()=>new Promise((je,Te)=>Jt.then(Ee=>Ot(()=>je(Ee)),Ee=>Ot(()=>Te(Ee))))):"function"==typeof Jt&&ke?function(){return setTimeout(()=>{ke&&"scheduled"===ke.state&&ke.invoke()},10),Jt.apply(this,arguments)}:Ot(()=>Jt)}},4341:(nn,qe,U)=>{U.d(qe,{Zm:()=>vt,me:()=>ye,v8:()=>Zr,ok:()=>wo,JD:()=>Rr,j4:()=>pn,$R:()=>Kn,YN:()=>Ao,BC:()=>zn,cb:()=>In,cV:()=>ns,vS:()=>Ls,xH:()=>Ds,Q0:()=>Us,Fm:()=>fi,X1:()=>Qo,YS:()=>Er,wz:()=>$i,k0:()=>we,qT:()=>Vs,y7:()=>gt});var a=U(7705),le=U(177),s=U(8455),be=U(1985),me=U(3073),De=U(8750),Ae=U(3794),Ne=U(4360),Re=U(6450),ee=U(8496),pe=U(6354);let rt=(()=>{class W{constructor(j,ue){this._renderer=j,this._elementRef=ue,this.onChange=Ve=>{},this.onTouched=()=>{}}setProperty(j,ue){this._renderer.setProperty(this._elementRef.nativeElement,j,ue)}registerOnTouched(j){this.onTouched=j}registerOnChange(j){this.onChange=j}setDisabledState(j){this.setProperty("disabled",j)}static{this.\u0275fac=function(ue){return new(ue||W)(a.rXU(a.sFG),a.rXU(a.aKT))}}static{this.\u0275dir=a.FsC({type:W})}}return W})(),$e=(()=>{class W extends rt{static{this.\u0275fac=function(){let j;return function(Ve){return(j||(j=a.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=a.FsC({type:W,features:[a.Vt3]})}}return W})();const Tt=new a.nKC("NgValueAccessor"),wt={provide:Tt,useExisting:(0,a.Rfq)(()=>vt),multi:!0};let vt=(()=>{class W extends $e{writeValue(j){this.setProperty("checked",j)}static{this.\u0275fac=function(){let j;return function(Ve){return(j||(j=a.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=a.FsC({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ue,Ve){1&ue&&a.bIt("change",function(ir){return Ve.onChange(ir.target.checked)})("blur",function(){return Ve.onTouched()})},features:[a.Jv_([wt]),a.Vt3]})}}return W})();const St={provide:Tt,useExisting:(0,a.Rfq)(()=>ye),multi:!0},Le=new a.nKC("CompositionEventMode");let ye=(()=>{class W extends rt{constructor(j,ue,Ve){super(j,ue),this._compositionMode=Ve,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pt(){const W=(0,le.QT)()?(0,le.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(j){this.setProperty("value",j??"")}_handleInput(j){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(j)}_compositionStart(){this._composing=!0}_compositionEnd(j){this._composing=!1,this._compositionMode&&this.onChange(j)}static{this.\u0275fac=function(ue){return new(ue||W)(a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(Le,8))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ue,Ve){1&ue&&a.bIt("input",function(ir){return Ve._handleInput(ir.target.value)})("blur",function(){return Ve.onTouched()})("compositionstart",function(){return Ve._compositionStart()})("compositionend",function(ir){return Ve._compositionEnd(ir.target.value)})},features:[a.Jv_([St]),a.Vt3]})}}return W})();function Je(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function We(W){return null!=W&&"number"==typeof W.length}const it=new a.nKC("NgValidators"),Dt=new a.nKC("NgAsyncValidators"),Ot=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class we{static min(J){return function en(W){return J=>{if(Je(J.value)||Je(W))return null;const j=parseFloat(J.value);return!isNaN(j)&&j<W?{min:{min:W,actual:J.value}}:null}}(J)}static max(J){return function mn(W){return J=>{if(Je(J.value)||Je(W))return null;const j=parseFloat(J.value);return!isNaN(j)&&j>W?{max:{max:W,actual:J.value}}:null}}(J)}static required(J){return ur(J)}static requiredTrue(J){return function Mt(W){return!0===W.value?null:{required:!0}}(J)}static email(J){return function jt(W){return Je(W.value)||Ot.test(W.value)?null:{email:!0}}(J)}static minLength(J){return function Kt(W){return J=>Je(J.value)||!We(J.value)?null:J.value.length<W?{minlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static maxLength(J){return function lt(W){return J=>We(J.value)&&J.value.length>W?{maxlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static pattern(J){return function ke(W){if(!W)return Ze;let J,j;return"string"==typeof W?(j="","^"!==W.charAt(0)&&(j+="^"),j+=W,"$"!==W.charAt(W.length-1)&&(j+="$"),J=new RegExp(j)):(j=W.toString(),J=W),ue=>{if(Je(ue.value))return null;const Ve=ue.value;return J.test(Ve)?null:{pattern:{requiredPattern:j,actualValue:Ve}}}}(J)}static nullValidator(J){return null}static compose(J){return Xe(J)}static composeAsync(J){return Cn(J)}}function ur(W){return Je(W.value)?{required:!0}:null}function Ze(W){return null}function Jt(W){return null!=W}function je(W){return(0,a.jNT)(W)?(0,s.H)(W):W}function Te(W){let J={};return W.forEach(j=>{J=null!=j?{...J,...j}:J}),0===Object.keys(J).length?null:J}function Ee(W,J){return J.map(j=>j(W))}function tt(W){return W.map(J=>function Fe(W){return!W.validate}(J)?J:j=>J.validate(j))}function Xe(W){if(!W)return null;const J=W.filter(Jt);return 0==J.length?null:function(j){return Te(Ee(j,J))}}function Nt(W){return null!=W?Xe(tt(W)):null}function Cn(W){if(!W)return null;const J=W.filter(Jt);return 0==J.length?null:function(j){return function oe(...W){const J=(0,Ae.ms)(W),{args:j,keys:ue}=(0,me.D)(W),Ve=new be.c(gn=>{const{length:ir}=j;if(!ir)return void gn.complete();const Hi=new Array(ir);let Xs=ir,hs=ir;for(let uo=0;uo<ir;uo++){let eo=!1;(0,De.Tg)(j[uo]).subscribe((0,Ne._)(gn,Ji=>{eo||(eo=!0,hs--),Hi[uo]=Ji},()=>Xs--,void 0,()=>{(!Xs||!eo)&&(hs||gn.next(ue?(0,ee.e)(ue,Hi):Hi),gn.complete())}))}});return J?Ve.pipe((0,Re.I)(J)):Ve}(Ee(j,J).map(je)).pipe((0,pe.T)(Te))}}function rr(W){return null!=W?Cn(tt(W)):null}function tn(W,J){return null===W?[J]:Array.isArray(W)?[...W,J]:[W,J]}function Ln(W){return W._rawValidators}function Ft(W){return W._rawAsyncValidators}function Hn(W){return W?Array.isArray(W)?W:[W]:[]}function On(W,J){return Array.isArray(W)?W.includes(J):W===J}function Gt(W,J){const j=Hn(J);return Hn(W).forEach(Ve=>{On(j,Ve)||j.push(Ve)}),j}function Ut(W,J){return Hn(J).filter(j=>!On(W,j))}class yr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=Nt(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=rr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J=void 0){this.control&&this.control.reset(J)}hasError(J,j){return!!this.control&&this.control.hasError(J,j)}getError(J,j){return this.control?this.control.getError(J,j):null}}class on extends yr{get formDirective(){return null}get path(){return null}}class Mr extends yr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zn{constructor(J){this._cd=J}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zn=(()=>{class W extends Zn{constructor(j){super(j)}static{this.\u0275fac=function(ue){return new(ue||W)(a.rXU(Mr,2))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ue,Ve){2&ue&&a.AVh("ng-untouched",Ve.isUntouched)("ng-touched",Ve.isTouched)("ng-pristine",Ve.isPristine)("ng-dirty",Ve.isDirty)("ng-valid",Ve.isValid)("ng-invalid",Ve.isInvalid)("ng-pending",Ve.isPending)},features:[a.Vt3]})}}return W})(),In=(()=>{class W extends Zn{constructor(j){super(j)}static{this.\u0275fac=function(ue){return new(ue||W)(a.rXU(on,10))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ue,Ve){2&ue&&a.AVh("ng-untouched",Ve.isUntouched)("ng-touched",Ve.isTouched)("ng-pristine",Ve.isPristine)("ng-dirty",Ve.isDirty)("ng-valid",Ve.isValid)("ng-invalid",Ve.isInvalid)("ng-pending",Ve.isPending)("ng-submitted",Ve.isSubmitted)},features:[a.Vt3]})}}return W})();const Wt="VALID",$n="INVALID",Fr="PENDING",Ue="DISABLED";function sn(W){return(F(W)?W.validators:W)||null}function k(W,J){return(F(J)?J.asyncValidators:W)||null}function F(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function ne(W,J,j){const ue=W.controls;if(!(J?Object.keys(ue):ue).length)throw new a.wOt(1e3,"");if(!ue[j])throw new a.wOt(1001,"")}function ge(W,J,j){W._forEachChild((ue,Ve)=>{if(void 0===j[Ve])throw new a.wOt(1002,"")})}class ot{constructor(J,j){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(j)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===Wt}get invalid(){return this.status===$n}get pending(){return this.status==Fr}get disabled(){return this.status===Ue}get enabled(){return this.status!==Ue}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators(Gt(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(Gt(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(Ut(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(Ut(J,this._rawAsyncValidators))}hasValidator(J){return On(this._rawValidators,J)}hasAsyncValidator(J){return On(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(j=>{j.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(j=>{j.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=Fr,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const j=this._parentMarkedDirty(J.onlySelf);this.status=Ue,this.errors=null,this._forEachChild(ue=>{ue.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:j}),this._onDisabledChange.forEach(ue=>ue(!0))}enable(J={}){const j=this._parentMarkedDirty(J.onlySelf);this.status=Wt,this._forEachChild(ue=>{ue.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:j}),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wt||this.status===Fr)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(j=>j._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ue:Wt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=Fr,this._hasOwnPendingAsyncValidator=!0;const j=je(this.asyncValidator(this));this._asyncValidationSubscription=j.subscribe(ue=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ue,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,j={}){this.errors=J,this._updateControlsErrors(!1!==j.emitEvent)}get(J){let j=J;return null==j||(Array.isArray(j)||(j=j.split(".")),0===j.length)?null:j.reduce((ue,Ve)=>ue&&ue._find(Ve),this)}getError(J,j){const ue=j?this.get(j):this;return ue&&ue.errors?ue.errors[J]:null}hasError(J,j){return!!this.getError(J,j)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new a.bkB,this.statusChanges=new a.bkB}_calculateStatus(){return this._allControlsDisabled()?Ue:this.errors?$n:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fr)?Fr:this._anyControlsHaveStatus($n)?$n:Wt}_anyControlsHaveStatus(J){return this._anyControls(j=>j.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){F(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function te(W){return Array.isArray(W)?Nt(W):W||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function P(W){return Array.isArray(W)?rr(W):W||null}(this._rawAsyncValidators)}}class At extends ot{constructor(J,j,ue){super(sn(j),k(ue,j)),this.controls=J,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,j){return this.controls[J]?this.controls[J]:(this.controls[J]=j,j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange),j)}addControl(J,j,ue={}){this.registerControl(J,j),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}removeControl(J,j={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}setControl(J,j,ue={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],j&&this.registerControl(J,j),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,j={}){ge(this,0,J),Object.keys(J).forEach(ue=>{ne(this,!0,ue),this.controls[ue].setValue(J[ue],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(J,j={}){null!=J&&(Object.keys(J).forEach(ue=>{const Ve=this.controls[ue];Ve&&Ve.patchValue(J[ue],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(J={},j={}){this._forEachChild((ue,Ve)=>{ue.reset(J?J[Ve]:null,{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this._reduceChildren({},(J,j,ue)=>(J[ue]=j.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(j,ue)=>!!ue._syncPendingControls()||j);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(j=>{const ue=this.controls[j];ue&&J(ue,j)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[j,ue]of Object.entries(this.controls))if(this.contains(j)&&J(ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},(j,ue,Ve)=>((ue.enabled||this.disabled)&&(j[Ve]=ue.value),j))}_reduceChildren(J,j){let ue=J;return this._forEachChild((Ve,gn)=>{ue=j(ue,Ve,gn)}),ue}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}class Dn extends At{}const cn=new a.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Gr}),Gr="always";function fr(W,J){return[...J.path,W]}function ks(W,J,j=Gr){Ai(W,J),J.valueAccessor.writeValue(W.value),(W.disabled||"always"===j)&&J.valueAccessor.setDisabledState?.(W.disabled),function Fs(W,J){J.valueAccessor.registerOnChange(j=>{W._pendingValue=j,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&nt(W,J)})}(W,J),function Rt(W,J){const j=(ue,Ve)=>{J.valueAccessor.writeValue(ue),Ve&&J.viewToModelUpdate(ue)};W.registerOnChange(j),J._registerOnDestroy(()=>{W._unregisterOnChange(j)})}(W,J),function Et(W,J){J.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&nt(W,J),"submit"!==W.updateOn&&W.markAsTouched()})}(W,J),function ki(W,J){if(J.valueAccessor.setDisabledState){const j=ue=>{J.valueAccessor.setDisabledState(ue)};W.registerOnDisabledChange(j),J._registerOnDestroy(()=>{W._unregisterOnDisabledChange(j)})}}(W,J)}function wi(W,J,j=!0){const ue=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(ue),J.valueAccessor.registerOnTouched(ue)),or(W,J),W&&(J._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function zi(W,J){W.forEach(j=>{j.registerOnValidatorChange&&j.registerOnValidatorChange(J)})}function Ai(W,J){const j=Ln(W);null!==J.validator?W.setValidators(tn(j,J.validator)):"function"==typeof j&&W.setValidators([j]);const ue=Ft(W);null!==J.asyncValidator?W.setAsyncValidators(tn(ue,J.asyncValidator)):"function"==typeof ue&&W.setAsyncValidators([ue]);const Ve=()=>W.updateValueAndValidity();zi(J._rawValidators,Ve),zi(J._rawAsyncValidators,Ve)}function or(W,J){let j=!1;if(null!==W){if(null!==J.validator){const Ve=Ln(W);if(Array.isArray(Ve)&&Ve.length>0){const gn=Ve.filter(ir=>ir!==J.validator);gn.length!==Ve.length&&(j=!0,W.setValidators(gn))}}if(null!==J.asyncValidator){const Ve=Ft(W);if(Array.isArray(Ve)&&Ve.length>0){const gn=Ve.filter(ir=>ir!==J.asyncValidator);gn.length!==Ve.length&&(j=!0,W.setAsyncValidators(gn))}}}const ue=()=>{};return zi(J._rawValidators,ue),zi(J._rawAsyncValidators,ue),j}function nt(W,J){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function ln(W,J){Ai(W,J)}function Wi(W,J){if(!W.hasOwnProperty("model"))return!1;const j=W.model;return!!j.isFirstChange()||!Object.is(J,j.currentValue)}function ts(W,J){W._syncPendingControls(),J.forEach(j=>{const ue=j.control;"submit"===ue.updateOn&&ue._pendingChange&&(j.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1)})}function Lo(W,J){if(!J)return null;let j,ue,Ve;return Array.isArray(J),J.forEach(gn=>{gn.constructor===ye?j=gn:function ws(W){return Object.getPrototypeOf(W.constructor)===$e}(gn)?ue=gn:Ve=gn}),Ve||ue||j||null}const Xo={provide:on,useExisting:(0,a.Rfq)(()=>ns)},ii=(()=>Promise.resolve())();let ns=(()=>{class W extends on{constructor(j,ue,Ve){super(),this.callSetDisabledState=Ve,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.bkB,this.form=new At({},Nt(j),rr(ue))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(j){ii.then(()=>{const ue=this._findContainer(j.path);j.control=ue.registerControl(j.name,j.control),ks(j.control,j,this.callSetDisabledState),j.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(j)})}getControl(j){return this.form.get(j.path)}removeControl(j){ii.then(()=>{const ue=this._findContainer(j.path);ue&&ue.removeControl(j.name),this._directives.delete(j)})}addFormGroup(j){ii.then(()=>{const ue=this._findContainer(j.path),Ve=new At({});ln(Ve,j),ue.registerControl(j.name,Ve),Ve.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(j){ii.then(()=>{const ue=this._findContainer(j.path);ue&&ue.removeControl(j.name)})}getFormGroup(j){return this.form.get(j.path)}updateModel(j,ue){ii.then(()=>{this.form.get(j.path).setValue(ue)})}setValue(j){this.control.setValue(j)}onSubmit(j){return this.submitted=!0,ts(this.form,this._directives),this.ngSubmit.emit(j),"dialog"===j?.target?.method}onReset(){this.resetForm()}resetForm(j=void 0){this.form.reset(j),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(j){return j.pop(),j.length?this.form.get(j):this.form}static{this.\u0275fac=function(ue){return new(ue||W)(a.rXU(it,10),a.rXU(Dt,10),a.rXU(cn,8))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ue,Ve){1&ue&&a.bIt("submit",function(ir){return Ve.onSubmit(ir)})("reset",function(){return Ve.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([Xo]),a.Vt3]})}}return W})();function ms(W,J){const j=W.indexOf(J);j>-1&&W.splice(j,1)}function qr(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Ki=class extends ot{constructor(J=null,j,ue){super(sn(j),k(ue,j)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(j),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F(j)&&(j.nonNullable||j.initialValueIsDefault)&&(this.defaultValue=qr(J)?J.value:J)}setValue(J,j={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==j.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==j.emitViewToModelChange)),this.updateValueAndValidity(j)}patchValue(J,j={}){this.setValue(J,j)}reset(J=this.defaultValue,j={}){this._applyFormState(J),this.markAsPristine(j),this.markAsUntouched(j),this.setValue(this.value,j),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){ms(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){ms(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){qr(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}};let co=(()=>{class W extends on{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return fr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let j;return function(Ve){return(j||(j=a.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=a.FsC({type:W,features:[a.Vt3]})}}return W})();const Ks={provide:Mr,useExisting:(0,a.Rfq)(()=>Ls)},Jr=(()=>Promise.resolve())();let Ls=(()=>{class W extends Mr{constructor(j,ue,Ve,gn,ir,Hi){super(),this._changeDetectorRef=ir,this.callSetDisabledState=Hi,this.control=new Ki,this._registered=!1,this.name="",this.update=new a.bkB,this._parent=j,this._setValidators(ue),this._setAsyncValidators(Ve),this.valueAccessor=Lo(0,gn)}ngOnChanges(j){if(this._checkForErrors(),!this._registered||"name"in j){if(this._registered&&(this._checkName(),this.formDirective)){const ue=j.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in j&&this._updateDisabled(j),Wi(j,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ks(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(j){Jr.then(()=>{this.control.setValue(j,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(j){const ue=j.isDisabled.currentValue,Ve=0!==ue&&(0,a.L39)(ue);Jr.then(()=>{Ve&&!this.control.disabled?this.control.disable():!Ve&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(j){return this._parent?fr(j,this._parent):[j]}static{this.\u0275fac=function(ue){return new(ue||W)(a.rXU(on,9),a.rXU(it,10),a.rXU(Dt,10),a.rXU(Tt,10),a.rXU(a.gRc,8),a.rXU(cn,8))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a.Jv_([Ks]),a.Vt3,a.OA$]})}}return W})(),Vs=(()=>{class W{static{this.\u0275fac=function(ue){return new(ue||W)}}static{this.\u0275dir=a.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return W})();const To={provide:Tt,useExisting:(0,a.Rfq)(()=>Us),multi:!0};let Us=(()=>{class W extends $e{writeValue(j){this.setProperty("value",j??"")}registerOnChange(j){this.onChange=ue=>{j(""==ue?null:parseFloat(ue))}}static{this.\u0275fac=function(){let j;return function(Ve){return(j||(j=a.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=a.FsC({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ue,Ve){1&ue&&a.bIt("input",function(ir){return Ve.onChange(ir.target.value)})("blur",function(){return Ve.onTouched()})},features:[a.Jv_([To]),a.Vt3]})}}return W})();const Pr={provide:Tt,useExisting:(0,a.Rfq)(()=>fi),multi:!0};let Di=(()=>{class W{static{this.\u0275fac=function(ue){return new(ue||W)}}static{this.\u0275mod=a.$C({type:W})}static{this.\u0275inj=a.G2t({})}}return W})(),As=(()=>{class W{constructor(){this._accessors=[]}add(j,ue){this._accessors.push([j,ue])}remove(j){for(let ue=this._accessors.length-1;ue>=0;--ue)if(this._accessors[ue][1]===j)return void this._accessors.splice(ue,1)}select(j){this._accessors.forEach(ue=>{this._isSameGroup(ue,j)&&ue[1]!==j&&ue[1].fireUncheck(j.value)})}_isSameGroup(j,ue){return!!j[0].control&&j[0]._parent===ue._control._parent&&j[1].name===ue.name}static{this.\u0275fac=function(ue){return new(ue||W)}}static{this.\u0275prov=a.jDH({token:W,factory:W.\u0275fac,providedIn:Di})}}return W})(),fi=(()=>{class W extends $e{constructor(j,ue,Ve,gn){super(j,ue),this._registry=Ve,this._injector=gn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,a.WQX)(cn,{optional:!0})??Gr}ngOnInit(){this._control=this._injector.get(Mr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(j){this._state=j===this.value,this.setProperty("checked",this._state)}registerOnChange(j){this._fn=j,this.onChange=()=>{j(this.value),this._registry.select(this)}}setDisabledState(j){(this.setDisabledStateFired||j||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",j),this.setDisabledStateFired=!0}fireUncheck(j){this.writeValue(j)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ue){return new(ue||W)(a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(As),a.rXU(a.zZn))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ue,Ve){1&ue&&a.bIt("change",function(){return Ve.onChange()})("blur",function(){return Ve.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[a.Jv_([Pr]),a.Vt3]})}}return W})();const rs=new a.nKC("NgModelWithFormControlWarning"),si={provide:on,useExisting:(0,a.Rfq)(()=>pn)};let pn=(()=>{class W extends on{constructor(j,ue,Ve){super(),this.callSetDisabledState=Ve,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.bkB,this._setValidators(j),this._setAsyncValidators(ue)}ngOnChanges(j){this._checkFormPresent(),j.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(or(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(j){const ue=this.form.get(j.path);return ks(ue,j,this.callSetDisabledState),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(j),ue}getControl(j){return this.form.get(j.path)}removeControl(j){wi(j.control||null,j,!1),function Vo(W,J){const j=W.indexOf(J);j>-1&&W.splice(j,1)}(this.directives,j)}addFormGroup(j){this._setUpFormContainer(j)}removeFormGroup(j){this._cleanUpFormContainer(j)}getFormGroup(j){return this.form.get(j.path)}addFormArray(j){this._setUpFormContainer(j)}removeFormArray(j){this._cleanUpFormContainer(j)}getFormArray(j){return this.form.get(j.path)}updateModel(j,ue){this.form.get(j.path).setValue(ue)}onSubmit(j){return this.submitted=!0,ts(this.form,this.directives),this.ngSubmit.emit(j),"dialog"===j?.target?.method}onReset(){this.resetForm()}resetForm(j=void 0){this.form.reset(j),this.submitted=!1}_updateDomValue(){this.directives.forEach(j=>{const ue=j.control,Ve=this.form.get(j.path);ue!==Ve&&(wi(ue||null,j),(W=>W instanceof Ki)(Ve)&&(ks(Ve,j,this.callSetDisabledState),j.control=Ve))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(j){const ue=this.form.get(j.path);ln(ue,j),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(j){if(this.form){const ue=this.form.get(j.path);ue&&function Vn(W,J){return or(W,J)}(ue,j)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ai(this.form,this),this._oldForm&&or(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ue){return new(ue||W)(a.rXU(it,10),a.rXU(Dt,10),a.rXU(cn,8))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(ue,Ve){1&ue&&a.bIt("submit",function(ir){return Ve.onSubmit(ir)})("reset",function(){return Ve.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([si]),a.Vt3,a.OA$]})}}return W})();const Fn={provide:on,useExisting:(0,a.Rfq)(()=>Kn)};let Kn=(()=>{class W extends co{constructor(j,ue,Ve){super(),this.name=null,this._parent=j,this._setValidators(ue),this._setAsyncValidators(Ve)}_checkParentType(){Mi(this._parent)}static{this.\u0275fac=function(ue){return new(ue||W)(a.rXU(on,13),a.rXU(it,10),a.rXU(Dt,10))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[a.Jv_([Fn]),a.Vt3]})}}return W})();const oi={provide:on,useExisting:(0,a.Rfq)(()=>Zr)};let Zr=(()=>{class W extends on{constructor(j,ue,Ve){super(),this.name=null,this._parent=j,this._setValidators(ue),this._setAsyncValidators(Ve)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return fr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Mi(this._parent)}static{this.\u0275fac=function(ue){return new(ue||W)(a.rXU(on,13),a.rXU(it,10),a.rXU(Dt,10))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[a.Jv_([oi]),a.Vt3]})}}return W})();function Mi(W){return!(W instanceof Kn||W instanceof pn||W instanceof Zr)}const us={provide:Mr,useExisting:(0,a.Rfq)(()=>Rr)};let Rr=(()=>{class W extends Mr{set isDisabled(j){}static{this._ngModelWarningSentOnce=!1}constructor(j,ue,Ve,gn,ir){super(),this._ngModelWarningConfig=ir,this._added=!1,this.name=null,this.update=new a.bkB,this._ngModelWarningSent=!1,this._parent=j,this._setValidators(ue),this._setAsyncValidators(Ve),this.valueAccessor=Lo(0,gn)}ngOnChanges(j){this._added||this._setUpControl(),Wi(j,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}get path(){return fr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ue){return new(ue||W)(a.rXU(on,13),a.rXU(it,10),a.rXU(Dt,10),a.rXU(Tt,10),a.rXU(rs,8))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a.Jv_([us]),a.Vt3,a.OA$]})}}return W})();const Vi={provide:Tt,useExisting:(0,a.Rfq)(()=>$i),multi:!0};function bs(W,J){return null==W?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let $i=(()=>{class W extends $e{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(j){this._compareWith=j}writeValue(j){this.value=j;const Ve=bs(this._getOptionId(j),j);this.setProperty("value",Ve)}registerOnChange(j){this.onChange=ue=>{this.value=this._getOptionValue(ue),j(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(j){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue),j))return ue;return null}_getOptionValue(j){const ue=function Qn(W){return W.split(":")[0]}(j);return this._optionMap.has(ue)?this._optionMap.get(ue):j}static{this.\u0275fac=function(){let j;return function(Ve){return(j||(j=a.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=a.FsC({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ue,Ve){1&ue&&a.bIt("change",function(ir){return Ve.onChange(ir.target.value)})("blur",function(){return Ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[a.Jv_([Vi]),a.Vt3]})}}return W})(),Ds=(()=>{class W{constructor(j,ue,Ve){this._element=j,this._renderer=ue,this._select=Ve,this._select&&(this.id=this._select._registerOption())}set ngValue(j){null!=this._select&&(this._select._optionMap.set(this.id,j),this._setElementValue(bs(this.id,j)),this._select.writeValue(this._select.value))}set value(j){this._setElementValue(j),this._select&&this._select.writeValue(this._select.value)}_setElementValue(j){this._renderer.setProperty(this._element.nativeElement,"value",j)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ue){return new(ue||W)(a.rXU(a.aKT),a.rXU(a.sFG),a.rXU($i,9))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})();const Z={provide:Tt,useExisting:(0,a.Rfq)(()=>Qe),multi:!0};function Q(W,J){return null==W?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let Qe=(()=>{class W extends $e{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(j){this._compareWith=j}writeValue(j){let ue;if(this.value=j,Array.isArray(j)){const Ve=j.map(gn=>this._getOptionId(gn));ue=(gn,ir)=>{gn._setSelected(Ve.indexOf(ir.toString())>-1)}}else ue=(Ve,gn)=>{Ve._setSelected(!1)};this._optionMap.forEach(ue)}registerOnChange(j){this.onChange=ue=>{const Ve=[],gn=ue.selectedOptions;if(void 0!==gn){const ir=gn;for(let Hi=0;Hi<ir.length;Hi++){const hs=this._getOptionValue(ir[Hi].value);Ve.push(hs)}}else{const ir=ue.options;for(let Hi=0;Hi<ir.length;Hi++){const Xs=ir[Hi];if(Xs.selected){const hs=this._getOptionValue(Xs.value);Ve.push(hs)}}}this.value=Ve,j(Ve)}}_registerOption(j){const ue=(this._idCounter++).toString();return this._optionMap.set(ue,j),ue}_getOptionId(j){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue)._value,j))return ue;return null}_getOptionValue(j){const ue=function Ie(W){return W.split(":")[0]}(j);return this._optionMap.has(ue)?this._optionMap.get(ue)._value:j}static{this.\u0275fac=function(){let j;return function(Ve){return(j||(j=a.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=a.FsC({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ue,Ve){1&ue&&a.bIt("change",function(ir){return Ve.onChange(ir.target)})("blur",function(){return Ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[a.Jv_([Z]),a.Vt3]})}}return W})(),gt=(()=>{class W{constructor(j,ue,Ve){this._element=j,this._renderer=ue,this._select=Ve,this._select&&(this.id=this._select._registerOption(this))}set ngValue(j){null!=this._select&&(this._value=j,this._setElementValue(Q(this.id,j)),this._select.writeValue(this._select.value))}set value(j){this._select?(this._value=j,this._setElementValue(Q(this.id,j)),this._select.writeValue(this._select.value)):this._setElementValue(j)}_setElementValue(j){this._renderer.setProperty(this._element.nativeElement,"value",j)}_setSelected(j){this._renderer.setProperty(this._element.nativeElement,"selected",j)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ue){return new(ue||W)(a.rXU(a.aKT),a.rXU(a.sFG),a.rXU(Qe,9))}}static{this.\u0275dir=a.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})(),_n=(()=>{class W{constructor(){this._validator=Ze}ngOnChanges(j){if(this.inputName in j){const ue=this.normalizeInput(j[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):Ze,this._onChange&&this._onChange()}}validate(j){return this._validator(j)}registerOnValidatorChange(j){this._onChange=j}enabled(j){return null!=j}static{this.\u0275fac=function(ue){return new(ue||W)}}static{this.\u0275dir=a.FsC({type:W,features:[a.OA$]})}}return W})();const Un={provide:it,useExisting:(0,a.Rfq)(()=>Er),multi:!0};let Er=(()=>{class W extends _n{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.L39,this.createValidator=j=>ur}enabled(j){return j}static{this.\u0275fac=function(){let j;return function(Ve){return(j||(j=a.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=a.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ue,Ve){2&ue&&a.BMQ("required",Ve._enabled?"":null)},inputs:{required:"required"},features:[a.Jv_([Un]),a.Vt3]})}}return W})(),La=(()=>{class W{static{this.\u0275fac=function(ue){return new(ue||W)}}static{this.\u0275mod=a.$C({type:W})}static{this.\u0275inj=a.G2t({imports:[Di]})}}return W})();class Bs extends ot{constructor(J,j,ue){super(sn(j),k(ue,j)),this.controls=J,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(J){return this.controls[this._adjustIndex(J)]}push(J,j={}){this.controls.push(J),this._registerControl(J),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}insert(J,j,ue={}){this.controls.splice(J,0,j),this._registerControl(j),this.updateValueAndValidity({emitEvent:ue.emitEvent})}removeAt(J,j={}){let ue=this._adjustIndex(J);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),this.updateValueAndValidity({emitEvent:j.emitEvent})}setControl(J,j,ue={}){let Ve=this._adjustIndex(J);Ve<0&&(Ve=0),this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),this.controls.splice(Ve,1),j&&(this.controls.splice(Ve,0,j),this._registerControl(j)),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(J,j={}){ge(this,0,J),J.forEach((ue,Ve)=>{ne(this,!1,Ve),this.at(Ve).setValue(ue,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(J,j={}){null!=J&&(J.forEach((ue,Ve)=>{this.at(Ve)&&this.at(Ve).patchValue(ue,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(J=[],j={}){this._forEachChild((ue,Ve)=>{ue.reset(J[Ve],{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this.controls.map(J=>J.getRawValue())}clear(J={}){this.controls.length<1||(this._forEachChild(j=>j._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:J.emitEvent}))}_adjustIndex(J){return J<0?J+this.length:J}_syncPendingControls(){let J=this.controls.reduce((j,ue)=>!!ue._syncPendingControls()||j,!1);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){this.controls.forEach((j,ue)=>{J(j,ue)})}_updateValue(){this.value=this.controls.filter(J=>J.enabled||this.disabled).map(J=>J.value)}_anyControls(J){return this.controls.some(j=>j.enabled&&J(j))}_setUpControls(){this._forEachChild(J=>this._registerControl(J))}_allControlsDisabled(){for(const J of this.controls)if(J.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(J){J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)}_find(J){return this.at(J)??null}}function ds(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let wo=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const j=new W;return j.useNonNullable=!0,j}group(j,ue=null){const Ve=this._reduceControls(j);let gn={};return ds(ue)?gn=ue:null!==ue&&(gn.validators=ue.validator,gn.asyncValidators=ue.asyncValidator),new At(Ve,gn)}record(j,ue=null){const Ve=this._reduceControls(j);return new Dn(Ve,ue)}control(j,ue,Ve){let gn={};return this.useNonNullable?(ds(ue)?gn=ue:(gn.validators=ue,gn.asyncValidators=Ve),new Ki(j,{...gn,nonNullable:!0})):new Ki(j,ue,Ve)}array(j,ue,Ve){const gn=j.map(ir=>this._createControl(ir));return new Bs(gn,ue,Ve)}_reduceControls(j){const ue={};return Object.keys(j).forEach(Ve=>{ue[Ve]=this._createControl(j[Ve])}),ue}_createControl(j){return j instanceof Ki||j instanceof ot?j:Array.isArray(j)?this.control(j[0],j.length>1?j[1]:null,j.length>2?j[2]:null):this.control(j)}static{this.\u0275fac=function(ue){return new(ue||W)}}static{this.\u0275prov=a.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})(),Ao=(()=>{class W{static withConfig(j){return{ngModule:W,providers:[{provide:cn,useValue:j.callSetDisabledState??Gr}]}}static{this.\u0275fac=function(ue){return new(ue||W)}}static{this.\u0275mod=a.$C({type:W})}static{this.\u0275inj=a.G2t({imports:[La]})}}return W})(),Qo=(()=>{class W{static withConfig(j){return{ngModule:W,providers:[{provide:rs,useValue:j.warnOnNgModelWithFormControl??"always"},{provide:cn,useValue:j.callSetDisabledState??Gr}]}}static{this.\u0275fac=function(ue){return new(ue||W)}}static{this.\u0275mod=a.$C({type:W})}static{this.\u0275inj=a.G2t({imports:[La]})}}return W})()},345:(nn,qe,U)=>{U.d(qe,{B7:()=>Ot,Bb:()=>On,W8:()=>Ut,hE:()=>Mr,sG:()=>tn,up:()=>Pi});var a=U(7705),le=U(177);class s extends le.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends s{static makeCurrent(){(0,le.ZD)(new be)}onAndCancel(k,P,F){return k.addEventListener(P,F),()=>{k.removeEventListener(P,F)}}dispatchEvent(k,P){k.dispatchEvent(P)}remove(k){k.parentNode&&k.parentNode.removeChild(k)}createElement(k,P){return(P=P||this.getDefaultDocument()).createElement(k)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(k){return k.nodeType===Node.ELEMENT_NODE}isShadowRoot(k){return k instanceof DocumentFragment}getGlobalEventTarget(k,P){return"window"===P?window:"document"===P?k:"body"===P?k.body:null}getBaseHref(k){const P=function De(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==P?null:function Ne(te){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",te);const k=Ae.pathname;return"/"===k.charAt(0)?k:`/${k}`}(P)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(k){return(0,le._b)(document.cookie,k)}}let Ae,me=null,ee=(()=>{class te{build(){return new XMLHttpRequest}static{this.\u0275fac=function(F){return new(F||te)}}static{this.\u0275prov=a.jDH({token:te,factory:te.\u0275fac})}}return te})();const oe=new a.nKC("EventManagerPlugins");let pe=(()=>{class te{constructor(P,F){this._zone=F,this._eventNameToPlugin=new Map,P.forEach(ne=>{ne.manager=this}),this._plugins=P.slice().reverse()}addEventListener(P,F,ne){return this._findPluginFor(F).addEventListener(P,F,ne)}getZone(){return this._zone}_findPluginFor(P){let F=this._eventNameToPlugin.get(P);if(F)return F;if(F=this._plugins.find(ge=>ge.supports(P)),!F)throw new a.wOt(5101,!1);return this._eventNameToPlugin.set(P,F),F}static{this.\u0275fac=function(F){return new(F||te)(a.KVO(oe),a.KVO(a.SKi))}}static{this.\u0275prov=a.jDH({token:te,factory:te.\u0275fac})}}return te})();class rt{constructor(k){this._doc=k}}const $e="ng-app-id";let Tt=(()=>{class te{constructor(P,F,ne,ge={}){this.doc=P,this.appId=F,this.nonce=ne,this.platformId=ge,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,le.Vy)(ge),this.resetHostNodes()}addStyles(P){for(const F of P)1===this.changeUsageCount(F,1)&&this.onStyleAdded(F)}removeStyles(P){for(const F of P)this.changeUsageCount(F,-1)<=0&&this.onStyleRemoved(F)}ngOnDestroy(){const P=this.styleNodesInDOM;P&&(P.forEach(F=>F.remove()),P.clear());for(const F of this.getAllStyles())this.onStyleRemoved(F);this.resetHostNodes()}addHost(P){this.hostNodes.add(P);for(const F of this.getAllStyles())this.addStyleToHost(P,F)}removeHost(P){this.hostNodes.delete(P)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(P){for(const F of this.hostNodes)this.addStyleToHost(F,P)}onStyleRemoved(P){const F=this.styleRef;F.get(P)?.elements?.forEach(ne=>ne.remove()),F.delete(P)}collectServerRenderedStyles(){const P=this.doc.head?.querySelectorAll(`style[${$e}="${this.appId}"]`);if(P?.length){const F=new Map;return P.forEach(ne=>{null!=ne.textContent&&F.set(ne.textContent,ne)}),F}return null}changeUsageCount(P,F){const ne=this.styleRef;if(ne.has(P)){const ge=ne.get(P);return ge.usage+=F,ge.usage}return ne.set(P,{usage:F,elements:[]}),F}getStyleElement(P,F){const ne=this.styleNodesInDOM,ge=ne?.get(F);if(ge?.parentNode===P)return ne.delete(F),ge.removeAttribute($e),ge;{const ot=this.doc.createElement("style");return this.nonce&&ot.setAttribute("nonce",this.nonce),ot.textContent=F,this.platformIsServer&&ot.setAttribute($e,this.appId),ot}}addStyleToHost(P,F){const ne=this.getStyleElement(P,F);P.appendChild(ne);const ge=this.styleRef,ot=ge.get(F)?.elements;ot?ot.push(ne):ge.set(F,{elements:[ne],usage:1})}resetHostNodes(){const P=this.hostNodes;P.clear(),P.add(this.doc.head)}static{this.\u0275fac=function(F){return new(F||te)(a.KVO(le.qQ),a.KVO(a.sZ2),a.KVO(a.BIS,8),a.KVO(a.Agw))}}static{this.\u0275prov=a.jDH({token:te,factory:te.\u0275fac})}}return te})();const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vt=/%COMP%/g,Je=new a.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Dt(te,k){return k.map(P=>P.replace(vt,te))}let Ot=(()=>{class te{constructor(P,F,ne,ge,ot,At,an,fn=null){this.eventManager=P,this.sharedStylesHost=F,this.appId=ne,this.removeStylesOnCompDestroy=ge,this.doc=ot,this.platformId=At,this.ngZone=an,this.nonce=fn,this.rendererByCompId=new Map,this.platformIsServer=(0,le.Vy)(At),this.defaultRenderer=new we(P,ot,an,this.platformIsServer)}createRenderer(P,F){if(!P||!F)return this.defaultRenderer;this.platformIsServer&&F.encapsulation===a.gXe.ShadowDom&&(F={...F,encapsulation:a.gXe.Emulated});const ne=this.getOrCreateRenderer(P,F);return ne instanceof Kt?ne.applyToHost(P):ne instanceof jt&&ne.applyStyles(),ne}getOrCreateRenderer(P,F){const ne=this.rendererByCompId;let ge=ne.get(F.id);if(!ge){const ot=this.doc,At=this.ngZone,an=this.eventManager,fn=this.sharedStylesHost,Dn=this.removeStylesOnCompDestroy,vr=this.platformIsServer;switch(F.encapsulation){case a.gXe.Emulated:ge=new Kt(an,fn,F,this.appId,Dn,ot,At,vr);break;case a.gXe.ShadowDom:return new Mt(an,fn,P,F,ot,At,this.nonce,vr);default:ge=new jt(an,fn,F,Dn,ot,At,vr)}ne.set(F.id,ge)}return ge}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(F){return new(F||te)(a.KVO(pe),a.KVO(Tt),a.KVO(a.sZ2),a.KVO(Je),a.KVO(le.qQ),a.KVO(a.Agw),a.KVO(a.SKi),a.KVO(a.BIS))}}static{this.\u0275prov=a.jDH({token:te,factory:te.\u0275fac})}}return te})();class we{constructor(k,P,F,ne){this.eventManager=k,this.doc=P,this.ngZone=F,this.platformIsServer=ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(k,P){return P?this.doc.createElementNS(wt[P]||P,k):this.doc.createElement(k)}createComment(k){return this.doc.createComment(k)}createText(k){return this.doc.createTextNode(k)}appendChild(k,P){(ur(k)?k.content:k).appendChild(P)}insertBefore(k,P,F){k&&(ur(k)?k.content:k).insertBefore(P,F)}removeChild(k,P){k&&k.removeChild(P)}selectRootElement(k,P){let F="string"==typeof k?this.doc.querySelector(k):k;if(!F)throw new a.wOt(-5104,!1);return P||(F.textContent=""),F}parentNode(k){return k.parentNode}nextSibling(k){return k.nextSibling}setAttribute(k,P,F,ne){if(ne){P=ne+":"+P;const ge=wt[ne];ge?k.setAttributeNS(ge,P,F):k.setAttribute(P,F)}else k.setAttribute(P,F)}removeAttribute(k,P,F){if(F){const ne=wt[F];ne?k.removeAttributeNS(ne,P):k.removeAttribute(`${F}:${P}`)}else k.removeAttribute(P)}addClass(k,P){k.classList.add(P)}removeClass(k,P){k.classList.remove(P)}setStyle(k,P,F,ne){ne&(a.czy.DashCase|a.czy.Important)?k.style.setProperty(P,F,ne&a.czy.Important?"important":""):k.style[P]=F}removeStyle(k,P,F){F&a.czy.DashCase?k.style.removeProperty(P):k.style[P]=""}setProperty(k,P,F){k[P]=F}setValue(k,P){k.nodeValue=P}listen(k,P,F){if("string"==typeof k&&!(k=(0,le.QT)().getGlobalEventTarget(this.doc,k)))throw new Error(`Unsupported event target ${k} for event ${P}`);return this.eventManager.addEventListener(k,P,this.decoratePreventDefault(F))}decoratePreventDefault(k){return P=>{if("__ngUnwrap__"===P)return k;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>k(P)):k(P))&&P.preventDefault()}}}function ur(te){return"TEMPLATE"===te.tagName&&void 0!==te.content}class Mt extends we{constructor(k,P,F,ne,ge,ot,At,an){super(k,ge,ot,an),this.sharedStylesHost=P,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const fn=Dt(ne.id,ne.styles);for(const Dn of fn){const vr=document.createElement("style");At&&vr.setAttribute("nonce",At),vr.textContent=Dn,this.shadowRoot.appendChild(vr)}}nodeOrShadowRoot(k){return k===this.hostEl?this.shadowRoot:k}appendChild(k,P){return super.appendChild(this.nodeOrShadowRoot(k),P)}insertBefore(k,P,F){return super.insertBefore(this.nodeOrShadowRoot(k),P,F)}removeChild(k,P){return super.removeChild(this.nodeOrShadowRoot(k),P)}parentNode(k){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(k)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jt extends we{constructor(k,P,F,ne,ge,ot,At,an){super(k,ge,ot,At),this.sharedStylesHost=P,this.removeStylesOnCompDestroy=ne,this.styles=an?Dt(an,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Kt extends jt{constructor(k,P,F,ne,ge,ot,At,an){const fn=ne+"-"+F.id;super(k,P,F,ge,ot,At,an,fn),this.contentAttr=function We(te){return"_ngcontent-%COMP%".replace(vt,te)}(fn),this.hostAttr=function it(te){return"_nghost-%COMP%".replace(vt,te)}(fn)}applyToHost(k){this.applyStyles(),this.setAttribute(k,this.hostAttr,"")}createElement(k,P){const F=super.createElement(k,P);return super.setAttribute(F,this.contentAttr,""),F}}let lt=(()=>{class te extends rt{constructor(P){super(P)}supports(P){return!0}addEventListener(P,F,ne){return P.addEventListener(F,ne,!1),()=>this.removeEventListener(P,F,ne)}removeEventListener(P,F,ne){return P.removeEventListener(F,ne)}static{this.\u0275fac=function(F){return new(F||te)(a.KVO(le.qQ))}}static{this.\u0275prov=a.jDH({token:te,factory:te.\u0275fac})}}return te})();const ke=["alt","control","meta","shift"],Ze={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jt={alt:te=>te.altKey,control:te=>te.ctrlKey,meta:te=>te.metaKey,shift:te=>te.shiftKey};let je=(()=>{class te extends rt{constructor(P){super(P)}supports(P){return null!=te.parseEventName(P)}addEventListener(P,F,ne){const ge=te.parseEventName(F),ot=te.eventCallback(ge.fullKey,ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,le.QT)().onAndCancel(P,ge.domEventName,ot))}static parseEventName(P){const F=P.toLowerCase().split("."),ne=F.shift();if(0===F.length||"keydown"!==ne&&"keyup"!==ne)return null;const ge=te._normalizeKey(F.pop());let ot="",At=F.indexOf("code");if(At>-1&&(F.splice(At,1),ot="code."),ke.forEach(fn=>{const Dn=F.indexOf(fn);Dn>-1&&(F.splice(Dn,1),ot+=fn+".")}),ot+=ge,0!=F.length||0===ge.length)return null;const an={};return an.domEventName=ne,an.fullKey=ot,an}static matchEventFullKeyCode(P,F){let ne=Ze[P.key]||P.key,ge="";return F.indexOf("code.")>-1&&(ne=P.code,ge="code."),!(null==ne||!ne)&&(ne=ne.toLowerCase()," "===ne?ne="space":"."===ne&&(ne="dot"),ke.forEach(ot=>{ot!==ne&&(0,Jt[ot])(P)&&(ge+=ot+".")}),ge+=ne,ge===F)}static eventCallback(P,F,ne){return ge=>{te.matchEventFullKeyCode(ge,P)&&ne.runGuarded(()=>F(ge))}}static _normalizeKey(P){return"esc"===P?"escape":P}static{this.\u0275fac=function(F){return new(F||te)(a.KVO(le.qQ))}}static{this.\u0275prov=a.jDH({token:te,factory:te.\u0275fac})}}return te})();const tn=(0,a.oH4)(a.fpN,"browser",[{provide:a.Agw,useValue:le.AJ},{provide:a.PLl,useValue:function Xe(){be.makeCurrent()},multi:!0},{provide:le.qQ,useFactory:function Cn(){return(0,a.TL$)(document),document},deps:[]}]),Ln=new a.nKC(""),Ft=[{provide:a.e01,useClass:class Re{addToWindow(k){a.JZv.getAngularTestability=(F,ne=!0)=>{const ge=k.findTestabilityInTree(F,ne);if(null==ge)throw new a.wOt(5103,!1);return ge},a.JZv.getAllAngularTestabilities=()=>k.getAllTestabilities(),a.JZv.getAllAngularRootElements=()=>k.getAllRootElements(),a.JZv.frameworkStabilizers||(a.JZv.frameworkStabilizers=[]),a.JZv.frameworkStabilizers.push(F=>{const ne=a.JZv.getAllAngularTestabilities();let ge=ne.length,ot=!1;const At=function(an){ot=ot||an,ge--,0==ge&&F(ot)};ne.forEach(an=>{an.whenStable(At)})})}findTestabilityInTree(k,P,F){return null==P?null:k.getTestability(P)??(F?(0,le.QT)().isShadowRoot(P)?this.findTestabilityInTree(k,P.host,!0):this.findTestabilityInTree(k,P.parentElement,!0):null)}},deps:[]},{provide:a.WHO,useClass:a.NYb,deps:[a.SKi,a.giA,a.e01]},{provide:a.NYb,useClass:a.NYb,deps:[a.SKi,a.giA,a.e01]}],Hn=[{provide:a.H8p,useValue:"root"},{provide:a.zcH,useFactory:function Nt(){return new a.zcH},deps:[]},{provide:oe,useClass:lt,multi:!0,deps:[le.qQ,a.SKi,a.Agw]},{provide:oe,useClass:je,multi:!0,deps:[le.qQ]},Ot,Tt,pe,{provide:a._9s,useExisting:Ot},{provide:le.N0,useClass:ee,deps:[]},[]];let On=(()=>{class te{constructor(P){}static withServerTransition(P){return{ngModule:te,providers:[{provide:a.sZ2,useValue:P.appId}]}}static{this.\u0275fac=function(F){return new(F||te)(a.KVO(Ln,12))}}static{this.\u0275mod=a.$C({type:te})}static{this.\u0275inj=a.G2t({providers:[...Hn,...Ft],imports:[le.MD,a.Hbi]})}}return te})(),Ut=(()=>{class te{constructor(P){this._doc=P,this._dom=(0,le.QT)()}addTag(P,F=!1){return P?this._getOrCreateElement(P,F):null}addTags(P,F=!1){return P?P.reduce((ne,ge)=>(ge&&ne.push(this._getOrCreateElement(ge,F)),ne),[]):[]}getTag(P){return P&&this._doc.querySelector(`meta[${P}]`)||null}getTags(P){if(!P)return[];const F=this._doc.querySelectorAll(`meta[${P}]`);return F?[].slice.call(F):[]}updateTag(P,F){if(!P)return null;F=F||this._parseSelector(P);const ne=this.getTag(F);return ne?this._setMetaElementAttributes(P,ne):this._getOrCreateElement(P,!0)}removeTag(P){this.removeTagElement(this.getTag(P))}removeTagElement(P){P&&this._dom.remove(P)}_getOrCreateElement(P,F=!1){if(!F){const ot=this._parseSelector(P),At=this.getTags(ot).filter(an=>this._containsAttributes(P,an))[0];if(void 0!==At)return At}const ne=this._dom.createElement("meta");return this._setMetaElementAttributes(P,ne),this._doc.getElementsByTagName("head")[0].appendChild(ne),ne}_setMetaElementAttributes(P,F){return Object.keys(P).forEach(ne=>F.setAttribute(this._getMetaKeyMap(ne),P[ne])),F}_parseSelector(P){const F=P.name?"name":"property";return`${F}="${P[F]}"`}_containsAttributes(P,F){return Object.keys(P).every(ne=>F.getAttribute(this._getMetaKeyMap(ne))===P[ne])}_getMetaKeyMap(P){return yr[P]||P}static{this.\u0275fac=function(F){return new(F||te)(a.KVO(le.qQ))}}static{this.\u0275prov=a.jDH({token:te,factory:function(F){let ne=null;return ne=F?new F:function Gt(){return new Ut((0,a.KVO)(le.qQ))}(),ne},providedIn:"root"})}}return te})();const yr={httpEquiv:"http-equiv"};let Mr=(()=>{class te{constructor(P){this._doc=P}getTitle(){return this._doc.title}setTitle(P){this._doc.title=P||""}static{this.\u0275fac=function(F){return new(F||te)(a.KVO(le.qQ))}}static{this.\u0275prov=a.jDH({token:te,factory:function(F){let ne=null;return ne=F?new F:function on(){return new Mr((0,a.KVO)(le.qQ))}(),ne},providedIn:"root"})}}return te})();typeof window<"u"&&window;let Pi=(()=>{class te{static{this.\u0275fac=function(F){return new(F||te)}}static{this.\u0275prov=a.jDH({token:te,factory:function(F){let ne=null;return ne=F?new(F||te):a.KVO(pt),ne},providedIn:"root"})}}return te})(),pt=(()=>{class te extends Pi{constructor(P){super(),this._doc=P}sanitize(P,F){if(null==F)return null;switch(P){case a.WPN.NONE:return F;case a.WPN.HTML:return(0,a.ZF7)(F,"HTML")?(0,a.rcV)(F):(0,a.h9k)(this._doc,String(F)).toString();case a.WPN.STYLE:return(0,a.ZF7)(F,"Style")?(0,a.rcV)(F):F;case a.WPN.SCRIPT:if((0,a.ZF7)(F,"Script"))return(0,a.rcV)(F);throw new a.wOt(5200,!1);case a.WPN.URL:return(0,a.ZF7)(F,"URL")?(0,a.rcV)(F):(0,a.$MX)(String(F));case a.WPN.RESOURCE_URL:if((0,a.ZF7)(F,"ResourceURL"))return(0,a.rcV)(F);throw new a.wOt(5201,!1);default:throw new a.wOt(5202,!1)}}bypassSecurityTrustHtml(P){return(0,a.Kcf)(P)}bypassSecurityTrustStyle(P){return(0,a.cWb)(P)}bypassSecurityTrustScript(P){return(0,a.UyX)(P)}bypassSecurityTrustUrl(P){return(0,a.osQ)(P)}bypassSecurityTrustResourceUrl(P){return(0,a.e5t)(P)}static{this.\u0275fac=function(F){return new(F||te)(a.KVO(le.qQ))}}static{this.\u0275prov=a.jDH({token:te,factory:function(F){let ne=null;return ne=F?new F:function et(te){return new pt(te.get(le.qQ))}(a.KVO(a.zZn)),ne},providedIn:"root"})}}return te})()},6814:(nn,qe,U)=>{U.d(qe,{nX:()=>Kn,Ix:()=>gi,Wk:()=>Hs,wQ:()=>_s,iI:()=>wc,n3:()=>$i});var a=U(7705),le=U(1985),s=U(8071),me=U(8455),De=U(7673),Ae=U(4412),Ne=U(3073),Re=U(3669),ee=U(6450),oe=U(3794),pe=U(8496),rt=U(4360),$e=U(5225);function Tt(...D){const O=(0,oe.lI)(D),w=(0,oe.ms)(D),{args:N,keys:H}=(0,Ne.D)(D);if(0===N.length)return(0,me.H)([],O);const ce=new le.c(function wt(D,O,w=Re.D){return N=>{vt(O,()=>{const{length:H}=D,ce=new Array(H);let Se=H,mt=H;for(let ft=0;ft<H;ft++)vt(O,()=>{const yn=(0,me.H)(D[ft],O);let hr=!1;yn.subscribe((0,rt._)(N,ar=>{ce[ft]=ar,hr||(hr=!0,mt--),mt||N.next(w(ce.slice()))},()=>{--Se||N.complete()}))},N)},N)}}(N,O,H?Se=>(0,pe.e)(H,Se):Re.D));return w?ce.pipe((0,ee.I)(w)):ce}function vt(D,O,w){D?(0,$e.N)(w,D,O):O()}var St=U(9350),Pt=U(8793),Le=U(8750);function ye(D){return new le.c(O=>{(0,Le.Tg)(D()).subscribe(O)})}var Je=U(1203),We=U(8810),it=U(983),Dt=U(8359),Ot=U(9974);function we(){return(0,Ot.N)((D,O)=>{let w=null;D._refCount++;const N=(0,rt._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const H=D._connection,ce=w;w=null,H&&(!ce||H===ce)&&H.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(w=D.connect())})}class en extends le.c{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ot.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Dt.yU;const w=this.getSubject();O.add(this.source.subscribe((0,rt._)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Dt.yU.EMPTY)}return O}refCount(){return we()(this)}}var mn=U(1413),ur=U(177),Mt=U(6354),jt=U(5558),Kt=U(6697),lt=U(9172),ke=U(5964),Ze=U(1397),Jt=U(1594),je=U(274),Te=U(8141),Ee=U(9437),Fe=U(2816),tt=U(9901);function Xe(D){return D<=0?()=>it.w:(0,Ot.N)((O,w)=>{let N=[];O.subscribe((0,rt._)(w,H=>{N.push(H),D<N.length&&N.shift()},()=>{for(const H of N)w.next(H);w.complete()},void 0,()=>{N=null}))})}var Nt=U(3774),tn=U(980),Ln=U(5343),Hn=U(6365),On=U(345);const Gt="primary",Ut=Symbol("RouteTitle");class yr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function on(D){return new yr(D)}function Mr(D,O,w){const N=w.path.split("/");if(N.length>D.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const H={};for(let ce=0;ce<N.length;ce++){const Se=N[ce],mt=D[ce];if(Se.startsWith(":"))H[Se.substring(1)]=mt;else if(Se!==mt.path)return null}return{consumed:D.slice(0,N.length),posParams:H}}function Bt(D,O){const w=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let H;for(let ce=0;ce<w.length;ce++)if(H=w[ce],!bn(D[H],O[H]))return!1;return!0}function bn(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const w=[...D].sort(),N=[...O].sort();return w.every((H,ce)=>N[ce]===H)}return D===O}function zn(D){return D.length>0?D[D.length-1]:null}function In(D){return function be(D){return!!D&&(D instanceof le.c||(0,s.T)(D.lift)&&(0,s.T)(D.subscribe))}(D)?D:(0,a.jNT)(D)?(0,me.H)(Promise.resolve(D)):(0,De.of)(D)}const jr={exact:function ui(D,O,w){if(!pt(D.segments,O.segments)||!tr(D.segments,O.segments,w)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!ui(D.children[N],O.children[N],w))return!1;return!0},subset:hn},br={exact:function Yn(D,O){return Bt(D,O)},subset:function gs(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(w=>bn(D[w],O[w]))},ignored:()=>!0};function Xr(D,O,w){return jr[w.paths](D.root,O.root,w.matrixParams)&&br[w.queryParams](D.queryParams,O.queryParams)&&!("exact"===w.fragment&&D.fragment!==O.fragment)}function hn(D,O,w){return Qr(D,O,O.segments,w)}function Qr(D,O,w,N){if(D.segments.length>w.length){const H=D.segments.slice(0,w.length);return!(!pt(H,w)||O.hasChildren()||!tr(H,w,N))}if(D.segments.length===w.length){if(!pt(D.segments,w)||!tr(D.segments,w,N))return!1;for(const H in O.children)if(!D.children[H]||!hn(D.children[H],O.children[H],N))return!1;return!0}{const H=w.slice(0,D.segments.length),ce=w.slice(D.segments.length);return!!(pt(D.segments,H)&&tr(D.segments,H,N)&&D.children[Gt])&&Qr(D.children[Gt],O,ce,N)}}function tr(D,O,w){return O.every((N,H)=>br[w](D[H].parameters,N.parameters))}class Cr{constructor(O=new Wn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return Wt.serialize(this)}}class Wn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $n(this)}}class Pi{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return ne(this)}}function pt(D,O){return D.length===O.length&&D.every((w,N)=>w.path===O[N].path)}let xe=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:function(){return new yt},providedIn:"root"})}}return D})();class yt{parse(O){const w=new ks(O);return new Cr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${Fr(O.root,!0)}`,N=function ot(D){const O=Object.keys(D).map(w=>{const N=D[w];return Array.isArray(N)?N.map(H=>`${sn(w)}=${sn(H)}`).join("&"):`${sn(w)}=${sn(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function te(D){return encodeURI(D)}(O.fragment)}`:""}`}}const Wt=new yt;function $n(D){return D.segments.map(O=>ne(O)).join("/")}function Fr(D,O){if(!D.hasChildren())return $n(D);if(O){const w=D.children[Gt]?Fr(D.children[Gt],!1):"",N=[];return Object.entries(D.children).forEach(([H,ce])=>{H!==Gt&&N.push(`${H}:${Fr(ce,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function de(D,O){let w=[];return Object.entries(D.children).forEach(([N,H])=>{N===Gt&&(w=w.concat(O(H,N)))}),Object.entries(D.children).forEach(([N,H])=>{N!==Gt&&(w=w.concat(O(H,N)))}),w}(D,(N,H)=>H===Gt?[Fr(D.children[Gt],!1)]:[`${H}:${Fr(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Gt]?`${$n(D)}/${w[0]}`:`${$n(D)}/(${w.join("//")})`}}function Ue(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sn(D){return Ue(D).replace(/%3B/gi,";")}function k(D){return Ue(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function P(D){return decodeURIComponent(D)}function F(D){return P(D.replace(/\+/g,"%20"))}function ne(D){return`${k(D.path)}${function ge(D){return Object.keys(D).map(O=>`;${k(O)}=${k(D[O])}`).join("")}(D.parameters)}`}const At=/^[^\/()?;#]+/;function an(D){const O=D.match(At);return O?O[0]:""}const fn=/^[^\/()?;=#]+/,vr=/^[^=?&#]+/,Gr=/^[^&#]+/;class ks{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wn([],{}):new Wn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Gt]=new Wn(O,w)),N}parseSegment(){const O=an(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new a.wOt(4009,!1);return this.capture(O),new Pi(P(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function Dn(D){const O=D.match(fn);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const H=an(this.remaining);H&&(N=H,this.capture(N))}O[P(w)]=P(N)}parseQueryParam(O){const w=function cn(D){const O=D.match(vr);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Se=function fr(D){const O=D.match(Gr);return O?O[0]:""}(this.remaining);Se&&(N=Se,this.capture(N))}const H=F(w),ce=F(N);if(O.hasOwnProperty(H)){let Se=O[H];Array.isArray(Se)||(Se=[Se],O[H]=Se),Se.push(ce)}else O[H]=ce}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=an(this.remaining),H=this.remaining[N.length];if("/"!==H&&")"!==H&&";"!==H)throw new a.wOt(4010,!1);let ce;N.indexOf(":")>-1?(ce=N.slice(0,N.indexOf(":")),this.capture(ce),this.capture(":")):O&&(ce=Gt);const Se=this.parseChildren();w[ce]=1===Object.keys(Se).length?Se[Gt]:new Wn([],Se),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new a.wOt(4011,!1)}}function wi(D){return D.segments.length>0?new Wn([],{[Gt]:D}):D}function zi(D){const O={};for(const N of Object.keys(D.children)){const ce=zi(D.children[N]);if(N===Gt&&0===ce.segments.length&&ce.hasChildren())for(const[Se,mt]of Object.entries(ce.children))O[Se]=mt;else(ce.segments.length>0||ce.hasChildren())&&(O[N]=ce)}return function ki(D){if(1===D.numberOfChildren&&D.children[Gt]){const O=D.children[Gt];return new Wn(D.segments.concat(O.segments),O.children)}return D}(new Wn(D.segments,O))}function Ai(D){return D instanceof Cr}function Fs(D){let O;const H=wi(function w(ce){const Se={};for(const ft of ce.children){const yn=w(ft);Se[ft.outlet]=yn}const mt=new Wn(ce.url,Se);return ce===D&&(O=mt),mt}(D.root));return O??H}function Et(D,O,w,N){let H=D;for(;H.parent;)H=H.parent;if(0===O.length)return ln(H,H,H,w,N);const ce=function dr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Mn(!0,0,D);let O=0,w=!1;const N=D.reduce((H,ce,Se)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const mt={};return Object.entries(ce.outlets).forEach(([ft,yn])=>{mt[ft]="string"==typeof yn?yn.split("/"):yn}),[...H,{outlets:mt}]}if(ce.segmentPath)return[...H,ce.segmentPath]}return"string"!=typeof ce?[...H,ce]:0===Se?(ce.split("/").forEach((mt,ft)=>{0==ft&&"."===mt||(0==ft&&""===mt?w=!0:".."===mt?O++:""!=mt&&H.push(mt))}),H):[...H,ce]},[]);return new Mn(w,O,N)}(O);if(ce.toRoot())return ln(H,H,new Wn([],{}),w,N);const Se=function Kr(D,O,w){if(D.isAbsolute)return new Br(O,!0,0);if(!w)return new Br(O,!1,NaN);if(null===w.parent)return new Br(w,!0,0);const N=nt(D.commands[0])?0:1;return function Tr(D,O,w){let N=D,H=O,ce=w;for(;ce>H;){if(ce-=H,N=N.parent,!N)throw new a.wOt(4005,!1);H=N.segments.length}return new Br(N,!1,H-ce)}(w,w.segments.length-1+N,D.numberOfDoubleDots)}(ce,H,D),mt=Se.processChildren?ts(Se.segmentGroup,Se.index,ce.commands):ws(Se.segmentGroup,Se.index,ce.commands);return ln(H,Se.segmentGroup,mt,w,N)}function nt(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Rt(D){return"object"==typeof D&&null!=D&&D.outlets}function ln(D,O,w,N,H){let Se,ce={};N&&Object.entries(N).forEach(([ft,yn])=>{ce[ft]=Array.isArray(yn)?yn.map(hr=>`${hr}`):`${yn}`}),Se=D===O?w:Vn(D,O,w);const mt=wi(zi(Se));return new Cr(mt,ce,H)}function Vn(D,O,w){const N={};return Object.entries(D.children).forEach(([H,ce])=>{N[H]=ce===O?w:Vn(ce,O,w)}),new Wn(D.segments,N)}class Mn{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&nt(N[0]))throw new a.wOt(4003,!1);const H=N.find(Rt);if(H&&H!==zn(N))throw new a.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Br{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function ws(D,O,w){if(D||(D=new Wn([],{})),0===D.segments.length&&D.hasChildren())return ts(D,O,w);const N=function Lo(D,O,w){let N=0,H=O;const ce={match:!1,pathIndex:0,commandIndex:0};for(;H<D.segments.length;){if(N>=w.length)return ce;const Se=D.segments[H],mt=w[N];if(Rt(mt))break;const ft=`${mt}`,yn=N<w.length-1?w[N+1]:null;if(H>0&&void 0===ft)break;if(ft&&yn&&"object"==typeof yn&&void 0===yn.outlets){if(!ii(ft,yn,Se))return ce;N+=2}else{if(!ii(ft,{},Se))return ce;N++}H++}return{match:!0,pathIndex:H,commandIndex:N}}(D,O,w),H=w.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const ce=new Wn(D.segments.slice(0,N.pathIndex),{});return ce.children[Gt]=new Wn(D.segments.slice(N.pathIndex),D.children),ts(ce,0,H)}return N.match&&0===H.length?new Wn(D.segments,{}):N.match&&!D.hasChildren()?Vo(D,O,w):N.match?ts(D,0,H):Vo(D,O,w)}function ts(D,O,w){if(0===w.length)return new Wn(D.segments,{});{const N=function Wi(D){return Rt(D[0])?D[0].outlets:{[Gt]:D}}(w),H={};if(Object.keys(N).some(ce=>ce!==Gt)&&D.children[Gt]&&1===D.numberOfChildren&&0===D.children[Gt].segments.length){const ce=ts(D.children[Gt],O,w);return new Wn(D.segments,ce.children)}return Object.entries(N).forEach(([ce,Se])=>{"string"==typeof Se&&(Se=[Se]),null!==Se&&(H[ce]=ws(D.children[ce],O,Se))}),Object.entries(D.children).forEach(([ce,Se])=>{void 0===N[ce]&&(H[ce]=Se)}),new Wn(D.segments,H)}}function Vo(D,O,w){const N=D.segments.slice(0,O);let H=0;for(;H<w.length;){const ce=w[H];if(Rt(ce)){const ft=Bi(ce.outlets);return new Wn(N,ft)}if(0===H&&nt(w[0])){N.push(new Pi(D.segments[O].path,Xo(w[0]))),H++;continue}const Se=Rt(ce)?ce.outlets[Gt]:`${ce}`,mt=H<w.length-1?w[H+1]:null;Se&&mt&&nt(mt)?(N.push(new Pi(Se,Xo(mt))),H+=2):(N.push(new Pi(Se,{})),H++)}return new Wn(N,{})}function Bi(D){const O={};return Object.entries(D).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=Vo(new Wn([],{}),0,N))}),O}function Xo(D){const O={};return Object.entries(D).forEach(([w,N])=>O[w]=`${N}`),O}function ii(D,O,w){return D==w.path&&Bt(O,w.parameters)}const ns="imperative";class ms{constructor(O,w){this.id=O,this.url=w}}class qr extends ms{constructor(O,w,N="imperative",H=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ki extends ms{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oi extends ms{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wr extends ms{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=16}}class co extends ms{constructor(O,w,N,H){super(O,w),this.error=N,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Uo extends ms{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di extends ms{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fa extends ms{constructor(O,w,N,H,ce){super(O,w),this.urlAfterRedirects=N,this.state=H,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Za extends ms{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xi extends ms{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ea{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ks{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jr{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ls{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Us{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pr{}class hi{constructor(O){this.url=O}}class As{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new fi,this.attachRef=null}}let fi=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const H=this.getOrCreateContext(w);H.outlet=N,this.contexts.set(w,H)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new As,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class ls{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=lo(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=lo(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=rs(O,this._root);return w.length<2?[]:w[w.length-2].children.map(H=>H.value).filter(H=>H!==O)}pathFromRoot(O){return rs(O,this._root).map(w=>w.value)}}function lo(D,O){if(D===O.value)return O;for(const w of O.children){const N=lo(D,w);if(N)return N}return null}function rs(D,O){if(D===O.value)return[O];for(const w of O.children){const N=rs(D,w);if(N.length)return N.unshift(O),N}return[]}class Es{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function js(D){const O={};return D&&D.children.forEach(w=>O[w.value.outlet]=w),O}class si extends ls{constructor(O,w){super(O),this.snapshot=w,Rr(this,O)}toString(){return this.snapshot.toString()}}function pn(D,O){const w=function Fn(D,O){const Se=new Mi([],{},{},"",{},Gt,O,null,{});return new us("",new Es(Se,[]))}(0,O),N=new Ae.t([new Pi("",{})]),H=new Ae.t({}),ce=new Ae.t({}),Se=new Ae.t({}),mt=new Ae.t(""),ft=new Kn(N,H,Se,mt,ce,Gt,O,w.root);return ft.snapshot=w.root,new si(new Es(ft,[]),w)}class Kn{constructor(O,w,N,H,ce,Se,mt,ft){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=H,this.dataSubject=ce,this.outlet=Se,this.component=mt,this._futureSnapshot=ft,this.title=this.dataSubject?.pipe((0,Mt.T)(yn=>yn[Ut]))??(0,De.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.T)(O=>on(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.T)(O=>on(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oi(D,O="emptyOnly"){const w=D.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const H=w[N],ce=w[N-1];if(H.routeConfig&&""===H.routeConfig.path)N--;else{if(ce.component)break;N--}}return function Zr(D){return D.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class Mi{get title(){return this.data?.[Ut]}constructor(O,w,N,H,ce,Se,mt,ft,yn){this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=ce,this.outlet=Se,this.component=mt,this.routeConfig=ft,this._resolve=yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class us extends ls{constructor(O,w){super(w),this.url=O,Rr(this,w)}toString(){return Vi(this._root)}}function Rr(D,O){O.value._routerState=D,O.children.forEach(w=>Rr(D,w))}function Vi(D){const O=D.children.length>0?` { ${D.children.map(Vi).join(", ")} } `:"";return`${D.value}${O}`}function bs(D){if(D.snapshot){const O=D.snapshot,w=D._futureSnapshot;D.snapshot=w,Bt(O.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),Bt(O.params,w.params)||D.paramsSubject.next(w.params),function Zn(D,O){if(D.length!==O.length)return!1;for(let w=0;w<D.length;++w)if(!Bt(D[w],O[w]))return!1;return!0}(O.url,w.url)||D.urlSubject.next(w.url),Bt(O.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Qn(D,O){const w=Bt(D.params,O.params)&&function et(D,O){return pt(D,O)&&D.every((w,N)=>Bt(w.parameters,O[N].parameters))}(D.url,O.url);return w&&!(!D.parent!=!O.parent)&&(!D.parent||Qn(D.parent,O.parent))}let $i=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gt,this.activateEvents=new a.bkB,this.deactivateEvents=new a.bkB,this.attachEvents=new a.bkB,this.detachEvents=new a.bkB,this.parentContexts=(0,a.WQX)(fi),this.location=(0,a.WQX)(a.c1b),this.changeDetector=(0,a.WQX)(a.gRc),this.environmentInjector=(0,a.WQX)(a.uvJ),this.inputBinder=(0,a.WQX)(Z,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:H}=w.name;if(N)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new a.wOt(4013,!1);this._activatedRoute=w;const H=this.location,Se=w.snapshot.component,mt=this.parentContexts.getOrCreateContext(this.name).children,ft=new Ds(w,mt,H.injector);this.activated=H.createComponent(Se,{index:H.length,injector:ft,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=a.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.OA$]})}}return D})();class Ds{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===Kn?this.route:O===fi?this.childContexts:this.parent.get(O,w)}}const Z=new a.nKC("");let Q=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,H=Tt([N.queryParams,N.params,N.data]).pipe((0,jt.n)(([ce,Se,mt],ft)=>(mt={...ce,...Se,...mt},0===ft?(0,De.of)(mt):Promise.resolve(mt)))).subscribe(ce=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Se=(0,a.HJs)(N.component);if(Se)for(const{templateName:mt}of Se.inputs)w.activatedComponentRef.setInput(mt,ce[mt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,H)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac})}}return D})();function Me(D,O,w){if(w&&D.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const H=function Qe(D,O,w){return O.children.map(N=>{for(const H of w.children)if(D.shouldReuseRoute(N.value,H.value.snapshot))return Me(D,N,H);return Me(D,N)})}(D,O,w);return new Es(N,H)}{if(D.shouldAttach(O.value)){const ce=D.retrieve(O.value);if(null!==ce){const Se=ce.route;return Se.value._futureSnapshot=O.value,Se.children=O.children.map(mt=>Me(D,mt)),Se}}const N=function gt(D){return new Kn(new Ae.t(D.url),new Ae.t(D.params),new Ae.t(D.queryParams),new Ae.t(D.fragment),new Ae.t(D.data),D.outlet,D.component,D)}(O.value),H=O.children.map(ce=>Me(D,ce));return new Es(N,H)}}const Yt="ngNavigationCancelingError";function wn(D,O){const{redirectTo:w,navigationBehaviorOptions:N}=Ai(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,H=_n(!1,0,O);return H.url=w,H.navigationBehaviorOptions=N,H}function _n(D,O,w){const N=new Error("NavigationCancelingError: "+(D||""));return N[Yt]=!0,N.cancellationCode=O,w&&(N.url=w),N}function Ar(D){return D&&D[Yt]}let kn=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=a.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[a.aNF],decls:1,vars:0,template:function(N,H){1&N&&a.nrm(0,"router-outlet")},dependencies:[$i],encapsulation:2})}}return D})();function ai(D){const O=D.children&&D.children.map(ai),w=O?{...D,children:O}:{...D};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Gt&&(w.component=kn),w}function Nr(D){return D.outlet||Gt}function Qi(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class jo{constructor(O,w,N,H,ce){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=H,this.inputBindingEnabled=ce}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),bs(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const H=js(w);O.children.forEach(ce=>{const Se=ce.value.outlet;this.deactivateRoutes(ce,H[Se],N),delete H[Se]}),Object.values(H).forEach(ce=>{this.deactivateRouteAndItsChildren(ce,N)})}deactivateRoutes(O,w,N){const H=O.value,ce=w?w.value:null;if(H===ce)if(H.component){const Se=N.getContext(H.outlet);Se&&this.deactivateChildRoutes(O,w,Se.children)}else this.deactivateChildRoutes(O,w,N);else ce&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,ce=js(O);for(const Se of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Se],H);if(N&&N.outlet){const Se=N.outlet.detach(),mt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Se,route:O,contexts:mt})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,ce=js(O);for(const Se of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Se],H);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const H=js(w);O.children.forEach(ce=>{this.activateRoutes(ce,H[ce.value.outlet],N),this.forwardEvent(new To(ce.value.snapshot))}),O.children.length&&this.forwardEvent(new Ls(O.value.snapshot))}activateRoutes(O,w,N){const H=O.value,ce=w?w.value:null;if(bs(H),H===ce)if(H.component){const Se=N.getOrCreateContext(H.outlet);this.activateChildRoutes(O,w,Se.children)}else this.activateChildRoutes(O,w,N);else if(H.component){const Se=N.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const mt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Se.children.onOutletReAttached(mt.contexts),Se.attachRef=mt.componentRef,Se.route=mt.route.value,Se.outlet&&Se.outlet.attach(mt.componentRef,mt.route.value),bs(mt.route.value),this.activateChildRoutes(O,null,Se.children)}else{const mt=Qi(H.snapshot);Se.attachRef=null,Se.route=H,Se.injector=mt,Se.outlet&&Se.outlet.activateWith(H,Se.injector),this.activateChildRoutes(O,null,Se.children)}}else this.activateChildRoutes(O,null,N)}}class La{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Bs{constructor(O,w){this.component=O,this.route=w}}function kl(D,O,w){const N=D._root;return wo(N,O?O._root:null,w,[N.value])}function ds(D,O){const w=Symbol(),N=O.get(D,w);return N===w?"function"!=typeof D||(0,a.LfX)(D)?O.get(D):D:N}function wo(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const ce=js(O);return D.children.forEach(Se=>{(function ec(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const ce=D.value,Se=O?O.value:null,mt=w?w.getContext(D.value.outlet):null;if(Se&&ce.routeConfig===Se.routeConfig){const ft=function Bo(D,O,w){if("function"==typeof w)return w(D,O);switch(w){case"pathParamsChange":return!pt(D.url,O.url);case"pathParamsOrQueryParamsChange":return!pt(D.url,O.url)||!Bt(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qn(D,O)||!Bt(D.queryParams,O.queryParams);default:return!Qn(D,O)}}(Se,ce,ce.routeConfig.runGuardsAndResolvers);ft?H.canActivateChecks.push(new La(N)):(ce.data=Se.data,ce._resolvedData=Se._resolvedData),wo(D,O,ce.component?mt?mt.children:null:w,N,H),ft&&mt&&mt.outlet&&mt.outlet.isActivated&&H.canDeactivateChecks.push(new Bs(mt.outlet.component,Se))}else Se&&yi(O,mt,H),H.canActivateChecks.push(new La(N)),wo(D,null,ce.component?mt?mt.children:null:w,N,H)})(Se,ce[Se.value.outlet],w,N.concat([Se.value]),H),delete ce[Se.value.outlet]}),Object.entries(ce).forEach(([Se,mt])=>yi(mt,w.getContext(Se),H)),H}function yi(D,O,w){const N=js(D),H=D.value;Object.entries(N).forEach(([ce,Se])=>{yi(Se,H.component?O?O.children.getContext(ce):null:O,w)}),w.canDeactivateChecks.push(new Bs(H.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,H))}function Ao(D){return"function"==typeof D}function Hi(D){return D instanceof St.G||"EmptyError"===D?.name}const Xs=Symbol("INITIAL_VALUE");function hs(){return(0,jt.n)(D=>Tt(D.map(O=>O.pipe((0,Kt.s)(1),(0,lt.Z)(Xs)))).pipe((0,Mt.T)(O=>{for(const w of O)if(!0!==w){if(w===Xs)return Xs;if(!1===w||w instanceof Cr)return w}return!0}),(0,ke.p)(O=>O!==Xs),(0,Kt.s)(1)))}function is(D){return(0,Je.F)((0,Te.M)(O=>{if(Ai(O))throw wn(0,O)}),(0,Mt.T)(O=>!0===O))}class Qs{constructor(O){this.segmentGroup=O||null}}class Ia{constructor(O){this.urlTree=O}}function Is(D){return(0,We.$)(new Qs(D))}function fa(D){return(0,We.$)(new Ia(D))}class tl{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new a.wOt(4002,!1)}lineralizeSegments(O,w){let N=[],H=w.root;for(;;){if(N=N.concat(H.segments),0===H.numberOfChildren)return(0,De.of)(N);if(H.numberOfChildren>1||!H.children[Gt])return(0,We.$)(new a.wOt(4e3,!1));H=H.children[Gt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,H){const ce=this.createSegmentGroup(O,w.root,N,H);return new Cr(ce,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([H,ce])=>{if("string"==typeof ce&&ce.startsWith(":")){const mt=ce.substring(1);N[H]=w[mt]}else N[H]=ce}),N}createSegmentGroup(O,w,N,H){const ce=this.createSegments(O,w.segments,N,H);let Se={};return Object.entries(w.children).forEach(([mt,ft])=>{Se[mt]=this.createSegmentGroup(O,ft,N,H)}),new Wn(ce,Se)}createSegments(O,w,N,H){return w.map(ce=>ce.path.startsWith(":")?this.findPosParam(O,ce,H):this.findOrReturn(ce,N))}findPosParam(O,w,N){const H=N[w.path.substring(1)];if(!H)throw new a.wOt(4001,!1);return H}findOrReturn(O,w){let N=0;for(const H of w){if(H.path===O.path)return w.splice(N),H;N++}return O}}const pr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ec(D,O,w,N,H){const ce=Do(D,O,w);return ce.matched?(N=function An(D,O){return D.providers&&!D._injector&&(D._injector=(0,a.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function Ca(D,O,w,N){const H=O.canMatch;if(!H||0===H.length)return(0,De.of)(!0);const ce=H.map(Se=>{const mt=ds(Se,D);return In(function Ve(D){return D&&Ao(D.canMatch)}(mt)?mt.canMatch(O,w):D.runInContext(()=>mt(O,w)))});return(0,De.of)(ce).pipe(hs(),is())}(N,O,w).pipe((0,Mt.T)(Se=>!0===Se?ce:{...pr}))):(0,De.of)(ce)}function Do(D,O,w){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||w.length>0)?{...pr}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const H=(O.matcher||Mr)(w,D,O);if(!H)return{...pr};const ce={};Object.entries(H.posParams??{}).forEach(([mt,ft])=>{ce[mt]=ft.path});const Se=H.consumed.length>0?{...ce,...H.consumed[H.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:H.consumed,remainingSegments:w.slice(H.consumed.length),parameters:Se,positionalParamSegments:H.posParams??{}}}function Jo(D,O,w,N){return w.length>0&&function bc(D,O,w){return w.some(N=>tc(D,O,N)&&Nr(N)!==Gt)}(D,w,N)?{segmentGroup:new Wn(O,Ua(N,new Wn(w,D.children))),slicedSegments:[]}:0===w.length&&function Vh(D,O,w){return w.some(N=>tc(D,O,N))}(D,w,N)?{segmentGroup:new Wn(D.segments,Va(D,0,w,N,D.children)),slicedSegments:w}:{segmentGroup:new Wn(D.segments,D.children),slicedSegments:w}}function Va(D,O,w,N,H){const ce={};for(const Se of N)if(tc(D,w,Se)&&!H[Nr(Se)]){const mt=new Wn([],{});ce[Nr(Se)]=mt}return{...H,...ce}}function Ua(D,O){const w={};w[Gt]=O;for(const N of D)if(""===N.path&&Nr(N)!==Gt){const H=new Wn([],{});w[Nr(N)]=H}return w}function tc(D,O,w){return(!(D.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class nl{constructor(O,w,N,H,ce,Se,mt){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=H,this.urlTree=ce,this.paramsInheritanceStrategy=Se,this.urlSerializer=mt,this.allowRedirects=!0,this.applyRedirects=new tl(this.urlSerializer,this.urlTree)}noMatchError(O){return new a.wOt(4002,!1)}recognize(){const O=Jo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Gt).pipe((0,Ee.W)(w=>{if(w instanceof Ia)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof Qs?this.noMatchError(w):w}),(0,Mt.T)(w=>{const N=new Mi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,{}),H=new Es(N,w),ce=new us("",H),Se=function or(D,O,w=null,N=null){return Et(Fs(D),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Se.queryParams=this.urlTree.queryParams,ce.url=this.urlSerializer.serialize(Se),this.inheritParamsAndData(ce._root),{state:ce,tree:Se}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Gt).pipe((0,Ee.W)(N=>{throw N instanceof Qs?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=oi(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(O,w,N,H){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,H,!0)}processChildren(O,w,N){const H=[];for(const ce of Object.keys(N.children))"primary"===ce?H.unshift(ce):H.push(ce);return(0,me.H)(H).pipe((0,je.H)(ce=>{const Se=N.children[ce],mt=function qs(D,O){const w=D.filter(N=>Nr(N)===O);return w.push(...D.filter(N=>Nr(N)!==O)),w}(w,ce);return this.processSegmentGroup(O,mt,Se,ce)}),(0,Fe.S)((ce,Se)=>(ce.push(...Se),ce)),(0,tt.U)(null),function Cn(D,O){const w=arguments.length>=2;return N=>N.pipe(D?(0,ke.p)((H,ce)=>D(H,ce,N)):Re.D,Xe(1),w?(0,tt.U)(O):(0,Nt.v)(()=>new St.G))}(),(0,Ze.Z)(ce=>{if(null===ce)return Is(N);const Se=ic(ce);return function Aa(D){D.sort((O,w)=>O.value.outlet===Gt?-1:w.value.outlet===Gt?1:O.value.outlet.localeCompare(w.value.outlet))}(Se),(0,De.of)(Se)}))}processSegment(O,w,N,H,ce,Se){return(0,me.H)(w).pipe((0,je.H)(mt=>this.processSegmentAgainstRoute(mt._injector??O,w,mt,N,H,ce,Se).pipe((0,Ee.W)(ft=>{if(ft instanceof Qs)return(0,De.of)(null);throw ft}))),(0,Jt.$)(mt=>!!mt),(0,Ee.W)(mt=>{if(Hi(mt))return function nc(D,O,w){return 0===O.length&&!D.children[w]}(N,H,ce)?(0,De.of)([]):Is(N);throw mt}))}processSegmentAgainstRoute(O,w,N,H,ce,Se,mt){return function Ll(D,O,w,N){return!!(Nr(D)===N||N!==Gt&&tc(O,w,D))&&("**"===D.path||Do(O,D,w).matched)}(N,H,ce,Se)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,H,N,ce,Se,mt):mt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,H,w,N,ce,Se):Is(H):Is(H)}expandSegmentAgainstRouteUsingRedirect(O,w,N,H,ce,Se){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,H,Se):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,ce,Se)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,H){const ce=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?fa(ce):this.applyRedirects.lineralizeSegments(N,ce).pipe((0,Ze.Z)(Se=>{const mt=new Wn(Se,{});return this.processSegment(O,w,mt,Se,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,ce,Se){const{matched:mt,consumedSegments:ft,remainingSegments:yn,positionalParamSegments:hr}=Do(w,H,ce);if(!mt)return Is(w);const ar=this.applyRedirects.applyRedirectCommands(ft,H.redirectTo,hr);return H.redirectTo.startsWith("/")?fa(ar):this.applyRedirects.lineralizeSegments(H,ar).pipe((0,Ze.Z)(kr=>this.processSegment(O,N,w,kr.concat(yn),Se,!1)))}matchSegmentAgainstRoute(O,w,N,H,ce,Se){let mt;if("**"===N.path){const ft=H.length>0?zn(H).parameters:{},yn=new Mi(H,ft,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vl(N),Nr(N),N.component??N._loadedComponent??null,N,M(N));mt=(0,De.of)({snapshot:yn,consumedSegments:[],remainingSegments:[]}),w.children={}}else mt=Ec(w,N,H,O).pipe((0,Mt.T)(({matched:ft,consumedSegments:yn,remainingSegments:hr,parameters:ar})=>ft?{snapshot:new Mi(yn,ar,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vl(N),Nr(N),N.component??N._loadedComponent??null,N,M(N)),consumedSegments:yn,remainingSegments:hr}:null));return mt.pipe((0,jt.n)(ft=>null===ft?Is(w):this.getChildConfig(O=N._injector??O,N,H).pipe((0,jt.n)(({routes:yn})=>{const hr=N._loadedInjector??O,{snapshot:ar,consumedSegments:kr,remainingSegments:mi}=ft,{segmentGroup:ac,slicedSegments:Dc}=Jo(w,kr,mi,yn);if(0===Dc.length&&ac.hasChildren())return this.processChildren(hr,yn,ac).pipe((0,Mt.T)(Sc=>null===Sc?null:[new Es(ar,Sc)]));if(0===yn.length&&0===Dc.length)return(0,De.of)([new Es(ar,[])]);const sl=Nr(N)===ce;return this.processSegment(hr,yn,ac,Dc,sl?Gt:ce,!0).pipe((0,Mt.T)(Sc=>[new Es(ar,Sc)]))}))))}getChildConfig(O,w,N){return w.children?(0,De.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,De.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function el(D,O,w,N){const H=O.canLoad;if(void 0===H||0===H.length)return(0,De.of)(!0);const ce=H.map(Se=>{const mt=ds(Se,D);return In(function W(D){return D&&Ao(D.canLoad)}(mt)?mt.canLoad(O,w):D.runInContext(()=>mt(O,w)))});return(0,De.of)(ce).pipe(hs(),is())}(O,w,N).pipe((0,Ze.Z)(H=>H?this.configLoader.loadChildren(O,w).pipe((0,Te.M)(ce=>{w._loadedRoutes=ce.routes,w._loadedInjector=ce.injector})):function wa(D){return(0,We.$)(_n(!1,3))}())):(0,De.of)({routes:[],injector:O})}}function rc(D){const O=D.value.routeConfig;return O&&""===O.path}function ic(D){const O=[],w=new Set;for(const N of D){if(!rc(N)){O.push(N);continue}const H=O.find(ce=>N.value.routeConfig===ce.value.routeConfig);void 0!==H?(H.children.push(...N.children),w.add(H)):O.push(N)}for(const N of w){const H=ic(N.children);O.push(new Es(N.value,H))}return O.filter(N=>!w.has(N))}function Vl(D){return D.data||{}}function M(D){return D.resolve||{}}function jn(D){return"string"==typeof D.title||null===D.title}function zr(D){return(0,jt.n)(O=>{const w=D(O);return w?(0,me.H)(w).pipe((0,Mt.T)(()=>O)):(0,De.of)(O)})}const pi=new a.nKC("ROUTES");let ei=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.WQX)(a.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,De.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=In(w.loadComponent()).pipe((0,Mt.T)(Ti),(0,Te.M)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ce}),(0,tn.j)(()=>{this.componentLoaders.delete(w)})),H=new en(N,()=>new mn.B).pipe(we());return this.componentLoaders.set(w,H),H}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,De.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ce=function gr(D,O,w,N){return In(D.loadChildren()).pipe((0,Mt.T)(Ti),(0,Ze.Z)(H=>H instanceof a.Co$||Array.isArray(H)?(0,De.of)(H):(0,me.H)(O.compileModuleAsync(H))),(0,Mt.T)(H=>{N&&N(D);let ce,Se,mt=!1;return Array.isArray(H)?(Se=H,!0):(ce=H.create(w).injector,Se=ce.get(pi,[],{optional:!0,self:!0}).flat()),{routes:Se.map(ai),injector:ce}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,tn.j)(()=>{this.childrenLoaders.delete(N)})),Se=new en(ce,()=>new mn.B).pipe(we());return this.childrenLoaders.set(N,Se),Se}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Ti(D){return function ti(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let vi=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mn.B,this.transitionAbortSubject=new mn.B,this.configLoader=(0,a.WQX)(ei),this.environmentInjector=(0,a.WQX)(a.uvJ),this.urlSerializer=(0,a.WQX)(xe),this.rootContexts=(0,a.WQX)(fi),this.inputBindingEnabled=null!==(0,a.WQX)(Z,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,De.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Ks(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new Ea(H))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,H){return this.transitions=new Ae.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ns,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ke.p)(ce=>0!==ce.id),(0,Mt.T)(ce=>({...ce,extractedUrl:w.urlHandlingStrategy.extract(ce.rawUrl)})),(0,jt.n)(ce=>{this.currentTransition=ce;let Se=!1,mt=!1;return(0,De.of)(ce).pipe((0,Te.M)(ft=>{this.currentNavigation={id:ft.id,initialUrl:ft.rawUrl,extractedUrl:ft.extractedUrl,trigger:ft.source,extras:ft.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,jt.n)(ft=>{const yn=ft.currentBrowserUrl.toString(),hr=!w.navigated||ft.extractedUrl.toString()!==yn||yn!==ft.currentUrlTree.toString();if(!hr&&"reload"!==(ft.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const kr="";return this.events.next(new wr(ft.id,this.urlSerializer.serialize(ft.rawUrl),kr,0)),ft.resolve(null),it.w}if(w.urlHandlingStrategy.shouldProcessUrl(ft.rawUrl))return(0,De.of)(ft).pipe((0,jt.n)(kr=>{const mi=this.transitions?.getValue();return this.events.next(new qr(kr.id,this.urlSerializer.serialize(kr.extractedUrl),kr.source,kr.restoredState)),mi!==this.transitions?.getValue()?it.w:Promise.resolve(kr)}),function re(D,O,w,N,H,ce){return(0,Ze.Z)(Se=>function $o(D,O,w,N,H,ce,Se="emptyOnly"){return new nl(D,O,w,N,H,Se,ce).recognize()}(D,O,w,N,Se.extractedUrl,H,ce).pipe((0,Mt.T)(({state:mt,tree:ft})=>({...Se,targetSnapshot:mt,urlAfterRedirects:ft}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Te.M)(kr=>{ce.targetSnapshot=kr.targetSnapshot,ce.urlAfterRedirects=kr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:kr.urlAfterRedirects};const mi=new Uo(kr.id,this.urlSerializer.serialize(kr.extractedUrl),this.urlSerializer.serialize(kr.urlAfterRedirects),kr.targetSnapshot);this.events.next(mi)}));if(hr&&w.urlHandlingStrategy.shouldProcessUrl(ft.currentRawUrl)){const{id:kr,extractedUrl:mi,source:ac,restoredState:Dc,extras:sl}=ft,Sc=new qr(kr,this.urlSerializer.serialize(mi),ac,Dc);this.events.next(Sc);const xu=pn(0,this.rootComponentType).snapshot;return this.currentTransition=ce={...ft,targetSnapshot:xu,urlAfterRedirects:mi,extras:{...sl,skipLocationChange:!1,replaceUrl:!1}},(0,De.of)(ce)}{const kr="";return this.events.next(new wr(ft.id,this.urlSerializer.serialize(ft.extractedUrl),kr,1)),ft.resolve(null),it.w}}),(0,Te.M)(ft=>{const yn=new di(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot);this.events.next(yn)}),(0,Mt.T)(ft=>(this.currentTransition=ce={...ft,guards:kl(ft.targetSnapshot,ft.currentSnapshot,this.rootContexts)},ce)),function uo(D,O){return(0,Ze.Z)(w=>{const{targetSnapshot:N,currentSnapshot:H,guards:{canActivateChecks:ce,canDeactivateChecks:Se}}=w;return 0===Se.length&&0===ce.length?(0,De.of)({...w,guardsResult:!0}):function eo(D,O,w,N){return(0,me.H)(D).pipe((0,Ze.Z)(H=>function Ui(D,O,w,N,H){const ce=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,De.of)(!0);const Se=ce.map(mt=>{const ft=Qi(O)??H,yn=ds(mt,ft);return In(function ue(D){return D&&Ao(D.canDeactivate)}(yn)?yn.canDeactivate(D,O,w,N):ft.runInContext(()=>yn(D,O,w,N))).pipe((0,Jt.$)())});return(0,De.of)(Se).pipe(hs())}(H.component,H.route,w,O,N)),(0,Jt.$)(H=>!0!==H,!0))}(Se,N,H,D).pipe((0,Ze.Z)(mt=>mt&&function Qo(D){return"boolean"==typeof D}(mt)?function Ji(D,O,w,N){return(0,me.H)(O).pipe((0,je.H)(H=>(0,Pt.x)(function Fl(D,O){return null!==D&&O&&O(new Jr(D)),(0,De.of)(!0)}(H.route.parent,N),function ho(D,O){return null!==D&&O&&O(new Vs(D)),(0,De.of)(!0)}(H.route,N),function ba(D,O,w){const N=O[O.length-1],ce=O.slice(0,O.length-1).reverse().map(Se=>function qi(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(Se)).filter(Se=>null!==Se).map(Se=>ye(()=>{const mt=Se.guards.map(ft=>{const yn=Qi(Se.node)??w,hr=ds(ft,yn);return In(function j(D){return D&&Ao(D.canActivateChild)}(hr)?hr.canActivateChild(N,D):yn.runInContext(()=>hr(N,D))).pipe((0,Jt.$)())});return(0,De.of)(mt).pipe(hs())}));return(0,De.of)(ce).pipe(hs())}(D,H.path,w),function fs(D,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,De.of)(!0);const H=N.map(ce=>ye(()=>{const Se=Qi(O)??w,mt=ds(ce,Se);return In(function J(D){return D&&Ao(D.canActivate)}(mt)?mt.canActivate(O,D):Se.runInContext(()=>mt(O,D))).pipe((0,Jt.$)())}));return(0,De.of)(H).pipe(hs())}(D,H.route,w))),(0,Jt.$)(H=>!0!==H,!0))}(N,ce,D,O):(0,De.of)(mt)),(0,Mt.T)(mt=>({...w,guardsResult:mt})))})}(this.environmentInjector,ft=>this.events.next(ft)),(0,Te.M)(ft=>{if(ce.guardsResult=ft.guardsResult,Ai(ft.guardsResult))throw wn(0,ft.guardsResult);const yn=new Fa(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot,!!ft.guardsResult);this.events.next(yn)}),(0,ke.p)(ft=>!!ft.guardsResult||(this.cancelNavigationTransition(ft,"",3),!1)),zr(ft=>{if(ft.guards.canActivateChecks.length)return(0,De.of)(ft).pipe((0,Te.M)(yn=>{const hr=new Za(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(hr)}),(0,jt.n)(yn=>{let hr=!1;return(0,De.of)(yn).pipe(function $(D,O){return(0,Ze.Z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:H}}=w;if(!H.length)return(0,De.of)(w);let ce=0;return(0,me.H)(H).pipe((0,je.H)(Se=>function Y(D,O,w,N){const H=D.routeConfig,ce=D._resolve;return void 0!==H?.title&&!jn(H)&&(ce[Ut]=H.title),function Pe(D,O,w,N){const H=function Ct(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===H.length)return(0,De.of)({});const ce={};return(0,me.H)(H).pipe((0,Ze.Z)(Se=>function kt(D,O,w,N){const H=Qi(O)??N,ce=ds(D,H);return In(ce.resolve?ce.resolve(O,w):H.runInContext(()=>ce(O,w)))}(D[Se],O,w,N).pipe((0,Jt.$)(),(0,Te.M)(mt=>{ce[Se]=mt}))),Xe(1),function rr(D){return(0,Mt.T)(()=>D)}(ce),(0,Ee.W)(Se=>Hi(Se)?it.w:(0,We.$)(Se)))}(ce,D,O,N).pipe((0,Mt.T)(Se=>(D._resolvedData=Se,D.data=oi(D,w).resolve,H&&jn(H)&&(D.data[Ut]=H.title),null)))}(Se.route,N,D,O)),(0,Te.M)(()=>ce++),Xe(1),(0,Ze.Z)(Se=>ce===H.length?(0,De.of)(w):it.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Te.M)({next:()=>hr=!0,complete:()=>{hr||this.cancelNavigationTransition(yn,"",2)}}))}),(0,Te.M)(yn=>{const hr=new xi(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(hr)}))}),zr(ft=>{const yn=hr=>{const ar=[];hr.routeConfig?.loadComponent&&!hr.routeConfig._loadedComponent&&ar.push(this.configLoader.loadComponent(hr.routeConfig).pipe((0,Te.M)(kr=>{hr.component=kr}),(0,Mt.T)(()=>{})));for(const kr of hr.children)ar.push(...yn(kr));return ar};return Tt(yn(ft.targetSnapshot.root)).pipe((0,tt.U)(),(0,Kt.s)(1))}),zr(()=>this.afterPreactivation()),(0,Mt.T)(ft=>{const yn=function Ie(D,O,w){const N=Me(D,O._root,w?w._root:void 0);return new si(N,O)}(w.routeReuseStrategy,ft.targetSnapshot,ft.currentRouterState);return this.currentTransition=ce={...ft,targetRouterState:yn},ce}),(0,Te.M)(()=>{this.events.next(new Pr)}),((D,O,w,N)=>(0,Mt.T)(H=>(new jo(O,H.targetRouterState,H.currentRouterState,w,N).activate(D),H)))(this.rootContexts,w.routeReuseStrategy,ft=>this.events.next(ft),this.inputBindingEnabled),(0,Kt.s)(1),(0,Te.M)({next:ft=>{Se=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ki(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects))),w.titleStrategy?.updateTitle(ft.targetRouterState.snapshot),ft.resolve(!0)},complete:()=>{Se=!0}}),function Ft(D){return(0,Ot.N)((O,w)=>{(0,Le.Tg)(D).subscribe((0,rt._)(w,()=>w.complete(),Ln.l)),!w.closed&&O.subscribe(w)})}(this.transitionAbortSubject.pipe((0,Te.M)(ft=>{throw ft}))),(0,tn.j)(()=>{Se||mt||this.cancelNavigationTransition(ce,"",1),this.currentNavigation?.id===ce.id&&(this.currentNavigation=null)}),(0,Ee.W)(ft=>{if(mt=!0,Ar(ft))this.events.next(new Oi(ce.id,this.urlSerializer.serialize(ce.extractedUrl),ft.message,ft.cancellationCode)),function Jn(D){return Ar(D)&&Ai(D.url)}(ft)?this.events.next(new hi(ft.url)):ce.resolve(!1);else{this.events.next(new co(ce.id,this.urlSerializer.serialize(ce.extractedUrl),ft,ce.targetSnapshot??void 0));try{ce.resolve(w.errorHandler(ft))}catch(yn){ce.reject(yn)}}return it.w}))}))}cancelNavigationTransition(w,N,H){const ce=new Oi(w.id,this.urlSerializer.serialize(w.extractedUrl),N,H);this.events.next(ce),w.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function fo(D){return D!==ns}let Ss=(()=>{class D{buildTitle(w){let N,H=w.root;for(;void 0!==H;)N=this.getResolvedTitleForRoute(H)??N,H=H.children.find(ce=>ce.outlet===Gt);return N}getResolvedTitleForRoute(w){return w.data[Ut]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:function(){return(0,a.WQX)(Ho)},providedIn:"root"})}}return D})(),Ho=(()=>{class D extends Ss{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(a.KVO(On.hE))}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),$s=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:function(){return(0,a.WQX)(Fi)},providedIn:"root"})}}return D})();class Zo{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let Fi=(()=>{class D extends Zo{static{this.\u0275fac=function(){let w;return function(H){return(w||(w=a.xGo(D)))(H||D)}}()}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const po=new a.nKC("",{providedIn:"root",factory:()=>({})});let Uh=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:function(){return(0,a.WQX)(Dr)},providedIn:"root"})}}return D})(),Dr=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Sr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Sr||{});function sc(D,O){D.events.pipe((0,ke.p)(w=>w instanceof Ki||w instanceof Oi||w instanceof co||w instanceof wr),(0,Mt.T)(w=>w instanceof Ki||w instanceof wr?Sr.COMPLETE:w instanceof Oi&&(0===w.code||1===w.code)?Sr.REDIRECTING:Sr.FAILED),(0,ke.p)(w=>w!==Sr.REDIRECTING),(0,Kt.s)(1)).subscribe(()=>{O()})}function to(D){throw D}function Iu(D,O,w){return O.parse("/")}const Ed={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gi=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.WQX)(a.H3F),this.isNgZoneEnabled=!1,this._events=new mn.B,this.options=(0,a.WQX)(po,{optional:!0})||{},this.pendingTasks=(0,a.WQX)(a.$K3),this.errorHandler=this.options.errorHandler||to,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Iu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.WQX)(Uh),this.routeReuseStrategy=(0,a.WQX)($s),this.titleStrategy=(0,a.WQX)(Ss),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.WQX)(pi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.WQX)(vi),this.urlSerializer=(0,a.WQX)(xe),this.location=(0,a.WQX)(ur.aZ),this.componentInputBindingEnabled=!!(0,a.WQX)(Z,{optional:!0}),this.eventsSubscription=new Dt.yU,this.isNgZoneEnabled=(0,a.WQX)(a.SKi)instanceof a.SKi&&a.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void($a(N)&&this._events.next(N));if(N instanceof qr)fo(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(N instanceof wr)this.rawUrlTree=H.rawUrl;else if(N instanceof Uo){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const ce=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(ce,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(N instanceof Pr)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(N instanceof Oi)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(H);else if(N instanceof hi){const ce=this.urlHandlingStrategy.merge(N.url,H.currentRawUrl),Se={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fo(H.source)};this.scheduleNavigation(ce,ns,null,Se,{resolve:H.resolve,reject:H.reject,promise:H.promise})}N instanceof co&&this.restoreHistory(H,!0),N instanceof Ki&&(this.navigated=!0),$a(N)&&this._events.next(N)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ns,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,H){const ce={replaceUrl:!0},Se=H?.navigationId?H:null;if(H){const ft={...H};delete ft.navigationId,delete ft.\u0275routerPageId,0!==Object.keys(ft).length&&(ce.state=ft)}const mt=this.parseUrl(w);this.scheduleNavigation(mt,N,Se,ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(ai),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:H,queryParams:ce,fragment:Se,queryParamsHandling:mt,preserveFragment:ft}=N,yn=ft?this.currentUrlTree.fragment:Se;let ar,hr=null;switch(mt){case"merge":hr={...this.currentUrlTree.queryParams,...ce};break;case"preserve":hr=this.currentUrlTree.queryParams;break;default:hr=ce||null}null!==hr&&(hr=this.removeEmptyProps(hr));try{ar=Fs(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),ar=this.currentUrlTree.root}return Et(ar,w,hr,yn??null)}navigateByUrl(w,N={skipLocationChange:!1}){const H=Ai(w)?w:this.parseUrl(w),ce=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(ce,ns,null,N)}navigate(w,N={skipLocationChange:!1}){return function Ba(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new a.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(H){N=this.malformedUriErrorHandler(H,this.urlSerializer,w)}return N}isActive(w,N){let H;if(H=!0===N?{...Ed}:!1===N?{...Cc}:N,Ai(w))return Xr(this.currentUrlTree,w,H);const ce=this.parseUrl(w);return Xr(this.currentUrlTree,ce,H)}removeEmptyProps(w){return Object.keys(w).reduce((N,H)=>{const ce=w[H];return null!=ce&&(N[H]=ce),N},{})}scheduleNavigation(w,N,H,ce,Se){if(this.disposed)return Promise.resolve(!1);let mt,ft,yn;Se?(mt=Se.resolve,ft=Se.reject,yn=Se.promise):yn=new Promise((ar,kr)=>{mt=ar,ft=kr});const hr=this.pendingTasks.add();return sc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(hr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ce,resolve:mt,reject:ft,promise:yn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yn.catch(ar=>Promise.reject(ar))}setBrowserUrl(w,N){const H=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(H)||N.extras.replaceUrl){const Se={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(H,"",Se)}else{const ce={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(H,"",ce)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-this.browserPageId;0!==ce?this.location.historyGo(ce):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ce&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function $a(D){return!(D instanceof Pr||D instanceof hi)}let Hs=(()=>{class D{constructor(w,N,H,ce,Se,mt){this.router=w,this.route=N,this.tabIndexAttribute=H,this.renderer=ce,this.el=Se,this.locationStrategy=mt,this.href=null,this.commands=null,this.onChanges=new mn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ft=Se.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ft||"area"===ft,this.isAnchorElement?this.subscription=w.events.subscribe(yn=>{yn instanceof Ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,H,ce,Se){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||H||ce||Se||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,a.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const H=this.renderer,ce=this.el.nativeElement;null!==N?H.setAttribute(ce,w,N):H.removeAttribute(ce,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(a.rXU(gi),a.rXU(Kn),a.kS0("tabindex"),a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(ur.hb))}}static{this.\u0275dir=a.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,H){1&N&&a.bIt("click",function(Se){return H.onClick(Se.button,Se.ctrlKey,Se.shiftKey,Se.altKey,Se.metaKey)}),2&N&&a.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.L39],skipLocationChange:["skipLocationChange","skipLocationChange",a.L39],replaceUrl:["replaceUrl","replaceUrl",a.L39],routerLink:"routerLink"},standalone:!0,features:[a.GFd,a.OA$]})}}return D})(),_s=(()=>{class D{get isActive(){return this._isActive}constructor(w,N,H,ce,Se){this.router=w,this.element=N,this.renderer=H,this.cdr=ce,this.link=Se,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.bkB,this.routerEventsSubscription=w.events.subscribe(mt=>{mt instanceof Ki&&this.update()})}ngAfterContentInit(){(0,De.of)(this.links.changes,(0,De.of)(null)).pipe((0,Hn.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(N=>!!N).map(N=>N.onChanges);this.linkInputChangesSubscription=(0,me.H)(w).pipe((0,Hn.U)()).subscribe(N=>{this._isActive!==this.isLinkActive(this.router)(N)&&this.update()})}set routerLinkActive(w){const N=Array.isArray(w)?w:w.split(" ");this.classes=N.filter(H=>!!H)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(N=>{w?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const N=function ea(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&w.isActive(H.urlTree,N)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(N){return new(N||D)(a.rXU(gi),a.rXU(a.aKT),a.rXU(a.sFG),a.rXU(a.gRc),a.rXU(Hs,8))}}static{this.\u0275dir=a.FsC({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(N,H,ce){if(1&N&&a.wni(ce,Hs,5),2&N){let Se;a.mGM(Se=a.lsd())&&(H.links=Se)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.OA$]})}}return D})();class Da{}let bd=(()=>{class D{constructor(w,N,H,ce,Se){this.router=w,this.injector=H,this.preloadingStrategy=ce,this.loader=Se}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.p)(w=>w instanceof Ki),(0,je.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const H=[];for(const ce of N){ce.providers&&!ce._injector&&(ce._injector=(0,a.Ol2)(ce.providers,w,`Route: ${ce.path}`));const Se=ce._injector??w,mt=ce._loadedInjector??Se;(ce.loadChildren&&!ce._loadedRoutes&&void 0===ce.canLoad||ce.loadComponent&&!ce._loadedComponent)&&H.push(this.preloadConfig(Se,ce)),(ce.children||ce._loadedRoutes)&&H.push(this.processRoutes(mt,ce.children??ce._loadedRoutes))}return(0,me.H)(H).pipe((0,Hn.U)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let H;H=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,De.of)(null);const ce=H.pipe((0,Ze.Z)(Se=>null===Se?(0,De.of)(void 0):(N._loadedRoutes=Se.routes,N._loadedInjector=Se.injector,this.processRoutes(Se.injector??w,Se.routes))));if(N.loadComponent&&!N._loadedComponent){const Se=this.loader.loadComponent(N);return(0,me.H)([ce,Se]).pipe((0,Hn.U)())}return ce})}static{this.\u0275fac=function(N){return new(N||D)(a.KVO(gi),a.KVO(a.Ql9),a.KVO(a.uvJ),a.KVO(Da),a.KVO(ei))}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const go=new a.nKC("");let qn=(()=>{class D{constructor(w,N,H,ce,Se={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=H,this.zone=ce,this.options=Se,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Se.scrollPositionRestoration=Se.scrollPositionRestoration||"disabled",Se.anchorScrolling=Se.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof qr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Ki?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof wr&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Us&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Us(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){a.QTQ()}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac})}}return D})();function ta(D,O){return{\u0275kind:D,\u0275providers:O}}function Au(){const D=(0,a.WQX)(a.zZn);return O=>{const w=D.get(a.o8S);if(O!==w.components[0])return;const N=D.get(gi),H=D.get($l);1===D.get(ss)&&N.initialNavigation(),D.get(xr,null,a.$GK.Optional)?.setUpPreloading(),D.get(go,null,a.$GK.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const $l=new a.nKC("",{factory:()=>new mn.B}),ss=new a.nKC("",{providedIn:"root",factory:()=>1}),xr=new a.nKC("");function zo(D){return ta(0,[{provide:xr,useExisting:bd},{provide:Da,useExisting:D}])}const qt=new a.nKC("ROUTER_FORROOT_GUARD"),rl=[ur.aZ,{provide:xe,useClass:yt},gi,fi,{provide:Kn,useFactory:function jl(D){return D.routerState.root},deps:[gi]},ei,[]];function Du(){return new a.NEm("Router",gi)}let wc=(()=>{class D{constructor(w){}static forRoot(w,N){return{ngModule:D,providers:[rl,[],{provide:pi,multi:!0,useValue:w},{provide:qt,useFactory:xs,deps:[[gi,new a.Xx1,new a.kdw]]},{provide:po,useValue:N||{}},N?.useHash?{provide:ur.hb,useClass:ur.fw}:{provide:ur.hb,useClass:ur.Sm},{provide:go,useFactory:()=>{const D=(0,a.WQX)(ur.Xr),O=(0,a.WQX)(a.SKi),w=(0,a.WQX)(po),N=(0,a.WQX)(vi),H=(0,a.WQX)(xe);return w.scrollOffset&&D.setOffset(w.scrollOffset),new qn(H,N,D,O,w)}},N?.preloadingStrategy?zo(N.preloadingStrategy).\u0275providers:[],{provide:a.NEm,multi:!0,useFactory:Du},N?.initialNavigation?Sa(N):[],N?.bindToComponentInputs?ta(8,[Q,{provide:Z,useExisting:Q}]).\u0275providers:[],[{provide:Bn,useFactory:Au},{provide:a.iLQ,multi:!0,useExisting:Bn}]]}}static forChild(w){return{ngModule:D,providers:[{provide:pi,multi:!0,useValue:w}]}}static{this.\u0275fac=function(N){return new(N||D)(a.KVO(qt,8))}}static{this.\u0275mod=a.$C({type:D})}static{this.\u0275inj=a.G2t({})}}return D})();function xs(D){return"guarded"}function Sa(D){return["disabled"===D.initialNavigation?ta(3,[{provide:a.hnV,multi:!0,useFactory:()=>{const O=(0,a.WQX)(gi);return()=>{O.setUpLocationChangeListener()}}},{provide:ss,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?ta(2,[{provide:ss,useValue:0},{provide:a.hnV,multi:!0,deps:[a.zZn],useFactory:O=>{const w=O.get(ur.hj,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const H=O.get(gi),ce=O.get($l);sc(H,()=>{N(!0)}),O.get(vi).afterPreactivation=()=>(N(!0),ce.closed?(0,De.of)(void 0):ce),H.initialNavigation()}))}}]).\u0275providers:[]]}const Bn=new a.nKC("")},3345:(nn,qe,U)=>{U.d(qe,{A:()=>Tt});var a=U(1076),le=U(1362),s=U(7852),be=U(8041);class me{constructor(vt,St){this._delegate=vt,this.firebase=St,(0,s._addComponent)(vt,new le.uA("app-compat",()=>this,"PUBLIC")),this.container=vt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(vt){this._delegate.automaticDataCollectionEnabled=vt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(vt=>{this._delegate.checkDestroyed(),vt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(vt,St=s._DEFAULT_ENTRY_NAME){var Pt;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(vt);return!Le.isInitialized()&&"EXPLICIT"===(null===(Pt=Le.getComponent())||void 0===Pt?void 0:Pt.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:St})}_removeServiceInstance(vt,St=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(vt).clearInstance(St)}_addComponent(vt){(0,s._addComponent)(this._delegate,vt)}_addOrOverwriteComponent(vt){(0,s._addOrOverwriteComponent)(this._delegate,vt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new a.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Re(){const wt=function Ne(wt){const vt={},St={__esModule:!0,initializeApp:function ye(Dt,Ot={}){const we=s.initializeApp(Dt,Ot);if((0,a.gR)(vt,we.name))return vt[we.name];const en=new wt(we,St);return vt[we.name]=en,en},app:Le,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function We(Dt){const Ot=Dt.name,we=Ot.replace("-compat","");if(s._registerComponent(Dt)&&"PUBLIC"===Dt.type){const en=(mn=Le())=>{if("function"!=typeof mn[we])throw Ae.create("invalid-app-argument",{appName:Ot});return mn[we]()};void 0!==Dt.serviceProps&&(0,a.zw)(en,Dt.serviceProps),St[we]=en,wt.prototype[we]=function(...mn){return this._getService.bind(this,Ot).apply(this,Dt.multipleInstances?mn:[])}}return"PUBLIC"===Dt.type?St[we]:null},removeApp:function Pt(Dt){delete vt[Dt]},useAsService:function it(Dt,Ot){return"serverAuth"===Ot?null:Ot},modularAPIs:s}};function Le(Dt){if(!(0,a.gR)(vt,Dt=Dt||s._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:Dt});return vt[Dt]}return St.default=St,Object.defineProperty(St,"apps",{get:function Je(){return Object.keys(vt).map(Dt=>vt[Dt])}}),Le.App=wt,St}(me);return wt.INTERNAL=Object.assign(Object.assign({},wt.INTERNAL),{createFirebaseNamespace:Re,extendNamespace:function vt(St){(0,a.zw)(wt,St)},createSubscribe:a.tD,ErrorFactory:a.FA,deepExtend:a.zw}),wt}(),oe=new be.Vy("@firebase/app-compat");try{const wt=(0,a.mS)();if(void 0!==wt.firebase){oe.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const vt=wt.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&oe.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Tt=ee;!function $e(wt){(0,s.registerVersion)("@firebase/app-compat","0.2.43",wt)}()},7852:(nn,qe,U)=>{U.r(qe),U.d(qe,{FirebaseError:()=>be.g,SDK_VERSION:()=>yt,_DEFAULT_ENTRY_NAME:()=>In,_addComponent:()=>ui,_addOrOverwriteComponent:()=>gs,_apps:()=>br,_clearComponents:()=>Pi,_components:()=>Yn,_getProvider:()=>Qr,_isFirebaseApp:()=>Cr,_isFirebaseServerApp:()=>Wn,_registerComponent:()=>hn,_removeServiceInstance:()=>tr,_serverApps:()=>Xr,deleteApp:()=>sn,getApp:()=>Fr,getApps:()=>Ue,initializeApp:()=>Wt,initializeServerApp:()=>$n,onLog:()=>P,registerVersion:()=>k,setLogLevel:()=>F});var a=U(467),le=U(1362),s=U(8041),be=U(1076);const me=(Et,nt)=>nt.some(Rt=>Et instanceof Rt);let De,Ae;const ee=new WeakMap,oe=new WeakMap,pe=new WeakMap,rt=new WeakMap,$e=new WeakMap;let vt={get(Et,nt,Rt){if(Et instanceof IDBTransaction){if("done"===nt)return oe.get(Et);if("objectStoreNames"===nt)return Et.objectStoreNames||pe.get(Et);if("store"===nt)return Rt.objectStoreNames[1]?void 0:Rt.objectStore(Rt.objectStoreNames[0])}return ye(Et[nt])},set:(Et,nt,Rt)=>(Et[nt]=Rt,!0),has:(Et,nt)=>Et instanceof IDBTransaction&&("done"===nt||"store"===nt)||nt in Et};function Le(Et){return"function"==typeof Et?function Pt(Et){return Et!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Re(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Et)?function(...nt){return Et.apply(Je(this),nt),ye(ee.get(this))}:function(...nt){return ye(Et.apply(Je(this),nt))}:function(nt,...Rt){const ln=Et.call(Je(this),nt,...Rt);return pe.set(ln,nt.sort?nt.sort():[nt]),ye(ln)}}(Et):(Et instanceof IDBTransaction&&function wt(Et){if(oe.has(Et))return;const nt=new Promise((Rt,ln)=>{const Vn=()=>{Et.removeEventListener("complete",Mn),Et.removeEventListener("error",dr),Et.removeEventListener("abort",dr)},Mn=()=>{Rt(),Vn()},dr=()=>{ln(Et.error||new DOMException("AbortError","AbortError")),Vn()};Et.addEventListener("complete",Mn),Et.addEventListener("error",dr),Et.addEventListener("abort",dr)});oe.set(Et,nt)}(Et),me(Et,function Ne(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Et,vt):Et)}function ye(Et){if(Et instanceof IDBRequest)return function Tt(Et){const nt=new Promise((Rt,ln)=>{const Vn=()=>{Et.removeEventListener("success",Mn),Et.removeEventListener("error",dr)},Mn=()=>{Rt(ye(Et.result)),Vn()},dr=()=>{ln(Et.error),Vn()};Et.addEventListener("success",Mn),Et.addEventListener("error",dr)});return nt.then(Rt=>{Rt instanceof IDBCursor&&ee.set(Rt,Et)}).catch(()=>{}),$e.set(nt,Et),nt}(Et);if(rt.has(Et))return rt.get(Et);const nt=Le(Et);return nt!==Et&&(rt.set(Et,nt),$e.set(nt,Et)),nt}const Je=Et=>$e.get(Et),Dt=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],we=new Map;function en(Et,nt){if(!(Et instanceof IDBDatabase)||nt in Et||"string"!=typeof nt)return;if(we.get(nt))return we.get(nt);const Rt=nt.replace(/FromIndex$/,""),ln=nt!==Rt,Vn=Ot.includes(Rt);if(!(Rt in(ln?IDBIndex:IDBObjectStore).prototype)||!Vn&&!Dt.includes(Rt))return;const Mn=function(){var dr=(0,a.A)(function*(Br,...Kr){const Tr=this.transaction(Br,Vn?"readwrite":"readonly");let Wi=Tr.store;return ln&&(Wi=Wi.index(Kr.shift())),(yield Promise.all([Wi[Rt](...Kr),Vn&&Tr.done]))[0]});return function(Kr){return dr.apply(this,arguments)}}();return we.set(nt,Mn),Mn}!function St(Et){vt=Et(vt)}(Et=>({...Et,get:(nt,Rt,ln)=>en(nt,Rt)||Et.get(nt,Rt,ln),has:(nt,Rt)=>!!en(nt,Rt)||Et.has(nt,Rt)}));class mn{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(Rt=>{if(function ur(Et){const nt=Et.getComponent();return"VERSION"===nt?.type}(Rt)){const ln=Rt.getImmediate();return`${ln.library}/${ln.version}`}return null}).filter(Rt=>Rt).join(" ")}}const Mt="@firebase/app",jt="0.10.13",Kt=new s.Vy("@firebase/app"),In="[DEFAULT]",jr={[Mt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},br=new Map,Xr=new Map,Yn=new Map;function ui(Et,nt){try{Et.container.addComponent(nt)}catch(Rt){Kt.debug(`Component ${nt.name} failed to register with FirebaseApp ${Et.name}`,Rt)}}function gs(Et,nt){Et.container.addOrOverwriteComponent(nt)}function hn(Et){const nt=Et.name;if(Yn.has(nt))return Kt.debug(`There were multiple attempts to register component ${nt}.`),!1;Yn.set(nt,Et);for(const Rt of br.values())ui(Rt,Et);for(const Rt of Xr.values())ui(Rt,Et);return!0}function Qr(Et,nt){const Rt=Et.container.getProvider("heartbeat").getImmediate({optional:!0});return Rt&&Rt.triggerHeartbeat(),Et.container.getProvider(nt)}function tr(Et,nt,Rt=In){Qr(Et,nt).clearInstance(Rt)}function Cr(Et){return void 0!==Et.options}function Wn(Et){return void 0!==Et.settings}function Pi(){Yn.clear()}const pt=new be.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class de{constructor(nt,Rt,ln){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},Rt),this._name=Rt.name,this._automaticDataCollectionEnabled=Rt.automaticDataCollectionEnabled,this._container=ln,this.container.addComponent(new le.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw pt.create("app-deleted",{appName:this._name})}}class xe extends de{constructor(nt,Rt,ln,Vn){const Mn=void 0!==Rt.automaticDataCollectionEnabled&&Rt.automaticDataCollectionEnabled,dr={name:ln,automaticDataCollectionEnabled:Mn};super(void 0!==nt.apiKey?nt:nt.options,dr,Vn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Mn},Rt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Rt.releaseOnDeref=void 0,k(Mt,jt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(nt){this.isDeleted||(this._refCount++,void 0!==nt&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(nt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){sn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw pt.create("server-app-deleted")}}const yt="10.14.1";function Wt(Et,nt={}){let Rt=Et;"object"!=typeof nt&&(nt={name:nt});const ln=Object.assign({name:In,automaticDataCollectionEnabled:!1},nt),Vn=ln.name;if("string"!=typeof Vn||!Vn)throw pt.create("bad-app-name",{appName:String(Vn)});if(Rt||(Rt=(0,be.T9)()),!Rt)throw pt.create("no-options");const Mn=br.get(Vn);if(Mn){if((0,be.bD)(Rt,Mn.options)&&(0,be.bD)(ln,Mn.config))return Mn;throw pt.create("duplicate-app",{appName:Vn})}const dr=new le.h1(Vn);for(const Kr of Yn.values())dr.addComponent(Kr);const Br=new de(Rt,ln,dr);return br.set(Vn,Br),Br}function $n(Et,nt){if((0,be.Bd)()&&!(0,be.p7)())throw pt.create("invalid-server-app-environment");let Rt;void 0===nt.automaticDataCollectionEnabled&&(nt.automaticDataCollectionEnabled=!1),Rt=Cr(Et)?Et.options:Et;const ln=Object.assign(Object.assign({},nt),Rt);if(void 0!==ln.releaseOnDeref&&delete ln.releaseOnDeref,void 0!==nt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw pt.create("finalization-registry-not-supported",{});const Mn=""+(Tr=JSON.stringify(ln),[...Tr].reduce((Wi,ws)=>Math.imul(31,Wi)+ws.charCodeAt(0)|0,0)),dr=Xr.get(Mn);var Tr;if(dr)return dr.incRefCount(nt.releaseOnDeref),dr;const Br=new le.h1(Mn);for(const Tr of Yn.values())Br.addComponent(Tr);const Kr=new xe(Rt,nt,Mn,Br);return Xr.set(Mn,Kr),Kr}function Fr(Et=In){const nt=br.get(Et);if(!nt&&Et===In&&(0,be.T9)())return Wt();if(!nt)throw pt.create("no-app",{appName:Et});return nt}function Ue(){return Array.from(br.values())}function sn(Et){return te.apply(this,arguments)}function te(){return(te=(0,a.A)(function*(Et){let nt=!1;const Rt=Et.name;br.has(Rt)?(nt=!0,br.delete(Rt)):Xr.has(Rt)&&Et.decRefCount()<=0&&(Xr.delete(Rt),nt=!0),nt&&(yield Promise.all(Et.container.getProviders().map(ln=>ln.delete())),Et.isDeleted=!0)})).apply(this,arguments)}function k(Et,nt,Rt){var ln;let Vn=null!==(ln=jr[Et])&&void 0!==ln?ln:Et;Rt&&(Vn+=`-${Rt}`);const Mn=Vn.match(/\s|\//),dr=nt.match(/\s|\//);if(Mn||dr){const Br=[`Unable to register library "${Vn}" with version "${nt}":`];return Mn&&Br.push(`library name "${Vn}" contains illegal characters (whitespace or "/")`),Mn&&dr&&Br.push("and"),dr&&Br.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void Kt.warn(Br.join(" "))}hn(new le.uA(`${Vn}-version`,()=>({library:Vn,version:nt}),"VERSION"))}function P(Et,nt){if(null!==Et&&"function"!=typeof Et)throw pt.create("invalid-log-argument");(0,s.Ey)(Et,nt)}function F(Et){(0,s.He)(Et)}const ne="firebase-heartbeat-database",ge=1,ot="firebase-heartbeat-store";let At=null;function an(){return At||(At=function We(Et,nt,{blocked:Rt,upgrade:ln,blocking:Vn,terminated:Mn}={}){const dr=indexedDB.open(Et,nt),Br=ye(dr);return ln&&dr.addEventListener("upgradeneeded",Kr=>{ln(ye(dr.result),Kr.oldVersion,Kr.newVersion,ye(dr.transaction),Kr)}),Rt&&dr.addEventListener("blocked",Kr=>Rt(Kr.oldVersion,Kr.newVersion,Kr)),Br.then(Kr=>{Mn&&Kr.addEventListener("close",()=>Mn()),Vn&&Kr.addEventListener("versionchange",Tr=>Vn(Tr.oldVersion,Tr.newVersion,Tr))}).catch(()=>{}),Br}(ne,ge,{upgrade:(Et,nt)=>{if(0===nt)try{Et.createObjectStore(ot)}catch(Rt){console.warn(Rt)}}}).catch(Et=>{throw pt.create("idb-open",{originalErrorMessage:Et.message})})),At}function Dn(){return(Dn=(0,a.A)(function*(Et){try{const Rt=(yield an()).transaction(ot),ln=yield Rt.objectStore(ot).get(Gr(Et));return yield Rt.done,ln}catch(nt){if(nt instanceof be.g)Kt.warn(nt.message);else{const Rt=pt.create("idb-get",{originalErrorMessage:nt?.message});Kt.warn(Rt.message)}}})).apply(this,arguments)}function vr(Et,nt){return cn.apply(this,arguments)}function cn(){return(cn=(0,a.A)(function*(Et,nt){try{const ln=(yield an()).transaction(ot,"readwrite");yield ln.objectStore(ot).put(nt,Gr(Et)),yield ln.done}catch(Rt){if(Rt instanceof be.g)Kt.warn(Rt.message);else{const ln=pt.create("idb-set",{originalErrorMessage:Rt?.message});Kt.warn(ln.message)}}})).apply(this,arguments)}function Gr(Et){return`${Et.name}!${Et.options.appId}`}class wi{constructor(nt){this.container=nt,this._heartbeatsCache=null;const Rt=this.container.getProvider("app").getImmediate();this._storage=new Ai(Rt),this._heartbeatsCachePromise=this._storage.read().then(ln=>(this._heartbeatsCache=ln,ln))}triggerHeartbeat(){var nt=this;return(0,a.A)(function*(){var Rt,ln;try{const Mn=nt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dr=zi();return null==(null===(Rt=nt._heartbeatsCache)||void 0===Rt?void 0:Rt.heartbeats)&&(nt._heartbeatsCache=yield nt._heartbeatsCachePromise,null==(null===(ln=nt._heartbeatsCache)||void 0===ln?void 0:ln.heartbeats))||nt._heartbeatsCache.lastSentHeartbeatDate===dr||nt._heartbeatsCache.heartbeats.some(Br=>Br.date===dr)?void 0:(nt._heartbeatsCache.heartbeats.push({date:dr,agent:Mn}),nt._heartbeatsCache.heartbeats=nt._heartbeatsCache.heartbeats.filter(Br=>{const Kr=new Date(Br.date).valueOf();return Date.now()-Kr<=2592e6}),nt._storage.overwrite(nt._heartbeatsCache))}catch(Vn){Kt.warn(Vn)}})()}getHeartbeatsHeader(){var nt=this;return(0,a.A)(function*(){var Rt;try{if(null===nt._heartbeatsCache&&(yield nt._heartbeatsCachePromise),null==(null===(Rt=nt._heartbeatsCache)||void 0===Rt?void 0:Rt.heartbeats)||0===nt._heartbeatsCache.heartbeats.length)return"";const ln=zi(),{heartbeatsToSend:Vn,unsentEntries:Mn}=function ki(Et,nt=1024){const Rt=[];let ln=Et.slice();for(const Vn of Et){const Mn=Rt.find(dr=>dr.agent===Vn.agent);if(Mn){if(Mn.dates.push(Vn.date),or(Rt)>nt){Mn.dates.pop();break}}else if(Rt.push({agent:Vn.agent,dates:[Vn.date]}),or(Rt)>nt){Rt.pop();break}ln=ln.slice(1)}return{heartbeatsToSend:Rt,unsentEntries:ln}}(nt._heartbeatsCache.heartbeats),dr=(0,be.Uj)(JSON.stringify({version:2,heartbeats:Vn}));return nt._heartbeatsCache.lastSentHeartbeatDate=ln,Mn.length>0?(nt._heartbeatsCache.heartbeats=Mn,yield nt._storage.overwrite(nt._heartbeatsCache)):(nt._heartbeatsCache.heartbeats=[],nt._storage.overwrite(nt._heartbeatsCache)),dr}catch(ln){return Kt.warn(ln),""}})()}}function zi(){return(new Date).toISOString().substring(0,10)}class Ai{constructor(nt){this.app=nt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.A)(function*(){return!!(0,be.zW)()&&(0,be.eX)().then(()=>!0).catch(()=>!1)})()}read(){var nt=this;return(0,a.A)(function*(){if(yield nt._canUseIndexedDBPromise){const ln=yield function fn(Et){return Dn.apply(this,arguments)}(nt.app);return ln?.heartbeats?ln:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(nt){var Rt=this;return(0,a.A)(function*(){var ln;if(yield Rt._canUseIndexedDBPromise){const Mn=yield Rt.read();return vr(Rt.app,{lastSentHeartbeatDate:null!==(ln=nt.lastSentHeartbeatDate)&&void 0!==ln?ln:Mn.lastSentHeartbeatDate,heartbeats:nt.heartbeats})}})()}add(nt){var Rt=this;return(0,a.A)(function*(){var ln;if(yield Rt._canUseIndexedDBPromise){const Mn=yield Rt.read();return vr(Rt.app,{lastSentHeartbeatDate:null!==(ln=nt.lastSentHeartbeatDate)&&void 0!==ln?ln:Mn.lastSentHeartbeatDate,heartbeats:[...Mn.heartbeats,...nt.heartbeats]})}})()}}function or(Et){return(0,be.Uj)(JSON.stringify({version:2,heartbeats:Et})).length}!function Fs(Et){hn(new le.uA("platform-logger",nt=>new mn(nt),"PRIVATE")),hn(new le.uA("heartbeat",nt=>new wi(nt),"PRIVATE")),k(Mt,jt,Et),k(Mt,jt,"esm2017"),k("fire-js","")}("")},1362:(nn,qe,U)=>{U.d(qe,{h1:()=>Ne,uA:()=>s});var a=U(467),le=U(1076);class s{constructor(ee,oe,pe){this.name=ee,this.instanceFactory=oe,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const be="[DEFAULT]";class me{constructor(ee,oe){this.name=ee,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const oe=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(oe)){const pe=new le.cY;if(this.instancesDeferred.set(oe,pe),this.isInitialized(oe)||this.shouldAutoInitialize())try{const rt=this.getOrInitializeService({instanceIdentifier:oe});rt&&pe.resolve(rt)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(ee){var oe;const pe=this.normalizeInstanceIdentifier(ee?.identifier),rt=null!==(oe=ee?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch($e){if(rt)return null;throw $e}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Ae(Re){return"EAGER"===Re.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[oe,pe]of this.instancesDeferred.entries()){const rt=this.normalizeInstanceIdentifier(oe);try{const $e=this.getOrInitializeService({instanceIdentifier:rt});pe.resolve($e)}catch{}}}}clearInstance(ee=be){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,a.A)(function*(){const oe=Array.from(ee.instances.values());yield Promise.all([...oe.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...oe.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=be){return this.instances.has(ee)}getOptions(ee=be){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:oe={}}=ee,pe=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const rt=this.getOrInitializeService({instanceIdentifier:pe,options:oe});for(const[$e,Tt]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier($e)&&Tt.resolve(rt);return rt}onInit(ee,oe){var pe;const rt=this.normalizeInstanceIdentifier(oe),$e=null!==(pe=this.onInitCallbacks.get(rt))&&void 0!==pe?pe:new Set;$e.add(ee),this.onInitCallbacks.set(rt,$e);const Tt=this.instances.get(rt);return Tt&&ee(Tt,rt),()=>{$e.delete(ee)}}invokeOnInitCallbacks(ee,oe){const pe=this.onInitCallbacks.get(oe);if(pe)for(const rt of pe)try{rt(ee,oe)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:oe={}}){let pe=this.instances.get(ee);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=ee,Re===be?void 0:Re),options:oe}),this.instances.set(ee,pe),this.instancesOptions.set(ee,oe),this.invokeOnInitCallbacks(pe,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,pe)}catch{}var Re;return pe||null}normalizeInstanceIdentifier(ee=be){return this.component?this.component.multipleInstances?ee:be:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const oe=this.getProvider(ee.name);if(oe.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);oe.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const oe=new me(ee,this);return this.providers.set(ee,oe),oe}getProviders(){return Array.from(this.providers.values())}}},8041:(nn,qe,U)=>{U.d(qe,{$b:()=>le,Ey:()=>Re,He:()=>Ne,Vy:()=>Ae});const a=[];var le=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(le||{});const s={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},be=le.INFO,me={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},De=(ee,oe,...pe)=>{if(oe<ee.logLevel)return;const rt=(new Date).toISOString(),$e=me[oe];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[$e](`[${rt}]  ${ee.name}:`,...pe)};class Ae{constructor(oe){this.name=oe,this._logLevel=be,this._logHandler=De,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in le))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?s[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...oe),this._logHandler(this,le.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...oe),this._logHandler(this,le.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,le.INFO,...oe),this._logHandler(this,le.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,le.WARN,...oe),this._logHandler(this,le.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...oe),this._logHandler(this,le.ERROR,...oe)}}function Ne(ee){a.forEach(oe=>{oe.setLogLevel(ee)})}function Re(ee,oe){for(const pe of a){let rt=null;oe&&oe.level&&(rt=s[oe.level]),pe.userLogHandler=null===ee?null:($e,Tt,...wt)=>{const vt=wt.map(St=>{if(null==St)return null;if("string"==typeof St)return St;if("number"==typeof St||"boolean"==typeof St)return St.toString();if(St instanceof Error)return St.message;try{return JSON.stringify(St)}catch{return null}}).filter(St=>St).join(" ");Tt>=(rt??$e.logLevel)&&ee({level:le[Tt].toLowerCase(),message:vt,args:wt,type:$e.name})}}}},2214:(nn,qe,U)=>{U.d(qe,{Dk:()=>a.getApps,KO:()=>a.registerVersion,Sx:()=>a.getApp,Wp:()=>a.initializeApp});var a=U(7852);(0,a.registerVersion)("firebase","10.14.1","app")},7935:(nn,qe,U)=>{U.d(qe,{A:()=>a.A});var a=U(3345);a.A.registerVersion("firebase","10.14.1","app-compat")},2438:(nn,qe,U)=>{var a=U(467),le=U(3345),s=U(5504),be=U(1076),Ae=(U(7852),U(8041),U(1362));function Ne(){return window}function oe(){return oe=(0,a.A)(function*(k,P,F){var ne;const{BuildInfo:ge}=Ne();(0,s.au)(P.sessionId,"AuthEvent did not contain a session ID");const ot=yield function St(k){return Pt.apply(this,arguments)}(P.sessionId),At={};return(0,s.av)()?At.ibi=ge.packageName:(0,s.aw)()?At.apn=ge.packageName:(0,s.ax)(k,"operation-not-supported-in-this-environment"),ge.displayName&&(At.appDisplayName=ge.displayName),At.sessionId=ot,(0,s.ay)(k,F,P.type,void 0,null!==(ne=P.eventId)&&void 0!==ne?ne:void 0,At)}),oe.apply(this,arguments)}function rt(){return(rt=(0,a.A)(function*(k){const{BuildInfo:P}=Ne(),F={};(0,s.av)()?F.iosBundleId=P.packageName:(0,s.aw)()?F.androidPackageName=P.packageName:(0,s.ax)(k,"operation-not-supported-in-this-environment"),yield(0,s.az)(k,F)})).apply(this,arguments)}function wt(){return(wt=(0,a.A)(function*(k,P,F){const{cordova:ne}=Ne();let ge=()=>{};try{yield new Promise((ot,At)=>{let an=null;function fn(){var cn;ot();const Gr=null===(cn=ne.plugins.browsertab)||void 0===cn?void 0:cn.close;"function"==typeof Gr&&Gr(),"function"==typeof F?.close&&F.close()}function Dn(){an||(an=window.setTimeout(()=>{At((0,s.aB)(k,"redirect-cancelled-by-user"))},2e3))}function vr(){"visible"===document?.visibilityState&&Dn()}P.addPassiveListener(fn),document.addEventListener("resume",Dn,!1),(0,s.aw)()&&document.addEventListener("visibilitychange",vr,!1),ge=()=>{P.removePassiveListener(fn),document.removeEventListener("resume",Dn,!1),document.removeEventListener("visibilitychange",vr,!1),an&&window.clearTimeout(an)}})}finally{ge()}})).apply(this,arguments)}function Pt(){return(Pt=(0,a.A)(function*(k){const P=function Le(k){if((0,s.au)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(k);const P=new ArrayBuffer(k.length),F=new Uint8Array(P);for(let ne=0;ne<k.length;ne++)F[ne]=k.charCodeAt(ne);return F}(k),F=yield crypto.subtle.digest("SHA-256",P);return Array.from(new Uint8Array(F)).map(ge=>ge.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Je extends s.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(P=>{this.resolveInitialized=P})}addPassiveListener(P){this.passiveListeners.add(P)}removePassiveListener(P){this.passiveListeners.delete(P)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(P){return this.resolveInitialized(),this.passiveListeners.forEach(F=>F(P)),super.onEvent(P)}initialized(){var P=this;return(0,a.A)(function*(){yield P.initPromise})()}}function Dt(k){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,a.A)(function*(k){const P=yield mn()._get(ur(k));return P&&(yield mn()._remove(ur(k))),P})).apply(this,arguments)}function en(){const k=[];for(let F=0;F<20;F++){const ne=Math.floor(62*Math.random());k.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ne))}return k.join("")}function mn(){return(0,s.aE)(s.b)}function ur(k){return(0,s.aF)("authEvent",k.config.apiKey,k.name)}function Kt(k){if(!k?.includes("?"))return{};const[P,...F]=k.split("?");return(0,be.I9)(F.join("?"))}const Ze=class ke{constructor(){this._redirectPersistence=s.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=s.aG,this._overrideRedirectResult=s.aH}_initialize(P){var F=this;return(0,a.A)(function*(){const ne=P._key();let ge=F.eventManagers.get(ne);return ge||(ge=new Je(P),F.eventManagers.set(ne,ge),F.attachCallbackListeners(P,ge)),ge})()}_openPopup(P){(0,s.ax)(P,"operation-not-supported-in-this-environment")}_openRedirect(P,F,ne,ge){var ot=this;return(0,a.A)(function*(){!function vt(k){var P,F,ne,ge,ot,At,an,fn,Dn,vr;const cn=Ne();(0,s.aC)("function"==typeof(null===(P=cn?.universalLinks)||void 0===P?void 0:P.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,s.aC)(typeof(null===(F=cn?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,s.aC)("function"==typeof(null===(ot=null===(ge=null===(ne=cn?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===ot?void 0:ot.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aC)("function"==typeof(null===(fn=null===(an=null===(At=cn?.cordova)||void 0===At?void 0:At.plugins)||void 0===an?void 0:an.browsertab)||void 0===fn?void 0:fn.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aC)("function"==typeof(null===(vr=null===(Dn=cn?.cordova)||void 0===Dn?void 0:Dn.InAppBrowser)||void 0===vr?void 0:vr.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(P);const At=yield ot._initialize(P);yield At.initialized(),At.resetRedirect(),(0,s.aI)(),yield ot._originValidation(P);const an=function We(k,P,F=null){return{type:P,eventId:F,urlResponse:null,sessionId:en(),postBody:null,tenantId:k.tenantId,error:(0,s.aB)(k,"no-auth-event")}}(P,ne,ge);yield function it(k,P){return mn()._set(ur(k),P)}(P,an);const fn=yield function ee(k,P,F){return oe.apply(this,arguments)}(P,an,F),Dn=yield function $e(k){const{cordova:P}=Ne();return new Promise(F=>{P.plugins.browsertab.isAvailable(ne=>{let ge=null;ne?P.plugins.browsertab.openUrl(k):ge=P.InAppBrowser.open(k,(0,s.aA)()?"_blank":"_system","location=yes"),F(ge)})})}(fn);return function Tt(k,P,F){return wt.apply(this,arguments)}(P,At,Dn)})()}_isIframeWebStorageSupported(P,F){throw new Error("Method not implemented.")}_originValidation(P){const F=P._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function pe(k){return rt.apply(this,arguments)}(P)),this.originValidationPromises[F]}attachCallbackListeners(P,F){const{universalLinks:ne,handleOpenURL:ge,BuildInfo:ot}=Ne(),At=setTimeout((0,a.A)(function*(){yield Dt(P),F.onEvent(Jt())}),500),an=function(){var vr=(0,a.A)(function*(cn){clearTimeout(At);const Gr=yield Dt(P);let fr=null;Gr&&cn?.url&&(fr=function we(k,P){var F,ne;const ge=function jt(k){const P=Kt(k),F=P.link?decodeURIComponent(P.link):void 0,ne=Kt(F).link,ge=P.deep_link_id?decodeURIComponent(P.deep_link_id):void 0;return Kt(ge).link||ge||ne||F||k}(P);if(ge.includes("/__/auth/callback")){const ot=Kt(ge),At=ot.firebaseError?function Mt(k){try{return JSON.parse(k)}catch{return null}}(decodeURIComponent(ot.firebaseError)):null,an=null===(ne=null===(F=At?.code)||void 0===F?void 0:F.split("auth/"))||void 0===ne?void 0:ne[1],fn=an?(0,s.aB)(an):null;return fn?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:fn,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:ge,postBody:null}}return null}(Gr,cn.url)),F.onEvent(fr||Jt())});return function(Gr){return vr.apply(this,arguments)}}();typeof ne<"u"&&"function"==typeof ne.subscribe&&ne.subscribe(null,an);const fn=ge,Dn=`${ot.packageName.toLowerCase()}://`;Ne().handleOpenURL=function(){var vr=(0,a.A)(function*(cn){if(cn.toLowerCase().startsWith(Dn)&&an({url:cn}),"function"==typeof fn)try{fn(cn)}catch(Gr){console.error(Gr)}});return function(cn){return vr.apply(this,arguments)}}()}};function Jt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,s.aB)("no-auth-event")}}function tt(){var k;return(null===(k=self?.location)||void 0===k?void 0:k.protocol)||null}function Nt(k=(0,be.ZQ)()){return!("file:"!==tt()&&"ionic:"!==tt()&&"capacitor:"!==tt()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ft(){try{const k=self.localStorage,P=s.aN();if(k)return k.setItem(P,"1"),k.removeItem(P),!function Ln(k=(0,be.ZQ)()){return function rr(){return(0,be.lT)()&&11===document?.documentMode}()||function tn(k=(0,be.ZQ)()){return/Edge\/\d+/.test(k)}(k)}()||(0,be.zW)()}catch{return Hn()&&(0,be.zW)()}return!1}function Hn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function Xe(){return"http:"===tt()||"https:"===tt()}()||(0,be.sr)()||Nt())&&!function Cn(){return(0,be.lV)()||(0,be.Ll)()}()&&Ft()&&!Hn()}function Gt(){return Nt()&&typeof document<"u"}function yr(){return(yr=(0,a.A)(function*(){return!!Gt()&&new Promise(k=>{const P=setTimeout(()=>{k(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(P),k(!0)})})})).apply(this,arguments)}const Mr={LOCAL:"local",NONE:"none",SESSION:"session"},Zn=s.aC,Bt="persistence";function zn(k){return In.apply(this,arguments)}function In(){return(In=(0,a.A)(function*(k){yield k._initializationPromise;const P=br(),F=s.aF(Bt,k.config.apiKey,k.name);P&&P.setItem(F,k._getPersistence())})).apply(this,arguments)}function br(){var k;try{return(null===(k=function on(){return typeof window<"u"?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch{return null}}const Xr=s.aC;class Yn{constructor(){this.browserResolver=s.aE(s.k),this.cordovaResolver=s.aE(Ze),this.underlyingResolver=null,this._redirectPersistence=s.a,this._completeRedirectFn=s.aG,this._overrideRedirectResult=s.aH}_initialize(P){var F=this;return(0,a.A)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(P)})()}_openPopup(P,F,ne,ge){var ot=this;return(0,a.A)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openPopup(P,F,ne,ge)})()}_openRedirect(P,F,ne,ge){var ot=this;return(0,a.A)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openRedirect(P,F,ne,ge)})()}_isIframeWebStorageSupported(P,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(P,F)}_originValidation(P){return this.assertedUnderlyingResolver._originValidation(P)}get _shouldInitProactively(){return Gt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var P=this;return(0,a.A)(function*(){if(P.underlyingResolver)return;const F=yield function Ut(){return yr.apply(this,arguments)}();P.underlyingResolver=F?P.cordovaResolver:P.browserResolver})()}}function ui(k){return k.unwrap()}function hn(k){return tr(k)}function tr(k){const{_tokenResponse:P}=k instanceof be.g?k.customData:k;if(!P)return null;if(!(k instanceof be.g)&&"temporaryProof"in P&&"phoneNumber"in P)return s.P.credentialFromResult(k);const F=P.providerId;if(!F||F===s.p.PASSWORD)return null;let ne;switch(F){case s.p.GOOGLE:ne=s.X;break;case s.p.FACEBOOK:ne=s.W;break;case s.p.GITHUB:ne=s.Y;break;case s.p.TWITTER:ne=s.$;break;default:const{oauthIdToken:ge,oauthAccessToken:ot,oauthTokenSecret:At,pendingToken:an,nonce:fn}=P;return ot||At||ge||an?an?F.startsWith("saml.")?s.aQ._create(F,an):s.N._fromParams({providerId:F,signInMethod:F,pendingToken:an,idToken:ge,accessToken:ot}):new s.Z(F).credential({idToken:ge,accessToken:ot,rawNonce:fn}):null}return k instanceof be.g?ne.credentialFromError(k):ne.credentialFromResult(k)}function Cr(k,P){return P.catch(F=>{throw F instanceof be.g&&function Qr(k,P){var F;const ne=null===(F=P.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===P?.code)P.resolver=new et(k,s.as(k,P));else if(ne){const ge=tr(P),ot=P;ge&&(ot.credential=ge,ot.tenantId=ne.tenantId||void 0,ot.email=ne.email||void 0,ot.phoneNumber=ne.phoneNumber||void 0)}}(k,F),F}).then(F=>{const ge=F.user;return{operationType:F.operationType,credential:hn(F),additionalUserInfo:s.aq(F),user:pt.getOrCreate(ge)}})}function Wn(k,P){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,a.A)(function*(k,P){const F=yield P;return{verificationId:F.verificationId,confirm:ne=>Cr(k,F.confirm(ne))}})).apply(this,arguments)}class et{constructor(P,F){this.resolver=F,this.auth=function gs(k){return k.wrapped()}(P)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(P){return Cr(ui(this.auth),this.resolver.resolveSignIn(P))}}class pt{constructor(P){this._delegate=P,this.multiFactor=s.at(P)}static getOrCreate(P){return pt.USER_MAP.has(P)||pt.USER_MAP.set(P,new pt(P)),pt.USER_MAP.get(P)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(P){return this._delegate.getIdTokenResult(P)}getIdToken(P){return this._delegate.getIdToken(P)}linkAndRetrieveDataWithCredential(P){return this.linkWithCredential(P)}linkWithCredential(P){var F=this;return(0,a.A)(function*(){return Cr(F.auth,s.a2(F._delegate,P))})()}linkWithPhoneNumber(P,F){var ne=this;return(0,a.A)(function*(){return Wn(ne.auth,s.l(ne._delegate,P,F))})()}linkWithPopup(P){var F=this;return(0,a.A)(function*(){return Cr(F.auth,s.d(F._delegate,P,Yn))})()}linkWithRedirect(P){var F=this;return(0,a.A)(function*(){return yield zn(s.aJ(F.auth)),s.g(F._delegate,P,Yn)})()}reauthenticateAndRetrieveDataWithCredential(P){return this.reauthenticateWithCredential(P)}reauthenticateWithCredential(P){var F=this;return(0,a.A)(function*(){return Cr(F.auth,s.a3(F._delegate,P))})()}reauthenticateWithPhoneNumber(P,F){return Wn(this.auth,s.r(this._delegate,P,F))}reauthenticateWithPopup(P){return Cr(this.auth,s.e(this._delegate,P,Yn))}reauthenticateWithRedirect(P){var F=this;return(0,a.A)(function*(){return yield zn(s.aJ(F.auth)),s.h(F._delegate,P,Yn)})()}sendEmailVerification(P){return s.ag(this._delegate,P)}unlink(P){var F=this;return(0,a.A)(function*(){return yield s.ap(F._delegate,P),F})()}updateEmail(P){return s.al(this._delegate,P)}updatePassword(P){return s.am(this._delegate,P)}updatePhoneNumber(P){return s.u(this._delegate,P)}updateProfile(P){return s.ak(this._delegate,P)}verifyBeforeUpdateEmail(P,F){return s.ah(this._delegate,P,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pt.USER_MAP=new WeakMap;const de=s.aC;let xe=(()=>{class k{constructor(F,ne){if(this.app=F,ne.isInitialized())return this._delegate=ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ge}=F.options;de(ge,"invalid-api-key",{appName:F.name}),de(ge,"invalid-api-key",{appName:F.name});const ot=typeof window<"u"?Yn:void 0;this._delegate=ne.initialize({options:{persistence:Wt(ge,F.name),popupRedirectResolver:ot}}),this._delegate._updateErrorMap(s.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,ne){s.K(this._delegate,F,ne)}applyActionCode(F){return s.a7(this._delegate,F)}checkActionCode(F){return s.a8(this._delegate,F)}confirmPasswordReset(F,ne){return s.a6(this._delegate,F,ne)}createUserWithEmailAndPassword(F,ne){var ge=this;return(0,a.A)(function*(){return Cr(ge._delegate,s.aa(ge._delegate,F,ne))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return s.af(this._delegate,F)}isSignInWithEmailLink(F){return s.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,a.A)(function*(){de(On(),F._delegate,"operation-not-supported-in-this-environment");const ne=yield s.j(F._delegate,Yn);return ne?Cr(F._delegate,Promise.resolve(ne)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function je(k,P){(0,s.aJ)(k)._logFramework(P)}(this._delegate,F)}onAuthStateChanged(F,ne,ge){const{next:ot,error:At,complete:an}=yt(F,ne,ge);return this._delegate.onAuthStateChanged(ot,At,an)}onIdTokenChanged(F,ne,ge){const{next:ot,error:At,complete:an}=yt(F,ne,ge);return this._delegate.onIdTokenChanged(ot,At,an)}sendSignInLinkToEmail(F,ne){return s.ac(this._delegate,F,ne)}sendPasswordResetEmail(F,ne){return s.a5(this._delegate,F,ne||void 0)}setPersistence(F){var ne=this;return(0,a.A)(function*(){let ge;switch(function bn(k,P){Zn(Object.values(Mr).includes(P),k,"invalid-persistence-type"),(0,be.lV)()?Zn(P!==Mr.SESSION,k,"unsupported-persistence-type"):(0,be.Ll)()?Zn(P===Mr.NONE,k,"unsupported-persistence-type"):Hn()?Zn(P===Mr.NONE||P===Mr.LOCAL&&(0,be.zW)(),k,"unsupported-persistence-type"):Zn(P===Mr.NONE||Ft(),k,"unsupported-persistence-type")}(ne._delegate,F),F){case Mr.SESSION:ge=s.a;break;case Mr.LOCAL:ge=(yield s.aE(s.i)._isAvailable())?s.i:s.b;break;case Mr.NONE:ge=s.U;break;default:return s.ax("argument-error",{appName:ne._delegate.name})}return ne._delegate.setPersistence(ge)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return Cr(this._delegate,s.a0(this._delegate))}signInWithCredential(F){return Cr(this._delegate,s.a1(this._delegate,F))}signInWithCustomToken(F){return Cr(this._delegate,s.a4(this._delegate,F))}signInWithEmailAndPassword(F,ne){return Cr(this._delegate,s.ab(this._delegate,F,ne))}signInWithEmailLink(F,ne){return Cr(this._delegate,s.ae(this._delegate,F,ne))}signInWithPhoneNumber(F,ne){return Wn(this._delegate,s.s(this._delegate,F,ne))}signInWithPopup(F){var ne=this;return(0,a.A)(function*(){return de(On(),ne._delegate,"operation-not-supported-in-this-environment"),Cr(ne._delegate,s.c(ne._delegate,F,Yn))})()}signInWithRedirect(F){var ne=this;return(0,a.A)(function*(){return de(On(),ne._delegate,"operation-not-supported-in-this-environment"),yield zn(ne._delegate),s.f(ne._delegate,F,Yn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return s.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=Mr,k})();function yt(k,P,F){let ne=k;"function"!=typeof k&&({next:ne,error:P,complete:F}=k);const ge=ne;return{next:At=>ge(At&&pt.getOrCreate(At)),error:P,complete:F}}function Wt(k,P){const F=function jr(k,P){const F=br();if(!F)return[];const ne=s.aF(Bt,k,P);switch(F.getItem(ne)){case Mr.NONE:return[s.U];case Mr.LOCAL:return[s.i,s.a];case Mr.SESSION:return[s.a];default:return[]}}(k,P);if(typeof self<"u"&&!F.includes(s.i)&&F.push(s.i),typeof window<"u")for(const ne of[s.b,s.a])F.includes(ne)||F.push(ne);return F.includes(s.U)||F.push(s.U),F}class $n{constructor(){this.providerId="phone",this._delegate=new s.P(ui(le.A.auth()))}static credential(P,F){return s.P.credential(P,F)}verifyPhoneNumber(P,F){return this._delegate.verifyPhoneNumber(P,F)}unwrap(){return this._delegate}}$n.PHONE_SIGN_IN_METHOD=s.P.PHONE_SIGN_IN_METHOD,$n.PROVIDER_ID=s.P.PROVIDER_ID;const Fr=s.aC;class Ue{constructor(P,F,ne=le.A.app()){var ge;Fr(null===(ge=ne.options)||void 0===ge?void 0:ge.apiKey,"invalid-api-key",{appName:ne.name}),this._delegate=new s.R(ne.auth(),P,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function te(k){k.INTERNAL.registerComponent(new Ae.uA("auth-compat",P=>{const F=P.getProvider("app-compat").getImmediate(),ne=P.getProvider("auth");return new xe(F,ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:s.A.EMAIL_SIGNIN,PASSWORD_RESET:s.A.PASSWORD_RESET,RECOVER_EMAIL:s.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:s.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:s.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:s.A.VERIFY_EMAIL}},EmailAuthProvider:s.V,FacebookAuthProvider:s.W,GithubAuthProvider:s.Y,GoogleAuthProvider:s.X,OAuthProvider:s.Z,SAMLAuthProvider:s._,PhoneAuthProvider:$n,PhoneMultiFactorGenerator:s.m,RecaptchaVerifier:Ue,TwitterAuthProvider:s.$,Auth:xe,AuthCredential:s.L,Error:be.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.5.14")}(le.A)},467:(nn,qe,U)=>{function a(s,be,me,De,Ae,Ne,Re){try{var ee=s[Ne](Re),oe=ee.value}catch(pe){return void me(pe)}ee.done?be(oe):Promise.resolve(oe).then(De,Ae)}function le(s){return function(){var be=this,me=arguments;return new Promise(function(De,Ae){var Ne=s.apply(be,me);function Re(oe){a(Ne,De,Ae,Re,ee,"next",oe)}function ee(oe){a(Ne,De,Ae,Re,ee,"throw",oe)}Re(void 0)})}}U.d(qe,{A:()=>le})},1635:(nn,qe,U)=>{function be(je,Te){var Ee={};for(var Fe in je)Object.prototype.hasOwnProperty.call(je,Fe)&&Te.indexOf(Fe)<0&&(Ee[Fe]=je[Fe]);if(null!=je&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Fe=Object.getOwnPropertySymbols(je);tt<Fe.length;tt++)Te.indexOf(Fe[tt])<0&&Object.prototype.propertyIsEnumerable.call(je,Fe[tt])&&(Ee[Fe[tt]]=je[Fe[tt]])}return Ee}function pe(je,Te,Ee,Fe){return new(Ee||(Ee=Promise))(function(Xe,Nt){function Cn(Ln){try{tn(Fe.next(Ln))}catch(Ft){Nt(Ft)}}function rr(Ln){try{tn(Fe.throw(Ln))}catch(Ft){Nt(Ft)}}function tn(Ln){Ln.done?Xe(Ln.value):function tt(Xe){return Xe instanceof Ee?Xe:new Ee(function(Nt){Nt(Xe)})}(Ln.value).then(Cn,rr)}tn((Fe=Fe.apply(je,Te||[])).next())})}function ye(je){return this instanceof ye?(this.v=je,this):new ye(je)}function Je(je,Te,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Fe=Ee.apply(je,Te||[]),Xe=[];return tt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Cn("next"),Cn("throw"),Cn("return",function Nt(On){return function(Gt){return Promise.resolve(Gt).then(On,Ft)}}),tt[Symbol.asyncIterator]=function(){return this},tt;function Cn(On,Gt){Fe[On]&&(tt[On]=function(Ut){return new Promise(function(yr,on){Xe.push([On,Ut,yr,on])>1||rr(On,Ut)})},Gt&&(tt[On]=Gt(tt[On])))}function rr(On,Gt){try{!function tn(On){On.value instanceof ye?Promise.resolve(On.value.v).then(Ln,Ft):Hn(Xe[0][2],On)}(Fe[On](Gt))}catch(Ut){Hn(Xe[0][3],Ut)}}function Ln(On){rr("next",On)}function Ft(On){rr("throw",On)}function Hn(On,Gt){On(Gt),Xe.shift(),Xe.length&&rr(Xe[0][0],Xe[0][1])}}function it(je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,Te=je[Symbol.asyncIterator];return Te?Te.call(je):(je=function wt(je){var Te="function"==typeof Symbol&&Symbol.iterator,Ee=Te&&je[Te],Fe=0;if(Ee)return Ee.call(je);if(je&&"number"==typeof je.length)return{next:function(){return je&&Fe>=je.length&&(je=void 0),{value:je&&je[Fe++],done:!je}}};throw new TypeError(Te?"Object is not iterable.":"Symbol.iterator is not defined.")}(je),Ee={},Fe("next"),Fe("throw"),Fe("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Fe(Xe){Ee[Xe]=je[Xe]&&function(Nt){return new Promise(function(Cn,rr){!function tt(Xe,Nt,Cn,rr){Promise.resolve(rr).then(function(tn){Xe({value:tn,done:Cn})},Nt)}(Cn,rr,(Nt=je[Xe](Nt)).done,Nt.value)})}}}U.d(qe,{AQ:()=>Je,N3:()=>ye,Tt:()=>be,sH:()=>pe,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},nn=>{nn(nn.s=5421)}]);