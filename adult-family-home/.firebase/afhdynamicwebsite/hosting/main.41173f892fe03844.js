"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(sn,Ze,F)=>{F.d(Ze,{$:()=>nl,A:()=>te,G:()=>Ne,K:()=>Ri,L:()=>bi,N:()=>Pe,P:()=>aa,R:()=>$a,U:()=>ln,V:()=>Vi,W:()=>Ii,X:()=>Mr,Y:()=>Ho,Z:()=>Ti,_:()=>ra,a:()=>Ca,a0:()=>Po,a1:()=>es,a2:()=>Rs,a3:()=>Wo,a4:()=>Wi,a5:()=>La,a6:()=>Du,a7:()=>Rl,a8:()=>yo,a9:()=>Su,aA:()=>ar,aB:()=>tt,aC:()=>Ee,aD:()=>rp,aE:()=>pt,aF:()=>pn,aG:()=>np,aH:()=>Ha,aI:()=>qh,aJ:()=>pr,aN:()=>wr,aQ:()=>Xs,aa:()=>Hh,ab:()=>Ru,ac:()=>Pl,ad:()=>nc,ae:()=>Va,af:()=>ll,ag:()=>ne,ah:()=>X,ak:()=>jn,al:()=>si,am:()=>Qr,ap:()=>zo,aq:()=>ns,as:()=>rc,at:()=>qo,au:()=>Xt,av:()=>gi,aw:()=>Ni,ax:()=>Ie,ay:()=>Ka,az:()=>Qo,b:()=>sc,c:()=>Hu,d:()=>zu,e:()=>Pd,f:()=>yl,g:()=>za,h:()=>Fl,i:()=>O,j:()=>Hc,k:()=>Zh,l:()=>Ga,m:()=>qc,p:()=>Ve,r:()=>Uu,s:()=>Fo,u:()=>Ol});var o=F(467),le=F(7852),i=F(1076),ve=F(8041),_e=F(1635),Ce=F(1362);const Ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},de=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ft=new ve.Vy("@firebase/auth");function He(I,..._){Ft.logLevel<=ve.$b.ERROR&&Ft.error(`Auth (${le.SDK_VERSION}): ${I}`,..._)}function Ie(I,..._){throw ht(I,..._)}function tt(I,..._){return ht(I,..._)}function Xe(I,_,v){const S=Object.assign(Object.assign({},de()),{[_]:v});return new i.FA("auth","Firebase",S).create(_,{appName:I.name})}function dt(I){return Xe(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nt(I,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&Ie(I,"argument-error"),Xe(I,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ht(I,..._){if("string"!=typeof I){const v=_[0],S=[..._.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(v,...S)}return Ke.create(I,..._)}function Ee(I,_,...v){if(!I)throw ht(_,...v)}function Je(I){const _="INTERNAL ASSERTION FAILED: "+I;throw He(_),new Error(_)}function Xt(I,_){I||Je(_)}function Fn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function qe(){return"http:"===xt()||"https:"===xt()}function xt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class ke{constructor(_,v){this.shortDelay=_,this.longDelay=v,Xt(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return function je(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qe()||(0,i.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(I,_){Xt(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class tn{static initialize(_,v,S){this.fetchImpl=_,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=new ke(3e4,6e4);function Te(I,_){return I.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:I.tenantId}):_}function Le(I,_,v,S){return ct.apply(this,arguments)}function ct(){return(ct=(0,o.A)(function*(I,_,v,S,Q={}){return it(I,Q,(0,o.A)(function*(){let he={},Qe={};S&&("GET"===_?Qe=S:he={body:JSON.stringify(S)});const Mt=(0,i.Am)(Object.assign({key:I.config.apiKey},Qe)).slice(1),qt=yield I._getAdditionalHeaders();qt["Content-Type"]="application/json",I.languageCode&&(qt["X-Firebase-Locale"]=I.languageCode);const On=Object.assign({method:_,headers:qt},he);return(0,i.c1)()||(On.referrerPolicy="no-referrer"),tn.fetch()(on(I,I.config.apiHost,v,Mt),On)}))})).apply(this,arguments)}function it(I,_,v){return jt.apply(this,arguments)}function jt(){return(jt=(0,o.A)(function*(I,_,v){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},ze),_);try{const Q=new Zt(I),he=yield Promise.race([v(),Q.promise]);Q.clearNetworkTimeout();const Qe=yield he.json();if("needConfirmation"in Qe)throw Hn(I,"account-exists-with-different-credential",Qe);if(he.ok&&!("errorMessage"in Qe))return Qe;{const Mt=he.ok?Qe.errorMessage:Qe.error.message,[qt,On]=Mt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qt)throw Hn(I,"credential-already-in-use",Qe);if("EMAIL_EXISTS"===qt)throw Hn(I,"email-already-in-use",Qe);if("USER_DISABLED"===qt)throw Hn(I,"user-disabled",Qe);const Nn=S[qt]||qt.toLowerCase().replace(/[_\s]+/g,"-");if(On)throw Xe(I,Nn,On);Ie(I,Nn)}}catch(Q){if(Q instanceof i.g)throw Q;Ie(I,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function An(I,_,v,S){return rr.apply(this,arguments)}function rr(){return(rr=(0,o.A)(function*(I,_,v,S,Q={}){const he=yield Le(I,_,v,S,Q);return"mfaPendingCredential"in he&&Ie(I,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function on(I,_,v,S){const Q=`${_}${v}?${S}`;return I.config.emulator?st(I.config,Q):`${I.config.apiScheme}://${Q}`}function Un(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(tt(this.auth,"network-request-failed")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(I,_,v){const S={appName:I.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const Q=tt(I,_,S);return Q.customData._tokenResponse=v,Q}function xn(I){return void 0!==I&&void 0!==I.getResponse}function Kt(I){return void 0!==I&&void 0!==I.enterprise}class $t{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return Un(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function an(){return(an=(0,o.A)(function*(I){return(yield Le(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xr(I,_){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,o.A)(function*(I,_){return Le(I,"GET","/v2/recaptchaConfig",Te(I,_))})).apply(this,arguments)}function wn(){return(wn=(0,o.A)(function*(I,_){return Le(I,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Cn(){return(Cn=(0,o.A)(function*(I,_){return Le(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Vr(I,_){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,o.A)(function*(I,_){return Le(I,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function ei(I){if(I)try{const _=new Date(Number(I));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ys(){return(ys=(0,o.A)(function*(I,_=!1){const v=(0,i.Ku)(I),S=yield v.getIdToken(_),Q=ti(S);Ee(Q&&Q.exp&&Q.auth_time&&Q.iat,v.auth,"internal-error");const he="object"==typeof Q.firebase?Q.firebase:void 0,Qe=he?.sign_in_provider;return{claims:Q,token:S,authTime:ei(fn(Q.auth_time)),issuedAtTime:ei(fn(Q.iat)),expirationTime:ei(fn(Q.exp)),signInProvider:Qe||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function fn(I){return 1e3*Number(I)}function ti(I){const[_,v,S]=I.split(".");if(void 0===_||void 0===v||void 0===S)return He("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,i.u)(v);return Q?JSON.parse(Q):(He("Failed to decode base64 JWT payload"),null)}catch(Q){return He("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function er(I){const _=ti(I);return Ee(_,"internal-error"),Ee(typeof _.exp<"u","internal-error"),Ee(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function Ir(I,_){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,o.A)(function*(I,_,v=!1){if(v)return _;try{return yield _}catch(S){throw S instanceof i.g&&function Si({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}class ot{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(_);this.timerId=setTimeout((0,o.A)(function*(){yield v.iteration()}),S)}iteration(){var _=this;return(0,o.A)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class It{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=ei(this.lastLoginAt),this.creationTime=ei(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ue(I){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,o.A)(function*(I){var _;const v=I.auth,S=yield I.getIdToken(),Q=yield Ir(I,Vr(v,{idToken:S}));Ee(Q?.users.length,v,"internal-error");const he=Q.users[0];I._notifyReloadListener(he);const Qe=null!==(_=he.providerUserInfo)&&void 0!==_&&_.length?Se(he.providerUserInfo):[],Mt=function Vt(I,_){return[...I.filter(S=>!_.some(Q=>Q.providerId===S.providerId)),..._]}(I.providerData,Qe),Nn=!!I.isAnonymous&&!(I.email&&he.passwordHash||Mt?.length),Jr={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:Mt,metadata:new It(he.createdAt,he.lastLoginAt),isAnonymous:Nn};Object.assign(I,Jr)})).apply(this,arguments)}function De(){return(De=(0,o.A)(function*(I){const _=(0,i.Ku)(I);yield ue(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Se(I){return I.map(_=>{var{providerId:v}=_,S=(0,_e.Tt)(_,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function vn(){return(vn=(0,o.A)(function*(I,_){const v=yield it(I,{},(0,o.A)(function*(){const S=(0,i.Am)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:Q,apiKey:he}=I.config,Qe=on(I,Q,"/v1/token",`key=${he}`),Mt=yield I._getAdditionalHeaders();return Mt["Content-Type"]="application/x-www-form-urlencoded",tn.fetch()(Qe,{method:"POST",headers:Mt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $(){return($=(0,o.A)(function*(I,_){return Le(I,"POST","/v2/accounts:revokeToken",Te(I,_))})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ee(_.idToken,"internal-error"),Ee(typeof _.idToken<"u","internal-error"),Ee(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):er(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}updateFromIdToken(_){Ee(0!==_.length,"internal-error");const v=er(_);this.updateTokensAndExpiration(_,null,v)}getToken(_,v=!1){var S=this;return(0,o.A)(function*(){return v||!S.accessToken||S.isExpired?(Ee(S.refreshToken,_,"user-token-expired"),S.refreshToken?(yield S.refresh(_,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var S=this;return(0,o.A)(function*(){const{accessToken:Q,refreshToken:he,expiresIn:Qe}=yield function ut(I,_){return vn.apply(this,arguments)}(_,v);S.updateTokensAndExpiration(Q,he,Number(Qe))})()}updateTokensAndExpiration(_,v,S){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(_,v){const{refreshToken:S,accessToken:Q,expirationTime:he}=v,Qe=new x;return S&&(Ee("string"==typeof S,"internal-error",{appName:_}),Qe.refreshToken=S),Q&&(Ee("string"==typeof Q,"internal-error",{appName:_}),Qe.accessToken=Q),he&&(Ee("number"==typeof he,"internal-error",{appName:_}),Qe.expirationTime=he),Qe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return Je("not implemented")}}function L(I,_){Ee("string"==typeof I||typeof I>"u","internal-error",{appName:_})}class ie{constructor(_){var{uid:v,auth:S,stsTokenManager:Q}=_,he=(0,_e.Tt)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new It(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,o.A)(function*(){const S=yield Ir(v,v.stsTokenManager.getToken(v.auth,_));return Ee(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(_){return function di(I){return ys.apply(this,arguments)}(this,_)}reload(){return function St(I){return De.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ee(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new ie(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var S=this;return(0,o.A)(function*(){let Q=!1;_.idToken&&_.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(_),Q=!0),v&&(yield ue(S)),yield S.auth._persistUserIfCurrent(S),Q&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var _=this;return(0,o.A)(function*(){if((0,le._isFirebaseServerApp)(_.auth.app))return Promise.reject(dt(_.auth));const v=yield _.getIdToken();return yield Ir(_,function zt(I,_){return wn.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var S,Q,he,Qe,Mt,qt,On,Nn;const Jr=null!==(S=v.displayName)&&void 0!==S?S:void 0,bo=null!==(Q=v.email)&&void 0!==Q?Q:void 0,ua=null!==(he=v.phoneNumber)&&void 0!==he?he:void 0,Hl=null!==(Qe=v.photoURL)&&void 0!==Qe?Qe:void 0,Qc=null!==(Mt=v.tenantId)&&void 0!==Mt?Mt:void 0,Hd=null!==(qt=v._redirectEventId)&&void 0!==qt?qt:void 0,zd=null!==(On=v.createdAt)&&void 0!==On?On:void 0,Pg=null!==(Nn=v.lastLoginAt)&&void 0!==Nn?Nn:void 0,{uid:lp,emailVerified:Wd,isAnonymous:xg,providerData:da,stsTokenManager:rf}=v;Ee(lp&&rf,_,"internal-error");const Kd=x.fromJSON(this.name,rf);Ee("string"==typeof lp,_,"internal-error"),L(Jr,_.name),L(bo,_.name),Ee("boolean"==typeof Wd,_,"internal-error"),Ee("boolean"==typeof xg,_,"internal-error"),L(ua,_.name),L(Hl,_.name),L(Qc,_.name),L(Hd,_.name),L(zd,_.name),L(Pg,_.name);const ha=new ie({uid:lp,auth:_,email:bo,emailVerified:Wd,displayName:Jr,isAnonymous:xg,photoURL:Hl,phoneNumber:ua,tenantId:Qc,stsTokenManager:Kd,createdAt:zd,lastLoginAt:Pg});return da&&Array.isArray(da)&&(ha.providerData=da.map(ed=>Object.assign({},ed))),Hd&&(ha._redirectEventId=Hd),ha}static _fromIdTokenResponse(_,v,S=!1){return(0,o.A)(function*(){const Q=new x;Q.updateFromServerResponse(v);const he=new ie({uid:v.localId,auth:_,stsTokenManager:Q,isAnonymous:S});return yield ue(he),he})()}static _fromGetAccountInfoResponse(_,v,S){return(0,o.A)(function*(){const Q=v.users[0];Ee(void 0!==Q.localId,"internal-error");const he=void 0!==Q.providerUserInfo?Se(Q.providerUserInfo):[],Qe=!(Q.email&&Q.passwordHash||he?.length),Mt=new x;Mt.updateFromIdToken(S);const qt=new ie({uid:Q.localId,auth:_,stsTokenManager:Mt,isAnonymous:Qe}),On={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:he,metadata:new It(Q.createdAt,Q.lastLoginAt),isAnonymous:!(Q.email&&Q.passwordHash||he?.length)};return Object.assign(qt,On),qt})()}}const me=new Map;function pt(I){Xt(I instanceof Function,"Expected a class definition");let _=me.get(I);return _?(Xt(_ instanceof I,"Instance stored in cache mismatched with class"),_):(_=new I,me.set(I,_),_)}const ln=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.A)(function*(){return!0})()}_set(v,S){var Q=this;return(0,o.A)(function*(){Q.storage[v]=S})()}_get(v){var S=this;return(0,o.A)(function*(){const Q=S.storage[v];return void 0===Q?null:Q})()}_remove(v){var S=this;return(0,o.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return I.type="NONE",I})();function pn(I,_,v){return`firebase:${I}:${_}:${v}`}class Rn{constructor(_,v,S){this.persistence=_,this.auth=v,this.userKey=S;const{config:Q,name:he}=this.auth;this.fullUserKey=pn(this.userKey,Q.apiKey,he),this.fullPersistenceKey=pn("persistence",Q.apiKey,he),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,o.A)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?ie._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,o.A)(function*(){if(v.persistence===_)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,S="authUser"){return(0,o.A)(function*(){if(!v.length)return new Rn(pt(ln),_,S);const Q=(yield Promise.all(v.map(function(){var On=(0,o.A)(function*(Nn){if(yield Nn._isAvailable())return Nn});return function(Nn){return On.apply(this,arguments)}}()))).filter(On=>On);let he=Q[0]||pt(ln);const Qe=pn(S,_.config.apiKey,_.name);let Mt=null;for(const On of v)try{const Nn=yield On._get(Qe);if(Nn){const Jr=ie._fromJSON(_,Nn);On!==he&&(Mt=Jr),he=On;break}}catch{}const qt=Q.filter(On=>On._shouldAllowMigration);return he._shouldAllowMigration&&qt.length?(he=qt[0],Mt&&(yield he._set(Qe,Mt.toJSON())),yield Promise.all(v.map(function(){var On=(0,o.A)(function*(Nn){if(Nn!==he)try{yield Nn._remove(Qe)}catch{}});return function(Nn){return On.apply(this,arguments)}}())),new Rn(he,_,S)):new Rn(he,_,S)})()}}function br(I){const _=I.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Vs(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(cn(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(vs(_))return"Blackberry";if(Es(_))return"Webos";if(Gr(_))return"Safari";if((_.includes("chrome/")||dr(_))&&!_.includes("edge/"))return"Chrome";if(Ni(_))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function cn(I=(0,i.ZQ)()){return/firefox\//i.test(I)}function Gr(I=(0,i.ZQ)()){const _=I.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function dr(I=(0,i.ZQ)()){return/crios\//i.test(I)}function Vs(I=(0,i.ZQ)()){return/iemobile/i.test(I)}function Ni(I=(0,i.ZQ)()){return/android/i.test(I)}function vs(I=(0,i.ZQ)()){return/blackberry/i.test(I)}function Es(I=(0,i.ZQ)()){return/webos/i.test(I)}function gi(I=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function ar(I=(0,i.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function at(I=(0,i.ZQ)()){return gi(I)||Ni(I)||Es(I)||vs(I)||/windows phone/i.test(I)||Vs(I)}function kt(I,_=[]){let v;switch(I){case"Browser":v=br((0,i.ZQ)());break;case"Worker":v=`${br((0,i.ZQ)())}-${I}`;break;default:v=I}const S=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${le.SDK_VERSION}/${S}`}class un{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const S=he=>new Promise((Qe,Mt)=>{try{Qe(_(he))}catch(qt){Mt(qt)}});S.onAbort=v,this.queue.push(S);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,o.A)(function*(){if(v.auth.currentUser===_)return;const S=[];try{for(const Q of v.queue)yield Q(_),Q.onAbort&&S.push(Q.onAbort)}catch(Q){S.reverse();for(const he of S)try{he()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function Ln(){return(Ln=(0,o.A)(function*(I,_={}){return Le(I,"GET","/v2/passwordPolicy",Te(I,_))})).apply(this,arguments)}class Ur{constructor(_){var v,S,Q,he;const Qe=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Qe.minPasswordLength)&&void 0!==v?v:6,Qe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Qe.maxPasswordLength),void 0!==Qe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Qe.containsLowercaseCharacter),void 0!==Qe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Qe.containsUppercaseCharacter),void 0!==Qe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Qe.containsNumericCharacter),void 0!==Qe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Qe.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(S=_.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(he=_.forceUpgradeOnSignin)&&void 0!==he&&he,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,S,Q,he,Qe,Mt;const qt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,qt),this.validatePasswordCharacterOptions(_,qt),qt.isValid&&(qt.isValid=null===(v=qt.meetsMinPasswordLength)||void 0===v||v),qt.isValid&&(qt.isValid=null===(S=qt.meetsMaxPasswordLength)||void 0===S||S),qt.isValid&&(qt.isValid=null===(Q=qt.containsLowercaseLetter)||void 0===Q||Q),qt.isValid&&(qt.isValid=null===(he=qt.containsUppercaseLetter)||void 0===he||he),qt.isValid&&(qt.isValid=null===(Qe=qt.containsNumericCharacter)||void 0===Qe||Qe),qt.isValid&&(qt.isValid=null===(Mt=qt.containsNonAlphanumericCharacter)||void 0===Mt||Mt),qt}validatePasswordLengthOptions(_,v){const S=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=_.length>=S),Q&&(v.meetsMaxPasswordLength=_.length<=Q)}validatePasswordCharacterOptions(_,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Q=0;Q<_.length;Q++)S=_.charAt(Q),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(_,v,S,Q,he){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=he))}}class Wr{constructor(_,v,S,Q){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qi(this),this.idTokenSubscription=new Qi(this),this.beforeStateQueue=new un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(_,v){var S=this;return v&&(this._popupRedirectResolver=pt(v)),this._initializationPromise=this.queue((0,o.A)(function*(){var Q,he;if(!S._deleted&&(S.persistenceManager=yield Rn.create(S,_),!S._deleted)){if(null!==(Q=S._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(he=S.currentUser)||void 0===he?void 0:he.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,o.A)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(_){var v=this;return(0,o.A)(function*(){try{const S=yield Vr(v,{idToken:_}),Q=yield ie._fromGetAccountInfoResponse(v,S,_);yield v.directlySetCurrentUser(Q)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var v=this;return(0,o.A)(function*(){var S;if((0,le._isFirebaseServerApp)(v.app)){const Mt=v.app.settings.authIdToken;return Mt?new Promise(qt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Mt).then(qt,qt))}):v.directlySetCurrentUser(null)}const Q=yield v.assertedPersistence.getCurrentUser();let he=Q,Qe=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Mt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,qt=he?._redirectEventId,On=yield v.tryRedirectSignIn(_);(!Mt||Mt===qt)&&On?.user&&(he=On.user,Qe=!0)}if(!he)return v.directlySetCurrentUser(null);if(!he._redirectEventId){if(Qe)try{yield v.beforeStateQueue.runMiddleware(he)}catch(Mt){he=Q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Mt))}return he?v.reloadAndSetCurrentUserOrClear(he):v.directlySetCurrentUser(null)}return Ee(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===he._redirectEventId?v.directlySetCurrentUser(he):v.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(_){var v=this;return(0,o.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,o.A)(function*(){try{yield ue(_)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function lt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var _=this;return(0,o.A)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,o.A)(function*(){if((0,le._isFirebaseServerApp)(v.app))return Promise.reject(dt(v));const S=_?(0,i.Ku)(_):null;return S&&Ee(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(_,v=!1){var S=this;return(0,o.A)(function*(){if(!S._deleted)return _&&Ee(S.tenantId===_.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(_)),S.queue((0,o.A)(function*(){yield S.directlySetCurrentUser(_),S.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,o.A)(function*(){return(0,le._isFirebaseServerApp)(_.app)?Promise.reject(dt(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var v=this;return(0,le._isFirebaseServerApp)(this.app)?Promise.reject(dt(this)):this.queue((0,o.A)(function*(){yield v.assertedPersistence.setPersistence(pt(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,o.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,o.A)(function*(){const v=yield function $n(I){return Ln.apply(this,arguments)}(_),S=new Ur(v);null===_.tenantId?_._projectPasswordPolicy=S:_._tenantPasswordPolicies[_.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new i.FA("auth","Firebase",_())}onAuthStateChanged(_,v,S){return this.registerStateListener(this.authStateSubscription,_,v,S)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,S){return this.registerStateListener(this.idTokenSubscription,_,v,S)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const S=this.onAuthStateChanged(()=>{S(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,o.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),Q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:S};null!=v.tenantId&&(Q.tenantId=v.tenantId),yield function yt(I,_){return $.apply(this,arguments)}(v,Q)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var S=this;return(0,o.A)(function*(){const Q=yield S.getOrInitRedirectPersistenceManager(v);return null===_?Q.removeCurrentUser():Q.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,o.A)(function*(){if(!v.redirectPersistenceManager){const S=_&&pt(_)||v._popupRedirectResolver;Ee(S,v,"argument-error"),v.redirectPersistenceManager=yield Rn.create(v,[pt(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,o.A)(function*(){var S,Q;return v._isInitialized&&(yield v.queue((0,o.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===_?v._currentUser:(null===(Q=v.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,o.A)(function*(){if(_===v.currentUser)return v.queue((0,o.A)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,S,Q){if(this._deleted)return()=>{};const he="function"==typeof v?v:v.next.bind(v);let Qe=!1;const Mt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(Mt,this,"internal-error"),Mt.then(()=>{Qe||he(this.currentUser)}),"function"==typeof v){const qt=_.addObserver(v,S,Q);return()=>{Qe=!0,qt()}}{const qt=_.addObserver(v);return()=>{Qe=!0,qt()}}}directlySetCurrentUser(_){var v=this;return(0,o.A)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=kt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,o.A)(function*(){var v;const S={"X-Client-Version":_.clientVersion};_.app.options.appId&&(S["X-Firebase-gmpid"]=_.app.options.appId);const Q=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Q&&(S["X-Firebase-Client"]=Q);const he=yield _._getAppCheckToken();return he&&(S["X-Firebase-AppCheck"]=he),S})()}_getAppCheckToken(){var _=this;return(0,o.A)(function*(){var v;const S=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function Jt(I,..._){Ft.logLevel<=ve.$b.WARN&&Ft.warn(`Auth (${le.SDK_VERSION}): ${I}`,..._)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function pr(I){return(0,i.Ku)(I)}class Qi{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,i.tD)(v=>this.observer=v)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ms={loadJS:()=>(0,o.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Do(I){return Ms.loadJS(I)}function li(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Kr{constructor(_){this.type="recaptcha-enterprise",this.auth=pr(_)}verify(_="verify",v=!1){var S=this;return(0,o.A)(function*(){function he(){return he=(0,o.A)(function*(Mt){if(!v){if(null==Mt.tenantId&&null!=Mt._agentRecaptchaConfig)return Mt._agentRecaptchaConfig.siteKey;if(null!=Mt.tenantId&&void 0!==Mt._tenantRecaptchaConfigs[Mt.tenantId])return Mt._tenantRecaptchaConfigs[Mt.tenantId].siteKey}return new Promise(function(){var qt=(0,o.A)(function*(On,Nn){xr(Mt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Jr=>{if(void 0!==Jr.recaptchaKey){const bo=new $t(Jr);return null==Mt.tenantId?Mt._agentRecaptchaConfig=bo:Mt._tenantRecaptchaConfigs[Mt.tenantId]=bo,On(bo.siteKey)}Nn(new Error("recaptcha Enterprise site key undefined"))}).catch(Jr=>{Nn(Jr)})});return function(On,Nn){return qt.apply(this,arguments)}}())}),he.apply(this,arguments)}function Qe(Mt,qt,On){const Nn=window.grecaptcha;Kt(Nn)?Nn.enterprise.ready(()=>{Nn.enterprise.execute(Mt,{action:_}).then(Jr=>{qt(Jr)}).catch(()=>{qt("NO_RECAPTCHA")})}):On(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Mt,qt)=>{(function Q(Mt){return he.apply(this,arguments)})(S.auth).then(On=>{if(!v&&Kt(window.grecaptcha))Qe(On,Mt,qt);else{if(typeof window>"u")return void qt(new Error("RecaptchaVerifier is only supported in browser"));let Nn=function ji(){return Ms.recaptchaEnterpriseScript}();0!==Nn.length&&(Nn+=On),Do(Nn).then(()=>{Qe(On,Mt,qt)}).catch(Jr=>{qt(Jr)})}}).catch(On=>{qt(On)})})})()}}function Hi(I,_,v){return xi.apply(this,arguments)}function xi(){return(xi=(0,o.A)(function*(I,_,v,S=!1){const Q=new Kr(I);let he;try{he=yield Q.verify(v)}catch{he=yield Q.verify(v,!0)}const Qe=Object.assign({},_);return Object.assign(Qe,S?{captchaResp:he}:{captchaResponse:he}),Object.assign(Qe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Qe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Qe})).apply(this,arguments)}function Ar(I,_,v,S){return uo.apply(this,arguments)}function uo(){return uo=(0,o.A)(function*(I,_,v,S){var Q;if(null!==(Q=I._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const he=yield Hi(I,_,v,"getOobCode"===v);return S(I,he)}return S(I,_).catch(function(){var he=(0,o.A)(function*(Qe){if("auth/missing-recaptcha-token"===Qe.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Mt=yield Hi(I,_,v,"getOobCode"===v);return S(I,Mt)}return Promise.reject(Qe)});return function(Qe){return he.apply(this,arguments)}}())}),uo.apply(this,arguments)}function Ri(I,_,v){const S=pr(I);Ee(S._canInitEmulator,S,"emulator-config-failed"),Ee(/^https?:\/\//.test(_),S,"invalid-emulator-scheme");const Q=!!v?.disableWarnings,he=va(_),{host:Qe,port:Mt}=function qs(I){const _=va(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(_.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(S);if(Q){const he=Q[1];return{host:he,port:ni(S.substr(he.length+1))}}{const[he,Qe]=S.split(":");return{host:he,port:ni(Qe)}}}(_);S.config.emulator={url:`${he}//${Qe}${null===Mt?"":`:${Mt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Qe,port:Mt,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function Us(){function I(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function va(I){const _=I.indexOf(":");return _<0?"":I.substr(0,_+1)}function ni(I){if(!I)return null;const _=Number(I);return isNaN(_)?null:_}class bi{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Je("not implemented")}_getIdTokenResponse(_){return Je("not implemented")}_linkToIdToken(_,v){return Je("not implemented")}_getReauthenticationResolver(_){return Je("not implemented")}}function Bi(I,_){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.A)(function*(I,_){return Le(I,"POST","/v1/accounts:resetPassword",Te(I,_))})).apply(this,arguments)}function qr(){return(qr=(0,o.A)(function*(I,_){return Le(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ri(I,_){return zi.apply(this,arguments)}function zi(){return(zi=(0,o.A)(function*(I,_){return Le(I,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function as(){return(as=(0,o.A)(function*(I,_){return Le(I,"POST","/v1/accounts:update",Te(I,_))})).apply(this,arguments)}function Ys(I,_){return ki.apply(this,arguments)}function ki(){return(ki=(0,o.A)(function*(I,_){return An(I,"POST","/v1/accounts:signInWithPassword",Te(I,_))})).apply(this,arguments)}function Ts(I,_){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,o.A)(function*(I,_){return Le(I,"POST","/v1/accounts:sendOobCode",Te(I,_))})).apply(this,arguments)}function _n(){return(_n=(0,o.A)(function*(I,_){return Ts(I,_)})).apply(this,arguments)}function ir(I,_){return hr.apply(this,arguments)}function hr(){return(hr=(0,o.A)(function*(I,_){return Ts(I,_)})).apply(this,arguments)}function Ji(I,_){return ls.apply(this,arguments)}function ls(){return(ls=(0,o.A)(function*(I,_){return Ts(I,_)})).apply(this,arguments)}function js(){return(js=(0,o.A)(function*(I,_){return Ts(I,_)})).apply(this,arguments)}function cs(){return(cs=(0,o.A)(function*(I,_){return An(I,"POST","/v1/accounts:signInWithEmailLink",Te(I,_))})).apply(this,arguments)}function Gn(){return(Gn=(0,o.A)(function*(I,_){return An(I,"POST","/v1/accounts:signInWithEmailLink",Te(I,_))})).apply(this,arguments)}class mi extends bi{constructor(_,v,S,Q=null){super("password",S),this._email=_,this._password=v,this._tenantId=Q}static _fromEmailAndPassword(_,v){return new mi(_,v,"password")}static _fromEmailAndCode(_,v,S=null){return new mi(_,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,o.A)(function*(){switch(v.signInMethod){case"password":return Ar(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ys);case"emailLink":return function Yr(I,_){return cs.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:Ie(_,"internal-error")}})()}_linkToIdToken(_,v){var S=this;return(0,o.A)(function*(){switch(S.signInMethod){case"password":return Ar(_,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ri);case"emailLink":return function Ss(I,_){return Gn.apply(this,arguments)}(_,{idToken:v,email:S._email,oobCode:S._password});default:Ie(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Zi(I,_){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.A)(function*(I,_){return An(I,"POST","/v1/accounts:signInWithIdp",Te(I,_))})).apply(this,arguments)}class Pe extends bi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Pe(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):Ie("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:S,signInMethod:Q}=v,he=(0,_e.Tt)(v,["providerId","signInMethod"]);if(!S||!Q)return null;const Qe=new Pe(S,Q);return Qe.idToken=he.idToken||void 0,Qe.accessToken=he.accessToken||void 0,Qe.secret=he.secret,Qe.nonce=he.nonce,Qe.pendingToken=he.pendingToken||null,Qe}_getIdTokenResponse(_){return Zi(_,this.buildRequest())}_linkToIdToken(_,v){const S=this.buildRequest();return S.idToken=v,Zi(_,S)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Zi(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,i.Am)(v)}return _}}function nt(){return(nt=(0,o.A)(function*(I,_){return Le(I,"POST","/v1/accounts:sendVerificationCode",Te(I,_))})).apply(this,arguments)}function Yt(){return(Yt=(0,o.A)(function*(I,_){return An(I,"POST","/v1/accounts:signInWithPhoneNumber",Te(I,_))})).apply(this,arguments)}function gn(){return(gn=(0,o.A)(function*(I,_){const v=yield An(I,"POST","/v1/accounts:signInWithPhoneNumber",Te(I,_));if(v.temporaryProof)throw Hn(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Xn={USER_NOT_FOUND:"user-not-found"};function Mn(){return(Mn=(0,o.A)(function*(I,_){return An(I,"POST","/v1/accounts:signInWithPhoneNumber",Te(I,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Xn)})).apply(this,arguments)}class Vn extends bi{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Vn({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Vn({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function Et(I,_){return Yt.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function Dn(I,_){return gn.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Dr(I,_){return Mn.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:S,verificationCode:Q}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:S,code:Q}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:S,phoneNumber:Q,temporaryProof:he}=_;return S||v||Q||he?new Vn({verificationId:v,verificationCode:S,phoneNumber:Q,temporaryProof:he}):null}}class ii{constructor(_){var v,S,Q,he,Qe,Mt;const qt=(0,i.I9)((0,i.hp)(_)),On=null!==(v=qt.apiKey)&&void 0!==v?v:null,Nn=null!==(S=qt.oobCode)&&void 0!==S?S:null,Jr=function tr(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=qt.mode)&&void 0!==Q?Q:null);Ee(On&&Nn&&Jr,"argument-error"),this.apiKey=On,this.operation=Jr,this.code=Nn,this.continueUrl=null!==(he=qt.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(Qe=qt.languageCode)&&void 0!==Qe?Qe:null,this.tenantId=null!==(Mt=qt.tenantId)&&void 0!==Mt?Mt:null}static parseLink(_){const v=function kr(I){const _=(0,i.I9)((0,i.hp)(I)).link,v=_?(0,i.I9)((0,i.hp)(_)).deep_link_id:null,S=(0,i.I9)((0,i.hp)(I)).deep_link_id;return(S?(0,i.I9)((0,i.hp)(S)).link:null)||S||v||_||I}(_);try{return new ii(v)}catch{return null}}}let Vi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,S){return mi._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const Q=ii.parseLink(S);return Ee(Q,"argument-error"),mi._fromEmailAndCode(v,Q.code,Q.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ci{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Rr extends Ci{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Ti extends Rr{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return Ee("providerId"in v&&"signInMethod"in v,"argument-error"),Pe._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Ee(_.idToken||_.accessToken,"argument-error"),Pe._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Ti.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Ti.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:Q,pendingToken:he,nonce:Qe,providerId:Mt}=_;if(!S&&!Q&&!v&&!he||!Mt)return null;try{return new Ti(Mt)._credential({idToken:v,accessToken:S,nonce:Qe,pendingToken:he})}catch{return null}}}let Ii=(()=>{class I extends Rr{constructor(){super("facebook.com")}static credential(v){return Pe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Mr=(()=>{class I extends Rr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Pe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:Q}=v;if(!S&&!Q)return null;try{return I.credential(S,Q)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Ho=(()=>{class I extends Rr{constructor(){super("github.com")}static credential(v){return Pe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Xs extends bi{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return Zi(_,this.buildRequest())}_linkToIdToken(_,v){const S=this.buildRequest();return S.idToken=v,Zi(_,S)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Zi(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:S,signInMethod:Q,pendingToken:he}=v;return S&&Q&&he&&S===Q?new Xs(S,he):null}static _create(_,v){return new Xs(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ra extends Ci{constructor(_){Ee(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return ra.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return ra.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=Xs.fromJSON(_);return Ee(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:S}=_;if(!v||!S)return null;try{return Xs._create(S,v)}catch{return null}}}let nl=(()=>{class I extends Rr{constructor(){super("twitter.com")}static credential(v,S){return Pe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:Q}=v;if(!S||!Q)return null;try{return I.credential(S,Q)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function ia(I,_){return ec.apply(this,arguments)}function ec(){return(ec=(0,o.A)(function*(I,_){return An(I,"POST","/v1/accounts:signUp",Te(I,_))})).apply(this,arguments)}class ds{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,S,Q=!1){return(0,o.A)(function*(){const he=yield ie._fromIdTokenResponse(_,S,Q),Qe=Os(S);return new ds({user:he,providerId:Qe,_tokenResponse:S,operationType:v})})()}static _forOperation(_,v,S){return(0,o.A)(function*(){yield _._updateTokensIfNecessary(S,!0);const Q=Os(S);return new ds({user:_,providerId:Q,_tokenResponse:S,operationType:v})})()}}function Os(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Po(I){return ka.apply(this,arguments)}function ka(){return(ka=(0,o.A)(function*(I){var _;if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(dt(I));const v=pr(I);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new ds({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield ia(v,{returnSecureToken:!0}),Q=yield ds._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Fa extends i.g{constructor(_,v,S,Q){var he;super(v.code,v.message),this.operationType=S,this.user=Q,Object.setPrototypeOf(this,Fa.prototype),this.customData={appName:_.name,tenantId:null!==(he=_.tenantId)&&void 0!==he?he:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(_,v,S,Q){return new Fa(_,v,S,Q)}}function _i(I,_,v,S){return("reauthenticate"===_?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?Fa._fromErrorAndOperation(I,he,_,S):he})}function xo(I){return new Set(I.map(({providerId:_})=>_).filter(_=>!!_))}function zo(I,_){return W.apply(this,arguments)}function W(){return W=(0,o.A)(function*(I,_){const v=(0,i.Ku)(I);yield ce(!0,v,_);const{providerUserInfo:S}=yield function Wn(I,_){return Cn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),Q=xo(S||[]);return v.providerData=v.providerData.filter(he=>Q.has(he.providerId)),Q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),W.apply(this,arguments)}function ee(I,_){return U.apply(this,arguments)}function U(){return(U=(0,o.A)(function*(I,_,v=!1){const S=yield Ir(I,_._linkToIdToken(I.auth,yield I.getIdToken()),v);return ds._forOperation(I,"link",S)})).apply(this,arguments)}function ce(I,_,v){return $e.apply(this,arguments)}function $e(){return($e=(0,o.A)(function*(I,_,v){yield ue(_);const Q=!1===I?"provider-already-linked":"no-such-provider";Ee(xo(_.providerData).has(v)===I,_.auth,Q)})).apply(this,arguments)}function mn(I,_){return nr.apply(this,arguments)}function nr(){return(nr=(0,o.A)(function*(I,_,v=!1){const{auth:S}=I;if((0,le._isFirebaseServerApp)(S.app))return Promise.reject(dt(S));const Q="reauthenticate";try{const he=yield Ir(I,_i(S,Q,_,I),v);Ee(he.idToken,S,"internal-error");const Qe=ti(he.idToken);Ee(Qe,S,"internal-error");const{sub:Mt}=Qe;return Ee(I.uid===Mt,S,"user-mismatch"),ds._forOperation(I,Q,he)}catch(he){throw"auth/user-not-found"===he?.code&&Ie(S,"user-mismatch"),he}})).apply(this,arguments)}function Cs(I,_){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,o.A)(function*(I,_,v=!1){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(dt(I));const S="signIn",Q=yield _i(I,S,_),he=yield ds._fromIdTokenResponse(I,S,Q);return v||(yield I._updateCurrentUser(he.user)),he})).apply(this,arguments)}function es(I,_){return ho.apply(this,arguments)}function ho(){return(ho=(0,o.A)(function*(I,_){return Cs(pr(I),_)})).apply(this,arguments)}function Rs(I,_){return ts.apply(this,arguments)}function ts(){return(ts=(0,o.A)(function*(I,_){const v=(0,i.Ku)(I);return yield ce(!1,v,_.providerId),ee(v,_)})).apply(this,arguments)}function Wo(I,_){return tc.apply(this,arguments)}function tc(){return(tc=(0,o.A)(function*(I,_){return mn((0,i.Ku)(I),_)})).apply(this,arguments)}function Ea(){return(Ea=(0,o.A)(function*(I,_){return An(I,"POST","/v1/accounts:signInWithCustomToken",Te(I,_))})).apply(this,arguments)}function Wi(I,_){return sa.apply(this,arguments)}function sa(){return sa=(0,o.A)(function*(I,_){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(dt(I));const v=pr(I),S=yield function Ps(I,_){return Ea.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),Q=yield ds._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(Q.user),Q}),sa.apply(this,arguments)}class ms{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?rl._fromServerResponse(_,v):"totpInfo"in v?fo._fromServerResponse(_,v):Ie(_,"internal-error")}}class rl extends ms{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new rl(v)}}class fo extends ms{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new fo(v)}}function oa(I,_,v){var S;Ee((null===(S=v.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),Ee(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ee(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(Ee(v.android.packageName.length>0,I,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Is(I){return ba.apply(this,arguments)}function ba(){return(ba=(0,o.A)(function*(I){const _=pr(I);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function La(I,_,v){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,o.A)(function*(I,_,v){const S=pr(I),Q={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&oa(S,Q,v),yield Ar(S,Q,"getOobCode",ir)})).apply(this,arguments)}function Du(I,_,v){return mr.apply(this,arguments)}function mr(){return mr=(0,o.A)(function*(I,_,v){yield Bi((0,i.Ku)(I),{oobCode:_,newPassword:v}).catch(function(){var S=(0,o.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&Is(I),Q});return function(Q){return S.apply(this,arguments)}}())}),mr.apply(this,arguments)}function Rl(I,_){return _o.apply(this,arguments)}function _o(){return _o=(0,o.A)(function*(I,_){yield function jr(I,_){return as.apply(this,arguments)}((0,i.Ku)(I),{oobCode:_})}),_o.apply(this,arguments)}function yo(I,_){return il.apply(this,arguments)}function il(){return(il=(0,o.A)(function*(I,_){const v=(0,i.Ku)(I),S=yield Bi(v,{oobCode:_}),Q=S.requestType;switch(Ee(Q,v,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(S.mfaInfo,v,"internal-error");default:Ee(S.email,v,"internal-error")}let he=null;return S.mfaInfo&&(he=ms._fromServerResponse(pr(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:he},operation:Q}})).apply(this,arguments)}function Su(I,_){return sl.apply(this,arguments)}function sl(){return(sl=(0,o.A)(function*(I,_){const{data:v}=yield yo((0,i.Ku)(I),_);return v.email})).apply(this,arguments)}function Hh(I,_,v){return ol.apply(this,arguments)}function ol(){return(ol=(0,o.A)(function*(I,_,v){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(dt(I));const S=pr(I),Qe=yield Ar(S,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ia).catch(qt=>{throw"auth/password-does-not-meet-requirements"===qt.code&&Is(I),qt}),Mt=yield ds._fromIdTokenResponse(S,"signIn",Qe);return yield S._updateCurrentUser(Mt.user),Mt})).apply(this,arguments)}function Ru(I,_,v){return(0,le._isFirebaseServerApp)(I.app)?Promise.reject(dt(I)):es((0,i.Ku)(I),Vi.credential(_,v)).catch(function(){var S=(0,o.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&Is(I),Q});return function(Q){return S.apply(this,arguments)}}())}function Pl(I,_,v){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,o.A)(function*(I,_,v){const S=pr(I),Q={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function he(Qe,Mt){Ee(Mt.handleCodeInApp,S,"argument-error"),Mt&&oa(S,Qe,Mt)})(Q,v),yield Ar(S,Q,"getOobCode",Ji)})).apply(this,arguments)}function nc(I,_){const v=ii.parseLink(_);return"EMAIL_SIGNIN"===v?.operation}function Va(I,_,v){return al.apply(this,arguments)}function al(){return(al=(0,o.A)(function*(I,_,v){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(dt(I));const S=(0,i.Ku)(I),Q=Vi.credentialWithLink(_,v||Fn());return Ee(Q._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),es(S,Q)})).apply(this,arguments)}function ja(){return(ja=(0,o.A)(function*(I,_){return Le(I,"POST","/v1/accounts:createAuthUri",Te(I,_))})).apply(this,arguments)}function ll(I,_){return P.apply(this,arguments)}function P(){return P=(0,o.A)(function*(I,_){const S={identifier:_,continueUri:qe()?Fn():"http://localhost"},{signinMethods:Q}=yield function Ua(I,_){return ja.apply(this,arguments)}((0,i.Ku)(I),S);return Q||[]}),P.apply(this,arguments)}function ne(I,_){return B.apply(this,arguments)}function B(){return B=(0,o.A)(function*(I,_){const v=(0,i.Ku)(I),Q={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};_&&oa(v.auth,Q,_);const{email:he}=yield function Hr(I,_){return _n.apply(this,arguments)}(v.auth,Q);he!==I.email&&(yield I.reload())}),B.apply(this,arguments)}function X(I,_,v){return Oe.apply(this,arguments)}function Oe(){return Oe=(0,o.A)(function*(I,_,v){const S=(0,i.Ku)(I),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:_};v&&oa(S.auth,he,v);const{email:Qe}=yield function Fi(I,_){return js.apply(this,arguments)}(S.auth,he);Qe!==I.email&&(yield I.reload())}),Oe.apply(this,arguments)}function Ut(){return(Ut=(0,o.A)(function*(I,_){return Le(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function jn(I,_){return zr.apply(this,arguments)}function zr(){return zr=(0,o.A)(function*(I,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const S=(0,i.Ku)(I),he={idToken:yield S.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Qe=yield Ir(S,function wt(I,_){return Ut.apply(this,arguments)}(S.auth,he));S.displayName=Qe.displayName||null,S.photoURL=Qe.photoUrl||null;const Mt=S.providerData.find(({providerId:qt})=>"password"===qt);Mt&&(Mt.displayName=S.displayName,Mt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Qe)}),zr.apply(this,arguments)}function si(I,_){const v=(0,i.Ku)(I);return(0,le._isFirebaseServerApp)(v.auth.app)?Promise.reject(dt(v.auth)):_r(v,_,null)}function Qr(I,_){return _r((0,i.Ku)(I),null,_)}function _r(I,_,v){return ci.apply(this,arguments)}function ci(){return ci=(0,o.A)(function*(I,_,v){const{auth:S}=I,he={idToken:yield I.getIdToken(),returnSecureToken:!0};_&&(he.email=_),v&&(he.password=v);const Qe=yield Ir(I,function Qn(I,_){return qr.apply(this,arguments)}(S,he));yield I._updateTokensIfNecessary(Qe,!0)}),ci.apply(this,arguments)}class Ai{constructor(_,v,S={}){this.isNewUser=_,this.providerId=v,this.profile=S}}class hs extends Ai{constructor(_,v,S,Q){super(_,v,S),this.username=Q}}class $i extends Ai{constructor(_,v){super(_,"facebook.com",v)}}class ro extends hs{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Ki extends Ai{constructor(_,v){super(_,"google.com",v)}}class Mo extends hs{constructor(_,v,S){super(_,"twitter.com",v,S)}}function ns(I){const{user:_,_tokenResponse:v}=I;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function wi(I){var _,v;if(!I)return null;const{providerId:S}=I,Q=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},he=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const Qe=null===(v=null===(_=ti(I.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Qe)return new Ai(he,"anonymous"!==Qe&&"custom"!==Qe?Qe:null)}if(!S)return null;switch(S){case"facebook.com":return new $i(he,Q);case"github.com":return new ro(he,Q);case"google.com":return new Ki(he,Q);case"twitter.com":return new Mo(he,Q,I.screenName||null);case"custom":case"anonymous":return new Ai(he,null);default:return new Ai(he,S,Q)}}(v)}class ws{constructor(_,v,S){this.type=_,this.credential=v,this.user=S}static _fromIdtoken(_,v){return new ws("enroll",_,v)}static _fromMfaPendingCredential(_){return new ws("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,S;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ws._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(S=_.multiFactorSession)&&void 0!==S&&S.idToken)return ws._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Ta{constructor(_,v,S){this.session=_,this.hints=v,this.signInResolver=S}static _fromError(_,v){const S=pr(_),Q=v.customData._serverResponse,he=(Q.mfaInfo||[]).map(Mt=>ms._fromServerResponse(S,Mt));Ee(Q.mfaPendingCredential,S,"internal-error");const Qe=ws._fromMfaPendingCredential(Q.mfaPendingCredential);return new Ta(Qe,he,function(){var Mt=(0,o.A)(function*(qt){const On=yield qt._process(S,Qe);delete Q.mfaInfo,delete Q.mfaPendingCredential;const Nn=Object.assign(Object.assign({},Q),{idToken:On.idToken,refreshToken:On.refreshToken});switch(v.operationType){case"signIn":const Jr=yield ds._fromIdTokenResponse(S,v.operationType,Nn);return yield S._updateCurrentUser(Jr.user),Jr;case"reauthenticate":return Ee(v.user,S,"internal-error"),ds._forOperation(v.user,v.operationType,Nn);default:Ie(S,"internal-error")}});return function(qt){return Mt.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,o.A)(function*(){return v.signInResolver(_)})()}}function rc(I,_){var v;const S=(0,i.Ku)(I),Q=_;return Ee(_.customData.operationType,S,"argument-error"),Ee(null===(v=Q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),Ta._fromError(S,Q)}class ic{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>ms._fromServerResponse(_.auth,S)))})}static _fromUser(_){return new ic(_)}getSession(){var _=this;return(0,o.A)(function*(){return ws._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var S=this;return(0,o.A)(function*(){const Q=_,he=yield S.getSession(),Qe=yield Ir(S.user,Q._process(S.user.auth,he,v));return yield S.user._updateTokensIfNecessary(Qe),S.user.reload()})()}unenroll(_){var v=this;return(0,o.A)(function*(){const S="string"==typeof _?_:_.uid,Q=yield v.user.getIdToken();try{const he=yield Ir(v.user,function lr(I,_){return Le(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Te(I,_))}(v.user.auth,{idToken:Q,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Qe})=>Qe!==S),yield v.user._updateTokensIfNecessary(he),yield v.user.reload()}catch(he){throw he}})()}}const Vc=new WeakMap;function qo(I){const _=(0,i.Ku)(I);return Vc.has(_)||Vc.set(_,ic._fromUser(_)),Vc.get(_)}const Uc="__sak";class wd{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const sc=(()=>{class I extends wd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=at(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const Q=this.storage.getItem(S),he=this.localCache[S];Q!==he&&v(S,he,Q)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((Mt,qt,On)=>{this.notifyListeners(Mt,On)});const Q=v.key;S?this.detachListener():this.stopPolling();const he=()=>{const Mt=this.storage.getItem(Q);!S&&this.localCache[Q]===Mt||this.notifyListeners(Q,Mt)},Qe=this.storage.getItem(Q);!function Rt(){return(0,i.lT)()&&10===document.documentMode}()||Qe===v.newValue||v.newValue===v.oldValue?he():setTimeout(he,10)}notifyListeners(v,S){this.localCache[v]=S;const Q=this.listeners[v];if(Q)for(const he of Array.from(Q))he(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var Q=()=>super._set,he=this;return(0,o.A)(function*(){yield Q().call(he,v,S),he.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,Q=this;return(0,o.A)(function*(){const he=yield S().call(Q,v);return Q.localCache[v]=JSON.stringify(he),he})()}_remove(v){var S=()=>super._remove,Q=this;return(0,o.A)(function*(){yield S().call(Q,v),delete Q.localCache[v]})()}}return I.type="LOCAL",I})(),Ca=(()=>{class I extends wd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return I.type="SESSION",I})();let Gt=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(he=>he.isListeningto(v));if(S)return S;const Q=new I(v);return this.receivers.push(Q),Q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,o.A)(function*(){const Q=v,{eventId:he,eventType:Qe,data:Mt}=Q.data,qt=S.handlersMap[Qe];if(!qt?.size)return;Q.ports[0].postMessage({status:"ack",eventId:he,eventType:Qe});const On=Array.from(qt).map(function(){var Jr=(0,o.A)(function*(bo){return bo(Q.origin,Mt)});return function(bo){return Jr.apply(this,arguments)}}()),Nn=yield function Fu(I){return Promise.all(I.map(function(){var _=(0,o.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return _.apply(this,arguments)}}()))}(On);Q.ports[0].postMessage({status:"done",eventId:he,eventType:Qe,response:Nn})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function wr(I="",_=10){let v="";for(let S=0;S<_;S++)v+=Math.floor(10*Math.random());return I+v}class zn{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,S=50){var Q=this;return(0,o.A)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let Qe,Mt;return new Promise((qt,On)=>{const Nn=wr("",20);he.port1.start();const Jr=setTimeout(()=>{On(new Error("unsupported_event"))},S);Mt={messageChannel:he,onMessage(bo){const ua=bo;if(ua.data.eventId===Nn)switch(ua.data.status){case"ack":clearTimeout(Jr),Qe=setTimeout(()=>{On(new Error("timeout"))},3e3);break;case"done":clearTimeout(Qe),qt(ua.data.response);break;default:clearTimeout(Jr),clearTimeout(Qe),On(new Error("invalid_response"))}}},Q.handlers.add(Mt),he.port1.addEventListener("message",Mt.onMessage),Q.target.postMessage({eventType:_,eventId:Nn,data:v},[he.port2])}).finally(()=>{Mt&&Q.removeMessageHandler(Mt)})})()}}function qi(){return window}function jc(){return typeof qi().WorkerGlobalScope<"u"&&"function"==typeof qi().importScripts}function ko(){return(ko=(0,o.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ad="firebaseLocalStorageDb",hl="firebaseLocalStorage",io="fbase_key";class po{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ba(I,_){return I.transaction([hl],_?"readwrite":"readonly").objectStore(hl)}function go(){const I=indexedDB.open(Ad,1);return new Promise((_,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(hl,{keyPath:io})}catch(Q){v(Q)}}),I.addEventListener("success",(0,o.A)(function*(){const S=I.result;S.objectStoreNames.contains(hl)?_(S):(S.close(),yield function fl(){const I=indexedDB.deleteDatabase(Ad);return new po(I).toPromise()}(),_(yield go()))}))})}function Dd(I,_,v){return pl.apply(this,arguments)}function pl(){return(pl=(0,o.A)(function*(I,_,v){const S=Ba(I,!0).put({[io]:_,value:v});return new po(S).toPromise()})).apply(this,arguments)}function gl(){return(gl=(0,o.A)(function*(I,_){const v=Ba(I,!1).get(_),S=yield new po(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Vu(I,_){const v=Ba(I,!0).delete(_);return new po(v).toPromise()}const O=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,o.A)(function*(){return v.db||(v.db=yield go()),v.db})()}_withRetries(v){var S=this;return(0,o.A)(function*(){let Q=0;for(;;)try{const he=yield S._openDb();return yield v(he)}catch(he){if(Q++>3)throw he;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,o.A)(function*(){return jc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,o.A)(function*(){v.receiver=Gt._getInstance(function Lu(){return jc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,o.A)(function*(Q,he){return{keyProcessed:(yield v._poll()).includes(he.key)}});return function(Q,he){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,o.A)(function*(Q,he){return["keyChanged"]});return function(Q,he){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,o.A)(function*(){var S,Q;if(v.activeServiceWorker=yield function ul(){return ko.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new zn(v.activeServiceWorker);const he=yield v.sender._send("ping",{},800);he&&null!==(S=he[0])&&void 0!==S&&S.fulfilled&&null!==(Q=he[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,o.A)(function*(){if(S.sender&&S.activeServiceWorker&&function oc(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.A)(function*(){try{if(!indexedDB)return!1;const v=yield go();return yield Dd(v,Uc,"1"),yield Vu(v,Uc),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,o.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var Q=this;return(0,o.A)(function*(){return Q._withPendingWrite((0,o.A)(function*(){return yield Q._withRetries(he=>Dd(he,v,S)),Q.localCache[v]=S,Q.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,o.A)(function*(){const Q=yield S._withRetries(he=>function Qf(I,_){return gl.apply(this,arguments)}(he,v));return S.localCache[v]=Q,Q})()}_remove(v){var S=this;return(0,o.A)(function*(){return S._withPendingWrite((0,o.A)(function*(){return yield S._withRetries(Q=>Vu(Q,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,o.A)(function*(){const S=yield v._withRetries(Qe=>{const Mt=Ba(Qe,!1).getAll();return new po(Mt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const Q=[],he=new Set;if(0!==S.length)for(const{fbase_key:Qe,value:Mt}of S)he.add(Qe),JSON.stringify(v.localCache[Qe])!==JSON.stringify(Mt)&&(v.notifyListeners(Qe,Mt),Q.push(Qe));for(const Qe of Object.keys(v.localCache))v.localCache[Qe]&&!he.has(Qe)&&(v.notifyListeners(Qe,null),Q.push(Qe));return Q})()}notifyListeners(v,S){this.localCache[v]=S;const Q=this.listeners[v];if(Q)for(const he of Array.from(Q))he(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,o.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Dt=1e12;class bt{constructor(_){this.auth=_,this.counter=Dt,this._widgets=new Map}render(_,v){const S=this.counter;return this._widgets.set(S,new In(_,this.auth.name,v||{})),this.counter++,S}reset(_){var v;const S=_||Dt;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(_){var v;return(null===(v=this._widgets.get(_||Dt))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,o.A)(function*(){var S;return null===(S=v._widgets.get(_||Dt))||void 0===S||S.execute(),""})()}}class In{constructor(_,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof _?document.getElementById(_):_;Ee(Q,"argument-error",{appName:v}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yr(I){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sr=li("rcb"),Or=new ke(3e4,6e4);class fi{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=qi().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return Ee(function ml(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&xn(qi().grecaptcha)?Promise.resolve(qi().grecaptcha):new Promise((S,Q)=>{const he=qi().setTimeout(()=>{Q(tt(_,"network-request-failed"))},Or.get());qi()[sr]=()=>{qi().clearTimeout(he),delete qi()[sr];const Mt=qi().grecaptcha;if(!Mt||!xn(Mt))return void Q(tt(_,"internal-error"));const qt=Mt.render;Mt.render=(On,Nn)=>{const Jr=qt(On,Nn);return this.counter++,Jr},this.hostLanguage=v,S(Mt)},Do(`${function So(){return Ms.recaptchaV2Script}()}?${(0,i.Am)({onload:sr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(he),Q(tt(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=qi().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ml{load(_){return(0,o.A)(function*(){return new bt(_)})()}clearedOneInstance(){}}const wa="recaptcha",Yo={theme:"light",type:"image"};class $a{constructor(_,v,S=Object.assign({},Yo)){this.parameters=S,this.type=wa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(_),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof v?document.getElementById(v):v;Ee(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ml:new fi,this.validateStartingState()}verify(){var _=this;return(0,o.A)(function*(){_.assertNotDestroyed();const v=yield _.render(),S=_.getAssertedRecaptcha();return S.getResponse(v)||new Promise(he=>{const Qe=Mt=>{Mt&&(_.tokenChangeListeners.delete(Qe),he(Mt))};_.tokenChangeListeners.add(Qe),_.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof _)_(v);else if("string"==typeof _){const S=qi()[_];"function"==typeof S&&S(v)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,o.A)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,o.A)(function*(){Ee(qe()&&!jc(),_.auth,"internal-error"),yield function Bc(){let I=null;return new Promise(_=>{"complete"!==document.readyState?(I=()=>_(),window.addEventListener("load",I)):_()}).catch(_=>{throw I&&window.removeEventListener("load",I),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function Er(I){return an.apply(this,arguments)}(_.auth);Ee(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _l{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Vn._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function Fo(I,_,v){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,o.A)(function*(I,_,v){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(dt(I));const S=pr(I),Q=yield Bu(S,_,(0,i.Ku)(v));return new _l(Q,he=>es(S,he))})).apply(this,arguments)}function Ga(I,_,v){return $c.apply(this,arguments)}function $c(){return($c=(0,o.A)(function*(I,_,v){const S=(0,i.Ku)(I);yield ce(!1,S,"phone");const Q=yield Bu(S.auth,_,(0,i.Ku)(v));return new _l(Q,he=>Rs(S,he))})).apply(this,arguments)}function Uu(I,_,v){return ju.apply(this,arguments)}function ju(){return(ju=(0,o.A)(function*(I,_,v){const S=(0,i.Ku)(I);if((0,le._isFirebaseServerApp)(S.auth.app))return Promise.reject(dt(S.auth));const Q=yield Bu(S.auth,_,(0,i.Ku)(v));return new _l(Q,he=>Wo(S,he))})).apply(this,arguments)}function Bu(I,_,v){return $u.apply(this,arguments)}function $u(){return $u=(0,o.A)(function*(I,_,v){var S;const Q=yield v.verify();try{let he;if(Ee("string"==typeof Q,I,"argument-error"),Ee(v.type===wa,I,"argument-error"),he="string"==typeof _?{phoneNumber:_}:_,"session"in he){const Qe=he.session;if("phoneNumber"in he)return Ee("enroll"===Qe.type,I,"internal-error"),(yield function Mu(I,_){return Le(I,"POST","/v2/accounts/mfaEnrollment:start",Te(I,_))}(I,{idToken:Qe.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Ee("signin"===Qe.type,I,"internal-error");const Mt=(null===(S=he.multiFactorHint)||void 0===S?void 0:S.uid)||he.multiFactorUid;return Ee(Mt,I,"missing-multi-factor-info"),(yield function w(I,_){return Le(I,"POST","/v2/accounts/mfaSignIn:start",Te(I,_))}(I,{mfaPendingCredential:Qe.credential,mfaEnrollmentId:Mt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Qe}=yield function Ue(I,_){return nt.apply(this,arguments)}(I,{phoneNumber:he.phoneNumber,recaptchaToken:Q});return Qe}}finally{v._reset()}}),$u.apply(this,arguments)}function Ol(I,_){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,o.A)(function*(I,_){const v=(0,i.Ku)(I);if((0,le._isFirebaseServerApp)(v.auth.app))return Promise.reject(dt(v.auth));yield ee(v,_)})).apply(this,arguments)}let aa=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=pr(v)}verifyPhoneNumber(v,S){return Bu(this.auth,v,(0,i.Ku)(S))}static credential(v,S){return Vn._fromVerification(v,S)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:Q}=v;return S&&Q?Vn._fromTokenResponse(S,Q):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Nl(I,_){return _?pt(_):(Ee(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Kh extends bi{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Zi(_,this._buildIdpRequest())}_linkToIdToken(_,v){return Zi(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return Zi(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function Sd(I){return Cs(I.auth,new Kh(I),I.bypassAuthState)}function wg(I){const{auth:_,user:v}=I;return Ee(v,_,"internal-error"),mn(v,new Kh(I),I.bypassAuthState)}function Rd(I){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,o.A)(function*(I){const{auth:_,user:v}=I;return Ee(v,_,"internal-error"),ee(v,new Kh(I),I.bypassAuthState)})).apply(this,arguments)}class Jf{constructor(_,v,S,Q,he=!1){this.auth=_,this.resolver=S,this.user=Q,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,o.A)(function*(S,Q){_.pendingPromise={resolve:S,reject:Q};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(he){_.reject(he)}});return function(S,Q){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,o.A)(function*(){const{urlResponse:S,sessionId:Q,postBody:he,tenantId:Qe,error:Mt,type:qt}=_;if(Mt)return void v.reject(Mt);const On={auth:v.auth,requestUri:S,sessionId:Q,tenantId:Qe||void 0,postBody:he||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(qt)(On))}catch(Nn){v.reject(Nn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Sd;case"linkViaPopup":case"linkViaRedirect":return Rd;case"reauthViaPopup":case"reauthViaRedirect":return wg;default:Ie(this.auth,"internal-error")}}resolve(_){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zf=new ke(2e3,1e4);function Hu(I,_,v){return kl.apply(this,arguments)}function kl(){return(kl=(0,o.A)(function*(I,_,v){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(tt(I,"operation-not-supported-in-this-environment"));const S=pr(I);Nt(I,_,Ci);const Q=Nl(S,v);return new ep(S,"signInViaPopup",_,Q).executeNotNull()})).apply(this,arguments)}function Pd(I,_,v){return ac.apply(this,arguments)}function ac(){return(ac=(0,o.A)(function*(I,_,v){const S=(0,i.Ku)(I);if((0,le._isFirebaseServerApp)(S.auth.app))return Promise.reject(tt(S.auth,"operation-not-supported-in-this-environment"));Nt(S.auth,_,Ci);const Q=Nl(S.auth,v);return new ep(S.auth,"reauthViaPopup",_,Q,S).executeNotNull()})).apply(this,arguments)}function zu(I,_,v){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,o.A)(function*(I,_,v){const S=(0,i.Ku)(I);Nt(S.auth,_,Ci);const Q=Nl(S.auth,v);return new ep(S.auth,"linkViaPopup",_,Q,S).executeNotNull()})).apply(this,arguments)}let ep=(()=>{class I extends Jf{constructor(v,S,Q,he,Qe){super(v,S,he,Qe),this.provider=Q,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,o.A)(function*(){const S=yield v.execute();return Ee(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,o.A)(function*(){Xt(1===v.filter.length,"Popup operations only handle one event");const S=wr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(Q=>{v.reject(Q)}),v.resolver._isIframeWebStorageSupported(v.auth,Q=>{Q||v.reject(tt(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,Q;this.pollId=null!==(Q=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Zf.get())};v()}}return I.currentPopupAction=null,I})();const tp="pendingRedirect",vo=new Map;class Wu extends Jf{constructor(_,v,S=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,o.A)(function*(){let S=vo.get(v.auth._key());if(!S){try{const he=(yield function Eo(I,_){return xd.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;S=()=>Promise.resolve(he)}catch(Q){S=()=>Promise.reject(Q)}vo.set(v.auth._key(),S)}return v.bypassAuthState||vo.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,S=this;return(0,o.A)(function*(){if("signInViaRedirect"===_.type)return v().call(S,_);if("unknown"!==_.type){if(_.eventId){const Q=yield S.auth._redirectUserForId(_.eventId);if(Q)return S.user=Q,v().call(S,_);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.A)(function*(){})()}cleanUp(){}}function xd(){return(xd=(0,o.A)(function*(I,_){const v=Gc(_),S=la(I);if(!(yield S._isAvailable()))return!1;const Q="true"===(yield S._get(v));return yield S._remove(v),Q})).apply(this,arguments)}function lc(I,_){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,o.A)(function*(I,_){return la(I)._set(Gc(_),"true")})).apply(this,arguments)}function qh(){vo.clear()}function Ha(I,_){vo.set(I._key(),_)}function la(I){return pt(I._redirectPersistence)}function Gc(I){return pn(tp,I.config.apiKey,I.name)}function yl(I,_,v){return function cc(I,_,v){return Ku.apply(this,arguments)}(I,_,v)}function Ku(){return(Ku=(0,o.A)(function*(I,_,v){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(dt(I));const S=pr(I);Nt(I,_,Ci),yield S._initializationPromise;const Q=Nl(S,v);return yield lc(Q,S),Q._openRedirect(S,_,"signInViaRedirect")})).apply(this,arguments)}function Fl(I,_,v){return function Ag(I,_,v){return Aa.apply(this,arguments)}(I,_,v)}function Aa(){return(Aa=(0,o.A)(function*(I,_,v){const S=(0,i.Ku)(I);if(Nt(S.auth,_,Ci),(0,le._isFirebaseServerApp)(S.auth.app))return Promise.reject(dt(S.auth));yield S.auth._initializationPromise;const Q=Nl(S.auth,v);yield lc(Q,S.auth);const he=yield Md(S);return Q._openRedirect(S.auth,_,"reauthViaRedirect",he)})).apply(this,arguments)}function za(I,_,v){return function Ll(I,_,v){return qu.apply(this,arguments)}(I,_,v)}function qu(){return(qu=(0,o.A)(function*(I,_,v){const S=(0,i.Ku)(I);Nt(S.auth,_,Ci),yield S.auth._initializationPromise;const Q=Nl(S.auth,v);yield ce(!1,S,_.providerId),yield lc(Q,S.auth);const he=yield Md(S);return Q._openRedirect(S.auth,_,"linkViaRedirect",he)})).apply(this,arguments)}function Hc(I,_){return vl.apply(this,arguments)}function vl(){return(vl=(0,o.A)(function*(I,_){return yield pr(I)._initializationPromise,np(I,_,!1)})).apply(this,arguments)}function np(I,_){return fs.apply(this,arguments)}function fs(){return(fs=(0,o.A)(function*(I,_,v=!1){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(dt(I));const S=pr(I),Q=Nl(S,_),Qe=yield new Wu(S,Q,v).execute();return Qe&&!v&&(delete Qe.user._redirectEventId,yield S._persistUserIfCurrent(Qe.user),yield S._setRedirectUser(null,_)),Qe})).apply(this,arguments)}function Md(I){return uc.apply(this,arguments)}function uc(){return(uc=(0,o.A)(function*(I){const _=wr(`${I.uid}:::`);return I._redirectEventId=_,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),_})).apply(this,arguments)}class rp{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(_,S)&&(v=!0,this.sendToConsumer(_,S),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function dc(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Od(I);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var S;if(_.error&&!Od(_)){const Q=(null===(S=_.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(tt(this.auth,Q))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const S=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&S}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xu(_))}saveEventToCache(_){this.cachedEventUids.add(Xu(_)),this.lastProcessedEventTime=Date.now()}}function Xu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(_=>_).join("-")}function Od({type:I,error:_}){return"unknown"===I&&"auth/no-auth-event"===_?.code}function Qo(I){return ca.apply(this,arguments)}function ca(){return(ca=(0,o.A)(function*(I,_={}){return Le(I,"GET","/v1/projects",_)})).apply(this,arguments)}const Yh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qu=/^https?/;function Xh(){return(Xh=(0,o.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:_}=yield Qo(I);for(const v of _)try{if(zc(v))return}catch{}Ie(I,"unauthorized-domain")})).apply(this,arguments)}function zc(I){const _=Fn(),{protocol:v,hostname:S}=new URL(_);if(I.startsWith("chrome-extension://")){const Qe=new URL(I);return""===Qe.hostname&&""===S?"chrome-extension:"===v&&I.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Qe.hostname===S}if(!Qu.test(v))return!1;if(Yh.test(I))return S===I;const Q=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(S)}const Zm=new ke(3e4,6e4);function Dg(){const I=qi().___jsl;if(I?.H)for(const _ of Object.keys(I.H))if(I.H[_].r=I.H[_].r||[],I.H[_].L=I.H[_].L||[],I.H[_].r=[...I.H[_].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let ks=null;const Wc=new ke(5e3,15e3),Kc="__/auth/iframe",Nd="emulator/auth/iframe",Qh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kd(I){const _=I.config;Ee(_.authDomain,I,"auth-domain-config-required");const v=_.emulator?st(_,Nd):`https://${I.config.authDomain}/${Kc}`,S={apiKey:_.apiKey,appName:I.name,v:le.SDK_VERSION},Q=Gs.get(I.config.apiHost);Q&&(S.eid=Q);const he=I._getFrameworks();return he.length&&(S.fw=he.join(",")),`${v}?${(0,i.Am)(S).slice(1)}`}function Jh(){return Jh=(0,o.A)(function*(I){const _=yield function e_(I){return ks=ks||function ip(I){return new Promise((_,v)=>{var S,Q,he;function Qe(){Dg(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Dg(),v(tt(I,"network-request-failed"))},timeout:Zm.get()})}if(null!==(Q=null===(S=qi().gapi)||void 0===S?void 0:S.iframes)&&void 0!==Q&&Q.Iframe)_(gapi.iframes.getContext());else{if(null===(he=qi().gapi)||void 0===he||!he.load){const Mt=li("iframefcb");return qi()[Mt]=()=>{gapi.load?Qe():v(tt(I,"network-request-failed"))},Do(`${function Go(){return Ms.gapiScript}()}?onload=${Mt}`).catch(qt=>v(qt))}Qe()}}).catch(_=>{throw ks=null,_})}(I),ks}(I),v=qi().gapi;return Ee(v,I,"internal-error"),_.open({where:document.body,url:kd(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qh,dontclear:!0},S=>new Promise(function(){var Q=(0,o.A)(function*(he,Qe){yield S.restyle({setHideOnLeave:!1});const Mt=tt(I,"network-request-failed"),qt=qi().setTimeout(()=>{Qe(Mt)},Wc.get());function On(){qi().clearTimeout(qt),he(S)}S.ping(On).then(On,()=>{Qe(Mt)})});return function(he,Qe){return Q.apply(this,arguments)}}()))}),Jh.apply(this,arguments)}const Jo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ld{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Wa="__/auth/handler",Vo="emulator/auth/handler",Vd=encodeURIComponent("fac");function Ka(I,_,v,S,Q,he){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,o.A)(function*(I,_,v,S,Q,he){Ee(I.config.authDomain,I,"auth-domain-config-required"),Ee(I.config.apiKey,I,"invalid-api-key");const Qe={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:S,v:le.SDK_VERSION,eventId:Q};if(_ instanceof Ci){_.setDefaultLanguage(I.languageCode),Qe.providerId=_.providerId||"",(0,i.Im)(_.getCustomParameters())||(Qe.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Nn,Jr]of Object.entries(he||{}))Qe[Nn]=Jr}if(_ instanceof Rr){const Nn=_.getScopes().filter(Jr=>""!==Jr);Nn.length>0&&(Qe.scopes=Nn.join(","))}I.tenantId&&(Qe.tid=I.tenantId);const Mt=Qe;for(const Nn of Object.keys(Mt))void 0===Mt[Nn]&&delete Mt[Nn];const qt=yield I._getAppCheckToken(),On=qt?`#${Vd}=${encodeURIComponent(qt)}`:"";return`${function op({config:I}){return I.emulator?st(I,Vo):`https://${I.authDomain}/${Wa}`}(I)}?${(0,i.Am)(Mt).slice(1)}${On}`})).apply(this,arguments)}const Ud="webStorageSupport",Zh=class ap{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ca,this._completeRedirectFn=np,this._overrideRedirectResult=Ha}_openPopup(_,v,S,Q){var he=this;return(0,o.A)(function*(){var Qe;Xt(null===(Qe=he.eventManagers[_._key()])||void 0===Qe?void 0:Qe.manager,"_initialize() not called before _openPopup()");const Mt=yield Ka(_,v,S,Fn(),Q);return function sp(I,_,v,S=500,Q=600){const he=Math.max((window.screen.availHeight-Q)/2,0).toString(),Qe=Math.max((window.screen.availWidth-S)/2,0).toString();let Mt="";const qt=Object.assign(Object.assign({},Jo),{width:S.toString(),height:Q.toString(),top:he,left:Qe}),On=(0,i.ZQ)().toLowerCase();v&&(Mt=dr(On)?"_blank":v),cn(On)&&(_=_||"http://localhost",qt.scrollbars="yes");const Nn=Object.entries(qt).reduce((bo,[ua,Hl])=>`${bo}${ua}=${Hl},`,"");if(function xs(I=(0,i.ZQ)()){var _;return gi(I)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(On)&&"_self"!==Mt)return function Sg(I,_){const v=document.createElement("a");v.href=I,v.target=_;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(_||"",Mt),new Ld(null);const Jr=window.open(_||"",Mt,Nn);Ee(Jr,I,"popup-blocked");try{Jr.focus()}catch{}return new Ld(Jr)}(_,Mt,wr())})()}_openRedirect(_,v,S,Q){var he=this;return(0,o.A)(function*(){return yield he._originValidation(_),function $s(I){qi().location.href=I}(yield Ka(_,v,S,Fn(),Q)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:Q,promise:he}=this.eventManagers[v];return Q?Promise.resolve(Q):(Xt(he,"If manager is not set, promise should be"),he)}const S=this.initAndGetManager(_);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(_){var v=this;return(0,o.A)(function*(){const S=yield function Vl(I){return Jh.apply(this,arguments)}(_),Q=new rp(_);return S.register("authEvent",he=>(Ee(he?.authEvent,_,"invalid-auth-event"),{status:Q.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:Q},v.iframes[_._key()]=S,Q})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(Ud,{type:Ud},Q=>{var he;const Qe=null===(he=Q?.[0])||void 0===he?void 0:he[Ud];void 0!==Qe&&v(!!Qe),Ie(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function hc(I){return Xh.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return at()||Gr()||gi()}};class Rg{constructor(_){this.factorId=_}_process(_,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,S);case"signin":return this._finalizeSignIn(_,v.credential);default:return Je("unexpected MultiFactorSessionType")}}}class Da extends Rg{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Da(_)}_finalizeEnroll(_,v,S){return function Ou(I,_){return Le(I,"POST","/v2/accounts/mfaEnrollment:finalize",Te(I,_))}(_,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function N(I,_){return Le(I,"POST","/v2/accounts/mfaSignIn:finalize",Te(I,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qc=(()=>{class I{constructor(){}static assertion(v){return Da._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var tf="@firebase/auth";class Bd{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,o.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(S=>{_(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,i.XA)("authIdTokenMaxAge"),function ss(I){Ms=I}({loadJS:I=>new Promise((_,v)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=_,S.onerror=Q=>{const he=tt("internal-error");he.customData=Q,v(he)},S.type="text/javascript",S.charset="UTF-8",function Hs(){var I,_;return null!==(_=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==_?_:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Yc(I){(0,le._registerComponent)(new Ce.uA("auth",(_,{options:v})=>{const S=_.getProvider("app").getImmediate(),Q=_.getProvider("heartbeat"),he=_.getProvider("app-check-internal"),{apiKey:Qe,authDomain:Mt}=S.options;Ee(Qe&&!Qe.includes(":"),"invalid-api-key",{appName:S.name});const qt={apiKey:Qe,authDomain:Mt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kt(I)},On=new Wr(S,Q,he,qt);return function tl(I,_){const v=_?.persistence||[],S=(Array.isArray(v)?v:[v]).map(pt);_?.errorMap&&I._updateErrorMap(_.errorMap),I._initializeWithPersistence(S,_?.popupRedirectResolver)}(On,v),On},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,S)=>{_.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new Ce.uA("auth-internal",_=>{const v=pr(_.getProvider("auth").getImmediate());return new Bd(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(tf,"1.7.9",function nf(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,le.registerVersion)(tf,"1.7.9","esm2017")}("Browser")},9583:(sn,Ze,F)=>{F.d(Ze,{fS:()=>_m,Ix:()=>au,H6:()=>Vp,T1:()=>Fs,Wq:()=>uu,uY:()=>lu,W6:()=>st,Ci:()=>jp,YQ:()=>Cl,NJ:()=>wc,Dc:()=>Kt,GA:()=>Xp,cm:()=>qr,K$:()=>zt,FA:()=>Jn,lo:()=>oi,bI:()=>je,qG:()=>tl,qi:()=>Xt,c8:()=>rm,gS:()=>EE,C3:()=>Tv,hq:()=>SE,me:()=>rv,rJ:()=>P_,Cs:()=>x_,vN:()=>tv,kd:()=>vE,CL:()=>AE,LA:()=>uh,H9:()=>su,ol:()=>O_,Q5:()=>ch,Os:()=>Sf,FD:()=>mm,rf:()=>M0,Ws:()=>As,z6:()=>bh,x7:()=>mE,nY:()=>Dc,_e:()=>fv,GG:()=>_E,kU:()=>O0,Rr:()=>To,aU:()=>am,GV:()=>RE,AB:()=>gm,$1:()=>uE,po:()=>dh,St:()=>um,aQ:()=>H_,FC:()=>pv,My:()=>V_,P:()=>lv,B:()=>If,yx:()=>nv,c4:()=>wE,O5:()=>DE,BN:()=>yE,He:()=>ht,lN:()=>gE,HM:()=>j_,EO:()=>U_,mZ:()=>G_,iB:()=>cm,_M:()=>cE});var Ve,xe,o=F(467),le=F(7852),i=F(1362),ve=F(8041),_e=F(1076),Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye={};(function(){var d;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(ft,Be,et){et||(et=0);var gt=Array(16);if("string"==typeof Be)for(var Tt=0;16>Tt;++Tt)gt[Tt]=Be.charCodeAt(et++)|Be.charCodeAt(et++)<<8|Be.charCodeAt(et++)<<16|Be.charCodeAt(et++)<<24;else for(Tt=0;16>Tt;++Tt)gt[Tt]=Be[et++]|Be[et++]<<8|Be[et++]<<16|Be[et++]<<24;var Pt=ft.g[3],Ye=(Be=ft.g[0])+(Pt^(et=ft.g[1])&((Tt=ft.g[2])^Pt))+gt[0]+3614090360&4294967295;Ye=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=(et=(Tt=(Pt=(Be=et+(Ye<<7&4294967295|Ye>>>25))+((Ye=Pt+(Tt^Be&(et^Tt))+gt[1]+3905402710&4294967295)<<12&4294967295|Ye>>>20))+((Ye=Tt+(et^Pt&(Be^et))+gt[2]+606105819&4294967295)<<17&4294967295|Ye>>>15))+((Ye=et+(Be^Tt&(Pt^Be))+gt[3]+3250441966&4294967295)<<22&4294967295|Ye>>>10))+((Ye=Be+(Pt^et&(Tt^Pt))+gt[4]+4118548399&4294967295)<<7&4294967295|Ye>>>25))+((Ye=Pt+(Tt^Be&(et^Tt))+gt[5]+1200080426&4294967295)<<12&4294967295|Ye>>>20))+((Ye=Tt+(et^Pt&(Be^et))+gt[6]+2821735955&4294967295)<<17&4294967295|Ye>>>15))+((Ye=et+(Be^Tt&(Pt^Be))+gt[7]+4249261313&4294967295)<<22&4294967295|Ye>>>10))+((Ye=Be+(Pt^et&(Tt^Pt))+gt[8]+1770035416&4294967295)<<7&4294967295|Ye>>>25))+((Ye=Pt+(Tt^Be&(et^Tt))+gt[9]+2336552879&4294967295)<<12&4294967295|Ye>>>20))+((Ye=Tt+(et^Pt&(Be^et))+gt[10]+4294925233&4294967295)<<17&4294967295|Ye>>>15))+((Ye=et+(Be^Tt&(Pt^Be))+gt[11]+2304563134&4294967295)<<22&4294967295|Ye>>>10))+((Ye=Be+(Pt^et&(Tt^Pt))+gt[12]+1804603682&4294967295)<<7&4294967295|Ye>>>25))+((Ye=Pt+(Tt^Be&(et^Tt))+gt[13]+4254626195&4294967295)<<12&4294967295|Ye>>>20))+((Ye=Tt+(et^Pt&(Be^et))+gt[14]+2792965006&4294967295)<<17&4294967295|Ye>>>15))+((Ye=et+(Be^Tt&(Pt^Be))+gt[15]+1236535329&4294967295)<<22&4294967295|Ye>>>10))+((Ye=Be+(Tt^Pt&(et^Tt))+gt[1]+4129170786&4294967295)<<5&4294967295|Ye>>>27))+((Ye=Pt+(et^Tt&(Be^et))+gt[6]+3225465664&4294967295)<<9&4294967295|Ye>>>23))+((Ye=Tt+(Be^et&(Pt^Be))+gt[11]+643717713&4294967295)<<14&4294967295|Ye>>>18))+((Ye=et+(Pt^Be&(Tt^Pt))+gt[0]+3921069994&4294967295)<<20&4294967295|Ye>>>12))+((Ye=Be+(Tt^Pt&(et^Tt))+gt[5]+3593408605&4294967295)<<5&4294967295|Ye>>>27))+((Ye=Pt+(et^Tt&(Be^et))+gt[10]+38016083&4294967295)<<9&4294967295|Ye>>>23))+((Ye=Tt+(Be^et&(Pt^Be))+gt[15]+3634488961&4294967295)<<14&4294967295|Ye>>>18))+((Ye=et+(Pt^Be&(Tt^Pt))+gt[4]+3889429448&4294967295)<<20&4294967295|Ye>>>12))+((Ye=Be+(Tt^Pt&(et^Tt))+gt[9]+568446438&4294967295)<<5&4294967295|Ye>>>27))+((Ye=Pt+(et^Tt&(Be^et))+gt[14]+3275163606&4294967295)<<9&4294967295|Ye>>>23))+((Ye=Tt+(Be^et&(Pt^Be))+gt[3]+4107603335&4294967295)<<14&4294967295|Ye>>>18))+((Ye=et+(Pt^Be&(Tt^Pt))+gt[8]+1163531501&4294967295)<<20&4294967295|Ye>>>12))+((Ye=Be+(Tt^Pt&(et^Tt))+gt[13]+2850285829&4294967295)<<5&4294967295|Ye>>>27))+((Ye=Pt+(et^Tt&(Be^et))+gt[2]+4243563512&4294967295)<<9&4294967295|Ye>>>23))+((Ye=Tt+(Be^et&(Pt^Be))+gt[7]+1735328473&4294967295)<<14&4294967295|Ye>>>18))+((Ye=et+(Pt^Be&(Tt^Pt))+gt[12]+2368359562&4294967295)<<20&4294967295|Ye>>>12))+((Ye=Be+(et^Tt^Pt)+gt[5]+4294588738&4294967295)<<4&4294967295|Ye>>>28))+((Ye=Pt+(Be^et^Tt)+gt[8]+2272392833&4294967295)<<11&4294967295|Ye>>>21))+((Ye=Tt+(Pt^Be^et)+gt[11]+1839030562&4294967295)<<16&4294967295|Ye>>>16))+((Ye=et+(Tt^Pt^Be)+gt[14]+4259657740&4294967295)<<23&4294967295|Ye>>>9))+((Ye=Be+(et^Tt^Pt)+gt[1]+2763975236&4294967295)<<4&4294967295|Ye>>>28))+((Ye=Pt+(Be^et^Tt)+gt[4]+1272893353&4294967295)<<11&4294967295|Ye>>>21))+((Ye=Tt+(Pt^Be^et)+gt[7]+4139469664&4294967295)<<16&4294967295|Ye>>>16))+((Ye=et+(Tt^Pt^Be)+gt[10]+3200236656&4294967295)<<23&4294967295|Ye>>>9))+((Ye=Be+(et^Tt^Pt)+gt[13]+681279174&4294967295)<<4&4294967295|Ye>>>28))+((Ye=Pt+(Be^et^Tt)+gt[0]+3936430074&4294967295)<<11&4294967295|Ye>>>21))+((Ye=Tt+(Pt^Be^et)+gt[3]+3572445317&4294967295)<<16&4294967295|Ye>>>16))+((Ye=et+(Tt^Pt^Be)+gt[6]+76029189&4294967295)<<23&4294967295|Ye>>>9))+((Ye=Be+(et^Tt^Pt)+gt[9]+3654602809&4294967295)<<4&4294967295|Ye>>>28))+((Ye=Pt+(Be^et^Tt)+gt[12]+3873151461&4294967295)<<11&4294967295|Ye>>>21))+((Ye=Tt+(Pt^Be^et)+gt[15]+530742520&4294967295)<<16&4294967295|Ye>>>16))+((Ye=et+(Tt^Pt^Be)+gt[2]+3299628645&4294967295)<<23&4294967295|Ye>>>9))+((Ye=Be+(Tt^(et|~Pt))+gt[0]+4096336452&4294967295)<<6&4294967295|Ye>>>26))+((Ye=Pt+(et^(Be|~Tt))+gt[7]+1126891415&4294967295)<<10&4294967295|Ye>>>22))+((Ye=Tt+(Be^(Pt|~et))+gt[14]+2878612391&4294967295)<<15&4294967295|Ye>>>17))+((Ye=et+(Pt^(Tt|~Be))+gt[5]+4237533241&4294967295)<<21&4294967295|Ye>>>11))+((Ye=Be+(Tt^(et|~Pt))+gt[12]+1700485571&4294967295)<<6&4294967295|Ye>>>26))+((Ye=Pt+(et^(Be|~Tt))+gt[3]+2399980690&4294967295)<<10&4294967295|Ye>>>22))+((Ye=Tt+(Be^(Pt|~et))+gt[10]+4293915773&4294967295)<<15&4294967295|Ye>>>17))+((Ye=et+(Pt^(Tt|~Be))+gt[1]+2240044497&4294967295)<<21&4294967295|Ye>>>11))+((Ye=Be+(Tt^(et|~Pt))+gt[8]+1873313359&4294967295)<<6&4294967295|Ye>>>26))+((Ye=Pt+(et^(Be|~Tt))+gt[15]+4264355552&4294967295)<<10&4294967295|Ye>>>22))+((Ye=Tt+(Be^(Pt|~et))+gt[6]+2734768916&4294967295)<<15&4294967295|Ye>>>17))+((Ye=et+(Pt^(Tt|~Be))+gt[13]+1309151649&4294967295)<<21&4294967295|Ye>>>11))+((Pt=(Be=et+((Ye=Be+(Tt^(et|~Pt))+gt[4]+4149444226&4294967295)<<6&4294967295|Ye>>>26))+((Ye=Pt+(et^(Be|~Tt))+gt[11]+3174756917&4294967295)<<10&4294967295|Ye>>>22))^((Tt=Pt+((Ye=Tt+(Be^(Pt|~et))+gt[2]+718787259&4294967295)<<15&4294967295|Ye>>>17))|~Be))+gt[9]+3951481745&4294967295,ft.g[0]=ft.g[0]+Be&4294967295,ft.g[1]=ft.g[1]+(Tt+(Ye<<21&4294967295|Ye>>>11))&4294967295,ft.g[2]=ft.g[2]+Tt&4294967295,ft.g[3]=ft.g[3]+Pt&4294967295}function b(ft,Be){this.h=Be;for(var et=[],gt=!0,Tt=ft.length-1;0<=Tt;Tt--){var Pt=0|ft[Tt];gt&&Pt==Be||(et[Tt]=Pt,gt=!1)}this.g=et}(function e(ft,Be){function et(){}et.prototype=Be.prototype,ft.D=Be.prototype,ft.prototype=new et,ft.prototype.constructor=ft,ft.C=function(gt,Tt,Pt){for(var Ye=Array(arguments.length-2),fu=2;fu<arguments.length;fu++)Ye[fu-2]=arguments[fu];return Be.prototype[Tt].apply(gt,Ye)}})(a,function r(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(ft,Be){void 0===Be&&(Be=ft.length);for(var et=Be-this.blockSize,gt=this.B,Tt=this.h,Pt=0;Pt<Be;){if(0==Tt)for(;Pt<=et;)h(this,ft,Pt),Pt+=this.blockSize;if("string"==typeof ft){for(;Pt<Be;)if(gt[Tt++]=ft.charCodeAt(Pt++),Tt==this.blockSize){h(this,gt),Tt=0;break}}else for(;Pt<Be;)if(gt[Tt++]=ft[Pt++],Tt==this.blockSize){h(this,gt),Tt=0;break}}this.h=Tt,this.o+=Be},a.prototype.v=function(){var ft=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ft[0]=128;for(var Be=1;Be<ft.length-8;++Be)ft[Be]=0;var et=8*this.o;for(Be=ft.length-8;Be<ft.length;++Be)ft[Be]=255&et,et/=256;for(this.u(ft),ft=Array(16),Be=et=0;4>Be;++Be)for(var gt=0;32>gt;gt+=8)ft[et++]=this.g[Be]>>>gt&255;return ft};var R={};function V(ft){return-128<=ft&&128>ft?function y(ft,Be){var et=R;return Object.prototype.hasOwnProperty.call(et,ft)?et[ft]:et[ft]=Be(ft)}(ft,function(Be){return new b([0|Be],0>Be?-1:0)}):new b([0|ft],0>ft?-1:0)}function K(ft){if(isNaN(ft)||!isFinite(ft))return be;if(0>ft)return rn(K(-ft));for(var Be=[],et=1,gt=0;ft>=et;gt++)Be[gt]=ft/et|0,et*=4294967296;return new b(Be,0)}var be=V(0),We=V(1),At=V(16777216);function Wt(ft){if(0!=ft.h)return!1;for(var Be=0;Be<ft.g.length;Be++)if(0!=ft.g[Be])return!1;return!0}function dn(ft){return-1==ft.h}function rn(ft){for(var Be=ft.g.length,et=[],gt=0;gt<Be;gt++)et[gt]=~ft.g[gt];return new b(et,~ft.h).add(We)}function Yn(ft,Be){return ft.add(rn(Be))}function cr(ft,Be){for(;(65535&ft[Be])!=ft[Be];)ft[Be+1]+=ft[Be]>>>16,ft[Be]&=65535,Be++}function Zn(ft,Be){this.g=ft,this.h=Be}function Nr(ft,Be){if(Wt(Be))throw Error("division by zero");if(Wt(ft))return new Zn(be,be);if(dn(ft))return Be=Nr(rn(ft),Be),new Zn(rn(Be.g),rn(Be.h));if(dn(Be))return Be=Nr(ft,rn(Be)),new Zn(rn(Be.g),Be.h);if(30<ft.g.length){if(dn(ft)||dn(Be))throw Error("slowDivide_ only works with positive integers.");for(var et=We,gt=Be;0>=gt.l(ft);)et=Mi(et),gt=Mi(gt);var Tt=ai(et,1),Pt=ai(gt,1);for(gt=ai(gt,2),et=ai(et,2);!Wt(gt);){var Ye=Pt.add(gt);0>=Ye.l(ft)&&(Tt=Tt.add(et),Pt=Ye),gt=ai(gt,1),et=ai(et,1)}return Be=Yn(ft,Tt.j(Be)),new Zn(Tt,Be)}for(Tt=be;0<=ft.l(Be);){for(et=Math.max(1,Math.floor(ft.m()/Be.m())),gt=48>=(gt=Math.ceil(Math.log(et)/Math.LN2))?1:Math.pow(2,gt-48),Ye=(Pt=K(et)).j(Be);dn(Ye)||0<Ye.l(ft);)Ye=(Pt=K(et-=gt)).j(Be);Wt(Pt)&&(Pt=We),Tt=Tt.add(Pt),ft=Yn(ft,Ye)}return new Zn(Tt,ft)}function Mi(ft){for(var Be=ft.g.length+1,et=[],gt=0;gt<Be;gt++)et[gt]=ft.i(gt)<<1|ft.i(gt-1)>>>31;return new b(et,ft.h)}function ai(ft,Be){var et=Be>>5;Be%=32;for(var gt=ft.g.length-et,Tt=[],Pt=0;Pt<gt;Pt++)Tt[Pt]=0<Be?ft.i(Pt+et)>>>Be|ft.i(Pt+et+1)<<32-Be:ft.i(Pt+et);return new b(Tt,ft.h)}(d=b.prototype).m=function(){if(dn(this))return-rn(this).m();for(var ft=0,Be=1,et=0;et<this.g.length;et++){var gt=this.i(et);ft+=(0<=gt?gt:4294967296+gt)*Be,Be*=4294967296}return ft},d.toString=function(ft){if(2>(ft=ft||10)||36<ft)throw Error("radix out of range: "+ft);if(Wt(this))return"0";if(dn(this))return"-"+rn(this).toString(ft);for(var Be=K(Math.pow(ft,6)),et=this,gt="";;){var Tt=Nr(et,Be).g,Pt=((0<(et=Yn(et,Tt.j(Be))).g.length?et.g[0]:et.h)>>>0).toString(ft);if(Wt(et=Tt))return Pt+gt;for(;6>Pt.length;)Pt="0"+Pt;gt=Pt+gt}},d.i=function(ft){return 0>ft?0:ft<this.g.length?this.g[ft]:this.h},d.l=function(ft){return dn(ft=Yn(this,ft))?-1:Wt(ft)?0:1},d.abs=function(){return dn(this)?rn(this):this},d.add=function(ft){for(var Be=Math.max(this.g.length,ft.g.length),et=[],gt=0,Tt=0;Tt<=Be;Tt++){var Pt=gt+(65535&this.i(Tt))+(65535&ft.i(Tt)),Ye=(Pt>>>16)+(this.i(Tt)>>>16)+(ft.i(Tt)>>>16);gt=Ye>>>16,et[Tt]=(Ye&=65535)<<16|(Pt&=65535)}return new b(et,-2147483648&et[et.length-1]?-1:0)},d.j=function(ft){if(Wt(this)||Wt(ft))return be;if(dn(this))return dn(ft)?rn(this).j(rn(ft)):rn(rn(this).j(ft));if(dn(ft))return rn(this.j(rn(ft)));if(0>this.l(At)&&0>ft.l(At))return K(this.m()*ft.m());for(var Be=this.g.length+ft.g.length,et=[],gt=0;gt<2*Be;gt++)et[gt]=0;for(gt=0;gt<this.g.length;gt++)for(var Tt=0;Tt<ft.g.length;Tt++){var Pt=this.i(gt)>>>16,Ye=65535&this.i(gt),fu=ft.i(Tt)>>>16,Jp=65535&ft.i(Tt);et[2*gt+2*Tt]+=Ye*Jp,cr(et,2*gt+2*Tt),et[2*gt+2*Tt+1]+=Pt*Jp,cr(et,2*gt+2*Tt+1),et[2*gt+2*Tt+1]+=Ye*fu,cr(et,2*gt+2*Tt+1),et[2*gt+2*Tt+2]+=Pt*fu,cr(et,2*gt+2*Tt+2)}for(gt=0;gt<Be;gt++)et[gt]=et[2*gt+1]<<16|et[2*gt];for(gt=Be;gt<2*Be;gt++)et[gt]=0;return new b(et,0)},d.A=function(ft){return Nr(this,ft).h},d.and=function(ft){for(var Be=Math.max(this.g.length,ft.g.length),et=[],gt=0;gt<Be;gt++)et[gt]=this.i(gt)&ft.i(gt);return new b(et,this.h&ft.h)},d.or=function(ft){for(var Be=Math.max(this.g.length,ft.g.length),et=[],gt=0;gt<Be;gt++)et[gt]=this.i(gt)|ft.i(gt);return new b(et,this.h|ft.h)},d.xor=function(ft){for(var Be=Math.max(this.g.length,ft.g.length),et=[],gt=0;gt<Be;gt++)et[gt]=this.i(gt)^ft.i(gt);return new b(et,this.h^ft.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,xe=ye.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=K,b.fromString=function oe(ft,Be){if(0==ft.length)throw Error("number format error: empty string");if(2>(Be=Be||10)||36<Be)throw Error("radix out of range: "+Be);if("-"==ft.charAt(0))return rn(oe(ft.substring(1),Be));if(0<=ft.indexOf("-"))throw Error('number format error: interior "-" character');for(var et=K(Math.pow(Be,8)),gt=be,Tt=0;Tt<ft.length;Tt+=8){var Pt=Math.min(8,ft.length-Tt),Ye=parseInt(ft.substring(Tt,Tt+Pt),Be);8>Pt?(Pt=K(Math.pow(Be,Pt)),gt=gt.j(Pt).add(K(Ye))):gt=(gt=gt.j(et)).add(K(Ye))}return gt},Ve=ye.Integer=b}).apply(typeof Ce<"u"?Ce:typeof self<"u"?self:typeof window<"u"?window:{});var fe,Ne,de,Ke,mt,Ft,Jt,He,Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,j,q){return E==Array.prototype||E==Object.prototype||(E[j]=q.value),E},a=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Y&&Y];for(var j=0;j<E.length;++j){var q=E[j];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(E,j){if(j)e:{var q=a;E=E.split(".");for(var ge=0;ge<E.length-1;ge++){var Ct=E[ge];if(!(Ct in q))break e;q=q[Ct]}(j=j(ge=q[E=E[E.length-1]]))!=ge&&null!=j&&e(q,E,{configurable:!0,writable:!0,value:j})}}("Array.prototype.values",function(E){return E||function(){return function y(E,j){E instanceof String&&(E+="");var q=0,ge=!1,Ct={next:function(){if(!ge&&q<E.length){var Lt=q++;return{value:j(Lt,E[Lt]),done:!1}}return ge=!0,{done:!0,value:void 0}}};return Ct[Symbol.iterator]=function(){return Ct},Ct}(this,function(j,q){return q})}});var b=b||{},R=this||self;function V(E){var j=typeof E;return"array"==(j="object"!=j?j:E?Array.isArray(E)?"array":j:"null")||"object"==j&&"number"==typeof E.length}function K(E){var j=typeof E;return"object"==j&&null!=E||"function"==j}function oe(E,j,q){return E.call.apply(E.bind,arguments)}function be(E,j,q){if(!E)throw Error();if(2<arguments.length){var ge=Array.prototype.slice.call(arguments,2);return function(){var Ct=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ct,ge),E.apply(j,Ct)}}return function(){return E.apply(j,arguments)}}function We(E,j,q){return(We=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oe:be).apply(null,arguments)}function At(E,j){var q=Array.prototype.slice.call(arguments,1);return function(){var ge=q.slice();return ge.push.apply(ge,arguments),E.apply(this,ge)}}function Wt(E,j){function q(){}q.prototype=j.prototype,E.aa=j.prototype,E.prototype=new q,E.prototype.constructor=E,E.Qb=function(ge,Ct,Lt){for(var Sn=Array(arguments.length-2),Li=2;Li<arguments.length;Li++)Sn[Li-2]=arguments[Li];return j.prototype[Ct].apply(ge,Sn)}}function dn(E){const j=E.length;if(0<j){const q=Array(j);for(let ge=0;ge<j;ge++)q[ge]=E[ge];return q}return[]}function rn(E,j){for(let q=1;q<arguments.length;q++){const ge=arguments[q];if(V(ge)){const Ct=E.length||0,Lt=ge.length||0;E.length=Ct+Lt;for(let Sn=0;Sn<Lt;Sn++)E[Ct+Sn]=ge[Sn]}else E.push(ge)}}function cr(E){return/^[\s\xa0]*$/.test(E)}function Zn(){var E=R.navigator;return E&&(E=E.userAgent)?E:""}function Nr(E){return Nr[" "](E),E}Nr[" "]=function(){};var Mi=!(-1==Zn().indexOf("Gecko")||-1!=Zn().toLowerCase().indexOf("webkit")&&-1==Zn().indexOf("Edge")||-1!=Zn().indexOf("Trident")||-1!=Zn().indexOf("MSIE")||-1!=Zn().indexOf("Edge"));function ai(E,j,q){for(const ge in E)j.call(q,E[ge],ge,E)}function Be(E){const j={};for(const q in E)j[q]=E[q];return j}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(E,j){let q,ge;for(let Ct=1;Ct<arguments.length;Ct++){for(q in ge=arguments[Ct],ge)E[q]=ge[q];for(let Lt=0;Lt<et.length;Lt++)q=et[Lt],Object.prototype.hasOwnProperty.call(ge,q)&&(E[q]=ge[q])}}function Tt(E){var j=1;E=E.split(":");const q=[];for(;0<j&&E.length;)q.push(E.shift()),j--;return E.length&&q.push(E.join(":")),q}function Pt(E){R.setTimeout(()=>{throw E},0)}function Ye(){var E=Y_;let j=null;return E.g&&(j=E.g,E.g=E.g.next,E.g||(E.h=null),j.next=null),j}var Jp=new class Yn{constructor(j,q){this.i=j,this.j=q,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}(()=>new OE,E=>E.reset());class OE{constructor(){this.next=this.g=this.h=null}set(j,q){this.h=j,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let kf,Zp=!1,Y_=new class fu{constructor(){this.h=this.g=null}add(j,q){const ge=Jp.get();ge.set(j,q),this.h?this.h.next=ge:this.g=ge,this.h=ge}},Tm=()=>{const E=R.Promise.resolve(void 0);kf=()=>{E.then(NE)}};var NE=()=>{for(var E;E=Ye();){try{E.h.call(E.g)}catch(q){Pt(q)}var j=Jp;j.j(E),100>j.h&&(j.h++,E.next=j.g,j.g=E)}Zp=!1};function pd(){this.s=this.s,this.C=this.C}function jo(E,j){this.type=E,this.g=this.target=j,this.defaultPrevented=!1}pd.prototype.s=!1,pd.prototype.ma=function(){this.s||(this.s=!0,this.N())},pd.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},jo.prototype.h=function(){this.defaultPrevented=!0};var kE=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var E=!1,j=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const q=()=>{};R.addEventListener("test",q,j),R.removeEventListener("test",q,j)}catch{}return E}();function eg(E,j){if(jo.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var q=this.type=E.type,ge=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=j,j=E.relatedTarget){if(Mi){e:{try{Nr(j.nodeName);var Ct=!0;break e}catch{}Ct=!1}Ct||(j=null)}}else"mouseover"==q?j=E.fromElement:"mouseout"==q&&(j=E.toElement);this.relatedTarget=j,ge?(this.clientX=void 0!==ge.clientX?ge.clientX:ge.pageX,this.clientY=void 0!==ge.clientY?ge.clientY:ge.pageY,this.screenX=ge.screenX||0,this.screenY=ge.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Sc[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&eg.aa.h.call(this)}}Wt(eg,jo);var Sc={2:"touch",3:"pen",4:"mouse"};eg.prototype.h=function(){eg.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Th="closure_listenable_"+(1e6*Math.random()|0),FE=0;function wv(E,j,q,ge,Ct){this.listener=E,this.proxy=null,this.src=j,this.type=q,this.capture=!!ge,this.ha=Ct,this.key=++FE,this.da=this.fa=!1}function Cm(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function tg(E){this.src=E,this.g={},this.h=0}function Im(E,j){var q=j.type;if(q in E.g){var Lt,ge=E.g[q],Ct=Array.prototype.indexOf.call(ge,j,void 0);(Lt=0<=Ct)&&Array.prototype.splice.call(ge,Ct,1),Lt&&(Cm(j),0==E.g[q].length&&(delete E.g[q],E.h--))}}function Ff(E,j,q,ge){for(var Ct=0;Ct<E.length;++Ct){var Lt=E[Ct];if(!Lt.da&&Lt.listener==j&&Lt.capture==!!q&&Lt.ha==ge)return Ct}return-1}tg.prototype.add=function(E,j,q,ge,Ct){var Lt=E.toString();(E=this.g[Lt])||(E=this.g[Lt]=[],this.h++);var Sn=Ff(E,j,ge,Ct);return-1<Sn?(j=E[Sn],q||(j.fa=!1)):((j=new wv(j,this.src,Lt,!!ge,Ct)).fa=q,E.push(j)),j};var ng="closure_lm_"+(1e6*Math.random()|0),Av={};function X_(E,j,q,ge,Ct){if(ge&&ge.once)return J_(E,j,q,ge,Ct);if(Array.isArray(j)){for(var Lt=0;Lt<j.length;Lt++)X_(E,j[Lt],q,ge,Ct);return null}return q=Am(q),E&&E[Th]?E.K(j,q,K(ge)?!!ge.capture:!!ge,Ct):Q_(E,j,q,!1,ge,Ct)}function Q_(E,j,q,ge,Ct,Lt){if(!j)throw Error("Invalid event type");var Sn=K(Ct)?!!Ct.capture:!!Ct,Li=rg(E);if(Li||(E[ng]=Li=new tg(E)),(q=Li.add(j,q,ge,Sn,Lt)).proxy)return q;if(ge=function Dv(){const j=LE;return function E(q){return j.call(E.src,E.listener,q)}}(),q.proxy=ge,ge.src=E,ge.listener=q,E.addEventListener)kE||(Ct=Sn),void 0===Ct&&(Ct=!1),E.addEventListener(j.toString(),ge,Ct);else if(E.attachEvent)E.attachEvent(Sv(j.toString()),ge);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(ge)}return q}function J_(E,j,q,ge,Ct){if(Array.isArray(j)){for(var Lt=0;Lt<j.length;Lt++)J_(E,j[Lt],q,ge,Ct);return null}return q=Am(q),E&&E[Th]?E.L(j,q,K(ge)?!!ge.capture:!!ge,Ct):Q_(E,j,q,!0,ge,Ct)}function wm(E,j,q,ge,Ct){if(Array.isArray(j))for(var Lt=0;Lt<j.length;Lt++)wm(E,j[Lt],q,ge,Ct);else ge=K(ge)?!!ge.capture:!!ge,q=Am(q),E&&E[Th]?(E=E.i,(j=String(j).toString())in E.g&&-1<(q=Ff(Lt=E.g[j],q,ge,Ct))&&(Cm(Lt[q]),Array.prototype.splice.call(Lt,q,1),0==Lt.length&&(delete E.g[j],E.h--))):E&&(E=rg(E))&&(j=E.g[j.toString()],E=-1,j&&(E=Ff(j,q,ge,Ct)),(q=-1<E?j[E]:null)&&ql(q))}function ql(E){if("number"!=typeof E&&E&&!E.da){var j=E.src;if(j&&j[Th])Im(j.i,E);else{var q=E.type,ge=E.proxy;j.removeEventListener?j.removeEventListener(q,ge,E.capture):j.detachEvent?j.detachEvent(Sv(q),ge):j.addListener&&j.removeListener&&j.removeListener(ge),(q=rg(j))?(Im(q,E),0==q.h&&(q.src=null,j[ng]=null)):Cm(E)}}}function Sv(E){return E in Av?Av[E]:Av[E]="on"+E}function LE(E,j){if(E.da)E=!0;else{j=new eg(j,this);var q=E.listener,ge=E.ha||E.src;E.fa&&ql(E),E=q.call(ge,j)}return E}function rg(E){return(E=E[ng])instanceof tg?E:null}var Z_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Am(E){return"function"==typeof E?E:(E[Z_]||(E[Z_]=function(j){return E.handleEvent(j)}),E[Z_])}function ea(){pd.call(this),this.i=new tg(this),this.M=this,this.F=null}function Co(E,j){var q,ge=E.F;if(ge)for(q=[];ge;ge=ge.F)q.push(ge);if(E=E.M,ge=j.type||j,"string"==typeof j)j=new jo(j,E);else if(j instanceof jo)j.target=j.target||E;else{var Ct=j;gt(j=new jo(ge,E),Ct)}if(Ct=!0,q)for(var Lt=q.length-1;0<=Lt;Lt--){var Sn=j.g=q[Lt];Ct=gd(Sn,ge,!0,j)&&Ct}if(Ct=gd(Sn=j.g=E,ge,!0,j)&&Ct,Ct=gd(Sn,ge,!1,j)&&Ct,q)for(Lt=0;Lt<q.length;Lt++)Ct=gd(Sn=j.g=q[Lt],ge,!1,j)&&Ct}function gd(E,j,q,ge){if(!(j=E.i.g[String(j)]))return!0;j=j.concat();for(var Ct=!0,Lt=0;Lt<j.length;++Lt){var Sn=j[Lt];if(Sn&&!Sn.da&&Sn.capture==q){var Li=Sn.listener,mo=Sn.ha||Sn.src;Sn.fa&&Im(E.i,Sn),Ct=!1!==Li.call(mo,ge)&&Ct}}return Ct&&!ge.defaultPrevented}function ey(E,j,q){if("function"==typeof E)q&&(E=We(E,q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=We(E.handleEvent,E)}return 2147483647<Number(j)?-1:R.setTimeout(E,j||0)}function ig(E){E.g=ey(()=>{E.g=null,E.i&&(E.i=!1,ig(E))},E.l);const j=E.h;E.h=null,E.m.apply(null,j)}Wt(ea,pd),ea.prototype[Th]=!0,ea.prototype.removeEventListener=function(E,j,q,ge){wm(this,E,j,q,ge)},ea.prototype.N=function(){if(ea.aa.N.call(this),this.i){var j,E=this.i;for(j in E.g){for(var q=E.g[j],ge=0;ge<q.length;ge++)Cm(q[ge]);delete E.g[j],E.h--}}this.F=null},ea.prototype.K=function(E,j,q,ge){return this.i.add(String(E),j,!1,q,ge)},ea.prototype.L=function(E,j,q,ge){return this.i.add(String(E),j,!0,q,ge)};class L0 extends pd{constructor(j,q){super(),this.m=j,this.l=q,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:ig(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sg(E){pd.call(this),this.h=E,this.g={}}Wt(sg,pd);var ty=[];function ny(E){ai(E.g,function(j,q){this.g.hasOwnProperty(q)&&ql(j)},E),E.g={}}sg.prototype.N=function(){sg.aa.N.call(this),ny(this)},sg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ry=R.JSON.stringify,VE=R.JSON.parse,iy=class{stringify(E){return R.JSON.stringify(E,void 0)}parse(E){return R.JSON.parse(E,void 0)}};function og(){}function sy(){}og.prototype.h=null;var pu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lf(){jo.call(this,"d")}function Dm(){jo.call(this,"c")}Wt(Lf,jo),Wt(Dm,jo);var Ih={},gu=null;function ag(){return gu=gu||new ea}function oy(E){jo.call(this,Ih.La,E)}function Vf(E){const j=ag();Co(j,new oy(j))}function ay(E,j){jo.call(this,Ih.STAT_EVENT,E),this.stat=j}function ta(E){const j=ag();Co(j,new ay(j,E))}function ly(E,j){jo.call(this,Ih.Ma,E),this.size=j}function lg(E,j){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){E()},j)}function cg(){this.g=!0}function Uf(E,j,q,ge){E.info(function(){return"XMLHTTP TEXT ("+j+"): "+function UE(E,j){if(!E.g)return j;if(!j)return null;try{var q=JSON.parse(j);if(q)for(E=0;E<q.length;E++)if(Array.isArray(q[E])){var ge=q[E];if(!(2>ge.length)){var Ct=ge[1];if(Array.isArray(Ct)&&!(1>Ct.length)){var Lt=Ct[0];if("noop"!=Lt&&"stop"!=Lt&&"close"!=Lt)for(var Sn=1;Sn<Ct.length;Sn++)Ct[Sn]=""}}}return ry(q)}catch{return j}}(E,q)+(ge?" "+ge:"")})}Ih.La="serverreachability",Wt(oy,jo),Ih.STAT_EVENT="statevent",Wt(ay,jo),Ih.Ma="timingevent",Wt(ly,jo),cg.prototype.xa=function(){this.g=!1},cg.prototype.info=function(){};var dy,Rm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pm(){}function md(E,j,q,ge){this.j=E,this.i=j,this.l=q,this.R=ge||1,this.U=new sg(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pv}function Pv(){this.i=null,this.g="",this.h=!1}Wt(Pm,og),Pm.prototype.g=function(){return new XMLHttpRequest},Pm.prototype.i=function(){return{}},dy=new Pm;var hy={},xm={};function fy(E,j,q){E.L=1,E.v=$f(ga(j)),E.m=q,E.P=!0,jE(E,null)}function jE(E,j){E.F=Date.now(),Yi(E),E.A=ga(E.v);var q=E.A,ge=E.R;Array.isArray(ge)||(ge=[String(ge)]),_y(q.i,"t",ge),E.C=0,q=E.j.J,E.h=new Pv,E.g=Eu(E.j,q?j:null,!E.m),0<E.O&&(E.M=new L0(We(E.Y,E,E.g),E.O)),j=E.U,q=E.g,ge=E.ca;var Ct="readystatechange";Array.isArray(Ct)||(Ct&&(ty[0]=Ct.toString()),Ct=ty);for(var Lt=0;Lt<Ct.length;Lt++){var Sn=X_(q,Ct[Lt],ge||j.handleEvent,!1,j.h||j);if(!Sn)break;j.g[Sn.key]=Sn}j=E.H?Be(E.H):{},E.m?(E.u||(E.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,j)):(E.u="GET",E.g.ea(E.A,E.u,null,j)),Vf(),function Rv(E,j,q,ge,Ct,Lt){E.info(function(){if(E.g)if(Lt)for(var Sn="",Li=Lt.split("&"),mo=0;mo<Li.length;mo++){var Oi=Li[mo].split("=");if(1<Oi.length){var Bo=Oi[0];Oi=Oi[1];var lo=Bo.split("_");Sn=2<=lo.length&&"type"==lo[1]?Sn+(Bo+"=")+Oi+"&":Sn+(Bo+"=redacted&")}}else Sn=null;else Sn=Lt;return"XMLHTTP REQ ("+ge+") [attempt "+Ct+"]: "+j+"\n"+q+"\n"+Sn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function Mm(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function py(E,j){var q=E.C,ge=j.indexOf("\n",q);return-1==ge?xm:(q=Number(j.substring(q,ge)),isNaN(q)?hy:(ge+=1)+q>j.length?xm:(j=j.slice(ge,ge+q),E.C=ge+q,j))}function Yi(E){E.S=Date.now()+E.I,ug(E,E.I)}function ug(E,j){if(null!=E.B)throw Error("WatchDog timer not null");E.B=lg(We(E.ba,E),j)}function dg(E){E.B&&(R.clearTimeout(E.B),E.B=null)}function jf(E){0==E.j.G||E.J||vu(E.j,E)}function Rc(E){dg(E);var j=E.M;j&&"function"==typeof j.ma&&j.ma(),E.M=null,ny(E.U),E.g&&(j=E.g,E.g=null,j.abort(),j.ma())}function Om(E,j){try{var q=E.j;if(0!=q.G&&(q.g==E||Ah(q.h,E)))if(!E.K&&Ah(q.h,E)&&3==q.G){try{var ge=q.Da.g.parse(j)}catch{ge=null}if(Array.isArray(ge)&&3==ge.length){var Ct=ge;if(0==Ct[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<E.F))break e;xa(q),bd(q)}Vh(q),ta(18)}}else q.za=Ct[1],0<q.za-q.T&&37500>Ct[2]&&q.F&&0==q.v&&!q.C&&(q.C=lg(We(q.Za,q),6e3));if(1>=mu(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Nc(q,11)}else if((E.K||q.g==E)&&xa(q),!cr(j))for(Ct=q.Da.g.parse(j),j=0;j<Ct.length;j++){let Oi=Ct[j];if(q.T=Oi[0],Oi=Oi[1],2==q.G)if("c"==Oi[0]){q.K=Oi[1],q.ia=Oi[2];const Bo=Oi[3];null!=Bo&&(q.la=Bo,q.j.info("VER="+q.la));const lo=Oi[4];null!=lo&&(q.Aa=lo,q.j.info("SVER="+q.Aa));const wl=Oi[5];null!=wl&&"number"==typeof wl&&0<wl&&(q.L=ge=1.5*wl,q.j.info("backChannelRequestTimeoutMs_="+ge)),ge=q;const na=E.g;if(na){const jh=na.g?na.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jh){var Lt=ge.h;Lt.g||-1==jh.indexOf("spdy")&&-1==jh.indexOf("quic")&&-1==jh.indexOf("h2")||(Lt.j=Lt.l,Lt.g=new Set,Lt.h&&(pa(Lt,Lt.h),Lt.h=null))}if(ge.D){const zf=na.g?na.g.getResponseHeader("X-HTTP-Session-Id"):null;zf&&(ge.ya=zf,ps(ge.I,ge.D,zf))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-E.F,q.j.info("Handshake RTT: "+q.R+"ms"));var Sn=E;if((ge=q).qa=Uh(ge,ge.J?ge.ia:null,ge.W),Sn.K){hg(ge.h,Sn);var Li=Sn,mo=ge.L;mo&&(Li.I=mo),Li.B&&(dg(Li),Yi(Li)),ge.g=Sn}else vg(ge);0<q.i.length&&Td(q)}else"stop"!=Oi[0]&&"close"!=Oi[0]||Nc(q,7);else 3==q.G&&("stop"==Oi[0]||"close"==Oi[0]?"stop"==Oi[0]?Nc(q,7):mg(q):"noop"!=Oi[0]&&q.l&&q.l.ta(Oi),q.v=0)}Vf()}catch{}}function wh(E){this.l=E||10,E=R.PerformanceNavigationTiming?0<(E=R.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Io(E){return!!E.h||!!E.g&&E.g.size>=E.j}function mu(E){return E.h?1:E.g?E.g.size:0}function Ah(E,j){return E.h?E.h==j:!!E.g&&E.g.has(j)}function pa(E,j){E.g?E.g.add(j):E.h=j}function hg(E,j){E.h&&E.h==j?E.h=null:E.g&&E.g.has(j)&&E.g.delete(j)}function Dh(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let j=E.i;for(const q of E.g.values())j=j.concat(q.D);return j}return dn(E.i)}function _d(E,j){if(E.forEach&&"function"==typeof E.forEach)E.forEach(j,void 0);else if(V(E)||"string"==typeof E)Array.prototype.forEach.call(E,j,void 0);else for(var q=function Rh(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(V(E)||"string"==typeof E){var j=[];E=E.length;for(var q=0;q<E;q++)j.push(q);return j}j=[],q=0;for(const ge in E)j[q++]=ge;return j}}}(E),ge=function Sh(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(V(E)){for(var j=[],q=E.length,ge=0;ge<q;ge++)j.push(E[ge]);return j}for(ge in j=[],q=0,E)j[q++]=E[ge];return j}(E),Ct=ge.length,Lt=0;Lt<Ct;Lt++)j.call(void 0,ge[Lt],q&&q[Lt],E)}md.prototype.ca=function(E){E=E.target;const j=this.M;j&&3==xc(E)?j.j():this.Y(E)},md.prototype.Y=function(E){try{if(E==this.g)e:{const lo=xc(this.g);var j=this.g.Ba();if(this.g.Z(),!(3>lo)&&(3!=lo||this.g&&(this.h.h||this.g.oa()||Lh(this.g)))){this.J||4!=lo||7==j||Vf(),dg(this);var q=this.g.Z();this.X=q;t:if(Mm(this)){var ge=Lh(this.g);E="";var Ct=ge.length,Lt=4==xc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Rc(this),jf(this);var Sn="";break t}this.h.i=new R.TextDecoder}for(j=0;j<Ct;j++)this.h.h=!0,E+=this.h.i.decode(ge[j],{stream:!(Lt&&j==Ct-1)});ge.length=0,this.h.g+=E,this.C=0,Sn=this.h.g}else Sn=this.g.oa();if(this.o=200==q,function cy(E,j,q,ge,Ct,Lt,Sn){E.info(function(){return"XMLHTTP RESP ("+ge+") [ attempt "+Ct+"]: "+j+"\n"+q+"\n"+Lt+" "+Sn})}(this.i,this.u,this.A,this.l,this.R,lo,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Li,mo=this.g;if((Li=mo.g?mo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cr(Li)){var Oi=Li;break t}}Oi=null}if(!(q=Oi)){this.o=!1,this.s=3,ta(12),Rc(this),jf(this);break e}Uf(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Om(this,q)}if(this.P){let na;for(q=!0;!this.J&&this.C<Sn.length;){if(na=py(this,Sn),na==xm){4==lo&&(this.s=4,ta(14),q=!1),Uf(this.i,this.l,null,"[Incomplete Response]");break}if(na==hy){this.s=4,ta(15),Uf(this.i,this.l,Sn,"[Invalid Chunk]"),q=!1;break}Uf(this.i,this.l,na,null),Om(this,na)}if(Mm(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=lo||0!=Sn.length||this.h.h||(this.s=1,ta(16),q=!1),this.o=this.o&&q,q){if(0<Sn.length&&!this.W){this.W=!0;var Bo=this.j;Bo.g==this&&Bo.ba&&!Bo.M&&(Bo.j.info("Great, no buffering proxy detected. Bytes received: "+Sn.length),Xl(Bo),Bo.M=!0,ta(11))}}else Uf(this.i,this.l,Sn,"[Invalid Chunked Response]"),Rc(this),jf(this)}else Uf(this.i,this.l,Sn,null),Om(this,Sn);4==lo&&Rc(this),this.o&&!this.J&&(4==lo?vu(this.j,this):(this.o=!1,Yi(this)))}else(function gg(E){const j={};E=(E.g&&2<=xc(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let ge=0;ge<E.length;ge++){if(cr(E[ge]))continue;var q=Tt(E[ge]);const Ct=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Lt=j[Ct]||[];j[Ct]=Lt,Lt.push(q)}!function ft(E,j){for(const q in E)j.call(void 0,E[q],q,E)}(j,function(ge){return ge.join(", ")})})(this.g),400==q&&0<Sn.indexOf("Unknown SID")?(this.s=3,ta(12)):(this.s=0,ta(13)),Rc(this),jf(this)}}}catch{}},md.prototype.cancel=function(){this.J=!0,Rc(this)},md.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function Sm(E,j){E.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),2!=this.L&&(Vf(),ta(17)),Rc(this),this.s=2,jf(this)):ug(this,this.S-E)},wh.prototype.cancel=function(){if(this.i=Dh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var yd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Qa){this.h=E.h,Pc(this,E.j),this.o=E.o,this.g=E.g,Bf(this,E.s),this.l=E.l;var j=E.i,q=new fg;q.i=j.i,j.g&&(q.g=new Map(j.g),q.h=j.h),Nm(this,q),this.m=E.m}else E&&(j=String(E).match(yd))?(this.h=!1,Pc(this,j[1]||"",!0),this.o=xh(j[2]||""),this.g=xh(j[3]||"",!0),Bf(this,j[4]),this.l=xh(j[5]||"",!0),Nm(this,j[6]||"",!0),this.m=xh(j[7]||"")):(this.h=!1,this.i=new fg(null,this.h))}function ga(E){return new Qa(E)}function Pc(E,j,q){E.j=q?xh(j,!0):j,E.j&&(E.j=E.j.replace(/:$/,""))}function Bf(E,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);E.s=j}else E.s=null}function Nm(E,j,q){j instanceof fg?(E.i=j,function yy(E,j){j&&!E.j&&(_u(E),E.i=null,E.g.forEach(function(q,ge){var Ct=ge.toLowerCase();ge!=Ct&&(Mv(this,ge),_y(this,Ct,q))},E)),E.j=j}(E.i,E.h)):(q||(j=Mh(j,xv)),E.i=new fg(j,E.h))}function ps(E,j,q){E.i.set(j,q)}function $f(E){return ps(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function xh(E,j){return E?j?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Mh(E,j,q){return"string"==typeof E?(E=encodeURI(E).replace(j,gy),q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function gy(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Qa.prototype.toString=function(){var E=[],j=this.j;j&&E.push(Mh(j,km,!0),":");var q=this.g;return(q||"file"==j)&&(E.push("//"),(j=this.o)&&E.push(Mh(j,km,!0),"@"),E.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&E.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&E.push("/"),E.push(Mh(q,"/"==q.charAt(0)?Fm:my,!0))),(q=this.i.toString())&&E.push("?",q),(q=this.m)&&E.push("#",Mh(q,BE)),E.join("")};var E,km=/[#\/\?@]/g,my=/[#\?:]/g,Fm=/[#\?]/g,xv=/[#\?@]/g,BE=/#/g;function fg(E,j){this.h=this.g=null,this.i=E||null,this.j=!!j}function _u(E){E.g||(E.g=new Map,E.h=0,E.i&&function Ph(E,j){if(E){E=E.split("&");for(var q=0;q<E.length;q++){var ge=E[q].indexOf("="),Ct=null;if(0<=ge){var Lt=E[q].substring(0,ge);Ct=E[q].substring(ge+1)}else Lt=E[q];j(Lt,Ct?decodeURIComponent(Ct.replace(/\+/g," ")):"")}}}(E.i,function(j,q){E.add(decodeURIComponent(j.replace(/\+/g," ")),q)}))}function Mv(E,j){_u(E),j=Ja(E,j),E.g.has(j)&&(E.i=null,E.h-=E.g.get(j).length,E.g.delete(j))}function Ov(E,j){return _u(E),j=Ja(E,j),E.g.has(j)}function _y(E,j,q){Mv(E,j),0<q.length&&(E.i=null,E.g.set(Ja(E,j),dn(q)),E.h+=q.length)}function Ja(E,j){return j=String(j),E.j&&(j=j.toLowerCase()),j}function Za(E,j,q,ge,Ct){try{Ct&&(Ct.onload=null,Ct.onerror=null,Ct.onabort=null,Ct.ontimeout=null),ge(q)}catch{}}function wo(){this.g=new iy}function pg(E,j,q){const ge=q||"";try{_d(E,function(Ct,Lt){let Sn=Ct;K(Ct)&&(Sn=ry(Ct)),j.push(ge+Lt+"="+encodeURIComponent(Sn))})}catch(Ct){throw j.push(ge+"type="+encodeURIComponent("_badmap")),Ct}}function yu(E){this.l=E.Ub||null,this.j=E.eb||!1}function vd(E,j){ea.call(this),this.D=E,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Oh(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function el(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Nh(E)}function Nh(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function kh(E){let j="";return ai(E,function(q,ge){j+=ge,j+=":",j+=q,j+="\r\n"}),j}function vy(E,j,q){e:{for(ge in q){var ge=!1;break e}ge=!0}ge||(q=kh(q),"string"==typeof E?null!=q&&encodeURIComponent(String(q)):ps(E,j,q))}function Ls(E){ea.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=fg.prototype).add=function(E,j){_u(this),this.i=null,E=Ja(this,E);var q=this.g.get(E);return q||this.g.set(E,q=[]),q.push(j),this.h+=1,this},d.forEach=function(E,j){_u(this),this.g.forEach(function(q,ge){q.forEach(function(Ct){E.call(j,Ct,ge,this)},this)},this)},d.na=function(){_u(this);const E=Array.from(this.g.values()),j=Array.from(this.g.keys()),q=[];for(let ge=0;ge<j.length;ge++){const Ct=E[ge];for(let Lt=0;Lt<Ct.length;Lt++)q.push(j[ge])}return q},d.V=function(E){_u(this);let j=[];if("string"==typeof E)Ov(this,E)&&(j=j.concat(this.g.get(Ja(this,E))));else{E=Array.from(this.g.values());for(let q=0;q<E.length;q++)j=j.concat(E[q])}return j},d.set=function(E,j){return _u(this),this.i=null,Ov(this,E=Ja(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[j]),this.h+=1,this},d.get=function(E,j){return E&&0<(E=this.V(E)).length?String(E[0]):j},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],j=Array.from(this.g.keys());for(var q=0;q<j.length;q++){var ge=j[q];const Lt=encodeURIComponent(String(ge)),Sn=this.V(ge);for(ge=0;ge<Sn.length;ge++){var Ct=Lt;""!==Sn[ge]&&(Ct+="="+encodeURIComponent(String(Sn[ge]))),E.push(Ct)}}return this.i=E.join("&")},Wt(yu,og),yu.prototype.g=function(){return new vd(this.l,this.j)},yu.prototype.i=(E={},function(){return E}),Wt(vd,ea),(d=vd.prototype).open=function(E,j){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=j,this.readyState=1,Nh(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(j.body=E),(this.D||R).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,el(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Nh(this)),this.g&&(this.readyState=3,Nh(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oh(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var j=E.value?E.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!E.done}))&&(this.response=this.responseText+=j)}E.done?el(this):Nh(this),3==this.readyState&&Oh(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,el(this))},d.Qa=function(E){this.g&&(this.response=E,el(this))},d.ga=function(){this.g&&el(this)},d.setRequestHeader=function(E,j){this.u.append(E,j)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],j=this.h.entries();for(var q=j.next();!q.done;)E.push((q=q.value)[0]+": "+q[1]),q=j.next();return E.join("\r\n")},Object.defineProperty(vd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Wt(Ls,ea);var Ey=/^https?$/i,by=["POST","PUT"];function Um(E,j){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=j,E.m=5,Fh(E),jm(E)}function Fh(E){E.A||(E.A=!0,Co(E,"complete"),Co(E,"error"))}function Ed(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=xc(E)||2!=E.Z()))if(E.u&&4==xc(E))ey(E.Ea,0,E);else if(Co(E,"readystatechange"),4==xc(E)){E.h=!1;try{const Sn=E.Z();e:switch(Sn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var q;if(!(q=j)){var ge;if(ge=0===Sn){var Ct=String(E.D).match(yd)[1]||null;!Ct&&R.self&&R.self.location&&(Ct=R.self.location.protocol.slice(0,-1)),ge=!Ey.test(Ct?Ct.toLowerCase():"")}q=ge}if(q)Co(E,"complete"),Co(E,"success");else{E.m=6;try{var Lt=2<xc(E)?E.g.statusText:""}catch{Lt=""}E.l=Lt+" ["+E.Z()+"]",Fh(E)}}finally{jm(E)}}}function jm(E,j){if(E.g){Bm(E);const q=E.g,ge=E.v[0]?()=>{}:null;E.g=null,E.v=null,j||Co(E,"ready");try{q.onreadystatechange=ge}catch{}}}function Bm(E){E.I&&(R.clearTimeout(E.I),E.I=null)}function xc(E){return E.g?E.g.readyState:0}function Lh(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Mc(E,j,q){return q&&q.internalChannelParams&&q.internalChannelParams[E]||j}function Gf(E){this.Aa=0,this.i=[],this.j=new cg,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mc("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mc("baseRetryDelayMs",5e3,E),this.cb=Mc("retryDelaySeedMs",1e4,E),this.Wa=Mc("forwardChannelMaxRetries",2,E),this.wa=Mc("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new wh(E&&E.concurrentRequestLimit),this.Da=new wo,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function mg(E){if(Il(E),3==E.G){var j=E.U++,q=ga(E.I);if(ps(q,"SID",E.K),ps(q,"RID",j),ps(q,"TYPE","terminate"),Oc(E,q),(j=new md(E,E.j,j)).L=2,j.v=$f(ga(q)),q=!1,R.navigator&&R.navigator.sendBeacon)try{q=R.navigator.sendBeacon(j.v.toString(),"")}catch{}!q&&R.Image&&((new Image).src=j.v,q=!0),q||(j.g=Eu(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Yi(j)}Gm(E)}function bd(E){E.g&&(Xl(E),E.g.cancel(),E.g=null)}function Il(E){bd(E),E.u&&(R.clearTimeout(E.u),E.u=null),xa(E),E.h.cancel(),E.s&&("number"==typeof E.s&&R.clearTimeout(E.s),E.s=null)}function Td(E){if(!Io(E.h)&&!E.s){E.s=!0;var j=E.Ga;kf||Tm(),Zp||(kf(),Zp=!0),Y_.add(j,E),E.B=0}}function Ty(E,j){var q;q=j?j.l:E.U++;const ge=ga(E.I);ps(ge,"SID",E.K),ps(ge,"RID",q),ps(ge,"AID",E.T),Oc(E,ge),E.m&&E.o&&vy(ge,E.m,E.o),q=new md(E,E.j,q,E.B+1),null===E.m&&(q.H=E.o),j&&(E.i=j.D.concat(E.i)),j=yg(E,q,1e3),q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),pa(E.h,q),fy(q,ge,j)}function Oc(E,j){E.H&&ai(E.H,function(q,ge){ps(j,ge,q)}),E.l&&_d({},function(q,ge){ps(j,ge,q)})}function yg(E,j,q){q=Math.min(E.i.length,q);var ge=E.l?We(E.l.Na,E.l,E):null;e:{var Ct=E.i;let Lt=-1;for(;;){const Sn=["count="+q];-1==Lt?0<q?(Lt=Ct[0].g,Sn.push("ofs="+Lt)):Lt=0:Sn.push("ofs="+Lt);let Li=!0;for(let mo=0;mo<q;mo++){let Oi=Ct[mo].g;const Bo=Ct[mo].map;if(Oi-=Lt,0>Oi)Lt=Math.max(0,Ct[mo].g-100),Li=!1;else try{pg(Bo,Sn,"req"+Oi+"_")}catch{ge&&ge(Bo)}}if(Li){ge=Sn.join("&");break e}}}return E=E.i.splice(0,q),j.D=E,ge}function vg(E){if(!E.g&&!E.u){E.Y=1;var j=E.Fa;kf||Tm(),Zp||(kf(),Zp=!0),Y_.add(j,E),E.v=0}}function Vh(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=lg(We(E.Fa,E),$m(E,E.v)),E.v++,0))}function Xl(E){null!=E.A&&(R.clearTimeout(E.A),E.A=null)}function ma(E){E.g=new md(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var j=ga(E.qa);ps(j,"RID","rpc"),ps(j,"SID",E.K),ps(j,"AID",E.T),ps(j,"CI",E.F?"0":"1"),!E.F&&E.ja&&ps(j,"TO",E.ja),ps(j,"TYPE","xmlhttp"),Oc(E,j),E.m&&E.o&&vy(j,E.m,E.o),E.L&&(E.g.I=E.L);var q=E.g;E=E.ia,q.L=1,q.v=$f(ga(j)),q.m=null,q.P=!0,jE(q,E)}function xa(E){null!=E.C&&(R.clearTimeout(E.C),E.C=null)}function vu(E,j){var q=null;if(E.g==j){xa(E),Xl(E),E.g=null;var ge=2}else{if(!Ah(E.h,j))return;q=j.D,hg(E.h,j),ge=1}if(0!=E.G)if(j.o)if(1==ge){q=j.m?j.m.length:0,j=Date.now()-j.F;var Ct=E.B;Co(ge=ag(),new ly(ge,q)),Td(E)}else vg(E);else if(3==(Ct=j.s)||0==Ct&&0<j.X||!(1==ge&&function _g(E,j){return!(mu(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=j.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=lg(We(E.Ga,E,j),$m(E,E.B)),E.B++,0)))}(E,j)||2==ge&&Vh(E)))switch(q&&0<q.length&&(j=E.h,j.i=j.i.concat(q)),Ct){case 1:Nc(E,5);break;case 4:Nc(E,10);break;case 3:Nc(E,6);break;default:Nc(E,2)}}function $m(E,j){let q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(q*=2),q*j}function Nc(E,j){if(E.j.info("Error code "+j),2==j){var q=We(E.fb,E),ge=E.Xa;const Ct=!ge;ge=new Qa(ge||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Pc(ge,"https"),$f(ge),Ct?function Lm(E,j){const q=new cg;if(R.Image){const ge=new Image;ge.onload=At(Za,q,"TestLoadImage: loaded",!0,j,ge),ge.onerror=At(Za,q,"TestLoadImage: error",!1,j,ge),ge.onabort=At(Za,q,"TestLoadImage: abort",!1,j,ge),ge.ontimeout=At(Za,q,"TestLoadImage: timeout",!1,j,ge),R.setTimeout(function(){ge.ontimeout&&ge.ontimeout()},1e4),ge.src=E}else j(!1)}(ge.toString(),q):function Vm(E,j){new cg;const ge=new AbortController,Ct=setTimeout(()=>{ge.abort(),Za(0,0,!1,j)},1e4);fetch(E,{signal:ge.signal}).then(Lt=>{clearTimeout(Ct),Za(0,0,!!Lt.ok,j)}).catch(()=>{clearTimeout(Ct),Za(0,0,!1,j)})}(ge.toString(),q)}else ta(2);E.G=0,E.l&&E.l.sa(j),Gm(E),Il(E)}function Gm(E){if(E.G=0,E.ka=[],E.l){const j=Dh(E.h);(0!=j.length||0!=E.i.length)&&(rn(E.ka,j),rn(E.ka,E.i),E.h.i.length=0,dn(E.i),E.i.length=0),E.l.ra()}}function Uh(E,j,q){var ge=q instanceof Qa?ga(q):new Qa(q);if(""!=ge.g)j&&(ge.g=j+"."+ge.g),Bf(ge,ge.s);else{var Ct=R.location;ge=Ct.protocol,j=j?j+"."+Ct.hostname:Ct.hostname,Ct=+Ct.port;var Lt=new Qa(null);ge&&Pc(Lt,ge),j&&(Lt.g=j),Ct&&Bf(Lt,Ct),q&&(Lt.l=q),ge=Lt}return j=E.ya,(q=E.D)&&j&&ps(ge,q,j),ps(ge,"VER",E.la),Oc(E,ge),ge}function Eu(E,j,q){if(j&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new Ls(E.Ca&&!E.pa?new yu({eb:q}):E.pa)).Ha(E.J),j}function Hf(){}function bu(){}function Ma(E,j){ea.call(this),this.g=new Gf(j),this.l=E,this.h=j&&j.messageUrlParams||null,E=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(E?E["X-WebChannel-Content-Type"]=j.messageContentType:E={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(E?E["X-WebChannel-Client-Profile"]=j.va:E={"X-WebChannel-Client-Profile":j.va}),this.g.S=E,(E=j&&j.Sb)&&!cr(E)&&(this.g.m=E),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!cr(j)&&(this.g.D=j,null!==(E=this.h)&&j in E&&j in(E=this.h)&&delete E[j]),this.j=new ao(this)}function Cy(E){Lf.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var j=E.__sm__;if(j){e:{for(const q in j){E=q;break e}E=void 0}(this.i=E)&&(E=this.i,j=null!==j&&E in j?j[E]:void 0),this.data=j}else this.data=E}function Iy(){Dm.call(this),this.status=1}function ao(E){this.g=E}(d=Ls.prototype).Ha=function(E){this.J=E},d.ea=function(E,j,q,ge){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);j=j?j.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dy.g(),this.v=function Ch(E){return E.h||(E.h=E.i())}(this.o?this.o:dy),this.g.onreadystatechange=We(this.Ea,this);try{this.B=!0,this.g.open(j,String(E),!0),this.B=!1}catch(Lt){return void Um(this,Lt)}if(E=q||"",q=new Map(this.headers),ge)if(Object.getPrototypeOf(ge)===Object.prototype)for(var Ct in ge)q.set(Ct,ge[Ct]);else{if("function"!=typeof ge.keys||"function"!=typeof ge.get)throw Error("Unknown input type for opt_headers: "+String(ge));for(const Lt of ge.keys())q.set(Lt,ge.get(Lt))}ge=Array.from(q.keys()).find(Lt=>"content-type"==Lt.toLowerCase()),Ct=R.FormData&&E instanceof R.FormData,!(0<=Array.prototype.indexOf.call(by,j,void 0))||ge||Ct||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Lt,Sn]of q)this.g.setRequestHeader(Lt,Sn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bm(this),this.u=!0,this.g.send(E),this.u=!1}catch(Lt){Um(this,Lt)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,Co(this,"complete"),Co(this,"abort"),jm(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jm(this,!0)),Ls.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?Ed(this):this.bb())},d.bb=function(){Ed(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<xc(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var j=this.g.responseText;return E&&0==j.indexOf(E)&&(j=j.substring(E.length)),VE(j)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=Gf.prototype).la=8,d.G=1,d.connect=function(E,j,q,ge){ta(0),this.W=E,this.H=j||{},q&&void 0!==ge&&(this.H.OSID=q,this.H.OAID=ge),this.F=this.X,this.I=Uh(this,null,this.W),Td(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const Ct=new md(this,this.j,E);let Lt=this.o;if(this.S&&(Lt?(Lt=Be(Lt),gt(Lt,this.S)):Lt=this.S),null!==this.m||this.O||(Ct.H=Lt,Lt=null),this.P)e:{for(var j=0,q=0;q<this.i.length;q++){var ge=this.i[q];if(void 0===(ge="__data__"in ge.map&&"string"==typeof(ge=ge.map.__data__)?ge.length:void 0))break;if(4096<(j+=ge)){j=q;break e}if(4096===j||q===this.i.length-1){j=q+1;break e}}j=1e3}else j=1e3;j=yg(this,Ct,j),ps(q=ga(this.I),"RID",E),ps(q,"CVER",22),this.D&&ps(q,"X-HTTP-Session-Id",this.D),Oc(this,q),Lt&&(this.O?j="headers="+encodeURIComponent(String(kh(Lt)))+"&"+j:this.m&&vy(q,this.m,Lt)),pa(this.h,Ct),this.Ua&&ps(q,"TYPE","init"),this.P?(ps(q,"$req",j),ps(q,"SID","null"),Ct.T=!0,fy(Ct,q,null)):fy(Ct,q,j),this.G=2}}else 3==this.G&&(E?Ty(this,E):0==this.i.length||Io(this.h)||Ty(this))},d.Fa=function(){if(this.u=null,ma(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=lg(We(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ta(10),bd(this),ma(this))},d.Za=function(){null!=this.C&&(this.C=null,bd(this),Vh(this),ta(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),ta(2)):(this.j.info("Failed to ping google.com"),ta(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=Hf.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},bu.prototype.g=function(E,j){return new Ma(E,j)},Wt(Ma,ea),Ma.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ma.prototype.close=function(){mg(this.g)},Ma.prototype.o=function(E){var j=this.g;if("string"==typeof E){var q={};q.__data__=E,E=q}else this.u&&((q={}).__data__=ry(E),E=q);j.i.push(new class{constructor(E,j){this.g=E,this.map=j}}(j.Ya++,E)),3==j.G&&Td(j)},Ma.prototype.N=function(){this.g.l=null,delete this.j,mg(this.g),delete this.g,Ma.aa.N.call(this)},Wt(Cy,Lf),Wt(Iy,Dm),Wt(ao,Hf),ao.prototype.ua=function(){Co(this.g,"a")},ao.prototype.ta=function(E){Co(this.g,new Cy(E))},ao.prototype.sa=function(E){Co(this.g,new Iy)},ao.prototype.ra=function(){Co(this.g,"b")},bu.prototype.createWebChannel=bu.prototype.g,Ma.prototype.send=Ma.prototype.o,Ma.prototype.open=Ma.prototype.m,Ma.prototype.close=Ma.prototype.close,He=te.createWebChannelTransport=function(){return new bu},Jt=te.getStatEventTarget=function(){return ag()},Ft=te.Event=Ih,mt=te.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rm.NO_ERROR=0,Rm.TIMEOUT=8,Rm.HTTP_ERROR=6,Ke=te.ErrorCode=Rm,uy.COMPLETE="complete",de=te.EventType=uy,sy.EventType=pu,pu.OPEN="a",pu.CLOSE="b",pu.ERROR="c",pu.MESSAGE="d",ea.prototype.listen=ea.prototype.K,Ne=te.WebChannel=sy,te.FetchXmlHttpFactory=yu,Ls.prototype.listenOnce=Ls.prototype.L,Ls.prototype.getLastError=Ls.prototype.Ka,Ls.prototype.getLastErrorCode=Ls.prototype.Ba,Ls.prototype.getStatus=Ls.prototype.Z,Ls.prototype.getResponseJson=Ls.prototype.Oa,Ls.prototype.getResponseText=Ls.prototype.oa,Ls.prototype.send=Ls.prototype.ea,Ls.prototype.setWithCredentials=Ls.prototype.Ha,fe=te.XhrIo=Ls}).apply(typeof Y<"u"?Y:typeof self<"u"?self:typeof window<"u"?window:{});const Ie="@firebase/firestore";class tt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");let Xe="10.14.0";const dt=new ve.Vy("@firebase/firestore");function Nt(){return dt.logLevel}function ht(d){dt.setLogLevel(d)}function Ee(d,...e){if(dt.logLevel<=ve.$b.DEBUG){const r=e.map(Fn);dt.debug(`Firestore (${Xe}): ${d}`,...r)}}function Je(d,...e){if(dt.logLevel<=ve.$b.ERROR){const r=e.map(Fn);dt.error(`Firestore (${Xe}): ${d}`,...r)}}function Xt(d,...e){if(dt.logLevel<=ve.$b.WARN){const r=e.map(Fn);dt.warn(`Firestore (${Xe}): ${d}`,...r)}}function Fn(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function qe(d="Unexpected state"){const e=`FIRESTORE (${Xe}) INTERNAL ASSERTION FAILED: `+d;throw Je(e),new Error(e)}function xt(d,e){d||qe()}function je(d,e){d||qe()}function lt(d,e){return d}const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends _e.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class ze{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Re{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(tt.UNAUTHENTICATED))}shutdown(){}}class Te{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Le{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var a=this;xt(void 0===this.o);let h=this.i;const y=K=>this.i!==h?(h=this.i,r(K)):Promise.resolve();let b=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new tn,e.enqueueRetryable(()=>y(this.currentUser))};const R=()=>{const K=b;e.enqueueRetryable((0,o.A)(function*(){yield K.promise,yield y(a.currentUser)}))},V=K=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(K=>V(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?V(K):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new tn)}},0),R()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(xt("string"==typeof a.accessToken),new ze(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new tt(e)}}class ct{constructor(e,r,a){this.l=e,this.h=r,this.P=a,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class it{constructor(e,r,a){this.l=e,this.h=r,this.P=a}getToken(){return Promise.resolve(new ct(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class An{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){xt(void 0===this.o);const a=y=>{null!=y.error&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const b=y.token!==this.R;return this.R=y.token,Ee("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>a(y))};const h=y=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>h(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?h(y):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(xt("string"==typeof r.token),this.R=r.token,new jt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function on(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let a=0;a<d;a++)r[a]=Math.floor(256*Math.random());return r}class Un{static newId(){const r=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=on(40);for(let y=0;y<h.length;++y)a.length<20&&h[y]<r&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[y]%62))}return a}}function Zt(d,e){return d<e?-1:d>e?1:0}function Hn(d,e,r){return d.length===e.length&&d.every((a,h)=>r(a,e[h]))}function xn(d){return d+"\0"}class Kt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new st(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new st(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new st(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*r));return new Kt(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $t(e)}static min(){return new $t(new Kt(0,0))}static max(){return new $t(new Kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Er{constructor(e,r,a){void 0===r?r=0:r>e.length&&qe(),void 0===a?a=e.length-r:a>e.length-r&&qe(),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return 0===Er.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let h=0;h<a;h++){const y=e.get(h),b=r.get(h);if(y<b)return-1;if(y>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class an extends Er{construct(e,r,a){return new an(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new st(ke.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(h=>h.length>0))}return new an(r)}static emptyPath(){return new an([])}}const xr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends Er{construct(e,r,a){return new Jn(e,r,a)}static isValidIdentifier(e){return xr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jn(["__name__"])}static fromServerFormat(e){const r=[];let a="",h=0;const y=()=>{if(0===a.length)throw new st(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let b=!1;for(;h<e.length;){const R=e[h];if("\\"===R){if(h+1===e.length)throw new st(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[h+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new st(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=V,h+=2}else"`"===R?(b=!b,h++):"."!==R||b?(a+=R,h++):(y(),h++)}if(y(),b)throw new st(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(r)}static emptyPath(){return new Jn([])}}class zt{constructor(e){this.path=e}static fromPath(e){return new zt(an.fromString(e))}static fromName(e){return new zt(an.fromString(e).popFirst(5))}static empty(){return new zt(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===an.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return an.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zt(new an(e.slice()))}}class wn{constructor(e,r,a,h){this.indexId=e,this.collectionGroup=r,this.fields=a,this.indexState=h}}function Wn(d){return d.fields.find(e=>2===e.kind)}function Cn(d){return d.fields.filter(e=>2!==e.kind)}wn.UNKNOWN_ID=-1;class Sr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Kn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Kn(0,fn.min())}}function di(d,e){const r=d.toTimestamp().seconds,a=d.toTimestamp().nanoseconds+1,h=$t.fromTimestamp(1e9===a?new Kt(r+1,0):new Kt(r,a));return new fn(h,zt.empty(),e)}function ys(d){return new fn(d.readTime,d.key,-1)}class fn{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new fn($t.min(),zt.empty(),-1)}static max(){return new fn($t.max(),zt.empty(),-1)}}function ti(d,e){let r=d.readTime.compareTo(e.readTime);return 0!==r?r:(r=zt.comparator(d.documentKey,e.documentKey),0!==r?r:Zt(d.largestBatchId,e.largestBatchId))}const er="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ir{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Bn(d){return Si.apply(this,arguments)}function Si(){return(Si=(0,o.A)(function*(d){if(d.code!==ke.FAILED_PRECONDITION||d.message!==er)throw d;Ee("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ot((a,h)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(a,h)},this.catchCallback=y=>{this.wrapFailure(r,y).next(a,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ot?r:ot.resolve(r)}catch(r){return ot.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ot.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ot.reject(r)}static resolve(e){return new ot((r,a)=>{r(e)})}static reject(e){return new ot((r,a)=>{a(e)})}static waitFor(e){return new ot((r,a)=>{let h=0,y=0,b=!1;e.forEach(R=>{++h,R.next(()=>{++y,b&&y===h&&r()},V=>a(V))}),b=!0,y===h&&r()})}static or(e){let r=ot.resolve(!1);for(const a of e)r=r.next(h=>h?ot.resolve(h):a());return r}static forEach(e,r){const a=[];return e.forEach((h,y)=>{a.push(r.call(this,h,y))}),this.waitFor(a)}static mapArray(e,r){return new ot((a,h)=>{const y=e.length,b=new Array(y);let R=0;for(let V=0;V<y;V++){const K=V;r(e[K]).next(oe=>{b[K]=oe,++R,R===y&&a(b)},oe=>h(oe))}})}static doWhile(e,r){return new ot((a,h)=>{const y=()=>{!0===e()?r().next(()=>{y()},h):a()};y()})}}class It{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new tn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new De(e,r.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=yt(a.target.error);this.V.reject(new De(e,h))}}static open(e,r,a,h){try{return new It(r,e.transaction(h,a))}catch(y){throw new De(r,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ee("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Se(r)}}class ue{constructor(e,r,a){this.name=e,this.version=r,this.p=a,12.2===ue.S((0,_e.ZQ)())&&Je("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ee("SimpleDb","Removing database:",e),ut(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.zW)())return!1;if(ue.v())return!0;const e=(0,_e.ZQ)(),r=ue.S(e),a=0<r&&r<10,h=Fe(e),y=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||y)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var r=this;return(0,o.A)(function*(){return r.db||(Ee("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,h)=>{const y=indexedDB.open(r.name,r.version);y.onsuccess=b=>{a(b.target.result)},y.onblocked=()=>{h(new De(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=b=>{const R=b.target.error;h("VersionError"===R.name?new st(ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new st(ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new De(e,R))},y.onupgradeneeded=b=>{Ee("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,y.transaction,b.oldVersion,r.version).next(()=>{Ee("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=a=>r.N(a)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,a,h){var y=this;return(0,o.A)(function*(){const b="readonly"===r;let R=0;for(;;){++R;try{y.db=yield y.M(e);const V=It.open(y.db,e,b?"readonly":"readwrite",a),K=h(V).next(oe=>(V.g(),oe)).catch(oe=>(V.abort(oe),ot.reject(oe))).toPromise();return K.catch(()=>{}),yield V.m,K}catch(V){const K=V,oe="FirebaseError"!==K.name&&R<3;if(Ee("SimpleDb","Transaction failed with error:",K.message,"Retrying:",oe),y.close(),!oe)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Fe(d){const e=d.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class St{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ut(this.B.delete())}}class De extends st{constructor(e,r){super(ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Vt(d){return"IndexedDbTransactionError"===d.name}class Se{constructor(e){this.store=e}put(e,r){let a;return void 0!==r?(Ee("SimpleDb","PUT",this.store.name,e,r),a=this.store.put(r,e)):(Ee("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),ut(a)}add(e){return Ee("SimpleDb","ADD",this.store.name,e,e),ut(this.store.add(e))}get(e){return ut(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ee("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ee("SimpleDb","DELETE",this.store.name,e),ut(this.store.delete(e))}count(){return Ee("SimpleDb","COUNT",this.store.name),ut(this.store.count())}U(e,r){const a=this.options(e,r),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const y=h.getAll(a.range);return new ot((b,R)=>{y.onerror=V=>{R(V.target.error)},y.onsuccess=V=>{b(V.target.result)}})}{const y=this.cursor(a),b=[];return this.W(y,(R,V)=>{b.push(V)}).next(()=>b)}}G(e,r){const a=this.store.getAll(e,null===r?void 0:r);return new ot((h,y)=>{a.onerror=b=>{y(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,r){Ee("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,r);a.H=!1;const h=this.cursor(a);return this.W(h,(y,b,R)=>R.delete())}J(e,r){let a;r?a=e:(a={},r=e);const h=this.cursor(a);return this.W(h,r)}Y(e){const r=this.cursor({});return new ot((a,h)=>{r.onerror=y=>{const b=yt(y.target.error);h(b)},r.onsuccess=y=>{const b=y.target.result;b?e(b.primaryKey,b.value).next(R=>{R?b.continue():a()}):a()}})}W(e,r){const a=[];return new ot((h,y)=>{e.onerror=b=>{y(b.target.error)},e.onsuccess=b=>{const R=b.target.result;if(!R)return void h();const V=new St(R),K=r(R.primaryKey,R.value,V);if(K instanceof ot){const oe=K.catch(be=>(V.done(),ot.reject(be)));a.push(oe)}V.isDone?h():null===V.K?R.continue():R.continue(V.K)}}).next(()=>ot.waitFor(a))}options(e,r){let a;return void 0!==e&&("string"==typeof e?a=e:r=e),{index:a,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,r):a.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function ut(d){return new ot((e,r)=>{d.onsuccess=a=>{e(a.target.result)},d.onerror=a=>{const h=yt(a.target.error);r(h)}})}let vn=!1;function yt(d){const e=ue.S((0,_e.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(r)>=0){const a=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vn||(vn=!0,setTimeout(()=>{throw a},0)),a}}return d}class ${constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ee("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,o.A)(function*(){r.task=null;try{Ee("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(a){Vt(a)?Ee("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Bn(a)}yield r.X(6e4)}))}}class x{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,o.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>r.te(a,e))})()}te(e,r){const a=new Set;let h=r,y=!0;return ot.doWhile(()=>!0===y&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return Ee("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(R=>{h-=R,a.add(b)});y=!1})).next(()=>r-h)}ne(e,r,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(h=>this.localStore.localDocuments.getNextDocuments(e,r,h,a).next(y=>{const b=y.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,y)).next(R=>(Ee("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,r,R))).next(()=>b.size)}))}re(e,r){let a=e;return r.changes.forEach((h,y)=>{const b=ys(y);ti(b,a)>0&&(a=b)}),new fn(a.readTime,a.documentKey,Math.max(r.batchId,e.largestBatchId))}}let L=(()=>{class d{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return d.oe=-1,d})();function ie(d){return null==d}function me(d){return 0===d&&1/d==-1/0}function pt(d){return"number"==typeof d&&Number.isInteger(d)&&!me(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function Ot(d){let e="";for(let r=0;r<d.length;r++)e.length>0&&(e=pn(e)),e=ln(d.get(r),e);return pn(e)}function ln(d,e){let r=e;const a=d.length;for(let h=0;h<a;h++){const y=d.charAt(h);switch(y){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=y}}return r}function pn(d){return d+"\x01\x01"}function Rn(d){const e=d.length;if(xt(e>=2),2===e)return xt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),an.emptyPath();const r=e-2,a=[];let h="";for(let y=0;y<e;){const b=d.indexOf("\x01",y);switch((b<0||b>r)&&qe(),d.charAt(b+1)){case"\x01":const R=d.substring(y,b);let V;0===h.length?V=R:(h+=R,V=h,h=""),a.push(V);break;case"\x10":h+=d.substring(y,b),h+="\0";break;case"\x11":h+=d.substring(y,b+1);break;default:qe()}y=b+2}return new an(a)}const br=["userId","batchId"];function cn(d,e){return[d,Ot(e)]}function Gr(d,e,r){return[d,Ot(e),r]}const dr={},Vs=["prefixPath","collectionGroup","readTime","documentId"],Ni=["prefixPath","collectionGroup","documentId"],vs=["collectionGroup","readTime","prefixPath","documentId"],Es=["canonicalId","targetId"],gi=["targetId","path"],ar=["path","targetId"],xs=["collectionId","parent"],Rt=["indexId","uid"],at=["uid","sequenceNumber"],kt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],un=["indexId","uid","orderedDocumentKey"],$n=["userId","collectionPath","documentId"],Ln=["userId","collectionPath","largestBatchId"],fr=["userId","collectionGroup","largestBatchId"],Ur=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wr=[...Ur,"documentOverlays"],pr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qi=pr,Ms=[...Qi,"indexConfiguration","indexState","indexEntries"],ss=Ms,Do=[...Ms,"globals"];class So extends Ir{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function ji(d,e){const r=lt(d);return ue.F(r._e,e)}function Go(d){let e=0;for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e++;return e}function li(d,e){for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e(r,d[r])}function bs(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Kr{constructor(e,r){this.comparator=e,this.root=r||xi.EMPTY}insert(e,r){return new Kr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new Kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return r+a.left.size;h<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hi(this.root,e,this.comparator,!0)}}class Hi{constructor(e,r,a,h){this.isReverse=h,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=r?a(e.key,r):1,r&&h&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xi{constructor(e,r,a,h,y){this.key=e,this.value=r,this.color=a??xi.RED,this.left=h??xi.EMPTY,this.right=y??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,h,y){return new xi(e??this.key,r??this.value,a??this.color,h??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let h=this;const y=a(e,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(e,r,a),null):0===y?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return xi.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,r,a,h,y){return this}insert(e,r,a){return new xi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new Kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new uo(this.data.getIterator())}getIteratorFrom(e){return new uo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,y=a.getNext().key;if(0!==this.comparator(h,y))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ar(this.comparator);return r.data=e,r}}class uo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ro(d){return d.hasNext()?d.getNext():void 0}class hi{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new hi([])}unionWith(e){let r=new Ar(Jn.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new hi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Hn(this.fields,e.fields,(r,a)=>r.isEqual(a))}}class Na extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function tl(){return typeof atob<"u"}class Ri{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new Na("Invalid base64 string: "+y):y}}(e);return new Ri(r)}static fromUint8Array(e){const r=function(h){let y="";for(let b=0;b<h.length;++b)y+=String.fromCharCode(h[b]);return y}(e);return new Ri(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let h=0;h<r.length;h++)a[h]=r.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const va=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(d){if(xt(!!d),"string"==typeof d){let e=0;const r=va.exec(d);if(xt(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(d);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ni(d.seconds),nanos:ni(d.nanos)}}function ni(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function Us(d){return"string"==typeof d?Ri.fromBase64String(d):Ri.fromUint8Array(d)}function bi(d){var e,r;return"server_timestamp"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Bi(d){const e=d.mapValue.fields.__previous_value__;return bi(e)?Bi(e):e}function Pi(d){const e=qs(d.mapValue.fields.__local_write_time__.timestampValue);return new Kt(e.seconds,e.nanos)}class Qn{constructor(e,r,a,h,y,b,R,V,K){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=h,this.ssl=y,this.forceLongPolling=b,this.autoDetectLongPolling=R,this.longPollingOptions=V,this.useFetchStreams=K}}class qr{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new qr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qr&&e.projectId===this.projectId&&e.database===this.database}}const ri={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zi={nullValue:"NULL_VALUE"};function jr(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?bi(d)?4:Gn(d)?9007199254740991:cs(d)?10:11:qe()}function as(d,e){if(d===e)return!0;const r=jr(d);if(r!==jr(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return Pi(d).isEqual(Pi(e));case 3:return function(h,y){if("string"==typeof h.timestampValue&&"string"==typeof y.timestampValue&&h.timestampValue.length===y.timestampValue.length)return h.timestampValue===y.timestampValue;const b=qs(h.timestampValue),R=qs(y.timestampValue);return b.seconds===R.seconds&&b.nanos===R.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return y=e,Us(d.bytesValue).isEqual(Us(y.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,y){return ni(h.geoPointValue.latitude)===ni(y.geoPointValue.latitude)&&ni(h.geoPointValue.longitude)===ni(y.geoPointValue.longitude)}(d,e);case 2:return function(h,y){if("integerValue"in h&&"integerValue"in y)return ni(h.integerValue)===ni(y.integerValue);if("doubleValue"in h&&"doubleValue"in y){const b=ni(h.doubleValue),R=ni(y.doubleValue);return b===R?me(b)===me(R):isNaN(b)&&isNaN(R)}return!1}(d,e);case 9:return Hn(d.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return function(h,y){const b=h.mapValue.fields||{},R=y.mapValue.fields||{};if(Go(b)!==Go(R))return!1;for(const V in b)if(b.hasOwnProperty(V)&&(void 0===R[V]||!as(b[V],R[V])))return!1;return!0}(d,e);default:return qe()}var y}function Ys(d,e){return void 0!==(d.values||[]).find(r=>as(r,e))}function ki(d,e){if(d===e)return 0;const r=jr(d),a=jr(e);if(r!==a)return Zt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Zt(d.booleanValue,e.booleanValue);case 2:return function(y,b){const R=ni(y.integerValue||y.doubleValue),V=ni(b.integerValue||b.doubleValue);return R<V?-1:R>V?1:R===V?0:isNaN(R)?isNaN(V)?0:-1:1}(d,e);case 3:return Ts(d.timestampValue,e.timestampValue);case 4:return Ts(Pi(d),Pi(e));case 5:return Zt(d.stringValue,e.stringValue);case 6:return function(y,b){const R=Us(y),V=Us(b);return R.compareTo(V)}(d.bytesValue,e.bytesValue);case 7:return function(y,b){const R=y.split("/"),V=b.split("/");for(let K=0;K<R.length&&K<V.length;K++){const oe=Zt(R[K],V[K]);if(0!==oe)return oe}return Zt(R.length,V.length)}(d.referenceValue,e.referenceValue);case 8:return function(y,b){const R=Zt(ni(y.latitude),ni(b.latitude));return 0!==R?R:Zt(ni(y.longitude),ni(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Ds(d.arrayValue,e.arrayValue);case 10:return function(y,b){var R,V,K,oe;const At=null===(R=(y.fields||{}).value)||void 0===R?void 0:R.arrayValue,Wt=null===(V=(b.fields||{}).value)||void 0===V?void 0:V.arrayValue,dn=Zt((null===(K=At?.values)||void 0===K?void 0:K.length)||0,(null===(oe=Wt?.values)||void 0===oe?void 0:oe.length)||0);return 0!==dn?dn:Ds(At,Wt)}(d.mapValue,e.mapValue);case 11:return function(y,b){if(y===ri.mapValue&&b===ri.mapValue)return 0;if(y===ri.mapValue)return 1;if(b===ri.mapValue)return-1;const R=y.fields||{},V=Object.keys(R),K=b.fields||{},oe=Object.keys(K);V.sort(),oe.sort();for(let be=0;be<V.length&&be<oe.length;++be){const We=Zt(V[be],oe[be]);if(0!==We)return We;const At=ki(R[V[be]],K[oe[be]]);if(0!==At)return At}return Zt(V.length,oe.length)}(d.mapValue,e.mapValue);default:throw qe()}}function Ts(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return Zt(d,e);const r=qs(d),a=qs(e),h=Zt(r.seconds,a.seconds);return 0!==h?h:Zt(r.nanos,a.nanos)}function Ds(d,e){const r=d.values||[],a=e.values||[];for(let h=0;h<r.length&&h<a.length;++h){const y=ki(r[h],a[h]);if(y)return y}return Zt(r.length,a.length)}function Hr(d){return _n(d)}function _n(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(r){const a=qs(r);return`time(${a.seconds},${a.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?Us(d.bytesValue).toBase64():"referenceValue"in d?zt.fromName(d.referenceValue).toString():"geoPointValue"in d?function(r){return`geo(${r.latitude},${r.longitude})`}(d.geoPointValue):"arrayValue"in d?function(r){let a="[",h=!0;for(const y of r.values||[])h?h=!1:a+=",",a+=_n(y);return a+"]"}(d.arrayValue):"mapValue"in d?function(r){const a=Object.keys(r.fields||{}).sort();let h="{",y=!0;for(const b of a)y?y=!1:h+=",",h+=`${b}:${_n(r.fields[b])}`;return h+"}"}(d.mapValue):qe()}function hr(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function Ji(d){return!!d&&"integerValue"in d}function ls(d){return!!d&&"arrayValue"in d}function Fi(d){return!!d&&"nullValue"in d}function js(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function Yr(d){return!!d&&"mapValue"in d}function cs(d){var e,r;return"__vector__"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ss(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return li(d.mapValue.fields,(r,a)=>e.mapValue.fields[r]=Ss(a)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(d.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ss(d.arrayValue.values[r]);return e}return Object.assign({},d)}function Gn(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const mi={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Zi(d){return"nullValue"in d?zi:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?hr(qr.empty(),zt.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?cs(d)?mi:{mapValue:{}}:qe()}function Z(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?hr(qr.empty(),zt.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?mi:"mapValue"in d?cs(d)?{mapValue:{}}:ri:qe()}function J(d,e){const r=ki(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Pe(d,e){const r=ki(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Ue{constructor(e){this.value=e}static empty(){return new Ue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!Yr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ss(r)}setAll(e){let r=Jn.emptyPath(),a={},h=[];e.forEach((b,R)=>{if(!r.isImmediateParentOf(R)){const V=this.getFieldsMap(r);this.applyChanges(V,a,h),a={},h=[],r=R.popLast()}b?a[R.lastSegment()]=Ss(b):h.push(R.lastSegment())});const y=this.getFieldsMap(r);this.applyChanges(y,a,h)}delete(e){const r=this.field(e.popLast());Yr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=r.mapValue.fields[e.get(a)];Yr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,a){li(r,(h,y)=>e[h]=y);for(const h of a)delete e[h]}clone(){return new Ue(Ss(this.value))}}function nt(d){const e=[];return li(d.fields,(r,a)=>{const h=new Jn([r]);if(Yr(a)){const y=nt(a.mapValue).fields;if(0===y.length)e.push(h);else for(const b of y)e.push(h.child(b))}else e.push(h)}),new hi(e)}class Et{constructor(e,r,a,h,y,b,R){this.key=e,this.documentType=r,this.version=a,this.readTime=h,this.createTime=y,this.data=b,this.documentState=R}static newInvalidDocument(e){return new Et(e,0,$t.min(),$t.min(),$t.min(),Ue.empty(),0)}static newFoundDocument(e,r,a,h){return new Et(e,1,r,$t.min(),a,h,0)}static newNoDocument(e,r){return new Et(e,2,r,$t.min(),$t.min(),Ue.empty(),0)}static newUnknownDocument(e,r){return new Et(e,3,r,$t.min(),$t.min(),Ue.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual($t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yt{constructor(e,r){this.position=e,this.inclusive=r}}function Dn(d,e,r){let a=0;for(let h=0;h<d.position.length;h++){const y=e[h],b=d.position[h];if(a=y.field.isKeyField()?zt.comparator(zt.fromName(b.referenceValue),r.key):ki(b,r.data.field(y.field)),"desc"===y.dir&&(a*=-1),0!==a)break}return a}function gn(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let r=0;r<d.position.length;r++)if(!as(d.position[r],e.position[r]))return!1;return!0}class Xn{constructor(e,r="asc"){this.field=e,this.dir=r}}function Dr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Mn{}class Vn extends Mn{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,a):new Mr(e,r,a):"array-contains"===r?new no(e,a):"in"===r?new ra(e,a):"not-in"===r?new nl(e,a):"array-contains-any"===r?new ia(e,a):new Vn(e,r,a)}static createKeyFieldInFilter(e,r,a){return"in"===r?new Ho(e,a):new us(e,a)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(ki(r,this.value)):null!==r&&jr(this.value)===jr(r)&&this.matchesComparison(ki(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends Mn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new tr(e,r)}matches(e){return kr(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kr(d){return"and"===d.op}function ii(d){return"or"===d.op}function Xr(d){return Vi(d)&&kr(d)}function Vi(d){for(const e of d.filters)if(e instanceof tr)return!1;return!0}function Ci(d){if(d instanceof Vn)return d.field.canonicalString()+d.op.toString()+Hr(d.value);if(Xr(d))return d.filters.map(e=>Ci(e)).join(",");{const e=d.filters.map(r=>Ci(r)).join(",");return`${d.op}(${e})`}}function Rr(d,e){return d instanceof Vn?(a=d,(h=e)instanceof Vn&&a.op===h.op&&a.field.isEqual(h.field)&&as(a.value,h.value)):d instanceof tr?function(a,h){return h instanceof tr&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((y,b,R)=>y&&Rr(b,h.filters[R]),!0)}(d,e):void qe();var a,h}function Ti(d,e){const r=d.filters.concat(e);return tr.create(r,d.op)}function Ii(d){return d instanceof Vn?`${(r=d).field.canonicalString()} ${r.op} ${Hr(r.value)}`:d instanceof tr?function(r){return r.op.toString()+" {"+r.getFilters().map(Ii).join(" ,")+"}"}(d):"Filter";var r}class Mr extends Vn{constructor(e,r,a){super(e,r,a),this.key=zt.fromName(a.referenceValue)}matches(e){const r=zt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Ho extends Vn{constructor(e,r){super(e,"in",r),this.keys=Xs(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class us extends Vn{constructor(e,r){super(e,"not-in",r),this.keys=Xs(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Xs(d,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>zt.fromName(a.referenceValue))}class no extends Vn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ls(r)&&Ys(r.arrayValue,this.value)}}class ra extends Vn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Ys(this.value.arrayValue,r)}}class nl extends Vn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ys(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Ys(this.value.arrayValue,r)}}class ia extends Vn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ls(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>Ys(this.value.arrayValue,a))}}class ec{constructor(e,r=null,a=[],h=[],y=null,b=null,R=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=h,this.limit=y,this.startAt=b,this.endAt=R,this.ue=null}}function ds(d,e=null,r=[],a=[],h=null,y=null,b=null){return new ec(d,e,r,a,h,y,b)}function Os(d){const e=lt(d);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>Ci(a)).join(","),r+="|ob:",r+=e.orderBy.map(a=>{return(y=a).field.canonicalString()+y.dir;var y}).join(","),ie(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>Hr(a)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>Hr(a)).join(",")),e.ue=r}return e.ue}function Po(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<d.orderBy.length;r++)if(!Dr(d.orderBy[r],e.orderBy[r]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let r=0;r<d.filters.length;r++)if(!Rr(d.filters[r],e.filters[r]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!gn(d.startAt,e.startAt)&&gn(d.endAt,e.endAt)}function ka(d){return zt.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function Fa(d,e){return d.filters.filter(r=>r instanceof Vn&&r.field.isEqual(e))}function _i(d,e,r){let a=zi,h=!0;for(const y of Fa(d,e)){let b=zi,R=!0;switch(y.op){case"<":case"<=":b=Zi(y.value);break;case"==":case"in":case">=":b=y.value;break;case">":b=y.value,R=!1;break;case"!=":case"not-in":b=zi}J({value:a,inclusive:h},{value:b,inclusive:R})<0&&(a=b,h=R)}if(null!==r)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=r.position[y];J({value:a,inclusive:h},{value:b,inclusive:r.inclusive})<0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}function xo(d,e,r){let a=ri,h=!0;for(const y of Fa(d,e)){let b=ri,R=!0;switch(y.op){case">=":case">":b=Z(y.value),R=!1;break;case"==":case"in":case"<=":b=y.value;break;case"<":b=y.value,R=!1;break;case"!=":case"not-in":b=ri}Pe({value:a,inclusive:h},{value:b,inclusive:R})>0&&(a=b,h=R)}if(null!==r)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=r.position[y];Pe({value:a,inclusive:h},{value:b,inclusive:r.inclusive})>0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}class zo{constructor(e,r=null,a=[],h=[],y=null,b="F",R=null,V=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=h,this.limit=y,this.limitType=b,this.startAt=R,this.endAt=V,this.ce=null,this.le=null,this.he=null}}function W(d,e,r,a,h,y,b,R){return new zo(d,e,r,a,h,y,b,R)}function ee(d){return new zo(d)}function U(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function ce(d){return null!==d.collectionGroup}function $e(d){const e=lt(d);if(null===e.ce){e.ce=[];const r=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),r.add(y.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let R=new Ar(Jn.comparator);return b.filters.forEach(V=>{V.getFlattenedFilters().forEach(K=>{K.isInequality()&&(R=R.add(K.field))})}),R})(e).forEach(y=>{r.has(y.canonicalString())||y.isKeyField()||e.ce.push(new Xn(y,a))}),r.has(Jn.keyField().canonicalString())||e.ce.push(new Xn(Jn.keyField(),a))}return e.ce}function mn(d){const e=lt(d);return e.le||(e.le=function Cs(d,e){if("F"===d.limitType)return ds(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new Xn(h.field,"desc"===h.dir?"asc":"desc"));const r=d.endAt?new Yt(d.endAt.position,d.endAt.inclusive):null,a=d.startAt?new Yt(d.startAt.position,d.startAt.inclusive):null;return ds(d.path,d.collectionGroup,e,d.filters,d.limit,r,a)}}(e,$e(d))),e.le}function Qs(d,e){const r=d.filters.concat([e]);return new zo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),r,d.limit,d.limitType,d.startAt,d.endAt)}function es(d,e,r){return new zo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,r,d.startAt,d.endAt)}function ho(d,e){return Po(mn(d),mn(e))&&d.limitType===e.limitType}function Rs(d){return`${Os(mn(d))}|lt:${d.limitType}`}function ts(d){return`Query(target=${function(r){let a=r.path.canonicalString();return null!==r.collectionGroup&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(h=>Ii(h)).join(", ")}]`),ie(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(h=>Hr(h)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(h=>Hr(h)).join(",")),`Target(${a})`}(mn(d))}; limitType=${d.limitType})`}function Wo(d,e){return e.isFoundDocument()&&function(a,h){const y=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(y):zt.isDocumentKey(a.path)?a.path.isEqual(y):a.path.isImmediateParentOf(y)}(d,e)&&function(a,h){for(const y of $e(a))if(!y.field.isKeyField()&&null===h.data.field(y.field))return!1;return!0}(d,e)&&function(a,h){for(const y of a.filters)if(!y.matches(h))return!1;return!0}(d,e)&&(h=e,!((a=d).startAt&&!function(b,R,V){const K=Dn(b,R,V);return b.inclusive?K<=0:K<0}(a.startAt,$e(a),h)||a.endAt&&!function(b,R,V){const K=Dn(b,R,V);return b.inclusive?K>=0:K>0}(a.endAt,$e(a),h)));var a,h}function tc(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function Ps(d){return(e,r)=>{let a=!1;for(const h of $e(d)){const y=Ea(h,e,r);if(0!==y)return y;a=a||h.field.isKeyField()}return 0}}function Ea(d,e,r){const a=d.field.isKeyField()?zt.comparator(e.key,r.key):function(y,b,R){const V=b.data.field(y),K=R.data.field(y);return null!==V&&null!==K?ki(V,K):qe()}(d.field,e,r);switch(d.dir){case"asc":return a;case"desc":return-1*a;default:return qe()}}class Wi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a)for(const[h,y]of a)if(this.equalsFn(h,e))return y}has(e){return void 0!==this.get(e)}set(e,r){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,r]],void this.innerSize++;for(let y=0;y<h.length;y++)if(this.equalsFn(h[y][0],e))return void(h[y]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[r]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,(r,a)=>{for(const[h,y]of a)e(h,y)})}isEmpty(){return bs(this.inner)}size(){return this.innerSize}}const sa=new Kr(zt.comparator);function ms(){return sa}const rl=new Kr(zt.comparator);function fo(...d){let e=rl;for(const r of d)e=e.insert(r.key,r);return e}function oa(d){let e=rl;return d.forEach((r,a)=>e=e.insert(r,a.overlayedDocument)),e}function Is(){return La()}function ba(){return La()}function La(){return new Wi(d=>d.toString(),(d,e)=>d.isEqual(e))}const Sl=new Kr(zt.comparator),Du=new Ar(zt.comparator);function mr(...d){let e=Du;for(const r of d)e=e.add(r);return e}const Rl=new Ar(Zt);function _o(){return Rl}function yo(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:me(e)?"-0":e}}function il(d){return{integerValue:""+d}}function Su(d,e){return pt(e)?il(e):yo(d,e)}class sl{constructor(){this._=void 0}}function Hh(d,e,r){return d instanceof Pl?function(h,y){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return y&&bi(y)&&(y=Bi(y)),y&&(b.fields.__previous_value__=y),{mapValue:b}}(r,e):d instanceof Ko?nc(d,e):d instanceof Va?al(d,e):function(h,y){const b=Ru(h,y),R=ja(b)+ja(h.Pe);return Ji(b)&&Ji(h.Pe)?il(R):yo(h.serializer,R)}(d,e)}function ol(d,e,r){return d instanceof Ko?nc(d,e):d instanceof Va?al(d,e):r}function Ru(d,e){return d instanceof Ua?Ji(a=e)||(y=a)&&"doubleValue"in y?e:{integerValue:0}:null;var a,y}class Pl extends sl{}class Ko extends sl{constructor(e){super(),this.elements=e}}function nc(d,e){const r=ll(e);for(const a of d.elements)r.some(h=>as(h,a))||r.push(a);return{arrayValue:{values:r}}}class Va extends sl{constructor(e){super(),this.elements=e}}function al(d,e){let r=ll(e);for(const a of d.elements)r=r.filter(h=>!as(h,a));return{arrayValue:{values:r}}}class Ua extends sl{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function ja(d){return ni(d.integerValue||d.doubleValue)}function ll(d){return ls(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class P{constructor(e,r){this.field=e,this.transform=r}}class B{constructor(e,r){this.version=e,this.transformResults=r}}class X{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new X}static exists(e){return new X(void 0,e)}static updateTime(e){return new X(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oe(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class wt{}function Ut(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new $i(d.key,X.none()):new _r(d.key,d.data,X.none());{const r=d.data,a=Ue.empty();let h=new Ar(Jn.comparator);for(let y of e.fields)if(!h.has(y)){let b=r.field(y);null===b&&y.length>1&&(y=y.popLast(),b=r.field(y)),null===b?a.delete(y):a.set(y,b),h=h.add(y)}return new ci(d.key,a,new hi(h.toArray()),X.none())}}function jn(d,e,r){d instanceof _r?function(h,y,b){const R=h.value.clone(),V=Ai(h.fieldTransforms,y,b.transformResults);R.setAll(V),y.convertToFoundDocument(b.version,R).setHasCommittedMutations()}(d,e,r):d instanceof ci?function(h,y,b){if(!Oe(h.precondition,y))return void y.convertToUnknownDocument(b.version);const R=Ai(h.fieldTransforms,y,b.transformResults),V=y.data;V.setAll(wi(h)),V.setAll(R),y.convertToFoundDocument(b.version,V).setHasCommittedMutations()}(d,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function zr(d,e,r,a){return d instanceof _r?function(y,b,R,V){if(!Oe(y.precondition,b))return R;const K=y.value.clone(),oe=hs(y.fieldTransforms,V,b);return K.setAll(oe),b.convertToFoundDocument(b.version,K).setHasLocalMutations(),null}(d,e,r,a):d instanceof ci?function(y,b,R,V){if(!Oe(y.precondition,b))return R;const K=hs(y.fieldTransforms,V,b),oe=b.data;return oe.setAll(wi(y)),oe.setAll(K),b.convertToFoundDocument(b.version,oe).setHasLocalMutations(),null===R?null:R.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(be=>be.field))}(d,e,r,a):(R=r,Oe(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):R);var b,R}function si(d,e){let r=null;for(const a of d.fieldTransforms){const h=e.data.field(a.field),y=Ru(a.transform,h||null);null!=y&&(null===r&&(r=Ue.empty()),r.set(a.field,y))}return r||null}function Qr(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=d.fieldTransforms)&&void 0===h||a&&h&&Hn(a,h,(y,b)=>function ne(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(a=d.transform)instanceof Ko&&h instanceof Ko||a instanceof Va&&h instanceof Va?Hn(a.elements,h.elements,as):a instanceof Ua&&h instanceof Ua?as(a.Pe,h.Pe):a instanceof Pl&&h instanceof Pl);var a,h}(y,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var a,h}class _r extends wt{constructor(e,r,a,h=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ci extends wt{constructor(e,r,a,h,y=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=h,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function wi(d){const e=new Map;return d.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=d.data.field(r);e.set(r,a)}}),e}function Ai(d,e,r){const a=new Map;xt(d.length===r.length);for(let h=0;h<r.length;h++){const y=d[h],b=y.transform,R=e.data.field(y.field);a.set(y.field,ol(b,R,r[h]))}return a}function hs(d,e,r){const a=new Map;for(const h of d){const y=h.transform,b=r.data.field(h.field);a.set(h.field,Hh(y,b,e))}return a}class $i extends wt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ro extends wt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ki{constructor(e,r,a,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const y=this.mutations[h];y.key.isEqual(e.key)&&jn(y,e,a[h])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=zr(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=zr(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=ba();return this.mutations.forEach(h=>{const y=e.get(h.key),b=y.overlayedDocument;let R=this.applyToLocalView(b,y.mutatedFields);R=r.has(h.key)?null:R;const V=Ut(b,R);null!==V&&a.set(h.key,V),b.isValidDocument()||b.convertToNoDocument($t.min())}),a}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),mr())}isEqual(e){return this.batchId===e.batchId&&Hn(this.mutations,e.mutations,(r,a)=>Qr(r,a))&&Hn(this.baseMutations,e.baseMutations,(r,a)=>Qr(r,a))}}class Mo{constructor(e,r,a,h){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=h}static from(e,r,a){xt(e.mutations.length===a.length);let h=Sl;const y=e.mutations;for(let b=0;b<y.length;b++)h=h.insert(y[b].key,a[b].version);return new Mo(e,r,a,h)}}class ns{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Cd{constructor(e,r){this.count=e,this.unchangedNames=r}}var Tr,Pr;function Bs(d){switch(d){default:return qe();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function Ui(d){if(void 0===d)return Je("GRPC error has no .code"),ke.UNKNOWN;switch(d){case Tr.OK:return ke.OK;case Tr.CANCELLED:return ke.CANCELLED;case Tr.UNKNOWN:return ke.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return ke.INTERNAL;case Tr.UNAVAILABLE:return ke.UNAVAILABLE;case Tr.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Tr.NOT_FOUND:return ke.NOT_FOUND;case Tr.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Tr.ABORTED:return ke.ABORTED;case Tr.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Tr.DATA_LOSS:return ke.DATA_LOSS;default:return qe()}}(Pr=Tr||(Tr={}))[Pr.OK=0]="OK",Pr[Pr.CANCELLED=1]="CANCELLED",Pr[Pr.UNKNOWN=2]="UNKNOWN",Pr[Pr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pr[Pr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pr[Pr.NOT_FOUND=5]="NOT_FOUND",Pr[Pr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pr[Pr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pr[Pr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pr[Pr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pr[Pr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pr[Pr.ABORTED=10]="ABORTED",Pr[Pr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pr[Pr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pr[Pr.INTERNAL=13]="INTERNAL",Pr[Pr.UNAVAILABLE=14]="UNAVAILABLE",Pr[Pr.DATA_LOSS=15]="DATA_LOSS";function Pu(){return new TextEncoder}const cl=new Ve([4294967295,4294967295],0);function Gi(d){const e=Pu().encode(d),r=new xe;return r.update(e),new Uint8Array(r.digest())}function zh(d){const e=new DataView(d.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new Ve([r,a],0),new Ve([h,y],0)]}class xu{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Oo(`Invalid padding: ${r}`);if(a<0)throw new Oo(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new Oo(`Invalid hash count: ${a}`);if(0===e.length&&0!==r)throw new Oo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ve.fromNumber(this.Ie)}Ee(e,r,a){let h=e.add(r.multiply(Ve.fromNumber(a)));return 1===h.compare(cl)&&(h=new Ve([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Gi(e),[a,h]=zh(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,h,y);if(!this.de(b))return!1}return!0}static create(e,r,a){const h=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),b=new xu(y,h,r);return a.forEach(R=>b.insert(R)),b}insert(e){if(0===this.Ie)return;const r=Gi(e),[a,h]=zh(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,h,y);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ws{constructor(e,r,a,h,y){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const h=new Map;return h.set(e,Ta.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new ws($t.min(),h,new Kr(Zt),ms(),mr())}}class Ta{constructor(e,r,a,h,y){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new Ta(a,r,mr(),mr(),mr())}}class rc{constructor(e,r,a,h){this.Re=e,this.removedTargetIds=r,this.key=a,this.Ve=h}}class Mu{constructor(e,r){this.targetId=e,this.me=r}}class Ou{constructor(e,r,a=Ri.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=h}}class Id{constructor(){this.fe=0,this.ge=ic(),this.pe=Ri.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=mr(),r=mr(),a=mr();return this.ge.forEach((h,y)=>{switch(y){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:a=a.add(h);break;default:qe()}}),new Ta(this.pe,this.ye,e,r,a)}Ce(){this.we=!1,this.ge=ic()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Nu{constructor(e){this.Le=e,this.Be=new Map,this.ke=ms(),this.qe=lr(),this.Qe=new Kr(Zt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const a=this.Ge(r);switch(e.state){case 0:this.ze(r)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),a.De(e.resumeToken));break;default:qe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((a,h)=>{this.ze(h)&&r(h)})}He(e){const r=e.targetId,a=e.me.count,h=this.Je(r);if(h){const y=h.target;if(ka(y))if(0===a){const b=new zt(y.path);this.Ue(r,b,Et.newNoDocument(b,$t.min()))}else xt(1===a);else{const b=this.Ye(r);if(b!==a){const R=this.Ze(e),V=R?this.Xe(R,e,b):1;0!==V&&(this.je(r),this.Qe=this.Qe.insert(r,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:y=0}=r;let b,R;try{b=Us(a).toUint8Array()}catch(V){if(V instanceof Na)return Xt("Decoding the base64 bloom filter in existence filter failed ("+V.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw V}try{R=new xu(b,h,y)}catch(V){return Xt(V instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",V),null}return 0===R.Ie?null:R}Xe(e,r,a){return r.me.count===a-this.nt(e,r.targetId)?0:2}nt(e,r){const a=this.Le.getRemoteKeysForTarget(r);let h=0;return a.forEach(y=>{const b=this.Le.tt(),R=`projects/${b.projectId}/databases/${b.database}/documents/${y.path.canonicalString()}`;e.mightContain(R)||(this.Ue(r,y,null),h++)}),h}rt(e){const r=new Map;this.Be.forEach((y,b)=>{const R=this.Je(b);if(R){if(y.current&&ka(R.target)){const V=new zt(R.target.path);null!==this.ke.get(V)||this.it(b,V)||this.Ue(b,V,Et.newNoDocument(V,e))}y.be&&(r.set(b,y.ve()),y.Ce())}});let a=mr();this.qe.forEach((y,b)=>{let R=!0;b.forEachWhile(V=>{const K=this.Je(V);return!K||"TargetPurposeLimboResolution"===K.purpose||(R=!1,!1)}),R&&(a=a.add(y))}),this.ke.forEach((y,b)=>b.setReadTime(e));const h=new ws(e,r,this.Qe,this.ke,a);return this.ke=ms(),this.qe=lr(),this.Qe=new Kr(Zt),h}$e(e,r){if(!this.ze(e))return;const a=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,a),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,r)?h.Fe(r,1):h.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),a&&(this.ke=this.ke.insert(r,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Id,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ar(Zt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ee("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Id),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function lr(){return new Kr(zt.comparator)}function ic(){return new Kr(zt.comparator)}const Vc={asc:"ASCENDING",desc:"DESCENDING"},qo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uc={and:"AND",or:"OR"};class wd{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function nn(d,e){return d.useProto3Json||ie(e)?e:{value:e}}function No(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ku(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function sc(d,e){return No(d,e.toTimestamp())}function Di(d){return xt(!!d),$t.fromTimestamp(function(r){const a=qs(r);return new Kt(a.seconds,a.nanos)}(d))}function Ca(d,e){return Fu(d,e).canonicalString()}function Fu(d,e){const r=(h=d,new an(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?r:r.child(e)}function Gt(d){const e=an.fromString(d);return xt(w(e)),e}function wr(d,e){return Ca(d.databaseId,e.path)}function zn(d,e){const r=Gt(e);if(r.get(1)!==d.databaseId.projectId)throw new st(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+d.databaseId.projectId);if(r.get(3)!==d.databaseId.database)throw new st(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+d.databaseId.database);return new zt(ul(r))}function qi(d,e){return Ca(d.databaseId,e)}function $s(d){const e=Gt(d);return 4===e.length?an.emptyPath():ul(e)}function jc(d){return new an(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function ul(d){return xt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function ko(d,e,r){return{name:wr(d,e),fields:r.value.mapValue.fields}}function oc(d,e,r){const a=zn(d,e.name),h=Di(e.updateTime),y=e.createTime?Di(e.createTime):$t.min(),b=new Ue({mapValue:{fields:e.fields}}),R=Et.newFoundDocument(a,h,y,b);return r&&R.setHasCommittedMutations(),r?R.setHasCommittedMutations():R}function dl(d,e){let r;if(e instanceof _r)r={update:ko(d,e.key,e.value)};else if(e instanceof $i)r={delete:wr(d,e.key)};else if(e instanceof ci)r={update:ko(d,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof ro))return qe();r={verify:wr(d,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(y,b){const R=b.transform;if(R instanceof Pl)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof Ko)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof Va)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Ua)return{fieldPath:b.field.canonicalString(),increment:R.Pe};throw qe()}(0,a))),e.precondition.isNone||(r.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:sc(d,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:qe()),r;var y}function hl(d,e){const r=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?X.updateTime(Di(y.updateTime)):void 0!==y.exists?X.exists(y.exists):X.none():X.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,R){let V=null;"setToServerValue"in R?(xt("REQUEST_TIME"===R.setToServerValue),V=new Pl):"appendMissingElements"in R?V=new Ko(R.appendMissingElements.values||[]):"removeAllFromArray"in R?V=new Va(R.removeAllFromArray.values||[]):"increment"in R?V=new Ua(b,R.increment):qe();const K=Jn.fromServerFormat(R.fieldPath);return new P(K,V)}(d,h)):[];var y;if(e.update){const h=zn(d,e.update.name),y=new Ue({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new hi((e.updateMask.fieldPaths||[]).map(oe=>Jn.fromServerFormat(oe)));return new ci(h,y,b,r,a)}return new _r(h,y,r,a)}if(e.delete){const h=zn(d,e.delete);return new $i(h,r)}if(e.verify){const h=zn(d,e.verify);return new ro(h,r)}return qe()}function po(d,e){return{documents:[qi(d,e.path)]}}function Ba(d,e){const r={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=qi(d,h);const y=function(K){if(0!==K.length)return D(tr.create(K,"and"))}(e.filters);y&&(r.structuredQuery.where=y);const b=function(K){if(0!==K.length)return K.map(oe=>{return{field:Ia((We=oe).field),direction:Qf(We.dir)};var We})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const R=nn(d,e.limit);return null!==R&&(r.structuredQuery.limit=R),e.startAt&&(r.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:r,parent:h};var K}function go(d){let e=$s(d.parent);const r=d.structuredQuery,a=r.from?r.from.length:0;let h=null;if(a>0){xt(1===a);const oe=r.from[0];oe.allDescendants?h=oe.collectionId:e=e.child(oe.collectionId)}let y=[];r.where&&(y=function(be){const We=pl(be);return We instanceof tr&&Xr(We)?We.getFilters():[We]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(We=>{return new Xn(xl((Wt=We).field),function(rn){switch(rn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Wt.direction));var Wt}));let R=null;r.limit&&(R=function(be){let We;return We="object"==typeof be?be.value:be,ie(We)?null:We}(r.limit));let V=null;var be;r.startAt&&(V=new Yt((be=r.startAt).values||[],!!be.before));let K=null;return r.endAt&&(K=function(be){return new Yt(be.values||[],!be.before)}(r.endAt)),W(e,h,b,y,R,"F",V,K)}function pl(d){return void 0!==d.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=xl(r.unaryFilter.field);return Vn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=xl(r.unaryFilter.field);return Vn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=xl(r.unaryFilter.field);return Vn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=xl(r.unaryFilter.field);return Vn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(d):void 0!==d.fieldFilter?Vn.create(xl((r=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==d.compositeFilter?function(r){return tr.create(r.compositeFilter.filters.map(a=>pl(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return qe()}}(r.compositeFilter.op))}(d):qe();var r}function Qf(d){return Vc[d]}function gl(d){return qo[d]}function Vu(d){return Uc[d]}function Ia(d){return{fieldPath:d.canonicalString()}}function xl(d){return Jn.fromServerFormat(d.fieldPath)}function D(d){return d instanceof Vn?function(r){if("=="===r.op){if(js(r.value))return{unaryFilter:{field:Ia(r.field),op:"IS_NAN"}};if(Fi(r.value))return{unaryFilter:{field:Ia(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(js(r.value))return{unaryFilter:{field:Ia(r.field),op:"IS_NOT_NAN"}};if(Fi(r.value))return{unaryFilter:{field:Ia(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ia(r.field),op:gl(r.op),value:r.value}}}(d):d instanceof tr?function(r){const a=r.getFilters().map(h=>D(h));return 1===a.length?a[0]:{compositeFilter:{op:Vu(r.op),filters:a}}}(d):qe()}function O(d){const e=[];return d.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class N{constructor(e,r,a,h,y=$t.min(),b=$t.min(),R=Ri.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=R,this.expectedCount=V}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G{constructor(e){this.ct=e}}function Me(d,e){const r=e.key,a={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Dt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:wr(y=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:No(y,b.version.toTimestamp()),createTime:No(y,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:r.path.toArray(),readTime:bt(e.version)};else{if(!e.isUnknownDocument())return qe();a.unknownDocument={path:r.path.toArray(),version:bt(e.version)}}var y,b;return a}function Dt(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function bt(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function In(d){const e=new Kt(d.seconds,d.nanoseconds);return $t.fromTimestamp(e)}function yr(d,e){const r=(e.baseMutations||[]).map(y=>hl(d.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const a=e.mutations.map(y=>hl(d.ct,y)),h=Kt.fromMillis(e.localWriteTimeMs);return new Ki(e.batchId,h,r,a)}function sr(d){const e=In(d.readTime),r=void 0!==d.lastLimboFreeSnapshotVersion?In(d.lastLimboFreeSnapshotVersion):$t.min();let a;return a=void 0!==d.query.documents?(xt(1===(y=d.query).documents.length),mn(ee($s(y.documents[0])))):function(y){return mn(go(y))}(d.query),new N(a,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,r,Ri.fromBase64String(d.resumeToken));var y}function Or(d,e){const r=bt(e.snapshotVersion),a=bt(e.lastLimboFreeSnapshotVersion);let h;h=ka(e.target)?po(d.ct,e.target):Ba(d.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Os(e.target),readTime:r,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function fi(d){const e=go({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?es(e,e.limit,"L"):e}function ml(d,e){return new ns(e.largestBatchId,hl(d.ct,e.overlayMutation))}function Ml(d,e){const r=e.path.lastSegment();return[d,Ot(e.path.popLast()),r]}function wa(d,e,r,a){return{indexId:d,uid:e,sequenceNumber:r,readTime:bt(a.readTime),documentKey:Ot(a.documentKey.path),largestBatchId:a.largestBatchId}}class Yo{getBundleMetadata(e,r){return $a(e).get(r).next(a=>{if(a)return{id:(y=a).bundleId,createTime:In(y.createTime),version:y.version};var y})}saveBundleMetadata(e,r){return $a(e).put({bundleId:(h=r).id,createTime:bt(Di(h.createTime)),version:h.version});var h}getNamedQuery(e,r){return Bc(e).get(r).next(a=>{if(a)return{name:(y=a).name,query:fi(y.bundledQuery),readTime:In(y.readTime)};var y})}saveNamedQuery(e,r){return Bc(e).put({name:(h=r).name,readTime:bt(Di(h.readTime)),bundledQuery:h.bundledQuery});var h}}function $a(d){return ji(d,"bundles")}function Bc(d){return ji(d,"namedQueries")}class _l{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new _l(e,r.uid||"")}getOverlay(e,r){return Fo(e).get(Ml(this.userId,r)).next(a=>a?ml(this.serializer,a):null)}getOverlays(e,r){const a=Is();return ot.forEach(r,h=>this.getOverlay(e,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(e,r,a){const h=[];return a.forEach((y,b)=>{const R=new ns(r,b);h.push(this.ht(e,R))}),ot.waitFor(h)}removeOverlaysForBatchId(e,r,a){const h=new Set;r.forEach(b=>h.add(Ot(b.getCollectionPath())));const y=[];return h.forEach(b=>{const R=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);y.push(Fo(e).j("collectionPathOverlayIndex",R))}),ot.waitFor(y)}getOverlaysForCollection(e,r,a){const h=Is(),y=Ot(r),b=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,Number.POSITIVE_INFINITY],!0);return Fo(e).U("collectionPathOverlayIndex",b).next(R=>{for(const V of R){const K=ml(this.serializer,V);h.set(K.getKey(),K)}return h})}getOverlaysForCollectionGroup(e,r,a,h){const y=Is();let b;const R=IDBKeyRange.bound([this.userId,r,a],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Fo(e).J({index:"collectionGroupOverlayIndex",range:R},(V,K,oe)=>{const be=ml(this.serializer,K);y.size()<h||be.largestBatchId===b?(y.set(be.getKey(),be),b=be.largestBatchId):oe.done()}).next(()=>y)}ht(e,r){return Fo(e).put(function(h,y,b){const[R,V,K]=Ml(y,b.mutation.key);return{userId:y,collectionPath:V,documentId:K,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:dl(h.ct,b.mutation)}}(this.serializer,this.userId,r))}}function Fo(d){return ji(d,"documentOverlays")}class Wh{Pt(e){return ji(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const a=r?.value;return a?Ri.fromUint8Array(a):Ri.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class Ga{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(ni(e.integerValue));else if("doubleValue"in e){const a=ni(e.doubleValue);isNaN(a)?this.dt(r,13):(this.dt(r,15),me(a)?r.At(0):r.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(r,20),"string"==typeof a&&(a=qs(a)),r.Rt(`${a.seconds||""}`),r.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Us(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(r,45),r.At(a.latitude||0),r.At(a.longitude||0)}else"mapValue"in e?Gn(e)?this.dt(r,Number.MAX_SAFE_INTEGER):cs(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):qe()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const a=e.fields||{};this.dt(r,55);for(const h of Object.keys(a))this.Vt(h,r),this.Tt(a[h],r)}wt(e,r){var a,h;const y=e.fields||{};this.dt(r,53);const b="value",R=(null===(h=null===(a=y[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(r,15),r.At(ni(R)),this.Vt(b,r),this.Tt(y[b],r)}bt(e,r){const a=e.values||[];this.dt(r,50);for(const h of a)this.Tt(h,r)}yt(e,r){this.dt(r,37),zt.fromName(e).path.forEach(a=>{this.dt(r,60),this.Dt(a,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function $c(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Uu(d){const e=64-function(a){let h=0;for(let y=0;y<8;++y){const b=$c(255&a[y]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}Ga.vt=new Ga;class ju{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ft(a.value),a=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ot(a.value),a=r.next();this.Nt()}Lt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=r.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=r.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const r=this.qt(e),a=Uu(r);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Kt(e){const r=this.qt(e),a=Uu(r);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(y){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,y,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&r[0]);r[0]^=a?255:128;for(let h=1;h<r.length;++h)r[h]^=a?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let a=2*this.buffer.length;a<r&&(a=r);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class Bu{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class $u{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Ol{constructor(){this.jt=new ju,this.Ht=new Bu(this.jt),this.Jt=new $u(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Lo{constructor(e,r,a,h){this.indexId=e,this.documentKey=r,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(r);return a.set(this.directionalValue,0),r!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Lo(this.indexId,this.documentKey,this.arrayValue,a)}}function aa(d,e){let r=d.indexId-e.indexId;return 0!==r?r:(r=Nl(d.arrayValue,e.arrayValue),0!==r?r:(r=Nl(d.directionalValue,e.directionalValue),0!==r?r:zt.comparator(d.documentKey,e.documentKey)))}function Nl(d,e){for(let r=0;r<d.length&&r<e.length;++r){const a=d[r]-e[r];if(0!==a)return a}return d.length-e.length}class Kh{constructor(e){this.Xt=new Ar((r,a)=>Jn.comparator(r.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const a=r;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if(xt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Wn(e);if(void 0!==r&&!this.sn(r))return!1;const a=Cn(e);let h=new Set,y=0,b=0;for(;y<a.length&&this.sn(a[y]);++y)h=h.add(a[y].fieldPath.canonicalString());if(y===a.length)return!0;if(this.Xt.size>0){const R=this.Xt.getIterator().getNext();if(!h.has(R.field.canonicalString())){const V=a[y];if(!this.on(R,V)||!this._n(this.en[b++],V))return!1}++y}for(;y<a.length;++y)if(b>=this.en.length||!this._n(this.en[b++],a[y]))return!1;return!0}an(){if(this.nn)return null;let e=new Ar(Jn.comparator);const r=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)r.push(new Sr(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),r.push(new Sr(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),r.push(new Sr(a.field,"asc"===a.dir?0:1)));return new wn(wn.UNKNOWN_ID,this.collectionId,r,Kn.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Sd(d){var e,r;if(xt(d instanceof Vn||d instanceof tr),d instanceof Vn){if(d instanceof ra){const h=(null===(r=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(y=>Vn.create(d.field,"==",y)))||[];return tr.create(h,"or")}return d}const a=d.filters.map(h=>Sd(h));return tr.create(a,d.op)}function wg(d){if(0===d.getFilters().length)return[];const e=Zf(Sd(d));return xt(Jf(e)),Rd(e)||Gu(e)?[e]:e.getFilters()}function Rd(d){return d instanceof Vn}function Gu(d){return d instanceof tr&&Xr(d)}function Jf(d){return Rd(d)||Gu(d)||function(r){if(r instanceof tr&&ii(r)){for(const a of r.getFilters())if(!Rd(a)&&!Gu(a))return!1;return!0}return!1}(d)}function Zf(d){if(xt(d instanceof Vn||d instanceof tr),d instanceof Vn)return d;if(1===d.filters.length)return Zf(d.filters[0]);const e=d.filters.map(a=>Zf(a));let r=tr.create(e,d.op);return r=Pd(r),Jf(r)?r:(xt(r instanceof tr),xt(kr(r)),xt(r.filters.length>1),r.filters.reduce((a,h)=>Hu(a,h)))}function Hu(d,e){let r;return xt(d instanceof Vn||d instanceof tr),xt(e instanceof Vn||e instanceof tr),r=d instanceof Vn?e instanceof Vn?tr.create([d,e],"and"):kl(d,e):e instanceof Vn?kl(e,d):function(h,y){if(xt(h.filters.length>0&&y.filters.length>0),kr(h)&&kr(y))return Ti(h,y.getFilters());const b=ii(h)?h:y,R=ii(h)?y:h,V=b.filters.map(K=>Hu(K,R));return tr.create(V,"or")}(d,e),Pd(r)}function kl(d,e){if(kr(e))return Ti(e,d.getFilters());{const r=e.filters.map(a=>Hu(d,a));return tr.create(r,"or")}}function Pd(d){if(xt(d instanceof Vn||d instanceof tr),d instanceof Vn)return d;const e=d.getFilters();if(1===e.length)return Pd(e[0]);if(Vi(d))return d;const r=e.map(h=>Pd(h)),a=[];return r.forEach(h=>{h instanceof Vn?a.push(h):h instanceof tr&&(h.op===d.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:tr.create(a,d.op)}class ac{constructor(){this.un=new zu}addToCollectionParentIndex(e,r){return this.un.add(r),ot.resolve()}getCollectionParents(e,r){return ot.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ot.resolve()}deleteFieldIndex(e,r){return ot.resolve()}deleteAllFieldIndexes(e){return ot.resolve()}createTargetIndexes(e,r){return ot.resolve()}getDocumentsMatchingTarget(e,r){return ot.resolve(null)}getIndexType(e,r){return ot.resolve(0)}getFieldIndexes(e,r){return ot.resolve([])}getNextCollectionGroupToUpdate(e){return ot.resolve(null)}getMinOffset(e,r){return ot.resolve(fn.min())}getMinOffsetFromCollectionGroup(e,r){return ot.resolve(fn.min())}updateCollectionGroup(e,r,a){return ot.resolve()}updateIndexEntries(e,r){return ot.resolve()}}class zu{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r]||new Ar(an.comparator),y=!h.has(a);return this.index[r]=h.add(a),y}has(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r];return h&&h.has(a)}getEntries(e){return(this.index[e]||new Ar(an.comparator)).toArray()}}const Xo=new Uint8Array(0);class ep{constructor(e,r){this.databaseId=r,this.cn=new zu,this.ln=new Wi(a=>Os(a),(a,h)=>Po(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const a=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const y={collectionId:a,parent:Ot(h)};return tp(e).put(y)}return ot.resolve()}getCollectionParents(e,r){const a=[],h=IDBKeyRange.bound([r,""],[xn(r),""],!1,!0);return tp(e).U(h).next(y=>{for(const b of y){if(b.collectionId!==r)break;a.push(Rn(b.parent))}return a})}addFieldIndex(e,r){const a=Wu(e),h={indexId:(R=r).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(V=>[V.fieldPath.canonicalString(),V.kind])};var R;delete h.indexId;const y=a.add(h);if(r.indexState){const b=Eo(e);return y.next(R=>{b.put(wa(R,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return y.next()}deleteFieldIndex(e,r){const a=Wu(e),h=Eo(e),y=vo(e);return a.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Wu(e),a=vo(e),h=Eo(e);return r.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,r){return ot.forEach(this.hn(r),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const y=new Kh(a).an();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,r){const a=vo(e);let h=!0;const y=new Map;return ot.forEach(this.hn(r),b=>this.Pn(e,b).next(R=>{h&&(h=!!R),y.set(b,R)})).next(()=>{if(h){let b=mr();const R=[];return ot.forEach(y,(V,K)=>{var Zn;Ee("IndexedDbIndexManager",`Using index ${Zn=V,`id=${Zn.indexId}|cg=${Zn.collectionGroup}|f=${Zn.fields.map(Nr=>`${Nr.fieldPath}:${Nr.kind}`).join(",")}`} to execute ${Os(r)}`);const oe=function(Zn,Nr){const Mi=Wn(Nr);if(void 0===Mi)return null;for(const ai of Fa(Zn,Mi.fieldPath))switch(ai.op){case"array-contains-any":return ai.value.arrayValue.values||[];case"array-contains":return[ai.value]}return null}(K,V),be=function(Zn,Nr){const Mi=new Map;for(const ai of Cn(Nr))for(const ft of Fa(Zn,ai.fieldPath))switch(ft.op){case"==":case"in":Mi.set(ai.fieldPath.canonicalString(),ft.value);break;case"not-in":case"!=":return Mi.set(ai.fieldPath.canonicalString(),ft.value),Array.from(Mi.values())}return null}(K,V),We=function(Zn,Nr){const Mi=[];let ai=!0;for(const ft of Cn(Nr)){const Be=0===ft.kind?_i(Zn,ft.fieldPath,Zn.startAt):xo(Zn,ft.fieldPath,Zn.startAt);Mi.push(Be.value),ai&&(ai=Be.inclusive)}return new Yt(Mi,ai)}(K,V),At=function(Zn,Nr){const Mi=[];let ai=!0;for(const ft of Cn(Nr)){const Be=0===ft.kind?xo(Zn,ft.fieldPath,Zn.endAt):_i(Zn,ft.fieldPath,Zn.endAt);Mi.push(Be.value),ai&&(ai=Be.inclusive)}return new Yt(Mi,ai)}(K,V),Wt=this.In(V,K,We),dn=this.In(V,K,At),rn=this.Tn(V,K,be),Yn=this.En(V.indexId,oe,Wt,We.inclusive,dn,At.inclusive,rn);return ot.forEach(Yn,cr=>a.G(cr,r.limit).next(Zn=>{Zn.forEach(Nr=>{const Mi=zt.fromSegments(Nr.documentKey);b.has(Mi)||(b=b.add(Mi),R.push(Mi))})}))}).next(()=>R)}return ot.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:wg(tr.create(e.filters,"and")).map(a=>ds(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,a,h,y,b,R){const V=(null!=r?r.length:1)*Math.max(a.length,y.length),K=V/(null!=r?r.length:1),oe=[];for(let be=0;be<V;++be){const We=r?this.dn(r[be/K]):Xo,At=this.An(e,We,a[be%K],h),Wt=this.Rn(e,We,y[be%K],b),dn=R.map(rn=>this.An(e,We,rn,!0));oe.push(...this.createRange(At,Wt,dn))}return oe}An(e,r,a,h){const y=new Lo(e,zt.empty(),r,a);return h?y:y.Zt()}Rn(e,r,a,h){const y=new Lo(e,zt.empty(),r,a);return h?y.Zt():y}Pn(e,r){const a=new Kh(r),h=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,h).next(y=>{let b=null;for(const R of y)a.rn(R)&&(!b||R.fields.length>b.fields.length)&&(b=R);return b})}getIndexType(e,r){let a=2;const h=this.hn(r);return ot.forEach(h,y=>this.Pn(e,y).next(b=>{b?0!==a&&b.fields.length<function(V){let K=new Ar(Jn.comparator),oe=!1;for(const be of V.filters)for(const We of be.getFlattenedFilters())We.field.isKeyField()||("array-contains"===We.op||"array-contains-any"===We.op?oe=!0:K=K.add(We.field));for(const be of V.orderBy)be.field.isKeyField()||(K=K.add(be.field));return K.size+(oe?1:0)}(y)&&(a=1):a=0})).next(()=>null!==r.limit&&h.length>1&&2===a?1:a)}Vn(e,r){const a=new Ol;for(const h of Cn(e)){const y=r.data.field(h.fieldPath);if(null==y)return null;const b=a.Yt(h.kind);Ga.vt.It(y,b)}return a.zt()}dn(e){const r=new Ol;return Ga.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const a=new Ol;return Ga.vt.It(hr(this.databaseId,r),a.Yt(function(y){const b=Cn(y);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,r,a){if(null===a)return[];let h=[];h.push(new Ol);let y=0;for(const b of Cn(e)){const R=a[y++];for(const V of h)if(this.fn(r,b.fieldPath)&&ls(R))h=this.gn(h,b,R);else{const K=V.Yt(b.kind);Ga.vt.It(R,K)}}return this.pn(h)}In(e,r,a){return this.Tn(e,r,a.position)}pn(e){const r=[];for(let a=0;a<e.length;++a)r[a]=e[a].zt();return r}gn(e,r,a){const h=[...e],y=[];for(const b of a.arrayValue.values||[])for(const R of h){const V=new Ol;V.seed(R.zt()),Ga.vt.It(b,V.Yt(r.kind)),y.push(V)}return y}fn(e,r){return!!e.filters.find(a=>a instanceof Vn&&a.field.isEqual(r)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,r){const a=Wu(e),h=Eo(e);return(r?a.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):a.U()).next(y=>{const b=[];return ot.forEach(y,R=>h.get([R.indexId,this.uid]).next(V=>{b.push(function(oe,be){const We=be?new Kn(be.sequenceNumber,new fn(In(be.readTime),new zt(Rn(be.documentKey)),be.largestBatchId)):Kn.empty(),At=oe.fields.map(([Wt,dn])=>new Sr(Jn.fromServerFormat(Wt),dn));return new wn(oe.indexId,oe.collectionGroup,At,We)}(R,V))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((a,h)=>{const y=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==y?y:Zt(a.collectionGroup,h.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,a){const h=Wu(e),y=Eo(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(R=>ot.forEach(R,V=>y.put(wa(V.indexId,this.uid,b,a)))))}updateIndexEntries(e,r){const a=new Map;return ot.forEach(r,(h,y)=>{const b=a.get(h.collectionGroup);return(b?ot.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(R=>(a.set(h.collectionGroup,R),ot.forEach(R,V=>this.wn(e,h,V).next(K=>{const oe=this.Sn(y,V);return K.isEqual(oe)?ot.resolve():this.bn(e,y,V,K,oe)}))))})}Dn(e,r,a,h){return vo(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,r.key),documentKey:r.key.path.toArray()})}vn(e,r,a,h){return vo(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,r.key),r.key.path.toArray()])}wn(e,r,a){const h=vo(e);let y=new Ar(aa);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,r)])},(b,R)=>{y=y.add(new Lo(a.indexId,r,R.arrayValue,R.directionalValue))}).next(()=>y)}Sn(e,r){let a=new Ar(aa);const h=this.Vn(r,e);if(null==h)return a;const y=Wn(r);if(null!=y){const b=e.data.field(y.fieldPath);if(ls(b))for(const R of b.arrayValue.values||[])a=a.add(new Lo(r.indexId,e.key,this.dn(R),h))}else a=a.add(new Lo(r.indexId,e.key,Xo,h));return a}bn(e,r,a,h,y){Ee("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(V,K,oe,be,We){const At=V.getIterator(),Wt=K.getIterator();let dn=Ro(At),rn=Ro(Wt);for(;dn||rn;){let Yn=!1,cr=!1;if(dn&&rn){const Zn=oe(dn,rn);Zn<0?cr=!0:Zn>0&&(Yn=!0)}else null!=dn?cr=!0:Yn=!0;Yn?(be(rn),rn=Ro(Wt)):cr?(We(dn),dn=Ro(At)):(dn=Ro(At),rn=Ro(Wt))}}(h,y,aa,R=>{b.push(this.Dn(e,r,a,R))},R=>{b.push(this.vn(e,r,a,R))}),ot.waitFor(b)}yn(e){let r=1;return Eo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,y)=>{y.done(),r=h.sequenceNumber+1}).next(()=>r)}createRange(e,r,a){a=a.sort((b,R)=>aa(b,R)).filter((b,R,V)=>!R||0!==aa(b,V[R-1]));const h=[];h.push(e);for(const b of a){const R=aa(b,e),V=aa(b,r);if(0===R)h[0]=e.Zt();else if(R>0&&V<0)h.push(b),h.push(b.Zt());else if(V>0)break}h.push(r);const y=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];y.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,Xo,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,Xo,[]]))}return y}Cn(e,r){return aa(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(xd)}getMinOffset(e,r){return ot.mapArray(this.hn(r),a=>this.Pn(e,a).next(h=>h||qe())).next(xd)}}function tp(d){return ji(d,"collectionParents")}function vo(d){return ji(d,"indexEntries")}function Wu(d){return ji(d,"indexConfiguration")}function Eo(d){return ji(d,"indexState")}function xd(d){xt(0!==d.length);let e=d[0].indexState.offset,r=e.largestBatchId;for(let a=1;a<d.length;a++){const h=d[a].indexState.offset;ti(h,e)<0&&(e=h),r<h.largestBatchId&&(r=h.largestBatchId)}return new fn(e.readTime,e.documentKey,r)}const lc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ns{constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ns(e,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qh(d,e,r){const a=d.store("mutations"),h=d.store("documentMutations"),y=[],b=IDBKeyRange.only(r.batchId);let R=0;const V=a.J({range:b},(oe,be,We)=>(R++,We.delete()));y.push(V.next(()=>{xt(1===R)}));const K=[];for(const oe of r.mutations){const be=Gr(e,oe.key.path,r.batchId);y.push(h.delete(be)),K.push(oe.key)}return ot.waitFor(y).next(()=>K)}function Ha(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw qe();e=d.noDocument}return JSON.stringify(e).length}Ns.DEFAULT_COLLECTION_PERCENTILE=10,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ns.DEFAULT=new Ns(41943040,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ns.DISABLED=new Ns(-1,0,0);class la{constructor(e,r,a,h){this.userId=e,this.serializer=r,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,r,a,h){xt(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new la(y,r,a,h)}checkEmpty(e){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yl(e).J({index:"userMutationsIndex",range:a},(h,y,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,a,h){const y=cc(e),b=yl(e);return b.add({}).next(R=>{xt("number"==typeof R);const V=new Ki(R,r,a,h),K=function(At,Wt,dn){const rn=dn.baseMutations.map(cr=>dl(At.ct,cr)),Yn=dn.mutations.map(cr=>dl(At.ct,cr));return{userId:Wt,batchId:dn.batchId,localWriteTimeMs:dn.localWriteTime.toMillis(),baseMutations:rn,mutations:Yn}}(this.serializer,this.userId,V),oe=[];let be=new Ar((We,At)=>Zt(We.canonicalString(),At.canonicalString()));for(const We of h){const At=Gr(this.userId,We.key.path,R);be=be.add(We.key.path.popLast()),oe.push(b.put(K)),oe.push(y.put(At,dr))}return be.forEach(We=>{oe.push(this.indexManager.addToCollectionParentIndex(e,We))}),e.addOnCommittedListener(()=>{this.Fn[R]=V.keys()}),ot.waitFor(oe).next(()=>V)})}lookupMutationBatch(e,r){return yl(e).get(r).next(a=>a?(xt(a.userId===this.userId),yr(this.serializer,a)):null)}Mn(e,r){return this.Fn[r]?ot.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(a=>{if(a){const h=a.keys();return this.Fn[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const a=r+1,h=IDBKeyRange.lowerBound([this.userId,a]);let y=null;return yl(e).J({index:"userMutationsIndex",range:h},(b,R,V)=>{R.userId===this.userId&&(xt(R.batchId>=a),y=yr(this.serializer,R)),V.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return yl(e).J({index:"userMutationsIndex",range:r,reverse:!0},(h,y,b)=>{a=y.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yl(e).U("userMutationsIndex",r).next(a=>a.map(h=>yr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const a=cn(this.userId,r.path),h=IDBKeyRange.lowerBound(a),y=[];return cc(e).J({range:h},(b,R,V)=>{const[K,oe,be]=b,We=Rn(oe);if(K===this.userId&&r.path.isEqual(We))return yl(e).get(be).next(At=>{if(!At)throw qe();xt(At.userId===this.userId),y.push(yr(this.serializer,At))});V.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Ar(Zt);const h=[];return r.forEach(y=>{const b=cn(this.userId,y.path),R=IDBKeyRange.lowerBound(b),V=cc(e).J({range:R},(K,oe,be)=>{const[We,At,Wt]=K,dn=Rn(At);We===this.userId&&y.path.isEqual(dn)?a=a.add(Wt):be.done()});h.push(V)}),ot.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1,y=cn(this.userId,a),b=IDBKeyRange.lowerBound(y);let R=new Ar(Zt);return cc(e).J({range:b},(V,K,oe)=>{const[be,We,At]=V,Wt=Rn(We);be===this.userId&&a.isPrefixOf(Wt)?Wt.length===h&&(R=R.add(At)):oe.done()}).next(()=>this.xn(e,R))}xn(e,r){const a=[],h=[];return r.forEach(y=>{h.push(yl(e).get(y).next(b=>{if(null===b)throw qe();xt(b.userId===this.userId),a.push(yr(this.serializer,b))}))}),ot.waitFor(h).next(()=>a)}removeMutationBatch(e,r){return qh(e._e,this.userId,r).next(a=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),ot.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ot.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return cc(e).J({range:a},(y,b,R)=>{if(y[0]===this.userId){const V=Rn(y[1]);h.push(V)}else R.done()}).next(()=>{xt(0===h.length)})})}containsKey(e,r){return Gc(e,this.userId,r)}Nn(e){return Ku(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Gc(d,e,r){const a=cn(e,r.path),h=a[1],y=IDBKeyRange.lowerBound(a);let b=!1;return cc(d).J({range:y,H:!0},(R,V,K)=>{const[oe,be,We]=R;oe===e&&be===h&&(b=!0),K.done()}).next(()=>b)}function yl(d){return ji(d,"mutations")}function cc(d){return ji(d,"documentMutations")}function Ku(d){return ji(d,"mutationQueues")}class Fl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fl(0)}static kn(){return new Fl(-1)}}class Ag{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const a=new Fl(r.highestTargetId);return r.highestTargetId=a.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>$t.fromTimestamp(new Kt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=r,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Qn(e,h)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(r,a),this.Qn(e,a))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Aa(e).delete(r.targetId)).next(()=>this.qn(e)).next(a=>(xt(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,r,a){let h=0;const y=[];return Aa(e).J((b,R)=>{const V=sr(R);V.sequenceNumber<=r&&null===a.get(V.targetId)&&(h++,y.push(this.removeTargetData(e,V)))}).next(()=>ot.waitFor(y)).next(()=>h)}forEachTarget(e,r){return Aa(e).J((a,h)=>{const y=sr(h);r(y)})}qn(e){return za(e).get("targetGlobalKey").next(r=>(xt(null!==r),r))}Qn(e,r){return za(e).put("targetGlobalKey",r)}Kn(e,r){return Aa(e).put(Or(this.serializer,r))}$n(e,r){let a=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,a=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const a=Os(r),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let y=null;return Aa(e).J({range:h,index:"queryTargetsIndex"},(b,R,V)=>{const K=sr(R);Po(r,K.target)&&(y=K,V.done())}).next(()=>y)}addMatchingKeys(e,r,a){const h=[],y=Ll(e);return r.forEach(b=>{const R=Ot(b.path);h.push(y.put({targetId:a,path:R})),h.push(this.referenceDelegate.addReference(e,a,b))}),ot.waitFor(h)}removeMatchingKeys(e,r,a){const h=Ll(e);return ot.forEach(r,y=>{const b=Ot(y.path);return ot.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,y)])})}removeMatchingKeysForTargetId(e,r){const a=Ll(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),h=Ll(e);let y=mr();return h.J({range:a,H:!0},(b,R,V)=>{const K=Rn(b[1]),oe=new zt(K);y=y.add(oe)}).next(()=>y)}containsKey(e,r){const a=Ot(r.path),h=IDBKeyRange.bound([a],[xn(a)],!1,!0);let y=0;return Ll(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,R],V,K)=>{0!==b&&(y++,K.done())}).next(()=>y>0)}ot(e,r){return Aa(e).get(r).next(a=>a?sr(a):null)}}function Aa(d){return ji(d,"targets")}function za(d){return ji(d,"targetGlobal")}function Ll(d){return ji(d,"targetDocuments")}function qu([d,e],[r,a]){const h=Zt(d,r);return 0===h?Zt(e,a):h}class Hc{constructor(e){this.Un=e,this.buffer=new Ar(qu),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();qu(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class vl{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;Ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,o.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(a){Vt(a)?Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Bn(a)}yield r.Hn(3e5)}))}}class np{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(0===r)return ot.resolve(L.oe);const a=new Hc(r);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.Jn.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(lc)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lc):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let a,h,y,b,R,V,K;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(be=>(be>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${be}`),h=this.params.maximumSequenceNumbersToCollect):h=be,b=Date.now(),this.nthSequenceNumber(e,h))).next(be=>(a=be,R=Date.now(),this.removeTargets(e,a,r))).next(be=>(y=be,V=Date.now(),this.removeOrphanedDocuments(e,a))).next(be=>(K=Date.now(),Nt()<=ve.$b.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-oe}ms\n\tDetermined least recently used ${h} in `+(R-b)+`ms\n\tRemoved ${y} targets in `+(V-R)+`ms\n\tRemoved ${be} documents in `+(K-V)+`ms\nTotal Duration: ${K-oe}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:y,documentsRemoved:be})))}}class Md{constructor(e,r){this.db=e,this.garbageCollector=function fs(d,e){return new np(d,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>r.next(h=>a+h))}er(e){let r=0;return this.Zn(e,a=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(a,h)=>r(h))}addReference(e,r,a){return uc(e,a)}removeReference(e,r,a){return uc(e,a)}removeTargets(e,r,a){return this.db.getTargetCache().removeTargets(e,r,a)}markPotentiallyOrphaned(e,r){return uc(e,r)}nr(e,r){return function(h,y){let b=!1;return Ku(h).Y(R=>Gc(h,R,y).next(V=>(V&&(b=!0),ot.resolve(!V)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let y=0;return this.tr(e,(b,R)=>{if(R<=r){const V=this.nr(e,b).next(K=>{if(!K)return y++,a.getEntry(e,b).next(()=>(a.removeEntry(b,$t.min()),Ll(e).delete([0,Ot(b.path)])))});h.push(V)}}).next(()=>ot.waitFor(h)).next(()=>a.apply(e)).next(()=>y)}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,r){return uc(e,r)}tr(e,r){const a=Ll(e);let h,y=L.oe;return a.J({index:"documentTargetsIndex"},([b,R],{path:V,sequenceNumber:K})=>{0===b?(y!==L.oe&&r(new zt(Rn(h)),y),y=K,h=V):y=L.oe}).next(()=>{y!==L.oe&&r(new zt(Rn(h)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uc(d,e){return Ll(d).put((h=d.currentSequenceNumber,{targetId:0,path:Ot(e.path),sequenceNumber:h}));var h}class Yu{constructor(){this.changes=new Wi(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?ot.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,a){return Qo(e).put(a)}removeEntry(e,r,a){return Qo(e).delete(function(y,b){const R=y.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],Dt(b),R[R.length-1]]}(r,a))}updateMetadata(e,r){return this.getMetadata(e).next(a=>(a.byteSize+=r,this.rr(e,a)))}getEntry(e,r){let a=Et.newInvalidDocument(r);return Qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ca(r))},(h,y)=>{a=this.ir(r,y)}).next(()=>a)}sr(e,r){let a={size:0,document:Et.newInvalidDocument(r)};return Qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ca(r))},(h,y)=>{a={document:this.ir(r,y),size:Ha(y)}}).next(()=>a)}getEntries(e,r){let a=ms();return this._r(e,r,(h,y)=>{const b=this.ir(h,y);a=a.insert(h,b)}).next(()=>a)}ar(e,r){let a=ms(),h=new Kr(zt.comparator);return this._r(e,r,(y,b)=>{const R=this.ir(y,b);a=a.insert(y,R),h=h.insert(y,Ha(b))}).next(()=>({documents:a,ur:h}))}_r(e,r,a){if(r.isEmpty())return ot.resolve();let h=new Ar(Qu);r.forEach(V=>h=h.add(V));const y=IDBKeyRange.bound(ca(h.first()),ca(h.last())),b=h.getIterator();let R=b.getNext();return Qo(e).J({index:"documentKeyIndex",range:y},(V,K,oe)=>{const be=zt.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;R&&Qu(R,be)<0;)a(R,null),R=b.getNext();R&&R.isEqual(be)&&(a(R,K),R=b.hasNext()?b.getNext():null),R?oe.$(ca(R)):oe.done()}).next(()=>{for(;R;)a(R,null),R=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,a,h,y){const b=r.path,R=[b.popLast().toArray(),b.lastSegment(),Dt(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],V=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qo(e).U(IDBKeyRange.bound(R,V,!0)).next(K=>{y?.incrementDocumentReadCount(K.length);let oe=ms();for(const be of K){const We=this.ir(zt.fromSegments(be.prefixPath.concat(be.collectionGroup,be.documentId)),be);We.isFoundDocument()&&(Wo(r,We)||h.has(We.key))&&(oe=oe.insert(We.key,We))}return oe})}getAllFromCollectionGroup(e,r,a,h){let y=ms();const b=Yh(r,a),R=Yh(r,fn.max());return Qo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,R,!0)},(V,K,oe)=>{const be=this.ir(zt.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);y=y.insert(be.key,be),y.size===h&&oe.done()}).next(()=>y)}newChangeBuffer(e){return new Od(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return dc(e).get("remoteDocumentGlobalKey").next(r=>(xt(!!r),r))}rr(e,r){return dc(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const a=function ae(d,e){let r;if(e.document)r=oc(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=zt.fromSegments(e.noDocument.path),h=In(e.noDocument.readTime);r=Et.newNoDocument(a,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return qe();{const a=zt.fromSegments(e.unknownDocument.path),h=In(e.unknownDocument.version);r=Et.newUnknownDocument(a,h)}}return e.readTime&&r.setReadTime(function(h){const y=new Kt(h[0],h[1]);return $t.fromTimestamp(y)}(e.readTime)),r}(this.serializer,r);if(!a.isNoDocument()||!a.version.isEqual($t.min()))return a}return Et.newInvalidDocument(e)}}function Xu(d){return new rp(d)}class Od extends Yu{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new Wi(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const r=[];let a=0,h=new Ar((y,b)=>Zt(y.canonicalString(),b.canonicalString()));return this.changes.forEach((y,b)=>{const R=this.lr.get(y);if(r.push(this.cr.removeEntry(e,y,R.readTime)),b.isValidDocument()){const V=Me(this.cr.serializer,b);h=h.add(y.path.popLast());const K=Ha(V);a+=K-R.size,r.push(this.cr.addEntry(e,y,V))}else if(a-=R.size,this.trackRemovals){const V=Me(this.cr.serializer,b.convertToNoDocument($t.min()));r.push(this.cr.addEntry(e,y,V))}}),h.forEach(y=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,y))}),r.push(this.cr.updateMetadata(e,a)),ot.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(a=>(this.lr.set(r,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:a,ur:h})=>(h.forEach((y,b)=>{this.lr.set(y,{size:b,readTime:a.get(y).readTime})}),a))}}function dc(d){return ji(d,"remoteDocumentGlobal")}function Qo(d){return ji(d,"remoteDocumentsV14")}function ca(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Yh(d,e){const r=e.documentKey.path.toArray();return[d,Dt(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Qu(d,e){const r=d.path.toArray(),a=e.path.toArray();let h=0;for(let y=0;y<r.length-2&&y<a.length-2;++y)if(h=Zt(r[y],a[y]),h)return h;return h=Zt(r.length,a.length),h||(h=Zt(r[r.length-2],a[a.length-2]),h||Zt(r[r.length-1],a[a.length-1]))}class hc{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Xh{constructor(e,r,a,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(null!==a&&zr(a.mutation,h,hi.empty(),Kt.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.getLocalViewOfDocuments(e,a,mr()).next(()=>a))}getLocalViewOfDocuments(e,r,a=mr()){const h=Is();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,a).next(y=>{let b=fo();return y.forEach((R,V)=>{b=b.insert(R,V.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const a=Is();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,mr()))}populateOverlays(e,r,a){const h=[];return a.forEach(y=>{r.has(y)||h.push(y)}),this.documentOverlayCache.getOverlays(e,h).next(y=>{y.forEach((b,R)=>{r.set(b,R)})})}computeViews(e,r,a,h){let y=ms();const b=La(),R=La();return r.forEach((V,K)=>{const oe=a.get(K.key);h.has(K.key)&&(void 0===oe||oe.mutation instanceof ci)?y=y.insert(K.key,K):void 0!==oe?(b.set(K.key,oe.mutation.getFieldMask()),zr(oe.mutation,K,oe.mutation.getFieldMask(),Kt.now())):b.set(K.key,hi.empty())}),this.recalculateAndSaveOverlays(e,y).next(V=>(V.forEach((K,oe)=>b.set(K,oe)),r.forEach((K,oe)=>{var be;return R.set(K,new hc(oe,null!==(be=b.get(K))&&void 0!==be?be:null))}),R))}recalculateAndSaveOverlays(e,r){const a=La();let h=new Kr((b,R)=>b-R),y=mr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const R of b)R.keys().forEach(V=>{const K=r.get(V);if(null===K)return;let oe=a.get(V)||hi.empty();oe=R.applyToLocalView(K,oe),a.set(V,oe);const be=(h.get(R.batchId)||mr()).add(V);h=h.insert(R.batchId,be)})}).next(()=>{const b=[],R=h.getReverseIterator();for(;R.hasNext();){const V=R.getNext(),K=V.key,oe=V.value,be=ba();oe.forEach(We=>{if(!y.has(We)){const At=Ut(r.get(We),a.get(We));null!==At&&be.set(We,At),y=y.add(We)}}),b.push(this.documentOverlayCache.saveOverlays(e,K,be))}return ot.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,r,a,h){return zt.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ce(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,h):this.getDocumentsMatchingCollectionQuery(e,r,a,h);var b}getNextDocuments(e,r,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,h).next(y=>{const b=h-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,h-y.size):ot.resolve(Is());let R=-1,V=y;return b.next(K=>ot.forEach(K,(oe,be)=>(R<be.largestBatchId&&(R=be.largestBatchId),y.get(oe)?ot.resolve():this.remoteDocumentCache.getEntry(e,oe).next(We=>{V=V.insert(oe,We)}))).next(()=>this.populateOverlays(e,K,y)).next(()=>this.computeViews(e,V,K,mr())).next(oe=>({batchId:R,changes:oa(oe)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new zt(r)).next(a=>{let h=fo();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,a,h){const y=r.collectionGroup;let b=fo();return this.indexManager.getCollectionParents(e,y).next(R=>ot.forEach(R,V=>{const K=(be=r,We=V.child(y),new zo(We,null,be.explicitOrderBy.slice(),be.filters.slice(),be.limit,be.limitType,be.startAt,be.endAt));var be,We;return this.getDocumentsMatchingCollectionQuery(e,K,a,h).next(oe=>{oe.forEach((be,We)=>{b=b.insert(be,We)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,a,h){let y;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next(b=>(y=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,y,h))).next(b=>{y.forEach((V,K)=>{const oe=K.getKey();null===b.get(oe)&&(b=b.insert(oe,Et.newInvalidDocument(oe)))});let R=fo();return b.forEach((V,K)=>{const oe=y.get(V);void 0!==oe&&zr(oe.mutation,K,hi.empty(),Kt.now()),Wo(r,K)&&(R=R.insert(V,K))}),R})}}class zc{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ot.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(h=r).id,version:h.version,createTime:Di(h.createTime)}),ot.resolve();var h}getNamedQuery(e,r){return ot.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(h=r).name,query:fi(h.bundledQuery),readTime:Di(h.readTime)}),ot.resolve();var h}}class Zm{constructor(){this.overlays=new Kr(zt.comparator),this.Ir=new Map}getOverlay(e,r){return ot.resolve(this.overlays.get(r))}getOverlays(e,r){const a=Is();return ot.forEach(r,h=>this.getOverlay(e,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(e,r,a){return a.forEach((h,y)=>{this.ht(e,r,y)}),ot.resolve()}removeOverlaysForBatchId(e,r,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(y=>this.overlays=this.overlays.remove(y)),this.Ir.delete(a)),ot.resolve()}getOverlaysForCollection(e,r,a){const h=Is(),y=r.length+1,b=new zt(r.child("")),R=this.overlays.getIteratorFrom(b);for(;R.hasNext();){const V=R.getNext().value,K=V.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===y&&V.largestBatchId>a&&h.set(V.getKey(),V)}return ot.resolve(h)}getOverlaysForCollectionGroup(e,r,a,h){let y=new Kr((K,oe)=>K-oe);const b=this.overlays.getIterator();for(;b.hasNext();){const K=b.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>a){let oe=y.get(K.largestBatchId);null===oe&&(oe=Is(),y=y.insert(K.largestBatchId,oe)),oe.set(K.getKey(),K)}}const R=Is(),V=y.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((K,oe)=>R.set(K,oe)),!(R.size()>=h)););return ot.resolve(R)}ht(e,r,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new ns(r,a));let y=this.Ir.get(r);void 0===y&&(y=mr(),this.Ir.set(r,y)),this.Ir.set(r,y.add(a.key))}}class Dg{constructor(){this.sessionToken=Ri.EMPTY_BYTE_STRING}getSessionToken(e){return ot.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ot.resolve()}}class ip{constructor(){this.Tr=new Ar(ks.Er),this.dr=new Ar(ks.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const a=new ks(e,r);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.Vr(new ks(e,r))}mr(e,r){e.forEach(a=>this.removeReference(a,r))}gr(e){const r=new zt(new an([])),a=new ks(r,e),h=new ks(r,e+1),y=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),y.push(b.key)}),y}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new zt(new an([])),a=new ks(r,e),h=new ks(r,e+1);let y=mr();return this.dr.forEachInRange([a,h],b=>{y=y.add(b.key)}),y}containsKey(e){const r=new ks(e,0),a=this.Tr.firstAfterOrEqual(r);return null!==a&&e.isEqual(a.key)}}class ks{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return zt.comparator(e.key,r.key)||Zt(e.wr,r.wr)}static Ar(e,r){return Zt(e.wr,r.wr)||zt.comparator(e.key,r.key)}}class e_{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ar(ks.Er)}checkEmpty(e){return ot.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,a,h){const y=this.Sr;this.Sr++;const b=new Ki(y,r,a,h);this.mutationQueue.push(b);for(const R of h)this.br=this.br.add(new ks(R.key,y)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return ot.resolve(b)}lookupMutationBatch(e,r){return ot.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.vr(r+1),y=h<0?0:h;return ot.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new ks(r,0),h=new ks(r,Number.POSITIVE_INFINITY),y=[];return this.br.forEachInRange([a,h],b=>{const R=this.Dr(b.wr);y.push(R)}),ot.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Ar(Zt);return r.forEach(h=>{const y=new ks(h,0),b=new ks(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([y,b],R=>{a=a.add(R.wr)})}),ot.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1;let y=a;zt.isDocumentKey(y)||(y=y.child(""));const b=new ks(new zt(y),0);let R=new Ar(Zt);return this.br.forEachWhile(V=>{const K=V.key.path;return!!a.isPrefixOf(K)&&(K.length===h&&(R=R.add(V.wr)),!0)},b),ot.resolve(this.Cr(R))}Cr(e){const r=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){xt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return ot.forEach(r.mutations,h=>{const y=new ks(h.key,r.batchId);return a=a.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,r){const a=new ks(r,0),h=this.br.firstAfterOrEqual(a);return ot.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return ot.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Wc{constructor(e){this.Mr=e,this.docs=new Kr(zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,h=this.docs.get(a),y=h?h.size:0,b=this.Mr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:b}),this.size+=b-y,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return ot.resolve(a?a.document.mutableCopy():Et.newInvalidDocument(r))}getEntries(e,r){let a=ms();return r.forEach(h=>{const y=this.docs.get(h);a=a.insert(h,y?y.document.mutableCopy():Et.newInvalidDocument(h))}),ot.resolve(a)}getDocumentsMatchingQuery(e,r,a,h){let y=ms();const b=r.path,R=new zt(b.child("")),V=this.docs.getIteratorFrom(R);for(;V.hasNext();){const{key:K,value:{document:oe}}=V.getNext();if(!b.isPrefixOf(K.path))break;K.path.length>b.length+1||ti(ys(oe),a)<=0||(h.has(oe.key)||Wo(r,oe))&&(y=y.insert(oe.key,oe.mutableCopy()))}return ot.resolve(y)}getAllFromCollectionGroup(e,r,a,h){qe()}Or(e,r){return ot.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new Kc(this)}getSize(e){return ot.resolve(this.size)}}class Kc extends Yu{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?r.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),ot.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class Nd{constructor(e){this.persistence=e,this.Nr=new Wi(r=>Os(r),Po),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ip,this.targetCount=0,this.kr=Fl.Bn()}forEachTarget(e,r){return this.Nr.forEach((a,h)=>r(h)),ot.resolve()}getLastRemoteSnapshotVersion(e){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ot.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Lr&&(this.Lr=r),ot.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Fl(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ot.resolve()}updateTargetData(e,r){return this.Kn(r),ot.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ot.resolve()}removeTargets(e,r,a){let h=0;const y=[];return this.Nr.forEach((b,R)=>{R.sequenceNumber<=r&&null===a.get(R.targetId)&&(this.Nr.delete(b),y.push(this.removeMatchingKeysForTargetId(e,R.targetId)),h++)}),ot.waitFor(y).next(()=>h)}getTargetCount(e){return ot.resolve(this.targetCount)}getTargetData(e,r){const a=this.Nr.get(r)||null;return ot.resolve(a)}addMatchingKeys(e,r,a){return this.Br.Rr(r,a),ot.resolve()}removeMatchingKeys(e,r,a){this.Br.mr(r,a);const h=this.persistence.referenceDelegate,y=[];return h&&r.forEach(b=>{y.push(h.markPotentiallyOrphaned(e,b))}),ot.waitFor(y)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ot.resolve()}getMatchingKeysForTargetId(e,r){const a=this.Br.yr(r);return ot.resolve(a)}containsKey(e,r){return ot.resolve(this.Br.containsKey(r))}}class Qh{constructor(e,r){this.qr={},this.overlays={},this.Qr=new L(0),this.Kr=!1,this.Kr=!0,this.$r=new Dg,this.referenceDelegate=e(this),this.Ur=new Nd(this),this.indexManager=new ac,this.remoteDocumentCache=new Wc(a=>this.referenceDelegate.Wr(a)),this.serializer=new G(r),this.Gr=new zc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Zm,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.qr[e.toKey()];return a||(a=new e_(r,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,a){Ee("MemoryPersistence","Starting transaction:",e);const h=new Gs(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(y=>this.referenceDelegate.jr(h).next(()=>y)).toPromise().then(y=>(h.raiseOnCommittedEvent(),y))}Hr(e,r){return ot.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,r)))}}class Gs extends Ir{constructor(e){super(),this.currentSequenceNumber=e}}class kd{constructor(e){this.persistence=e,this.Jr=new ip,this.Yr=null}static Zr(e){return new kd(e)}get Xr(){if(this.Yr)return this.Yr;throw qe()}addReference(e,r,a){return this.Jr.addReference(a,r),this.Xr.delete(a.toString()),ot.resolve()}removeReference(e,r,a){return this.Jr.removeReference(a,r),this.Xr.add(a.toString()),ot.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ot.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(y=>this.Xr.add(y.toString()))}).next(()=>a.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.Xr,a=>{const h=zt.fromPath(a);return this.ei(e,h).next(y=>{y||r.removeEntry(h,$t.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(a=>{a?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ot.or([()=>ot.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Jh{constructor(e){this.serializer=e}O(e,r,a,h){const y=new It("createOrUpgrade",r);var V;a<1&&h>=1&&(e.createObjectStore("owner"),(V=e).createObjectStore("mutationQueues",{keyPath:"userId"}),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",br,{unique:!0}),V.createObjectStore("documentMutations"),Jo(e),function(V){V.createObjectStore("remoteDocuments")}(e));let b=ot.resolve();return a<3&&h>=3&&(0!==a&&(function(V){V.deleteObjectStore("targetDocuments"),V.deleteObjectStore("targets"),V.deleteObjectStore("targetGlobal")}(e),Jo(e)),b=b.next(()=>function(V){const K=V.store("targetGlobal"),oe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$t.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",oe)}(y))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(V,K){return K.store("mutations").U().next(oe=>{V.deleteObjectStore("mutations"),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",br,{unique:!0});const be=K.store("mutations"),We=oe.map(At=>be.put(At));return ot.waitFor(We)})}(e,y))),b=b.next(()=>{!function(V){V.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(y))),a<6&&h>=6&&(b=b.next(()=>(function(V){V.createObjectStore("remoteDocumentGlobal")}(e),this.ri(y)))),a<7&&h>=7&&(b=b.next(()=>this.ii(y))),a<8&&h>=8&&(b=b.next(()=>this.si(e,y))),a<9&&h>=9&&(b=b.next(()=>{!function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(y))),a<11&&h>=11&&(b=b.next(()=>{(function(V){V.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(V){V.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(V){const K=V.createObjectStore("documentOverlays",{keyPath:$n});K.createIndex("collectionPathOverlayIndex",Ln,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",fr,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(V){const K=V.createObjectStore("remoteDocumentsV14",{keyPath:Vs});K.createIndex("documentKeyIndex",Ni),K.createIndex("collectionGroupIndex",vs)}(e)).next(()=>this._i(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,y))),a<15&&h>=15&&(b=b.next(()=>function(V){V.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),V.createObjectStore("indexState",{keyPath:Rt}).createIndex("sequenceNumberIndex",at,{unique:!1}),V.createObjectStore("indexEntries",{keyPath:kt}).createIndex("documentKeyIndex",un,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(V){V.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let r=0;return e.store("remoteDocuments").J((a,h)=>{r+=Ha(h)}).next(()=>{const a={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const r=e.store("mutationQueues"),a=e.store("mutations");return r.U().next(h=>ot.forEach(h,y=>{const b=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(R=>ot.forEach(R,V=>{xt(V.userId===y.userId);const K=yr(this.serializer,V);return qh(e,y.userId,K).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const y=[];return a.J((b,R)=>{const V=new an(b),K=[0,Ot(V)];y.push(r.get(K).next(oe=>oe?ot.resolve():r.put({targetId:0,path:Ot(V),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>ot.waitFor(y))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:xs});const a=r.store("collectionParents"),h=new zu,y=b=>{if(h.add(b)){const R=b.lastSegment(),V=b.popLast();return a.put({collectionId:R,parent:Ot(V)})}};return r.store("remoteDocuments").J({H:!0},(b,R)=>{const V=new an(b);return y(V.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,R,V],K)=>{const oe=Rn(R);return y(oe.popLast())}))}oi(e){const r=e.store("targets");return r.J((a,h)=>{const y=sr(h),b=Or(this.serializer,y);return r.put(b)})}_i(e,r){const a=r.store("remoteDocuments"),h=[];return a.J((y,b)=>{const R=r.store("remoteDocumentsV14"),V=(be=b,be.document?new zt(an.fromString(be.document.name).popFirst(5)):be.noDocument?zt.fromSegments(be.noDocument.path):be.unknownDocument?zt.fromSegments(be.unknownDocument.path):qe()).path.toArray(),K={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var be;h.push(R.put(K))}).next(()=>ot.waitFor(h))}ai(e,r){const a=r.store("mutations"),h=Xu(this.serializer),y=new Qh(kd.Zr,this.serializer.ct);return a.U().next(b=>{const R=new Map;return b.forEach(V=>{var K;let oe=null!==(K=R.get(V.userId))&&void 0!==K?K:mr();yr(this.serializer,V).keys().forEach(be=>oe=oe.add(be)),R.set(V.userId,oe)}),ot.forEach(R,(V,K)=>{const oe=new tt(K),be=_l.lt(this.serializer,oe),We=y.getIndexManager(oe),At=la.lt(oe,this.serializer,We,y.referenceDelegate);return new Xh(h,At,be,We).recalculateAndSaveOverlaysForDocumentKeys(new So(r,L.oe),V).next()})})}}function Jo(d){d.createObjectStore("targetDocuments",{keyPath:gi}).createIndex("documentTargetsIndex",ar,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Es,{unique:!0}),d.createObjectStore("targetGlobal")}const Ul="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fd{constructor(e,r,a,h,y,b,R,V,K,oe,be=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=a,this.ui=y,this.window=b,this.document=R,this.ci=K,this.li=oe,this.hi=be,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=We=>Promise.resolve(),!Fd.D())throw new st(ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Md(this,h),this.Ai=r+"main",this.serializer=new G(V),this.Ri=new ue(this.Ai,this.hi,new Jh(this.serializer)),this.$r=new Wh,this.Ur=new Ag(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Xu(this.serializer),this.Gr=new Yo,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===oe&&Je("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(ke.FAILED_PRECONDITION,Ul);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new L(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var a=(0,o.A)(function*(h){if(r.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,o.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,o.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Bl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(Vt(e))return Ee("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return jl(e).get("owner").next(r=>ot.resolve(this.vi(r)))}Ci(e){return Bl(e).delete(this.clientId)}Fi(){var e=this;return(0,o.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=ji(a,"clientMetadata");return h.U().next(y=>{const b=e.xi(y,18e5),R=y.filter(V=>-1===b.indexOf(V));return ot.forEach(R,V=>h.delete(V.clientId)).next(()=>R)})}).catch(()=>[]);if(e.Vi)for(const a of r)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?ot.resolve(!0):jl(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new st(ke.FAILED_PRECONDITION,Ul);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bl(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ee("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,o.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const a=new So(r,L.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(a=>this.Mi(a.updateTimeMs,r)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Bl(e).U().next(r=>this.xi(r,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return la.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ep(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return _l.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,a){Ee("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",y=17===(V=this.hi)?Do:16===V?ss:15===V?Ms:14===V?Qi:13===V?pr:12===V?Wr:11===V?Ur:void qe();var V;let b;return this.Ri.runTransaction(e,h,y,R=>(b=new So(R,this.Qr?this.Qr.next():L.oe),"readwrite-primary"===r?this.wi(b).next(V=>!!V||this.Si(b)).next(V=>{if(!V)throw Je(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new st(ke.FAILED_PRECONDITION,er);return a(b)}).next(V=>this.Di(b).next(()=>V)):this.Ki(b).next(()=>a(b)))).then(R=>(b.raiseOnCommittedEvent(),R))}Ki(e){return jl(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new st(ke.FAILED_PRECONDITION,Ul)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jl(e).put("owner",r)}static D(){return ue.D()}bi(e){const r=jl(e);return r.get("owner").next(a=>this.vi(a)?(Ee("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):ot.resolve())}Mi(e,r){const a=Date.now();return!(e<a-r||e>a&&(Je(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,_e.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const a=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return Ee("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Je("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Je("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jl(d){return ji(d,"owner")}function Bl(d){return ji(d,"clientMetadata")}function Ld(d,e){let r=d.projectId;return d.isDefaultDatabase||(r+="."+d.database),"firestore/"+e+"/"+r+"/"}class sp{constructor(e,r,a,h){this.targetId=e,this.fromCache=r,this.$i=a,this.Ui=h}static Wi(e,r){let a=mr(),h=mr();for(const y of r.docChanges)switch(y.type){case 0:a=a.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}return new sp(e,r.fromCache,a,h)}}class Sg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Wa{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,_e.nr)()?8:Fe((0,_e.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,a,h){const y={result:null};return this.Yi(e,r).next(b=>{y.result=b}).next(()=>{if(!y.result)return this.Zi(e,r,h,a).next(b=>{y.result=b})}).next(()=>{if(y.result)return;const b=new Sg;return this.Xi(e,r,b).next(R=>{if(y.result=R,this.zi)return this.es(e,r,b,R.size)})}).next(()=>y.result)}es(e,r,a,h){return a.documentReadCount<this.ji?(Nt()<=ve.$b.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",ts(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ot.resolve()):(Nt()<=ve.$b.DEBUG&&Ee("QueryEngine","Query:",ts(r),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?(Nt()<=ve.$b.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",ts(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(r))):ot.resolve())}Yi(e,r){if(U(r))return ot.resolve(null);let a=mn(r);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==r.limit&&1===h&&(r=es(r,null,"F"),a=mn(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next(y=>{const b=mr(...y);return this.Ji.getDocuments(e,b).next(R=>this.indexManager.getMinOffset(e,a).next(V=>{const K=this.ts(r,R);return this.ns(r,K,b,V.readTime)?this.Yi(e,es(r,null,"F")):this.rs(e,K,r,V)}))})))}Zi(e,r,a,h){return U(r)||h.isEqual($t.min())?ot.resolve(null):this.Ji.getDocuments(e,a).next(y=>{const b=this.ts(r,y);return this.ns(r,b,a,h)?ot.resolve(null):(Nt()<=ve.$b.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),ts(r)),this.rs(e,b,r,di(h,-1)).next(R=>R))})}ts(e,r){let a=new Ar(Ps(e));return r.forEach((h,y)=>{Wo(e,y)&&(a=a.add(y))}),a}ns(e,r,a,h){if(null===e.limit)return!1;if(a.size!==r.size)return!0;const y="F"===e.limitType?r.last():r.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(h)>0)}Xi(e,r,a){return Nt()<=ve.$b.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",ts(r)),this.Ji.getDocumentsMatchingQuery(e,r,fn.min(),a)}rs(e,r,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(y=>(r.forEach(b=>{y=y.insert(b.key,b)}),y))}}class Vo{constructor(e,r,a,h){this.persistence=e,this.ss=r,this.serializer=h,this.os=new Kr(Zt),this._s=new Wi(y=>Os(y),Po),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Vd(d,e,r,a){return new Vo(d,e,r,a)}function Ka(d,e){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,o.A)(function*(d,e){const r=lt(d);return yield r.persistence.runTransaction("Handle user change","readonly",a=>{let h;return r.mutationQueue.getAllMutationBatches(a).next(y=>(h=y,r.ls(e),r.mutationQueue.getAllMutationBatches(a))).next(y=>{const b=[],R=[];let V=mr();for(const K of h){b.push(K.batchId);for(const oe of K.mutations)V=V.add(oe.key)}for(const K of y){R.push(K.batchId);for(const oe of K.mutations)V=V.add(oe.key)}return r.localDocuments.getDocuments(a,V).next(K=>({hs:K,removedBatchIds:b,addedBatchIds:R}))})})})).apply(this,arguments)}function Ud(d){const e=lt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Zh(d,e,r){let a=mr(),h=mr();return r.forEach(y=>a=a.add(y)),e.getEntries(d,a).next(y=>{let b=ms();return r.forEach((R,V)=>{const K=y.get(R);V.isFoundDocument()!==K.isFoundDocument()&&(h=h.add(R)),V.isNoDocument()&&V.version.isEqual($t.min())?(e.removeEntry(R,V.readTime),b=b.insert(R,V)):!K.isValidDocument()||V.version.compareTo(K.version)>0||0===V.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(V),b=b.insert(R,V)):Ee("LocalStore","Ignoring outdated watch update for ",R,". Current version:",K.version," Watch version:",V.version)}),{Ps:b,Is:h}})}function Rg(d,e){const r=lt(d);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Da(d,e){const r=lt(d);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return r.Ur.getTargetData(a,e).next(y=>y?(h=y,ot.resolve(h)):r.Ur.allocateTargetId(a).next(b=>(h=new N(e,b,"TargetPurposeListen",a.currentSequenceNumber),r.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=r.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.os=r.os.insert(a.targetId,a),r._s.set(e,a.targetId)),a})}function qc(d,e,r){return jd.apply(this,arguments)}function jd(){return(jd=(0,o.A)(function*(d,e,r){const a=lt(d),h=a.os.get(e),y=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",y,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!Vt(b))throw b;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function El(d,e,r){const a=lt(d);let h=$t.min(),y=mr();return a.persistence.runTransaction("Execute query","readwrite",b=>function(V,K,oe){const be=lt(V),We=be._s.get(oe);return void 0!==We?ot.resolve(be.os.get(We)):be.Ur.getTargetData(K,oe)}(a,b,mn(e)).next(R=>{if(R)return h=R.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,R.targetId).next(V=>{y=V})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,r?h:$t.min(),r?y:mr())).next(R=>(tf(a,tc(e),R),{documents:R,Ts:y})))}function ef(d,e){const r=lt(d),a=lt(r.Ur),h=r.os.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",y=>a.ot(y,e).next(b=>b?b.target:null))}function bl(d,e){const r=lt(d),a=r.us.get(e)||$t.min();return r.persistence.runTransaction("Get new document changes","readonly",h=>r.cs.getAllFromCollectionGroup(h,e,di(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(tf(r,e,h),h))}function tf(d,e,r){let a=d.us.get(e)||$t.min();r.forEach((h,y)=>{y.readTime.compareTo(a)>0&&(a=y.readTime)}),d.us.set(e,a)}function Bd(){return(Bd=(0,o.A)(function*(d,e,r,a){const h=lt(d);let y=mr(),b=ms();for(const K of r){const oe=e.Es(K.metadata.name);K.document&&(y=y.add(oe));const be=e.ds(K);be.setReadTime(e.As(K.metadata.readTime)),b=b.insert(oe,be)}const R=h.cs.newChangeBuffer({trackRemovals:!0}),V=yield Da(h,(oe=a,mn(ee(an.fromString(`__bundle__/docs/${oe}`)))));var oe;return h.persistence.runTransaction("Apply bundle documents","readwrite",K=>Zh(K,R,b).next(oe=>(R.apply(K),oe)).next(oe=>h.Ur.removeMatchingKeysForTargetId(K,V.targetId).next(()=>h.Ur.addMatchingKeys(K,y,V.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(K,oe.Ps,oe.Is)).next(()=>oe.Ps)))})).apply(this,arguments)}function nf(d,e){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,o.A)(function*(d,e,r=mr()){const a=yield Da(d,mn(fi(e.bundledQuery))),h=lt(d);return h.persistence.runTransaction("Save named query","readwrite",y=>{const b=Di(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(y,e);const R=a.withResumeToken(Ri.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(R.targetId,R),h.Ur.updateTargetData(y,R).next(()=>h.Ur.removeMatchingKeysForTargetId(y,a.targetId)).next(()=>h.Ur.addMatchingKeys(y,r,a.targetId)).next(()=>h.Gr.saveNamedQuery(y,e))})})).apply(this,arguments)}function $l(d,e){return`firestore_clients_${d}_${e}`}function $d(d,e,r){let a=`firestore_mutations_${d}_${r}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Xc(d,e){return`firestore_targets_${d}_${e}`}class Gd{constructor(e,r,a,h){this.user=e,this.batchId=r,this.state=a,this.error=h}static Rs(e,r,a){const h=JSON.parse(a);let y,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(y=new st(h.error.code,h.error.message))),b?new Gd(e,r,h.state,y):(Je("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gl{constructor(e,r,a){this.targetId=e,this.state=r,this.error=a}static Rs(e,r){const a=JSON.parse(r);let h,y="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return y&&a.error&&(y="string"==typeof a.error.message&&"string"==typeof a.error.code,y&&(h=new st(a.error.code,a.error.message))),y?new Gl(e,a.state,h):(Je("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hs{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const a=JSON.parse(r);let h="object"==typeof a&&a.activeTargetIds instanceof Array,y=_o();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=pt(a.activeTargetIds[b]),y=y.add(a.activeTargetIds[b]);return h?new Hs(e,y):(Je("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class I{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new I(r.clientId,r.onlineState):(Je("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _{constructor(){this.activeTargetIds=_o()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,r,a,h,y){this.window=e,this.ui=r,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Kr(Zt),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Ds=$l(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new _),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(V){return`firestore_bundle_loaded_v2_${V}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,o.A)(function*(){const r=yield e.syncEngine.Qi();for(const h of r){if(h===e.ps)continue;const y=e.getItem($l(e.persistenceKey,h));if(y){const b=Hs.Rs(h,y);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,a){this.qs(e,r,a),this.Qs(e)}addLocalQueryTarget(e,r=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(Xc(this.persistenceKey,e));if(h){const y=Gl.Rs(e,h);y&&(a=y.state)}}return r&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xc(this.persistenceKey,e))}updateQueryState(e,r,a){this.$s(e,r,a)}handleUserChange(e,r,a){r.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ee("SharedClientState","READ",e,r),r}setItem(e,r){Ee("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ee("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const a=e;if(a.storageArea===this.storage){if(Ee("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void Je("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,o.A)(function*(){if(r.started){if(null!==a.key)if(r.Cs.test(a.key)){if(null==a.newValue){const h=r.Gs(a.key);return r.zs(h,null)}{const h=r.js(a.key,a.newValue);if(h)return r.zs(h.clientId,h)}}else if(r.Fs.test(a.key)){if(null!==a.newValue){const h=r.Hs(a.key,a.newValue);if(h)return r.Js(h)}}else if(r.Ms.test(a.key)){if(null!==a.newValue){const h=r.Ys(a.key,a.newValue);if(h)return r.Zs(h)}}else if(a.key===r.xs){if(null!==a.newValue){const h=r.Ls(a.newValue);if(h)return r.Bs(h)}}else if(a.key===r.vs){const h=function(b){let R=L.oe;if(null!=b)try{const V=JSON.parse(b);xt("number"==typeof V),R=V}catch(V){Je("SharedClientState","Failed to read sequence number from WebStorage",V)}return R}(a.newValue);h!==L.oe&&r.sequenceNumberHandler(h)}else if(a.key===r.Os){const h=r.Xs(a.newValue);yield Promise.all(h.map(y=>r.syncEngine.eo(y)))}}else r.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,a){const h=new Gd(this.currentUser,e,r,a),y=$d(this.persistenceKey,this.currentUser,e);this.setItem(y,h.Vs())}Qs(e){const r=$d(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,a){const h=Xc(this.persistenceKey,e),y=new Gl(e,r,a);this.setItem(h,y.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const a=this.Gs(e);return Hs.Rs(a,r)}Hs(e,r){const a=this.Fs.exec(e),h=Number(a[1]);return Gd.Rs(new tt(void 0!==a[2]?a[2]:null),h,r)}Ys(e,r){const a=this.Ms.exec(e),h=Number(a[1]);return Gl.Rs(h,r)}Ls(e){return I.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,o.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);Ee("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const a=r?this.Ss.insert(e,r):this.Ss.remove(e),h=this.ks(this.Ss),y=this.ks(a),b=[],R=[];return y.forEach(V=>{h.has(V)||b.push(V)}),h.forEach(V=>{y.has(V)||R.push(V)}),this.syncEngine.io(b,R).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=_o();return e.forEach((a,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class S{constructor(){this.so=new _,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,a){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Q{_o(e){}shutdown(){}}class he{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qe=null;function Mt(){return null===Qe?Qe=268435456+Math.round(2147483648*Math.random()):Qe++,"0x"+Qe.toString(16)}const qt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class On{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Nn="WebChannelConnection";class Jr extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const a=r.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+r.host,this.vo=`projects/${h}/databases/${y}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${y}`}get Fo(){return!1}Mo(r,a,h,y,b){const R=Mt(),V=this.xo(r,a.toUriEncodedString());Ee("RestConnection",`Sending RPC '${r}' ${R}:`,V,h);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,y,b),this.No(r,V,K,h).then(oe=>(Ee("RestConnection",`Received RPC '${r}' ${R}: `,oe),oe),oe=>{throw Xt("RestConnection",`RPC '${r}' ${R} failed with error: `,oe,"url: ",V,"request:",h),oe})}Lo(r,a,h,y,b,R){return this.Mo(r,a,h,y,b)}Oo(r,a,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+Xe,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((y,b)=>r[b]=y),h&&h.headers.forEach((y,b)=>r[b]=y)}xo(r,a){return`${this.Do}/v1/${a}:${qt[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,a,h){const y=Mt();return new Promise((b,R)=>{const V=new fe;V.setWithCredentials(!0),V.listenOnce(de.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case Ke.NO_ERROR:const oe=V.getResponseJson();Ee(Nn,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(oe)),b(oe);break;case Ke.TIMEOUT:Ee(Nn,`RPC '${e}' ${y} timed out`),R(new st(ke.DEADLINE_EXCEEDED,"Request time out"));break;case Ke.HTTP_ERROR:const be=V.getStatus();if(Ee(Nn,`RPC '${e}' ${y} failed with status:`,be,"response text:",V.getResponseText()),be>0){let We=V.getResponseJson();Array.isArray(We)&&(We=We[0]);const At=We?.error;if(At&&At.status&&At.message){const Wt=function(rn){const Yn=rn.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(Yn)>=0?Yn:ke.UNKNOWN}(At.status);R(new st(Wt,At.message))}else R(new st(ke.UNKNOWN,"Server responded with status "+V.getStatus()))}else R(new st(ke.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{Ee(Nn,`RPC '${e}' ${y} completed.`)}});const K=JSON.stringify(h);Ee(Nn,`RPC '${e}' ${y} sending request:`,h),V.send(r,"POST",K,a,15)})}Bo(e,r,a){const h=Mt(),y=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=He(),R=Jt(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(V.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(V.useFetchStreams=!0),this.Oo(V.initMessageHeaders,r,a),V.encodeInitMessageHeaders=!0;const oe=y.join("");Ee(Nn,`Creating RPC '${e}' stream ${h}: ${oe}`,V);const be=b.createWebChannel(oe,V);let We=!1,At=!1;const Wt=new On({Io:rn=>{At?Ee(Nn,`Not sending because RPC '${e}' stream ${h} is closed:`,rn):(We||(Ee(Nn,`Opening RPC '${e}' stream ${h} transport.`),be.open(),We=!0),Ee(Nn,`RPC '${e}' stream ${h} sending:`,rn),be.send(rn))},To:()=>be.close()}),dn=(rn,Yn,cr)=>{rn.listen(Yn,Zn=>{try{cr(Zn)}catch(Nr){setTimeout(()=>{throw Nr},0)}})};return dn(be,Ne.EventType.OPEN,()=>{At||(Ee(Nn,`RPC '${e}' stream ${h} transport opened.`),Wt.yo())}),dn(be,Ne.EventType.CLOSE,()=>{At||(At=!0,Ee(Nn,`RPC '${e}' stream ${h} transport closed`),Wt.So())}),dn(be,Ne.EventType.ERROR,rn=>{At||(At=!0,Xt(Nn,`RPC '${e}' stream ${h} transport errored:`,rn),Wt.So(new st(ke.UNAVAILABLE,"The operation could not be completed")))}),dn(be,Ne.EventType.MESSAGE,rn=>{var Yn;if(!At){const cr=rn.data[0];xt(!!cr);const Nr=cr.error||(null===(Yn=cr[0])||void 0===Yn?void 0:Yn.error);if(Nr){Ee(Nn,`RPC '${e}' stream ${h} received error:`,Nr);const Mi=Nr.status;let ai=function(et){const gt=Tr[et];if(void 0!==gt)return Ui(gt)}(Mi),ft=Nr.message;void 0===ai&&(ai=ke.INTERNAL,ft="Unknown error status: "+Mi+" with message "+Nr.message),At=!0,Wt.So(new st(ai,ft)),be.close()}else Ee(Nn,`RPC '${e}' stream ${h} received:`,cr),Wt.bo(cr)}}),dn(R,Ft.STAT_EVENT,rn=>{rn.stat===mt.PROXY?Ee(Nn,`RPC '${e}' stream ${h} detected buffering proxy`):rn.stat===mt.NOPROXY&&Ee(Nn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Wt.wo()},0),Wt}}function bo(){return typeof window<"u"?window:null}function ua(){return typeof document<"u"?document:null}function Hl(d){return new wd(d,!0)}class Qc{constructor(e,r,a=1e3,h=1.5,y=6e4){this.ui=e,this.timerId=r,this.ko=a,this.qo=h,this.Qo=y,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,r-a);h>0&&Ee("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Hd{constructor(e,r,a,h,y,b,R,V){this.ui=e,this.Ho=a,this.Jo=h,this.connection=y,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=R,this.listener=V,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Qc(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,o.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,o.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var a=this;return(0,o.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():r&&r.code===ke.RESOURCE_EXHAUSTED?(Je(r.toString()),Je("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):r&&r.code===ke.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===r&&this.P_(a,h)},a=>{e(()=>{const h=new st(ke.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,r){const a=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,o.A)(function*(){e.state=0,e.start()}))}I_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zd extends Hd{constructor(e,r,a,h,y,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,h,b),this.serializer=y}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function Ad(d,e){let r;if("targetChange"in e){const a="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:qe(),h=e.targetChange.targetIds||[],y=function(K,oe){return K.useProto3Json?(xt(void 0===oe||"string"==typeof oe),Ri.fromBase64String(oe||"")):(xt(void 0===oe||oe instanceof Buffer||oe instanceof Uint8Array),Ri.fromUint8Array(oe||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,R=b&&function(K){const oe=void 0===K.code?ke.UNKNOWN:Ui(K.code);return new st(oe,K.message||"")}(b);r=new Ou(a,h,y,R||null)}else if("documentChange"in e){const a=e.documentChange,h=zn(d,a.document.name),y=Di(a.document.updateTime),b=a.document.createTime?Di(a.document.createTime):$t.min(),R=new Ue({mapValue:{fields:a.document.fields}}),V=Et.newFoundDocument(h,y,b,R);r=new rc(a.targetIds||[],a.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const a=e.documentDelete,h=zn(d,a.document),y=a.readTime?Di(a.readTime):$t.min(),b=Et.newNoDocument(h,y);r=new rc([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=zn(d,a.document);r=new rc([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return qe();{const a=e.filter,{count:h=0,unchangedNames:y}=a,b=new Cd(h,y);r=new Mu(a.targetId,b)}}var K;return r}(this.serializer,e),a=function(y){if(!("targetChange"in y))return $t.min();const b=y.targetChange;return b.targetIds&&b.targetIds.length?$t.min():b.readTime?Di(b.readTime):$t.min()}(e);return this.listener.d_(r,a)}A_(e){const r={};r.database=jc(this.serializer),r.addTarget=function(y,b){let R;const V=b.target;if(R=ka(V)?{documents:po(y,V)}:{query:Ba(y,V)._t},R.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){R.resumeToken=ku(y,b.resumeToken);const K=nn(y,b.expectedCount);null!==K&&(R.expectedCount=K)}else if(b.snapshotVersion.compareTo($t.min())>0){R.readTime=No(y,b.snapshotVersion.toTimestamp());const K=nn(y,b.expectedCount);null!==K&&(R.expectedCount=K)}return R}(this.serializer,e);const a=function Dd(d,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);a&&(r.labels=a),this.a_(r)}R_(e){const r={};r.database=jc(this.serializer),r.removeTarget=e,this.a_(r)}}class Pg extends Hd{constructor(e,r,a,h,y,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,h,b),this.serializer=y}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return xt(!!e.streamToken),this.lastStreamToken=e.streamToken,xt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function io(d,e){return d&&d.length>0?(xt(void 0!==e),d.map(r=>function(h,y){let b=Di(h.updateTime?h.updateTime:y);return b.isEqual($t.min())&&(b=Di(y)),new B(b,h.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),a=Di(e.commitTime);return this.listener.g_(a,r)}p_(){const e={};e.database=jc(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>dl(this.serializer,a))};this.a_(r)}}class lp extends class{}{constructor(e,r,a,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new st(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,b])=>this.connection.Mo(e,Fu(r,a),h,y,b)).catch(y=>{throw"FirebaseError"===y.name?(y.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new st(ke.UNKNOWN,y.toString())})}Lo(e,r,a,h,y){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,R])=>this.connection.Lo(e,Fu(r,a),h,b,R,y)).catch(b=>{throw"FirebaseError"===b.name?(b.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new st(ke.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Wd{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Je(r),this.D_=!1):Ee("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class xg{constructor(e,r,a,h,y){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=y,this.k_._o(R=>{a.enqueueAndForget((0,o.A)(function*(){var V;Sa(b)&&(Ee("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,o.A)(function*(oe){const be=lt(oe);be.L_.add(4),yield Kd(be),be.q_.set("Unknown"),be.L_.delete(4),yield da(be)}),function K(oe){return V.apply(this,arguments)})(b))}))}),this.q_=new Wd(a,h)}}function da(d){return rf.apply(this,arguments)}function rf(){return(rf=(0,o.A)(function*(d){if(Sa(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Kd(d){return ha.apply(this,arguments)}function ha(){return(ha=(0,o.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function ed(d,e){const r=lt(d);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),af(r)?sf(r):rd(r).r_()&&qd(r,e))}function fc(d,e){const r=lt(d),a=rd(r);r.N_.delete(e),a.r_()&&cp(r,e),0===r.N_.size&&(a.r_()?a.o_():Sa(r)&&r.q_.set("Unknown"))}function qd(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($t.min())>0){const r=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}rd(d).A_(e)}function cp(d,e){d.Q_.xe(e),rd(d).R_(e)}function sf(d){d.Q_=new Nu({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),rd(d).start(),d.q_.v_()}function af(d){return Sa(d)&&!rd(d).n_()&&d.N_.size>0}function Sa(d){return 0===lt(d).L_.size}function up(d){d.Q_=void 0}function t_(d){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,o.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function dp(d){return td.apply(this,arguments)}function td(){return(td=(0,o.A)(function*(d){d.N_.forEach((e,r)=>{qd(d,e)})})).apply(this,arguments)}function n_(d,e){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,o.A)(function*(d,e){up(d),af(d)?(d.q_.M_(e),sf(d)):d.q_.set("Unknown")})).apply(this,arguments)}function Uy(d,e,r){return hp.apply(this,arguments)}function hp(){return hp=(0,o.A)(function*(d,e,r){if(d.q_.set("Online"),e instanceof Ou&&2===e.state&&e.cause)try{yield(a=(0,o.A)(function*(y,b){const R=b.cause;for(const V of b.targetIds)y.N_.has(V)&&(yield y.remoteSyncer.rejectListen(V,R),y.N_.delete(V),y.Q_.removeTarget(V))}),function h(y,b){return a.apply(this,arguments)})(d,e)}catch(a){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Xd(d,a)}else if(e instanceof rc?d.Q_.Ke(e):e instanceof Mu?d.Q_.He(e):d.Q_.We(e),!r.isEqual($t.min()))try{const a=yield Ud(d.localStore);r.compareTo(a)>=0&&(yield function(y,b){const R=y.Q_.rt(b);return R.targetChanges.forEach((V,K)=>{if(V.resumeToken.approximateByteSize()>0){const oe=y.N_.get(K);oe&&y.N_.set(K,oe.withResumeToken(V.resumeToken,b))}}),R.targetMismatches.forEach((V,K)=>{const oe=y.N_.get(V);if(!oe)return;y.N_.set(V,oe.withResumeToken(Ri.EMPTY_BYTE_STRING,oe.snapshotVersion)),cp(y,V);const be=new N(oe.target,V,K,oe.sequenceNumber);qd(y,be)}),y.remoteSyncer.applyRemoteEvent(R)}(d,r))}catch(a){Ee("RemoteStore","Failed to raise snapshot:",a),yield Xd(d,a)}var a}),hp.apply(this,arguments)}function Xd(d,e,r){return Og.apply(this,arguments)}function Og(){return(Og=(0,o.A)(function*(d,e,r){if(!Vt(e))throw e;d.L_.add(1),yield Kd(d),d.q_.set("Offline"),r||(r=()=>Ud(d.localStore)),d.asyncQueue.enqueueRetryable((0,o.A)(function*(){Ee("RemoteStore","Retrying IndexedDB access"),yield r(),d.L_.delete(1),yield da(d)}))})).apply(this,arguments)}function r_(d,e){return e().catch(r=>Xd(d,r,e))}function Ra(d){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,o.A)(function*(d){const e=lt(d),r=pc(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;i_(e);)try{const h=yield Rg(e.localStore,a);if(null===h){0===e.O_.length&&r.o_();break}a=h.batchId,jy(e,h)}catch(h){yield Xd(e,h)}Zo(e)&&fp(e)})).apply(this,arguments)}function i_(d){return Sa(d)&&d.O_.length<10}function jy(d,e){d.O_.push(e);const r=pc(d);r.r_()&&r.V_&&r.m_(e.mutations)}function Zo(d){return Sa(d)&&!pc(d).n_()&&d.O_.length>0}function fp(d){pc(d).start()}function s_(d){return lf.apply(this,arguments)}function lf(){return(lf=(0,o.A)(function*(d){pc(d).p_()})).apply(this,arguments)}function Uo(d){return nd.apply(this,arguments)}function nd(){return(nd=(0,o.A)(function*(d){const e=pc(d);for(const r of d.O_)e.m_(r.mutations)})).apply(this,arguments)}function o_(d,e,r){return pp.apply(this,arguments)}function pp(){return(pp=(0,o.A)(function*(d,e,r){const a=d.O_.shift(),h=Mo.from(a,e,r);yield r_(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield Ra(d)})).apply(this,arguments)}function By(d,e){return gp.apply(this,arguments)}function gp(){return gp=(0,o.A)(function*(d,e){var r;e&&pc(d).V_&&(yield(r=(0,o.A)(function*(h,y){if(Bs(R=y.code)&&R!==ke.ABORTED){const b=h.O_.shift();pc(h).s_(),yield r_(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,y)),yield Ra(h)}var R}),function a(h,y){return r.apply(this,arguments)})(d,e)),Zo(d)&&fp(d)}),gp.apply(this,arguments)}function mp(d,e){return _p.apply(this,arguments)}function _p(){return(_p=(0,o.A)(function*(d,e){const r=lt(d);r.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const a=Sa(r);r.L_.add(3),yield Kd(r),a&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield da(r)})).apply(this,arguments)}function Qd(d,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,o.A)(function*(d,e){const r=lt(d);e?(r.L_.delete(2),yield da(r)):e||(r.L_.add(2),yield Kd(r),r.q_.set("Unknown"))})).apply(this,arguments)}function rd(d){return d.K_||(d.K_=function(r,a,h){const y=lt(r);return y.w_(),new zd(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:t_.bind(null,d),Ro:dp.bind(null,d),mo:n_.bind(null,d),d_:Uy.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.K_.s_(),af(d)?sf(d):d.q_.set("Unknown")):(yield d.K_.stop(),up(d))});return function(r){return e.apply(this,arguments)}}())),d.K_}function pc(d){return d.U_||(d.U_=function(r,a,h){const y=lt(r);return y.w_(),new Pg(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:s_.bind(null,d),mo:By.bind(null,d),f_:Uo.bind(null,d),g_:o_.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.U_.s_(),yield Ra(d)):(yield d.U_.stop(),d.O_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(r){return e.apply(this,arguments)}}())),d.U_}class gc{constructor(e,r,a,h,y){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=h,this.removalCallback=y,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,h,y){const b=Date.now()+a,R=new gc(e,r,b,h,y);return R.start(a),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zl(d,e){if(Je("AsyncQueue",`${e}: ${d}`),Vt(d))return new st(ke.UNAVAILABLE,`${e}: ${d}`);throw d}class Jd{constructor(e){this.comparator=e?(r,a)=>e(r,a)||zt.comparator(r.key,a.key):(r,a)=>zt.comparator(r.key,a.key),this.keyedMap=fo(),this.sortedSet=new Kr(this.comparator)}static emptySet(e){return new Jd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Jd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,y=a.getNext().key;if(!h.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const a=new Jd;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class Zd{constructor(){this.W_=new Kr(zt.comparator)}track(e){const r=e.doc.key,a=this.W_.get(r);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(r,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(r):1===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):qe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,a)=>{e.push(a)}),e}}class eh{constructor(e,r,a,h,y,b,R,V,K){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=R,this.excludesMetadataChanges=V,this.hasCachedResults=K}static fromInitialDocuments(e,r,a,h,y){const b=[];return r.forEach(R=>{b.push({type:0,doc:R})}),new eh(e,r,Jd.emptySet(r),b,a,h,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ho(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==a[h].type||!r[h].doc.isEqual(a[h].doc))return!1;return!0}}class $y{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class a_{constructor(){this.queries=kg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,a){const h=lt(r),y=h.queries;h.queries=kg(),y.forEach((b,R)=>{for(const V of R.j_)V.onError(a)})}(this,new st(ke.ABORTED,"Firestore shutting down"))}}function kg(){return new Wi(d=>Rs(d),ho)}function vp(d,e){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,o.A)(function*(d,e){const r=lt(d);let a=3;const h=e.query;let y=r.queries.get(h);y?!y.H_()&&e.J_()&&(a=2):(y=new $y,a=e.J_()?0:1);try{switch(a){case 0:y.z_=yield r.onListen(h,!0);break;case 1:y.z_=yield r.onListen(h,!1);break;case 2:yield r.onFirstRemoteStoreListen(h)}}catch(b){const R=zl(b,`Initialization of query '${ts(e.query)}' failed`);return void e.onError(R)}r.queries.set(h,y),y.j_.push(e),e.Z_(r.onlineState),y.z_&&e.X_(y.z_)&&Lg(r)})).apply(this,arguments)}function th(d,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,o.A)(function*(d,e){const r=lt(d),a=e.query;let h=3;const y=r.queries.get(a);if(y){const b=y.j_.indexOf(e);b>=0&&(y.j_.splice(b,1),0===y.j_.length?h=e.J_()?0:1:!y.H_()&&e.J_()&&(h=2))}switch(h){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Fg(d,e){const r=lt(d);let a=!1;for(const h of e){const b=r.queries.get(h.query);if(b){for(const R of b.j_)R.X_(h)&&(a=!0);b.z_=h}}a&&Lg(r)}function bp(d,e,r){const a=lt(d),h=a.queries.get(e);if(h)for(const y of h.j_)y.onError(r);a.queries.delete(e)}function Lg(d){d.Y_.forEach(e=>{e.next()})}var Vg,l_;(l_=Vg||(Vg={})).ea="default",l_.Cache="cache";class Zc{constructor(e,r,a){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new eh(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=eh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Vg.Cache}}class Gy{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class c_{constructor(e){this.serializer=e}Es(e){return zn(this.serializer,e)}ds(e){return e.metadata.exists?oc(this.serializer,e.document,!1):Et.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Di(e)}}class u_{constructor(e,r,a){this.ca=e,this.localStore=r,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cf(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const a=an.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,a=new c_(this.serializer);for(const h of e)if(h.metadata.queries){const y=a.Es(h.metadata.name);for(const b of h.metadata.queries){const R=(r.get(b)||mr()).add(y);r.set(b,R)}}return r}complete(){var e=this;return(0,o.A)(function*(){const r=yield function Zu(d,e,r,a){return Bd.apply(this,arguments)}(e.localStore,new c_(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield nf(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function cf(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class Tp{constructor(e){this.key=e}}class nh{constructor(e){this.key=e}}class d_{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=mr(),this.mutatedKeys=mr(),this.Aa=Ps(e),this.Ra=new Jd(this.Aa)}get Va(){return this.Ta}ma(e,r){const a=r?r.fa:new Zd,h=r?r.Ra:this.Ra;let y=r?r.mutatedKeys:this.mutatedKeys,b=h,R=!1;const V="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,K="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((oe,be)=>{const We=h.get(oe),At=Wo(this.query,be)?be:null,Wt=!!We&&this.mutatedKeys.has(We.key),dn=!!At&&(At.hasLocalMutations||this.mutatedKeys.has(At.key)&&At.hasCommittedMutations);let rn=!1;We&&At?We.data.isEqual(At.data)?Wt!==dn&&(a.track({type:3,doc:At}),rn=!0):this.ga(We,At)||(a.track({type:2,doc:At}),rn=!0,(V&&this.Aa(At,V)>0||K&&this.Aa(At,K)<0)&&(R=!0)):!We&&At?(a.track({type:0,doc:At}),rn=!0):We&&!At&&(a.track({type:1,doc:We}),rn=!0,(V||K)&&(R=!0)),rn&&(At?(b=b.add(At),y=dn?y.add(oe):y.delete(oe)):(b=b.delete(oe),y=y.delete(oe)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const oe="F"===this.query.limitType?b.last():b.first();b=b.delete(oe.key),y=y.delete(oe.key),a.track({type:1,doc:oe})}return{Ra:b,fa:a,ns:R,mutatedKeys:y}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,h){const y=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((oe,be)=>function(At,Wt){const dn=rn=>{switch(rn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return dn(At)-dn(Wt)}(oe.type,be.type)||this.Aa(oe.doc,be.doc)),this.pa(a),h=null!=h&&h;const R=r&&!h?this.ya():[],V=0===this.da.size&&this.current&&!h?1:0,K=V!==this.Ea;return this.Ea=V,0!==b.length||K?{snapshot:new eh(this.query,e.Ra,y,b,e.mutatedKeys,0===V,K,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:R}:{wa:R}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Zd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=mr(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const r=[];return e.forEach(a=>{this.da.has(a)||r.push(new nh(a))}),this.da.forEach(a=>{e.has(a)||r.push(new Tp(a))}),r}ba(e){this.Ta=e.Ts,this.da=mr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return eh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class aE{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class uf{constructor(e){this.key=e,this.va=!1}}class h_{constructor(e,r,a,h,y,b){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=h,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new Wi(R=>Rs(R),ho),this.Ma=new Map,this.xa=new Set,this.Oa=new Kr(zt.comparator),this.Na=new Map,this.La=new ip,this.Ba={},this.ka=new Map,this.qa=Fl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function id(d,e){return df.apply(this,arguments)}function df(){return(df=(0,o.A)(function*(d,e,r=!0){const a=Mp(d);let h;const y=a.Fa.get(e);return y?(a.sharedClientState.addLocalQueryTarget(y.targetId),h=y.view.Da()):h=yield rh(a,e,r,!0),h})).apply(this,arguments)}function f_(d,e){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,o.A)(function*(d,e){const r=Mp(d);yield rh(r,e,!0,!1)})).apply(this,arguments)}function rh(d,e,r,a){return ih.apply(this,arguments)}function ih(){return(ih=(0,o.A)(function*(d,e,r,a){const h=yield Da(d.localStore,mn(e)),y=h.targetId,b=d.sharedClientState.addLocalQueryTarget(y,r);let R;return a&&(R=yield hf(d,e,y,"current"===b,h.resumeToken)),d.isPrimaryClient&&r&&ed(d.remoteStore,h),R})).apply(this,arguments)}function hf(d,e,r,a,h){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,o.A)(function*(d,e,r,a,h){d.Ka=(be,We,At)=>{return(Wt=(0,o.A)(function*(rn,Yn,cr,Zn){let Nr=Yn.view.ma(cr);Nr.ns&&(Nr=yield El(rn.localStore,Yn.query,!1).then(({documents:Be})=>Yn.view.ma(Be,Nr)));const Mi=Zn&&Zn.targetChanges.get(Yn.targetId),ai=Zn&&null!=Zn.targetMismatches.get(Yn.targetId),ft=Yn.view.applyChanges(Nr,rn.isPrimaryClient,Mi,ai);return tu(rn,Yn.targetId,ft.wa),ft.snapshot}),function dn(rn,Yn,cr,Zn){return Wt.apply(this,arguments)})(d,be,We,At);var Wt};const y=yield El(d.localStore,e,!0),b=new d_(e,y.Ts),R=b.ma(y.documents),V=Ta.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==d.onlineState,h),K=b.applyChanges(R,d.isPrimaryClient,V);tu(d,r,K.wa);const oe=new aE(e,r,b);return d.Fa.set(e,oe),d.Ma.has(r)?d.Ma.get(r).push(e):d.Ma.set(r,[e]),K.snapshot}),Cp.apply(this,arguments)}function jg(d,e,r){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,o.A)(function*(d,e,r){const a=lt(d),h=a.Fa.get(e),y=a.Ma.get(h.targetId);if(y.length>1)return a.Ma.set(h.targetId,y.filter(b=>!ho(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield qc(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),r&&fc(a.remoteStore,h.targetId),mc(a,h.targetId)}).catch(Bn))):(mc(a,h.targetId),yield qc(a.localStore,h.targetId,!0))})).apply(this,arguments)}function p_(d,e){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,o.A)(function*(d,e){const r=lt(d),a=r.Fa.get(e),h=r.Ma.get(a.targetId);r.isPrimaryClient&&1===h.length&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),fc(r.remoteStore,a.targetId))})).apply(this,arguments)}function sd(){return(sd=(0,o.A)(function*(d,e,r){const a=qg(d);try{const h=yield function(b,R){const V=lt(b),K=Kt.now(),oe=R.reduce((At,Wt)=>At.add(Wt.key),mr());let be,We;return V.persistence.runTransaction("Locally write mutations","readwrite",At=>{let Wt=ms(),dn=mr();return V.cs.getEntries(At,oe).next(rn=>{Wt=rn,Wt.forEach((Yn,cr)=>{cr.isValidDocument()||(dn=dn.add(Yn))})}).next(()=>V.localDocuments.getOverlayedDocuments(At,Wt)).next(rn=>{be=rn;const Yn=[];for(const cr of R){const Zn=si(cr,be.get(cr.key).overlayedDocument);null!=Zn&&Yn.push(new ci(cr.key,Zn,nt(Zn.value.mapValue),X.exists(!0)))}return V.mutationQueue.addMutationBatch(At,K,Yn,R)}).next(rn=>{We=rn;const Yn=rn.applyToLocalDocumentSet(be,dn);return V.documentOverlayCache.saveOverlays(At,rn.batchId,Yn)})}).then(()=>({batchId:We.batchId,changes:oa(be)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,R,V){let K=b.Ba[b.currentUser.toKey()];K||(K=new Kr(Zt)),K=K.insert(R,V),b.Ba[b.currentUser.toKey()]=K}(a,h.batchId,r),yield _c(a,h.changes),yield Ra(a.remoteStore)}catch(h){const y=zl(h,"Failed to persist write");r.reject(y)}})).apply(this,arguments)}function $g(d,e){return ff.apply(this,arguments)}function ff(){return(ff=(0,o.A)(function*(d,e){const r=lt(d);try{const a=yield function ap(d,e){const r=lt(d),a=e.snapshotVersion;let h=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const b=r.cs.newChangeBuffer({trackRemovals:!0});h=r.os;const R=[];e.targetChanges.forEach((oe,be)=>{const We=h.get(be);if(!We)return;R.push(r.Ur.removeMatchingKeys(y,oe.removedDocuments,be).next(()=>r.Ur.addMatchingKeys(y,oe.addedDocuments,be)));let At=We.withSequenceNumber(y.currentSequenceNumber);var dn,rn,Yn;null!==e.targetMismatches.get(be)?At=At.withResumeToken(Ri.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):oe.resumeToken.approximateByteSize()>0&&(At=At.withResumeToken(oe.resumeToken,a)),h=h.insert(be,At),rn=At,Yn=oe,(0===(dn=We).resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-dn.snapshotVersion.toMicroseconds()>=3e8||Yn.addedDocuments.size+Yn.modifiedDocuments.size+Yn.removedDocuments.size>0)&&R.push(r.Ur.updateTargetData(y,At))});let V=ms(),K=mr();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&R.push(r.persistence.referenceDelegate.updateLimboDocument(y,oe))}),R.push(Zh(y,b,e.documentUpdates).next(oe=>{V=oe.Ps,K=oe.Is})),!a.isEqual($t.min())){const oe=r.Ur.getLastRemoteSnapshotVersion(y).next(be=>r.Ur.setTargetsMetadata(y,y.currentSequenceNumber,a));R.push(oe)}return ot.waitFor(R).next(()=>b.apply(y)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,V,K)).next(()=>V)}).then(y=>(r.os=h,y))}(r.localStore,e);e.targetChanges.forEach((h,y)=>{const b=r.Na.get(y);b&&(xt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?xt(b.va):h.removedDocuments.size>0&&(xt(b.va),b.va=!1))}),yield _c(r,a,e)}catch(a){yield Bn(a)}})).apply(this,arguments)}function eu(d,e,r){const a=lt(d);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const h=[];a.Fa.forEach((y,b)=>{const R=b.view.Z_(e);R.snapshot&&h.push(R.snapshot)}),function(b,R){const V=lt(b);V.onlineState=R;let K=!1;V.queries.forEach((oe,be)=>{for(const We of be.j_)We.Z_(R)&&(K=!0)}),K&&Lg(V)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function g_(d,e,r){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,o.A)(function*(d,e,r){const a=lt(d);a.sharedClientState.updateQueryState(e,"rejected",r);const h=a.Na.get(e),y=h&&h.key;if(y){let b=new Kr(zt.comparator);b=b.insert(y,Et.newNoDocument(y,$t.min()));const R=mr().add(y),V=new ws($t.min(),new Map,new Kr(Zt),b,R);yield $g(a,V),a.Oa=a.Oa.remove(y),a.Na.delete(e),gf(a)}else yield qc(a.localStore,e,!1).then(()=>mc(a,e,r)).catch(Bn)})).apply(this,arguments)}function Tl(d,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,o.A)(function*(d,e){const r=lt(d),a=e.batch.batchId;try{const h=yield function op(d,e){const r=lt(d);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),y=r.cs.newChangeBuffer({trackRemovals:!0});return function(R,V,K,oe){const be=K.batch,We=be.keys();let At=ot.resolve();return We.forEach(Wt=>{At=At.next(()=>oe.getEntry(V,Wt)).next(dn=>{const rn=K.docVersions.get(Wt);xt(null!==rn),dn.version.compareTo(rn)<0&&(be.applyToRemoteDocument(dn,K),dn.isValidDocument()&&(dn.setReadTime(K.commitVersion),oe.addEntry(dn)))})}),At.next(()=>R.mutationQueue.removeMutationBatch(V,be))}(r,a,e,y).next(()=>y.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(R){let V=mr();for(let K=0;K<R.mutationResults.length;++K)R.mutationResults[K].transformResults.length>0&&(V=V.add(R.batch.mutations[K].key));return V}(e))).next(()=>r.localDocuments.getDocuments(a,h))})}(r.localStore,e);Sp(r,a,null),Dp(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield _c(r,h)}catch(h){yield Bn(h)}})).apply(this,arguments)}function m_(d,e,r){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,o.A)(function*(d,e,r){const a=lt(d);try{const h=yield function(b,R){const V=lt(b);return V.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let oe;return V.mutationQueue.lookupMutationBatch(K,R).next(be=>(xt(null!==be),oe=be.keys(),V.mutationQueue.removeMutationBatch(K,be))).next(()=>V.mutationQueue.performConsistencyCheck(K)).next(()=>V.documentOverlayCache.removeOverlaysForBatchId(K,oe,R)).next(()=>V.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,oe)).next(()=>V.localDocuments.getDocuments(K,oe))})}(a.localStore,e);Sp(a,e,r),Dp(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),yield _c(a,h)}catch(h){yield Bn(h)}})).apply(this,arguments)}function zg(){return(zg=(0,o.A)(function*(d,e){const r=lt(d);Sa(r.remoteStore)||Ee("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const R=lt(b);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",V=>R.mutationQueue.getHighestUnacknowledgedBatchId(V))}(r.localStore);if(-1===a)return void e.resolve();const h=r.ka.get(a)||[];h.push(e),r.ka.set(a,h)}catch(a){const h=zl(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function Dp(d,e){(d.ka.get(e)||[]).forEach(r=>{r.resolve()}),d.ka.delete(e)}function Sp(d,e,r){const a=lt(d);let h=a.Ba[a.currentUser.toKey()];if(h){const y=h.get(e);y&&(r?y.reject(r):y.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function mc(d,e,r=null){d.sharedClientState.removeLocalQueryTarget(e);for(const a of d.Ma.get(e))d.Fa.delete(a),r&&d.Ca.$a(a,r);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(a=>{d.La.containsKey(a)||pf(d,a)})}function pf(d,e){d.xa.delete(e.path.canonicalString());const r=d.Oa.get(e);null!==r&&(fc(d.remoteStore,r),d.Oa=d.Oa.remove(e),d.Na.delete(r),gf(d))}function tu(d,e,r){for(const a of r)a instanceof Tp?(d.La.addReference(a.key,e),__(d,a)):a instanceof nh?(Ee("SyncEngine","Document no longer in limbo: "+a.key),d.La.removeReference(a.key,e),d.La.containsKey(a.key)||pf(d,a.key)):qe()}function __(d,e){const r=e.key,a=r.path.canonicalString();d.Oa.get(r)||d.xa.has(a)||(Ee("SyncEngine","New document in limbo: "+r),d.xa.add(a),gf(d))}function gf(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const r=new zt(an.fromString(e)),a=d.qa.next();d.Na.set(a,new uf(r)),d.Oa=d.Oa.insert(r,a),ed(d.remoteStore,new N(mn(ee(r.path)),a,"TargetPurposeLimboResolution",L.oe))}}function _c(d,e,r){return yc.apply(this,arguments)}function yc(){return yc=(0,o.A)(function*(d,e,r){const a=lt(d),h=[],y=[],b=[];var R;a.Fa.isEmpty()||(a.Fa.forEach((R,V)=>{b.push(a.Ka(V,e,r).then(K=>{var oe;if((K||r)&&a.isPrimaryClient){const be=K?!K.fromCache:null===(oe=r?.targetChanges.get(V.targetId))||void 0===oe?void 0:oe.current;a.sharedClientState.updateQueryState(V.targetId,be?"current":"not-current")}if(K){h.push(K);const be=sp.Wi(V.targetId,K);y.push(be)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(R=(0,o.A)(function*(K,oe){const be=lt(K);try{yield be.persistence.runTransaction("notifyLocalViewChanges","readwrite",We=>ot.forEach(oe,At=>ot.forEach(At.$i,Wt=>be.persistence.referenceDelegate.addReference(We,At.targetId,Wt)).next(()=>ot.forEach(At.Ui,Wt=>be.persistence.referenceDelegate.removeReference(We,At.targetId,Wt)))))}catch(We){if(!Vt(We))throw We;Ee("LocalStore","Failed to update sequence numbers: "+We)}for(const We of oe){const At=We.targetId;if(!We.fromCache){const Wt=be.os.get(At),rn=Wt.withLastLimboFreeSnapshotVersion(Wt.snapshotVersion);be.os=be.os.insert(At,rn)}}}),function V(K,oe){return R.apply(this,arguments)})(a.localStore,y))}),yc.apply(this,arguments)}function Rp(d,e){return mf.apply(this,arguments)}function mf(){return(mf=(0,o.A)(function*(d,e){const r=lt(d);if(!r.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const a=yield Ka(r.localStore,e);r.currentUser=e,(y=r).ka.forEach(R=>{R.forEach(V=>{V.reject(new st(ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ka.clear(),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield _c(r,a.hs)}var y})).apply(this,arguments)}function sh(d,e){const r=lt(d),a=r.Na.get(e);if(a&&a.va)return mr().add(a.key);{let h=mr();const y=r.Ma.get(e);if(!y)return h;for(const b of y){const R=r.Fa.get(b);h=h.unionWith(R.view.Va)}return h}}function _f(d,e){return yf.apply(this,arguments)}function yf(){return(yf=(0,o.A)(function*(d,e){const r=lt(d),a=yield El(r.localStore,e.query,!0),h=e.view.ba(a);return r.isPrimaryClient&&tu(r,e.targetId,h.wa),h})).apply(this,arguments)}function Pp(d,e){return xp.apply(this,arguments)}function xp(){return(xp=(0,o.A)(function*(d,e){const r=lt(d);return bl(r.localStore,e).then(a=>_c(r,a))})).apply(this,arguments)}function y_(d,e,r,a){return vc.apply(this,arguments)}function vc(){return(vc=(0,o.A)(function*(d,e,r,a){const h=lt(d),y=yield function(R,V){const K=lt(R),oe=lt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",be=>oe.Mn(be,V).next(We=>We?K.localDocuments.getDocuments(be,We):ot.resolve(null)))}(h.localStore,e);var V;null!==y?("pending"===r?yield Ra(h.remoteStore):"acknowledged"===r||"rejected"===r?(Sp(h,e,a||null),Dp(h,e),V=e,lt(lt(h.localStore).mutationQueue).On(V)):qe(),yield _c(h,y)):Ee("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function vf(){return(vf=(0,o.A)(function*(d,e){const r=lt(d);if(Mp(r),qg(r),!0===e&&!0!==r.Qa){const a=r.sharedClientState.getAllActiveQueryTargets(),h=yield E_(r,a.toArray());r.Qa=!0,yield Qd(r.remoteStore,!0);for(const y of h)ed(r.remoteStore,y)}else if(!1===e&&!1!==r.Qa){const a=[];let h=Promise.resolve();r.Ma.forEach((y,b)=>{r.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(mc(r,b),qc(r.localStore,b,!0))),fc(r.remoteStore,b)}),yield h,yield E_(r,a),function(b){const R=lt(b);R.Na.forEach((V,K)=>{fc(R.remoteStore,K)}),R.La.pr(),R.Na=new Map,R.Oa=new Kr(zt.comparator)}(r),r.Qa=!1,yield Qd(r.remoteStore,!1)}})).apply(this,arguments)}function E_(d,e,r){return nu.apply(this,arguments)}function nu(){return(nu=(0,o.A)(function*(d,e,r){const a=lt(d),h=[],y=[];for(const b of e){let R;const V=a.Ma.get(b);if(V&&0!==V.length){R=yield Da(a.localStore,mn(V[0]));for(const K of V){const oe=a.Fa.get(K),be=yield _f(a,oe);be.snapshot&&y.push(be.snapshot)}}else{const K=yield ef(a.localStore,b);R=yield Da(a.localStore,K),yield hf(a,b_(K),b,!1,R.resumeToken)}h.push(R)}return a.Ca.d_(y),h})).apply(this,arguments)}function b_(d){return W(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function ru(d){return r=lt(d).localStore,lt(lt(r).persistence).Qi();var r}function Pa(d,e,r,a){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,o.A)(function*(d,e,r,a){const h=lt(d);if(h.Qa)return void Ee("SyncEngine","Ignoring unexpected query state notification.");const y=h.Ma.get(e);if(y&&y.length>0)switch(r){case"current":case"not-current":{const b=yield bl(h.localStore,tc(y[0])),R=ws.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Ri.EMPTY_BYTE_STRING);yield _c(h,b,R);break}case"rejected":yield qc(h.localStore,e,!0),mc(h,e,a);break;default:qe()}})).apply(this,arguments)}function zy(d,e,r){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,o.A)(function*(d,e,r){const a=Mp(d);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){Ee("SyncEngine","Adding an already active target "+h);continue}const y=yield ef(a.localStore,h),b=yield Da(a.localStore,y);yield hf(a,b_(y),b.targetId,!1,b.resumeToken),ed(a.remoteStore,b)}for(const h of r)a.Ma.has(h)&&(yield qc(a.localStore,h,!1).then(()=>{fc(a.remoteStore,h),mc(a,h)}).catch(Bn))}})).apply(this,arguments)}function Mp(d){const e=lt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=$g.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g_.bind(null,e),e.Ca.d_=Fg.bind(null,e.eventManager),e.Ca.$a=bp.bind(null,e.eventManager),e}function qg(d){const e=lt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m_.bind(null,e),e}let od=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var a=this;return(0,o.A)(function*(){a.serializer=Hl(r.databaseInfo.databaseId),a.sharedClientState=a.Wa(r),a.persistence=a.Ga(r),yield a.persistence.start(),a.localStore=a.za(r),a.gcScheduler=a.ja(r,a.localStore),a.indexBackfillerScheduler=a.Ha(r,a.localStore)})()}ja(r,a){return null}Ha(r,a){return null}za(r){return Vd(this.persistence,new Wa,r.initialUser,this.serializer)}Ga(r){return new Qh(kd.Zr,this.serializer)}Wa(r){return new S}terminate(){var r=this;return(0,o.A)(function*(){var a,h;null===(a=r.gcScheduler)||void 0===a||a.stop(),null===(h=r.indexBackfillerScheduler)||void 0===h||h.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class Yg extends od{constructor(e,r,a){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e),yield a.Ja.initialize(a,e),yield qg(a.Ja.syncEngine),yield Ra(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Vd(this.persistence,new Wa,e.initialUser,this.serializer)}ja(e,r){return new vl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const a=new x(r,this.persistence);return new $(e.asyncQueue,a)}Ga(e){const r=Ld(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ns.withCacheSize(this.cacheSizeBytes):Ns.DEFAULT;return new Fd(this.synchronizeTabs,r,e.clientId,a,e.asyncQueue,bo(),ua(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class Xg extends Yg{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof v&&(a.sharedClientState.syncEngine={no:y_.bind(null,h),ro:Pa.bind(null,h),io:zy.bind(null,h),Qi:ru.bind(null,h),eo:Pp.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var y=(0,o.A)(function*(b){yield function v_(d,e){return vf.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return y.apply(this,arguments)}}())})()}Wa(e){const r=bo();if(!v.D(r))throw new st(ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Ld(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(r,e.asyncQueue,a,e.clientId,e.initialUser)}}let Ec=(()=>{class d{initialize(r,a){var h=this;return(0,o.A)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=y=>eu(h.syncEngine,y,1),h.remoteStore.remoteSyncer.handleCredentialChange=Rp.bind(null,h.syncEngine),yield Qd(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new a_}createDatastore(r){const a=Hl(r.databaseInfo.databaseId),h=new Jr(r.databaseInfo);return new lp(r.authCredentials,r.appCheckCredentials,h,a)}createRemoteStore(r){return h=this.localStore,y=this.datastore,b=r.asyncQueue,R=a=>eu(this.syncEngine,a,0),V=he.D()?new he:new Q,new xg(h,y,b,R,V);var h,y,b,R,V}createSyncEngine(r,a){return function(y,b,R,V,K,oe,be){const We=new h_(y,b,R,V,K,oe);return be&&(We.Qa=!0),We}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){var r=this;return(0,o.A)(function*(){var a,h,y;yield(y=(0,o.A)(function*(R){const V=lt(R);Ee("RemoteStore","RemoteStore shutting down."),V.L_.add(5),yield Kd(V),V.k_.shutdown(),V.q_.set("Unknown")}),function b(R){return y.apply(this,arguments)})(r.remoteStore),null===(a=r.datastore)||void 0===a||a.terminate(),null===(h=r.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function iu(d,e=10240){let r=0;return{read:()=>(0,o.A)(function*(){if(r<d.byteLength){const a={value:d.slice(r,r+e),done:!1};return r+=e,a}return{done:!0}})(),cancel:()=>(0,o.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class qa{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Je("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class Ef{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new tn,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,o.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,o.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,o.A)(function*(){const r=yield e.nu();if(null===r)return null;const a=e.eu.decode(r),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const y=yield e.iu(h);return new Gy(JSON.parse(y),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,o.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),a})()}iu(e){var r=this;return(0,o.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const a=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,o.A)(function*(){const r=yield e.Xa.read();if(!r.done){const a=new Uint8Array(e.buffer.length+r.value.length);a.set(e.buffer),a.set(r.value,e.buffer.length),e.buffer=a}return r.done})()}}class bf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,o.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new st(ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const a=yield(h=(0,o.A)(function*(b,R){const V=lt(b),K={documents:R.map(At=>wr(V.serializer,At))},oe=yield V.Lo("BatchGetDocuments",V.serializer.databaseId,an.emptyPath(),K,R.length),be=new Map;oe.forEach(At=>{const Wt=function Lu(d,e){return"found"in e?function(a,h){xt(!!h.found);const y=zn(a,h.found.name),b=Di(h.found.updateTime),R=h.found.createTime?Di(h.found.createTime):$t.min(),V=new Ue({mapValue:{fields:h.found.fields}});return Et.newFoundDocument(y,b,R,V)}(d,e):"missing"in e?function(a,h){xt(!!h.missing),xt(!!h.readTime);const y=zn(a,h.missing),b=Di(h.readTime);return Et.newNoDocument(y,b)}(d,e):qe()}(V.serializer,At);be.set(Wt.key.toString(),Wt)});const We=[];return R.forEach(At=>{const Wt=be.get(At.toString());xt(!!Wt),We.push(Wt)}),We}),function y(b,R){return h.apply(this,arguments)})(r.datastore,e);var h;return a.forEach(h=>r.recordVersion(h)),a})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new $i(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,o.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var a;e.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,h)=>{const y=zt.fromPath(h);e.mutations.push(new ro(y,e.precondition(y)))}),yield(a=(0,o.A)(function*(y,b){const R=lt(y),V={writes:b.map(K=>dl(R.serializer,K))};yield R.Mo("Commit",R.serializer.databaseId,an.emptyPath(),V)}),function h(y,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw qe();r=$t.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!r.isEqual(a))throw new st(ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual($t.min())?X.exists(!1):X.updateTime(r):X.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual($t.min()))throw new st(ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return X.updateTime(r)}return X.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Qg{constructor(e,r,a,h,y){this.asyncQueue=e,this.datastore=r,this.options=a,this.updateFunction=h,this.deferred=y,this._u=a.maxAttempts,this.t_=new Qc(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,o.A)(function*(){const r=new bf(e.datastore),a=e.cu(r);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(y=>{e.lu(y)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!ie(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Bs(r)}return!1}}class yi{constructor(e,r,a,h,y){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=h,this.user=tt.UNAUTHENTICATED,this.clientId=Un.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=y,this.authCredentials.start(a,function(){var R=(0,o.A)(function*(V){Ee("FirestoreClient","Received user=",V.uid),yield b.authCredentialListener(V),b.user=V});return function(V){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(a,R=>(Ee("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(a){const h=zl(a,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function T_(d,e){return C_.apply(this,arguments)}function C_(){return C_=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const r=d.configuration;yield e.initialize(r);let a=r.initialUser;d.setCredentialChangeListener(function(){var h=(0,o.A)(function*(y){a.isEqual(y)||(yield Ka(e.localStore,y),a=y)});return function(y){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),C_.apply(this,arguments)}function I_(d,e){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const r=yield Cf(d);Ee("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,d.configuration),d.setCredentialChangeListener(a=>mp(e.remoteStore,a)),d.setAppCheckTokenChangeListener((a,h)=>mp(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function Cf(d){return w_.apply(this,arguments)}function w_(){return(w_=(0,o.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield T_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===ke.FAILED_PRECONDITION||h.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;Xt("Error using user provided cache. Falling back to memory cache: "+e),yield T_(d,new od)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),yield T_(d,new od);var h;return d._offlineComponents})).apply(this,arguments)}function Jg(d){return Op.apply(this,arguments)}function Op(){return(Op=(0,o.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield I_(d,d._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),yield I_(d,new Ec))),d._onlineComponents})).apply(this,arguments)}function A_(d){return Cf(d).then(e=>e.persistence)}function oh(d){return Cf(d).then(e=>e.localStore)}function D_(d){return Jg(d).then(e=>e.remoteStore)}function Zg(d){return Jg(d).then(e=>e.syncEngine)}function bc(d){return Np.apply(this,arguments)}function Np(){return(Np=(0,o.A)(function*(d){const e=yield Jg(d),r=e.eventManager;return r.onListen=id.bind(null,e.syncEngine),r.onUnlisten=jg.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=f_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=p_.bind(null,e.syncEngine),r})).apply(this,arguments)}function nm(d,e,r={}){const a=new tn;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(y,b,R,V,K){const oe=new qa({next:We=>{oe.Za(),b.enqueueAndForget(()=>th(y,be));const At=We.docs.has(R);!At&&We.fromCache?K.reject(new st(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):At&&We.fromCache&&V&&"server"===V.source?K.reject(new st(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(We)},error:We=>K.reject(We)}),be=new Zc(ee(R.path),oe,{includeMetadataChanges:!0,_a:!0});return vp(y,be)}(yield bc(d),d.asyncQueue,e,r,a)})),a.promise}function kp(d,e,r={}){const a=new tn;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(y,b,R,V,K){const oe=new qa({next:We=>{oe.Za(),b.enqueueAndForget(()=>th(y,be)),We.fromCache&&"server"===V.source?K.reject(new st(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(We)},error:We=>K.reject(We)}),be=new Zc(R,oe,{includeMetadataChanges:!0,_a:!0});return vp(y,be)}(yield bc(d),d.asyncQueue,e,r,a)})),a.promise}function ev(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const ah=new Map;function ld(d,e,r){if(!r)throw new st(ke.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function rm(d,e,r,a){if(!0===e&&!0===a)throw new st(ke.INVALID_ARGUMENT,`${d} and ${r} cannot be used together.`)}function im(d){if(!zt.isDocumentKey(d))throw new st(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function Fp(d){if(zt.isDocumentKey(d))throw new st(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function lh(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(a=d).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof d?"a function":qe()}function oi(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new st(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=lh(d);throw new st(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return d}function sm(d,e){if(e<=0)throw new st(ke.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class Lp{constructor(e){var r,a;if(void 0===e.host){if(void 0!==e.ssl)throw new st(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ev(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new st(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new st(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new st(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tc{constructor(e,r,a,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lp(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new Re;switch(a.type){case"firstParty":return new it(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,o.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=ah.get(r);a&&(Ee("ComponentProvider","Removing Datastore"),ah.delete(r),a.terminate())}(this),Promise.resolve()}}function tv(d,e,r,a={}){var h;const y=(d=oi(d,Tc))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==y.host&&y.host!==b&&Xt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},y),{host:b,ssl:!1})),a.mockUserToken){let R,V;if("string"==typeof a.mockUserToken)R=a.mockUserToken,V=tt.MOCK_USER;else{R=(0,_e.Fy)(a.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const K=a.mockUserToken.sub||a.mockUserToken.user_id;if(!K)throw new st(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new tt(K)}d._authCredentials=new Te(new ze(R,V))}}class so{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class Fs{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fs(this.firestore,e,this._key)}}class Ya extends so{constructor(e,r,a){super(e,r,ee(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fs(this.firestore,null,new zt(e))}withConverter(e){return new Ya(this.firestore,e,this._path)}}function P_(d,e,...r){if(d=(0,_e.Ku)(d),ld("collection","path",e),d instanceof Tc){const a=an.fromString(e,...r);return Fp(a),new Ya(d,null,a)}{if(!(d instanceof Fs||d instanceof Ya))throw new st(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(an.fromString(e,...r));return Fp(a),new Ya(d.firestore,null,a)}}function x_(d,e){if(d=oi(d,Tc),ld("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new st(ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new so(d,null,(a=e,new zo(an.emptyPath(),a)));var a}function su(d,e,...r){if(d=(0,_e.Ku)(d),1===arguments.length&&(e=Un.newId()),ld("doc","path",e),d instanceof Tc){const a=an.fromString(e,...r);return im(a),new Fs(d,null,new zt(a))}{if(!(d instanceof Fs||d instanceof Ya))throw new st(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(an.fromString(e,...r));return im(a),new Fs(d.firestore,d instanceof Ya?d.converter:null,new zt(a))}}function nv(d,e){return d=(0,_e.Ku)(d),e=(0,_e.Ku)(e),(d instanceof Fs||d instanceof Ya)&&(e instanceof Fs||e instanceof Ya)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function If(d,e){return d=(0,_e.Ku)(d),e=(0,_e.Ku)(e),d instanceof so&&e instanceof so&&d.firestore===e.firestore&&ho(d._query,e._query)&&d.converter===e.converter}class wf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Qc(this,"async_queue_retry"),this.Vu=()=>{const a=ua();a&&Ee("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const r=ua();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=ua();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new tn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,o.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!Vt(r))throw r;Ee("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,Je("INTERNAL UNHANDLED ERROR: ",function(b){let R=b.message||"";return b.stack&&(R=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),R}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=r,r}enqueueAfterDelay(e,r,a){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const h=gc.createAndSchedule(this,e,r,a,y=>this.yu(y));return this.Tu.push(h),h}fu(){this.Eu&&qe()}verifyOperationInProgress(){}wu(){var e=this;return(0,o.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function Af(d){return function(r,a){if("object"!=typeof r||null===r)return!1;const h=r;for(const y of["next","error","complete"])if(y in h&&"function"==typeof h[y])return!0;return!1}(d)}class om{constructor(){this._progressObserver={},this._taskCompletionResolver=new tn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,a){this._progressObserver={next:e,error:r,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Vp=-1;class vi extends Tc{constructor(e,r,a,h){super(e,r,a,h),this.type="firestore",this._queue=new wf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,o.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new wf(r),e._firestoreClient=void 0,yield r}})()}}function am(d,e){const r="object"==typeof d?d:(0,le.getApp)(),a="string"==typeof d?d:e||"(default)",h=(0,le._getProvider)(r,"firestore").getImmediate({identifier:a});if(!h._initialized){const y=(0,_e.yU)("firestore");y&&tv(h,...y)}return h}function As(d){if(d._terminated)throw new st(ke.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||M_(d),d._firestoreClient}function M_(d){var e,r,a;const h=d._freezeSettings(),y=(V=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new Qn(d._databaseId,V,d._persistenceKey,(oe=h).host,oe.ssl,oe.experimentalForceLongPolling,oe.experimentalAutoDetectLongPolling,ev(oe.experimentalLongPollingOptions),oe.useFetchStreams));var V,oe;d._componentsProvider||!(null===(r=h.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new yi(d._authCredentials,d._appCheckCredentials,d._queue,y,d._componentsProvider&&function(R){const V=R?._online.build();return{_offline:R?._offline.build(V),_online:V}}(d._componentsProvider))}function O_(d,e){Xt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=d._freezeSettings();return N_(d,Ec.provider,{build:a=>new Yg(a,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function ch(d){return lm.apply(this,arguments)}function lm(){return(lm=(0,o.A)(function*(d){Xt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();N_(d,Ec.provider,{build:r=>new Xg(r,e.cacheSizeBytes)})})).apply(this,arguments)}function N_(d,e,r){if((d=oi(d,vi))._firestoreClient||d._terminated)throw new st(ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new st(ke.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:r},M_(d)}function rv(d){if(d._initialized&&!d._terminated)throw new st(ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new tn;return d._queue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{yield(r=(0,o.A)(function*(h){if(!ue.D())return Promise.resolve();const y=h+"main";yield ue.delete(y)}),function a(h){return r.apply(this,arguments)})(Ld(d._databaseId,d._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function cm(d){return function(r){const a=new tn;return r.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function Hy(d,e){return zg.apply(this,arguments)}(yield Zg(r),a)})),a.promise}(As(d=oi(d,vi)))}function Sf(d){return function tm(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield A_(d),r=yield D_(d);return e.setNetworkEnabled(!0),function(h){const y=lt(h);return y.L_.delete(0),da(y)}(r)}))}(As(d=oi(d,vi)))}function uh(d){return function qy(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield A_(d),r=yield D_(d);return e.setNetworkEnabled(!1),(a=(0,o.A)(function*(y){const b=lt(y);b.L_.add(0),yield Kd(b),b.q_.set("Offline")}),function h(y){return a.apply(this,arguments)})(r);var a}))}(As(d=oi(d,vi)))}function dh(d,e){const r=As(d=oi(d,vi)),a=new om;return function Qy(d,e,r,a){const h=function(b,R){let V;return V="string"==typeof b?Pu().encode(b):b,oe=function(oe,be){if(oe instanceof Uint8Array)return iu(oe,void 0);if(oe instanceof ArrayBuffer)return iu(new Uint8Array(oe),void 0);if(oe instanceof ReadableStream)return oe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(V),new Ef(oe,R);var oe}(r,Hl(e));d.asyncQueue.enqueueAndForget((0,o.A)(function*(){!function Wy(d,e,r){const a=lt(d);var h;(h=(0,o.A)(function*(b,R,V){try{const K=yield R.getMetadata();if(yield function(Wt,dn){const rn=lt(Wt),Yn=Di(dn.createTime);return rn.persistence.runTransaction("hasNewerBundle","readonly",cr=>rn.Gr.getBundleMetadata(cr,dn.id)).then(cr=>!!cr&&cr.createTime.compareTo(Yn)>=0)}(b.localStore,K))return yield R.close(),V._completeWith({taskState:"Success",documentsLoaded:(Wt=K).totalDocuments,bytesLoaded:Wt.totalBytes,totalDocuments:Wt.totalDocuments,totalBytes:Wt.totalBytes}),Promise.resolve(new Set);V._updateProgress(cf(K));const oe=new u_(K,b.localStore,R.serializer);let be=yield R.Ua();for(;be;){const At=yield oe.la(be);At&&V._updateProgress(At),be=yield R.Ua()}const We=yield oe.complete();return yield _c(b,We.Ia,void 0),yield function(Wt,dn){const rn=lt(Wt);return rn.persistence.runTransaction("Save bundle","readwrite",Yn=>rn.Gr.saveBundleMetadata(Yn,dn))}(b.localStore,K),V._completeWith(We.progress),Promise.resolve(We.Pa)}catch(K){return Xt("SyncEngine",`Loading bundle failed with ${K}`),V._failWith(K),Promise.resolve(new Set)}var Wt}),function y(b,R,V){return h.apply(this,arguments)})(a,e,r).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield Zg(d),h,a)}))}(r,d._databaseId,e,a),a}function um(d,e){return function Jy(d,e){return d.asyncQueue.enqueue((0,o.A)(function*(){return function(a,h){const y=lt(a);return y.persistence.runTransaction("Get named query","readonly",b=>y.Gr.getNamedQuery(b,h))}(yield oh(d),e)}))}(As(d=oi(d,vi)),e).then(r=>r?new so(d,null,r.query):null)}class au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new au(Ri.fromBase64String(e))}catch(r){throw new st(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new au(Ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lu{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new st(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wl{constructor(e){this._methodName=e}}class jp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new st(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new st(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}class hh{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let y=0;y<a.length;++y)if(a[y]!==h[y])return!1;return!0}(this._values,e._values)}}const dm=/^__.*__$/;class fh{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return null!==this.fieldMask?new ci(e,this.data,this.fieldMask,r,this.fieldTransforms):new _r(e,this.data,r,this.fieldTransforms)}}class Bp{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new ci(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function $p(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class cu{constructor(e,r,a,h,y,b){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===y&&this.vu(),this.fieldTransforms=y||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new cu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if($p(this.Cu)&&dm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Gp{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||Hl(e)}Qu(e,r,a,h=!1){return new cu({Cu:e,methodName:r,qu:a,path:Jn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xa(d){const e=d._freezeSettings(),r=Hl(d._databaseId);return new Gp(d._databaseId,!!e.ignoreUndefinedProperties,r)}function ph(d,e,r,a,h,y={}){const b=d.Qu(y.merge||y.mergeFields?2:0,e,r,h);fm("Data must be an object, but it was:",b,a);const R=Mf(a,b);let V,K;if(y.merge)V=new hi(b.fieldMask),K=b.fieldTransforms;else if(y.mergeFields){const oe=[];for(const be of y.mergeFields){const We=gh(e,be,r);if(!b.contains(We))throw new st(ke.INVALID_ARGUMENT,`Field '${We}' is specified in your field mask but missing from your input data.`);F_(oe,We)||oe.push(We)}V=new hi(oe),K=b.fieldTransforms.filter(be=>V.covers(be.field))}else V=null,K=b.fieldTransforms;return new fh(new Ue(R),V,K)}class cd extends Wl{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cd}}function Rf(d,e,r){return new cu({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class k_ extends Wl{_toFieldTransform(e){return new P(e.path,new Pl)}isEqual(e){return e instanceof k_}}class Pf extends Wl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Rf(this,e,!0),a=this.Ku.map(y=>fa(y,r)),h=new Ko(a);return new P(e.path,h)}isEqual(e){return e instanceof Pf&&(0,_e.bD)(this.Ku,e.Ku)}}class ud extends Wl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Rf(this,e,!0),a=this.Ku.map(y=>fa(y,r)),h=new Va(a);return new P(e.path,h)}isEqual(e){return e instanceof ud&&(0,_e.bD)(this.Ku,e.Ku)}}class hm extends Wl{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new Ua(e.serializer,Su(e.serializer,this.$u));return new P(e.path,r)}isEqual(e){return e instanceof hm&&this.$u===e.$u}}function xf(d,e,r,a){const h=d.Qu(1,e,r);fm("Data must be an object, but it was:",h,a);const y=[],b=Ue.empty();li(a,(V,K)=>{const oe=dd(e,V,r);K=(0,_e.Ku)(K);const be=h.Nu(oe);if(K instanceof cd)y.push(oe);else{const We=fa(K,be);null!=We&&(y.push(oe),b.set(oe,We))}});const R=new hi(y);return new Bp(b,R,h.fieldTransforms)}function Kl(d,e,r,a,h,y){const b=d.Qu(1,e,r),R=[gh(e,a,r)],V=[h];if(y.length%2!=0)throw new st(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let We=0;We<y.length;We+=2)R.push(gh(e,y[We])),V.push(y[We+1]);const K=[],oe=Ue.empty();for(let We=R.length-1;We>=0;--We)if(!F_(K,R[We])){const At=R[We];let Wt=V[We];Wt=(0,_e.Ku)(Wt);const dn=b.Nu(At);if(Wt instanceof cd)K.push(At);else{const rn=fa(Wt,dn);null!=rn&&(K.push(At),oe.set(At,rn))}}const be=new hi(K);return new Bp(oe,be,b.fieldTransforms)}function oo(d,e,r,a=!1){return fa(r,d.Qu(a?4:3,e))}function fa(d,e){if(sv(d=(0,_e.Ku)(d)))return fm("Unsupported field value:",e,d),Mf(d,e);if(d instanceof Wl)return function(a,h){if(!$p(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const y=a._toFieldTransform(h);y&&h.fieldTransforms.push(y)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const y=[];let b=0;for(const R of a){let V=fa(R,h.Lu(b));null==V&&(V={nullValue:"NULL_VALUE"}),y.push(V),b++}return{arrayValue:{values:y}}}(d,e)}return function(a,h){if(null===(a=(0,_e.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Su(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const y=Kt.fromDate(a);return{timestampValue:No(h.serializer,y)}}if(a instanceof Kt){const y=new Kt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:No(h.serializer,y)}}if(a instanceof jp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof au)return{bytesValue:ku(h.serializer,a._byteString)};if(a instanceof Fs){const y=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(y))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:Ca(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof hh)return R=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(V=>{if("number"!=typeof V)throw R.Bu("VectorValues must only contain numeric values.");return yo(R.serializer,V)})}}}}};var R;throw h.Bu(`Unsupported field value: ${lh(a)}`)}(d,e)}function Mf(d,e){const r={};return bs(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):li(d,(a,h)=>{const y=fa(h,e.Mu(a));null!=y&&(r[a]=y)}),{mapValue:{fields:r}}}function sv(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Kt||d instanceof jp||d instanceof au||d instanceof Fs||d instanceof Wl||d instanceof hh)}function fm(d,e,r){if(!sv(r)||"object"!=typeof(h=r)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=lh(r);throw e.Bu("an object"===a?d+" a custom object":d+" "+a)}var h}function gh(d,e,r){if((e=(0,_e.Ku)(e))instanceof lu)return e._internalPath;if("string"==typeof e)return dd(d,e);throw mh("Field path arguments must be of type string or ",d,!1,void 0,r)}const ov=new RegExp("[~\\*/\\[\\]]");function dd(d,e,r){if(e.search(ov)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,r);try{return new lu(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,r)}}function mh(d,e,r,a,h){const y=a&&!a.isEmpty(),b=void 0!==h;let R=`Function ${e}() called with invalid data`;r&&(R+=" (via `toFirestore()`)"),R+=". ";let V="";return(y||b)&&(V+=" (found",y&&(V+=` in field ${a}`),b&&(V+=` in document ${h}`),V+=")"),new st(ke.INVALID_ARGUMENT,R+d+V)}function F_(d,e){return d.some(r=>r.isEqual(e))}class _h{constructor(e,r,a,h,y){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=h,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Fs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new L_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(yh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class L_ extends _h{data(){return super.data()}}function yh(d,e){return"string"==typeof e?dd(d,e):e instanceof lu?e._internalPath:e._delegate._internalPath}function av(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new st(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class zp extends Hp{}function lv(d,e,...r){let a=[];e instanceof Hp&&a.push(e),a=a.concat(r),function(y){const b=y.filter(V=>V instanceof Cc).length,R=y.filter(V=>V instanceof pm).length;if(b>1||b>0&&R>0)throw new st(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)d=h._apply(d);return d}class pm extends zp{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new pm(e,r,a)}_apply(e){const r=this._parse(e);return $_(e._query,r),new so(e.firestore,e.converter,Qs(e._query,r))}_parse(e){const r=Xa(e.firestore);return function(y,b,R,V,K,oe,be){let We;if(K.isKeyField()){if("array-contains"===oe||"array-contains-any"===oe)throw new st(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${oe}' queries on documentId().`);if("in"===oe||"not-in"===oe){uv(be,oe);const At=[];for(const Wt of be)At.push(cv(V,y,Wt));We={arrayValue:{values:At}}}else We=cv(V,y,be)}else"in"!==oe&&"not-in"!==oe&&"array-contains-any"!==oe||uv(be,oe),We=oo(R,"where",be,"in"===oe||"not-in"===oe);return Vn.create(K,oe,We)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function cE(d,e,r){const a=e,h=yh("where",d);return pm._create(h,a,r)}class Cc extends Hp{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Cc(e,r)}_parse(e){const r=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===r.length?r[0]:tr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(h,y){let b=h;const R=y.getFlattenedFilters();for(const V of R)$_(b,V),b=Qs(b,V)}(e._query,r),new so(e.firestore,e.converter,Qs(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vh extends zp{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new vh(e,r)}_apply(e){const r=function(h,y,b){if(null!==h.startAt)throw new st(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new st(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xn(y,b)}(e._query,this._field,this._direction);return new so(e.firestore,e.converter,function(h,y){const b=h.explicitOrderBy.concat([y]);return new zo(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,r))}}function V_(d,e="asc"){const r=e,a=yh("orderBy",d);return vh._create(a,r)}class hd extends zp{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new hd(e,r,a)}_apply(e){return new so(e.firestore,e.converter,es(e._query,this._limit,this._limitType))}}function gm(d){return sm("limit",d),hd._create("limit",d,"F")}function uE(d){return sm("limitToLast",d),hd._create("limitToLast",d,"L")}class Eh extends zp{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new Eh(e,r,a)}_apply(e){const r=B_(e,this.type,this._docOrFields,this._inclusive);return new so(e.firestore,e.converter,(y=r,new zo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,y,h.endAt)));var h,y}}function U_(...d){return Eh._create("startAt",d,!0)}function j_(...d){return Eh._create("startAfter",d,!1)}class Of extends zp{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new Of(e,r,a)}_apply(e){const r=B_(e,this.type,this._docOrFields,this._inclusive);return new so(e.firestore,e.converter,(y=r,new zo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,y)));var h,y}}function M0(...d){return Of._create("endBefore",d,!1)}function mm(...d){return Of._create("endAt",d,!0)}function B_(d,e,r,a){if(r[0]=(0,_e.Ku)(r[0]),r[0]instanceof _h)return function(y,b,R,V,K){if(!V)throw new st(ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const oe=[];for(const be of $e(y))if(be.field.isKeyField())oe.push(hr(b,V.key));else{const We=V.data.field(be.field);if(bi(We))throw new st(ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===We){const At=be.field.canonicalString();throw new st(ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${At}' (used as the orderBy) does not exist.`)}oe.push(We)}return new Yt(oe,K)}(d._query,d.firestore._databaseId,e,r[0]._document,a);{const h=Xa(d.firestore);return function(b,R,V,K,oe,be){const We=b.explicitOrderBy;if(oe.length>We.length)throw new st(ke.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const At=[];for(let Wt=0;Wt<oe.length;Wt++){const dn=oe[Wt];if(We[Wt].field.isKeyField()){if("string"!=typeof dn)throw new st(ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof dn}`);if(!ce(b)&&-1!==dn.indexOf("/"))throw new st(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${dn}' contains a slash.`);const rn=b.path.child(an.fromString(dn));if(!zt.isDocumentKey(rn))throw new st(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${rn}' is not because it contains an odd number of segments.`);const Yn=new zt(rn);At.push(hr(R,Yn))}else{const rn=oo(V,K,dn);At.push(rn)}}return new Yt(At,be)}(d._query,d.firestore._databaseId,h,e,r,a)}}function cv(d,e,r){if("string"==typeof(r=(0,_e.Ku)(r))){if(""===r)throw new st(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ce(e)&&-1!==r.indexOf("/"))throw new st(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(an.fromString(r));if(!zt.isDocumentKey(a))throw new st(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return hr(d,new zt(a))}if(r instanceof Fs)return hr(d,r._key);throw new st(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(r)}.`)}function uv(d,e){if(!Array.isArray(d)||0===d.length)throw new st(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $_(d,e){const r=function(h,y){for(const b of h)for(const R of b.getFlattenedFilters())if(y.indexOf(R.op)>=0)return R.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new st(ke.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class _m{convertValue(e,r="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw qe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return li(e,(h,y)=>{a[h]=this.convertValue(y,r)}),a}convertVectorValue(e){var r,a,h;const y=null===(h=null===(a=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>ni(b.doubleValue));return new hh(y)}convertGeoPoint(e){return new jp(ni(e.latitude),ni(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=Bi(e);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Pi(e));default:return null}}convertTimestamp(e){const r=qs(e);return new Kt(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=an.fromString(e);xt(w(a));const h=new qr(a.get(1),a.get(3)),y=new zt(a.popFirst(5));return h.isEqual(r)||Je(`Document ${y} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),y}}function ym(d,e,r){let a;return a=d?r&&(r.merge||r.mergeFields)?d.toFirestore(e,r):d.toFirestore(e):e,a}class dE extends _m{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Fs(this.firestore,null,r)}}class Nf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uu extends _h{constructor(e,r,a,h,y,b){super(e,r,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Cl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(yh("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class Cl extends uu{data(e={}){return super.data(e)}}class wc{constructor(e,r,a,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new Nf(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new Cl(this._firestore,this._userDataWriter,a.key,a,new Nf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new st(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,y){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(R=>({type:"added",doc:new Cl(h._firestore,h._userDataWriter,R.doc.key,R.doc,new Nf(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(R=>y||3!==R.type).map(R=>{const V=new Cl(h._firestore,h._userDataWriter,R.doc.key,R.doc,new Nf(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter);let K=-1,oe=-1;return 0!==R.type&&(K=b.indexOf(R.doc.key),b=b.delete(R.doc.key)),1!==R.type&&(b=b.add(R.doc),oe=b.indexOf(R.doc.key)),{type:pE(R.type),doc:V,oldIndex:K,newIndex:oe}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function pE(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}function gE(d,e){return d instanceof uu&&e instanceof uu?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof wc&&e instanceof wc&&d._firestore===e._firestore&&If(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function mE(d){d=oi(d,Fs);const e=oi(d.firestore,vi);return nm(As(e),d._key).then(r=>z_(e,d,r))}class Ac extends _m{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Fs(this.firestore,null,r)}}function Dc(d){d=oi(d,Fs);const e=oi(d.firestore,vi),r=As(e),a=new Ac(e);return function ad(d,e){const r=new tn;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(y,b,R){try{const V=yield function(oe,be){const We=lt(oe);return We.persistence.runTransaction("read document","readonly",At=>We.localDocuments.getDocument(At,be))}(y,b);V.isFoundDocument()?R.resolve(V):V.isNoDocument()?R.resolve(null):R.reject(new st(ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(V){const K=zl(V,`Failed to get document '${b} from cache`);R.reject(K)}}),function h(y,b,R){return a.apply(this,arguments)})(yield oh(d),e,r);var a})),r.promise}(r,d._key).then(h=>new uu(e,a,d._key,h,new Nf(null!==h&&h.hasLocalMutations,!0),d.converter))}function fv(d){d=oi(d,Fs);const e=oi(d.firestore,vi);return nm(As(e),d._key,{source:"server"}).then(r=>z_(e,d,r))}function _E(d){d=oi(d,so);const e=oi(d.firestore,vi),r=As(e),a=new Ac(e);return av(d._query),kp(r,d._query).then(h=>new wc(e,a,d,h))}function O0(d){d=oi(d,so);const e=oi(d.firestore,vi),r=As(e),a=new Ac(e);return function Yy(d,e){const r=new tn;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(y,b,R){try{const V=yield El(y,b,!0),K=new d_(b,V.Ts),oe=K.ma(V.documents),be=K.applyChanges(oe,!1);R.resolve(be.snapshot)}catch(V){const K=zl(V,`Failed to execute query '${b} against cache`);R.reject(K)}}),function h(y,b,R){return a.apply(this,arguments)})(yield oh(d),e,r);var a})),r.promise}(r,d._query).then(h=>new wc(e,a,d,h))}function To(d){d=oi(d,so);const e=oi(d.firestore,vi),r=As(e),a=new Ac(e);return kp(r,d._query,{source:"server"}).then(h=>new wc(e,a,d,h))}function yE(d,e,r){d=oi(d,Fs);const a=oi(d.firestore,vi),h=ym(d.converter,e,r);return bh(a,[ph(Xa(a),"setDoc",d._key,h,null!==d.converter,r).toMutation(d._key,X.none())])}function G_(d,e,r,...a){d=oi(d,Fs);const h=oi(d.firestore,vi),y=Xa(h);let b;return b="string"==typeof(e=(0,_e.Ku)(e))||e instanceof lu?Kl(y,"updateDoc",d._key,e,r,a):xf(y,"updateDoc",d._key,e),bh(h,[b.toMutation(d._key,X.exists(!0))])}function vE(d){return bh(oi(d.firestore,vi),[new $i(d._key,X.none())])}function EE(d,e){const r=oi(d.firestore,vi),a=su(d),h=ym(d.converter,e);return bh(r,[ph(Xa(d.firestore),"addDoc",a._key,h,null!==d.converter,{}).toMutation(a._key,X.exists(!1))]).then(()=>a)}function H_(d,...e){var r,a,h;d=(0,_e.Ku)(d);let y={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||Af(e[b])||(y=e[b],b++);const R={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(Af(e[b])){const be=e[b];e[b]=null===(r=be.next)||void 0===r?void 0:r.bind(be),e[b+1]=null===(a=be.error)||void 0===a?void 0:a.bind(be),e[b+2]=null===(h=be.complete)||void 0===h?void 0:h.bind(be)}let V,K,oe;if(d instanceof Fs)K=oi(d.firestore,vi),oe=ee(d._key.path),V={next:be=>{e[b]&&e[b](z_(K,d,be))},error:e[b+1],complete:e[b+2]};else{const be=oi(d,so);K=oi(be.firestore,vi),oe=be._query;const We=new Ac(K);V={next:At=>{e[b]&&e[b](new wc(K,We,be,At))},error:e[b+1],complete:e[b+2]},av(d._query)}return function(We,At,Wt,dn){const rn=new qa(dn),Yn=new Zc(At,rn,Wt);return We.asyncQueue.enqueueAndForget((0,o.A)(function*(){return vp(yield bc(We),Yn)})),()=>{rn.Za(),We.asyncQueue.enqueueAndForget((0,o.A)(function*(){return th(yield bc(We),Yn)}))}}(As(K),oe,R,V)}function pv(d,e){return function Xy(d,e){const r=new qa(e);return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield bc(d),y=r,lt(h).Y_.add(y),void y.next();var h,y})),()=>{r.Za(),d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield bc(d),y=r,void lt(h).Y_.delete(y);var h,y}))}}(As(d=oi(d,vi)),Af(e)?e:{next:e})}function bh(d,e){return function(a,h){const y=new tn;return a.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function wp(d,e,r){return sd.apply(this,arguments)}(yield Zg(a),h,y)})),y.promise}(As(d),e)}function z_(d,e,r){const a=r.docs.get(e._key),h=new Ac(d);return new uu(d,h,e._key,a,new Nf(r.hasPendingWrites,r.fromCache),e.converter)}const Yp={maxAttempts:5};class Xp{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Xa(e)}set(e,r,a){this._verifyNotCommitted();const h=du(e,this._firestore),y=ym(h.converter,r,a),b=ph(this._dataReader,"WriteBatch.set",h._key,y,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,X.none())),this}update(e,r,a,...h){this._verifyNotCommitted();const y=du(e,this._firestore);let b;return b="string"==typeof(r=(0,_e.Ku)(r))||r instanceof lu?Kl(this._dataReader,"WriteBatch.update",y._key,r,a,h):xf(this._dataReader,"WriteBatch.update",y._key,r),this._mutations.push(b.toMutation(y._key,X.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=du(e,this._firestore);return this._mutations=this._mutations.concat(new $i(r._key,X.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function du(d,e){if((d=(0,_e.Ku)(d)).firestore!==e)throw new st(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class bv extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=Xa(r)}get(r){const a=du(r,this._firestore),h=new dE(this._firestore);return this._transaction.lookup([a._key]).then(y=>{if(!y||1!==y.length)return qe();const b=y[0];if(b.isFoundDocument())return new _h(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new _h(this._firestore,h,a._key,null,a.converter);throw qe()})}set(r,a,h){const y=du(r,this._firestore),b=ym(y.converter,a,h),R=ph(this._dataReader,"Transaction.set",y._key,b,null!==y.converter,h);return this._transaction.set(y._key,R),this}update(r,a,h,...y){const b=du(r,this._firestore);let R;return R="string"==typeof(a=(0,_e.Ku)(a))||a instanceof lu?Kl(this._dataReader,"Transaction.update",b._key,a,h,y):xf(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,R),this}delete(r){const a=du(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=du(e,this._firestore),a=new Ac(this._firestore);return super.get(e).then(h=>new uu(this._firestore,a,r._key,h._document,new Nf(!1,!1),r.converter))}}function wE(d,e,r){d=oi(d,vi);const a=Object.assign(Object.assign({},Yp),r);return function(y){if(y.maxAttempts<1)throw new st(ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(y,b,R){const V=new tn;return y.asyncQueue.enqueueAndForget((0,o.A)(function*(){const K=yield function em(d){return Jg(d).then(e=>e.datastore)}(y);new Qg(y.asyncQueue,K,R,b,V).au()})),V.promise}(As(d),h=>e(new bv(d,h)),a)}function AE(){return new cd("deleteField")}function DE(){return new k_("serverTimestamp")}function SE(...d){return new Pf("arrayUnion",d)}function Tv(...d){return new ud("arrayRemove",d)}function RE(d){return new hm("increment",d)}!function(e,r=!0){Xe=le.SDK_VERSION,(0,le._registerComponent)(new i.uA("firestore",(a,{instanceIdentifier:h,options:y})=>{const b=a.getProvider("app").getImmediate(),R=new vi(new Le(a.getProvider("auth-internal")),new An(a.getProvider("app-check-internal")),function(K,oe){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new st(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qr(K.options.projectId,oe)}(b,h),b);return y=Object.assign({useFetchStreams:r},y),R._setSettings(y),R},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Ie,"4.7.3",e),(0,le.registerVersion)(Ie,"4.7.3","esm2017")}()},4535:(sn,Ze,F)=>{F.d(Ze,{Ad:()=>Ln,D5:()=>_n,KR:()=>Fi,Mp:()=>js,Mx:()=>ti,TZ:()=>je,UC:()=>li,UY:()=>Fn,XR:()=>ls,ZH:()=>Cn,_w:()=>hr,bp:()=>Ds,c7:()=>Yr,nb:()=>cs,nw:()=>wn,p_:()=>ir,qk:()=>Ji,uj:()=>Je,xc:()=>$n,yb:()=>Hr});var o=F(467),le=F(7852),i=F(1076),ve=F(1362);const _e="firebasestorage.googleapis.com",Ce="storageBucket";class Y extends i.g{constructor(J,Pe,Ue=0){super(fe(J),`Firebase Storage: ${Pe} (${fe(J)})`),this.status_=Ue,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Y.prototype)}get status(){return this.status_}set status(J){this.status_=J}_codeEquals(J){return fe(J)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(J){this.customData.serverResponse=J,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var te=function(Z){return Z.UNKNOWN="unknown",Z.OBJECT_NOT_FOUND="object-not-found",Z.BUCKET_NOT_FOUND="bucket-not-found",Z.PROJECT_NOT_FOUND="project-not-found",Z.QUOTA_EXCEEDED="quota-exceeded",Z.UNAUTHENTICATED="unauthenticated",Z.UNAUTHORIZED="unauthorized",Z.UNAUTHORIZED_APP="unauthorized-app",Z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Z.INVALID_CHECKSUM="invalid-checksum",Z.CANCELED="canceled",Z.INVALID_EVENT_NAME="invalid-event-name",Z.INVALID_URL="invalid-url",Z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Z.NO_DEFAULT_BUCKET="no-default-bucket",Z.CANNOT_SLICE_BLOB="cannot-slice-blob",Z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Z.NO_DOWNLOAD_URL="no-download-url",Z.INVALID_ARGUMENT="invalid-argument",Z.INVALID_ARGUMENT_COUNT="invalid-argument-count",Z.APP_DELETED="app-deleted",Z.INVALID_ROOT_OPERATION="invalid-root-operation",Z.INVALID_FORMAT="invalid-format",Z.INTERNAL_ERROR="internal-error",Z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Z}(te||{});function fe(Z){return"storage/"+Z}function Ae(){return new Y(te.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Jt(){return new Y(te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function He(){return new Y(te.CANCELED,"User canceled the upload/download.")}function dt(){return new Y(te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Je(Z){return new Y(te.INVALID_ARGUMENT,Z)}function Xt(){return new Y(te.APP_DELETED,"The Firebase app was deleted.")}function Fn(Z){return new Y(te.INVALID_ROOT_OPERATION,"The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qe(Z,J){return new Y(te.INVALID_FORMAT,"String does not match format '"+Z+"': "+J)}function xt(Z){throw new Y(te.INTERNAL_ERROR,"Internal error: "+Z)}class je{constructor(J,Pe){this.bucket=J,this.path_=Pe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const J=encodeURIComponent;return"/b/"+J(this.bucket)+"/o/"+J(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(J,Pe){let Ue;try{Ue=je.makeFromUrl(J,Pe)}catch{return new je(J,"")}if(""===Ue.path)return Ue;throw function tt(Z){return new Y(te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Z+"'.")}(J)}static makeFromUrl(J,Pe){let Ue=null;const nt="([A-Za-z0-9.\\-_]+)",Dn=new RegExp("^gs://"+nt+"(/(.*))?$","i");function Xn(Ti){Ti.path_=decodeURIComponent(Ti.path)}const Mn=Pe.replace(/[.]/g,"\\."),Rr=[{regex:Dn,indices:{bucket:1,path:3},postModify:function Et(Ti){"/"===Ti.path.charAt(Ti.path.length-1)&&(Ti.path_=Ti.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Mn}/v[A-Za-z0-9_]+/b/${nt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Xn},{regex:new RegExp(`^https?://${Pe===_e?"(?:storage.googleapis.com|storage.cloud.google.com)":Pe}/${nt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Xn}];for(let Ti=0;Ti<Rr.length;Ti++){const Ii=Rr[Ti],Mr=Ii.regex.exec(J);if(Mr){let us=Mr[Ii.indices.path];us||(us=""),Ue=new je(Mr[Ii.indices.bucket],us),Ii.postModify(Ue);break}}if(null==Ue)throw function Ie(Z){return new Y(te.INVALID_URL,"Invalid URL '"+Z+"'.")}(J);return Ue}}class lt{constructor(J){this.promise_=Promise.reject(J)}getPromise(){return this.promise_}cancel(J=!1){}}function Te(Z){return"string"==typeof Z||Z instanceof String}function Le(Z){return ct()&&Z instanceof Blob}function ct(){return typeof Blob<"u"}function it(Z,J,Pe,Ue){if(Ue<J)throw Je(`Invalid value for '${Z}'. Expected ${J} or greater.`);if(Ue>Pe)throw Je(`Invalid value for '${Z}'. Expected ${Pe} or less.`)}function jt(Z,J,Pe){let Ue=J;return null==Pe&&(Ue=`https://${J}`),`${Pe}://${Ue}/v0${Z}`}function An(Z){const J=encodeURIComponent;let Pe="?";for(const Ue in Z)Z.hasOwnProperty(Ue)&&(Pe=Pe+(J(Ue)+"=")+J(Z[Ue])+"&");return Pe=Pe.slice(0,-1),Pe}var rr=function(Z){return Z[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",Z}(rr||{});function on(Z,J){const Pe=Z>=500&&Z<600,nt=-1!==[408,429].indexOf(Z),Et=-1!==J.indexOf(Z);return Pe||nt||Et}class Un{constructor(J,Pe,Ue,nt,Et,Yt,Dn,gn,Xn,Dr,Mn,Vn=!0){this.url_=J,this.method_=Pe,this.headers_=Ue,this.body_=nt,this.successCodes_=Et,this.additionalRetryCodes_=Yt,this.callback_=Dn,this.errorCallback_=gn,this.timeout_=Xn,this.progressCallback_=Dr,this.connectionFactory_=Mn,this.retry=Vn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((tr,kr)=>{this.resolve_=tr,this.reject_=kr,this.start_()})}start_(){const Pe=(Ue,nt)=>{const Et=this.resolve_,Yt=this.reject_,Dn=nt.connection;if(nt.wasSuccessCode)try{const gn=this.callback_(Dn,Dn.getResponse());!function tn(Z){return void 0!==Z}(gn)?Et():Et(gn)}catch(gn){Yt(gn)}else if(null!==Dn){const gn=Ae();gn.serverResponse=Dn.getErrorText(),Yt(this.errorCallback_?this.errorCallback_(Dn,gn):gn)}else Yt(nt.canceled?this.appDelete_?Xt():He():Jt())};this.canceled_?Pe(0,new Zt(!1,null,!0)):this.backoffId_=function ke(Z,J,Pe){let Ue=1,nt=null,Et=null,Yt=!1,Dn=0;function gn(){return 2===Dn}let Xn=!1;function Dr(...Xr){Xn||(Xn=!0,J.apply(null,Xr))}function Mn(Xr){nt=setTimeout(()=>{nt=null,Z(tr,gn())},Xr)}function Vn(){Et&&clearTimeout(Et)}function tr(Xr,...Vi){if(Xn)return void Vn();if(Xr)return Vn(),void Dr.call(null,Xr,...Vi);if(gn()||Yt)return Vn(),void Dr.call(null,Xr,...Vi);let Rr;Ue<64&&(Ue*=2),1===Dn?(Dn=2,Rr=0):Rr=1e3*(Ue+Math.random()),Mn(Rr)}let kr=!1;function ii(Xr){kr||(kr=!0,Vn(),!Xn&&(null!==nt?(Xr||(Dn=2),clearTimeout(nt),Mn(0)):Xr||(Dn=1)))}return Mn(0),Et=setTimeout(()=>{Yt=!0,ii(!0)},Pe),ii}((Ue,nt)=>{if(nt)return void Ue(!1,new Zt(!1,null,!0));const Et=this.connectionFactory_();this.pendingConnection_=Et;const Yt=Dn=>{null!==this.progressCallback_&&this.progressCallback_(Dn.loaded,Dn.lengthComputable?Dn.total:-1)};null!==this.progressCallback_&&Et.addUploadProgressListener(Yt),Et.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Et.removeUploadProgressListener(Yt),this.pendingConnection_=null;const Dn=Et.getErrorCode()===rr.NO_ERROR,gn=Et.getStatus();if(!Dn||on(gn,this.additionalRetryCodes_)&&this.retry){const Dr=Et.getErrorCode()===rr.ABORT;return void Ue(!1,new Zt(!1,null,Dr))}const Xn=-1!==this.successCodes_.indexOf(gn);Ue(!0,new Zt(Xn,Et))})},Pe,this.timeout_)}getPromise(){return this.promise_}cancel(J){this.canceled_=!0,this.appDelete_=J||!1,null!==this.backoffId_&&function st(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Zt{constructor(J,Pe,Ue){this.wasSuccessCode=J,this.connection=Pe,this.canceled=!!Ue}}function xr(...Z){const J=function an(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==J){const Pe=new J;for(let Ue=0;Ue<Z.length;Ue++)Pe.append(Z[Ue]);return Pe.getBlob()}if(ct())return new Blob(Z);throw new Y(te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const wn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wn{constructor(J,Pe){this.data=J,this.contentType=Pe||null}}function Cn(Z,J){switch(Z){case wn.RAW:return new Wn(Vr(J));case wn.BASE64:case wn.BASE64URL:return new Wn(ei(Z,J));case wn.DATA_URL:return new Wn(function di(Z){const J=new Kn(Z);return J.base64?ei(wn.BASE64,J.rest):function Sr(Z){let J;try{J=decodeURIComponent(Z)}catch{throw qe(wn.DATA_URL,"Malformed data URL.")}return Vr(J)}(J.rest)}(J),function ys(Z){return new Kn(Z).contentType}(J))}throw Ae()}function Vr(Z){const J=[];for(let Pe=0;Pe<Z.length;Pe++){let Ue=Z.charCodeAt(Pe);Ue<=127?J.push(Ue):Ue<=2047?J.push(192|Ue>>6,128|63&Ue):55296==(64512&Ue)?Pe<Z.length-1&&56320==(64512&Z.charCodeAt(Pe+1))?(Ue=65536|(1023&Ue)<<10|1023&Z.charCodeAt(++Pe),J.push(240|Ue>>18,128|Ue>>12&63,128|Ue>>6&63,128|63&Ue)):J.push(239,191,189):56320==(64512&Ue)?J.push(239,191,189):J.push(224|Ue>>12,128|Ue>>6&63,128|63&Ue)}return new Uint8Array(J)}function ei(Z,J){switch(Z){case wn.BASE64:{const nt=-1!==J.indexOf("-"),Et=-1!==J.indexOf("_");if(nt||Et)throw qe(Z,"Invalid character '"+(nt?"-":"_")+"' found: is it base64url encoded?");break}case wn.BASE64URL:{const nt=-1!==J.indexOf("+"),Et=-1!==J.indexOf("/");if(nt||Et)throw qe(Z,"Invalid character '"+(nt?"+":"/")+"' found: is it base64 encoded?");J=J.replace(/-/g,"+").replace(/_/g,"/");break}}let Pe;try{Pe=function zt(Z){if(typeof atob>"u")throw function Ee(Z){return new Y(te.UNSUPPORTED_ENVIRONMENT,`${Z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Z)}(J)}catch(nt){throw nt.message.includes("polyfill")?nt:qe(Z,"Invalid character found")}const Ue=new Uint8Array(Pe.length);for(let nt=0;nt<Pe.length;nt++)Ue[nt]=Pe.charCodeAt(nt);return Ue}class Kn{constructor(J){this.base64=!1,this.contentType=null;const Pe=J.match(/^data:([^,]+)?,/);if(null===Pe)throw qe(wn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ue=Pe[1]||null;null!=Ue&&(this.base64=function fn(Z,J){return Z.length>=J.length&&Z.substring(Z.length-J.length)===J}(Ue,";base64"),this.contentType=this.base64?Ue.substring(0,Ue.length-7):Ue),this.rest=J.substring(J.indexOf(",")+1)}}class ti{constructor(J,Pe){let Ue=0,nt="";Le(J)?(this.data_=J,Ue=J.size,nt=J.type):J instanceof ArrayBuffer?(Pe?this.data_=new Uint8Array(J):(this.data_=new Uint8Array(J.byteLength),this.data_.set(new Uint8Array(J))),Ue=this.data_.length):J instanceof Uint8Array&&(Pe?this.data_=J:(this.data_=new Uint8Array(J.length),this.data_.set(J)),Ue=J.length),this.size_=Ue,this.type_=nt}size(){return this.size_}type(){return this.type_}slice(J,Pe){if(Le(this.data_)){const nt=function Jn(Z,J,Pe){return Z.webkitSlice?Z.webkitSlice(J,Pe):Z.mozSlice?Z.mozSlice(J,Pe):Z.slice?Z.slice(J,Pe):null}(this.data_,J,Pe);return null===nt?null:new ti(nt)}{const Ue=new Uint8Array(this.data_.buffer,J,Pe-J);return new ti(Ue,!0)}}static getBlob(...J){if(ct()){const Pe=J.map(Ue=>Ue instanceof ti?Ue.data_:Ue);return new ti(xr.apply(null,Pe))}{const Pe=J.map(Yt=>Te(Yt)?Cn(wn.RAW,Yt).data:Yt.data_);let Ue=0;Pe.forEach(Yt=>{Ue+=Yt.byteLength});const nt=new Uint8Array(Ue);let Et=0;return Pe.forEach(Yt=>{for(let Dn=0;Dn<Yt.length;Dn++)nt[Et++]=Yt[Dn]}),new ti(nt,!0)}}uploadData(){return this.data_}}function er(Z){let J;try{J=JSON.parse(Z)}catch{return null}return function Re(Z){return"object"==typeof Z&&!Array.isArray(Z)}(J)?J:null}function Si(Z){const J=Z.lastIndexOf("/",Z.length-2);return-1===J?Z:Z.slice(J+1)}function ot(Z,J){return J}class It{constructor(J,Pe,Ue,nt){this.server=J,this.local=Pe||J,this.writable=!!Ue,this.xform=nt||ot}}let ue=null;function St(){if(ue)return ue;const Z=[];Z.push(new It("bucket")),Z.push(new It("generation")),Z.push(new It("metageneration")),Z.push(new It("name","fullPath",!0));const Pe=new It("name");Pe.xform=function J(Et,Yt){return function Fe(Z){return!Te(Z)||Z.length<2?Z:Si(Z)}(Yt)},Z.push(Pe);const nt=new It("size");return nt.xform=function Ue(Et,Yt){return void 0!==Yt?Number(Yt):Yt},Z.push(nt),Z.push(new It("timeCreated")),Z.push(new It("updated")),Z.push(new It("md5Hash",null,!0)),Z.push(new It("cacheControl",null,!0)),Z.push(new It("contentDisposition",null,!0)),Z.push(new It("contentEncoding",null,!0)),Z.push(new It("contentLanguage",null,!0)),Z.push(new It("contentType",null,!0)),Z.push(new It("metadata","customMetadata",!0)),ue=Z,ue}function Se(Z,J,Pe){const Ue=er(J);return null===Ue?null:function Vt(Z,J,Pe){const Ue={type:"file"},nt=Pe.length;for(let Et=0;Et<nt;Et++){const Yt=Pe[Et];Ue[Yt.local]=Yt.xform(Ue,J[Yt.server])}return function De(Z,J){Object.defineProperty(Z,"ref",{get:function Pe(){const Et=new je(Z.bucket,Z.fullPath);return J._makeStorageReference(Et)}})}(Ue,Z),Ue}(Z,Ue,Pe)}function vn(Z,J){const Pe={},Ue=J.length;for(let nt=0;nt<Ue;nt++){const Et=J[nt];Et.writable&&(Pe[Et.server]=Z[Et.local])}return JSON.stringify(Pe)}const yt="prefixes",$="items";class ie{constructor(J,Pe,Ue,nt){this.url=J,this.method=Pe,this.handler=Ue,this.timeout=nt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function me(Z){if(!Z)throw Ae()}function pt(Z,J){return function Pe(Ue,nt){const Et=Se(Z,nt,J);return me(null!==Et),Et}}function pn(Z){return function J(Pe,Ue){let nt;return nt=401===Pe.getStatus()?Pe.getErrorText().includes("Firebase App Check token is invalid")?function mt(){return new Y(te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ke(){return new Y(te.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Pe.getStatus()?function de(Z){return new Y(te.QUOTA_EXCEEDED,"Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===Pe.getStatus()?function Ft(Z){return new Y(te.UNAUTHORIZED,"User does not have permission to access '"+Z+"'.")}(Z.path):Ue,nt.status=Pe.getStatus(),nt.serverResponse=Ue.serverResponse,nt}}function Rn(Z){const J=pn(Z);return function Pe(Ue,nt){let Et=J(Ue,nt);return 404===Ue.getStatus()&&(Et=function Ne(Z){return new Y(te.OBJECT_NOT_FOUND,"Object '"+Z+"' does not exist.")}(Z.path)),Et.serverResponse=nt.serverResponse,Et}}function br(Z,J,Pe){const nt=jt(J.fullServerUrl(),Z.host,Z._protocol),Yt=Z.maxOperationRetryTime,Dn=new ie(nt,"GET",pt(Z,Pe),Yt);return Dn.errorHandler=Rn(J),Dn}function cn(Z,J,Pe,Ue,nt){const Et={};Et.prefix=J.isRoot?"":J.path+"/",Pe&&Pe.length>0&&(Et.delimiter=Pe),Ue&&(Et.pageToken=Ue),nt&&(Et.maxResults=nt);const Dn=jt(J.bucketOnlyServerUrl(),Z.host,Z._protocol),Xn=Z.maxOperationRetryTime,Dr=new ie(Dn,"GET",function Ot(Z,J){return function Pe(Ue,nt){const Et=function L(Z,J,Pe){const Ue=er(Pe);return null===Ue?null:function x(Z,J,Pe){const Ue={prefixes:[],items:[],nextPageToken:Pe.nextPageToken};if(Pe[yt])for(const nt of Pe[yt]){const Et=nt.replace(/\/$/,""),Yt=Z._makeStorageReference(new je(J,Et));Ue.prefixes.push(Yt)}if(Pe[$])for(const nt of Pe[$]){const Et=Z._makeStorageReference(new je(J,nt.name));Ue.items.push(Et)}return Ue}(Z,J,Ue)}(Z,J,nt);return me(null!==Et),Et}}(Z,J.bucket),Xn);return Dr.urlParams=Et,Dr.errorHandler=pn(J),Dr}function Es(Z,J,Pe){const Ue=Object.assign({},Pe);return Ue.fullPath=Z.path,Ue.size=J.size(),Ue.contentType||(Ue.contentType=function vs(Z,J){return Z&&Z.contentType||J&&J.type()||"application/octet-stream"}(null,J)),Ue}class ar{constructor(J,Pe,Ue,nt){this.current=J,this.total=Pe,this.finalized=!!Ue,this.metadata=nt||null}}function xs(Z,J){let Pe=null;try{Pe=Z.getResponseHeader("X-Goog-Upload-Status")}catch{me(!1)}return me(!!Pe&&-1!==(J||["active"]).indexOf(Pe)),Pe}const $n={STATE_CHANGED:"state_changed"},Ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fr(Z){switch(Z){case"running":case"pausing":case"canceling":return Ln.RUNNING;case"paused":return Ln.PAUSED;case"success":return Ln.SUCCESS;case"canceled":return Ln.CANCELED;default:return Ln.ERROR}}class Ur{constructor(J,Pe,Ue){if(function ze(Z){return"function"==typeof Z}(J)||null!=Pe||null!=Ue)this.next=J,this.error=Pe??void 0,this.complete=Ue??void 0;else{const Et=J;this.next=Et.next,this.error=Et.error,this.complete=Et.complete}}}function Wr(Z){return(...J)=>{Promise.resolve().then(()=>Z(...J))}}let pr=null;class Qi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rr.NO_ERROR,this.sendPromise_=new Promise(J=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rr.ABORT,J()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rr.NETWORK_ERROR,J()}),this.xhr_.addEventListener("load",()=>{J()})})}send(J,Pe,Ue,nt){if(this.sent_)throw xt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Pe,J,!0),void 0!==nt)for(const Et in nt)nt.hasOwnProperty(Et)&&this.xhr_.setRequestHeader(Et,nt[Et].toString());return void 0!==Ue?this.xhr_.send(Ue):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(J){return this.xhr_.getResponseHeader(J)}addUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",J)}removeUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",J)}}class Ms extends Qi{initXhr(){this.xhr_.responseType="text"}}function ss(){return pr?pr():new Ms}class li{constructor(J,Pe,Ue=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=J,this._blob=Pe,this._metadata=Ue,this._mappings=St(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=nt=>{if(this._request=void 0,this._chunkMultiplier=1,nt._codeEquals(te.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Et=this.isExponentialBackoffExpired();if(on(nt.status,[])){if(!Et)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();nt=Jt()}this._error=nt,this._transition("error")}},this._metadataErrorHandler=nt=>{this._request=void 0,nt._codeEquals(te.CANCELED)?this.completeTransitions_():(this._error=nt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((nt,Et)=>{this._resolve=nt,this._reject=Et,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const J=this._transferred;return Pe=>this._updateProgress(J+Pe)}_shouldDoResumable(J){return J.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(J){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Pe,Ue])=>{switch(this._state){case"running":J(Pe,Ue);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((J,Pe)=>{const Ue=function Rt(Z,J,Pe,Ue,nt){const Et=J.bucketOnlyServerUrl(),Yt=Es(J,Ue,nt),Dn={name:Yt.fullPath},gn=jt(Et,Z.host,Z._protocol),Dr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ue.size()}`,"X-Goog-Upload-Header-Content-Type":Yt.contentType,"Content-Type":"application/json; charset=utf-8"},Mn=vn(Yt,Pe),kr=new ie(gn,"POST",function tr(ii){let Xr;xs(ii);try{Xr=ii.getResponseHeader("X-Goog-Upload-URL")}catch{me(!1)}return me(Te(Xr)),Xr},Z.maxUploadRetryTime);return kr.urlParams=Dn,kr.headers=Dr,kr.body=Mn,kr.errorHandler=pn(J),kr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),nt=this._ref.storage._makeRequest(Ue,ss,J,Pe);this._request=nt,nt.getPromise().then(Et=>{this._request=void 0,this._uploadUrl=Et,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const J=this._uploadUrl;this._resolveToken((Pe,Ue)=>{const nt=function at(Z,J,Pe,Ue){const gn=new ie(Pe,"POST",function Et(Xn){const Dr=xs(Xn,["active","final"]);let Mn=null;try{Mn=Xn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{me(!1)}Mn||me(!1);const Vn=Number(Mn);return me(!isNaN(Vn)),new ar(Vn,Ue.size(),"final"===Dr)},Z.maxUploadRetryTime);return gn.headers={"X-Goog-Upload-Command":"query"},gn.errorHandler=pn(J),gn}(this._ref.storage,this._ref._location,J,this._blob),Et=this._ref.storage._makeRequest(nt,ss,Pe,Ue);this._request=Et,Et.getPromise().then(Yt=>{this._request=void 0,this._updateProgress(Yt.current),this._needToFetchStatus=!1,Yt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const J=262144*this._chunkMultiplier,Pe=new ar(this._transferred,this._blob.size()),Ue=this._uploadUrl;this._resolveToken((nt,Et)=>{let Yt;try{Yt=function un(Z,J,Pe,Ue,nt,Et,Yt,Dn){const gn=new ar(0,0);if(Yt?(gn.current=Yt.current,gn.total=Yt.total):(gn.current=0,gn.total=Ue.size()),Ue.size()!==gn.total)throw function Nt(){return new Y(te.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Xn=gn.total-gn.current;let Dr=Xn;nt>0&&(Dr=Math.min(Dr,nt));const Mn=gn.current;let tr="";tr=0===Dr?"finalize":Xn===Dr?"upload, finalize":"upload";const kr={"X-Goog-Upload-Command":tr,"X-Goog-Upload-Offset":`${gn.current}`},ii=Ue.slice(Mn,Mn+Dr);if(null===ii)throw dt();const Rr=new ie(Pe,"POST",function Xr(Ti,Ii){const Mr=xs(Ti,["active","final"]),Ho=gn.current+Dr,us=Ue.size();let Xs;return Xs="final"===Mr?pt(J,Et)(Ti,Ii):null,new ar(Ho,us,"final"===Mr,Xs)},J.maxUploadRetryTime);return Rr.headers=kr,Rr.body=ii.uploadData(),Rr.progressCallback=Dn||null,Rr.errorHandler=pn(Z),Rr}(this._ref._location,this._ref.storage,Ue,this._blob,J,this._mappings,Pe,this._makeProgressCallback())}catch(gn){return this._error=gn,void this._transition("error")}const Dn=this._ref.storage._makeRequest(Yt,ss,nt,Et,!1);this._request=Dn,Dn.getPromise().then(gn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(gn.current),gn.finalized?(this._metadata=gn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((J,Pe)=>{const Ue=br(this._ref.storage,this._ref._location,this._mappings),nt=this._ref.storage._makeRequest(Ue,ss,J,Pe);this._request=nt,nt.getPromise().then(Et=>{this._request=void 0,this._metadata=Et,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((J,Pe)=>{const Ue=function gi(Z,J,Pe,Ue,nt){const Et=J.bucketOnlyServerUrl(),Yt={"X-Goog-Upload-Protocol":"multipart"},gn=function Dn(){let Rr="";for(let Ti=0;Ti<2;Ti++)Rr+=Math.random().toString().slice(2);return Rr}();Yt["Content-Type"]="multipart/related; boundary="+gn;const Xn=Es(J,Ue,nt),Dr=vn(Xn,Pe),tr=ti.getBlob("--"+gn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Dr+"\r\n--"+gn+"\r\nContent-Type: "+Xn.contentType+"\r\n\r\n",Ue,"\r\n--"+gn+"--");if(null===tr)throw dt();const kr={name:Xn.fullPath},ii=jt(Et,Z.host,Z._protocol),Vi=Z.maxUploadRetryTime,Ci=new ie(ii,"POST",pt(Z,Pe),Vi);return Ci.urlParams=kr,Ci.headers=Yt,Ci.body=tr.uploadData(),Ci.errorHandler=pn(J),Ci}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),nt=this._ref.storage._makeRequest(Ue,ss,J,Pe);this._request=nt,nt.getPromise().then(Et=>{this._request=void 0,this._metadata=Et,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(J){const Pe=this._transferred;this._transferred=J,this._transferred!==Pe&&this._notifyObservers()}_transition(J){if(this._state!==J)switch(J){case"canceling":case"pausing":this._state=J,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Pe="paused"===this._state;this._state=J,Pe&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=J,this._notifyObservers();break;case"canceled":this._error=He(),this._state=J,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const J=fr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:J,metadata:this._metadata,task:this,ref:this._ref}}on(J,Pe,Ue,nt){const Et=new Ur(Pe||void 0,Ue||void 0,nt||void 0);return this._addObserver(Et),()=>{this._removeObserver(Et)}}then(J,Pe){return this._promise.then(J,Pe)}catch(J){return this.then(null,J)}_addObserver(J){this._observers.push(J),this._notifyObserver(J)}_removeObserver(J){const Pe=this._observers.indexOf(J);-1!==Pe&&this._observers.splice(Pe,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Pe=>{this._notifyObserver(Pe)})}_finishPromise(){if(void 0!==this._resolve){let J=!0;switch(fr(this._state)){case Ln.SUCCESS:Wr(this._resolve.bind(null,this.snapshot))();break;case Ln.CANCELED:case Ln.ERROR:Wr(this._reject.bind(null,this._error))();break;default:J=!1}J&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(J){switch(fr(this._state)){case Ln.RUNNING:case Ln.PAUSED:J.next&&Wr(J.next.bind(J,this.snapshot))();break;case Ln.SUCCESS:J.complete&&Wr(J.complete.bind(J))();break;default:J.error&&Wr(J.error.bind(J,this._error))()}}resume(){const J="paused"===this._state||"pausing"===this._state;return J&&this._transition("running"),J}pause(){const J="running"===this._state;return J&&this._transition("pausing"),J}cancel(){const J="running"===this._state||"pausing"===this._state;return J&&this._transition("canceling"),J}}class os{constructor(J,Pe){this._service=J,this._location=Pe instanceof je?Pe:je.makeFromUrl(Pe,J.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(J,Pe){return new os(J,Pe)}get root(){const J=new je(this._location.bucket,"");return this._newRef(this._service,J)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Si(this._location.path)}get storage(){return this._service}get parent(){const J=function Ir(Z){if(0===Z.length)return null;const J=Z.lastIndexOf("/");return-1===J?"":Z.slice(0,J)}(this._location.path);if(null===J)return null;const Pe=new je(this._location.bucket,J);return new os(this._service,Pe)}_throwIfRoot(J){if(""===this._location.path)throw Fn(J)}}function Ro(Z,J,Pe){return hi.apply(this,arguments)}function hi(){return(hi=(0,o.A)(function*(Z,J,Pe){const nt=yield Na(Z,{pageToken:Pe});J.prefixes.push(...nt.prefixes),J.items.push(...nt.items),null!=nt.nextPageToken&&(yield Ro(Z,J,nt.nextPageToken))})).apply(this,arguments)}function Na(Z,J){null!=J&&"number"==typeof J.maxResults&&it("options.maxResults",1,1e3,J.maxResults);const Pe=J||{},Ue=cn(Z.storage,Z._location,"/",Pe.pageToken,Pe.maxResults);return Z.storage.makeRequestWithTokens(Ue,ss)}function va(Z){Z._throwIfRoot("getDownloadURL");const J=function dr(Z,J,Pe){const nt=jt(J.fullServerUrl(),Z.host,Z._protocol),Yt=Z.maxOperationRetryTime,Dn=new ie(nt,"GET",function ln(Z,J){return function Pe(Ue,nt){const Et=Se(Z,nt,J);return me(null!==Et),function ut(Z,J,Pe,Ue){const nt=er(J);if(null===nt||!Te(nt.downloadTokens))return null;const Et=nt.downloadTokens;if(0===Et.length)return null;const Yt=encodeURIComponent;return Et.split(",").map(Xn=>{const Mn=Z.fullPath;return jt("/b/"+Yt(Z.bucket)+"/o/"+Yt(Mn),Pe,Ue)+An({alt:"media",token:Xn})})[0]}(Et,nt,Z.host,Z._protocol)}}(Z,Pe),Yt);return Dn.errorHandler=Rn(J),Dn}(Z.storage,Z._location,St());return Z.storage.makeRequestWithTokens(J,ss).then(Pe=>{if(null===Pe)throw function ht(){return new Y(te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Pe})}function ni(Z,J){const Pe=function Bn(Z,J){const Pe=J.split("/").filter(Ue=>Ue.length>0).join("/");return 0===Z.length?Pe:Z+"/"+Pe}(Z._location.path,J),Ue=new je(Z._location.bucket,Pe);return new os(Z.storage,Ue)}function Bi(Z,J){if(Z instanceof ri){const Pe=Z;if(null==Pe._bucket)throw function Xe(){return new Y(te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ce+"' property when initializing the app?")}();const Ue=new os(Pe,Pe._bucket);return null!=J?Bi(Ue,J):Ue}return void 0!==J?ni(Z,J):Z}function Pi(Z,J){if(J&&function Us(Z){return/^[A-Za-z]+:\/\//.test(Z)}(J)){if(Z instanceof ri)return function bi(Z,J){return new os(Z,J)}(Z,J);throw Je("To use ref(service, url), the first argument must be a Storage instance.")}return Bi(Z,J)}function Qn(Z,J){const Pe=J?.[Ce];return null==Pe?null:je.makeFromBucketSpec(Pe,Z)}class ri{constructor(J,Pe,Ue,nt,Et){this.app=J,this._authProvider=Pe,this._appCheckProvider=Ue,this._url=nt,this._firebaseVersion=Et,this._bucket=null,this._host=_e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=nt?je.makeFromBucketSpec(nt,this._host):Qn(this._host,this.app.options)}get host(){return this._host}set host(J){this._host=J,this._bucket=null!=this._url?je.makeFromBucketSpec(this._url,J):Qn(J,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(J){it("time",0,Number.POSITIVE_INFINITY,J),this._maxUploadRetryTime=J}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(J){it("time",0,Number.POSITIVE_INFINITY,J),this._maxOperationRetryTime=J}_getAuthToken(){var J=this;return(0,o.A)(function*(){if(J._overrideAuthToken)return J._overrideAuthToken;const Pe=J._authProvider.getImmediate({optional:!0});if(Pe){const Ue=yield Pe.getToken();if(null!==Ue)return Ue.accessToken}return null})()}_getAppCheckToken(){var J=this;return(0,o.A)(function*(){const Pe=J._appCheckProvider.getImmediate({optional:!0});return Pe?(yield Pe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(J=>J.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(J){return new os(this,J)}_makeRequest(J,Pe,Ue,nt,Et=!0){if(this._deleted)return new lt(Xt());{const Yt=function Er(Z,J,Pe,Ue,nt,Et,Yt=!0){const Dn=An(Z.urlParams),gn=Z.url+Dn,Xn=Object.assign({},Z.headers);return function Kt(Z,J){J&&(Z["X-Firebase-GMPID"]=J)}(Xn,J),function Hn(Z,J){null!==J&&J.length>0&&(Z.Authorization="Firebase "+J)}(Xn,Pe),function xn(Z,J){Z["X-Firebase-Storage-Version"]="webjs/"+(J??"AppManager")}(Xn,Et),function $t(Z,J){null!==J&&(Z["X-Firebase-AppCheck"]=J)}(Xn,Ue),new Un(gn,Z.method,Xn,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,nt,Yt)}(J,this._appId,Ue,nt,Pe,this._firebaseVersion,Et);return this._requests.add(Yt),Yt.getPromise().then(()=>this._requests.delete(Yt),()=>this._requests.delete(Yt)),Yt}}makeRequestWithTokens(J,Pe){var Ue=this;return(0,o.A)(function*(){const[nt,Et]=yield Promise.all([Ue._getAuthToken(),Ue._getAppCheckToken()]);return Ue._makeRequest(J,Pe,nt,Et).getPromise()})()}}const zi="@firebase/storage",as="storage";function Ds(Z,J,Pe){return function xi(Z,J,Pe){return Z._throwIfRoot("uploadBytesResumable"),new li(Z,new ti(J),Pe)}(Z=(0,i.Ku)(Z),J,Pe)}function Hr(Z){return function tl(Z){Z._throwIfRoot("getMetadata");const J=br(Z.storage,Z._location,St());return Z.storage.makeRequestWithTokens(J,ss)}(Z=(0,i.Ku)(Z))}function _n(Z,J){return function Ri(Z,J){Z._throwIfRoot("updateMetadata");const Pe=function Vs(Z,J,Pe,Ue){const Et=jt(J.fullServerUrl(),Z.host,Z._protocol),Dn=vn(Pe,Ue),Xn=Z.maxOperationRetryTime,Dr=new ie(Et,"PATCH",pt(Z,Ue),Xn);return Dr.headers={"Content-Type":"application/json; charset=utf-8"},Dr.body=Dn,Dr.errorHandler=Rn(J),Dr}(Z.storage,Z._location,J,St());return Z.storage.makeRequestWithTokens(Pe,ss)}(Z=(0,i.Ku)(Z),J)}function ir(Z,J){return Na(Z=(0,i.Ku)(Z),J)}function hr(Z){return function uo(Z){const J={prefixes:[],items:[]};return Ro(Z,J).then(()=>J)}(Z=(0,i.Ku)(Z))}function Ji(Z){return va(Z=(0,i.Ku)(Z))}function ls(Z){return function qs(Z){Z._throwIfRoot("deleteObject");const J=function Ni(Z,J){const Ue=jt(J.fullServerUrl(),Z.host,Z._protocol),Dn=new ie(Ue,"DELETE",function Yt(gn,Xn){},Z.maxOperationRetryTime);return Dn.successCodes=[200,204],Dn.errorHandler=Rn(J),Dn}(Z.storage,Z._location);return Z.storage.makeRequestWithTokens(J,ss)}(Z=(0,i.Ku)(Z))}function Fi(Z,J){return Pi(Z=(0,i.Ku)(Z),J)}function js(Z,J){return ni(Z,J)}function Yr(Z=(0,le.getApp)(),J){Z=(0,i.Ku)(Z);const Ue=(0,le._getProvider)(Z,as).getImmediate({identifier:J}),nt=(0,i.yU)("storage");return nt&&cs(Ue,...nt),Ue}function cs(Z,J,Pe,Ue={}){!function qr(Z,J,Pe,Ue={}){Z.host=`${J}:${Pe}`,Z._protocol="http";const{mockUserToken:nt}=Ue;nt&&(Z._overrideAuthToken="string"==typeof nt?nt:(0,i.Fy)(nt,Z.app.options.projectId))}(Z,J,Pe,Ue)}function mi(Z,{instanceIdentifier:J}){const Pe=Z.getProvider("app").getImmediate(),Ue=Z.getProvider("auth-internal"),nt=Z.getProvider("app-check-internal");return new ri(Pe,Ue,nt,J,le.SDK_VERSION)}!function Zi(){(0,le._registerComponent)(new ve.uA(as,mi,"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(zi,"0.13.2",""),(0,le.registerVersion)(zi,"0.13.2","esm2017")}()},1076:(sn,Ze,F)=>{F.d(Ze,{Am:()=>Wn,Bd:()=>Je,FA:()=>it,Fy:()=>dt,I9:()=>Cn,Im:()=>an,Ku:()=>yt,Ll:()=>Ee,T9:()=>Ie,Uj:()=>xe,XA:()=>tt,ZQ:()=>Nt,bD:()=>Jn,c1:()=>Fn,cY:()=>Xe,eX:()=>Re,g:()=>ct,gR:()=>$t,hp:()=>Vr,jZ:()=>ht,lT:()=>lt,lV:()=>xt,mS:()=>Ne,nr:()=>tn,p7:()=>Xt,sr:()=>qe,tD:()=>ei,u:()=>Y,yU:()=>He,zW:()=>ze,zw:()=>fe});const ve=function($){const x=[];let L=0;for(let ie=0;ie<$.length;ie++){let me=$.charCodeAt(ie);me<128?x[L++]=me:me<2048?(x[L++]=me>>6|192,x[L++]=63&me|128):55296==(64512&me)&&ie+1<$.length&&56320==(64512&$.charCodeAt(ie+1))?(me=65536+((1023&me)<<10)+(1023&$.charCodeAt(++ie)),x[L++]=me>>18|240,x[L++]=me>>12&63|128,x[L++]=me>>6&63|128,x[L++]=63&me|128):(x[L++]=me>>12|224,x[L++]=me>>6&63|128,x[L++]=63&me|128)}return x},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,x){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[];for(let me=0;me<$.length;me+=3){const pt=$[me],Ot=me+1<$.length,ln=Ot?$[me+1]:0,pn=me+2<$.length,Rn=pn?$[me+2]:0;let Gr=(15&ln)<<2|Rn>>6,dr=63&Rn;pn||(dr=64,Ot||(Gr=64)),ie.push(L[pt>>2],L[(3&pt)<<4|ln>>4],L[Gr],L[dr])}return ie.join("")},encodeString($,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa($):this.encodeByteArray(ve($),x)},decodeString($,x){return this.HAS_NATIVE_SUPPORT&&!x?atob($):function($){const x=[];let L=0,ie=0;for(;L<$.length;){const me=$[L++];if(me<128)x[ie++]=String.fromCharCode(me);else if(me>191&&me<224){const pt=$[L++];x[ie++]=String.fromCharCode((31&me)<<6|63&pt)}else if(me>239&&me<365){const pn=((7&me)<<18|(63&$[L++])<<12|(63&$[L++])<<6|63&$[L++])-65536;x[ie++]=String.fromCharCode(55296+(pn>>10)),x[ie++]=String.fromCharCode(56320+(1023&pn))}else{const pt=$[L++],Ot=$[L++];x[ie++]=String.fromCharCode((15&me)<<12|(63&pt)<<6|63&Ot)}}return x.join("")}(this.decodeStringToByteArray($,x))},decodeStringToByteArray($,x){this.init_();const L=x?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[];for(let me=0;me<$.length;){const pt=L[$.charAt(me++)],ln=me<$.length?L[$.charAt(me)]:0;++me;const Rn=me<$.length?L[$.charAt(me)]:64;++me;const cn=me<$.length?L[$.charAt(me)]:64;if(++me,null==pt||null==ln||null==Rn||null==cn)throw new ye;ie.push(pt<<2|ln>>4),64!==Rn&&(ie.push(ln<<4&240|Rn>>2),64!==cn&&ie.push(Rn<<6&192|cn))}return ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function($){return function($){const x=ve($);return Ce.encodeByteArray(x,!0)}($).replace(/\./g,"")},Y=function($){try{return Ce.decodeString($,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function fe($,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return x}for(const L in x)!x.hasOwnProperty(L)||!Ae(L)||($[L]=fe($[L],x[L]));return $}function Ae($){return"__proto__"!==$}function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ft=()=>{try{return Ne().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=$&&Y($[1]);return x&&JSON.parse(x)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},He=$=>{const x=($=>{var x,L;return null===(L=null===(x=Ft())||void 0===x?void 0:x.emulatorHosts)||void 0===L?void 0:L[$]})($);if(!x)return;const L=x.lastIndexOf(":");if(L<=0||L+1===x.length)throw new Error(`Invalid host ${x} with no separate hostname and port!`);const ie=parseInt(x.substring(L+1),10);return"["===x[0]?[x.substring(1,L-1),ie]:[x.substring(0,L),ie]},Ie=()=>{var $;return null===($=Ft())||void 0===$?void 0:$.config},tt=$=>{var x;return null===(x=Ft())||void 0===x?void 0:x[`_${$}`]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,L)=>{this.resolve=x,this.reject=L})}wrapCallback(x){return(L,ie)=>{L?this.reject(L):this.resolve(ie),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(L):x(L,ie))}}}function dt($,x){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ie=x||"demo-project",me=$.iat||0,pt=$.sub||$.user_id;if(!pt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ot=Object.assign({iss:`https://securetoken.google.com/${ie}`,aud:ie,iat:me,exp:me+3600,auth_time:me,sub:pt,user_id:pt,firebase:{sign_in_provider:"custom",identities:{}}},$);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(Ot)),""].join(".")}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ht(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function Ee(){var $;const x=null===($=Ft())||void 0===$?void 0:$.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Je(){return typeof window<"u"||Xt()}function Xt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Fn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function qe(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){const $=Nt();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function tn(){return!Ee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ze(){try{return"object"==typeof indexedDB}catch{return!1}}function Re(){return new Promise(($,x)=>{try{let L=!0;const ie="validate-browser-context-for-indexeddb-analytics-module",me=self.indexedDB.open(ie);me.onsuccess=()=>{me.result.close(),L||self.indexedDB.deleteDatabase(ie),$(!0)},me.onupgradeneeded=()=>{L=!1},me.onerror=()=>{var pt;x((null===(pt=me.error)||void 0===pt?void 0:pt.message)||"")}}catch(L){x(L)}})}class ct extends Error{constructor(x,L,ie){super(L),this.code=x,this.customData=ie,this.name="FirebaseError",Object.setPrototypeOf(this,ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(x,L,ie){this.service=x,this.serviceName=L,this.errors=ie}create(x,...L){const ie=L[0]||{},me=`${this.service}/${x}`,pt=this.errors[x],Ot=pt?function jt($,x){return $.replace(An,(L,ie)=>{const me=x[ie];return null!=me?String(me):`<${ie}?>`})}(pt,ie):"Error";return new ct(me,`${this.serviceName}: ${Ot} (${me}).`,ie)}}const An=/\{\$([^}]+)}/g;function $t($,x){return Object.prototype.hasOwnProperty.call($,x)}function an($){for(const x in $)if(Object.prototype.hasOwnProperty.call($,x))return!1;return!0}function Jn($,x){if($===x)return!0;const L=Object.keys($),ie=Object.keys(x);for(const me of L){if(!ie.includes(me))return!1;const pt=$[me],Ot=x[me];if(zt(pt)&&zt(Ot)){if(!Jn(pt,Ot))return!1}else if(pt!==Ot)return!1}for(const me of ie)if(!L.includes(me))return!1;return!0}function zt($){return null!==$&&"object"==typeof $}function Wn($){const x=[];for(const[L,ie]of Object.entries($))Array.isArray(ie)?ie.forEach(me=>{x.push(encodeURIComponent(L)+"="+encodeURIComponent(me))}):x.push(encodeURIComponent(L)+"="+encodeURIComponent(ie));return x.length?"&"+x.join("&"):""}function Cn($){const x={};return $.replace(/^\?/,"").split("&").forEach(ie=>{if(ie){const[me,pt]=ie.split("=");x[decodeURIComponent(me)]=decodeURIComponent(pt)}}),x}function Vr($){const x=$.indexOf("?");if(!x)return"";const L=$.indexOf("#",x);return $.substring(x,L>0?L:void 0)}function ei($,x){const L=new Kn($,x);return L.subscribe.bind(L)}class Kn{constructor(x,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{x(this)}).catch(ie=>{this.error(ie)})}next(x){this.forEachObserver(L=>{L.next(x)})}error(x){this.forEachObserver(L=>{L.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,L,ie){let me;if(void 0===x&&void 0===L&&void 0===ie)throw new Error("Missing Observer.");me=function ys($,x){if("object"!=typeof $||null===$)return!1;for(const L of x)if(L in $&&"function"==typeof $[L])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:L,complete:ie},void 0===me.next&&(me.next=fn),void 0===me.error&&(me.error=fn),void 0===me.complete&&(me.complete=fn);const pt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?me.error(this.finalError):me.complete()}catch{}}),this.observers.push(me),pt}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,x)}sendOne(x,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{L(this.observers[x])}catch(ie){typeof console<"u"&&console.error&&console.error(ie)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fn(){}function yt($){return $&&$._delegate?$._delegate:$}},9483:(sn,Ze,F)=>{F.d(Ze,{j:()=>te});var o=F(7705),le=F(6814),i=F(177);const ve=function(fe,Ae){return{"background-color":fe,color:Ae}};function _e(fe,Ae){if(1&fe){const Ne=o.RV6();o.qex(0),o.j41(1,"button",4),o.bIt("click",function(){o.eBV(Ne);const Ke=o.XpG();return o.Njj(Ke.navigate())}),o.EFF(2),o.k0s(),o.bVm()}if(2&fe){const Ne=o.XpG();o.R7$(1),o.Y8G("ngStyle",o.l_i(2,ve,Ne.buttonBgColor,Ne.buttonTextColor)),o.R7$(1),o.SpI(" ",Ne.buttonText," ")}}function Ce(fe,Ae){if(1&fe){const Ne=o.RV6();o.j41(0,"a",5),o.bIt("click",function(){o.eBV(Ne);const Ke=o.XpG();return o.Njj(Ke.navigate())}),o.EFF(1),o.k0s()}if(2&fe){const Ne=o.XpG();o.Y8G("ngStyle",o.l_i(2,ve,Ne.buttonBgColor,Ne.buttonTextColor)),o.R7$(1),o.SpI(" ",Ne.buttonText," ")}}const ye=function(fe,Ae,Ne){return{"full-width":fe,centered:Ae,shadow:Ne}},Ve=function(fe,Ae,Ne,de){return{"background-color":fe,color:Ae,"text-align":Ne,"border-radius":de}},xe=function(fe,Ae){return{color:fe,"font-size":Ae}},Y=function(fe){return{color:fe}};let te=(()=>{class fe{constructor(Ne){this.router=Ne,this.title="Come Meet Our Family!",this.content="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="var(--background-color)",this.textColor="var(--text-color)",this.titleColor="var(--accent-color)",this.buttonBgColor="var(--button-color)",this.buttonTextColor="var(--button-text-color)",this.borderRadius="10px",this.boxShadow="0px 4px 6px rgba(0, 0, 0, 0.2)",this.page="contact-us",this.layout="centered",this.businessId="",this.showImage=!1,this._businessName="",this.location="",this.backgroundColor="#ffffff",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonLink="contact-us",this.alignText="left",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){console.log("CTA Initialized with:",{bgColor:this.bgColor,textColor:this.textColor,titleColor:this.titleColor,buttonBgColor:this.buttonBgColor,buttonTextColor:this.buttonTextColor,layout:this.layout}),this.fullWidth=this.convertToBoolean(this.fullWidth)}navigate(){this.page&&this.businessId&&(this.router.navigate([this.page]),this.router.navigate([this.page],{queryParams:{id:this.businessId}}))}convertToBoolean(Ne){return"boolean"==typeof Ne?Ne:"string"==typeof Ne&&"true"===Ne.toLowerCase()}static{this.\u0275fac=function(de){return new(de||fe)(o.rXU(le.Ix))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-call-to-action"]],inputs:{title:"title",content:"content",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor",titleColor:"titleColor",buttonBgColor:"buttonBgColor",buttonTextColor:"buttonTextColor",borderRadius:"borderRadius",boxShadow:"boxShadow",page:"page",layout:"layout",businessId:"businessId",themeType:"themeType",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",location:"location",backgroundColor:"backgroundColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonLink:"buttonLink",alignText:"alignText",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax"},decls:8,vars:22,consts:[[1,"cta-container",3,"ngClass","ngStyle"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-btn",3,"ngStyle","click"],["href","#",1,"cta-btn",3,"ngStyle","click"]],template:function(de,Ke){if(1&de&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s(),o.j41(3,"p",1),o.EFF(4),o.k0s(),o.DNE(5,_e,3,5,"ng-container",2),o.DNE(6,Ce,2,5,"ng-template",null,3,o.C5r),o.k0s()),2&de){const mt=o.sdS(7);o.Y8G("ngClass",o.sMw(8,ye,Ke.fullWidth,!Ke.fullWidth,Ke.boxShadow))("ngStyle",o.ziG(12,Ve,Ke.backgroundColor,Ke.textColor,Ke.alignText,Ke.borderRadius+"px")),o.R7$(1),o.Y8G("ngStyle",o.l_i(17,xe,Ke.titleColor,Ke.titleFontSize+"px")),o.R7$(1),o.JRh(Ke.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(20,Y,Ke.textColor)),o.R7$(1),o.JRh(Ke.content),o.R7$(1),o.Y8G("ngIf",Ke.isButton)("ngIfElse",mt)}},dependencies:[i.YU,i.bT,i.B3]})}}return fe})()},7304:(sn,Ze,F)=>{F.d(Ze,{W:()=>Nt});var o=F(7705),le=F(345),i=F(6814),ve=F(177);let _e=(()=>{class ht{transform(Je,Xt){if(!Je||!Xt)return Je;let Fn=Je;for(const qe in Xt)if(Xt.hasOwnProperty(qe)){const xt=new RegExp(`{{${qe}}}`,"g");Fn=Fn.replace(xt,Xt[qe])}return Fn}static{this.\u0275fac=function(Xt){return new(Xt||ht)}}static{this.\u0275pipe=o.EJ8({name:"replaceKeyword",type:ht,pure:!0})}}return ht})();const Ce=function(ht){return{"text-align":ht}},ye=function(ht,Ee){return{color:ht,"font-size":Ee}},Ve=function(ht){return{businessName:ht}};function xe(ht,Ee){if(1&ht&&(o.j41(0,"div")(1,"div",9)(2,"span",10),o.EFF(3),o.nI1(4,"replaceKeyword"),o.k0s(),o.nrm(5,"br"),o.j41(6,"span",11),o.EFF(7),o.k0s()()()),2&ht){const Je=o.XpG(2);o.R7$(1),o.Y8G("ngStyle",o.eq3(8,Ce,Je.alignText)),o.R7$(1),o.Y8G("ngStyle",o.l_i(10,ye,Je.subtitleColor,Je.subtitleFontSize+"px")),o.R7$(1),o.JRh(o.i5U(4,5,Je.subTitle,o.eq3(13,Ve,Je._businessName))),o.R7$(3),o.Y8G("ngStyle",o.l_i(15,ye,Je.titleColor,Je.titleFontSize+"px")),o.R7$(1),o.SpI("",Je.title," ")}}function Y(ht,Ee){if(1&ht&&(o.j41(0,"div")(1,"h3")(2,"span",12),o.EFF(3),o.nI1(4,"replaceKeyword"),o.k0s()(),o.j41(5,"div",13)(6,"h2",14),o.EFF(7),o.k0s()()()),2&ht){const Je=o.XpG(2);o.R7$(3),o.JRh(o.i5U(4,2,Je.subTitle,o.eq3(5,Ve,Je._businessName))),o.R7$(4),o.JRh(Je.title)}}function te(ht,Ee){if(1&ht){const Je=o.RV6();o.j41(0,"button",15),o.bIt("click",function(){o.eBV(Je);const Fn=o.XpG(2);return o.Njj(Fn.navigateToContact(Fn.buttonLink))}),o.EFF(1),o.k0s()}if(2&ht){const Je=o.XpG(2);o.R7$(1),o.JRh(Je.buttonText)}}const fe=function(ht,Ee,Je){return{"full-width":ht,centered:Ee,shadow:Je}},Ae=function(ht,Ee,Je,Xt){return{"background-color":ht,color:Ee,"text-align":Je,"border-radius":Xt}};function Ne(ht,Ee){if(1&ht&&(o.j41(0,"div",2)(1,"div",3)(2,"div",4),o.DNE(3,xe,8,18,"div",5),o.DNE(4,Y,8,7,"div",5),o.nrm(5,"p",6),o.j41(6,"div",7),o.DNE(7,te,2,1,"button",8),o.k0s()()()()),2&ht){const Je=o.XpG();o.Y8G("ngClass",o.sMw(6,fe,Je.fullWidth,!Je.fullWidth,Je.boxShadow))("ngStyle",o.ziG(10,Ae,Je.backgroundColor,Je.textColor,Je.alignText,Je.borderRadius+"px")),o.R7$(3),o.Y8G("ngIf","home"==Je.page),o.R7$(1),o.Y8G("ngIf","home"!=Je.page),o.R7$(1),o.Y8G("innerHTML",Je.sanitizedContent,o.npT),o.R7$(2),o.Y8G("ngIf",Je.showButton)}}function de(ht,Ee){if(1&ht&&o.nrm(0,"img",19),2&ht){const Je=o.XpG(2);o.Y8G("src",Je.imageURL,o.B4B)}}function Ke(ht,Ee){1&ht&&(o.j41(0,"button",20),o.EFF(1,"Schedule A Visit"),o.k0s())}function mt(ht,Ee){if(1&ht&&(o.j41(0,"div",2),o.DNE(1,de,1,1,"img",16),o.j41(2,"h3",17),o.EFF(3),o.k0s(),o.j41(4,"h2",17),o.EFF(5),o.k0s(),o.nrm(6,"p",6),o.DNE(7,Ke,2,0,"button",18),o.k0s()),2&ht){const Je=o.XpG();o.Y8G("ngClass",o.sMw(7,fe,Je.fullWidth,!Je.fullWidth,Je.boxShadow))("ngStyle",o.ziG(11,Ae,Je.backgroundColor,Je.textColor,Je.alignText,Je.borderRadius+"px")),o.R7$(1),o.Y8G("ngIf",Je.imageURL&&Je.showImage),o.R7$(2),o.JRh(Je.subTitle),o.R7$(2),o.JRh(Je.title),o.R7$(1),o.Y8G("innerHTML",Je.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",Je.showButton)}}function Ft(ht,Ee){if(1&ht&&o.nrm(0,"img",19),2&ht){const Je=o.XpG(2);o.Y8G("src",Je.imageURL,o.B4B)}}function Jt(ht,Ee){1&ht&&(o.j41(0,"button",20),o.EFF(1,"Schedule A Visit"),o.k0s())}function He(ht,Ee){if(1&ht&&(o.j41(0,"div",2),o.DNE(1,Ft,1,1,"img",16),o.j41(2,"h3",17),o.EFF(3),o.k0s(),o.j41(4,"h2",17),o.EFF(5),o.k0s(),o.nrm(6,"p",6),o.DNE(7,Jt,2,0,"button",18),o.k0s()),2&ht){const Je=o.XpG();o.Y8G("ngClass",o.sMw(7,fe,Je.fullWidth,!Je.fullWidth,Je.boxShadow))("ngStyle",o.ziG(11,Ae,Je.backgroundColor,Je.textColor,Je.alignText,Je.borderRadius+"px")),o.R7$(1),o.Y8G("ngIf",Je.imageURL&&Je.showImage),o.R7$(2),o.JRh(Je.subTitle),o.R7$(2),o.JRh(Je.title),o.R7$(1),o.Y8G("innerHTML",Je.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",Je.showButton)}}function Ie(ht,Ee){if(1&ht&&o.nrm(0,"img",19),2&ht){const Je=o.XpG(2);o.Y8G("src",Je.imageURL,o.B4B)}}function tt(ht,Ee){if(1&ht&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&ht){const Je=o.XpG(2);o.R7$(1),o.SpI(" ",Je.titleParts.part2,"")}}function Xe(ht,Ee){1&ht&&(o.j41(0,"button",20),o.EFF(1,"Schedule A Visit"),o.k0s())}function dt(ht,Ee){if(1&ht&&(o.j41(0,"div",21),o.DNE(1,Ie,1,1,"img",16),o.j41(2,"div",22)(3,"h3"),o.EFF(4),o.k0s(),o.j41(5,"h2"),o.DNE(6,tt,2,1,"span",5),o.k0s(),o.nrm(7,"div",23)(8,"p",6),o.k0s(),o.DNE(9,Xe,2,0,"button",18),o.k0s()),2&ht){const Je=o.XpG();o.Y8G("ngClass",o.sMw(7,fe,Je.fullWidth,!Je.fullWidth,Je.boxShadow))("ngStyle",o.ziG(11,Ae,Je.backgroundColor,Je.textColor,Je.alignText,Je.borderRadius+"px")),o.R7$(1),o.Y8G("ngIf",Je.imageURL&&Je.showImage),o.R7$(3),o.JRh(Je.titleParts.part1),o.R7$(2),o.Y8G("ngIf",Je.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",Je.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",Je.showButton)}}let Nt=(()=>{class ht{constructor(Je,Xt){this.sanitizer=Je,this.router=Xt,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Center Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Center Text- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Je){this._content=Je,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[Je,Xt]=this.title.split("|").map(Fn=>Fn.trim());return{part1:Je,part2:Xt}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(Je){this.router.navigate([Je])}convertToBoolean(Je){return"boolean"==typeof Je?Je:"string"==typeof Je&&"true"===Je.toLowerCase()}static{this.\u0275fac=function(Xt){return new(Xt||ht)(o.rXU(le.up),o.rXU(i.Ix))}}static{this.\u0275cmp=o.VBU({type:ht,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",content:"content"},decls:4,vars:4,consts:[["class","center-text-container",3,"ngClass","ngStyle",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass","ngStyle",4,"ngIf"],[1,"center-text-container",3,"ngClass","ngStyle"],[1,"center-text-overlay"],[1,"center-text-content"],[4,"ngIf"],[1,"center-text-description",3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],[1,"features-section-heading",3,"ngStyle"],[1,"features-section-title","highlight",3,"ngStyle"],[1,"features-section-title","main",3,"ngStyle"],[1,"brand-name"],[1,"heading-container"],[1,"styled-heading"],["type","button",1,"afhBtn",3,"click"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass","ngStyle"],[1,"text-container"],[1,"separator2"]],template:function(Xt,Fn){1&Xt&&(o.DNE(0,Ne,8,15,"div",0),o.DNE(1,mt,8,16,"div",0),o.DNE(2,He,8,16,"div",0),o.DNE(3,dt,10,16,"div",1)),2&Xt&&(o.Y8G("ngIf","hh"==Fn.themeType),o.R7$(1),o.Y8G("ngIf","ae"==Fn.themeType),o.R7$(1),o.Y8G("ngIf","clemo"==Fn.themeType),o.R7$(1),o.Y8G("ngIf","sb"==Fn.themeType||"sp"==Fn.themeType||"prestige"==Fn.themeType))},dependencies:[ve.YU,ve.bT,ve.B3,_e]})}}return ht})()},3967:(sn,Ze,F)=>{F.d(Ze,{t:()=>fe});var o=F(7705),le=F(345),i=F(6814),ve=F(177);const _e=function(Ae,Ne,de){return{"full-width":Ae,centered:Ne,shadow:de}},Ce=function(Ae,Ne,de,Ke){return{"background-color":Ae,color:Ne,"text-align":de,"border-radius":Ke}},ye=function(Ae,Ne){return{color:Ae,"font-size":Ne}};function Ve(Ae,Ne){if(1&Ae){const de=o.RV6();o.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),o.EFF(4),o.k0s(),o.j41(5,"span",6),o.EFF(6),o.k0s()(),o.nrm(7,"p",7),o.j41(8,"button",8),o.bIt("click",function(){o.eBV(de);const mt=o.XpG();return o.Njj(mt.navigateTo("resident-form"))}),o.EFF(9,"Get Started"),o.k0s()()()}if(2&Ae){const de=o.XpG();o.Y8G("ngClass",o.sMw(7,_e,de.fullWidth,!de.fullWidth,de.boxShadow))("ngStyle",o.ziG(11,Ce,de.backgroundColor,de.textColor,de.alignText,de.borderRadius+"px")),o.R7$(3),o.Y8G("ngStyle",o.l_i(16,ye,de.titleColor,de.titleFontSize+"px")),o.R7$(1),o.SpI("",de.title," "),o.R7$(1),o.Y8G("ngStyle",o.l_i(19,ye,de.subtitleColor,de.subtitleFontSize+"px")),o.R7$(1),o.JRh(de.subTitle),o.R7$(1),o.Y8G("innerHTML",de.sanitizedContent,o.npT)}}function xe(Ae,Ne){if(1&Ae){const de=o.RV6();o.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),o.EFF(6),o.k0s(),o.j41(7,"span",14),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.EFF(11),o.j41(12,"div",15)(13,"button",16),o.bIt("click",function(){o.eBV(de);const mt=o.XpG();return o.Njj(mt.navigateToContact(mt.businessId))}),o.EFF(14,"Schedule a Visit"),o.k0s()()()()()()}if(2&Ae){const de=o.XpG();o.Y8G("ngClass",o.sMw(8,_e,de.fullWidth,!de.fullWidth,de.boxShadow))("ngStyle",o.ziG(12,Ce,de.backgroundColor,de.textColor,de.alignText,de.borderRadius+"px")),o.R7$(5),o.Y8G("ngStyle",o.l_i(17,ye,de.titleColor,de.titleFontSize+"px")),o.R7$(1),o.SpI(" ",de.title," Ready to experience "),o.R7$(1),o.Y8G("ngStyle",o.l_i(20,ye,de.subtitleColor,de.subtitleFontSize+"px")),o.R7$(1),o.Lme("",de.subTitle,"",de._businessName,"?"),o.R7$(3),o.SpI(" ",de.content," ")}}function Y(Ae,Ne){if(1&Ae){const de=o.RV6();o.j41(0,"div",2)(1,"div",17)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),o.EFF(6),o.k0s(),o.j41(7,"span",6),o.EFF(8),o.k0s()(),o.nrm(9,"p",7),o.j41(10,"div",15)(11,"button",18),o.bIt("click",function(){o.eBV(de);const mt=o.XpG();return o.Njj(mt.navigateTo("contact-us"))}),o.EFF(12),o.k0s()()()()()()}if(2&Ae){const de=o.XpG();o.Y8G("ngClass",o.sMw(8,_e,de.fullWidth,!de.fullWidth,de.boxShadow))("ngStyle",o.ziG(12,Ce,de.backgroundColor,de.textColor,de.alignText,de.borderRadius+"px")),o.R7$(5),o.Y8G("ngStyle",o.l_i(17,ye,de.titleColor,de.titleFontSize+"px")),o.R7$(1),o.SpI("",de.title," "),o.R7$(1),o.Y8G("ngStyle",o.l_i(20,ye,de.subtitleColor,de.subtitleFontSize+"px")),o.R7$(1),o.JRh(de.subTitle),o.R7$(1),o.Y8G("innerHTML",de.sanitizedContent,o.npT),o.R7$(3),o.JRh(de.buttonText)}}function te(Ae,Ne){if(1&Ae){const de=o.RV6();o.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),o.EFF(6),o.k0s(),o.j41(7,"span",6),o.EFF(8),o.k0s()(),o.nrm(9,"p",7),o.j41(10,"div",15)(11,"button",19),o.bIt("click",function(){o.eBV(de);const mt=o.XpG();return o.Njj(mt.navigateTo("resident-form"))}),o.EFF(12),o.k0s()()()()()()}if(2&Ae){const de=o.XpG();o.Y8G("ngClass",o.sMw(8,_e,de.fullWidth,!de.fullWidth,de.boxShadow))("ngStyle",o.ziG(12,Ce,de.backgroundColor,de.textColor,de.alignText,de.borderRadius+"px")),o.R7$(5),o.Y8G("ngStyle",o.l_i(17,ye,de.titleColor,de.titleFontSize+"px")),o.R7$(1),o.SpI("",de.title," "),o.R7$(1),o.Y8G("ngStyle",o.l_i(20,ye,de.subtitleColor,de.subtitleFontSize+"px")),o.R7$(1),o.JRh(de.subTitle),o.R7$(1),o.Y8G("innerHTML",de.sanitizedContent,o.npT),o.R7$(3),o.JRh(de.buttonText)}}let fe=(()=>{class Ae{set content(de){this._content=de,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}constructor(de,Ke){this.sanitizer=de,this.router=Ke,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.businessId=""}navigateToContact(de){this.router.navigate(["/contact-us"],{queryParams:{id:de}})}navigateTo(de){this.router.navigate(["/"+de],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Ke){return new(Ke||Ae)(o.rXU(le.up),o.rXU(i.Ix))}}static{this.\u0275cmp=o.VBU({type:Ae,selectors:[["app-consultation"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",businessId:"businessId",content:"content"},decls:5,vars:5,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[3,"ngClass","ngStyle"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main",3,"ngStyle"],[1,"section-title-highlight",3,"ngStyle"],[1,"section-description",3,"innerHTML"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main",3,"ngStyle"],[1,"consultation-title","highlight",3,"ngStyle"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],[1,"consultation-container"],[1,"consultation-btn",3,"click"],["type","button",1,"cta-btn",3,"click"]],template:function(Ke,mt){1&Ke&&(o.j41(0,"div",0),o.DNE(1,Ve,10,22,"div",1),o.DNE(2,xe,15,23,"div",1),o.DNE(3,Y,13,23,"div",1),o.DNE(4,te,13,23,"div",1),o.k0s()),2&Ke&&(o.Y8G("ngSwitch",mt.themeType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","sb"),o.R7$(1),o.Y8G("ngSwitchCase","prestige"))},dependencies:[ve.YU,ve.B3,ve.ux,ve.e1]})}}return Ae})()},3095:(sn,Ze,F)=>{F.d(Ze,{C:()=>_e});var o=F(7705),le=F(177);function i(Ce,ye){if(1&Ce&&(o.j41(0,"div",5)(1,"p"),o.EFF(2),o.k0s()()),2&Ce){const Ve=o.XpG().$implicit;o.R7$(2),o.JRh(Ve.answer)}}function ve(Ce,ye){if(1&Ce){const Ve=o.RV6();o.j41(0,"div",2)(1,"button",3),o.bIt("click",function(){const te=o.eBV(Ve).$implicit;return o.Njj(te.open=!te.open)}),o.EFF(2),o.k0s(),o.DNE(3,i,3,1,"div",4),o.k0s()}if(2&Ce){const Ve=ye.$implicit;o.R7$(2),o.SpI(" ",Ve.question," "),o.R7$(1),o.Y8G("ngIf",Ve.open)}}let _e=(()=>{class Ce{constructor(){this.faqs=[{question:"What services do you provide?",answer:"We offer 24/7 care, medication management, meal preparation, assistance with daily activities, and specialized care for conditions like dementia or mobility limitations.",open:!1},{question:"How do I know if an Adult Family Home is right for my loved one?",answer:"If your loved one needs assistance with daily living but still wants a home-like setting with personalized care, an AFH can be a great alternative to larger nursing facilities.",open:!1},{question:"Do you provide specialized care for dementia or Alzheimer\u2019s patients?",answer:"Yes, we offer memory care services tailored to the needs of residents with dementia, including safety measures, cognitive activities, and compassionate support.",open:!1},{question:"What are the room and living arrangements?",answer:"We provide private or semi-private rooms in a warm, family-like setting. Our common areas encourage socialization, and residents receive personalized attention.",open:!1},{question:"Can family members visit?",answer:"Absolutely! We encourage family visits and open communication. Visiting hours may vary, but we strive to accommodate family involvement.",open:!1},{question:"What is the cost of care, and do you accept insurance?",answer:"Pricing depends on the level of care needed. We accept private pay and some long-term care insurance plans. Contact us for a personalized quote.",open:!1},{question:"What activities and social programs do you offer?",answer:"We provide daily activities such as games, music, gentle exercises, and social events to keep residents engaged and active.",open:!1},{question:"How do I schedule a tour or get more information?",answer:"You can contact us through our website, call us directly, or fill out our inquiry form to schedule a visit and learn more about our care services.",open:!1}]}static{this.\u0275fac=function(xe){return new(xe||Ce)}}static{this.\u0275cmp=o.VBU({type:Ce,selectors:[["app-faq"]],decls:4,vars:1,consts:[[1,"faq-container"],["class","faq-item",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],["class","faq-answer",4,"ngIf"],[1,"faq-answer"]],template:function(xe,Y){1&xe&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Frequently Asked Questions (FAQs)"),o.k0s(),o.DNE(3,ve,4,2,"div",1),o.k0s()),2&xe&&(o.R7$(3),o.Y8G("ngForOf",Y.faqs))},dependencies:[le.Sq,le.bT],styles:[".faq-container[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto;padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2rem}.faq-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.faq-question[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:var(--dark-background-color);color:#fff;border:none;text-align:left;font-size:1.1em;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.faq-question[_ngcontent-%COMP%]:hover{background-color:#45a049}.faq-answer[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:5px;margin-top:10px;font-size:1.05em;color:#555;box-shadow:0 2px 4px #0000001a}"]})}}return Ce})()},3711:(sn,Ze,F)=>{F.d(Ze,{a:()=>Ce});var o=F(7705),le=F(4710),i=F(177);function ve(ye,Ve){1&ye&&(o.qex(0),o.nrm(1,"div",3),o.bVm())}function _e(ye,Ve){1&ye&&(o.qex(0),o.nrm(1,"div",4),o.bVm())}let Ce=(()=>{class ye{constructor(xe){this.googleMapsLoader=xe,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(xe=>{console.error("Error loading Google Maps script:",xe)})}ngOnChanges(xe){xe.address&&!xe.address.firstChange&&this.showAddressOnMap(xe.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(xe){this.geocoder.geocode({address:xe},(Y,te)=>{if("OK"===te){this.map.setCenter(Y[0].geometry.location);const fe=new google.maps.LatLngBounds;fe.extend(Y[0].geometry.location),this.map.fitBounds(fe),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:Y[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+te)})}getZoomLevel(xe){document.getElementById("map");const fe=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(xe*fe)))}static{this.\u0275fac=function(Y){return new(Y||ye)(o.rXU(le.L))}}static{this.\u0275cmp=o.VBU({type:ye,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[o.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(Y,te){1&Y&&(o.j41(0,"div",0),o.qex(1),o.DNE(2,ve,2,0,"ng-container",1),o.DNE(3,_e,2,0,"ng-container",2),o.bVm(),o.k0s()),2&Y&&(o.Y8G("ngSwitch",te.layoutType),o.R7$(2),o.Y8G("ngSwitchCase","clemo"))},dependencies:[i.ux,i.e1,i.fG],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return ye})()},1915:(sn,Ze,F)=>{F.d(Ze,{j:()=>Fn});var o=F(7705),le=F(6814),i=F(177),ve=F(4591);function _e(qe,xt){if(1&qe&&(o.j41(0,"div",11)(1,"div",12),o.nrm(2,"i",13),o.j41(3,"h2"),o.EFF(4),o.k0s()(),o.j41(5,"div",14)(6,"p"),o.EFF(7),o.k0s()()()),2&qe){const je=xt.$implicit;o.R7$(2),o.Y8G("ngClass",je.icon),o.R7$(2),o.JRh(je.title),o.R7$(3),o.JRh(je.description)}}const Ce=function(qe){return{color:qe}};function ye(qe,xt){if(1&qe&&(o.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"div",9),o.DNE(6,_e,8,3,"div",10),o.k0s()()()),2&qe){const je=o.XpG(2);o.R7$(3),o.Y8G("ngStyle",o.eq3(3,Ce,je.titleColor)),o.R7$(1),o.SpI(" ",je.title," "),o.R7$(2),o.Y8G("ngForOf",je.items)}}function Ve(qe,xt){if(1&qe&&(o.j41(0,"div",20),o.nrm(1,"i",21),o.j41(2,"h2",22),o.EFF(3),o.k0s(),o.j41(4,"p",22),o.EFF(5),o.k0s()()),2&qe){const je=xt.$implicit,lt=o.XpG(3);o.R7$(1),o.Y8G("ngStyle",o.eq3(6,Ce,lt.textColor))("ngClass",je.icon),o.R7$(1),o.Y8G("ngStyle",o.eq3(8,Ce,lt.subtitleColor)),o.R7$(1),o.JRh(je.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(10,Ce,lt.textColor)),o.R7$(1),o.JRh(je.description)}}function xe(qe,xt){if(1&qe&&(o.j41(0,"div")(1,"div")(2,"div",7)(3,"div",15)(4,"span",16),o.EFF(5),o.k0s(),o.j41(6,"span",17),o.EFF(7),o.k0s()()(),o.j41(8,"div",18),o.DNE(9,Ve,6,12,"div",19),o.k0s()()()),2&qe){const je=o.XpG(2);o.R7$(5),o.SpI("",je.title," "),o.R7$(2),o.JRh(je.subTitle),o.R7$(2),o.Y8G("ngForOf",je.items)}}const Y=function(qe,xt,je,lt,ke,st){return{"parallax-container":qe,"regular-image-container":xt,"solid-bg-container":je,"full-width":lt,centered:ke,shadow:st}},te=function(qe,xt,je,lt,ke){return{"background-image":qe,"background-color":xt,color:je,"text-align":lt,"border-radius":ke}};function fe(qe,xt){if(1&qe&&(o.j41(0,"section",4)(1,"div"),o.DNE(2,ye,7,5,"div",5),o.DNE(3,xe,10,3,"div",5),o.k0s()()),2&qe){const je=o.XpG();o.Y8G("ngClass",o.l4e(4,Y,je.isParallax&&je.sectionImageUrl,!je.isParallax&&je.sectionImageUrl,!je.sectionImageUrl,je.fullWidth,!je.fullWidth,je.boxShadow))("ngStyle",o.s1E(11,te,je.sectionImageUrl?"url("+je.sectionImageUrl+")":"none",je.backgroundColor,je.textColor,je.alignText,je.borderRadius+"px")),o.R7$(2),o.Y8G("ngIf",!je.isMinimal),o.R7$(1),o.Y8G("ngIf",je.isMinimal)}}function Ae(qe,xt){if(1&qe&&(o.j41(0,"div",11)(1,"div",12),o.nrm(2,"i",13),o.j41(3,"h2"),o.EFF(4),o.k0s()(),o.j41(5,"div",14)(6,"p"),o.EFF(7),o.k0s()()()),2&qe){const je=xt.$implicit;o.R7$(2),o.Y8G("ngClass",je.icon),o.R7$(2),o.JRh(je.title),o.R7$(3),o.JRh(je.description)}}function Ne(qe,xt){if(1&qe&&(o.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"div",9),o.DNE(6,Ae,8,3,"div",10),o.k0s()()()),2&qe){const je=o.XpG(2);o.R7$(3),o.Y8G("ngStyle",o.eq3(3,Ce,je.titleColor)),o.R7$(1),o.SpI(" ",je.title," "),o.R7$(2),o.Y8G("ngForOf",je.items)}}function de(qe,xt){if(1&qe&&(o.j41(0,"div",27),o.nrm(1,"i",28),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()),2&qe){const je=xt.$implicit;o.R7$(1),o.Y8G("ngClass",je.icon),o.R7$(2),o.JRh(je.title),o.R7$(2),o.JRh(je.description)}}function Ke(qe,xt){if(1&qe){const je=o.RV6();o.j41(0,"div",29)(1,"button",30),o.bIt("click",function(){o.eBV(je);const ke=o.XpG(3);return o.Njj(ke.navigateTo("contact-us"))}),o.EFF(2),o.k0s()()}if(2&qe){const je=o.XpG(3);o.R7$(2),o.SpI(" ",je.buttonText," ")}}const mt=function(qe,xt,je){return{"parallax-container":qe,"regular-image-container":xt,"solid-bg-container":je}},Ft=function(qe){return{"background-image":qe}};function Jt(qe,xt){if(1&qe&&(o.j41(0,"div"),o.nrm(1,"app-section-tilte",23),o.j41(2,"div",24)(3,"div",18),o.DNE(4,de,6,3,"div",25),o.k0s()(),o.DNE(5,Ke,3,1,"div",26),o.k0s()),2&qe){const je=o.XpG(2);o.R7$(1),o.Y8G("titleColor",je.titleColor)("title",je.title),o.R7$(1),o.Y8G("ngClass",o.sMw(6,mt,je.isParallax&&je.sectionImageUrl,!je.isParallax&&je.sectionImageUrl,!je.sectionImageUrl))("ngStyle",o.eq3(10,Ft,je.sectionImageUrl?"url("+je.sectionImageUrl+")":"none")),o.R7$(2),o.Y8G("ngForOf",je.items),o.R7$(1),o.Y8G("ngIf",je.showButton)}}function He(qe,xt){if(1&qe&&(o.j41(0,"section",4)(1,"div"),o.DNE(2,Ne,7,5,"div",5),o.DNE(3,Jt,6,12,"div",5),o.k0s()()),2&qe){const je=o.XpG();o.Y8G("ngClass",o.l4e(4,Y,je.isParallax&&je.sectionImageUrl,!je.isParallax&&je.sectionImageUrl,!je.sectionImageUrl,je.fullWidth,!je.fullWidth,je.boxShadow))("ngStyle",o.s1E(11,te,je.sectionImageUrl?"url("+je.sectionImageUrl+")":"none",je.backgroundColor,je.textColor,je.alignText,je.borderRadius+"px")),o.R7$(2),o.Y8G("ngIf",!je.isMinimal),o.R7$(1),o.Y8G("ngIf",je.isMinimal)}}function Ie(qe,xt){if(1&qe&&(o.j41(0,"div",11)(1,"div"),o.nrm(2,"i",13),o.j41(3,"h2"),o.EFF(4),o.k0s()(),o.j41(5,"div",14)(6,"p"),o.EFF(7),o.k0s()()()),2&qe){const je=xt.$implicit;o.R7$(2),o.Y8G("ngClass",je.icon),o.R7$(2),o.JRh(je.title),o.R7$(3),o.JRh(je.description)}}const tt=function(qe,xt,je){return{"background-image":qe,"background-color":xt,color:je}};function Xe(qe,xt){if(1&qe&&(o.j41(0,"div")(1,"section",32)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"h3",33),o.EFF(6),o.k0s(),o.j41(7,"div",9),o.DNE(8,Ie,8,3,"div",10),o.k0s()()()),2&qe){const je=o.XpG(2);o.R7$(1),o.Y8G("ngStyle",o.sMw(6,tt,je.sectionImageUrl?"url("+je.sectionImageUrl+")":"none",je.backgroundColor,je.textColor)),o.R7$(2),o.Y8G("ngStyle",o.eq3(10,Ce,je.titleColor)),o.R7$(1),o.SpI(" ",je.title," "),o.R7$(1),o.Y8G("ngStyle",o.eq3(12,Ce,je.subtitleColor)),o.R7$(1),o.SpI(" ",je.subTitle," "),o.R7$(2),o.Y8G("ngForOf",je.items)}}function dt(qe,xt){if(1&qe&&(o.j41(0,"div",27),o.nrm(1,"i",34),o.j41(2,"h2",22),o.EFF(3),o.k0s(),o.j41(4,"p",22),o.EFF(5),o.k0s()()),2&qe){const je=xt.$implicit,lt=o.XpG(3);o.R7$(1),o.Y8G("ngStyle",o.eq3(6,Ce,lt.titleColor))("ngClass",je.icon),o.R7$(1),o.Y8G("ngStyle",o.eq3(8,Ce,lt.titleColor)),o.R7$(1),o.JRh(je.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(10,Ce,lt.subtitleColor)),o.R7$(1),o.SpI(" ",je.description," ")}}const Nt=function(qe,xt,je,lt,ke){return{"parallax-container":qe,"regular-image-container":xt,"solid-bg-container":je,"full-width":lt,centered:ke}};function ht(qe,xt){if(1&qe&&(o.j41(0,"div")(1,"div",24)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"div",18),o.DNE(6,dt,6,12,"div",25),o.k0s()()()),2&qe){const je=o.XpG(2);o.R7$(1),o.Y8G("ngClass",o.s1E(5,Nt,je.isParallax&&je.sectionImageUrl,!je.isParallax&&je.sectionImageUrl,!je.sectionImageUrl,je.fullWidth,!je.fullWidth))("ngStyle",o.sMw(11,tt,je.sectionImageUrl?"url("+je.sectionImageUrl+")":"none",je.backgroundColor,je.textColor)),o.R7$(2),o.Y8G("ngStyle",o.eq3(15,Ce,je.titleColor)),o.R7$(1),o.SpI(" ",je.title," "),o.R7$(2),o.Y8G("ngForOf",je.items)}}function Ee(qe,xt){if(1&qe&&(o.j41(0,"section",31)(1,"div"),o.DNE(2,Xe,9,14,"div",5),o.DNE(3,ht,7,17,"div",5),o.k0s()()),2&qe){const je=o.XpG();o.R7$(2),o.Y8G("ngIf",!je.isMinimal),o.R7$(1),o.Y8G("ngIf",je.isMinimal)}}function Je(qe,xt){if(1&qe&&(o.j41(0,"div",39)(1,"div",40),o.nrm(2,"i",41),o.k0s(),o.j41(3,"div",42)(4,"h2",43),o.EFF(5),o.k0s(),o.j41(6,"p",44),o.EFF(7),o.k0s()()()),2&qe){const je=xt.$implicit;o.R7$(2),o.Y8G("ngClass",je.icon),o.R7$(3),o.JRh(je.name),o.R7$(2),o.JRh(je.description)}}function Xt(qe,xt){if(1&qe&&(o.j41(0,"section",35),o.nrm(1,"app-section-tilte",36),o.j41(2,"div",37),o.DNE(3,Je,8,3,"div",38),o.k0s()()),2&qe){const je=o.XpG();o.R7$(1),o.Y8G("title","Our Services"),o.R7$(2),o.Y8G("ngForOf",je.items)}}let Fn=(()=>{class qe{constructor(je){this.router=je,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(je){return"boolean"==typeof je?je:"string"==typeof je&&"true"===je.toLowerCase()}navigateTo(je){this.router.navigate(["/"+je],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(lt){return new(lt||qe)(o.rXU(le.Ix))}}static{this.\u0275cmp=o.VBU({type:qe,selectors:[["app-item-list"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId"},decls:5,vars:4,consts:[[1,"item-list-container"],["class","services-list-section",3,"ngClass","ngStyle",4,"ngIf"],["class","services-list-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"styled-heading",3,"ngStyle"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[2,"display","flex"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-description"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"services-grid"],["class","services-grid-item",4,"ngFor","ngForOf"],[1,"services-grid-item"],[1,"services-grid-item-icon",3,"ngStyle","ngClass"],[3,"ngStyle"],[3,"titleColor","title"],[3,"ngClass","ngStyle"],["class","service-item",4,"ngFor","ngForOf"],["class","button-container",4,"ngIf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"button-container"],["type","button",1,"cta-btn",3,"click"],[1,"services-list-section"],[1,"our-services-section",3,"ngStyle"],[1,"our-services-description",3,"ngStyle"],[1,"services-item-icon",3,"ngStyle","ngClass"],[1,"sb-services-section"],[3,"title"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-service-icon-wrapper"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-content"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(lt,ke){1&lt&&(o.j41(0,"div",0),o.DNE(1,fe,4,17,"section",1),o.DNE(2,He,4,17,"section",1),o.DNE(3,Ee,4,2,"section",2),o.DNE(4,Xt,4,2,"section",3),o.k0s()),2&lt&&(o.R7$(1),o.Y8G("ngIf","hh"===ke.themeType),o.R7$(1),o.Y8G("ngIf","ae"===ke.themeType),o.R7$(1),o.Y8G("ngIf","prestige"===ke.themeType),o.R7$(1),o.Y8G("ngIf","sb"==ke.themeType||"sp"==ke.themeType))},dependencies:[i.YU,i.Sq,i.bT,i.B3,ve.L]})}}return qe})()},491:(sn,Ze,F)=>{F.d(Ze,{G:()=>fe});var o=F(7705),le=F(345),i=F(6814),ve=F(177);const _e=function(Ae,Ne,de){return{"full-width":Ae,centered:Ne,shadow:de}},Ce=function(Ae,Ne,de,Ke){return{"background-color":Ae,color:Ne,"text-align":de,"border-radius":Ke}};function ye(Ae,Ne){if(1&Ae&&(o.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),o.EFF(4),o.k0s()(),o.nrm(5,"p",6),o.k0s(),o.j41(6,"div",7),o.nrm(7,"img",8),o.k0s()()),2&Ae){const de=o.XpG();o.Y8G("ngClass",o.sMw(6,_e,de.fullWidth,!de.fullWidth,de.boxShadow))("ngStyle",o.ziG(10,Ce,de.backgroundColor,de.textColor,de.alignText,de.borderRadius+"px")),o.R7$(4),o.JRh(de.title),o.R7$(1),o.Y8G("innerHTML",de.sanitizedContent,o.npT),o.R7$(2),o.FS9("src",de.sectionImageUrl,o.B4B),o.FS9("alt",de.title)}}function Ve(Ae,Ne){if(1&Ae&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&Ae){const de=o.XpG(2);o.R7$(1),o.SpI(" ",de.titleParts.part2,"")}}function xe(Ae,Ne){if(1&Ae&&(o.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",3)(4,"h3"),o.EFF(5),o.k0s(),o.j41(6,"h2"),o.DNE(7,Ve,2,1,"span",12),o.k0s(),o.nrm(8,"div",13)(9,"p",6),o.k0s(),o.j41(10,"div",14),o.nrm(11,"img",8),o.k0s()()()()),2&Ae){const de=o.XpG();o.R7$(5),o.SpI(" ",de.titleParts.part1," "),o.R7$(2),o.Y8G("ngIf",de.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",de.sanitizedContent,o.npT),o.R7$(2),o.FS9("src",de.sectionImageUrl,o.B4B),o.FS9("alt",de.title)}}function Y(Ae,Ne){if(1&Ae&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&Ae){const de=o.XpG(2);o.R7$(1),o.SpI(" ",de.titleParts.part2,"")}}function te(Ae,Ne){if(1&Ae&&(o.j41(0,"section",2)(1,"div",3)(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"h2"),o.DNE(5,Y,2,1,"span",12),o.k0s(),o.nrm(6,"div",13)(7,"p",15),o.k0s(),o.j41(8,"div",7),o.nrm(9,"img",8),o.k0s()()),2&Ae){const de=o.XpG();o.Y8G("ngClass",o.sMw(7,_e,de.fullWidth,!de.fullWidth,de.boxShadow))("ngStyle",o.ziG(11,Ce,de.backgroundColor,de.textColor,de.alignText,de.borderRadius+"px")),o.R7$(3),o.JRh(de.titleParts.part1),o.R7$(2),o.Y8G("ngIf",de.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",de.sanitizedContent,o.npT),o.R7$(2),o.FS9("src",de.sectionImageUrl,o.B4B),o.FS9("alt",de.title)}}let fe=(()=>{class Ae{constructor(de,Ke){this.sanitizer=de,this.router=Ke,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Left Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Left Text- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(de){this._content=de,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[de,Ke]=this.title.split("|").map(mt=>mt.trim());return{part1:de,part2:Ke}}return{part1:this.title,part2:null}}get contentText(){return this._content}convertToBoolean(de){return"boolean"==typeof de?de:"string"==typeof de&&"true"===de.toLowerCase()}static{this.\u0275fac=function(Ke){return new(Ke||Ae)(o.rXU(le.up),o.rXU(i.Ix))}}static{this.\u0275cmp=o.VBU({type:Ae,selectors:[["app-left-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",content:"content"},decls:3,vars:3,consts:[["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],[1,"left-image-container"],[1,"center-text-description",3,"innerHTML"]],template:function(Ke,mt){1&Ke&&(o.DNE(0,ye,8,15,"section",0),o.DNE(1,xe,12,5,"section",1),o.DNE(2,te,10,16,"section",0)),2&Ke&&(o.Y8G("ngIf","hh"===mt.themeType),o.R7$(1),o.Y8G("ngIf","clemo"===mt.themeType||"ae"===mt.themeType||"sb"===mt.themeType||"sp"===mt.themeType),o.R7$(1),o.Y8G("ngIf","prestige"===mt.themeType))},dependencies:[ve.YU,ve.bT,ve.B3]})}}return Ae})()},4593:(sn,Ze,F)=>{F.d(Ze,{F:()=>fe});var o=F(7705),le=F(345),i=F(6814),ve=F(177);const _e=function(Ae,Ne,de){return{"full-width":Ae,centered:Ne,shadow:de}},Ce=function(Ae,Ne,de,Ke){return{"background-color":Ae,color:Ne,"text-align":de,"border-radius":Ke}};function ye(Ae,Ne){if(1&Ae&&(o.j41(0,"section",3)(1,"div",4),o.nrm(2,"img",5),o.k0s(),o.j41(3,"div",6)(4,"div",7)(5,"h2",8),o.EFF(6),o.k0s()(),o.nrm(7,"p",9),o.k0s()()),2&Ae){const de=o.XpG();o.Y8G("ngClass",o.sMw(6,_e,de.fullWidth,!de.fullWidth,de.boxShadow))("ngStyle",o.ziG(10,Ce,de.backgroundColor,de.textColor,de.alignText,de.borderRadius+"px")),o.R7$(2),o.FS9("src",de.sectionImageUrl,o.B4B),o.FS9("alt",de.title),o.R7$(4),o.JRh(de.title),o.R7$(1),o.Y8G("innerHTML",de.sanitizedContent,o.npT)}}function Ve(Ae,Ne){if(1&Ae&&(o.j41(0,"h2")(1,"span"),o.EFF(2),o.k0s()()),2&Ae){const de=o.XpG(2);o.R7$(2),o.JRh(de.titleParts.part2)}}function xe(Ae,Ne){if(1&Ae&&(o.j41(0,"section",10)(1,"div",11)(2,"div",12)(3,"div",13),o.nrm(4,"img",5),o.k0s(),o.j41(5,"div",6)(6,"h3"),o.EFF(7),o.k0s(),o.DNE(8,Ve,3,1,"h2",14),o.nrm(9,"div",15),o.j41(10,"p",9),o.EFF(11),o.k0s()()()()()),2&Ae){const de=o.XpG();o.R7$(4),o.FS9("src",de.sectionImageUrl,o.B4B),o.FS9("alt",de.title),o.R7$(3),o.JRh(de.titleParts.part1),o.R7$(1),o.Y8G("ngIf",de.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",de.sanitizedContent,o.npT),o.R7$(1),o.JRh(de.content)}}function Y(Ae,Ne){if(1&Ae&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&Ae){const de=o.XpG(2);o.R7$(1),o.SpI(" ",de.titleParts.part2,"")}}function te(Ae,Ne){if(1&Ae&&(o.j41(0,"section",16)(1,"div",4),o.nrm(2,"img",5),o.k0s(),o.j41(3,"div",6)(4,"h3"),o.EFF(5),o.k0s(),o.j41(6,"h2"),o.DNE(7,Y,2,1,"span",14),o.k0s(),o.nrm(8,"div",15)(9,"p",17),o.k0s()()),2&Ae){const de=o.XpG();o.Y8G("ngClass",o.sMw(7,_e,de.fullWidth,!de.fullWidth,de.boxShadow))("ngStyle",o.ziG(11,Ce,de.backgroundColor,de.textColor,de.alignText,de.borderRadius+"px")),o.R7$(2),o.FS9("src",de.sectionImageUrl,o.B4B),o.FS9("alt",de.title),o.R7$(3),o.JRh(de.titleParts.part1),o.R7$(2),o.Y8G("ngIf",de.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",de.sanitizedContent,o.npT)}}let fe=(()=>{class Ae{constructor(de,Ke){this.sanitizer=de,this.router=Ke,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Right Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Right Text- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(de){this._content=de,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(de)}get titleParts(){if(this.title.includes("|")){const[de,Ke]=this.title.split("|").map(mt=>mt.trim());return{part1:de,part2:Ke}}return{part1:this.title,part2:null}}get content(){return this._content}convertToBoolean(de){return"boolean"==typeof de?de:"string"==typeof de&&"true"===de.toLowerCase()}static{this.\u0275fac=function(Ke){return new(Ke||Ae)(o.rXU(le.up),o.rXU(i.Ix))}}static{this.\u0275cmp=o.VBU({type:Ae,selectors:[["app-right-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",content:"content"},decls:3,vars:3,consts:[["class","right-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],[1,"right-text-section",3,"ngClass","ngStyle"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"center-text-description",3,"innerHTML"]],template:function(Ke,mt){1&Ke&&(o.DNE(0,ye,8,15,"section",0),o.DNE(1,xe,12,6,"section",1),o.DNE(2,te,10,16,"section",2)),2&Ke&&(o.Y8G("ngIf","hh"===mt.themeType),o.R7$(1),o.Y8G("ngIf","clemo"===mt.themeType||"ae"===mt.themeType||"sb"===mt.themeType||"sp"===mt.themeType),o.R7$(1),o.Y8G("ngIf","prestige"===mt.themeType))},dependencies:[ve.YU,ve.bT,ve.B3]})}}return Ae})()},4591:(sn,Ze,F)=>{F.d(Ze,{L:()=>ve});var o=F(7705),le=F(177);const i=function(_e){return{color:_e}};let ve=(()=>{class _e{constructor(){this.titleColor="#000000"}static{this.\u0275fac=function(Ve){return new(Ve||_e)}}static{this.\u0275cmp=o.VBU({type:_e,selectors:[["app-section-tilte"]],inputs:{title:"title",titleColor:"titleColor"},decls:3,vars:4,consts:[[1,"center-text-section"],[1,"center-text-title",3,"ngStyle"]],template:function(Ve,xe){1&Ve&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s()()),2&Ve&&(o.R7$(1),o.Y8G("ngStyle",o.eq3(2,i,xe.titleColor)),o.R7$(1),o.JRh(xe.title))},dependencies:[le.B3],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color);padding-bottom:3rem}"]})}}return _e})()},8353:(sn,Ze,F)=>{F.d(Ze,{B:()=>St});var o=F(7705),le=F(7304),i=F(4593),ve=F(491),_e=F(6814),Ce=F(923),ye=F(177);const Ve=function(De,Vt){return{"clemo-btn":De,"clemo-btn-outline":Vt}},xe=function(De){return{"border-radius":De}};function Y(De,Vt){if(1&De&&(o.qex(0),o.j41(1,"a",14),o.EFF(2),o.k0s(),o.bVm()),2&De){const Se=Vt.$implicit,ut=o.XpG(3);o.R7$(1),o.Y8G("routerLink",Se.link)("ngClass",o.l_i(4,Ve,!Se.outline,Se.outline))("ngStyle",o.eq3(7,xe,ut.buttonBorderRadius)),o.R7$(1),o.SpI(" ",Se.text," ")}}const te=function(De,Vt){return{"font-size":De,"font-weight":Vt}};function fe(De,Vt){if(1&De&&(o.j41(0,"div",6)(1,"h1"),o.EFF(2),o.k0s(),o.nrm(3,"div",7)(4,"h2",8),o.j41(5,"div",9),o.DNE(6,Y,3,9,"ng-container",10),o.k0s(),o.j41(7,"div",11)(8,"div",12),o.nrm(9,"div",13),o.k0s(),o.j41(10,"p"),o.EFF(11,"Scroll down"),o.k0s()()()),2&De){const Se=o.XpG().$implicit,ut=o.XpG();o.R7$(2),o.JRh(Se.title),o.R7$(2),o.Y8G("ngStyle",o.l_i(4,te,ut.subtitleSize,ut.subtitleWeight))("innerHTML",Se.subtitle,o.npT),o.R7$(2),o.Y8G("ngForOf",Se.buttons)}}const Ae=function(De){return{backgroundImage:De,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function Ne(De,Vt){if(1&De&&(o.j41(0,"div",3),o.nrm(1,"div",4),o.DNE(2,fe,12,7,"div",5),o.k0s()),2&De){const Se=Vt.$implicit,ut=Vt.index,vn=o.XpG();o.AVh("clemo-active",ut===vn.currentSlide),o.R7$(1),o.Y8G("ngStyle",o.eq3(4,Ae,"url("+Se.backgroundImage+")")),o.R7$(1),o.Y8G("ngIf",null==Se.title?null:Se.title.trim())}}const de=function(De){return{"line-style":De}};function Ke(De,Vt){if(1&De){const Se=o.RV6();o.j41(0,"div",19),o.bIt("click",function(){const yt=o.eBV(Se).index,$=o.XpG(2);return o.Njj($.navigateToSlide(yt))}),o.k0s()}if(2&De){const Se=Vt.index,ut=o.XpG(2);o.AVh("clemo-active",Se===ut.currentSlide),o.Y8G("ngClass",o.eq3(3,de,"bottom"===ut.navigation))}}function mt(De,Vt){if(1&De){const Se=o.RV6();o.j41(0,"button",20),o.bIt("click",function(){o.eBV(Se);const vn=o.XpG(2);return o.Njj(vn.prevSlide())}),o.nrm(1,"span",21),o.j41(2,"span",22),o.EFF(3,"Previous"),o.k0s()()}}function Ft(De,Vt){if(1&De){const Se=o.RV6();o.j41(0,"button",23),o.bIt("click",function(){o.eBV(Se);const vn=o.XpG(2);return o.Njj(vn.nextSlide())}),o.nrm(1,"span",24),o.j41(2,"span",22),o.EFF(3,"Next"),o.k0s()()}}const Jt=function(De){return{"bottom-nav":De}};function He(De,Vt){if(1&De&&(o.j41(0,"div")(1,"div",15),o.DNE(2,Ke,1,5,"div",16),o.k0s(),o.DNE(3,mt,4,0,"button",17),o.DNE(4,Ft,4,0,"button",18),o.k0s()),2&De){const Se=o.XpG();o.R7$(1),o.Y8G("ngClass",o.eq3(4,Jt,"bottom"===Se.navigation)),o.R7$(1),o.Y8G("ngForOf",Se.slides),o.R7$(1),o.Y8G("ngIf",Se.sideButtons),o.R7$(1),o.Y8G("ngIf",Se.sideButtons)}}const Ie=function(De,Vt,Se,ut,vn){return{"--slider-opacity":De,height:Vt,"--button-border-radius":Se,"--subtitle-size":ut,"--subtitle-weight":vn}};let tt=(()=>{class De{constructor(Se,ut){this.router=Se,this.businessDataService=ut,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(Se=>{Se?(this.business=Se,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?(this.slides=this.business.heroSlider.map(ut=>({title:this.replaceKeywords(ut.title),subtitle:this.replaceKeywords(ut.subtitle),backgroundImage:ut.backgroundImage,buttons:ut.buttons||[]})),console.log("slide count:",this.slides.length)):(console.warn("HeroSliderComponent - No heroSlider data available."),this.slides=[]),this.business.sliderConfig?this.applySliderConfig(this.business.sliderConfig):console.warn("HeroSliderComponent - No sliderConfig found, using default values.")):console.error("HeroSliderComponent - No business data available.")})}applySliderConfig(Se){this.navigation=Se.navigation??"side",this.sideButtons=Se.sideButtons??!0,this.sliderHeight=Se.sliderHeight??"100vh",this.buttonBorderRadius=Se.buttonBorderRadius??"25px",this.subtitleSize=Se.subtitleSize??"1.5rem",this.subtitleWeight=Se.subtitleWeight??"600",console.log("HeroSliderComponent - Applied slider config:",Se)}replaceKeywords(Se){return Se&&this.business?.businessName?Se.replace(/{{businessName}}/g,this.business.businessName):Se}navigateToSlide(Se){this.currentSlide=Se}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const Se=window.scrollY,ut=window.innerHeight;this.sliderOpacity=Math.max(1-Se/ut,0)}static{this.\u0275fac=function(ut){return new(ut||De)(o.rXU(_e.Ix),o.rXU(Ce.A))}}static{this.\u0275cmp=o.VBU({type:De,selectors:[["app-hero-slider"]],hostBindings:function(ut,vn){1&ut&&o.bIt("scroll",function($){return vn.onScroll($)},!1,o.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:3,vars:9,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","ngClass","ngStyle"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button",3,"click",4,"ngIf"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(ut,vn){1&ut&&(o.j41(0,"div",0),o.DNE(1,Ne,3,6,"div",1),o.DNE(2,He,5,6,"div",2),o.k0s()),2&ut&&(o.Y8G("ngStyle",o.s1E(3,Ie,vn.sliderOpacity,vn.sliderHeight,vn.buttonBorderRadius,vn.subtitleSize,vn.subtitleWeight)),o.R7$(1),o.Y8G("ngForOf",vn.slides),o.R7$(1),o.Y8G("ngIf",vn.slides.length>1))},dependencies:[ye.YU,ye.Sq,ye.bT,ye.B3,_e.Wk,_e.wQ]})}}return De})();var Xe=F(1915);function dt(De,Vt){if(1&De&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&De){const Se=Vt.$implicit;o.R7$(1),o.Y8G("innerHTML",Se.title,o.npT),o.R7$(1),o.Y8G("innerHTML",Se.description,o.npT)}}const Nt=function(De,Vt,Se){return{"full-width":De,centered:Vt,shadow:Se}},ht=function(De,Vt,Se,ut){return{"background-color":De,color:Vt,"text-align":Se,"border-radius":ut}};function Ee(De,Vt){if(1&De&&(o.qex(0,4),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,dt,3,2,"div",11),o.k0s()()(),o.bVm()),2&De){const Se=o.XpG();o.Y8G("ngClass",o.sMw(5,Nt,Se.fullWidth,!Se.fullWidth,Se.boxShadow))("ngStyle",o.ziG(9,ht,Se.backgroundColor,Se.textColor,Se.alignText,Se.borderRadius+"px")),o.R7$(4),o.SpI("",Se.title," "),o.R7$(2),o.JRh(Se.subTitle),o.R7$(3),o.Y8G("ngForOf",Se.items)}}function Je(De,Vt){1&De&&o.eu8(0)}function Xt(De,Vt){if(1&De&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&De){const Se=Vt.$implicit;o.R7$(1),o.Y8G("innerHTML",Se.title,o.npT),o.R7$(1),o.Y8G("innerHTML",Se.description,o.npT)}}function Fn(De,Vt){if(1&De&&(o.qex(0),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,Xt,3,2,"div",11),o.k0s()()(),o.bVm()),2&De){const Se=o.XpG();o.R7$(4),o.SpI("",Se.title," "),o.R7$(2),o.JRh(Se.subTitle),o.R7$(3),o.Y8G("ngForOf",Se.items)}}let qe=(()=>{class De{constructor(Se){this.route=Se,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("Features  Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Features- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(ut){return new(ut||De)(o.rXU(_e.nX))}}static{this.\u0275cmp=o.VBU({type:De,selectors:[["app-features"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(ut,vn){1&ut&&(o.j41(0,"div",0),o.DNE(1,Ee,10,14,"ng-container",1),o.DNE(2,Je,1,0,"ng-container",2),o.DNE(3,Fn,10,3,"ng-container",3),o.k0s()),2&ut&&(o.Y8G("ngSwitch",vn.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[ye.YU,ye.Sq,ye.B3,ye.ux,ye.e1,ye.fG]})}}return De})();function xt(De,Vt){if(1&De&&(o.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"strong"),o.EFF(7),o.k0s()()()()()),2&De){const Se=Vt.$implicit;o.R7$(5),o.SpI('" ',Se.quote,' "'),o.R7$(2),o.JRh(Se.name)}}function je(De,Vt){if(1&De&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Testimonials"),o.k0s()(),o.j41(5,"div",6),o.DNE(6,xt,8,2,"div",7),o.k0s()(),o.bVm()),2&De){const Se=o.XpG();o.R7$(6),o.Y8G("ngForOf",Se.testimonials)}}function lt(De,Vt){if(1&De&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&De){const Se=Vt.$implicit;o.R7$(5),o.JRh(Se.quote),o.R7$(2),o.JRh(Se.name)}}function ke(De,Vt){if(1&De&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,lt,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&De){const Se=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,Se.testimonials,0,4))}}function st(De,Vt){if(1&De&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&De){const Se=Vt.$implicit;o.R7$(5),o.JRh(Se.quote),o.R7$(2),o.JRh(Se.name)}}function tn(De,Vt){if(1&De&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,st,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&De){const Se=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,Se.testimonials,0,4))}}function ze(De,Vt){1&De&&o.eu8(0)}function Re(De,Vt){1&De&&o.eu8(0)}let Te=(()=>{class De{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(Se){this.currentIndex=Se,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(ut){return new(ut||De)}}static{this.\u0275cmp=o.VBU({type:De,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"]],template:function(ut,vn){1&ut&&(o.j41(0,"div",0),o.DNE(1,je,7,1,"ng-container",1),o.DNE(2,ke,15,5,"ng-container",1),o.DNE(3,tn,15,5,"ng-container",1),o.DNE(4,ze,1,0,"ng-container",1),o.DNE(5,Re,1,0,"ng-container",2),o.k0s()),2&ut&&(o.Y8G("ngSwitch",vn.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"),o.R7$(1),o.Y8G("ngSwitchCase","prestige"))},dependencies:[ye.Sq,ye.ux,ye.e1,ye.fG,_e.Wk,ye.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return De})();var Le=F(9969),ct=F(4710);function it(De,Vt){1&De&&(o.j41(0,"div",16),o.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),o.k0s())}function jt(De,Vt){if(1&De){const Se=o.RV6();o.j41(0,"span"),o.EFF(1,"[...]"),o.j41(2,"button",17),o.bIt("click",function(){o.eBV(Se);const vn=o.XpG(3);return o.Njj(vn.navigateToTestimonials())}),o.EFF(3," Read More "),o.k0s()()}}function An(De,Vt){if(1&De&&(o.j41(0,"div",8)(1,"div",9)(2,"h3",10),o.EFF(3),o.k0s(),o.nrm(4,"div",11),o.j41(5,"p",12),o.EFF(6),o.k0s(),o.DNE(7,it,2,0,"div",13),o.k0s(),o.j41(8,"div",14)(9,"p"),o.EFF(10),o.DNE(11,jt,4,0,"span",15),o.k0s()()()),2&De){const Se=Vt.$implicit,ut=o.XpG(2);o.Y8G("@slideIn",void 0),o.R7$(1),o.Y8G("@fadeInRight",void 0),o.R7$(2),o.JRh(Se.name),o.R7$(3),o.JRh(Se.relationship),o.R7$(1),o.Y8G("ngIf",Se.isGoogle),o.R7$(1),o.Y8G("@fadeInLeft",void 0),o.R7$(2),o.SpI(" ",ut.truncateText(Se.quote)," "),o.R7$(1),o.Y8G("ngIf",ut.isTruncated(Se.quote))}}function rr(De,Vt){if(1&De){const Se=o.RV6();o.j41(0,"button",18),o.bIt("click",function(){const yt=o.eBV(Se).index,$=o.XpG(2);return o.Njj($.goToSlide(yt))}),o.EFF(1," \u25cf "),o.k0s()}if(2&De){const Se=Vt.index,ut=o.XpG(2);o.AVh("active",Se===ut.currentIndex)}}function on(De,Vt){if(1&De&&(o.j41(0,"a",19),o.EFF(1," Leave a Google Review "),o.k0s()),2&De){const Se=o.XpG(2);o.Y8G("href",Se.googleReviewLink,o.B4B)}}const Un=function(De){return[De]};function Zt(De,Vt){if(1&De&&(o.qex(0),o.DNE(1,An,12,8,"div",4),o.j41(2,"div",5),o.DNE(3,rr,2,2,"button",6),o.k0s(),o.DNE(4,on,2,1,"a",7),o.bVm()),2&De){const Se=o.XpG();o.R7$(1),o.Y8G("ngForOf",o.eq3(4,Un,Se.currentTestimonial))("ngForTrackBy",Se.trackByIndex),o.R7$(2),o.Y8G("ngForOf",Se.testimonials),o.R7$(1),o.Y8G("ngIf",Se.placeId)}}function Hn(De,Vt){1&De&&(o.j41(0,"p",20),o.EFF(1,"No testimonials available at the moment."),o.k0s())}let xn=(()=>{class De{constructor(Se,ut,vn){this.businessDataService=Se,this.googleMapsLoader=ut,this.router=vn,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(Se=>{if(Se&&Se.testimonials){const ut=Se.testimonials.map(vn=>({...vn,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...ut]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(ut,vn)=>{if(vn===google.maps.places.PlacesServiceStatus.OK){const yt=ut?.reviews?.map($=>({name:$.author_name,quote:$.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...yt,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",vn)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials.length>0?this.testimonials[this.currentIndex]:null}goToSlide(Se){this.currentIndex=Se}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)}trackByIndex(Se,ut){return Se}truncateText(Se){return Se.length>this.maxTextLength?Se.slice(0,this.maxTextLength):Se}isTruncated(Se){return Se.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.placeId}`}static{this.\u0275fac=function(ut){return new(ut||De)(o.rXU(Ce.A),o.rXU(ct.L),o.rXU(_e.Ix))}}static{this.\u0275cmp=o.VBU({type:De,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:2,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],[4,"ngIf","ngIfElse"],["noTestimonials",""],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],["target","_blank","rel","noopener noreferrer","class","afhBtn leave-review",3,"href",4,"ngIf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],[1,"btn","read-more",3,"click"],[3,"click"],["target","_blank","rel","noopener noreferrer",1,"afhBtn","leave-review",3,"href"],[1,"no-testimonials-message"]],template:function(ut,vn){if(1&ut&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"clients say\u2019s"),o.k0s(),o.DNE(3,Zt,5,6,"ng-container",2),o.DNE(4,Hn,2,0,"ng-template",null,3,o.C5r),o.k0s()),2&ut){const yt=o.sdS(5);o.R7$(3),o.Y8G("ngIf",vn.currentTestimonial)("ngIfElse",yt)}},dependencies:[ye.Sq,ye.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}@media (max-width: 768px){.testimonials-container[_ngcontent-%COMP%]{padding:3rem 1rem}.testimonial-row[_ngcontent-%COMP%]{gap:15px;flex-direction:column}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .separator5[_ngcontent-%COMP%]{width:60%}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .google-stars[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.carousel-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:2px;button {font-size: 1rem; margin: 0 1px;}}}"],data:{animation:[(0,Le.hZ)("slideIn",[(0,Le.kY)(":enter",[(0,Le.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Le.i0)("0.5s ease-in",(0,Le.iF)({opacity:1,transform:"translateX(0)"}))]),(0,Le.kY)(":leave",[(0,Le.i0)("0.5s ease-out",(0,Le.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,Le.hZ)("fadeInLeft",[(0,Le.kY)(":enter",[(0,Le.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Le.i0)("0.5s ease-in",(0,Le.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,Le.hZ)("fadeInRight",[(0,Le.kY)(":enter",[(0,Le.iF)({opacity:0,transform:"translateX(100%)"}),(0,Le.i0)("0.5s ease-in",(0,Le.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return De})();var Kt=F(3967);function $t(De,Vt){if(1&De&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&De){const Se=Vt.$implicit;o.R7$(1),o.Y8G("innerHTML",Se.title,o.npT),o.R7$(1),o.Y8G("innerHTML",Se.description,o.npT)}}const Er=function(De,Vt,Se){return{"full-width":De,centered:Vt,shadow:Se}},an=function(De,Vt,Se,ut){return{"background-color":De,color:Vt,"text-align":Se,"border-radius":ut}};function xr(De,Vt){if(1&De&&(o.qex(0,4),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,$t,3,2,"div",11),o.k0s()()(),o.bVm()),2&De){const Se=o.XpG();o.Y8G("ngClass",o.sMw(5,Er,Se.fullWidth,!Se.fullWidth,Se.boxShadow))("ngStyle",o.ziG(9,an,Se.backgroundColor,Se.textColor,Se.alignText,Se.borderRadius+"px")),o.R7$(4),o.JRh(Se.title),o.R7$(2),o.SpI(" ",Se.subTitle," "),o.R7$(3),o.Y8G("ngForOf",Se.items)}}function Jn(De,Vt){1&De&&o.eu8(0)}function zt(De,Vt){if(1&De&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&De){const Se=Vt.$implicit;o.R7$(1),o.Y8G("innerHTML",Se.title,o.npT),o.R7$(1),o.Y8G("innerHTML",Se.description,o.npT)}}function wn(De,Vt){if(1&De&&(o.qex(0),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,zt,3,2,"div",11),o.k0s()()(),o.bVm()),2&De){const Se=o.XpG();o.R7$(4),o.SpI("",Se.title," "),o.R7$(2),o.SpI(" ",Se.subTitle,""),o.R7$(3),o.Y8G("ngForOf",Se.items)}}let Wn=(()=>{class De{constructor(Se){this.route=Se,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("Why Us Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Why Us- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(ut){return new(ut||De)(o.rXU(_e.nX))}}static{this.\u0275cmp=o.VBU({type:De,selectors:[["app-why-us"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"]],template:function(ut,vn){1&ut&&(o.j41(0,"div",0),o.DNE(1,xr,10,14,"ng-container",1),o.DNE(2,Jn,1,0,"ng-container",2),o.DNE(3,wn,10,3,"ng-container",3),o.k0s()),2&ut&&(o.Y8G("ngSwitch",vn.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[ye.YU,ye.Sq,ye.B3,ye.ux,ye.e1,ye.fG]})}}return De})();var Cn=F(3711),Vr=F(5558);function Sr(De,Vt){if(1&De&&(o.j41(0,"div",7),o.nrm(1,"i",8),o.j41(2,"h3",9),o.EFF(3),o.k0s(),o.j41(4,"p",10),o.EFF(5),o.k0s()()),2&De){const Se=Vt.$implicit;o.R7$(1),o.HbH(Se.icon),o.R7$(2),o.JRh(Se.title),o.R7$(2),o.JRh(Se.description)}}function ei(De,Vt){1&De&&(o.j41(0,"button",11),o.EFF(1,"Learn More"),o.k0s())}let Kn=(()=>{class De{constructor(){this.sectionTitle="Our Services",this.items=[],this.showLearnMore=!1}ngOnInit(){console.log("\u{1f4cc} Icon List Initialized:",{title:this.sectionTitle,items:this.items})}static{this.\u0275fac=function(ut){return new(ut||De)}}static{this.\u0275cmp=o.VBU({type:De,selectors:[["app-icon-list"]],inputs:{sectionTitle:"sectionTitle",items:"items",showLearnMore:"showLearnMore"},decls:8,vars:3,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["class","afhBtn","routerLink","/services",4,"ngIf"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"],[1,"service-description"],["routerLink","/services",1,"afhBtn"]],template:function(ut,vn){1&ut&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o.EFF(4),o.k0s(),o.j41(5,"div",4),o.DNE(6,Sr,6,4,"div",5),o.k0s(),o.DNE(7,ei,2,0,"button",6),o.k0s()()()),2&ut&&(o.R7$(4),o.JRh(vn.sectionTitle),o.R7$(2),o.Y8G("ngForOf",vn.items),o.R7$(1),o.Y8G("ngIf",vn.showLearnMore))},dependencies:[ye.Sq,ye.bT,_e.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return De})();var di=F(345),ys=F(4591);function fn(De,Vt){if(1&De&&(o.j41(0,"div",6),o.nrm(1,"img",7),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"span",8),o.EFF(5),o.k0s(),o.nrm(6,"p",9),o.k0s()),2&De){const Se=Vt.$implicit,ut=o.XpG(2);o.R7$(1),o.Y8G("src",Se.image,o.B4B)("alt",Se.title),o.R7$(2),o.JRh(Se.title),o.R7$(2),o.JRh(Se.category),o.R7$(1),o.Y8G("innerHTML",ut.getSanitizedDescription(Se.description),o.npT)}}function ti(De,Vt){if(1&De&&(o.j41(0,"div",1),o.nrm(1,"app-section-tilte",2),o.j41(2,"p",3),o.EFF(3," Whether you're just getting started or looking for a high-end, fully customized website, we have a package that fits your needs. We design websites to help showcase your adult family home with a professional online presence, making it easier for families to find and trust your services. "),o.k0s(),o.j41(4,"div",4),o.DNE(5,fn,7,5,"div",5),o.k0s()()),2&De){const Se=o.XpG();o.R7$(1),o.Y8G("title","Website Packages"),o.R7$(4),o.Y8G("ngForOf",Se.displayItems)}}function er(De,Vt){if(1&De&&(o.j41(0,"div",6)(1,"div",10),o.nrm(2,"img",11),o.j41(3,"span",12),o.EFF(4),o.nI1(5,"number"),o.k0s()(),o.j41(6,"h3",13),o.EFF(7),o.k0s(),o.nrm(8,"p",9),o.j41(9,"a",14),o.EFF(10,"Visit"),o.k0s()()),2&De){const Se=Vt.$implicit,ut=Vt.index,vn=o.XpG(2);o.R7$(2),o.Mz_("alt","",Se.title," Logo"),o.Y8G("src",Se.companyLogo||Se.image,o.B4B),o.R7$(2),o.JRh(o.i5U(5,6,ut+1,"2.0")),o.R7$(3),o.JRh(Se.title),o.R7$(1),o.Y8G("innerHTML",vn.getSanitizedDescription(Se.description),o.npT),o.R7$(1),o.FS9("href",Se.url,o.B4B)}}function Ir(De,Vt){if(1&De&&(o.j41(0,"div",1),o.nrm(1,"app-section-tilte",2),o.j41(2,"p",3),o.EFF(3,"Using carefully vetted providers and vendors."),o.k0s(),o.j41(4,"div",4),o.DNE(5,er,11,9,"div",5),o.k0s()()),2&De){const Se=o.XpG();o.R7$(1),o.Y8G("title","Trusted Partners"),o.R7$(4),o.Y8G("ngForOf",Se.displayItems)}}let Bn=(()=>{class De{constructor(Se){this.sanitizer=Se,this.layoutType="",this.companies=[{title:"Ready Meds Farmacy",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",category:"",description:"Ready Meds Pharmacy is a full-service long-term care pharmacy serving adult family homes, assisted living and long-term care facilities, as well as patients living independently.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",url:"https://www.readymedspharmacy.com/"},{title:"Novari Primary Care",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",category:"",description:"Novari Primary Care is a mobile primary care service designed to treat patients in the comfort of their residential care facility.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",url:"https://novariprimarycare.com"},{title:"Holistia Health",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",category:"",description:"Holistia Health offers encompass personalized, in-person, and online programs, along with talk therapy and medication management.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",url:"https://holistiahealth.com"}],this.products=[{title:"LaunchPad Website",companyLogo:"",category:"$799",description:"Get your adult family home online quickly with a simple yet professional single-page website. Perfect for a clean, mobile-friendly presence that showcases your services, location, and contact details. This package is great for those who want an affordable, no-fuss solution to establish credibility online.<br/><br/><ul><li>2 Years Hosting</li><li>Owner-Provided Photos</li><li>Onwer-Provided Logo</li><li>Custom Color Theme</li><li>1 year Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285",url:""},{title:"Foundation Website",companyLogo:"",category:"$1500",description:"A well-rounded five-page website designed to highlight all the key aspects of your adult family home. This package includes essential pages such as Home, About, Services, Gallery, and Contact, ensuring visitors get a complete picture of your offerings. SEO-optimized, mobile-responsive, and designed to attract potential residents and their families.<br/><br/><ul><li>3 Years of Secure Hosting</li><li>Proffessional Video</li><li>High-Quality Professional Photography</li><li>Custom Logo Design</li><li>Tailored Website Design</li><li>2 Years of Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9",url:""},{title:"Prestige Website",companyLogo:"",category:"Pricing varies",description:"A high-end, fully customized website tailored to your brand. This package includes professional photography and videography, custom design, logo creation, business card design, and advanced features such as integrated Google Maps, resident intake forms, and review sections. Perfect for those who want to stand out with a premium online presence. <br/><br/><ul><li>5 Years of Secure Hosting</li><li>Cinematic Professional Video</li><li>High-Resolution Professional Photography</li><li>Immersive Virtual Tour</li><li>CBespoke Logo Design</li><li>Exclusive, Custom Website Design</li><li>Comprehensive Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318",url:""}],this.displayItems=[]}getSanitizedDescription(Se){return this.sanitizer.bypassSecurityTrustHtml(Se)}ngOnInit(){console.log("Latest Products LayoutType:",this.layoutType),this.displayItems="sb"===this.layoutType?this.products:this.companies}static{this.\u0275fac=function(ut){return new(ut||De)(o.rXU(di.up))}}static{this.\u0275cmp=o.VBU({type:De,selectors:[["app-latest-products"]],inputs:{layoutType:"layoutType",companies:"companies",products:"products"},decls:2,vars:2,consts:[["class","latest-products",4,"ngIf"],[1,"latest-products"],[3,"title"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],[3,"innerHTML"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"index"],[1,"company-name"],["target","_blank",1,"read-more",3,"href"]],template:function(ut,vn){1&ut&&(o.DNE(0,ti,6,2,"div",0),o.DNE(1,Ir,6,2,"div",0)),2&ut&&(o.Y8G("ngIf","sb"==vn.layoutType),o.R7$(1),o.Y8G("ngIf","sb"!=vn.layoutType))},dependencies:[ye.Sq,ye.bT,ys.L,ye.QX],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto}.latest-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.latest-products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#777;max-width:1024px;margin:0 auto 20px;padding:20px;font-size:16px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:left;box-shadow:0 2px 10px #0000001a;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;max-height:80px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:fill}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:24px;color:#0000001a;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:15px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{font-size:14px;color:#444}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:14px;color:#999;text-transform:uppercase;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:14px;color:#007bff;font-weight:700;text-decoration:none;display:inline-block;margin-top:10px}"]})}}return De})();var Si=F(9483),ot=F(3095),It=F(5743),ue=F(6861);const Fe=["dynamicContainer"];let St=(()=>{class De{constructor(Se,ut,vn,yt,$,x){this.sectionService=Se,this.resolver=ut,this.injector=vn,this.route=yt,this.metaService=$,this.businessDataService=x,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":le.W,"hero-slider":tt,"right-text":i.F,"left-text":ve.G,"item-list":Xe.j,"icon-list":Kn,"unique-features":qe,testimonials:Te,"testimonials-carousel":xn,"why-us":Wn,"google-map":Cn.a,"latest-products":Bn,cta:Si.j,consultation:Kt.t}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,Vr.n)(Se=>Se?(this.businessId=Se,this.metaService.loadAndApplyMeta(Se),this.businessDataService.loadBusinessData(Se)):[])).subscribe(Se=>{console.log("Business Data Retrieved:",Se),Se&&(this.business=Se,this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"home").subscribe(Se=>{Se&&0!==Se.length?(this.sections=Se.filter(ut=>!1!==ut.isActive).sort((ut,vn)=>(ut.order||0)-(vn.order||0)),console.log("\u2705 Final Active Sections to Load:",this.sections),this.loadComponents()):console.warn("\u2757 No sections retrieved from the database")})}loadComponents(){if(this.container.clear(),console.log("\u2705 Starting to Load Components"),console.log("\u2705 Adding HeroSliderComponent"),this.container.createComponent(tt),!this.sections.length)return void console.warn("\u2757 No sections available to load.");let Se=null;if(this.sections.forEach((ut,vn)=>{console.log(`\u{1f504} Loading Component for Section ${vn+1}:`,ut.component);const yt=this.componentsMap[ut.component];if(!yt)return void console.error("\u274c Component Not Found:",ut.component);if("consultation"===ut.component)return void(Se=ut);const $=this.container.createComponent(yt);this.assignComponentProperties($.instance,ut)}),this.loadManualComponents(),Se){console.log("\u{1f7e2} Loading Consultation Section LAST");const ut=this.componentsMap.consultation;if(ut){const vn=this.container.createComponent(ut);this.assignComponentProperties(vn.instance,Se)}else console.error("\u274c Consultation Component Not Found!")}}loadManualComponents(){if(this.business?.testimonials?.length&&!this.business?.placeId&&"sb"!==this.business?.theme?.themeType&&(this.resolver.resolveComponentFactory(Te),this.container.createComponent(Te,{index:void 0,injector:this.injector})),this.business?.placeId&&(this.resolver.resolveComponentFactory(xn),this.container.createComponent(xn,{index:void 0,injector:this.injector}).instance.placeId=this.business.placeId),this.business?.placeId&&"clemo"===this.business?.theme?.themeType){this.resolver.resolveComponentFactory(Cn.a);const ut=this.container.createComponent(Cn.a,{index:void 0,injector:this.injector});ut.instance.layoutType=this.business?.theme?.themeType||"demo",ut.instance.address=this.business?.address||""}if(this.business?.placeId&&"clemo"===this.business?.theme?.themeType){this.resolver.resolveComponentFactory(Cn.a);const ut=this.container.createComponent(Cn.a,{index:void 0,injector:this.injector});ut.instance.layoutType=this.business?.theme?.themeType||"demo",ut.instance.address=this.business?.address||""}if("clemo"===this.business?.theme?.themeType&&this.container.createComponent(ot.C,{index:void 0,injector:this.injector}),"sb"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(Bn);const ut=this.container.createComponent(Bn,{index:void 0,injector:this.injector});ut.instance.layoutType=this.business?.theme?.themeType,ut.changeDetectorRef.detectChanges()}}assignComponentProperties(Se,ut){Se&&"object"==typeof Se&&(Object.assign(Se,{title:this.applyReplaceKeyword(ut.sectionTitle||""),subTitle:this.applyReplaceKeyword(ut.sectionSubTitle||""),content:this.applyReplaceKeyword(ut.sectionContent||""),sectionImageUrl:ut.sectionImageUrl||"",showButton:ut.showButton||!1,buttonText:ut.buttonText||"Learn More",buttonLink:ut.buttonLink||"",_businessName:this.business?.businessName||"",showImage:ut.showImage,themeType:this.business?.theme?.themeType,items:ut.items||[],isMinimal:ut.isMinimal||!1,isParallax:ut.isParallax??!0,backgroundColor:ut.backgroundColor||"#ffffff",textColor:ut.textColor||"#000000",titleColor:ut.titleColor||"#000000",titleFontSize:ut.titleFontSize||"36",subtitleColor:ut.subtitleColor||"#000000",subtitleFontSize:ut.subtitleFontSize||"14",fullWidth:ut.fullWidth||!1,alignText:ut.alignText||"left",boxShadow:ut.boxShadow||!1,borderRadius:ut.borderRadius??10,page:ut.page,location:ut.location,businessId:this.business?.id}),Se.changeDetectorRef&&Se.changeDetectorRef.detectChanges(),console.log(`\u2705 Component Data for ${ut.component}:`,Se))}applyReplaceKeyword(Se){return Se&&this.business?.businessName?Se.replace(/{{\s*businessName\s*}}/g,this.business.businessName):Se}static{this.\u0275fac=function(ut){return new(ut||De)(o.rXU(It.W),o.rXU(o.OM3),o.rXU(o.zZn),o.rXU(_e.nX),o.rXU(ue.R),o.rXU(Ce.A))}}static{this.\u0275cmp=o.VBU({type:De,selectors:[["app-home"]],viewQuery:function(ut,vn){if(1&ut&&o.GBs(Fe,7,o.c1b),2&ut){let yt;o.mGM(yt=o.lsd())&&(vn.container=yt.first)}},decls:2,vars:0,consts:[[1,"container"],["dynamicContainer",""]],template:function(ut,vn){1&ut&&o.nrm(0,"div",0,1)}})}}return De})()},4796:(sn,Ze,F)=>{F.d(Ze,{u:()=>_e});var o=F(6354),le=F(7705),i=F(1977),ve=F(6814);let _e=(()=>{class Ce{constructor(Ve,xe){this.afAuth=Ve,this.router=xe,this.user$=Ve.authState}login(Ve,xe){return this.afAuth.signInWithEmailAndPassword(Ve,xe)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,o.T)(Ve=>!!Ve))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(xe){return new(xe||Ce)(le.KVO(i.DS),le.KVO(ve.Ix))}}static{this.\u0275prov=le.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}return Ce})()},923:(sn,Ze,F)=>{F.d(Ze,{A:()=>Ce});var o=F(4412),le=F(6354),i=F(8141),ve=F(7705),_e=F(3012);let Ce=(()=>{class ye{constructor(xe){this.businessService=xe,this.businessDataSubject=new o.t(null),this.businessIdSubject=new o.t(null),this.locationsSubject=new o.t([]),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(xe){return console.log("BusinessDataService - loadBusinessData for ID:",xe),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(xe).pipe((0,le.T)(Y=>Y?(Y.sections||(Y.sections=[],console.warn("\u26a0\ufe0f No sections found in Firestore. Initializing empty array.")),Y):null),(0,i.M)(Y=>{this.businessDataSubject.next(Y),this.businessIdSubject.next(xe),this.businessService.getLocations(xe).subscribe(te=>{this.locationsSubject.next(te)})}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}getLocations(){return this.locationsSubject.asObservable()}static{this.\u0275fac=function(Y){return new(Y||ye)(ve.KVO(_e.u))}}static{this.\u0275prov=ve.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}return ye})()},5743:(sn,Ze,F)=>{F.d(Ze,{W:()=>Ce});var o=F(467),le=F(6354),i=F(7705),ve=F(6340),_e=F(5571);let Ce=(()=>{class ye{constructor(xe,Y){this.firestore=xe,this.uploadService=Y,this.collectionName="businesses"}generateNewId(){return this.firestore.createId()}getAllBusinessSections(xe){return console.log(`Fetching All Sections from Collection for Business ID: ${xe}`),this.firestore.collection(this.collectionName).doc(xe).collection("sections").snapshotChanges().pipe((0,le.T)(Y=>(console.log("Firestore Raw Actions:",Y),Y.map(te=>({...te.payload.doc.data(),id:te.payload.doc.id})))))}getBusinessSections(xe,Y){return console.log(`Fetching Sections for Business ID: ${xe}, Page: ${Y}`),this.firestore.collection(this.collectionName).doc(xe).collection("sections",te=>te.where("page","==",Y)).snapshotChanges().pipe((0,le.T)(te=>(console.log("Firestore Raw Actions:",te),te.map(fe=>({...fe.payload.doc.data(),id:fe.payload.doc.id})))))}saveSection(xe,Y){return Y.id||(Y.id=this.firestore.createId()),this.firestore.collection(this.collectionName).doc(xe).collection("sections").doc(Y.id).set(Y,{merge:!0})}deleteSection(xe,Y){return this.firestore.collection(this.collectionName).doc(xe).collection("sections").doc(Y).delete()}uploadImage(xe,Y,te,fe="",Ae="",Ne="",de=""){var Ke=this;return(0,o.A)(function*(){try{const{downloadUrl:mt}=Ke.uploadService.uploadFile(xe,Y,"sections",fe,Ae,Ne,de);return new Promise((Ft,Jt)=>{mt.subscribe({next:He=>{He?(console.log("\u2705 Image uploaded successfully:",He),Ft(He)):Jt("\u274c Image URL is undefined.")},error:He=>{console.error("\u274c Error getting image URL:",He),Jt(He)}})})}catch(mt){return console.error("\u274c Error uploading image:",mt),""}})()}mapComponent(xe){return{"center-text":"center-text","left-text":"left-text","right-text":"right-text","list-item":"list-item"}[xe]||"default-component"}static{this.\u0275fac=function(Y){return new(Y||ye)(i.KVO(ve.Qe),i.KVO(_e.B))}}static{this.\u0275prov=i.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}return ye})()},3012:(sn,Ze,F)=>{F.d(Ze,{u:()=>ye});var o=F(7673),le=F(6354),i=F(5558),ve=F(7705),_e=F(6340),Ce=F(8721);let ye=(()=>{class Ve{constructor(Y,te){this.afs=Y,this.storage=te,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(Y){console.log("Business Created");const te=this.afs.createId();return this.afs.doc(`${this.basePath}/${te}`).set({...Y,id:te}),this.afs.doc(`${this.basePath}/${te}`).valueChanges().pipe((0,le.T)(fe=>{if(!fe)throw new Error("Business not found after creation");return fe}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,le.T)(Y=>Y.map(te=>{const fe=te.payload.doc.data(),Ae=te.payload.doc.id,{id:Ne,...de}=fe;return{id:Ae,...de}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,Y=>Y.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(Y){return this.getBusinessData(Y)}getBusinessData(Y){const te=Y&&Y.trim()?Y:"defaultBusinessId";return this.afs.collection("businesses").doc(te).snapshotChanges().pipe((0,i.n)(fe=>{const Ae=fe.payload.data(),Ne=fe.payload.id;if(!Ae)return(0,o.of)(void 0);const de={...Ae,id:Ne};return this.afs.collection("sections",Ke=>Ke.where("businessId","==",Ne)).snapshotChanges().pipe((0,le.T)(Ke=>{const mt=Ke.map(Ft=>({...Ft.payload.doc.data(),id:Ft.payload.doc.id}));return console.log("\u{1f525} Loaded Sections from Firestore Collection:",mt),{...de,sections:mt}}),(0,i.n)(Ke=>{const mt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Ne}/theme`).doc("themeDoc").snapshotChanges().pipe((0,le.T)(Ft=>{const Jt=Ft.payload.data()||mt;return Ke.theme=Jt,Ke}))}))}))}updateBusiness(Y,te){return this.afs.doc(`${this.basePath}/${Y}`).update(te)}deleteBusiness(Y){return this.afs.doc(`${this.basePath}/${Y}`).delete()}uploadFile(Y,te){return this.storage.upload(Y,te)}getDownloadURL(Y){return this.storage.ref(Y).getDownloadURL()}updateThemeFileName(Y,te=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${te}`).update({"theme.themeFileName":Y})}getThemeFileName(Y=this.defaultBusinessId){const fe=this.afs.collection(this.basePath).doc(Y).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${Y}`),fe.get().toPromise().then(Ae=>{if(Ae&&Ae.exists){const Ne=Ae.data();console.log("Theme document found:",Ne);const de=Ne?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${de}`),de}return console.warn(`No theme document found for business ID: ${Y}. Using default theme.`),"default.css"}).catch(Ae=>(console.error(`Error fetching theme file name for business ID: ${Y}`,Ae),"default.css"))}createSection(Y,te){return this.afs.collection(`${this.basePath}/${Y}/sections`).add(te)}getSections(Y){return this.afs.collection(`${this.basePath}/${Y}/sections`).snapshotChanges().pipe((0,le.T)(te=>te.map(fe=>{const Ae=fe.payload.doc.data();return{sectionId:fe.payload.doc.id,...Ae}})))}updateSection(Y,te,fe){return this.afs.doc(`${this.basePath}/${Y}/sections/${te}`).update(fe)}deleteSection(Y,te){return this.afs.doc(`${this.basePath}/${Y}/sections/${te}`).delete()}addLocation(Y,te){const fe=this.afs.collection(`businesses/${Y}/locations`),Ae=this.afs.createId();return fe.doc(Ae).set({id:Ae,...te})}getLocations(Y){return this.afs.collection(`businesses/${Y}/locations`).snapshotChanges().pipe((0,le.T)(te=>(te.length||console.warn(`\u26a0\ufe0f No locations found in Firestore for Business ID: ${Y}`),te.map(fe=>{const Ae=fe.payload.doc.data();return"object"==typeof Ae&&null!==Ae?{id:fe.payload.doc.id,...Ae}:(console.error("\u274c Firestore data format error:",Ae),{id:fe.payload.doc.id})}))))}updateLocation(Y,te,fe){return this.afs.doc(`businesses/${Y}/locations/${te}`).update(fe)}deleteLocation(Y,te){return this.afs.doc(`businesses/${Y}/locations/${te}`).delete()}static{this.\u0275fac=function(te){return new(te||Ve)(ve.KVO(_e.Qe),ve.KVO(Ce.ap))}}static{this.\u0275prov=ve.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}}return Ve})()},4710:(sn,Ze,F)=>{F.d(Ze,{L:()=>i});var le=F(7705);let i=(()=>{class ve{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Ce,ye)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Ce();const Ve=document.createElement("script");Ve.id="google-maps-script",Ve.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Ve.async=!0,Ve.defer=!0,Ve.onload=()=>{this.scriptLoaded=!0,Ce()},Ve.onerror=xe=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,ye(xe)},document.body.appendChild(Ve)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(ye){return new(ye||ve)}}static{this.\u0275prov=le.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}}return ve})()},6861:(sn,Ze,F)=>{F.d(Ze,{R:()=>ve});var o=F(7705),le=F(345),i=F(923);let ve=(()=>{class _e{constructor(ye,Ve,xe){this.meta=ye,this.title=Ve,this.businessDataService=xe}updateMetaTags(ye){this.title.setTitle(ye.title),this.meta.updateTag({name:"description",content:ye.description}),this.meta.updateTag({name:"keywords",content:ye.keywords}),this.meta.updateTag({property:"og:title",content:ye.title}),this.meta.updateTag({property:"og:description",content:ye.description})}updateFavicon(ye){const Ve=document.getElementsByTagName("head")[0];let xe=document.querySelector("link[rel*='icon']");xe||(xe=document.createElement("link"),xe.rel="icon",Ve.appendChild(xe)),xe.href=ye}loadAndApplyMeta(ye){this.businessDataService.loadBusinessData(ye).subscribe(Ve=>{Ve?(this.updateMetaTags({title:Ve.metaTitle||"Default Title",description:Ve.metaDescription||"Default Description",keywords:Ve.metaKeywords||"default, keywords"}),Ve.faviconUrl&&this.updateFavicon(Ve.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Ve){return new(Ve||_e)(o.KVO(le.W8),o.KVO(le.hE),o.KVO(i.A))}}static{this.\u0275prov=o.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}}return _e})()},5009:(sn,Ze,F)=>{F.d(Ze,{F:()=>xe});var o=F(8810),le=F(8455),i=F(7673),ve=F(6697),_e=F(5558),Ce=F(9437),ye=F(7705),Ve=F(6340);let xe=(()=>{class Y{constructor(fe){this.firestore=fe,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(fe){return this.firestore.collection("businesses").doc(fe).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(fe){console.log("Theme Service: - Fetching theme for business ID:",fe);const Ae=this.firestore.collection("businesses").doc(fe),Ne=Ae.collection("theme").doc("themeDoc");return Ae.snapshotChanges().pipe((0,ve.s)(1),(0,_e.n)(de=>de.payload.exists?Ne.get().pipe((0,_e.n)(Ke=>Ke.exists?(Ke.data(),Ne.valueChanges()):(0,le.H)(Ne.set(this.defaultTheme)).pipe((0,_e.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),Ne.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,o.$)("Theme Service: - Business document does not exist"))),(0,Ce.W)(de=>(console.error("Error fetching theme:",de),this.applyThemeFile(this.defaultTheme.themeFileName),(0,i.of)(this.defaultTheme))))}updateColors(fe,Ae){const Ne=this.firestore.collection("businesses").doc(fe).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+fe+" theme service updateColors: ",Ae),Ne.set(Ae,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),Ae.themeFileName&&this.applyThemeFile(Ae.themeFileName)}).catch(de=>{throw console.error("Theme Service: - Error updating colors:",de),new Error(de)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(fe){return this.loadCss(`assets/themes/${fe}`)}loadCss(fe){return new Promise((Ae,Ne)=>{console.log("Load css from  file:",fe);const de=document.createElement("link");de.rel="stylesheet",de.href=fe,de.onload=()=>{console.log(`Loaded theme: ${fe}`),Ae()},de.onerror=Ke=>{console.error(`Failed to load theme: ${fe}`,Ke),Ne(Ke)},document.head.appendChild(de)})}static{this.\u0275fac=function(Ae){return new(Ae||Y)(ye.KVO(Ve.Qe))}}static{this.\u0275prov=ye.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}}return Y})()},5571:(sn,Ze,F)=>{F.d(Ze,{B:()=>ye});var o=F(1985),le=F(6354),i=F(980),ve=F(7705),_e=F(8721),Ce=F(6340);let ye=(()=>{class Ve{constructor(Y,te){this.storage=Y,this.firestore=te}uploadFile(Y,te,fe,Ae="",Ne="",de="",Ke=""){let mt;switch(fe){case"testimonail":mt=`businesses/${te}/testimonail/${Y.name}`;break;case"employee":mt=`businesses/${te}/employee/${Y.name}`;break;case"business":mt=`businesses/${te}/business/${Y.name}`;break;case"heroImages":mt=`businesses/${te}/heroImages/${Y.name}`;break;case"lifeStyle":mt=`businesses/${te}/lifeStyle/${Y.name}`;break;case"sectionsImages":mt=`businesses/${te}/sectionsImages/${Y.name}`;break;default:mt=`businesses/${te}/gallery/${Y.name}`}const Ft=this.storage.ref(mt),Jt=this.storage.upload(mt,Y);return{uploadProgress:Jt.percentageChanges().pipe((0,le.T)(tt=>tt??0)),downloadUrl:new o.c(tt=>{Jt.snapshotChanges().pipe((0,i.j)(()=>{Ft.getDownloadURL().subscribe(Xe=>{this.firestore.collection("businesses").doc(te).collection(fe).add({url:Xe,title:Ae,description:Ne,link:de,order:Ke}),tt.next(Xe),tt.complete()})})).subscribe()})}}deleteFile(Y,te,fe){return new Promise((Ae,Ne)=>{const de=decodeURIComponent(Y.split("/").pop()?.split("?")[0]||"");this.storage.ref(de).delete().subscribe({next:()=>{this.firestore.collection("businesses").doc(te).collection(fe).ref.where("url","==",Y).get().then(mt=>{mt.forEach(Ft=>Ft.ref.delete()),Ae()}).catch(mt=>{console.error("Error deleting from Firestore:",mt),Ne(mt)})},error:mt=>{console.error("Error deleting from Storage:",mt),Ne(mt)}})})}static{this.\u0275fac=function(te){return new(te||Ve)(ve.KVO(_e.ap),ve.KVO(Ce.Qe))}}static{this.\u0275prov=ve.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}}return Ve})()},8704:(sn,Ze,F)=>{F.d(Ze,{N:()=>ye});var o=F(6354),le=F(9437),i=F(7673),ve=F(7705),_e=F(6340),Ce=F(8721);let ye=(()=>{class Ve{constructor(Y,te){this.firestore=Y,this.storage=te,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(Y){const te=Y&&Y.trim()?Y:this.defaultBusinessId;return this.firestore.collection("businesses").doc(te).snapshotChanges().pipe((0,o.T)(fe=>{const Ae=fe.payload.data(),Ne=fe.payload.id;if(Ae){const{id:de,testimonials:Ke=[],...mt}=Ae;return{id:Ne,testimonials:Ke.map(Jt=>({...Jt,photoURL:Jt.photoURL&&Jt.photoURL.trim()?Jt.photoURL:this.defaultImage})),...mt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(Y){return this.storage.ref(Y).getDownloadURL().pipe((0,le.W)(te=>(console.error("Error fetching photo URL:",te),(0,i.of)(""))))}getEmployeesByBusinessId(Y){return(null==Y||""==Y||""===Y)&&(Y=this.defaultBusinessId),this.firestore.collection("businesses").doc(Y).get().pipe((0,o.T)(te=>{if(te.exists){const fe=te.data();return fe&&fe.employees?fe.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,le.W)(te=>(console.error("Error fetching employees:",te),(0,i.of)([]))))}getBusinessGalleryImagesById(Y){return(null==Y||""==Y||""===Y)&&(Y=this.defaultBusinessId),this.firestore.collection("businesses").doc(Y).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(Y){return(null==Y||""==Y||""===Y)&&(Y=this.defaultBusinessId),this.firestore.collection("businesses").doc(Y).collection("gallery").valueChanges()}getBusinessUploadedImagesById(Y,te){return(null==Y||""==Y||""===Y)&&(Y=this.defaultBusinessId),this.firestore.collection("businesses").doc(Y).collection(te).valueChanges()}checkImageExists(Y){return this.storage.refFromURL(Y).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(te){return new(te||Ve)(ve.KVO(_e.Qe),ve.KVO(Ce.ap))}}static{this.\u0275prov=ve.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}}return Ve})()},409:(sn,Ze,F)=>{var o={};F.r(o),F.d(o,{afterMain:()=>Fi,afterRead:()=>hr,afterWrite:()=>cs,applyStyles:()=>nt,arrow:()=>ec,auto:()=>qr,basePlacements:()=>ri,beforeMain:()=>Ji,beforeRead:()=>_n,beforeWrite:()=>js,bottom:()=>Bi,clippingParents:()=>as,computeStyles:()=>_i,createPopper:()=>B,createPopperBase:()=>P,createPopperLite:()=>Oe,detectOverflow:()=>sa,end:()=>jr,eventListeners:()=>W,flip:()=>oa,hide:()=>Sl,left:()=>Qn,main:()=>ls,modifierPhases:()=>Ss,offset:()=>Rl,placements:()=>Hr,popper:()=>ki,popperGenerator:()=>ll,popperOffsets:()=>yo,preventOverflow:()=>sl,read:()=>ir,reference:()=>Ts,right:()=>Pi,start:()=>zi,top:()=>bi,variationPlacements:()=>Ds,viewport:()=>Ys,write:()=>Yr});var le=F(345),i=F(7705),ve=F(7673),_e=F(8455),Ce=F(1985),ye=F(274),Ve=F(5964),xe=F(6354),Y=F(980),te=F(5558),fe=F(177);class Ae{}class Ne{}class de{constructor(c){this.normalizedNames=new Map,this.lazyUpdate=null,c?"string"==typeof c?this.lazyInit=()=>{this.headers=new Map,c.split("\n").forEach(l=>{const p=l.indexOf(":");if(p>0){const T=l.slice(0,p),k=T.toLowerCase(),z=l.slice(p+1).trim();this.maybeSetNormalizedName(T,k),this.headers.has(k)?this.headers.get(k).push(z):this.headers.set(k,[z])}})}:typeof Headers<"u"&&c instanceof Headers?(this.headers=new Map,c.forEach((l,p)=>{this.setHeaderEntries(p,l)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(c).forEach(([l,p])=>{this.setHeaderEntries(l,p)})}:this.headers=new Map}has(c){return this.init(),this.headers.has(c.toLowerCase())}get(c){this.init();const l=this.headers.get(c.toLowerCase());return l&&l.length>0?l[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(c){return this.init(),this.headers.get(c.toLowerCase())||null}append(c,l){return this.clone({name:c,value:l,op:"a"})}set(c,l){return this.clone({name:c,value:l,op:"s"})}delete(c,l){return this.clone({name:c,value:l,op:"d"})}maybeSetNormalizedName(c,l){this.normalizedNames.has(l)||this.normalizedNames.set(l,c)}init(){this.lazyInit&&(this.lazyInit instanceof de?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(c=>this.applyUpdate(c)),this.lazyUpdate=null))}copyFrom(c){c.init(),Array.from(c.headers.keys()).forEach(l=>{this.headers.set(l,c.headers.get(l)),this.normalizedNames.set(l,c.normalizedNames.get(l))})}clone(c){const l=new de;return l.lazyInit=this.lazyInit&&this.lazyInit instanceof de?this.lazyInit:this,l.lazyUpdate=(this.lazyUpdate||[]).concat([c]),l}applyUpdate(c){const l=c.name.toLowerCase();switch(c.op){case"a":case"s":let p=c.value;if("string"==typeof p&&(p=[p]),0===p.length)return;this.maybeSetNormalizedName(c.name,l);const T=("a"===c.op?this.headers.get(l):void 0)||[];T.push(...p),this.headers.set(l,T);break;case"d":const k=c.value;if(k){let z=this.headers.get(l);if(!z)return;z=z.filter(re=>-1===k.indexOf(re)),0===z.length?(this.headers.delete(l),this.normalizedNames.delete(l)):this.headers.set(l,z)}else this.headers.delete(l),this.normalizedNames.delete(l)}}setHeaderEntries(c,l){const p=(Array.isArray(l)?l:[l]).map(k=>k.toString()),T=c.toLowerCase();this.headers.set(T,p),this.maybeSetNormalizedName(c,T)}forEach(c){this.init(),Array.from(this.normalizedNames.keys()).forEach(l=>c(this.normalizedNames.get(l),this.headers.get(l)))}}class mt{encodeKey(c){return Ie(c)}encodeValue(c){return Ie(c)}decodeKey(c){return decodeURIComponent(c)}decodeValue(c){return decodeURIComponent(c)}}const Jt=/%(\d[a-f0-9])/gi,He={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ie(g){return encodeURIComponent(g).replace(Jt,(c,l)=>He[l]??c)}function tt(g){return`${g}`}class Xe{constructor(c={}){if(this.updates=null,this.cloneFrom=null,this.encoder=c.encoder||new mt,c.fromString){if(c.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ft(g,c){const l=new Map;return g.length>0&&g.replace(/^\?/,"").split("&").forEach(T=>{const k=T.indexOf("="),[z,re]=-1==k?[c.decodeKey(T),""]:[c.decodeKey(T.slice(0,k)),c.decodeValue(T.slice(k+1))],pe=l.get(z)||[];pe.push(re),l.set(z,pe)}),l}(c.fromString,this.encoder)}else c.fromObject?(this.map=new Map,Object.keys(c.fromObject).forEach(l=>{const p=c.fromObject[l],T=Array.isArray(p)?p.map(tt):[tt(p)];this.map.set(l,T)})):this.map=null}has(c){return this.init(),this.map.has(c)}get(c){this.init();const l=this.map.get(c);return l?l[0]:null}getAll(c){return this.init(),this.map.get(c)||null}keys(){return this.init(),Array.from(this.map.keys())}append(c,l){return this.clone({param:c,value:l,op:"a"})}appendAll(c){const l=[];return Object.keys(c).forEach(p=>{const T=c[p];Array.isArray(T)?T.forEach(k=>{l.push({param:p,value:k,op:"a"})}):l.push({param:p,value:T,op:"a"})}),this.clone(l)}set(c,l){return this.clone({param:c,value:l,op:"s"})}delete(c,l){return this.clone({param:c,value:l,op:"d"})}toString(){return this.init(),this.keys().map(c=>{const l=this.encoder.encodeKey(c);return this.map.get(c).map(p=>l+"="+this.encoder.encodeValue(p)).join("&")}).filter(c=>""!==c).join("&")}clone(c){const l=new Xe({encoder:this.encoder});return l.cloneFrom=this.cloneFrom||this,l.updates=(this.updates||[]).concat(c),l}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(c=>this.map.set(c,this.cloneFrom.map.get(c))),this.updates.forEach(c=>{switch(c.op){case"a":case"s":const l=("a"===c.op?this.map.get(c.param):void 0)||[];l.push(tt(c.value)),this.map.set(c.param,l);break;case"d":if(void 0===c.value){this.map.delete(c.param);break}{let p=this.map.get(c.param)||[];const T=p.indexOf(tt(c.value));-1!==T&&p.splice(T,1),p.length>0?this.map.set(c.param,p):this.map.delete(c.param)}}}),this.cloneFrom=this.updates=null)}}class Nt{constructor(){this.map=new Map}set(c,l){return this.map.set(c,l),this}get(c){return this.map.has(c)||this.map.set(c,c.defaultValue()),this.map.get(c)}delete(c){return this.map.delete(c),this}has(c){return this.map.has(c)}keys(){return this.map.keys()}}function Ee(g){return typeof ArrayBuffer<"u"&&g instanceof ArrayBuffer}function Je(g){return typeof Blob<"u"&&g instanceof Blob}function Xt(g){return typeof FormData<"u"&&g instanceof FormData}class qe{constructor(c,l,p,T){let k;if(this.url=l,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=c.toUpperCase(),function ht(g){switch(g){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||T?(this.body=void 0!==p?p:null,k=T):k=p,k&&(this.reportProgress=!!k.reportProgress,this.withCredentials=!!k.withCredentials,k.responseType&&(this.responseType=k.responseType),k.headers&&(this.headers=k.headers),k.context&&(this.context=k.context),k.params&&(this.params=k.params)),this.headers||(this.headers=new de),this.context||(this.context=new Nt),this.params){const z=this.params.toString();if(0===z.length)this.urlWithParams=l;else{const re=l.indexOf("?");this.urlWithParams=l+(-1===re?"?":re<l.length-1?"&":"")+z}}else this.params=new Xe,this.urlWithParams=l}serializeBody(){return null===this.body?null:Ee(this.body)||Je(this.body)||Xt(this.body)||function Fn(g){return typeof URLSearchParams<"u"&&g instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Xt(this.body)?null:Je(this.body)?this.body.type||null:Ee(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(c={}){const l=c.method||this.method,p=c.url||this.url,T=c.responseType||this.responseType,k=void 0!==c.body?c.body:this.body,z=void 0!==c.withCredentials?c.withCredentials:this.withCredentials,re=void 0!==c.reportProgress?c.reportProgress:this.reportProgress;let pe=c.headers||this.headers,Ge=c.params||this.params;const _t=c.context??this.context;return void 0!==c.setHeaders&&(pe=Object.keys(c.setHeaders).reduce((Ht,yn)=>Ht.set(yn,c.setHeaders[yn]),pe)),c.setParams&&(Ge=Object.keys(c.setParams).reduce((Ht,yn)=>Ht.set(yn,c.setParams[yn]),Ge)),new qe(l,p,k,{params:Ge,headers:pe,context:_t,reportProgress:re,responseType:T,withCredentials:z})}}var xt=function(g){return g[g.Sent=0]="Sent",g[g.UploadProgress=1]="UploadProgress",g[g.ResponseHeader=2]="ResponseHeader",g[g.DownloadProgress=3]="DownloadProgress",g[g.Response=4]="Response",g[g.User=5]="User",g}(xt||{});class je{constructor(c,l=200,p="OK"){this.headers=c.headers||new de,this.status=void 0!==c.status?c.status:l,this.statusText=c.statusText||p,this.url=c.url||null,this.ok=this.status>=200&&this.status<300}}class lt extends je{constructor(c={}){super(c),this.type=xt.ResponseHeader}clone(c={}){return new lt({headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class ke extends je{constructor(c={}){super(c),this.type=xt.Response,this.body=void 0!==c.body?c.body:null}clone(c={}){return new ke({body:void 0!==c.body?c.body:this.body,headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class st extends je{constructor(c){super(c,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${c.url||"(unknown url)"}`:`Http failure response for ${c.url||"(unknown url)"}: ${c.status} ${c.statusText}`,this.error=c.error||null}}function tn(g,c){return{body:c,headers:g.headers,context:g.context,observe:g.observe,params:g.params,reportProgress:g.reportProgress,responseType:g.responseType,withCredentials:g.withCredentials}}let ze=(()=>{class g{constructor(l){this.handler=l}request(l,p,T={}){let k;if(l instanceof qe)k=l;else{let pe,Ge;pe=T.headers instanceof de?T.headers:new de(T.headers),T.params&&(Ge=T.params instanceof Xe?T.params:new Xe({fromObject:T.params})),k=new qe(l,p,void 0!==T.body?T.body:null,{headers:pe,context:T.context,params:Ge,reportProgress:T.reportProgress,responseType:T.responseType||"json",withCredentials:T.withCredentials})}const z=(0,ve.of)(k).pipe((0,ye.H)(pe=>this.handler.handle(pe)));if(l instanceof qe||"events"===T.observe)return z;const re=z.pipe((0,Ve.p)(pe=>pe instanceof ke));switch(T.observe||"body"){case"body":switch(k.responseType){case"arraybuffer":return re.pipe((0,xe.T)(pe=>{if(null!==pe.body&&!(pe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return pe.body}));case"blob":return re.pipe((0,xe.T)(pe=>{if(null!==pe.body&&!(pe.body instanceof Blob))throw new Error("Response is not a Blob.");return pe.body}));case"text":return re.pipe((0,xe.T)(pe=>{if(null!==pe.body&&"string"!=typeof pe.body)throw new Error("Response is not a string.");return pe.body}));default:return re.pipe((0,xe.T)(pe=>pe.body))}case"response":return re;default:throw new Error(`Unreachable: unhandled observe type ${T.observe}}`)}}delete(l,p={}){return this.request("DELETE",l,p)}get(l,p={}){return this.request("GET",l,p)}head(l,p={}){return this.request("HEAD",l,p)}jsonp(l,p){return this.request("JSONP",l,{params:(new Xe).append(p,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(l,p={}){return this.request("OPTIONS",l,p)}patch(l,p,T={}){return this.request("PATCH",l,tn(T,p))}post(l,p,T={}){return this.request("POST",l,tn(T,p))}put(l,p,T={}){return this.request("PUT",l,tn(T,p))}static{this.\u0275fac=function(p){return new(p||g)(i.KVO(Ae))}}static{this.\u0275prov=i.jDH({token:g,factory:g.\u0275fac})}}return g})();function rr(g,c){return c(g)}function on(g,c){return(l,p)=>c.intercept(l,{handle:T=>g(T,p)})}const Zt=new i.nKC(""),Hn=new i.nKC(""),xn=new i.nKC("");function Kt(){let g=null;return(c,l)=>{null===g&&(g=((0,i.WQX)(Zt,{optional:!0})??[]).reduceRight(on,rr));const p=(0,i.WQX)(i.$K3),T=p.add();return g(c,l).pipe((0,Y.j)(()=>p.remove(T)))}}let $t=(()=>{class g extends Ae{constructor(l,p){super(),this.backend=l,this.injector=p,this.chain=null,this.pendingTasks=(0,i.WQX)(i.$K3)}handle(l){if(null===this.chain){const T=Array.from(new Set([...this.injector.get(Hn),...this.injector.get(xn,[])]));this.chain=T.reduceRight((k,z)=>function Un(g,c,l){return(p,T)=>l.runInContext(()=>c(p,k=>g(k,T)))}(k,z,this.injector),rr)}const p=this.pendingTasks.add();return this.chain(l,T=>this.backend.handle(T)).pipe((0,Y.j)(()=>this.pendingTasks.remove(p)))}static{this.\u0275fac=function(p){return new(p||g)(i.KVO(Ne),i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:g,factory:g.\u0275fac})}}return g})();const Kn=/^\)\]\}',?\n/;let ys=(()=>{class g{constructor(l){this.xhrFactory=l}handle(l){if("JSONP"===l.method)throw new i.wOt(-2800,!1);const p=this.xhrFactory;return(p.\u0275loadImpl?(0,_e.H)(p.\u0275loadImpl()):(0,ve.of)(null)).pipe((0,te.n)(()=>new Ce.c(k=>{const z=p.build();if(z.open(l.method,l.urlWithParams),l.withCredentials&&(z.withCredentials=!0),l.headers.forEach((Qt,En)=>z.setRequestHeader(Qt,En.join(","))),l.headers.has("Accept")||z.setRequestHeader("Accept","application/json, text/plain, */*"),!l.headers.has("Content-Type")){const Qt=l.detectContentTypeHeader();null!==Qt&&z.setRequestHeader("Content-Type",Qt)}if(l.responseType){const Qt=l.responseType.toLowerCase();z.responseType="json"!==Qt?Qt:"text"}const re=l.serializeBody();let pe=null;const Ge=()=>{if(null!==pe)return pe;const Qt=z.statusText||"OK",En=new de(z.getAllResponseHeaders()),Cr=function di(g){return"responseURL"in g&&g.responseURL?g.responseURL:/^X-Request-URL:/m.test(g.getAllResponseHeaders())?g.getResponseHeader("X-Request-URL"):null}(z)||l.url;return pe=new lt({headers:En,status:z.status,statusText:Qt,url:Cr}),pe},_t=()=>{let{headers:Qt,status:En,statusText:Cr,url:Fr}=Ge(),vr=null;204!==En&&(vr=typeof z.response>"u"?z.responseText:z.response),0===En&&(En=vr?200:0);let or=En>=200&&En<300;if("json"===l.responseType&&"string"==typeof vr){const pi=vr;vr=vr.replace(Kn,"");try{vr=""!==vr?JSON.parse(vr):null}catch($r){vr=pi,or&&(or=!1,vr={error:$r,text:vr})}}or?(k.next(new ke({body:vr,headers:Qt,status:En,statusText:Cr,url:Fr||void 0})),k.complete()):k.error(new st({error:vr,headers:Qt,status:En,statusText:Cr,url:Fr||void 0}))},Ht=Qt=>{const{url:En}=Ge(),Cr=new st({error:Qt,status:z.status||0,statusText:z.statusText||"Unknown Error",url:En||void 0});k.error(Cr)};let yn=!1;const bn=Qt=>{yn||(k.next(Ge()),yn=!0);let En={type:xt.DownloadProgress,loaded:Qt.loaded};Qt.lengthComputable&&(En.total=Qt.total),"text"===l.responseType&&z.responseText&&(En.partialText=z.responseText),k.next(En)},Tn=Qt=>{let En={type:xt.UploadProgress,loaded:Qt.loaded};Qt.lengthComputable&&(En.total=Qt.total),k.next(En)};return z.addEventListener("load",_t),z.addEventListener("error",Ht),z.addEventListener("timeout",Ht),z.addEventListener("abort",Ht),l.reportProgress&&(z.addEventListener("progress",bn),null!==re&&z.upload&&z.upload.addEventListener("progress",Tn)),z.send(re),k.next({type:xt.Sent}),()=>{z.removeEventListener("error",Ht),z.removeEventListener("abort",Ht),z.removeEventListener("load",_t),z.removeEventListener("timeout",Ht),l.reportProgress&&(z.removeEventListener("progress",bn),null!==re&&z.upload&&z.upload.removeEventListener("progress",Tn)),z.readyState!==z.DONE&&z.abort()}})))}static{this.\u0275fac=function(p){return new(p||g)(i.KVO(fe.N0))}}static{this.\u0275prov=i.jDH({token:g,factory:g.\u0275fac})}}return g})();const fn=new i.nKC("XSRF_ENABLED"),er=new i.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Bn=new i.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Si{}let ot=(()=>{class g{constructor(l,p,T){this.doc=l,this.platform=p,this.cookieName=T,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const l=this.doc.cookie||"";return l!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,fe._b)(l,this.cookieName),this.lastCookieString=l),this.lastToken}static{this.\u0275fac=function(p){return new(p||g)(i.KVO(fe.qQ),i.KVO(i.Agw),i.KVO(er))}}static{this.\u0275prov=i.jDH({token:g,factory:g.\u0275fac})}}return g})();function It(g,c){const l=g.url.toLowerCase();if(!(0,i.WQX)(fn)||"GET"===g.method||"HEAD"===g.method||l.startsWith("http://")||l.startsWith("https://"))return c(g);const p=(0,i.WQX)(Si).getToken(),T=(0,i.WQX)(Bn);return null!=p&&!g.headers.has(T)&&(g=g.clone({headers:g.headers.set(T,p)})),c(g)}var Fe=function(g){return g[g.Interceptors=0]="Interceptors",g[g.LegacyInterceptors=1]="LegacyInterceptors",g[g.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",g[g.NoXsrfProtection=3]="NoXsrfProtection",g[g.JsonpSupport=4]="JsonpSupport",g[g.RequestsMadeViaParent=5]="RequestsMadeViaParent",g[g.Fetch=6]="Fetch",g}(Fe||{});function St(g,c){return{\u0275kind:g,\u0275providers:c}}function De(...g){const c=[ze,ys,$t,{provide:Ae,useExisting:$t},{provide:Ne,useExisting:ys},{provide:Hn,useValue:It,multi:!0},{provide:fn,useValue:!0},{provide:Si,useClass:ot}];for(const l of g)c.push(...l.\u0275providers);return(0,i.EmA)(c)}const Se=new i.nKC("LEGACY_INTERCEPTOR_FN");let me=(()=>{class g{static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275mod=i.$C({type:g})}static{this.\u0275inj=i.G2t({providers:[De(St(Fe.LegacyInterceptors,[{provide:Se,useFactory:Kt},{provide:Hn,useExisting:Se,multi:!0}]))]})}}return g})();var dr=F(6814),Vs=F(8353),Ni=F(7304),vs=F(4593),Es=F(491),gi=F(1915),ar=F(9483),xs=F(3967),Rt=F(5743),at=F(6861),kt=F(923),un=F(9437),$n=F(8704),Ln=F(4591);function fr(g,c){if(1&g&&(i.j41(0,"div",5),i.nrm(1,"img",6),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"h4"),i.EFF(5),i.k0s(),i.j41(6,"p"),i.EFF(7),i.k0s()()),2&g){const l=c.$implicit;i.R7$(1),i.FS9("alt",l.name),i.Y8G("src",l.photoURL,i.B4B),i.R7$(2),i.JRh(l.name),i.R7$(2),i.JRh(l.role),i.R7$(2),i.JRh(l.bio)}}function Ur(g,c){if(1&g&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"div",3),i.DNE(3,fr,8,5,"div",4),i.nI1(4,"async"),i.k0s()()),2&g){const l=i.XpG();i.R7$(1),i.Y8G("title","Meet the Team")("titleColor","var(--primary-color)"),i.R7$(2),i.Y8G("ngForOf",i.bMT(4,3,l.employees$))}}let Wr=(()=>{class g{constructor(l,p){this.route=l,this.employeeService=p}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,xe.T)(l=>l.get("id")||""),(0,te.n)(l=>this.employeeService.getEmployeesByBusinessId(l)),(0,un.W)(l=>(console.error("Error fetching employees:",l),(0,ve.of)([]))))}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(dr.nX),i.rXU($n.N))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title","titleColor"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(p,T){1&p&&i.DNE(0,Ur,5,5,"div",0),2&p&&i.Y8G("ngIf",T.employees$)},dependencies:[fe.Sq,fe.bT,Ln.L,fe.Jj]})}}return g})(),pr=(()=>{class g{constructor(l,p){this.route=l,this.router=p,this.layoutType="demo",this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Let us make you feel at home"},location:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"}},this.imagesAndMessagesSB={services:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1455953950-1024x1024.jpg?alt=media&token=f8875a81-4502-4e3f-b9f3-de7efa57d34f",message:"Discover our Services"},gallery:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1735411371-1024x1024.jpg?alt=media&amp;token=03a733b3-0eff-4cda-b06c-108a886f5921",message:"Explore our Gallery"},"about-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Learn About Us"},"contact-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1367776831-1024x1024.jpg?alt=media&token=1272b1b2-ad7f-425a-b17e-10ba49234dab",message:"Get in Touch"},testimonials:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1456339578-1024x1024.jpg?alt=media&token=2e380b78-c7ba-46c4-bd9b-fd8d3cc6e818",message:"What they say about us"},"resident-form":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Les us make you feel at home"}}}ngOnInit(){this.router.events.subscribe(()=>{const p=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",p);const T="sb"===this.layoutType?this.imagesAndMessagesSB:this.imagesAndMessages;p&&T[p]?(this.backgroundImage=`url(${T[p].image})`,this.message=T[p].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(dr.nX),i.rXU(dr.Ix))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-hero"]],inputs:{layoutType:"layoutType"},decls:4,vars:3,consts:[[1,"page-hero"],[1,"page-hero-overlay"]],template:function(p,T){1&p&&(i.j41(0,"div",0)(1,"div",1)(2,"h1"),i.EFF(3),i.k0s()()()),2&p&&(i.xc7("background-image",T.backgroundImage),i.R7$(3),i.JRh(T.message))}})}}return g})(),Qi=(()=>{class g{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(p,T){1&p&&(i.j41(0,"div",0)(1,"div",1),i.nrm(2,"img",2),i.j41(3,"div",3)(4,"p",4),i.EFF(5),i.k0s(),i.j41(6,"p",5),i.EFF(7),i.k0s()()()()),2&p&&(i.R7$(2),i.FS9("src",T.imageURL,i.B4B),i.R7$(3),i.SpI('" ',T.text,'"'),i.R7$(2),i.SpI("\u2013 ",T.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return g})();const Ms=["dynamicContainer"];function ss(g,c){1&g&&(i.qex(0),i.j41(1,"div",6)(2,"div",7)(3,"h1"),i.EFF(4,"About Us"),i.k0s(),i.j41(5,"div",8)(6,"p"),i.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),i.k0s()()()(),i.bVm())}function Do(g,c){1&g&&(i.qex(0),i.nrm(1,"app-hero"),i.bVm())}function So(g,c){1&g&&(i.qex(0),i.nrm(1,"app-hero",9),i.bVm()),2&g&&(i.R7$(1),i.Y8G("layoutType","clemo"))}function ji(g,c){1&g&&(i.qex(0),i.nrm(1,"app-hero",9),i.bVm()),2&g&&(i.R7$(1),i.Y8G("layoutType","sb"))}function Go(g,c){1&g&&(i.qex(0),i.nrm(1,"app-hero",9),i.bVm()),2&g&&(i.R7$(1),i.Y8G("layoutType","prestige"))}function li(g,c){1&g&&(i.j41(0,"div",10),i.nrm(1,"div",11,12),i.k0s())}function os(g,c){1&g&&(i.j41(0,"div",10),i.nrm(1,"div",13,12),i.k0s())}function bs(g,c){if(1&g&&(i.qex(0),i.nrm(1,"app-testimonial-image",14),i.bVm()),2&g){const l=i.XpG(2);i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote)}}function Kr(g,c){if(1&g&&(i.j41(0,"div")(1,"div",1),i.DNE(2,ss,8,0,"ng-container",2),i.DNE(3,Do,2,0,"ng-container",2),i.DNE(4,So,2,1,"ng-container",2),i.DNE(5,ji,2,1,"ng-container",2),i.DNE(6,Go,2,1,"ng-container",2),i.k0s(),i.DNE(7,li,3,0,"div",3),i.DNE(8,os,3,0,"div",3),i.j41(9,"section",4),i.nrm(10,"app-meet-the-team",5),i.k0s(),i.j41(11,"div",1),i.DNE(12,bs,2,3,"ng-container",2),i.k0s()()),2&g){const l=i.XpG();i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(1),i.Y8G("ngIf","prestige"!=l.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","prestige"==l.business.theme.themeType),i.R7$(2),i.Y8G("businessId",l.business.id),i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","ae")}}let Hi=(()=>{class g{constructor(l,p,T,k,z,re){this.sectionService=l,this.resolver=p,this.injector=T,this.route=k,this.metaService=z,this.businessDataService=re,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Ni.W,"right-text":vs.F,"left-text":Es.G,"item-list":gi.j,cta:ar.j,consultation:xs.t}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,te.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}ngAfterViewInit(){this.business&&this.loadComponents()}loadSections(){this.sectionService.getBusinessSections(this.businessId,"aboutus").subscribe(l=>{l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(this.container)if(this.container.clear(),this.sections.length)if(this.sections.sort((l,p)=>(l.order||0)-(p.order||0)),"hh"===this.business?.theme?.themeType){let re,l=[],p=null,T=null,k=null,z=[];this.sections.forEach(pe=>{"center-text"===pe.component?p?T=pe:p=pe:"left-text"===pe.component||"right-text"===pe.component?l.push(pe):"cta"===pe.component?k=pe:z.push(pe)}),p&&this.createComponent(p),l.length>0&&(re=document.createElement("div"),re.className="text-wrapper",l.sort((pe,Ge)=>"left-text"===pe.component?-1:1),l.forEach(pe=>{const Ge=this.createComponent(pe);Ge&&re.appendChild(Ge.location.nativeElement)}),this.container.element.nativeElement.appendChild(re)),T&&this.createComponent(T),z.forEach(pe=>{this.createComponent(pe)}),k&&this.createComponent(k)}else this.sections.sort((l,p)=>(l.order||0)-(p.order||0)),this.sections.forEach(l=>{this.createComponent(l)});else console.warn("\u2757 No sections available to load.");else console.error("\u274c ViewContainerRef (container) is undefined.")}createWrapper(l){if(!l.length)return;const p=document.createElement("div");p.className="text-wrapper",l.sort((T,k)=>"left-text"===T.component?-1:1),l.forEach(T=>{const k=this.createComponent(T);null!==k&&p.appendChild(k.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(l,p){const T=this.componentsMap[l.component];if(!T)return console.error("\u274c Component Not Found:",l.component),null;const k=this.resolver.resolveComponentFactory(T),z=this.container.createComponent(k);return this.applyComponentProperties(z.instance,l),p?this.container.element.nativeElement.insertBefore(z.location.nativeElement,p):this.container.element.nativeElement.appendChild(z.location.nativeElement),z}applyComponentProperties(l,p){Object.assign(l,{isActive:[void 0===p.isActive||p.isActive],title:this.applyReplaceKeyword(p.sectionTitle||""),subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),content:this.applyReplaceKeyword(p.sectionContent||""),sectionImageUrl:p.sectionImageUrl||"",showBtn:p.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!p.sectionImageUrl,themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",textColor:p.textColor||"#000000",titleColor:p.titleColor||"#000000",subtitleColor:p.subtitleColor||"#000000",fullWidth:p.fullWidth||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",titleFontSize:p.titleFontSize||"36",subtitleFontSize:p.subtitleFontSize||"14",alignText:p.alignText||"left",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location})}applyReplaceKeyword(l){return l.replace(/{{\s*businessName\s*}}/g,this.business?.businessName||"")}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(Rt.W),i.rXU(i.OM3),i.rXU(i.zZn),i.rXU(dr.nX),i.rXU(at.R),i.rXU(kt.A))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-about-us"]],viewQuery:function(p,T){if(1&p&&i.GBs(Ms,5,i.c1b),2&p){let k;i.mGM(k=i.lsd())&&(T.container=k.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"business-team"],[3,"businessId"],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(p,T){1&p&&i.DNE(0,Kr,13,11,"div",0),2&p&&i.Y8G("ngIf",T.business)},dependencies:[fe.bT,fe.ux,fe.e1,Wr,pr,Qi]})}}return g})();const xi=["dynamicContainer"];function Ar(g,c){1&g&&(i.qex(0),i.j41(1,"div",4)(2,"div",5)(3,"h1"),i.EFF(4,"Our Services"),i.k0s(),i.j41(5,"div",6)(6,"p"),i.EFF(7,"Providing exceptional care tailored to your needs"),i.k0s()()()(),i.bVm())}function uo(g,c){1&g&&(i.qex(0),i.nrm(1,"app-hero"),i.bVm())}function Ro(g,c){1&g&&(i.qex(0),i.nrm(1,"app-hero",7),i.bVm()),2&g&&(i.R7$(1),i.Y8G("layoutType","clemo"))}function hi(g,c){1&g&&(i.qex(0),i.nrm(1,"app-hero",7),i.bVm()),2&g&&(i.R7$(1),i.Y8G("layoutType","sb"))}function Na(g,c){1&g&&(i.qex(0),i.nrm(1,"app-hero",7),i.bVm()),2&g&&(i.R7$(1),i.Y8G("layoutType","prestige"))}function tl(g,c){1&g&&(i.j41(0,"div",8),i.nrm(1,"div",9,10),i.k0s())}function Ri(g,c){1&g&&(i.j41(0,"div",8),i.nrm(1,"div",11,10),i.k0s())}function va(g,c){if(1&g&&(i.qex(0),i.nrm(1,"app-testimonial-image",12),i.bVm()),2&g){const l=i.XpG(2);i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[1].name||"")("text",l.business.testimonials[1].quote||"")}}function qs(g,c){1&g&&(i.j41(0,"div")(1,"section",13)(2,"div",14)(3,"h2",15),i.EFF(4,"Testimonials"),i.k0s()(),i.j41(5,"div",16)(6,"div",17),i.EFF(7,"\u201c"),i.k0s(),i.j41(8,"p"),i.EFF(9,'"Great experience as always! Friendly, excellent communication, quality tuning."'),i.k0s(),i.j41(10,"h4"),i.EFF(11,"Amy G."),i.k0s()(),i.j41(12,"div",16)(13,"div",17),i.EFF(14,"\u201c"),i.k0s(),i.j41(15,"p"),i.EFF(16,'"Great service. Friendly staff, and piano always sounds like new after tuning."'),i.k0s(),i.j41(17,"h4"),i.EFF(18,"Jesse A."),i.k0s()(),i.j41(19,"div",16)(20,"div",17),i.EFF(21,"\u201c"),i.k0s(),i.j41(22,"p"),i.EFF(23,'"Great, friendly, professional, thorough service. Great communication."'),i.k0s(),i.j41(24,"h4"),i.EFF(25,"Brian S."),i.k0s()(),i.j41(26,"div",16)(27,"div",17),i.EFF(28,"\u201c"),i.k0s(),i.j41(29,"p"),i.EFF(30,'"You can trust these guys. I will recommend them to anyone and use them again."'),i.k0s(),i.j41(31,"h4"),i.EFF(32,"Colin B."),i.k0s()()()())}function ni(g,c){if(1&g&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Ar,8,0,"ng-container",2),i.DNE(3,uo,2,0,"ng-container",2),i.DNE(4,Ro,2,1,"ng-container",2),i.DNE(5,hi,2,1,"ng-container",2),i.DNE(6,Na,2,1,"ng-container",2),i.k0s(),i.DNE(7,tl,3,0,"div",3),i.DNE(8,Ri,3,0,"div",3),i.j41(9,"div",1),i.DNE(10,va,2,3,"ng-container",2),i.k0s(),i.DNE(11,qs,33,0,"div",0),i.k0s()),2&g){const l=i.XpG();i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(1),i.Y8G("ngIf","prestige"!=l.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","prestige"==l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngIf","prestige"==l.business.theme.themeType)}}let Us=(()=>{class g{constructor(l,p,T,k,z,re,pe){this.sectionService=l,this.resolver=p,this.injector=T,this.route=k,this.metaService=z,this.businessDataService=re,this.router=pe,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Ni.W,"right-text":vs.F,"left-text":Es.G,"item-list":gi.j,cta:ar.j,consultatioin:xs.t}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,te.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}ngAfterViewInit(){setTimeout(()=>{this.container?this.business&&this.sections.length?this.loadComponents():(console.warn("\u2757 Sections are not loaded yet, retrying..."),setTimeout(()=>{this.sections.length&&this.loadComponents()},500)):console.error("\u274c ViewContainerRef (container) is still undefined after ViewInit.")},500)}loadSections(){this.sectionService.getBusinessSections(this.businessId,"services").subscribe(l=>{l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(!this.container)return void console.error("\u274c ViewContainerRef (container) is undefined.");if(this.container.clear(),!this.sections.length)return void console.warn("\u2757 No sections available to load.");this.sections.sort((Ge,_t)=>(Ge.order||0)-(_t.order||0));let pe,l=[],p=null,T=null,k=null,z=null,re=[];this.sections.forEach(Ge=>{"item-list"===Ge.component?p?T=Ge:p=Ge:"left-text"===Ge.component||"right-text"===Ge.component?l.push(Ge):"center-text"===Ge.component?k=Ge:"cta"===Ge.component?z=Ge:re.push(Ge)}),p&&this.createComponent(p),T&&this.createComponent(T),l.length>0&&(pe=document.createElement("div"),pe.className="text-wrapper",l.sort((Ge,_t)=>"left-text"===Ge.component?-1:1),l.forEach(Ge=>{const _t=this.createComponent(Ge);_t&&pe.appendChild(_t.location.nativeElement)}),this.container.element.nativeElement.appendChild(pe)),k&&this.createComponent(k),z&&this.createComponent(z)}createWrapper(l){if(!l.length)return;const p=document.createElement("div");p.className="text-wrapper",l.sort((T,k)=>"left-text"===T.component?-1:1),l.forEach(T=>{const k=this.createComponent(T);null!==k&&p.appendChild(k.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(l,p){const T=this.componentsMap[l.component];if(!T)return console.error("\u274c Component Not Found:",l.component),null;const k=this.resolver.resolveComponentFactory(T),z=this.container.createComponent(k);return this.applyComponentProperties(z.instance,l),p?this.container.element.nativeElement.insertBefore(z.location.nativeElement,p):this.container.element.nativeElement.appendChild(z.location.nativeElement),z}applyComponentProperties(l,p){Object.assign(l,{isActive:[void 0===p.isActive||p.isActive],title:this.applyReplaceKeyword(p.sectionTitle||""),subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),content:this.applyReplaceKeyword(p.sectionContent||""),sectionImageUrl:p.sectionImageUrl||"",showBtn:p.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!p.sectionImageUrl,themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",textColor:p.textColor||"#000000",titleColor:p.titleColor||"#000000",subtitleColor:p.subtitleColor||"#000000",fullWidth:p.fullWidth||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",titleFontSize:p.titleFontSize||"36",subtitleFontSize:p.subtitleFontSize||"14",alignText:p.alignText||"left",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(Rt.W),i.rXU(i.OM3),i.rXU(i.zZn),i.rXU(dr.nX),i.rXU(at.R),i.rXU(kt.A),i.rXU(dr.Ix))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-services"]],viewQuery:function(p,T){if(1&p&&i.GBs(xi,5,i.c1b),2&p){let k;i.mGM(k=i.lsd())&&(T.container=k.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"hero-services"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"],[1,"testimonials-section"],[1,"heading-container"],[1,"styled-heading"],[1,"testimonial"],[1,"quote-icon"]],template:function(p,T){1&p&&i.DNE(0,ni,12,11,"div",0),2&p&&i.Y8G("ngIf",T.business)},dependencies:[fe.bT,fe.ux,fe.e1,pr,Qi]})}}return g})();var bi="top",Bi="bottom",Pi="right",Qn="left",qr="auto",ri=[bi,Bi,Pi,Qn],zi="start",jr="end",as="clippingParents",Ys="viewport",ki="popper",Ts="reference",Ds=ri.reduce(function(g,c){return g.concat([c+"-"+zi,c+"-"+jr])},[]),Hr=[].concat(ri,[qr]).reduce(function(g,c){return g.concat([c,c+"-"+zi,c+"-"+jr])},[]),_n="beforeRead",ir="read",hr="afterRead",Ji="beforeMain",ls="main",Fi="afterMain",js="beforeWrite",Yr="write",cs="afterWrite",Ss=[_n,ir,hr,Ji,ls,Fi,js,Yr,cs];function Gn(g){return g?(g.nodeName||"").toLowerCase():null}function mi(g){if(null==g)return window;if("[object Window]"!==g.toString()){var c=g.ownerDocument;return c&&c.defaultView||window}return g}function Zi(g){return g instanceof mi(g).Element||g instanceof Element}function Z(g){return g instanceof mi(g).HTMLElement||g instanceof HTMLElement}function J(g){return!(typeof ShadowRoot>"u")&&(g instanceof mi(g).ShadowRoot||g instanceof ShadowRoot)}const nt={name:"applyStyles",enabled:!0,phase:"write",fn:function Pe(g){var c=g.state;Object.keys(c.elements).forEach(function(l){var p=c.styles[l]||{},T=c.attributes[l]||{},k=c.elements[l];!Z(k)||!Gn(k)||(Object.assign(k.style,p),Object.keys(T).forEach(function(z){var re=T[z];!1===re?k.removeAttribute(z):k.setAttribute(z,!0===re?"":re)}))})},effect:function Ue(g){var c=g.state,l={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,l.popper),c.styles=l,c.elements.arrow&&Object.assign(c.elements.arrow.style,l.arrow),function(){Object.keys(c.elements).forEach(function(p){var T=c.elements[p],k=c.attributes[p]||{},re=Object.keys(c.styles.hasOwnProperty(p)?c.styles[p]:l[p]).reduce(function(pe,Ge){return pe[Ge]="",pe},{});!Z(T)||!Gn(T)||(Object.assign(T.style,re),Object.keys(k).forEach(function(pe){T.removeAttribute(pe)}))})}},requires:["computeStyles"]};function Et(g){return g.split("-")[0]}var Yt=Math.max,Dn=Math.min,gn=Math.round;function Xn(){var g=navigator.userAgentData;return null!=g&&g.brands&&Array.isArray(g.brands)?g.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function Dr(){return!/^((?!chrome|android).)*safari/i.test(Xn())}function Mn(g,c,l){void 0===c&&(c=!1),void 0===l&&(l=!1);var p=g.getBoundingClientRect(),T=1,k=1;c&&Z(g)&&(T=g.offsetWidth>0&&gn(p.width)/g.offsetWidth||1,k=g.offsetHeight>0&&gn(p.height)/g.offsetHeight||1);var re=(Zi(g)?mi(g):window).visualViewport,pe=!Dr()&&l,Ge=(p.left+(pe&&re?re.offsetLeft:0))/T,_t=(p.top+(pe&&re?re.offsetTop:0))/k,Ht=p.width/T,yn=p.height/k;return{width:Ht,height:yn,top:_t,right:Ge+Ht,bottom:_t+yn,left:Ge,x:Ge,y:_t}}function Vn(g){var c=Mn(g),l=g.offsetWidth,p=g.offsetHeight;return Math.abs(c.width-l)<=1&&(l=c.width),Math.abs(c.height-p)<=1&&(p=c.height),{x:g.offsetLeft,y:g.offsetTop,width:l,height:p}}function tr(g,c){var l=c.getRootNode&&c.getRootNode();if(g.contains(c))return!0;if(l&&J(l)){var p=c;do{if(p&&g.isSameNode(p))return!0;p=p.parentNode||p.host}while(p)}return!1}function kr(g){return mi(g).getComputedStyle(g)}function ii(g){return["table","td","th"].indexOf(Gn(g))>=0}function Xr(g){return((Zi(g)?g.ownerDocument:g.document)||window.document).documentElement}function Vi(g){return"html"===Gn(g)?g:g.assignedSlot||g.parentNode||(J(g)?g.host:null)||Xr(g)}function Ci(g){return Z(g)&&"fixed"!==kr(g).position?g.offsetParent:null}function Ti(g){for(var c=mi(g),l=Ci(g);l&&ii(l)&&"static"===kr(l).position;)l=Ci(l);return l&&("html"===Gn(l)||"body"===Gn(l)&&"static"===kr(l).position)?c:l||function Rr(g){var c=/firefox/i.test(Xn());if(/Trident/i.test(Xn())&&Z(g)&&"fixed"===kr(g).position)return null;var T=Vi(g);for(J(T)&&(T=T.host);Z(T)&&["html","body"].indexOf(Gn(T))<0;){var k=kr(T);if("none"!==k.transform||"none"!==k.perspective||"paint"===k.contain||-1!==["transform","perspective"].indexOf(k.willChange)||c&&"filter"===k.willChange||c&&k.filter&&"none"!==k.filter)return T;T=T.parentNode}return null}(g)||c}function Ii(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function Mr(g,c,l){return Yt(g,Dn(c,l))}function Xs(g){return Object.assign({},{top:0,right:0,bottom:0,left:0},g)}function no(g,c){return c.reduce(function(l,p){return l[p]=g,l},{})}const ec={name:"arrow",enabled:!0,phase:"main",fn:function nl(g){var c,l=g.state,p=g.name,T=g.options,k=l.elements.arrow,z=l.modifiersData.popperOffsets,re=Et(l.placement),pe=Ii(re),_t=[Qn,Pi].indexOf(re)>=0?"height":"width";if(k&&z){var Ht=function(c,l){return Xs("number"!=typeof(c="function"==typeof c?c(Object.assign({},l.rects,{placement:l.placement})):c)?c:no(c,ri))}(T.padding,l),yn=Vn(k),bn="y"===pe?bi:Qn,Tn="y"===pe?Bi:Pi,Qt=l.rects.reference[_t]+l.rects.reference[pe]-z[pe]-l.rects.popper[_t],En=z[pe]-l.rects.reference[pe],Cr=Ti(k),Fr=Cr?"y"===pe?Cr.clientHeight||0:Cr.clientWidth||0:0,$r=Fr/2-yn[_t]/2+(Qt/2-En/2),ui=Mr(Ht[bn],$r,Fr-yn[_t]-Ht[Tn]);l.modifiersData[p]=((c={})[pe]=ui,c.centerOffset=ui-$r,c)}},effect:function ia(g){var c=g.state,p=g.options.element,T=void 0===p?"[data-popper-arrow]":p;null!=T&&("string"==typeof T&&!(T=c.elements.popper.querySelector(T))||tr(c.elements.popper,T)&&(c.elements.arrow=T))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ds(g){return g.split("-")[1]}var Os={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ka(g){var c,l=g.popper,p=g.popperRect,T=g.placement,k=g.variation,z=g.offsets,re=g.position,pe=g.gpuAcceleration,Ge=g.adaptive,_t=g.roundOffsets,Ht=g.isFixed,yn=z.x,bn=void 0===yn?0:yn,Tn=z.y,Qt=void 0===Tn?0:Tn,En="function"==typeof _t?_t({x:bn,y:Qt}):{x:bn,y:Qt};bn=En.x,Qt=En.y;var Cr=z.hasOwnProperty("x"),Fr=z.hasOwnProperty("y"),vr=Qn,or=bi,pi=window;if(Ge){var $r=Ti(l),ui="clientHeight",rs="clientWidth";$r===mi(l)&&"static"!==kr($r=Xr(l)).position&&"absolute"===re&&(ui="scrollHeight",rs="scrollWidth"),(T===bi||(T===Qn||T===Pi)&&k===jr)&&(or=Bi,Qt-=(Ht&&$r===pi&&pi.visualViewport?pi.visualViewport.height:$r[ui])-p.height,Qt*=pe?1:-1),T!==Qn&&(T!==bi&&T!==Bi||k!==jr)||(vr=Pi,bn-=(Ht&&$r===pi&&pi.visualViewport?pi.visualViewport.width:$r[rs])-p.width,bn*=pe?1:-1)}var zs,Ao=Object.assign({position:re},Ge&&Os),co=!0===_t?function Po(g,c){var p=g.y,T=c.devicePixelRatio||1;return{x:gn(g.x*T)/T||0,y:gn(p*T)/T||0}}({x:bn,y:Qt},mi(l)):{x:bn,y:Qt};return bn=co.x,Qt=co.y,Object.assign({},Ao,pe?((zs={})[or]=Fr?"0":"",zs[vr]=Cr?"0":"",zs.transform=(pi.devicePixelRatio||1)<=1?"translate("+bn+"px, "+Qt+"px)":"translate3d("+bn+"px, "+Qt+"px, 0)",zs):((c={})[or]=Fr?Qt+"px":"",c[vr]=Cr?bn+"px":"",c.transform="",c))}const _i={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Fa(g){var c=g.state,l=g.options,p=l.gpuAcceleration,T=void 0===p||p,k=l.adaptive,z=void 0===k||k,re=l.roundOffsets,pe=void 0===re||re,Ge={placement:Et(c.placement),variation:ds(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:T,isFixed:"fixed"===c.options.strategy};null!=c.modifiersData.popperOffsets&&(c.styles.popper=Object.assign({},c.styles.popper,ka(Object.assign({},Ge,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:z,roundOffsets:pe})))),null!=c.modifiersData.arrow&&(c.styles.arrow=Object.assign({},c.styles.arrow,ka(Object.assign({},Ge,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:pe})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})},data:{}};var xo={passive:!0};const W={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function zo(g){var c=g.state,l=g.instance,p=g.options,T=p.scroll,k=void 0===T||T,z=p.resize,re=void 0===z||z,pe=mi(c.elements.popper),Ge=[].concat(c.scrollParents.reference,c.scrollParents.popper);return k&&Ge.forEach(function(_t){_t.addEventListener("scroll",l.update,xo)}),re&&pe.addEventListener("resize",l.update,xo),function(){k&&Ge.forEach(function(_t){_t.removeEventListener("scroll",l.update,xo)}),re&&pe.removeEventListener("resize",l.update,xo)}},data:{}};var ee={left:"right",right:"left",bottom:"top",top:"bottom"};function U(g){return g.replace(/left|right|bottom|top/g,function(c){return ee[c]})}var ce={start:"end",end:"start"};function $e(g){return g.replace(/start|end/g,function(c){return ce[c]})}function mn(g){var c=mi(g);return{scrollLeft:c.pageXOffset,scrollTop:c.pageYOffset}}function nr(g){return Mn(Xr(g)).left+mn(g).scrollLeft}function es(g){var c=kr(g);return/auto|scroll|overlay|hidden/.test(c.overflow+c.overflowY+c.overflowX)}function ho(g){return["html","body","#document"].indexOf(Gn(g))>=0?g.ownerDocument.body:Z(g)&&es(g)?g:ho(Vi(g))}function Rs(g,c){var l;void 0===c&&(c=[]);var p=ho(g),T=p===(null==(l=g.ownerDocument)?void 0:l.body),k=mi(p),z=T?[k].concat(k.visualViewport||[],es(p)?p:[]):p,re=c.concat(z);return T?re:re.concat(Rs(Vi(z)))}function ts(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function tc(g,c,l){return c===Ys?ts(function Cs(g,c){var l=mi(g),p=Xr(g),T=l.visualViewport,k=p.clientWidth,z=p.clientHeight,re=0,pe=0;if(T){k=T.width,z=T.height;var Ge=Dr();(Ge||!Ge&&"fixed"===c)&&(re=T.offsetLeft,pe=T.offsetTop)}return{width:k,height:z,x:re+nr(g),y:pe}}(g,l)):Zi(c)?function Wo(g,c){var l=Mn(g,!1,"fixed"===c);return l.top=l.top+g.clientTop,l.left=l.left+g.clientLeft,l.bottom=l.top+g.clientHeight,l.right=l.left+g.clientWidth,l.width=g.clientWidth,l.height=g.clientHeight,l.x=l.left,l.y=l.top,l}(c,l):ts(function Qs(g){var c,l=Xr(g),p=mn(g),T=null==(c=g.ownerDocument)?void 0:c.body,k=Yt(l.scrollWidth,l.clientWidth,T?T.scrollWidth:0,T?T.clientWidth:0),z=Yt(l.scrollHeight,l.clientHeight,T?T.scrollHeight:0,T?T.clientHeight:0),re=-p.scrollLeft+nr(g),pe=-p.scrollTop;return"rtl"===kr(T||l).direction&&(re+=Yt(l.clientWidth,T?T.clientWidth:0)-k),{width:k,height:z,x:re,y:pe}}(Xr(g)))}function Wi(g){var pe,c=g.reference,l=g.element,p=g.placement,T=p?Et(p):null,k=p?ds(p):null,z=c.x+c.width/2-l.width/2,re=c.y+c.height/2-l.height/2;switch(T){case bi:pe={x:z,y:c.y-l.height};break;case Bi:pe={x:z,y:c.y+c.height};break;case Pi:pe={x:c.x+c.width,y:re};break;case Qn:pe={x:c.x-l.width,y:re};break;default:pe={x:c.x,y:c.y}}var Ge=T?Ii(T):null;if(null!=Ge){var _t="y"===Ge?"height":"width";switch(k){case zi:pe[Ge]=pe[Ge]-(c[_t]/2-l[_t]/2);break;case jr:pe[Ge]=pe[Ge]+(c[_t]/2-l[_t]/2)}}return pe}function sa(g,c){void 0===c&&(c={});var p=c.placement,T=void 0===p?g.placement:p,k=c.strategy,z=void 0===k?g.strategy:k,re=c.boundary,pe=void 0===re?as:re,Ge=c.rootBoundary,_t=void 0===Ge?Ys:Ge,Ht=c.elementContext,yn=void 0===Ht?ki:Ht,bn=c.altBoundary,Tn=void 0!==bn&&bn,Qt=c.padding,En=void 0===Qt?0:Qt,Cr=Xs("number"!=typeof En?En:no(En,ri)),vr=g.rects.popper,or=g.elements[Tn?yn===ki?Ts:ki:yn],pi=function Ea(g,c,l,p){var T="clippingParents"===c?function Ps(g){var c=Rs(Vi(g)),p=["absolute","fixed"].indexOf(kr(g).position)>=0&&Z(g)?Ti(g):g;return Zi(p)?c.filter(function(T){return Zi(T)&&tr(T,p)&&"body"!==Gn(T)}):[]}(g):[].concat(c),k=[].concat(T,[l]),re=k.reduce(function(pe,Ge){var _t=tc(g,Ge,p);return pe.top=Yt(_t.top,pe.top),pe.right=Dn(_t.right,pe.right),pe.bottom=Dn(_t.bottom,pe.bottom),pe.left=Yt(_t.left,pe.left),pe},tc(g,k[0],p));return re.width=re.right-re.left,re.height=re.bottom-re.top,re.x=re.left,re.y=re.top,re}(Zi(or)?or:or.contextElement||Xr(g.elements.popper),pe,_t,z),$r=Mn(g.elements.reference),ui=Wi({reference:$r,element:vr,strategy:"absolute",placement:T}),rs=ts(Object.assign({},vr,ui)),gs=yn===ki?rs:$r,is={top:pi.top-gs.top+Cr.top,bottom:gs.bottom-pi.bottom+Cr.bottom,left:pi.left-gs.left+Cr.left,right:gs.right-pi.right+Cr.right},Ao=g.modifiersData.offset;if(yn===ki&&Ao){var co=Ao[T];Object.keys(is).forEach(function(zs){var wu=[Pi,Bi].indexOf(zs)>=0?1:-1,Au=[bi,Bi].indexOf(zs)>=0?"y":"x";is[zs]+=co[Au]*wu})}return is}const oa={name:"flip",enabled:!0,phase:"main",fn:function fo(g){var c=g.state,l=g.options,p=g.name;if(!c.modifiersData[p]._skip){for(var T=l.mainAxis,k=void 0===T||T,z=l.altAxis,re=void 0===z||z,pe=l.fallbackPlacements,Ge=l.padding,_t=l.boundary,Ht=l.rootBoundary,yn=l.altBoundary,bn=l.flipVariations,Tn=void 0===bn||bn,Qt=l.allowedAutoPlacements,En=c.options.placement,Cr=Et(En),vr=pe||(Cr!==En&&Tn?function rl(g){if(Et(g)===qr)return[];var c=U(g);return[$e(g),c,$e(c)]}(En):[U(En)]),or=[En].concat(vr).reduce(function(Xi,Lc){return Xi.concat(Et(Lc)===qr?function ms(g,c){void 0===c&&(c={});var T=c.boundary,k=c.rootBoundary,z=c.padding,re=c.flipVariations,pe=c.allowedAutoPlacements,Ge=void 0===pe?Hr:pe,_t=ds(c.placement),Ht=_t?re?Ds:Ds.filter(function(Tn){return ds(Tn)===_t}):ri,yn=Ht.filter(function(Tn){return Ge.indexOf(Tn)>=0});0===yn.length&&(yn=Ht);var bn=yn.reduce(function(Tn,Qt){return Tn[Qt]=sa(g,{placement:Qt,boundary:T,rootBoundary:k,padding:z})[Et(Qt)],Tn},{});return Object.keys(bn).sort(function(Tn,Qt){return bn[Tn]-bn[Qt]})}(c,{placement:Lc,boundary:_t,rootBoundary:Ht,padding:Ge,flipVariations:Tn,allowedAutoPlacements:Qt}):Lc)},[]),pi=c.rects.reference,$r=c.rects.popper,ui=new Map,rs=!0,gs=or[0],is=0;is<or.length;is++){var Ao=or[is],co=Et(Ao),zs=ds(Ao)===zi,wu=[bi,Bi].indexOf(co)>=0,Au=wu?"width":"height",Pn=sa(c,{placement:Ao,boundary:_t,rootBoundary:Ht,altBoundary:yn,padding:Ge}),qn=wu?zs?Pi:Qn:zs?Bi:bi;pi[Au]>$r[Au]&&(qn=U(qn));var gr=U(qn),Zr=[];if(k&&Zr.push(Pn[co]<=0),re&&Zr.push(Pn[qn]<=0,Pn[gr]<=0),Zr.every(function(Xi){return Xi})){gs=Ao,rs=!1;break}ui.set(Ao,Zr)}if(rs)for(var $o=function(Lc){var Gh=or.find(function(to){var _a=ui.get(to);if(_a)return _a.slice(0,Lc).every(function(ya){return ya})});if(Gh)return gs=Gh,"break"},Ks=Tn?3:1;Ks>0&&"break"!==$o(Ks);Ks--);c.placement!==gs&&(c.modifiersData[p]._skip=!0,c.placement=gs,c.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Is(g,c,l){return void 0===l&&(l={x:0,y:0}),{top:g.top-c.height-l.y,right:g.right-c.width+l.x,bottom:g.bottom-c.height+l.y,left:g.left-c.width-l.x}}function ba(g){return[bi,Pi,Bi,Qn].some(function(c){return g[c]>=0})}const Sl={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function La(g){var c=g.state,l=g.name,p=c.rects.reference,T=c.rects.popper,k=c.modifiersData.preventOverflow,z=sa(c,{elementContext:"reference"}),re=sa(c,{altBoundary:!0}),pe=Is(z,p),Ge=Is(re,T,k),_t=ba(pe),Ht=ba(Ge);c.modifiersData[l]={referenceClippingOffsets:pe,popperEscapeOffsets:Ge,isReferenceHidden:_t,hasPopperEscaped:Ht},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":_t,"data-popper-escaped":Ht})}},Rl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function mr(g){var c=g.state,p=g.name,T=g.options.offset,k=void 0===T?[0,0]:T,z=Hr.reduce(function(_t,Ht){return _t[Ht]=function Du(g,c,l){var p=Et(g),T=[Qn,bi].indexOf(p)>=0?-1:1,k="function"==typeof l?l(Object.assign({},c,{placement:g})):l,z=k[0],re=k[1];return z=z||0,re=(re||0)*T,[Qn,Pi].indexOf(p)>=0?{x:re,y:z}:{x:z,y:re}}(Ht,c.rects,k),_t},{}),re=z[c.placement],Ge=re.y;null!=c.modifiersData.popperOffsets&&(c.modifiersData.popperOffsets.x+=re.x,c.modifiersData.popperOffsets.y+=Ge),c.modifiersData[p]=z}},yo={name:"popperOffsets",enabled:!0,phase:"read",fn:function _o(g){var c=g.state;c.modifiersData[g.name]=Wi({reference:c.rects.reference,element:c.rects.popper,strategy:"absolute",placement:c.placement})},data:{}},sl={name:"preventOverflow",enabled:!0,phase:"main",fn:function Su(g){var c=g.state,l=g.options,p=g.name,T=l.mainAxis,k=void 0===T||T,z=l.altAxis,re=void 0!==z&&z,yn=l.tether,bn=void 0===yn||yn,Tn=l.tetherOffset,Qt=void 0===Tn?0:Tn,En=sa(c,{boundary:l.boundary,rootBoundary:l.rootBoundary,padding:l.padding,altBoundary:l.altBoundary}),Cr=Et(c.placement),Fr=ds(c.placement),vr=!Fr,or=Ii(Cr),pi=function il(g){return"x"===g?"y":"x"}(or),$r=c.modifiersData.popperOffsets,ui=c.rects.reference,rs=c.rects.popper,gs="function"==typeof Qt?Qt(Object.assign({},c.rects,{placement:c.placement})):Qt,is="number"==typeof gs?{mainAxis:gs,altAxis:gs}:Object.assign({mainAxis:0,altAxis:0},gs),Ao=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,co={x:0,y:0};if($r){if(k){var zs,wu="y"===or?bi:Qn,Au="y"===or?Bi:Pi,Pn="y"===or?"height":"width",qn=$r[or],gr=qn+En[wu],Zr=qn-En[Au],Ws=bn?-rs[Pn]/2:0,$o=Fr===zi?ui[Pn]:rs[Pn],Ks=Fr===zi?-rs[Pn]:-ui[Pn],Al=c.elements.arrow,Xi=bn&&Al?Vn(Al):{width:0,height:0},Lc=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Gh=Lc[wu],to=Lc[Au],_a=Mr(0,ui[Pn],Xi[Pn]),ya=vr?ui[Pn]/2-Ws-_a-Gh-is.mainAxis:$o-_a-Gh-is.mainAxis,Kf=vr?-ui[Pn]/2+Ws+_a+to+is.mainAxis:Ks+_a+to+is.mainAxis,qf=c.elements.arrow&&Ti(c.elements.arrow),db=qf?"y"===or?qf.clientTop||0:qf.clientLeft||0:0,hb=null!=(zs=Ao?.[or])?zs:0,iT=qn+Kf-hb,fb=Mr(bn?Dn(gr,qn+ya-hb-db):gr,qn,bn?Yt(Zr,iT):Zr);$r[or]=fb,co[or]=fb-qn}if(re){var Zv,Yf=$r[pi],Xm="y"===pi?"height":"width",Cg=Yf+En["x"===or?bi:Qn],m0=Yf-En["x"===or?Bi:Pi],eE=-1!==[bi,Qn].indexOf(Cr),_0=null!=(Zv=Ao?.[pi])?Zv:0,y0=eE?Cg:Yf-ui[Xm]-rs[Xm]-_0+is.altAxis,gb=eE?Yf+ui[Xm]+rs[Xm]-_0-is.altAxis:m0,v0=bn&&eE?function Ho(g,c,l){var p=Mr(g,c,l);return p>l?l:p}(y0,Yf,gb):Mr(bn?y0:Cg,Yf,bn?gb:m0);$r[pi]=v0,co[pi]=v0-Yf}c.modifiersData[p]=co}},requiresIfExists:["offset"]};function Pl(g,c,l){void 0===l&&(l=!1);var p=Z(c),T=Z(c)&&function Ru(g){var c=g.getBoundingClientRect(),l=gn(c.width)/g.offsetWidth||1,p=gn(c.height)/g.offsetHeight||1;return 1!==l||1!==p}(c),k=Xr(c),z=Mn(g,T,l),re={scrollLeft:0,scrollTop:0},pe={x:0,y:0};return(p||!p&&!l)&&(("body"!==Gn(c)||es(k))&&(re=function ol(g){return g!==mi(g)&&Z(g)?function Hh(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTop}}(g):mn(g)}(c)),Z(c)?((pe=Mn(c,!0)).x+=c.clientLeft,pe.y+=c.clientTop):k&&(pe.x=nr(k))),{x:z.left+re.scrollLeft-pe.x,y:z.top+re.scrollTop-pe.y,width:z.width,height:z.height}}function Ko(g){var c=new Map,l=new Set,p=[];function T(k){l.add(k.name),[].concat(k.requires||[],k.requiresIfExists||[]).forEach(function(re){if(!l.has(re)){var pe=c.get(re);pe&&T(pe)}}),p.push(k)}return g.forEach(function(k){c.set(k.name,k)}),g.forEach(function(k){l.has(k.name)||T(k)}),p}function Va(g){var c;return function(){return c||(c=new Promise(function(l){Promise.resolve().then(function(){c=void 0,l(g())})})),c}}var Ua={placement:"bottom",modifiers:[],strategy:"absolute"};function ja(){for(var g=arguments.length,c=new Array(g),l=0;l<g;l++)c[l]=arguments[l];return!c.some(function(p){return!(p&&"function"==typeof p.getBoundingClientRect)})}function ll(g){void 0===g&&(g={});var l=g.defaultModifiers,p=void 0===l?[]:l,T=g.defaultOptions,k=void 0===T?Ua:T;return function(re,pe,Ge){void 0===Ge&&(Ge=k);var _t={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ua,k),modifiersData:{},elements:{reference:re,popper:pe},attributes:{},styles:{}},Ht=[],yn=!1,bn={state:_t,setOptions:function(Cr){var Fr="function"==typeof Cr?Cr(_t.options):Cr;Qt(),_t.options=Object.assign({},k,_t.options,Fr),_t.scrollParents={reference:Zi(re)?Rs(re):re.contextElement?Rs(re.contextElement):[],popper:Rs(pe)};var vr=function nc(g){var c=Ko(g);return Ss.reduce(function(l,p){return l.concat(c.filter(function(T){return T.phase===p}))},[])}(function al(g){var c=g.reduce(function(l,p){var T=l[p.name];return l[p.name]=T?Object.assign({},T,p,{options:Object.assign({},T.options,p.options),data:Object.assign({},T.data,p.data)}):p,l},{});return Object.keys(c).map(function(l){return c[l]})}([].concat(p,_t.options.modifiers)));return _t.orderedModifiers=vr.filter(function(or){return or.enabled}),function Tn(){_t.orderedModifiers.forEach(function(En){var Fr=En.options,or=En.effect;if("function"==typeof or){var pi=or({state:_t,name:En.name,instance:bn,options:void 0===Fr?{}:Fr});Ht.push(pi||function(){})}})}(),bn.update()},forceUpdate:function(){if(!yn){var Cr=_t.elements,Fr=Cr.reference,vr=Cr.popper;if(ja(Fr,vr)){_t.rects={reference:Pl(Fr,Ti(vr),"fixed"===_t.options.strategy),popper:Vn(vr)},_t.reset=!1,_t.placement=_t.options.placement,_t.orderedModifiers.forEach(function(is){return _t.modifiersData[is.name]=Object.assign({},is.data)});for(var or=0;or<_t.orderedModifiers.length;or++)if(!0!==_t.reset){var pi=_t.orderedModifiers[or],$r=pi.fn,ui=pi.options;"function"==typeof $r&&(_t=$r({state:_t,options:void 0===ui?{}:ui,name:pi.name,instance:bn})||_t)}else _t.reset=!1,or=-1}}},update:Va(function(){return new Promise(function(En){bn.forceUpdate(),En(_t)})}),destroy:function(){Qt(),yn=!0}};if(!ja(re,pe))return bn;function Qt(){Ht.forEach(function(En){return En()}),Ht=[]}return bn.setOptions(Ge).then(function(En){!yn&&Ge.onFirstUpdate&&Ge.onFirstUpdate(En)}),bn}}var P=ll(),B=ll({defaultModifiers:[W,yo,_i,nt,Rl,oa,sl,ec,Sl]}),Oe=ll({defaultModifiers:[W,yo,_i,nt]});const wt=new Map,Ut={set(g,c,l){wt.has(g)||wt.set(g,new Map);const p=wt.get(g);p.has(c)||0===p.size?p.set(c,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(p.keys())[0]}.`)},get:(g,c)=>wt.has(g)&&wt.get(g).get(c)||null,remove(g,c){if(!wt.has(g))return;const l=wt.get(g);l.delete(c),0===l.size&&wt.delete(g)}},si="transitionend",Qr=g=>(g&&window.CSS&&window.CSS.escape&&(g=g.replace(/#([^\s"#']+)/g,(c,l)=>`#${CSS.escape(l)}`)),g),Ai=g=>{g.dispatchEvent(new Event(si))},hs=g=>!(!g||"object"!=typeof g)&&(typeof g.jquery<"u"&&(g=g[0]),typeof g.nodeType<"u"),$i=g=>hs(g)?g.jquery?g[0]:g:"string"==typeof g&&g.length>0?document.querySelector(Qr(g)):null,ro=g=>{if(!hs(g)||0===g.getClientRects().length)return!1;const c="visible"===getComputedStyle(g).getPropertyValue("visibility"),l=g.closest("details:not([open])");if(!l)return c;if(l!==g){const p=g.closest("summary");if(p&&p.parentNode!==l||null===p)return!1}return c},Ki=g=>!(g&&g.nodeType===Node.ELEMENT_NODE&&!g.classList.contains("disabled"))||(typeof g.disabled<"u"?g.disabled:g.hasAttribute("disabled")&&"false"!==g.getAttribute("disabled")),Mo=g=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof g.getRootNode){const c=g.getRootNode();return c instanceof ShadowRoot?c:null}return g instanceof ShadowRoot?g:g.parentNode?Mo(g.parentNode):null},ns=()=>{},Cd=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Tr=[],Bs=()=>"rtl"===document.documentElement.dir,Ui=g=>{(g=>{"loading"===document.readyState?(Tr.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of Tr)c()}),Tr.push(g)):g()})(()=>{const c=Cd();if(c){const l=g.NAME,p=c.fn[l];c.fn[l]=g.jQueryInterface,c.fn[l].Constructor=g,c.fn[l].noConflict=()=>(c.fn[l]=p,g.jQueryInterface)}})},Zs=(g,c=[],l=g)=>"function"==typeof g?g(...c):l,Pu=(g,c,l=!0)=>{if(!l)return void Zs(g);const T=(g=>{if(!g)return 0;let{transitionDuration:c,transitionDelay:l}=window.getComputedStyle(g);const p=Number.parseFloat(c),T=Number.parseFloat(l);return p||T?(c=c.split(",")[0],l=l.split(",")[0],1e3*(Number.parseFloat(c)+Number.parseFloat(l))):0})(c)+5;let k=!1;const z=({target:re})=>{re===c&&(k=!0,c.removeEventListener(si,z),Zs(g))};c.addEventListener(si,z),setTimeout(()=>{k||Ai(c)},T)},cl=(g,c,l,p)=>{const T=g.length;let k=g.indexOf(c);return-1===k?!l&&p?g[T-1]:g[0]:(k+=l?1:-1,p&&(k=(k+T)%T),g[Math.max(0,Math.min(k,T-1))])},Gi=/[^.]*(?=\..*)\.|.*/,zh=/\..*/,xu=/::\d+$/,Oo={};let ws=1;const Ta={mouseenter:"mouseover",mouseleave:"mouseout"},rc=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Mu(g,c){return c&&`${c}::${ws++}`||g.uidEvent||ws++}function Ou(g){const c=Mu(g);return g.uidEvent=c,Oo[c]=Oo[c]||{},Oo[c]}function lr(g,c,l=null){return Object.values(g).find(p=>p.callable===c&&p.delegationSelector===l)}function ic(g,c,l){const p="string"==typeof c,T=p?l:c||l;let k=wd(g);return rc.has(k)||(k=g),[p,T,k]}function Vc(g,c,l,p,T){if("string"!=typeof c||!g)return;let[k,z,re]=ic(c,l,p);var Tn;c in Ta&&(Tn=z,z=function(Qt){if(!Qt.relatedTarget||Qt.relatedTarget!==Qt.delegateTarget&&!Qt.delegateTarget.contains(Qt.relatedTarget))return Tn.call(this,Qt)});const pe=Ou(g),Ge=pe[re]||(pe[re]={}),_t=lr(Ge,z,k?l:null);if(_t)return void(_t.oneOff=_t.oneOff&&T);const Ht=Mu(z,c.replace(Gi,"")),yn=k?function Nu(g,c,l){return function p(T){const k=g.querySelectorAll(c);for(let{target:z}=T;z&&z!==this;z=z.parentNode)for(const re of k)if(re===z)return No(T,{delegateTarget:z}),p.oneOff&&nn.off(g,T.type,c,l),l.apply(z,[T])}}(g,l,z):function Id(g,c){return function l(p){return No(p,{delegateTarget:g}),l.oneOff&&nn.off(g,p.type,c),c.apply(g,[p])}}(g,z);yn.delegationSelector=k?l:null,yn.callable=z,yn.oneOff=T,yn.uidEvent=Ht,Ge[Ht]=yn,g.addEventListener(re,yn,k)}function qo(g,c,l,p,T){const k=lr(c[l],p,T);k&&(g.removeEventListener(l,k,!!T),delete c[l][k.uidEvent])}function Uc(g,c,l,p){const T=c[l]||{};for(const[k,z]of Object.entries(T))k.includes(p)&&qo(g,c,l,z.callable,z.delegationSelector)}function wd(g){return g=g.replace(zh,""),Ta[g]||g}const nn={on(g,c,l,p){Vc(g,c,l,p,!1)},one(g,c,l,p){Vc(g,c,l,p,!0)},off(g,c,l,p){if("string"!=typeof c||!g)return;const[T,k,z]=ic(c,l,p),re=z!==c,pe=Ou(g),Ge=pe[z]||{},_t=c.startsWith(".");if(typeof k<"u"){if(!Object.keys(Ge).length)return;qo(g,pe,z,k,T?l:null)}else{if(_t)for(const Ht of Object.keys(pe))Uc(g,pe,Ht,c.slice(1));for(const[Ht,yn]of Object.entries(Ge)){const bn=Ht.replace(xu,"");(!re||c.includes(bn))&&qo(g,pe,z,yn.callable,yn.delegationSelector)}}},trigger(g,c,l){if("string"!=typeof c||!g)return null;const p=Cd();let z=null,re=!0,pe=!0,Ge=!1;c!==wd(c)&&p&&(z=p.Event(c,l),p(g).trigger(z),re=!z.isPropagationStopped(),pe=!z.isImmediatePropagationStopped(),Ge=z.isDefaultPrevented());const _t=No(new Event(c,{bubbles:re,cancelable:!0}),l);return Ge&&_t.preventDefault(),pe&&g.dispatchEvent(_t),_t.defaultPrevented&&z&&z.preventDefault(),_t}};function No(g,c={}){for(const[l,p]of Object.entries(c))try{g[l]=p}catch{Object.defineProperty(g,l,{configurable:!0,get:()=>p})}return g}function ku(g){if("true"===g)return!0;if("false"===g)return!1;if(g===Number(g).toString())return Number(g);if(""===g||"null"===g)return null;if("string"!=typeof g)return g;try{return JSON.parse(decodeURIComponent(g))}catch{return g}}function sc(g){return g.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const Di={setDataAttribute(g,c,l){g.setAttribute(`data-bs-${sc(c)}`,l)},removeDataAttribute(g,c){g.removeAttribute(`data-bs-${sc(c)}`)},getDataAttributes(g){if(!g)return{};const c={},l=Object.keys(g.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(const p of l){let T=p.replace(/^bs/,"");T=T.charAt(0).toLowerCase()+T.slice(1,T.length),c[T]=ku(g.dataset[p])}return c},getDataAttribute:(g,c)=>ku(g.getAttribute(`data-bs-${sc(c)}`))};class Ca{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,l){const p=hs(l)?Di.getDataAttribute(l,"config"):{};return{...this.constructor.Default,..."object"==typeof p?p:{},...hs(l)?Di.getDataAttributes(l):{},..."object"==typeof c?c:{}}}_typeCheckConfig(c,l=this.constructor.DefaultType){for(const[p,T]of Object.entries(l)){const k=c[p],z=hs(k)?"element":null==(g=k)?`${g}`:Object.prototype.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(T).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${p}" provided type "${z}" but expected type "${T}".`)}var g}}class Gt extends Ca{constructor(c,l){super(),(c=$i(c))&&(this._element=c,this._config=this._getConfig(l),Ut.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ut.remove(this._element,this.constructor.DATA_KEY),nn.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,l,p=!0){Pu(c,l,p)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return Ut.get($i(c),this.DATA_KEY)}static getOrCreateInstance(c,l={}){return this.getInstance(c)||new this(c,"object"==typeof l?l:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const wr=g=>{let c=g.getAttribute("data-bs-target");if(!c||"#"===c){let l=g.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),c=l&&"#"!==l?l.trim():null}return c?c.split(",").map(l=>Qr(l)).join(","):null},zn={find:(g,c=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(c,g)),findOne:(g,c=document.documentElement)=>Element.prototype.querySelector.call(c,g),children:(g,c)=>[].concat(...g.children).filter(l=>l.matches(c)),parents(g,c){const l=[];let p=g.parentNode.closest(c);for(;p;)l.push(p),p=p.parentNode.closest(c);return l},prev(g,c){let l=g.previousElementSibling;for(;l;){if(l.matches(c))return[l];l=l.previousElementSibling}return[]},next(g,c){let l=g.nextElementSibling;for(;l;){if(l.matches(c))return[l];l=l.nextElementSibling}return[]},focusableChildren(g){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(c,g).filter(l=>!Ki(l)&&ro(l))},getSelectorFromElement(g){const c=wr(g);return c&&zn.findOne(c)?c:null},getElementFromSelector(g){const c=wr(g);return c?zn.findOne(c):null},getMultipleElementsFromSelector(g){const c=wr(g);return c?zn.find(c):[]}},qi=(g,c="hide")=>{const p=g.NAME;nn.on(document,`click.dismiss${g.EVENT_KEY}`,`[data-bs-dismiss="${p}"]`,function(T){if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),Ki(this))return;const k=zn.getElementFromSelector(this)||this.closest(`.${p}`);g.getOrCreateInstance(k)[c]()})},ul=".bs.alert",ko=`close${ul}`,oc=`closed${ul}`;class dl extends Gt{static get NAME(){return"alert"}close(){if(nn.trigger(this._element,ko).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),nn.trigger(this._element,oc),this.dispose()}static jQueryInterface(c){return this.each(function(){const l=dl.getOrCreateInstance(this);if("string"==typeof c){if(void 0===l[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);l[c](this)}})}}qi(dl,"close"),Ui(dl);const go='[data-bs-toggle="button"]';class pl extends Gt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(c){return this.each(function(){const l=pl.getOrCreateInstance(this);"toggle"===c&&l[c]()})}}nn.on(document,"click.bs.button.data-api",go,g=>{g.preventDefault();const c=g.target.closest(go);pl.getOrCreateInstance(c).toggle()}),Ui(pl);const gl=".bs.swipe",Vu=`touchstart${gl}`,Ia=`touchmove${gl}`,xl=`touchend${gl}`,D=`pointerdown${gl}`,O=`pointerup${gl}`,Me={endCallback:null,leftCallback:null,rightCallback:null},Dt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class bt extends Ca{constructor(c,l){super(),this._element=c,c&&bt.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Me}static get DefaultType(){return Dt}static get NAME(){return"swipe"}dispose(){nn.off(this._element,gl)}_start(c){this._supportPointerEvents?this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX):this._deltaX=c.touches[0].clientX}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),Zs(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=40)return;const l=c/this._deltaX;this._deltaX=0,l&&Zs(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(nn.on(this._element,D,c=>this._start(c)),nn.on(this._element,O,c=>this._end(c)),this._element.classList.add("pointer-event")):(nn.on(this._element,Vu,c=>this._start(c)),nn.on(this._element,Ia,c=>this._move(c)),nn.on(this._element,xl,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&("pen"===c.pointerType||"touch"===c.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const sr=".bs.carousel",Or=".data-api",wa="next",Yo="prev",$a="left",Bc="right",_l=`slide${sr}`,Fo=`slid${sr}`,Wh=`keydown${sr}`,Ga=`mouseenter${sr}`,$c=`mouseleave${sr}`,Uu=`dragstart${sr}`,ju=`load${sr}${Or}`,Bu=`click${sr}${Or}`,$u="carousel",Ol="active",wg=".active",Rd=".carousel-item",Gu=wg+Rd,Pd={ArrowLeft:Bc,ArrowRight:$a},ac={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},zu={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Xo extends Gt{constructor(c,l){super(c,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=zn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===$u&&this.cycle()}static get Default(){return ac}static get DefaultType(){return zu}static get NAME(){return"carousel"}next(){this._slide(wa)}nextWhenVisible(){!document.hidden&&ro(this._element)&&this.next()}prev(){this._slide(Yo)}pause(){this._isSliding&&Ai(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void nn.one(this._element,Fo,()=>this.cycle());this.cycle()}}to(c){const l=this._getItems();if(c>l.length-1||c<0)return;if(this._isSliding)return void nn.one(this._element,Fo,()=>this.to(c));const p=this._getItemIndex(this._getActive());p!==c&&this._slide(c>p?wa:Yo,l[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&nn.on(this._element,Wh,c=>this._keydown(c)),"hover"===this._config.pause&&(nn.on(this._element,Ga,()=>this.pause()),nn.on(this._element,$c,()=>this._maybeEnableCycle())),this._config.touch&&bt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of zn.find(".carousel-item img",this._element))nn.on(p,Uu,T=>T.preventDefault());this._swipeHelper=new bt(this._element,{leftCallback:()=>this._slide(this._directionToOrder($a)),rightCallback:()=>this._slide(this._directionToOrder(Bc)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const l=Pd[c.key];l&&(c.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const l=zn.findOne(wg,this._indicatorsElement);l.classList.remove(Ol),l.removeAttribute("aria-current");const p=zn.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);p&&(p.classList.add(Ol),p.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const l=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(c,l=null){if(this._isSliding)return;const p=this._getActive(),T=c===wa,k=l||cl(this._getItems(),p,T,this._config.wrap);if(k===p)return;const z=this._getItemIndex(k),re=bn=>nn.trigger(this._element,bn,{relatedTarget:k,direction:this._orderToDirection(c),from:this._getItemIndex(p),to:z});if(re(_l).defaultPrevented||!p||!k)return;const Ge=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=k;const _t=T?"carousel-item-start":"carousel-item-end",Ht=T?"carousel-item-next":"carousel-item-prev";k.classList.add(Ht),p.classList.add(_t),k.classList.add(_t),this._queueCallback(()=>{k.classList.remove(_t,Ht),k.classList.add(Ol),p.classList.remove(Ol,Ht,_t),this._isSliding=!1,re(Fo)},p,this._isAnimated()),Ge&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return zn.findOne(Gu,this._element)}_getItems(){return zn.find(Rd,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return Bs()?c===$a?Yo:wa:c===$a?wa:Yo}_orderToDirection(c){return Bs()?c===Yo?$a:Bc:c===Yo?Bc:$a}static jQueryInterface(c){return this.each(function(){const l=Xo.getOrCreateInstance(this,c);if("number"!=typeof c){if("string"==typeof c){if(void 0===l[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);l[c]()}}else l.to(c)})}}nn.on(document,Bu,"[data-bs-slide], [data-bs-slide-to]",function(g){const c=zn.getElementFromSelector(this);if(!c||!c.classList.contains($u))return;g.preventDefault();const l=Xo.getOrCreateInstance(c),p=this.getAttribute("data-bs-slide-to");return p?(l.to(p),void l._maybeEnableCycle()):"next"===Di.getDataAttribute(this,"slide")?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),nn.on(window,ju,()=>{const g=zn.find('[data-bs-ride="carousel"]');for(const c of g)Xo.getOrCreateInstance(c)}),Ui(Xo);const vo=".bs.collapse",Eo=`show${vo}`,xd=`shown${vo}`,lc=`hide${vo}`,Ns=`hidden${vo}`,qh=`click${vo}.data-api`,Ha="show",la="collapse",Gc="collapsing",cc=`:scope .${la} .${la}`,za='[data-bs-toggle="collapse"]',Ll={parent:null,toggle:!0},qu={parent:"(null|element)",toggle:"boolean"};class Hc extends Gt{constructor(c,l){super(c,l),this._isTransitioning=!1,this._triggerArray=[];const p=zn.find(za);for(const T of p){const k=zn.getSelectorFromElement(T),z=zn.find(k).filter(re=>re===this._element);null!==k&&z.length&&this._triggerArray.push(T)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ll}static get DefaultType(){return qu}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(re=>re!==this._element).map(re=>Hc.getOrCreateInstance(re,{toggle:!1}))),c.length&&c[0]._isTransitioning||nn.trigger(this._element,Eo).defaultPrevented)return;for(const re of c)re.hide();const p=this._getDimension();this._element.classList.remove(la),this._element.classList.add(Gc),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const z=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gc),this._element.classList.add(la,Ha),this._element.style[p]="",nn.trigger(this._element,xd)},this._element,!0),this._element.style[p]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||nn.trigger(this._element,lc).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,this._element.classList.add(Gc),this._element.classList.remove(la,Ha);for(const T of this._triggerArray){const k=zn.getElementFromSelector(T);k&&!this._isShown(k)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gc),this._element.classList.add(la),nn.trigger(this._element,Ns)},this._element,!0)}_isShown(c=this._element){return c.classList.contains(Ha)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=$i(c.parent),c}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(za);for(const l of c){const p=zn.getElementFromSelector(l);p&&this._addAriaAndCollapsedClass([l],this._isShown(p))}}_getFirstLevelChildren(c){const l=zn.find(cc,this._config.parent);return zn.find(c,this._config.parent).filter(p=>!l.includes(p))}_addAriaAndCollapsedClass(c,l){if(c.length)for(const p of c)p.classList.toggle("collapsed",!l),p.setAttribute("aria-expanded",l)}static jQueryInterface(c){const l={};return"string"==typeof c&&/show|hide/.test(c)&&(l.toggle=!1),this.each(function(){const p=Hc.getOrCreateInstance(this,l);if("string"==typeof c){if(typeof p[c]>"u")throw new TypeError(`No method named "${c}"`);p[c]()}})}}nn.on(document,qh,za,function(g){("A"===g.target.tagName||g.delegateTarget&&"A"===g.delegateTarget.tagName)&&g.preventDefault();for(const c of zn.getMultipleElementsFromSelector(this))Hc.getOrCreateInstance(c,{toggle:!1}).toggle()}),Ui(Hc);const vl="dropdown",fs=".bs.dropdown",Md=".data-api",rp="ArrowUp",Xu="ArrowDown",dc=`hide${fs}`,Qo=`hidden${fs}`,ca=`show${fs}`,Yh=`shown${fs}`,Qu=`click${fs}${Md}`,hc=`keydown${fs}${Md}`,Xh=`keyup${fs}${Md}`,zc="show",Wc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Kc=`${Wc}.${zc}`,Nd=".dropdown-menu",Vl=Bs()?"top-end":"top-start",Jh=Bs()?"top-start":"top-end",Jo=Bs()?"bottom-end":"bottom-start",Ul=Bs()?"bottom-start":"bottom-end",Fd=Bs()?"left-start":"right-start",jl=Bs()?"right-start":"left-start",sp={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Sg={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Wa extends Gt{constructor(c,l){super(c,l),this._popper=null,this._parent=this._element.parentNode,this._menu=zn.next(this._element,Nd)[0]||zn.prev(this._element,Nd)[0]||zn.findOne(Nd,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return sp}static get DefaultType(){return Sg}static get NAME(){return vl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ki(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!nn.trigger(this._element,ca,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))nn.on(p,"mouseover",ns);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(zc),this._element.classList.add(zc),nn.trigger(this._element,Yh,c)}}hide(){!Ki(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!nn.trigger(this._element,dc,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))nn.off(p,"mouseover",ns);this._popper&&this._popper.destroy(),this._menu.classList.remove(zc),this._element.classList.remove(zc),this._element.setAttribute("aria-expanded","false"),Di.removeDataAttribute(this._menu,"popper"),nn.trigger(this._element,Qo,c)}}_getConfig(c){if("object"==typeof(c=super._getConfig(c)).reference&&!hs(c.reference)&&"function"!=typeof c.reference.getBoundingClientRect)throw new TypeError(`${vl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(typeof o>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let c=this._element;"parent"===this._config.reference?c=this._parent:hs(this._config.reference)?c=$i(this._config.reference):"object"==typeof this._config.reference&&(c=this._config.reference);const l=this._getPopperConfig();this._popper=B(c,this._menu,l)}_isShown(){return this._menu.classList.contains(zc)}_getPlacement(){const c=this._parent;if(c.classList.contains("dropend"))return Fd;if(c.classList.contains("dropstart"))return jl;if(c.classList.contains("dropup-center"))return"top";if(c.classList.contains("dropdown-center"))return"bottom";const l="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return c.classList.contains("dropup")?l?Jh:Vl:l?Ul:Jo}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:c}=this._config;return"string"==typeof c?c.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof c?l=>c(l,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Di.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...Zs(this._config.popperConfig,[c])}}_selectMenuItem({key:c,target:l}){const p=zn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(T=>ro(T));p.length&&cl(p,l,c===Xu,!p.includes(l)).focus()}static jQueryInterface(c){return this.each(function(){const l=Wa.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof l[c]>"u")throw new TypeError(`No method named "${c}"`);l[c]()}})}static clearMenus(c){if(2===c.button||"keyup"===c.type&&"Tab"!==c.key)return;const l=zn.find(Kc);for(const p of l){const T=Wa.getInstance(p);if(!T||!1===T._config.autoClose)continue;const k=c.composedPath(),z=k.includes(T._menu);if(k.includes(T._element)||"inside"===T._config.autoClose&&!z||"outside"===T._config.autoClose&&z||T._menu.contains(c.target)&&("keyup"===c.type&&"Tab"===c.key||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const re={relatedTarget:T._element};"click"===c.type&&(re.clickEvent=c),T._completeHide(re)}}static dataApiKeydownHandler(c){const l=/input|textarea/i.test(c.target.tagName),p="Escape"===c.key,T=[rp,Xu].includes(c.key);if(!T&&!p||l&&!p)return;c.preventDefault();const k=this.matches(Wc)?this:zn.prev(this,Wc)[0]||zn.next(this,Wc)[0]||zn.findOne(Wc,c.delegateTarget.parentNode),z=Wa.getOrCreateInstance(k);if(T)return c.stopPropagation(),z.show(),void z._selectMenuItem(c);z._isShown()&&(c.stopPropagation(),z.hide(),k.focus())}}nn.on(document,hc,Wc,Wa.dataApiKeydownHandler),nn.on(document,hc,Nd,Wa.dataApiKeydownHandler),nn.on(document,Qu,Wa.clearMenus),nn.on(document,Xh,Wa.clearMenus),nn.on(document,Qu,Wc,function(g){g.preventDefault(),Wa.getOrCreateInstance(this).toggle()}),Ui(Wa);const Vo="backdrop",Ju=`mousedown.bs.${Vo}`,op={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ud={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ap extends Ca{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return op}static get DefaultType(){return Ud}static get NAME(){return Vo}show(c){if(!this._config.isVisible)return void Zs(c);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Zs(c)})}hide(c){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Zs(c)})):Zs(c)}dispose(){this._isAppended&&(nn.off(this._element,Ju),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add("fade"),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=$i(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),nn.on(c,Ju,()=>{Zs(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){Pu(c,this._getElement(),this._config.isAnimated)}}const Da=".bs.focustrap",qc=`focusin${Da}`,jd=`keydown.tab${Da}`,bl="backward",tf={autofocus:!0,trapElement:null},Zu={autofocus:"boolean",trapElement:"element"};class Bd extends Ca{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return tf}static get DefaultType(){return Zu}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),nn.off(document,Da),nn.on(document,qc,c=>this._handleFocusin(c)),nn.on(document,jd,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,nn.off(document,Da))}_handleFocusin(c){const{trapElement:l}=this._config;if(c.target===document||c.target===l||l.contains(c.target))return;const p=zn.focusableChildren(l);0===p.length?l.focus():this._lastTabNavDirection===bl?p[p.length-1].focus():p[0].focus()}_handleKeydown(c){"Tab"===c.key&&(this._lastTabNavDirection=c.shiftKey?bl:"forward")}}const nf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Yc=".sticky-top",$l="padding-right",$d="margin-right";class Xc{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,$l,l=>l+c),this._setElementAttributes(nf,$l,l=>l+c),this._setElementAttributes(Yc,$d,l=>l-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,$l),this._resetElementAttributes(nf,$l),this._resetElementAttributes(Yc,$d)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,l,p){const T=this.getWidth();this._applyManipulationCallback(c,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+T)return;this._saveInitialAttribute(z,l);const re=window.getComputedStyle(z).getPropertyValue(l);z.style.setProperty(l,`${p(Number.parseFloat(re))}px`)})}_saveInitialAttribute(c,l){const p=c.style.getPropertyValue(l);p&&Di.setDataAttribute(c,l,p)}_resetElementAttributes(c,l){this._applyManipulationCallback(c,T=>{const k=Di.getDataAttribute(T,l);null!==k?(Di.removeDataAttribute(T,l),T.style.setProperty(l,k)):T.style.removeProperty(l)})}_applyManipulationCallback(c,l){if(hs(c))l(c);else for(const p of zn.find(c,this._element))l(p)}}const Hs=".bs.modal",v=`hide${Hs}`,S=`hidePrevented${Hs}`,Q=`hidden${Hs}`,he=`show${Hs}`,Qe=`shown${Hs}`,Mt=`resize${Hs}`,qt=`click.dismiss${Hs}`,On=`mousedown.dismiss${Hs}`,Nn=`keydown.dismiss${Hs}`,Jr=`click${Hs}.data-api`,bo="modal-open",Qc="modal-static",Wd={backdrop:!0,focus:!0,keyboard:!0},xg={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class da extends Gt{constructor(c,l){super(c,l),this._dialog=zn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Xc,this._addEventListeners()}static get Default(){return Wd}static get DefaultType(){return xg}static get NAME(){return"modal"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||nn.trigger(this._element,he,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(bo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){!this._isShown||this._isTransitioning||nn.trigger(this._element,v).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){nn.off(window,Hs),nn.off(this._dialog,Hs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ap({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Bd({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=zn.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,nn.trigger(this._element,Qe,{relatedTarget:c})},this._dialog,this._isAnimated())}_addEventListeners(){nn.on(this._element,Nn,c=>{if("Escape"===c.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),nn.on(window,Mt,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),nn.on(this._element,On,c=>{nn.one(this._element,qt,l=>{if(this._element===c.target&&this._element===l.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(bo),this._resetAdjustments(),this._scrollBar.reset(),nn.trigger(this._element,Q)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(nn.trigger(this._element,S).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;"hidden"===p||this._element.classList.contains(Qc)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(Qc),this._queueCallback(()=>{this._element.classList.remove(Qc),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),p=l>0;if(p&&!c){const T=Bs()?"paddingLeft":"paddingRight";this._element.style[T]=`${l}px`}if(!p&&c){const T=Bs()?"paddingRight":"paddingLeft";this._element.style[T]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,l){return this.each(function(){const p=da.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof p[c]>"u")throw new TypeError(`No method named "${c}"`);p[c](l)}})}}nn.on(document,Jr,'[data-bs-toggle="modal"]',function(g){const c=zn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&g.preventDefault(),nn.one(c,he,T=>{T.defaultPrevented||nn.one(c,Q,()=>{ro(this)&&this.focus()})});const l=zn.findOne(".modal.show");l&&da.getInstance(l).hide(),da.getOrCreateInstance(c).toggle(this)}),qi(da),Ui(da);const ha=".bs.offcanvas",ed=".data-api",fc=`load${ha}${ed}`,sf="showing",up=".offcanvas.show",t_=`show${ha}`,Yd=`shown${ha}`,dp=`hide${ha}`,td=`hidePrevented${ha}`,n_=`hidden${ha}`,Mg=`resize${ha}`,Uy=`click${ha}${ed}`,hp=`keydown.dismiss${ha}`,Og={backdrop:!0,keyboard:!0,scroll:!1},r_={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ra extends Gt{constructor(c,l){super(c,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Og}static get DefaultType(){return r_}static get NAME(){return"offcanvas"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||nn.trigger(this._element,t_,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Xc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(sf),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(sf),nn.trigger(this._element,Yd,{relatedTarget:c})},this._element,!0))}hide(){this._isShown&&!nn.trigger(this._element,dp).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Xc).reset(),nn.trigger(this._element,n_)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new ap({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{"static"!==this._config.backdrop?this.hide():nn.trigger(this._element,td)}:null})}_initializeFocusTrap(){return new Bd({trapElement:this._element})}_addEventListeners(){nn.on(this._element,hp,c=>{if("Escape"===c.key){if(this._config.keyboard)return void this.hide();nn.trigger(this._element,td)}})}static jQueryInterface(c){return this.each(function(){const l=Ra.getOrCreateInstance(this,c);if("string"==typeof c){if(void 0===l[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);l[c](this)}})}}nn.on(document,Uy,'[data-bs-toggle="offcanvas"]',function(g){const c=zn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&g.preventDefault(),Ki(this))return;nn.one(c,n_,()=>{ro(this)&&this.focus()});const l=zn.findOne(up);l&&l!==c&&Ra.getInstance(l).hide(),Ra.getOrCreateInstance(c).toggle(this)}),nn.on(window,fc,()=>{for(const g of zn.find(up))Ra.getOrCreateInstance(g).show()}),nn.on(window,Mg,()=>{for(const g of zn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(g).position&&Ra.getOrCreateInstance(g).hide()}),qi(Ra),Ui(Ra);const i_={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},jy=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Zo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,fp=(g,c)=>{const l=g.nodeName.toLowerCase();return c.includes(l)?!jy.has(l)||!!Zo.test(g.nodeValue):c.filter(p=>p instanceof RegExp).some(p=>p.test(l))},Uo={allowList:i_,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},nd={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},o_={entry:"(string|element|function|null)",selector:"(string|element)"};class pp extends Ca{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return Uo}static get DefaultType(){return nd}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[T,k]of Object.entries(this._config.content))this._setContent(c,k,T);const l=c.children[0],p=this._resolvePossibleFunction(this._config.extraClass);return p&&l.classList.add(...p.split(" ")),l}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[l,p]of Object.entries(c))super._typeCheckConfig({selector:l,entry:p},o_)}_setContent(c,l,p){const T=zn.findOne(p,c);if(T){if(!(l=this._resolvePossibleFunction(l)))return void T.remove();if(hs(l))return void this._putElementInTemplate($i(l),T);if(this._config.html)return void(T.innerHTML=this._maybeSanitize(l));T.textContent=l}}_maybeSanitize(c){return this._config.sanitize?function s_(g,c,l){if(!g.length)return g;if(l&&"function"==typeof l)return l(g);const T=(new window.DOMParser).parseFromString(g,"text/html"),k=[].concat(...T.body.querySelectorAll("*"));for(const z of k){const re=z.nodeName.toLowerCase();if(!Object.keys(c).includes(re)){z.remove();continue}const pe=[].concat(...z.attributes),Ge=[].concat(c["*"]||[],c[re]||[]);for(const _t of pe)fp(_t,Ge)||z.removeAttribute(_t.nodeName)}return T.body.innerHTML}(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return Zs(c,[this])}_putElementInTemplate(c,l){if(this._config.html)return l.innerHTML="",void l.append(c);l.textContent=c.textContent}}const gp=new Set(["sanitize","allowList","sanitizeFn"]),mp="fade",Qd="show",pc="hide.bs.modal",gc="hover",zl="focus",Lg={AUTO:"auto",TOP:"top",RIGHT:Bs()?"left":"right",BOTTOM:"bottom",LEFT:Bs()?"right":"left"},Vg={allowList:i_,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},l_={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Zc extends Gt{constructor(c,l){if(typeof o>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(c,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Vg}static get DefaultType(){return l_}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),nn.off(this._element.closest(".modal"),pc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const c=nn.trigger(this._element,this.constructor.eventName("show")),p=(Mo(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!p)return;this._disposePopper();const T=this._getTipElement();this._element.setAttribute("aria-describedby",T.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(T),nn.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(T),T.classList.add(Qd),"ontouchstart"in document.documentElement)for(const re of[].concat(...document.body.children))nn.on(re,"mouseover",ns);this._queueCallback(()=>{nn.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!nn.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Qd),"ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))nn.off(T,"mouseover",ns);this._activeTrigger.click=!1,this._activeTrigger[zl]=!1,this._activeTrigger[gc]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),nn.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const l=this._getTemplateFactory(c).toHtml();if(!l)return null;l.classList.remove(mp,Qd),l.classList.add(`bs-${this.constructor.NAME}-auto`);const p=(g=>{do{g+=Math.floor(1e6*Math.random())}while(document.getElementById(g));return g})(this.constructor.NAME).toString();return l.setAttribute("id",p),this._isAnimated()&&l.classList.add(mp),l}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new pp({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(mp)}_isShown(){return this.tip&&this.tip.classList.contains(Qd)}_createPopper(c){const l=Zs(this._config.placement,[this,c,this._element]),p=Lg[l.toUpperCase()];return B(this._element,c,this._getPopperConfig(p))}_getOffset(){const{offset:c}=this._config;return"string"==typeof c?c.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof c?l=>c(l,this._element):c}_resolvePossibleFunction(c){return Zs(c,[this._element])}_getPopperConfig(c){const l={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:p=>{this._getTipElement().setAttribute("data-popper-placement",p.state.placement)}}]};return{...l,...Zs(this._config.popperConfig,[l])}}_setListeners(){const c=this._config.trigger.split(" ");for(const l of c)if("click"===l)nn.on(this._element,this.constructor.eventName("click"),this._config.selector,p=>{this._initializeOnDelegatedTarget(p).toggle()});else if("manual"!==l){const p=this.constructor.eventName(l===gc?"mouseenter":"focusin"),T=this.constructor.eventName(l===gc?"mouseleave":"focusout");nn.on(this._element,p,this._config.selector,k=>{const z=this._initializeOnDelegatedTarget(k);z._activeTrigger["focusin"===k.type?zl:gc]=!0,z._enter()}),nn.on(this._element,T,this._config.selector,k=>{const z=this._initializeOnDelegatedTarget(k);z._activeTrigger["focusout"===k.type?zl:gc]=z._element.contains(k.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},nn.on(this._element.closest(".modal"),pc,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,l){clearTimeout(this._timeout),this._timeout=setTimeout(c,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const l=Di.getDataAttributes(this._element);for(const p of Object.keys(l))gp.has(p)&&delete l[p];return c={...l,..."object"==typeof c&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=!1===c.container?document.body:$i(c.container),"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay}),"number"==typeof c.title&&(c.title=c.title.toString()),"number"==typeof c.content&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[l,p]of Object.entries(this._config))this.constructor.Default[l]!==p&&(c[l]=p);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const l=Zc.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof l[c]>"u")throw new TypeError(`No method named "${c}"`);l[c]()}})}}Ui(Zc);const cf={...Zc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Tp={...Zc.DefaultType,content:"(null|string|element|function)"};class nh extends Zc{static get Default(){return cf}static get DefaultType(){return Tp}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const l=nh.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof l[c]>"u")throw new TypeError(`No method named "${c}"`);l[c]()}})}}Ui(nh);const uf=".bs.scrollspy",id=`activate${uf}`,df=`click${uf}`,f_=`load${uf}.data-api`,rh="active",hf="[href]",jg=".nav-link",Ip=`${jg}, .nav-item > ${jg}, .list-group-item`,$g={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ff={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class eu extends Gt{constructor(c,l){super(c,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return $g}static get DefaultType(){return ff}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=$i(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,"string"==typeof c.threshold&&(c.threshold=c.threshold.split(",").map(l=>Number.parseFloat(l))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(nn.off(this._config.target,df),nn.on(this._config.target,df,hf,c=>{const l=this._observableSections.get(c.target.hash);if(l){c.preventDefault();const p=this._rootElement||window,T=l.offsetTop-this._element.offsetTop;if(p.scrollTo)return void p.scrollTo({top:T,behavior:"smooth"});p.scrollTop=T}}))}_getNewObserver(){return new IntersectionObserver(l=>this._observerCallback(l),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(c){const l=z=>this._targetLinks.get(`#${z.target.id}`),p=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(l(z))},T=(this._rootElement||document.documentElement).scrollTop,k=T>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=T;for(const z of c){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(z));continue}const re=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(k&&re){if(p(z),!T)return}else!k&&!re&&p(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=zn.find(hf,this._config.target);for(const l of c){if(!l.hash||Ki(l))continue;const p=zn.findOne(decodeURI(l.hash),this._element);ro(p)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,p))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(rh),this._activateParents(c),nn.trigger(this._element,id,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains("dropdown-item"))zn.findOne(".dropdown-toggle",c.closest(".dropdown")).classList.add(rh);else for(const l of zn.parents(c,".nav, .list-group"))for(const p of zn.prev(l,Ip))p.classList.add(rh)}_clearActiveClass(c){c.classList.remove(rh);const l=zn.find(`${hf}.${rh}`,c);for(const p of l)p.classList.remove(rh)}static jQueryInterface(c){return this.each(function(){const l=eu.getOrCreateInstance(this,c);if("string"==typeof c){if(void 0===l[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);l[c]()}})}}nn.on(window,f_,()=>{for(const g of zn.find('[data-bs-spy="scroll"]'))eu.getOrCreateInstance(g)}),Ui(eu);const Tl=".bs.tab",Gg=`hide${Tl}`,m_=`hidden${Tl}`,Hg=`show${Tl}`,Hy=`shown${Tl}`,zg=`click${Tl}`,Dp=`keydown${Tl}`,Sp=`load${Tl}`,mc="ArrowLeft",pf="ArrowRight",tu="ArrowUp",__="ArrowDown",gf="Home",_c="End",yc="active",mf="show",_f=".dropdown-toggle",Pp=`:not(${_f})`,v_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',vf=`.nav-link${Pp}, .list-group-item${Pp}, [role="tab"]${Pp}, ${v_}`,E_=`.${yc}[data-bs-toggle="tab"], .${yc}[data-bs-toggle="pill"], .${yc}[data-bs-toggle="list"]`;class nu extends Gt{constructor(c){super(c),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),nn.on(this._element,Dp,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const c=this._element;if(this._elemIsActive(c))return;const l=this._getActiveElem(),p=l?nn.trigger(l,Gg,{relatedTarget:c}):null;nn.trigger(c,Hg,{relatedTarget:l}).defaultPrevented||p&&p.defaultPrevented||(this._deactivate(l,c),this._activate(c,l))}_activate(c,l){c&&(c.classList.add(yc),this._activate(zn.getElementFromSelector(c)),this._queueCallback(()=>{"tab"===c.getAttribute("role")?(c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),nn.trigger(c,Hy,{relatedTarget:l})):c.classList.add(mf)},c,c.classList.contains("fade")))}_deactivate(c,l){c&&(c.classList.remove(yc),c.blur(),this._deactivate(zn.getElementFromSelector(c)),this._queueCallback(()=>{"tab"===c.getAttribute("role")?(c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),nn.trigger(c,m_,{relatedTarget:l})):c.classList.remove(mf)},c,c.classList.contains("fade")))}_keydown(c){if(![mc,pf,tu,__,gf,_c].includes(c.key))return;c.stopPropagation(),c.preventDefault();const l=this._getChildren().filter(T=>!Ki(T));let p;if([gf,_c].includes(c.key))p=l[c.key===gf?0:l.length-1];else{const T=[pf,__].includes(c.key);p=cl(l,c.target,T,!0)}p&&(p.focus({preventScroll:!0}),nu.getOrCreateInstance(p).show())}_getChildren(){return zn.find(vf,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,l){this._setAttributeIfNotExists(c,"role","tablist");for(const p of l)this._setInitialAttributesOnChild(p)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const l=this._elemIsActive(c),p=this._getOuterElement(c);c.setAttribute("aria-selected",l),p!==c&&this._setAttributeIfNotExists(p,"role","presentation"),l||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const l=zn.getElementFromSelector(c);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,l){const p=this._getOuterElement(c);if(!p.classList.contains("dropdown"))return;const T=(k,z)=>{const re=zn.findOne(k,p);re&&re.classList.toggle(z,l)};T(_f,yc),T(".dropdown-menu",mf),p.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(c,l,p){c.hasAttribute(l)||c.setAttribute(l,p)}_elemIsActive(c){return c.classList.contains(yc)}_getInnerElement(c){return c.matches(vf)?c:zn.findOne(vf,c)}_getOuterElement(c){return c.closest(".nav-item, .list-group-item")||c}static jQueryInterface(c){return this.each(function(){const l=nu.getOrCreateInstance(this);if("string"==typeof c){if(void 0===l[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);l[c]()}})}}nn.on(document,zg,v_,function(g){["A","AREA"].includes(this.tagName)&&g.preventDefault(),!Ki(this)&&nu.getOrCreateInstance(this).show()}),nn.on(window,Sp,()=>{for(const g of zn.find(E_))nu.getOrCreateInstance(g)}),Ui(nu);const Pa=".bs.toast",Wg=`mouseover${Pa}`,zy=`mouseout${Pa}`,Kg=`focusin${Pa}`,Mp=`focusout${Pa}`,qg=`hide${Pa}`,Wy=`hidden${Pa}`,od=`show${Pa}`,Ky=`shown${Pa}`,Ec="show",iu="showing",qa={animation:"boolean",autohide:"boolean",delay:"number"},Ef={animation:!0,autohide:!0,delay:5e3};class bf extends Gt{constructor(c,l){super(c,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ef}static get DefaultType(){return qa}static get NAME(){return"toast"}show(){nn.trigger(this._element,od).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Ec,iu),this._queueCallback(()=>{this._element.classList.remove(iu),nn.trigger(this._element,Ky),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!nn.trigger(this._element,qg).defaultPrevented&&(this._element.classList.add(iu),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(iu,Ec),nn.trigger(this._element,Wy)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ec),super.dispose()}isShown(){return this._element.classList.contains(Ec)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,l){switch(c.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const p=c.relatedTarget;this._element===p||this._element.contains(p)||this._maybeScheduleHide()}_setListeners(){nn.on(this._element,Wg,c=>this._onInteraction(c,!0)),nn.on(this._element,zy,c=>this._onInteraction(c,!1)),nn.on(this._element,Kg,c=>this._onInteraction(c,!0)),nn.on(this._element,Mp,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const l=bf.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof l[c]>"u")throw new TypeError(`No method named "${c}"`);l[c](this)}})}}qi(bf),Ui(bf);let Qg=(()=>{class g{constructor(l){this.http=l,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(l){return this.http.post(this.emailEndpoint,l)}static{this.\u0275fac=function(p){return new(p||g)(i.KVO(ze))}}static{this.\u0275prov=i.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var yi=F(4341);let T_=(()=>{class g{static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(p,T){1&p&&(i.j41(0,"section",0)(1,"div",1)(2,"div",2),i.nrm(3,"i",3),i.j41(4,"p"),i.EFF(5),i.k0s()(),i.j41(6,"div",2),i.nrm(7,"i",4),i.j41(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",2),i.nrm(11,"i",5),i.j41(12,"p"),i.EFF(13),i.k0s()()()()),2&p&&(i.R7$(5),i.JRh(T.phoneNumber),i.R7$(4),i.JRh(T.address),i.R7$(4),i.JRh(T.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return g})();var C_=F(3711),I_=F(3095);function Tf(g,c){if(1&g&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Email"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&g){const l=i.XpG(3);i.R7$(4),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function Cf(g,c){if(1&g&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Fax"),i.k0s(),i.j41(3,"p"),i.EFF(4),i.k0s()()),2&g){const l=i.XpG(3);i.R7$(4),i.JRh(l.business.fax)}}function w_(g,c){if(1&g&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Social Media"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&g){const l=i.XpG(3);i.R7$(4),i.FS9("href",l.business.socialMedia,i.B4B),i.R7$(1),i.JRh(l.business.socialMedia)}}function Jg(g,c){if(1&g){const l=i.RV6();i.qex(0),i.j41(1,"div",13)(2,"div",14)(3,"h1"),i.EFF(4,"Contact Us"),i.k0s(),i.j41(5,"div",15)(6,"p"),i.EFF(7,"We're here to answer any questions you have"),i.k0s()()()(),i.j41(8,"div",16)(9,"section",17)(10,"div",18),i.EFF(11,"Get in Touch"),i.k0s(),i.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),i.EFF(17,"Address"),i.k0s(),i.j41(18,"p"),i.EFF(19),i.k0s()(),i.j41(20,"div",22)(21,"h3"),i.EFF(22,"Phone"),i.k0s(),i.j41(23,"p"),i.EFF(24),i.k0s()(),i.DNE(25,Tf,6,2,"div",23),i.DNE(26,Cf,5,1,"div",23),i.DNE(27,w_,6,2,"div",23),i.j41(28,"div")(29,"h3"),i.EFF(30,"Visitation Hours"),i.k0s(),i.nrm(31,"div",24),i.k0s()()(),i.j41(32,"div",25)(33,"div",26),i.nrm(34,"img",27),i.k0s()()()(),i.j41(35,"section",28)(36,"div",18),i.EFF(37,"Send Us a Message"),i.k0s(),i.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),i.EFF(42,"How can we help?"),i.k0s(),i.j41(43,"p",33),i.EFF(44," Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help. "),i.k0s()()(),i.j41(45,"div",34)(46,"form",35,36),i.bIt("ngSubmit",function(){i.eBV(l);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(48,"div",37)(49,"label",38),i.EFF(50,"Name"),i.k0s(),i.j41(51,"input",39),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.name=T)}),i.k0s()(),i.j41(52,"div",37)(53,"label",40),i.EFF(54,"Email"),i.k0s(),i.j41(55,"input",41),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.email=T)}),i.k0s()(),i.j41(56,"div",37)(57,"label",42),i.EFF(58,"Message"),i.k0s(),i.j41(59,"textarea",43),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.message=T)}),i.k0s()(),i.j41(60,"button",44),i.EFF(61," Send "),i.k0s()()()()(),i.nrm(62,"app-information",45)(63,"app-google-maps",46),i.k0s(),i.nrm(64,"app-faq"),i.bVm()}if(2&g){const l=i.sdS(47),p=i.XpG(2);i.R7$(19),i.JRh(p.business.address),i.R7$(5),i.JRh(p.business.phone),i.R7$(1),i.Y8G("ngIf",p.business.email),i.R7$(1),i.Y8G("ngIf",p.business.fax),i.R7$(1),i.Y8G("ngIf",p.business.socialMedia),i.R7$(4),i.Y8G("innerHTML",p.sanitizedBusinessHours,i.npT),i.R7$(3),i.Y8G("src",p.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",i.B4B),i.R7$(17),i.Y8G("ngModel",p.formData.name),i.R7$(4),i.Y8G("ngModel",p.formData.email),i.R7$(4),i.Y8G("ngModel",p.formData.message),i.R7$(1),i.Y8G("disabled",!l.form.valid),i.R7$(2),i.Y8G("phoneNumber",p.business.phone)("address",p.business.address)("email",p.business.email),i.R7$(1),i.Y8G("address",p.business.address||"")("layoutType",p.business.theme.themeType||"demo")}}function Op(g,c){if(1&g&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&g){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function A_(g,c){if(1&g&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&g){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function oh(g,c){if(1&g){const l=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,Op,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,A_,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(l);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.message=T)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&g){const l=i.XpG(2);i.R7$(6),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(8),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function D_(g,c){if(1&g&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&g){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function Zg(g,c){if(1&g&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&g){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function em(g,c){if(1&g){const l=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,D_,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,Zg,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(l);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.message=T)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&g){const l=i.XpG(2);i.R7$(6),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(8),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function bc(g,c){if(1&g&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&g){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function Np(g,c){if(1&g&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&g){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function tm(g,c){if(1&g){const l=i.RV6();i.qex(0),i.nrm(1,"app-hero",65),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,bc,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,Np,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(l);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.message=T)}),i.k0s()(),i.j41(35,"button",66),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&g){const l=i.XpG(2);i.R7$(1),i.Y8G("layoutType","sb"),i.R7$(5),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(8),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function qy(g,c){if(1&g&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&g){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function ad(g,c){if(1&g&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&g){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function nm(g,c){if(1&g){const l=i.RV6();i.qex(0),i.nrm(1,"app-hero",65),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,qy,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,ad,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(l);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.message=T)}),i.k0s()(),i.j41(35,"button",66),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&g){const l=i.XpG(2);i.R7$(1),i.Y8G("layoutType","prestige"),i.R7$(5),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(8),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function Yy(g,c){if(1&g&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&g){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function kp(g,c){if(1&g&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&g){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function S_(g,c){if(1&g){const l=i.RV6();i.qex(0),i.j41(1,"div",48)(2,"div",49)(3,"h2"),i.EFF(4,"Contact us"),i.k0s(),i.DNE(5,Yy,4,2,"div",50),i.j41(6,"div",51)(7,"p"),i.EFF(8),i.k0s()(),i.j41(9,"div",51)(10,"p"),i.EFF(11),i.k0s()(),i.DNE(12,kp,3,1,"div",52),i.k0s(),i.j41(13,"div",53)(14,"form",54),i.bIt("submit",function(){i.eBV(l);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(15,"div",37)(16,"label",55),i.EFF(17,"Name "),i.j41(18,"span"),i.EFF(19,"(required)"),i.k0s()(),i.j41(20,"div",56)(21,"input",57),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.name=T)}),i.k0s()()(),i.j41(22,"div",37)(23,"label",40),i.EFF(24,"Email "),i.j41(25,"span"),i.EFF(26,"(required)"),i.k0s()(),i.j41(27,"input",58),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.email=T)}),i.k0s()(),i.j41(28,"div",37)(29,"label",42),i.EFF(30,"Message "),i.j41(31,"span"),i.EFF(32,"(required)"),i.k0s()(),i.j41(33,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.message=T)}),i.k0s()(),i.j41(34,"button",60),i.EFF(35,"Send"),i.k0s()()()(),i.j41(36,"div",48)(37,"div",49)(38,"div"),i.nrm(39,"div",24),i.k0s()(),i.j41(40,"div",61),i.nrm(41,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&g){const l=i.XpG(2);i.R7$(5),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(6),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function Xy(g,c){if(1&g&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Jg,65,16,"ng-container",2),i.DNE(3,oh,45,10,"ng-container",2),i.DNE(4,em,45,10,"ng-container",2),i.DNE(5,tm,45,11,"ng-container",2),i.DNE(6,nm,45,11,"ng-container",2),i.DNE(7,S_,42,10,"ng-container",3),i.k0s(),i.j41(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5",8),i.EFF(13),i.k0s(),i.nrm(14,"button",9),i.k0s(),i.j41(15,"div",10),i.EFF(16),i.k0s(),i.j41(17,"div",11)(18,"button",12),i.EFF(19," Close "),i.k0s()()()()()()),2&g){const l=i.XpG();i.R7$(1),i.Y8G("ngSwitch",l.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(7),i.JRh(l.modalTitle),i.R7$(3),i.SpI(" ",l.modalMessage," ")}}let Qy=(()=>{class g{constructor(l,p,T,k,z,re,pe,Ge){this.sanitizer=l,this.businessDataService=p,this.webContent=T,this.route=k,this.http=z,this.emailService=re,this.router=pe,this.metaService=Ge,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const l=document.getElementById("responseModal");l?this.responseModal=new da(l):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(l=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},l=>{console.error("Error sending email",l),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(l){const p=l.split(".");return p.length>2?p.slice(-2).join("."):l}showModal(){this.responseModal&&this.responseModal.show()}navigateTo(l){this.router.navigate(["/"+l],{queryParams:{id:this.business?.id}})}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(le.up),i.rXU(kt.A),i.rXU($n.N),i.rXU(dr.nX),i.rXU(ze),i.rXU(Qg),i.rXU(dr.Ix),i.rXU(at.R))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"],[3,"layoutType"],["type","submit",1,"btnSBSend"]],template:function(p,T){1&p&&i.DNE(0,Xy,20,8,"div",0),2&p&&i.Y8G("ngIf",T.business)},dependencies:[fe.bT,fe.ux,fe.e1,fe.fG,yi.qT,yi.me,yi.BC,yi.cb,yi.YS,yi.vS,yi.cV,T_,pr,C_.a,I_.C]})}}return g})();var Jy=F(467);const Zy=["dynamicContainer"],R_=["ctaContainer"];function lE(g,c){1&g&&(i.qex(0),i.j41(1,"div",9)(2,"div",10)(3,"h1"),i.EFF(4,"Our Home"),i.k0s(),i.j41(5,"div",11)(6,"p"),i.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),i.k0s()()()(),i.bVm())}function ev(g,c){1&g&&(i.qex(0),i.nrm(1,"app-hero",12),i.bVm()),2&g&&(i.R7$(1),i.Y8G("layoutType","sb"))}function ah(g,c){1&g&&(i.qex(0),i.nrm(1,"app-hero",12),i.bVm()),2&g&&(i.R7$(1),i.Y8G("layoutType","ae"))}function ld(g,c){1&g&&(i.qex(0),i.nrm(1,"app-hero",12),i.bVm()),2&g&&(i.R7$(1),i.Y8G("layoutType","clemo"))}function rm(g,c){1&g&&(i.qex(0),i.nrm(1,"app-hero",12),i.bVm()),2&g&&(i.R7$(1),i.Y8G("layoutType","prestige"))}function im(g,c){if(1&g){const l=i.RV6();i.j41(0,"div",13),i.bIt("click",function(){const k=i.eBV(l).$implicit,z=i.XpG(2);return i.Njj(z.onImageClick(k.url))}),i.nrm(1,"img",14),i.k0s()}if(2&g){const l=c.$implicit;i.R7$(1),i.Y8G("src",l.url,i.B4B)}}function Fp(g,c){if(1&g&&(i.j41(0,"div")(1,"div",1),i.DNE(2,lE,8,0,"ng-container",2),i.DNE(3,ev,2,1,"ng-container",2),i.DNE(4,ah,2,1,"ng-container",2),i.DNE(5,ld,2,1,"ng-container",2),i.DNE(6,rm,2,1,"ng-container",2),i.k0s(),i.eu8(7,null,3),i.j41(9,"section",4)(10,"div",5)(11,"h2"),i.EFF(12,"Explore Our Gallery"),i.k0s()(),i.j41(13,"div",6),i.DNE(14,im,2,1,"div",7),i.k0s()(),i.eu8(15,null,8),i.k0s()),2&g){const l=i.XpG();i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(8),i.Y8G("ngForOf",l.images)}}let lh=(()=>{class g{constructor(l,p,T,k,z,re,pe,Ge){this.businessDataService=l,this.route=p,this.webContent=T,this.metaService=k,this.router=z,this.sectionService=re,this.resolver=pe,this.injector=Ge,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.sections=[],this.selectedImageUrl=null,this.layoutType="demo",this.componentsMap={"center-text":Ni.W,"right-text":vs.F,"left-text":Es.G,"item-list":gi.j,cta:ar.j}}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.layoutType=l?.theme.themeType||"",l?.id&&(this.businessId=l.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId),this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"gallery").subscribe(l=>{console.log("\u{1f4cc} Retrieved Sections:",l),l&&0!==l.length?(this.sections=l.sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents(),this.loadCTAComponent()):console.warn("\u2757 No sections retrieved.")})}loadComponents(){this.container?(this.container.clear(),this.sections.length?this.sections.filter(p=>"cta"!==p.component).forEach(p=>{this.createDynamicComponent(p,this.container)}):console.warn("\u2757 No sections available to load.")):console.error("\u274c ViewContainerRef is undefined.")}loadCTAComponent(){if(!this.ctaContainer)return void console.error("\u274c CTA ViewContainerRef is undefined.");this.ctaContainer.clear();const l=this.sections.find(p=>"cta"===p.component);l?this.createDynamicComponent(l,this.ctaContainer):console.warn("\u2757 No CTA section found.")}createDynamicComponent(l,p){const T=this.componentsMap[l.component];if(!T)return void console.error("\u274c Component Not Found:",l.component);const k=this.resolver.resolveComponentFactory(T),z=p.createComponent(k,void 0,this.injector);Object.assign(z.instance,{title:this.applyReplaceKeyword(l.sectionTitle||""),subTitle:this.applyReplaceKeyword(l.sectionSubTitle||""),content:this.applyReplaceKeyword(l.sectionContent||""),imageURL:l.sectionImageUrl||"",showBtn:l.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!l.sectionImageUrl,themeType:this.business?.theme?.themeType,items:l.items||[],isMinimal:l.isMinimal||!1,isParallax:l.isParallax??!0,backgroundColor:l.backgroundColor||"#ffffff",textColor:l.textColor||"#000000",titleColor:l.titleColor||"#000000",subtitleColor:l.subtitleColor||"#000000",fullWidth:l.fullWidth||!1,showButton:l.showButton||!1,buttonText:l.buttonText||"Learn More",buttonLink:l.buttonLink||"",titleFontSize:l.titleFontSize||"36",subtitleFontSize:l.subtitleFontSize||"14",alignText:l.alignText||"left",boxShadow:l.boxShadow||!1,borderRadius:l.borderRadius??10,page:l.page,location:l.location})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}loadImages(){var l=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:T,target:k})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,T).pipe((0,te.n)(z=>{console.log(`Raw Firestore images for ${T}:`,z);const re=z.map(function(){var pe=(0,Jy.A)(function*(Ge){return(yield l.webContent.checkImageExists(Ge.url))?Ge:null});return function(Ge){return pe.apply(this,arguments)}}());return(0,_e.H)(Promise.all(re))}),(0,xe.T)(z=>z.filter(re=>null!==re)),(0,xe.T)(z=>(console.log(`Filtered images for ${k}:`,z),z.map(re=>({url:re.url,title:re.title||"No Title",description:re.description||"No Description",link:re.link||"No Link",order:isNaN(Number(re.order))?999:Number(re.order)})).sort((re,pe)=>re.order-pe.order)))).subscribe(z=>{console.log(`Sorted images for ${k}:`,z),this[k]||(this[k]=[]),this[k]=z})})}onImageClick(l){this.selectedImageUrl=l}closeLightbox(){this.selectedImageUrl=null}onCloseModal(){this.selectedImageUrl=null}navigateToContact(l){this.router.navigate(["/contact-us"],{queryParams:{id:l}})}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(kt.A),i.rXU(dr.nX),i.rXU($n.N),i.rXU(at.R),i.rXU(dr.Ix),i.rXU(Rt.W),i.rXU(i.OM3),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-photo-gallery"]],viewQuery:function(p,T){if(1&p&&(i.GBs(Zy,5,i.c1b),i.GBs(R_,5,i.c1b)),2&p){let k;i.mGM(k=i.lsd())&&(T.container=k.first),i.mGM(k=i.lsd())&&(T.ctaContainer=k.first)}},inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["dynamicContainer",""],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],["ctaContainer",""],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"]],template:function(p,T){1&p&&i.DNE(0,Fp,17,7,"div",0),2&p&&i.Y8G("ngIf",T.business)},dependencies:[fe.Sq,fe.bT,fe.ux,fe.e1,pr],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.gallery[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%], .ae-gallery-item[_ngcontent-%COMP%]{overflow:visible!important;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;height:200px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-fit:cover;object-position:top;overflow:hidden;display:block;border-radius:8px}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{border-radius:8px;padding:40px 120px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block;position:relative;z-index:1}.image-info[_ngcontent-%COMP%]{position:relative;z-index:2}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.image-info[_ngcontent-%COMP%]{color:#000;background:rgba(255,255,255,.8);padding:10px;text-align:center;width:100%}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}"]})}}return g})();var oi=F(4796);function sm(g,c){if(1&g&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&g){const l=i.XpG();i.R7$(1),i.JRh(l.errorMessage)}}let Lp=(()=>{class g{constructor(l,p){this.authService=l,this.router=p,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(l=>{this.errorMessage=l.message})}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(oi.u),i.rXU(dr.Ix))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(p,T){1&p&&(i.j41(0,"div",0)(1,"div",1)(2,"h2",2),i.EFF(3,"Login"),i.k0s(),i.j41(4,"form",3),i.bIt("submit",function(){return T.login()}),i.j41(5,"div",4)(6,"label",5),i.EFF(7,"Email"),i.k0s(),i.j41(8,"input",6),i.bIt("ngModelChange",function(z){return T.email=z}),i.k0s()(),i.j41(9,"div",4)(10,"label",7),i.EFF(11,"Password"),i.k0s(),i.j41(12,"input",8),i.bIt("ngModelChange",function(z){return T.password=z}),i.k0s()(),i.j41(13,"button",9),i.EFF(14,"Login"),i.k0s(),i.DNE(15,sm,2,1,"div",10),i.k0s()()()),2&p&&(i.R7$(8),i.Y8G("ngModel",T.email),i.R7$(4),i.Y8G("ngModel",T.password),i.R7$(3),i.Y8G("ngIf",T.errorMessage))},dependencies:[fe.bT,yi.qT,yi.me,yi.BC,yi.cb,yi.YS,yi.vS,yi.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return g})();var Tc=F(6340);let tv=(()=>{class g{constructor(l){this.afs=l,this.basePath="businesses"}saveIntakeForm(l,p){const T=this.afs.createId(),k=this.afs.collection(`${this.basePath}/${p}/intake`).doc(T);return new Ce.c(z=>{k.set(l).then(()=>{z.next(l),z.complete()}).catch(re=>{console.error("Error saving intake form data",re),z.error(re)})})}getIntakeForms(l){return this.afs.collection(`${this.basePath}/${l}/intake`).snapshotChanges().pipe((0,xe.T)(p=>p.map(T=>{const k=T.payload.doc.data();return{id:T.payload.doc.id,...k}})))}getIntakeForm(l,p){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).valueChanges().pipe((0,xe.T)(T=>T||void 0))}updateIntakeForm(l,p,T){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).update(T)}deleteIntakeForm(l,p){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).delete()}static{this.\u0275fac=function(p){return new(p||g)(i.KVO(Tc.Qe))}}static{this.\u0275prov=i.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function so(g,c){if(1&g){const l=i.RV6();i.j41(0,"div"),i.nrm(1,"app-hero",1),i.j41(2,"form",2),i.bIt("ngSubmit",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.onSubmit())}),i.j41(3,"div",3)(4,"h2"),i.EFF(5,"Personal Information"),i.k0s(),i.j41(6,"label",4),i.EFF(7,"Name *"),i.k0s(),i.nrm(8,"input",5),i.j41(9,"label",6),i.EFF(10,"Email *"),i.k0s(),i.nrm(11,"input",7),i.j41(12,"label",8),i.EFF(13,"Phone number *"),i.k0s(),i.nrm(14,"input",9),i.k0s(),i.j41(15,"div",3)(16,"h2"),i.EFF(17,"Referral Source"),i.k0s(),i.j41(18,"label",10),i.EFF(19,"How did you find out about us? *"),i.k0s(),i.j41(20,"select",11)(21,"option",12),i.EFF(22,"Google"),i.k0s(),i.j41(23,"option",13),i.EFF(24,"Facebook"),i.k0s(),i.j41(25,"option",14),i.EFF(26,"Placement Agency"),i.k0s(),i.j41(27,"option",15),i.EFF(28,"Friends and/or Family"),i.k0s(),i.j41(29,"option",16),i.EFF(30,"Other"),i.k0s()(),i.j41(31,"label",17),i.EFF(32,"What is your relation to the resident? *"),i.k0s(),i.nrm(33,"input",18),i.k0s(),i.j41(34,"div",3)(35,"h2"),i.EFF(36,"Resident Information"),i.k0s(),i.j41(37,"label",19),i.EFF(38,"Resident's name *"),i.k0s(),i.nrm(39,"input",20),i.j41(40,"label",21),i.EFF(41,"Age *"),i.k0s(),i.nrm(42,"input",22),i.j41(43,"label",23),i.EFF(44,"Gender *"),i.k0s(),i.j41(45,"select",24)(46,"option",25),i.EFF(47,"Male"),i.k0s(),i.j41(48,"option",26),i.EFF(49,"Female"),i.k0s(),i.j41(50,"option",27),i.EFF(51,"Prefer not to say"),i.k0s(),i.j41(52,"option",16),i.EFF(53,"Other"),i.k0s()()(),i.j41(54,"div",3)(55,"h2"),i.EFF(56,"Medical History"),i.k0s(),i.j41(57,"label",28),i.EFF(58,"Relevant medical and surgical history *"),i.k0s(),i.nrm(59,"textarea",29),i.j41(60,"label",30),i.EFF(61,"Height *"),i.k0s(),i.nrm(62,"input",31),i.j41(63,"label",32),i.EFF(64,"Weight *"),i.k0s(),i.nrm(65,"input",33),i.j41(66,"label",34),i.EFF(67,"Reason for moving to an adult family home *"),i.k0s(),i.nrm(68,"textarea",35),i.j41(69,"label",36),i.EFF(70,'Do you already have an "RN Assessment for AFH"? *'),i.k0s(),i.j41(71,"select",37)(72,"option",38),i.EFF(73,"Yes"),i.k0s(),i.j41(74,"option",39),i.EFF(75,"No"),i.k0s()()(),i.j41(76,"div",3)(77,"h2"),i.EFF(78,"Care Levels"),i.k0s(),i.j41(79,"label",40),i.EFF(80,"Eating *"),i.k0s(),i.j41(81,"select",41)(82,"option",42),i.EFF(83,"Independent"),i.k0s(),i.j41(84,"option",43),i.EFF(85,"Needing Assistance"),i.k0s(),i.j41(86,"option",44),i.EFF(87,"Dependent"),i.k0s()(),i.j41(88,"label",45),i.EFF(89,"Personal Hygiene *"),i.k0s(),i.j41(90,"select",46)(91,"option",42),i.EFF(92,"Independent"),i.k0s(),i.j41(93,"option",43),i.EFF(94,"Needing Assistance"),i.k0s(),i.j41(95,"option",44),i.EFF(96,"Dependent"),i.k0s()(),i.j41(97,"label",47),i.EFF(98,"Bathing *"),i.k0s(),i.j41(99,"select",48)(100,"option",42),i.EFF(101,"Independent"),i.k0s(),i.j41(102,"option",43),i.EFF(103,"Needing Assistance"),i.k0s(),i.j41(104,"option",44),i.EFF(105,"Dependent"),i.k0s()(),i.j41(106,"label",49),i.EFF(107,"Toileting *"),i.k0s(),i.j41(108,"select",50)(109,"option",42),i.EFF(110,"Independent"),i.k0s(),i.j41(111,"option",43),i.EFF(112,"Needing Assistance"),i.k0s(),i.j41(113,"option",44),i.EFF(114,"Dependent"),i.k0s()(),i.j41(115,"label",51),i.EFF(116,"Mobility *"),i.k0s(),i.j41(117,"select",52)(118,"option",42),i.EFF(119,"Independent"),i.k0s(),i.j41(120,"option",43),i.EFF(121,"Needing Assistance"),i.k0s(),i.j41(122,"option",44),i.EFF(123,"Dependent"),i.k0s()(),i.j41(124,"label",53),i.EFF(125,"Transfers *"),i.k0s(),i.j41(126,"select",54)(127,"option",42),i.EFF(128,"Independent"),i.k0s(),i.j41(129,"option",43),i.EFF(130,"Needing Assistance"),i.k0s(),i.j41(131,"option",44),i.EFF(132,"Dependent"),i.k0s()(),i.j41(133,"label",55),i.EFF(134,"Medication Assistance *"),i.k0s(),i.j41(135,"select",56)(136,"option",38),i.EFF(137,"Yes"),i.k0s(),i.j41(138,"option",39),i.EFF(139,"No"),i.k0s()()(),i.j41(140,"div",3)(141,"h2"),i.EFF(142,"Other Medical Information"),i.k0s(),i.j41(143,"label",57),i.EFF(144,"Memory Issues *"),i.k0s(),i.j41(145,"select",58)(146,"option",38),i.EFF(147,"Yes"),i.k0s(),i.j41(148,"option",39),i.EFF(149,"No"),i.k0s()(),i.j41(150,"label",59),i.EFF(151,"Behavior"),i.k0s(),i.nrm(152,"textarea",60),i.j41(153,"label",61),i.EFF(154,"Skin Condition"),i.k0s(),i.nrm(155,"textarea",62),i.j41(156,"label",63),i.EFF(157,"Other information you want us to know"),i.k0s(),i.nrm(158,"textarea",64),i.k0s(),i.j41(159,"div",3)(160,"h2"),i.EFF(161,"Living Situation"),i.k0s(),i.j41(162,"label",65),i.EFF(163,"Current living situation *"),i.k0s(),i.j41(164,"select",66)(165,"option",67),i.EFF(166,"Own Home"),i.k0s(),i.j41(167,"option",68),i.EFF(168,"Relative's Home"),i.k0s(),i.j41(169,"option",69),i.EFF(170,"Hospital"),i.k0s(),i.j41(171,"option",70),i.EFF(172,"Adult Family Home"),i.k0s(),i.j41(173,"option",71),i.EFF(174,"Senior Living"),i.k0s(),i.j41(175,"option",16),i.EFF(176,"Other"),i.k0s()()(),i.j41(177,"div",3)(178,"label",72),i.EFF(179,"Target move in date *"),i.k0s(),i.nrm(180,"input",73),i.k0s(),i.j41(181,"div",3)(182,"label",74),i.EFF(183,"Would you like a summary of disclosures of our rates and services, including itemized services?"),i.k0s(),i.j41(184,"select",75)(185,"option",38),i.EFF(186,"Yes"),i.k0s(),i.j41(187,"option",39),i.EFF(188,"No"),i.k0s()()(),i.j41(189,"div",3)(190,"label",76),i.EFF(191,"Do you have any questions for us?"),i.k0s(),i.nrm(192,"textarea",77),i.k0s(),i.j41(193,"button",78),i.EFF(194,"Submit"),i.k0s()()()}if(2&g){const l=i.XpG();i.R7$(1),i.Y8G("layoutType",l.business.theme.themeType),i.R7$(1),i.Y8G("formGroup",l.intakeForm),i.R7$(191),i.Y8G("disabled",l.intakeForm.invalid)}}let Fs=(()=>{class g{constructor(l,p,T,k,z){this.fb=l,this.intakeService=p,this.businessDataService=T,this.emailService=k,this.metaService=z,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",yi.k0.required],email:["",[yi.k0.required,yi.k0.email]],phoneNumber:["",yi.k0.required],referralSource:["",yi.k0.required],relationToResident:[""],residentName:["",yi.k0.required],age:["",yi.k0.required],gender:["",yi.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const l=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(l,this.businessId).subscribe(T=>{console.log("Intake form saved successfully!",T)},T=>{console.error("Error saving intake form:",T)});const p={name:l.name,email:l.email,message:this.generateEmailMessage(l),website:window.location.hostname};this.emailService.sendEmail(p).subscribe(T=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},T=>{console.error("Error sending email",T),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(l){return`\n      Name: ${l.name}\n      Email: ${l.email}\n      Phone Number: ${l.phoneNumber}\n      Referral Source: ${l.referralSource}\n      Relation to Resident: ${l.relationToResident}\n      Resident Name: ${l.residentName}\n      Age: ${l.age}\n      Gender: ${l.gender}\n      Medical History: ${l.medicalHistory}\n      Height: ${l.height}\n      Weight: ${l.weight}\n      Reason for Moving: ${l.reasonForMoving}\n      RN Assessment: ${l.rnAssessment}\n      Eating: ${l.eating}\n      Personal Hygiene: ${l.personalHygiene}\n      Bathing: ${l.bathing}\n      Toileting: ${l.toileting}\n      Mobility: ${l.mobility}\n      Transfers: ${l.transfers}\n      Medication Assistance: ${l.medicationAssistance}\n      Memory Issues: ${l.memoryIssues}\n      Behavior: ${l.behavior}\n      Skin Condition: ${l.skinCondition}\n      Additional Info: ${l.additionalInfo}\n      Current Living Situation: ${l.currentLivingSituation}\n      Target Move-In Date: ${l.targetMoveInDate}\n      Disclosure Summary: ${l.disclosureSummary}\n      Questions: ${l.questions}\n    `}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(yi.ok),i.rXU(tv),i.rXU(kt.A),i.rXU(Qg),i.rXU(at.R))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-resident-intake-form"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"layoutType"],[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(p,T){1&p&&i.DNE(0,so,195,3,"div",0),2&p&&i.Y8G("ngIf",T.business)},dependencies:[fe.bT,yi.qT,yi.xH,yi.y7,yi.me,yi.Q0,yi.wz,yi.BC,yi.cb,yi.j4,yi.JD,pr],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return g})();function Ya(g,c){if(1&g&&(i.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),i.EFF(3),i.k0s()(),i.j41(4,"div",6)(5,"p"),i.EFF(6),i.k0s()()()),2&g){const l=c.$implicit;i.R7$(3),i.SpI('"',l.quote,'"'),i.R7$(3),i.JRh(l.name)}}function P_(g,c){if(1&g&&(i.j41(0,"div",2),i.DNE(1,Ya,7,2,"div",3),i.k0s()),2&g){const l=i.XpG();i.R7$(1),i.Y8G("ngForOf",l.testimonials)}}let x_=(()=>{class g{constructor(l,p){this.businessDataService=l,this.metaService=p,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{console.log("Testimonial List - :",l),l&&(this.testimonials=l.testimonials||[],this.themeType=l.theme.themeType,this.metaService.loadAndApplyMeta(l?.id))})}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(kt.A),i.rXU(at.R))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(p,T){1&p&&(i.nrm(0,"app-hero"),i.j41(1,"div",0),i.DNE(2,P_,2,1,"div",1),i.k0s()),2&p&&(i.R7$(2),i.Y8G("ngIf",T.testimonials.length>0))},dependencies:[fe.Sq,fe.bT,pr],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return g})();var su=F(4710);const If=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Vs.B},{path:"about-us",component:Hi},{path:"services",component:Us},{path:"contact-us",component:Qy},{path:"gallery",component:lh},{path:"login",component:Lp},{path:"resident-form",component:Fs},{path:"testimonials",component:x_},{path:"faq",component:I_.C},{path:"location",component:(()=>{class g{constructor(l,p,T){this.route=l,this.businessDataService=p,this.googleMapsLoader=T,this.business=null,this.location=null,this.layoutType="demo",this.locationIndex=null}ngOnInit(){this.route.queryParams.subscribe(l=>{this.locationIndex=Number(l.locationIndex),console.log("\u{1f522} Location Index from URL:",this.locationIndex),null!==this.locationIndex&&this.businessDataService.getBusinessId().pipe((0,te.n)(p=>p?(console.log("\u2705 Business ID Found:",p),this.businessDataService.loadBusinessData(p)):[])).subscribe(p=>{p&&(console.log("\u2705 Business Data Ready:",p),this.business=p,this.loadBusinessData())})})}loadBusinessData(){this.businessDataService.getBusinessId().pipe((0,te.n)(l=>l?this.businessDataService.loadBusinessData(l):[])).subscribe(l=>{l?(console.log("\u2705 Business Data Loaded:",l),this.business=l,this.layoutType=l.theme?.themeType,console.log("\u{1f4cd} Locations in Business Data:",l.locations),console.log("\u{1f522} Requested Location Index:",this.locationIndex),this.businessDataService.getLocations().subscribe(p=>{console.log("\u{1f4cd} Firestore Locations Retrieved:",p),p&&this.locationIndex<p.length?(this.location=p[this.locationIndex],console.log("\u2705 Loaded Firestore Location:",this.location),this.loadMap()):console.error("\u274c Location index is out of range. Available Firestore locations:",p.length)})):console.error("\u274c Business data is null.")})}loadMap(){this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.showAddressOnMap(`${this.location.street}, ${this.location.city}, ${this.location.state} ${this.location.zipcode}`)}).catch(l=>{console.error("Error loading Google Maps script:",l)})}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(l){this.geocoder.geocode({address:l},(p,T)=>{"OK"===T?(this.map.setCenter(p[0].geometry.location),this.map.setZoom(12),new google.maps.Marker({map:this.map,position:p[0].geometry.location})):console.error("Geocode was not successful: "+T)})}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(dr.nX),i.rXU(kt.A),i.rXU(su.L))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-location-page"]],decls:43,vars:17,consts:[[3,"layoutType"],[1,"location-page-container",2,"text-align","left"],[1,"row"],[1,"col"],["data-item","block-link",1,"map--open-maps-link"],["target","_blank","rel","noreferrer","aria-label","Open in maps",3,"href"],[1,"map-hours"],[3,"href","title"],["href","/contact-us","title","#book-online"],[3,"src"],["id","map",1,"map-container"]],template:function(p,T){1&p&&(i.nrm(0,"app-hero",0),i.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),i.EFF(5),i.k0s(),i.j41(6,"p")(7,"strong"),i.EFF(8,"Address:"),i.k0s(),i.EFF(9),i.k0s(),i.j41(10,"p")(11,"strong"),i.EFF(12,"Email:"),i.k0s(),i.EFF(13),i.k0s(),i.j41(14,"p")(15,"strong"),i.EFF(16,"Phone:"),i.k0s(),i.EFF(17),i.k0s(),i.j41(18,"p")(19,"strong"),i.EFF(20,"Fax:"),i.k0s(),i.EFF(21),i.k0s(),i.j41(22,"div",4)(23,"a",5),i.EFF(24," Open in maps "),i.k0s()(),i.j41(25,"div",6)(26,"p"),i.EFF(27,"Monday - Friday"),i.nrm(28,"br"),i.EFF(29,"9am - 5pm"),i.nrm(30,"br")(31,"br"),i.EFF(32,"Call to schedule an appointment "),i.j41(33,"a",7),i.EFF(34),i.k0s(),i.EFF(35),i.j41(36,"a",8),i.EFF(37,"book online!"),i.k0s()()()(),i.j41(38,"div",3),i.nrm(39,"img",9),i.k0s()(),i.j41(40,"div",2)(41,"div",3),i.nrm(42,"div",10),i.k0s()()()),2&p&&(i.Y8G("layoutType","prestige"),i.R7$(5),i.JRh((null==T.location?null:T.location.locationName)||"Location"),i.R7$(4),i.LHq(" ",null==T.location?null:T.location.street,", ",null==T.location?null:T.location.city,", ",null==T.location?null:T.location.state," ",null==T.location?null:T.location.zipcode," "),i.R7$(4),i.SpI(" ",null==T.location?null:T.location.email,""),i.R7$(4),i.SpI(" ",null==T.location?null:T.location.phone,""),i.R7$(4),i.SpI(" ",null==T.location?null:T.location.fax,""),i.R7$(2),i.yjJ("href","https://google.com/maps/place/'",T.location.street,"+",T.location.city,"+",T.location.zipcode,"'",i.B4B),i.R7$(10),i.Mz_("href","tel:",null==T.location?null:T.location.phone,"",i.B4B)("title","tel:",null==T.location?null:T.location.phone,""),i.R7$(1),i.SpI("",null==T.location?null:T.location.phone,","),i.R7$(1),i.SpI(" text us at: ",null==T.location?null:T.location.phone," or "),i.R7$(4),i.FS9("src",null==T.location?null:T.location.image,i.B4B))},dependencies:[pr],styles:[".location-page-container[_ngcontent-%COMP%]{text-align:center;padding:20px}.map-container[_ngcontent-%COMP%]{width:100%;height:400px;border-radius:10px;margin-top:20px}"]})}}return g})()},{path:"login",component:Lp},{path:"admin",loadChildren:()=>F.e(380).then(F.bind(F,1380)).then(g=>g.AdminModule)},{path:":id",component:Vs.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let wf=(()=>{class g{static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275mod=i.$C({type:g})}static{this.\u0275inj=i.G2t({imports:[dr.iI.forRoot(If),dr.iI]})}}return g})();var Af=F(5009);function om(g,c){if(1&g&&i.nrm(0,"img",12),2&g){const l=i.XpG();i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}function Vp(g,c){1&g&&(i.j41(0,"li",18),i.EFF(1,"No locations available"),i.k0s())}function vi(g,c){if(1&g){const l=i.RV6();i.j41(0,"li",18)(1,"span",19),i.bIt("click",function(){const k=i.eBV(l).index,z=i.XpG(2);return i.Njj(z.selectLocation(k))}),i.EFF(2),i.k0s()()}if(2&g){const l=c.$implicit;i.R7$(2),i.JRh(l.locationName||"Unknown City")}}function Df(g,c){if(1&g){const l=i.RV6();i.j41(0,"li",13)(1,"span",14),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.toggleDropdown(0))}),i.EFF(2," Locations "),i.k0s(),i.j41(3,"ul",15),i.DNE(4,Vp,2,0,"li",16),i.DNE(5,vi,3,1,"li",17),i.k0s()()}if(2&g){const l=i.XpG();i.R7$(3),i.AVh("show",0===l.expandedDropdownIndex),i.R7$(1),i.Y8G("ngIf",0===l.locations.length),i.R7$(1),i.Y8G("ngForOf",l.locations)}}function am(g,c){if(1&g){const l=i.RV6();i.j41(0,"li",8)(1,"span",9),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(2,"Our Home"),i.k0s()()}}function As(g,c){if(1&g){const l=i.RV6();i.j41(0,"li",8)(1,"span",9),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(2,"Our Work"),i.k0s()()}}function M_(g,c){if(1&g){const l=i.RV6();i.j41(0,"li",8)(1,"span",9),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(2,"Resident Form"),i.k0s()()}}const O_=function(g){return{"clemo-shrink":g}},ch=function(){return["/home"]},lm=function(g){return{id:g}},N_=function(g){return{"clemo-show":g}};let rv=(()=>{class g{constructor(l,p,T){this.route=l,this.router=p,this.businessDataService=T,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1,this.locationsOpen=!1,this.selectedLocation=null,this.expandedDropdownIndex=null}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}),this.businessDataService.getLocations().subscribe(p=>{this.locations=p,console.log("\u{1f4cd} Locations Updated in Navigation:",this.locations)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(l){const p=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:p}).then(T=>{T||console.error("Navigation failed!")})}toggleDropdown(l){this.expandedDropdownIndex=this.expandedDropdownIndex===l?null:l}selectLocation(l){console.log("\u{1f4cd} Selected Location Index:",l);const p={locationIndex:l};this.businessId&&(p.id=this.businessId),console.log("\u{1f680} Navigating to location with Params:",p),this.router.navigate(["/location"],{queryParams:p}).then(T=>{T?this.closeMenu():console.error("\u274c Navigation failed!")})}toggleLocations(){this.locationsOpen=!this.locationsOpen,console.log("\u{1f4c2} Locations Dropdown Toggled:",this.locationsOpen),console.log("\u{1f50d} Locations Array:",this.locations)}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(dr.nX),i.rXU(dr.Ix),i.rXU(kt.A))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-expandable-navigation"]],hostBindings:function(p,T){1&p&&i.bIt("scroll",function(){return T.onWindowScroll()},!1,i.tSv)},decls:24,vars:16,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-linkitem"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-linkitem dropdown",4,"ngIf"],["class","clemo-nav-linkitem",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"],[1,"clemo-nav-linkitem","dropdown"],[1,"clemo-nav-link","dropdown-toggle",3,"click"],[1,"dropdown-menu"],["class","dropdown-item",4,"ngIf"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"dropdown-item"],[3,"click"]],template:function(p,T){1&p&&(i.j41(0,"nav",0)(1,"div",1)(2,"a",2),i.DNE(3,om,1,1,"img",3),i.k0s(),i.j41(4,"button",4),i.bIt("click",function(){return T.toggleMenu()}),i.nrm(5,"span",5),i.k0s(),i.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),i.bIt("click",function(){return T.navigateTo("home")}),i.EFF(10,"Home"),i.k0s()(),i.DNE(11,Df,6,4,"li",10),i.j41(12,"li",8)(13,"span",9),i.bIt("click",function(){return T.navigateTo("about-us")}),i.EFF(14,"About Us"),i.k0s()(),i.j41(15,"li",8)(16,"span",9),i.bIt("click",function(){return T.navigateTo("services")}),i.EFF(17,"Services"),i.k0s()(),i.DNE(18,am,3,0,"li",11),i.DNE(19,As,3,0,"li",11),i.DNE(20,M_,3,0,"li",11),i.j41(21,"li",8)(22,"span",9),i.bIt("click",function(){return T.navigateTo("contact-us")}),i.EFF(23,"Contact"),i.k0s()()()()()()),2&p&&(i.Y8G("ngClass",i.eq3(9,O_,T.isShrunk)),i.R7$(2),i.Y8G("routerLink",i.lJ4(11,ch))("queryParams",i.eq3(12,lm,T.businessId)),i.R7$(1),i.Y8G("ngIf",null==T.business?null:T.business.logoImage),i.R7$(3),i.Y8G("ngClass",i.eq3(14,N_,T.menuOpen)),i.R7$(5),i.Y8G("ngIf",T.locations.length>1),i.R7$(7),i.Y8G("ngIf","sb"!=T.layoutType),i.R7$(1),i.Y8G("ngIf","sb"==T.layoutType),i.R7$(1),i.Y8G("ngIf","sb"!=T.layoutType))},dependencies:[fe.YU,fe.Sq,fe.bT,dr.Wk]})}}return g})();function cm(g,c){if(1&g&&i.nrm(0,"img",13),2&g){const l=i.XpG(2);i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}const Sf=function(){return["/home"]},uh=function(g){return{id:g}},Up=function(g){return{"open-bar1":g}},dh=function(g){return{"open-bar2":g}},um=function(g){return{"open-bar3":g}},ou=function(g){return{active:g}};function iv(g,c){if(1&g){const l=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),i.DNE(5,cm,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s()()()(),i.bVm()}if(2&g){const l=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(7,Sf))("queryParams",i.eq3(8,uh,l.businessId)),i.R7$(1),i.Y8G("ngIf",null==l.business?null:l.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(10,Up,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(12,dh,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,um,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,ou,l.menuOpen))}}function au(g,c){if(1&g&&i.nrm(0,"img",13),2&g){const l=i.XpG(2);i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}const lu=function(){return["/contact-us"]};function P0(g,c){if(1&g){const l=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,au,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&g){const l=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Sf))("queryParams",i.eq3(10,uh,l.businessId)),i.R7$(1),i.Y8G("ngIf",null==l.business?null:l.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,Up,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,dh,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,um,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,ou,l.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,lu))("queryParams",i.eq3(21,uh,l.businessId))}}function Wl(g,c){1&g&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function jp(g,c){1&g&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function hh(g,c){if(1&g&&i.nrm(0,"img",13),2&g){const l=i.XpG(2);i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}function dm(g,c){if(1&g){const l=i.RV6();i.qex(0),i.j41(1,"nav",16)(2,"div",3)(3,"div",4)(4,"a",5),i.DNE(5,hh,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.scrollToSection("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.scrollToSection("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.scrollToSection("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.scrollToSection("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.scrollToSection("contact-us"))}),i.EFF(20,"Contact"),i.k0s()()()(),i.bVm()}if(2&g){const l=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(7,Sf))("queryParams",i.eq3(8,uh,l.businessId)),i.R7$(1),i.Y8G("ngIf",null==l.business?null:l.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(10,Up,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(12,dh,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,um,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,ou,l.menuOpen))}}function fh(g,c){1&g&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function Bp(g,c){if(1&g&&i.nrm(0,"img",13),2&g){const l=i.XpG(2);i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}function $p(g,c){if(1&g){const l=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,Bp,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"gallery"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(22,"Intake Form"),i.k0s()(),i.j41(23,"div",4)(24,"a",5)(25,"button",15),i.EFF(26,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&g){const l=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Sf))("queryParams",i.eq3(10,uh,l.businessId)),i.R7$(1),i.Y8G("ngIf",null==l.business?null:l.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,Up,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,dh,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,um,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,ou,l.menuOpen)),i.R7$(14),i.Y8G("routerLink",i.lJ4(20,lu))("queryParams",i.eq3(21,uh,l.businessId))}}let cu=(()=>{class g{constructor(l,p,T){this.route=l,this.router=p,this.businessDataService=T,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}))})}navigateTo(l){const p=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:p}).then(T=>{T||console.error("Navigation failed!")})}scrollToSection(l){const p=document.getElementById(l);p&&p.scrollIntoView({behavior:"smooth",block:"start"}),this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(dr.nX),i.rXU(dr.Ix),i.rXU(kt.A))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-navigation"]],decls:8,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"],[1,"navbar_sp"]],template:function(p,T){1&p&&(i.j41(0,"div",0),i.DNE(1,iv,21,18,"ng-container",1),i.DNE(2,P0,29,23,"ng-container",1),i.DNE(3,Wl,2,0,"ng-container",1),i.DNE(4,jp,2,0,"ng-container",1),i.DNE(5,dm,21,18,"ng-container",1),i.DNE(6,fh,2,0,"ng-container",1),i.DNE(7,$p,27,23,"ng-container",1),i.k0s()),2&p&&(i.Y8G("ngSwitch",T.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","sp"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(1),i.Y8G("ngSwitchCase","demo"))},dependencies:[fe.YU,fe.bT,fe.ux,fe.e1,dr.Wk,rv],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;max-width:var(--site-max-width);margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 1081px){.navbar_[_ngcontent-%COMP%]{max-width:100vw}.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.nav-item[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;padding:0}.ae-navbar-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .afhBtn[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;max-width:100vw;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return g})();function Gp(g,c){if(1&g&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()(),i.j41(34,"div",12)(35,"div",13)(36,"div",14)(37,"p"),i.EFF(38,"DESIGNED BY "),i.j41(39,"a",15),i.EFF(40,"SB MEDIA HUB"),i.k0s()()(),i.j41(41,"div",16)(42,"p"),i.EFF(43," \xa9 Copyright 2025. All rights reserved."),i.k0s()()()()(),i.bVm()),2&g){const l=i.XpG();i.R7$(4),i.JRh(null==l.business?null:l.business.businessName),i.R7$(7),i.SpI(" ",null==l.business?null:l.business.address," "),i.R7$(3),i.SpI("Provider:",null==l.business?null:l.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==l.business?null:l.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==l.business?null:l.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone)}}function Xa(g,c){if(1&g&&(i.qex(0),i.j41(1,"footer",17)(2,"div",18)(3,"div",19),i.nrm(4,"hr",20),i.j41(5,"h2",21),i.EFF(6),i.k0s(),i.nrm(7,"hr",20),i.k0s(),i.j41(8,"div",22)(9,"div",23)(10,"h3",24),i.EFF(11,"Owner:"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"div",23)(15,"h3",24),i.EFF(16,"Location:"),i.k0s(),i.j41(17,"p"),i.EFF(18),i.k0s()(),i.j41(19,"div",23)(20,"h3",24),i.EFF(21,"Provider:"),i.k0s(),i.j41(22,"p"),i.EFF(23),i.k0s(),i.j41(24,"p"),i.EFF(25,"Email: "),i.j41(26,"a",11),i.EFF(27),i.k0s()(),i.j41(28,"p"),i.EFF(29,"Phone: "),i.j41(30,"a",11),i.EFF(31),i.k0s()()()(),i.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"p"),i.EFF(36,"DESIGNED BY "),i.j41(37,"a",15),i.EFF(38,"SB MEDIA HUB"),i.k0s()()(),i.j41(39,"div",16)(40,"p"),i.EFF(41),i.k0s()()()()()(),i.bVm()),2&g){const l=i.XpG();i.R7$(6),i.JRh(null==l.business?null:l.business.businessName),i.R7$(7),i.JRh(null==l.business?null:l.business.providerName),i.R7$(5),i.JRh(null==l.business?null:l.business.address),i.R7$(5),i.JRh(null==l.business?null:l.business.providerName),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.email),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone),i.R7$(10),i.Lme("\xa9 ",2024," ",null==l.business?null:l.business.businessName,". All rights reserved.")}}function ph(g,c){if(1&g){const l=i.RV6();i.qex(0),i.j41(1,"footer",25)(2,"div",26)(3,"div",27),i.nrm(4,"img",28),i.j41(5,"h4"),i.EFF(6),i.k0s(),i.j41(7,"p",29),i.EFF(8),i.k0s(),i.j41(9,"p",30),i.EFF(10),i.k0s()(),i.j41(11,"div",31)(12,"a",32),i.nrm(13,"i",33),i.k0s(),i.j41(14,"a",32),i.nrm(15,"i",34),i.k0s()(),i.j41(16,"nav",35)(17,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(18,"HOME"),i.k0s(),i.j41(19,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(20,"ABOUT US"),i.k0s(),i.j41(21,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(22,"SERVICES"),i.k0s(),i.j41(23,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(24,"OUR HOME"),i.k0s(),i.j41(25,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(26,"RESIDENT FORM"),i.k0s(),i.j41(27,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(28,"CONTACT"),i.k0s()(),i.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),i.EFF(33,"DESIGNED BY "),i.j41(34,"a",15),i.EFF(35,"SB MEDIA HUB"),i.k0s()()(),i.j41(36,"div",16)(37,"p"),i.EFF(38," \xa9 Copyright 2025. All rights reserved."),i.k0s()()()()()(),i.bVm()}if(2&g){const l=i.XpG();i.R7$(4),i.FS9("src",null==l.business?null:l.business.logoImage,i.B4B),i.R7$(2),i.JRh(null==l.business?null:l.business.businessName),i.R7$(2),i.JRh(null==l.business?null:l.business.phone),i.R7$(2),i.JRh(null==l.business?null:l.business.address)}}function cd(g,c){if(1&g){const l=i.RV6();i.qex(0),i.j41(1,"footer",25)(2,"div",26)(3,"div",27),i.nrm(4,"img",28),i.j41(5,"h4"),i.EFF(6),i.k0s(),i.j41(7,"p",29),i.EFF(8),i.k0s(),i.j41(9,"p",30),i.EFF(10),i.k0s()(),i.j41(11,"div",31)(12,"a",32),i.nrm(13,"i",33),i.k0s(),i.j41(14,"a",32),i.nrm(15,"i",34),i.k0s()(),i.j41(16,"nav",35)(17,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(18,"HOME"),i.k0s(),i.j41(19,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(20,"ABOUT US"),i.k0s(),i.j41(21,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(22,"SERVICES"),i.k0s(),i.j41(23,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(24,"OUR HOME"),i.k0s(),i.j41(25,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(26,"RESIDENT FORM"),i.k0s(),i.j41(27,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(28,"CONTACT"),i.k0s()(),i.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),i.EFF(33,"DESIGNED BY "),i.j41(34,"a",15),i.EFF(35,"SB MEDIA HUB"),i.k0s()()(),i.j41(36,"div",16)(37,"p"),i.EFF(38," \xa9 Copyright 2025. All rights reserved."),i.k0s()()()()()(),i.bVm()}if(2&g){const l=i.XpG();i.R7$(4),i.FS9("src",null==l.business?null:l.business.logoImage,i.B4B),i.R7$(2),i.JRh(null==l.business?null:l.business.businessName),i.R7$(2),i.JRh(null==l.business?null:l.business.phone),i.R7$(2),i.JRh(null==l.business?null:l.business.address)}}function Rf(g,c){if(1&g){const l=i.RV6();i.qex(0),i.j41(1,"footer",25)(2,"div",26)(3,"div",27),i.nrm(4,"img",28),i.j41(5,"p",29),i.EFF(6),i.k0s(),i.j41(7,"p",30),i.EFF(8),i.k0s()(),i.j41(9,"div",31)(10,"a",32),i.nrm(11,"i",33),i.k0s(),i.j41(12,"a",32),i.nrm(13,"i",34),i.k0s()(),i.j41(14,"nav",35)(15,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(16,"HOME"),i.k0s(),i.j41(17,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(18,"ABOUT US"),i.k0s(),i.j41(19,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(20,"SERVICES"),i.k0s(),i.j41(21,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(22,"OUR WORK"),i.k0s(),i.j41(23,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(24,"CONTACT"),i.k0s()(),i.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"p"),i.EFF(29,"DESIGNED BY "),i.j41(30,"a",15),i.EFF(31,"SB MEDIA HUB"),i.k0s()()(),i.j41(32,"div",16)(33,"p"),i.EFF(34," \xa9 Copyright 2025. All rights reserved."),i.k0s()()()()()(),i.bVm()}if(2&g){const l=i.XpG();i.R7$(4),i.FS9("src",null==l.business?null:l.business.logoImage,i.B4B),i.R7$(2),i.JRh(null==l.business?null:l.business.phone),i.R7$(2),i.JRh(null==l.business?null:l.business.address)}}function k_(g,c){if(1&g&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&g){const l=i.XpG();i.R7$(4),i.JRh(null==l.business?null:l.business.businessName),i.R7$(7),i.SpI(" ",null==l.business?null:l.business.address," "),i.R7$(3),i.SpI("Provider:",null==l.business?null:l.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==l.business?null:l.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==l.business?null:l.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone)}}function Pf(g,c){if(1&g&&(i.j41(0,"div",37)(1,"h1",38),i.EFF(2,"Debugger:"),i.k0s(),i.j41(3,"div",39)(4,"div",40)(5,"span",41),i.EFF(6,"Theme File:"),i.k0s(),i.j41(7,"span",42),i.EFF(8),i.k0s()(),i.j41(9,"div",40)(10,"span",41),i.EFF(11,"Theme Type:"),i.k0s(),i.j41(12,"span",42),i.EFF(13),i.k0s()(),i.j41(14,"div",40)(15,"span",41),i.EFF(16,"Business ID:"),i.k0s(),i.j41(17,"span",42),i.EFF(18),i.k0s()(),i.j41(19,"div",40)(20,"span",41),i.EFF(21,"Business Name:"),i.k0s(),i.j41(22,"span",42),i.EFF(23),i.k0s()()()()),2&g){const l=i.XpG();i.R7$(8),i.JRh(l.themeFileName),i.R7$(5),i.JRh(null==l.business||null==l.business.theme?null:l.business.theme.themeType),i.R7$(5),i.JRh(null==l.business?null:l.business.id),i.R7$(5),i.JRh(null==l.business?null:l.business.businessName)}}let ud=(()=>{class g{constructor(l,p,T,k,z,re){this.route=l,this.webContentService=p,this.authService=T,this.themeService=k,this.businessDataService=z,this.router=re,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(l){this.router.navigate([`/${l}`],{queryParams:this.businessId?{id:this.businessId}:{}}).then(T=>{T||console.error("Navigation failed!")})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(l=>{this.business=l}),this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(p=>{p&&(this.themeFileName=p.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(dr.nX),i.rXU($n.N),i.rXU(oi.u),i.rXU(Af.F),i.rXU(kt.A),i.rXU(dr.Ix))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-footer"]],decls:9,vars:9,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"clemo-footer-bottom"],[1,"copy"],[1,"design"],["href","sbmediahub.com"],[1,"rights"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(p,T){1&p&&(i.j41(0,"div",0),i.DNE(1,Gp,44,12,"ng-container",1),i.DNE(2,Xa,42,10,"ng-container",1),i.DNE(3,ph,39,4,"ng-container",1),i.DNE(4,cd,39,4,"ng-container",1),i.DNE(5,Rf,35,3,"ng-container",1),i.DNE(6,k_,34,12,"ng-container",2),i.k0s(),i.DNE(7,Pf,24,4,"div",3),i.nI1(8,"async")),2&p&&(i.Y8G("ngSwitch",T.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(2),i.Y8G("ngIf",i.bMT(8,7,T.isAuthenticated$)))},dependencies:[fe.bT,fe.ux,fe.e1,fe.fG,fe.Jj]})}}return g})(),hm=(()=>{class g{constructor(l,p,T,k,z){this.route=l,this.webContent=p,this.metaService=T,this.router=k,this.themeService=z,this.title="adult-family-home"}ngOnInit(){this.route.paramMap.subscribe(l=>{this.businessId=l.get("id")||"MGou3rzTVIbP77OLmZa7",this.loadBusinessData()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(l=>{l&&(this.business=l)})}static{this.\u0275fac=function(p){return new(p||g)(i.rXU(dr.nX),i.rXU($n.N),i.rXU(at.R),i.rXU(dr.Ix),i.rXU(Af.F))}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-root"]],decls:3,vars:0,template:function(p,T){1&p&&i.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[dr.n3,cu,ud]})}}return g})();const xf_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Kl=F(2214),oo=F(5407);class fa{constructor(c){return c}}class Mf{constructor(){return(0,Kl.Dk)()}}const gh=new i.nKC("angularfire2._apps"),ov={provide:fa,useFactory:function fm(g){return g&&1===g.length?g[0]:new fa((0,Kl.Sx)())},deps:[[new i.Xx1,gh]]},dd={provide:Mf,deps:[[new i.Xx1,gh]]};function mh(g){return(c,l)=>{const p=c.runOutsideAngular(()=>g(l));return new fa(p)}}let F_=(()=>{class g{constructor(l){(0,Kl.KO)("angularfire",oo.xv.full,"core"),(0,Kl.KO)("angularfire",oo.xv.full,"app"),(0,Kl.KO)("angular",i.xvI.full,l.toString())}static \u0275fac=function(p){return new(p||g)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:g});static \u0275inj=i.G2t({providers:[ov,dd]})}return g})();function _h(g,...c){return{ngModule:F_,providers:[{provide:gh,useFactory:mh(g),multi:!0,deps:[i.SKi,i.zZn,oo.u0,...c]}]}}const Hp=(0,oo.S3)(Kl.Wp,!0);F(5504),F(7852),F(1076),F(8041),F(1362);class gm{constructor(){return(0,oo.CA)("auth")}}var RE=F(9583);class W_{constructor(c){return c}}const PE="firestore",Qp=new i.nKC("angularfire2.firestore-instances");function vm(g){return(c,l)=>{const p=c.runOutsideAngular(()=>g(l));return new W_(p)}}const Cv={provide:class k0{constructor(){return(0,oo.CA)(PE)}},deps:[[new i.Xx1,Qp]]},Iv={provide:W_,useFactory:function F0(g,c){const l=(0,oo.lR)(PE,g,c);return l&&new W_(l)},deps:[[new i.Xx1,Qp],fa]};let q_=(()=>{class g{constructor(){(0,Kl.KO)("angularfire",oo.xv.full,"fst")}static \u0275fac=function(p){return new(p||g)};static \u0275mod=i.$C({type:g});static \u0275inj=i.G2t({providers:[Iv,Cv]})}return g})();function Em(g,...c){return{ngModule:q_,providers:[{provide:Qp,useFactory:vm(g),multi:!0,deps:[i.SKi,i.zZn,oo.u0,Mf,[new i.Xx1,gm],[new i.Xx1,oo.Jv],...c]}]}}const jo=(0,oo.S3)(RE.aU,!0);var iy=F(9253),og=F(8721),Ch=F(1977),sy=F(4535);class pu{constructor(c){return c}}const Lf="storage",gu=new i.nKC("angularfire2.storage-instances");function oy(g){return(c,l)=>{const p=c.runOutsideAngular(()=>g(l));return new pu(p)}}const Vf={provide:class Dm{constructor(){return(0,oo.CA)(Lf)}},deps:[[new i.Xx1,gu]]},ay={provide:pu,useFactory:function ag(g,c){const l=(0,oo.lR)(Lf,g,c);return l&&new pu(l)},deps:[[new i.Xx1,gu],fa]};let ta=(()=>{class g{constructor(){(0,Kl.KO)("angularfire",oo.xv.full,"gcs")}static \u0275fac=function(p){return new(p||g)};static \u0275mod=i.$C({type:g});static \u0275inj=i.G2t({providers:[ay,Vf]})}return g})();function ly(g,...c){return{ngModule:ta,providers:[{provide:gu,useFactory:oy(g),multi:!0,deps:[i.SKi,i.zZn,oo.u0,Mf,[new i.Xx1,gm],[new i.Xx1,oo.Jv],...c]}]}}const uy=(0,oo.S3)(sy.c7,!0);var Mm=F(3012);let py=(()=>{class g{constructor(l,p,T){this.http=l,this.themeService=p,this.businessService=T,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(l){return new Promise((p,T)=>{this.themeService.getBusinessTheme(l).subscribe({next:k=>{this.themeService.applyThemeFile(k?k.themeFileName:"default.css").then(()=>p()).catch(re=>{console.error("Error applying theme file:",re),p()}),this.themeService.getThemeColors(l).subscribe(re=>{this.applyTheme(re),p()},re=>{console.error("Error loading theme:",re),p()})},error:k=>{console.error("Error loading business theme:",k),this.themeService.applyThemeFile("default.css").then(()=>p()).catch(z=>{console.error("Error applying default theme file:",z),p()})}})})}applyTheme(l){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",l.primaryColor),document.documentElement.style.setProperty("--secondary-color",l.secondaryColor),document.documentElement.style.setProperty("--accent-color",l.accentColor),document.documentElement.style.setProperty("--background-color",l.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",l.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",l.textColor),document.documentElement.style.setProperty("--nav-background-color",l.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",l.navTextColor),document.documentElement.style.setProperty("--nav-active-background",l.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",l.navActiveText),document.documentElement.style.setProperty("--button-color",l.buttonColor),document.documentElement.style.setProperty("--button-hover-color",l.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(l){return l.primaryColor&&l.secondaryColor&&l.accentColor&&l.backgroundColor&&l.darkBackgroundColor&&l.textColor&&l.navBackgroundColor&&l.navTextColor&&l.navActiveBackground&&l.navActiveText&&l.buttonColor&&l.buttonHoverColor}static{this.\u0275fac=function(p){return new(p||g)(i.KVO(ze),i.KVO(Af.F),i.KVO(Mm.u))}}static{this.\u0275prov=i.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var Yi=F(9969);function dg(g){return new i.wOt(3e3,!1)}function Ja(g){switch(g.length){case 0:return new Yi.sf;case 1:return g[0];default:return new Yi.ui(g)}}function yy(g,c,l=new Map,p=new Map){const T=[],k=[];let z=-1,re=null;if(c.forEach(pe=>{const Ge=pe.get("offset"),_t=Ge==z,Ht=_t&&re||new Map;pe.forEach((yn,bn)=>{let Tn=bn,Qt=yn;if("offset"!==bn)switch(Tn=g.normalizePropertyName(Tn,T),Qt){case Yi.FX:Qt=l.get(bn);break;case Yi.kp:Qt=p.get(bn);break;default:Qt=g.normalizeStyleValue(bn,Tn,Qt,T)}Ht.set(Tn,Qt)}),_t||k.push(Ht),re=Ht,z=Ge}),T.length)throw function xh(g){return new i.wOt(3502,!1)}();return k}function Lm(g,c,l,p){switch(c){case"start":g.onStart(()=>p(l&&Vm(l,"start",g)));break;case"done":g.onDone(()=>p(l&&Vm(l,"done",g)));break;case"destroy":g.onDestroy(()=>p(l&&Vm(l,"destroy",g)))}}function Vm(g,c,l){const k=Za(g.element,g.triggerName,g.fromState,g.toState,c||g.phaseName,l.totalTime??g.totalTime,!!l.disabled),z=g._data;return null!=z&&(k._data=z),k}function Za(g,c,l,p,T="",k=0,z){return{element:g,triggerName:c,fromState:l,toState:p,phaseName:T,totalTime:k,disabled:!!z}}function wo(g,c,l){let p=g.get(c);return p||g.set(c,p=l),p}function pg(g){const c=g.indexOf(":");return[g.substring(1,c),g.slice(c+1)]}const yu=(()=>typeof document>"u"?null:document.documentElement)();function vd(g){const c=g.parentNode||g.host||null;return c===yu?null:c}let el=null,Nh=!1;function Ey(g,c){for(;c;){if(c===g)return!0;c=vd(c)}return!1}function by(g,c,l){if(l)return Array.from(g.querySelectorAll(c));const p=g.querySelector(c);return p?[p]:[]}let Fh=(()=>{class g{validateStyleProperty(l){return function kh(g){el||(el=function Ls(){return typeof document<"u"?document.body:null}()||{},Nh=!!el.style&&"WebkitAppearance"in el.style);let c=!0;return el.style&&!function Oh(g){return"ebkit"==g.substring(1,6)}(g)&&(c=g in el.style,!c&&Nh&&(c="Webkit"+g.charAt(0).toUpperCase()+g.slice(1)in el.style)),c}(l)}matchesElement(l,p){return!1}containsElement(l,p){return Ey(l,p)}getParentElement(l){return vd(l)}query(l,p,T){return by(l,p,T)}computeStyle(l,p,T){return T||""}animate(l,p,T,k,z,re=[],pe){return new Yi.sf(T,k)}static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275prov=i.jDH({token:g,factory:g.\u0275fac})}}return g})(),Ed=(()=>{class g{static{this.NOOP=new Fh}}return g})();const jm=1e3,Lh="ng-enter",gg="ng-leave",Mc="ng-trigger",Gf=".ng-trigger",mg="ng-animating",bd=".ng-animating";function Il(g){if("number"==typeof g)return g;const c=g.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:Td(parseFloat(c[1]),c[2])}function Td(g,c){return"s"===c?g*jm:g}function _g(g,c,l){return g.hasOwnProperty("duration")?g:function Ty(g,c,l){let T,k=0,z="";if("string"==typeof g){const re=g.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===re)return c.push(dg()),{duration:0,delay:0,easing:""};T=Td(parseFloat(re[1]),re[2]);const pe=re[3];null!=pe&&(k=Td(parseFloat(pe),re[4]));const Ge=re[5];Ge&&(z=Ge)}else T=g;if(!l){let re=!1,pe=c.length;T<0&&(c.push(function jf(){return new i.wOt(3100,!1)}()),re=!0),k<0&&(c.push(function Rc(){return new i.wOt(3101,!1)}()),re=!0),re&&c.splice(pe,0,dg())}return{duration:T,delay:k,easing:z}}(g,c,l)}function Oc(g,c={}){return Object.keys(g).forEach(l=>{c[l]=g[l]}),c}function yg(g){const c=new Map;return Object.keys(g).forEach(l=>{c.set(l,g[l])}),c}function Xl(g,c=new Map,l){if(l)for(let[p,T]of l)c.set(p,T);for(let[p,T]of g)c.set(p,T);return c}function ma(g,c,l){c.forEach((p,T)=>{const k=bu(T);l&&!l.has(T)&&l.set(T,g.style[k]),g.style[k]=p})}function xa(g,c){c.forEach((l,p)=>{const T=bu(p);g.style[T]=""})}function vu(g){return Array.isArray(g)?1==g.length?g[0]:(0,Yi.K2)(g):g}const Nc=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gm(g){let c=[];if("string"==typeof g){let l;for(;l=Nc.exec(g);)c.push(l[1]);Nc.lastIndex=0}return c}function Uh(g,c,l){const p=g.toString(),T=p.replace(Nc,(k,z)=>{let re=c[z];return null==re&&(l.push(function Yl(g){return new i.wOt(3003,!1)}()),re=""),re.toString()});return T==p?g:T}function Eu(g){const c=[];let l=g.next();for(;!l.done;)c.push(l.value),l=g.next();return c}const Hf=/-+([a-z0-9])/g;function bu(g){return g.replace(Hf,(...c)=>c[1].toUpperCase())}function ao(g,c,l){switch(c.type){case 7:return g.visitTrigger(c,l);case 0:return g.visitState(c,l);case 1:return g.visitTransition(c,l);case 2:return g.visitSequence(c,l);case 3:return g.visitGroup(c,l);case 4:return g.visitAnimate(c,l);case 5:return g.visitKeyframes(c,l);case 6:return g.visitStyle(c,l);case 8:return g.visitReference(c,l);case 9:return g.visitAnimateChild(c,l);case 10:return g.visitAnimateRef(c,l);case 11:return g.visitQuery(c,l);case 12:return g.visitStagger(c,l);default:throw function wh(g){return new i.wOt(3004,!1)}()}}function E(g,c){return window.getComputedStyle(g)[c]}const Li="*";function mo(g,c){const l=[];return"string"==typeof g?g.split(/\s*,\s*/).forEach(p=>function Oi(g,c,l){if(":"==g[0]){const pe=function Bo(g,c){switch(g){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,p)=>parseFloat(p)>parseFloat(l);case":decrement":return(l,p)=>parseFloat(p)<parseFloat(l);default:return c.push(function Bf(g){return new i.wOt(3016,!1)}()),"* => *"}}(g,l);if("function"==typeof pe)return void c.push(pe);g=pe}const p=g.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return l.push(function Pc(g){return new i.wOt(3015,!1)}()),c;const T=p[1],k=p[2],z=p[3];c.push(na(T,z));"<"==k[0]&&!(T==Li&&z==Li)&&c.push(na(z,T))}(p,l,c)):l.push(g),l}const lo=new Set(["true","1"]),wl=new Set(["false","0"]);function na(g,c){const l=lo.has(g)||wl.has(g),p=lo.has(c)||wl.has(c);return(T,k)=>{let z=g==Li||g==T,re=c==Li||c==k;return!z&&l&&"boolean"==typeof T&&(z=T?lo.has(g):wl.has(g)),!re&&p&&"boolean"==typeof k&&(re=k?lo.has(c):wl.has(c)),z&&re}}const zf=new RegExp("s*:selfs*,?","g");function wy(g,c,l,p){return new $E(g).build(c,l,p)}class $E{constructor(c){this._driver=c}build(c,l,p){const T=new zE(l);return this._resetContextStyleTimingState(T),ao(this,vu(c),T)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,l){let p=l.queryCount=0,T=l.depCount=0;const k=[],z=[];return"@"==c.name.charAt(0)&&l.errors.push(function mu(){return new i.wOt(3006,!1)}()),c.definitions.forEach(re=>{if(this._resetContextStyleTimingState(l),0==re.type){const pe=re,Ge=pe.name;Ge.toString().split(/\s*,\s*/).forEach(_t=>{pe.name=_t,k.push(this.visitState(pe,l))}),pe.name=Ge}else if(1==re.type){const pe=this.visitTransition(re,l);p+=pe.queryCount,T+=pe.depCount,z.push(pe)}else l.errors.push(function Ah(){return new i.wOt(3007,!1)}())}),{type:7,name:c.name,states:k,transitions:z,queryCount:p,depCount:T,options:null}}visitState(c,l){const p=this.visitStyle(c.styles,l),T=c.options&&c.options.params||null;if(p.containsDynamicStyles){const k=new Set,z=T||{};p.styles.forEach(re=>{re instanceof Map&&re.forEach(pe=>{Gm(pe).forEach(Ge=>{z.hasOwnProperty(Ge)||k.add(Ge)})})}),k.size&&(Eu(k.values()),l.errors.push(function pa(g,c){return new i.wOt(3008,!1)}()))}return{type:0,name:c.name,style:p,options:T?{params:T}:null}}visitTransition(c,l){l.queryCount=0,l.depCount=0;const p=ao(this,vu(c.animation),l);return{type:1,matchers:mo(c.expr,l.errors),animation:p,queryCount:l.queryCount,depCount:l.depCount,options:Wf(c.options)}}visitSequence(c,l){return{type:2,steps:c.steps.map(p=>ao(this,p,l)),options:Wf(c.options)}}visitGroup(c,l){const p=l.currentTime;let T=0;const k=c.steps.map(z=>{l.currentTime=p;const re=ao(this,z,l);return T=Math.max(T,l.currentTime),re});return l.currentTime=T,{type:3,steps:k,options:Wf(c.options)}}visitAnimate(c,l){const p=function Bh(g,c){if(g.hasOwnProperty("duration"))return g;if("number"==typeof g)return kv(_g(g,c).duration,0,"");const l=g;if(l.split(/\s+/).some(k=>"{"==k.charAt(0)&&"{"==k.charAt(1))){const k=kv(0,0,"");return k.dynamic=!0,k.strValue=l,k}const T=_g(l,c);return kv(T.duration,T.delay,T.easing)}(c.timings,l.errors);l.currentAnimateTimings=p;let T,k=c.styles?c.styles:(0,Yi.iF)({});if(5==k.type)T=this.visitKeyframes(k,l);else{let z=c.styles,re=!1;if(!z){re=!0;const Ge={};p.easing&&(Ge.easing=p.easing),z=(0,Yi.iF)(Ge)}l.currentTime+=p.duration+p.delay;const pe=this.visitStyle(z,l);pe.isEmptyStep=re,T=pe}return l.currentAnimateTimings=null,{type:4,timings:p,style:T,options:null}}visitStyle(c,l){const p=this._makeStyleAst(c,l);return this._validateStyleAst(p,l),p}_makeStyleAst(c,l){const p=[],T=Array.isArray(c.styles)?c.styles:[c.styles];for(let re of T)"string"==typeof re?re===Yi.kp?p.push(re):l.errors.push(new i.wOt(3002,!1)):p.push(yg(re));let k=!1,z=null;return p.forEach(re=>{if(re instanceof Map&&(re.has("easing")&&(z=re.get("easing"),re.delete("easing")),!k))for(let pe of re.values())if(pe.toString().indexOf("{{")>=0){k=!0;break}}),{type:6,styles:p,easing:z,offset:c.offset,containsDynamicStyles:k,options:null}}_validateStyleAst(c,l){const p=l.currentAnimateTimings;let T=l.currentTime,k=l.currentTime;p&&k>0&&(k-=p.duration+p.delay),c.styles.forEach(z=>{"string"!=typeof z&&z.forEach((re,pe)=>{const Ge=l.collectedStyles.get(l.currentQuerySelector),_t=Ge.get(pe);let Ht=!0;_t&&(k!=T&&k>=_t.startTime&&T<=_t.endTime&&(l.errors.push(function Sh(g,c,l,p,T){return new i.wOt(3010,!1)}()),Ht=!1),k=_t.startTime),Ht&&Ge.set(pe,{startTime:k,endTime:T}),l.options&&function $m(g,c,l){const p=c.params||{},T=Gm(g);T.length&&T.forEach(k=>{p.hasOwnProperty(k)||l.push(function Om(g){return new i.wOt(3001,!1)}())})}(re,l.options,l.errors)})})}visitKeyframes(c,l){const p={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function Rh(){return new i.wOt(3011,!1)}()),p;let k=0;const z=[];let re=!1,pe=!1,Ge=0;const _t=c.steps.map(Cr=>{const Fr=this._makeStyleAst(Cr,l);let vr=null!=Fr.offset?Fr.offset:function Ay(g){if("string"==typeof g)return null;let c=null;if(Array.isArray(g))g.forEach(l=>{if(l instanceof Map&&l.has("offset")){const p=l;c=parseFloat(p.get("offset")),p.delete("offset")}});else if(g instanceof Map&&g.has("offset")){const l=g;c=parseFloat(l.get("offset")),l.delete("offset")}return c}(Fr.styles),or=0;return null!=vr&&(k++,or=Fr.offset=vr),pe=pe||or<0||or>1,re=re||or<Ge,Ge=or,z.push(or),Fr});pe&&l.errors.push(function _d(){return new i.wOt(3012,!1)}()),re&&l.errors.push(function yd(){return new i.wOt(3200,!1)}());const Ht=c.steps.length;let yn=0;k>0&&k<Ht?l.errors.push(function Ph(){return new i.wOt(3202,!1)}()):0==k&&(yn=1/(Ht-1));const bn=Ht-1,Tn=l.currentTime,Qt=l.currentAnimateTimings,En=Qt.duration;return _t.forEach((Cr,Fr)=>{const vr=yn>0?Fr==bn?1:yn*Fr:z[Fr],or=vr*En;l.currentTime=Tn+Qt.delay+or,Qt.duration=or,this._validateStyleAst(Cr,l),Cr.offset=vr,p.styles.push(Cr)}),p}visitReference(c,l){return{type:8,animation:ao(this,vu(c.animation),l),options:Wf(c.options)}}visitAnimateChild(c,l){return l.depCount++,{type:9,options:Wf(c.options)}}visitAnimateRef(c,l){return{type:10,animation:this.visitReference(c.animation,l),options:Wf(c.options)}}visitQuery(c,l){const p=l.currentQuerySelector,T=c.options||{};l.queryCount++,l.currentQuery=c;const[k,z]=function GE(g){const c=!!g.split(/\s*,\s*/).find(l=>":self"==l);return c&&(g=g.replace(zf,"")),g=g.replace(/@\*/g,Gf).replace(/@\w+/g,l=>Gf+"-"+l.slice(1)).replace(/:animating/g,bd),[g,c]}(c.selector);l.currentQuerySelector=p.length?p+" "+k:k,wo(l.collectedStyles,l.currentQuerySelector,new Map);const re=ao(this,vu(c.animation),l);return l.currentQuery=null,l.currentQuerySelector=p,{type:11,selector:k,limit:T.limit||0,optional:!!T.optional,includeSelf:z,animation:re,originalSelector:c.selector,options:Wf(c.options)}}visitStagger(c,l){l.currentQuery||l.errors.push(function Qa(){return new i.wOt(3013,!1)}());const p="full"===c.timings?{duration:0,delay:0,easing:"full"}:_g(c.timings,l.errors,!0);return{type:12,animation:ao(this,vu(c.animation),l),timings:p,options:null}}}class zE{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wf(g){return g?(g=Oc(g)).params&&(g.params=function HE(g){return g?Oc(g):null}(g.params)):g={},g}function kv(g,c,l){return{duration:g,delay:c,easing:l}}function Hm(g,c,l,p,T,k,z=null,re=!1){return{type:1,element:g,keyframes:c,preStyleProps:l,postStyleProps:p,duration:T,delay:k,totalTime:T+k,easing:z,subTimeline:re}}class Tu{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,l){let p=this._map.get(c);p||this._map.set(c,p=[]),p.push(...l)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const Lv=new RegExp(":enter","g"),eT=new RegExp(":leave","g");function Vv(g,c,l,p,T,k=new Map,z=new Map,re,pe,Ge=[]){return(new U0).buildKeyframes(g,c,l,p,T,k,z,re,pe,Ge)}class U0{buildKeyframes(c,l,p,T,k,z,re,pe,Ge,_t=[]){Ge=Ge||new Tu;const Ht=new Uv(c,l,Ge,T,k,_t,[]);Ht.options=pe;const yn=pe.delay?Il(pe.delay):0;Ht.currentTimeline.delayNextStep(yn),Ht.currentTimeline.setStyles([z],null,Ht.errors,pe),ao(this,p,Ht);const bn=Ht.timelines.filter(Tn=>Tn.containsAnimation());if(bn.length&&re.size){let Tn;for(let Qt=bn.length-1;Qt>=0;Qt--){const En=bn[Qt];if(En.element===l){Tn=En;break}}Tn&&!Tn.allowOnlyTimelineStyles()&&Tn.setStyles([re],null,Ht.errors,pe)}return bn.length?bn.map(Tn=>Tn.buildKeyframes()):[Hm(l,[],[],[],0,yn,"",!1)]}visitTrigger(c,l){}visitState(c,l){}visitTransition(c,l){}visitAnimateChild(c,l){const p=l.subInstructions.get(l.element);if(p){const T=l.createSubContext(c.options),k=l.currentTimeline.currentTime,z=this._visitSubInstructions(p,T,T.options);k!=z&&l.transformIntoNewTimeline(z)}l.previousNode=c}visitAnimateRef(c,l){const p=l.createSubContext(c.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([c.options,c.animation.options],l,p),this.visitReference(c.animation,p),l.transformIntoNewTimeline(p.currentTimeline.currentTime),l.previousNode=c}_applyAnimationRefDelays(c,l,p){for(const T of c){const k=T?.delay;if(k){const z="number"==typeof k?k:Il(Uh(k,T?.params??{},l.errors));p.delayNextStep(z)}}}_visitSubInstructions(c,l,p){let k=l.currentTimeline.currentTime;const z=null!=p.duration?Il(p.duration):null,re=null!=p.delay?Il(p.delay):null;return 0!==z&&c.forEach(pe=>{const Ge=l.appendInstructionToTimeline(pe,z,re);k=Math.max(k,Ge.duration+Ge.delay)}),k}visitReference(c,l){l.updateOptions(c.options,!0),ao(this,c.animation,l),l.previousNode=c}visitSequence(c,l){const p=l.subContextCount;let T=l;const k=c.options;if(k&&(k.params||k.delay)&&(T=l.createSubContext(k),T.transformIntoNewTimeline(),null!=k.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=zm);const z=Il(k.delay);T.delayNextStep(z)}c.steps.length&&(c.steps.forEach(z=>ao(this,z,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>p&&T.transformIntoNewTimeline()),l.previousNode=c}visitGroup(c,l){const p=[];let T=l.currentTimeline.currentTime;const k=c.options&&c.options.delay?Il(c.options.delay):0;c.steps.forEach(z=>{const re=l.createSubContext(c.options);k&&re.delayNextStep(k),ao(this,z,re),T=Math.max(T,re.currentTimeline.currentTime),p.push(re.currentTimeline)}),p.forEach(z=>l.currentTimeline.mergeTimelineCollectedStyles(z)),l.transformIntoNewTimeline(T),l.previousNode=c}_visitTiming(c,l){if(c.dynamic){const p=c.strValue;return _g(l.params?Uh(p,l.params,l.errors):p,l.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,l){const p=l.currentAnimateTimings=this._visitTiming(c.timings,l),T=l.currentTimeline;p.delay&&(l.incrementTime(p.delay),T.snapshotCurrentStyles());const k=c.style;5==k.type?this.visitKeyframes(k,l):(l.incrementTime(p.duration),this.visitStyle(k,l),T.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=c}visitStyle(c,l){const p=l.currentTimeline,T=l.currentAnimateTimings;!T&&p.hasCurrentStyleProperties()&&p.forwardFrame();const k=T&&T.easing||c.easing;c.isEmptyStep?p.applyEmptyStep(k):p.setStyles(c.styles,k,l.errors,l.options),l.previousNode=c}visitKeyframes(c,l){const p=l.currentAnimateTimings,T=l.currentTimeline.duration,k=p.duration,re=l.createSubContext().currentTimeline;re.easing=p.easing,c.styles.forEach(pe=>{re.forwardTime((pe.offset||0)*k),re.setStyles(pe.styles,pe.easing,l.errors,l.options),re.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(re),l.transformIntoNewTimeline(T+k),l.previousNode=c}visitQuery(c,l){const p=l.currentTimeline.currentTime,T=c.options||{},k=T.delay?Il(T.delay):0;k&&(6===l.previousNode.type||0==p&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=zm);let z=p;const re=l.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!T.optional,l.errors);l.currentQueryTotal=re.length;let pe=null;re.forEach((Ge,_t)=>{l.currentQueryIndex=_t;const Ht=l.createSubContext(c.options,Ge);k&&Ht.delayNextStep(k),Ge===l.element&&(pe=Ht.currentTimeline),ao(this,c.animation,Ht),Ht.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,Ht.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(z),pe&&(l.currentTimeline.mergeTimelineCollectedStyles(pe),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=c}visitStagger(c,l){const p=l.parentContext,T=l.currentTimeline,k=c.timings,z=Math.abs(k.duration),re=z*(l.currentQueryTotal-1);let pe=z*l.currentQueryIndex;switch(k.duration<0?"reverse":k.easing){case"reverse":pe=re-pe;break;case"full":pe=p.currentStaggerTime}const _t=l.currentTimeline;pe&&_t.delayNextStep(pe);const Ht=_t.currentTime;ao(this,c.animation,l),l.previousNode=c,p.currentStaggerTime=T.currentTime-Ht+(T.startTime-p.currentTimeline.startTime)}}const zm={};class Uv{constructor(c,l,p,T,k,z,re,pe){this._driver=c,this.element=l,this.subInstructions=p,this._enterClassName=T,this._leaveClassName=k,this.errors=z,this.timelines=re,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=pe||new eo(this._driver,l,0),re.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,l){if(!c)return;const p=c;let T=this.options;null!=p.duration&&(T.duration=Il(p.duration)),null!=p.delay&&(T.delay=Il(p.delay));const k=p.params;if(k){let z=T.params;z||(z=this.options.params={}),Object.keys(k).forEach(re=>{(!l||!z.hasOwnProperty(re))&&(z[re]=Uh(k[re],z,this.errors))})}}_copyOptions(){const c={};if(this.options){const l=this.options.params;if(l){const p=c.params={};Object.keys(l).forEach(T=>{p[T]=l[T]})}}return c}createSubContext(c=null,l,p){const T=l||this.element,k=new Uv(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,p||0));return k.previousNode=this.previousNode,k.currentAnimateTimings=this.currentAnimateTimings,k.options=this._copyOptions(),k.updateOptions(c),k.currentQueryIndex=this.currentQueryIndex,k.currentQueryTotal=this.currentQueryTotal,k.parentContext=this,this.subContextCount++,k}transformIntoNewTimeline(c){return this.previousNode=zm,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,l,p){const T={duration:l??c.duration,delay:this.currentTimeline.currentTime+(p??0)+c.delay,easing:""},k=new WE(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,T,c.stretchStartingKeyframe);return this.timelines.push(k),T}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,l,p,T,k,z){let re=[];if(T&&re.push(this.element),c.length>0){c=(c=c.replace(Lv,"."+this._enterClassName)).replace(eT,"."+this._leaveClassName);let Ge=this._driver.query(this.element,c,1!=p);0!==p&&(Ge=p<0?Ge.slice(Ge.length+p,Ge.length):Ge.slice(0,p)),re.push(...Ge)}return!k&&0==re.length&&z.push(function ga(g){return new i.wOt(3014,!1)}()),re}}class eo{constructor(c,l,p,T){this._driver=c,this.element=l,this.startTime=p,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+c),l&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,l){return this.applyStylesToKeyframe(),new eo(this._driver,c,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,l){this._localTimelineStyles.set(c,l),this._globalTimelineStyles.set(c,l),this._styleSummary.set(c,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[l,p]of this._globalTimelineStyles)this._backFill.set(l,p||Yi.kp),this._currentKeyframe.set(l,Yi.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,l,p,T){l&&this._previousKeyframe.set("easing",l);const k=T&&T.params||{},z=function j0(g,c){const l=new Map;let p;return g.forEach(T=>{if("*"===T){p=p||c.keys();for(let k of p)l.set(k,Yi.kp)}else Xl(T,l)}),l}(c,this._globalTimelineStyles);for(let[re,pe]of z){const Ge=Uh(pe,k,p);this._pendingStyles.set(re,Ge),this._localTimelineStyles.has(re)||this._backFill.set(re,this._globalTimelineStyles.get(re)??Yi.kp),this._updateStyle(re,Ge)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,l)=>{this._currentKeyframe.set(l,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,c)}))}snapshotCurrentStyles(){for(let[c,l]of this._localTimelineStyles)this._pendingStyles.set(c,l),this._updateStyle(c,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let l in this._currentKeyframe)c.push(l);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((l,p)=>{const T=this._styleSummary.get(p);(!T||l.time>T.time)&&this._updateStyle(p,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,l=new Set,p=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((re,pe)=>{const Ge=Xl(re,new Map,this._backFill);Ge.forEach((_t,Ht)=>{_t===Yi.FX?c.add(Ht):_t===Yi.kp&&l.add(Ht)}),p||Ge.set("offset",pe/this.duration),T.push(Ge)});const k=c.size?Eu(c.values()):[],z=l.size?Eu(l.values()):[];if(p){const re=T[0],pe=new Map(re);re.set("offset",0),pe.set("offset",1),T=[re,pe]}return Hm(this.element,T,k,z,this.duration,this.startTime,this.easing,!1)}}class WE extends eo{constructor(c,l,p,T,k,z,re=!1){super(c,l,z.delay),this.keyframes=p,this.preStyleProps=T,this.postStyleProps=k,this._stretchStartingKeyframe=re,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:l,duration:p,easing:T}=this.timings;if(this._stretchStartingKeyframe&&l){const k=[],z=p+l,re=l/z,pe=Xl(c[0]);pe.set("offset",0),k.push(pe);const Ge=Xl(c[0]);Ge.set("offset",KE(re)),k.push(Ge);const _t=c.length-1;for(let Ht=1;Ht<=_t;Ht++){let yn=Xl(c[Ht]);const bn=yn.get("offset");yn.set("offset",KE((l+bn*p)/z)),k.push(yn)}p=z,l=0,T="",c=k}return Hm(this.element,c,this.preStyleProps,this.postStyleProps,p,l,T,!0)}}function KE(g,c=3){const l=Math.pow(10,c-1);return Math.round(g*l)/l}class jv{}const qE=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Eg extends jv{normalizePropertyName(c,l){return bu(c)}normalizeStyleValue(c,l,p,T){let k="";const z=p.toString().trim();if(qE.has(l)&&0!==p&&"0"!==p)if("number"==typeof p)k="px";else{const re=p.match(/^[+-]?[\d\.]+([a-z]*)$/);re&&0==re[1].length&&T.push(function Io(g,c){return new i.wOt(3005,!1)}())}return z+k}}function YE(g,c,l,p,T,k,z,re,pe,Ge,_t,Ht,yn){return{type:0,element:g,triggerName:c,isRemovalTransition:T,fromState:l,fromStyles:k,toState:p,toStyles:z,timelines:re,queriedElements:pe,preStyleProps:Ge,postStyleProps:_t,totalTime:Ht,errors:yn}}const Bv={};class $v{constructor(c,l,p){this._triggerName=c,this.ast=l,this._stateStyles=p}match(c,l,p,T){return function XE(g,c,l,p,T){return g.some(k=>k(c,l,p,T))}(this.ast.matchers,c,l,p,T)}buildStyles(c,l,p){let T=this._stateStyles.get("*");return void 0!==c&&(T=this._stateStyles.get(c?.toString())||T),T?T.buildStyles(l,p):new Map}build(c,l,p,T,k,z,re,pe,Ge,_t){const Ht=[],yn=this.ast.options&&this.ast.options.params||Bv,Tn=this.buildStyles(p,re&&re.params||Bv,Ht),Qt=pe&&pe.params||Bv,En=this.buildStyles(T,Qt,Ht),Cr=new Set,Fr=new Map,vr=new Map,or="void"===T,pi={params:nT(Qt,yn),delay:this.ast.options?.delay},$r=_t?[]:Vv(c,l,this.ast.animation,k,z,Tn,En,pi,Ge,Ht);let ui=0;if($r.forEach(gs=>{ui=Math.max(gs.duration+gs.delay,ui)}),Ht.length)return YE(l,this._triggerName,p,T,or,Tn,En,[],[],Fr,vr,ui,Ht);$r.forEach(gs=>{const is=gs.element,Ao=wo(Fr,is,new Set);gs.preStyleProps.forEach(zs=>Ao.add(zs));const co=wo(vr,is,new Set);gs.postStyleProps.forEach(zs=>co.add(zs)),is!==l&&Cr.add(is)});const rs=Eu(Cr.values());return YE(l,this._triggerName,p,T,or,Tn,En,$r,rs,Fr,vr,ui)}}function nT(g,c){const l=Oc(c);for(const p in g)g.hasOwnProperty(p)&&null!=g[p]&&(l[p]=g[p]);return l}class Gv{constructor(c,l,p){this.styles=c,this.defaultParams=l,this.normalizer=p}buildStyles(c,l){const p=new Map,T=Oc(this.defaultParams);return Object.keys(c).forEach(k=>{const z=c[k];null!==z&&(T[k]=z)}),this.styles.styles.forEach(k=>{"string"!=typeof k&&k.forEach((z,re)=>{z&&(z=Uh(z,T,l));const pe=this.normalizer.normalizePropertyName(re,l);z=this.normalizer.normalizeStyleValue(re,pe,z,l),p.set(re,z)})}),p}}class Cu{constructor(c,l,p){this.name=c,this.ast=l,this._normalizer=p,this.transitionFactories=[],this.states=new Map,l.states.forEach(T=>{this.states.set(T.name,new Gv(T.style,T.options&&T.options.params||{},p))}),zv(this.states,"true","1"),zv(this.states,"false","0"),l.transitions.forEach(T=>{this.transitionFactories.push(new $v(c,T,this.states))}),this.fallbackTransition=function G0(g,c,l){return new $v(g,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,re)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,l,p,T){return this.transitionFactories.find(z=>z.match(c,l,p,T))||null}matchStyles(c,l,p){return this.fallbackTransition.buildStyles(c,l,p)}}function zv(g,c,l){g.has(c)?g.has(l)||g.set(l,g.get(c)):g.has(l)&&g.set(c,g.get(l))}const Iu=new Tu;class kc{constructor(c,l,p){this.bodyNode=c,this._driver=l,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(c,l){const p=[],k=wy(this._driver,l,p,[]);if(p.length)throw function Mh(g){return new i.wOt(3503,!1)}();this._animations.set(c,k)}_buildPlayer(c,l,p){const T=c.element,k=yy(this._normalizer,c.keyframes,l,p);return this._driver.animate(T,k,c.duration,c.delay,c.easing,[],!0)}create(c,l,p={}){const T=[],k=this._animations.get(c);let z;const re=new Map;if(k?(z=Vv(this._driver,l,k,Lh,gg,new Map,new Map,p,Iu,T),z.forEach(_t=>{const Ht=wo(re,_t.element,new Map);_t.postStyleProps.forEach(yn=>Ht.set(yn,null))})):(T.push(function gy(){return new i.wOt(3300,!1)}()),z=[]),T.length)throw function km(g){return new i.wOt(3504,!1)}();re.forEach((_t,Ht)=>{_t.forEach((yn,bn)=>{_t.set(bn,this._driver.computeStyle(Ht,bn,Yi.kp))})});const Ge=Ja(z.map(_t=>{const Ht=re.get(_t.element);return this._buildPlayer(_t,new Map,Ht)}));return this._playersById.set(c,Ge),Ge.onDestroy(()=>this.destroy(c)),this.players.push(Ge),Ge}destroy(c){const l=this._getPlayer(c);l.destroy(),this._playersById.delete(c);const p=this.players.indexOf(l);p>=0&&this.players.splice(p,1)}_getPlayer(c){const l=this._playersById.get(c);if(!l)throw function my(g){return new i.wOt(3301,!1)}();return l}listen(c,l,p,T){const k=Za(l,"","","");return Lm(this._getPlayer(c),p,k,T),()=>{}}command(c,l,p,T){if("register"==p)return void this.register(c,T[0]);if("create"==p)return void this.create(c,l,T[0]||{});const k=this._getPlayer(c);switch(p){case"play":k.play();break;case"pause":k.pause();break;case"reset":k.reset();break;case"restart":k.restart();break;case"finish":k.finish();break;case"init":k.init();break;case"setPosition":k.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(c)}}}const Ql="ng-animate-queued",Dy="ng-animate-disabled",K0=[],Sy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wm={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fc="__ng_removed";class Ry{get params(){return this.options.params}constructor(c,l=""){this.namespaceId=l;const p=c&&c.hasOwnProperty("value");if(this.value=function e0(g){return g??null}(p?c.value:c),p){const k=Oc(c);delete k.value,this.options=k}else this.options={};this.options.params||(this.options.params={})}absorbOptions(c){const l=c.params;if(l){const p=this.options.params;Object.keys(l).forEach(T=>{null==p[T]&&(p[T]=l[T])})}}}const Km="void",Wv=new Ry(Km);class JE{constructor(c,l,p){this.id=c,this.hostElement=l,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,Oa(l,this._hostClassName)}listen(c,l,p,T){if(!this._triggers.has(l))throw function Fm(g,c){return new i.wOt(3302,!1)}();if(null==p||0==p.length)throw function xv(g){return new i.wOt(3303,!1)}();if(!function t0(g){return"start"==g||"done"==g}(p))throw function BE(g,c){return new i.wOt(3400,!1)}();const k=wo(this._elementListeners,c,[]),z={name:l,phase:p,callback:T};k.push(z);const re=wo(this._engine.statesByElement,c,new Map);return re.has(l)||(Oa(c,Mc),Oa(c,Mc+"-"+l),re.set(l,Wv)),()=>{this._engine.afterFlush(()=>{const pe=k.indexOf(z);pe>=0&&k.splice(pe,1),this._triggers.has(l)||re.delete(l)})}}register(c,l){return!this._triggers.has(c)&&(this._triggers.set(c,l),!0)}_getTrigger(c){const l=this._triggers.get(c);if(!l)throw function fg(g){return new i.wOt(3401,!1)}();return l}trigger(c,l,p,T=!0){const k=this._getTrigger(l),z=new bg(this.id,l,c);let re=this._engine.statesByElement.get(c);re||(Oa(c,Mc),Oa(c,Mc+"-"+l),this._engine.statesByElement.set(c,re=new Map));let pe=re.get(l);const Ge=new Ry(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&pe&&Ge.absorbOptions(pe.options),re.set(l,Ge),pe||(pe=Wv),Ge.value!==Km&&pe.value===Ge.value){if(!function o0(g,c){const l=Object.keys(g),p=Object.keys(c);if(l.length!=p.length)return!1;for(let T=0;T<l.length;T++){const k=l[T];if(!c.hasOwnProperty(k)||g[k]!==c[k])return!1}return!0}(pe.params,Ge.params)){const Qt=[],En=k.matchStyles(pe.value,pe.params,Qt),Cr=k.matchStyles(Ge.value,Ge.params,Qt);Qt.length?this._engine.reportError(Qt):this._engine.afterFlush(()=>{xa(c,En),ma(c,Cr)})}return}const yn=wo(this._engine.playersByElement,c,[]);yn.forEach(Qt=>{Qt.namespaceId==this.id&&Qt.triggerName==l&&Qt.queued&&Qt.destroy()});let bn=k.matchTransition(pe.value,Ge.value,c,Ge.params),Tn=!1;if(!bn){if(!T)return;bn=k.fallbackTransition,Tn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:l,transition:bn,fromState:pe,toState:Ge,player:z,isFallbackTransition:Tn}),Tn||(Oa(c,Ql),z.onStart(()=>{$h(c,Ql)})),z.onDone(()=>{let Qt=this.players.indexOf(z);Qt>=0&&this.players.splice(Qt,1);const En=this._engine.playersByElement.get(c);if(En){let Cr=En.indexOf(z);Cr>=0&&En.splice(Cr,1)}}),this.players.push(z),yn.push(z),z}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(l=>l.delete(c)),this._elementListeners.forEach((l,p)=>{this._elementListeners.set(p,l.filter(T=>T.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const l=this._engine.playersByElement.get(c);l&&(l.forEach(p=>p.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,l){const p=this._engine.driver.query(c,Gf,!0);p.forEach(T=>{if(T[Fc])return;const k=this._engine.fetchNamespacesByElement(T);k.size?k.forEach(z=>z.triggerLeaveAnimation(T,l,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(c,l,p,T){const k=this._engine.statesByElement.get(c),z=new Map;if(k){const re=[];if(k.forEach((pe,Ge)=>{if(z.set(Ge,pe.value),this._triggers.has(Ge)){const _t=this.trigger(c,Ge,Km,T);_t&&re.push(_t)}}),re.length)return this._engine.markElementAsRemoved(this.id,c,!0,l,z),p&&Ja(re).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const l=this._elementListeners.get(c),p=this._engine.statesByElement.get(c);if(l&&p){const T=new Set;l.forEach(k=>{const z=k.name;if(T.has(z))return;T.add(z);const pe=this._triggers.get(z).fallbackTransition,Ge=p.get(z)||Wv,_t=new Ry(Km),Ht=new bg(this.id,z,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:z,transition:pe,fromState:Ge,toState:_t,player:Ht,isFallbackTransition:!0})})}}removeNode(c,l){const p=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,l),this.triggerLeaveAnimation(c,l,!0))return;let T=!1;if(p.totalAnimations){const k=p.players.length?p.playersByQueriedElement.get(c):[];if(k&&k.length)T=!0;else{let z=c;for(;z=z.parentNode;)if(p.statesByElement.get(z)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(c),T)p.markElementAsRemoved(this.id,c,!1,l);else{const k=c[Fc];(!k||k===Sy)&&(p.afterFlush(()=>this.clearElementCache(c)),p.destroyInnerAnimations(c),p._onRemovalComplete(c,l))}}insertNode(c,l){Oa(c,this._hostClassName)}drainQueuedTransitions(c){const l=[];return this._queue.forEach(p=>{const T=p.player;if(T.destroyed)return;const k=p.element,z=this._elementListeners.get(k);z&&z.forEach(re=>{if(re.name==p.triggerName){const pe=Za(k,p.triggerName,p.fromState.value,p.toState.value);pe._data=c,Lm(p.player,re.phase,pe,re.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):l.push(p)}),this._queue=[],l.sort((p,T)=>{const k=p.transition.ast.depCount,z=T.transition.ast.depCount;return 0==k||0==z?k-z:this._engine.driver.containsElement(p.element,T.element)?1:-1})}destroy(c){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}}class ZE{_onRemovalComplete(c,l){this.onRemovalComplete(c,l)}constructor(c,l,p){this.bodyNode=c,this.driver=l,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,k)=>{}}get queuedPlayers(){const c=[];return this._namespaceList.forEach(l=>{l.players.forEach(p=>{p.queued&&c.push(p)})}),c}createNamespace(c,l){const p=new JE(c,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(p,l):(this.newHostElements.set(l,p),this.collectEnterElement(l)),this._namespaceLookup[c]=p}_balanceNamespaceList(c,l){const p=this._namespaceList,T=this.namespacesByHostElement;if(p.length-1>=0){let z=!1,re=this.driver.getParentElement(l);for(;re;){const pe=T.get(re);if(pe){const Ge=p.indexOf(pe);p.splice(Ge+1,0,c),z=!0;break}re=this.driver.getParentElement(re)}z||p.unshift(c)}else p.push(c);return T.set(l,c),c}register(c,l){let p=this._namespaceLookup[c];return p||(p=this.createNamespace(c,l)),p}registerTrigger(c,l,p){let T=this._namespaceLookup[c];T&&T.register(l,p)&&this.totalAnimations++}destroy(c,l){c&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(c);this.namespacesByHostElement.delete(p.hostElement);const T=this._namespaceList.indexOf(p);T>=0&&this._namespaceList.splice(T,1),p.destroy(l),delete this._namespaceLookup[c]}))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const l=new Set,p=this.statesByElement.get(c);if(p)for(let T of p.values())if(T.namespaceId){const k=this._fetchNamespace(T.namespaceId);k&&l.add(k)}return l}trigger(c,l,p,T){if(qm(l)){const k=this._fetchNamespace(c);if(k)return k.trigger(l,p,T),!0}return!1}insertNode(c,l,p,T){if(!qm(l))return;const k=l[Fc];if(k&&k.setForRemoval){k.setForRemoval=!1,k.setForMove=!0;const z=this.collectedLeaveElements.indexOf(l);z>=0&&this.collectedLeaveElements.splice(z,1)}if(c){const z=this._fetchNamespace(c);z&&z.insertNode(l,p)}T&&this.collectEnterElement(l)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,l){l?this.disabledNodes.has(c)||(this.disabledNodes.add(c),Oa(c,Dy)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),$h(c,Dy))}removeNode(c,l,p){if(qm(l)){const T=c?this._fetchNamespace(c):null;T?T.removeNode(l,p):this.markElementAsRemoved(c,l,!1,p);const k=this.namespacesByHostElement.get(l);k&&k.id!==c&&k.removeNode(l,p)}else this._onRemovalComplete(l,p)}markElementAsRemoved(c,l,p,T,k){this.collectedLeaveElements.push(l),l[Fc]={namespaceId:c,setForRemoval:T,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:k}}listen(c,l,p,T,k){return qm(l)?this._fetchNamespace(c).listen(l,p,T,k):()=>{}}_buildInstruction(c,l,p,T,k){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,p,T,c.fromState.options,c.toState.options,l,k)}destroyInnerAnimations(c){let l=this.driver.query(c,Gf,!0);l.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(c,bd,!0),l.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(c){const l=this.playersByElement.get(c);l&&l.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(c){const l=this.playersByQueriedElement.get(c);l&&l.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return Ja(this.players).onDone(()=>c());c()})}processLeaveNode(c){const l=c[Fc];if(l&&l.setForRemoval){if(c[Fc]=Sy,l.namespaceId){this.destroyInnerAnimations(c);const p=this._fetchNamespace(l.namespaceId);p&&p.clearElementCache(c)}this._onRemovalComplete(c,l.setForRemoval)}c.classList?.contains(Dy)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(c=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,T)=>this._balanceNamespaceList(p,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)Oa(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{l=this._flushAnimations(p,c)}finally{for(let T=0;T<p.length;T++)p[T]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],l.length?Ja(l).onDone(()=>{p.forEach(T=>T())}):p.forEach(T=>T())}}reportError(c){throw function _u(g){return new i.wOt(3402,!1)}()}_flushAnimations(c,l){const p=new Tu,T=[],k=new Map,z=[],re=new Map,pe=new Map,Ge=new Map,_t=new Set;this.disabledNodes.forEach(Pn=>{_t.add(Pn);const qn=this.driver.query(Pn,".ng-animate-queued",!0);for(let gr=0;gr<qn.length;gr++)_t.add(qn[gr])});const Ht=this.bodyNode,yn=Array.from(this.statesByElement.keys()),bn=Py(yn,this.collectedEnterElements),Tn=new Map;let Qt=0;bn.forEach((Pn,qn)=>{const gr=Lh+Qt++;Tn.set(qn,gr),Pn.forEach(Zr=>Oa(Zr,gr))});const En=[],Cr=new Set,Fr=new Set;for(let Pn=0;Pn<this.collectedLeaveElements.length;Pn++){const qn=this.collectedLeaveElements[Pn],gr=qn[Fc];gr&&gr.setForRemoval&&(En.push(qn),Cr.add(qn),gr.hasAnimation?this.driver.query(qn,".ng-star-inserted",!0).forEach(Zr=>Cr.add(Zr)):Fr.add(qn))}const vr=new Map,or=Py(yn,Array.from(Cr));or.forEach((Pn,qn)=>{const gr=gg+Qt++;vr.set(qn,gr),Pn.forEach(Zr=>Oa(Zr,gr))}),c.push(()=>{bn.forEach((Pn,qn)=>{const gr=Tn.get(qn);Pn.forEach(Zr=>$h(Zr,gr))}),or.forEach((Pn,qn)=>{const gr=vr.get(qn);Pn.forEach(Zr=>$h(Zr,gr))}),En.forEach(Pn=>{this.processLeaveNode(Pn)})});const pi=[],$r=[];for(let Pn=this._namespaceList.length-1;Pn>=0;Pn--)this._namespaceList[Pn].drainQueuedTransitions(l).forEach(gr=>{const Zr=gr.player,Ws=gr.element;if(pi.push(Zr),this.collectedEnterElements.length){const to=Ws[Fc];if(to&&to.setForMove){if(to.previousTriggersValues&&to.previousTriggersValues.has(gr.triggerName)){const _a=to.previousTriggersValues.get(gr.triggerName),ya=this.statesByElement.get(gr.element);if(ya&&ya.has(gr.triggerName)){const Kf=ya.get(gr.triggerName);Kf.value=_a,ya.set(gr.triggerName,Kf)}}return void Zr.destroy()}}const $o=!Ht||!this.driver.containsElement(Ht,Ws),Ks=vr.get(Ws),Al=Tn.get(Ws),Xi=this._buildInstruction(gr,p,Al,Ks,$o);if(Xi.errors&&Xi.errors.length)return void $r.push(Xi);if($o)return Zr.onStart(()=>xa(Ws,Xi.fromStyles)),Zr.onDestroy(()=>ma(Ws,Xi.toStyles)),void T.push(Zr);if(gr.isFallbackTransition)return Zr.onStart(()=>xa(Ws,Xi.fromStyles)),Zr.onDestroy(()=>ma(Ws,Xi.toStyles)),void T.push(Zr);const Lc=[];Xi.timelines.forEach(to=>{to.stretchStartingKeyframe=!0,this.disabledNodes.has(to.element)||Lc.push(to)}),Xi.timelines=Lc,p.append(Ws,Xi.timelines),z.push({instruction:Xi,player:Zr,element:Ws}),Xi.queriedElements.forEach(to=>wo(re,to,[]).push(Zr)),Xi.preStyleProps.forEach((to,_a)=>{if(to.size){let ya=pe.get(_a);ya||pe.set(_a,ya=new Set),to.forEach((Kf,qf)=>ya.add(qf))}}),Xi.postStyleProps.forEach((to,_a)=>{let ya=Ge.get(_a);ya||Ge.set(_a,ya=new Set),to.forEach((Kf,qf)=>ya.add(qf))})});if($r.length){const Pn=[];$r.forEach(qn=>{Pn.push(function Ov(g,c){return new i.wOt(3505,!1)}())}),pi.forEach(qn=>qn.destroy()),this.reportError(Pn)}const ui=new Map,rs=new Map;z.forEach(Pn=>{const qn=Pn.element;p.has(qn)&&(rs.set(qn,qn),this._beforeAnimationBuild(Pn.player.namespaceId,Pn.instruction,ui))}),T.forEach(Pn=>{const qn=Pn.element;this._getPreviousPlayers(qn,!1,Pn.namespaceId,Pn.triggerName,null).forEach(Zr=>{wo(ui,qn,[]).push(Zr),Zr.destroy()})});const gs=En.filter(Pn=>Yv(Pn,pe,Ge)),is=new Map;r0(is,this.driver,Fr,Ge,Yi.kp).forEach(Pn=>{Yv(Pn,pe,Ge)&&gs.push(Pn)});const co=new Map;bn.forEach((Pn,qn)=>{r0(co,this.driver,new Set(Pn),pe,Yi.FX)}),gs.forEach(Pn=>{const qn=is.get(Pn),gr=co.get(Pn);is.set(Pn,new Map([...qn?.entries()??[],...gr?.entries()??[]]))});const zs=[],wu=[],Au={};z.forEach(Pn=>{const{element:qn,player:gr,instruction:Zr}=Pn;if(p.has(qn)){if(_t.has(qn))return gr.onDestroy(()=>ma(qn,Zr.toStyles)),gr.disabled=!0,gr.overrideTotalTime(Zr.totalTime),void T.push(gr);let Ws=Au;if(rs.size>1){let Ks=qn;const Al=[];for(;Ks=Ks.parentNode;){const Xi=rs.get(Ks);if(Xi){Ws=Xi;break}Al.push(Ks)}Al.forEach(Xi=>rs.set(Xi,Ws))}const $o=this._buildAnimation(gr.namespaceId,Zr,ui,k,co,is);if(gr.setRealPlayer($o),Ws===Au)zs.push(gr);else{const Ks=this.playersByElement.get(Ws);Ks&&Ks.length&&(gr.parentPlayer=Ja(Ks)),T.push(gr)}}else xa(qn,Zr.fromStyles),gr.onDestroy(()=>ma(qn,Zr.toStyles)),wu.push(gr),_t.has(qn)&&T.push(gr)}),wu.forEach(Pn=>{const qn=k.get(Pn.element);if(qn&&qn.length){const gr=Ja(qn);Pn.setRealPlayer(gr)}}),T.forEach(Pn=>{Pn.parentPlayer?Pn.syncPlayerEvents(Pn.parentPlayer):Pn.destroy()});for(let Pn=0;Pn<En.length;Pn++){const qn=En[Pn],gr=qn[Fc];if($h(qn,gg),gr&&gr.hasAnimation)continue;let Zr=[];if(re.size){let $o=re.get(qn);$o&&$o.length&&Zr.push(...$o);let Ks=this.driver.query(qn,bd,!0);for(let Al=0;Al<Ks.length;Al++){let Xi=re.get(Ks[Al]);Xi&&Xi.length&&Zr.push(...Xi)}}const Ws=Zr.filter($o=>!$o.destroyed);Ws.length?s0(this,qn,Ws):this.processLeaveNode(qn)}return En.length=0,zs.forEach(Pn=>{this.players.push(Pn),Pn.onDone(()=>{Pn.destroy();const qn=this.players.indexOf(Pn);this.players.splice(qn,1)}),Pn.play()}),zs}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,l,p,T,k){let z=[];if(l){const re=this.playersByQueriedElement.get(c);re&&(z=re)}else{const re=this.playersByElement.get(c);if(re){const pe=!k||k==Km;re.forEach(Ge=>{Ge.queued||!pe&&Ge.triggerName!=T||z.push(Ge)})}}return(p||T)&&(z=z.filter(re=>!(p&&p!=re.namespaceId||T&&T!=re.triggerName))),z}_beforeAnimationBuild(c,l,p){const k=l.element,z=l.isRemovalTransition?void 0:c,re=l.isRemovalTransition?void 0:l.triggerName;for(const pe of l.timelines){const Ge=pe.element,_t=Ge!==k,Ht=wo(p,Ge,[]);this._getPreviousPlayers(Ge,_t,z,re,l.toState).forEach(bn=>{const Tn=bn.getRealPlayer();Tn.beforeDestroy&&Tn.beforeDestroy(),bn.destroy(),Ht.push(bn)})}xa(k,l.fromStyles)}_buildAnimation(c,l,p,T,k,z){const re=l.triggerName,pe=l.element,Ge=[],_t=new Set,Ht=new Set,yn=l.timelines.map(Tn=>{const Qt=Tn.element;_t.add(Qt);const En=Qt[Fc];if(En&&En.removedBeforeQueried)return new Yi.sf(Tn.duration,Tn.delay);const Cr=Qt!==pe,Fr=function Kv(g){const c=[];return qv(g,c),c}((p.get(Qt)||K0).map(ui=>ui.getRealPlayer())).filter(ui=>!!ui.element&&ui.element===Qt),vr=k.get(Qt),or=z.get(Qt),pi=yy(this._normalizer,Tn.keyframes,vr,or),$r=this._buildPlayer(Tn,pi,Fr);if(Tn.subTimeline&&T&&Ht.add(Qt),Cr){const ui=new bg(c,re,Qt);ui.setRealPlayer($r),Ge.push(ui)}return $r});Ge.forEach(Tn=>{wo(this.playersByQueriedElement,Tn.element,[]).push(Tn),Tn.onDone(()=>function q0(g,c,l){let p=g.get(c);if(p){if(p.length){const T=p.indexOf(l);p.splice(T,1)}0==p.length&&g.delete(c)}return p}(this.playersByQueriedElement,Tn.element,Tn))}),_t.forEach(Tn=>Oa(Tn,mg));const bn=Ja(yn);return bn.onDestroy(()=>{_t.forEach(Tn=>$h(Tn,mg)),ma(pe,l.toStyles)}),Ht.forEach(Tn=>{wo(T,Tn,[]).push(bn)}),bn}_buildPlayer(c,l,p){return l.length>0?this.driver.animate(c.element,l,c.duration,c.delay,c.easing,p):new Yi.sf(c.duration,c.delay)}}class bg{constructor(c,l,p){this.namespaceId=c,this.triggerName=l,this.element=p,this._player=new Yi.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((l,p)=>{l.forEach(T=>Lm(c,p,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const l=this._player;l.triggerCallback&&c.onStart(()=>l.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,l){wo(this._queuedCallbacks,c,[]).push(l)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const l=this._player;l.triggerCallback&&l.triggerCallback(c)}}function qm(g){return g&&1===g.nodeType}function n0(g,c){const l=g.style.display;return g.style.display=c??"none",l}function r0(g,c,l,p,T){const k=[];l.forEach(pe=>k.push(n0(pe)));const z=[];p.forEach((pe,Ge)=>{const _t=new Map;pe.forEach(Ht=>{const yn=c.computeStyle(Ge,Ht,T);_t.set(Ht,yn),(!yn||0==yn.length)&&(Ge[Fc]=Wm,z.push(Ge))}),g.set(Ge,_t)});let re=0;return l.forEach(pe=>n0(pe,k[re++])),z}function Py(g,c){const l=new Map;if(g.forEach(re=>l.set(re,[])),0==c.length)return l;const T=new Set(c),k=new Map;function z(re){if(!re)return 1;let pe=k.get(re);if(pe)return pe;const Ge=re.parentNode;return pe=l.has(Ge)?Ge:T.has(Ge)?1:z(Ge),k.set(re,pe),pe}return c.forEach(re=>{const pe=z(re);1!==pe&&l.get(pe).push(re)}),l}function Oa(g,c){g.classList?.add(c)}function $h(g,c){g.classList?.remove(c)}function s0(g,c,l){Ja(l).onDone(()=>g.processLeaveNode(c))}function qv(g,c){for(let l=0;l<g.length;l++){const p=g[l];p instanceof Yi.ui?qv(p.players,c):c.push(p)}}function Yv(g,c,l){const p=l.get(g);if(!p)return!1;let T=c.get(g);return T?p.forEach(k=>T.add(k)):c.set(g,p),l.delete(g),!0}class Ym{constructor(c,l,p){this.bodyNode=c,this._driver=l,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(T,k)=>{},this._transitionEngine=new ZE(c,l,p),this._timelineEngine=new kc(c,l,p),this._transitionEngine.onRemovalComplete=(T,k)=>this.onRemovalComplete(T,k)}registerTrigger(c,l,p,T,k){const z=c+"-"+T;let re=this._triggerCache[z];if(!re){const pe=[],_t=wy(this._driver,k,pe,[]);if(pe.length)throw function $f(g,c){return new i.wOt(3404,!1)}();re=function Hv(g,c,l){return new Cu(g,c,l)}(T,_t,this._normalizer),this._triggerCache[z]=re}this._transitionEngine.registerTrigger(l,T,re)}register(c,l){this._transitionEngine.register(c,l)}destroy(c,l){this._transitionEngine.destroy(c,l)}onInsert(c,l,p,T){this._transitionEngine.insertNode(c,l,p,T)}onRemove(c,l,p){this._transitionEngine.removeNode(c,l,p)}disableAnimations(c,l){this._transitionEngine.markElementAsDisabled(c,l)}process(c,l,p,T){if("@"==p.charAt(0)){const[k,z]=pg(p);this._timelineEngine.command(k,l,z,T)}else this._transitionEngine.trigger(c,l,p,T)}listen(c,l,p,T,k){if("@"==p.charAt(0)){const[z,re]=pg(p);return this._timelineEngine.listen(z,l,re,k)}return this._transitionEngine.listen(c,l,p,T,k)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(c){this._transitionEngine.afterFlushAnimationsDone(c)}}let Y0=(()=>{class g{static{this.initialStylesByElement=new WeakMap}constructor(l,p,T){this._element=l,this._startStyles=p,this._endStyles=T,this._state=0;let k=g.initialStylesByElement.get(l);k||g.initialStylesByElement.set(l,k=new Map),this._initialStyles=k}start(){this._state<1&&(this._startStyles&&ma(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ma(this._element,this._initialStyles),this._endStyles&&(ma(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(g.initialStylesByElement.delete(this._element),this._startStyles&&(xa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xa(this._element,this._endStyles),this._endStyles=null),ma(this._element,this._initialStyles),this._state=3)}}return g})();function Xv(g){let c=null;return g.forEach((l,p)=>{(function X0(g){return"display"===g||"position"===g})(p)&&(c=c||new Map,c.set(p,l))}),c}class l0{constructor(c,l,p,T){this.element=c,this.keyframes=l,this.options=p,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const l=[];return c.forEach(p=>{l.push(Object.fromEntries(p))}),l}_triggerWebAnimation(c,l,p){return c.animate(this._convertKeyframesToObject(l),p)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,T)=>{"offset"!==T&&c.set(T,this._finished?p:E(this.element,T))}),this.currentSnapshot=c}triggerCallback(c){const l="start"===c?this._onStartFns:this._onDoneFns;l.forEach(p=>p()),l.length=0}}class Q0{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}matchesElement(c,l){return!1}containsElement(c,l){return Ey(c,l)}getParentElement(c){return vd(c)}query(c,l,p){return by(c,l,p)}computeStyle(c,l,p){return window.getComputedStyle(c)[l]}animate(c,l,p,T,k,z=[]){const pe={duration:p,delay:T,fill:0==T?"both":"forwards"};k&&(pe.easing=k);const Ge=new Map,_t=z.filter(bn=>bn instanceof l0);(function Cy(g,c){return 0===g||0===c})(p,T)&&_t.forEach(bn=>{bn.currentSnapshot.forEach((Tn,Qt)=>Ge.set(Qt,Tn))});let Ht=function vg(g){return g.length?g[0]instanceof Map?g:g.map(c=>yg(c)):[]}(l).map(bn=>Xl(bn));Ht=function Iy(g,c,l){if(l.size&&c.length){let p=c[0],T=[];if(l.forEach((k,z)=>{p.has(z)||T.push(z),p.set(z,k)}),T.length)for(let k=1;k<c.length;k++){let z=c[k];T.forEach(re=>z.set(re,E(g,re)))}}return c}(c,Ht,Ge);const yn=function a0(g,c){let l=null,p=null;return Array.isArray(c)&&c.length?(l=Xv(c[0]),c.length>1&&(p=Xv(c[c.length-1]))):c instanceof Map&&(l=Xv(c)),l||p?new Y0(g,l,p):null}(c,Ht);return new l0(c,Ht,pe,yn)}}let J0=(()=>{class g extends Yi.S6{constructor(l,p){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(p.body,{id:"0",encapsulation:i.gXe.None,styles:[],data:{animation:[]}})}build(l){const p=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(l)?(0,Yi.K2)(l):l;return c0(this._renderer,null,p,"register",[T]),new Z0(p,this._renderer)}static{this.\u0275fac=function(p){return new(p||g)(i.KVO(i._9s),i.KVO(fe.qQ))}}static{this.\u0275prov=i.jDH({token:g,factory:g.\u0275fac})}}return g})();class Z0 extends Yi.Ro{constructor(c,l){super(),this._id=c,this._renderer=l}create(c,l){return new eb(this._id,c,l||{},this._renderer)}}class eb{constructor(c,l,p,T){this.id=c,this.element=l,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(c,l){return this._renderer.listen(this.element,`@@${this.id}:${c}`,l)}_command(c,...l){return c0(this._renderer,this.element,this.id,c,l)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function c0(g,c,l,p,T){return g.setProperty(c,`@@${l}:${p}`,T)}const u0="@.disabled";let tb=(()=>{class g{constructor(l,p,T){this.delegate=l,this.engine=p,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(k,z)=>{const re=z?.parentNode(k);re&&z.removeChild(re,k)}}createRenderer(l,p){const k=this.delegate.createRenderer(l,p);if(!(l&&p&&p.data&&p.data.animation)){let _t=this._rendererCache.get(k);return _t||(_t=new d0("",k,this.engine,()=>this._rendererCache.delete(k)),this._rendererCache.set(k,_t)),_t}const z=p.id,re=p.id+"-"+this._currentId;this._currentId++,this.engine.register(re,l);const pe=_t=>{Array.isArray(_t)?_t.forEach(pe):this.engine.registerTrigger(z,re,l,_t.name,_t)};return p.data.animation.forEach(pe),new nb(this,re,k,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,p,T){l>=0&&l<this._microtaskId?this._zone.run(()=>p(T)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(k=>{const[z,re]=k;z(re)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(p){return new(p||g)(i.KVO(i._9s),i.KVO(Ym),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:g,factory:g.\u0275fac})}}return g})();class d0{constructor(c,l,p,T){this.namespaceId=c,this.delegate=l,this.engine=p,this._onDestroy=T}get data(){return this.delegate.data}destroyNode(c){this.delegate.destroyNode?.(c)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(c,l){return this.delegate.createElement(c,l)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,l){this.delegate.appendChild(c,l),this.engine.onInsert(this.namespaceId,l,c,!1)}insertBefore(c,l,p,T=!0){this.delegate.insertBefore(c,l,p),this.engine.onInsert(this.namespaceId,l,c,T)}removeChild(c,l,p){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(c,l){return this.delegate.selectRootElement(c,l)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,l,p,T){this.delegate.setAttribute(c,l,p,T)}removeAttribute(c,l,p){this.delegate.removeAttribute(c,l,p)}addClass(c,l){this.delegate.addClass(c,l)}removeClass(c,l){this.delegate.removeClass(c,l)}setStyle(c,l,p,T){this.delegate.setStyle(c,l,p,T)}removeStyle(c,l,p){this.delegate.removeStyle(c,l,p)}setProperty(c,l,p){"@"==l.charAt(0)&&l==u0?this.disableAnimations(c,!!p):this.delegate.setProperty(c,l,p)}setValue(c,l){this.delegate.setValue(c,l)}listen(c,l,p){return this.delegate.listen(c,l,p)}disableAnimations(c,l){this.engine.disableAnimations(c,l)}}class nb extends d0{constructor(c,l,p,T,k){super(l,p,T,k),this.factory=c,this.namespaceId=l}setProperty(c,l,p){"@"==l.charAt(0)?"."==l.charAt(1)&&l==u0?this.disableAnimations(c,p=void 0===p||!!p):this.engine.process(this.namespaceId,c,l.slice(1),p):this.delegate.setProperty(c,l,p)}listen(c,l,p){if("@"==l.charAt(0)){const T=function rb(g){switch(g){case"body":return document.body;case"document":return document;case"window":return window;default:return g}}(c);let k=l.slice(1),z="";return"@"!=k.charAt(0)&&([k,z]=function ib(g){const c=g.indexOf(".");return[g.substring(0,c),g.slice(c+1)]}(k)),this.engine.listen(this.namespaceId,T,k,z,re=>{this.factory.scheduleListenerCallback(re._data||-1,p,re)})}return this.delegate.listen(c,l,p)}}const Qv=[{provide:Yi.S6,useClass:J0},{provide:jv,useFactory:function ob(){return new Eg}},{provide:Ym,useClass:(()=>{class g extends Ym{constructor(l,p,T,k){super(l.body,p,T)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(p){return new(p||g)(i.KVO(fe.qQ),i.KVO(Ed),i.KVO(jv),i.KVO(i.o8S))}}static{this.\u0275prov=i.jDH({token:g,factory:g.\u0275fac})}}return g})()},{provide:i._9s,useFactory:function h0(g,c,l){return new tb(g,c,l)},deps:[le.B7,Ym,i.SKi]}],My=[{provide:Ed,useFactory:()=>new Q0},{provide:i.bc$,useValue:"BrowserAnimations"},...Qv],Jv=[{provide:Ed,useClass:Fh},{provide:i.bc$,useValue:"NoopAnimations"},...Qv];let f0=(()=>{class g{static withConfig(l){return{ngModule:g,providers:l.disableAnimations?Jv:My}}static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275mod=i.$C({type:g})}static{this.\u0275inj=i.G2t({providers:My,imports:[le.Bb]})}}return g})();const Oy={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","sp.sbmediahub.com":"KyQfU7hjez0uXRfAjqcu","elderlyhc.sbmediahub.com":"SJgFxBYkopnPR4WibCAf","prestige.sbmediahub.com":"pDJgpl34XUnRblyIlBA7","cc.sbmediahub.com":"yrNc50SvfPqwTSkvvygA","hh.sbmediahub.com":"vfCMoPjAu2ROVBbKvk0D","ae.sbmediahub.com":"UiSDf9elSjwcbQs2HZb1","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7","countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","www.countrycrestafh.com":"yrNc50SvfPqwTSkvvygA"};function p0(g,c,l){return()=>{const p=window.location.hostname,T=new URL(window.location.href);let k=Oy[p]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("themeInitializerFactory app.module businessId: "+k+" - hostname: "+p),g.loadTheme(k)}}function g0(g,c,l){const p=window.location.hostname,T=new URL(window.location.href);let k=Oy[p]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("initializeBusinessData app.module businessId:: "+k+" - hostname: "+p),()=>{g.loadBusinessData(k).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(z=>{console.error("Error loading business data:",z)})}}let ub=(()=>{class g{static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275mod=i.$C({type:g,bootstrap:[hm]})}static{this.\u0275inj=i.G2t({providers:[{provide:i.hnV,useFactory:p0,deps:[py,fe.aZ,dr.Ix],multi:!0},{provide:i.hnV,useFactory:g0,deps:[kt.A,fe.aZ,dr.Ix],multi:!0}],imports:[le.Bb,dr.iI,wf,Tc.cM,og.y5,Ch.X8,iy.bf.initializeApp(xf_firebase),_h(()=>Hp(xf_firebase)),Em(()=>jo()),ly(()=>uy()),yi.X1,yi.YN,me,f0]})}}return g})();le.sG().bootstrapModule(ub).catch(g=>console.error(g))},4412:(sn,Ze,F)=>{F.d(Ze,{t:()=>le});var o=F(1413);class le extends o.B{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const _e=super._subscribe(ve);return!_e.closed&&ve.next(this._value),_e}getValue(){const{hasError:ve,thrownError:_e,_value:Ce}=this;if(ve)throw _e;return this._throwIfClosed(),Ce}next(ve){super.next(this._value=ve)}}},1985:(sn,Ze,F)=>{F.d(Ze,{c:()=>Ve});var o=F(7707),le=F(8359),i=F(3494),ve=F(1203),_e=F(1026),Ce=F(8071),ye=F(9786);let Ve=(()=>{class fe{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const de=new fe;return de.source=this,de.operator=Ne,de}subscribe(Ne,de,Ke){const mt=function te(fe){return fe&&fe instanceof o.vU||function Y(fe){return fe&&(0,Ce.T)(fe.next)&&(0,Ce.T)(fe.error)&&(0,Ce.T)(fe.complete)}(fe)&&(0,le.Uv)(fe)}(Ne)?Ne:new o.Ms(Ne,de,Ke);return(0,ye.Y)(()=>{const{operator:Ft,source:Jt}=this;mt.add(Ft?Ft.call(mt,Jt):Jt?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(de){Ne.error(de)}}forEach(Ne,de){return new(de=xe(de))((Ke,mt)=>{const Ft=new o.Ms({next:Jt=>{try{Ne(Jt)}catch(He){mt(He),Ft.unsubscribe()}},error:mt,complete:Ke});this.subscribe(Ft)})}_subscribe(Ne){var de;return null===(de=this.source)||void 0===de?void 0:de.subscribe(Ne)}[i.s](){return this}pipe(...Ne){return(0,ve.m)(Ne)(this)}toPromise(Ne){return new(Ne=xe(Ne))((de,Ke)=>{let mt;this.subscribe(Ft=>mt=Ft,Ft=>Ke(Ft),()=>de(mt))})}}return fe.create=Ae=>new fe(Ae),fe})();function xe(fe){var Ae;return null!==(Ae=fe??_e.$.Promise)&&void 0!==Ae?Ae:Promise}},1413:(sn,Ze,F)=>{F.d(Ze,{B:()=>ye});var o=F(1985),le=F(8359);const ve=(0,F(1853).L)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=F(7908),Ce=F(9786);let ye=(()=>{class xe extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const fe=new Ve(this,this);return fe.operator=te,fe}_throwIfClosed(){if(this.closed)throw new ve}next(te){(0,Ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(te)}})}error(te){(0,Ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:fe}=this;for(;fe.length;)fe.shift().error(te)}})}complete(){(0,Ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:fe,isStopped:Ae,observers:Ne}=this;return fe||Ae?le.Kn:(this.currentObservers=null,Ne.push(te),new le.yU(()=>{this.currentObservers=null,(0,_e.o)(Ne,te)}))}_checkFinalizedStatuses(te){const{hasError:fe,thrownError:Ae,isStopped:Ne}=this;fe?te.error(Ae):Ne&&te.complete()}asObservable(){const te=new o.c;return te.source=this,te}}return xe.create=(Y,te)=>new Ve(Y,te),xe})();class Ve extends ye{constructor(Y,te){super(),this.destination=Y,this.source=te}next(Y){var te,fe;null===(fe=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===fe||fe.call(te,Y)}error(Y){var te,fe;null===(fe=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===fe||fe.call(te,Y)}complete(){var Y,te;null===(te=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===te||te.call(Y)}_subscribe(Y){var te,fe;return null!==(fe=null===(te=this.source)||void 0===te?void 0:te.subscribe(Y))&&void 0!==fe?fe:le.Kn}}},7707:(sn,Ze,F)=>{F.d(Ze,{Ms:()=>Ke,vU:()=>fe});var o=F(8071),le=F(8359),i=F(1026),ve=F(5334),_e=F(5343);const Ce=xe("C",void 0,void 0);function xe(Ie,tt,Xe){return{kind:Ie,value:tt,error:Xe}}var Y=F(9270),te=F(9786);class fe extends le.yU{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,le.Uv)(tt)&&tt.add(this)):this.destination=He}static create(tt,Xe,dt){return new Ke(tt,Xe,dt)}next(tt){this.isStopped?Jt(function Ve(Ie){return xe("N",Ie,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?Jt(function ye(Ie){return xe("E",void 0,Ie)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?Jt(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function Ne(Ie,tt){return Ae.call(Ie,tt)}class de{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:Xe}=this;if(Xe.next)try{Xe.next(tt)}catch(dt){mt(dt)}}error(tt){const{partialObserver:Xe}=this;if(Xe.error)try{Xe.error(tt)}catch(dt){mt(dt)}else mt(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(Xe){mt(Xe)}}}class Ke extends fe{constructor(tt,Xe,dt){let Nt;if(super(),(0,o.T)(tt)||!tt)Nt={next:tt??void 0,error:Xe??void 0,complete:dt??void 0};else{let ht;this&&i.$.useDeprecatedNextContext?(ht=Object.create(tt),ht.unsubscribe=()=>this.unsubscribe(),Nt={next:tt.next&&Ne(tt.next,ht),error:tt.error&&Ne(tt.error,ht),complete:tt.complete&&Ne(tt.complete,ht)}):Nt=tt}this.destination=new de(Nt)}}function mt(Ie){i.$.useDeprecatedSynchronousErrorHandling?(0,te.l)(Ie):(0,ve.m)(Ie)}function Jt(Ie,tt){const{onStoppedNotification:Xe}=i.$;Xe&&Y.f.setTimeout(()=>Xe(Ie,tt))}const He={closed:!0,next:_e.l,error:function Ft(Ie){throw Ie},complete:_e.l}},8359:(sn,Ze,F)=>{F.d(Ze,{Kn:()=>Ce,yU:()=>_e,Uv:()=>ye});var o=F(8071);const i=(0,F(1853).L)(xe=>function(te){xe(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((fe,Ae)=>`${Ae+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var ve=F(7908);class _e{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const Ne of te)Ne.remove(this);else te.remove(this);const{initialTeardown:fe}=this;if((0,o.T)(fe))try{fe()}catch(Ne){Y=Ne instanceof i?Ne.errors:[Ne]}const{_finalizers:Ae}=this;if(Ae){this._finalizers=null;for(const Ne of Ae)try{Ve(Ne)}catch(de){Y=Y??[],de instanceof i?Y=[...Y,...de.errors]:Y.push(de)}}if(Y)throw new i(Y)}}add(Y){var te;if(Y&&Y!==this)if(this.closed)Ve(Y);else{if(Y instanceof _e){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(Y)}}_hasParent(Y){const{_parentage:te}=this;return te===Y||Array.isArray(te)&&te.includes(Y)}_addParent(Y){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(Y),te):te?[te,Y]:Y}_removeParent(Y){const{_parentage:te}=this;te===Y?this._parentage=null:Array.isArray(te)&&(0,ve.o)(te,Y)}remove(Y){const{_finalizers:te}=this;te&&(0,ve.o)(te,Y),Y instanceof _e&&Y._removeParent(this)}}_e.EMPTY=(()=>{const xe=new _e;return xe.closed=!0,xe})();const Ce=_e.EMPTY;function ye(xe){return xe instanceof _e||xe&&"closed"in xe&&(0,o.T)(xe.remove)&&(0,o.T)(xe.add)&&(0,o.T)(xe.unsubscribe)}function Ve(xe){(0,o.T)(xe)?xe():xe.unsubscribe()}},1026:(sn,Ze,F)=>{F.d(Ze,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(sn,Ze,F)=>{F.d(Ze,{x:()=>_e});var o=F(6365),i=F(3794),ve=F(8455);function _e(...Ce){return function le(){return(0,o.U)(1)}()((0,ve.H)(Ce,(0,i.lI)(Ce)))}},983:(sn,Ze,F)=>{F.d(Ze,{w:()=>le});const le=new(F(1985).c)(_e=>_e.complete())},8455:(sn,Ze,F)=>{F.d(Ze,{H:()=>tt});var o=F(8750),le=F(941),i=F(6745),Ce=F(1985),Ve=F(4761),xe=F(8071),Y=F(5225);function fe(Xe,dt){if(!Xe)throw new Error("Iterable cannot be null");return new Ce.c(Nt=>{(0,Y.N)(Nt,dt,()=>{const ht=Xe[Symbol.asyncIterator]();(0,Y.N)(Nt,dt,()=>{ht.next().then(Ee=>{Ee.done?Nt.complete():Nt.next(Ee.value)})},0,!0)})})}var Ae=F(5055),Ne=F(9858),de=F(7441),Ke=F(5397),mt=F(7953),Ft=F(591),Jt=F(5196);function tt(Xe,dt){return dt?function Ie(Xe,dt){if(null!=Xe){if((0,Ae.l)(Xe))return function ve(Xe,dt){return(0,o.Tg)(Xe).pipe((0,i._)(dt),(0,le.Q)(dt))}(Xe,dt);if((0,de.X)(Xe))return function ye(Xe,dt){return new Ce.c(Nt=>{let ht=0;return dt.schedule(function(){ht===Xe.length?Nt.complete():(Nt.next(Xe[ht++]),Nt.closed||this.schedule())})})}(Xe,dt);if((0,Ne.y)(Xe))return function _e(Xe,dt){return(0,o.Tg)(Xe).pipe((0,i._)(dt),(0,le.Q)(dt))}(Xe,dt);if((0,mt.T)(Xe))return fe(Xe,dt);if((0,Ke.x)(Xe))return function te(Xe,dt){return new Ce.c(Nt=>{let ht;return(0,Y.N)(Nt,dt,()=>{ht=Xe[Ve.l](),(0,Y.N)(Nt,dt,()=>{let Ee,Je;try{({value:Ee,done:Je}=ht.next())}catch(Xt){return void Nt.error(Xt)}Je?Nt.complete():Nt.next(Ee)},0,!0)}),()=>(0,xe.T)(ht?.return)&&ht.return()})}(Xe,dt);if((0,Jt.U)(Xe))return function He(Xe,dt){return fe((0,Jt.C)(Xe),dt)}(Xe,dt)}throw(0,Ft.L)(Xe)}(Xe,dt):(0,o.Tg)(Xe)}},8750:(sn,Ze,F)=>{F.d(Ze,{Tg:()=>Ae});var o=F(1635),le=F(7441),i=F(9858),ve=F(1985),_e=F(5055),Ce=F(7953),ye=F(591),Ve=F(5397),xe=F(5196),Y=F(8071),te=F(5334),fe=F(3494);function Ae(Ie){if(Ie instanceof ve.c)return Ie;if(null!=Ie){if((0,_e.l)(Ie))return function Ne(Ie){return new ve.c(tt=>{const Xe=Ie[fe.s]();if((0,Y.T)(Xe.subscribe))return Xe.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,le.X)(Ie))return function de(Ie){return new ve.c(tt=>{for(let Xe=0;Xe<Ie.length&&!tt.closed;Xe++)tt.next(Ie[Xe]);tt.complete()})}(Ie);if((0,i.y)(Ie))return function Ke(Ie){return new ve.c(tt=>{Ie.then(Xe=>{tt.closed||(tt.next(Xe),tt.complete())},Xe=>tt.error(Xe)).then(null,te.m)})}(Ie);if((0,Ce.T)(Ie))return Ft(Ie);if((0,Ve.x)(Ie))return function mt(Ie){return new ve.c(tt=>{for(const Xe of Ie)if(tt.next(Xe),tt.closed)return;tt.complete()})}(Ie);if((0,xe.U)(Ie))return function Jt(Ie){return Ft((0,xe.C)(Ie))}(Ie)}throw(0,ye.L)(Ie)}function Ft(Ie){return new ve.c(tt=>{(function He(Ie,tt){var Xe,dt,Nt,ht;return(0,o.sH)(this,void 0,void 0,function*(){try{for(Xe=(0,o.xN)(Ie);!(dt=yield Xe.next()).done;)if(tt.next(dt.value),tt.closed)return}catch(Ee){Nt={error:Ee}}finally{try{dt&&!dt.done&&(ht=Xe.return)&&(yield ht.call(Xe))}finally{if(Nt)throw Nt.error}}tt.complete()})})(Ie,tt).catch(Xe=>tt.error(Xe))})}},7786:(sn,Ze,F)=>{F.d(Ze,{h:()=>Ce});var o=F(6365),le=F(8750),i=F(983),ve=F(3794),_e=F(8455);function Ce(...ye){const Ve=(0,ve.lI)(ye),xe=(0,ve.R0)(ye,1/0),Y=ye;return Y.length?1===Y.length?(0,le.Tg)(Y[0]):(0,o.U)(xe)((0,_e.H)(Y,Ve)):i.w}},7673:(sn,Ze,F)=>{F.d(Ze,{of:()=>i});var o=F(3794),le=F(8455);function i(...ve){const _e=(0,o.lI)(ve);return(0,le.H)(ve,_e)}},8810:(sn,Ze,F)=>{F.d(Ze,{$:()=>i});var o=F(1985),le=F(8071);function i(ve,_e){const Ce=(0,le.T)(ve)?ve:()=>ve,ye=Ve=>Ve.error(Ce());return new o.c(_e?Ve=>_e.schedule(ye,0,Ve):ye)}},4360:(sn,Ze,F)=>{F.d(Ze,{_:()=>le});var o=F(7707);function le(ve,_e,Ce,ye,Ve){return new i(ve,_e,Ce,ye,Ve)}class i extends o.vU{constructor(_e,Ce,ye,Ve,xe,Y){super(_e),this.onFinalize=xe,this.shouldUnsubscribe=Y,this._next=Ce?function(te){try{Ce(te)}catch(fe){_e.error(fe)}}:super._next,this._error=Ve?function(te){try{Ve(te)}catch(fe){_e.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(te){_e.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},9437:(sn,Ze,F)=>{F.d(Ze,{W:()=>ve});var o=F(8750),le=F(4360),i=F(9974);function ve(_e){return(0,i.N)((Ce,ye)=>{let Y,Ve=null,xe=!1;Ve=Ce.subscribe((0,le._)(ye,void 0,void 0,te=>{Y=(0,o.Tg)(_e(te,ve(_e)(Ce))),Ve?(Ve.unsubscribe(),Ve=null,Y.subscribe(ye)):xe=!0})),xe&&(Ve.unsubscribe(),Ve=null,Y.subscribe(ye))})}},274:(sn,Ze,F)=>{F.d(Ze,{H:()=>i});var o=F(1397),le=F(8071);function i(ve,_e){return(0,le.T)(_e)?(0,o.Z)(ve,_e,1):(0,o.Z)(ve,1)}},9901:(sn,Ze,F)=>{F.d(Ze,{U:()=>i});var o=F(9974),le=F(4360);function i(ve){return(0,o.N)((_e,Ce)=>{let ye=!1;_e.subscribe((0,le._)(Ce,Ve=>{ye=!0,Ce.next(Ve)},()=>{ye||Ce.next(ve),Ce.complete()}))})}},3294:(sn,Ze,F)=>{F.d(Ze,{F:()=>ve});var o=F(3669),le=F(9974),i=F(4360);function ve(Ce,ye=o.D){return Ce=Ce??_e,(0,le.N)((Ve,xe)=>{let Y,te=!0;Ve.subscribe((0,i._)(xe,fe=>{const Ae=ye(fe);(te||!Ce(Y,Ae))&&(te=!1,Y=Ae,xe.next(fe))}))})}function _e(Ce,ye){return Ce===ye}},5964:(sn,Ze,F)=>{F.d(Ze,{p:()=>i});var o=F(9974),le=F(4360);function i(ve,_e){return(0,o.N)((Ce,ye)=>{let Ve=0;Ce.subscribe((0,le._)(ye,xe=>ve.call(_e,xe,Ve++)&&ye.next(xe)))})}},980:(sn,Ze,F)=>{F.d(Ze,{j:()=>le});var o=F(9974);function le(i){return(0,o.N)((ve,_e)=>{try{ve.subscribe(_e)}finally{_e.add(i)}})}},1594:(sn,Ze,F)=>{F.d(Ze,{$:()=>ye});var o=F(9350),le=F(5964),i=F(6697),ve=F(9901),_e=F(3774),Ce=F(3669);function ye(Ve,xe){const Y=arguments.length>=2;return te=>te.pipe(Ve?(0,le.p)((fe,Ae)=>Ve(fe,Ae,te)):Ce.D,(0,i.s)(1),Y?(0,ve.U)(xe):(0,_e.v)(()=>new o.G))}},6354:(sn,Ze,F)=>{F.d(Ze,{T:()=>i});var o=F(9974),le=F(4360);function i(ve,_e){return(0,o.N)((Ce,ye)=>{let Ve=0;Ce.subscribe((0,le._)(ye,xe=>{ye.next(ve.call(_e,xe,Ve++))}))})}},6365:(sn,Ze,F)=>{F.d(Ze,{U:()=>i});var o=F(1397),le=F(3669);function i(ve=1/0){return(0,o.Z)(le.D,ve)}},1397:(sn,Ze,F)=>{F.d(Ze,{Z:()=>Ve});var o=F(6354),le=F(8750),i=F(9974),ve=F(5225),_e=F(4360),ye=F(8071);function Ve(xe,Y,te=1/0){return(0,ye.T)(Y)?Ve((fe,Ae)=>(0,o.T)((Ne,de)=>Y(fe,Ne,Ae,de))((0,le.Tg)(xe(fe,Ae))),te):("number"==typeof Y&&(te=Y),(0,i.N)((fe,Ae)=>function Ce(xe,Y,te,fe,Ae,Ne,de,Ke){const mt=[];let Ft=0,Jt=0,He=!1;const Ie=()=>{He&&!mt.length&&!Ft&&Y.complete()},tt=dt=>Ft<fe?Xe(dt):mt.push(dt),Xe=dt=>{Ne&&Y.next(dt),Ft++;let Nt=!1;(0,le.Tg)(te(dt,Jt++)).subscribe((0,_e._)(Y,ht=>{Ae?.(ht),Ne?tt(ht):Y.next(ht)},()=>{Nt=!0},void 0,()=>{if(Nt)try{for(Ft--;mt.length&&Ft<fe;){const ht=mt.shift();de?(0,ve.N)(Y,de,()=>Xe(ht)):Xe(ht)}Ie()}catch(ht){Y.error(ht)}}))};return xe.subscribe((0,_e._)(Y,tt,()=>{He=!0,Ie()})),()=>{Ke?.()}}(fe,Ae,xe,te)))}},941:(sn,Ze,F)=>{F.d(Ze,{Q:()=>ve});var o=F(5225),le=F(9974),i=F(4360);function ve(_e,Ce=0){return(0,le.N)((ye,Ve)=>{ye.subscribe((0,i._)(Ve,xe=>(0,o.N)(Ve,_e,()=>Ve.next(xe),Ce),()=>(0,o.N)(Ve,_e,()=>Ve.complete(),Ce),xe=>(0,o.N)(Ve,_e,()=>Ve.error(xe),Ce)))})}},2816:(sn,Ze,F)=>{F.d(Ze,{S:()=>ve});var o=F(9974),le=F(4360);function ve(_e,Ce){return(0,o.N)(function i(_e,Ce,ye,Ve,xe){return(Y,te)=>{let fe=ye,Ae=Ce,Ne=0;Y.subscribe((0,le._)(te,de=>{const Ke=Ne++;Ae=fe?_e(Ae,de,Ke):(fe=!0,de),Ve&&te.next(Ae)},xe&&(()=>{fe&&te.next(Ae),te.complete()})))}}(_e,Ce,arguments.length>=2,!0))}},7647:(sn,Ze,F)=>{F.d(Ze,{u:()=>_e});var o=F(8750),le=F(1413),i=F(7707),ve=F(9974);function _e(ye={}){const{connector:Ve=(()=>new le.B),resetOnError:xe=!0,resetOnComplete:Y=!0,resetOnRefCountZero:te=!0}=ye;return fe=>{let Ae,Ne,de,Ke=0,mt=!1,Ft=!1;const Jt=()=>{Ne?.unsubscribe(),Ne=void 0},He=()=>{Jt(),Ae=de=void 0,mt=Ft=!1},Ie=()=>{const tt=Ae;He(),tt?.unsubscribe()};return(0,ve.N)((tt,Xe)=>{Ke++,!Ft&&!mt&&Jt();const dt=de=de??Ve();Xe.add(()=>{Ke--,0===Ke&&!Ft&&!mt&&(Ne=Ce(Ie,te))}),dt.subscribe(Xe),!Ae&&Ke>0&&(Ae=new i.Ms({next:Nt=>dt.next(Nt),error:Nt=>{Ft=!0,Jt(),Ne=Ce(He,xe,Nt),dt.error(Nt)},complete:()=>{mt=!0,Jt(),Ne=Ce(He,Y),dt.complete()}}),(0,o.Tg)(tt).subscribe(Ae))})(fe)}}function Ce(ye,Ve,...xe){if(!0===Ve)return void ye();if(!1===Ve)return;const Y=new i.Ms({next:()=>{Y.unsubscribe(),ye()}});return(0,o.Tg)(Ve(...xe)).subscribe(Y)}},9172:(sn,Ze,F)=>{F.d(Ze,{Z:()=>ve});var o=F(8793),le=F(3794),i=F(9974);function ve(..._e){const Ce=(0,le.lI)(_e);return(0,i.N)((ye,Ve)=>{(Ce?(0,o.x)(_e,ye,Ce):(0,o.x)(_e,ye)).subscribe(Ve)})}},6745:(sn,Ze,F)=>{F.d(Ze,{_:()=>le});var o=F(9974);function le(i,ve=0){return(0,o.N)((_e,Ce)=>{Ce.add(i.schedule(()=>_e.subscribe(Ce),ve))})}},5558:(sn,Ze,F)=>{F.d(Ze,{n:()=>ve});var o=F(8750),le=F(9974),i=F(4360);function ve(_e,Ce){return(0,le.N)((ye,Ve)=>{let xe=null,Y=0,te=!1;const fe=()=>te&&!xe&&Ve.complete();ye.subscribe((0,i._)(Ve,Ae=>{xe?.unsubscribe();let Ne=0;const de=Y++;(0,o.Tg)(_e(Ae,de)).subscribe(xe=(0,i._)(Ve,Ke=>Ve.next(Ce?Ce(Ae,Ke,de,Ne++):Ke),()=>{xe=null,fe()}))},()=>{te=!0,fe()}))})}},6697:(sn,Ze,F)=>{F.d(Ze,{s:()=>ve});var o=F(983),le=F(9974),i=F(4360);function ve(_e){return _e<=0?()=>o.w:(0,le.N)((Ce,ye)=>{let Ve=0;Ce.subscribe((0,i._)(ye,xe=>{++Ve<=_e&&(ye.next(xe),_e<=Ve&&ye.complete())}))})}},8141:(sn,Ze,F)=>{F.d(Ze,{M:()=>_e});var o=F(8071),le=F(9974),i=F(4360),ve=F(3669);function _e(Ce,ye,Ve){const xe=(0,o.T)(Ce)||ye||Ve?{next:Ce,error:ye,complete:Ve}:Ce;return xe?(0,le.N)((Y,te)=>{var fe;null===(fe=xe.subscribe)||void 0===fe||fe.call(xe);let Ae=!0;Y.subscribe((0,i._)(te,Ne=>{var de;null===(de=xe.next)||void 0===de||de.call(xe,Ne),te.next(Ne)},()=>{var Ne;Ae=!1,null===(Ne=xe.complete)||void 0===Ne||Ne.call(xe),te.complete()},Ne=>{var de;Ae=!1,null===(de=xe.error)||void 0===de||de.call(xe,Ne),te.error(Ne)},()=>{var Ne,de;Ae&&(null===(Ne=xe.unsubscribe)||void 0===Ne||Ne.call(xe)),null===(de=xe.finalize)||void 0===de||de.call(xe)}))}):ve.D}},3774:(sn,Ze,F)=>{F.d(Ze,{v:()=>ve});var o=F(9350),le=F(9974),i=F(4360);function ve(Ce=_e){return(0,le.N)((ye,Ve)=>{let xe=!1;ye.subscribe((0,i._)(Ve,Y=>{xe=!0,Ve.next(Y)},()=>xe?Ve.complete():Ve.error(Ce())))})}function _e(){return new o.G}},6780:(sn,Ze,F)=>{F.d(Ze,{R:()=>_e});var o=F(8359);class le extends o.yU{constructor(ye,Ve){super()}schedule(ye,Ve=0){return this}}const i={setInterval(Ce,ye,...Ve){const{delegate:xe}=i;return xe?.setInterval?xe.setInterval(Ce,ye,...Ve):setInterval(Ce,ye,...Ve)},clearInterval(Ce){const{delegate:ye}=i;return(ye?.clearInterval||clearInterval)(Ce)},delegate:void 0};var ve=F(7908);class _e extends le{constructor(ye,Ve){super(ye,Ve),this.scheduler=ye,this.work=Ve,this.pending=!1}schedule(ye,Ve=0){var xe;if(this.closed)return this;this.state=ye;const Y=this.id,te=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(te,Y,Ve)),this.pending=!0,this.delay=Ve,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(te,this.id,Ve),this}requestAsyncId(ye,Ve,xe=0){return i.setInterval(ye.flush.bind(ye,this),xe)}recycleAsyncId(ye,Ve,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return Ve;null!=Ve&&i.clearInterval(Ve)}execute(ye,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(ye,Ve);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,Ve){let Y,xe=!1;try{this.work(ye)}catch(te){xe=!0,Y=te||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:ye,scheduler:Ve}=this,{actions:xe}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.o)(xe,this),null!=ye&&(this.id=this.recycleAsyncId(Ve,ye,null)),this.delay=null,super.unsubscribe()}}}},9687:(sn,Ze,F)=>{F.d(Ze,{q:()=>i});var o=F(6129);class le{constructor(_e,Ce=le.now){this.schedulerActionCtor=_e,this.now=Ce}schedule(_e,Ce=0,ye){return new this.schedulerActionCtor(this,_e).schedule(ye,Ce)}}le.now=o.U.now;class i extends le{constructor(_e,Ce=le.now){super(_e,Ce),this.actions=[],this._active=!1}flush(_e){const{actions:Ce}=this;if(this._active)return void Ce.push(_e);let ye;this._active=!0;do{if(ye=_e.execute(_e.state,_e.delay))break}while(_e=Ce.shift());if(this._active=!1,ye){for(;_e=Ce.shift();)_e.unsubscribe();throw ye}}}},3236:(sn,Ze,F)=>{F.d(Ze,{E:()=>i});var o=F(6780);const i=new(F(9687).q)(o.R)},6129:(sn,Ze,F)=>{F.d(Ze,{U:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},9270:(sn,Ze,F)=>{F.d(Ze,{f:()=>o});const o={setTimeout(le,i,...ve){const{delegate:_e}=o;return _e?.setTimeout?_e.setTimeout(le,i,...ve):setTimeout(le,i,...ve)},clearTimeout(le){const{delegate:i}=o;return(i?.clearTimeout||clearTimeout)(le)},delegate:void 0}},4761:(sn,Ze,F)=>{F.d(Ze,{l:()=>le});const le=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(sn,Ze,F)=>{F.d(Ze,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(sn,Ze,F)=>{F.d(Ze,{G:()=>le});const le=(0,F(1853).L)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(sn,Ze,F)=>{F.d(Ze,{R0:()=>Ce,ms:()=>ve,lI:()=>_e});var o=F(8071);function i(ye){return ye[ye.length-1]}function ve(ye){return(0,o.T)(i(ye))?ye.pop():void 0}function _e(ye){return function le(ye){return ye&&(0,o.T)(ye.schedule)}(i(ye))?ye.pop():void 0}function Ce(ye,Ve){return"number"==typeof i(ye)?ye.pop():Ve}},3073:(sn,Ze,F)=>{F.d(Ze,{D:()=>_e});const{isArray:o}=Array,{getPrototypeOf:le,prototype:i,keys:ve}=Object;function _e(ye){if(1===ye.length){const Ve=ye[0];if(o(Ve))return{args:Ve,keys:null};if(function Ce(ye){return ye&&"object"==typeof ye&&le(ye)===i}(Ve)){const xe=ve(Ve);return{args:xe.map(Y=>Ve[Y]),keys:xe}}}return{args:ye,keys:null}}},7908:(sn,Ze,F)=>{function o(le,i){if(le){const ve=le.indexOf(i);0<=ve&&le.splice(ve,1)}}F.d(Ze,{o:()=>o})},1853:(sn,Ze,F)=>{function o(le){const ve=le(_e=>{Error.call(_e),_e.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}F.d(Ze,{L:()=>o})},8496:(sn,Ze,F)=>{function o(le,i){return le.reduce((ve,_e,Ce)=>(ve[_e]=i[Ce],ve),{})}F.d(Ze,{e:()=>o})},9786:(sn,Ze,F)=>{F.d(Ze,{Y:()=>i,l:()=>ve});var o=F(1026);let le=null;function i(_e){if(o.$.useDeprecatedSynchronousErrorHandling){const Ce=!le;if(Ce&&(le={errorThrown:!1,error:null}),_e(),Ce){const{errorThrown:ye,error:Ve}=le;if(le=null,ye)throw Ve}}else _e()}function ve(_e){o.$.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=_e)}},5225:(sn,Ze,F)=>{function o(le,i,ve,_e=0,Ce=!1){const ye=i.schedule(function(){ve(),Ce?le.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(le.add(ye),!Ce)return ye}F.d(Ze,{N:()=>o})},3669:(sn,Ze,F)=>{function o(le){return le}F.d(Ze,{D:()=>o})},7441:(sn,Ze,F)=>{F.d(Ze,{X:()=>o});const o=le=>le&&"number"==typeof le.length&&"function"!=typeof le},7953:(sn,Ze,F)=>{F.d(Ze,{T:()=>le});var o=F(8071);function le(i){return Symbol.asyncIterator&&(0,o.T)(i?.[Symbol.asyncIterator])}},8071:(sn,Ze,F)=>{function o(le){return"function"==typeof le}F.d(Ze,{T:()=>o})},5055:(sn,Ze,F)=>{F.d(Ze,{l:()=>i});var o=F(3494),le=F(8071);function i(ve){return(0,le.T)(ve[o.s])}},5397:(sn,Ze,F)=>{F.d(Ze,{x:()=>i});var o=F(4761),le=F(8071);function i(ve){return(0,le.T)(ve?.[o.l])}},9858:(sn,Ze,F)=>{F.d(Ze,{y:()=>le});var o=F(8071);function le(i){return(0,o.T)(i?.then)}},5196:(sn,Ze,F)=>{F.d(Ze,{C:()=>i,U:()=>ve});var o=F(1635),le=F(8071);function i(_e){return(0,o.AQ)(this,arguments,function*(){const ye=_e.getReader();try{for(;;){const{value:Ve,done:xe}=yield(0,o.N3)(ye.read());if(xe)return yield(0,o.N3)(void 0);yield yield(0,o.N3)(Ve)}}finally{ye.releaseLock()}})}function ve(_e){return(0,le.T)(_e?.getReader)}},9974:(sn,Ze,F)=>{F.d(Ze,{N:()=>i,S:()=>le});var o=F(8071);function le(ve){return(0,o.T)(ve?.lift)}function i(ve){return _e=>{if(le(_e))return _e.lift(function(Ce){try{return ve(Ce,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(sn,Ze,F)=>{F.d(Ze,{I:()=>ve});var o=F(6354);const{isArray:le}=Array;function ve(_e){return(0,o.T)(Ce=>function i(_e,Ce){return le(Ce)?_e(...Ce):_e(Ce)}(_e,Ce))}},5343:(sn,Ze,F)=>{function o(){}F.d(Ze,{l:()=>o})},1203:(sn,Ze,F)=>{F.d(Ze,{F:()=>le,m:()=>i});var o=F(3669);function le(...ve){return i(ve)}function i(ve){return 0===ve.length?o.D:1===ve.length?ve[0]:function(Ce){return ve.reduce((ye,Ve)=>Ve(ye),Ce)}}},5334:(sn,Ze,F)=>{F.d(Ze,{m:()=>i});var o=F(1026),le=F(9270);function i(ve){le.f.setTimeout(()=>{const{onUnhandledError:_e}=o.$;if(!_e)throw ve;_e(ve)})}},591:(sn,Ze,F)=>{function o(le){return new TypeError(`You provided ${null!==le&&"object"==typeof le?"an invalid object":`'${le}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ze,{L:()=>o})},9969:(sn,Ze,F)=>{F.d(Ze,{FX:()=>Jt,K2:()=>ye,Ro:()=>le,S6:()=>o,hZ:()=>ve,i0:()=>_e,iF:()=>Ve,kY:()=>te,kp:()=>i,sf:()=>mt,ui:()=>Ft});class o{}class le{}const i="*";function ve(He,Ie){return{type:7,name:He,definitions:Ie,options:{}}}function _e(He,Ie=null){return{type:4,styles:Ie,timings:He}}function ye(He,Ie=null){return{type:2,steps:He,options:Ie}}function Ve(He){return{type:6,styles:He,offset:null}}function te(He,Ie,tt=null){return{type:1,expr:He,animation:Ie,options:tt}}class mt{constructor(Ie=0,tt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ie+tt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ie=>Ie()),this._onDoneFns=[])}onStart(Ie){this._originalOnStartFns.push(Ie),this._onStartFns.push(Ie)}onDone(Ie){this._originalOnDoneFns.push(Ie),this._onDoneFns.push(Ie)}onDestroy(Ie){this._onDestroyFns.push(Ie)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ie=>Ie()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ie=>Ie()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ie){this._position=this.totalTime?Ie*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ie){const tt="start"==Ie?this._onStartFns:this._onDoneFns;tt.forEach(Xe=>Xe()),tt.length=0}}class Ft{constructor(Ie){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ie;let tt=0,Xe=0,dt=0;const Nt=this.players.length;0==Nt?queueMicrotask(()=>this._onFinish()):this.players.forEach(ht=>{ht.onDone(()=>{++tt==Nt&&this._onFinish()}),ht.onDestroy(()=>{++Xe==Nt&&this._onDestroy()}),ht.onStart(()=>{++dt==Nt&&this._onStart()})}),this.totalTime=this.players.reduce((ht,Ee)=>Math.max(ht,Ee.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ie=>Ie()),this._onDoneFns=[])}init(){this.players.forEach(Ie=>Ie.init())}onStart(Ie){this._onStartFns.push(Ie)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ie=>Ie()),this._onStartFns=[])}onDone(Ie){this._onDoneFns.push(Ie)}onDestroy(Ie){this._onDestroyFns.push(Ie)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ie=>Ie.play())}pause(){this.players.forEach(Ie=>Ie.pause())}restart(){this.players.forEach(Ie=>Ie.restart())}finish(){this._onFinish(),this.players.forEach(Ie=>Ie.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ie=>Ie.destroy()),this._onDestroyFns.forEach(Ie=>Ie()),this._onDestroyFns=[])}reset(){this.players.forEach(Ie=>Ie.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ie){const tt=Ie*this.totalTime;this.players.forEach(Xe=>{const dt=Xe.totalTime?Math.min(1,tt/Xe.totalTime):1;Xe.setPosition(dt)})}getPosition(){const Ie=this.players.reduce((tt,Xe)=>null===tt||Xe.totalTime>tt.totalTime?Xe:tt,null);return null!=Ie?Ie.getPosition():0}beforeDestroy(){this.players.forEach(Ie=>{Ie.beforeDestroy&&Ie.beforeDestroy()})}triggerCallback(Ie){const tt="start"==Ie?this._onStartFns:this._onDoneFns;tt.forEach(Xe=>Xe()),tt.length=0}}const Jt="!"},177:(sn,Ze,F)=>{F.d(Ze,{AJ:()=>Yr,B3:()=>Ar,Jj:()=>qs,MD:()=>js,N0:()=>Dn,P9:()=>ls,QT:()=>i,QX:()=>Hr,Sm:()=>de,Sq:()=>Qi,VF:()=>_e,Vy:()=>Zi,Xr:()=>Ue,YU:()=>fr,ZD:()=>ve,_b:()=>un,aZ:()=>mt,bT:()=>Do,e1:()=>os,fG:()=>bs,fw:()=>Ke,hb:()=>Ae,hj:()=>Ve,lG:()=>Ts,qQ:()=>Ce,ux:()=>li});var o=F(7705);let le=null;function i(){return le}function ve(P){le||(le=P)}class _e{}const Ce=new o.nKC("DocumentToken");let ye=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(xe)},providedIn:"platform"})}}return P})();const Ve=new o.nKC("Location Initialized");let xe=(()=>{class P extends ye{constructor(){super(),this._doc=(0,o.WQX)(Ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState(B){const X=i().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",B,!1),()=>X.removeEventListener("popstate",B)}onHashChange(B){const X=i().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",B,!1),()=>X.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,X,Oe){this._history.pushState(B,X,Oe)}replaceState(B,X,Oe){this._history.replaceState(B,X,Oe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return new P},providedIn:"platform"})}}return P})();function Y(P,ne){if(0==P.length)return ne;if(0==ne.length)return P;let B=0;return P.endsWith("/")&&B++,ne.startsWith("/")&&B++,2==B?P+ne.substring(1):1==B?P+ne:P+"/"+ne}function te(P){const ne=P.match(/#|\?|$/),B=ne&&ne.index||P.length;return P.slice(0,B-("/"===P[B-1]?1:0))+P.slice(B)}function fe(P){return P&&"?"!==P[0]?"?"+P:P}let Ae=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(de)},providedIn:"root"})}}return P})();const Ne=new o.nKC("appBaseHref");let de=(()=>{class P extends Ae{constructor(B,X){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,o.WQX)(Ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return Y(this._baseHref,B)}path(B=!1){const X=this._platformLocation.pathname+fe(this._platformLocation.search),Oe=this._platformLocation.hash;return Oe&&B?`${X}${Oe}`:X}pushState(B,X,Oe,wt){const Ut=this.prepareExternalUrl(Oe+fe(wt));this._platformLocation.pushState(B,X,Ut)}replaceState(B,X,Oe,wt){const Ut=this.prepareExternalUrl(Oe+fe(wt));this._platformLocation.replaceState(B,X,Ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(X){return new(X||P)(o.KVO(ye),o.KVO(Ne,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})(),Ke=(()=>{class P extends Ae{constructor(B,X){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(B){const X=Y(this._baseHref,B);return X.length>0?"#"+X:X}pushState(B,X,Oe,wt){let Ut=this.prepareExternalUrl(Oe+fe(wt));0==Ut.length&&(Ut=this._platformLocation.pathname),this._platformLocation.pushState(B,X,Ut)}replaceState(B,X,Oe,wt){let Ut=this.prepareExternalUrl(Oe+fe(wt));0==Ut.length&&(Ut=this._platformLocation.pathname),this._platformLocation.replaceState(B,X,Ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(X){return new(X||P)(o.KVO(ye),o.KVO(Ne,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac})}}return P})(),mt=(()=>{class P{constructor(B){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const X=this._locationStrategy.getBaseHref();this._basePath=function Ie(P){if(new RegExp("^(https?:)?//").test(P)){const[,B]=P.split(/\/\/[^\/]+/);return B}return P}(te(He(X))),this._locationStrategy.onPopState(Oe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Oe.state,type:Oe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,X=""){return this.path()==this.normalize(B+fe(X))}normalize(B){return P.stripTrailingSlash(function Jt(P,ne){if(!P||!ne.startsWith(P))return ne;const B=ne.substring(P.length);return""===B||["/",";","?","#"].includes(B[0])?B:ne}(this._basePath,He(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,X="",Oe=null){this._locationStrategy.pushState(Oe,"",B,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+fe(X)),Oe)}replaceState(B,X="",Oe=null){this._locationStrategy.replaceState(Oe,"",B,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+fe(X)),Oe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",X){this._urlChangeListeners.forEach(Oe=>Oe(B,X))}subscribe(B,X,Oe){return this._subject.subscribe({next:B,error:X,complete:Oe})}static{this.normalizeQueryParams=fe}static{this.joinWithSlash=Y}static{this.stripTrailingSlash=te}static{this.\u0275fac=function(X){return new(X||P)(o.KVO(Ae))}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return function Ft(){return new mt((0,o.KVO)(Ae))}()},providedIn:"root"})}}return P})();function He(P){return P.replace(/\/index.html$/,"")}var Xe=function(P){return P[P.Decimal=0]="Decimal",P[P.Percent=1]="Percent",P[P.Currency=2]="Currency",P[P.Scientific=3]="Scientific",P}(Xe||{}),Je=function(P){return P[P.Decimal=0]="Decimal",P[P.Group=1]="Group",P[P.List=2]="List",P[P.PercentSign=3]="PercentSign",P[P.PlusSign=4]="PlusSign",P[P.MinusSign=5]="MinusSign",P[P.Exponential=6]="Exponential",P[P.SuperscriptingExponent=7]="SuperscriptingExponent",P[P.PerMille=8]="PerMille",P[P.Infinity=9]="Infinity",P[P.NaN=10]="NaN",P[P.TimeSeparator=11]="TimeSeparator",P[P.CurrencyDecimal=12]="CurrencyDecimal",P[P.CurrencyGroup=13]="CurrencyGroup",P}(Je||{});function Te(P,ne){const B=(0,o.H5H)(P),X=B[o.KH2.NumberSymbols][ne];if(typeof X>"u"){if(ne===Je.CurrencyDecimal)return B[o.KH2.NumberSymbols][Je.Decimal];if(ne===Je.CurrencyGroup)return B[o.KH2.NumberSymbols][Je.Group]}return X}const L=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ar(P){const ne=parseInt(P);if(isNaN(ne))throw new Error("Invalid integer literal when parsing "+P);return ne}function un(P,ne){ne=encodeURIComponent(ne);for(const B of P.split(";")){const X=B.indexOf("="),[Oe,wt]=-1==X?[B,""]:[B.slice(0,X),B.slice(X+1)];if(Oe.trim()===ne)return decodeURIComponent(wt)}return null}const $n=/\s+/,Ln=[];let fr=(()=>{class P{constructor(B,X,Oe,wt){this._iterableDiffers=B,this._keyValueDiffers=X,this._ngEl=Oe,this._renderer=wt,this.initialClasses=Ln,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split($n):Ln}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split($n):B}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const X of B)this._updateState(X,!0);else if(null!=B)for(const X of Object.keys(B))this._updateState(X,!!B[X]);this._applyStateDiff()}_updateState(B,X){const Oe=this.stateMap.get(B);void 0!==Oe?(Oe.enabled!==X&&(Oe.changed=!0,Oe.enabled=X),Oe.touched=!0):this.stateMap.set(B,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const X=B[0],Oe=B[1];Oe.changed?(this._toggleClass(X,Oe.enabled),Oe.changed=!1):Oe.touched||(Oe.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),Oe.touched=!1}}_toggleClass(B,X){(B=B.trim()).length>0&&B.split($n).forEach(Oe=>{X?this._renderer.addClass(this._ngEl.nativeElement,Oe):this._renderer.removeClass(this._ngEl.nativeElement,Oe)})}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o._q3),o.rXU(o.MKu),o.rXU(o.aKT),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return P})();class pr{constructor(ne,B,X,Oe){this.$implicit=ne,this.ngForOf=B,this.index=X,this.count=Oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qi=(()=>{class P{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,X,Oe){this._viewContainer=B,this._template=X,this._differs=Oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const X=this._viewContainer;B.forEachOperation((Oe,wt,Ut)=>{if(null==Oe.previousIndex)X.createEmbeddedView(this._template,new pr(Oe.item,this._ngForOf,-1,-1),null===Ut?void 0:Ut);else if(null==Ut)X.remove(null===wt?void 0:wt);else if(null!==wt){const jn=X.get(wt);X.move(jn,Ut),Ms(jn,Oe)}});for(let Oe=0,wt=X.length;Oe<wt;Oe++){const jn=X.get(Oe).context;jn.index=Oe,jn.count=wt,jn.ngForOf=this._ngForOf}B.forEachIdentityChange(Oe=>{Ms(X.get(Oe.currentIndex),Oe)})}static ngTemplateContextGuard(B,X){return!0}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return P})();function Ms(P,ne){P.context.$implicit=ne.item}let Do=(()=>{class P{constructor(B,X){this._viewContainer=B,this._context=new So,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){ji("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){ji("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,X){return!0}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.c1b),o.rXU(o.C4Q))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return P})();class So{constructor(){this.$implicit=null,this.ngIf=null}}function ji(P,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,o.Tbb)(ne)}'.`)}class Go{constructor(ne,B){this._viewContainerRef=ne,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ne){ne&&!this._created?this.create():!ne&&this._created&&this.destroy()}}let li=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews.push(B)}_matchCase(B){const X=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||X,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),X}_updateDefaultCases(B){if(this._defaultViews.length>0&&B!==this._defaultUsed){this._defaultUsed=B;for(const X of this._defaultViews)X.enforceState(B)}}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return P})(),os=(()=>{class P{constructor(B,X,Oe){this.ngSwitch=Oe,Oe._addCase(),this._view=new Go(B,X)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(li,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return P})(),bs=(()=>{class P{constructor(B,X,Oe){Oe._addDefault(new Go(B,X))}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(li,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return P})(),Ar=(()=>{class P{constructor(B,X,Oe){this._ngEl=B,this._differs=X,this._renderer=Oe,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,X){const[Oe,wt]=B.split("."),Ut=-1===Oe.indexOf("-")?void 0:o.czy.DashCase;null!=X?this._renderer.setStyle(this._ngEl.nativeElement,Oe,wt?`${X}${wt}`:X,Ut):this._renderer.removeStyle(this._ngEl.nativeElement,Oe,Ut)}_applyChanges(B){B.forEachRemovedItem(X=>this._setStyle(X.key,null)),B.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),B.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.aKT),o.rXU(o.MKu),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return P})();function hi(P,ne){return new o.wOt(2100,!1)}class Na{createSubscription(ne,B){return(0,o.O8t)(()=>ne.subscribe({next:B,error:X=>{throw X}}))}dispose(ne){(0,o.O8t)(()=>ne.unsubscribe())}}class tl{createSubscription(ne,B){return ne.then(B,X=>{throw X})}dispose(ne){}}const Ri=new tl,va=new Na;let qs=(()=>{class P{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,X=>this._updateLatestValue(B,X))}_selectStrategy(B){if((0,o.jNT)(B))return Ri;if((0,o.zjR)(B))return va;throw hi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,X){B===this._obj&&(this._latestValue=X,this._ref.markForCheck())}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.gRc,16))}}static{this.\u0275pipe=o.EJ8({name:"async",type:P,pure:!1,standalone:!0})}}return P})(),Ts=(()=>{class P{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=Ds}transform(B,X=Ds){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const Oe=this.differ.diff(B),wt=X!==this.compareFn;return Oe&&(this.keyValues=[],Oe.forEachItem(Ut=>{this.keyValues.push(function ki(P,ne){return{key:P,value:ne}}(Ut.key,Ut.currentValue))})),(Oe||wt)&&(this.keyValues.sort(X),this.compareFn=X),this.keyValues}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.MKu,16))}}static{this.\u0275pipe=o.EJ8({name:"keyvalue",type:P,pure:!1,standalone:!0})}}return P})();function Ds(P,ne){const B=P.key,X=ne.key;if(B===X)return 0;if(void 0===B)return 1;if(void 0===X)return-1;if(null===B)return 1;if(null===X)return-1;if("string"==typeof B&&"string"==typeof X)return B<X?-1:1;if("number"==typeof B&&"number"==typeof X)return B-X;if("boolean"==typeof B&&"boolean"==typeof X)return B<X?-1:1;const Oe=String(B),wt=String(X);return Oe==wt?0:Oe<wt?-1:1}let Hr=(()=>{class P{constructor(B){this._locale=B}transform(B,X,Oe){if(!function hr(P){return!(null==P||""===P||P!=P)}(B))return null;Oe=Oe||this._locale;try{return function Vs(P,ne,B){return function cn(P,ne,B,X,Oe,wt,Ut=!1){let jn="",zr=!1;if(isFinite(P)){let si=function Es(P){let X,Oe,wt,Ut,jn,ne=Math.abs(P)+"",B=0;for((Oe=ne.indexOf("."))>-1&&(ne=ne.replace(".","")),(wt=ne.search(/e/i))>0?(Oe<0&&(Oe=wt),Oe+=+ne.slice(wt+1),ne=ne.substring(0,wt)):Oe<0&&(Oe=ne.length),wt=0;"0"===ne.charAt(wt);wt++);if(wt===(jn=ne.length))X=[0],Oe=1;else{for(jn--;"0"===ne.charAt(jn);)jn--;for(Oe-=wt,X=[],Ut=0;wt<=jn;wt++,Ut++)X[Ut]=Number(ne.charAt(wt))}return Oe>22&&(X=X.splice(0,21),B=Oe-1,Oe=1),{digits:X,exponent:B,integerLen:Oe}}(P);Ut&&(si=function vs(P){if(0===P.digits[0])return P;const ne=P.digits.length-P.integerLen;return P.exponent?P.exponent+=2:(0===ne?P.digits.push(0,0):1===ne&&P.digits.push(0),P.integerLen+=2),P}(si));let Qr=ne.minInt,_r=ne.minFrac,ci=ne.maxFrac;if(wt){const Ki=wt.match(L);if(null===Ki)throw new Error(`${wt} is not a valid digit info`);const Mo=Ki[1],ns=Ki[3],Js=Ki[5];null!=Mo&&(Qr=ar(Mo)),null!=ns&&(_r=ar(ns)),null!=Js?ci=ar(Js):null!=ns&&_r>ci&&(ci=_r)}!function gi(P,ne,B){if(ne>B)throw new Error(`The minimum number of digits after fraction (${ne}) is higher than the maximum (${B}).`);let X=P.digits,Oe=X.length-P.integerLen;const wt=Math.min(Math.max(ne,Oe),B);let Ut=wt+P.integerLen,jn=X[Ut];if(Ut>0){X.splice(Math.max(P.integerLen,Ut));for(let _r=Ut;_r<X.length;_r++)X[_r]=0}else{Oe=Math.max(0,Oe),P.integerLen=1,X.length=Math.max(1,Ut=wt+1),X[0]=0;for(let _r=1;_r<Ut;_r++)X[_r]=0}if(jn>=5)if(Ut-1<0){for(let _r=0;_r>Ut;_r--)X.unshift(0),P.integerLen++;X.unshift(1),P.integerLen++}else X[Ut-1]++;for(;Oe<Math.max(0,wt);Oe++)X.push(0);let zr=0!==wt;const si=ne+P.integerLen,Qr=X.reduceRight(function(_r,ci,wi,Ai){return Ai[wi]=(ci+=_r)<10?ci:ci-10,zr&&(0===Ai[wi]&&wi>=si?Ai.pop():zr=!1),ci>=10?1:0},0);Qr&&(X.unshift(Qr),P.integerLen++)}(si,_r,ci);let wi=si.digits,Ai=si.integerLen;const hs=si.exponent;let $i=[];for(zr=wi.every(Ki=>!Ki);Ai<Qr;Ai++)wi.unshift(0);for(;Ai<0;Ai++)wi.unshift(0);Ai>0?$i=wi.splice(Ai,wi.length):($i=wi,wi=[0]);const ro=[];for(wi.length>=ne.lgSize&&ro.unshift(wi.splice(-ne.lgSize,wi.length).join(""));wi.length>ne.gSize;)ro.unshift(wi.splice(-ne.gSize,wi.length).join(""));wi.length&&ro.unshift(wi.join("")),jn=ro.join(Te(B,X)),$i.length&&(jn+=Te(B,Oe)+$i.join("")),hs&&(jn+=Te(B,Je.Exponential)+"+"+hs)}else jn=Te(B,Je.Infinity);return jn=P<0&&!zr?ne.negPre+jn+ne.negSuf:ne.posPre+jn+ne.posSuf,jn}(P,function Ni(P,ne="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},X=P.split(";"),Oe=X[0],wt=X[1],Ut=-1!==Oe.indexOf(".")?Oe.split("."):[Oe.substring(0,Oe.lastIndexOf("0")+1),Oe.substring(Oe.lastIndexOf("0")+1)],jn=Ut[0],zr=Ut[1]||"";B.posPre=jn.substring(0,jn.indexOf("#"));for(let Qr=0;Qr<zr.length;Qr++){const _r=zr.charAt(Qr);"0"===_r?B.minFrac=B.maxFrac=Qr+1:"#"===_r?B.maxFrac=Qr+1:B.posSuf+=_r}const si=jn.split(",");if(B.gSize=si[1]?si[1].length:0,B.lgSize=si[2]||si[1]?(si[2]||si[1]).length:0,wt){const Qr=Oe.length-B.posPre.length-B.posSuf.length,_r=wt.indexOf("#");B.negPre=wt.substring(0,_r).replace(/'/g,""),B.negSuf=wt.slice(_r+Qr).replace(/'/g,"")}else B.negPre=ne+B.posPre,B.negSuf=B.posSuf;return B}(function Le(P,ne){return(0,o.H5H)(P)[o.KH2.NumberFormats][ne]}(ne,Xe.Decimal),Te(ne,Je.MinusSign)),ne,Je.Group,Je.Decimal,B)}(function Ji(P){if("string"==typeof P&&!isNaN(Number(P)-parseFloat(P)))return Number(P);if("number"!=typeof P)throw new Error(`${P} is not a number`);return P}(B),Oe,X)}catch(wt){throw hi()}}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.xe9,16))}}static{this.\u0275pipe=o.EJ8({name:"number",type:P,pure:!0,standalone:!0})}}return P})();let ls=(()=>{class P{transform(B,X,Oe){if(null==B)return null;if(!this.supports(B))throw hi();return B.slice(X,Oe)}supports(B){return"string"==typeof B||Array.isArray(B)}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275pipe=o.EJ8({name:"slice",type:P,pure:!1,standalone:!0})}}return P})(),js=(()=>{class P{static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275mod=o.$C({type:P})}static{this.\u0275inj=o.G2t({})}}return P})();const Yr="browser",cs="server";function Zi(P){return P===cs}let Ue=(()=>{class P{static{this.\u0275prov=(0,o.jDH)({token:P,providedIn:"root",factory:()=>new nt((0,o.KVO)(Ce),window)})}}return P})();class nt{constructor(ne,B){this.document=ne,this.window=B,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const B=function Et(P,ne){const B=P.getElementById(ne)||P.getElementsByName(ne)[0];if(B)return B;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const X=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Oe=X.currentNode;for(;Oe;){const wt=Oe.shadowRoot;if(wt){const Ut=wt.getElementById(ne)||wt.querySelector(`[name="${ne}"]`);if(Ut)return Ut}Oe=X.nextNode()}}return null}(this.document,ne);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const B=ne.getBoundingClientRect(),X=B.left+this.window.pageXOffset,Oe=B.top+this.window.pageYOffset,wt=this.offset();this.window.scrollTo(X-wt[0],Oe-wt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Dn{}},7705:(sn,Ze,F)=>{F.d(Ze,{$C:()=>ni,$GK:()=>wn,$K3:()=>AC,$MX:()=>iu,AVh:()=>Hv,Agw:()=>dh,B4B:()=>kp,BIS:()=>iv,BMQ:()=>hg,C4Q:()=>iE,C5r:()=>aC,Co$:()=>_T,DNE:()=>bd,EFF:()=>qm,EJ8:()=>Pi,EmA:()=>lh,FS9:()=>wl,FsC:()=>Bi,G2t:()=>Zt,GBs:()=>tC,GFd:()=>py,H3F:()=>wC,H5H:()=>p,H8p:()=>If,HJs:()=>t1,HbH:()=>zv,Hbi:()=>$A,JRh:()=>Py,JZv:()=>Kn,Jv_:()=>mT,KH2:()=>pe,KVO:()=>Ot,Kcf:()=>zy,L39:()=>ZA,LHq:()=>Kv,LfX:()=>xn,Lme:()=>$h,MKu:()=>Yb,Mz_:()=>na,NEm:()=>yA,NYb:()=>pA,Njj:()=>qi,O8t:()=>wt,OA$:()=>_r,OM3:()=>Cc,Ocv:()=>Gw,Ol2:()=>vT,PLl:()=>Up,QTQ:()=>d,Ql9:()=>Ww,QuC:()=>zi,R7$:()=>ME,RV6:()=>ao,Rfq:()=>de,RxE:()=>U_,SKi:()=>To,SpI:()=>Oa,TL$:()=>mf,Tbb:()=>fe,UyX:()=>Mp,VBU:()=>tl,Vns:()=>Qm,Vt3:()=>cy,WHO:()=>PC,WPN:()=>ad,WQX:()=>pn,XpG:()=>mo,Xx1:()=>bl,Y8G:()=>vg,Z63:()=>ld,ZF7:()=>Pa,_9s:()=>hd,_q3:()=>qb,aKT:()=>vh,aNF:()=>ET,bIt:()=>q,bMT:()=>jT,bVm:()=>Hf,bc$:()=>ou,bkB:()=>Dc,brH:()=>$T,c1b:()=>T0,cWb:()=>Kg,czy:()=>td,e01:()=>xC,e5t:()=>Wy,eBV:()=>zn,eq3:()=>ST,eu8:()=>bu,fpN:()=>BA,gRc:()=>DA,gXe:()=>Es,giA:()=>MC,h9k:()=>Np,hnV:()=>IC,i5U:()=>BT,iLQ:()=>$b,j41:()=>ma,jDH:()=>on,jNT:()=>E,k0s:()=>xa,kS0:()=>Od,kdw:()=>Zu,l4e:()=>OT,lJ4:()=>DT,lNU:()=>He,l_i:()=>RT,lsd:()=>rC,mGM:()=>eC,mq5:()=>k,n$t:()=>R_,nI1:()=>UT,nKC:()=>fn,naY:()=>AA,npT:()=>nm,nrm:()=>vu,o8S:()=>Ly,oH4:()=>FC,osQ:()=>qg,plB:()=>Mb,qex:()=>Eu,rXU:()=>hu,rcV:()=>ru,s1E:()=>MT,sFG:()=>gm,sMw:()=>PT,sZ2:()=>Sf,sdS:()=>yg,tSv:()=>mv,uvJ:()=>vi,w6W:()=>LI,wOt:()=>Ie,wni:()=>nC,xGo:()=>uc,xc7:()=>Gv,xe9:()=>I0,xvI:()=>j_,yjJ:()=>zf,zZn:()=>Ic,zcH:()=>Cl,ziG:()=>xT,zjR:()=>j});var o=F(1413),le=F(8359),i=F(1985),ve=F(7786),_e=F(4412),Ce=F(7673),ye=F(7647),Ve=F(5558),xe=F(3294);function Y(t){for(let n in t)if(t[n]===Y)return n;throw Error("Could not find renamed property on target object.")}function te(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function fe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(fe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function Ae(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ne=Y({__forward_ref__:Y});function de(t){return t.__forward_ref__=de,t.toString=function(){return fe(this())},t}function Ke(t){return mt(t)?t():t}function mt(t){return"function"==typeof t&&t.hasOwnProperty(Ne)&&t.__forward_ref__===de}function Ft(t){return t&&!!t.\u0275providers}const He="https://g.co/ng/security#xss";class Ie extends Error{constructor(n,s){super(function tt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function Xe(t){return"string"==typeof t?t:null==t?"":String(t)}function Je(t,n){throw new Ie(-201,!1)}function ct(t,n){null==t&&function it(t,n,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function on(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hn(t){return Kt(t,an)||Kt(t,Jn)}function xn(t){return null!==Hn(t)}function Kt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Er(t){return t&&(t.hasOwnProperty(xr)||t.hasOwnProperty(zt))?t[xr]:null}const an=Y({\u0275prov:Y}),xr=Y({\u0275inj:Y}),Jn=Y({ngInjectableDef:Y}),zt=Y({ngInjectorDef:Y});var wn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(wn||{});let Wn;function Vr(t){const n=Wn;return Wn=t,n}function Sr(t,n,s){const u=Hn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&wn.Optional?null:void 0!==n?n:void Je(fe(t))}const Kn=globalThis;class fn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=on({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vt={},Se="__NG_DI_FLAG__",ut="ngTempTokenPath",yt=/\n/gm,x="__source";let L;function me(t){const n=L;return L=t,n}function pt(t,n=wn.Default){if(void 0===L)throw new Ie(-203,!1);return null===L?Sr(t,void 0,n):L.get(t,n&wn.Optional?null:void 0,n)}function Ot(t,n=wn.Default){return(function Cn(){return Wn}()||pt)(Ke(t),n)}function pn(t,n=wn.Default){return Ot(t,Rn(n))}function Rn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function br(t){const n=[];for(let s=0;s<t.length;s++){const u=Ke(t[s]);if(Array.isArray(u)){if(0===u.length)throw new Ie(900,!1);let f,m=wn.Default;for(let C=0;C<u.length;C++){const A=u[C],M=Gr(A);"number"==typeof M?-1===M?f=A.token:m|=M:f=A}n.push(Ot(f,m))}else n.push(Ot(u))}return n}function cn(t,n){return t[Se]=n,t.prototype[Se]=n,t}function Gr(t){return t[Se]}function Ni(t){return{toString:t}.toString()}var vs=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vs||{}),Es=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Es||{});const gi={},ar=[],xs=Y({\u0275cmp:Y}),Rt=Y({\u0275dir:Y}),at=Y({\u0275pipe:Y}),kt=Y({\u0275mod:Y}),un=Y({\u0275fac:Y}),$n=Y({__NG_ELEMENT_ID__:Y}),Ln=Y({__NG_ENV_ID__:Y});function fr(t,n,s){let u=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const m=n.length;if(f+m===u||t.charCodeAt(f+m)<=32)return f}s=f+1}}function Ur(t,n,s){let u=0;for(;u<s.length;){const f=s[u];if("number"==typeof f){if(0!==f)break;u++;const m=s[u++],C=s[u++],A=s[u++];t.setAttribute(n,C,A,m)}else{const m=f,C=s[++u];pr(m)?t.setProperty(n,m,C):t.setAttribute(n,m,C),u++}}return u}function Wr(t){return 3===t||4===t||6===t}function pr(t){return 64===t.charCodeAt(0)}function Qi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?s=f:0===s||Ms(t,s,f,null,-1===s||2===s?n[++u]:null)}}return t}function Ms(t,n,s,u,f){let m=0,C=t.length;if(-1===n)C=-1;else for(;m<t.length;){const A=t[m++];if("number"==typeof A){if(A===n){C=-1;break}if(A>n){C=m-1;break}}}for(;m<t.length;){const A=t[m];if("number"==typeof A)break;if(A===s){if(null===u)return void(null!==f&&(t[m+1]=f));if(u===t[m+1])return void(t[m+2]=f)}m++,null!==u&&m++,null!==f&&m++}-1!==C&&(t.splice(C,0,n),m=C+1),t.splice(m++,0,s),null!==u&&t.splice(m++,0,u),null!==f&&t.splice(m++,0,f)}const ss="ng-template";function Do(t,n,s){let u=0,f=!0;for(;u<t.length;){let m=t[u++];if("string"==typeof m&&f){const C=t[u++];if(s&&"class"===m&&-1!==fr(C.toLowerCase(),n,0))return!0}else{if(1===m){for(;u<t.length&&"string"==typeof(m=t[u++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function So(t){return 4===t.type&&t.value!==ss}function ji(t,n,s){return n===(4!==t.type||s?t.value:ss)}function Go(t,n,s){let u=4;const f=t.attrs||[],m=function Hi(t){for(let n=0;n<t.length;n++)if(Wr(t[n]))return n;return t.length}(f);let C=!1;for(let A=0;A<n.length;A++){const M=n[A];if("number"!=typeof M){if(!C)if(4&u){if(u=2|1&u,""!==M&&!ji(t,M,s)||""===M&&1===n.length){if(li(u))return!1;C=!0}}else{const H=8&u?M:n[++A];if(8&u&&null!==t.attrs){if(!Do(t.attrs,H,s)){if(li(u))return!1;C=!0}continue}const we=os(8&u?"class":M,f,So(t),s);if(-1===we){if(li(u))return!1;C=!0;continue}if(""!==H){let rt;rt=we>m?"":f[we+1].toLowerCase();const vt=8&u?rt:null;if(vt&&-1!==fr(vt,H,0)||2&u&&H!==rt){if(li(u))return!1;C=!0}}}}else{if(!C&&!li(u)&&!li(M))return!1;if(C&&li(M))continue;C=!1,u=M|1&u}}return li(u)||C}function li(t){return 0==(1&t)}function os(t,n,s,u){if(null===n)return-1;let f=0;if(u||!s){let m=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)m=!0;else{if(1===C||2===C){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=m?1:2}return-1}return function xi(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,t)}function bs(t,n,s=!1){for(let u=0;u<n.length;u++)if(Go(t,n[u],s))return!0;return!1}function uo(t,n){return t?":not("+n.trim()+")":n}function Ro(t){let n=t[0],s=1,u=2,f="",m=!1;for(;s<t.length;){let C=t[s];if("string"==typeof C)if(2&u){const A=t[++s];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?f+="."+C:4&u&&(f+=" "+C);else""!==f&&!li(C)&&(n+=uo(m,f),f=""),u=C,m=m||!li(u);s++}return""!==f&&(n+=uo(m,f)),n}function tl(t){return Ni(()=>{const n=as(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Es.Emulated,styles:t.styles||ar,_:null,schemas:t.schemas||null,tView:null,id:""};Ys(s);const u=t.dependencies;return s.directiveDefs=ki(u,!1),s.pipeDefs=ki(u,!0),s.id=function Ds(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function va(t){return Qn(t)||qr(t)}function qs(t){return null!==t}function ni(t){return Ni(()=>({type:t.type,bootstrap:t.bootstrap||ar,declarations:t.declarations||ar,imports:t.imports||ar,exports:t.exports||ar,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bi(t,n){if(null==t)return gi;const s={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),s[f]=u,n&&(n[f]=m)}return s}function Bi(t){return Ni(()=>{const n=as(t);return Ys(n),n})}function Pi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qn(t){return t[xs]||null}function qr(t){return t[Rt]||null}function ri(t){return t[at]||null}function zi(t){const n=Qn(t)||qr(t)||ri(t);return null!==n&&n.standalone}function jr(t,n){const s=t[kt]||null;if(!s&&!0===n)throw new Error(`Type ${fe(t)} does not have '\u0275mod' property.`);return s}function as(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||gi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ar,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bi(t.inputs,n),outputs:bi(t.outputs)}}function Ys(t){t.features?.forEach(n=>n(t))}function ki(t,n){if(!t)return null;const s=n?ri:va;return()=>("function"==typeof t?t():t).map(u=>s(u)).filter(qs)}const Hr=0,_n=1,ir=2,hr=3,Ji=4,ls=5,Fi=6,js=7,Yr=8,cs=9,Ss=10,Gn=11,mi=12,Zi=13,Z=14,J=15,Pe=16,Ue=17,nt=18,Et=19,Yt=20,Dn=21,gn=22,Xn=23,Dr=24,Mn=25,tr=1,kr=2,ii=7,Vi=9,Rr=11;function Ii(t){return Array.isArray(t)&&"object"==typeof t[tr]}function Mr(t){return Array.isArray(t)&&!0===t[tr]}function Ho(t){return 0!=(4&t.flags)}function us(t){return t.componentOffset>-1}function Xs(t){return 1==(1&t.flags)}function no(t){return!!t.template}function ra(t){return 0!=(512&t[ir])}function Rs(t,n){return t.hasOwnProperty(un)?t[un]:null}let Ps=null,Ea=!1;function Wi(t){const n=Ps;return Ps=t,n}const sa={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function rl(t){if(!_o(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Sl(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Is(t){t.dirty=!0,function fo(t){if(void 0===t.liveConsumerNode)return;const n=Ea;Ea=!0;try{for(const s of t.liveConsumerNode)s.dirty||Is(s)}finally{Ea=n}}(t),t.consumerMarkedDirty?.(t)}function ba(t){return t&&(t.nextProducerIndex=0),Wi(t)}function La(t,n){if(Wi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(_o(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Rl(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Sl(t){yo(t);for(let n=0;n<t.producerNode.length;n++){const s=t.producerNode[n],u=t.producerLastReadVersion[n];if(u!==s.version||(rl(s),u!==s.version))return!0}return!1}function Du(t){if(yo(t),_o(t))for(let n=0;n<t.producerNode.length;n++)Rl(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Rl(t,n){if(function il(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),yo(t),1===t.liveConsumerNode.length)for(let u=0;u<t.producerNode.length;u++)Rl(t.producerNode[u],t.producerIndexOfThis[u]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];yo(f),f.producerIndexOfThis[u]=n}}function _o(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function yo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ko=null;function wt(t){const n=Wi(null);try{return t()}finally{Wi(n)}}const jn=()=>{},zr=(()=>({...sa,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:jn}))();class Qr{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function _r(){return ci}function ci(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ai),wi}function wi(){const t=$i(this),n=t?.current;if(n){const s=t.previous;if(s===gi)t.previous=n;else for(let u in n)s[u]=n[u];t.current=null,this.ngOnChanges(n)}}function Ai(t,n,s,u){const f=this.declaredInputs[s],m=$i(t)||function ro(t,n){return t[hs]=n}(t,{previous:gi,current:null}),C=m.current||(m.current={}),A=m.previous,M=A[f];C[f]=new Qr(M&&M.currentValue,n,A===gi),t[u]=n}_r.ngInherit=!0;const hs="__ngSimpleChanges__";function $i(t){return t[hs]||null}const ns=function(t,n,s){};function Tr(t){for(;Array.isArray(t);)t=t[Hr];return t}function Bs(t,n){return Tr(n[t])}function Ui(t,n){return Tr(n[t.index])}function Pu(t,n){return t.data[n]}function cl(t,n){return t[n]}function Gi(t,n){const s=n[t];return Ii(s)?s:s[Hr]}function ws(t,n){return null==n?null:t[n]}function Ta(t){t[Ue]=0}function rc(t){1024&t[ir]||(t[ir]|=1024,Ou(t,1))}function Mu(t){1024&t[ir]&&(t[ir]&=-1025,Ou(t,-1))}function Ou(t,n){let s=t[hr];if(null===s)return;s[ls]+=n;let u=s;for(s=s[hr];null!==s&&(1===n&&1===u[ls]||-1===n&&0===u[ls]);)s[ls]+=n,u=s,s=s[hr]}const lr={lFrame:ae(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function nn(){return lr.bindingsEnabled}function Gt(){return lr.lFrame.lView}function wr(){return lr.lFrame.tView}function zn(t){return lr.lFrame.contextLView=t,t[Yr]}function qi(t){return lr.lFrame.contextLView=null,t}function $s(){let t=jc();for(;null!==t&&64===t.type;)t=t.parent;return t}function jc(){return lr.lFrame.currentTNode}function ko(t,n){const s=lr.lFrame;s.currentTNode=t,s.isParent=n}function oc(){return lr.lFrame.isParent}function Lu(){lr.lFrame.isParent=!1}function io(){const t=lr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function po(){return lr.lFrame.bindingIndex}function fl(){return lr.lFrame.bindingIndex++}function go(t){const n=lr.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function Qf(t,n){const s=lr.lFrame;s.bindingIndex=s.bindingRootIndex=t,Vu(n)}function Vu(t){lr.lFrame.currentDirectiveIndex=t}function xl(){return lr.lFrame.currentQueryIndex}function D(t){lr.lFrame.currentQueryIndex=t}function O(t){const n=t[_n];return 2===n.type?n.declTNode:1===n.type?t[Fi]:null}function w(t,n,s){if(s&wn.SkipSelf){let f=n,m=t;for(;!(f=f.parent,null!==f||s&wn.Host||(f=O(m),null===f||(m=m[Z],10&f.type))););if(null===f)return!1;n=f,t=m}const u=lr.lFrame=G();return u.currentTNode=n,u.lView=t,!0}function N(t){const n=G(),s=t[_n];lr.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function G(){const t=lr.lFrame,n=null===t?null:t.child;return null===n?ae(t):n}function ae(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Me(){const t=lr.lFrame;return lr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Dt=Me;function bt(){const t=Me();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sr(){return lr.lFrame.selectedIndex}function Or(t){lr.lFrame.selectedIndex=t}function fi(){const t=lr.lFrame;return Pu(t.tView,t.selectedIndex)}let Bc=!0;function _l(){return Bc}function Fo(t){Bc=t}function Ga(t,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const m=t.data[s].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:M,ngAfterViewChecked:H,ngOnDestroy:se}=m;C&&(t.contentHooks??=[]).push(-s,C),A&&((t.contentHooks??=[]).push(s,A),(t.contentCheckHooks??=[]).push(s,A)),M&&(t.viewHooks??=[]).push(-s,M),H&&((t.viewHooks??=[]).push(s,H),(t.viewCheckHooks??=[]).push(s,H)),null!=se&&(t.destroyHooks??=[]).push(s,se)}}function $c(t,n,s){Bu(t,n,3,s)}function Uu(t,n,s,u){(3&t[ir])===s&&Bu(t,n,s,u)}function ju(t,n){let s=t[ir];(3&s)===n&&(s&=8191,s+=1,t[ir]=s)}function Bu(t,n,s,u){const m=u??-1,C=n.length-1;let A=0;for(let M=void 0!==u?65535&t[Ue]:0;M<C;M++)if("number"==typeof n[M+1]){if(A=n[M],null!=u&&A>=u)break}else n[M]<0&&(t[Ue]+=65536),(A<m||-1==m)&&(Ol(t,s,n,M),t[Ue]=(4294901760&t[Ue])+M+2),M++}function $u(t,n){ns(4,t,n);const s=Wi(null);try{n.call(t)}finally{Wi(s),ns(5,t,n)}}function Ol(t,n,s,u){const f=s[u]<0,m=s[u+1],A=t[f?-s[u]:s[u]];f?t[ir]>>13<t[Ue]>>16&&(3&t[ir])===n&&(t[ir]+=8192,$u(A,m)):$u(A,m)}const Lo=-1;class aa{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Hu(t){return t!==Lo}function kl(t){return 32767&t}function ac(t,n){let s=function Pd(t){return t>>16}(t),u=n;for(;s>0;)u=u[Z],s--;return u}let zu=!0;function Xo(t){const n=zu;return zu=t,n}const tp=255,vo=5;let Wu=0;const Eo={};function lc(t,n){const s=qh(t,n);if(-1!==s)return s;const u=n[_n];u.firstCreatePass&&(t.injectorIndex=n.length,Ns(u.data,t),Ns(n,null),Ns(u.blueprint,null));const f=Ha(t,n),m=t.injectorIndex;if(Hu(f)){const C=kl(f),A=ac(f,n),M=A[_n].data;for(let H=0;H<8;H++)n[m+H]=A[C+H]|M[C+H]}return n[m+8]=f,m}function Ns(t,n){t.push(0,0,0,0,0,0,0,0,n)}function qh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ha(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,f=n;for(;null!==f;){if(u=Xu(f),null===u)return Lo;if(s++,f=f[Z],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return Lo}function la(t,n,s){!function xd(t,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty($n)&&(u=s[$n]),null==u&&(u=s[$n]=Wu++);const f=u&tp;n.data[t+(f>>vo)]|=1<<f}(t,n,s)}function yl(t,n,s){if(s&wn.Optional||void 0!==t)return t;Je()}function cc(t,n,s,u){if(s&wn.Optional&&void 0===u&&(u=null),!(s&(wn.Self|wn.Host))){const f=t[cs],m=Vr(void 0);try{return f?f.get(n,u,s&wn.Optional):Sr(n,u,s&wn.Optional)}finally{Vr(m)}}return yl(u,0,s)}function Ku(t,n,s,u=wn.Default,f){if(null!==t){if(2048&n[ir]&&!(u&wn.Self)){const C=function rp(t,n,s,u,f){let m=t,C=n;for(;null!==m&&null!==C&&2048&C[ir]&&!(512&C[ir]);){const A=Fl(m,C,s,u|wn.Self,Eo);if(A!==Eo)return A;let M=m.parent;if(!M){const H=C[Yt];if(H){const se=H.get(s,Eo,u);if(se!==Eo)return se}M=Xu(C),C=C[Z]}m=M}return f}(t,n,s,u,Eo);if(C!==Eo)return C}const m=Fl(t,n,s,u,Eo);if(m!==Eo)return m}return cc(n,s,u,f)}function Fl(t,n,s,u,f){const m=function Ll(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty($n)?t[$n]:void 0;return"number"==typeof n?n>=0?n&tp:Md:n}(s);if("function"==typeof m){if(!w(n,t,u))return u&wn.Host?yl(f,0,u):cc(n,s,u,f);try{let C;if(C=m(u),null!=C||u&wn.Optional)return C;Je()}finally{Dt()}}else if("number"==typeof m){let C=null,A=qh(t,n),M=Lo,H=u&wn.Host?n[J][Fi]:null;for((-1===A||u&wn.SkipSelf)&&(M=-1===A?Ha(t,n):n[A+8],M!==Lo&&Hc(u,!1)?(C=n[_n],A=kl(M),n=ac(M,n)):A=-1);-1!==A;){const se=n[_n];if(qu(m,A,se.data)){const we=Ag(A,n,s,C,u,H);if(we!==Eo)return we}M=n[A+8],M!==Lo&&Hc(u,n[_n].data[A+8]===H)&&qu(m,A,n)?(C=se,A=kl(M),n=ac(M,n)):A=-1}}return f}function Ag(t,n,s,u,f,m){const C=n[_n],A=C.data[t+8],se=Aa(A,C,s,null==u?us(A)&&zu:u!=C&&0!=(3&A.type),f&wn.Host&&m===A);return null!==se?za(n,C,se,A):Eo}function Aa(t,n,s,u,f){const m=t.providerIndexes,C=n.data,A=1048575&m,M=t.directiveStart,se=m>>20,rt=f?A+se:t.directiveEnd;for(let vt=u?A:A+se;vt<rt;vt++){const Bt=C[vt];if(vt<M&&s===Bt||vt>=M&&Bt.type===s)return vt}if(f){const vt=C[M];if(vt&&no(vt)&&vt.type===s)return M}return null}function za(t,n,s,u){let f=t[s];const m=n.data;if(function Nl(t){return t instanceof aa}(f)){const C=f;C.resolving&&function Nt(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${t}${s}`)}(function dt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Xe(t)}(m[s]));const A=Xo(C.canSeeViewProviders);C.resolving=!0;const H=C.injectImpl?Vr(C.injectImpl):null;w(t,u,wn.Default);try{f=t[s]=C.factory(void 0,m,t,u),n.firstCreatePass&&s>=u.directiveStart&&function Wh(t,n,s){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:m}=n.type.prototype;if(u){const C=ci(n);(s.preOrderHooks??=[]).push(t,C),(s.preOrderCheckHooks??=[]).push(t,C)}f&&(s.preOrderHooks??=[]).push(0-t,f),m&&((s.preOrderHooks??=[]).push(t,m),(s.preOrderCheckHooks??=[]).push(t,m))}(s,m[s],n)}finally{null!==H&&Vr(H),Xo(A),C.resolving=!1,Dt()}}return f}function qu(t,n,s){return!!(s[n+(t>>vo)]&1<<t)}function Hc(t,n){return!(t&wn.Self||t&wn.Host&&n)}class fs{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return Ku(this._tNode,this._lView,n,Rn(u),s)}}function Md(){return new fs($s(),Gt())}function uc(t){return Ni(()=>{const n=t.prototype.constructor,s=n[un]||Yu(n),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const m=f[un]||Yu(f);if(m&&m!==s)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Yu(t){return mt(t)?()=>{const n=Yu(Ke(t));return n&&n()}:Rs(t)}function Xu(t){const n=t[_n],s=n.type;return 2===s?n.declTNode:1===s?t[Fi]:null}function Od(t){return function Gc(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const u=s.length;let f=0;for(;f<u;){const m=s[f];if(Wr(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<u&&"string"==typeof s[f];)f++;else{if(m===n)return s[f+1];f+=2}}}return null}($s(),t)}const Qo="__parameters__";function hc(t,n,s){return Ni(()=>{const u=function Qu(t){return function(...s){if(t){const u=t(...s);for(const f in u)this[f]=u[f]}}}(n);function f(...m){if(this instanceof f)return u.apply(this,m),this;const C=new f(...m);return A.annotation=C,A;function A(M,H,se){const we=M.hasOwnProperty(Qo)?M[Qo]:Object.defineProperty(M,Qo,{value:[]})[Qo];for(;we.length<=se;)we.push(null);return(we[se]=we[se]||[]).push(C),M}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Ul(t,n){t.forEach(s=>Array.isArray(s)?Ul(s,n):n(s))}function Fd(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function jl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Vo(t,n,s){let u=Ka(t,n);return u>=0?t[1|u]=s:(u=~u,function Sg(t,n,s,u){let f=t.length;if(f==n)t.push(s,u);else if(1===f)t.push(u,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=u}}(t,u,n,s)),u}function Vd(t,n){const s=Ka(t,n);if(s>=0)return t[1|s]}function Ka(t,n){return function op(t,n,s){let u=0,f=t.length>>s;for(;f!==u;){const m=u+(f-u>>1),C=t[m<<s];if(n===C)return m<<s;C>n?f=m:u=m+1}return~(f<<s)}(t,n,1)}const bl=cn(hc("Optional"),8),Zu=cn(hc("SkipSelf"),4);function Yd(t){return 128==(128&t.flags)}var td=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(td||{});const n_=/^>|^->|<!--|-->|--!>|<!-$/g,Mg=/(<|>)/g,Uy="\u200b$1\u200b";const Xd=new Map;let Og=0;const lf="__ngContext__";function Uo(t,n){Ii(n)?(t[lf]=n[Et],function Ra(t){Xd.set(t[Et],t)}(n)):t[lf]=n}let gc;function zl(t,n){return gc(t,n)}function Zd(t){const n=t[hr];return Mr(n)?n[hr]:n}function a_(t){return vp(t[mi])}function kg(t){return vp(t[Ji])}function vp(t){for(;null!==t&&!Mr(t);)t=t[Ji];return t}function Jc(t,n,s,u,f){if(null!=u){let m,C=!1;Mr(u)?m=u:Ii(u)&&(C=!0,u=u[Hr]);const A=Tr(u);0===t&&null!==s?null==f?df(n,s,A):id(n,s,A,f||null,!0):1===t&&null!==s?id(n,s,A,f||null,!0):2===t?function eu(t,n,s){const u=ih(t,n);u&&function Ug(t,n,s,u){t.removeChild(n,s,u)}(t,u,n,s)}(n,A,C):3===t&&n.destroyNode(A),null!=m&&function Hg(t,n,s,u,f){const m=s[ii];m!==Tr(s)&&Jc(n,t,u,m,f);for(let A=Rr;A<s.length;A++){const M=s[A];Tl(M[_n],M,t,n,u,m)}}(n,t,m,s,f)}}function Fg(t,n){return t.createComment(function hp(t){return t.replace(n_,n=>n.replace(Mg,Uy))}(n))}function bp(t,n,s){return t.createElement(n,s)}function u_(t,n){const s=t[Vi],u=s.indexOf(n);Mu(n),s.splice(u,1)}function cf(t,n){if(t.length<=Rr)return;const s=Rr+n,u=t[s];if(u){const f=u[Pe];null!==f&&f!==t&&u_(f,u),n>0&&(t[s-1][Ji]=u[Ji]);const m=jl(t,Rr+n);!function Lg(t,n){Tl(t,n,n[Gn],2,null,null),n[Hr]=null,n[Fi]=null}(u[_n],u);const C=m[nt];null!==C&&C.detachView(m[_n]),u[hr]=null,u[Ji]=null,u[ir]&=-129}return u}function Tp(t,n){if(!(256&n[ir])){const s=n[Gn];n[Xn]&&Du(n[Xn]),n[Dr]&&Du(n[Dr]),s.destroyNode&&Tl(t,n,s,3,null,null),function Zc(t){let n=t[mi];if(!n)return nh(t[_n],t);for(;n;){let s=null;if(Ii(n))s=n[mi];else{const u=n[Rr];u&&(s=u)}if(!s){for(;n&&!n[Ji]&&n!==t;)Ii(n)&&nh(n[_n],n),n=n[hr];null===n&&(n=t),Ii(n)&&nh(n[_n],n),s=n&&n[Ji]}n=s}}(n)}}function nh(t,n){if(!(256&n[ir])){n[ir]&=-129,n[ir]|=256,function aE(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const f=n[s[u]];if(!(f instanceof aa)){const m=s[u+1];if(Array.isArray(m))for(let C=0;C<m.length;C+=2){const A=f[m[C]],M=m[C+1];ns(4,A,M);try{M.call(A)}finally{ns(5,A,M)}}else{ns(4,f,m);try{m.call(f)}finally{ns(5,f,m)}}}}}(t,n),function d_(t,n){const s=t.cleanup,u=n[js];if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const C=s[m+3];C>=0?u[C]():u[-C].unsubscribe(),m+=2}else s[m].call(u[s[m+1]]);null!==u&&(n[js]=null);const f=n[Dn];if(null!==f){n[Dn]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(t,n),1===n[_n].type&&n[Gn].destroy();const s=n[Pe];if(null!==s&&Mr(n[hr])){s!==n[hr]&&u_(s,n);const u=n[nt];null!==u&&u.detachView(t)}!function i_(t){Xd.delete(t[Et])}(n)}}function uf(t,n,s){return function h_(t,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[Hr];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:m}=t.data[u.directiveStart+f];if(m===Es.None||m===Es.Emulated)return null}return Ui(u,s)}}(t,n.parent,s)}function id(t,n,s,u,f){t.insertBefore(n,s,u,f)}function df(t,n,s){t.appendChild(n,s)}function f_(t,n,s,u,f){null!==u?id(t,n,s,u,f):df(t,n,s)}function ih(t,n){return t.parentNode(n)}let p_,mc,Rp,_f,Bg=function jg(t,n,s){return 40&t.type?Ui(t,s):null};function wp(t,n,s,u){const f=uf(t,u,n),m=n[Gn],A=function Cp(t,n,s){return Bg(t,n,s)}(u.parent||n[Fi],u,n);if(null!=f)if(Array.isArray(s))for(let M=0;M<s.length;M++)f_(m,f,s[M],A,!1);else f_(m,f,s,A,!1);void 0!==p_&&p_(m,u,n,s,f)}function sd(t,n){if(null!==n){const s=n.type;if(3&s)return Ui(n,t);if(4&s)return ff(-1,t[n.index]);if(8&s){const u=n.child;if(null!==u)return sd(t,u);{const f=t[n.index];return Mr(f)?ff(-1,f):Tr(f)}}if(32&s)return zl(n,t)()||Tr(t[n.index]);{const u=$g(t,n);return null!==u?Array.isArray(u)?u[0]:sd(Zd(t[J]),u):sd(t,n.next)}}return null}function $g(t,n){return null!==n?t[J][Fi].projection[n.projection]:null}function ff(t,n){const s=Rr+t+1;if(s<n.length){const u=n[s],f=u[_n].firstChild;if(null!==f)return sd(u,f)}return n[ii]}function Ap(t,n,s,u,f,m,C){for(;null!=s;){const A=u[s.index],M=s.type;if(C&&0===n&&(A&&Uo(Tr(A),u),s.flags|=2),32!=(32&s.flags))if(8&M)Ap(t,n,s.child,u,f,m,!1),Jc(n,t,f,A,m);else if(32&M){const H=zl(s,u);let se;for(;se=H();)Jc(n,t,f,se,m);Jc(n,t,f,A,m)}else 16&M?m_(t,n,u,s,f,m):Jc(n,t,f,A,m);s=C?s.projectionNext:s.next}}function Tl(t,n,s,u,f,m){Ap(s,u,t.firstChild,n,f,m,!1)}function m_(t,n,s,u,f,m){const C=s[J],M=C[Fi].projection[u.projection];if(Array.isArray(M))for(let H=0;H<M.length;H++)Jc(n,t,f,M[H],m);else{let H=M;const se=C[hr];Yd(u)&&(H.flags|=128),Ap(t,n,H,se,f,m,!0)}}function Dp(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function Sp(t,n,s){const{mergedAttrs:u,classes:f,styles:m}=s;null!==u&&Ur(t,n,u),null!==f&&Dp(t,n,f),null!==m&&function zg(t,n,s){t.setAttribute(n,"style",s)}(t,n,m)}function tu(t){return function pf(){if(void 0===mc&&(mc=null,Kn.trustedTypes))try{mc=Kn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return mc}()?.createHTML(t)||t}function mf(t){Rp=t}function sh(){if(void 0!==Rp)return Rp;if(typeof document<"u")return document;throw new Ie(210,!1)}function yf(){if(void 0===_f&&(_f=null,Kn.trustedTypes))try{_f=Kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _f}function Pp(t){return yf()?.createHTML(t)||t}function y_(t){return yf()?.createScriptURL(t)||t}class vc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${He})`}}class v_ extends vc{getTypeName(){return"HTML"}}class vf extends vc{getTypeName(){return"Style"}}class E_ extends vc{getTypeName(){return"Script"}}class nu extends vc{getTypeName(){return"URL"}}class b_ extends vc{getTypeName(){return"ResourceURL"}}function ru(t){return t instanceof vc?t.changingThisBreaksApplicationSecurity:t}function Pa(t,n){const s=function Wg(t){return t instanceof vc&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${He})`)}return s===n}function zy(t){return new v_(t)}function Kg(t){return new vf(t)}function Mp(t){return new E_(t)}function qg(t){return new nu(t)}function Wy(t){return new b_(t)}class Ky{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(tu(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class Yg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=tu(n),s}}const Ec=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iu(t){return(t=String(t)).match(Ec)?t:"unsafe:"+t}function qa(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function Ef(...t){const n={};for(const s of t)for(const u in s)s.hasOwnProperty(u)&&(n[u]=!0);return n}const bf=qa("area,br,col,hr,img,wbr"),Qg=qa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yi=qa("rp,rt"),Tf=Ef(bf,Ef(Qg,qa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ef(yi,qa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ef(yi,Qg)),Cf=qa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Op=Ef(Cf,qa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),A_=qa("script,style,template");class oh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!Tf.hasOwnProperty(s))return this.sanitizedSomething=!0,!A_.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=n.attributes;for(let f=0;f<u.length;f++){const m=u.item(f),C=m.name,A=C.toLowerCase();if(!Op.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let M=m.value;Cf[A]&&(M=iu(M)),this.buf.push(" ",C,'="',em(M),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();Tf.hasOwnProperty(s)&&!bf.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(em(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const D_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zg=/([^\#-~ |!])/g;function em(t){return t.replace(/&/g,"&amp;").replace(D_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Zg,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bc;function Np(t,n){let s=null;try{bc=bc||function od(t){const n=new Yg(t);return function Xg(){try{return!!(new window.DOMParser).parseFromString(tu(""),"text/html")}catch{return!1}}()?new Ky(n):n}(t);let u=n?String(n):"";s=bc.getInertBodyElement(u);let f=5,m=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=m,m=s.innerHTML,s=bc.getInertBodyElement(u)}while(u!==m);return tu((new oh).sanitizeChildren(tm(s)||s))}finally{if(s){const u=tm(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function tm(t){return"content"in t&&function qy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ad=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ad||{});function nm(t){const n=ah();return n?Pp(n.sanitize(ad.HTML,t)||""):Pa(t,"HTML")?Pp(ru(t)):Np(sh(),Xe(t))}function kp(t){const n=ah();return n?n.sanitize(ad.URL,t)||"":Pa(t,"URL")?ru(t):iu(Xe(t))}function S_(t){const n=ah();if(n)return y_(n.sanitize(ad.RESOURCE_URL,t)||"");if(Pa(t,"ResourceURL"))return y_(ru(t));throw new Ie(904,!1)}function R_(t,n,s){return function Zy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?S_:kp}(n,s)(t)}function ah(){const t=Gt();return t&&t[Ss].sanitizer}const ld=new fn("ENVIRONMENT_INITIALIZER"),rm=new fn("INJECTOR",-1),im=new fn("INJECTOR_DEF_TYPES");class Fp{get(n,s=Vt){if(s===Vt){const u=new Error(`NullInjectorError: No provider for ${fe(n)}!`);throw u.name="NullInjectorError",u}return s}}function lh(t){return{\u0275providers:t}}function oi(...t){return{\u0275providers:sm(0,t),\u0275fromNgModule:!0}}function sm(t,...n){const s=[],u=new Set;let f;const m=C=>{s.push(C)};return Ul(n,C=>{const A=C;Tc(A,m,[],u)&&(f||=[],f.push(A))}),void 0!==f&&Lp(f,m),s}function Lp(t,n){for(let s=0;s<t.length;s++){const{ngModule:u,providers:f}=t[s];so(f,m=>{n(m,u)})}}function Tc(t,n,s,u){if(!(t=Ke(t)))return!1;let f=null,m=Er(t);const C=!m&&Qn(t);if(m||C){if(C&&!C.standalone)return!1;f=t}else{const M=t.ngModule;if(m=Er(M),!m)return!1;f=M}const A=u.has(f);if(C){if(A)return!1;if(u.add(f),C.dependencies){const M="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const H of M)Tc(H,n,s,u)}}else{if(!m)return!1;{if(null!=m.imports&&!A){let H;u.add(f);try{Ul(m.imports,se=>{Tc(se,n,s,u)&&(H||=[],H.push(se))})}finally{}void 0!==H&&Lp(H,n)}if(!A){const H=Rs(f)||(()=>new f);n({provide:f,useFactory:H,deps:ar},f),n({provide:im,useValue:f,multi:!0},f),n({provide:ld,useValue:()=>Ot(f),multi:!0},f)}const M=m.providers;if(null!=M&&!A){const H=t;so(M,se=>{n(se,H)})}}}return f!==t&&void 0!==t.providers}function so(t,n){for(let s of t)Ft(s)&&(s=s.\u0275providers),Array.isArray(s)?so(s,n):n(s)}const Fs=Y({provide:String,useValue:Y});function Ya(t){return null!==t&&"object"==typeof t&&Fs in t}function su(t){return"function"==typeof t}const If=new fn("Set Injector scope."),wf={},Af={};let om;function Vp(){return void 0===om&&(om=new Fp),om}class vi{}class Df extends vi{get destroyed(){return this._destroyed}constructor(n,s,u,f){super(),this.parent=s,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cm(n,C=>this.processProvider(C)),this.records.set(rm,ch(void 0,this)),f.has("environment")&&this.records.set(vi,ch(void 0,this));const m=this.records.get(If);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(im.multi,ar,wn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=me(this),u=Vr(void 0);try{return n()}finally{me(s),Vr(u)}}get(n,s=Vt,u=wn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ln))return n[Ln](this);u=Rn(u);const m=me(this),C=Vr(void 0);try{if(!(u&wn.SkipSelf)){let M=this.records.get(n);if(void 0===M){const H=function rv(t){return"function"==typeof t||"object"==typeof t&&t instanceof fn}(n)&&Hn(n);M=H&&this.injectableDefInScope(H)?ch(am(n),wf):null,this.records.set(n,M)}if(null!=M)return this.hydrate(n,M)}return(u&wn.Self?Vp():this.parent).get(n,s=u&wn.Optional&&s===Vt?null:s)}catch(A){if("NullInjectorError"===A.name){if((A[ut]=A[ut]||[]).unshift(fe(n)),m)throw A;return function dr(t,n,s,u){const f=t[ut];throw n[x]&&f.unshift(n[x]),t.message=function Vs(t,n,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=fe(n);if(Array.isArray(n))f=n.map(fe).join(" -> ");else if("object"==typeof n){let m=[];for(let C in n)if(n.hasOwnProperty(C)){let A=n[C];m.push(C+":"+("string"==typeof A?JSON.stringify(A):fe(A)))}f=`{${m.join(", ")}}`}return`${s}${u?"("+u+")":""}[${f}]: ${t.replace(yt,"\n  ")}`}("\n"+t.message,f,s,u),t.ngTokenPath=f,t[ut]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{Vr(C),me(m)}}resolveInjectorInitializers(){const n=me(this),s=Vr(void 0);try{const f=this.get(ld.multi,ar,wn.Self);for(const m of f)m()}finally{me(n),Vr(s)}}toString(){const n=[],s=this.records;for(const u of s.keys())n.push(fe(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(n){let s=su(n=Ke(n))?n:Ke(n&&n.provide);const u=function M_(t){return Ya(t)?ch(void 0,t.useValue):ch(O_(t),wf)}(n);if(su(n)||!0!==n.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=ch(void 0,wf,!0),f.factory=()=>br(f.multi),this.records.set(s,f)),s=n,f.multi.push(n)}this.records.set(s,u)}hydrate(n,s){return s.value===wf&&(s.value=Af,s.value=s.factory()),"object"==typeof s.value&&s.value&&function N_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Ke(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function am(t){const n=Hn(t),s=null!==n?n.factory:Rs(t);if(null!==s)return s;if(t instanceof fn)throw new Ie(204,!1);if(t instanceof Function)return function As(t){const n=t.length;if(n>0)throw function Bl(t,n){const s=[];for(let u=0;u<t;u++)s.push(n);return s}(n,"?"),new Ie(204,!1);const s=function $t(t){return t&&(t[an]||t[Jn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ie(204,!1)}function O_(t,n,s){let u;if(su(t)){const f=Ke(t);return Rs(f)||am(f)}if(Ya(t))u=()=>Ke(t.useValue);else if(function x_(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...br(t.deps||[]));else if(function P_(t){return!(!t||!t.useExisting)}(t))u=()=>Ot(Ke(t.useExisting));else{const f=Ke(t&&(t.useClass||t.provide));if(!function lm(t){return!!t.deps}(t))return Rs(f)||am(f);u=()=>new f(...br(t.deps))}return u}function ch(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function cm(t,n){for(const s of t)Array.isArray(s)?cm(s,n):s&&Ft(s)?cm(s.\u0275providers,n):n(s)}const Sf=new fn("AppId",{providedIn:"root",factory:()=>uh}),uh="ng",Up=new fn("Platform Initializer"),dh=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ou=new fn("AnimationModuleType"),iv=new fn("CSP nonce",{providedIn:"root",factory:()=>sh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xf=(t,n,s)=>null;function fa(t,n,s=!1){return xf(t,n,s)}class av{}class Hp{}class cE{resolveComponentFactory(n){throw function zp(t){const n=Error(`No component factory found for ${fe(t)}.`);return n.ngComponent=t,n}(n)}}let Cc=(()=>{class t{static{this.NULL=new cE}}return t})();function x0(){return Wp($s(),Gt())}function Wp(t,n){return new vh(Ui(t,n))}let vh=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=x0}}return t})();function V_(t){return t instanceof vh?t.nativeElement:t}class hd{}let gm=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function uE(){const t=Gt(),s=Gi($s().index,t);return(Ii(s)?s:t)[Gn]}()}}return t})(),Eh=(()=>{class t{static{this.\u0275prov=on({token:t,providedIn:"root",factory:()=>null})}}return t})();class U_{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const j_=new U_("16.2.12"),Of={};function hE(t,n=null,s=null,u){const f=hv(t,n,s,u);return f.resolveInjectorInitializers(),f}function hv(t,n=null,s=null,u,f=new Set){const m=[s||ar,oi(t)];return u=u||("object"==typeof t?void 0:fe(t)),new Df(m,n||Vp(),u||null,f)}let Ic=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Vt}static{this.NULL=new Fp}static create(s,u){if(Array.isArray(s))return hE({name:""},u,s,"");{const f=s.name??"";return hE({name:f},s.parent,s.providers,f)}}static{this.\u0275prov=on({token:t,providedIn:"any",factory:()=>Ot(rm)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function uu(t){return t.ngOriginalError}class Cl{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&uu(n);for(;s&&uu(s);)s=uu(s);return s||null}}function Ac(t){return n=>{setTimeout(t,void 0,n)}}const Dc=class mE extends o.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){let f=n,m=s||(()=>null),C=u;if(n&&"object"==typeof n){const M=n;f=M.next?.bind(M),m=M.error?.bind(M),C=M.complete?.bind(M)}this.__isAsync&&(m=Ac(m),f&&(f=Ac(f)),C&&(C=Ac(C)));const A=super.subscribe({next:f,error:m,complete:C});return n instanceof le.yU&&n.add(A),A}};function fv(...t){}class To{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dc(!1),this.onMicrotaskEmpty=new Dc(!1),this.onStable=new Dc(!1),this.onError=new Dc(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&s,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function _E(){const t="function"==typeof Kn.requestAnimationFrame;let n=Kn[t?"requestAnimationFrame":"setTimeout"],s=Kn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function EE(t){const n=()=>{!function vE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Kn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,H_(t),t.isCheckStableRunning=!0,G_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),H_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,f,m,C,A)=>{if(function TE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return s.invokeTask(f,m,C,A);try{return pv(t),s.invokeTask(f,m,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),bh(t)}},onInvoke:(s,u,f,m,C,A,M)=>{try{return pv(t),s.invoke(f,m,C,A,M)}finally{t.shouldCoalesceRunChangeDetection&&n(),bh(t)}},onHasTask:(s,u,f,m)=>{s.hasTask(f,m),u===f&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,H_(t),G_(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,u,f,m)=>(s.handleError(f,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!To.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(To.isInAngularZone())throw new Ie(909,!1)}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,f){const m=this._inner,C=m.scheduleEventTask("NgZoneEvent: "+f,n,yE,fv,fv);try{return m.runTask(C,s,u)}finally{m.cancelTask(C)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const yE={};function G_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function H_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function pv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bh(t){t._nesting--,G_(t)}class z_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dc,this.onMicrotaskEmpty=new Dc,this.onStable=new Dc,this.onError=new Dc}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,f){return n.apply(s,u)}}const bE=new fn("",{providedIn:"root",factory:gv});function gv(){const t=pn(To);let n=!0;const s=new i.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),u=new i.c(f=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{To.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{To.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),C.unsubscribe()}});return(0,ve.h)(s,u.pipe((0,ye.u)()))}function mv(t){return t.ownerDocument.defaultView}function fd(t){return t instanceof Function?t():t}let Ev=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=on({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Yp(t){for(;t;){t[ir]|=64;const n=Zd(t);if(ra(t)&&!n)return t;t=n}return null}const bv=new fn("",{providedIn:"root",factory:()=>!1});let vm=null;function Cv(t,n){return t[n]??xE()}function Iv(t,n){const s=xE();s.producerNode?.length&&(t[n]=vm,s.lView=t,vm=Em())}const q_={...sa,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yp(t.lView)},lView:null};function Em(){return Object.create(q_)}function xE(){return vm??=Em(),vm}const Br={};function ME(t){bm(wr(),Gt(),sr()+t,!1)}function bm(t,n,s,u){if(!u)if(3==(3&n[ir])){const m=t.preOrderCheckHooks;null!==m&&$c(n,m,s)}else{const m=t.preOrderHooks;null!==m&&Uu(n,m,0,s)}Or(s)}function hu(t,n=wn.Default){const s=Gt();return null===s?Ot(t,n):Ku($s(),s,Ke(t),n)}function d(){throw new Error("invalid")}function r(t,n,s,u,f,m,C,A,M,H,se){const we=n.blueprint.slice();return we[Hr]=f,we[ir]=140|u,(null!==H||t&&2048&t[ir])&&(we[ir]|=2048),Ta(we),we[hr]=we[Z]=t,we[Yr]=s,we[Ss]=C||t&&t[Ss],we[Gn]=A||t&&t[Gn],we[cs]=M||t&&t[cs]||null,we[Fi]=m,we[Et]=function r_(){return Og++}(),we[gn]=se,we[Yt]=H,we[J]=2==n.type?t[J]:we,we}function a(t,n,s,u,f){let m=t.data[n];if(null===m)m=function h(t,n,s,u,f){const m=jc(),C=oc(),M=t.data[n]=function Zn(t,n,s,u,f,m){let C=n?n.injectorIndex:-1,A=0;return function No(){return null!==lr.skipHydrationRootTNode}()&&(A|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?m:m&&m.parent,s,n,u,f);return null===t.firstChild&&(t.firstChild=M),null!==m&&(C?null==m.child&&null!==M.parent&&(m.child=M):null===m.next&&(m.next=M,M.prev=m)),M}(t,n,s,u,f),function Dd(){return lr.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=s,m.value=u,m.attrs=f;const C=function ul(){const t=lr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===C?-1:C.injectorIndex}return ko(m,!0),m}function y(t,n,s,u){if(0===s)return-1;const f=n.length;for(let m=0;m<s;m++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function b(t,n,s,u,f){const m=Cv(n,Xn),C=sr(),A=2&u;try{Or(-1),A&&n.length>Mn&&bm(t,n,Mn,!1),ns(A?2:0,f);const H=A?m:null,se=ba(H);try{null!==H&&(H.dirty=!1),s(u,f)}finally{La(H,se)}}finally{A&&null===n[Xn]&&Iv(n,Xn),Or(C),ns(A?3:1,f)}}function R(t,n,s){if(Ho(n)){const u=Wi(null);try{const m=n.directiveEnd;for(let C=n.directiveStart;C<m;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,s[C],C)}}finally{Wi(u)}}}function V(t,n,s){nn()&&(function OE(t,n,s,u){const f=s.directiveStart,m=s.directiveEnd;us(s)&&function eg(t,n,s){const u=Ui(n,t),f=oe(s);let C=16;s.signals?C=4096:s.onPush&&(C=64);const A=Ff(t,r(t,f,null,C,u,n,null,t[Ss].rendererFactory.createRenderer(u,s),null,null,null));t[n.index]=A}(n,s,t.data[f+s.componentOffset]),t.firstCreatePass||lc(s,n),Uo(u,n);const C=s.initialInputs;for(let A=f;A<m;A++){const M=t.data[A],H=za(n,t,A,s);Uo(H,n),null!==C&&FE(0,A-f,H,M,0,C),no(M)&&(Gi(s.index,n)[Yr]=za(n,t,A,s))}}(t,n,s,Ui(s,n)),64==(64&s.flags)&&kf(t,n,s))}function K(t,n,s=Ui){const u=n.localNames;if(null!==u){let f=n.index+1;for(let m=0;m<u.length;m+=2){const C=u[m+1],A=-1===C?s(n,t):t[C];t[f++]=A}}}function oe(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=be(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function be(t,n,s,u,f,m,C,A,M,H,se){const we=Mn+u,rt=we+f,vt=function We(t,n){const s=[];for(let u=0;u<n;u++)s.push(u<t?null:Br);return s}(we,rt),Bt="function"==typeof H?H():H;return vt[_n]={type:t,blueprint:vt,template:s,queries:null,viewQuery:A,declTNode:n,data:vt.slice().fill(null,we),bindingStartIndex:we,expandoStartIndex:rt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:M,consts:Bt,incompleteFirstPass:!1,ssrId:se}}let dn=t=>null;function Nr(t,n,s,u){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const m=t[f];null===u?Mi(s,n,f,m):u.hasOwnProperty(f)&&Mi(s,n,u[f],m)}return s}function Mi(t,n,s,u){t.hasOwnProperty(s)?t[s].push(n,u):t[s]=[n,u]}function Be(t,n,s,u,f,m,C,A){const M=Ui(n,s);let se,H=n.inputs;!A&&null!=H&&(se=H[u])?(wm(t,s,se,u,f),us(n)&&function et(t,n){const s=Gi(n,t);16&s[ir]||(s[ir]|=64)}(s,n.index)):3&n.type&&(u=function ft(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=C?C(f,n.value||"",u):f,m.setProperty(M,u,f))}function Pt(t,n,s,u){if(nn()){const f=null===u?null:{"":-1},m=function Y_(t,n){const s=t.directiveRegistry;let u=null,f=null;if(s)for(let m=0;m<s.length;m++){const C=s[m];if(bs(n,C.selectors,!1))if(u||(u=[]),no(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),u.unshift(...A,C),Tm(t,n,A.length)}else u.unshift(C),Tm(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,u,f),u.push(C)}return null===u?null:[u,f]}(t,s);let C,A;null===m?C=A=null:[C,A]=m,null!==C&&Ye(t,n,s,C,f,A),f&&function NE(t,n,s){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const m=s[n[f+1]];if(null==m)throw new Ie(-301,!1);u.push(n[f],m)}}}(s,u,f)}s.mergedAttrs=Qi(s.mergedAttrs,s.attrs)}function Ye(t,n,s,u,f,m){for(let H=0;H<u.length;H++)la(lc(s,n),t,u[H].type);!function jo(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,u.length);for(let H=0;H<u.length;H++){const se=u[H];se.providersResolver&&se.providersResolver(se)}let C=!1,A=!1,M=y(t,n,u.length,null);for(let H=0;H<u.length;H++){const se=u[H];s.mergedAttrs=Qi(s.mergedAttrs,se.hostAttrs),kE(t,s,n,M,se),pd(M,se,f),null!==se.contentQueries&&(s.flags|=4),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(s.flags|=64);const we=se.type.prototype;!C&&(we.ngOnChanges||we.ngOnInit||we.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),C=!0),!A&&(we.ngOnChanges||we.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),A=!0),M++}!function ai(t,n,s){const f=n.directiveEnd,m=t.data,C=n.attrs,A=[];let M=null,H=null;for(let se=n.directiveStart;se<f;se++){const we=m[se],rt=s?s.get(we):null,Bt=rt?rt.outputs:null;M=Nr(we.inputs,se,M,rt?rt.inputs:null),H=Nr(we.outputs,se,H,Bt);const hn=null===M||null===C||So(n)?null:Cm(M,se,C);A.push(hn)}null!==M&&(M.hasOwnProperty("class")&&(n.flags|=8),M.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=M,n.outputs=H}(t,s,m)}function kf(t,n,s){const u=s.directiveStart,f=s.directiveEnd,m=s.index,C=function gl(){return lr.lFrame.currentDirectiveIndex}();try{Or(m);for(let A=u;A<f;A++){const M=t.data[A],H=n[A];Vu(A),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Zp(M,H)}}finally{Or(-1),Vu(C)}}function Zp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Tm(t,n,s){n.componentOffset=s,(t.components??=[]).push(n.index)}function pd(t,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=t;no(n)&&(s[""]=t)}}function kE(t,n,s,u,f){t.data[u]=f;const m=f.factory||(f.factory=Rs(f.type)),C=new aa(m,no(f),hu);t.blueprint[u]=C,s[u]=C,function fu(t,n,s,u,f){const m=f.hostBindings;if(m){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~n.index;(function Jp(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(C)!=A&&C.push(A),C.push(s,u,m)}}(t,n,u,y(t,s,f.hostVars,Br),f)}function Sc(t,n,s,u,f,m){const C=Ui(t,n);!function Th(t,n,s,u,f,m,C){if(null==m)t.removeAttribute(n,f,s);else{const A=null==C?Xe(m):C(m,u||"",f);t.setAttribute(n,f,A,s)}}(n[Gn],C,m,t.value,s,u,f)}function FE(t,n,s,u,f,m){const C=m[n];if(null!==C)for(let A=0;A<C.length;)wv(u,s,C[A++],C[A++],C[A++])}function wv(t,n,s,u,f){const m=Wi(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(u)&&(f=C[u].call(n,f)),null!==t.setInput?t.setInput(n,f,s,u):n[u]=f}finally{Wi(m)}}function Cm(t,n,s){let u=null,f=0;for(;f<s.length;){const m=s[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===u&&(u=[]);const C=t[m];for(let A=0;A<C.length;A+=2)if(C[A]===n){u.push(m,C[A+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function tg(t,n,s,u){return[t,!0,!1,n,null,0,u,s,null,null,null]}function Im(t,n){const s=t.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const m=s[u+1];if(-1!==m){const C=t.data[m];D(s[u]),C.contentQueries(2,n[m],m)}}}function Ff(t,n){return t[mi]?t[Zi][Ji]=n:t[mi]=n,t[Zi]=n,n}function ng(t,n,s){D(0);const u=Wi(null);try{n(t,s)}finally{Wi(u)}}function X_(t){return t[js]||(t[js]=[])}function Q_(t){return t.cleanup||(t.cleanup=[])}function J_(t,n){const s=t[cs],u=s?s.get(Cl,null):null;u&&u.handleError(n)}function wm(t,n,s,u,f){for(let m=0;m<s.length;){const C=s[m++],A=s[m++];wv(t.data[C],n[C],u,A,f)}}function ql(t,n,s){const u=Bs(n,t);!function Ep(t,n,s){t.setValue(n,s)}(t[Gn],u,s)}function Sv(t,n){const s=Gi(n,t),u=s[_n];!function LE(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])}(u,s);const f=s[Hr];null!==f&&null===s[gn]&&(s[gn]=fa(f,s[cs])),rg(u,s,s[Yr])}function rg(t,n,s){N(n);try{const u=t.viewQuery;null!==u&&ng(1,u,s);const f=t.template;null!==f&&b(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Im(t,n),t.staticViewQueries&&ng(2,t.viewQuery,s);const m=t.components;null!==m&&function Z_(t,n){for(let s=0;s<n.length;s++)Sv(t,n[s])}(n,m)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[ir]&=-5,bt()}}let Am=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,u,f){const m=typeof Zone>"u"?null:Zone.current,C=function Ut(t,n,s){const u=Object.create(zr);s&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=n;const f=C=>{u.cleanupFn=C};return u.ref={notify:()=>Is(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Sl(u))return;u.hasRun=!0;const C=ba(u);try{u.cleanupFn(),u.cleanupFn=jn,u.fn(f)}finally{La(u,C)}},cleanup:()=>u.cleanupFn()},u.ref}(s,H=>{this.all.has(H)&&this.queue.set(H,m)},f);let A;this.all.add(C),C.notify();const M=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=u?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[s,u]of this.queue)this.queue.delete(s),u?u.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=on({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Co(t,n,s){let u=s?t.styles:null,f=s?t.classes:null,m=0;if(null!==n)for(let C=0;C<n.length;C++){const A=n[C];"number"==typeof A?m=A:1==m?f=Ae(f,A):2==m&&(u=Ae(u,A+": "+n[++C]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=f:t.classesWithoutHost=f}function gd(t,n,s,u,f=!1){for(;null!==s;){const m=n[s.index];null!==m&&u.push(Tr(m)),Mr(m)&&ey(m,u);const C=s.type;if(8&C)gd(t,n,s.child,u);else if(32&C){const A=zl(s,n);let M;for(;M=A();)u.push(M)}else if(16&C){const A=$g(n,s);if(Array.isArray(A))u.push(...A);else{const M=Zd(n[J]);gd(M[_n],M,A,u,!0)}}s=f?s.projectionNext:s.next}return u}function ey(t,n){for(let s=Rr;s<t.length;s++){const u=t[s],f=u[_n].firstChild;null!==f&&gd(u[_n],u,f,n)}t[ii]!==t[Hr]&&n.push(t[ii])}function ig(t,n,s,u=!0){const f=n[Ss],m=f.rendererFactory,C=f.afterRenderEventManager;m.begin?.(),C?.begin();try{ty(t,n,t.template,s)}catch(M){throw u&&J_(n,M),M}finally{m.end?.(),f.effectManager?.flush(),C?.end()}}function ty(t,n,s,u){const f=n[ir];if(256!=(256&f)){n[Ss].effectManager?.flush(),N(n);try{Ta(n),function Ba(t){return lr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&b(t,n,s,2,u);const C=3==(3&f);if(C){const H=t.preOrderCheckHooks;null!==H&&$c(n,H,null)}else{const H=t.preOrderHooks;null!==H&&Uu(n,H,0,null),ju(n,0)}if(function ry(t){for(let n=a_(t);null!==n;n=kg(n)){if(!n[kr])continue;const s=n[Vi];for(let u=0;u<s.length;u++){rc(s[u])}}}(n),ny(n,2),null!==t.contentQueries&&Im(t,n),C){const H=t.contentCheckHooks;null!==H&&$c(n,H)}else{const H=t.contentHooks;null!==H&&Uu(n,H,1),ju(n,1)}!function e(t,n){const s=t.hostBindingOpCodes;if(null===s)return;const u=Cv(n,Dr);try{for(let f=0;f<s.length;f++){const m=s[f];if(m<0)Or(~m);else{const C=m,A=s[++f],M=s[++f];Qf(A,C),u.dirty=!1;const H=ba(u);try{M(2,n[C])}finally{La(u,H)}}}}finally{null===n[Dr]&&Iv(n,Dr),Or(-1)}}(t,n);const A=t.components;null!==A&&og(n,A,0);const M=t.viewQuery;if(null!==M&&ng(2,M,u),C){const H=t.viewCheckHooks;null!==H&&$c(n,H)}else{const H=t.viewHooks;null!==H&&Uu(n,H,2),ju(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[ir]&=-73,Mu(n)}finally{bt()}}}function ny(t,n){for(let s=a_(t);null!==s;s=kg(s))for(let u=Rr;u<s.length;u++)iy(s[u],n)}function VE(t,n,s){iy(Gi(n,t),s)}function iy(t,n){if(!function xu(t){return 128==(128&t[ir])}(t))return;const s=t[_n],u=t[ir];if(80&u&&0===n||1024&u||2===n)ty(s,t,s.template,t[Yr]);else if(t[ls]>0){ny(t,1);const f=s.components;null!==f&&og(t,f,1)}}function og(t,n,s){for(let u=0;u<n.length;u++)VE(t,n[u],s)}class Ch{get rootNodes(){const n=this._lView,s=n[_n];return gd(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yr]}set context(n){this._lView[Yr]=n}get destroyed(){return 256==(256&this._lView[ir])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[hr];if(Mr(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(cf(n,u),jl(s,u))}this._attachedToViewContainer=!1}Tp(this._lView[_n],this._lView)}onDestroy(n){!function Id(t,n){if(256==(256&t[ir]))throw new Ie(911,!1);null===t[Dn]&&(t[Dn]=[]),t[Dn].push(n)}(this._lView,n)}markForCheck(){Yp(this._cdRefInjectingView||this._lView)}detach(){this._lView[ir]&=-129}reattach(){this._lView[ir]|=128}detectChanges(){ig(this._lView[_n],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function l_(t,n){Tl(t,n,n[Gn],2,null,null)}(this._lView[_n],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=n}}class sy extends Ch{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ig(n[_n],n,n[Yr],!1)}checkNoChanges(){}get context(){return null}}class pu extends Cc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Qn(n);return new gu(s,this.ngModule)}}function Lf(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class Ih{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,u){u=Rn(u);const f=this.injector.get(n,Of,u);return f!==Of||s===Of?f:this.parentInjector.get(n,s,u)}}class gu extends Hp{get inputs(){const n=this.componentDef,s=n.inputTransforms,u=Lf(n.inputs);if(null!==s)for(const f of u)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return u}get outputs(){return Lf(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function hi(t){return t.map(Ro).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,u,f){let m=(f=f||this.ngModule)instanceof vi?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const C=m?new Ih(n,m):n,A=C.get(hd,null);if(null===A)throw new Ie(407,!1);const we={rendererFactory:A,sanitizer:C.get(Eh,null),effectManager:C.get(Am,null),afterRenderEventManager:C.get(Ev,null)},rt=A.createRenderer(null,this.componentDef),vt=this.componentDef.selectors[0][0]||"div",Bt=u?function At(t,n,s,u){const m=u.get(bv,!1)||s===Es.ShadowDom,C=t.selectRootElement(n,m);return function Wt(t){dn(t)}(C),C}(rt,u,this.componentDef.encapsulation,C):bp(rt,vt,function Dm(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(vt)),ur=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let en=null;null!==Bt&&(en=fa(Bt,C,!0));const Lr=be(0,null,null,1,0,null,null,null,null,null,null),Ei=r(null,Lr,null,ur,null,null,we,rt,C,null,en);let _s,Zl;N(Ei);try{const Xf=this.componentDef;let Vy,Qb=null;Xf.findHostDirectiveDefs?(Vy=[],Qb=new Map,Xf.findHostDirectiveDefs(Xf,Vy,Qb),Vy.push(Xf)):Vy=[Xf];const n1=function oy(t,n){const s=t[_n],u=Mn;return t[u]=n,a(s,u,2,"#host",null)}(Ei,Bt),r1=function Vf(t,n,s,u,f,m,C){const A=f[_n];!function ay(t,n,s,u){for(const f of t)n.mergedAttrs=Qi(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(Co(n,n.mergedAttrs,!0),null!==s&&Sp(u,s,n))}(u,t,n,C);let M=null;null!==n&&(M=fa(n,f[cs]));const H=m.rendererFactory.createRenderer(n,s);let se=16;s.signals?se=4096:s.onPush&&(se=64);const we=r(f,oe(s),null,se,f[t.index],t,m,H,null,null,M);return A.firstCreatePass&&Tm(A,t,u.length-1),Ff(f,we),f[t.index]=we}(n1,Bt,Xf,Vy,Ei,we,rt);Zl=Pu(Lr,Mn),Bt&&function ly(t,n,s,u){if(u)Ur(t,s,["ng-version",j_.full]);else{const{attrs:f,classes:m}=function Na(t){const n=[],s=[];let u=1,f=2;for(;u<t.length;){let m=t[u];if("string"==typeof m)2===f?""!==m&&n.push(m,t[++u]):8===f&&s.push(m);else{if(!li(f))break;f=m}u++}return{attrs:n,classes:s}}(n.selectors[0]);f&&Ur(t,s,f),m&&m.length>0&&Dp(t,s,m.join(" "))}}(rt,Xf,Bt,u),void 0!==s&&function lg(t,n,s){const u=t.projection=[];for(let f=0;f<n.length;f++){const m=s[f];u.push(null!=m?Array.from(m):null)}}(Zl,this.ngContentSelectors,s),_s=function ta(t,n,s,u,f,m){const C=$s(),A=f[_n],M=Ui(C,f);Ye(A,f,C,s,null,u);for(let se=0;se<s.length;se++)Uo(za(f,A,C.directiveStart+se,C),f);kf(A,f,C),M&&Uo(M,f);const H=za(f,A,C.directiveStart+C.componentOffset,C);if(t[Yr]=f[Yr]=H,null!==m)for(const se of m)se(H,n);return R(A,C,t),H}(r1,Xf,Vy,Qb,Ei,[cg]),rg(Lr,Ei,null)}finally{bt()}return new ag(this.componentType,_s,Wp(Zl,Ei),Ei,Zl)}}class ag extends av{constructor(n,s,u,f,m){super(),this.location=u,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new sy(f),this.componentType=n}setInput(n,s){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const m=this._rootLView;wm(m[_n],m,f,n,s),this.previousInputValues.set(n,s),Yp(Gi(this._tNode.index,m))}}get injector(){return new fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function cg(){const t=$s();Ga(Gt()[_n],t)}function cy(t){let n=function Rv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const u=[t];for(;n;){let f;if(no(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ie(903,!1);f=n.\u0275dir}if(f){if(s){u.push(f);const C=t;C.inputs=Sm(t.inputs),C.inputTransforms=Sm(t.inputTransforms),C.declaredInputs=Sm(t.declaredInputs),C.outputs=Sm(t.outputs);const A=f.hostBindings;A&&uy(t,A);const M=f.viewQuery,H=f.contentQueries;if(M&&UE(t,M),H&&Rm(t,H),te(t.inputs,f.inputs),te(t.declaredInputs,f.declaredInputs),te(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),te(C.inputTransforms,f.inputTransforms)),no(f)&&f.data.animation){const se=t.data;se.animation=(se.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let C=0;C<m.length;C++){const A=m[C];A&&A.ngInherit&&A(t),A===cy&&(s=!1)}}n=Object.getPrototypeOf(n)}!function Uf(t){let n=0,s=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=n+=f.hostVars,f.hostAttrs=Qi(f.hostAttrs,s=Qi(s,f.hostAttrs))}}(u)}function Sm(t){return t===gi?{}:t===ar?[]:t}function UE(t,n){const s=t.viewQuery;t.viewQuery=s?(u,f)=>{n(u,f),s(u,f)}:n}function Rm(t,n){const s=t.contentQueries;t.contentQueries=s?(u,f,m)=>{n(u,f,m),s(u,f,m)}:n}function uy(t,n){const s=t.hostBindings;t.hostBindings=s?(u,f)=>{n(u,f),s(u,f)}:n}function py(t){const n=t.inputConfig,s={};for(const u in n)if(n.hasOwnProperty(u)){const f=n[u];Array.isArray(f)&&f[2]&&(s[u]=f[2])}t.inputTransforms=s}function ug(t){return!!Rc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Rc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Yl(t,n,s){return t[n]=s}function wh(t,n){return t[n]}function Io(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function mu(t,n,s,u){const f=Io(t,n,s);return Io(t,n+1,u)||f}function Ah(t,n,s,u,f){const m=mu(t,n,s,u);return Io(t,n+2,f)||m}function pa(t,n,s,u,f,m){const C=mu(t,n,s,u);return mu(t,n+2,f,m)||C}function hg(t,n,s,u){const f=Gt();return Io(f,fl(),n)&&(wr(),Sc(fi(),f,t,n,s,u)),hg}function Sh(t,n,s,u){return Io(t,fl(),s)?n+Xe(s)+u:Br}function bd(t,n,s,u,f,m,C,A){const M=Gt(),H=wr(),se=t+Mn,we=H.firstCreatePass?function mg(t,n,s,u,f,m,C,A,M){const H=n.consts,se=a(n,t,4,C||null,ws(H,A));Pt(n,s,se,ws(H,M)),Ga(n,se);const we=se.tView=be(2,se,u,f,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,H,null);return null!==n.queries&&(n.queries.template(n,se),we.queries=n.queries.embeddedTView(se)),se}(se,H,M,n,s,u,f,m,C):H.data[se];ko(we,!1);const rt=Il(H,M,we,t);_l()&&wp(H,M,rt,we),Uo(rt,M),Ff(M,M[se]=tg(rt,M,rt,we)),Xs(we)&&V(H,M,we),null!=C&&K(M,we,A)}let Il=function Td(t,n,s,u){return Fo(!0),n[Gn].createComment("")};function yg(t){return cl(function Ad(){return lr.lFrame.contextLView}(),Mn+t)}function vg(t,n,s){const u=Gt();return Io(u,fl(),n)&&Be(wr(),fi(),u,t,n,u[Gn],s,!1),vg}function Vh(t,n,s,u,f){const C=f?"class":"style";wm(t,s,n.inputs[C],C,u)}function ma(t,n,s,u){const f=Gt(),m=wr(),C=Mn+t,A=f[Gn],M=m.firstCreatePass?function Xl(t,n,s,u,f,m){const C=n.consts,M=a(n,t,2,u,ws(C,f));return Pt(n,s,M,ws(C,m)),null!==M.attrs&&Co(M,M.attrs,!1),null!==M.mergedAttrs&&Co(M,M.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,M),M}(C,m,f,n,s,u):m.data[C],H=$m(m,f,M,A,n,t);f[C]=H;const se=Xs(M);return ko(M,!0),Sp(A,H,M),32!=(32&M.flags)&&_l()&&wp(m,f,H,M),0===function qo(){return lr.lFrame.elementDepthCount}()&&Uo(H,f),function Uc(){lr.lFrame.elementDepthCount++}(),se&&(V(m,f,M),R(m,M,f)),null!==u&&K(f,M),ma}function xa(){let t=$s();oc()?Lu():(t=t.parent,ko(t,!1));const n=t;(function ku(t){return lr.skipHydrationRootTNode===t})(n)&&function Fu(){lr.skipHydrationRootTNode=null}(),function wd(){lr.lFrame.elementDepthCount--}();const s=wr();return s.firstCreatePass&&(Ga(s,t),Ho(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Rd(t){return 0!=(8&t.flags)}(n)&&Vh(s,n,Gt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Gu(t){return 0!=(16&t.flags)}(n)&&Vh(s,n,Gt(),n.stylesWithoutHost,!1),xa}function vu(t,n,s,u){return ma(t,n,s,u),xa(),vu}let $m=(t,n,s,u,f,m)=>(Fo(!0),bp(u,f,function $a(){return lr.lFrame.currentNamespace}()));function Eu(t,n,s){const u=Gt(),f=wr(),m=t+Mn,C=f.firstCreatePass?function Uh(t,n,s,u,f){const m=n.consts,C=ws(m,u),A=a(n,t,8,"ng-container",C);return null!==C&&Co(A,C,!0),Pt(n,s,A,ws(m,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(m,f,u,n,s):f.data[m];ko(C,!0);const A=Ma(f,u,C,t);return u[m]=A,_l()&&wp(f,u,A,C),Uo(A,u),Xs(C)&&(V(f,u,C),R(f,C,u)),null!=s&&K(u,C),Eu}function Hf(){let t=$s();const n=wr();return oc()?Lu():(t=t.parent,ko(t,!1)),n.firstCreatePass&&(Ga(n,t),Ho(t)&&n.queries.elementEnd(t)),Hf}function bu(t,n,s){return Eu(t,n,s),Hf(),bu}let Ma=(t,n,s,u)=>(Fo(!0),Fg(n[Gn],""));function ao(){return Gt()}function E(t){return!!t&&"function"==typeof t.then}function j(t){return!!t&&"function"==typeof t.subscribe}function q(t,n,s,u){const f=Gt(),m=wr(),C=$s();return function Lt(t,n,s,u,f,m,C){const A=Xs(u),H=t.firstCreatePass&&Q_(t),se=n[Yr],we=X_(n);let rt=!0;if(3&u.type||C){const hn=Ui(u,n),kn=C?C(hn):hn,ur=we.length,en=C?Ei=>C(Tr(Ei[u.index])):u.index;let Lr=null;if(!C&&A&&(Lr=function Ct(t,n,s,u){const f=t.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const C=f[m];if(C===s&&f[m+1]===u){const A=n[js],M=f[m+2];return A.length>M?A[M]:null}"string"==typeof C&&(m+=2)}return null}(t,n,f,u.index)),null!==Lr)(Lr.__ngLastListenerFn__||Lr).__ngNextListenerFn__=m,Lr.__ngLastListenerFn__=m,rt=!1;else{m=Li(u,n,se,m,!1);const Ei=s.listen(kn,f,m);we.push(m,Ei),H&&H.push(f,en,ur,ur+1)}}else m=Li(u,n,se,m,!1);const vt=u.outputs;let Bt;if(rt&&null!==vt&&(Bt=vt[f])){const hn=Bt.length;if(hn)for(let kn=0;kn<hn;kn+=2){const _s=n[Bt[kn]][Bt[kn+1]].subscribe(m),Zl=we.length;we.push(m,_s),H&&H.push(f,u.index,Zl,-(Zl+1))}}}(m,f,f[Gn],C,t,n,u),q}function Sn(t,n,s,u){try{return ns(6,n,s),!1!==s(u)}catch(f){return J_(t,f),!1}finally{ns(7,n,s)}}function Li(t,n,s,u,f){return function m(C){if(C===Function)return u;Yp(t.componentOffset>-1?Gi(t.index,n):n);let M=Sn(n,s,u,C),H=m.__ngNextListenerFn__;for(;H;)M=Sn(n,s,H,C)&&M,H=H.__ngNextListenerFn__;return f&&!1===M&&C.preventDefault(),M}}function mo(t=1){return function In(t){return(lr.lFrame.contextLView=function yr(t,n){for(;t>0;)n=n[Z],t--;return n}(t,lr.lFrame.contextLView))[Yr]}(t)}function wl(t,n,s){return na(t,"",n,"",s),wl}function na(t,n,s,u,f){const m=Gt(),C=Sh(m,n,s,u);return C!==Br&&Be(wr(),fi(),m,t,C,m[Gn],f,!1),na}function zf(t,n,s,u,f,m,C,A,M){const H=Gt(),se=function _d(t,n,s,u,f,m,C,A){const H=Ah(t,po(),s,f,C);return go(3),H?n+Xe(s)+u+Xe(f)+m+Xe(C)+A:Br}(H,n,s,u,f,m,C,A);return se!==Br&&Be(wr(),fi(),H,t,se,H[Gn],M,!1),zf}function Ay(t,n){return t<<17|n<<2}function Bh(t){return t>>17&32767}function Hm(t){return 2|t}function Tu(t){return(131068&t)>>2}function Fv(t,n){return-131069&t|n<<2}function Lv(t){return 1|t}function zm(t,n,s,u,f){const m=t[s+1],C=null===n;let A=u?Bh(m):Tu(m),M=!1;for(;0!==A&&(!1===M||C);){const se=t[A+1];Uv(t[A],n)&&(M=!0,t[A+1]=u?Lv(se):Hm(se)),A=u?Bh(se):Tu(se)}M&&(t[s+1]=u?Hm(m):Lv(m))}function Uv(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ka(t,n)>=0}const eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function WE(t){return t.substring(eo.key,eo.keyEnd)}function B0(t,n){const s=eo.textEnd;return s===n?-1:(n=eo.keyEnd=function YE(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,eo.key=n,s),Eg(t,n,s))}function Eg(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function Gv(t,n,s){return kc(t,n,s,!1),Gv}function Hv(t,n){return kc(t,n,null,!0),Hv}function zv(t){!function Ql(t,n,s,u){const f=wr(),m=go(2);f.firstUpdatePass&&Dy(f,null,m,u);const C=Gt();if(s!==Br&&Io(C,m,s)){const A=f.data[sr()];if(e0(A,u)&&!QE(f,m)){let M=u?A.classesWithoutHost:A.stylesWithoutHost;null!==M&&(s=Ae(M,s||"")),Vh(f,A,C,s,u)}else!function Wv(t,n,s,u,f,m,C,A){f===Br&&(f=ar);let M=0,H=0,se=0<f.length?f[0]:null,we=0<m.length?m[0]:null;for(;null!==se||null!==we;){const rt=M<f.length?f[M+1]:void 0,vt=H<m.length?m[H+1]:void 0;let hn,Bt=null;se===we?(M+=2,H+=2,rt!==vt&&(Bt=we,hn=vt)):null===we||null!==se&&se<we?(M+=2,Bt=se):(H+=2,Bt=we,hn=vt),null!==Bt&&JE(t,n,s,u,Bt,hn,C,A),se=M<f.length?f[M]:null,we=H<m.length?m[H]:null}}(f,A,C,C[Gn],C[m+1],C[m+1]=function Fc(t,n,s){if(null==s||""===s)return ar;const u=[],f=ru(s);if(Array.isArray(f))for(let m=0;m<f.length;m++)t(u,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&t(u,m,f[m]);else"string"==typeof f&&n(u,f);return u}(t,n,s),u,m)}}(Km,Iu,t,!0)}function Iu(t,n){for(let s=function j0(t){return function qE(t){eo.key=0,eo.keyEnd=0,eo.value=0,eo.valueEnd=0,eo.textEnd=t.length}(t),B0(t,Eg(t,0,eo.textEnd))}(n);s>=0;s=B0(n,s))Vo(t,WE(n),!0)}function kc(t,n,s,u){const f=Gt(),m=wr(),C=go(2);m.firstUpdatePass&&Dy(m,t,C,u),n!==Br&&Io(f,C,n)&&JE(m,m.data[sr()],f,f[Gn],t,f[C+1]=function q0(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=fe(ru(t)))),t}(n,s),u,C)}function QE(t,n){return n>=t.expandoStartIndex}function Dy(t,n,s,u){const f=t.data;if(null===f[s+1]){const m=f[sr()],C=QE(t,s);e0(m,u)&&null===n&&!C&&(n=!1),n=function H0(t,n,s,u){const f=function Ia(t){const n=lr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=u?n.residualClasses:n.residualStyles;if(null===f)0===(u?n.classBindings:n.styleBindings)&&(s=Wm(s=Sy(null,t,n,s,u),n.attrs,u),m=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(s=Sy(f,t,n,s,u),null===m){let M=function z0(t,n,s){const u=s?n.classBindings:n.styleBindings;if(0!==Tu(u))return t[Bh(u)]}(t,n,u);void 0!==M&&Array.isArray(M)&&(M=Sy(null,t,n,M[1],u),M=Wm(M,n.attrs,u),function W0(t,n,s,u){t[Bh(s?n.classBindings:n.styleBindings)]=u}(t,n,u,M))}else m=function K0(t,n,s){let u;const f=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<f;m++)u=Wm(u,t[m].hostAttrs,s);return Wm(u,n.attrs,s)}(t,n,u)}return void 0!==m&&(u?n.residualClasses=m:n.residualStyles=m),s}(f,m,n,u),function Vv(t,n,s,u,f,m){let C=m?n.classBindings:n.styleBindings,A=Bh(C),M=Tu(C);t[u]=s;let se,H=!1;if(Array.isArray(s)?(se=s[1],(null===se||Ka(s,se)>0)&&(H=!0)):se=s,f)if(0!==M){const rt=Bh(t[A+1]);t[u+1]=Ay(rt,A),0!==rt&&(t[rt+1]=Fv(t[rt+1],u)),t[A+1]=function kv(t,n){return 131071&t|n<<17}(t[A+1],u)}else t[u+1]=Ay(A,0),0!==A&&(t[A+1]=Fv(t[A+1],u)),A=u;else t[u+1]=Ay(M,0),0===A?A=u:t[M+1]=Fv(t[M+1],u),M=u;H&&(t[u+1]=Hm(t[u+1])),zm(t,se,u,!0),zm(t,se,u,!1),function U0(t,n,s,u,f){const m=f?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&Ka(m,n)>=0&&(s[u+1]=Lv(s[u+1]))}(n,se,t,u,m),C=Ay(A,M),m?n.classBindings=C:n.styleBindings=C}(f,m,n,s,C,u)}}function Sy(t,n,s,u,f){let m=null;const C=s.directiveEnd;let A=s.directiveStylingLast;for(-1===A?A=s.directiveStart:A++;A<C&&(m=n[A],u=Wm(u,m.hostAttrs,f),m!==t);)A++;return null!==t&&(s.directiveStylingLast=A),u}function Wm(t,n,s){const u=s?1:2;let f=-1;if(null!==n)for(let m=0;m<n.length;m++){const C=n[m];"number"==typeof C?f=C:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vo(t,C,!!s||n[++m]))}return void 0===t?null:t}function Km(t,n,s){const u=String(n);""!==u&&!u.includes(" ")&&Vo(t,u,s)}function JE(t,n,s,u,f,m,C,A){if(!(3&n.type))return;const M=t.data,H=M[A+1],se=function V0(t){return 1==(1&t)}(H)?ZE(M,n,s,f,Tu(H),C):void 0;bg(se)||(bg(m)||function Wf(t){return 2==(2&t)}(H)&&(m=ZE(M,null,s,f,A,C)),function Hy(t,n,s,u,f){if(n)f?t.addClass(s,u):t.removeClass(s,u);else{let m=-1===u.indexOf("-")?void 0:td.DashCase;null==f?t.removeStyle(s,u,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=td.Important),t.setStyle(s,u,f,m))}}(u,C,Bs(sr(),s),f,m))}function ZE(t,n,s,u,f,m){const C=null===n;let A;for(;f>0;){const M=t[f],H=Array.isArray(M),se=H?M[1]:M,we=null===se;let rt=s[f+1];rt===Br&&(rt=we?ar:void 0);let vt=we?Vd(rt,u):se===u?rt:void 0;if(H&&!bg(vt)&&(vt=Vd(M,u)),bg(vt)&&(A=vt,C))return A;const Bt=t[f+1];f=C?Bh(Bt):Tu(Bt)}if(null!==n){let M=m?n.residualClasses:n.residualStyles;null!=M&&(A=Vd(M,u))}return A}function bg(t){return void 0!==t}function e0(t,n){return 0!=(t.flags&(n?8:16))}function qm(t,n=""){const s=Gt(),u=wr(),f=t+Mn,m=u.firstCreatePass?a(u,f,1,n,null):u.data[f],C=t0(u,s,m,n,t);s[f]=C,_l()&&wp(u,s,C,m),ko(m,!1)}let t0=(t,n,s,u,f)=>(Fo(!0),function th(t,n){return t.createText(n)}(n[Gn],u));function Py(t){return Oa("",t,""),Py}function Oa(t,n,s){const u=Gt(),f=Sh(u,t,n,s);return f!==Br&&ql(u,sr(),f),Oa}function $h(t,n,s,u,f){const m=Gt(),C=function Rh(t,n,s,u,f,m){const A=mu(t,po(),s,f);return go(2),A?n+Xe(s)+u+Xe(f)+m:Br}(m,t,n,s,u,f);return C!==Br&&ql(m,sr(),C),$h}function Kv(t,n,s,u,f,m,C,A,M){const H=Gt(),se=function yd(t,n,s,u,f,m,C,A,M,H){const we=pa(t,po(),s,f,C,M);return go(4),we?n+Xe(s)+u+Xe(f)+m+Xe(C)+A+Xe(M)+H:Br}(H,t,n,s,u,f,m,C,A,M);return se!==Br&&ql(H,sr(),se),Kv}const Tg=void 0;var g=["en",[["a","p"],["AM","PM"],Tg],[["AM","PM"],Tg,Tg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tg,"{1} 'at' {0}",Tg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ub(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let c={};function p(t){const n=function Ge(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=z(n);if(s)return s;const u=n.split("-")[0];if(s=z(u),s)return s;if("en"===u)return g;throw new Ie(701,!1)}function k(t){return p(t)[pe.PluralCase]}function z(t){return t in c||(c[t]=Kn.ng&&Kn.ng.common&&Kn.ng.common.locales&&Kn.ng.common.locales[t]),c[t]}var pe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(pe||{});const yn="en-US";let Fr=yn;function yb(t,n,s,u,f){if(t=Ke(t),Array.isArray(t))for(let m=0;m<t.length;m++)yb(t[m],n,s,u,f);else{const m=wr(),C=Gt(),A=$s();let M=su(t)?t:Ke(t.provide);const H=O_(t),se=1048575&A.providerIndexes,we=A.directiveStart,rt=A.providerIndexes>>20;if(su(t)||!t.multi){const vt=new aa(H,f,hu),Bt=Eb(M,n,f?se:se+rt,we);-1===Bt?(la(lc(A,C),m,M),vb(m,t,n.length),n.push(M),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(vt),C.push(vt)):(s[Bt]=vt,C[Bt]=vt)}else{const vt=Eb(M,n,se+rt,we),Bt=Eb(M,n,se,se+rt),kn=Bt>=0&&s[Bt];if(f&&!kn||!f&&!(vt>=0&&s[vt])){la(lc(A,C),m,M);const ur=function FI(t,n,s,u,f){const m=new aa(t,s,hu);return m.multi=[],m.index=n,m.componentProviders=0,gT(m,f,u&&!s),m}(f?kI:NI,s.length,f,u,H);!f&&kn&&(s[Bt].providerFactory=ur),vb(m,t,n.length,0),n.push(M),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(ur),C.push(ur)}else vb(m,t,vt>-1?vt:Bt,gT(s[f?Bt:vt],H,!f&&u));!f&&u&&kn&&s[Bt].componentProviders++}}}function vb(t,n,s,u){const f=su(n),m=function nv(t){return!!t.useClass}(n);if(f||m){const M=(m?Ke(n.useClass):n).prototype.ngOnDestroy;if(M){const H=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const se=H.indexOf(s);-1===se?H.push(s,[u,M]):H[se+1].push(u,M)}else H.push(s,M)}}}function gT(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function Eb(t,n,s,u){for(let f=s;f<u;f++)if(n[f]===t)return f;return-1}function NI(t,n,s,u){return bb(this.multi,[])}function kI(t,n,s,u){const f=this.multi;let m;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=za(s,s[_n],this.providerFactory.index,u);m=A.slice(0,C),bb(f,m);for(let M=C;M<A.length;M++)m.push(A[M])}else m=[],bb(f,m);return m}function bb(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function mT(t,n=[]){return s=>{s.providersResolver=(u,f)=>function OI(t,n,s){const u=wr();if(u.firstCreatePass){const f=no(t);yb(s,u.data,u.blueprint,f,!0),yb(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class Qm{}class _T{}function LI(t,n){return new Tb(t,n??null,[])}class Tb extends Qm{constructor(n,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pu(this);const f=jr(n);this._bootstrapComponents=fd(f.bootstrap),this._r3Injector=hv(n,s,[{provide:Qm,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver},...u],fe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Cb extends _T{constructor(n){super(),this.moduleType=n}create(n){return new Tb(this.moduleType,n,[])}}class yT extends Qm{constructor(n){super(),this.componentFactoryResolver=new pu(this),this.instance=null;const s=new Df([...n.providers,{provide:Qm,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver}],n.parent||Vp(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function vT(t,n,s=null){return new yT({providers:t,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let UI=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const u=sm(0,s.type),f=u.length>0?vT([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=on({token:t,providedIn:"environment",factory:()=>new t(Ot(vi))})}}return t})();function ET(t){t.getStandaloneInjector=n=>n.get(UI).getOrCreateStandaloneInjector(t)}function DT(t,n,s){const u=io()+t,f=Gt();return f[u]===Br?Yl(f,u,s?n.call(s):n()):wh(f,u)}function ST(t,n,s,u){return NT(Gt(),io(),t,n,s,u)}function RT(t,n,s,u,f){return kT(Gt(),io(),t,n,s,u,f)}function PT(t,n,s,u,f,m){return FT(Gt(),io(),t,n,s,u,f,m)}function xT(t,n,s,u,f,m,C){return function LT(t,n,s,u,f,m,C,A,M){const H=n+s;return pa(t,H,f,m,C,A)?Yl(t,H+4,M?u.call(M,f,m,C,A):u(f,m,C,A)):nE(t,H+4)}(Gt(),io(),t,n,s,u,f,m,C)}function MT(t,n,s,u,f,m,C,A){const M=io()+t,H=Gt(),se=pa(H,M,s,u,f,m);return Io(H,M+4,C)||se?Yl(H,M+5,A?n.call(A,s,u,f,m,C):n(s,u,f,m,C)):wh(H,M+5)}function OT(t,n,s,u,f,m,C,A,M){const H=io()+t,se=Gt(),we=pa(se,H,s,u,f,m);return mu(se,H+4,C,A)||we?Yl(se,H+6,M?n.call(M,s,u,f,m,C,A):n(s,u,f,m,C,A)):wh(se,H+6)}function nE(t,n){const s=t[n];return s===Br?void 0:s}function NT(t,n,s,u,f,m){const C=n+s;return Io(t,C,f)?Yl(t,C+1,m?u.call(m,f):u(f)):nE(t,C+1)}function kT(t,n,s,u,f,m,C){const A=n+s;return mu(t,A,f,m)?Yl(t,A+2,C?u.call(C,f,m):u(f,m)):nE(t,A+2)}function FT(t,n,s,u,f,m,C,A){const M=n+s;return Ah(t,M,f,m,C)?Yl(t,M+3,A?u.call(A,f,m,C):u(f,m,C)):nE(t,M+3)}function UT(t,n){const s=wr();let u;const f=t+Mn;s.firstCreatePass?(u=function QI(t,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(t===u.name)return u}}(n,s.pipeRegistry),s.data[f]=u,u.onDestroy&&(s.destroyHooks??=[]).push(f,u.onDestroy)):u=s.data[f];const m=u.factory||(u.factory=Rs(u.type)),A=Vr(hu);try{const M=Xo(!1),H=m();return Xo(M),function Oc(t,n,s,u){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=u}(s,Gt(),f,H),H}finally{Vr(A)}}function jT(t,n,s){const u=t+Mn,f=Gt(),m=cl(f,u);return rE(f,u)?NT(f,io(),n,m.transform,s,m):m.transform(s)}function BT(t,n,s,u){const f=t+Mn,m=Gt(),C=cl(m,f);return rE(m,f)?kT(m,io(),n,C.transform,s,u,C):C.transform(s,u)}function $T(t,n,s,u,f){const m=t+Mn,C=Gt(),A=cl(C,m);return rE(C,m)?FT(C,io(),n,A.transform,s,u,f,A):A.transform(s,u,f)}function rE(t,n){return t[_n].data[n].pure}function ew(){return this._results[Symbol.iterator]()}class wb{get changes(){return this._changes||(this._changes=new Dc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=wb.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=ew)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const f=function Jo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Jh(t,n,s){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],m=n[u];if(s&&(f=s(f),m=s(m)),m!==f)return!1}return!0}(u._results,f,s))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nw(t,n,s,u=!0){const f=n[_n];if(function Gy(t,n,s,u){const f=Rr+u,m=s.length;u>0&&(s[f-1][Ji]=n),u<m-Rr?(n[Ji]=s[f],Fd(s,Rr+u,n)):(s.push(n),n[Ji]=null),n[hr]=s;const C=n[Pe];null!==C&&s!==C&&function c_(t,n){const s=t[Vi];n[J]!==n[hr][hr][J]&&(t[kr]=!0),null===s?t[Vi]=[n]:s.push(n)}(C,n);const A=n[nt];null!==A&&A.insertView(t),n[ir]|=128}(f,n,t,s),u){const m=ff(s,t),C=n[Gn],A=ih(C,t[ii]);null!==A&&function Vg(t,n,s,u,f,m){u[Hr]=f,u[Fi]=n,Tl(t,u,s,1,f,m)}(f,t[Fi],C,n,A,m)}}let iE=(()=>{class t{static{this.__NG_ELEMENT_ID__=sw}}return t})();const rw=iE,iw=class extends rw{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,u){const f=function tw(t,n,s,u){const f=n.tView,A=r(t,f,s,4096&t[ir]?4096:16,null,n,null,null,null,u?.injector??null,u?.hydrationInfo??null);A[Pe]=t[n.index];const H=t[nt];return null!==H&&(A[nt]=H.createEmbeddedView(f)),rg(f,A,s),A}(this._declarationLView,this._declarationTContainer,n,{injector:s,hydrationInfo:u});return new Ch(f)}};function sw(){return E0($s(),Gt())}function E0(t,n){return 4&t.type?new iw(n,t,Wp(t,n)):null}let T0=(()=>{class t{static{this.__NG_ELEMENT_ID__=dw}}return t})();function dw(){return YT($s(),Gt())}const hw=T0,KT=class extends hw{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return Wp(this._hostTNode,this._hostLView)}get injector(){return new fs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ha(this._hostTNode,this._hostLView);if(Hu(n)){const s=ac(n,this._hostLView),u=kl(n);return new fs(s[_n].data[u+8],s)}return new fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=qT(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-Rr}createEmbeddedView(n,s,u){let f,m;"number"==typeof u?f=u:null!=u&&(f=u.index,m=u.injector);const A=n.createEmbeddedViewImpl(s||{},m,null);return this.insertImpl(A,f,false),A}createComponent(n,s,u,f,m){const C=n&&!function Vl(t){return"function"==typeof t}(n);let A;if(C)A=s;else{const hn=s||{};A=hn.index,u=hn.injector,f=hn.projectableNodes,m=hn.environmentInjector||hn.ngModuleRef}const M=C?n:new gu(Qn(n)),H=u||this.parentInjector;if(!m&&null==M.ngModule){const kn=(C?H:this.parentInjector).get(vi,null);kn&&(m=kn)}Qn(M.componentType??{});const vt=M.create(H,f,null,m);return this.insertImpl(vt.hostView,A,false),vt}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,u){const f=n._lView;if(function Oo(t){return Mr(t[hr])}(f)){const M=this.indexOf(n);if(-1!==M)this.detach(M);else{const H=f[hr],se=new KT(H,H[Fi],H[hr]);se.detach(se.indexOf(n))}}const C=this._adjustIndex(s),A=this._lContainer;return nw(A,f,C,!u),n.attachToViewContainerRef(),Fd(Ab(A),C,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=qT(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=cf(this._lContainer,s);u&&(jl(Ab(this._lContainer),s),Tp(u[_n],u))}detach(n){const s=this._adjustIndex(n,-1),u=cf(this._lContainer,s);return u&&null!=jl(Ab(this._lContainer),s)?new Ch(u):null}_adjustIndex(n,s=0){return n??this.length+s}};function qT(t){return t[8]}function Ab(t){return t[8]||(t[8]=[])}function YT(t,n){let s;const u=n[t.index];return Mr(u)?s=u:(s=tg(u,n,null,t),n[t.index]=s,Ff(n,s)),XT(s,n,t,u),new KT(s,t,n)}let XT=function QT(t,n,s,u){if(t[ii])return;let f;f=8&s.type?Tr(u):function fw(t,n){const s=t[Gn],u=s.createComment(""),f=Ui(n,t);return id(s,ih(s,f),u,function hf(t,n){return t.nextSibling(n)}(s,f),!1),u}(n,s),t[ii]=f};class Db{constructor(n){this.queryList=n,this.matches=null}clone(){return new Db(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let m=0;m<u;m++){const C=s.getByIndex(m);f.push(this.queries[C.indexInDeclarationView].clone())}return new Sb(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==oC(n,s).matches&&this.queries[s].setDirty()}}class JT{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class Rb{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const f=null!==s?s.length:0,m=this.getByIndex(u).embeddedTView(n,f);m&&(m.indexInDeclarationView=u,null!==s?s.push(m):s=[m])}return null!==s?new Rb(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Pb{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Pb(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const m=u[f];this.matchTNodeWithReadOption(n,s,mw(s,m)),this.matchTNodeWithReadOption(n,s,Aa(s,n,m,!1,!1))}else u===iE?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Aa(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===vh||f===T0||f===iE&&4&s.type)this.addMatch(s.index,-2);else{const m=Aa(s,n,f,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function mw(t,n){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function yw(t,n,s,u){return-1===s?function _w(t,n){return 11&t.type?Wp(t,n):4&t.type?E0(t,n):null}(n,t):-2===s?function vw(t,n,s){return s===vh?Wp(n,t):s===iE?E0(n,t):s===T0?YT(n,t):void 0}(t,n,u):za(t,t[_n],s,n)}function ZT(t,n,s,u){const f=n[nt].queries[u];if(null===f.matches){const m=t.data,C=s.matches,A=[];for(let M=0;M<C.length;M+=2){const H=C[M];A.push(H<0?null:yw(n,m[H],C[M+1],s.metadata.read))}f.matches=A}return f.matches}function xb(t,n,s,u){const f=t.queries.getByIndex(s),m=f.matches;if(null!==m){const C=ZT(t,n,f,s);for(let A=0;A<m.length;A+=2){const M=m[A];if(M>0)u.push(C[A/2]);else{const H=m[A+1],se=n[-M];for(let we=Rr;we<se.length;we++){const rt=se[we];rt[Pe]===rt[hr]&&xb(rt[_n],rt,H,u)}if(null!==se[Vi]){const we=se[Vi];for(let rt=0;rt<we.length;rt++){const vt=we[rt];xb(vt[_n],vt,H,u)}}}}}return u}function eC(t){const n=Gt(),s=wr(),u=xl();D(u+1);const f=oC(s,u);if(t.dirty&&function zh(t){return 4==(4&t[ir])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const m=f.crossesNgTemplate?xb(s,n,u,[]):ZT(s,n,f,u);t.reset(m,V_),t.notifyOnChanges()}return!0}return!1}function tC(t,n,s){const u=wr();u.firstCreatePass&&(sC(u,new JT(t,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),iC(u,Gt(),n)}function nC(t,n,s,u){const f=wr();if(f.firstCreatePass){const m=$s();sC(f,new JT(n,s,u),m.index),function bw(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}iC(f,Gt(),s)}function rC(){return function Ew(t,n){return t[nt].queries[n].queryList}(Gt(),xl())}function iC(t,n,s){const u=new wb(4==(4&s));(function cr(t,n,s,u){const f=X_(n);f.push(s),t.firstCreatePass&&Q_(t).push(u,f.length-1)})(t,n,u,u.destroy),null===n[nt]&&(n[nt]=new Sb),n[nt].queries.push(new Db(u))}function sC(t,n,s){null===t.queries&&(t.queries=new Rb),t.queries.track(new Pb(n,s))}function oC(t,n){return t.queries.getByIndex(n)}function aC(t,n){return E0(t,n)}function Mb(t){return!!jr(t)}const IC=new fn("Application Initializer");let Lb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=pn(IC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const m=f();if(E(m))s.push(m);else if(j(m)){const C=new Promise((A,M)=>{m.subscribe({complete:A,error:M})});s.push(C)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(f=>{this.reject(f)}),0===s.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wC=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const I0=new fn("LocaleId",{providedIn:"root",factory:()=>pn(I0,wn.Optional|wn.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||yn}()}),Gw=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let AC=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class zw{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let Ww=(()=>{class t{compileModuleSync(s){return new Cb(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),m=fd(jr(s).declarations).reduce((C,A)=>{const M=Qn(A);return M&&C.push(new gu(M)),C},[]);return new zw(u,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const PC=new fn(""),xC=new fn("");let jb,pA=(()=>{class t{constructor(s,u,f){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jb||(function gA(t){jb=t}(f),f.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{To.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,f){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==m),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:f})}whenStable(s,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,f){return[]}static{this.\u0275fac=function(u){return new(u||t)(Ot(To),Ot(MC),Ot(xC))}}static{this.\u0275prov=on({token:t,factory:t.\u0275fac})}}return t})(),MC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return jb?.findTestabilityInTree(this,s,u)??null}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Ig=null;const OC=new fn("AllowMultipleToken"),Bb=new fn("PlatformDestroyListeners"),$b=new fn("appBootstrapListener");class yA{constructor(n,s){this.name=n,this.token=s}}function FC(t,n,s=[]){const u=`Platform: ${n}`,f=new fn(u);return(m=[])=>{let C=Gb();if(!C||C.injector.get(OC,!1)){const A=[...s,...m,{provide:f,useValue:!0}];t?t(A):function vA(t){if(Ig&&!Ig.get(OC,!1))throw new Ie(400,!1);(function NC(){!function Va(t){Ko=t}(()=>{throw new Ie(600,!1)})})(),Ig=t;const n=t.get(VC);(function kC(t){t.get(Up,null)?.forEach(s=>s())})(t)}(function LC(t=[],n){return Ic.create({name:n,providers:[{provide:If,useValue:"platform"},{provide:Bb,useValue:new Set([()=>Ig=null])},...t]})}(A,u))}return function bA(t){const n=Gb();if(!n)throw new Ie(401,!1);return n}()}}function Gb(){return Ig?.get(VC)??null}let VC=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const f=function TA(t="zone.js",n){return"noop"===t?new z_:"zone.js"===t?new To(n):t}(u?.ngZone,function UC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const m=function VI(t,n,s){return new Tb(t,n,s)}(s.moduleType,this.injector,function HC(t){return[{provide:To,useFactory:t},{provide:ld,multi:!0,useFactory:()=>{const n=pn(IA,{optional:!0});return()=>n.initialize()}},{provide:GC,useFactory:CA},{provide:bE,useFactory:gv}]}(()=>f)),C=m.injector.get(Cl,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:M=>{C.handleError(M)}});m.onDestroy(()=>{A0(this._modules,m),A.unsubscribe()})}),function jC(t,n,s){try{const u=s();return E(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(C,f,()=>{const A=m.injector.get(Lb);return A.runInitializers(),A.donePromise.then(()=>(function vr(t){ct(t,"Expected localeId to be defined"),"string"==typeof t&&(Fr=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(I0,yn)||yn),this._moduleDoBootstrap(m),m))})})}bootstrapModule(s,u=[]){const f=BC({},u);return function mA(t,n,s){const u=new Cb(s);return Promise.resolve(u)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(s){const u=s.injector.get(Ly);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new Ie(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(Bb,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||t)(Ot(Ic))}}static{this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function BC(t,n){return Array.isArray(n)?n.reduce(BC,t):{...t,...n}}let Ly=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pn(GC),this.zoneIsStable=pn(bE),this.componentTypes=[],this.components=[],this.isStable=pn(AC).hasPendingTasks.pipe((0,Ve.n)(s=>s?(0,Ce.of)(!1):this.zoneIsStable),(0,xe.F)(),(0,ye.u)()),this._injector=pn(vi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const f=s instanceof Hp;if(!this._injector.get(Lb).done)throw!f&&zi(s),new Ie(405,!1);let C;C=f?s:this._injector.get(Cc).resolveComponentFactory(s),this.componentTypes.push(C.componentType);const A=function _A(t){return t.isBoundToModule}(C)?void 0:this._injector.get(Qm),H=C.create(Ic.NULL,[],u||C.selector,A),se=H.location.nativeElement,we=H.injector.get(PC,null);return we?.registerApplication(se),H.onDestroy(()=>{this.detachView(H.hostView),A0(this.components,H),we?.unregisterApplication(se)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;A0(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get($b,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>A0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ie(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function A0(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const GC=new fn("",{providedIn:"root",factory:()=>pn(Cl).handleError.bind(void 0)});function CA(){const t=pn(To),n=pn(Cl);return s=>t.runOutsideAngular(()=>n.handleError(s))}let IA=(()=>{class t{constructor(){this.zone=pn(To),this.applicationRef=pn(Ly)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function AA(){return!1}let DA=(()=>{class t{static{this.__NG_ELEMENT_ID__=SA}}return t})();function SA(t){return function RA(t,n,s){if(us(t)&&!s){const u=Gi(t.index,n);return new Ch(u,u)}return 47&t.type?new Ch(n[J],n):null}($s(),Gt(),16==(16&t))}class YC{constructor(){}supports(n){return ug(n)}create(n){return new NA(n)}}const OA=(t,n)=>n;class NA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||OA}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,f=0,m=null;for(;s||u;){const C=!u||s&&s.currentIndex<QC(u,f,m)?s:u,A=QC(C,f,m),M=C.currentIndex;if(C===u)f--,u=u._nextRemoved;else if(s=s._next,null==C.previousIndex)f++;else{m||(m=[]);const H=A-f,se=M-f;if(H!=se){for(let rt=0;rt<H;rt++){const vt=rt<m.length?m[rt]:m[rt]=0,Bt=vt+rt;se<=Bt&&Bt<H&&(m[rt]=vt+1)}m[C.previousIndex]=se-H}}A!==M&&n(C,A,M)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!ug(n))throw new Ie(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,m,C,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)m=n[A],C=this._trackByFn(A,m),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,m,C,A)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,C,A),u=!0),s=s._next}else f=0,function jf(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,A=>{C=this._trackByFn(f,A),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,A,C,f)),Object.is(s.item,A)||this._addIdentityChange(s,A)):(s=this._mismatch(s,A,C,f),u=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,f){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,m,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,m,f)):n=this._addAfter(new kA(s,u),m,f),n}_verifyReinsertion(n,s,u,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?n=this._reinsertAfter(m,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,m=n._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new XC),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class kA{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class XC{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new FA,this.map.set(s,u)),u.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QC(t,n,s){const u=t.previousIndex;if(null===u)return u;let f=0;return s&&u<s.length&&(f=s[u]),u+n+f}class JC{constructor(){}supports(n){return n instanceof Map||Rc(n)}create(){return new LA}}class LA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Rc(n)))throw new Ie(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(f,u);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const m=f._prev,C=f._next;return m&&(m._next=C),C&&(C._prev=m),f._next=null,f._prev=null,f}const u=new VA(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class VA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ZC(){return new qb([new YC])}let qb=(()=>{class t{static{this.\u0275prov=on({token:t,providedIn:"root",factory:ZC})}constructor(s){this.factories=s}static create(s,u){if(null!=u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||ZC()),deps:[[t,new Zu,new bl]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(null!=u)return u;throw new Ie(901,!1)}}return t})();function eI(){return new Yb([new JC])}let Yb=(()=>{class t{static{this.\u0275prov=on({token:t,providedIn:"root",factory:eI})}constructor(s){this.factories=s}static create(s,u){if(u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||eI()),deps:[[t,new Zu,new bl]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(u)return u;throw new Ie(901,!1)}}return t})();const BA=FC(null,"core",[]);let $A=(()=>{class t{constructor(s){}static{this.\u0275fac=function(u){return new(u||t)(Ot(Ly))}}static{this.\u0275mod=ni({type:t})}static{this.\u0275inj=Zt({})}}return t})();function ZA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function t1(t){const n=Qn(t);if(!n)return null;const s=new gu(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(sn,Ze,F)=>{F.d(Ze,{DS:()=>xt,X8:()=>je,$z:()=>Je,UB:()=>Fn,yy:()=>ht,ZP:()=>Ee,AU:()=>Xt,CP:()=>Nt,gF:()=>qe}),F(2438);var le=F(177),i=F(7705),ve=F(5407),_e=F(9253),Ce=F(1413),ye=F(7673),Ve=F(1985),xe=F(8455),Y=F(7786),te=F(941),fe=F(5558),Ae=F(6354),Ne=F(6129);class de extends Ce.B{constructor(ke=1/0,st=1/0,tn=Ne.U){super(),this._bufferSize=ke,this._windowTime=st,this._timestampProvider=tn,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=st===1/0,this._bufferSize=Math.max(1,ke),this._windowTime=Math.max(1,st)}next(ke){const{isStopped:st,_buffer:tn,_infiniteTimeWindow:ze,_timestampProvider:Re,_windowTime:Te}=this;st||(tn.push(ke),!ze&&tn.push(Re.now()+Te)),this._trimBuffer(),super.next(ke)}_subscribe(ke){this._throwIfClosed(),this._trimBuffer();const st=this._innerSubscribe(ke),{_infiniteTimeWindow:tn,_buffer:ze}=this,Re=ze.slice();for(let Te=0;Te<Re.length&&!ke.closed;Te+=tn?1:2)ke.next(Re[Te]);return this._checkFinalizedStatuses(ke),st}_trimBuffer(){const{_bufferSize:ke,_timestampProvider:st,_buffer:tn,_infiniteTimeWindow:ze}=this,Re=(ze?1:2)*ke;if(ke<1/0&&Re<tn.length&&tn.splice(0,tn.length-Re),!ze){const Te=st.now();let Le=0;for(let ct=1;ct<tn.length&&tn[ct]<=Te;ct+=2)Le=ct;Le&&tn.splice(0,Le+1)}}}var Ke=F(7647);function mt(lt,ke,st){let tn,ze=!1;return lt&&"object"==typeof lt?({bufferSize:tn=1/0,windowTime:ke=1/0,refCount:ze=!1,scheduler:st}=lt):tn=lt??1/0,(0,Ke.u)({connector:()=>new de(tn,ke,st),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ze})}var Ft=F(1594),Jt=F(8071);function He(lt,ke){return(0,Jt.T)(ke)?(0,fe.n)(()=>lt,ke):(0,fe.n)(()=>lt)}var Ie=F(6745),tt=F(5964),Xe=F(7935);const Nt=new i.nKC("angularfire2.auth.use-emulator"),ht=new i.nKC("angularfire2.auth.settings"),Ee=new i.nKC("angularfire2.auth.tenant-id"),Je=new i.nKC("angularfire2.auth.langugage-code"),Xt=new i.nKC("angularfire2.auth.use-device-language"),Fn=new i.nKC("angularfire.auth.persistence"),qe=(lt,ke,st,tn,ze,Re,Te,Le)=>(0,_e.BM)(`${lt.name}.auth`,"AngularFireAuth",lt.name,()=>{const ct=ke.runOutsideAngular(()=>lt.auth());if(st&&ct.useEmulator(...st),tn&&(ct.tenantId=tn),ct.languageCode=ze,Re&&ct.useDeviceLanguage(),Te)for(const[it,jt]of Object.entries(Te))ct.settings[it]=jt;return Le&&ct.setPersistence(Le),ct},[st,tn,ze,Re,Te,Le]);let xt=(()=>{class lt{authState;idToken;user;idTokenResult;credential;constructor(st,tn,ze,Re,Te,Le,ct,it,jt,An,rr,on){const Un=new Ce.B,Zt=(0,ye.of)(void 0).pipe((0,te.Q)(Te.outsideAngular),(0,fe.n)(()=>Re.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2438)))),(0,Ae.T)(()=>(0,_e.iB)(st,Re,tn)),(0,Ae.T)(Hn=>qe(Hn,Re,Le,it,jt,An,ct,rr)),mt({bufferSize:1,refCount:!1}));if((0,le.Vy)(ze))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ye.of)(null);else{Zt.pipe((0,Ft.$)()).subscribe();const Hn=Zt.pipe((0,fe.n)($t=>$t.getRedirectResult().then(Er=>Er,()=>null)),ve.U0,mt({bufferSize:1,refCount:!1})),xn=Zt.pipe((0,fe.n)($t=>new Ve.c(Er=>({unsubscribe:Re.runOutsideAngular(()=>$t.onAuthStateChanged(an=>Er.next(an),an=>Er.error(an),()=>Er.complete()))})))),Kt=Zt.pipe((0,fe.n)($t=>new Ve.c(Er=>({unsubscribe:Re.runOutsideAngular(()=>$t.onIdTokenChanged(an=>Er.next(an),an=>Er.error(an),()=>Er.complete()))}))));this.authState=Hn.pipe(He(xn),(0,Ie._)(Te.outsideAngular),(0,te.Q)(Te.insideAngular)),this.user=Hn.pipe(He(Kt),(0,Ie._)(Te.outsideAngular),(0,te.Q)(Te.insideAngular)),this.idToken=this.user.pipe((0,fe.n)($t=>$t?(0,xe.H)($t.getIdToken()):(0,ye.of)(null))),this.idTokenResult=this.user.pipe((0,fe.n)($t=>$t?(0,xe.H)($t.getIdTokenResult()):(0,ye.of)(null))),this.credential=(0,Y.h)(Hn,Un,this.authState.pipe((0,tt.p)($t=>!$t))).pipe((0,Ae.T)($t=>$t?.user?$t:null),(0,Ie._)(Te.outsideAngular),(0,te.Q)(Te.insideAngular))}return(0,_e.Gt)(this,Zt,Re,{spy:{apply:(Hn,xn,Kt)=>{(Hn.startsWith("signIn")||Hn.startsWith("createUser"))&&Kt.then($t=>Un.next($t))}}})}static \u0275fac=function(tn){return new(tn||lt)(i.KVO(_e.rx),i.KVO(_e.uP,8),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(ve.u0),i.KVO(Nt,8),i.KVO(ht,8),i.KVO(Ee,8),i.KVO(Je,8),i.KVO(Xt,8),i.KVO(Fn,8),i.KVO(ve.Jv,8))};static \u0275prov=i.jDH({token:lt,factory:lt.\u0275fac,providedIn:"any"})}return lt})(),je=(()=>{class lt{constructor(){Xe.A.registerVersion("angularfire",ve.xv.full,"auth-compat")}static \u0275fac=function(tn){return new(tn||lt)};static \u0275mod=i.$C({type:lt});static \u0275inj=i.G2t({providers:[xt]})}return lt})()},6340:(sn,Ze,F)=>{F.d(Ze,{Qe:()=>Si,cM:()=>ot});var o=F(177),le=F(7705),i=F(5407),ve=F(9253),_e=F(1977),Ce=F(3236),ye=F(1985),Ve=F(8455),xe=F(7673),Y=F(9172),te=F(9974),fe=F(4360);function Ae(){return(0,te.N)((It,ue)=>{let Fe,St=!1;It.subscribe((0,fe._)(ue,De=>{const Vt=Fe;Fe=De,St&&ue.next([Vt,De]),St=!0}))})}var Ne=F(6354),de=F(2816),Ke=F(3294),mt=F(5964),Jt=(F(2438),F(3345)),He=F(9583),Ie=F(1076),tt=F(1362);function Nt(It,ue){if(void 0===ue)return{merge:!1};if(void 0!==ue.mergeFields&&void 0!==ue.merge)throw new He.W6("invalid-argument",`Invalid options passed to function ${It}(): You cannot specify both "merge" and "mergeFields".`);return ue}function ht(){if(typeof Uint8Array>"u")throw new He.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Ee(){if(!(0,He.qG)())throw new He.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Je{constructor(ue){this._delegate=ue}static fromBase64String(ue){return Ee(),new Je(He.Ix.fromBase64String(ue))}static fromUint8Array(ue){return ht(),new Je(He.Ix.fromUint8Array(ue))}toBase64(){return Ee(),this._delegate.toBase64()}toUint8Array(){return ht(),this._delegate.toUint8Array()}isEqual(ue){return this._delegate.isEqual(ue._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Xt(It){return function Fn(It,ue){if("object"!=typeof It||null===It)return!1;const Fe=It;for(const St of ue)if(St in Fe&&"function"==typeof Fe[St])return!0;return!1}(It,["next","error","complete"])}class qe{enableIndexedDbPersistence(ue,Fe){return(0,He.ol)(ue._delegate,{forceOwnership:Fe})}enableMultiTabIndexedDbPersistence(ue){return(0,He.Q5)(ue._delegate)}clearIndexedDbPersistence(ue){return(0,He.me)(ue._delegate)}}class xt{constructor(ue,Fe,St){this._delegate=Fe,this._persistenceProvider=St,this.INTERNAL={delete:()=>this.terminate()},ue instanceof He.cm||(this._appCompat=ue)}get _databaseId(){return this._delegate._databaseId}settings(ue){const Fe=this._delegate._getSettings();!ue.merge&&Fe.host!==ue.host&&(0,He.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ue.merge&&delete(ue=Object.assign(Object.assign({},Fe),ue)).merge,this._delegate._setSettings(ue)}useEmulator(ue,Fe,St={}){(0,He.vN)(this._delegate,ue,Fe,St)}enableNetwork(){return(0,He.Os)(this._delegate)}disableNetwork(){return(0,He.LA)(this._delegate)}enablePersistence(ue){let Fe=!1,St=!1;return ue&&(Fe=!!ue.synchronizeTabs,St=!!ue.experimentalForceOwningTab,(0,He.c8)("synchronizeTabs",Fe,"experimentalForceOwningTab",St)),Fe?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,St)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,He.iB)(this._delegate)}onSnapshotsInSync(ue){return(0,He.FC)(this._delegate,ue)}get app(){if(!this._appCompat)throw new He.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ue){try{return new on(this,(0,He.rJ)(this._delegate,ue))}catch(Fe){throw Re(Fe,"collection()","Firestore.collection()")}}doc(ue){try{return new ze(this,(0,He.H9)(this._delegate,ue))}catch(Fe){throw Re(Fe,"doc()","Firestore.doc()")}}collectionGroup(ue){try{return new jt(this,(0,He.Cs)(this._delegate,ue))}catch(Fe){throw Re(Fe,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ue){return(0,He.c4)(this._delegate,Fe=>ue(new ke(this,Fe)))}batch(){return(0,He.Ws)(this._delegate),new st(new He.GA(this._delegate,ue=>(0,He.z6)(this._delegate,ue)))}loadBundle(ue){return(0,He.po)(this._delegate,ue)}namedQuery(ue){return(0,He.St)(this._delegate,ue).then(Fe=>Fe?new jt(this,Fe):null)}}class je extends He.fS{constructor(ue){super(),this.firestore=ue}convertBytes(ue){return new Je(new He.Ix(ue))}convertReference(ue){const Fe=this.convertDocumentKey(ue,this.firestore._databaseId);return ze.forKey(Fe,this.firestore,null)}}class ke{constructor(ue,Fe){this._firestore=ue,this._delegate=Fe,this._userDataWriter=new je(ue)}get(ue){const Fe=Un(ue);return this._delegate.get(Fe).then(St=>new ct(this._firestore,new He.Wq(this._firestore._delegate,this._userDataWriter,St._key,St._document,St.metadata,Fe.converter)))}set(ue,Fe,St){const De=Un(ue);return St?(Nt("Transaction.set",St),this._delegate.set(De,Fe,St)):this._delegate.set(De,Fe),this}update(ue,Fe,St,...De){const Vt=Un(ue);return 2===arguments.length?this._delegate.update(Vt,Fe):this._delegate.update(Vt,Fe,St,...De),this}delete(ue){const Fe=Un(ue);return this._delegate.delete(Fe),this}}class st{constructor(ue){this._delegate=ue}set(ue,Fe,St){const De=Un(ue);return St?(Nt("WriteBatch.set",St),this._delegate.set(De,Fe,St)):this._delegate.set(De,Fe),this}update(ue,Fe,St,...De){const Vt=Un(ue);return 2===arguments.length?this._delegate.update(Vt,Fe):this._delegate.update(Vt,Fe,St,...De),this}delete(ue){const Fe=Un(ue);return this._delegate.delete(Fe),this}commit(){return this._delegate.commit()}}class tn{constructor(ue,Fe,St){this._firestore=ue,this._userDataWriter=Fe,this._delegate=St}fromFirestore(ue,Fe){const St=new He.YQ(this._firestore._delegate,this._userDataWriter,ue._key,ue._document,ue.metadata,null);return this._delegate.fromFirestore(new it(this._firestore,St),Fe??{})}toFirestore(ue,Fe){return Fe?this._delegate.toFirestore(ue,Fe):this._delegate.toFirestore(ue)}static getInstance(ue,Fe){const St=tn.INSTANCES;let De=St.get(ue);De||(De=new WeakMap,St.set(ue,De));let Vt=De.get(Fe);return Vt||(Vt=new tn(ue,new je(ue),Fe),De.set(Fe,Vt)),Vt}}tn.INSTANCES=new WeakMap;class ze{constructor(ue,Fe){this.firestore=ue,this._delegate=Fe,this._userDataWriter=new je(ue)}static forPath(ue,Fe,St){if(ue.length%2!=0)throw new He.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ue.canonicalString()} has ${ue.length}`);return new ze(Fe,new He.T1(Fe._delegate,St,new He.K$(ue)))}static forKey(ue,Fe,St){return new ze(Fe,new He.T1(Fe._delegate,St,ue))}get id(){return this._delegate.id}get parent(){return new on(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ue){try{return new on(this.firestore,(0,He.rJ)(this._delegate,ue))}catch(Fe){throw Re(Fe,"collection()","DocumentReference.collection()")}}isEqual(ue){return(ue=(0,Ie.Ku)(ue))instanceof He.T1&&(0,He.yx)(this._delegate,ue)}set(ue,Fe){Fe=Nt("DocumentReference.set",Fe);try{return Fe?(0,He.BN)(this._delegate,ue,Fe):(0,He.BN)(this._delegate,ue)}catch(St){throw Re(St,"setDoc()","DocumentReference.set()")}}update(ue,Fe,...St){try{return 1===arguments.length?(0,He.mZ)(this._delegate,ue):(0,He.mZ)(this._delegate,ue,Fe,...St)}catch(De){throw Re(De,"updateDoc()","DocumentReference.update()")}}delete(){return(0,He.kd)(this._delegate)}onSnapshot(...ue){const Fe=Te(ue),St=Le(ue,De=>new ct(this.firestore,new He.Wq(this.firestore._delegate,this._userDataWriter,De._key,De._document,De.metadata,this._delegate.converter)));return(0,He.aQ)(this._delegate,Fe,St)}get(ue){let Fe;return Fe="cache"===ue?.source?(0,He.nY)(this._delegate):"server"===ue?.source?(0,He._e)(this._delegate):(0,He.x7)(this._delegate),Fe.then(St=>new ct(this.firestore,new He.Wq(this.firestore._delegate,this._userDataWriter,St._key,St._document,St.metadata,this._delegate.converter)))}withConverter(ue){return new ze(this.firestore,this._delegate.withConverter(ue?tn.getInstance(this.firestore,ue):null))}}function Re(It,ue,Fe){return It.message=It.message.replace(ue,Fe),It}function Te(It){for(const ue of It)if("object"==typeof ue&&!Xt(ue))return ue;return{}}function Le(It,ue){var Fe,St;let De;return De=Xt(It[0])?It[0]:Xt(It[1])?It[1]:"function"==typeof It[0]?{next:It[0],error:It[1],complete:It[2]}:{next:It[1],error:It[2],complete:It[3]},{next:Vt=>{De.next&&De.next(ue(Vt))},error:null===(Fe=De.error)||void 0===Fe?void 0:Fe.bind(De),complete:null===(St=De.complete)||void 0===St?void 0:St.bind(De)}}class ct{constructor(ue,Fe){this._firestore=ue,this._delegate=Fe}get ref(){return new ze(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ue){return this._delegate.data(ue)}get(ue,Fe){return this._delegate.get(ue,Fe)}isEqual(ue){return(0,He.lN)(this._delegate,ue._delegate)}}class it extends ct{data(ue){const Fe=this._delegate.data(ue);return this._delegate._converter||(0,He.bI)(void 0!==Fe,"Document in a QueryDocumentSnapshot should exist"),Fe}}class jt{constructor(ue,Fe){this.firestore=ue,this._delegate=Fe,this._userDataWriter=new je(ue)}where(ue,Fe,St){try{return new jt(this.firestore,(0,He.P)(this._delegate,(0,He._M)(ue,Fe,St)))}catch(De){throw Re(De,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ue,Fe){try{return new jt(this.firestore,(0,He.P)(this._delegate,(0,He.My)(ue,Fe)))}catch(St){throw Re(St,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ue){try{return new jt(this.firestore,(0,He.P)(this._delegate,(0,He.AB)(ue)))}catch(Fe){throw Re(Fe,"limit()","Query.limit()")}}limitToLast(ue){try{return new jt(this.firestore,(0,He.P)(this._delegate,(0,He.$1)(ue)))}catch(Fe){throw Re(Fe,"limitToLast()","Query.limitToLast()")}}startAt(...ue){try{return new jt(this.firestore,(0,He.P)(this._delegate,(0,He.EO)(...ue)))}catch(Fe){throw Re(Fe,"startAt()","Query.startAt()")}}startAfter(...ue){try{return new jt(this.firestore,(0,He.P)(this._delegate,(0,He.HM)(...ue)))}catch(Fe){throw Re(Fe,"startAfter()","Query.startAfter()")}}endBefore(...ue){try{return new jt(this.firestore,(0,He.P)(this._delegate,(0,He.rf)(...ue)))}catch(Fe){throw Re(Fe,"endBefore()","Query.endBefore()")}}endAt(...ue){try{return new jt(this.firestore,(0,He.P)(this._delegate,(0,He.FD)(...ue)))}catch(Fe){throw Re(Fe,"endAt()","Query.endAt()")}}isEqual(ue){return(0,He.B)(this._delegate,ue._delegate)}get(ue){let Fe;return Fe="cache"===ue?.source?(0,He.kU)(this._delegate):"server"===ue?.source?(0,He.Rr)(this._delegate):(0,He.GG)(this._delegate),Fe.then(St=>new rr(this.firestore,new He.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,St._snapshot)))}onSnapshot(...ue){const Fe=Te(ue),St=Le(ue,De=>new rr(this.firestore,new He.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,De._snapshot)));return(0,He.aQ)(this._delegate,Fe,St)}withConverter(ue){return new jt(this.firestore,this._delegate.withConverter(ue?tn.getInstance(this.firestore,ue):null))}}class An{constructor(ue,Fe){this._firestore=ue,this._delegate=Fe}get type(){return this._delegate.type}get doc(){return new it(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rr{constructor(ue,Fe){this._firestore=ue,this._delegate=Fe}get query(){return new jt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ue=>new it(this._firestore,ue))}docChanges(ue){return this._delegate.docChanges(ue).map(Fe=>new An(this._firestore,Fe))}forEach(ue,Fe){this._delegate.forEach(St=>{ue.call(Fe,new it(this._firestore,St))})}isEqual(ue){return(0,He.lN)(this._delegate,ue._delegate)}}class on extends jt{constructor(ue,Fe){super(ue,Fe),this.firestore=ue,this._delegate=Fe}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ue=this._delegate.parent;return ue?new ze(this.firestore,ue):null}doc(ue){try{return new ze(this.firestore,void 0===ue?(0,He.H9)(this._delegate):(0,He.H9)(this._delegate,ue))}catch(Fe){throw Re(Fe,"doc()","CollectionReference.doc()")}}add(ue){return(0,He.gS)(this._delegate,ue).then(Fe=>new ze(this.firestore,Fe))}isEqual(ue){return(0,He.yx)(this._delegate,ue._delegate)}withConverter(ue){return new on(this.firestore,this._delegate.withConverter(ue?tn.getInstance(this.firestore,ue):null))}}function Un(It){return(0,He.lo)(It,He.T1)}class Zt{constructor(...ue){this._delegate=new He.uY(...ue)}static documentId(){return new Zt(He.FA.keyField().canonicalString())}isEqual(ue){return(ue=(0,Ie.Ku)(ue))instanceof He.uY&&this._delegate._internalPath.isEqual(ue._internalPath)}}class Hn{constructor(ue){this._delegate=ue}static serverTimestamp(){const ue=(0,He.O5)();return ue._methodName="FieldValue.serverTimestamp",new Hn(ue)}static delete(){const ue=(0,He.CL)();return ue._methodName="FieldValue.delete",new Hn(ue)}static arrayUnion(...ue){const Fe=(0,He.hq)(...ue);return Fe._methodName="FieldValue.arrayUnion",new Hn(Fe)}static arrayRemove(...ue){const Fe=(0,He.C3)(...ue);return Fe._methodName="FieldValue.arrayRemove",new Hn(Fe)}static increment(ue){const Fe=(0,He.GV)(ue);return Fe._methodName="FieldValue.increment",new Hn(Fe)}isEqual(ue){return this._delegate.isEqual(ue._delegate)}}const xn={Firestore:xt,GeoPoint:He.Ci,Timestamp:He.Dc,Blob:Je,Transaction:ke,WriteBatch:st,DocumentReference:ze,DocumentSnapshot:ct,Query:jt,QueryDocumentSnapshot:it,QuerySnapshot:rr,CollectionReference:on,FieldPath:Zt,FieldValue:Hn,setLogLevel:function lt(It){(0,He.He)(It)},CACHE_SIZE_UNLIMITED:He.H6};!function $t(It){(function Kt(It,ue){It.INTERNAL.registerComponent(new tt.uA("firestore-compat",Fe=>{const St=Fe.getProvider("app-compat").getImmediate(),De=Fe.getProvider("firestore").getImmediate();return ue(St,De)},"PUBLIC").setServiceProps(Object.assign({},xn)))})(It,(ue,Fe)=>new xt(ue,Fe,new qe)),It.registerVersion("@firebase/firestore-compat","0.3.38")}(Jt.A);var Er=F(7935);function xr(It,ue){return function an(It,ue=Ce.E){return new ye.c(Fe=>{let St;return null!=ue?ue.schedule(()=>{St=It.onSnapshot({includeMetadataChanges:!0},Fe)}):St=It.onSnapshot({includeMetadataChanges:!0},Fe),()=>{St?.()}})}(It,ue)}function zt(It,ue){return xr(It,ue).pipe((0,Ne.T)(Fe=>({payload:Fe,type:"query"})))}class wn{ref;afs;constructor(ue,Fe){this.ref=ue,this.afs=Fe}set(ue,Fe){return this.ref.set(ue,Fe)}update(ue){return this.ref.update(ue)}delete(){return this.ref.delete()}collection(ue,Fe){const St=this.ref.collection(ue),{ref:De,query:Vt}=Bn(St,Fe);return new di(De,Vt,this.afs)}snapshotChanges(){return function Jn(It,ue){return xr(It,ue).pipe((0,Y.Z)(void 0),Ae(),(0,Ne.T)(Fe=>{const[St,De]=Fe;return De.exists?St?.exists?{payload:De,type:"modified"}:{payload:De,type:"added"}:{payload:De,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ue={}){return this.snapshotChanges().pipe((0,Ne.T)(({payload:Fe})=>ue.idField?{...Fe.data(),[ue.idField]:Fe.id}:Fe.data()))}get(ue){return(0,Ve.H)(this.ref.get(ue)).pipe(i.U0)}}function Wn(It,ue){return zt(It,ue).pipe((0,Y.Z)(void 0),Ae(),(0,Ne.T)(Fe=>{const[St,De]=Fe,Vt=De.payload.docChanges(),Se=Vt.map(ut=>({type:ut.type,payload:ut}));return St&&JSON.stringify(St.payload.metadata)!==JSON.stringify(De.payload.metadata)&&De.payload.docs.forEach((ut,vn)=>{const yt=Vt.find(x=>x.doc.ref.isEqual(ut.ref)),$=St?.payload.docs.find(x=>x.ref.isEqual(ut.ref));yt&&JSON.stringify(yt.doc.metadata)===JSON.stringify(ut.metadata)||!yt&&$&&JSON.stringify($.metadata)===JSON.stringify(ut.metadata)||Se.push({type:"modified",payload:{oldIndex:vn,newIndex:vn,type:"modified",doc:ut}})}),Se}))}function Cn(It,ue,Fe){return Wn(It,Fe).pipe((0,de.S)((St,De)=>function Vr(It,ue,Fe){return ue.forEach(St=>{Fe.indexOf(St.type)>-1&&(It=function ei(It,ue){switch(ue.type){case"added":if(!It[ue.newIndex]||!It[ue.newIndex].doc.ref.isEqual(ue.doc.ref))return Sr(It,ue.newIndex,0,ue);break;case"modified":if(null==It[ue.oldIndex]||It[ue.oldIndex].doc.ref.isEqual(ue.doc.ref)){if(ue.oldIndex!==ue.newIndex){const Fe=It.slice();return Fe.splice(ue.oldIndex,1),Fe.splice(ue.newIndex,0,ue),Fe}return Sr(It,ue.newIndex,1,ue)}break;case"removed":if(It[ue.oldIndex]&&It[ue.oldIndex].doc.ref.isEqual(ue.doc.ref))return Sr(It,ue.oldIndex,1)}return It}(It,St))}),It}(St,De.map(Vt=>Vt.payload),ue),[]),(0,Ke.F)(),(0,Ne.T)(St=>St.map(De=>({type:De.type,payload:De}))))}function Sr(It,ue,Fe,...St){const De=It.slice();return De.splice(ue,Fe,...St),De}function Kn(It){return(!It||0===It.length)&&(It=["added","removed","modified"]),It}class di{ref;query;afs;constructor(ue,Fe,St){this.ref=ue,this.query=Fe,this.afs=St}stateChanges(ue){let Fe=Wn(this.query,this.afs.schedulers.outsideAngular);return ue&&ue.length>0&&(Fe=Fe.pipe((0,Ne.T)(St=>St.filter(De=>ue.indexOf(De.type)>-1)))),Fe.pipe((0,Y.Z)(void 0),Ae(),(0,mt.p)(([St,De])=>De.length>0||!St),(0,Ne.T)(([,St])=>St),i.U0)}auditTrail(ue){return this.stateChanges(ue).pipe((0,de.S)((Fe,St)=>[...Fe,...St],[]))}snapshotChanges(ue){const Fe=Kn(ue);return Cn(this.query,Fe,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ue={}){return zt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ne.T)(Fe=>Fe.payload.docs.map(St=>ue.idField?{...St.data(),[ue.idField]:St.id}:St.data())),i.U0)}get(ue){return(0,Ve.H)(this.query.get(ue)).pipe(i.U0)}add(ue){return this.ref.add(ue)}doc(ue){return new wn(this.ref.doc(ue),this.afs)}}class ys{query;afs;constructor(ue,Fe){this.query=ue,this.afs=Fe}stateChanges(ue){return ue&&0!==ue.length?Wn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ne.T)(Fe=>Fe.filter(St=>ue.indexOf(St.type)>-1)),(0,mt.p)(Fe=>Fe.length>0),i.U0):Wn(this.query,this.afs.schedulers.outsideAngular).pipe(i.U0)}auditTrail(ue){return this.stateChanges(ue).pipe((0,de.S)((Fe,St)=>[...Fe,...St],[]))}snapshotChanges(ue){const Fe=Kn(ue);return Cn(this.query,Fe,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ue={}){return zt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ne.T)(St=>St.payload.docs.map(De=>ue.idField?{[ue.idField]:De.id,...De.data()}:De.data())),i.U0)}get(ue){return(0,Ve.H)(this.query.get(ue)).pipe(i.U0)}}const fn=new le.nKC("angularfire2.enableFirestorePersistence"),ti=new le.nKC("angularfire2.firestore.persistenceSettings"),er=new le.nKC("angularfire2.firestore.settings"),Ir=new le.nKC("angularfire2.firestore.use-emulator");function Bn(It,ue=(Fe=>Fe)){return{query:ue(It),ref:It}}let Si=(()=>{class It{schedulers;firestore;persistenceEnabled$;constructor(Fe,St,De,Vt,Se,ut,vn,yt,$,x,L,ie,me,pt,Ot,ln,pn){this.schedulers=vn;const Rn=(0,ve.iB)(Fe,ut,St),br=$;x&&(0,_e.gF)(Rn,ut,L,me,pt,Ot,ie,ln),[this.firestore,this.persistenceEnabled$]=(0,ve.BM)(`${Rn.name}.firestore`,"AngularFirestore",Rn.name,()=>{const cn=ut.runOutsideAngular(()=>Rn.firestore());if(Vt&&cn.settings(Vt),br&&cn.useEmulator(...br),De&&!(0,o.Vy)(Se)){const Gr=()=>{try{return(0,Ve.H)(cn.enablePersistence(yt||void 0).then(()=>!0,()=>!1))}catch(dr){return typeof console<"u"&&console.warn(dr),(0,xe.of)(!1)}};return[cn,ut.runOutsideAngular(Gr)]}return[cn,(0,xe.of)(!1)]},[Vt,br,De])}collection(Fe,St){let De;De="string"==typeof Fe?this.firestore.collection(Fe):Fe;const{ref:Vt,query:Se}=Bn(De,St),ut=this.schedulers.ngZone.run(()=>Vt);return new di(ut,Se,this)}collectionGroup(Fe,St){const De=St||(Se=>Se),Vt=this.firestore.collectionGroup(Fe);return new ys(De(Vt),this)}doc(Fe){let St;St="string"==typeof Fe?this.firestore.doc(Fe):Fe;const De=this.schedulers.ngZone.run(()=>St);return new wn(De,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(St){return new(St||It)(le.KVO(ve.rx),le.KVO(ve.uP,8),le.KVO(fn,8),le.KVO(er,8),le.KVO(le.Agw),le.KVO(le.SKi),le.KVO(i.u0),le.KVO(ti,8),le.KVO(Ir,8),le.KVO(_e.DS,8),le.KVO(_e.CP,8),le.KVO(_e.yy,8),le.KVO(_e.ZP,8),le.KVO(_e.$z,8),le.KVO(_e.AU,8),le.KVO(_e.UB,8),le.KVO(i.Jv,8))};static \u0275prov=le.jDH({token:It,factory:It.\u0275fac,providedIn:"any"})}return It})(),ot=(()=>{class It{constructor(){Er.A.registerVersion("angularfire",i.xv.full,"fst-compat")}static enablePersistence(Fe){return{ngModule:It,providers:[{provide:fn,useValue:!0},{provide:ti,useValue:Fe}]}}static \u0275fac=function(St){return new(St||It)};static \u0275mod=le.$C({type:It});static \u0275inj=le.G2t({providers:[Si]})}return It})()},8721:(sn,Ze,F)=>{F.d(Ze,{ap:()=>ke,y5:()=>ze});var o=F(5407),le=F(1985),i=F(7673),ve=F(8455),_e=F(3236),Ce=F(9974),ye=F(4360),xe=F(6354),Y=F(5558),te=F(7705),fe=F(9253),Ae=F(3345),Ne=F(4535),de=F(1362);class Ke{constructor(Te,Le,ct){this._delegate=Te,this.task=Le,this.ref=ct}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class mt{constructor(Te,Le){this._delegate=Te,this._ref=Le,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ke(this._delegate.snapshot,this,this._ref)}then(Te,Le){return this._delegate.then(ct=>{if(Te)return Te(new Ke(ct,this,this._ref))},Le)}on(Te,Le,ct,it){let jt;return Le&&(jt="function"==typeof Le?An=>Le(new Ke(An,this,this._ref)):{next:Le.next?An=>Le.next(new Ke(An,this,this._ref)):void 0,complete:Le.complete||void 0,error:Le.error||void 0}),this._delegate.on(Te,jt,ct||void 0,it||void 0)}}class Ft{constructor(Te,Le){this._delegate=Te,this._service=Le}get prefixes(){return this._delegate.prefixes.map(Te=>new Jt(Te,this._service))}get items(){return this._delegate.items.map(Te=>new Jt(Te,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Jt{constructor(Te,Le){this._delegate=Te,this.storage=Le}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Te){const Le=(0,Ne.Mp)(this._delegate,Te);return new Jt(Le,this.storage)}get root(){return new Jt(this._delegate.root,this.storage)}get parent(){const Te=this._delegate.parent;return null==Te?null:new Jt(Te,this.storage)}put(Te,Le){return this._throwIfRoot("put"),new mt((0,Ne.bp)(this._delegate,Te,Le),this)}putString(Te,Le=Ne.nw.RAW,ct){this._throwIfRoot("putString");const it=(0,Ne.ZH)(Le,Te),jt=Object.assign({},ct);return null==jt.contentType&&null!=it.contentType&&(jt.contentType=it.contentType),new mt(new Ne.UC(this._delegate,new Ne.Mx(it.data,!0),jt),this)}listAll(){return(0,Ne._w)(this._delegate).then(Te=>new Ft(Te,this.storage))}list(Te){return(0,Ne.p_)(this._delegate,Te||void 0).then(Le=>new Ft(Le,this.storage))}getMetadata(){return(0,Ne.yb)(this._delegate)}updateMetadata(Te){return(0,Ne.D5)(this._delegate,Te)}getDownloadURL(){return(0,Ne.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Ne.XR)(this._delegate)}_throwIfRoot(Te){if(""===this._delegate._location.path)throw(0,Ne.UY)(Te)}}class He{constructor(Te,Le){this.app=Te,this._delegate=Le}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Te){if(Ie(Te))throw(0,Ne.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new Jt((0,Ne.KR)(this._delegate,Te),this)}refFromURL(Te){if(!Ie(Te))throw(0,Ne.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ne.TZ.makeFromUrl(Te,this._delegate.host)}catch{throw(0,Ne.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Jt((0,Ne.KR)(this._delegate,Te),this)}setMaxUploadRetryTime(Te){this._delegate.maxUploadRetryTime=Te}setMaxOperationRetryTime(Te){this._delegate.maxOperationRetryTime=Te}useEmulator(Te,Le,ct={}){(0,Ne.nb)(this._delegate,Te,Le,ct)}}function Ie(Re){return/^[A-Za-z]+:\/\//.test(Re)}function Nt(Re,{instanceIdentifier:Te}){const Le=Re.getProvider("app-compat").getImmediate(),ct=Re.getProvider("storage").getImmediate({identifier:Te});return new He(Le,ct)}!function ht(Re){const Te={TaskState:Ne.Ad,TaskEvent:Ne.xc,StringFormat:Ne.nw,Storage:He,Reference:Jt};Re.INTERNAL.registerComponent(new de.uA("storage-compat",Nt,"PUBLIC").setServiceProps(Te).setMultipleInstances(!0)),Re.registerVersion("@firebase/storage-compat","0.3.12")}(Ae.A);var Ee=F(7935);function Xt(Re){const Te=function Je(Re){return new le.c(Te=>{const Le=An=>Te.next(An);Le(Re.snapshot);const jt=Re.on("state_changed",Le);return Re.then(An=>{Le(An),Te.complete()},An=>{Le(Re.snapshot),(An=>{Te.error(An)})(An)}),function(){jt()}}).pipe(function Ve(Re,Te=_e.E){return(0,Ce.N)((Le,ct)=>{let it=null,jt=null,An=null;const rr=()=>{if(it){it.unsubscribe(),it=null;const Un=jt;jt=null,ct.next(Un)}};function on(){const Un=An+Re,Zt=Te.now();if(Zt<Un)return it=this.schedule(void 0,Un-Zt),void ct.add(it);rr()}Le.subscribe((0,ye._)(ct,Un=>{jt=Un,An=Te.now(),it||(it=Te.schedule(on,Re),ct.add(it))},()=>{rr(),ct.complete()},void 0,()=>{jt=it=null}))})}(0))}(Re);return{task:Re,then:Re.then.bind(Re),catch:Re.catch.bind(Re),pause:Re.pause.bind(Re),cancel:Re.cancel.bind(Re),resume:Re.resume.bind(Re),snapshotChanges:()=>Te,percentageChanges:()=>Te.pipe((0,xe.T)(Le=>Le.bytesTransferred/Le.totalBytes*100))}}function Fn(Re){return{getDownloadURL:()=>(0,i.of)(void 0).pipe(o.Oe,(0,Y.n)(()=>Re.getDownloadURL()),o.U0),getMetadata:()=>(0,i.of)(void 0).pipe(o.Oe,(0,Y.n)(()=>Re.getMetadata()),o.U0),delete:()=>(0,ve.H)(Re.delete()),child:Te=>Fn(Re.child(Te)),updateMetadata:Te=>(0,ve.H)(Re.updateMetadata(Te)),put:(Te,Le)=>Xt(Re.put(Te,Le)),putString:(Te,Le,ct)=>Xt(Re.putString(Te,Le,ct)),list:Te=>(0,ve.H)(Re.list(Te)),listAll:()=>(0,ve.H)(Re.listAll())}}const qe=new te.nKC("angularfire2.storageBucket"),xt=new te.nKC("angularfire2.storage.maxUploadRetryTime"),je=new te.nKC("angularfire2.storage.maxOperationRetryTime"),lt=new te.nKC("angularfire2.storage.use-emulator");let ke=(()=>{class Re{storage;constructor(Le,ct,it,jt,An,rr,on,Un,Zt,Hn){const xn=(0,fe.iB)(Le,An,ct);this.storage=(0,fe.BM)(`${xn.name}.storage.${it}`,"AngularFireStorage",xn.name,()=>{const Kt=An.runOutsideAngular(()=>xn.storage(it||void 0)),$t=Zt;return $t&&Kt.useEmulator(...$t),on&&Kt.setMaxUploadRetryTime(on),Un&&Kt.setMaxOperationRetryTime(Un),Kt},[on,Un])}ref(Le){return Fn(this.storage.ref(Le))}refFromURL(Le){return Fn(this.storage.refFromURL(Le))}upload(Le,ct,it){return Fn(this.storage.ref(Le)).put(ct,it)}static \u0275fac=function(ct){return new(ct||Re)(te.KVO(fe.rx),te.KVO(fe.uP,8),te.KVO(qe,8),te.KVO(te.Agw),te.KVO(te.SKi),te.KVO(o.u0),te.KVO(xt,8),te.KVO(je,8),te.KVO(lt,8),te.KVO(o.Jv,8))};static \u0275prov=te.jDH({token:Re,factory:Re.\u0275fac,providedIn:"any"})}return Re})(),tn=(()=>{class Re{static \u0275fac=function(ct){return new(ct||Re)};static \u0275mod=te.$C({type:Re});static \u0275inj=te.G2t({})}return Re})(),ze=(()=>{class Re{constructor(){Ee.A.registerVersion("angularfire",o.xv.full,"gcs-compat")}static \u0275fac=function(ct){return new(ct||Re)};static \u0275mod=te.$C({type:Re});static \u0275inj=te.G2t({providers:[ke],imports:[tn]})}return Re})()},9253:(sn,Ze,F)=>{F.d(Ze,{BM:()=>Ne,Gt:()=>_e,bf:()=>Ae,e7:()=>Ce,iB:()=>Y,rx:()=>Ve,uP:()=>xe});var o=F(7705),le=F(5407),i=F(7935);const ve=["ngOnDestroy"],_e=(Ft,Jt,He,Ie={})=>new Proxy(Ft,{get:(tt,Xe)=>He.runOutsideAngular(()=>{if(Ft[Xe])return Ie?.spy?.get&&Ie.spy.get(Xe,Ft[Xe]),Ft[Xe];if(ve.indexOf(Xe)>-1)return()=>{};const dt=Jt.toPromise().then(Nt=>{const ht=Nt?.[Xe];return"function"==typeof ht?ht.bind(Nt):ht?.then?ht.then(Ee=>He.run(()=>Ee)):He.run(()=>ht)});return new Proxy(()=>{},{get:(Nt,ht)=>dt[ht],apply:(Nt,ht,Ee)=>dt.then(Je=>{const Xt=Je?.(...Ee);return Ie?.spy?.apply&&Ie.spy.apply(Xe,Ee,Xt),Xt})})})}),Ce=(Ft,Jt)=>{Jt.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Ie=>{Object.defineProperty(Ft.prototype,Ie,Object.getOwnPropertyDescriptor(He.prototype||He,Ie))})})};class ye{constructor(Jt){return Jt}}const Ve=new o.nKC("angularfire2.app.options"),xe=new o.nKC("angularfire2.app.name");function Y(Ft,Jt,He){const tt="object"==typeof He&&He||{};tt.name=tt.name||"string"==typeof He&&He||"[DEFAULT]";const dt=i.A.apps.filter(Nt=>Nt&&Nt.name===tt.name)[0]||Jt.runOutsideAngular(()=>i.A.initializeApp(Ft,tt));try{if(JSON.stringify(Ft)!==JSON.stringify(dt.options)){const Nt=!!module.hot;te("error",`${dt.name} Firebase App already initialized with different options${Nt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ye(dt)}const te=(Ft,...Jt)=>{(0,o.naY)()&&typeof console<"u"&&console[Ft](...Jt)},fe={provide:ye,useFactory:Y,deps:[Ve,o.SKi,[new o.Xx1,xe]]};let Ae=(()=>{class Ft{static initializeApp(He,Ie){return{ngModule:Ft,providers:[{provide:Ve,useValue:He},{provide:xe,useValue:Ie}]}}constructor(He){i.A.registerVersion("angularfire",le.xv.full,"core"),i.A.registerVersion("angularfire",le.xv.full,"app-compat"),i.A.registerVersion("angular",o.xvI.full,He.toString())}static \u0275fac=function(Ie){return new(Ie||Ft)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:Ft});static \u0275inj=o.G2t({providers:[fe]})}return Ft})();function Ne(Ft,Jt,He,Ie,tt){const[,Xe,dt]=globalThis.\u0275AngularfireInstanceCache.find(Nt=>Nt[0]===Ft)||[];if(Xe)return function de(Ft,Jt){try{return Ft.toString()===Jt.toString()}catch{return Ft===Jt}}(tt,dt)||(mt("error",`${Jt} was already initialized on the ${He} Firebase App with different settings.${Ke?" You may need to reload as Firebase is not HMR aware.":""}`),mt("warn",{is:tt,was:dt})),Xe;{const Nt=Ie();return globalThis.\u0275AngularfireInstanceCache.push([Ft,Nt,tt]),Nt}}const Ke=typeof module<"u"&&!!module.hot,mt=(Ft,...Jt)=>{(0,o.naY)()&&typeof console<"u"&&console[Ft](...Jt)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(sn,Ze,F)=>{F.d(Ze,{xv:()=>Ne,U0:()=>Xt,Oe:()=>Ee,u0:()=>Xe,Jv:()=>Ft,CA:()=>mt,lR:()=>Ke,S3:()=>xt});var o=F(7705),le=F(2214),i=F(6780),_e=F(9687);const ye=new class Ce extends _e.q{}(class ve extends i.R{constructor(lt,ke){super(lt,ke),this.scheduler=lt,this.work=ke}schedule(lt,ke=0){return ke>0?super.schedule(lt,ke):(this.delay=ke,this.state=lt,this.scheduler.flush(this),this)}execute(lt,ke){return ke>0||this.closed?super.execute(lt,ke):this._execute(lt,ke)}requestAsyncId(lt,ke,st=0){return null!=st&&st>0||null==st&&this.delay>0?super.requestAsyncId(lt,ke,st):(lt.flush(this),0)}});var xe=F(3236),Y=F(1985),te=F(8141),fe=F(941),Ae=F(6745);const Ne=new o.RxE("ANGULARFIRE2_VERSION");function Ke(je,lt,ke){if(lt){if(1===lt.length)return lt[0];const ze=lt.filter(Re=>Re.app===ke);if(1===ze.length)return ze[0]}return ke.container.getProvider(je).getImmediate({optional:!0})}const mt=(je,lt)=>{const ke=lt?[lt]:(0,le.Dk)(),st=[];return ke.forEach(tn=>{tn.container.getProvider(je).instances.forEach(Re=>{st.includes(Re)||st.push(Re)})}),st};class Ft{constructor(){return mt(Jt)}}const Jt="app-check";function He(){}class Ie{zone;delegate;constructor(lt,ke=ye){this.zone=lt,this.delegate=ke}now(){return this.delegate.now()}schedule(lt,ke,st){const tn=this.zone;return this.delegate.schedule(function(Re){tn.runGuarded(()=>{lt.apply(this,[Re])})},ke,st)}}class tt{zone;task=null;constructor(lt){this.zone=lt}call(lt,ke){const st=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He)),ke.pipe((0,te.M)({next:st,complete:st,error:st})).subscribe(lt).add(st)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xe=(()=>{class je{ngZone;outsideAngular;insideAngular;constructor(ke){this.ngZone=ke,this.outsideAngular=ke.runOutsideAngular(()=>new Ie(Zone.current)),this.insideAngular=ke.run(()=>new Ie(Zone.current,xe.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(st){return new(st||je)(o.KVO(o.SKi))};static \u0275prov=o.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();function dt(){const je=globalThis.\u0275AngularFireScheduler;if(!je)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return je}function ht(je){return dt().ngZone.run(()=>je())}function Ee(je){return je.pipe((0,fe.Q)(dt().outsideAngular))}function Xt(je){return function Fn(je){return function(ke){return(ke=ke.lift(new tt(je.ngZone))).pipe((0,Ae._)(je.outsideAngular),(0,fe.Q)(je.insideAngular))}}(dt())(je)}const qe=(je,lt)=>function(){const st=arguments;return lt&&setTimeout(()=>{"scheduled"===lt.state&&lt.invoke()},10),ht(()=>je.apply(void 0,st))},xt=(je,lt)=>function(){let ke;const st=arguments;for(let ze=0;ze<arguments.length;ze++)"function"==typeof st[ze]&&(lt&&(ke||=ht(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He))),st[ze]=qe(st[ze],ke));const tn=function Nt(je){return dt().ngZone.runOutsideAngular(()=>je())}(()=>je.apply(this,st));if(!lt){if(tn instanceof Y.c){const ze=dt();return tn.pipe((0,Ae._)(ze.outsideAngular),(0,fe.Q)(ze.insideAngular))}return ht(()=>tn)}return tn instanceof Y.c?tn.pipe(Xt):tn instanceof Promise?ht(()=>new Promise((ze,Re)=>tn.then(Te=>ht(()=>ze(Te)),Te=>ht(()=>Re(Te))))):"function"==typeof tn&&ke?function(){return setTimeout(()=>{ke&&"scheduled"===ke.state&&ke.invoke()},10),tn.apply(this,arguments)}:ht(()=>tn)}},4341:(sn,Ze,F)=>{F.d(Ze,{Zm:()=>mt,me:()=>Ie,Yp:()=>ia,v8:()=>ls,ok:()=>Po,JD:()=>Yr,gE:()=>Ot,j4:()=>_n,$R:()=>hr,YN:()=>xo,BC:()=>Wn,cb:()=>Cn,cV:()=>os,vS:()=>Us,xH:()=>Zi,Q0:()=>Pi,Fm:()=>jr,X1:()=>zo,YS:()=>ii,wz:()=>mi,k0:()=>Ee,qT:()=>bi,y7:()=>Et});var o=F(7705),le=F(177),i=F(8455),ve=F(1985),_e=F(3073),Ce=F(8750),ye=F(3794),Ve=F(4360),xe=F(6450),Y=F(8496),fe=F(6354);let Ae=(()=>{class W{constructor(U,ce){this._renderer=U,this._elementRef=ce,this.onChange=$e=>{},this.onTouched=()=>{}}setProperty(U,ce){this._renderer.setProperty(this._elementRef.nativeElement,U,ce)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.sFG),o.rXU(o.aKT))}}static{this.\u0275dir=o.FsC({type:W})}}return W})(),Ne=(()=>{class W extends Ae{static{this.\u0275fac=function(){let U;return function($e){return(U||(U=o.xGo(W)))($e||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const de=new o.nKC("NgValueAccessor"),Ke={provide:de,useExisting:(0,o.Rfq)(()=>mt),multi:!0};let mt=(()=>{class W extends Ne{writeValue(U){this.setProperty("checked",U)}static{this.\u0275fac=function(){let U;return function($e){return(U||(U=o.xGo(W)))($e||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ce,$e){1&ce&&o.bIt("change",function(nr){return $e.onChange(nr.target.checked)})("blur",function(){return $e.onTouched()})},features:[o.Jv_([Ke]),o.Vt3]})}}return W})();const Ft={provide:de,useExisting:(0,o.Rfq)(()=>Ie),multi:!0},He=new o.nKC("CompositionEventMode");let Ie=(()=>{class W extends Ae{constructor(U,ce,$e){super(U,ce),this._compositionMode=$e,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Jt(){const W=(0,le.QT)()?(0,le.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(He,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ce,$e){1&ce&&o.bIt("input",function(nr){return $e._handleInput(nr.target.value)})("blur",function(){return $e.onTouched()})("compositionstart",function(){return $e._compositionStart()})("compositionend",function(nr){return $e._compositionEnd(nr.target.value)})},features:[o.Jv_([Ft]),o.Vt3]})}}return W})();function tt(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function Xe(W){return null!=W&&"number"==typeof W.length}const dt=new o.nKC("NgValidators"),Nt=new o.nKC("NgAsyncValidators"),ht=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ee{static min(ee){return function Je(W){return ee=>{if(tt(ee.value)||tt(W))return null;const U=parseFloat(ee.value);return!isNaN(U)&&U<W?{min:{min:W,actual:ee.value}}:null}}(ee)}static max(ee){return function Xt(W){return ee=>{if(tt(ee.value)||tt(W))return null;const U=parseFloat(ee.value);return!isNaN(U)&&U>W?{max:{max:W,actual:ee.value}}:null}}(ee)}static required(ee){return Fn(ee)}static requiredTrue(ee){return function qe(W){return!0===W.value?null:{required:!0}}(ee)}static email(ee){return function xt(W){return tt(W.value)||ht.test(W.value)?null:{email:!0}}(ee)}static minLength(ee){return function je(W){return ee=>tt(ee.value)||!Xe(ee.value)?null:ee.value.length<W?{minlength:{requiredLength:W,actualLength:ee.value.length}}:null}(ee)}static maxLength(ee){return function lt(W){return ee=>Xe(ee.value)&&ee.value.length>W?{maxlength:{requiredLength:W,actualLength:ee.value.length}}:null}(ee)}static pattern(ee){return function ke(W){if(!W)return st;let ee,U;return"string"==typeof W?(U="","^"!==W.charAt(0)&&(U+="^"),U+=W,"$"!==W.charAt(W.length-1)&&(U+="$"),ee=new RegExp(U)):(U=W.toString(),ee=W),ce=>{if(tt(ce.value))return null;const $e=ce.value;return ee.test($e)?null:{pattern:{requiredPattern:U,actualValue:$e}}}}(ee)}static nullValidator(ee){return null}static compose(ee){return it(ee)}static composeAsync(ee){return An(ee)}}function Fn(W){return tt(W.value)?{required:!0}:null}function st(W){return null}function tn(W){return null!=W}function ze(W){return(0,o.jNT)(W)?(0,i.H)(W):W}function Re(W){let ee={};return W.forEach(U=>{ee=null!=U?{...ee,...U}:ee}),0===Object.keys(ee).length?null:ee}function Te(W,ee){return ee.map(U=>U(W))}function ct(W){return W.map(ee=>function Le(W){return!W.validate}(ee)?ee:U=>ee.validate(U))}function it(W){if(!W)return null;const ee=W.filter(tn);return 0==ee.length?null:function(U){return Re(Te(U,ee))}}function jt(W){return null!=W?it(ct(W)):null}function An(W){if(!W)return null;const ee=W.filter(tn);return 0==ee.length?null:function(U){return function te(...W){const ee=(0,ye.ms)(W),{args:U,keys:ce}=(0,_e.D)(W),$e=new ve.c(mn=>{const{length:nr}=U;if(!nr)return void mn.complete();const Cs=new Array(nr);let Qs=nr,es=nr;for(let ho=0;ho<nr;ho++){let Rs=!1;(0,Ce.Tg)(U[ho]).subscribe((0,Ve._)(mn,ts=>{Rs||(Rs=!0,es--),Cs[ho]=ts},()=>Qs--,void 0,()=>{(!Qs||!Rs)&&(es||mn.next(ce?(0,Y.e)(ce,Cs):Cs),mn.complete())}))}});return ee?$e.pipe((0,xe.I)(ee)):$e}(Te(U,ee).map(ze)).pipe((0,fe.T)(Re))}}function rr(W){return null!=W?An(ct(W)):null}function on(W,ee){return null===W?[ee]:Array.isArray(W)?[...W,ee]:[W,ee]}function Un(W){return W._rawValidators}function Zt(W){return W._rawAsyncValidators}function Hn(W){return W?Array.isArray(W)?W:[W]:[]}function xn(W,ee){return Array.isArray(W)?W.includes(ee):W===ee}function Kt(W,ee){const U=Hn(ee);return Hn(W).forEach($e=>{xn(U,$e)||U.push($e)}),U}function $t(W,ee){return Hn(ee).filter(U=>!xn(W,U))}class Er{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=jt(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=rr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,U){return!!this.control&&this.control.hasError(ee,U)}getError(ee,U){return this.control?this.control.getError(ee,U):null}}class an extends Er{get formDirective(){return null}get path(){return null}}class xr extends Er{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jn{constructor(ee){this._cd=ee}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wn=(()=>{class W extends Jn{constructor(U){super(U)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(xr,2))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ce,$e){2&ce&&o.AVh("ng-untouched",$e.isUntouched)("ng-touched",$e.isTouched)("ng-pristine",$e.isPristine)("ng-dirty",$e.isDirty)("ng-valid",$e.isValid)("ng-invalid",$e.isInvalid)("ng-pending",$e.isPending)},features:[o.Vt3]})}}return W})(),Cn=(()=>{class W extends Jn{constructor(U){super(U)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(an,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ce,$e){2&ce&&o.AVh("ng-untouched",$e.isUntouched)("ng-touched",$e.isTouched)("ng-pristine",$e.isPristine)("ng-dirty",$e.isDirty)("ng-valid",$e.isValid)("ng-invalid",$e.isInvalid)("ng-pending",$e.isPending)("ng-submitted",$e.isSubmitted)},features:[o.Vt3]})}}return W})();const De="VALID",Vt="INVALID",Se="PENDING",ut="DISABLED";function vn(W){return(L(W)?W.validators:W)||null}function $(W,ee){return(L(ee)?ee.asyncValidators:W)||null}function L(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function ie(W,ee,U){const ce=W.controls;if(!(ee?Object.keys(ce):ce).length)throw new o.wOt(1e3,"");if(!ce[U])throw new o.wOt(1001,"")}function me(W,ee,U){W._forEachChild((ce,$e)=>{if(void 0===U[$e])throw new o.wOt(1002,"")})}class pt{constructor(ee,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get valid(){return this.status===De}get invalid(){return this.status===Vt}get pending(){return this.status==Se}get disabled(){return this.status===ut}get enabled(){return this.status!==ut}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(Kt(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(Kt(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators($t(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators($t(ee,this._rawAsyncValidators))}hasValidator(ee){return xn(this._rawValidators,ee)}hasAsyncValidator(ee){return xn(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){this.touched=!0,this._parent&&!ee.onlySelf&&this._parent.markAsTouched(ee)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ee=>ee.markAllAsTouched())}markAsUntouched(ee={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}markAsDirty(ee={}){this.pristine=!1,this._parent&&!ee.onlySelf&&this._parent.markAsDirty(ee)}markAsPristine(ee={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}markAsPending(ee={}){this.status=Se,!1!==ee.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ee.onlySelf&&this._parent.markAsPending(ee)}disable(ee={}){const U=this._parentMarkedDirty(ee.onlySelf);this.status=ut,this.errors=null,this._forEachChild(ce=>{ce.disable({...ee,onlySelf:!0})}),this._updateValue(),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:U}),this._onDisabledChange.forEach(ce=>ce(!0))}enable(ee={}){const U=this._parentMarkedDirty(ee.onlySelf);this.status=De,this._forEachChild(ce=>{ce.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:U}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors(ee){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===De||this.status===Se)&&this._runAsyncValidator(ee.emitEvent)),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(ee)}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ut:De}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee){if(this.asyncValidator){this.status=Se,this._hasOwnPendingAsyncValidator=!0;const U=ze(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:ee})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ee,U={}){this.errors=ee,this._updateControlsErrors(!1!==U.emitEvent)}get(ee){let U=ee;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((ce,$e)=>ce&&ce._find($e),this)}getError(ee,U){const ce=U?this.get(U):this;return ce&&ce.errors?ce.errors[ee]:null}hasError(ee,U){return!!this.getError(ee,U)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ee)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?ut:this.errors?Vt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Se)?Se:this._anyControlsHaveStatus(Vt)?Vt:De}_anyControlsHaveStatus(ee){return this._anyControls(U=>U.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}_updateTouched(ee={}){this.touched=this._anyControlsTouched(),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){L(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function yt(W){return Array.isArray(W)?jt(W):W||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function x(W){return Array.isArray(W)?rr(W):W||null}(this._rawAsyncValidators)}}class Ot extends pt{constructor(ee,U,ce){super(vn(U),$(ce,U)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ee,U){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(ee,U,ce={}){this.registerControl(ee,U),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl(ee,U={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(ee,U,ce={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],U&&this.registerControl(ee,U),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,U={}){me(this,0,ee),Object.keys(ee).forEach(ce=>{ie(this,!0,ce),this.controls[ce].setValue(ee[ce],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(ee,U={}){null!=ee&&(Object.keys(ee).forEach(ce=>{const $e=this.controls[ce];$e&&$e.patchValue(ee[ce],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(ee={},U={}){this._forEachChild((ce,$e)=>{ce.reset(ee?ee[$e]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(ee,U,ce)=>(ee[ce]=U.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(U,ce)=>!!ce._syncPendingControls()||U);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(U=>{const ce=this.controls[U];ce&&ee(ce,U)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(const[U,ce]of Object.entries(this.controls))if(this.contains(U)&&ee(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,ce,$e)=>((ce.enabled||this.disabled)&&(U[$e]=ce.value),U))}_reduceChildren(ee,U){let ce=ee;return this._forEachChild(($e,mn)=>{ce=U(ce,$e,mn)}),ce}_allControlsDisabled(){for(const ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}}class Rn extends Ot{}const cn=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Gr}),Gr="always";function dr(W,ee){return[...ee.path,W]}function Vs(W,ee,U=Gr){gi(W,ee),ee.valueAccessor.writeValue(W.value),(W.disabled||"always"===U)&&ee.valueAccessor.setDisabledState?.(W.disabled),function xs(W,ee){ee.valueAccessor.registerOnChange(U=>{W._pendingValue=U,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&at(W,ee)})}(W,ee),function kt(W,ee){const U=(ce,$e)=>{ee.valueAccessor.writeValue(ce),$e&&ee.viewToModelUpdate(ce)};W.registerOnChange(U),ee._registerOnDestroy(()=>{W._unregisterOnChange(U)})}(W,ee),function Rt(W,ee){ee.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&at(W,ee),"submit"!==W.updateOn&&W.markAsTouched()})}(W,ee),function Es(W,ee){if(ee.valueAccessor.setDisabledState){const U=ce=>{ee.valueAccessor.setDisabledState(ce)};W.registerOnDisabledChange(U),ee._registerOnDestroy(()=>{W._unregisterOnDisabledChange(U)})}}(W,ee)}function Ni(W,ee,U=!0){const ce=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(ce),ee.valueAccessor.registerOnTouched(ce)),ar(W,ee),W&&(ee._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function vs(W,ee){W.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(ee)})}function gi(W,ee){const U=Un(W);null!==ee.validator?W.setValidators(on(U,ee.validator)):"function"==typeof U&&W.setValidators([U]);const ce=Zt(W);null!==ee.asyncValidator?W.setAsyncValidators(on(ce,ee.asyncValidator)):"function"==typeof ce&&W.setAsyncValidators([ce]);const $e=()=>W.updateValueAndValidity();vs(ee._rawValidators,$e),vs(ee._rawAsyncValidators,$e)}function ar(W,ee){let U=!1;if(null!==W){if(null!==ee.validator){const $e=Un(W);if(Array.isArray($e)&&$e.length>0){const mn=$e.filter(nr=>nr!==ee.validator);mn.length!==$e.length&&(U=!0,W.setValidators(mn))}}if(null!==ee.asyncValidator){const $e=Zt(W);if(Array.isArray($e)&&$e.length>0){const mn=$e.filter(nr=>nr!==ee.asyncValidator);mn.length!==$e.length&&(U=!0,W.setAsyncValidators(mn))}}}const ce=()=>{};return vs(ee._rawValidators,ce),vs(ee._rawAsyncValidators,ce),U}function at(W,ee){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function un(W,ee){gi(W,ee)}function Qi(W,ee){if(!W.hasOwnProperty("model"))return!1;const U=W.model;return!!U.isFirstChange()||!Object.is(ee,U.currentValue)}function ss(W,ee){W._syncPendingControls(),ee.forEach(U=>{const ce=U.control;"submit"===ce.updateOn&&ce._pendingChange&&(U.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}function Do(W,ee){if(!ee)return null;let U,ce,$e;return Array.isArray(ee),ee.forEach(mn=>{mn.constructor===Ie?U=mn:function Ms(W){return Object.getPrototypeOf(W.constructor)===Ne}(mn)?ce=mn:$e=mn}),$e||ce||U||null}const Go={provide:an,useExisting:(0,o.Rfq)(()=>os)},li=(()=>Promise.resolve())();let os=(()=>{class W extends an{constructor(U,ce,$e){super(),this.callSetDisabledState=$e,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new Ot({},jt(U),rr(ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){li.then(()=>{const ce=this._findContainer(U.path);U.control=ce.registerControl(U.name,U.control),Vs(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){li.then(()=>{const ce=this._findContainer(U.path);ce&&ce.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){li.then(()=>{const ce=this._findContainer(U.path),$e=new Ot({});un($e,U),ce.registerControl(U.name,$e),$e.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){li.then(()=>{const ce=this._findContainer(U.path);ce&&ce.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,ce){li.then(()=>{this.form.get(U.path).setValue(ce)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,ss(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(dt,10),o.rXU(Nt,10),o.rXU(cn,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ce,$e){1&ce&&o.bIt("submit",function(nr){return $e.onSubmit(nr)})("reset",function(){return $e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([Go]),o.Vt3]})}}return W})();function bs(W,ee){const U=W.indexOf(ee);U>-1&&W.splice(U,1)}function Kr(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Hi=class extends pt{constructor(ee=null,U,ce){super(vn(U),$(ce,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),L(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=Kr(ee)?ee.value:ee)}setValue(ee,U={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(ee,U={}){this.setValue(ee,U)}reset(ee=this.defaultValue,U={}){this._applyFormState(ee),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){bs(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){bs(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){Kr(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}};let uo=(()=>{class W extends an{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return dr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let U;return function($e){return(U||(U=o.xGo(W)))($e||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const qs={provide:xr,useExisting:(0,o.Rfq)(()=>Us)},ni=(()=>Promise.resolve())();let Us=(()=>{class W extends xr{constructor(U,ce,$e,mn,nr,Cs){super(),this._changeDetectorRef=nr,this.callSetDisabledState=Cs,this.control=new Hi,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=U,this._setValidators(ce),this._setAsyncValidators($e),this.valueAccessor=Do(0,mn)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const ce=U.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),Qi(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vs(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){ni.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const ce=U.isDisabled.currentValue,$e=0!==ce&&(0,o.L39)(ce);ni.then(()=>{$e&&!this.control.disabled?this.control.disable():!$e&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?dr(U,this._parent):[U]}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(an,9),o.rXU(dt,10),o.rXU(Nt,10),o.rXU(de,10),o.rXU(o.gRc,8),o.rXU(cn,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([qs]),o.Vt3,o.OA$]})}}return W})(),bi=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return W})();const Bi={provide:de,useExisting:(0,o.Rfq)(()=>Pi),multi:!0};let Pi=(()=>{class W extends Ne{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=ce=>{U(""==ce?null:parseFloat(ce))}}static{this.\u0275fac=function(){let U;return function($e){return(U||(U=o.xGo(W)))($e||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ce,$e){1&ce&&o.bIt("input",function(nr){return $e.onChange(nr.target.value)})("blur",function(){return $e.onTouched()})},features:[o.Jv_([Bi]),o.Vt3]})}}return W})();const Qn={provide:de,useExisting:(0,o.Rfq)(()=>jr),multi:!0};let ri=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({})}}return W})(),zi=(()=>{class W{constructor(){this._accessors=[]}add(U,ce){this._accessors.push([U,ce])}remove(U){for(let ce=this._accessors.length-1;ce>=0;--ce)if(this._accessors[ce][1]===U)return void this._accessors.splice(ce,1)}select(U){this._accessors.forEach(ce=>{this._isSameGroup(ce,U)&&ce[1]!==U&&ce[1].fireUncheck(U.value)})}_isSameGroup(U,ce){return!!U[0].control&&U[0]._parent===ce._control._parent&&U[1].name===ce.name}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:ri})}}return W})(),jr=(()=>{class W extends Ne{constructor(U,ce,$e,mn){super(U,ce),this._registry=$e,this._injector=mn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,o.WQX)(cn,{optional:!0})??Gr}ngOnInit(){this._control=this._injector.get(xr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(U){this._state=U===this.value,this.setProperty("checked",this._state)}registerOnChange(U){this._fn=U,this.onChange=()=>{U(this.value),this._registry.select(this)}}setDisabledState(U){(this.setDisabledStateFired||U||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",U),this.setDisabledStateFired=!0}fireUncheck(U){this.writeValue(U)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(zi),o.rXU(o.zZn))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ce,$e){1&ce&&o.bIt("change",function(){return $e.onChange()})("blur",function(){return $e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o.Jv_([Qn]),o.Vt3]})}}return W})();const ki=new o.nKC("NgModelWithFormControlWarning"),Hr={provide:an,useExisting:(0,o.Rfq)(()=>_n)};let _n=(()=>{class W extends an{constructor(U,ce,$e){super(),this.callSetDisabledState=$e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(U),this._setAsyncValidators(ce)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ar(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const ce=this.form.get(U.path);return Vs(ce,U,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),ce}getControl(U){return this.form.get(U.path)}removeControl(U){Ni(U.control||null,U,!1),function So(W,ee){const U=W.indexOf(ee);U>-1&&W.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,ce){this.form.get(U.path).setValue(ce)}onSubmit(U){return this.submitted=!0,ss(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const ce=U.control,$e=this.form.get(U.path);ce!==$e&&(Ni(ce||null,U),(W=>W instanceof Hi)($e)&&(Vs($e,U,this.callSetDisabledState),U.control=$e))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const ce=this.form.get(U.path);un(ce,U),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const ce=this.form.get(U.path);ce&&function $n(W,ee){return ar(W,ee)}(ce,U)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gi(this.form,this),this._oldForm&&ar(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(dt,10),o.rXU(Nt,10),o.rXU(cn,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(ce,$e){1&ce&&o.bIt("submit",function(nr){return $e.onSubmit(nr)})("reset",function(){return $e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([Hr]),o.Vt3,o.OA$]})}}return W})();const ir={provide:an,useExisting:(0,o.Rfq)(()=>hr)};let hr=(()=>{class W extends uo{constructor(U,ce,$e){super(),this.name=null,this._parent=U,this._setValidators(ce),this._setAsyncValidators($e)}_checkParentType(){Fi(this._parent)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(an,13),o.rXU(dt,10),o.rXU(Nt,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o.Jv_([ir]),o.Vt3]})}}return W})();const Ji={provide:an,useExisting:(0,o.Rfq)(()=>ls)};let ls=(()=>{class W extends an{constructor(U,ce,$e){super(),this.name=null,this._parent=U,this._setValidators(ce),this._setAsyncValidators($e)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return dr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Fi(this._parent)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(an,13),o.rXU(dt,10),o.rXU(Nt,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o.Jv_([Ji]),o.Vt3]})}}return W})();function Fi(W){return!(W instanceof hr||W instanceof _n||W instanceof ls)}const js={provide:xr,useExisting:(0,o.Rfq)(()=>Yr)};let Yr=(()=>{class W extends xr{set isDisabled(U){}static{this._ngModelWarningSentOnce=!1}constructor(U,ce,$e,mn,nr){super(),this._ngModelWarningConfig=nr,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(ce),this._setAsyncValidators($e),this.valueAccessor=Do(0,mn)}ngOnChanges(U){this._added||this._setUpControl(),Qi(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return dr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(an,13),o.rXU(dt,10),o.rXU(Nt,10),o.rXU(de,10),o.rXU(ki,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([js]),o.Vt3,o.OA$]})}}return W})();const cs={provide:de,useExisting:(0,o.Rfq)(()=>mi),multi:!0};function Ss(W,ee){return null==W?`${ee}`:(ee&&"object"==typeof ee&&(ee="Object"),`${W}: ${ee}`.slice(0,50))}let mi=(()=>{class W extends Ne{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const $e=Ss(this._getOptionId(U),U);this.setProperty("value",$e)}registerOnChange(U){this.onChange=ce=>{this.value=this._getOptionValue(ce),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce),U))return ce;return null}_getOptionValue(U){const ce=function Gn(W){return W.split(":")[0]}(U);return this._optionMap.has(ce)?this._optionMap.get(ce):U}static{this.\u0275fac=function(){let U;return function($e){return(U||(U=o.xGo(W)))($e||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ce,$e){1&ce&&o.bIt("change",function(nr){return $e.onChange(nr.target.value)})("blur",function(){return $e.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([cs]),o.Vt3]})}}return W})(),Zi=(()=>{class W{constructor(U,ce,$e){this._element=U,this._renderer=ce,this._select=$e,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(Ss(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(mi,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})();const Z={provide:de,useExisting:(0,o.Rfq)(()=>nt),multi:!0};function J(W,ee){return null==W?`${ee}`:("string"==typeof ee&&(ee=`'${ee}'`),ee&&"object"==typeof ee&&(ee="Object"),`${W}: ${ee}`.slice(0,50))}let nt=(()=>{class W extends Ne{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let ce;if(this.value=U,Array.isArray(U)){const $e=U.map(mn=>this._getOptionId(mn));ce=(mn,nr)=>{mn._setSelected($e.indexOf(nr.toString())>-1)}}else ce=($e,mn)=>{$e._setSelected(!1)};this._optionMap.forEach(ce)}registerOnChange(U){this.onChange=ce=>{const $e=[],mn=ce.selectedOptions;if(void 0!==mn){const nr=mn;for(let Cs=0;Cs<nr.length;Cs++){const es=this._getOptionValue(nr[Cs].value);$e.push(es)}}else{const nr=ce.options;for(let Cs=0;Cs<nr.length;Cs++){const Qs=nr[Cs];if(Qs.selected){const es=this._getOptionValue(Qs.value);$e.push(es)}}}this.value=$e,U($e)}}_registerOption(U){const ce=(this._idCounter++).toString();return this._optionMap.set(ce,U),ce}_getOptionId(U){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce)._value,U))return ce;return null}_getOptionValue(U){const ce=function Pe(W){return W.split(":")[0]}(U);return this._optionMap.has(ce)?this._optionMap.get(ce)._value:U}static{this.\u0275fac=function(){let U;return function($e){return(U||(U=o.xGo(W)))($e||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ce,$e){1&ce&&o.bIt("change",function(nr){return $e.onChange(nr.target)})("blur",function(){return $e.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([Z]),o.Vt3]})}}return W})(),Et=(()=>{class W{constructor(U,ce,$e){this._element=U,this._renderer=ce,this._select=$e,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(J(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(J(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(nt,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})(),gn=(()=>{class W{constructor(){this._validator=st}ngOnChanges(U){if(this.inputName in U){const ce=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):st,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275dir=o.FsC({type:W,features:[o.OA$]})}}return W})();const tr={provide:dt,useExisting:(0,o.Rfq)(()=>ii),multi:!0};let ii=(()=>{class W extends gn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=U=>Fn}enabled(U){return U}static{this.\u0275fac=function(){let U;return function($e){return(U||(U=o.xGo(W)))($e||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ce,$e){2&ce&&o.BMQ("required",$e._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([tr]),o.Vt3]})}}return W})(),nl=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[ri]})}}return W})();class ia extends pt{constructor(ee,U,ce){super(vn(U),$(ce,U)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ee){return this.controls[this._adjustIndex(ee)]}push(ee,U={}){this.controls.push(ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(ee,U,ce={}){this.controls.splice(ee,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:ce.emitEvent})}removeAt(ee,U={}){let ce=this._adjustIndex(ee);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(ee,U,ce={}){let $e=this._adjustIndex(ee);$e<0&&($e=0),this.controls[$e]&&this.controls[$e]._registerOnCollectionChange(()=>{}),this.controls.splice($e,1),U&&(this.controls.splice($e,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ee,U={}){me(this,0,ee),ee.forEach((ce,$e)=>{ie(this,!1,$e),this.at($e).setValue(ce,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(ee,U={}){null!=ee&&(ee.forEach((ce,$e)=>{this.at($e)&&this.at($e).patchValue(ce,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(ee=[],U={}){this._forEachChild((ce,$e)=>{ce.reset(ee[$e],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(ee=>ee.getRawValue())}clear(ee={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ee.emitEvent}))}_adjustIndex(ee){return ee<0?ee+this.length:ee}_syncPendingControls(){let ee=this.controls.reduce((U,ce)=>!!ce._syncPendingControls()||U,!1);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){this.controls.forEach((U,ce)=>{ee(U,ce)})}_updateValue(){this.value=this.controls.filter(ee=>ee.enabled||this.disabled).map(ee=>ee.value)}_anyControls(ee){return this.controls.some(U=>U.enabled&&ee(U))}_setUpControls(){this._forEachChild(ee=>this._registerControl(ee))}_allControlsDisabled(){for(const ee of this.controls)if(ee.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ee){ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)}_find(ee){return this.at(ee)??null}}function Os(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let Po=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new W;return U.useNonNullable=!0,U}group(U,ce=null){const $e=this._reduceControls(U);let mn={};return Os(ce)?mn=ce:null!==ce&&(mn.validators=ce.validator,mn.asyncValidators=ce.asyncValidator),new Ot($e,mn)}record(U,ce=null){const $e=this._reduceControls(U);return new Rn($e,ce)}control(U,ce,$e){let mn={};return this.useNonNullable?(Os(ce)?mn=ce:(mn.validators=ce,mn.asyncValidators=$e),new Hi(U,{...mn,nonNullable:!0})):new Hi(U,ce,$e)}array(U,ce,$e){const mn=U.map(nr=>this._createControl(nr));return new ia(mn,ce,$e)}_reduceControls(U){const ce={};return Object.keys(U).forEach($e=>{ce[$e]=this._createControl(U[$e])}),ce}_createControl(U){return U instanceof Hi||U instanceof pt?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})(),xo=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:cn,useValue:U.callSetDisabledState??Gr}]}}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[nl]})}}return W})(),zo=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:ki,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:cn,useValue:U.callSetDisabledState??Gr}]}}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[nl]})}}return W})()},345:(sn,Ze,F)=>{F.d(Ze,{B7:()=>ht,Bb:()=>xn,W8:()=>$t,hE:()=>xr,sG:()=>on,up:()=>Si});var o=F(7705),le=F(177);class i extends le.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends i{static makeCurrent(){(0,le.ZD)(new ve)}onAndCancel($,x,L){return $.addEventListener(x,L),()=>{$.removeEventListener(x,L)}}dispatchEvent($,x){$.dispatchEvent(x)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,x){return(x=x||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,x){return"window"===x?window:"document"===x?$:"body"===x?$.body:null}getBaseHref($){const x=function Ce(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==x?null:function Ve(yt){ye=ye||document.createElement("a"),ye.setAttribute("href",yt);const $=ye.pathname;return"/"===$.charAt(0)?$:`/${$}`}(x)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,le._b)(document.cookie,$)}}let ye,_e=null,Y=(()=>{class yt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(L){return new(L||yt)}}static{this.\u0275prov=o.jDH({token:yt,factory:yt.\u0275fac})}}return yt})();const te=new o.nKC("EventManagerPlugins");let fe=(()=>{class yt{constructor(x,L){this._zone=L,this._eventNameToPlugin=new Map,x.forEach(ie=>{ie.manager=this}),this._plugins=x.slice().reverse()}addEventListener(x,L,ie){return this._findPluginFor(L).addEventListener(x,L,ie)}getZone(){return this._zone}_findPluginFor(x){let L=this._eventNameToPlugin.get(x);if(L)return L;if(L=this._plugins.find(me=>me.supports(x)),!L)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(x,L),L}static{this.\u0275fac=function(L){return new(L||yt)(o.KVO(te),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:yt,factory:yt.\u0275fac})}}return yt})();class Ae{constructor($){this._doc=$}}const Ne="ng-app-id";let de=(()=>{class yt{constructor(x,L,ie,me={}){this.doc=x,this.appId=L,this.nonce=ie,this.platformId=me,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,le.Vy)(me),this.resetHostNodes()}addStyles(x){for(const L of x)1===this.changeUsageCount(L,1)&&this.onStyleAdded(L)}removeStyles(x){for(const L of x)this.changeUsageCount(L,-1)<=0&&this.onStyleRemoved(L)}ngOnDestroy(){const x=this.styleNodesInDOM;x&&(x.forEach(L=>L.remove()),x.clear());for(const L of this.getAllStyles())this.onStyleRemoved(L);this.resetHostNodes()}addHost(x){this.hostNodes.add(x);for(const L of this.getAllStyles())this.addStyleToHost(x,L)}removeHost(x){this.hostNodes.delete(x)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(x){for(const L of this.hostNodes)this.addStyleToHost(L,x)}onStyleRemoved(x){const L=this.styleRef;L.get(x)?.elements?.forEach(ie=>ie.remove()),L.delete(x)}collectServerRenderedStyles(){const x=this.doc.head?.querySelectorAll(`style[${Ne}="${this.appId}"]`);if(x?.length){const L=new Map;return x.forEach(ie=>{null!=ie.textContent&&L.set(ie.textContent,ie)}),L}return null}changeUsageCount(x,L){const ie=this.styleRef;if(ie.has(x)){const me=ie.get(x);return me.usage+=L,me.usage}return ie.set(x,{usage:L,elements:[]}),L}getStyleElement(x,L){const ie=this.styleNodesInDOM,me=ie?.get(L);if(me?.parentNode===x)return ie.delete(L),me.removeAttribute(Ne),me;{const pt=this.doc.createElement("style");return this.nonce&&pt.setAttribute("nonce",this.nonce),pt.textContent=L,this.platformIsServer&&pt.setAttribute(Ne,this.appId),pt}}addStyleToHost(x,L){const ie=this.getStyleElement(x,L);x.appendChild(ie);const me=this.styleRef,pt=me.get(L)?.elements;pt?pt.push(ie):me.set(L,{elements:[ie],usage:1})}resetHostNodes(){const x=this.hostNodes;x.clear(),x.add(this.doc.head)}static{this.\u0275fac=function(L){return new(L||yt)(o.KVO(le.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:yt,factory:yt.\u0275fac})}}return yt})();const Ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mt=/%COMP%/g,tt=new o.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Nt(yt,$){return $.map(x=>x.replace(mt,yt))}let ht=(()=>{class yt{constructor(x,L,ie,me,pt,Ot,ln,pn=null){this.eventManager=x,this.sharedStylesHost=L,this.appId=ie,this.removeStylesOnCompDestroy=me,this.doc=pt,this.platformId=Ot,this.ngZone=ln,this.nonce=pn,this.rendererByCompId=new Map,this.platformIsServer=(0,le.Vy)(Ot),this.defaultRenderer=new Ee(x,pt,ln,this.platformIsServer)}createRenderer(x,L){if(!x||!L)return this.defaultRenderer;this.platformIsServer&&L.encapsulation===o.gXe.ShadowDom&&(L={...L,encapsulation:o.gXe.Emulated});const ie=this.getOrCreateRenderer(x,L);return ie instanceof je?ie.applyToHost(x):ie instanceof xt&&ie.applyStyles(),ie}getOrCreateRenderer(x,L){const ie=this.rendererByCompId;let me=ie.get(L.id);if(!me){const pt=this.doc,Ot=this.ngZone,ln=this.eventManager,pn=this.sharedStylesHost,Rn=this.removeStylesOnCompDestroy,br=this.platformIsServer;switch(L.encapsulation){case o.gXe.Emulated:me=new je(ln,pn,L,this.appId,Rn,pt,Ot,br);break;case o.gXe.ShadowDom:return new qe(ln,pn,x,L,pt,Ot,this.nonce,br);default:me=new xt(ln,pn,L,Rn,pt,Ot,br)}ie.set(L.id,me)}return me}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(L){return new(L||yt)(o.KVO(fe),o.KVO(de),o.KVO(o.sZ2),o.KVO(tt),o.KVO(le.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))}}static{this.\u0275prov=o.jDH({token:yt,factory:yt.\u0275fac})}}return yt})();class Ee{constructor($,x,L,ie){this.eventManager=$,this.doc=x,this.ngZone=L,this.platformIsServer=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,x){return x?this.doc.createElementNS(Ke[x]||x,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,x){(Fn($)?$.content:$).appendChild(x)}insertBefore($,x,L){$&&(Fn($)?$.content:$).insertBefore(x,L)}removeChild($,x){$&&$.removeChild(x)}selectRootElement($,x){let L="string"==typeof $?this.doc.querySelector($):$;if(!L)throw new o.wOt(-5104,!1);return x||(L.textContent=""),L}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,x,L,ie){if(ie){x=ie+":"+x;const me=Ke[ie];me?$.setAttributeNS(me,x,L):$.setAttribute(x,L)}else $.setAttribute(x,L)}removeAttribute($,x,L){if(L){const ie=Ke[L];ie?$.removeAttributeNS(ie,x):$.removeAttribute(`${L}:${x}`)}else $.removeAttribute(x)}addClass($,x){$.classList.add(x)}removeClass($,x){$.classList.remove(x)}setStyle($,x,L,ie){ie&(o.czy.DashCase|o.czy.Important)?$.style.setProperty(x,L,ie&o.czy.Important?"important":""):$.style[x]=L}removeStyle($,x,L){L&o.czy.DashCase?$.style.removeProperty(x):$.style[x]=""}setProperty($,x,L){$[x]=L}setValue($,x){$.nodeValue=x}listen($,x,L){if("string"==typeof $&&!($=(0,le.QT)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${x}`);return this.eventManager.addEventListener($,x,this.decoratePreventDefault(L))}decoratePreventDefault($){return x=>{if("__ngUnwrap__"===x)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(x)):$(x))&&x.preventDefault()}}}function Fn(yt){return"TEMPLATE"===yt.tagName&&void 0!==yt.content}class qe extends Ee{constructor($,x,L,ie,me,pt,Ot,ln){super($,me,pt,ln),this.sharedStylesHost=x,this.hostEl=L,this.shadowRoot=L.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const pn=Nt(ie.id,ie.styles);for(const Rn of pn){const br=document.createElement("style");Ot&&br.setAttribute("nonce",Ot),br.textContent=Rn,this.shadowRoot.appendChild(br)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,x){return super.appendChild(this.nodeOrShadowRoot($),x)}insertBefore($,x,L){return super.insertBefore(this.nodeOrShadowRoot($),x,L)}removeChild($,x){return super.removeChild(this.nodeOrShadowRoot($),x)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xt extends Ee{constructor($,x,L,ie,me,pt,Ot,ln){super($,me,pt,Ot),this.sharedStylesHost=x,this.removeStylesOnCompDestroy=ie,this.styles=ln?Nt(ln,L.styles):L.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class je extends xt{constructor($,x,L,ie,me,pt,Ot,ln){const pn=ie+"-"+L.id;super($,x,L,me,pt,Ot,ln,pn),this.contentAttr=function Xe(yt){return"_ngcontent-%COMP%".replace(mt,yt)}(pn),this.hostAttr=function dt(yt){return"_nghost-%COMP%".replace(mt,yt)}(pn)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,x){const L=super.createElement($,x);return super.setAttribute(L,this.contentAttr,""),L}}let lt=(()=>{class yt extends Ae{constructor(x){super(x)}supports(x){return!0}addEventListener(x,L,ie){return x.addEventListener(L,ie,!1),()=>this.removeEventListener(x,L,ie)}removeEventListener(x,L,ie){return x.removeEventListener(L,ie)}static{this.\u0275fac=function(L){return new(L||yt)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:yt,factory:yt.\u0275fac})}}return yt})();const ke=["alt","control","meta","shift"],st={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tn={alt:yt=>yt.altKey,control:yt=>yt.ctrlKey,meta:yt=>yt.metaKey,shift:yt=>yt.shiftKey};let ze=(()=>{class yt extends Ae{constructor(x){super(x)}supports(x){return null!=yt.parseEventName(x)}addEventListener(x,L,ie){const me=yt.parseEventName(L),pt=yt.eventCallback(me.fullKey,ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,le.QT)().onAndCancel(x,me.domEventName,pt))}static parseEventName(x){const L=x.toLowerCase().split("."),ie=L.shift();if(0===L.length||"keydown"!==ie&&"keyup"!==ie)return null;const me=yt._normalizeKey(L.pop());let pt="",Ot=L.indexOf("code");if(Ot>-1&&(L.splice(Ot,1),pt="code."),ke.forEach(pn=>{const Rn=L.indexOf(pn);Rn>-1&&(L.splice(Rn,1),pt+=pn+".")}),pt+=me,0!=L.length||0===me.length)return null;const ln={};return ln.domEventName=ie,ln.fullKey=pt,ln}static matchEventFullKeyCode(x,L){let ie=st[x.key]||x.key,me="";return L.indexOf("code.")>-1&&(ie=x.code,me="code."),!(null==ie||!ie)&&(ie=ie.toLowerCase()," "===ie?ie="space":"."===ie&&(ie="dot"),ke.forEach(pt=>{pt!==ie&&(0,tn[pt])(x)&&(me+=pt+".")}),me+=ie,me===L)}static eventCallback(x,L,ie){return me=>{yt.matchEventFullKeyCode(me,x)&&ie.runGuarded(()=>L(me))}}static _normalizeKey(x){return"esc"===x?"escape":x}static{this.\u0275fac=function(L){return new(L||yt)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:yt,factory:yt.\u0275fac})}}return yt})();const on=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:le.AJ},{provide:o.PLl,useValue:function it(){ve.makeCurrent()},multi:!0},{provide:le.qQ,useFactory:function An(){return(0,o.TL$)(document),document},deps:[]}]),Un=new o.nKC(""),Zt=[{provide:o.e01,useClass:class xe{addToWindow($){o.JZv.getAngularTestability=(L,ie=!0)=>{const me=$.findTestabilityInTree(L,ie);if(null==me)throw new o.wOt(5103,!1);return me},o.JZv.getAllAngularTestabilities=()=>$.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>$.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(L=>{const ie=o.JZv.getAllAngularTestabilities();let me=ie.length,pt=!1;const Ot=function(ln){pt=pt||ln,me--,0==me&&L(pt)};ie.forEach(ln=>{ln.whenStable(Ot)})})}findTestabilityInTree($,x,L){return null==x?null:$.getTestability(x)??(L?(0,le.QT)().isShadowRoot(x)?this.findTestabilityInTree($,x.host,!0):this.findTestabilityInTree($,x.parentElement,!0):null)}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],Hn=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function jt(){return new o.zcH},deps:[]},{provide:te,useClass:lt,multi:!0,deps:[le.qQ,o.SKi,o.Agw]},{provide:te,useClass:ze,multi:!0,deps:[le.qQ]},ht,de,fe,{provide:o._9s,useExisting:ht},{provide:le.N0,useClass:Y,deps:[]},[]];let xn=(()=>{class yt{constructor(x){}static withServerTransition(x){return{ngModule:yt,providers:[{provide:o.sZ2,useValue:x.appId}]}}static{this.\u0275fac=function(L){return new(L||yt)(o.KVO(Un,12))}}static{this.\u0275mod=o.$C({type:yt})}static{this.\u0275inj=o.G2t({providers:[...Hn,...Zt],imports:[le.MD,o.Hbi]})}}return yt})(),$t=(()=>{class yt{constructor(x){this._doc=x,this._dom=(0,le.QT)()}addTag(x,L=!1){return x?this._getOrCreateElement(x,L):null}addTags(x,L=!1){return x?x.reduce((ie,me)=>(me&&ie.push(this._getOrCreateElement(me,L)),ie),[]):[]}getTag(x){return x&&this._doc.querySelector(`meta[${x}]`)||null}getTags(x){if(!x)return[];const L=this._doc.querySelectorAll(`meta[${x}]`);return L?[].slice.call(L):[]}updateTag(x,L){if(!x)return null;L=L||this._parseSelector(x);const ie=this.getTag(L);return ie?this._setMetaElementAttributes(x,ie):this._getOrCreateElement(x,!0)}removeTag(x){this.removeTagElement(this.getTag(x))}removeTagElement(x){x&&this._dom.remove(x)}_getOrCreateElement(x,L=!1){if(!L){const pt=this._parseSelector(x),Ot=this.getTags(pt).filter(ln=>this._containsAttributes(x,ln))[0];if(void 0!==Ot)return Ot}const ie=this._dom.createElement("meta");return this._setMetaElementAttributes(x,ie),this._doc.getElementsByTagName("head")[0].appendChild(ie),ie}_setMetaElementAttributes(x,L){return Object.keys(x).forEach(ie=>L.setAttribute(this._getMetaKeyMap(ie),x[ie])),L}_parseSelector(x){const L=x.name?"name":"property";return`${L}="${x[L]}"`}_containsAttributes(x,L){return Object.keys(x).every(ie=>L.getAttribute(this._getMetaKeyMap(ie))===x[ie])}_getMetaKeyMap(x){return Er[x]||x}static{this.\u0275fac=function(L){return new(L||yt)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:yt,factory:function(L){let ie=null;return ie=L?new L:function Kt(){return new $t((0,o.KVO)(le.qQ))}(),ie},providedIn:"root"})}}return yt})();const Er={httpEquiv:"http-equiv"};let xr=(()=>{class yt{constructor(x){this._doc=x}getTitle(){return this._doc.title}setTitle(x){this._doc.title=x||""}static{this.\u0275fac=function(L){return new(L||yt)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:yt,factory:function(L){let ie=null;return ie=L?new L:function an(){return new xr((0,o.KVO)(le.qQ))}(),ie},providedIn:"root"})}}return yt})();typeof window<"u"&&window;let Si=(()=>{class yt{static{this.\u0275fac=function(L){return new(L||yt)}}static{this.\u0275prov=o.jDH({token:yt,factory:function(L){let ie=null;return ie=L?new(L||yt):o.KVO(It),ie},providedIn:"root"})}}return yt})(),It=(()=>{class yt extends Si{constructor(x){super(),this._doc=x}sanitize(x,L){if(null==L)return null;switch(x){case o.WPN.NONE:return L;case o.WPN.HTML:return(0,o.ZF7)(L,"HTML")?(0,o.rcV)(L):(0,o.h9k)(this._doc,String(L)).toString();case o.WPN.STYLE:return(0,o.ZF7)(L,"Style")?(0,o.rcV)(L):L;case o.WPN.SCRIPT:if((0,o.ZF7)(L,"Script"))return(0,o.rcV)(L);throw new o.wOt(5200,!1);case o.WPN.URL:return(0,o.ZF7)(L,"URL")?(0,o.rcV)(L):(0,o.$MX)(String(L));case o.WPN.RESOURCE_URL:if((0,o.ZF7)(L,"ResourceURL"))return(0,o.rcV)(L);throw new o.wOt(5201,!1);default:throw new o.wOt(5202,!1)}}bypassSecurityTrustHtml(x){return(0,o.Kcf)(x)}bypassSecurityTrustStyle(x){return(0,o.cWb)(x)}bypassSecurityTrustScript(x){return(0,o.UyX)(x)}bypassSecurityTrustUrl(x){return(0,o.osQ)(x)}bypassSecurityTrustResourceUrl(x){return(0,o.e5t)(x)}static{this.\u0275fac=function(L){return new(L||yt)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:yt,factory:function(L){let ie=null;return ie=L?new L:function ot(yt){return new It(yt.get(le.qQ))}(o.KVO(o.zZn)),ie},providedIn:"root"})}}return yt})()},6814:(sn,Ze,F)=>{F.d(Ze,{nX:()=>hr,Ix:()=>Gi,Wk:()=>Oo,wQ:()=>ws,iI:()=>dl,n3:()=>mi});var o=F(7705),le=F(1985),i=F(8071),_e=F(8455),Ce=F(7673),ye=F(4412),Ve=F(3073),xe=F(3669),Y=F(6450),te=F(3794),fe=F(8496),Ae=F(4360),Ne=F(5225);function de(...D){const O=(0,te.lI)(D),w=(0,te.ms)(D),{args:N,keys:G}=(0,Ve.D)(D);if(0===N.length)return(0,_e.H)([],O);const ae=new le.c(function Ke(D,O,w=xe.D){return N=>{mt(O,()=>{const{length:G}=D,ae=new Array(G);let Me=G,Dt=G;for(let bt=0;bt<G;bt++)mt(O,()=>{const In=(0,_e.H)(D[bt],O);let yr=!1;In.subscribe((0,Ae._)(N,sr=>{ae[bt]=sr,yr||(yr=!0,Dt--),Dt||N.next(w(ae.slice()))},()=>{--Me||N.complete()}))},N)},N)}}(N,O,G?Me=>(0,fe.e)(G,Me):xe.D));return w?ae.pipe((0,Y.I)(w)):ae}function mt(D,O,w){D?(0,Ne.N)(w,D,O):O()}var Ft=F(9350),Jt=F(8793),He=F(8750);function Ie(D){return new le.c(O=>{(0,He.Tg)(D()).subscribe(O)})}var tt=F(1203),Xe=F(8810),dt=F(983),Nt=F(8359),ht=F(9974);function Ee(){return(0,ht.N)((D,O)=>{let w=null;D._refCount++;const N=(0,Ae._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const G=D._connection,ae=w;w=null,G&&(!ae||G===ae)&&G.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(w=D.connect())})}class Je extends le.c{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,ht.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Nt.yU;const w=this.getSubject();O.add(this.source.subscribe((0,Ae._)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Nt.yU.EMPTY)}return O}refCount(){return Ee()(this)}}var Xt=F(1413),Fn=F(177),qe=F(6354),xt=F(5558),je=F(6697),lt=F(9172),ke=F(5964),st=F(1397),tn=F(1594),ze=F(274),Re=F(8141),Te=F(9437),Le=F(2816),ct=F(9901);function it(D){return D<=0?()=>dt.w:(0,ht.N)((O,w)=>{let N=[];O.subscribe((0,Ae._)(w,G=>{N.push(G),D<N.length&&N.shift()},()=>{for(const G of N)w.next(G);w.complete()},void 0,()=>{N=null}))})}var jt=F(3774),on=F(980),Un=F(5343),Hn=F(6365),xn=F(345);const Kt="primary",$t=Symbol("RouteTitle");class Er{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function an(D){return new Er(D)}function xr(D,O,w){const N=w.path.split("/");if(N.length>D.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const G={};for(let ae=0;ae<N.length;ae++){const Me=N[ae],Dt=D[ae];if(Me.startsWith(":"))G[Me.substring(1)]=Dt;else if(Me!==Dt.path)return null}return{consumed:D.slice(0,N.length),posParams:G}}function zt(D,O){const w=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let G;for(let ae=0;ae<w.length;ae++)if(G=w[ae],!wn(D[G],O[G]))return!1;return!0}function wn(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const w=[...D].sort(),N=[...O].sort();return w.every((G,ae)=>N[ae]===G)}return D===O}function Wn(D){return D.length>0?D[D.length-1]:null}function Cn(D){return function ve(D){return!!D&&(D instanceof le.c||(0,i.T)(D.lift)&&(0,i.T)(D.subscribe))}(D)?D:(0,o.jNT)(D)?(0,_e.H)(Promise.resolve(D)):(0,Ce.of)(D)}const Vr={exact:function di(D,O,w){if(!It(D.segments,O.segments)||!er(D.segments,O.segments,w)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!di(D.children[N],O.children[N],w))return!1;return!0},subset:fn},Sr={exact:function Kn(D,O){return zt(D,O)},subset:function ys(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(w=>wn(D[w],O[w]))},ignored:()=>!0};function ei(D,O,w){return Vr[w.paths](D.root,O.root,w.matrixParams)&&Sr[w.queryParams](D.queryParams,O.queryParams)&&!("exact"===w.fragment&&D.fragment!==O.fragment)}function fn(D,O,w){return ti(D,O,O.segments,w)}function ti(D,O,w,N){if(D.segments.length>w.length){const G=D.segments.slice(0,w.length);return!(!It(G,w)||O.hasChildren()||!er(G,w,N))}if(D.segments.length===w.length){if(!It(D.segments,w)||!er(D.segments,w,N))return!1;for(const G in O.children)if(!D.children[G]||!fn(D.children[G],O.children[G],N))return!1;return!0}{const G=w.slice(0,D.segments.length),ae=w.slice(D.segments.length);return!!(It(D.segments,G)&&er(D.segments,G,N)&&D.children[Kt])&&ti(D.children[Kt],O,ae,N)}}function er(D,O,w){return O.every((N,G)=>Sr[w](D[G].parameters,N.parameters))}class Ir{constructor(O=new Bn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return De.serialize(this)}}class Bn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vt(this)}}class Si{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=an(this.parameters)),this._parameterMap}toString(){return ie(this)}}function It(D,O){return D.length===O.length&&D.every((w,N)=>w.path===O[N].path)}let Fe=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return new St},providedIn:"root"})}}return D})();class St{parse(O){const w=new Vs(O);return new Ir(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${Se(O.root,!0)}`,N=function pt(D){const O=Object.keys(D).map(w=>{const N=D[w];return Array.isArray(N)?N.map(G=>`${vn(w)}=${vn(G)}`).join("&"):`${vn(w)}=${vn(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function yt(D){return encodeURI(D)}(O.fragment)}`:""}`}}const De=new St;function Vt(D){return D.segments.map(O=>ie(O)).join("/")}function Se(D,O){if(!D.hasChildren())return Vt(D);if(O){const w=D.children[Kt]?Se(D.children[Kt],!1):"",N=[];return Object.entries(D.children).forEach(([G,ae])=>{G!==Kt&&N.push(`${G}:${Se(ae,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function ue(D,O){let w=[];return Object.entries(D.children).forEach(([N,G])=>{N===Kt&&(w=w.concat(O(G,N)))}),Object.entries(D.children).forEach(([N,G])=>{N!==Kt&&(w=w.concat(O(G,N)))}),w}(D,(N,G)=>G===Kt?[Se(D.children[Kt],!1)]:[`${G}:${Se(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Kt]?`${Vt(D)}/${w[0]}`:`${Vt(D)}/(${w.join("//")})`}}function ut(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vn(D){return ut(D).replace(/%3B/gi,";")}function $(D){return ut(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function x(D){return decodeURIComponent(D)}function L(D){return x(D.replace(/\+/g,"%20"))}function ie(D){return`${$(D.path)}${function me(D){return Object.keys(D).map(O=>`;${$(O)}=${$(D[O])}`).join("")}(D.parameters)}`}const Ot=/^[^\/()?;#]+/;function ln(D){const O=D.match(Ot);return O?O[0]:""}const pn=/^[^\/()?;=#]+/,br=/^[^=?&#]+/,Gr=/^[^&#]+/;class Vs{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Kt]=new Bn(O,w)),N}parseSegment(){const O=ln(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new o.wOt(4009,!1);return this.capture(O),new Si(x(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function Rn(D){const O=D.match(pn);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const G=ln(this.remaining);G&&(N=G,this.capture(N))}O[x(w)]=x(N)}parseQueryParam(O){const w=function cn(D){const O=D.match(br);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Me=function dr(D){const O=D.match(Gr);return O?O[0]:""}(this.remaining);Me&&(N=Me,this.capture(N))}const G=L(w),ae=L(N);if(O.hasOwnProperty(G)){let Me=O[G];Array.isArray(Me)||(Me=[Me],O[G]=Me),Me.push(ae)}else O[G]=ae}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=ln(this.remaining),G=this.remaining[N.length];if("/"!==G&&")"!==G&&";"!==G)throw new o.wOt(4010,!1);let ae;N.indexOf(":")>-1?(ae=N.slice(0,N.indexOf(":")),this.capture(ae),this.capture(":")):O&&(ae=Kt);const Me=this.parseChildren();w[ae]=1===Object.keys(Me).length?Me[Kt]:new Bn([],Me),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new o.wOt(4011,!1)}}function Ni(D){return D.segments.length>0?new Bn([],{[Kt]:D}):D}function vs(D){const O={};for(const N of Object.keys(D.children)){const ae=vs(D.children[N]);if(N===Kt&&0===ae.segments.length&&ae.hasChildren())for(const[Me,Dt]of Object.entries(ae.children))O[Me]=Dt;else(ae.segments.length>0||ae.hasChildren())&&(O[N]=ae)}return function Es(D){if(1===D.numberOfChildren&&D.children[Kt]){const O=D.children[Kt];return new Bn(D.segments.concat(O.segments),O.children)}return D}(new Bn(D.segments,O))}function gi(D){return D instanceof Ir}function xs(D){let O;const G=Ni(function w(ae){const Me={};for(const bt of ae.children){const In=w(bt);Me[bt.outlet]=In}const Dt=new Bn(ae.url,Me);return ae===D&&(O=Dt),Dt}(D.root));return O??G}function Rt(D,O,w,N){let G=D;for(;G.parent;)G=G.parent;if(0===O.length)return un(G,G,G,w,N);const ae=function fr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Ln(!0,0,D);let O=0,w=!1;const N=D.reduce((G,ae,Me)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const Dt={};return Object.entries(ae.outlets).forEach(([bt,In])=>{Dt[bt]="string"==typeof In?In.split("/"):In}),[...G,{outlets:Dt}]}if(ae.segmentPath)return[...G,ae.segmentPath]}return"string"!=typeof ae?[...G,ae]:0===Me?(ae.split("/").forEach((Dt,bt)=>{0==bt&&"."===Dt||(0==bt&&""===Dt?w=!0:".."===Dt?O++:""!=Dt&&G.push(Dt))}),G):[...G,ae]},[]);return new Ln(w,O,N)}(O);if(ae.toRoot())return un(G,G,new Bn([],{}),w,N);const Me=function Wr(D,O,w){if(D.isAbsolute)return new Ur(O,!0,0);if(!w)return new Ur(O,!1,NaN);if(null===w.parent)return new Ur(w,!0,0);const N=at(D.commands[0])?0:1;return function pr(D,O,w){let N=D,G=O,ae=w;for(;ae>G;){if(ae-=G,N=N.parent,!N)throw new o.wOt(4005,!1);G=N.segments.length}return new Ur(N,!1,G-ae)}(w,w.segments.length-1+N,D.numberOfDoubleDots)}(ae,G,D),Dt=Me.processChildren?ss(Me.segmentGroup,Me.index,ae.commands):Ms(Me.segmentGroup,Me.index,ae.commands);return un(G,Me.segmentGroup,Dt,w,N)}function at(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function kt(D){return"object"==typeof D&&null!=D&&D.outlets}function un(D,O,w,N,G){let Me,ae={};N&&Object.entries(N).forEach(([bt,In])=>{ae[bt]=Array.isArray(In)?In.map(yr=>`${yr}`):`${In}`}),Me=D===O?w:$n(D,O,w);const Dt=Ni(vs(Me));return new Ir(Dt,ae,G)}function $n(D,O,w){const N={};return Object.entries(D.children).forEach(([G,ae])=>{N[G]=ae===O?w:$n(ae,O,w)}),new Bn(D.segments,N)}class Ln{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&at(N[0]))throw new o.wOt(4003,!1);const G=N.find(kt);if(G&&G!==Wn(N))throw new o.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ur{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function Ms(D,O,w){if(D||(D=new Bn([],{})),0===D.segments.length&&D.hasChildren())return ss(D,O,w);const N=function Do(D,O,w){let N=0,G=O;const ae={match:!1,pathIndex:0,commandIndex:0};for(;G<D.segments.length;){if(N>=w.length)return ae;const Me=D.segments[G],Dt=w[N];if(kt(Dt))break;const bt=`${Dt}`,In=N<w.length-1?w[N+1]:null;if(G>0&&void 0===bt)break;if(bt&&In&&"object"==typeof In&&void 0===In.outlets){if(!li(bt,In,Me))return ae;N+=2}else{if(!li(bt,{},Me))return ae;N++}G++}return{match:!0,pathIndex:G,commandIndex:N}}(D,O,w),G=w.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const ae=new Bn(D.segments.slice(0,N.pathIndex),{});return ae.children[Kt]=new Bn(D.segments.slice(N.pathIndex),D.children),ss(ae,0,G)}return N.match&&0===G.length?new Bn(D.segments,{}):N.match&&!D.hasChildren()?So(D,O,w):N.match?ss(D,0,G):So(D,O,w)}function ss(D,O,w){if(0===w.length)return new Bn(D.segments,{});{const N=function Qi(D){return kt(D[0])?D[0].outlets:{[Kt]:D}}(w),G={};if(Object.keys(N).some(ae=>ae!==Kt)&&D.children[Kt]&&1===D.numberOfChildren&&0===D.children[Kt].segments.length){const ae=ss(D.children[Kt],O,w);return new Bn(D.segments,ae.children)}return Object.entries(N).forEach(([ae,Me])=>{"string"==typeof Me&&(Me=[Me]),null!==Me&&(G[ae]=Ms(D.children[ae],O,Me))}),Object.entries(D.children).forEach(([ae,Me])=>{void 0===N[ae]&&(G[ae]=Me)}),new Bn(D.segments,G)}}function So(D,O,w){const N=D.segments.slice(0,O);let G=0;for(;G<w.length;){const ae=w[G];if(kt(ae)){const bt=ji(ae.outlets);return new Bn(N,bt)}if(0===G&&at(w[0])){N.push(new Si(D.segments[O].path,Go(w[0]))),G++;continue}const Me=kt(ae)?ae.outlets[Kt]:`${ae}`,Dt=G<w.length-1?w[G+1]:null;Me&&Dt&&at(Dt)?(N.push(new Si(Me,Go(Dt))),G+=2):(N.push(new Si(Me,{})),G++)}return new Bn(N,{})}function ji(D){const O={};return Object.entries(D).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=So(new Bn([],{}),0,N))}),O}function Go(D){const O={};return Object.entries(D).forEach(([w,N])=>O[w]=`${N}`),O}function li(D,O,w){return D==w.path&&zt(O,w.parameters)}const os="imperative";class bs{constructor(O,w){this.id=O,this.url=w}}class Kr extends bs{constructor(O,w,N="imperative",G=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hi extends bs{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xi extends bs{constructor(O,w,N,G){super(O,w),this.reason=N,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ar extends bs{constructor(O,w,N,G){super(O,w),this.reason=N,this.code=G,this.type=16}}class uo extends bs{constructor(O,w,N,G){super(O,w),this.error=N,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ro extends bs{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends bs{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Na extends bs{constructor(O,w,N,G,ae){super(O,w),this.urlAfterRedirects=N,this.state=G,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tl extends bs{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ri extends bs{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class va{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qs{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ni{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Us{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bi{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bi{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qn{}class qr{constructor(O){this.url=O}}class zi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jr,this.attachRef=null}}let jr=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const G=this.getOrCreateContext(w);G.outlet=N,this.contexts.set(w,G)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new zi,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class as{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=Ys(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=Ys(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=ki(O,this._root);return w.length<2?[]:w[w.length-2].children.map(G=>G.value).filter(G=>G!==O)}pathFromRoot(O){return ki(O,this._root).map(w=>w.value)}}function Ys(D,O){if(D===O.value)return O;for(const w of O.children){const N=Ys(D,w);if(N)return N}return null}function ki(D,O){if(D===O.value)return[O];for(const w of O.children){const N=ki(D,w);if(N.length)return N.unshift(O),N}return[]}class Ts{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ds(D){const O={};return D&&D.children.forEach(w=>O[w.value.outlet]=w),O}class Hr extends as{constructor(O,w){super(O),this.snapshot=w,Yr(this,O)}toString(){return this.snapshot.toString()}}function _n(D,O){const w=function ir(D,O){const Me=new Fi([],{},{},"",{},Kt,O,null,{});return new js("",new Ts(Me,[]))}(0,O),N=new ye.t([new Si("",{})]),G=new ye.t({}),ae=new ye.t({}),Me=new ye.t({}),Dt=new ye.t(""),bt=new hr(N,G,Me,Dt,ae,Kt,O,w.root);return bt.snapshot=w.root,new Hr(new Ts(bt,[]),w)}class hr{constructor(O,w,N,G,ae,Me,Dt,bt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=G,this.dataSubject=ae,this.outlet=Me,this.component=Dt,this._futureSnapshot=bt,this.title=this.dataSubject?.pipe((0,qe.T)(In=>In[$t]))??(0,Ce.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=G,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qe.T)(O=>an(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qe.T)(O=>an(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ji(D,O="emptyOnly"){const w=D.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const G=w[N],ae=w[N-1];if(G.routeConfig&&""===G.routeConfig.path)N--;else{if(ae.component)break;N--}}return function ls(D){return D.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class Fi{get title(){return this.data?.[$t]}constructor(O,w,N,G,ae,Me,Dt,bt,In){this.url=O,this.params=w,this.queryParams=N,this.fragment=G,this.data=ae,this.outlet=Me,this.component=Dt,this.routeConfig=bt,this._resolve=In}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=an(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class js extends as{constructor(O,w){super(w),this.url=O,Yr(this,w)}toString(){return cs(this._root)}}function Yr(D,O){O.value._routerState=D,O.children.forEach(w=>Yr(D,w))}function cs(D){const O=D.children.length>0?` { ${D.children.map(cs).join(", ")} } `:"";return`${D.value}${O}`}function Ss(D){if(D.snapshot){const O=D.snapshot,w=D._futureSnapshot;D.snapshot=w,zt(O.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),zt(O.params,w.params)||D.paramsSubject.next(w.params),function Jn(D,O){if(D.length!==O.length)return!1;for(let w=0;w<D.length;++w)if(!zt(D[w],O[w]))return!1;return!0}(O.url,w.url)||D.urlSubject.next(w.url),zt(O.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Gn(D,O){const w=zt(D.params,O.params)&&function ot(D,O){return It(D,O)&&D.every((w,N)=>zt(w.parameters,O[N].parameters))}(D.url,O.url);return w&&!(!D.parent!=!O.parent)&&(!D.parent||Gn(D.parent,O.parent))}let mi=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Kt,this.activateEvents=new o.bkB,this.deactivateEvents=new o.bkB,this.attachEvents=new o.bkB,this.detachEvents=new o.bkB,this.parentContexts=(0,o.WQX)(jr),this.location=(0,o.WQX)(o.c1b),this.changeDetector=(0,o.WQX)(o.gRc),this.environmentInjector=(0,o.WQX)(o.uvJ),this.inputBinder=(0,o.WQX)(Z,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:G}=w.name;if(N)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new o.wOt(4013,!1);this._activatedRoute=w;const G=this.location,Me=w.snapshot.component,Dt=this.parentContexts.getOrCreateContext(this.name).children,bt=new Zi(w,Dt,G.injector);this.activated=G.createComponent(Me,{index:G.length,injector:bt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=o.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.OA$]})}}return D})();class Zi{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===hr?this.route:O===jr?this.childContexts:this.parent.get(O,w)}}const Z=new o.nKC("");let J=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,G=de([N.queryParams,N.params,N.data]).pipe((0,xt.n)(([ae,Me,Dt],bt)=>(Dt={...ae,...Me,...Dt},0===bt?(0,Ce.of)(Dt):Promise.resolve(Dt)))).subscribe(ae=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Me=(0,o.HJs)(N.component);if(Me)for(const{templateName:Dt}of Me.inputs)w.activatedComponentRef.setInput(Dt,ae[Dt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,G)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function Ue(D,O,w){if(w&&D.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const G=function nt(D,O,w){return O.children.map(N=>{for(const G of w.children)if(D.shouldReuseRoute(N.value,G.value.snapshot))return Ue(D,N,G);return Ue(D,N)})}(D,O,w);return new Ts(N,G)}{if(D.shouldAttach(O.value)){const ae=D.retrieve(O.value);if(null!==ae){const Me=ae.route;return Me.value._futureSnapshot=O.value,Me.children=O.children.map(Dt=>Ue(D,Dt)),Me}}const N=function Et(D){return new hr(new ye.t(D.url),new ye.t(D.params),new ye.t(D.queryParams),new ye.t(D.fragment),new ye.t(D.data),D.outlet,D.component,D)}(O.value),G=O.children.map(ae=>Ue(D,ae));return new Ts(N,G)}}const Yt="ngNavigationCancelingError";function Dn(D,O){const{redirectTo:w,navigationBehaviorOptions:N}=gi(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,G=gn(!1,0,O);return G.url=w,G.navigationBehaviorOptions=N,G}function gn(D,O,w){const N=new Error("NavigationCancelingError: "+(D||""));return N[Yt]=!0,N.cancellationCode=O,w&&(N.url=w),N}function Dr(D){return D&&D[Yt]}let Mn=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(N,G){1&N&&o.nrm(0,"router-outlet")},dependencies:[mi],encapsulation:2})}}return D})();function Ii(D){const O=D.children&&D.children.map(Ii),w=O?{...D,children:O}:{...D};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Kt&&(w.component=Mn),w}function Mr(D){return D.outlet||Kt}function us(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class ra{constructor(O,w,N,G,ae){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=G,this.inputBindingEnabled=ae}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),Ss(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const G=Ds(w);O.children.forEach(ae=>{const Me=ae.value.outlet;this.deactivateRoutes(ae,G[Me],N),delete G[Me]}),Object.values(G).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,N)})}deactivateRoutes(O,w,N){const G=O.value,ae=w?w.value:null;if(G===ae)if(G.component){const Me=N.getContext(G.outlet);Me&&this.deactivateChildRoutes(O,w,Me.children)}else this.deactivateChildRoutes(O,w,N);else ae&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),G=N&&O.value.component?N.children:w,ae=Ds(O);for(const Me of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Me],G);if(N&&N.outlet){const Me=N.outlet.detach(),Dt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Me,route:O,contexts:Dt})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),G=N&&O.value.component?N.children:w,ae=Ds(O);for(const Me of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Me],G);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const G=Ds(w);O.children.forEach(ae=>{this.activateRoutes(ae,G[ae.value.outlet],N),this.forwardEvent(new Bi(ae.value.snapshot))}),O.children.length&&this.forwardEvent(new Us(O.value.snapshot))}activateRoutes(O,w,N){const G=O.value,ae=w?w.value:null;if(Ss(G),G===ae)if(G.component){const Me=N.getOrCreateContext(G.outlet);this.activateChildRoutes(O,w,Me.children)}else this.activateChildRoutes(O,w,N);else if(G.component){const Me=N.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Dt=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Me.children.onOutletReAttached(Dt.contexts),Me.attachRef=Dt.componentRef,Me.route=Dt.route.value,Me.outlet&&Me.outlet.attach(Dt.componentRef,Dt.route.value),Ss(Dt.route.value),this.activateChildRoutes(O,null,Me.children)}else{const Dt=us(G.snapshot);Me.attachRef=null,Me.route=G,Me.injector=Dt,Me.outlet&&Me.outlet.activateWith(G,Me.injector),this.activateChildRoutes(O,null,Me.children)}}else this.activateChildRoutes(O,null,N)}}class nl{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class ia{constructor(O,w){this.component=O,this.route=w}}function ec(D,O,w){const N=D._root;return Po(N,O?O._root:null,w,[N.value])}function Os(D,O){const w=Symbol(),N=O.get(D,w);return N===w?"function"!=typeof D||(0,o.LfX)(D)?O.get(D):D:N}function Po(D,O,w,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=Ds(O);return D.children.forEach(Me=>{(function ka(D,O,w,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=D.value,Me=O?O.value:null,Dt=w?w.getContext(D.value.outlet):null;if(Me&&ae.routeConfig===Me.routeConfig){const bt=function Fa(D,O,w){if("function"==typeof w)return w(D,O);switch(w){case"pathParamsChange":return!It(D.url,O.url);case"pathParamsOrQueryParamsChange":return!It(D.url,O.url)||!zt(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gn(D,O)||!zt(D.queryParams,O.queryParams);default:return!Gn(D,O)}}(Me,ae,ae.routeConfig.runGuardsAndResolvers);bt?G.canActivateChecks.push(new nl(N)):(ae.data=Me.data,ae._resolvedData=Me._resolvedData),Po(D,O,ae.component?Dt?Dt.children:null:w,N,G),bt&&Dt&&Dt.outlet&&Dt.outlet.isActivated&&G.canDeactivateChecks.push(new ia(Dt.outlet.component,Me))}else Me&&_i(O,Dt,G),G.canActivateChecks.push(new nl(N)),Po(D,null,ae.component?Dt?Dt.children:null:w,N,G)})(Me,ae[Me.value.outlet],w,N.concat([Me.value]),G),delete ae[Me.value.outlet]}),Object.entries(ae).forEach(([Me,Dt])=>_i(Dt,w.getContext(Me),G)),G}function _i(D,O,w){const N=Ds(D),G=D.value;Object.entries(N).forEach(([ae,Me])=>{_i(Me,G.component?O?O.children.getContext(ae):null:O,w)}),w.canDeactivateChecks.push(new ia(G.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,G))}function xo(D){return"function"==typeof D}function Cs(D){return D instanceof Ft.G||"EmptyError"===D?.name}const Qs=Symbol("INITIAL_VALUE");function es(){return(0,xt.n)(D=>de(D.map(O=>O.pipe((0,je.s)(1),(0,lt.Z)(Qs)))).pipe((0,qe.T)(O=>{for(const w of O)if(!0!==w){if(w===Qs)return Qs;if(!1===w||w instanceof Ir)return w}return!0}),(0,ke.p)(O=>O!==Qs),(0,je.s)(1)))}function ms(D){return(0,tt.F)((0,Re.M)(O=>{if(gi(O))throw Dn(0,O)}),(0,qe.T)(O=>!0===O))}class fo{constructor(O){this.segmentGroup=O||null}}class oa{constructor(O){this.urlTree=O}}function Is(D){return(0,Xe.$)(new fo(D))}function ba(D){return(0,Xe.$)(new oa(D))}class Du{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new o.wOt(4002,!1)}lineralizeSegments(O,w){let N=[],G=w.root;for(;;){if(N=N.concat(G.segments),0===G.numberOfChildren)return(0,Ce.of)(N);if(G.numberOfChildren>1||!G.children[Kt])return(0,Xe.$)(new o.wOt(4e3,!1));G=G.children[Kt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,G){const ae=this.createSegmentGroup(O,w.root,N,G);return new Ir(ae,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([G,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const Dt=ae.substring(1);N[G]=w[Dt]}else N[G]=ae}),N}createSegmentGroup(O,w,N,G){const ae=this.createSegments(O,w.segments,N,G);let Me={};return Object.entries(w.children).forEach(([Dt,bt])=>{Me[Dt]=this.createSegmentGroup(O,bt,N,G)}),new Bn(ae,Me)}createSegments(O,w,N,G){return w.map(ae=>ae.path.startsWith(":")?this.findPosParam(O,ae,G):this.findOrReturn(ae,N))}findPosParam(O,w,N){const G=N[w.path.substring(1)];if(!G)throw new o.wOt(4001,!1);return G}findOrReturn(O,w){let N=0;for(const G of w){if(G.path===O.path)return w.splice(N),G;N++}return O}}const mr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rl(D,O,w,N,G){const ae=_o(D,O,w);return ae.matched?(N=function Vn(D,O){return D.providers&&!D._injector&&(D._injector=(0,o.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function rl(D,O,w,N){const G=O.canMatch;if(!G||0===G.length)return(0,Ce.of)(!0);const ae=G.map(Me=>{const Dt=Os(Me,D);return Cn(function $e(D){return D&&xo(D.canMatch)}(Dt)?Dt.canMatch(O,w):D.runInContext(()=>Dt(O,w)))});return(0,Ce.of)(ae).pipe(es(),ms())}(N,O,w).pipe((0,qe.T)(Me=>!0===Me?ae:{...mr}))):(0,Ce.of)(ae)}function _o(D,O,w){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||w.length>0)?{...mr}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const G=(O.matcher||xr)(w,D,O);if(!G)return{...mr};const ae={};Object.entries(G.posParams??{}).forEach(([Dt,bt])=>{ae[Dt]=bt.path});const Me=G.consumed.length>0?{...ae,...G.consumed[G.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:G.consumed,remainingSegments:w.slice(G.consumed.length),parameters:Me,positionalParamSegments:G.posParams??{}}}function yo(D,O,w,N){return w.length>0&&function sl(D,O,w){return w.some(N=>ol(D,O,N)&&Mr(N)!==Kt)}(D,w,N)?{segmentGroup:new Bn(O,Su(N,new Bn(w,D.children))),slicedSegments:[]}:0===w.length&&function Hh(D,O,w){return w.some(N=>ol(D,O,N))}(D,w,N)?{segmentGroup:new Bn(D.segments,il(D,0,w,N,D.children)),slicedSegments:w}:{segmentGroup:new Bn(D.segments,D.children),slicedSegments:w}}function il(D,O,w,N,G){const ae={};for(const Me of N)if(ol(D,w,Me)&&!G[Mr(Me)]){const Dt=new Bn([],{});ae[Mr(Me)]=Dt}return{...G,...ae}}function Su(D,O){const w={};w[Kt]=O;for(const N of D)if(""===N.path&&Mr(N)!==Kt){const G=new Bn([],{});w[Mr(N)]=G}return w}function ol(D,O,w){return(!(D.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class nc{constructor(O,w,N,G,ae,Me,Dt){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=G,this.urlTree=ae,this.paramsInheritanceStrategy=Me,this.urlSerializer=Dt,this.allowRedirects=!0,this.applyRedirects=new Du(this.urlSerializer,this.urlTree)}noMatchError(O){return new o.wOt(4002,!1)}recognize(){const O=yo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Kt).pipe((0,Te.W)(w=>{if(w instanceof oa)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof fo?this.noMatchError(w):w}),(0,qe.T)(w=>{const N=new Fi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,{}),G=new Ts(N,w),ae=new js("",G),Me=function ar(D,O,w=null,N=null){return Rt(xs(D),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Me.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(Me),this.inheritParamsAndData(ae._root),{state:ae,tree:Me}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Kt).pipe((0,Te.W)(N=>{throw N instanceof fo?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=Ji(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(O,w,N,G){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,G,!0)}processChildren(O,w,N){const G=[];for(const ae of Object.keys(N.children))"primary"===ae?G.unshift(ae):G.push(ae);return(0,_e.H)(G).pipe((0,ze.H)(ae=>{const Me=N.children[ae],Dt=function Ho(D,O){const w=D.filter(N=>Mr(N)===O);return w.push(...D.filter(N=>Mr(N)!==O)),w}(w,ae);return this.processSegmentGroup(O,Dt,Me,ae)}),(0,Le.S)((ae,Me)=>(ae.push(...Me),ae)),(0,ct.U)(null),function An(D,O){const w=arguments.length>=2;return N=>N.pipe(D?(0,ke.p)((G,ae)=>D(G,ae,N)):xe.D,it(1),w?(0,ct.U)(O):(0,jt.v)(()=>new Ft.G))}(),(0,st.Z)(ae=>{if(null===ae)return Is(N);const Me=Ua(ae);return function Va(D){D.sort((O,w)=>O.value.outlet===Kt?-1:w.value.outlet===Kt?1:O.value.outlet.localeCompare(w.value.outlet))}(Me),(0,Ce.of)(Me)}))}processSegment(O,w,N,G,ae,Me){return(0,_e.H)(w).pipe((0,ze.H)(Dt=>this.processSegmentAgainstRoute(Dt._injector??O,w,Dt,N,G,ae,Me).pipe((0,Te.W)(bt=>{if(bt instanceof fo)return(0,Ce.of)(null);throw bt}))),(0,tn.$)(Dt=>!!Dt),(0,Te.W)(Dt=>{if(Cs(Dt))return function Pl(D,O,w){return 0===O.length&&!D.children[w]}(N,G,ae)?(0,Ce.of)([]):Is(N);throw Dt}))}processSegmentAgainstRoute(O,w,N,G,ae,Me,Dt){return function Ru(D,O,w,N){return!!(Mr(D)===N||N!==Kt&&ol(O,w,D))&&("**"===D.path||_o(O,D,w).matched)}(N,G,ae,Me)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,G,N,ae,Me,Dt):Dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,G,w,N,ae,Me):Is(G):Is(G)}expandSegmentAgainstRouteUsingRedirect(O,w,N,G,ae,Me){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,G,Me):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,G,ae,Me)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,G){const ae=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?ba(ae):this.applyRedirects.lineralizeSegments(N,ae).pipe((0,st.Z)(Me=>{const Dt=new Bn(Me,{});return this.processSegment(O,w,Dt,Me,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,G,ae,Me){const{matched:Dt,consumedSegments:bt,remainingSegments:In,positionalParamSegments:yr}=_o(w,G,ae);if(!Dt)return Is(w);const sr=this.applyRedirects.applyRedirectCommands(bt,G.redirectTo,yr);return G.redirectTo.startsWith("/")?ba(sr):this.applyRedirects.lineralizeSegments(G,sr).pipe((0,st.Z)(Or=>this.processSegment(O,N,w,Or.concat(In),Me,!1)))}matchSegmentAgainstRoute(O,w,N,G,ae,Me){let Dt;if("**"===N.path){const bt=G.length>0?Wn(G).parameters:{},In=new Fi(G,bt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ll(N),Mr(N),N.component??N._loadedComponent??null,N,P(N));Dt=(0,Ce.of)({snapshot:In,consumedSegments:[],remainingSegments:[]}),w.children={}}else Dt=Rl(w,N,G,O).pipe((0,qe.T)(({matched:bt,consumedSegments:In,remainingSegments:yr,parameters:sr})=>bt?{snapshot:new Fi(In,sr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ll(N),Mr(N),N.component??N._loadedComponent??null,N,P(N)),consumedSegments:In,remainingSegments:yr}:null));return Dt.pipe((0,xt.n)(bt=>null===bt?Is(w):this.getChildConfig(O=N._injector??O,N,G).pipe((0,xt.n)(({routes:In})=>{const yr=N._loadedInjector??O,{snapshot:sr,consumedSegments:Or,remainingSegments:fi}=bt,{segmentGroup:ml,slicedSegments:Ml}=yo(w,Or,fi,In);if(0===Ml.length&&ml.hasChildren())return this.processChildren(yr,In,ml).pipe((0,qe.T)(Yo=>null===Yo?null:[new Ts(sr,Yo)]));if(0===In.length&&0===Ml.length)return(0,Ce.of)([new Ts(sr,[])]);const wa=Mr(N)===ae;return this.processSegment(yr,In,ml,Ml,wa?Kt:ae,!0).pipe((0,qe.T)(Yo=>[new Ts(sr,Yo)]))}))))}getChildConfig(O,w,N){return w.children?(0,Ce.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Ce.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function sa(D,O,w,N){const G=O.canLoad;if(void 0===G||0===G.length)return(0,Ce.of)(!0);const ae=G.map(Me=>{const Dt=Os(Me,D);return Cn(function W(D){return D&&xo(D.canLoad)}(Dt)?Dt.canLoad(O,w):D.runInContext(()=>Dt(O,w)))});return(0,Ce.of)(ae).pipe(es(),ms())}(O,w,N).pipe((0,st.Z)(G=>G?this.configLoader.loadChildren(O,w).pipe((0,Re.M)(ae=>{w._loadedRoutes=ae.routes,w._loadedInjector=ae.injector})):function Sl(D){return(0,Xe.$)(gn(!1,3))}())):(0,Ce.of)({routes:[],injector:O})}}function al(D){const O=D.value.routeConfig;return O&&""===O.path}function Ua(D){const O=[],w=new Set;for(const N of D){if(!al(N)){O.push(N);continue}const G=O.find(ae=>N.value.routeConfig===ae.value.routeConfig);void 0!==G?(G.children.push(...N.children),w.add(G)):O.push(N)}for(const N of w){const G=Ua(N.children);O.push(new Ts(N.value,G))}return O.filter(N=>!w.has(N))}function ll(D){return D.data||{}}function P(D){return D.resolve||{}}function jn(D){return"string"==typeof D.title||null===D.title}function zr(D){return(0,xt.n)(O=>{const w=D(O);return w?(0,_e.H)(w).pipe((0,qe.T)(()=>O)):(0,Ce.of)(O)})}const si=new o.nKC("ROUTES");let Qr=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.WQX)(o.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Ce.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=Cn(w.loadComponent()).pipe((0,qe.T)(wi),(0,Re.M)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ae}),(0,on.j)(()=>{this.componentLoaders.delete(w)})),G=new Je(N,()=>new Xt.B).pipe(Ee());return this.componentLoaders.set(w,G),G}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Ce.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ae=function _r(D,O,w,N){return Cn(D.loadChildren()).pipe((0,qe.T)(wi),(0,st.Z)(G=>G instanceof o.Co$||Array.isArray(G)?(0,Ce.of)(G):(0,_e.H)(O.compileModuleAsync(G))),(0,qe.T)(G=>{N&&N(D);let ae,Me,Dt=!1;return Array.isArray(G)?(Me=G,!0):(ae=G.create(w).injector,Me=ae.get(si,[],{optional:!0,self:!0}).flat()),{routes:Me.map(Ii),injector:ae}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,on.j)(()=>{this.childrenLoaders.delete(N)})),Me=new Je(ae,()=>new Xt.B).pipe(Ee());return this.childrenLoaders.set(N,Me),Me}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function wi(D){return function ci(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Ai=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xt.B,this.transitionAbortSubject=new Xt.B,this.configLoader=(0,o.WQX)(Qr),this.environmentInjector=(0,o.WQX)(o.uvJ),this.urlSerializer=(0,o.WQX)(Fe),this.rootContexts=(0,o.WQX)(jr),this.inputBindingEnabled=null!==(0,o.WQX)(Z,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new qs(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new va(G))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,G){return this.transitions=new ye.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:os,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ke.p)(ae=>0!==ae.id),(0,qe.T)(ae=>({...ae,extractedUrl:w.urlHandlingStrategy.extract(ae.rawUrl)})),(0,xt.n)(ae=>{this.currentTransition=ae;let Me=!1,Dt=!1;return(0,Ce.of)(ae).pipe((0,Re.M)(bt=>{this.currentNavigation={id:bt.id,initialUrl:bt.rawUrl,extractedUrl:bt.extractedUrl,trigger:bt.source,extras:bt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xt.n)(bt=>{const In=bt.currentBrowserUrl.toString(),yr=!w.navigated||bt.extractedUrl.toString()!==In||In!==bt.currentUrlTree.toString();if(!yr&&"reload"!==(bt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Or="";return this.events.next(new Ar(bt.id,this.urlSerializer.serialize(bt.rawUrl),Or,0)),bt.resolve(null),dt.w}if(w.urlHandlingStrategy.shouldProcessUrl(bt.rawUrl))return(0,Ce.of)(bt).pipe((0,xt.n)(Or=>{const fi=this.transitions?.getValue();return this.events.next(new Kr(Or.id,this.urlSerializer.serialize(Or.extractedUrl),Or.source,Or.restoredState)),fi!==this.transitions?.getValue()?dt.w:Promise.resolve(Or)}),function ne(D,O,w,N,G,ae){return(0,st.Z)(Me=>function Ko(D,O,w,N,G,ae,Me="emptyOnly"){return new nc(D,O,w,N,G,Me,ae).recognize()}(D,O,w,N,Me.extractedUrl,G,ae).pipe((0,qe.T)(({state:Dt,tree:bt})=>({...Me,targetSnapshot:Dt,urlAfterRedirects:bt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Re.M)(Or=>{ae.targetSnapshot=Or.targetSnapshot,ae.urlAfterRedirects=Or.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Or.urlAfterRedirects};const fi=new Ro(Or.id,this.urlSerializer.serialize(Or.extractedUrl),this.urlSerializer.serialize(Or.urlAfterRedirects),Or.targetSnapshot);this.events.next(fi)}));if(yr&&w.urlHandlingStrategy.shouldProcessUrl(bt.currentRawUrl)){const{id:Or,extractedUrl:fi,source:ml,restoredState:Ml,extras:wa}=bt,Yo=new Kr(Or,this.urlSerializer.serialize(fi),ml,Ml);this.events.next(Yo);const $a=_n(0,this.rootComponentType).snapshot;return this.currentTransition=ae={...bt,targetSnapshot:$a,urlAfterRedirects:fi,extras:{...wa,skipLocationChange:!1,replaceUrl:!1}},(0,Ce.of)(ae)}{const Or="";return this.events.next(new Ar(bt.id,this.urlSerializer.serialize(bt.extractedUrl),Or,1)),bt.resolve(null),dt.w}}),(0,Re.M)(bt=>{const In=new hi(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects),bt.targetSnapshot);this.events.next(In)}),(0,qe.T)(bt=>(this.currentTransition=ae={...bt,guards:ec(bt.targetSnapshot,bt.currentSnapshot,this.rootContexts)},ae)),function ho(D,O){return(0,st.Z)(w=>{const{targetSnapshot:N,currentSnapshot:G,guards:{canActivateChecks:ae,canDeactivateChecks:Me}}=w;return 0===Me.length&&0===ae.length?(0,Ce.of)({...w,guardsResult:!0}):function Rs(D,O,w,N){return(0,_e.H)(D).pipe((0,st.Z)(G=>function Wi(D,O,w,N,G){const ae=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,Ce.of)(!0);const Me=ae.map(Dt=>{const bt=us(O)??G,In=Os(Dt,bt);return Cn(function ce(D){return D&&xo(D.canDeactivate)}(In)?In.canDeactivate(D,O,w,N):bt.runInContext(()=>In(D,O,w,N))).pipe((0,tn.$)())});return(0,Ce.of)(Me).pipe(es())}(G.component,G.route,w,O,N)),(0,tn.$)(G=>!0!==G,!0))}(Me,N,G,D).pipe((0,st.Z)(Dt=>Dt&&function zo(D){return"boolean"==typeof D}(Dt)?function ts(D,O,w,N){return(0,_e.H)(O).pipe((0,ze.H)(G=>(0,Jt.x)(function tc(D,O){return null!==D&&O&&O(new ni(D)),(0,Ce.of)(!0)}(G.route.parent,N),function Wo(D,O){return null!==D&&O&&O(new bi(D)),(0,Ce.of)(!0)}(G.route,N),function Ea(D,O,w){const N=O[O.length-1],ae=O.slice(0,O.length-1).reverse().map(Me=>function ds(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(Me)).filter(Me=>null!==Me).map(Me=>Ie(()=>{const Dt=Me.guards.map(bt=>{const In=us(Me.node)??w,yr=Os(bt,In);return Cn(function U(D){return D&&xo(D.canActivateChild)}(yr)?yr.canActivateChild(N,D):In.runInContext(()=>yr(N,D))).pipe((0,tn.$)())});return(0,Ce.of)(Dt).pipe(es())}));return(0,Ce.of)(ae).pipe(es())}(D,G.path,w),function Ps(D,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Ce.of)(!0);const G=N.map(ae=>Ie(()=>{const Me=us(O)??w,Dt=Os(ae,Me);return Cn(function ee(D){return D&&xo(D.canActivate)}(Dt)?Dt.canActivate(O,D):Me.runInContext(()=>Dt(O,D))).pipe((0,tn.$)())}));return(0,Ce.of)(G).pipe(es())}(D,G.route,w))),(0,tn.$)(G=>!0!==G,!0))}(N,ae,D,O):(0,Ce.of)(Dt)),(0,qe.T)(Dt=>({...w,guardsResult:Dt})))})}(this.environmentInjector,bt=>this.events.next(bt)),(0,Re.M)(bt=>{if(ae.guardsResult=bt.guardsResult,gi(bt.guardsResult))throw Dn(0,bt.guardsResult);const In=new Na(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects),bt.targetSnapshot,!!bt.guardsResult);this.events.next(In)}),(0,ke.p)(bt=>!!bt.guardsResult||(this.cancelNavigationTransition(bt,"",3),!1)),zr(bt=>{if(bt.guards.canActivateChecks.length)return(0,Ce.of)(bt).pipe((0,Re.M)(In=>{const yr=new tl(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(yr)}),(0,xt.n)(In=>{let yr=!1;return(0,Ce.of)(In).pipe(function B(D,O){return(0,st.Z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:G}}=w;if(!G.length)return(0,Ce.of)(w);let ae=0;return(0,_e.H)(G).pipe((0,ze.H)(Me=>function X(D,O,w,N){const G=D.routeConfig,ae=D._resolve;return void 0!==G?.title&&!jn(G)&&(ae[$t]=G.title),function Oe(D,O,w,N){const G=function wt(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===G.length)return(0,Ce.of)({});const ae={};return(0,_e.H)(G).pipe((0,st.Z)(Me=>function Ut(D,O,w,N){const G=us(O)??N,ae=Os(D,G);return Cn(ae.resolve?ae.resolve(O,w):G.runInContext(()=>ae(O,w)))}(D[Me],O,w,N).pipe((0,tn.$)(),(0,Re.M)(Dt=>{ae[Me]=Dt}))),it(1),function rr(D){return(0,qe.T)(()=>D)}(ae),(0,Te.W)(Me=>Cs(Me)?dt.w:(0,Xe.$)(Me)))}(ae,D,O,N).pipe((0,qe.T)(Me=>(D._resolvedData=Me,D.data=Ji(D,w).resolve,G&&jn(G)&&(D.data[$t]=G.title),null)))}(Me.route,N,D,O)),(0,Re.M)(()=>ae++),it(1),(0,st.Z)(Me=>ae===G.length?(0,Ce.of)(w):dt.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Re.M)({next:()=>yr=!0,complete:()=>{yr||this.cancelNavigationTransition(In,"",2)}}))}),(0,Re.M)(In=>{const yr=new Ri(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(yr)}))}),zr(bt=>{const In=yr=>{const sr=[];yr.routeConfig?.loadComponent&&!yr.routeConfig._loadedComponent&&sr.push(this.configLoader.loadComponent(yr.routeConfig).pipe((0,Re.M)(Or=>{yr.component=Or}),(0,qe.T)(()=>{})));for(const Or of yr.children)sr.push(...In(Or));return sr};return de(In(bt.targetSnapshot.root)).pipe((0,ct.U)(),(0,je.s)(1))}),zr(()=>this.afterPreactivation()),(0,qe.T)(bt=>{const In=function Pe(D,O,w){const N=Ue(D,O._root,w?w._root:void 0);return new Hr(N,O)}(w.routeReuseStrategy,bt.targetSnapshot,bt.currentRouterState);return this.currentTransition=ae={...bt,targetRouterState:In},ae}),(0,Re.M)(()=>{this.events.next(new Qn)}),((D,O,w,N)=>(0,qe.T)(G=>(new ra(O,G.targetRouterState,G.currentRouterState,w,N).activate(D),G)))(this.rootContexts,w.routeReuseStrategy,bt=>this.events.next(bt),this.inputBindingEnabled),(0,je.s)(1),(0,Re.M)({next:bt=>{Me=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hi(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects))),w.titleStrategy?.updateTitle(bt.targetRouterState.snapshot),bt.resolve(!0)},complete:()=>{Me=!0}}),function Zt(D){return(0,ht.N)((O,w)=>{(0,He.Tg)(D).subscribe((0,Ae._)(w,()=>w.complete(),Un.l)),!w.closed&&O.subscribe(w)})}(this.transitionAbortSubject.pipe((0,Re.M)(bt=>{throw bt}))),(0,on.j)(()=>{Me||Dt||this.cancelNavigationTransition(ae,"",1),this.currentNavigation?.id===ae.id&&(this.currentNavigation=null)}),(0,Te.W)(bt=>{if(Dt=!0,Dr(bt))this.events.next(new xi(ae.id,this.urlSerializer.serialize(ae.extractedUrl),bt.message,bt.cancellationCode)),function Xn(D){return Dr(D)&&gi(D.url)}(bt)?this.events.next(new qr(bt.url)):ae.resolve(!1);else{this.events.next(new uo(ae.id,this.urlSerializer.serialize(ae.extractedUrl),bt,ae.targetSnapshot??void 0));try{ae.resolve(w.errorHandler(bt))}catch(In){ae.reject(In)}}return dt.w}))}))}cancelNavigationTransition(w,N,G){const ae=new xi(w.id,this.urlSerializer.serialize(w.extractedUrl),N,G);this.events.next(ae),w.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function hs(D){return D!==os}let $i=(()=>{class D{buildTitle(w){let N,G=w.root;for(;void 0!==G;)N=this.getResolvedTitleForRoute(G)??N,G=G.children.find(ae=>ae.outlet===Kt);return N}getResolvedTitleForRoute(w){return w.data[$t]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(ro)},providedIn:"root"})}}return D})(),ro=(()=>{class D extends $i{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(xn.hE))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Ki=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(ns)},providedIn:"root"})}}return D})();class Mo{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let ns=(()=>{class D extends Mo{static{this.\u0275fac=function(){let w;return function(G){return(w||(w=o.xGo(D)))(G||D)}}()}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Js=new o.nKC("",{providedIn:"root",factory:()=>({})});let Cd=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Tr)},providedIn:"root"})}}return D})(),Tr=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Pr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Pr||{});function Bs(D,O){D.events.pipe((0,ke.p)(w=>w instanceof Hi||w instanceof xi||w instanceof uo||w instanceof Ar),(0,qe.T)(w=>w instanceof Hi||w instanceof Ar?Pr.COMPLETE:w instanceof xi&&(0===w.code||1===w.code)?Pr.REDIRECTING:Pr.FAILED),(0,ke.p)(w=>w!==Pr.REDIRECTING),(0,je.s)(1)).subscribe(()=>{O()})}function Ui(D){throw D}function Zs(D,O,w){return O.parse("/")}const Pu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gi=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.WQX)(o.H3F),this.isNgZoneEnabled=!1,this._events=new Xt.B,this.options=(0,o.WQX)(Js,{optional:!0})||{},this.pendingTasks=(0,o.WQX)(o.$K3),this.errorHandler=this.options.errorHandler||Ui,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Zs,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.WQX)(Cd),this.routeReuseStrategy=(0,o.WQX)(Ki),this.titleStrategy=(0,o.WQX)($i),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.WQX)(si,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.WQX)(Ai),this.urlSerializer=(0,o.WQX)(Fe),this.location=(0,o.WQX)(Fn.aZ),this.componentInputBindingEnabled=!!(0,o.WQX)(Z,{optional:!0}),this.eventsSubscription=new Nt.yU,this.isNgZoneEnabled=(0,o.WQX)(o.SKi)instanceof o.SKi&&o.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ir,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_n(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(xu(N)&&this._events.next(N));if(N instanceof Kr)hs(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(N instanceof Ar)this.rawUrlTree=G.rawUrl;else if(N instanceof Ro){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(ae,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(N instanceof Qn)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(N instanceof xi)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(G);else if(N instanceof qr){const ae=this.urlHandlingStrategy.merge(N.url,G.currentRawUrl),Me={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hs(G.source)};this.scheduleNavigation(ae,os,null,Me,{resolve:G.resolve,reject:G.reject,promise:G.promise})}N instanceof uo&&this.restoreHistory(G,!0),N instanceof Hi&&(this.navigated=!0),xu(N)&&this._events.next(N)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),os,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,G){const ae={replaceUrl:!0},Me=G?.navigationId?G:null;if(G){const bt={...G};delete bt.navigationId,delete bt.\u0275routerPageId,0!==Object.keys(bt).length&&(ae.state=bt)}const Dt=this.parseUrl(w);this.scheduleNavigation(Dt,N,Me,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Ii),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:G,queryParams:ae,fragment:Me,queryParamsHandling:Dt,preserveFragment:bt}=N,In=bt?this.currentUrlTree.fragment:Me;let sr,yr=null;switch(Dt){case"merge":yr={...this.currentUrlTree.queryParams,...ae};break;case"preserve":yr=this.currentUrlTree.queryParams;break;default:yr=ae||null}null!==yr&&(yr=this.removeEmptyProps(yr));try{sr=xs(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),sr=this.currentUrlTree.root}return Rt(sr,w,yr,In??null)}navigateByUrl(w,N={skipLocationChange:!1}){const G=gi(w)?w:this.parseUrl(w),ae=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(ae,os,null,N)}navigate(w,N={skipLocationChange:!1}){return function zh(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new o.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(G){N=this.malformedUriErrorHandler(G,this.urlSerializer,w)}return N}isActive(w,N){let G;if(G=!0===N?{...Pu}:!1===N?{...cl}:N,gi(w))return ei(this.currentUrlTree,w,G);const ae=this.parseUrl(w);return ei(this.currentUrlTree,ae,G)}removeEmptyProps(w){return Object.keys(w).reduce((N,G)=>{const ae=w[G];return null!=ae&&(N[G]=ae),N},{})}scheduleNavigation(w,N,G,ae,Me){if(this.disposed)return Promise.resolve(!1);let Dt,bt,In;Me?(Dt=Me.resolve,bt=Me.reject,In=Me.promise):In=new Promise((sr,Or)=>{Dt=sr,bt=Or});const yr=this.pendingTasks.add();return Bs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(yr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ae,resolve:Dt,reject:bt,promise:In,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),In.catch(sr=>Promise.reject(sr))}setBrowserUrl(w,N){const G=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(G)||N.extras.replaceUrl){const Me={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(G,"",Me)}else{const ae={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(G,"",ae)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-this.browserPageId;0!==ae?this.location.historyGo(ae):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ae&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function xu(D){return!(D instanceof Qn||D instanceof qr)}let Oo=(()=>{class D{constructor(w,N,G,ae,Me,Dt){this.router=w,this.route=N,this.tabIndexAttribute=G,this.renderer=ae,this.el=Me,this.locationStrategy=Dt,this.href=null,this.commands=null,this.onChanges=new Xt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const bt=Me.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===bt||"area"===bt,this.isAnchorElement?this.subscription=w.events.subscribe(In=>{In instanceof Hi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,G,ae,Me){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||G||ae||Me||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const G=this.renderer,ae=this.el.nativeElement;null!==N?G.setAttribute(ae,w,N):G.removeAttribute(ae,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Gi),o.rXU(hr),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(Fn.hb))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,G){1&N&&o.bIt("click",function(Me){return G.onClick(Me.button,Me.ctrlKey,Me.shiftKey,Me.altKey,Me.metaKey)}),2&N&&o.BMQ("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.L39],skipLocationChange:["skipLocationChange","skipLocationChange",o.L39],replaceUrl:["replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},standalone:!0,features:[o.GFd,o.OA$]})}}return D})(),ws=(()=>{class D{get isActive(){return this._isActive}constructor(w,N,G,ae,Me){this.router=w,this.element=N,this.renderer=G,this.cdr=ae,this.link=Me,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.bkB,this.routerEventsSubscription=w.events.subscribe(Dt=>{Dt instanceof Hi&&this.update()})}ngAfterContentInit(){(0,Ce.of)(this.links.changes,(0,Ce.of)(null)).pipe((0,Hn.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(N=>!!N).map(N=>N.onChanges);this.linkInputChangesSubscription=(0,_e.H)(w).pipe((0,Hn.U)()).subscribe(N=>{this._isActive!==this.isLinkActive(this.router)(N)&&this.update()})}set routerLinkActive(w){const N=Array.isArray(w)?w:w.split(" ");this.classes=N.filter(G=>!!G)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(N=>{w?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const N=function Ta(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return G=>!!G.urlTree&&w.isActive(G.urlTree,N)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Gi),o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(o.gRc),o.rXU(Oo,8))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(N,G,ae){if(1&N&&o.wni(ae,Oo,5),2&N){let Me;o.mGM(Me=o.lsd())&&(G.links=Me)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[o.OA$]})}}return D})();class rc{}let Id=(()=>{class D{constructor(w,N,G,ae,Me){this.router=w,this.injector=G,this.preloadingStrategy=ae,this.loader=Me}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.p)(w=>w instanceof Hi),(0,ze.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const G=[];for(const ae of N){ae.providers&&!ae._injector&&(ae._injector=(0,o.Ol2)(ae.providers,w,`Route: ${ae.path}`));const Me=ae._injector??w,Dt=ae._loadedInjector??Me;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&G.push(this.preloadConfig(Me,ae)),(ae.children||ae._loadedRoutes)&&G.push(this.processRoutes(Dt,ae.children??ae._loadedRoutes))}return(0,_e.H)(G).pipe((0,Hn.U)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let G;G=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Ce.of)(null);const ae=G.pipe((0,st.Z)(Me=>null===Me?(0,Ce.of)(void 0):(N._loadedRoutes=Me.routes,N._loadedInjector=Me.injector,this.processRoutes(Me.injector??w,Me.routes))));if(N.loadComponent&&!N._loadedComponent){const Me=this.loader.loadComponent(N);return(0,_e.H)([ae,Me]).pipe((0,Hn.U)())}return ae})}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Gi),o.KVO(o.Ql9),o.KVO(o.uvJ),o.KVO(rc),o.KVO(Qr))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Nu=new o.nKC("");let lr=(()=>{class D{constructor(w,N,G,ae,Me={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=G,this.zone=ae,this.options=Me,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Me.scrollPositionRestoration=Me.scrollPositionRestoration||"disabled",Me.anchorScrolling=Me.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Kr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Hi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Ar&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Pi&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Pi(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){o.QTQ()}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function qo(D,O){return{\u0275kind:D,\u0275providers:O}}function ku(){const D=(0,o.WQX)(o.zZn);return O=>{const w=D.get(o.o8S);if(O!==w.components[0])return;const N=D.get(Gi),G=D.get(sc);1===D.get(Di)&&N.initialNavigation(),D.get(wr,null,o.$GK.Optional)?.setUpPreloading(),D.get(Nu,null,o.$GK.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const sc=new o.nKC("",{factory:()=>new Xt.B}),Di=new o.nKC("",{providedIn:"root",factory:()=>1}),wr=new o.nKC("");function zn(D){return qo(0,[{provide:wr,useExisting:Id},{provide:rc,useExisting:D}])}const oc=new o.nKC("ROUTER_FORROOT_GUARD"),Lu=[Fn.aZ,{provide:Fe,useClass:St},Gi,jr,{provide:hr,useFactory:function Vc(D){return D.routerState.root},deps:[Gi]},Qr,[]];function Ad(){return new o.NEm("Router",Gi)}let dl=(()=>{class D{constructor(w){}static forRoot(w,N){return{ngModule:D,providers:[Lu,[],{provide:si,multi:!0,useValue:w},{provide:oc,useFactory:Ba,deps:[[Gi,new o.Xx1,new o.kdw]]},{provide:Js,useValue:N||{}},N?.useHash?{provide:Fn.hb,useClass:Fn.fw}:{provide:Fn.hb,useClass:Fn.Sm},{provide:Nu,useFactory:()=>{const D=(0,o.WQX)(Fn.Xr),O=(0,o.WQX)(o.SKi),w=(0,o.WQX)(Js),N=(0,o.WQX)(Ai),G=(0,o.WQX)(Fe);return w.scrollOffset&&D.setOffset(w.scrollOffset),new lr(G,N,D,O,w)}},N?.preloadingStrategy?zn(N.preloadingStrategy).\u0275providers:[],{provide:o.NEm,multi:!0,useFactory:Ad},N?.initialNavigation?fl(N):[],N?.bindToComponentInputs?qo(8,[J,{provide:Z,useExisting:J}]).\u0275providers:[],[{provide:go,useFactory:ku},{provide:o.iLQ,multi:!0,useExisting:go}]]}}static forChild(w){return{ngModule:D,providers:[{provide:si,multi:!0,useValue:w}]}}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(oc,8))}}static{this.\u0275mod=o.$C({type:D})}static{this.\u0275inj=o.G2t({})}}return D})();function Ba(D){return"guarded"}function fl(D){return["disabled"===D.initialNavigation?qo(3,[{provide:o.hnV,multi:!0,useFactory:()=>{const O=(0,o.WQX)(Gi);return()=>{O.setUpLocationChangeListener()}}},{provide:Di,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?qo(2,[{provide:Di,useValue:0},{provide:o.hnV,multi:!0,deps:[o.zZn],useFactory:O=>{const w=O.get(Fn.hj,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const G=O.get(Gi),ae=O.get(sc);Bs(G,()=>{N(!0)}),O.get(Ai).afterPreactivation=()=>(N(!0),ae.closed?(0,Ce.of)(void 0):ae),G.initialNavigation()}))}}]).\u0275providers:[]]}const go=new o.nKC("")},3345:(sn,Ze,F)=>{F.d(Ze,{A:()=>de});var o=F(1076),le=F(1362),i=F(7852),ve=F(8041);class _e{constructor(mt,Ft){this._delegate=mt,this.firebase=Ft,(0,i._addComponent)(mt,new le.uA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,i.deleteApp)(this._delegate)))}_getService(mt,Ft=i._DEFAULT_ENTRY_NAME){var Jt;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(mt);return!He.isInitialized()&&"EXPLICIT"===(null===(Jt=He.getComponent())||void 0===Jt?void 0:Jt.instantiationMode)&&He.initialize(),He.getImmediate({identifier:Ft})}_removeServiceInstance(mt,Ft=i._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(Ft)}_addComponent(mt){(0,i._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,i._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new o.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function xe(){const Ke=function Ve(Ke){const mt={},Ft={__esModule:!0,initializeApp:function Ie(Nt,ht={}){const Ee=i.initializeApp(Nt,ht);if((0,o.gR)(mt,Ee.name))return mt[Ee.name];const Je=new Ke(Ee,Ft);return mt[Ee.name]=Je,Je},app:He,registerVersion:i.registerVersion,setLogLevel:i.setLogLevel,onLog:i.onLog,apps:null,SDK_VERSION:i.SDK_VERSION,INTERNAL:{registerComponent:function Xe(Nt){const ht=Nt.name,Ee=ht.replace("-compat","");if(i._registerComponent(Nt)&&"PUBLIC"===Nt.type){const Je=(Xt=He())=>{if("function"!=typeof Xt[Ee])throw ye.create("invalid-app-argument",{appName:ht});return Xt[Ee]()};void 0!==Nt.serviceProps&&(0,o.zw)(Je,Nt.serviceProps),Ft[Ee]=Je,Ke.prototype[Ee]=function(...Xt){return this._getService.bind(this,ht).apply(this,Nt.multipleInstances?Xt:[])}}return"PUBLIC"===Nt.type?Ft[Ee]:null},removeApp:function Jt(Nt){delete mt[Nt]},useAsService:function dt(Nt,ht){return"serverAuth"===ht?null:ht},modularAPIs:i}};function He(Nt){if(!(0,o.gR)(mt,Nt=Nt||i._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:Nt});return mt[Nt]}return Ft.default=Ft,Object.defineProperty(Ft,"apps",{get:function tt(){return Object.keys(mt).map(Nt=>mt[Nt])}}),He.App=Ke,Ft}(_e);return Ke.INTERNAL=Object.assign(Object.assign({},Ke.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function mt(Ft){(0,o.zw)(Ke,Ft)},createSubscribe:o.tD,ErrorFactory:o.FA,deepExtend:o.zw}),Ke}(),te=new ve.Vy("@firebase/app-compat");try{const Ke=(0,o.mS)();if(void 0!==Ke.firebase){te.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const mt=Ke.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&te.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const de=Y;!function Ne(Ke){(0,i.registerVersion)("@firebase/app-compat","0.2.43",Ke)}()},7852:(sn,Ze,F)=>{F.r(Ze),F.d(Ze,{FirebaseError:()=>ve.g,SDK_VERSION:()=>St,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>di,_addOrOverwriteComponent:()=>ys,_apps:()=>Sr,_clearComponents:()=>Si,_components:()=>Kn,_getProvider:()=>ti,_isFirebaseApp:()=>Ir,_isFirebaseServerApp:()=>Bn,_registerComponent:()=>fn,_removeServiceInstance:()=>er,_serverApps:()=>ei,deleteApp:()=>vn,getApp:()=>Se,getApps:()=>ut,initializeApp:()=>De,initializeServerApp:()=>Vt,onLog:()=>x,registerVersion:()=>$,setLogLevel:()=>L});var o=F(467),le=F(1362),i=F(8041),ve=F(1076);const _e=(Rt,at)=>at.some(kt=>Rt instanceof kt);let Ce,ye;const Y=new WeakMap,te=new WeakMap,fe=new WeakMap,Ae=new WeakMap,Ne=new WeakMap;let mt={get(Rt,at,kt){if(Rt instanceof IDBTransaction){if("done"===at)return te.get(Rt);if("objectStoreNames"===at)return Rt.objectStoreNames||fe.get(Rt);if("store"===at)return kt.objectStoreNames[1]?void 0:kt.objectStore(kt.objectStoreNames[0])}return Ie(Rt[at])},set:(Rt,at,kt)=>(Rt[at]=kt,!0),has:(Rt,at)=>Rt instanceof IDBTransaction&&("done"===at||"store"===at)||at in Rt};function He(Rt){return"function"==typeof Rt?function Jt(Rt){return Rt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Rt)?function(...at){return Rt.apply(tt(this),at),Ie(Y.get(this))}:function(...at){return Ie(Rt.apply(tt(this),at))}:function(at,...kt){const un=Rt.call(tt(this),at,...kt);return fe.set(un,at.sort?at.sort():[at]),Ie(un)}}(Rt):(Rt instanceof IDBTransaction&&function Ke(Rt){if(te.has(Rt))return;const at=new Promise((kt,un)=>{const $n=()=>{Rt.removeEventListener("complete",Ln),Rt.removeEventListener("error",fr),Rt.removeEventListener("abort",fr)},Ln=()=>{kt(),$n()},fr=()=>{un(Rt.error||new DOMException("AbortError","AbortError")),$n()};Rt.addEventListener("complete",Ln),Rt.addEventListener("error",fr),Rt.addEventListener("abort",fr)});te.set(Rt,at)}(Rt),_e(Rt,function Ve(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Rt,mt):Rt)}function Ie(Rt){if(Rt instanceof IDBRequest)return function de(Rt){const at=new Promise((kt,un)=>{const $n=()=>{Rt.removeEventListener("success",Ln),Rt.removeEventListener("error",fr)},Ln=()=>{kt(Ie(Rt.result)),$n()},fr=()=>{un(Rt.error),$n()};Rt.addEventListener("success",Ln),Rt.addEventListener("error",fr)});return at.then(kt=>{kt instanceof IDBCursor&&Y.set(kt,Rt)}).catch(()=>{}),Ne.set(at,Rt),at}(Rt);if(Ae.has(Rt))return Ae.get(Rt);const at=He(Rt);return at!==Rt&&(Ae.set(Rt,at),Ne.set(at,Rt)),at}const tt=Rt=>Ne.get(Rt),Nt=["get","getKey","getAll","getAllKeys","count"],ht=["put","add","delete","clear"],Ee=new Map;function Je(Rt,at){if(!(Rt instanceof IDBDatabase)||at in Rt||"string"!=typeof at)return;if(Ee.get(at))return Ee.get(at);const kt=at.replace(/FromIndex$/,""),un=at!==kt,$n=ht.includes(kt);if(!(kt in(un?IDBIndex:IDBObjectStore).prototype)||!$n&&!Nt.includes(kt))return;const Ln=function(){var fr=(0,o.A)(function*(Ur,...Wr){const pr=this.transaction(Ur,$n?"readwrite":"readonly");let Qi=pr.store;return un&&(Qi=Qi.index(Wr.shift())),(yield Promise.all([Qi[kt](...Wr),$n&&pr.done]))[0]});return function(Wr){return fr.apply(this,arguments)}}();return Ee.set(at,Ln),Ln}!function Ft(Rt){mt=Rt(mt)}(Rt=>({...Rt,get:(at,kt,un)=>Je(at,kt)||Rt.get(at,kt,un),has:(at,kt)=>!!Je(at,kt)||Rt.has(at,kt)}));class Xt{constructor(at){this.container=at}getPlatformInfoString(){return this.container.getProviders().map(kt=>{if(function Fn(Rt){const at=Rt.getComponent();return"VERSION"===at?.type}(kt)){const un=kt.getImmediate();return`${un.library}/${un.version}`}return null}).filter(kt=>kt).join(" ")}}const qe="@firebase/app",xt="0.10.13",je=new i.Vy("@firebase/app"),Cn="[DEFAULT]",Vr={[qe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Sr=new Map,ei=new Map,Kn=new Map;function di(Rt,at){try{Rt.container.addComponent(at)}catch(kt){je.debug(`Component ${at.name} failed to register with FirebaseApp ${Rt.name}`,kt)}}function ys(Rt,at){Rt.container.addOrOverwriteComponent(at)}function fn(Rt){const at=Rt.name;if(Kn.has(at))return je.debug(`There were multiple attempts to register component ${at}.`),!1;Kn.set(at,Rt);for(const kt of Sr.values())di(kt,Rt);for(const kt of ei.values())di(kt,Rt);return!0}function ti(Rt,at){const kt=Rt.container.getProvider("heartbeat").getImmediate({optional:!0});return kt&&kt.triggerHeartbeat(),Rt.container.getProvider(at)}function er(Rt,at,kt=Cn){ti(Rt,at).clearInstance(kt)}function Ir(Rt){return void 0!==Rt.options}function Bn(Rt){return void 0!==Rt.settings}function Si(){Kn.clear()}const It=new ve.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ue{constructor(at,kt,un){this._isDeleted=!1,this._options=Object.assign({},at),this._config=Object.assign({},kt),this._name=kt.name,this._automaticDataCollectionEnabled=kt.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new le.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this.checkDestroyed(),this._automaticDataCollectionEnabled=at}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(at){this._isDeleted=at}checkDestroyed(){if(this.isDeleted)throw It.create("app-deleted",{appName:this._name})}}class Fe extends ue{constructor(at,kt,un,$n){const Ln=void 0!==kt.automaticDataCollectionEnabled&&kt.automaticDataCollectionEnabled,fr={name:un,automaticDataCollectionEnabled:Ln};super(void 0!==at.apiKey?at:at.options,fr,$n),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ln},kt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,kt.releaseOnDeref=void 0,$(qe,xt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(at){this.isDeleted||(this._refCount++,void 0!==at&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(at,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){vn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw It.create("server-app-deleted")}}const St="10.14.1";function De(Rt,at={}){let kt=Rt;"object"!=typeof at&&(at={name:at});const un=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},at),$n=un.name;if("string"!=typeof $n||!$n)throw It.create("bad-app-name",{appName:String($n)});if(kt||(kt=(0,ve.T9)()),!kt)throw It.create("no-options");const Ln=Sr.get($n);if(Ln){if((0,ve.bD)(kt,Ln.options)&&(0,ve.bD)(un,Ln.config))return Ln;throw It.create("duplicate-app",{appName:$n})}const fr=new le.h1($n);for(const Wr of Kn.values())fr.addComponent(Wr);const Ur=new ue(kt,un,fr);return Sr.set($n,Ur),Ur}function Vt(Rt,at){if((0,ve.Bd)()&&!(0,ve.p7)())throw It.create("invalid-server-app-environment");let kt;void 0===at.automaticDataCollectionEnabled&&(at.automaticDataCollectionEnabled=!1),kt=Ir(Rt)?Rt.options:Rt;const un=Object.assign(Object.assign({},at),kt);if(void 0!==un.releaseOnDeref&&delete un.releaseOnDeref,void 0!==at.releaseOnDeref&&typeof FinalizationRegistry>"u")throw It.create("finalization-registry-not-supported",{});const Ln=""+(pr=JSON.stringify(un),[...pr].reduce((Qi,Ms)=>Math.imul(31,Qi)+Ms.charCodeAt(0)|0,0)),fr=ei.get(Ln);var pr;if(fr)return fr.incRefCount(at.releaseOnDeref),fr;const Ur=new le.h1(Ln);for(const pr of Kn.values())Ur.addComponent(pr);const Wr=new Fe(kt,at,Ln,Ur);return ei.set(Ln,Wr),Wr}function Se(Rt=Cn){const at=Sr.get(Rt);if(!at&&Rt===Cn&&(0,ve.T9)())return De();if(!at)throw It.create("no-app",{appName:Rt});return at}function ut(){return Array.from(Sr.values())}function vn(Rt){return yt.apply(this,arguments)}function yt(){return(yt=(0,o.A)(function*(Rt){let at=!1;const kt=Rt.name;Sr.has(kt)?(at=!0,Sr.delete(kt)):ei.has(kt)&&Rt.decRefCount()<=0&&(ei.delete(kt),at=!0),at&&(yield Promise.all(Rt.container.getProviders().map(un=>un.delete())),Rt.isDeleted=!0)})).apply(this,arguments)}function $(Rt,at,kt){var un;let $n=null!==(un=Vr[Rt])&&void 0!==un?un:Rt;kt&&($n+=`-${kt}`);const Ln=$n.match(/\s|\//),fr=at.match(/\s|\//);if(Ln||fr){const Ur=[`Unable to register library "${$n}" with version "${at}":`];return Ln&&Ur.push(`library name "${$n}" contains illegal characters (whitespace or "/")`),Ln&&fr&&Ur.push("and"),fr&&Ur.push(`version name "${at}" contains illegal characters (whitespace or "/")`),void je.warn(Ur.join(" "))}fn(new le.uA(`${$n}-version`,()=>({library:$n,version:at}),"VERSION"))}function x(Rt,at){if(null!==Rt&&"function"!=typeof Rt)throw It.create("invalid-log-argument");(0,i.Ey)(Rt,at)}function L(Rt){(0,i.He)(Rt)}const ie="firebase-heartbeat-database",me=1,pt="firebase-heartbeat-store";let Ot=null;function ln(){return Ot||(Ot=function Xe(Rt,at,{blocked:kt,upgrade:un,blocking:$n,terminated:Ln}={}){const fr=indexedDB.open(Rt,at),Ur=Ie(fr);return un&&fr.addEventListener("upgradeneeded",Wr=>{un(Ie(fr.result),Wr.oldVersion,Wr.newVersion,Ie(fr.transaction),Wr)}),kt&&fr.addEventListener("blocked",Wr=>kt(Wr.oldVersion,Wr.newVersion,Wr)),Ur.then(Wr=>{Ln&&Wr.addEventListener("close",()=>Ln()),$n&&Wr.addEventListener("versionchange",pr=>$n(pr.oldVersion,pr.newVersion,pr))}).catch(()=>{}),Ur}(ie,me,{upgrade:(Rt,at)=>{if(0===at)try{Rt.createObjectStore(pt)}catch(kt){console.warn(kt)}}}).catch(Rt=>{throw It.create("idb-open",{originalErrorMessage:Rt.message})})),Ot}function Rn(){return(Rn=(0,o.A)(function*(Rt){try{const kt=(yield ln()).transaction(pt),un=yield kt.objectStore(pt).get(Gr(Rt));return yield kt.done,un}catch(at){if(at instanceof ve.g)je.warn(at.message);else{const kt=It.create("idb-get",{originalErrorMessage:at?.message});je.warn(kt.message)}}})).apply(this,arguments)}function br(Rt,at){return cn.apply(this,arguments)}function cn(){return(cn=(0,o.A)(function*(Rt,at){try{const un=(yield ln()).transaction(pt,"readwrite");yield un.objectStore(pt).put(at,Gr(Rt)),yield un.done}catch(kt){if(kt instanceof ve.g)je.warn(kt.message);else{const un=It.create("idb-set",{originalErrorMessage:kt?.message});je.warn(un.message)}}})).apply(this,arguments)}function Gr(Rt){return`${Rt.name}!${Rt.options.appId}`}class Ni{constructor(at){this.container=at,this._heartbeatsCache=null;const kt=this.container.getProvider("app").getImmediate();this._storage=new gi(kt),this._heartbeatsCachePromise=this._storage.read().then(un=>(this._heartbeatsCache=un,un))}triggerHeartbeat(){var at=this;return(0,o.A)(function*(){var kt,un;try{const Ln=at.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),fr=vs();return null==(null===(kt=at._heartbeatsCache)||void 0===kt?void 0:kt.heartbeats)&&(at._heartbeatsCache=yield at._heartbeatsCachePromise,null==(null===(un=at._heartbeatsCache)||void 0===un?void 0:un.heartbeats))||at._heartbeatsCache.lastSentHeartbeatDate===fr||at._heartbeatsCache.heartbeats.some(Ur=>Ur.date===fr)?void 0:(at._heartbeatsCache.heartbeats.push({date:fr,agent:Ln}),at._heartbeatsCache.heartbeats=at._heartbeatsCache.heartbeats.filter(Ur=>{const Wr=new Date(Ur.date).valueOf();return Date.now()-Wr<=2592e6}),at._storage.overwrite(at._heartbeatsCache))}catch($n){je.warn($n)}})()}getHeartbeatsHeader(){var at=this;return(0,o.A)(function*(){var kt;try{if(null===at._heartbeatsCache&&(yield at._heartbeatsCachePromise),null==(null===(kt=at._heartbeatsCache)||void 0===kt?void 0:kt.heartbeats)||0===at._heartbeatsCache.heartbeats.length)return"";const un=vs(),{heartbeatsToSend:$n,unsentEntries:Ln}=function Es(Rt,at=1024){const kt=[];let un=Rt.slice();for(const $n of Rt){const Ln=kt.find(fr=>fr.agent===$n.agent);if(Ln){if(Ln.dates.push($n.date),ar(kt)>at){Ln.dates.pop();break}}else if(kt.push({agent:$n.agent,dates:[$n.date]}),ar(kt)>at){kt.pop();break}un=un.slice(1)}return{heartbeatsToSend:kt,unsentEntries:un}}(at._heartbeatsCache.heartbeats),fr=(0,ve.Uj)(JSON.stringify({version:2,heartbeats:$n}));return at._heartbeatsCache.lastSentHeartbeatDate=un,Ln.length>0?(at._heartbeatsCache.heartbeats=Ln,yield at._storage.overwrite(at._heartbeatsCache)):(at._heartbeatsCache.heartbeats=[],at._storage.overwrite(at._heartbeatsCache)),fr}catch(un){return je.warn(un),""}})()}}function vs(){return(new Date).toISOString().substring(0,10)}class gi{constructor(at){this.app=at,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.A)(function*(){return!!(0,ve.zW)()&&(0,ve.eX)().then(()=>!0).catch(()=>!1)})()}read(){var at=this;return(0,o.A)(function*(){if(yield at._canUseIndexedDBPromise){const un=yield function pn(Rt){return Rn.apply(this,arguments)}(at.app);return un?.heartbeats?un:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(at){var kt=this;return(0,o.A)(function*(){var un;if(yield kt._canUseIndexedDBPromise){const Ln=yield kt.read();return br(kt.app,{lastSentHeartbeatDate:null!==(un=at.lastSentHeartbeatDate)&&void 0!==un?un:Ln.lastSentHeartbeatDate,heartbeats:at.heartbeats})}})()}add(at){var kt=this;return(0,o.A)(function*(){var un;if(yield kt._canUseIndexedDBPromise){const Ln=yield kt.read();return br(kt.app,{lastSentHeartbeatDate:null!==(un=at.lastSentHeartbeatDate)&&void 0!==un?un:Ln.lastSentHeartbeatDate,heartbeats:[...Ln.heartbeats,...at.heartbeats]})}})()}}function ar(Rt){return(0,ve.Uj)(JSON.stringify({version:2,heartbeats:Rt})).length}!function xs(Rt){fn(new le.uA("platform-logger",at=>new Xt(at),"PRIVATE")),fn(new le.uA("heartbeat",at=>new Ni(at),"PRIVATE")),$(qe,xt,Rt),$(qe,xt,"esm2017"),$("fire-js","")}("")},1362:(sn,Ze,F)=>{F.d(Ze,{h1:()=>Ve,uA:()=>i});var o=F(467),le=F(1076);class i{constructor(Y,te,fe){this.name=Y,this.instanceFactory=te,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const ve="[DEFAULT]";class _e{constructor(Y,te){this.name=Y,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const te=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(te)){const fe=new le.cY;if(this.instancesDeferred.set(te,fe),this.isInitialized(te)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:te});Ae&&fe.resolve(Ae)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(Y){var te;const fe=this.normalizeInstanceIdentifier(Y?.identifier),Ae=null!==(te=Y?.optional)&&void 0!==te&&te;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(Ne){if(Ae)return null;throw Ne}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function ye(xe){return"EAGER"===xe.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[te,fe]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(te);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ae});fe.resolve(Ne)}catch{}}}}clearInstance(Y=ve){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,o.A)(function*(){const te=Array.from(Y.instances.values());yield Promise.all([...te.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...te.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=ve){return this.instances.has(Y)}getOptions(Y=ve){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:te={}}=Y,fe=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:fe,options:te});for(const[Ne,de]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(Ne)&&de.resolve(Ae);return Ae}onInit(Y,te){var fe;const Ae=this.normalizeInstanceIdentifier(te),Ne=null!==(fe=this.onInitCallbacks.get(Ae))&&void 0!==fe?fe:new Set;Ne.add(Y),this.onInitCallbacks.set(Ae,Ne);const de=this.instances.get(Ae);return de&&Y(de,Ae),()=>{Ne.delete(Y)}}invokeOnInitCallbacks(Y,te){const fe=this.onInitCallbacks.get(te);if(fe)for(const Ae of fe)try{Ae(Y,te)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:te={}}){let fe=this.instances.get(Y);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=Y,xe===ve?void 0:xe),options:te}),this.instances.set(Y,fe),this.instancesOptions.set(Y,te),this.invokeOnInitCallbacks(fe,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,fe)}catch{}var xe;return fe||null}normalizeInstanceIdentifier(Y=ve){return this.component?this.component.multipleInstances?Y:ve:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const te=this.getProvider(Y.name);if(te.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);te.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const te=new _e(Y,this);return this.providers.set(Y,te),te}getProviders(){return Array.from(this.providers.values())}}},8041:(sn,Ze,F)=>{F.d(Ze,{$b:()=>le,Ey:()=>xe,He:()=>Ve,Vy:()=>ye});const o=[];var le=function(Y){return Y[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y}(le||{});const i={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},ve=le.INFO,_e={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},Ce=(Y,te,...fe)=>{if(te<Y.logLevel)return;const Ae=(new Date).toISOString(),Ne=_e[te];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[Ne](`[${Ae}]  ${Y.name}:`,...fe)};class ye{constructor(te){this.name=te,this._logLevel=ve,this._logHandler=Ce,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in le))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?i[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...te),this._logHandler(this,le.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...te),this._logHandler(this,le.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,le.INFO,...te),this._logHandler(this,le.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,le.WARN,...te),this._logHandler(this,le.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...te),this._logHandler(this,le.ERROR,...te)}}function Ve(Y){o.forEach(te=>{te.setLogLevel(Y)})}function xe(Y,te){for(const fe of o){let Ae=null;te&&te.level&&(Ae=i[te.level]),fe.userLogHandler=null===Y?null:(Ne,de,...Ke)=>{const mt=Ke.map(Ft=>{if(null==Ft)return null;if("string"==typeof Ft)return Ft;if("number"==typeof Ft||"boolean"==typeof Ft)return Ft.toString();if(Ft instanceof Error)return Ft.message;try{return JSON.stringify(Ft)}catch{return null}}).filter(Ft=>Ft).join(" ");de>=(Ae??Ne.logLevel)&&Y({level:le[de].toLowerCase(),message:mt,args:Ke,type:Ne.name})}}}},2214:(sn,Ze,F)=>{F.d(Ze,{Dk:()=>o.getApps,KO:()=>o.registerVersion,Sx:()=>o.getApp,Wp:()=>o.initializeApp});var o=F(7852);(0,o.registerVersion)("firebase","10.14.1","app")},7935:(sn,Ze,F)=>{F.d(Ze,{A:()=>o.A});var o=F(3345);o.A.registerVersion("firebase","10.14.1","app-compat")},2438:(sn,Ze,F)=>{var o=F(467),le=F(3345),i=F(5504),ve=F(1076),ye=(F(7852),F(8041),F(1362));function Ve(){return window}function te(){return te=(0,o.A)(function*($,x,L){var ie;const{BuildInfo:me}=Ve();(0,i.au)(x.sessionId,"AuthEvent did not contain a session ID");const pt=yield function Ft($){return Jt.apply(this,arguments)}(x.sessionId),Ot={};return(0,i.av)()?Ot.ibi=me.packageName:(0,i.aw)()?Ot.apn=me.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),me.displayName&&(Ot.appDisplayName=me.displayName),Ot.sessionId=pt,(0,i.ay)($,L,x.type,void 0,null!==(ie=x.eventId)&&void 0!==ie?ie:void 0,Ot)}),te.apply(this,arguments)}function Ae(){return(Ae=(0,o.A)(function*($){const{BuildInfo:x}=Ve(),L={};(0,i.av)()?L.iosBundleId=x.packageName:(0,i.aw)()?L.androidPackageName=x.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),yield(0,i.az)($,L)})).apply(this,arguments)}function Ke(){return(Ke=(0,o.A)(function*($,x,L){const{cordova:ie}=Ve();let me=()=>{};try{yield new Promise((pt,Ot)=>{let ln=null;function pn(){var cn;pt();const Gr=null===(cn=ie.plugins.browsertab)||void 0===cn?void 0:cn.close;"function"==typeof Gr&&Gr(),"function"==typeof L?.close&&L.close()}function Rn(){ln||(ln=window.setTimeout(()=>{Ot((0,i.aB)($,"redirect-cancelled-by-user"))},2e3))}function br(){"visible"===document?.visibilityState&&Rn()}x.addPassiveListener(pn),document.addEventListener("resume",Rn,!1),(0,i.aw)()&&document.addEventListener("visibilitychange",br,!1),me=()=>{x.removePassiveListener(pn),document.removeEventListener("resume",Rn,!1),document.removeEventListener("visibilitychange",br,!1),ln&&window.clearTimeout(ln)}})}finally{me()}})).apply(this,arguments)}function Jt(){return(Jt=(0,o.A)(function*($){const x=function He($){if((0,i.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const x=new ArrayBuffer($.length),L=new Uint8Array(x);for(let ie=0;ie<$.length;ie++)L[ie]=$.charCodeAt(ie);return L}($),L=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(L)).map(me=>me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class tt extends i.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInitialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInitialized(),this.passiveListeners.forEach(L=>L(x)),super.onEvent(x)}initialized(){var x=this;return(0,o.A)(function*(){yield x.initPromise})()}}function Nt($){return ht.apply(this,arguments)}function ht(){return(ht=(0,o.A)(function*($){const x=yield Xt()._get(Fn($));return x&&(yield Xt()._remove(Fn($))),x})).apply(this,arguments)}function Je(){const $=[];for(let L=0;L<20;L++){const ie=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ie))}return $.join("")}function Xt(){return(0,i.aE)(i.b)}function Fn($){return(0,i.aF)("authEvent",$.config.apiKey,$.name)}function je($){if(!$?.includes("?"))return{};const[x,...L]=$.split("?");return(0,ve.I9)(L.join("?"))}const st=class ke{constructor(){this._redirectPersistence=i.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(x){var L=this;return(0,o.A)(function*(){const ie=x._key();let me=L.eventManagers.get(ie);return me||(me=new tt(x),L.eventManagers.set(ie,me),L.attachCallbackListeners(x,me)),me})()}_openPopup(x){(0,i.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,L,ie,me){var pt=this;return(0,o.A)(function*(){!function mt($){var x,L,ie,me,pt,Ot,ln,pn,Rn,br;const cn=Ve();(0,i.aC)("function"==typeof(null===(x=cn?.universalLinks)||void 0===x?void 0:x.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,i.aC)(typeof(null===(L=cn?.BuildInfo)||void 0===L?void 0:L.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,i.aC)("function"==typeof(null===(pt=null===(me=null===(ie=cn?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===me?void 0:me.browsertab)||void 0===pt?void 0:pt.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(pn=null===(ln=null===(Ot=cn?.cordova)||void 0===Ot?void 0:Ot.plugins)||void 0===ln?void 0:ln.browsertab)||void 0===pn?void 0:pn.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(br=null===(Rn=cn?.cordova)||void 0===Rn?void 0:Rn.InAppBrowser)||void 0===br?void 0:br.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const Ot=yield pt._initialize(x);yield Ot.initialized(),Ot.resetRedirect(),(0,i.aI)(),yield pt._originValidation(x);const ln=function Xe($,x,L=null){return{type:x,eventId:L,urlResponse:null,sessionId:Je(),postBody:null,tenantId:$.tenantId,error:(0,i.aB)($,"no-auth-event")}}(x,ie,me);yield function dt($,x){return Xt()._set(Fn($),x)}(x,ln);const pn=yield function Y($,x,L){return te.apply(this,arguments)}(x,ln,L),Rn=yield function Ne($){const{cordova:x}=Ve();return new Promise(L=>{x.plugins.browsertab.isAvailable(ie=>{let me=null;ie?x.plugins.browsertab.openUrl($):me=x.InAppBrowser.open($,(0,i.aA)()?"_blank":"_system","location=yes"),L(me)})})}(pn);return function de($,x,L){return Ke.apply(this,arguments)}(x,Ot,Rn)})()}_isIframeWebStorageSupported(x,L){throw new Error("Method not implemented.")}_originValidation(x){const L=x._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function fe($){return Ae.apply(this,arguments)}(x)),this.originValidationPromises[L]}attachCallbackListeners(x,L){const{universalLinks:ie,handleOpenURL:me,BuildInfo:pt}=Ve(),Ot=setTimeout((0,o.A)(function*(){yield Nt(x),L.onEvent(tn())}),500),ln=function(){var br=(0,o.A)(function*(cn){clearTimeout(Ot);const Gr=yield Nt(x);let dr=null;Gr&&cn?.url&&(dr=function Ee($,x){var L,ie;const me=function xt($){const x=je($),L=x.link?decodeURIComponent(x.link):void 0,ie=je(L).link,me=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return je(me).link||me||ie||L||$}(x);if(me.includes("/__/auth/callback")){const pt=je(me),Ot=pt.firebaseError?function qe($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(pt.firebaseError)):null,ln=null===(ie=null===(L=Ot?.code)||void 0===L?void 0:L.split("auth/"))||void 0===ie?void 0:ie[1],pn=ln?(0,i.aB)(ln):null;return pn?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:pn,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:me,postBody:null}}return null}(Gr,cn.url)),L.onEvent(dr||tn())});return function(Gr){return br.apply(this,arguments)}}();typeof ie<"u"&&"function"==typeof ie.subscribe&&ie.subscribe(null,ln);const pn=me,Rn=`${pt.packageName.toLowerCase()}://`;Ve().handleOpenURL=function(){var br=(0,o.A)(function*(cn){if(cn.toLowerCase().startsWith(Rn)&&ln({url:cn}),"function"==typeof pn)try{pn(cn)}catch(Gr){console.error(Gr)}});return function(cn){return br.apply(this,arguments)}}()}};function tn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,i.aB)("no-auth-event")}}function ct(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function jt($=(0,ve.ZQ)()){return!("file:"!==ct()&&"ionic:"!==ct()&&"capacitor:"!==ct()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zt(){try{const $=self.localStorage,x=i.aN();if($)return $.setItem(x,"1"),$.removeItem(x),!function Un($=(0,ve.ZQ)()){return function rr(){return(0,ve.lT)()&&11===document?.documentMode}()||function on($=(0,ve.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,ve.zW)()}catch{return Hn()&&(0,ve.zW)()}return!1}function Hn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xn(){return(function it(){return"http:"===ct()||"https:"===ct()}()||(0,ve.sr)()||jt())&&!function An(){return(0,ve.lV)()||(0,ve.Ll)()}()&&Zt()&&!Hn()}function Kt(){return jt()&&typeof document<"u"}function Er(){return(Er=(0,o.A)(function*(){return!!Kt()&&new Promise($=>{const x=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),$(!0)})})})).apply(this,arguments)}const xr={LOCAL:"local",NONE:"none",SESSION:"session"},Jn=i.aC,zt="persistence";function Wn($){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,o.A)(function*($){yield $._initializationPromise;const x=Sr(),L=i.aF(zt,$.config.apiKey,$.name);x&&x.setItem(L,$._getPersistence())})).apply(this,arguments)}function Sr(){var $;try{return(null===($=function an(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const ei=i.aC;class Kn{constructor(){this.browserResolver=i.aE(i.k),this.cordovaResolver=i.aE(st),this.underlyingResolver=null,this._redirectPersistence=i.a,this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(x){var L=this;return(0,o.A)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,L,ie,me){var pt=this;return(0,o.A)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openPopup(x,L,ie,me)})()}_openRedirect(x,L,ie,me){var pt=this;return(0,o.A)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openRedirect(x,L,ie,me)})()}_isIframeWebStorageSupported(x,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,L)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return Kt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ei(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,o.A)(function*(){if(x.underlyingResolver)return;const L=yield function $t(){return Er.apply(this,arguments)}();x.underlyingResolver=L?x.cordovaResolver:x.browserResolver})()}}function di($){return $.unwrap()}function fn($){return er($)}function er($){const{_tokenResponse:x}=$ instanceof ve.g?$.customData:$;if(!x)return null;if(!($ instanceof ve.g)&&"temporaryProof"in x&&"phoneNumber"in x)return i.P.credentialFromResult($);const L=x.providerId;if(!L||L===i.p.PASSWORD)return null;let ie;switch(L){case i.p.GOOGLE:ie=i.X;break;case i.p.FACEBOOK:ie=i.W;break;case i.p.GITHUB:ie=i.Y;break;case i.p.TWITTER:ie=i.$;break;default:const{oauthIdToken:me,oauthAccessToken:pt,oauthTokenSecret:Ot,pendingToken:ln,nonce:pn}=x;return pt||Ot||me||ln?ln?L.startsWith("saml.")?i.aQ._create(L,ln):i.N._fromParams({providerId:L,signInMethod:L,pendingToken:ln,idToken:me,accessToken:pt}):new i.Z(L).credential({idToken:me,accessToken:pt,rawNonce:pn}):null}return $ instanceof ve.g?ie.credentialFromError($):ie.credentialFromResult($)}function Ir($,x){return x.catch(L=>{throw L instanceof ve.g&&function ti($,x){var L;const ie=null===(L=x.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new ot($,i.as($,x));else if(ie){const me=er(x),pt=x;me&&(pt.credential=me,pt.tenantId=ie.tenantId||void 0,pt.email=ie.email||void 0,pt.phoneNumber=ie.phoneNumber||void 0)}}($,L),L}).then(L=>{const me=L.user;return{operationType:L.operationType,credential:fn(L),additionalUserInfo:i.aq(L),user:It.getOrCreate(me)}})}function Bn($,x){return Si.apply(this,arguments)}function Si(){return(Si=(0,o.A)(function*($,x){const L=yield x;return{verificationId:L.verificationId,confirm:ie=>Ir($,L.confirm(ie))}})).apply(this,arguments)}class ot{constructor(x,L){this.resolver=L,this.auth=function ys($){return $.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return Ir(di(this.auth),this.resolver.resolveSignIn(x))}}class It{constructor(x){this._delegate=x,this.multiFactor=i.at(x)}static getOrCreate(x){return It.USER_MAP.has(x)||It.USER_MAP.set(x,new It(x)),It.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var L=this;return(0,o.A)(function*(){return Ir(L.auth,i.a2(L._delegate,x))})()}linkWithPhoneNumber(x,L){var ie=this;return(0,o.A)(function*(){return Bn(ie.auth,i.l(ie._delegate,x,L))})()}linkWithPopup(x){var L=this;return(0,o.A)(function*(){return Ir(L.auth,i.d(L._delegate,x,Kn))})()}linkWithRedirect(x){var L=this;return(0,o.A)(function*(){return yield Wn(i.aJ(L.auth)),i.g(L._delegate,x,Kn)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var L=this;return(0,o.A)(function*(){return Ir(L.auth,i.a3(L._delegate,x))})()}reauthenticateWithPhoneNumber(x,L){return Bn(this.auth,i.r(this._delegate,x,L))}reauthenticateWithPopup(x){return Ir(this.auth,i.e(this._delegate,x,Kn))}reauthenticateWithRedirect(x){var L=this;return(0,o.A)(function*(){return yield Wn(i.aJ(L.auth)),i.h(L._delegate,x,Kn)})()}sendEmailVerification(x){return i.ag(this._delegate,x)}unlink(x){var L=this;return(0,o.A)(function*(){return yield i.ap(L._delegate,x),L})()}updateEmail(x){return i.al(this._delegate,x)}updatePassword(x){return i.am(this._delegate,x)}updatePhoneNumber(x){return i.u(this._delegate,x)}updateProfile(x){return i.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,L){return i.ah(this._delegate,x,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}It.USER_MAP=new WeakMap;const ue=i.aC;let Fe=(()=>{class ${constructor(L,ie){if(this.app=L,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:me}=L.options;ue(me,"invalid-api-key",{appName:L.name}),ue(me,"invalid-api-key",{appName:L.name});const pt=typeof window<"u"?Kn:void 0;this._delegate=ie.initialize({options:{persistence:De(me,L.name),popupRedirectResolver:pt}}),this._delegate._updateErrorMap(i.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?It.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,ie){i.K(this._delegate,L,ie)}applyActionCode(L){return i.a7(this._delegate,L)}checkActionCode(L){return i.a8(this._delegate,L)}confirmPasswordReset(L,ie){return i.a6(this._delegate,L,ie)}createUserWithEmailAndPassword(L,ie){var me=this;return(0,o.A)(function*(){return Ir(me._delegate,i.aa(me._delegate,L,ie))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return i.af(this._delegate,L)}isSignInWithEmailLink(L){return i.ad(this._delegate,L)}getRedirectResult(){var L=this;return(0,o.A)(function*(){ue(xn(),L._delegate,"operation-not-supported-in-this-environment");const ie=yield i.j(L._delegate,Kn);return ie?Ir(L._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function ze($,x){(0,i.aJ)($)._logFramework(x)}(this._delegate,L)}onAuthStateChanged(L,ie,me){const{next:pt,error:Ot,complete:ln}=St(L,ie,me);return this._delegate.onAuthStateChanged(pt,Ot,ln)}onIdTokenChanged(L,ie,me){const{next:pt,error:Ot,complete:ln}=St(L,ie,me);return this._delegate.onIdTokenChanged(pt,Ot,ln)}sendSignInLinkToEmail(L,ie){return i.ac(this._delegate,L,ie)}sendPasswordResetEmail(L,ie){return i.a5(this._delegate,L,ie||void 0)}setPersistence(L){var ie=this;return(0,o.A)(function*(){let me;switch(function wn($,x){Jn(Object.values(xr).includes(x),$,"invalid-persistence-type"),(0,ve.lV)()?Jn(x!==xr.SESSION,$,"unsupported-persistence-type"):(0,ve.Ll)()?Jn(x===xr.NONE,$,"unsupported-persistence-type"):Hn()?Jn(x===xr.NONE||x===xr.LOCAL&&(0,ve.zW)(),$,"unsupported-persistence-type"):Jn(x===xr.NONE||Zt(),$,"unsupported-persistence-type")}(ie._delegate,L),L){case xr.SESSION:me=i.a;break;case xr.LOCAL:me=(yield i.aE(i.i)._isAvailable())?i.i:i.b;break;case xr.NONE:me=i.U;break;default:return i.ax("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(me)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return Ir(this._delegate,i.a0(this._delegate))}signInWithCredential(L){return Ir(this._delegate,i.a1(this._delegate,L))}signInWithCustomToken(L){return Ir(this._delegate,i.a4(this._delegate,L))}signInWithEmailAndPassword(L,ie){return Ir(this._delegate,i.ab(this._delegate,L,ie))}signInWithEmailLink(L,ie){return Ir(this._delegate,i.ae(this._delegate,L,ie))}signInWithPhoneNumber(L,ie){return Bn(this._delegate,i.s(this._delegate,L,ie))}signInWithPopup(L){var ie=this;return(0,o.A)(function*(){return ue(xn(),ie._delegate,"operation-not-supported-in-this-environment"),Ir(ie._delegate,i.c(ie._delegate,L,Kn))})()}signInWithRedirect(L){var ie=this;return(0,o.A)(function*(){return ue(xn(),ie._delegate,"operation-not-supported-in-this-environment"),yield Wn(ie._delegate),i.f(ie._delegate,L,Kn)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return i.a9(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=xr,$})();function St($,x,L){let ie=$;"function"!=typeof $&&({next:ie,error:x,complete:L}=$);const me=ie;return{next:Ot=>me(Ot&&It.getOrCreate(Ot)),error:x,complete:L}}function De($,x){const L=function Vr($,x){const L=Sr();if(!L)return[];const ie=i.aF(zt,$,x);switch(L.getItem(ie)){case xr.NONE:return[i.U];case xr.LOCAL:return[i.i,i.a];case xr.SESSION:return[i.a];default:return[]}}($,x);if(typeof self<"u"&&!L.includes(i.i)&&L.push(i.i),typeof window<"u")for(const ie of[i.b,i.a])L.includes(ie)||L.push(ie);return L.includes(i.U)||L.push(i.U),L}class Vt{constructor(){this.providerId="phone",this._delegate=new i.P(di(le.A.auth()))}static credential(x,L){return i.P.credential(x,L)}verifyPhoneNumber(x,L){return this._delegate.verifyPhoneNumber(x,L)}unwrap(){return this._delegate}}Vt.PHONE_SIGN_IN_METHOD=i.P.PHONE_SIGN_IN_METHOD,Vt.PROVIDER_ID=i.P.PROVIDER_ID;const Se=i.aC;class ut{constructor(x,L,ie=le.A.app()){var me;Se(null===(me=ie.options)||void 0===me?void 0:me.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new i.R(ie.auth(),x,L),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function yt($){$.INTERNAL.registerComponent(new ye.uA("auth-compat",x=>{const L=x.getProvider("app-compat").getImmediate(),ie=x.getProvider("auth");return new Fe(L,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:i.A.EMAIL_SIGNIN,PASSWORD_RESET:i.A.PASSWORD_RESET,RECOVER_EMAIL:i.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:i.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:i.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:i.A.VERIFY_EMAIL}},EmailAuthProvider:i.V,FacebookAuthProvider:i.W,GithubAuthProvider:i.Y,GoogleAuthProvider:i.X,OAuthProvider:i.Z,SAMLAuthProvider:i._,PhoneAuthProvider:Vt,PhoneMultiFactorGenerator:i.m,RecaptchaVerifier:ut,TwitterAuthProvider:i.$,Auth:Fe,AuthCredential:i.L,Error:ve.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.14")}(le.A)},467:(sn,Ze,F)=>{function o(i,ve,_e,Ce,ye,Ve,xe){try{var Y=i[Ve](xe),te=Y.value}catch(fe){return void _e(fe)}Y.done?ve(te):Promise.resolve(te).then(Ce,ye)}function le(i){return function(){var ve=this,_e=arguments;return new Promise(function(Ce,ye){var Ve=i.apply(ve,_e);function xe(te){o(Ve,Ce,ye,xe,Y,"next",te)}function Y(te){o(Ve,Ce,ye,xe,Y,"throw",te)}xe(void 0)})}}F.d(Ze,{A:()=>le})},1635:(sn,Ze,F)=>{function ve(ze,Re){var Te={};for(var Le in ze)Object.prototype.hasOwnProperty.call(ze,Le)&&Re.indexOf(Le)<0&&(Te[Le]=ze[Le]);if(null!=ze&&"function"==typeof Object.getOwnPropertySymbols){var ct=0;for(Le=Object.getOwnPropertySymbols(ze);ct<Le.length;ct++)Re.indexOf(Le[ct])<0&&Object.prototype.propertyIsEnumerable.call(ze,Le[ct])&&(Te[Le[ct]]=ze[Le[ct]])}return Te}function fe(ze,Re,Te,Le){return new(Te||(Te=Promise))(function(it,jt){function An(Un){try{on(Le.next(Un))}catch(Zt){jt(Zt)}}function rr(Un){try{on(Le.throw(Un))}catch(Zt){jt(Zt)}}function on(Un){Un.done?it(Un.value):function ct(it){return it instanceof Te?it:new Te(function(jt){jt(it)})}(Un.value).then(An,rr)}on((Le=Le.apply(ze,Re||[])).next())})}function Ie(ze){return this instanceof Ie?(this.v=ze,this):new Ie(ze)}function tt(ze,Re,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,Le=Te.apply(ze,Re||[]),it=[];return ct=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),An("next"),An("throw"),An("return",function jt(xn){return function(Kt){return Promise.resolve(Kt).then(xn,Zt)}}),ct[Symbol.asyncIterator]=function(){return this},ct;function An(xn,Kt){Le[xn]&&(ct[xn]=function($t){return new Promise(function(Er,an){it.push([xn,$t,Er,an])>1||rr(xn,$t)})},Kt&&(ct[xn]=Kt(ct[xn])))}function rr(xn,Kt){try{!function on(xn){xn.value instanceof Ie?Promise.resolve(xn.value.v).then(Un,Zt):Hn(it[0][2],xn)}(Le[xn](Kt))}catch($t){Hn(it[0][3],$t)}}function Un(xn){rr("next",xn)}function Zt(xn){rr("throw",xn)}function Hn(xn,Kt){xn(Kt),it.shift(),it.length&&rr(it[0][0],it[0][1])}}function dt(ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,Re=ze[Symbol.asyncIterator];return Re?Re.call(ze):(ze=function Ke(ze){var Re="function"==typeof Symbol&&Symbol.iterator,Te=Re&&ze[Re],Le=0;if(Te)return Te.call(ze);if(ze&&"number"==typeof ze.length)return{next:function(){return ze&&Le>=ze.length&&(ze=void 0),{value:ze&&ze[Le++],done:!ze}}};throw new TypeError(Re?"Object is not iterable.":"Symbol.iterator is not defined.")}(ze),Te={},Le("next"),Le("throw"),Le("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function Le(it){Te[it]=ze[it]&&function(jt){return new Promise(function(An,rr){!function ct(it,jt,An,rr){Promise.resolve(rr).then(function(on){it({value:on,done:An})},jt)}(An,rr,(jt=ze[it](jt)).done,jt.value)})}}}F.d(Ze,{AQ:()=>tt,N3:()=>Ie,Tt:()=>ve,sH:()=>fe,xN:()=>dt}),"function"==typeof SuppressedError&&SuppressedError}},sn=>{sn(sn.s=409)}]);